(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{556:(Ms,we,k)=>{"use strict";function c(n){return"function"==typeof n}function B(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const T=B(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function M(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class S{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(c(r))try{r()}catch(o){t=o instanceof T?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{y(o)}catch(l){t=t??[],l instanceof T?t=[...t,...l.errors]:t.push(l)}}if(t)throw new T(t)}}add(t){var e;if(t&&t!==this)if(this.closed)y(t);else{if(t instanceof S){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&M(e,t)}remove(t){const{_finalizers:e}=this;e&&M(e,t),t instanceof S&&t._removeParent(this)}}S.EMPTY=(()=>{const n=new S;return n.closed=!0,n})();const b=S.EMPTY;function h(n){return n instanceof S||n&&"closed"in n&&c(n.remove)&&c(n.add)&&c(n.unsubscribe)}function y(n){c(n)?n():n.unsubscribe()}const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},F={setTimeout(n,t,...e){const{delegate:r}=F;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=F;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function P(n){F.setTimeout(()=>{const{onUnhandledError:t}=E;if(!t)throw n;t(n)})}function x(){}const _=v("C",void 0,void 0);function v(n,t,e){return{kind:n,value:t,error:e}}let d=null;function L(n){if(E.useDeprecatedSynchronousErrorHandling){const t=!d;if(t&&(d={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=d;if(d=null,e)throw r}}else n()}class I extends S{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,h(t)&&t.add(this)):this.destination=ue}static create(t,e,r){return new w(t,e,r)}next(t){this.isStopped?Q(function f(n){return v("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Q(function m(n){return v("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Q(_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const R=Function.prototype.bind;function A(n,t){return R.call(n,t)}class p{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){W(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){W(r)}else W(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){W(e)}}}class w extends I{constructor(t,e,r){let i;if(super(),c(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&E.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&A(t.next,o),error:t.error&&A(t.error,o),complete:t.complete&&A(t.complete,o)}):i=t}this.destination=new p(i)}}function W(n){E.useDeprecatedSynchronousErrorHandling?function C(n){E.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=n)}(n):P(n)}function Q(n,t){const{onStoppedNotification:e}=E;e&&F.setTimeout(()=>e(n,t))}const ue={closed:!0,next:x,error:function $(n){throw n},complete:x},ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}function ie(n){return 0===n.length?ne:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let q=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function Ee(n){return n&&n instanceof I||function de(n){return n&&c(n.next)&&c(n.error)&&c(n.complete)}(n)&&h(n)}(e)?e:new w(e,r,i);return L(()=>{const{operator:l,source:u}=this;o.add(l?l.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=le(r))((i,o)=>{const l=new w({next:u=>{try{e(u)}catch(g){o(g),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ce](){return this}pipe(...e){return ie(e)(this)}toPromise(e){return new(e=le(e))((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return n.create=t=>new n(t),n})();function le(n){var t;return null!==(t=n??E.Promise)&&void 0!==t?t:Promise}const Z=B(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pe=(()=>{class n extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new re(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Z}next(e){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?b:(this.currentObservers=null,o.push(e),new S(()=>{this.currentObservers=null,M(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new q;return e.source=this,e}}return n.create=(t,e)=>new re(t,e),n})();class re extends pe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:b}}function _e(n){return c(n?.lift)}function ge(n){return t=>{if(_e(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,t,e,r,i){return new ve(n,t,e,r,i)}class ve extends I{constructor(t,e,r,i,o,l){super(t),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=e?function(u){try{e(u)}catch(g){t.error(g)}}:super._next,this._error=i?function(u){try{i(u)}catch(g){t.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function X(n,t){return ge((e,r)=>{let i=0;e.subscribe(fe(r,o=>{r.next(n.call(t,o,i++))}))})}function J(n){return this instanceof J?(this.v=n,this):new J(n)}function he(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(Se){r[Se]&&(i[Se]=function(Ne){return new Promise(function(ke,Ge){o.push([Se,Ne,ke,Ge])>1||u(Se,Ne)})})}function u(Se,Ne){try{!function g(Se){Se.value instanceof J?Promise.resolve(Se.value.v).then(N,Y):ae(o[0][2],Se)}(r[Se](Ne))}catch(ke){ae(o[0][3],ke)}}function N(Se){u("next",Se)}function Y(Se){u("throw",Se)}function ae(Se,Ne){Se(Ne),o.shift(),o.length&&u(o[0][0],o[0][1])}}function be(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function me(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(l){return new Promise(function(u,g){!function i(o,l,u,g){Promise.resolve(g).then(function(N){o({value:N,done:u})},l)}(u,g,(l=n[o](l)).done,l.value)})}}}function Ce(n,t,e,r){if("a"===e&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?r:"a"===e?r.call(n):r?r.value:t.get(n)}function Qe(n,t,e,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(n,e):i?i.value=e:t.set(n,e),e}const Et=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Lt(n){return c(n?.then)}function Bt(n){return c(n[ce])}function kt(n){return Symbol.asyncIterator&&c(n?.[Symbol.asyncIterator])}function en(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Qt=function an(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ut(n){return c(n?.[Qt])}function Tt(n){return he(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield J(e.read());if(i)return yield J(void 0);yield yield J(r)}}finally{e.releaseLock()}})}function Le(n){return c(n?.getReader)}function Me(n){if(n instanceof q)return n;if(null!=n){if(Bt(n))return function Ue(n){return new q(t=>{const e=n[ce]();if(c(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Et(n))return function Ye(n){return new q(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Lt(n))return function st(n){return new q(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,P)})}(n);if(kt(n))return lt(n);if(ut(n))return function it(n){return new q(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Le(n))return function vt(n){return lt(Tt(n))}(n)}throw en(n)}function lt(n){return new q(t=>{(function ht(n,t){var e,r,i,o;return function j(n,t,e,r){return new(e||(e=Promise))(function(o,l){function u(Y){try{N(r.next(Y))}catch(ae){l(ae)}}function g(Y){try{N(r.throw(Y))}catch(ae){l(ae)}}function N(Y){Y.done?o(Y.value):function i(o){return o instanceof e?o:new e(function(l){l(o)})}(Y.value).then(u,g)}N((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=be(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Be(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function et(n,t,e=1/0){return c(t)?et((r,i)=>X((o,l)=>t(r,o,i,l))(Me(n(r,i))),e):("number"==typeof t&&(e=t),ge((r,i)=>function Xe(n,t,e,r,i,o,l,u){const g=[];let N=0,Y=0,ae=!1;const Se=()=>{ae&&!g.length&&!N&&t.complete()},Ne=Ge=>N<r?ke(Ge):g.push(Ge),ke=Ge=>{o&&t.next(Ge),N++;let ot=!1;Me(e(Ge,Y++)).subscribe(fe(t,ct=>{i?.(ct),o?Ne(ct):t.next(ct)},()=>{ot=!0},void 0,()=>{if(ot)try{for(N--;g.length&&N<r;){const ct=g.shift();l?Be(t,l,()=>ke(ct)):ke(ct)}Se()}catch(ct){t.error(ct)}}))};return n.subscribe(fe(t,Ne,()=>{ae=!0,Se()})),()=>{u?.()}}(r,i,n,e)))}function dt(n=1/0){return et(ne,n)}const Mt=new q(n=>n.complete());function pn(n){return n&&c(n.schedule)}function rn(n){return n[n.length-1]}function Vn(n){return c(rn(n))?n.pop():void 0}function Kn(n){return pn(rn(n))?n.pop():void 0}function Je(n,t=0){return ge((e,r)=>{e.subscribe(fe(r,i=>Be(r,n,()=>r.next(i),t),()=>Be(r,n,()=>r.complete(),t),i=>Be(r,n,()=>r.error(i),t)))})}function Dt(n,t=0){return ge((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function tn(n,t){if(!n)throw new Error("Iterable cannot be null");return new q(e=>{Be(e,t,()=>{const r=n[Symbol.asyncIterator]();Be(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ve(n,t){return t?function qe(n,t){if(null!=n){if(Bt(n))return function je(n,t){return Me(n).pipe(Dt(t),Je(t))}(n,t);if(Et(n))return function nt(n,t){return new q(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(Lt(n))return function ze(n,t){return Me(n).pipe(Dt(t),Je(t))}(n,t);if(kt(n))return tn(n,t);if(ut(n))return function wt(n,t){return new q(e=>{let r;return Be(e,t,()=>{r=n[Qt](),Be(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){return void e.error(l)}o?e.complete():e.next(i)},0,!0)}),()=>c(r?.return)&&r.return()})}(n,t);if(Le(n))return function We(n,t){return tn(Tt(n),t)}(n,t)}throw en(n)}(n,t):Me(n)}function Ze(...n){const t=Kn(n),e=function Oe(n,t){return"number"==typeof rn(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?Me(r[0]):dt(e)(Ve(r,t)):Mt}function gt(n={}){const{connector:t=(()=>new pe),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let l,u,g,N=0,Y=!1,ae=!1;const Se=()=>{u?.unsubscribe(),u=void 0},Ne=()=>{Se(),l=g=void 0,Y=ae=!1},ke=()=>{const Ge=l;Ne(),Ge?.unsubscribe()};return ge((Ge,ot)=>{N++,!ae&&!Y&&Se();const ct=g=g??t();ot.add(()=>{N--,0===N&&!ae&&!Y&&(u=Ft(ke,i))}),ct.subscribe(ot),!l&&N>0&&(l=new w({next:Ot=>ct.next(Ot),error:Ot=>{ae=!0,Se(),u=Ft(Ne,e,Ot),ct.error(Ot)},complete:()=>{Y=!0,Se(),u=Ft(Ne,r),ct.complete()}}),Me(Ge).subscribe(l))})(o)}}function Ft(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new w({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function Ct(n){for(let t in n)if(n[t]===Ct)return t;throw Error("Could not find renamed property on target object.")}function $e(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function mt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(mt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Rt(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const cn=Ct({__forward_ref__:Ct});function Jt(n){return n.__forward_ref__=Jt,n.toString=function(){return mt(this())},n}function Wt(n){return Gn(n)?n():n}function Gn(n){return"function"==typeof n&&n.hasOwnProperty(cn)&&n.__forward_ref__===Jt}class pt extends Error{constructor(t,e){super(function Ii(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function nn(n){return"string"==typeof n?n:null==n?"":String(n)}function Ri(n,t){throw new pt(-201,!1)}function Hr(n,t){null==n&&function Nn(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function Pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _t(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gt(n){return _n(n,fi)||_n(n,As)}function _n(n,t){return n.hasOwnProperty(t)?n[t]:null}function fr(n){return n&&(n.hasOwnProperty(bs)||n.hasOwnProperty($m))?n[bs]:null}const fi=Ct({\u0275prov:Ct}),bs=Ct({\u0275inj:Ct}),As=Ct({ngInjectableDef:Ct}),$m=Ct({ngInjectorDef:Ct});var on=(()=>((on=on||{})[on.Default=0]="Default",on[on.Host=1]="Host",on[on.Self=2]="Self",on[on.SkipSelf=4]="SkipSelf",on[on.Optional=8]="Optional",on))();let mu;function Mi(n){const t=mu;return mu=n,t}function Of(n,t,e){const r=Gt(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&on.Optional?null:void 0!==t?t:void Ri(mt(n))}function Ro(n){return{toString:n}.toString()}var wi=(()=>((wi=wi||{})[wi.OnPush=0]="OnPush",wi[wi.Default=1]="Default",wi))(),Oi=(()=>{return(n=Oi||(Oi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Oi;var n})();const Qn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Is={},Bn=[],Xa=Ct({\u0275cmp:Ct}),gu=Ct({\u0275dir:Ct}),pu=Ct({\u0275pipe:Ct}),Pf=Ct({\u0275mod:Ct}),uo=Ct({\u0275fac:Ct}),qo=Ct({__NG_ELEMENT_ID__:Ct});let Qm=0;function Tn(n){return Ro(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===wi.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Bn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Oi.Emulated,id:"c"+Qm++,styles:n.styles||Bn,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,l=n.features;return i.inputs=Ff(n.inputs,r),i.outputs=Ff(n.outputs),l&&l.forEach(u=>u(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Nf).filter(Lf):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ir).filter(Lf):null,i})}function Nf(n){return Hn(n)||Wr(n)}function Lf(n){return null!==n}function kn(n){return Ro(()=>({type:n.type,bootstrap:n.bootstrap||Bn,declarations:n.declarations||Bn,imports:n.imports||Bn,exports:n.exports||Bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ff(n,t){if(null==n)return Is;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const Yt=Tn;function Ar(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Hn(n){return n[Xa]||null}function Wr(n){return n[gu]||null}function Ir(n){return n[pu]||null}function di(n,t){const e=n[Pf]||null;if(!e&&!0===t)throw new Error(`Type ${mt(n)} does not have '\u0275mod' property.`);return e}function Si(n){return Array.isArray(n)&&"object"==typeof n[1]}function ho(n){return Array.isArray(n)&&!0===n[1]}function eg(n){return 0!=(8&n.flags)}function Uf(n){return 2==(2&n.flags)}function jf(n){return 1==(1&n.flags)}function mo(n){return null!==n.template}function tO(n){return 0!=(256&n[2])}function ca(n,t){return n.hasOwnProperty(uo)?n[uo]:null}class iO{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Pi(){return AE}function AE(n){return n.type.prototype.ngOnChanges&&(n.setInput=sO),oO}function oO(){const n=RE(this),t=n?.current;if(t){const e=n.previous;if(e===Is)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function sO(n,t,e,r){const i=RE(n)||function aO(n,t){return n[IE]=t}(n,{previous:Is,current:null}),o=i.current||(i.current={}),l=i.previous,u=this.declaredInputs[e],g=l[u];o[u]=new iO(g&&g.currentValue,t,l===Is),n[r]=t}Pi.ngInherit=!0;const IE="__ngSimpleChanges__";function RE(n){return n[IE]||null}function Cr(n){for(;Array.isArray(n);)n=n[0];return n}function Vf(n,t){return Cr(t[n])}function Ni(n,t){return Cr(t[n.index])}function og(n,t){return n.data[t]}function el(n,t){return n[t]}function Li(n,t){const e=t[n];return Si(e)?e:e[0]}function Hf(n){return 64==(64&n[2])}function Rs(n,t){return null==t?null:n[t]}function wE(n){n[18]=0}function sg(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const gn={lFrame:jE(null),bindingsEnabled:!0};function PE(){return gn.bindingsEnabled}function bt(){return gn.lFrame.lView}function Fn(){return gn.lFrame.tView}function ir(n){return gn.lFrame.contextLView=n,n[8]}function or(n){return gn.lFrame.contextLView=null,n}function Rr(){let n=NE();for(;null!==n&&64===n.type;)n=n.parent;return n}function NE(){return gn.lFrame.currentTNode}function Oo(n,t){const e=gn.lFrame;e.currentTNode=n,e.isParent=t}function ag(){return gn.lFrame.isParent}function lg(){gn.lFrame.isParent=!1}function hi(){const n=gn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function tl(){return gn.lFrame.bindingIndex++}function Jo(n){const t=gn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function CO(n,t){const e=gn.lFrame;e.bindingIndex=e.bindingRootIndex=n,ug(t)}function ug(n){gn.lFrame.currentDirectiveIndex=n}function BE(){return gn.lFrame.currentQueryIndex}function fg(n){gn.lFrame.currentQueryIndex=n}function DO(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function kE(n,t,e){if(e&on.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&on.Host||(i=DO(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=gn.lFrame=UE();return r.currentTNode=t,r.lView=n,!0}function dg(n){const t=UE(),e=n[1];gn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function UE(){const n=gn.lFrame,t=null===n?null:n.child;return null===t?jE(n):t}function jE(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function VE(){const n=gn.lFrame;return gn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const HE=VE;function hg(){const n=VE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mi(){return gn.lFrame.selectedIndex}function ws(n){gn.lFrame.selectedIndex=n}function dr(){const n=gn.lFrame;return og(n.tView,n.selectedIndex)}function Eu(){gn.lFrame.currentNamespace="svg"}function Wf(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:u,ngAfterViewInit:g,ngAfterViewChecked:N,ngOnDestroy:Y}=o;l&&(n.contentHooks||(n.contentHooks=[])).push(-e,l),u&&((n.contentHooks||(n.contentHooks=[])).push(e,u),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,u)),g&&(n.viewHooks||(n.viewHooks=[])).push(-e,g),N&&((n.viewHooks||(n.viewHooks=[])).push(e,N),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,N)),null!=Y&&(n.destroyHooks||(n.destroyHooks=[])).push(e,Y)}}function Kf(n,t,e){WE(n,t,3,e)}function Gf(n,t,e,r){(3&n[2])===e&&WE(n,t,e,r)}function mg(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function WE(n,t,e,r){const o=r??-1,l=t.length-1;let u=0;for(let g=void 0!==r?65535&n[18]:0;g<l;g++)if("number"==typeof t[g+1]){if(u=t[g],null!=r&&u>=r)break}else t[g]<0&&(n[18]+=65536),(u<o||-1==o)&&(PO(n,e,t,g),n[18]=(4294901760&n[18])+g+2),g++}function PO(n,t,e,r){const i=e[r]<0,o=e[r+1],u=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(u)}finally{}}}else try{o.call(u)}finally{}}class Tu{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function zf(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],l=e[r++],u=e[r++];n.setAttribute(t,l,u,o)}else{const o=i,l=e[++r];GE(o)?n.setProperty(t,o,l):n.setAttribute(t,o,l),r++}}return r}function KE(n){return 3===n||4===n||6===n}function GE(n){return 64===n.charCodeAt(0)}function Yf(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||zE(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function zE(n,t,e,r,i){let o=0,l=n.length;if(-1===t)l=-1;else for(;o<n.length;){const u=n[o++];if("number"==typeof u){if(u===t){l=-1;break}if(u>t){l=o-1;break}}}for(;o<n.length;){const u=n[o];if("number"==typeof u)break;if(u===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(n.splice(l,0,t),o=l+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function YE(n){return-1!==n}function nl(n){return 32767&n}function rl(n,t){let e=function BO(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let pg=!0;function $f(n){const t=pg;return pg=n,t}let kO=0;const Po={};function Mu(n,t){const e=vg(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,_g(r.data,n),_g(t,null),_g(r.blueprint,null));const i=Xf(n,t),o=n.injectorIndex;if(YE(i)){const l=nl(i),u=rl(i,t),g=u[1].data;for(let N=0;N<8;N++)t[o+N]=u[l+N]|g[l+N]}return t[o+8]=i,o}function _g(n,t){n.push(0,0,0,0,0,0,0,0,t)}function vg(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Xf(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=nT(i),null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Qf(n,t,e){!function UO(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(qo)&&(r=e[qo]),null==r&&(r=e[qo]=kO++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function QE(n,t,e){if(e&on.Optional||void 0!==n)return n;Ri()}function qE(n,t,e,r){if(e&on.Optional&&void 0===r&&(r=null),0==(e&(on.Self|on.Host))){const i=n[9],o=Mi(void 0);try{return i?i.get(t,r,e&on.Optional):Of(t,r,e&on.Optional)}finally{Mi(o)}}return QE(r,0,e)}function ZE(n,t,e,r=on.Default,i){if(null!==n){if(1024&t[2]){const l=function KO(n,t,e,r,i){let o=n,l=t;for(;null!==o&&null!==l&&1024&l[2]&&!(256&l[2]);){const u=JE(o,l,e,r|on.Self,Po);if(u!==Po)return u;let g=o.parent;if(!g){const N=l[21];if(N){const Y=N.get(e,Po,r);if(Y!==Po)return Y}g=nT(l),l=l[15]}o=g}return i}(n,t,e,r,Po);if(l!==Po)return l}const o=JE(n,t,e,r,Po);if(o!==Po)return o}return qE(t,e,r,i)}function JE(n,t,e,r,i){const o=function HO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(qo)?n[qo]:void 0;return"number"==typeof t?t>=0?255&t:WO:t}(e);if("function"==typeof o){if(!kE(t,n,r))return r&on.Host?QE(i,0,r):qE(t,e,r,i);try{const l=o(r);if(null!=l||r&on.Optional)return l;Ri()}finally{HE()}}else if("number"==typeof o){let l=null,u=vg(n,t),g=-1,N=r&on.Host?t[16][6]:null;for((-1===u||r&on.SkipSelf)&&(g=-1===u?Xf(n,t):t[u+8],-1!==g&&tT(r,!1)?(l=t[1],u=nl(g),t=rl(g,t)):u=-1);-1!==u;){const Y=t[1];if(eT(o,u,Y.data)){const ae=VO(u,t,e,l,r,N);if(ae!==Po)return ae}g=t[u+8],-1!==g&&tT(r,t[1].data[u+8]===N)&&eT(o,u,t)?(l=Y,u=nl(g),t=rl(g,t)):u=-1}}return i}function VO(n,t,e,r,i,o){const l=t[1],u=l.data[n+8],Y=qf(u,l,e,null==r?Uf(u)&&pg:r!=l&&0!=(3&u.type),i&on.Host&&o===u);return null!==Y?Du(t,l,Y,u):Po}function qf(n,t,e,r,i){const o=n.providerIndexes,l=t.data,u=1048575&o,g=n.directiveStart,Y=o>>20,Se=i?u+Y:n.directiveEnd;for(let Ne=r?u:u+Y;Ne<Se;Ne++){const ke=l[Ne];if(Ne<g&&e===ke||Ne>=g&&ke.type===e)return Ne}if(i){const Ne=l[g];if(Ne&&mo(Ne)&&Ne.type===e)return g}return null}function Du(n,t,e,r){let i=n[e];const o=t.data;if(function NO(n){return n instanceof Tu}(i)){const l=i;l.resolving&&function Io(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new pt(-200,`Circular dependency in DI detected for ${n}${e}`)}(function En(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():nn(n)}(o[e]));const u=$f(l.canSeeViewProviders);l.resolving=!0;const g=l.injectImpl?Mi(l.injectImpl):null;kE(n,r,on.Default);try{i=n[e]=l.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function OO(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const l=AE(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,l),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,l)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==g&&Mi(g),$f(u),l.resolving=!1,HE()}}return i}function eT(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function tT(n,t){return!(n&on.Self||n&on.Host&&t)}class il{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return ZE(this._tNode,this._lView,t,r,e)}}function WO(){return new il(Rr(),bt())}function Kr(n){return Ro(()=>{const t=n.prototype.constructor,e=t[uo]||yg(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[uo]||yg(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yg(n){return Gn(n)?()=>{const t=yg(Wt(n));return t&&t()}:ca(n)}function nT(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function fa(n){return function jO(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(KE(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(Rr(),n)}const sl="__parameters__";function ll(n,t,e){return Ro(()=>{const r=function Eg(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const l=new i(...o);return u.annotation=l,u;function u(g,N,Y){const ae=g.hasOwnProperty(sl)?g[sl]:Object.defineProperty(g,sl,{value:[]})[sl];for(;ae.length<=Y;)ae.push(null);return(ae[Y]=ae[Y]||[]).push(l),g}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class xt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Fi(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),Fi(r,t)):t!==n&&t.push(r)}return t}function es(n,t){n.forEach(e=>Array.isArray(e)?es(e,t):t(e))}function iT(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Zf(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Au(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function xi(n,t,e){let r=ul(n,t);return r>=0?n[1|r]=e:(r=~r,function $O(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Cg(n,t){const e=ul(n,t);if(e>=0)return n[1|e]}function ul(n,t){return function aT(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),l=n[o<<e];if(t===l)return o<<e;l>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const Iu={},Dg="__NG_DI_FLAG__",ed="ngTempTokenPath",nP=/\n/gm,lT="__source";let Ru;function cl(n){const t=Ru;return Ru=n,t}function iP(n,t=on.Default){if(void 0===Ru)throw new pt(-203,!1);return null===Ru?Of(n,void 0,t):Ru.get(n,t&on.Optional?null:void 0,t)}function rt(n,t=on.Default){return(function Xm(){return mu}()||iP)(Wt(n),t)}function tr(n,t=on.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),rt(n,t)}function Sg(n){const t=[];for(let e=0;e<n.length;e++){const r=Wt(n[e]);if(Array.isArray(r)){if(0===r.length)throw new pt(900,!1);let i,o=on.Default;for(let l=0;l<r.length;l++){const u=r[l],g=oP(u);"number"==typeof g?-1===g?i=u.token:o|=g:i=u}t.push(rt(i,o))}else t.push(rt(r))}return t}function wu(n,t){return n[Dg]=t,n.prototype[Dg]=t,n}function oP(n){return n[Dg]}const Ps=wu(ll("Optional"),8),fl=wu(ll("SkipSelf"),4);var bi=(()=>((bi=bi||{})[bi.Important=1]="Important",bi[bi.DashCase=2]="DashCase",bi))();const wg=new Map;let MP=0;const Pg="__ngContext__";function ti(n,t){Si(t)?(n[Pg]=t[20],function SP(n){wg.set(n[20],n)}(t)):n[Pg]=t}function Lg(n,t){return undefined(n,t)}function Lu(n){const t=n[3];return ho(t)?t[3]:t}function Fg(n){return RT(n[13])}function xg(n){return RT(n[4])}function RT(n){for(;null!==n&&!ho(n);)n=n[4];return n}function hl(n,t,e,r,i){if(null!=r){let o,l=!1;ho(r)?o=r:Si(r)&&(l=!0,r=r[0]);const u=Cr(r);0===n&&null!==e?null==i?FT(t,e,u):da(t,e,u,i||null,!0):1===n&&null!==e?da(t,e,u,i||null,!0):2===n?function Wg(n,t,e){const r=rd(n,t);r&&function YP(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,u,l):3===n&&t.destroyNode(u),null!=o&&function QP(n,t,e,r,i){const o=e[7];o!==Cr(e)&&hl(t,n,r,o,i);for(let u=10;u<e.length;u++){const g=e[u];Fu(g[1],g,n,t,r,o)}}(t,n,o,e,i)}}function kg(n,t,e){return n.createElement(t,e)}function OT(n,t){const e=n[9],r=e.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,sg(i,-1)),e.splice(r,1)}function Ug(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&OT(i,r),t>0&&(n[e-1][4]=r[4]);const o=Zf(n,10+t);!function UP(n,t){Fu(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const l=o[19];null!==l&&l.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function PT(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Fu(n,t,e,3,null,null),function HP(n){let t=n[13];if(!t)return jg(n[1],n);for(;t;){let e=null;if(Si(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)Si(t)&&jg(t[1],t),t=t[3];null===t&&(t=n),Si(t)&&jg(t[1],t),e=t&&t[4]}t=e}}(t)}}function jg(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function zP(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Tu)){const o=e[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const u=i[o[l]],g=o[l+1];try{g.call(u)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function GP(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const l=e[o+1],u="function"==typeof l?l(t):Cr(t[l]),g=r[i=e[o+2]],N=e[o+3];"boolean"==typeof N?u.removeEventListener(e[o],g,N):N>=0?r[i=N]():r[i=-N].unsubscribe(),o+=2}else{const l=r[i=e[o+1]];e[o].call(l)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&ho(t[3])){e!==t[3]&&OT(e,t);const r=t[19];null!==r&&r.detachView(n)}!function bP(n){wg.delete(n[20])}(t)}}function NT(n,t,e){return function LT(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Oi.None||i===Oi.Emulated)return null}return Ni(r,e)}(n,t.parent,e)}function da(n,t,e,r,i){n.insertBefore(t,e,r,i)}function FT(n,t,e){n.appendChild(t,e)}function xT(n,t,e,r,i){null!==r?da(n,t,e,r,i):FT(n,t,e)}function rd(n,t){return n.parentNode(t)}function BT(n,t,e){return UT(n,t,e)}let sd,Yg,ad,UT=function kT(n,t,e){return 40&n.type?Ni(n,e):null};function id(n,t,e,r){const i=NT(n,r,t),o=t[11],u=BT(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let g=0;g<e.length;g++)xT(o,i,e[g],u,!1);else xT(o,i,e,u,!1)}function od(n,t){if(null!==t){const e=t.type;if(3&e)return Ni(t,n);if(4&e)return Hg(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return od(n,r);{const i=n[t.index];return ho(i)?Hg(-1,i):Cr(i)}}if(32&e)return Lg(t,n)()||Cr(n[t.index]);{const r=VT(n,t);return null!==r?Array.isArray(r)?r[0]:od(Lu(n[16]),r):od(n,t.next)}}return null}function VT(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Hg(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return od(r,i)}return t[7]}function Kg(n,t,e,r,i,o,l){for(;null!=e;){const u=r[e.index],g=e.type;if(l&&0===t&&(u&&ti(Cr(u),r),e.flags|=4),64!=(64&e.flags))if(8&g)Kg(n,t,e.child,r,i,o,!1),hl(t,n,i,u,o);else if(32&g){const N=Lg(e,r);let Y;for(;Y=N();)hl(t,n,i,Y,o);hl(t,n,i,u,o)}else 16&g?HT(n,t,r,e,i,o):hl(t,n,i,u,o);e=l?e.projectionNext:e.next}}function Fu(n,t,e,r,i,o){Kg(e,r,n.firstChild,t,i,o,!1)}function HT(n,t,e,r,i,o){const l=e[16],g=l[6].projection[r.projection];if(Array.isArray(g))for(let N=0;N<g.length;N++)hl(t,n,i,g[N],o);else Kg(n,t,g,l[3],i,o,!0)}function WT(n,t,e){n.setAttribute(t,"style",e)}function Gg(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function ha(n){return function zg(){if(void 0===sd&&(sd=null,Qn.trustedTypes))try{sd=Qn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sd}()?.createHTML(n)||n}function GT(n){return function $g(){if(void 0===ad&&(ad=null,Qn.trustedTypes))try{ad=Qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ad}()?.createHTML(n)||n}class ma{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class nN extends ma{getTypeName(){return"HTML"}}class rN extends ma{getTypeName(){return"Style"}}class iN extends ma{getTypeName(){return"Script"}}class oN extends ma{getTypeName(){return"URL"}}class sN extends ma{getTypeName(){return"ResourceURL"}}function Bi(n){return n instanceof ma?n.changingThisBreaksApplicationSecurity:n}function No(n,t){const e=function aN(n){return n instanceof ma&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class hN{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(ha(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class mN{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=ha(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=ha(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const l=e.item(i).name;("xmlns:ns1"===l||0===l.indexOf("ns1:"))&&t.removeAttribute(l)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const pN=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ld(n){return(n=String(n)).match(pN)?n:"unsafe:"+n}function ts(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function xu(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const XT=ts("area,br,col,hr,img,wbr"),QT=ts("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qT=ts("rp,rt"),Xg=xu(XT,xu(QT,ts("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xu(qT,ts("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xu(qT,QT)),Qg=ts("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ZT=xu(Qg,ts("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ts("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_N=ts("script,style,template");class vN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xg.hasOwnProperty(e))return this.sanitizedSomething=!0,!_N.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),l=o.name,u=l.toLowerCase();if(!ZT.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let g=o.value;Qg[u]&&(g=ld(g)),this.buf.push(" ",l,'="',JT(g),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xg.hasOwnProperty(e)&&!XT.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(JT(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const yN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,EN=/([^\#-~ |!])/g;function JT(n){return n.replace(/&/g,"&amp;").replace(yN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(EN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ud;function eC(n,t){let e=null;try{ud=ud||function $T(n){const t=new mN(n);return function gN(){try{return!!(new window.DOMParser).parseFromString(ha(""),"text/html")}catch{return!1}}()?new hN(t):t}(n);let r=t?String(t):"";e=ud.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=ud.getInertBodyElement(r)}while(r!==o);return ha((new vN).sanitizeChildren(qg(e)||e))}finally{if(e){const r=qg(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function qg(n){return"content"in n&&function TN(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function Zg(n){const t=Bu();return t?GT(t.sanitize(Un.HTML,n)||""):No(n,"HTML")?GT(Bi(n)):eC(function KT(){return void 0!==Yg?Yg:typeof document<"u"?document:void 0}(),nn(n))}function tC(n){const t=Bu();return t?t.sanitize(Un.STYLE,n)||"":No(n,"Style")?Bi(n):nn(n)}function ga(n){const t=Bu();return t?t.sanitize(Un.URL,n)||"":No(n,"URL")?Bi(n):ld(nn(n))}function Bu(){const n=bt();return n&&n[12]}const Jg=new xt("ENVIRONMENT_INITIALIZER"),rC=new xt("INJECTOR",-1),iC=new xt("INJECTOR_DEF_TYPES");class oC{get(t,e=Iu){if(e===Iu){const r=new Error(`NullInjectorError: No provider for ${mt(t)}!`);throw r.name="NullInjectorError",r}return e}}function sC(...n){return{\u0275providers:aC(0,n)}}function aC(n,...t){const e=[],r=new Set;let i;return es(t,o=>{const l=o;ep(l,e,[],r)&&(i||(i=[]),i.push(l))}),void 0!==i&&lC(i,e),e}function lC(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];es(i,o=>{t.push(o)})}}function ep(n,t,e,r){if(!(n=Wt(n)))return!1;let i=null,o=fr(n);const l=!o&&Hn(n);if(o||l){if(l&&!l.standalone)return!1;i=n}else{const g=n.ngModule;if(o=fr(g),!o)return!1;i=g}const u=r.has(i);if(l){if(u)return!1;if(r.add(i),l.dependencies){const g="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const N of g)ep(N,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!u){let N;r.add(i);try{es(o.imports,Y=>{ep(Y,t,e,r)&&(N||(N=[]),N.push(Y))})}finally{}void 0!==N&&lC(N,t)}if(!u){const N=ca(i)||(()=>new i);t.push({provide:i,useFactory:N,deps:Bn},{provide:iC,useValue:i,multi:!0},{provide:Jg,useValue:()=>rt(i),multi:!0})}const g=o.providers;null==g||u||es(g,Y=>{t.push(Y)})}}return i!==n&&void 0!==n.providers}const AN=Ct({provide:String,useValue:Ct});function tp(n){return null!==n&&"object"==typeof n&&AN in n}function pa(n){return"function"==typeof n}const np=new xt("Set Injector scope."),cd={},RN={};let rp;function fd(){return void 0===rp&&(rp=new oC),rp}class Ns{}class fC extends Ns{constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,op(t,l=>this.processProvider(l)),this.records.set(rC,ml(void 0,this)),i.has("environment")&&this.records.set(Ns,ml(void 0,this));const o=this.records.get(np);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(iC.multi,Bn,on.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=cl(this),r=Mi(void 0);try{return t()}finally{cl(e),Mi(r)}}get(t,e=Iu,r=on.Default){this.assertNotDestroyed();const i=cl(this),o=Mi(void 0);try{if(!(r&on.SkipSelf)){let u=this.records.get(t);if(void 0===u){const g=function LN(n){return"function"==typeof n||"object"==typeof n&&n instanceof xt}(t)&&Gt(t);u=g&&this.injectableDefInScope(g)?ml(ip(t),cd):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(r&on.Self?fd():this.parent).get(t,e=r&on.Optional&&e===Iu?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[ed]=l[ed]||[]).unshift(mt(t)),i)throw l;return function sP(n,t,e,r){const i=n[ed];throw t[lT]&&i.unshift(t[lT]),n.message=function aP(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=mt(t);if(Array.isArray(t))i=t.map(mt).join(" -> ");else if("object"==typeof t){let o=[];for(let l in t)if(t.hasOwnProperty(l)){let u=t[l];o.push(l+":"+("string"==typeof u?JSON.stringify(u):mt(u)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(nP,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[ed]=null,n}(l,t,"R3InjectorError",this.source)}throw l}finally{Mi(o),cl(i)}}resolveInjectorInitializers(){const t=cl(this),e=Mi(void 0);try{const r=this.get(Jg.multi,Bn,on.Self);for(const i of r)i()}finally{cl(t),Mi(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(mt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pt(205,!1)}processProvider(t){let e=pa(t=Wt(t))?t:Wt(t&&t.provide);const r=function ON(n){return tp(n)?ml(void 0,n.useValue):ml(dC(n),cd)}(t);if(pa(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=ml(void 0,cd,!0),i.factory=()=>Sg(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===cd&&(e.value=RN,e.value=e.factory()),"object"==typeof e.value&&e.value&&function NN(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Wt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function ip(n){const t=Gt(n),e=null!==t?t.factory:ca(n);if(null!==e)return e;if(n instanceof xt)throw new pt(204,!1);if(n instanceof Function)return function wN(n){const t=n.length;if(t>0)throw Au(t,"?"),new pt(204,!1);const e=function xn(n){const t=n&&(n[fi]||n[As]);if(t){const e=function rr(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new pt(204,!1)}function dC(n,t,e){let r;if(pa(n)){const i=Wt(n);return ca(i)||ip(i)}if(tp(n))r=()=>Wt(n.useValue);else if(function cC(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Sg(n.deps||[]));else if(function uC(n){return!(!n||!n.useExisting)}(n))r=()=>rt(Wt(n.useExisting));else{const i=Wt(n&&(n.useClass||n.provide));if(!function PN(n){return!!n.deps}(n))return ca(i)||ip(i);r=()=>new i(...Sg(n.deps))}return r}function ml(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function FN(n){return!!n.\u0275providers}function op(n,t){for(const e of n)Array.isArray(e)?op(e,t):FN(e)?op(e.\u0275providers,t):t(e)}class hC{}class kN{resolveComponentFactory(t){throw function BN(n){const t=Error(`No component factory found for ${mt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let gl=(()=>{class n{}return n.NULL=new kN,n})();function UN(){return pl(Rr(),bt())}function pl(n,t){return new zn(Ni(n,t))}let zn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=UN,n})();function jN(n){return n instanceof zn?n.nativeElement:n}class ku{}let ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function VN(){const n=bt(),e=Li(Rr().index,n);return(Si(e)?e:n)[11]}(),n})(),HN=(()=>{class n{}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>null}),n})();class _a{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const WN=new _a("14.2.12"),sp={};function lp(n){return n.ngOriginalError}class rs{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&lp(t);for(;e&&lp(e);)e=lp(e);return e||null}}function is(n){return n instanceof Function?n():n}function pC(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const _C="ng-template";function eL(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==pC(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function vC(n){return 4===n.type&&n.value!==_C}function tL(n,t,e){return t===(4!==n.type||e?n.value:_C)}function nL(n,t,e){let r=4;const i=n.attrs||[],o=function oL(n){for(let t=0;t<n.length;t++)if(KE(n[t]))return t;return n.length}(i);let l=!1;for(let u=0;u<t.length;u++){const g=t[u];if("number"!=typeof g){if(!l)if(4&r){if(r=2|1&r,""!==g&&!tL(n,g,e)||""===g&&1===t.length){if(go(r))return!1;l=!0}}else{const N=8&r?g:t[++u];if(8&r&&null!==n.attrs){if(!eL(n.attrs,N,e)){if(go(r))return!1;l=!0}continue}const ae=rL(8&r?"class":g,i,vC(n),e);if(-1===ae){if(go(r))return!1;l=!0;continue}if(""!==N){let Se;Se=ae>o?"":i[ae+1].toLowerCase();const Ne=8&r?Se:null;if(Ne&&-1!==pC(Ne,N,0)||2&r&&N!==Se){if(go(r))return!1;l=!0}}}}else{if(!l&&!go(r)&&!go(g))return!1;if(l&&go(g))continue;l=!1,r=g|1&r}}return go(r)||l}function go(n){return 0==(1&n)}function rL(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const l=t[i];if(l===n)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let u=t[++i];for(;"string"==typeof u;)u=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function sL(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function yC(n,t,e=!1){for(let r=0;r<t.length;r++)if(nL(n,t[r],e))return!0;return!1}function aL(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function EC(n,t){return n?":not("+t.trim()+")":t}function lL(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let l=n[e];if("string"==typeof l)if(2&r){const u=n[++e];i+="["+l+(u.length>0?'="'+u+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!go(l)&&(t+=EC(o,i),i=""),r=l,o=o||!go(r);e++}return""!==i&&(t+=EC(o,i)),t}const vn={};function St(n){TC(Fn(),bt(),mi()+n,!1)}function TC(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Kf(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Gf(t,o,0,e)}ws(e)}function SC(n,t=null,e=null,r){const i=bC(n,t,e,r);return i.resolveInjectorInitializers(),i}function bC(n,t=null,e=null,r,i=new Set){const o=[e||Bn,sC(n)];return r=r||("object"==typeof n?void 0:mt(n)),new fC(o,t||fd(),r||null,i)}let ni=(()=>{class n{static create(e,r){if(Array.isArray(e))return SC({name:""},r,e,"");{const i=e.name??"";return SC({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=Iu,n.NULL=new oC,n.\u0275prov=Pe({token:n,providedIn:"any",factory:()=>rt(rC)}),n.__NG_ELEMENT_ID__=-1,n})();function He(n,t=on.Default){const e=bt();return null===e?rt(n,t):ZE(Rr(),e,Wt(n),t)}function hd(){throw new Error("invalid")}function md(n,t){return n<<17|t<<2}function po(n){return n>>17&32767}function hp(n){return 2|n}function os(n){return(131068&n)>>2}function mp(n,t){return-131069&n|t<<2}function gp(n){return 1|n}function WC(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const l=n.data[o];fg(i),l.contentQueries(2,t[o],o)}}}function _d(n,t,e,r,i,o,l,u,g,N,Y){const ae=t.blueprint.slice();return ae[0]=i,ae[2]=76|r,(null!==Y||n&&1024&n[2])&&(ae[2]|=1024),wE(ae),ae[3]=ae[15]=n,ae[8]=e,ae[10]=l||n&&n[10],ae[11]=u||n&&n[11],ae[12]=g||n&&n[12]||null,ae[9]=N||n&&n[9]||null,ae[6]=o,ae[20]=function DP(){return MP++}(),ae[21]=Y,ae[16]=2==t.type?n[16]:ae,ae}function yl(n,t,e,r,i){let o=n.data[t];if(null===o)o=function Mp(n,t,e,r,i){const o=NE(),l=ag(),g=n.data[t]=function KL(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=g),null!==o&&(l?null==o.child&&null!==g.parent&&(o.child=g):null===o.next&&(o.next=g)),g}(n,t,e,r,i),function TO(){return gn.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const l=function yu(){const n=gn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return Oo(o,!0),o}function El(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Dp(n,t,e){dg(t);try{const r=n.viewQuery;null!==r&&Pp(1,r,e);const i=n.template;null!==i&&KC(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&WC(n,t),n.staticViewQueries&&Pp(2,n.viewQuery,e);const o=n.components;null!==o&&function VL(n,t){for(let e=0;e<t.length;e++)sF(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,hg()}}function vd(n,t,e,r){const i=t[2];if(128!=(128&i)){dg(t);try{wE(t),function FE(n){return gn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&KC(n,t,e,2,r);const l=3==(3&i);if(l){const N=n.preOrderCheckHooks;null!==N&&Kf(t,N,null)}else{const N=n.preOrderHooks;null!==N&&Gf(t,N,0,null),mg(t,0)}if(function iF(n){for(let t=Fg(n);null!==t;t=xg(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(512&i[2])&&sg(o,1),i[2]|=512}}}(t),function rF(n){for(let t=Fg(n);null!==t;t=xg(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];Hf(r)&&vd(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&WC(n,t),l){const N=n.contentCheckHooks;null!==N&&Kf(t,N)}else{const N=n.contentHooks;null!==N&&Gf(t,N,1),mg(t,1)}!function UL(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)ws(~i);else{const o=i,l=e[++r],u=e[++r];CO(l,o),u(2,t[o])}}}finally{ws(-1)}}(n,t);const u=n.components;null!==u&&function jL(n,t){for(let e=0;e<t.length;e++)oF(n,t[e])}(t,u);const g=n.viewQuery;if(null!==g&&Pp(2,g,r),l){const N=n.viewCheckHooks;null!==N&&Kf(t,N)}else{const N=n.viewHooks;null!==N&&Gf(t,N,2),mg(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,sg(t[3],-1))}finally{hg()}}}function KC(n,t,e,r,i){const o=mi(),l=2&r;try{ws(-1),l&&t.length>22&&TC(n,t,22,!1),e(r,i)}finally{ws(o)}}function GC(n,t,e){if(eg(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const l=n.data[o];l.contentQueries&&l.contentQueries(1,e[o],o)}}}function Sp(n,t,e){!PE()||(function XL(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||Mu(e,t),ti(r,t);const l=e.initialInputs;for(let u=i;u<o;u++){const g=n.data[u],N=mo(g);N&&eF(t,e,g);const Y=Du(t,n,u,e);ti(Y,t),null!==l&&tF(0,u-i,Y,g,0,l),N&&(Li(e.index,t)[8]=Y)}}(n,t,e,Ni(e,t)),128==(128&e.flags)&&function QL(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,l=function MO(){return gn.lFrame.currentDirectiveIndex}();try{ws(o);for(let u=r;u<i;u++){const g=n.data[u],N=t[u];ug(u),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&ZC(g,N)}}finally{ws(-1),ug(l)}}(n,t,e))}function bp(n,t,e=Ni){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const l=r[o+1],u=-1===l?e(t,n):n[l];n[i++]=u}}}function zC(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Ap(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Ap(n,t,e,r,i,o,l,u,g,N){const Y=22+r,ae=Y+i,Se=function HL(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:vn);return e}(Y,ae),Ne="function"==typeof N?N():N;return Se[1]={type:n,blueprint:Se,template:e,queries:null,viewQuery:u,declTNode:t,data:Se.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:g,consts:Ne,incompleteFirstPass:!1}}function YC(n,t,e,r){const i=rM(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&iM(n).push(r,i.length-1))}function $C(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function XC(n,t){const r=t.directiveEnd,i=n.data,o=t.attrs,l=[];let u=null,g=null;for(let N=t.directiveStart;N<r;N++){const Y=i[N],ae=Y.inputs,Se=null===o||vC(t)?null:nF(ae,o);l.push(Se),u=$C(ae,N,u),g=$C(Y.outputs,N,g)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=16),u.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=l,t.inputs=u,t.outputs=g}function ki(n,t,e,r,i,o,l,u){const g=Ni(t,e);let Y,N=t.inputs;!u&&null!=N&&(Y=N[r])?(Np(n,e,Y,r,i),Uf(t)&&QC(e,t.index)):3&t.type&&(r=function GL(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=l?l(i,t.value||"",r):i,o.setProperty(g,r,i))}function QC(n,t){const e=Li(t,n);16&e[2]||(e[2]|=32)}function Ip(n,t,e,r){let i=!1;if(PE()){const o=function qL(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const l=r[o];yC(e,l.selectors,!1)&&(i||(i=[]),Qf(Mu(e,t),n,l.type),mo(l)?(JC(n,e),i.unshift(l)):i.push(l))}return i}(n,t,e),l=null===r?null:{"":-1};if(null!==o){i=!0,eM(e,n.data.length,o.length);for(let Y=0;Y<o.length;Y++){const ae=o[Y];ae.providersResolver&&ae.providersResolver(ae)}let u=!1,g=!1,N=El(n,t,o.length,null);for(let Y=0;Y<o.length;Y++){const ae=o[Y];e.mergedAttrs=Yf(e.mergedAttrs,ae.hostAttrs),tM(n,e,t,N,ae),JL(N,ae,l),null!==ae.contentQueries&&(e.flags|=8),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(e.flags|=128);const Se=ae.type.prototype;!u&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),u=!0),!g&&(Se.ngOnChanges||Se.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),g=!0),N++}XC(n,e)}l&&function ZL(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new pt(-301,!1);r.push(t[i],o)}}}(e,r,l)}return e.mergedAttrs=Yf(e.mergedAttrs,e.attrs),i}function qC(n,t,e,r,i,o){const l=o.hostBindings;if(l){let u=n.hostBindingOpCodes;null===u&&(u=n.hostBindingOpCodes=[]);const g=~t.index;(function $L(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(u)!=g&&u.push(g),u.push(r,i,l)}}function ZC(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function JC(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function JL(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;mo(t)&&(e[""]=n)}}function eM(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function tM(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=ca(i.type)),l=new Tu(o,mo(i),He);n.blueprint[r]=l,e[r]=l,qC(n,t,0,r,El(n,e,i.hostVars,vn),i)}function eF(n,t,e){const r=Ni(t,n),i=zC(e),o=n[10],l=yd(n,_d(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=l}function Lo(n,t,e,r,i,o){const l=Ni(n,t);!function Rp(n,t,e,r,i,o,l){if(null==o)n.removeAttribute(t,i,e);else{const u=null==l?nn(o):l(o,r||"",i);n.setAttribute(t,i,u,e)}}(t[11],l,o,n.value,e,r,i)}function tF(n,t,e,r,i,o){const l=o[t];if(null!==l){const u=r.setInput;for(let g=0;g<l.length;){const N=l[g++],Y=l[g++],ae=l[g++];null!==u?r.setInput(e,ae,N,Y):e[Y]=ae}}}function nF(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function nM(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function oF(n,t){const e=Li(t,n);if(Hf(e)){const r=e[1];48&e[2]?vd(r,e,r.template,e[8]):e[5]>0&&wp(e)}}function wp(n){for(let r=Fg(n);null!==r;r=xg(r))for(let i=10;i<r.length;i++){const o=r[i];if(Hf(o))if(512&o[2]){const l=o[1];vd(l,o,l.template,o[8])}else o[5]>0&&wp(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Li(e[r],n);Hf(i)&&i[5]>0&&wp(i)}}function sF(n,t){const e=Li(t,n),r=e[1];(function aF(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),Dp(r,e,e[8])}function yd(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Op(n){for(;n;){n[2]|=32;const t=Lu(n);if(tO(n)&&!t)return n;n=t}return null}function Ed(n,t,e,r=!0){const i=t[10];i.begin&&i.begin();try{vd(n,t,n.template,e)}catch(l){throw r&&sM(t,l),l}finally{i.end&&i.end()}}function Pp(n,t,e){fg(0),t(n,e)}function rM(n){return n[7]||(n[7]=[])}function iM(n){return n.cleanup||(n.cleanup=[])}function sM(n,t){const e=n[9],r=e?e.get(rs,null):null;r&&r.handleError(t)}function Np(n,t,e,r,i){for(let o=0;o<e.length;){const l=e[o++],u=e[o++],g=t[l],N=n.data[l];null!==N.setInput?N.setInput(g,i,r,u):g[u]=i}}function ss(n,t,e){const r=Vf(t,n);!function wT(n,t,e){n.setValue(t,e)}(n[11],r,e)}function Td(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let l=0;l<t.length;l++){const u=t[l];"number"==typeof u?o=u:1==o?i=Rt(i,u):2==o&&(r=Rt(r,u+": "+t[++l]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function Cd(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(Cr(o)),ho(o))for(let u=10;u<o.length;u++){const g=o[u],N=g[1].firstChild;null!==N&&Cd(g[1],g,N,r)}const l=e.type;if(8&l)Cd(n,t,e.child,r);else if(32&l){const u=Lg(e,t);let g;for(;g=u();)r.push(g)}else if(16&l){const u=VT(t,e);if(Array.isArray(u))r.push(...u);else{const g=Lu(t[16]);Cd(g[1],g,u,r,!0)}}e=i?e.projectionNext:e.next}return r}class Uu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Cd(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ho(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Ug(t,r),Zf(e,r))}this._attachedToViewContainer=!1}PT(this._lView[1],this._lView)}onDestroy(t){YC(this._lView[1],this._lView,null,t)}markForCheck(){Op(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ed(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function VP(n,t){Fu(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new pt(902,!1);this._appRef=t}}class lF extends Uu{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ed(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Lp extends gl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Hn(t);return new ju(e,this.ngModule)}}function aM(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class cF{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){const i=this.injector.get(t,sp,r);return i!==sp||e===sp?i:this.parentInjector.get(t,e,r)}}class ju extends hC{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function uL(n){return n.map(lL).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return aM(this.componentDef.inputs)}get outputs(){return aM(this.componentDef.outputs)}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof Ns?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new cF(t,o):t,u=l.get(ku,null);if(null===u)throw new pt(407,!1);const g=l.get(HN,null),N=u.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",ae=r?function WL(n,t,e){return n.selectRootElement(t,e===Oi.ShadowDom)}(N,r,this.componentDef.encapsulation):kg(N,Y,function uF(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Y)),Se=this.componentDef.onPush?288:272,Ne=Ap(0,null,null,1,0,null,null,null,null,null),ke=_d(null,Ne,null,Se,null,null,u,N,g,l,null);let Ge,ot;dg(ke);try{const ct=function hF(n,t,e,r,i,o){const l=e[1];e[22]=n;const g=yl(l,22,2,"#host",null),N=g.mergedAttrs=t.hostAttrs;null!==N&&(Td(g,N,!0),null!==n&&(zf(i,n,N),null!==g.classes&&Gg(i,n,g.classes),null!==g.styles&&WT(i,n,g.styles)));const Y=r.createRenderer(n,t),ae=_d(e,zC(t),null,t.onPush?32:16,e[22],g,r,Y,o||null,null,null);return l.firstCreatePass&&(Qf(Mu(g,e),l,t.type),JC(l,g),eM(g,e.length,1)),yd(e,ae),e[22]=ae}(ae,this.componentDef,ke,u,N);if(ae)if(r)zf(N,ae,["ng-version",WN.full]);else{const{attrs:Ot,classes:ft}=function cL(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!go(i))break;i=o}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);Ot&&zf(N,ae,Ot),ft&&ft.length>0&&Gg(N,ae,ft.join(" "))}if(ot=og(Ne,22),void 0!==e){const Ot=ot.projection=[];for(let ft=0;ft<this.ngContentSelectors.length;ft++){const Ht=e[ft];Ot.push(null!=Ht?Array.from(Ht):null)}}Ge=function mF(n,t,e,r){const i=e[1],o=function YL(n,t,e){const r=Rr();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),tM(n,r,t,El(n,t,1,null),e),XC(n,r));const i=Du(t,n,r.directiveStart,r);ti(i,t);const o=Ni(r,t);return o&&ti(o,t),i}(i,e,t);if(n[8]=e[8]=o,null!==r)for(const u of r)u(o,t);if(t.contentQueries){const u=Rr();t.contentQueries(1,o,u.directiveStart)}const l=Rr();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ws(l.index),qC(e[1],l,0,l.directiveStart,l.directiveEnd,t),ZC(t,o)),o}(ct,this.componentDef,ke,[gF]),Dp(Ne,ke,null)}finally{hg()}return new dF(this.componentType,Ge,pl(ot,ke),ke,ot)}}class dF extends class xN{}{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new lF(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;Np(o[1],o,i,t,e),QC(o,this._tNode.index)}}get injector(){return new il(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function gF(){const n=Rr();Wf(bt()[1],n)}function An(n){let t=function lM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(mo(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new pt(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const l=n;l.inputs=Fp(n.inputs),l.declaredInputs=Fp(n.declaredInputs),l.outputs=Fp(n.outputs);const u=i.hostBindings;u&&yF(n,u);const g=i.viewQuery,N=i.contentQueries;if(g&&_F(n,g),N&&vF(n,N),$e(n.inputs,i.inputs),$e(n.declaredInputs,i.declaredInputs),$e(n.outputs,i.outputs),mo(i)&&i.data.animation){const Y=n.data;Y.animation=(Y.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let l=0;l<o.length;l++){const u=o[l];u&&u.ngInherit&&u(n),u===An&&(e=!1)}}t=Object.getPrototypeOf(t)}!function pF(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Yf(i.hostAttrs,e=Yf(e,i.hostAttrs))}}(r)}function Fp(n){return n===Is?{}:n===Bn?[]:n}function _F(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function vF(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function yF(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let Md=null;function va(){if(!Md){const n=Qn.Symbol;if(n&&n.iterator)Md=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Md=r)}}}return Md}function Vu(n){return!!xp(n)&&(Array.isArray(n)||!(n instanceof Map)&&va()in n)}function xp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fo(n,t,e){return n[t]=e}function ri(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ya(n,t,e,r){const i=ri(n,t,e);return ri(n,t+1,r)||i}function sr(n,t,e,r){const i=bt();return ri(i,tl(),t)&&(Fn(),Lo(dr(),i,n,t,e,r)),sr}function Ml(n,t,e,r,i,o){const u=ya(n,function Zo(){return gn.lFrame.bindingIndex}(),e,i);return Jo(2),u?t+nn(e)+r+nn(i)+o:vn}function zt(n,t,e,r,i,o,l,u){const g=bt(),N=Fn(),Y=n+22,ae=N.firstCreatePass?function AF(n,t,e,r,i,o,l,u,g){const N=t.consts,Y=yl(t,n,4,l||null,Rs(N,u));Ip(t,e,Y,Rs(N,g)),Wf(t,Y);const ae=Y.tViews=Ap(2,Y,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,N);return null!==t.queries&&(t.queries.template(t,Y),ae.queries=t.queries.embeddedTView(Y)),Y}(Y,N,g,t,e,r,i,o,l):N.data[Y];Oo(ae,!1);const Se=g[11].createComment("");id(N,g,Se,ae),ti(Se,g),yd(g,g[Y]=nM(Se,g,Se,ae)),jf(ae)&&Sp(N,g,ae),null!=l&&bp(g,ae,u)}function Or(n){return el(function EO(){return gn.lFrame.contextLView}(),22+n)}function yt(n,t,e){const r=bt();return ri(r,tl(),t)&&ki(Fn(),dr(),r,n,t,r[11],e,!1),yt}function Bp(n,t,e,r,i){const l=i?"class":"style";Np(n,e,t.inputs[l],l,r)}function Pt(n,t,e,r){const i=bt(),o=Fn(),l=22+n,u=i[11],g=i[l]=kg(u,t,function wO(){return gn.lFrame.currentNamespace}()),N=o.firstCreatePass?function RF(n,t,e,r,i,o,l){const u=t.consts,N=yl(t,n,2,i,Rs(u,o));return Ip(t,e,N,Rs(u,l)),null!==N.attrs&&Td(N,N.attrs,!1),null!==N.mergedAttrs&&Td(N,N.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,N),N}(l,o,i,0,t,e,r):o.data[l];Oo(N,!0);const Y=N.mergedAttrs;null!==Y&&zf(u,g,Y);const ae=N.classes;null!==ae&&Gg(u,g,ae);const Se=N.styles;return null!==Se&&WT(u,g,Se),64!=(64&N.flags)&&id(o,i,g,N),0===function gO(){return gn.lFrame.elementDepthCount}()&&ti(g,i),function pO(){gn.lFrame.elementDepthCount++}(),jf(N)&&(Sp(o,i,N),GC(o,N,i)),null!==r&&bp(i,N),Pt}function Nt(){let n=Rr();ag()?lg():(n=n.parent,Oo(n,!1));const t=n;!function _O(){gn.lFrame.elementDepthCount--}();const e=Fn();return e.firstCreatePass&&(Wf(e,n),eg(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function FO(n){return 0!=(16&n.flags)}(t)&&Bp(e,t,bt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function xO(n){return 0!=(32&n.flags)}(t)&&Bp(e,t,bt(),t.stylesWithoutHost,!1),Nt}function Zt(n,t,e,r){return Pt(n,t,e,r),Nt(),Zt}function Ji(n,t,e){const r=bt(),i=Fn(),o=n+22,l=i.firstCreatePass?function wF(n,t,e,r,i){const o=t.consts,l=Rs(o,r),u=yl(t,n,8,"ng-container",l);return null!==l&&Td(u,l,!0),Ip(t,e,u,Rs(o,i)),null!==t.queries&&t.queries.elementStart(t,u),u}(o,i,r,t,e):i.data[o];Oo(l,!0);const u=r[o]=r[11].createComment("");return id(i,r,u,l),ti(u,r),jf(l)&&(Sp(i,r,l),GC(i,l,r)),null!=e&&bp(r,l),Ji}function eo(){let n=Rr();const t=Fn();return ag()?lg():(n=n.parent,Oo(n,!1)),t.firstCreatePass&&(Wf(t,n),eg(n)&&t.queries.elementEnd(n)),eo}function Pr(){return bt()}function Wu(n){return!!n&&"function"==typeof n.then}function yM(n){return!!n&&"function"==typeof n.subscribe}const kp=yM;function yn(n,t,e,r){const i=bt(),o=Fn(),l=Rr();return function TM(n,t,e,r,i,o,l,u){const g=jf(r),Y=n.firstCreatePass&&iM(n),ae=t[8],Se=rM(t);let Ne=!0;if(3&r.type||u){const ot=Ni(r,t),ct=u?u(ot):ot,Ot=Se.length,ft=u?bn=>u(Cr(bn[r.index])):r.index;let Ht=null;if(!u&&g&&(Ht=function OF(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===e&&i[o+1]===r){const u=t[7],g=i[o+2];return u.length>g?u[g]:null}"string"==typeof l&&(o+=2)}return null}(n,t,i,r.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=o,Ht.__ngLastListenerFn__=o,Ne=!1;else{o=MM(r,t,ae,o,!1);const bn=e.listen(ct,i,o);Se.push(o,bn),Y&&Y.push(i,ft,Ot,Ot+1)}}else o=MM(r,t,ae,o,!1);const ke=r.outputs;let Ge;if(Ne&&null!==ke&&(Ge=ke[i])){const ot=Ge.length;if(ot)for(let ct=0;ct<ot;ct+=2){const Ln=t[Ge[ct]][Ge[ct+1]].subscribe(o),gr=Se.length;Se.push(o,Ln),Y&&Y.push(i,r.index,gr,-(gr+1))}}}(o,i,i[11],l,n,t,0,r),yn}function CM(n,t,e,r){try{return!1!==e(r)}catch(i){return sM(n,i),!1}}function MM(n,t,e,r,i){return function o(l){if(l===Function)return r;Op(2&n.flags?Li(n.index,t):t);let g=CM(t,0,r,l),N=o.__ngNextListenerFn__;for(;N;)g=CM(t,0,N,l)&&g,N=N.__ngNextListenerFn__;return i&&!1===g&&(l.preventDefault(),l.returnValue=!1),g}}function Xt(n=1){return function SO(n){return(gn.lFrame.contextLView=function bO(n,t){for(;n>0;)t=t[15],n--;return t}(n,gn.lFrame.contextLView))[8]}(n)}function PF(n,t){let e=null;const r=function iL(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?yC(n,o,!0):aL(r,o))return i}else e=i}return e}function xs(n){const t=bt()[16][6];if(!t.projection){const r=t.projection=Au(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const l=n?PF(o,n):0;null!==l&&(i[l]?i[l].projectionNext=o:r[l]=o,i[l]=o),o=o.next}}}function Gr(n,t=0,e){const r=bt(),i=Fn(),o=yl(i,22+n,16,null,e||null);null===o.projection&&(o.projection=t),lg(),64!=(64&o.flags)&&function XP(n,t,e){HT(t[11],0,t,e,NT(n,e,t),BT(e.parent||t[6],e,t))}(i,r,o)}function NM(n,t,e,r,i){const o=n[e+1],l=null===t;let u=r?po(o):os(o),g=!1;for(;0!==u&&(!1===g||l);){const Y=n[u+1];FF(n[u],t)&&(g=!0,n[u+1]=r?gp(Y):hp(Y)),u=r?po(Y):os(Y)}g&&(n[e+1]=r?hp(o):gp(o))}function FF(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ul(n,t)>=0}function Ea(n,t,e){return _o(n,t,e,!1),Ea}function Ur(n,t){return _o(n,t,null,!0),Ur}function _o(n,t,e,r){const i=bt(),o=Fn(),l=Jo(2);o.firstUpdatePass&&function VM(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[mi()],l=function jM(n,t){return t>=n.expandoStartIndex}(n,e);(function GM(n,t){return 0!=(n.flags&(t?16:32))})(o,r)&&null===t&&!l&&(t=!1),t=function KF(n,t,e,r){const i=function cg(n){const t=gn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=Ku(e=jp(null,n,t,e,r),t.attrs,r),o=null);else{const l=t.directiveStylingLast;if(-1===l||n[l]!==i)if(e=jp(i,n,t,e,r),null===o){let g=function GF(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==os(r))return n[po(r)]}(n,t,r);void 0!==g&&Array.isArray(g)&&(g=jp(null,n,t,g[1],r),g=Ku(g,t.attrs,r),function zF(n,t,e,r){n[po(e?t.classBindings:t.styleBindings)]=r}(n,t,r,g))}else o=function YF(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Ku(r,n[o].hostAttrs,e);return Ku(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function NF(n,t,e,r,i,o){let l=o?t.classBindings:t.styleBindings,u=po(l),g=os(l);n[r]=e;let Y,N=!1;if(Array.isArray(e)){const ae=e;Y=ae[1],(null===Y||ul(ae,Y)>0)&&(N=!0)}else Y=e;if(i)if(0!==g){const Se=po(n[u+1]);n[r+1]=md(Se,u),0!==Se&&(n[Se+1]=mp(n[Se+1],r)),n[u+1]=function RL(n,t){return 131071&n|t<<17}(n[u+1],r)}else n[r+1]=md(u,0),0!==u&&(n[u+1]=mp(n[u+1],r)),u=r;else n[r+1]=md(g,0),0===u?u=r:n[g+1]=mp(n[g+1],r),g=r;N&&(n[r+1]=hp(n[r+1])),NM(n,Y,r,!0),NM(n,Y,r,!1),function LF(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&ul(o,t)>=0&&(e[r+1]=gp(e[r+1]))}(t,Y,n,r,o),l=md(u,g),o?t.classBindings=l:t.styleBindings=l}(i,o,t,e,l,r)}}(o,n,l,r),t!==vn&&ri(i,l,t)&&function WM(n,t,e,r,i,o,l,u){if(!(3&t.type))return;const g=n.data,N=g[u+1];Sd(function FC(n){return 1==(1&n)}(N)?KM(g,t,e,i,os(N),l):void 0)||(Sd(o)||function LC(n){return 2==(2&n)}(N)&&(o=KM(g,null,e,i,u,l)),function qP(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:bi.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=bi.Important),n.setStyle(e,r,i,o))}}(r,l,Vf(mi(),e),i,o))}(o,o.data[mi()],i,i[11],n,i[l+1]=function QF(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=mt(Bi(n)))),n}(t,e),r,l)}function jp(n,t,e,r,i){let o=null;const l=e.directiveEnd;let u=e.directiveStylingLast;for(-1===u?u=e.directiveStart:u++;u<l&&(o=t[u],r=Ku(r,o.hostAttrs,i),o!==n);)u++;return null!==n&&(e.directiveStylingLast=u),r}function Ku(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?i=l:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xi(n,l,!!e||t[++o]))}return void 0===n?null:n}function KM(n,t,e,r,i,o){const l=null===t;let u;for(;i>0;){const g=n[i],N=Array.isArray(g),Y=N?g[1]:g,ae=null===Y;let Se=e[i+1];Se===vn&&(Se=ae?Bn:void 0);let Ne=ae?Cg(Se,r):Y===r?Se:void 0;if(N&&!Sd(Ne)&&(Ne=Cg(g,r)),Sd(Ne)&&(u=Ne,l))return u;const ke=n[i+1];i=l?po(ke):os(ke)}if(null!==t){let g=o?t.residualClasses:t.residualStyles;null!=g&&(u=Cg(g,r))}return u}function Sd(n){return void 0!==n}function Mn(n,t=""){const e=bt(),r=Fn(),i=n+22,o=r.firstCreatePass?yl(r,i,1,t,null):r.data[i],l=e[i]=function Bg(n,t){return n.createText(t)}(e[11],t);id(r,e,l,o),Oo(o,!1)}function ii(n){return zr("",n,""),ii}function zr(n,t,e){const r=bt(),i=function Cl(n,t,e,r){return ri(n,tl(),e)?t+nn(e)+r:vn}(r,n,t,e);return i!==vn&&ss(r,mi(),i),zr}function bd(n,t,e,r,i){const o=bt(),l=Ml(o,n,t,e,r,i);return l!==vn&&ss(o,mi(),l),bd}function Vp(n,t,e){const r=bt();return ri(r,tl(),t)&&ki(Fn(),dr(),r,n,t,r[11],e,!0),Vp}const Pl="en-US";let fD=Pl;function Kp(n,t,e,r,i){if(n=Wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Kp(n[o],t,e,r,i);else{const o=Fn(),l=bt();let u=pa(n)?n:Wt(n.provide),g=dC(n);const N=Rr(),Y=1048575&N.providerIndexes,ae=N.directiveStart,Se=N.providerIndexes>>20;if(pa(n)||!n.multi){const Ne=new Tu(g,i,He),ke=zp(u,t,i?Y:Y+Se,ae);-1===ke?(Qf(Mu(N,l),o,u),Gp(o,n,t.length),t.push(u),N.directiveStart++,N.directiveEnd++,i&&(N.providerIndexes+=1048576),e.push(Ne),l.push(Ne)):(e[ke]=Ne,l[ke]=Ne)}else{const Ne=zp(u,t,Y+Se,ae),ke=zp(u,t,Y,Y+Se),Ge=Ne>=0&&e[Ne],ot=ke>=0&&e[ke];if(i&&!ot||!i&&!Ge){Qf(Mu(N,l),o,u);const ct=function mB(n,t,e,r,i){const o=new Tu(n,e,He);return o.multi=[],o.index=t,o.componentProviders=0,xD(o,i,r&&!e),o}(i?hB:dB,e.length,i,r,g);!i&&ot&&(e[ke].providerFactory=ct),Gp(o,n,t.length,0),t.push(u),N.directiveStart++,N.directiveEnd++,i&&(N.providerIndexes+=1048576),e.push(ct),l.push(ct)}else Gp(o,n,Ne>-1?Ne:ke,xD(e[i?ke:Ne],g,!i&&r));!i&&r&&ot&&e[ke].componentProviders++}}}function Gp(n,t,e,r){const i=pa(t),o=function IN(n){return!!n.useClass}(t);if(i||o){const g=(o?Wt(t.useClass):t).prototype.ngOnDestroy;if(g){const N=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const Y=N.indexOf(e);-1===Y?N.push(e,[r,g]):N[Y+1].push(r,g)}else N.push(e,g)}}}function xD(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function zp(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function dB(n,t,e,r){return Yp(this.multi,[])}function hB(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,u=Du(e,e[1],this.providerFactory.index,r);o=u.slice(0,l),Yp(i,o);for(let g=l;g<u.length;g++)o.push(u[g])}else o=[],Yp(i,o);return o}function Yp(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Yn(n,t=[]){return e=>{e.providersResolver=(r,i)=>function fB(n,t,e){const r=Fn();if(r.firstCreatePass){const i=mo(n);Kp(e,r.data,r.blueprint,i,!0),Kp(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Ca{}class BD{}class kD extends Ca{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lp(this);const r=di(t);this._bootstrapComponents=is(r.bootstrap),this._r3Injector=bC(t,e,[{provide:Ca,useValue:this},{provide:gl,useValue:this.componentFactoryResolver}],mt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $p extends BD{constructor(t){super(),this.moduleType=t}create(t){return new kD(this.moduleType,t)}}class pB extends Ca{constructor(t,e,r){super(),this.componentFactoryResolver=new Lp(this),this.instance=null;const i=new fC([...t,{provide:Ca,useValue:this},{provide:gl,useValue:this.componentFactoryResolver}],e||fd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Od(n,t,e=null){return new pB(n,t,e).injector}let _B=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=aC(0,e.type),i=r.length>0?Od([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Pe({token:n,providedIn:"environment",factory:()=>new n(rt(Ns))}),n})();function Xn(n){n.getStandaloneInjector=t=>t.get(_B).getOrCreateStandaloneInjector(n)}function yo(n,t,e,r){return GD(bt(),hi(),n,t,e,r)}function Qp(n,t,e,r,i){return function zD(n,t,e,r,i,o,l){const u=t+e;return ya(n,u,i,o)?Fo(n,u+2,l?r.call(l,i,o):r(i,o)):Qu(n,u+2)}(bt(),hi(),n,t,e,r,i)}function Qu(n,t){const e=n[t];return e===vn?void 0:e}function GD(n,t,e,r,i,o){const l=t+e;return ri(n,l,i)?Fo(n,l+1,o?r.call(o,i):r(i)):Qu(n,l+1)}function ar(n,t){const e=Fn();let r;const i=n+22;e.firstCreatePass?(r=function LB(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=ca(r.type)),l=Mi(He);try{const u=$f(!1),g=o();return $f(u),function IF(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,bt(),i,g),g}finally{Mi(l)}}function lr(n,t,e){const r=n+22,i=bt(),o=el(i,r);return function qu(n,t){return n[1].data[t].pure}(i,r)?GD(i,hi(),t,o.transform,e,o):o.transform(e)}function qp(n){return t=>{setTimeout(n,void 0,t)}}const qn=class UB extends pe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),l=r;if(t&&"object"==typeof t){const g=t;i=g.next?.bind(g),o=g.error?.bind(g),l=g.complete?.bind(g)}this.__isAsync&&(o=qp(o),i&&(i=qp(i)),l&&(l=qp(l)));const u=super.subscribe({next:i,error:o,complete:l});return t instanceof S&&t.add(u),u}};function jB(){return this._results[va()]()}class Nl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=va(),r=Nl.prototype;r[e]||(r[e]=jB)}get changes(){return this._changes||(this._changes=new qn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=Fi(t);(this._changesDetected=!function zO(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ko=(()=>{class n{}return n.__NG_ELEMENT_ID__=WB,n})();const VB=ko,HB=class extends VB{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=_d(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(i[19]=l.createEmbeddedView(r)),Dp(r,i,t),new Uu(i)}};function WB(){return Pd(Rr(),bt())}function Pd(n,t){return 4&n.type?new HB(t,n,pl(n,t)):null}let Ui=(()=>{class n{}return n.__NG_ELEMENT_ID__=KB,n})();function KB(){return ZD(Rr(),bt())}const GB=Ui,QD=class extends GB{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return pl(this._hostTNode,this._hostLView)}get injector(){return new il(this._hostTNode,this._hostLView)}get parentInjector(){const t=Xf(this._hostTNode,this._hostLView);if(YE(t)){const e=rl(t,this._hostLView),r=nl(t);return new il(e[1].data[r+8],e)}return new il(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=qD(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const l=t.createEmbeddedView(e||{},o);return this.insert(l,i),l}createComponent(t,e,r,i,o){const l=t&&!function bu(n){return"function"==typeof n}(t);let u;if(l)u=e;else{const ae=e||{};u=ae.index,r=ae.injector,i=ae.projectableNodes,o=ae.environmentInjector||ae.ngModuleRef}const g=l?t:new ju(Hn(t)),N=r||this.parentInjector;if(!o&&null==g.ngModule){const Se=(l?N:this.parentInjector).get(Ns,null);Se&&(o=Se)}const Y=g.create(N,i,void 0,o);return this.insert(Y.hostView,u),Y}insert(t,e){const r=t._lView,i=r[1];if(function mO(n){return ho(n[3])}(r)){const Y=this.indexOf(t);if(-1!==Y)this.detach(Y);else{const ae=r[3],Se=new QD(ae,ae[6],ae[3]);Se.detach(Se.indexOf(t))}}const o=this._adjustIndex(e),l=this._lContainer;!function WP(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],iT(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const l=t[17];null!==l&&e!==l&&function KP(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(l,t);const u=t[19];null!==u&&u.insertView(n),t[2]|=64}(i,r,l,o);const u=Hg(o,l),g=r[11],N=rd(g,l[7]);return null!==N&&function jP(n,t,e,r,i,o){r[0]=i,r[6]=t,Fu(n,r,e,1,i,o)}(i,l[6],g,r,N,u),t.attachToViewContainerRef(),iT(Zp(l),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=qD(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Ug(this._lContainer,e);r&&(Zf(Zp(this._lContainer),e),PT(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Ug(this._lContainer,e);return r&&null!=Zf(Zp(this._lContainer),e)?new Uu(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function qD(n){return n[8]}function Zp(n){return n[8]||(n[8]=[])}function ZD(n,t){let e;const r=t[n.index];if(ho(r))e=r;else{let i;if(8&n.type)i=Cr(r);else{const o=t[11];i=o.createComment("");const l=Ni(n,t);da(o,rd(o,l),i,function $P(n,t){return n.nextSibling(t)}(o,l),!1)}t[n.index]=e=nM(r,t,i,n),yd(t,e)}return new QD(e,n,t)}class Jp{constructor(t){this.queryList=t,this.matches=null}clone(){return new Jp(this.queryList)}setDirty(){this.queryList.setDirty()}}class e_{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const l=e.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new e_(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==rS(t,e).matches&&this.queries[e].setDirty()}}class JD{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class t_{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new t_(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class n_{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n_(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,$B(e,o)),this.matchTNodeWithReadOption(t,e,qf(e,t,o,!1,!1))}else r===ko?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,qf(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===zn||i===Ui||i===ko&&4&e.type)this.addMatch(e.index,-2);else{const o=qf(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function $B(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function QB(n,t,e,r){return-1===e?function XB(n,t){return 11&n.type?pl(n,t):4&n.type?Pd(n,t):null}(t,n):-2===e?function qB(n,t,e){return e===zn?pl(t,n):e===ko?Pd(t,n):e===Ui?ZD(t,n):void 0}(n,t,r):Du(n,n[1],e,t)}function eS(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const o=n.data,l=e.matches,u=[];for(let g=0;g<l.length;g+=2){const N=l[g];u.push(N<0?null:QB(t,o[N],l[g+1],e.metadata.read))}i.matches=u}return i.matches}function r_(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const l=eS(n,t,i,e);for(let u=0;u<o.length;u+=2){const g=o[u];if(g>0)r.push(l[u/2]);else{const N=o[u+1],Y=t[-g];for(let ae=10;ae<Y.length;ae++){const Se=Y[ae];Se[17]===Se[3]&&r_(Se[1],Se,N,r)}if(null!==Y[9]){const ae=Y[9];for(let Se=0;Se<ae.length;Se++){const Ne=ae[Se];r_(Ne[1],Ne,N,r)}}}}}return r}function ur(n){const t=bt(),e=Fn(),r=BE();fg(r+1);const i=rS(e,r);if(n.dirty&&function hO(n){return 4==(4&n[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?r_(e,t,r,[]):eS(e,t,i,r);n.reset(o,jN),n.notifyOnChanges()}return!0}return!1}function Uo(n,t,e){const r=Fn();r.firstCreatePass&&(nS(r,new JD(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),tS(r,bt(),t)}function oi(n,t,e,r){const i=Fn();if(i.firstCreatePass){const o=Rr();nS(i,new JD(t,e,r),o.index),function JB(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}tS(i,bt(),e)}function cr(){return function ZB(n,t){return n[19].queries[t].queryList}(bt(),BE())}function tS(n,t,e){const r=new Nl(4==(4&e));YC(n,t,r,r.destroy),null===t[19]&&(t[19]=new e_),t[19].queries.push(new Jp(r))}function nS(n,t,e){null===n.queries&&(n.queries=new t_),n.queries.track(new n_(t,e))}function rS(n,t){return n.queries.getByIndex(t)}function Ld(...n){}const Ju=new xt("Application Initializer");let Fd=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Ld,this.reject=Ld,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Wu(o))e.push(o);else if(kp(o)){const l=new Promise((u,g)=>{o.subscribe({complete:u,error:g})});e.push(l)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(rt(Ju,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xd=new xt("AppId",{providedIn:"root",factory:function CS(){return`${l_()}${l_()}${l_()}`}});function l_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const MS=new xt("Platform Initializer"),Bd=new xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u_=new xt("appBootstrapListener"),jo=new xt("AnimationModuleType");let Ek=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Vo=new xt("LocaleId",{providedIn:"root",factory:()=>tr(Vo,on.Optional|on.SkipSelf)||function Tk(){return typeof $localize<"u"&&$localize.locale||Pl}()});class Mk{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let c_=(()=>{class n{compileModuleSync(e){return new $p(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=is(di(e).declarations).reduce((l,u)=>{const g=Hn(u);return g&&l.push(new ju(g)),l},[]);return new Mk(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bk=(()=>Promise.resolve(0))();class In{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qn(!1),this.onMicrotaskEmpty=new qn(!1),this.onStable=new qn(!1),this.onError=new qn(!1),typeof Zone>"u")throw new pt(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Ak(){let n=Qn.requestAnimationFrame,t=Qn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function wk(n){const t=()=>{!function Rk(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Qn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,h_(n),n.isCheckStableRunning=!0,d_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),h_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,l,u)=>{try{return bS(n),e.invokeTask(i,o,l,u)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),AS(n)}},onInvoke:(e,r,i,o,l,u,g)=>{try{return bS(n),e.invoke(i,o,l,u,g)}finally{n.shouldCoalesceRunChangeDetection&&t(),AS(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,h_(n),d_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!In.isInAngularZone())throw new pt(909,!1)}static assertNotInAngularZone(){if(In.isInAngularZone())throw new pt(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,t,Ik,Ld,Ld);try{return o.runTask(l,e,r)}finally{o.cancelTask(l)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const Ik={};function d_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function h_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function AS(n){n._nesting--,d_(n)}class Ok{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qn,this.onMicrotaskEmpty=new qn,this.onStable=new qn,this.onError=new qn}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const IS=new xt("");let Bs=null;const __=new xt("PlatformDestroyListeners");class wS{constructor(t,e){this.name=t,this.token=e}}function Bk(n){const{rootComponent:t,appProviders:e,platformProviders:r}=n,i=function xk(n=[]){if(Bs)return Bs;const t=function PS(n=[],t){return ni.create({name:t,providers:[{provide:np,useValue:"platform"},{provide:__,useValue:new Set([()=>Bs=null])},...n]})}(n);return Bs=t,function OS(n){const t=n.get(MS,null);t&&t.forEach(e=>e())}(t),t}(r),o=function FS(n,t){let e;return e="noop"===n?new Ok:("zone.js"===n?void 0:n)||new In(t),e}("zone.js",function LS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return o.run(()=>{const u=Od([{provide:In,useValue:o},...e||[]],i,"Environment Injector"),g=u.get(rs,null);let N;o.runOutsideAngular(()=>{N=o.onError.subscribe({next:Se=>{g.handleError(Se)}})});const Y=()=>u.destroy(),ae=i.get(__);return ae.add(Y),u.onDestroy(()=>{N.unsubscribe(),ae.delete(Y)}),function xS(n,t,e){try{const r=e();return Wu(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(g,o,()=>{const Se=u.get(Fd);return Se.runInitializers(),Se.donePromise.then(()=>{!function dD(n){Hr(n,"Expected localeId to be defined"),"string"==typeof n&&(fD=n.toLowerCase().replace(/_/g,"-"))}(u.get(Vo,Pl)||Pl);const ke=u.get(xl);return void 0!==t&&ke.bootstrap(t),ke})})})}let xl=(()=>{class n{constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new q(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new q(u=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{In.assertNotInAngularZone(),function f_(n){typeof Zone>"u"?bk.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{In.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{g.unsubscribe(),N.unsubscribe()}});this.isStable=Ze(o,l.pipe(gt()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof hC;if(!this._injector.get(Fd).done)throw!i&&function wo(n){const t=Hn(n)||Wr(n)||Ir(n);return null!==t&&t.standalone}(e),new pt(405,false);let l;l=i?e:this._injector.get(gl).resolveComponentFactory(e),this.componentTypes.push(l.componentType);const u=function Lk(n){return n.isBoundToModule}(l)?void 0:this._injector.get(Ca),N=l.create(ni.NULL,[],r||l.selector,u),Y=N.location.nativeElement,ae=N.injector.get(IS,null);return ae?.registerApplication(Y),N.onDestroy(()=>{this.detachView(N.hostView),Ud(this.components,N),ae?.unregisterApplication(Y)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new pt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Ud(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(u_,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ud(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new pt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(rt(In),rt(Ns),rt(rs))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ud(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let US=!0,ji=(()=>{class n{}return n.__NG_ELEMENT_ID__=Vk,n})();function Vk(n){return function Hk(n,t,e){if(Uf(n)&&!e){const r=Li(n.index,t);return new Uu(r,r)}return 47&n.type?new Uu(t[16],t):null}(Rr(),bt(),16==(16&n))}class KS{constructor(){}supports(t){return Vu(t)}create(t){return new $k(t)}}const Yk=(n,t)=>t;class $k{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Yk}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const l=!r||e&&e.currentIndex<zS(r,i,o)?e:r,u=zS(l,i,o),g=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,null==l.previousIndex)i++;else{o||(o=[]);const N=u-i,Y=g-i;if(N!=Y){for(let Se=0;Se<N;Se++){const Ne=Se<o.length?o[Se]:o[Se]=0,ke=Ne+Se;Y<=ke&&ke<N&&(o[Se]=Ne+1)}o[l.previousIndex]=Y-N}}u!==g&&t(l,u,g)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Vu(t))throw new pt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,l,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let u=0;u<this.length;u++)o=t[u],l=this._trackByFn(u,o),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,o,l,u)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,l,u),r=!0),e=e._next}else i=0,function DF(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[va()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,u=>{l=this._trackByFn(i,u),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,u,l,i)),Object.is(e.item,u)||this._addIdentityChange(e,u)):(e=this._mismatch(e,u,l,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Xk(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new GS),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xk{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qk{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class GS{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new Qk,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zS(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class YS{constructor(){}supports(t){return t instanceof Map||xp(t)}create(){return new qk}}class qk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xp(t)))throw new pt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}const r=new Zk(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class Zk{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $S(){return new Hd([new KS])}let Hd=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||$S()),deps:[[n,new fl,new Ps]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new pt(901,!1)}}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:$S}),n})();function XS(){return new ec([new YS])}let ec=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||XS()),deps:[[n,new fl,new Ps]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new pt(901,!1)}}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:XS}),n})();function ls(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Wd=null;function Ho(){return Wd}const Dn=new xt("DocumentToken");let M_=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return function o1(){return rt(QS)}()},providedIn:"platform"}),n})();const s1=new xt("Location Initialized");let QS=(()=>{class n extends M_{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ho().getBaseHref(this._doc)}onPopState(e){const r=Ho().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Ho().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){qS()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){qS()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn))},n.\u0275prov=Pe({token:n,factory:function(){return function a1(){return new QS(rt(Dn))}()},providedIn:"platform"}),n})();function qS(){return!!window.history.pushState}function D_(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ZS(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function us(n){return n&&"?"!==n[0]?"?"+n:n}let Da=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return tr(eb)},providedIn:"root"}),n})();const JS=new xt("appBaseHref");let eb=(()=>{class n extends Da{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??tr(Dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return D_(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+us(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const l=this.prepareExternalUrl(i+us(o));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){const l=this.prepareExternalUrl(i+us(o));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(rt(M_),rt(JS,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l1=(()=>{class n extends Da{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=D_(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let l=this.prepareExternalUrl(i+us(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){let l=this.prepareExternalUrl(i+us(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(rt(M_),rt(JS,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),Kd=(()=>{class n{constructor(e){this._subject=new qn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=ZS(tb(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+us(r))}normalize(e){return n.stripTrailingSlash(function c1(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,tb(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+us(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+us(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=us,n.joinWithSlash=D_,n.stripTrailingSlash=ZS,n.\u0275fac=function(e){return new(e||n)(rt(Da))},n.\u0275prov=Pe({token:n,factory:function(){return function u1(){return new Kd(rt(Da))}()},providedIn:"root"}),n})();function tb(n){return n.replace(/\/index.html$/,"")}function cb(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let Bl=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Vu(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${mt(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(He(Hd),He(ec),He(zn),He(ns))},n.\u0275dir=Yt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class $1{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ks=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $1(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===o?void 0:o);else if(null!==o){const u=r.get(o);r.move(u,l),hb(u,i)}});for(let i=0,o=r.length;i<o;i++){const u=r.get(i).context;u.index=i,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{hb(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(He(Ui),He(ko),He(Hd))},n.\u0275dir=Yt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function hb(n,t){n.context.$implicit=t.item}let Fr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Q1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){mb("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){mb("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(He(Ui),He(ko))},n.\u0275dir=Yt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Q1{constructor(){this.$implicit=null,this.ngIf=null}}function mb(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${mt(t)}'.`)}class L_{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let rc=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Yt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),F_=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new L_(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(He(Ui),He(ko),He(rc,9))},n.\u0275dir=Yt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ic=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split("."),l=-1===i.indexOf("-")?void 0:bi.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(ec),He(ns))},n.\u0275dir=Yt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class eU{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class tU{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const nU=new tU,rU=new eU;let Us=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Wu(e))return nU;if(yM(e))return rU;throw function Co(n,t){return new pt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(He(ji,16))},n.\u0275pipe=Ar({name:"async",type:n,pure:!1,standalone:!0}),n})(),Jn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({}),n})();const _b="browser";let j_,DU=(()=>{class n{}return n.\u0275prov=Pe({token:n,providedIn:"root",factory:()=>new SU(rt(Dn),window)}),n})();class SU{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function bU(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=vb(this.window.history)||vb(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vb(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yb{}try{j_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{j_=!1}let kl,Yr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function MU(n){return n===_b}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!j_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(rt(Bd))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Db(){if(kl)return kl;if("object"!=typeof document||!document)return kl=new Set(Mb),kl;let n=document.createElement("input");return kl=new Set(Mb.filter(t=>(n.setAttribute("type",t),n.type===t))),kl}let sc,Sa,V_;function Ul(n){return function KU(){if(null==sc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>sc=!0}))}finally{sc=sc||!1}return sc}()?n:!!n.capture}function GU(){if(null==Sa){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Sa=!1,Sa;if("scrollBehavior"in document.documentElement.style)Sa=!0;else{const n=Element.prototype.scrollTo;Sa=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Sa}function Sb(n){if(function zU(){if(null==V_){const n=typeof document<"u"?document.head:null;V_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return V_}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ba(n){return n.composedPath?n.composedPath()[0]:n.target}function H_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class Vi extends pe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function qt(...n){return Ve(n,Kn(n))}function G_(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Wn(n,t,e){const r=c(n)||t||e?{next:n,error:t,complete:e}:n;return r?ge((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let u=!0;i.subscribe(fe(o,g=>{var N;null===(N=r.next)||void 0===N||N.call(r,g),o.next(g)},()=>{var g;u=!1,null===(g=r.complete)||void 0===g||g.call(r),o.complete()},g=>{var N;u=!1,null===(N=r.error)||void 0===N||N.call(r,g),o.error(g)},()=>{var g,N;u&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(N=r.finalize)||void 0===N||N.call(r)}))}):ne}class aj extends S{constructor(t,e){super()}schedule(t,e=0){return this}}const nh={setInterval(n,t,...e){const{delegate:r}=nh;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=nh;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class z_ extends aj{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return nh.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&nh.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,M(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Rb={now:()=>(Rb.delegate||Date).now(),delegate:void 0};class ac{constructor(t,e=ac.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}ac.now=Rb.now;class Y_ extends ac{constructor(t,e=ac.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const rh=new Y_(z_),lj=rh;function ih(n,t=rh){return ge((e,r)=>{let i=null,o=null,l=null;const u=()=>{if(i){i.unsubscribe(),i=null;const N=o;o=null,r.next(N)}};function g(){const N=l+n,Y=t.now();if(Y<N)return i=this.schedule(void 0,N-Y),void r.add(i);u()}e.subscribe(fe(r,N=>{o=N,l=t.now(),i||(i=t.schedule(g,n),r.add(i))},()=>{u(),r.complete()},void 0,()=>{o=i=null}))})}function xr(n,t){return ge((e,r)=>{let i=0;e.subscribe(fe(r,o=>n.call(t,o,i++)&&r.next(o)))})}function wb(n){return xr((t,e)=>n<=e)}function cj(n,t){return n===t}function $r(n){return ge((t,e)=>{Me(n).subscribe(fe(e,()=>e.complete(),x)),!e.closed&&t.subscribe(e)})}function Mo(n){return null!=n&&"false"!=`${n}`}function jl(n,t=0){return function fj(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function oh(n){return Array.isArray(n)?n:[n]}function Sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function fs(n){return n instanceof zn?n.nativeElement:n}let Ob=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dj=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=fs(e);return new q(i=>{const l=this._observeElement(r).subscribe(i);return()=>{l.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new pe,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(rt(Ob))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hj=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new qn,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Mo(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=jl(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ih(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(He(dj),He(zn),He(In))},n.\u0275dir=Yt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Pb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({providers:[Ob]}),n})();const{isArray:mj}=Array,{getPrototypeOf:gj,prototype:pj,keys:_j}=Object;function Nb(n){if(1===n.length){const t=n[0];if(mj(t))return{args:t,keys:null};if(function vj(n){return n&&"object"==typeof n&&gj(n)===pj}(t)){const e=_j(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:yj}=Array;function $_(n){return X(t=>function Ej(n,t){return yj(t)?n(...t):n(t)}(n,t))}function Lb(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function X_(...n){const t=Kn(n),e=Vn(n),{args:r,keys:i}=Nb(n);if(0===r.length)return Ve([],t);const o=new q(function Tj(n,t,e=ne){return r=>{Fb(t,()=>{const{length:i}=n,o=new Array(i);let l=i,u=i;for(let g=0;g<i;g++)Fb(t,()=>{const N=Ve(n[g],t);let Y=!1;N.subscribe(fe(r,ae=>{o[g]=ae,Y||(Y=!0,u--),u||r.next(e(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,i?l=>Lb(i,l):ne));return e?o.pipe($_(e)):o}function Fb(n,t,e){n?Be(e,n,t):t()}function lc(...n){return function Cj(){return dt(1)}()(Ve(n,Kn(n)))}function vi(n){return n<=0?()=>Mt:ge((t,e)=>{let r=0;t.subscribe(fe(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function js(...n){const t=Kn(n);return ge((e,r)=>{(t?lc(n,e,t):lc(n,e)).subscribe(r)})}const xb=new Set;let Vl,Mj=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Sj}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Dj(n){if(!xb.has(n))try{Vl||(Vl=document.createElement("style"),Vl.setAttribute("type","text/css"),document.head.appendChild(Vl)),Vl.sheet&&(Vl.sheet.insertRule(`@media ${n} {body{ }}`,0),xb.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(rt(Yr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sj(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Bb=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new pe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return kb(oh(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=X_(kb(oh(e)).map(l=>this._registerQuery(l).observable));return o=lc(o.pipe(vi(1)),o.pipe(wb(1),ih(0))),o.pipe(X(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:g,query:N})=>{u.matches=u.matches||g,u.breakpoints[N]=g}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new q(l=>{const u=g=>this._zone.run(()=>l.next(g));return r.addListener(u),()=>{r.removeListener(u)}}).pipe(js(r),X(({matches:l})=>({query:e,matches:l})),$r(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(rt(Mj),rt(In))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kb(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function sh(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const jb="cdk-describedby-message",ah="cdk-describedby-host";let Q_=0,Rj=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Q_++,this._document=e,this._id=tr(xd)+"-"+Q_++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const o=q_(r,i);"string"!=typeof r?(Vb(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const o=q_(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof r){const l=this._messageRegistry.get(o);l&&0===l.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${ah}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(ah);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");Vb(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(q_(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=sh(e,"aria-describedby").filter(i=>0!=i.indexOf(jb));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function Aj(n,t,e){const r=sh(n,t);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),n.setAttribute(t,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(ah,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function Ij(n,t,e){const i=sh(n,t).filter(o=>o!=e.trim());i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(ah)}_isElementDescribedByMessage(e,r){const i=sh(e,"aria-describedby"),o=this._messageRegistry.get(r),l=o&&o.messageElement.id;return!!l&&-1!=i.indexOf(l)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=e.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn),rt(Yr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function q_(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function Vb(n,t){n.id||(n.id=`${jb}-${t}-${Q_++}`)}class Oj extends class wj{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new pe,this._typeaheadSubscription=S.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new pe,this.change=new pe,t instanceof Nl&&t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Wn(e=>this._pressedLetters.push(e)),ih(t),xr(()=>this._pressedLetters.length>0),X(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,l=r[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||G_(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Nl?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Z_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function J_(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Bj=new xt("cdk-input-modality-detector-options"),kj={ignoreKeys:[18,17,224,91,16]},Hl=Ul({passive:!0,capture:!0});let Uj=(()=>{class n{constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Vi(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ba(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Z_(l)?"keyboard":"mouse"),this._mostRecentTarget=ba(l))},this._onTouchstart=l=>{J_(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ba(l))},this._options={...kj,...o},this.modalityDetected=this._modality.pipe(wb(1)),this.modalityChanged=this.modalityDetected.pipe(function uj(n,t=ne){return n=n??cj,ge((e,r)=>{let i,o=!0;e.subscribe(fe(r,l=>{const u=t(l);(o||!n(i,u))&&(o=!1,i=u,r.next(l))}))})}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Hl),i.addEventListener("mousedown",this._onMousedown,Hl),i.addEventListener("touchstart",this._onTouchstart,Hl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hl),document.removeEventListener("mousedown",this._onMousedown,Hl),document.removeEventListener("touchstart",this._onTouchstart,Hl))}}return n.\u0275fac=function(e){return new(e||n)(rt(Yr),rt(In),rt(Dn),rt(Bj,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vj=new xt("cdk-focus-monitor-default-options"),lh=Ul({passive:!0,capture:!0});let uh=(()=>{class n{constructor(e,r,i,o,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pe,this._rootNodeFocusAndBlurListener=u=>{for(let N=ba(u);N;N=N.parentElement)"focus"===u.type?this._onFocus(u,N):this._onBlur(u,N)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,r=!1){const i=fs(e);if(!this._platform.isBrowser||1!==i.nodeType)return qt(null);const o=Sb(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const u={checkChildren:r,subject:new pe,rootNode:o};return this._elementInfo.set(i,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const r=fs(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=fs(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,g])=>this._originChanged(u,r,g)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=ba(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,lh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,lh)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($r(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(rt(In),rt(Yr),rt(Uj),rt(Dn,8),rt(Vj,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kb="cdk-high-contrast-black-on-white",Gb="cdk-high-contrast-white-on-black",ev="cdk-high-contrast-active";let zb=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=tr(Bb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(ev,Kb,Gb),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(ev,Kb):2===r&&e.add(ev,Gb)}}}return n.\u0275fac=function(e){return new(e||n)(rt(Yr),rt(Dn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hj=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(rt(zb))},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[Pb]}),n})();const Wj=new xt("cdk-dir-doc",{providedIn:"root",factory:function Kj(){return tr(Dn)}}),Gj=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ch=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new qn,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function zj(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Gj.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(rt(Wj,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({}),n})();const $j=new xt("mat-sanity-checks",{providedIn:"root",factory:function Yj(){return!0}});let Br=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!H_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(rt(zb),rt($j,8),rt(Dn))},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[uc,uc]}),n})();function Xb(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Mo(t)}}}function cc(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Qb(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Mo(t)}}}function Xj(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}let tv=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qj{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const qb={enterDuration:225,exitDuration:150},nv=Ul({passive:!0}),Zb=["mousedown","touchstart"],Jb=["mouseup","mouseleave","touchend","touchcancel"];class Jj{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=fs(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...qb,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const l=r.radius||function eV(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),u=t-i.left,g=e-i.top,N=o.enterDuration,Y=document.createElement("div");Y.classList.add("mat-ripple-element"),Y.style.left=u-l+"px",Y.style.top=g-l+"px",Y.style.height=2*l+"px",Y.style.width=2*l+"px",null!=r.color&&(Y.style.backgroundColor=r.color),Y.style.transitionDuration=`${N}ms`,this._containerElement.appendChild(Y);const ae=window.getComputedStyle(Y),Ne=ae.transitionDuration,ke="none"===ae.transitionProperty||"0s"===Ne||"0s, 0s"===Ne,Ge=new qj(this,Y,r,ke);Y.style.transform="scale3d(1, 1, 1)",Ge.state=0,r.persistent||(this._mostRecentTransientRipple=Ge);let ot=null;return!ke&&(N||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ct=()=>this._finishRippleTransition(Ge),Ot=()=>this._destroyRipple(Ge);Y.addEventListener("transitionend",ct),Y.addEventListener("transitioncancel",Ot),ot={onTransitionEnd:ct,onTransitionCancel:Ot}}),this._activeRipples.set(Ge,ot),(ke||!N)&&this._finishRippleTransition(Ge),Ge}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...qb,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=fs(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Zb))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Jb),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Z_(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!J_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,nv)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Zb.forEach(t=>{this._triggerElement.removeEventListener(t,this,nv)}),this._pointerUpEventsRegistered&&Jb.forEach(t=>{this._triggerElement.removeEventListener(t,this,nv)}))}}const tV=new xt("mat-ripple-global-options");let rv=(()=>{class n{constructor(e,r,i,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Jj(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(In),He(Yr),He(tV,8),He(jo,8))},n.\u0275dir=Yt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Ur("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),dc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[Br,Br]}),n})();function yi(n,t){const e=c(n)?n:()=>n,r=i=>i.error(e());return new q(t?i=>t.schedule(r,0,i):r)}function eA(...n){const t=Vn(n),{args:e,keys:r}=Nb(n),i=new q(o=>{const{length:l}=e;if(!l)return void o.complete();const u=new Array(l);let g=l,N=l;for(let Y=0;Y<l;Y++){let ae=!1;Me(e[Y]).subscribe(fe(o,Se=>{ae||(ae=!0,N--),u[Y]=Se},()=>g--,void 0,()=>{(!g||!ae)&&(N||o.next(r?Lb(r,u):u),o.complete())}))}});return t?i.pipe($_(t)):i}function ro(n){return ge((t,e)=>{let o,r=null,i=!1;r=t.subscribe(fe(e,void 0,void 0,l=>{o=Me(n(l,ro(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function fh(n){return ge((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Vs(n,t){return c(t)?et(n,t,1):et(n,1)}class tA{}class nA{}class ds{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ds?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ds;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ds?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(u=>-1===o.indexOf(u)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nV{encodeKey(t){return rA(t)}encodeValue(t){return rA(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const iV=/%(\d[a-f0-9])/gi,oV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rA(n){return encodeURIComponent(n).replace(iV,(t,e)=>oV[e]??t)}function dh(n){return`${n}`}class Hs{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nV,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rV(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,u]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],g=e.get(l)||[];g.push(u),e.set(l,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(dh):[dh(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hs({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(dh(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(dh(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class sV{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function iA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function oA(n){return typeof Blob<"u"&&n instanceof Blob}function sA(n){return typeof FormData<"u"&&n instanceof FormData}class hc{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function aV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ds),this.context||(this.context=new sV),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+l}}else this.params=new Hs,this.urlWithParams=e}serializeBody(){return null===this.body?null:iA(this.body)||oA(this.body)||sA(this.body)||function lV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sA(this.body)?null:oA(this.body)?this.body.type||null:iA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,N=t.params||this.params;const Y=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((ae,Se)=>ae.set(Se,t.setHeaders[Se]),g)),t.setParams&&(N=Object.keys(t.setParams).reduce((ae,Se)=>ae.set(Se,t.setParams[Se]),N)),new hc(e,r,o,{params:N,headers:g,context:Y,reportProgress:u,responseType:i,withCredentials:l})}}var br=(()=>((br=br||{})[br.Sent=0]="Sent",br[br.UploadProgress=1]="UploadProgress",br[br.ResponseHeader=2]="ResponseHeader",br[br.DownloadProgress=3]="DownloadProgress",br[br.Response=4]="Response",br[br.User=5]="User",br))();class iv{constructor(t,e=200,r="OK"){this.headers=t.headers||new ds,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ov extends iv{constructor(t={}){super(t),this.type=br.ResponseHeader}clone(t={}){return new ov({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class mc extends iv{constructor(t={}){super(t),this.type=br.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new mc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class gc extends iv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function sv(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let av=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof hc)o=e;else{let g,N;g=i.headers instanceof ds?i.headers:new ds(i.headers),i.params&&(N=i.params instanceof Hs?i.params:new Hs({fromObject:i.params})),o=new hc(e,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:N,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=qt(o).pipe(Vs(g=>this.handler.handle(g)));if(e instanceof hc||"events"===i.observe)return l;const u=l.pipe(xr(g=>g instanceof mc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(X(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return u.pipe(X(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return u.pipe(X(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return u.pipe(X(g=>g.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Hs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,sv(i,r))}post(e,r,i={}){return this.request("POST",e,sv(i,r))}put(e,r,i={}){return this.request("PUT",e,sv(i,r))}}return n.\u0275fac=function(e){return new(e||n)(rt(tA))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class aA{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Wl=new xt("HTTP_INTERCEPTORS");let uV=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const cV=/^\)\]\}',?\n/;let lA=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new q(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((Ne,ke)=>i.setRequestHeader(Ne,ke.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Ne=e.detectContentTypeHeader();null!==Ne&&i.setRequestHeader("Content-Type",Ne)}if(e.responseType){const Ne=e.responseType.toLowerCase();i.responseType="json"!==Ne?Ne:"text"}const o=e.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const Ne=i.statusText||"OK",ke=new ds(i.getAllResponseHeaders()),Ge=function fV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return l=new ov({headers:ke,status:i.status,statusText:Ne,url:Ge}),l},g=()=>{let{headers:Ne,status:ke,statusText:Ge,url:ot}=u(),ct=null;204!==ke&&(ct=typeof i.response>"u"?i.responseText:i.response),0===ke&&(ke=ct?200:0);let Ot=ke>=200&&ke<300;if("json"===e.responseType&&"string"==typeof ct){const ft=ct;ct=ct.replace(cV,"");try{ct=""!==ct?JSON.parse(ct):null}catch(Ht){ct=ft,Ot&&(Ot=!1,ct={error:Ht,text:ct})}}Ot?(r.next(new mc({body:ct,headers:Ne,status:ke,statusText:Ge,url:ot||void 0})),r.complete()):r.error(new gc({error:ct,headers:Ne,status:ke,statusText:Ge,url:ot||void 0}))},N=Ne=>{const{url:ke}=u(),Ge=new gc({error:Ne,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ke||void 0});r.error(Ge)};let Y=!1;const ae=Ne=>{Y||(r.next(u()),Y=!0);let ke={type:br.DownloadProgress,loaded:Ne.loaded};Ne.lengthComputable&&(ke.total=Ne.total),"text"===e.responseType&&!!i.responseText&&(ke.partialText=i.responseText),r.next(ke)},Se=Ne=>{let ke={type:br.UploadProgress,loaded:Ne.loaded};Ne.lengthComputable&&(ke.total=Ne.total),r.next(ke)};return i.addEventListener("load",g),i.addEventListener("error",N),i.addEventListener("timeout",N),i.addEventListener("abort",N),e.reportProgress&&(i.addEventListener("progress",ae),null!==o&&i.upload&&i.upload.addEventListener("progress",Se)),i.send(o),r.next({type:br.Sent}),()=>{i.removeEventListener("error",N),i.removeEventListener("abort",N),i.removeEventListener("load",g),i.removeEventListener("timeout",N),e.reportProgress&&(i.removeEventListener("progress",ae),null!==o&&i.upload&&i.upload.removeEventListener("progress",Se)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(rt(yb))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const lv=new xt("XSRF_COOKIE_NAME"),uv=new xt("XSRF_HEADER_NAME");class uA{}let dV=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=cb(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn),rt(Bd),rt(lv))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),cv=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(rt(uA),rt(uv))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),hV=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(Wl,[]);this.chain=r.reduceRight((i,o)=>new aA(i,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(rt(nA),rt(ni))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),mV=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:cv,useClass:uV}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:lv,useValue:e.cookieName}:[],e.headerName?{provide:uv,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({providers:[cv,{provide:Wl,useExisting:cv,multi:!0},{provide:uA,useClass:dV},{provide:lv,useValue:"XSRF-TOKEN"},{provide:uv,useValue:"X-XSRF-TOKEN"}]}),n})(),gV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({providers:[av,{provide:tA,useClass:hV},lA,{provide:nA,useExisting:lA}],imports:[mV.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();class fv extends class pV extends class r1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function n1(n){Wd||(Wd=n)}(new fv)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function _V(){return pc=pc||document.querySelector("base"),pc?pc.getAttribute("href"):null}();return null==e?null:function vV(n){hh=hh||document.createElement("a"),hh.setAttribute("href",n);const t=hh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){pc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return cb(document.cookie,t)}}let hh,pc=null,CV=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const mh=new xt("EventManagerPlugins");let gh=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const l=i[o];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(rt(mh),rt(In))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class cA{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Ho().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let fA=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),_c=(()=>{class n extends fA{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const l=this._doc.createElement("style");l.textContent=o,i.push(r.appendChild(l))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(dA),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(dA))}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();function dA(n){Ho().remove(n)}const dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hv=/%COMP%/g;function ph(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?ph(n,i,e):(i=i.replace(hv,n),e.push(i))}return e}function gA(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let _h=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new mv(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case Oi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new IV(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case Oi.ShadowDom:return new RV(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=ph(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(rt(gh),rt(_c),rt(xd))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class mv{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(dv[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(_A(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(_A(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=dv[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=dv[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(bi.DashCase|bi.Important)?t.style.setProperty(e,r,i&bi.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&bi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gA(r)):this.eventManager.addEventListener(t,e,gA(r))}}function _A(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class IV extends mv{constructor(t,e,r,i){super(t),this.component=r;const o=ph(i+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function SV(n){return"_ngcontent-%COMP%".replace(hv,n)}(i+"-"+r.id),this.hostAttr=function bV(n){return"_nghost-%COMP%".replace(hv,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class RV extends mv{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ph(i.id,i.styles,[]);for(let l=0;l<o.length;l++){const u=document.createElement("style");u.textContent=o[l],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const vA=["alt","control","meta","shift"],OV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function EA(n){return{appProviders:[...VV,...n?.providers??[]],platformProviders:kV}}const kV=[{provide:Bd,useValue:_b},{provide:MS,useValue:function FV(){fv.makeCurrent()},multi:!0},{provide:Dn,useFactory:function BV(){return function tN(n){Yg=n}(document),document},deps:[]}],VV=[{provide:np,useValue:"root"},{provide:rs,useFactory:function xV(){return new rs},deps:[]},{provide:mh,useClass:(()=>{class n extends cA{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Dn,In,Bd]},{provide:mh,useClass:(()=>{class n extends cA{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),l=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ho().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let l="",u=r.indexOf("code");if(u>-1&&(r.splice(u,1),l="code."),vA.forEach(N=>{const Y=r.indexOf(N);Y>-1&&(r.splice(Y,1),l+=N+".")}),l+=o,0!=r.length||0===o.length)return null;const g={};return g.domEventName=i,g.fullKey=l,g}static matchEventFullKeyCode(e,r){let i=OV[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),vA.forEach(l=>{l!==i&&(0,PV[l])(e)&&(o+=l+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Dn]},{provide:_h,useClass:_h,deps:[gh,_c,xd]},{provide:ku,useExisting:_h},{provide:fA,useExisting:_c},{provide:_c,useClass:_c,deps:[Dn]},{provide:gh,useClass:gh,deps:[mh,In]},{provide:yb,useClass:CV,deps:[]},[]];let TA=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn))},n.\u0275prov=Pe({token:n,factory:function(e){let r=null;return r=e?new e:function WV(){return new TA(rt(Dn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ks=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(e){let r=null;return r=e?new(e||n):rt(DA),r},providedIn:"root"}),n})(),DA=(()=>{class n extends Ks{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Un.NONE:return r;case Un.HTML:return No(r,"HTML")?Bi(r):eC(this._doc,String(r)).toString();case Un.STYLE:return No(r,"Style")?Bi(r):r;case Un.SCRIPT:if(No(r,"Script"))return Bi(r);throw new Error("unsafe value used in a script context");case Un.URL:return No(r,"URL")?Bi(r):ld(String(r));case Un.RESOURCE_URL:if(No(r,"ResourceURL"))return Bi(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function lN(n){return new nN(n)}(e)}bypassSecurityTrustStyle(e){return function uN(n){return new rN(n)}(e)}bypassSecurityTrustScript(e){return function cN(n){return new iN(n)}(e)}bypassSecurityTrustUrl(e){return function fN(n){return new oN(n)}(e)}bypassSecurityTrustResourceUrl(e){return function dN(n){return new sN(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn))},n.\u0275prov=Pe({token:n,factory:function(e){let r=null;return r=e?new e:function QV(n){return new DA(n.get(Dn))}(rt(ni)),r},providedIn:"root"}),n})();const qV=["*"];let vh;function vc(n){return function ZV(){if(void 0===vh&&(vh=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(vh=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return vh}()?.createHTML(n)||n}function SA(n){return Error(`Unable to find icon with the name "${n}"`)}function bA(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function AA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Aa{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let yc=(()=>{class n{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Aa(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){const l=this._sanitizer.sanitize(Un.HTML,i);if(!l)throw AA(i);const u=vc(l);return this._addSvgIconConfig(e,r,new Aa("",u,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Aa(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const o=this._sanitizer.sanitize(Un.HTML,r);if(!o)throw AA(r);const l=vc(o);return this._addSvgIconSetConfig(e,new Aa("",l,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(Un.RESOURCE_URL,e);if(!r)throw bA(e);const i=this._cachedIconsByUrl.get(r);return i?qt(yh(i)):this._loadSvgIconFromConfig(new Aa(e,null)).pipe(Wn(o=>this._cachedIconsByUrl.set(r,o)),X(o=>yh(o)))}getNamedSvgIcon(e,r=""){const i=IA(r,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):yi(SA(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?qt(yh(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(X(r=>yh(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?qt(i):eA(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(ro(u=>{const N=`Loading icon set URL: ${this._sanitizer.sanitize(Un.RESOURCE_URL,l.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(N)),qt(null)})))).pipe(X(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw SA(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(l,e,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Wn(r=>e.svgText=r),X(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?qt(null):this._fetchIcon(e).pipe(Wn(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const o=e.querySelector(`[id="${r}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const u=this._svgElementFromString(vc("<svg></svg>"));return u.appendChild(l),this._setSvgAttributes(u,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(vc("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:l,value:u}=i[o];"id"!==l&&r.setAttribute(l,u)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function JV(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(Un.RESOURCE_URL,r);if(!l)throw bA(r);const u=this._inProgressUrlFetches.get(l);if(u)return u;const g=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe(X(N=>vc(N)),fh(()=>this._inProgressUrlFetches.delete(l)),gt());return this._inProgressUrlFetches.set(l,g),g}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(IA(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,e);if(o)return tH(o)?new Aa(o.url,null,o.options):new Aa(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(rt(av,8),rt(Ks),rt(Dn,8),rt(rs))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yh(n){return n.cloneNode(!0)}function IA(n,t){return n+":"+t}function tH(n){return!(!n.url||!n.options)}const nH=cc(class{constructor(n){this._elementRef=n}}),rH=new xt("MAT_ICON_DEFAULT_OPTIONS"),iH=new xt("mat-icon-location",{providedIn:"root",factory:function oH(){const n=tr(Dn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),RA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],sH=RA.map(n=>`[${n}]`).join(", "),aH=/^url\(['"]?#(.*?)['"]?\)$/;let Do=(()=>{class n extends nH{constructor(e,r,i,o,l,u){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=S.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Mo(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(sH),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)RA.forEach(l=>{const u=r[o],g=u.getAttribute(l),N=g?g.match(aH):null;if(N){let Y=i.get(u);Y||(Y=[],i.set(u,Y)),Y.push({name:l,value:N[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(vi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(yc),fa("aria-hidden"),He(iH),He(rs),He(rH,8))},n.\u0275cmp=Tn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(sr("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ur("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[An],ngContentSelectors:qV,decls:1,vars:0,template:function(e,r){1&e&&(xs(),Gr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Ei=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[Br,Br]}),n})();class wA{}const hs="*";function Ec(n,t){return{type:7,name:n,definitions:t,options:{}}}function Gs(n,t=null){return{type:4,styles:t,timings:n}}function OA(n,t=null){return{type:2,steps:n,options:t}}function jr(n){return{type:6,styles:n,offset:null}}function Ia(n,t,e){return{type:0,name:n,styles:t,options:e}}function zs(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function PA(n){Promise.resolve().then(n)}class Tc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){PA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class NA{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?PA(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++r==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class cH{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const dH=new xt("mat-snack-bar-default-options",{providedIn:"root",factory:function hH(){return new cH}});function LA(n){return new pt(3e3,!1)}function $H(){return typeof window<"u"&&typeof window.document<"u"}function _v(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ys(n){switch(n.length){case 0:return new Tc;case 1:return n[0];default:return new NA(n)}}function FA(n,t,e,r,i=new Map,o=new Map){const l=[],u=[];let g=-1,N=null;if(r.forEach(Y=>{const ae=Y.get("offset"),Se=ae==g,Ne=Se&&N||new Map;Y.forEach((ke,Ge)=>{let ot=Ge,ct=ke;if("offset"!==Ge)switch(ot=t.normalizePropertyName(ot,l),ct){case"!":ct=i.get(Ge);break;case hs:ct=o.get(Ge);break;default:ct=t.normalizeStyleValue(Ge,ot,ct,l)}Ne.set(ot,ct)}),Se||u.push(Ne),N=Ne,g=ae}),l.length)throw function xH(n){return new pt(3502,!1)}();return u}function vv(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&yv(e,"start",n)));break;case"done":n.onDone(()=>r(e&&yv(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&yv(e,"destroy",n)))}}function yv(n,t,e){const o=Ev(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(o._data=l),o}function Ev(n,t,e,r,i="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!l}}function Hi(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function xA(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Tv=(n,t)=>!1,BA=(n,t,e)=>[],kA=null;function Cv(n){const t=n.parentNode||n.host;return t===kA?null:t}(_v()||typeof Element<"u")&&($H()?(kA=(()=>document.documentElement)(),Tv=(n,t)=>{for(;t;){if(t===n)return!0;t=Cv(t)}return!1}):Tv=(n,t)=>n.contains(t),BA=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Ra=null,UA=!1;const jA=Tv,VA=BA;let HA=(()=>{class n{validateStyleProperty(e){return function QH(n){Ra||(Ra=function qH(){return typeof document<"u"?document.body:null}()||{},UA=!!Ra.style&&"WebkitAppearance"in Ra.style);let t=!0;return Ra.style&&!function XH(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ra.style,!t&&UA&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ra.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return jA(e,r)}getParentElement(e){return Cv(e)}query(e,r,i){return VA(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,l,u=[],g){return new Tc(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})(),Mv=(()=>{class n{}return n.NOOP=new HA,n})();const Dv="ng-enter",Eh="ng-leave",Th="ng-trigger",Ch=".ng-trigger",KA="ng-animating",Sv=".ng-animating";function ms(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:bv(parseFloat(t[1]),t[2])}function bv(n,t){return"s"===t?1e3*n:n}function Mh(n,t,e){return n.hasOwnProperty("duration")?n:function e2(n,t,e){let i,o=0,l="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(LA()),{duration:0,delay:0,easing:""};i=bv(parseFloat(u[1]),u[2]);const g=u[3];null!=g&&(o=bv(parseFloat(g),u[4]));const N=u[5];N&&(l=N)}else i=n;if(!e){let u=!1,g=t.length;i<0&&(t.push(function mH(){return new pt(3100,!1)}()),u=!0),o<0&&(t.push(function gH(){return new pt(3101,!1)}()),u=!0),u&&t.splice(g,0,LA())}return{duration:i,delay:o,easing:l}}(n,t,e)}function Cc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function GA(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function $s(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function YA(n,t,e){return e?t+":"+e+";":""}function $A(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=YA(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=YA(0,o2(e),n.style[e]));n.setAttribute("style",t)}function Wo(n,t,e){n.style&&(t.forEach((r,i)=>{const o=Iv(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),_v()&&$A(n))}function wa(n,t){n.style&&(t.forEach((e,r)=>{const i=Iv(r);n.style[i]=""}),_v()&&$A(n))}function Mc(n){return Array.isArray(n)?1==n.length?n[0]:OA(n):n}const Av=new RegExp("{{\\s*(.+?)\\s*}}","g");function XA(n){let t=[];if("string"==typeof n){let e;for(;e=Av.exec(n);)t.push(e[1]);Av.lastIndex=0}return t}function Dc(n,t,e){const r=n.toString(),i=r.replace(Av,(o,l)=>{let u=t[l];return null==u&&(e.push(function _H(n){return new pt(3003,!1)}()),u=""),u.toString()});return i==r?n:i}function Dh(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const r2=/-+([a-z0-9])/g;function Iv(n){return n.replace(r2,(...t)=>t[1].toUpperCase())}function o2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wi(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function vH(n){return new pt(3004,!1)}()}}function QA(n,t){return window.getComputedStyle(n)[t]}function f2(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function d2(n,t,e){if(":"==n[0]){const g=function h2(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function PH(n){return new pt(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function OH(n){return new pt(3015,!1)}()),t;const i=r[1],o=r[2],l=r[3];t.push(qA(i,l));"<"==o[0]&&!("*"==i&&"*"==l)&&t.push(qA(l,i))}(r,e,t)):e.push(n),e}const Ih=new Set(["true","1"]),Rh=new Set(["false","0"]);function qA(n,t){const e=Ih.has(n)||Rh.has(n),r=Ih.has(t)||Rh.has(t);return(i,o)=>{let l="*"==n||n==i,u="*"==t||t==o;return!l&&e&&"boolean"==typeof i&&(l=i?Ih.has(n):Rh.has(n)),!u&&r&&"boolean"==typeof o&&(u=o?Ih.has(t):Rh.has(t)),l&&u}}const m2=new RegExp("s*:selfs*,?","g");function Rv(n,t,e,r){return new g2(n).build(t,e,r)}class g2{constructor(t){this._driver=t}build(t,e,r){const i=new v2(e);return this._resetContextStyleTimingState(i),Wi(this,Mc(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function EH(){return new pt(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const g=u,N=g.name;N.toString().split(/\s*,\s*/).forEach(Y=>{g.name=Y,o.push(this.visitState(g,e))}),g.name=N}else if(1==u.type){const g=this.visitTransition(u,e);r+=g.queryCount,i+=g.depCount,l.push(g)}else e.errors.push(function TH(){return new pt(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,l=i||{};r.styles.forEach(u=>{u instanceof Map&&u.forEach(g=>{XA(g).forEach(N=>{l.hasOwnProperty(N)||o.add(N)})})}),o.size&&(Dh(o.values()),e.errors.push(function CH(n,t){return new pt(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Wi(this,Mc(t.animation),e);return{type:1,matchers:f2(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Oa(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Wi(this,r,e)),options:Oa(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(l=>{e.currentTime=r;const u=Wi(this,l,e);return i=Math.max(i,e.currentTime),u});return e.currentTime=i,{type:3,steps:o,options:Oa(t.options)}}visitAnimate(t,e){const r=function E2(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wv(Mh(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=wv(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=Mh(e,t);return wv(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:jr({});if(5==o.type)i=this.visitKeyframes(o,e);else{let l=t.styles,u=!1;if(!l){u=!0;const N={};r.easing&&(N.easing=r.easing),l=jr(N)}e.currentTime+=r.duration+r.delay;const g=this.visitStyle(l,e);g.isEmptyStep=u,i=g}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of i)"string"==typeof u?u===hs?r.push(u):e.errors.push(new pt(3002,!1)):r.push(GA(u));let o=!1,l=null;return r.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!o))for(let g of u.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,g)=>{const N=e.collectedStyles.get(e.currentQuerySelector),Y=N.get(g);let ae=!0;Y&&(o!=i&&o>=Y.startTime&&i<=Y.endTime&&(e.errors.push(function DH(n,t,e,r,i){return new pt(3010,!1)}()),ae=!1),o=Y.startTime),ae&&N.set(g,{startTime:o,endTime:i}),e.options&&function n2(n,t,e){const r=t.params||{},i=XA(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function pH(n){return new pt(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function SH(){return new pt(3011,!1)}()),r;let o=0;const l=[];let u=!1,g=!1,N=0;const Y=t.steps.map(ct=>{const Ot=this._makeStyleAst(ct,e);let ft=null!=Ot.offset?Ot.offset:function y2(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ot.styles),Ht=0;return null!=ft&&(o++,Ht=Ot.offset=ft),g=g||Ht<0||Ht>1,u=u||Ht<N,N=Ht,l.push(Ht),Ot});g&&e.errors.push(function bH(){return new pt(3012,!1)}()),u&&e.errors.push(function AH(){return new pt(3200,!1)}());const ae=t.steps.length;let Se=0;o>0&&o<ae?e.errors.push(function IH(){return new pt(3202,!1)}()):0==o&&(Se=1/(ae-1));const Ne=ae-1,ke=e.currentTime,Ge=e.currentAnimateTimings,ot=Ge.duration;return Y.forEach((ct,Ot)=>{const ft=Se>0?Ot==Ne?1:Se*Ot:l[Ot],Ht=ft*ot;e.currentTime=ke+Ge.delay+Ht,Ge.duration=Ht,this._validateStyleAst(ct,e),ct.offset=ft,r.styles.push(ct)}),r}visitReference(t,e){return{type:8,animation:Wi(this,Mc(t.animation),e),options:Oa(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Oa(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Oa(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function p2(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(m2,"")),n=n.replace(/@\*/g,Ch).replace(/@\w+/g,e=>Ch+"-"+e.slice(1)).replace(/:animating/g,Sv),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Hi(e.collectedStyles,e.currentQuerySelector,new Map);const u=Wi(this,Mc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:u,originalSelector:t.selector,options:Oa(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function RH(){return new pt(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Mh(t.timings,e.errors,!0);return{type:12,animation:Wi(this,Mc(t.animation),e),timings:r,options:null}}}class v2{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Oa(n){return n?(n=Cc(n)).params&&(n.params=function _2(n){return n?Cc(n):null}(n.params)):n={},n}function wv(n,t,e){return{duration:n,delay:t,easing:e}}function Ov(n,t,e,r,i,o,l=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:u}}class wh{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const M2=new RegExp(":enter","g"),S2=new RegExp(":leave","g");function Pv(n,t,e,r,i,o=new Map,l=new Map,u,g,N=[]){return(new b2).buildKeyframes(n,t,e,r,i,o,l,u,g,N)}class b2{buildKeyframes(t,e,r,i,o,l,u,g,N,Y=[]){N=N||new wh;const ae=new Nv(t,e,N,i,o,Y,[]);ae.options=g;const Se=g.delay?ms(g.delay):0;ae.currentTimeline.delayNextStep(Se),ae.currentTimeline.setStyles([l],null,ae.errors,g),Wi(this,r,ae);const Ne=ae.timelines.filter(ke=>ke.containsAnimation());if(Ne.length&&u.size){let ke;for(let Ge=Ne.length-1;Ge>=0;Ge--){const ot=Ne[Ge];if(ot.element===e){ke=ot;break}}ke&&!ke.allowOnlyTimelineStyles()&&ke.setStyles([u],null,ae.errors,g)}return Ne.length?Ne.map(ke=>ke.buildKeyframes()):[Ov(e,[],[],[],0,Se,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const l="number"==typeof o?o:ms(Dc(o,i?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const l=null!=r.duration?ms(r.duration):null,u=null!=r.delay?ms(r.delay):null;return 0!==l&&t.forEach(g=>{const N=e.appendInstructionToTimeline(g,l,u);o=Math.max(o,N.duration+N.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Wi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Oh);const l=ms(o.delay);i.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Wi(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?ms(t.options.delay):0;t.steps.forEach(l=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),Wi(this,l,u),i=Math.max(i,u.currentTimeline.currentTime),r.push(u.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Mh(e.params?Dc(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,u=e.createSubContext().currentTimeline;u.easing=r.easing,t.styles.forEach(g=>{u.forwardTime((g.offset||0)*o),u.setStyles(g.styles,g.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?ms(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Oh);let l=r;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=u.length;let g=null;u.forEach((N,Y)=>{e.currentQueryIndex=Y;const ae=e.createSubContext(t.options,N);o&&ae.delayNextStep(o),N===e.element&&(g=ae.currentTimeline),Wi(this,t.animation,ae),ae.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,ae.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),u=l*(e.currentQueryTotal-1);let g=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=u-g;break;case"full":g=r.currentStaggerTime}const Y=e.currentTimeline;g&&Y.delayNextStep(g);const ae=Y.currentTime;Wi(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-ae+(i.startTime-r.currentTimeline.startTime)}}const Oh={};class Nv{constructor(t,e,r,i,o,l,u,g){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Oh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Ph(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=ms(r.duration)),null!=r.delay&&(i.delay=ms(r.delay));const o=r.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!l.hasOwnProperty(u))&&(l[u]=Dc(o[u],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new Nv(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Oh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new A2(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,l){let u=[];if(i&&u.push(this.element),t.length>0){t=(t=t.replace(M2,"."+this._enterClassName)).replace(S2,"."+this._leaveClassName);let N=this._driver.query(this.element,t,1!=r);0!==r&&(N=r<0?N.slice(N.length+r,N.length):N.slice(0,r)),u.push(...N)}return!o&&0==u.length&&l.push(function wH(n){return new pt(3014,!1)}()),u}}class Ph{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ph(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||hs),this._currentKeyframe.set(e,hs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},l=function I2(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,hs)}else $s(i,e)}),e}(t,this._globalTimelineStyles);for(let[u,g]of l){const N=Dc(g,o,r);this._pendingStyles.set(u,N),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??hs),this._updateStyle(u,N)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((u,g)=>{const N=$s(u,new Map,this._backFill);N.forEach((Y,ae)=>{"!"===Y?t.add(ae):Y===hs&&e.add(ae)}),r||N.set("offset",g/this.duration),i.push(N)});const o=t.size?Dh(t.values()):[],l=e.size?Dh(e.values()):[];if(r){const u=i[0],g=new Map(u);u.set("offset",0),g.set("offset",1),i=[u,g]}return Ov(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class A2 extends Ph{constructor(t,e,r,i,o,l,u=!1){super(t,e,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=r+e,u=e/l,g=$s(t[0]);g.set("offset",0),o.push(g);const N=$s(t[0]);N.set("offset",e0(u)),o.push(N);const Y=t.length-1;for(let ae=1;ae<=Y;ae++){let Se=$s(t[ae]);const Ne=Se.get("offset");Se.set("offset",e0((e+Ne*r)/l)),o.push(Se)}r=l,e=0,i="",t=o}return Ov(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function e0(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Lv{}const R2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class w2 extends Lv{normalizePropertyName(t,e){return Iv(t)}normalizeStyleValue(t,e,r,i){let o="";const l=r.toString().trim();if(R2.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const u=r.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&i.push(function yH(n,t){return new pt(3005,!1)}())}return l+o}}function t0(n,t,e,r,i,o,l,u,g,N,Y,ae,Se){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:l,timelines:u,queriedElements:g,preStyleProps:N,postStyleProps:Y,totalTime:ae,errors:Se}}const Fv={};class n0{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function O2(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,l,u,g,N,Y){const ae=[],Se=this.ast.options&&this.ast.options.params||Fv,ke=this.buildStyles(r,u&&u.params||Fv,ae),Ge=g&&g.params||Fv,ot=this.buildStyles(i,Ge,ae),ct=new Set,Ot=new Map,ft=new Map,Ht="void"===i,bn={params:P2(Ge,Se),delay:this.ast.options?.delay},Ln=Y?[]:Pv(t,e,this.ast.animation,o,l,ke,ot,bn,N,ae);let gr=0;if(Ln.forEach(Yi=>{gr=Math.max(Yi.duration+Yi.delay,gr)}),ae.length)return t0(e,this._triggerName,r,i,Ht,ke,ot,[],[],Ot,ft,gr,ae);Ln.forEach(Yi=>{const $i=Yi.element,lu=Hi(Ot,$i,new Set);Yi.preStyleProps.forEach(Ao=>lu.add(Ao));const Cs=Hi(ft,$i,new Set);Yi.postStyleProps.forEach(Ao=>Cs.add(Ao)),$i!==e&&ct.add($i)});const zi=Dh(ct.values());return t0(e,this._triggerName,r,i,Ht,ke,ot,Ln,zi,Ot,ft,gr)}}function P2(n,t){const e=Cc(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class N2{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=Cc(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,u)=>{l&&(l=Dc(l,i,e));const g=this.normalizer.normalizePropertyName(u,e);l=this.normalizer.normalizeStyleValue(u,g,l,e),r.set(g,l)})}),r}}class F2{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new N2(i.style,i.options&&i.options.params||{},r))}),r0(this.states,"true","1"),r0(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new n0(t,i,this.states))}),this.fallbackTransition=function x2(n,t,e){return new n0(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(l=>l.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function r0(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const B2=new wh;class k2{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=Rv(this._driver,e,r,[]);if(r.length)throw function BH(n){return new pt(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=FA(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let l;const u=new Map;if(o?(l=Pv(this._driver,e,o,Dv,Eh,new Map,new Map,r,B2,i),l.forEach(Y=>{const ae=Hi(u,Y.element,new Map);Y.postStyleProps.forEach(Se=>ae.set(Se,null))})):(i.push(function kH(){return new pt(3300,!1)}()),l=[]),i.length)throw function UH(n){return new pt(3504,!1)}();u.forEach((Y,ae)=>{Y.forEach((Se,Ne)=>{Y.set(Ne,this._driver.computeStyle(ae,Ne,hs))})});const N=Ys(l.map(Y=>{const ae=u.get(Y.element);return this._buildPlayer(Y,new Map,ae)}));return this._playersById.set(t,N),N.onDestroy(()=>this.destroy(t)),this.players.push(N),N}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function jH(n){return new pt(3301,!1)}();return e}listen(t,e,r,i){const o=Ev(e,"","","");return vv(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const o0="ng-animate-queued",xv="ng-animate-disabled",W2=[],s0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},K2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},io="__ng_removed";class Bv{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function $2(n){return n??null}(r?t.value:t),r){const o=Cc(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Sc="void",kv=new Bv(Sc);class G2{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,oo(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function VH(n,t){return new pt(3302,!1)}();if(null==r||0==r.length)throw function HH(n){return new pt(3303,!1)}();if(!function X2(n){return"start"==n||"done"==n}(r))throw function WH(n,t){return new pt(3400,!1)}();const o=Hi(this._elementListeners,t,[]),l={name:e,phase:r,callback:i};o.push(l);const u=Hi(this._engine.statesByElement,t,new Map);return u.has(e)||(oo(t,Th),oo(t,Th+"-"+e),u.set(e,kv)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(l);g>=0&&o.splice(g,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function KH(n){return new pt(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),l=new Uv(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(oo(t,Th),oo(t,Th+"-"+e),this._engine.statesByElement.set(t,u=new Map));let g=u.get(e);const N=new Bv(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&N.absorbOptions(g.options),u.set(e,N),g||(g=kv),N.value!==Sc&&g.value===N.value){if(!function Z2(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(g.params,N.params)){const Ge=[],ot=o.matchStyles(g.value,g.params,Ge),ct=o.matchStyles(N.value,N.params,Ge);Ge.length?this._engine.reportError(Ge):this._engine.afterFlush(()=>{wa(t,ot),Wo(t,ct)})}return}const Se=Hi(this._engine.playersByElement,t,[]);Se.forEach(Ge=>{Ge.namespaceId==this.id&&Ge.triggerName==e&&Ge.queued&&Ge.destroy()});let Ne=o.matchTransition(g.value,N.value,t,N.params),ke=!1;if(!Ne){if(!i)return;Ne=o.fallbackTransition,ke=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Ne,fromState:g,toState:N,player:l,isFallbackTransition:ke}),ke||(oo(t,o0),l.onStart(()=>{Kl(t,o0)})),l.onDone(()=>{let Ge=this.players.indexOf(l);Ge>=0&&this.players.splice(Ge,1);const ot=this._engine.playersByElement.get(t);if(ot){let ct=ot.indexOf(l);ct>=0&&ot.splice(ct,1)}}),this.players.push(l),Se.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Ch,!0);r.forEach(i=>{if(i[io])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const u=[];if(o.forEach((g,N)=>{if(l.set(N,g.value),this._triggers.has(N)){const Y=this.trigger(t,N,Sc,i);Y&&u.push(Y)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),r&&Ys(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const g=this._triggers.get(l).fallbackTransition,N=r.get(l)||kv,Y=new Bv(Sc),ae=new Uv(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:g,fromState:N,toState:Y,player:ae,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let l=t;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[io];(!o||o===s0)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){oo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,l=this._elementListeners.get(o);l&&l.forEach(u=>{if(u.name==r.triggerName){const g=Ev(o,r.triggerName,r.fromState.value,r.toState.value);g._data=t,vv(r.player,u.phase,g,u.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class z2{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new G2(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,u=this.driver.getParentElement(e);for(;u;){const g=i.get(u);if(g){const N=r.indexOf(g);r.splice(N+1,0,t),l=!0;break}u=this.driver.getParentElement(u)}l||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(Nh(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Nh(e))return;const o=e[io];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),oo(t,xv)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Kl(t,xv))}removeNode(t,e,r,i){if(Nh(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[io]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Nh(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Ch,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Sv,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ys(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[io];if(e&&e.setForRemoval){if(t[io]=s0,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(xv)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)oo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ys(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function GH(n){return new pt(3402,!1)}()}_flushAnimations(t,e){const r=new wh,i=[],o=new Map,l=[],u=new Map,g=new Map,N=new Map,Y=new Set;this.disabledNodes.forEach($t=>{Y.add($t);const sn=this.driver.query($t,".ng-animate-queued",!0);for(let dn=0;dn<sn.length;dn++)Y.add(sn[dn])});const ae=this.bodyNode,Se=Array.from(this.statesByElement.keys()),Ne=u0(Se,this.collectedEnterElements),ke=new Map;let Ge=0;Ne.forEach(($t,sn)=>{const dn=Dv+Ge++;ke.set(sn,dn),$t.forEach(jn=>oo(jn,dn))});const ot=[],ct=new Set,Ot=new Set;for(let $t=0;$t<this.collectedLeaveElements.length;$t++){const sn=this.collectedLeaveElements[$t],dn=sn[io];dn&&dn.setForRemoval&&(ot.push(sn),ct.add(sn),dn.hasAnimation?this.driver.query(sn,".ng-star-inserted",!0).forEach(jn=>ct.add(jn)):Ot.add(sn))}const ft=new Map,Ht=u0(Se,Array.from(ct));Ht.forEach(($t,sn)=>{const dn=Eh+Ge++;ft.set(sn,dn),$t.forEach(jn=>oo(jn,dn))}),t.push(()=>{Ne.forEach(($t,sn)=>{const dn=ke.get(sn);$t.forEach(jn=>Kl(jn,dn))}),Ht.forEach(($t,sn)=>{const dn=ft.get(sn);$t.forEach(jn=>Kl(jn,dn))}),ot.forEach($t=>{this.processLeaveNode($t)})});const bn=[],Ln=[];for(let $t=this._namespaceList.length-1;$t>=0;$t--)this._namespaceList[$t].drainQueuedTransitions(e).forEach(dn=>{const jn=dn.player,Vr=dn.element;if(bn.push(jn),this.collectedEnterElements.length){const ci=Vr[io];if(ci&&ci.setForMove){if(ci.previousTriggersValues&&ci.previousTriggersValues.has(dn.triggerName)){const Ga=ci.previousTriggersValues.get(dn.triggerName),lo=this.statesByElement.get(dn.element);if(lo&&lo.has(dn.triggerName)){const Ym=lo.get(dn.triggerName);Ym.value=Ga,lo.set(dn.triggerName,Ym)}}return void jn.destroy()}}const Xo=!ae||!this.driver.containsElement(ae,Vr),Xi=ft.get(Vr),ra=ke.get(Vr),pr=this._buildInstruction(dn,r,ra,Xi,Xo);if(pr.errors&&pr.errors.length)return void Ln.push(pr);if(Xo)return jn.onStart(()=>wa(Vr,pr.fromStyles)),jn.onDestroy(()=>Wo(Vr,pr.toStyles)),void i.push(jn);if(dn.isFallbackTransition)return jn.onStart(()=>wa(Vr,pr.fromStyles)),jn.onDestroy(()=>Wo(Vr,pr.toStyles)),void i.push(jn);const qw=[];pr.timelines.forEach(ci=>{ci.stretchStartingKeyframe=!0,this.disabledNodes.has(ci.element)||qw.push(ci)}),pr.timelines=qw,r.append(Vr,pr.timelines),l.push({instruction:pr,player:jn,element:Vr}),pr.queriedElements.forEach(ci=>Hi(u,ci,[]).push(jn)),pr.preStyleProps.forEach((ci,Ga)=>{if(ci.size){let lo=g.get(Ga);lo||g.set(Ga,lo=new Set),ci.forEach((Ym,yE)=>lo.add(yE))}}),pr.postStyleProps.forEach((ci,Ga)=>{let lo=N.get(Ga);lo||N.set(Ga,lo=new Set),ci.forEach((Ym,yE)=>lo.add(yE))})});if(Ln.length){const $t=[];Ln.forEach(sn=>{$t.push(function zH(n,t){return new pt(3505,!1)}())}),bn.forEach(sn=>sn.destroy()),this.reportError($t)}const gr=new Map,zi=new Map;l.forEach($t=>{const sn=$t.element;r.has(sn)&&(zi.set(sn,sn),this._beforeAnimationBuild($t.player.namespaceId,$t.instruction,gr))}),i.forEach($t=>{const sn=$t.element;this._getPreviousPlayers(sn,!1,$t.namespaceId,$t.triggerName,null).forEach(jn=>{Hi(gr,sn,[]).push(jn),jn.destroy()})});const Yi=ot.filter($t=>f0($t,g,N)),$i=new Map;l0($i,this.driver,Ot,N,hs).forEach($t=>{f0($t,g,N)&&Yi.push($t)});const Cs=new Map;Ne.forEach(($t,sn)=>{l0(Cs,this.driver,new Set($t),g,"!")}),Yi.forEach($t=>{const sn=$i.get($t),dn=Cs.get($t);$i.set($t,new Map([...Array.from(sn?.entries()??[]),...Array.from(dn?.entries()??[])]))});const Ao=[],uu=[],cu={};l.forEach($t=>{const{element:sn,player:dn,instruction:jn}=$t;if(r.has(sn)){if(Y.has(sn))return dn.onDestroy(()=>Wo(sn,jn.toStyles)),dn.disabled=!0,dn.overrideTotalTime(jn.totalTime),void i.push(dn);let Vr=cu;if(zi.size>1){let Xi=sn;const ra=[];for(;Xi=Xi.parentNode;){const pr=zi.get(Xi);if(pr){Vr=pr;break}ra.push(Xi)}ra.forEach(pr=>zi.set(pr,Vr))}const Xo=this._buildAnimation(dn.namespaceId,jn,gr,o,Cs,$i);if(dn.setRealPlayer(Xo),Vr===cu)Ao.push(dn);else{const Xi=this.playersByElement.get(Vr);Xi&&Xi.length&&(dn.parentPlayer=Ys(Xi)),i.push(dn)}}else wa(sn,jn.fromStyles),dn.onDestroy(()=>Wo(sn,jn.toStyles)),uu.push(dn),Y.has(sn)&&i.push(dn)}),uu.forEach($t=>{const sn=o.get($t.element);if(sn&&sn.length){const dn=Ys(sn);$t.setRealPlayer(dn)}}),i.forEach($t=>{$t.parentPlayer?$t.syncPlayerEvents($t.parentPlayer):$t.destroy()});for(let $t=0;$t<ot.length;$t++){const sn=ot[$t],dn=sn[io];if(Kl(sn,Eh),dn&&dn.hasAnimation)continue;let jn=[];if(u.size){let Xo=u.get(sn);Xo&&Xo.length&&jn.push(...Xo);let Xi=this.driver.query(sn,Sv,!0);for(let ra=0;ra<Xi.length;ra++){let pr=u.get(Xi[ra]);pr&&pr.length&&jn.push(...pr)}}const Vr=jn.filter(Xo=>!Xo.destroyed);Vr.length?Q2(this,sn,Vr):this.processLeaveNode(sn)}return ot.length=0,Ao.forEach($t=>{this.players.push($t),$t.onDone(()=>{$t.destroy();const sn=this.players.indexOf($t);this.players.splice(sn,1)}),$t.play()}),Ao}elementContainsData(t,e){let r=!1;const i=e[io];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let l=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(l=u)}else{const u=this.playersByElement.get(t);if(u){const g=!o||o==Sc;u.forEach(N=>{N.queued||!g&&N.triggerName!=i||l.push(N)})}}return(r||i)&&(l=l.filter(u=>!(r&&r!=u.namespaceId||i&&i!=u.triggerName))),l}_beforeAnimationBuild(t,e,r){const o=e.element,l=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const N=g.element,Y=N!==o,ae=Hi(r,N,[]);this._getPreviousPlayers(N,Y,l,u,e.toState).forEach(Ne=>{const ke=Ne.getRealPlayer();ke.beforeDestroy&&ke.beforeDestroy(),Ne.destroy(),ae.push(Ne)})}wa(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,l){const u=e.triggerName,g=e.element,N=[],Y=new Set,ae=new Set,Se=e.timelines.map(ke=>{const Ge=ke.element;Y.add(Ge);const ot=Ge[io];if(ot&&ot.removedBeforeQueried)return new Tc(ke.duration,ke.delay);const ct=Ge!==g,Ot=function q2(n){const t=[];return c0(n,t),t}((r.get(Ge)||W2).map(gr=>gr.getRealPlayer())).filter(gr=>!!gr.element&&gr.element===Ge),ft=o.get(Ge),Ht=l.get(Ge),bn=FA(0,this._normalizer,0,ke.keyframes,ft,Ht),Ln=this._buildPlayer(ke,bn,Ot);if(ke.subTimeline&&i&&ae.add(Ge),ct){const gr=new Uv(t,u,Ge);gr.setRealPlayer(Ln),N.push(gr)}return Ln});N.forEach(ke=>{Hi(this.playersByQueriedElement,ke.element,[]).push(ke),ke.onDone(()=>function Y2(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,ke.element,ke))}),Y.forEach(ke=>oo(ke,KA));const Ne=Ys(Se);return Ne.onDestroy(()=>{Y.forEach(ke=>Kl(ke,KA)),Wo(g,e.toStyles)}),ae.forEach(ke=>{Hi(i,ke,[]).push(Ne)}),Ne}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Tc(t.duration,t.delay)}}class Uv{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Tc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>vv(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Hi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Nh(n){return n&&1===n.nodeType}function a0(n,t){const e=n.style.display;return n.style.display=t??"none",e}function l0(n,t,e,r,i){const o=[];e.forEach(g=>o.push(a0(g)));const l=[];r.forEach((g,N)=>{const Y=new Map;g.forEach(ae=>{const Se=t.computeStyle(N,ae,i);Y.set(ae,Se),(!Se||0==Se.length)&&(N[io]=K2,l.push(N))}),n.set(N,Y)});let u=0;return e.forEach(g=>a0(g,o[u++])),l}function u0(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const i=new Set(t),o=new Map;function l(u){if(!u)return 1;let g=o.get(u);if(g)return g;const N=u.parentNode;return g=e.has(N)?N:i.has(N)?1:l(N),o.set(u,g),g}return t.forEach(u=>{const g=l(u);1!==g&&e.get(g).push(u)}),e}function oo(n,t){n.classList?.add(t)}function Kl(n,t){n.classList?.remove(t)}function Q2(n,t,e){Ys(e).onDone(()=>n.processLeaveNode(t))}function c0(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof NA?c0(r.players,t):t.push(r)}}function f0(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class Lh{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new z2(t,e,r),this._timelineEngine=new k2(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const l=t+"-"+i;let u=this._triggerCache[l];if(!u){const g=[],Y=Rv(this._driver,o,g,[]);if(g.length)throw function FH(n,t){return new pt(3404,!1)}();u=function L2(n,t,e){return new F2(n,t,e)}(i,Y,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(e,i,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,l]=xA(r);this._timelineEngine.command(o,e,l,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[l,u]=xA(r);return this._timelineEngine.listen(l,e,u,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let eW=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Wo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wo(this._element,this._initialStyles),this._endStyles&&(Wo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wa(this._element,this._endStyles),this._endStyles=null),Wo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jv(n){let t=null;return n.forEach((e,r)=>{(function tW(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class d0{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:QA(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class nW{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return jA(t,e)}getParentElement(t){return Cv(t)}query(t,e,r){return VA(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,l=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(g.easing=o);const N=new Map,Y=l.filter(Ne=>Ne instanceof d0);(function s2(n,t){return 0===n||0===t})(r,i)&&Y.forEach(Ne=>{Ne.currentSnapshot.forEach((ke,Ge)=>N.set(Ge,ke))});let ae=function t2(n){return n.length?n[0]instanceof Map?n:n.map(t=>GA(t)):[]}(e).map(Ne=>$s(Ne));ae=function a2(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,l)=>{r.has(l)||i.push(l),r.set(l,o)}),i.length)for(let o=1;o<t.length;o++){let l=t[o];i.forEach(u=>l.set(u,QA(n,u)))}}return t}(t,ae,N);const Se=function J2(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=jv(t[0]),t.length>1&&(r=jv(t[t.length-1]))):t instanceof Map&&(e=jv(t)),e||r?new eW(n,e,r):null}(t,ae);return new d0(t,ae,g,Se)}}let rW=(()=>{class n extends wA{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:Oi.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?OA(e):e;return h0(this._renderer,null,r,"register",[i]),new iW(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(rt(ku),rt(Dn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class iW extends class lH{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new oW(this._id,t,e||{},this._renderer)}}class oW{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return h0(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function h0(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const m0="@.disabled";let sW=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,l)=>{const u=l?.parentNode(o);u&&l.removeChild(u,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let Y=this._rendererCache.get(o);return Y||(Y=new g0("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,Y)),Y}const l=r.id,u=r.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const g=Y=>{Array.isArray(Y)?Y.forEach(g):this.engine.registerTrigger(l,u,e,Y.name,Y)};return r.data.animation.forEach(g),new aW(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,u]=o;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(rt(ku),rt(Lh),rt(In))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();class g0{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==m0?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class aW extends g0{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==m0?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function lW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function uW(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,r,u)})}return this.delegate.listen(t,e,r)}}const hW=[{provide:Mv,useFactory:()=>new nW},{provide:jo,useValue:"BrowserAnimations"},...[{provide:wA,useClass:rW},{provide:Lv,useFactory:function fW(){return new w2}},{provide:Lh,useClass:(()=>{class n extends Lh{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn),rt(Mv),rt(Lv),rt(xl))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})()},{provide:ku,useFactory:function dW(n,t,e){return new sW(n,t,e)},deps:[_h,Lh,In]}]],xh=B(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function _0(n){return new q(t=>{Me(n()).subscribe(t)})}function Vv(){return ge((n,t)=>{let e=null;n._refCount++;const r=fe(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class v0 extends q{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,_e(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new S;const e=this.getSubject();t.add(this.source.subscribe(fe(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=S.EMPTY)}return t}refCount(){return Vv()(this)}}function so(n,t){return ge((e,r)=>{let i=null,o=0,l=!1;const u=()=>l&&!i&&r.complete();e.subscribe(fe(r,g=>{i?.unsubscribe();let N=0;const Y=o++;Me(n(g,Y)).subscribe(i=fe(r,ae=>r.next(t?t(g,ae,Y,N++):ae),()=>{i=null,u()}))},()=>{l=!0,u()}))})}function Bh(n){return ge((t,e)=>{let r=!1;t.subscribe(fe(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function y0(n=pW){return ge((t,e)=>{let r=!1;t.subscribe(fe(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function pW(){return new xh}function Xs(n,t){const e=arguments.length>=2;return r=>r.pipe(n?xr((i,o)=>n(i,o,r)):ne,vi(1),e?Bh(t):y0(()=>new xh))}function _W(n,t,e,r,i){return(o,l)=>{let u=e,g=t,N=0;o.subscribe(fe(l,Y=>{const ae=N++;g=u?n(g,Y,ae):(u=!0,Y),r&&l.next(g)},i&&(()=>{u&&l.next(g),l.complete()})))}}function E0(n,t){return ge(_W(n,t,arguments.length>=2,!0))}function Hv(n){return n<=0?()=>Mt:ge((t,e)=>{let r=[];t.subscribe(fe(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function T0(n,t){const e=arguments.length>=2;return r=>r.pipe(n?xr((i,o)=>n(i,o,r)):ne,Hv(1),e?Bh(t):y0(()=>new xh))}function C0(n){return X(()=>n)}const Rn="primary",bc=Symbol("RouteTitle");class yW{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gl(n){return new yW(n)}function EW(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const l=r[o],u=n[o];if(l.startsWith(":"))i[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ko(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!M0(n[i],t[i]))return!1;return!0}function M0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function D0(n){return Array.prototype.concat.apply([],n)}function S0(n){return n.length>0?n[n.length-1]:null}function Xr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Qs(n){return kp(n)?n:Wu(n)?Ve(Promise.resolve(n)):qt(n)}const MW={exact:function I0(n,t,e){if(!Na(n.segments,t.segments)||!kh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!I0(n.children[r],t.children[r],e))return!1;return!0},subset:R0},b0={exact:function DW(n,t){return Ko(n,t)},subset:function SW(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>M0(n[e],t[e]))},ignored:()=>!0};function A0(n,t,e){return MW[e.paths](n.root,t.root,e.matrixParams)&&b0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function R0(n,t,e){return w0(n,t,t.segments,e)}function w0(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Na(i,e)||t.hasChildren()||!kh(i,e,r))}if(n.segments.length===e.length){if(!Na(n.segments,e)||!kh(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!R0(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Na(n.segments,i)&&kh(n.segments,i,r)&&n.children[Rn])&&w0(n.children[Rn],t,o,r)}}function kh(n,t,e){return t.every((r,i)=>b0[e](n[i].parameters,r.parameters))}class Pa{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gl(this.queryParams)),this._queryParamMap}toString(){return IW.serialize(this)}}class On{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Xr(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uh(this)}}class Ac{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gl(this.parameters)),this._parameterMap}toString(){return L0(this)}}function Na(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let O0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return new Kv},providedIn:"root"}),n})();class Kv{parse(t){const e=new BW(t);return new Pa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ic(t.root,!0)}`,r=function OW(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${jh(e)}=${jh(i)}`).join("&"):`${jh(e)}=${jh(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function RW(n){return encodeURI(n)}(t.fragment)}`:""}`}}const IW=new Kv;function Uh(n){return n.segments.map(t=>L0(t)).join("/")}function Ic(n,t){if(!n.hasChildren())return Uh(n);if(t){const e=n.children[Rn]?Ic(n.children[Rn],!1):"",r=[];return Xr(n.children,(i,o)=>{o!==Rn&&r.push(`${o}:${Ic(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function AW(n,t){let e=[];return Xr(n.children,(r,i)=>{i===Rn&&(e=e.concat(t(r,i)))}),Xr(n.children,(r,i)=>{i!==Rn&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Rn?[Ic(n.children[Rn],!1)]:[`${i}:${Ic(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rn]?`${Uh(n)}/${e[0]}`:`${Uh(n)}/(${e.join("//")})`}}function P0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jh(n){return P0(n).replace(/%3B/gi,";")}function Gv(n){return P0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vh(n){return decodeURIComponent(n)}function N0(n){return Vh(n.replace(/\+/g,"%20"))}function L0(n){return`${Gv(n.path)}${function wW(n){return Object.keys(n).map(t=>`;${Gv(t)}=${Gv(n[t])}`).join("")}(n.parameters)}`}const PW=/^[^\/()?;=#]+/;function Hh(n){const t=n.match(PW);return t?t[0]:""}const NW=/^[^=?&#]+/,FW=/^[^&#]+/;class BW{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Rn]=new On(t,e)),r}parseSegment(){const t=Hh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new pt(4009,!1);return this.capture(t),new Ac(Vh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hh(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Hh(this.remaining);i&&(r=i,this.capture(r))}t[Vh(e)]=Vh(r)}parseQueryParam(t){const e=function LW(n){const t=n.match(NW);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function xW(n){const t=n.match(FW);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=N0(e),o=N0(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new pt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Rn);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[Rn]:new On([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new pt(4011,!1)}}function zv(n){return n.segments.length>0?new On([],{[Rn]:n}):n}function Wh(n){const t={};for(const r of Object.keys(n.children)){const o=Wh(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function kW(n){if(1===n.numberOfChildren&&n.children[Rn]){const t=n.children[Rn];return new On(n.segments.concat(t.segments),t.children)}return n}(new On(n.segments,t))}function La(n){return n instanceof Pa}function VW(n,t,e,r,i){if(0===e.length)return zl(t.root,t.root,t.root,r,i);const o=function B0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new x0(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return Xr(o.outlets,(g,N)=>{u[N]="string"==typeof g?g.split("/"):g}),[...i,{outlets:u}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((u,g)=>{0==g&&"."===u||(0==g&&""===u?e=!0:".."===u?t++:""!=u&&i.push(u))}),i):[...i,o]},[]);return new x0(e,t,r)}(e);return o.toRoot()?zl(t.root,t.root,new On([],{}),r,i):function l(g){const N=function WW(n,t,e,r){if(n.isAbsolute)return new Yl(t.root,!0,0);if(-1===r)return new Yl(e,e===t.root,0);return function k0(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new pt(4005,!1);i=r.segments.length}return new Yl(r,!1,i-o)}(e,r+(Rc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,g),Y=N.processChildren?Oc(N.segmentGroup,N.index,o.commands):$v(N.segmentGroup,N.index,o.commands);return zl(t.root,N.segmentGroup,Y,r,i)}(n.snapshot?._lastPathIndex)}function Rc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wc(n){return"object"==typeof n&&null!=n&&n.outlets}function zl(n,t,e,r,i){let l,o={};r&&Xr(r,(g,N)=>{o[N]=Array.isArray(g)?g.map(Y=>`${Y}`):`${g}`}),l=n===t?e:F0(n,t,e);const u=zv(Wh(l));return new Pa(u,o,i)}function F0(n,t,e){const r={};return Xr(n.children,(i,o)=>{r[o]=i===t?e:F0(i,t,e)}),new On(n.segments,r)}class x0{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Rc(r[0]))throw new pt(4003,!1);const i=r.find(wc);if(i&&i!==S0(r))throw new pt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yl{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function $v(n,t,e){if(n||(n=new On([],{})),0===n.segments.length&&n.hasChildren())return Oc(n,t,e);const r=function GW(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const l=n.segments[i],u=e[r];if(wc(u))break;const g=`${u}`,N=r<e.length-1?e[r+1]:null;if(i>0&&void 0===g)break;if(g&&N&&"object"==typeof N&&void 0===N.outlets){if(!j0(g,N,l))return o;r+=2}else{if(!j0(g,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new On(n.segments.slice(0,r.pathIndex),{});return o.children[Rn]=new On(n.segments.slice(r.pathIndex),n.children),Oc(o,0,i)}return r.match&&0===i.length?new On(n.segments,{}):r.match&&!n.hasChildren()?Xv(n,t,e):r.match?Oc(n,0,i):Xv(n,t,e)}function Oc(n,t,e){if(0===e.length)return new On(n.segments,{});{const r=function KW(n){return wc(n[0])?n[0].outlets:{[Rn]:n}}(e),i={};return Xr(r,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[l]=$v(n.children[l],t,o))}),Xr(n.children,(o,l)=>{void 0===r[l]&&(i[l]=o)}),new On(n.segments,i)}}function Xv(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(wc(o)){const g=zW(o.outlets);return new On(r,g)}if(0===i&&Rc(e[0])){r.push(new Ac(n.segments[t].path,U0(e[0]))),i++;continue}const l=wc(o)?o.outlets[Rn]:`${o}`,u=i<e.length-1?e[i+1]:null;l&&u&&Rc(u)?(r.push(new Ac(l,U0(u))),i+=2):(r.push(new Ac(l,{})),i++)}return new On(r,{})}function zW(n){const t={};return Xr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Xv(new On([],{}),0,e))}),t}function U0(n){const t={};return Xr(n,(e,r)=>t[r]=`${e}`),t}function j0(n,t,e){return n==e.path&&Ko(t,e.parameters)}class gs{constructor(t,e){this.id=t,this.url=e}}class Qv extends gs{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fa extends gs{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kh extends gs{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class V0 extends gs{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YW extends gs{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $W extends gs{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XW extends gs{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class QW extends gs{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qW extends gs{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZW{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class JW{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eK{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tK{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nK{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rK{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H0{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class W0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=qv(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=qv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Zv(t,this._root).map(e=>e.value)}}function qv(n,t){if(n===t.value)return t;for(const e of t.children){const r=qv(n,e);if(r)return r}return null}function Zv(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Zv(n,e);if(r.length)return r.unshift(t),r}return[]}class ps{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function $l(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class K0 extends W0{constructor(t,e){super(t),this.snapshot=e,Jv(this,t)}toString(){return this.snapshot.toString()}}function G0(n,t){const e=function oK(n,t){const l=new Gh([],{},{},"",{},Rn,t,null,n.root,-1,{});return new Y0("",new ps(l,[]))}(n,t),r=new Vi([new Ac("",{})]),i=new Vi({}),o=new Vi({}),l=new Vi({}),u=new Vi(""),g=new Go(r,i,l,u,o,Rn,t,e.root);return g.snapshot=e.root,new K0(new ps(g,[]),e)}class Go{constructor(t,e,r,i,o,l,u,g){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=u,this.title=this.data?.pipe(X(N=>N[bc]))??qt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(X(t=>Gl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(X(t=>Gl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function z0(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function sK(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Gh{constructor(t,e,r,i,o,l,u,g,N,Y,ae,Se){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=u,this.title=this.data?.[bc],this.routeConfig=g,this._urlSegment=N,this._lastPathIndex=Y,this._correctedLastPathIndex=Se??Y,this._resolve=ae}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Y0 extends W0{constructor(t,e){super(e),this.url=t,Jv(this,e)}toString(){return $0(this._root)}}function Jv(n,t){t.value._routerState=n,t.children.forEach(e=>Jv(n,e))}function $0(n){const t=n.children.length>0?` { ${n.children.map($0).join(", ")} } `:"";return`${n.value}${t}`}function ey(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ko(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ko(t.params,e.params)||n.params.next(e.params),function TW(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ko(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ko(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ty(n,t){const e=Ko(n.params,t.params)&&function bW(n,t){return Na(n,t)&&n.every((e,r)=>Ko(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ty(n.parent,t.parent))}function Pc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function lK(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pc(n,r,i);return Pc(n,r)})}(n,t,e);return new ps(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(u=>Pc(n,u)),l}}const r=function uK(n){return new Go(new Vi(n.url),new Vi(n.params),new Vi(n.queryParams),new Vi(n.fragment),new Vi(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>Pc(n,o));return new ps(r,i)}}const ny="ngNavigationCancelingError";function X0(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=La(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Q0(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function Q0(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[ny]=!0,r.cancellationCode=t,e&&(r.url=e),r}function q0(n){return Z0(n)&&La(n.url)}function Z0(n){return n&&n[ny]}class cK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Nc,this.attachRef=null}}let Nc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new cK,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zh=!1;let ry=(()=>{class n{constructor(e,r,i,o,l){this.parentContexts=e,this.location=r,this.changeDetector=o,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new qn,this.deactivateEvents=new qn,this.attachEvents=new qn,this.detachEvents=new qn,this.name=i||Rn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pt(4012,zh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pt(4012,zh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pt(4012,zh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new pt(4013,zh);this._activatedRoute=e;const i=this.location,l=e._futureSnapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,g=new fK(e,u,i.injector);if(r&&function dK(n){return!!n.resolveComponentFactory}(r)){const N=r.resolveComponentFactory(l);this.activated=i.createComponent(N,i.length,g)}else this.activated=i.createComponent(l,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(He(Nc),He(Ui),fa("name"),He(ji),He(Ns))},n.\u0275dir=Yt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class fK{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Go?this.route:t===Nc?this.childContexts:this.parent.get(t,e)}}let iy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Xn],decls:1,vars:0,template:function(e,r){1&e&&Zt(0,"router-outlet")},dependencies:[ry],encapsulation:2}),n})();function J0(n,t){return n.providers&&!n._injector&&(n._injector=Od(n.providers,t,`Route: ${n.path}`)),n._injector??t}function sy(n){const t=n.children&&n.children.map(sy),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rn&&(e.component=iy),e}function ao(n){return n.outlet||Rn}function eI(n,t){const e=n.filter(r=>ao(r)===t);return e.push(...n.filter(r=>ao(r)!==t)),e}function Lc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class _K{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),ey(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=$l(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),Xr(i,(o,l)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=$l(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(r&&r.outlet){const l=r.outlet.detach(),u=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=$l(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=$l(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rK(o.value.snapshot))}),t.children.length&&this.forwardEvent(new tK(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(ey(i),i===o)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),ey(u.route.value),this.activateChildRoutes(t,null,l.children)}else{const u=Lc(i.snapshot),g=u?.get(gl)??null;l.attachRef=null,l.route=i,l.resolver=g,l.injector=u,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class tI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yh{constructor(t,e){this.component=t,this.route=e}}function vK(n,t,e){const r=n._root;return Fc(r,t?t._root:null,e,[r.value])}function Xl(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function un(n){return null!==Gt(n)}(n)?t.get(n):n:r}function Fc(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=$l(t);return n.children.forEach(l=>{(function EK(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const g=function TK(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Na(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Na(n.url,t.url)||!Ko(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ty(n,t)||!Ko(n.queryParams,t.queryParams);default:return!ty(n,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new tI(r)):(o.data=l.data,o._resolvedData=l._resolvedData),Fc(n,t,o.component?u?u.children:null:e,r,i),g&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Yh(u.outlet.component,l))}else l&&xc(t,u,i),i.canActivateChecks.push(new tI(r)),Fc(n,null,o.component?u?u.children:null:e,r,i)})(l,o[l.value.outlet],e,r.concat([l.value]),i),delete o[l.value.outlet]}),Xr(o,(l,u)=>xc(l,e.getContext(u),i)),i}function xc(n,t,e){const r=$l(n),i=n.value;Xr(r,(o,l)=>{xc(o,i.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new Yh(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Bc(n){return"function"==typeof n}function ay(n){return n instanceof xh||"EmptyError"===n?.name}const $h=Symbol("INITIAL_VALUE");function Ql(){return so(n=>X_(n.map(t=>t.pipe(vi(1),js($h)))).pipe(X(t=>{for(const e of t)if(!0!==e){if(e===$h)return $h;if(!1===e||e instanceof Pa)return e}return!0}),xr(t=>t!==$h),vi(1)))}function nI(n){return function U(...n){return ie(n)}(Wn(t=>{if(La(t))throw X0(0,t)}),X(t=>!0===t))}const ly={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rI(n,t,e,r,i){const o=uy(n,t,e);return o.matched?function kK(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?qt(i.map(l=>{const u=Xl(l,n);return Qs(function AK(n){return n&&Bc(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(Ql(),nI()):qt(!0)}(r=J0(t,r),t,e).pipe(X(l=>!0===l?o:{...ly})):qt(o)}function uy(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...ly}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||EW)(e,n,t);if(!i)return{...ly};const o={};Xr(i.posParams,(u,g)=>{o[g]=u.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Xh(n,t,e,r,i="corrected"){if(e.length>0&&function VK(n,t,e){return e.some(r=>Qh(n,t,r)&&ao(r)!==Rn)}(n,e,r)){const l=new On(t,function jK(n,t,e,r){const i={};i[Rn]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&ao(o)!==Rn){const l=new On([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,i[ao(o)]=l}return i}(n,t,r,new On(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function HK(n,t,e){return e.some(r=>Qh(n,t,r))}(n,e,r)){const l=new On(n.segments,function UK(n,t,e,r,i,o){const l={};for(const u of r)if(Qh(n,e,u)&&!i[ao(u)]){const g=new On([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===o?n.segments.length:t.length,l[ao(u)]=g}return{...i,...l}}(n,t,e,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const o=new On(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Qh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function iI(n,t,e,r){return!!(ao(n)===r||r!==Rn&&Qh(t,e,n))&&("**"===n.path||uy(t,n,e).matched)}function oI(n,t,e){return 0===t.length&&!n.children[e]}const qh=!1;class Zh{constructor(t){this.segmentGroup=t||null}}class sI{constructor(t){this.urlTree=t}}function kc(n){return yi(new Zh(n))}function aI(n){return yi(new sI(n))}class zK{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Xh(this.urlTree.root,[],[],this.config).segmentGroup,e=new On(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Rn).pipe(X(o=>this.createUrlTree(Wh(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ro(o=>{if(o instanceof sI)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Zh?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Rn).pipe(X(i=>this.createUrlTree(Wh(i),t.queryParams,t.fragment))).pipe(ro(i=>{throw i instanceof Zh?this.noMatchError(i):i}))}noMatchError(t){return new pt(4002,qh)}createUrlTree(t,e,r){const i=zv(t);return new Pa(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(X(o=>new On([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ve(i).pipe(Vs(o=>{const l=r.children[o],u=eI(e,o);return this.expandSegmentGroup(t,u,l,o).pipe(X(g=>({segment:g,outlet:o})))}),E0((o,l)=>(o[l.outlet]=l.segment,o),{}),T0())}expandSegment(t,e,r,i,o,l){return Ve(r).pipe(Vs(u=>this.expandSegmentAgainstRoute(t,e,r,u,i,o,l).pipe(ro(N=>{if(N instanceof Zh)return qt(null);throw N}))),Xs(u=>!!u),ro((u,g)=>{if(ay(u))return oI(e,i,o)?qt(new On([],{})):kc(e);throw u}))}expandSegmentAgainstRoute(t,e,r,i,o,l,u){return iI(i,e,o,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,l):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l):kc(e):kc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?aI(o):this.lineralizeSegments(r,o).pipe(et(l=>{const u=new On(l,{});return this.expandSegment(t,u,e,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l){const{matched:u,consumedSegments:g,remainingSegments:N,positionalParamSegments:Y}=uy(e,i,o);if(!u)return kc(e);const ae=this.applyRedirectCommands(g,i.redirectTo,Y);return i.redirectTo.startsWith("/")?aI(ae):this.lineralizeSegments(i,ae).pipe(et(Se=>this.expandSegment(t,e,r,Se.concat(N),l,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=J0(r,t),r.loadChildren?(r._loadedRoutes?qt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(X(u=>(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,new On(i,{})))):qt(new On(i,{}))):rI(e,r,i,t).pipe(so(({matched:l,consumedSegments:u,remainingSegments:g})=>l?this.getChildConfig(t=r._injector??t,r,i).pipe(et(Y=>{const ae=Y.injector??t,Se=Y.routes,{segmentGroup:Ne,slicedSegments:ke}=Xh(e,u,g,Se),Ge=new On(Ne.segments,Ne.children);if(0===ke.length&&Ge.hasChildren())return this.expandChildren(ae,Se,Ge).pipe(X(ft=>new On(u,ft)));if(0===Se.length&&0===ke.length)return qt(new On(u,{}));const ot=ao(r)===o;return this.expandSegment(ae,Ge,Se,ke,ot?Rn:o,!0).pipe(X(Ot=>new On(u.concat(Ot.segments),Ot.children)))})):kc(e)))}getChildConfig(t,e,r){return e.children?qt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?qt({routes:e._loadedRoutes,injector:e._loadedInjector}):function BK(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?qt(!0):qt(i.map(l=>{const u=Xl(l,n);return Qs(function MK(n){return n&&Bc(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(Ql(),nI())}(t,e,r).pipe(et(i=>i?this.configLoader.loadChildren(t,e).pipe(Wn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function KK(n){return yi(Q0(qh,3))}())):qt({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return qt(r);if(i.numberOfChildren>1||!i.children[Rn])return yi(new pt(4e3,qh));i=i.children[Rn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new Pa(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Xr(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const u=i.substring(1);r[o]=e[u]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let l={};return Xr(e.children,(u,g)=>{l[g]=this.createSegmentGroup(t,u,r,i)}),new On(o,l)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new pt(4001,qh);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class $K{}class qK{constructor(t,e,r,i,o,l,u,g){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u,this.urlSerializer=g}recognize(){const t=Xh(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Rn).pipe(X(e=>{if(null===e)return null;const r=new Gh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ps(r,e),o=new Y0(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=z0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return Ve(Object.keys(r.children)).pipe(Vs(i=>{const o=r.children[i],l=eI(e,i);return this.processSegmentGroup(t,l,o,i)}),E0((i,o)=>i&&o?(i.push(...o),i):null),function vW(n,t=!1){return ge((e,r)=>{let i=0;e.subscribe(fe(r,o=>{const l=n(o,i++);(l||t)&&r.next(o),!l&&r.complete()}))})}(i=>null!==i),Bh(null),T0(),X(i=>{if(null===i)return null;const o=lI(i);return function ZK(n){n.sort((t,e)=>t.value.outlet===Rn?-1:e.value.outlet===Rn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return Ve(e).pipe(Vs(l=>this.processSegmentAgainstRoute(l._injector??t,l,r,i,o)),Xs(l=>!!l),ro(l=>{if(ay(l))return oI(r,i,o)?qt([]):qt(null);throw l}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!iI(e,r,i,o))return qt(null);let l;if("**"===e.path){const u=i.length>0?S0(i).parameters:{},g=cI(r)+i.length;l=qt({snapshot:new Gh(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dI(e),ao(e),e.component??e._loadedComponent??null,e,uI(r),g,hI(e),g),consumedSegments:[],remainingSegments:[]})}else l=rI(r,e,i,t).pipe(X(({matched:u,consumedSegments:g,remainingSegments:N,parameters:Y})=>{if(!u)return null;const ae=cI(r)+g.length;return{snapshot:new Gh(g,Y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dI(e),ao(e),e.component??e._loadedComponent??null,e,uI(r),ae,hI(e),ae),consumedSegments:g,remainingSegments:N}}));return l.pipe(so(u=>{if(null===u)return qt(null);const{snapshot:g,consumedSegments:N,remainingSegments:Y}=u;t=e._injector??t;const ae=e._loadedInjector??t,Se=function JK(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Ne,slicedSegments:ke}=Xh(r,N,Y,Se.filter(ot=>void 0===ot.redirectTo),this.relativeLinkResolution);if(0===ke.length&&Ne.hasChildren())return this.processChildren(ae,Se,Ne).pipe(X(ot=>null===ot?null:[new ps(g,ot)]));if(0===Se.length&&0===ke.length)return qt([new ps(g,[])]);const Ge=ao(e)===o;return this.processSegment(ae,Se,Ne,ke,Ge?Rn:o).pipe(X(ot=>null===ot?null:[new ps(g,ot)]))}))}}function eG(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function lI(n){const t=[],e=new Set;for(const r of n){if(!eG(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=lI(r.children);t.push(new ps(r.value,i))}return t.filter(r=>!e.has(r))}function uI(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function cI(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function dI(n){return n.data||{}}function hI(n){return n.resolve||{}}function mI(n){return"string"==typeof n.title||null===n.title}function cy(n){return so(t=>{const e=n(t);return e?Ve(e).pipe(X(()=>t)):qt(t)})}let gI=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Rn);return r}getResolvedTitleForRoute(e){return e.data[bc]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:function(){return tr(pI)},providedIn:"root"}),n})(),pI=(()=>{class n extends gI{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(rt(TA))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lG{}class cG extends class uG{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const em=new xt("",{providedIn:"root",factory:()=>({})}),fy=new xt("ROUTES");let dy=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Qs(e.loadComponent()).pipe(Wn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),fh(()=>{this.componentLoaders.delete(e)})),i=new v0(r,()=>new pe).pipe(Vv());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return qt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(X(u=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,N,Y=!1;Array.isArray(u)?N=u:(g=u.create(e).injector,N=D0(g.get(fy,[],on.Self|on.Optional)));return{routes:N.map(sy),injector:g}}),fh(()=>{this.childrenLoaders.delete(r)})),l=new v0(o,()=>new pe).pipe(Vv());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(e){return Qs(e()).pipe(et(r=>r instanceof BD||Array.isArray(r)?qt(r):Ve(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(rt(ni),rt(c_))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dG{}class hG{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function mG(n){throw n}function gG(n,t,e){return t.parse("/")}const pG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_G={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function vI(){const n=tr(O0),t=tr(Nc),e=tr(Kd),r=tr(ni),i=tr(c_),o=tr(fy,{optional:!0})??[],l=tr(em,{optional:!0})??{},u=tr(pI),g=tr(gI,{optional:!0}),N=tr(dG,{optional:!0}),Y=tr(lG,{optional:!0}),ae=new mr(null,n,t,e,r,i,D0(o));return N&&(ae.urlHandlingStrategy=N),Y&&(ae.routeReuseStrategy=Y),ae.titleStrategy=g??u,function vG(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(l,ae),ae}let mr=(()=>{class n{constructor(e,r,i,o,l,u,g){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pe,this.errorHandler=mG,this.malformedUriErrorHandler=gG,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>qt(void 0),this.urlHandlingStrategy=new hG,this.routeReuseStrategy=new cG,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(dy),this.configLoader.onLoadEndListener=Se=>this.triggerEvent(new JW(Se)),this.configLoader.onLoadStartListener=Se=>this.triggerEvent(new ZW(Se)),this.ngModule=l.get(Ca),this.console=l.get(Ek);const ae=l.get(In);this.isNgZoneEnabled=ae instanceof In&&In.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function CW(){return new Pa(new On([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=G0(this.currentUrlTree,this.rootComponentType),this.transitions=new Vi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(xr(i=>0!==i.id),X(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),so(i=>{let o=!1,l=!1;return qt(i).pipe(Wn(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),so(u=>{const g=this.browserUrlTree.toString(),N=!this.navigated||u.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||N)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return yI(u.source)&&(this.browserUrlTree=u.extractedUrl),qt(u).pipe(so(ae=>{const Se=this.transitions.getValue();return r.next(new Qv(ae.id,this.serializeUrl(ae.extractedUrl),ae.source,ae.restoredState)),Se!==this.transitions.getValue()?Mt:Promise.resolve(ae)}),function YK(n,t,e,r){return so(i=>function GK(n,t,e,r,i){return new zK(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(X(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Wn(ae=>{this.currentNavigation={...this.currentNavigation,finalUrl:ae.urlAfterRedirects},i.urlAfterRedirects=ae.urlAfterRedirects}),function nG(n,t,e,r,i,o){return et(l=>function QK(n,t,e,r,i,o,l="emptyOnly",u="legacy"){return new qK(n,t,e,r,i,l,u,o).recognize().pipe(so(g=>null===g?function XK(n){return new q(t=>t.error(n))}(new $K):qt(g)))}(n,t,e,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i,o).pipe(X(u=>({...l,targetSnapshot:u}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Wn(ae=>{if(i.targetSnapshot=ae.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!ae.extras.skipLocationChange){const Ne=this.urlHandlingStrategy.merge(ae.urlAfterRedirects,ae.rawUrl);this.setBrowserUrl(Ne,ae)}this.browserUrlTree=ae.urlAfterRedirects}const Se=new YW(ae.id,this.serializeUrl(ae.extractedUrl),this.serializeUrl(ae.urlAfterRedirects),ae.targetSnapshot);r.next(Se)}));if(N&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Se,extractedUrl:Ne,source:ke,restoredState:Ge,extras:ot}=u,ct=new Qv(Se,this.serializeUrl(Ne),ke,Ge);r.next(ct);const Ot=G0(Ne,this.rootComponentType).snapshot;return qt(i={...u,targetSnapshot:Ot,urlAfterRedirects:Ne,extras:{...ot,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=u.rawUrl,u.resolve(null),Mt}),Wn(u=>{const g=new $W(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(g)}),X(u=>i={...u,guards:vK(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function RK(n,t){return et(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?qt({...e,guardsResult:!0}):function wK(n,t,e,r){return Ve(n).pipe(et(i=>function xK(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?qt(o.map(u=>{const g=Lc(t)??i,N=Xl(u,g);return Qs(function bK(n){return n&&Bc(n.canDeactivate)}(N)?N.canDeactivate(n,t,e,r):g.runInContext(()=>N(n,t,e,r))).pipe(Xs())})).pipe(Ql()):qt(!0)}(i.component,i.route,e,t,r)),Xs(i=>!0!==i,!0))}(l,r,i,n).pipe(et(u=>u&&function CK(n){return"boolean"==typeof n}(u)?function OK(n,t,e,r){return Ve(t).pipe(Vs(i=>lc(function NK(n,t){return null!==n&&t&&t(new eK(n)),qt(!0)}(i.route.parent,r),function PK(n,t){return null!==n&&t&&t(new nK(n)),qt(!0)}(i.route,r),function FK(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function yK(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>_0(()=>qt(l.guards.map(g=>{const N=Lc(l.node)??e,Y=Xl(g,N);return Qs(function SK(n){return n&&Bc(n.canActivateChild)}(Y)?Y.canActivateChild(r,n):N.runInContext(()=>Y(r,n))).pipe(Xs())})).pipe(Ql())));return qt(o).pipe(Ql())}(n,i.path,e),function LK(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return qt(!0);const i=r.map(o=>_0(()=>{const l=Lc(t)??e,u=Xl(o,l);return Qs(function DK(n){return n&&Bc(n.canActivate)}(u)?u.canActivate(t,n):l.runInContext(()=>u(t,n))).pipe(Xs())}));return qt(i).pipe(Ql())}(n,i.route,e))),Xs(i=>!0!==i,!0))}(r,o,n,t):qt(u)),X(u=>({...e,guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),Wn(u=>{if(i.guardsResult=u.guardsResult,La(u.guardsResult))throw X0(0,u.guardsResult);const g=new XW(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(g)}),xr(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),cy(u=>{if(u.guards.canActivateChecks.length)return qt(u).pipe(Wn(g=>{const N=new QW(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(N)}),so(g=>{let N=!1;return qt(g).pipe(function rG(n,t){return et(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return qt(e);let o=0;return Ve(i).pipe(Vs(l=>function iG(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!mI(i)&&(o[bc]=i.title),function oG(n,t,e,r){const i=function sG(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return qt({});const o={};return Ve(i).pipe(et(l=>function aG(n,t,e,r){const i=Lc(t)??r,o=Xl(n,i);return Qs(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[l],t,e,r).pipe(Xs(),Wn(u=>{o[l]=u}))),Hv(1),C0(o),ro(l=>ay(l)?Mt:yi(l)))}(o,n,t,r).pipe(X(l=>(n._resolvedData=l,n.data=z0(n,e).resolve,i&&mI(i)&&(n.data[bc]=i.title),null)))}(l.route,r,n,t)),Wn(()=>o++),Hv(1),et(l=>o===i.length?qt(e):Mt))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Wn({next:()=>N=!0,complete:()=>{N||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),Wn(g=>{const N=new qW(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(N)}))}),cy(u=>{const g=N=>{const Y=[];N.routeConfig?.loadComponent&&!N.routeConfig._loadedComponent&&Y.push(this.configLoader.loadComponent(N.routeConfig).pipe(Wn(ae=>{N.component=ae}),X(()=>{})));for(const ae of N.children)Y.push(...g(ae));return Y};return X_(g(u.targetSnapshot.root)).pipe(Bh(),vi(1))}),cy(()=>this.afterPreactivation()),X(u=>{const g=function aK(n,t,e){const r=Pc(n,t._root,e?e._root:void 0);return new K0(r,t)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:g}}),Wn(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>X(r=>(new _K(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),Wn({next(){o=!0},complete(){o=!0}}),fh(()=>{o||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ro(u=>{if(l=!0,Z0(u)){q0(u)||(this.navigated=!0,this.restoreHistory(i,!0));const g=new Kh(i.id,this.serializeUrl(i.extractedUrl),u.message,u.cancellationCode);if(r.next(g),q0(u)){const N=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),Y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yI(i.source)};this.scheduleNavigation(N,"imperative",null,Y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new V0(i.id,this.serializeUrl(i.extractedUrl),u,i.targetSnapshot??void 0);r.next(g);try{i.resolve(this.errorHandler(u))}catch(N){i.reject(N)}}return Mt}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const l=this.parseUrl(e.url);this.scheduleNavigation(l,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(sy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:u,preserveFragment:g}=r,N=i||this.routerState.root,Y=g?this.currentUrlTree.fragment:l;let ae=null;switch(u){case"merge":ae={...this.currentUrlTree.queryParams,...o};break;case"preserve":ae=this.currentUrlTree.queryParams;break;default:ae=o||null}return null!==ae&&(ae=this.removeEmptyProps(ae)),VW(N,this.currentUrlTree,e,ae,Y??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=La(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function yG(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new pt(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...pG}:!1===r?{..._G}:r,La(e))return A0(this.currentUrlTree,e,i);const o=this.parseUrl(e);return A0(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Fa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let u,g,N;l?(u=l.resolve,g=l.reject,N=l.promise):N=new Promise((Se,Ne)=>{u=Se,g=Ne});const Y=++this.navigationId;let ae;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),ae=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):ae=0,this.setTransition({id:Y,targetPageId:ae,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:u,reject:g,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(Se=>Promise.reject(Se))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r,i){const o=new Kh(e.id,this.serializeUrl(e.extractedUrl),r,i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){hd()},n.\u0275prov=Pe({token:n,factory:function(){return vI()},providedIn:"root"}),n})();function yI(n){return"imperative"!==n}let ql=(()=>{class n{constructor(e,r,i,o,l){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new pe,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=ls(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=ls(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=ls(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==e?r.setAttribute(i,"tabindex",e):r.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(He(mr),He(Go),fa("tabindex"),He(ns),He(zn))},n.\u0275dir=Yt({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&yn("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Pi]}),n})(),Zl=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new pe,this.subscription=e.events.subscribe(o=>{o instanceof Fa&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=ls(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=ls(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=ls(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,o,l){return!!(0!==e||r||i||o||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(He(mr),He(Go),He(Da))},n.\u0275dir=Yt({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&yn("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&sr("target",r.target)("href",r.href,ga)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Pi]}),n})();class EI{}let CG=(()=>{class n{constructor(e,r,i,o,l){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(xr(e=>e instanceof Fa),Vs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Od(o.providers,e,`Route: ${o.path}`));const l=o._injector??e,u=o._loadedInjector??l;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(l,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Ve(i).pipe(dt())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):qt(null);const o=i.pipe(et(l=>null===l?qt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));return r.loadComponent&&!r._loadedComponent?Ve([o,this.loader.loadComponent(r)]).pipe(dt()):o})}}return n.\u0275fac=function(e){return new(e||n)(rt(mr),rt(c_),rt(Ns),rt(EI),rt(dy))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hy=new xt("");let TI=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Qv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof H0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new H0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){hd()},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();function CI(n){return n.routerState.root}function Jl(n,t){return{\u0275kind:n,\u0275providers:t}}function my(n){return[{provide:fy,multi:!0,useValue:n}]}function MI(){const n=tr(ni);return t=>{const e=n.get(xl);if(t!==e.components[0])return;const r=n.get(mr),i=n.get(DI);1===n.get(gy)&&r.initialNavigation(),n.get(SI,null,on.Optional)?.setUpPreloading(),n.get(hy,null,on.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const DI=new xt("",{factory:()=>new pe}),gy=new xt("",{providedIn:"root",factory:()=>1});const SI=new xt("");function AG(n){return Jl(0,[{provide:SI,useExisting:CG},{provide:EI,useExisting:n}])}const bI=new xt("ROUTER_FORROOT_GUARD"),IG=[Kd,{provide:O0,useClass:Kv},{provide:mr,useFactory:vI},Nc,{provide:Go,useFactory:CI,deps:[mr]},dy];function RG(){return new wS("Router",mr)}let ai=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[IG,[],my(e),{provide:bI,useFactory:NG,deps:[[mr,new Ps,new fl]]},{provide:em,useValue:r||{}},r?.useHash?{provide:Da,useClass:l1}:{provide:Da,useClass:eb},{provide:hy,useFactory:()=>{const n=tr(mr),t=tr(DU),e=tr(em);return e.scrollOffset&&t.setOffset(e.scrollOffset),new TI(n,t,e)}},r?.preloadingStrategy?AG(r.preloadingStrategy).\u0275providers:[],{provide:wS,multi:!0,useFactory:RG},r?.initialNavigation?LG(r):[],[{provide:AI,useFactory:MI},{provide:u_,multi:!0,useExisting:AI}]]}}static forChild(e){return{ngModule:n,providers:[my(e)]}}}return n.\u0275fac=function(e){return new(e||n)(rt(bI,8))},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[iy]}),n})();function NG(n){return"guarded"}function LG(n){return["disabled"===n.initialNavigation?Jl(3,[{provide:Ju,multi:!0,useFactory:()=>{const t=tr(mr);return()=>{t.setUpLocationChangeListener()}}},{provide:gy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Jl(2,[{provide:gy,useValue:0},{provide:Ju,multi:!0,deps:[ni],useFactory:t=>{const e=t.get(s1,Promise.resolve());let r=!1;return()=>e.then(()=>new Promise(o=>{const l=t.get(mr),u=t.get(DI);(function i(o){t.get(mr).events.pipe(xr(u=>u instanceof Fa||u instanceof Kh||u instanceof V0),X(u=>u instanceof Fa||u instanceof Kh&&(0===u.code||1===u.code)&&null),xr(u=>null!==u),vi(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),l.afterPreactivation=()=>(o(!0),r||u.closed?qt(void 0):u),l.initialNavigation()}))}}]).\u0275providers:[]]}const AI=new xt("");function II(n,t,e,r,i,o,l){try{var u=n[o](l),g=u.value}catch(N){return void e(N)}u.done?t(g):Promise.resolve(g).then(r,i)}function vr(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function l(g){II(o,r,i,l,u,"next",g)}function u(g){II(o,r,i,l,u,"throw",g)}l(void 0)})}}k(37);class qs{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(t,e){const r=new qs;return r.addError(t,e),r}addError(t,e){if(e&&String.hasData(e)){const i=e.split(".");let o=this.errors;for(let l=0;l<i.length;l++){const u=i[l],g=u[0].toLowerCase()+u.slice(1);l<i.length-1?(o[g]={},o=o[g]):o[g]=t}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),t.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(t),void(this.hasErrors=!0);const r=t[0].toLowerCase()+t.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}let xG=(()=>{class n{constructor(){this.XSSI_PREFIX=/^\)\]\}',?\n/}intercept(e,r){return r.handle(e.clone()).pipe(ro(i=>{if(!(i instanceof gc)||400!==i.status&&404!==i.status)return yi(i);if(404===i.status)return yi(qs.CreateErrorResult("NotFound"));const o=new qs;try{let l=i.error;"string"==typeof l&&(l=JSON.parse(i.error.replace(this.XSSI_PREFIX,""))),Array.isArray(l)?l.forEach(u=>o.addError(u.message,u.memberName)):o.addError(l.message,l.memberName)}catch{o.addError("Internal Error")}return yi(o)}))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _s{}class Uc extends _s{}class Zs extends _s{constructor(t=!1){super(),this._kill=t}get kill(){return this._kill}}var im;class kr{constructor(){im.set(this,new pe)}raise(t){if(null==t)throw new Error("domainEvent missing");let e="function"==typeof t?new t:"object"==typeof t?t:null;if(!(e&&e instanceof _s))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");Ce(this,im,"f").next(e)}handle(t){return Ce(this,im,"f").pipe(xr(e=>e instanceof t),X(e=>e))}}im=new WeakMap,kr.\u0275fac=function(t){return new(t||kr)},kr.\u0275prov=Pe({token:kr,factory:kr.\u0275fac,providedIn:"root"});let BG=(()=>{class n{constructor(e,r,i){this.config=e,this.eventManagerService=r,this.router=i}intercept(e,r){return r.handle(e.clone()).pipe(ro(i=>i instanceof gc&&(500===i.status||"Unknown Error"===i.statusText)?("Unknown Error"===i.statusText&&console.error(i),this.router.navigate([this.config.route]),this.eventManagerService.raise(new Zs(!0)),yi(qs.CreateErrorResult("Server Error"))):yi(i)))}}return n.\u0275fac=function(e){return new(e||n)(rt(py),rt(kr),rt(mr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class py{constructor(){this.route="/error"}}class RI{constructor(t){if(this.debugEnabled=!1,this.infoEnabled=!1,this.warnEnabled=!1,this.errorEnabled=!1,this.fatalEnabled=!1,!t||!("logLevel"in t))throw new Error("Must configure.");switch(+t.logLevel){case 0:this.debugEnabled=!0;break;case 1:this.infoEnabled=!0;break;case 2:this.warnEnabled=!0;break;case 3:this.errorEnabled=!0;break;case 4:this.fatalEnabled=!0}}logWriter(t,...e){}debug(t){this.debugEnabled&&this.logWriter("debug",t)}info(t){this.infoEnabled&&this.logWriter("info",t)}warn(t){this.warnEnabled&&this.logWriter("warn",t)}error(t){this.errorEnabled&&this.logWriter("error",t)}fatal(t){this.fatalEnabled&&this.logWriter("error",t)}}class _y{constructor(){this.logLevel=3}}let kG=(()=>{class n extends RI{constructor(e){super(e)}formatError(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:"sourceURL"in e&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}logWriter(e,...r){if(!window.console)return;const i=window.console,o=i[e]||i.log;let l=!1;try{l=!!o.apply}catch{}if(l){const u=r.map(g=>this.formatError(g));o.apply(i,u)}else o(r[0])}}return n.\u0275fac=function(e){return new(e||n)(rt(_y))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wI{constructor(t,e){this.storage=t,this.keyPrefix=e,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(t,e,r){const i=this.createItemKey(t),o=new UG;o.value=e,null!=r&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(t){const e=this.createItemKey(t),r=this.storage.getItem(e);return null===r?null:JSON.parse(r).value}remove(t){this.storage.removeItem(this.createItemKey(t))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const t=[],e=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;const l=this.storage.getItem(o);if(!l)continue;const u=JSON.parse(l);u.expiresOn&&e>u.expiresOn&&t.push(o)}t.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(t){return`${this.keyPrefix}.${t}`}}class UG{}class om{constructor(){this.keyPrefix=""}}let OI=(()=>{class n extends wI{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,e.keyPrefix)}}return n.\u0275fac=function(e){return new(e||n)(rt(om))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jG=(()=>{class n{constructor(e){this.sessionStorageService=e,this.key="AuthToken"}setAuthToken(e,r){this.sessionStorageService.set(this.key,e,r)}getAuthToken(){return this.sessionStorageService.get(this.key)}removeAuthToken(){this.sessionStorageService.remove(this.key)}}return n.\u0275fac=function(e){return new(e||n)(rt(OI))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VG=(()=>{class n{constructor(e,r,i,o){this.authTokenService=e,this.config=r,this.eventManagerService=i,this.router=o}intercept(e,r){let i={};if(!e.headers.has("Authorization")){const o=this.authTokenService.getAuthToken();o&&(i={setHeaders:{Authorization:o}})}return r.handle(e.clone(i)).pipe(Wn(o=>{if(o instanceof mc)try{const l=o.headers&&o.headers.has("Authorization")?o.headers.get("Authorization"):o.headers&&o.headers.has("renew-Authorization")?o.headers.get("renew-Authorization"):o.body&&String.hasData(o.body.token)?o.body.token:null;String.hasData(l)&&this.authTokenService.setAuthToken(l,Date.now()+12e5)}catch{}}),ro(o=>o instanceof gc&&(401===o.status||403===o.status)?(this.eventManagerService.raise(new Zs(!0)),this.router.navigate([this.config.route],{replaceUrl:!0}),Mt):yi(o)))}}return n.\u0275fac=function(e){return new(e||n)(rt(jG),rt(vy),rt(kr),rt(mr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vy{constructor(){this.route="/forbidden"}}let HG=(()=>{class n{constructor(e){this.config=e}intercept(e,r){return!this.config.use||e.url.includes("assets")?r.handle(e):r.handle(e.clone({url:`${this.config.url}${e.url}`,withCredentials:!0}))}}return n.\u0275fac=function(e){return new(e||n)(rt(yy))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yy{constructor(){this.use=!1,this.url=""}}let WG=(()=>{class n{constructor(e){if(e)throw new Error("CoreModule is already loaded. Import it once in the AppModule only.")}static forRoot(e){return{ngModule:n,providers:[{provide:yy,useValue:e.corsConfig||new yy},{provide:vy,useValue:e.http401403Config||new vy},{provide:py,useValue:e.http500Config||new py},{provide:_y,useValue:e.loggerConfig||new _y},{provide:om,useValue:e.storageConfig||new om}]}}}return n.\u0275fac=function(e){return new(e||n)(rt(n,12))},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({providers:[{provide:Wl,useClass:HG,multi:!0},{provide:Wl,useClass:xG,multi:!0},{provide:Wl,useClass:VG,multi:!0},{provide:Wl,useClass:BG,multi:!0},{provide:RI,useClass:kG}],imports:[gV]}),n})(),PI=(()=>{class n{constructor(e){this.sessionStorageService=e,this.key="UniqueId"}getUniqueId(){let e=this.sessionStorageService.get(this.key);return null==e&&(e=0),this.sessionStorageService.set(this.key,++e),e}}return n.\u0275fac=function(e){return new(e||n)(rt(OI))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ey,Ty,sm,jc,Cy;class xa{static sort(t,e,r){let i;t.sort((o,l)=>{let u=0,g=o[e],N=l[e];return null==g&&null==N?0:(null==g&&(void 0===i&&(i=Ce(this,Ey,"m",Ty).call(this,N)),g=i),null==N&&(void 0===i&&(i=Ce(this,Ey,"m",Ty).call(this,g)),N=i),"string"==typeof g&&(u=g.localeCompare(N)),"number"==typeof g&&(u=g-N),"boolean"==typeof g&&(u=g===N?0:g?1:-1),g instanceof Date&&(u=g.valueOf()-N.valueOf()),"desc"===r&&(u=-u),u)})}static fromParamMap(t,e){const r={};e.keys.forEach(o=>r[o]=`${e.get(o)}`);const i=xa.adapt(t,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!e.has(o))return;const l=e.getAll(o);i[o]="string"!=typeof l?1!==l.length?l:l[0].split(","):l.split(",")}),i}static adapt(t,e){if(null==t)return null;"function"==typeof t&&(t=new t);const r="string"==typeof e?String.isNullOrWhitespace(e)?{}:JSON.parse(e):e,i={};return Object.keys(r).forEach(o=>{const l=o[0].toLowerCase()+o.slice(1);i[l]=r[o]}),this.copyMatchingProperties(t,i),Object.keys(t).filter(o=>"object"==typeof t[o]&&t[o]instanceof class KG{}).forEach(o=>this.adapt(t[o],o in i?i[o]:this.extractPrefixedObject(i,`${o}_`))),t}static copyMatchingProperties(t,e){null==t||null==e||this.getPropertyNames(t).forEach(r=>{if(void 0===e[r])return;let i=typeof t[r];if("object"===i)switch(Reflect.getMetadata("design:type",t,r)){case String:i="string";break;case Boolean:i="boolean";break;case Number:i="number"}switch(i){case"string":t[r]=null===e[r]?t[r]:"string"==typeof e[r]?e[r]:e[r].toString();break;case"boolean":t[r]=null===e[r]?t[r]:"boolean"==typeof e[r]?e[r]:!!e[r];break;case"number":t[r]=null===e[r]?t[r]:"number"==typeof e[r]?e[r]:Number(e[r]);break;case"object":if((t[r]instanceof Date||Reflect.getMetadata("design:type",t,r)===Date)&&(t[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(t[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",t,r)){const o=Reflect.getMetadata("design:type",t,r);e[r].forEach(l=>t[r].push(xa.adapt(o,l)))}}})}static getPropertyNames(t){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(t).forEach(i=>!r.includes(i)&&r.push(i))}while((t=Object.getPrototypeOf(t))&&!e.includes(t));return r}static extractPrefixedObject(t,e){const r={};return Object.keys(t).filter(i=>i.startsWith(e)).forEach(i=>r[i.replace(e,"")]=t[i]),r}}Ey=xa,Ty=function(t){switch(typeof t){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return t instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}},String.isNullOrWhitespace||(String.isNullOrWhitespace=function(n){return null==n||n.trim().length<1}),String.hasData||(String.hasData=n=>!String.isNullOrWhitespace(n)),String.toDate||(String.toDate=function(n){if(null==n||""===n)return null;if(n instanceof Date)return n;if(!(n instanceof String))return null;const t=n.split("/");if(3!==t.length)return null;const e=Number(t[0]),r=Number(t[1]);let i=Number(t[2]);if(isNaN(e)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,e-1,r);return o.getMonth()+1!==e||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o}),Object.trimUnusedProperties||(Object.trimUnusedProperties=function(n){if(null==n)return;if(null==n)return null;let t={...n};for(var e in t){const r=t[e];(null==r||Array.isArray(r)&&0===r.length)&&delete t[e],"string"==typeof r&&String.isNullOrWhitespace(r)&&delete t[e],"number"==typeof r&&0===r&&delete t[e]}return t});class Vc{constructor(){sm.add(this),jc.set(this,'input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select')}focusFirst(){window.setTimeout(()=>{const t=document.querySelectorAll(Ce(this,jc,"f"));0!==t.length&&t[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const t=Array.from(document.querySelectorAll(Ce(this,jc,"f"))).filter(e=>Ce(this,sm,"m",Cy).call(this,e));0!==t.length&&t[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const t=Array.from(document.querySelectorAll(Ce(this,jc,"f")));if(0===t.length)return;let e=t.findIndex(r=>r===document.activeElement);for(e<0&&(e=0);e<t.length;){if(Ce(this,sm,"m",Cy).call(this,t[e]))return void t[e].focus();e++}},50)}}jc=new WeakMap,sm=new WeakSet,Cy=function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement?!t.disabled&&String.isNullOrWhitespace(t.value):"MAT-SELECT"===t.nodeName&&String.isNullOrWhitespace(t.innerText)},Vc.\u0275fac=function(t){return new(t||Vc)},Vc.\u0275prov=Pe({token:Vc,factory:Vc.\u0275fac,providedIn:"root"});let GG=(()=>{class n extends wI{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,e.keyPrefix)}}return n.\u0275fac=function(e){return new(e||n)(rt(om))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zG=["addListener","removeListener"],YG=["addEventListener","removeEventListener"],$G=["on","off"];function am(n,t,e,r){if(c(e)&&(r=e,e=void 0),r)return am(n,t,e).pipe($_(r));const[i,o]=function qG(n){return c(n.addEventListener)&&c(n.removeEventListener)}(n)?YG.map(l=>u=>n[l](t,u,e)):function XG(n){return c(n.addListener)&&c(n.removeListener)}(n)?zG.map(NI(n,t)):function QG(n){return c(n.on)&&c(n.off)}(n)?$G.map(NI(n,t)):[];if(!i&&Et(n))return et(l=>am(l,t,e))(Me(n));if(!i)throw new TypeError("Invalid event target");return new q(l=>{const u=(...g)=>l.next(1<g.length?g:g[0]);return i(u),()=>o(u)})}function NI(n,t){return e=>r=>n[e](t,r)}const Hc={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Hc;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new S(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=Hc;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Hc;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class JG extends Y_{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class ZG extends z_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Hc.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Hc.cancelAnimationFrame(e),t._scheduled=void 0)}});let My,tz=1;const lm={};function LI(n){return n in lm&&(delete lm[n],!0)}const nz={setImmediate(n){const t=tz++;return lm[t]=!0,My||(My=Promise.resolve()),My.then(()=>LI(t)&&n()),t},clearImmediate(n){LI(n)}},{setImmediate:rz,clearImmediate:iz}=nz,um={setImmediate(...n){const{delegate:t}=um;return(t?.setImmediate||rz)(...n)},clearImmediate(n){const{delegate:t}=um;return(t?.clearImmediate||iz)(n)},delegate:void 0},Dy=new class sz extends Y_{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class oz extends z_{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=um.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(um.clearImmediate(e),t._scheduled=void 0)}});function FI(n=0,t,e=lj){let r=-1;return null!=t&&(pn(t)?e=t:r=t),new q(i=>{let o=function lz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let l=0;return e.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function xI(n,t=rh){return function az(n){return ge((t,e)=>{let r=!1,i=null,o=null,l=!1;const u=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const N=i;i=null,e.next(N)}l&&e.complete()},g=()=>{o=null,l&&e.complete()};t.subscribe(fe(e,N=>{r=!0,i=N,o||Me(n(N)).subscribe(o=fe(e,u,g))},()=>{l=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>FI(n,t))}let BI=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new pe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new q(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(xI(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(xr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=fs(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>am(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(rt(In),rt(Yr),rt(Dn,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sy=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new pe,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(xI(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(rt(Yr),rt(In),rt(Dn,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({}),n})(),kI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[uc,cm,uc,cm]}),n})();function fz(n,t){if(1&n&&(Eu(),Zt(0,"circle",4)),2&n){const e=Xt(),r=Or(1);Ea("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),sr("r",e._getCircleRadius())}}function dz(n,t){if(1&n&&(Eu(),Zt(0,"circle",4)),2&n){const e=Xt(),r=Or(1);Ea("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),sr("r",e._getCircleRadius())}}const mz=cc(class{constructor(n){this._elementRef=n}},"primary"),gz=new xt("mat-progress-spinner-default-options",{providedIn:"root",factory:function pz(){return{diameter:100}}});class vs extends mz{constructor(t,e,r,i,o,l,u,g){super(t),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=S.EMPTY,this.mode="determinate";const N=vs._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),N.has(r.head)||N.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&u&&l&&g&&(this._resizeSubscription=u.change(150).subscribe(()=>{"indeterminate"===this.mode&&g.run(()=>l.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=jl(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=jl(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,jl(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=Sb(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,r=vs._diameters;let i=r.get(t);if(!i||!i.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),i||(i=new Set,r.set(t,i)),i.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}vs._diameters=new WeakMap,vs.\u0275fac=function(t){return new(t||vs)(He(zn),He(Yr),He(Dn,8),He(jo,8),He(gz),He(ji),He(Sy),He(In))},vs.\u0275cmp=Tn({type:vs,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(sr("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),Ea("width",e.diameter,"px")("height",e.diameter,"px"),Ur("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[An],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(Eu(),Pt(0,"svg",0,1),zt(2,fz,1,11,"circle",2),zt(3,dz,1,9,"circle",3),Nt()),2&t&&(Ea("width",e.diameter,"px")("height",e.diameter,"px"),yt("ngSwitch","indeterminate"===e.mode),sr("viewBox",e._getViewBox()),St(2),yt("ngSwitchCase",!0),St(1),yt("ngSwitchCase",!1))},dependencies:[rc,F_],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let vz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[Br,Jn,Br]}),n})();function yz(n,t){1&n&&(Pt(0,"div",1),Zt(1,"mat-spinner",2),Nt())}let Ez=(()=>{class n{constructor(e){this.requestCount=0,this.delay=250,this.show=!1,e.handle(Uc).subscribe(r=>this.waitStart()),e.handle(Zs).subscribe(r=>this.waitEnd(r))}waitStart(){this.requestCount++,window.setTimeout(()=>{0!==this.requestCount&&(this.show=!0)},this.delay)}waitEnd(e){e.kill?this.requestCount=0:this.requestCount>0&&this.requestCount--,0===this.requestCount&&(this.show=!1)}}return n.\u0275fac=function(e){return new(e||n)(He(kr))},n.\u0275cmp=Tn({type:n,selectors:[["throbber"]],standalone:!0,features:[Xn],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(e,r){1&e&&zt(0,yz,2,0,"div",0),2&e&&yt("ngIf",r.show)},dependencies:[Jn,Fr,vz,vs],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"]}),n})();var li=(()=>{return(n=li||(li={})).Listing="Listing",n.Comment="t1",n.Account="t2",n.Link="t3",n.Message="t4",n.Subreddit="t5",n.Award="t6",n.More="more",li;var n})();const Tz=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function Ay(n){let t={};return function Cz(n,t){if(t.is_crosspost=String.hasData(n.crosspost_parent)&&Array.isArray(n.crosspost_parent_list)&&n.crosspost_parent_list.length>0,n.media?.reddit_video)t.has_video=!0;else if(n.preview?.reddit_video_preview)t.has_video=!0;else if(n.preview&&Array.isArray(n.preview.images)&&n.preview.images[0].variants&&"mp4"in n.preview.images[0].variants)t.has_video=!0;else if(n.media_embed?.content)t.has_embed=!0;else{if(String.hasData(n.selftext_html)&&(t.has_text=!0),n.thumbnail&&"default"===n.thumbnail&&(t.has_link=!0),n.post_hint&&"link"===n.post_hint&&"imgur.com"!==n.domain&&(t.has_link=!0),!n.preview||!Array.isArray(n.preview.images))return n.gallery_data?(t.has_image=!0,void(t.has_image_gallery=!0)):void(Tz.some(e=>n.url.endsWith(e))?t.has_image=!0:!t.has_image&&!t.has_text&&(t.has_link=!0));t.has_image=!0}}(n,t),function Mz(n,t){t.author=n.author,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.num_comments=n.num_comments,t.stickied=n.stickied,t.subreddit=n.subreddit,t.title=n.title,t.ups=n.ups}(n,t),function Dz(n,t){!t.is_crosspost||(t.crosspost=Ay(n.crosspost_parent_list[0]))}(n,t),function Sz(n,t){!t.has_embed||(t.embed=n.media_embed.content)}(n,t),function bz(n,t){!t.has_image||(t.images=null!=n.gallery_data?function Az(n){return n.gallery_data.items.map(t=>{const e=n.media_metadata[t.media_id];return{src:e.o?e.o[0].u:e.s.u,srcset:e.p.map(r=>`${r.u} ${r.x}w`).join(","),href:n.url}})}(n):null!=n.preview?function Iz(n){const t=n.preview.images[0];return[{src:t.source.url,srcset:t.resolutions.map(e=>`${e.url} ${e.width}w`).join(","),href:n.url}]}(n):function Rz(n){return[{src:n.url,srcset:n.url,href:n.url}]}(n))}(n,t),function Lz(n,t){!t.has_link||(t.url=n.url)}(n,t),function Fz(n,t){!t.has_text||(t.selftext_html=n.selftext_html)}(n,t),function wz(n,t){!t.has_video||(t.videos=n.media&&n.media.reddit_video?function Oz(n){return[{url:n.media.reddit_video.dash_url,type:"application/dash+xml"},{url:n.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:n.media.reddit_video.fallback_url,type:""}]}(n):n.preview&&n.preview.reddit_video_preview?function Pz(n){return[{url:n.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:n.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:n.preview.reddit_video_preview.fallback_url,type:""}]}(n):function Nz(n){return[{url:n.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(n))}(n,t),t}function xz(n){let t={};return function Bz(n,t){t.author=n.author,t.body_html=n.body_html,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.stickied=n.stickied,t.ups=n.ups}(n,t),t}function kz(n,t){return Iy.apply(this,arguments)}function Iy(){return(Iy=vr(function*(n,t,e=""){this.set_post_comments({items:[],post:null});let r=new URLSearchParams;r.set("sort",`${t}`),r.set("limit","100"),r.set("raw_json","1"),r.set("threaded","false"),String.hasData(e)&&r.set("comment",e);const i=new URL(`https://www.reddit.com/comments/${n}.json`);i.search=`${r}`;try{const o=yield fetch(i);if(!o.ok)return void this.set_errors(o.statusText);const l=yield o.json(),u=l[0],g=l[1];if(g.kind!==li.Listing)return void this.set_errors(`Comment listing's kind isn't ${li.Listing}, its ${g.kind} instead`);if(g.data?.children.some(ae=>ae.kind!==li.Comment&&ae.kind!==li.More))return void this.set_errors(`Not all of comment listing's children are of kind ${li.Comment} or ${li.More}`);const N=g.data.children.filter(ae=>ae.kind==li.Comment&&null!=ae.data).map(ae=>xz(ae.data)),Y=Ay(u.data.children[0].data);this.set_post_comments({article:n,items:N,sort:t,post:Y})}catch(o){this.set_errors(o)}})).apply(this,arguments)}function Uz(n,t,e,r){return Ry.apply(this,arguments)}function Ry(){return(Ry=vr(function*(n,t,e,r){this.set_posts({items:[],subreddit:""});const i=this.subscriptionService.get();let o=r;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let l=new URLSearchParams;l.set("limit","20"),l.set("raw_json","1"),String.hasData(n)&&l.set("after",n),String.hasData(t)&&l.set("modhash",t);const u=new URL(`https://www.reddit.com/r/${o}/${e}.json`);u.search=`${l}`;try{const g=yield fetch(u);if(!g.ok)return void this.set_errors(g.statusText);const N=yield g.json();if(N.kind!==li.Listing)return void this.set_errors(`Listing's kind isn't ${li.Listing}, its ${N.kind} instead`);if(N.data?.children.some(Se=>Se.kind!==li.Link))return void this.set_errors(`Not all of Listing's children are of kind ${li.Link}`);const Y=N.data,ae=Y.children.filter(Se=>null!=Se.data).map(Se=>Ay(Se.data));ae.forEach(Se=>Se.subreddit_subscribed=i.includes(Se.subreddit)),this.set_posts({after:Y.after,items:ae,modhash:Y.modhash,sort:e,subreddit:o})}catch(g){this.set_errors(g)}})).apply(this,arguments)}function jz(n){return wy.apply(this,arguments)}function wy(){return(wy=vr(function*(n){if(this.get_subreddit_query().request!=n&&(this.set_subreddit_query({request:n,result:[]}),!String.isNullOrWhitespace(n)))try{const r=(yield Vz.call(this,n)).map(l=>Kz.call(this,l)),o=(yield Promise.allSettled(r)).filter(l=>"fulfilled"===l.status).map(l=>l.value).filter(l=>null!=l).map(l=>({accounts_active:l.accounts_active,display_name:l.display_name,public_description_html:l.public_description_html,subscribers:l.subscribers,title:l.title,url:l.url}));this.set_subreddit_query({request:n,result:o})}catch(e){this.set_errors(e)}})).apply(this,arguments)}function Vz(n){return Oy.apply(this,arguments)}function Oy(){return(Oy=vr(function*(n){const t=[Hz.call(this,n),Wz.call(this,n)],r=(yield Promise.allSettled(t)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(r)]})).apply(this,arguments)}function Hz(n){return Py.apply(this,arguments)}function Py(){return(Py=vr(function*(n){const t=new URLSearchParams;t.set("query",n),t.set("exact","false"),t.set("include_over_18","true"),t.set("typeahead_active","false"),t.set("include_unadvertisable","true");const e=new URL("https://www.reddit.com/api/search_reddit_names.json");e.search=`${t}`;try{const r=yield fetch(e);return r.ok?(yield r.json()).names:null}catch{return null}})).apply(this,arguments)}function Wz(n){return Ny.apply(this,arguments)}function Ny(){return(Ny=vr(function*(n){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -comments -wiki`)}&num=40`,i=yield fetch(r);if(!i.ok)throw new Error(i.statusText);const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const N=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:N})}else l.innerHTML=this.domSanitizer.sanitize(Un.HTML,o);let u=Array.from(l.querySelectorAll('a[href*="reddit.com/r/"]')).map(N=>{const Y=N.href.indexOf("reddit.com/r/")+13,ae=N.href.indexOf("/",Y);return N.href.slice(Y,ae)});const g=u.filter(N=>N.includes("+"));return u=u.filter(N=>!N.includes("+")),g.forEach(N=>N.split("+").forEach(Y=>u.push(Y))),u})).apply(this,arguments)}function Kz(n){return Ly.apply(this,arguments)}function Ly(){return(Ly=vr(function*(n){const t=`https://www.reddit.com/r/${n}/about.json?raw_json=1`;try{const e=yield fetch(t,{redirect:"error"});if(!e.ok)return null;const r=yield e.json();return r.kind!==li.Subreddit?(this.set_errors(`r/${n}/about.kind isn't ${li.Subreddit}, its ${r.kind} instead`),null):r.data}catch{return null}})).apply(this,arguments)}function Gz(n){return Fy.apply(this,arguments)}function Fy(){return(Fy=vr(function*(n){this.subscriptionService.add(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}function zz(n){return xy.apply(this,arguments)}function xy(){return(xy=vr(function*(n){this.subscriptionService.remove(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}var By,fm,Wc,ys,Kc,dm,hm,mm,jI,Gc,So,Ba,Qr,gm,Ti,pm,VI,HI;class eu{constructor(t){By.add(this),fm.set(this,"profile"),Wc.set(this,void 0),ys.set(this,{}),Kc.set(this,JSON.stringify(Ce(this,ys,"f"))),dm.set(this,new pe),hm.set(this,void 0),mm.set(this,!1),Qe(this,Wc,t,"f"),Qe(this,hm,Ce(this,dm,"f").pipe(ih(300)).subscribe(()=>Ce(this,By,"m",jI).call(this)),"f")}get(t){return Ce(this,ys,"f")[t]}set(t,e){Ce(this,ys,"f")[t]=e,Ce(this,dm,"f").next("")}load(){var t=this;return vr(function*(){if(Ce(t,mm,"f"))return;const e=Ce(t,Wc,"f").get(Ce(t,fm,"f"));null!=e&&(Qe(t,ys,e,"f"),Qe(t,Kc,JSON.stringify(Ce(t,ys,"f")),"f"),Qe(t,mm,!0,"f"))})()}ngOnDestroy(){Ce(this,hm,"f").unsubscribe()}}fm=new WeakMap,Wc=new WeakMap,ys=new WeakMap,Kc=new WeakMap,dm=new WeakMap,hm=new WeakMap,mm=new WeakMap,By=new WeakSet,jI=function(){const t=JSON.stringify(Ce(this,ys,"f"));t!==Ce(this,Kc,"f")&&(Qe(this,Kc,t,"f"),Ce(this,Wc,"f").set(Ce(this,fm,"f"),Ce(this,ys,"f")))},eu.\u0275fac=function(t){return new(t||eu)(rt(GG))},eu.\u0275prov=Pe({token:eu,factory:eu.\u0275fac,providedIn:"root"});class ka{constructor(t){Gc.set(this,"subreddits"),So.set(this,[]),Ba.set(this,void 0),Qe(this,Ba,t,"f")}add(t){String.isNullOrWhitespace(t)||Ce(this,So,"f").includes(t)||(Ce(this,So,"f").push(t),Ce(this,So,"f").sort(),Ce(this,Ba,"f").set(Ce(this,Gc,"f"),Ce(this,So,"f")))}get(){return[...Ce(this,So,"f")]}remove(t){String.isNullOrWhitespace(t)||(Qe(this,So,Ce(this,So,"f").filter(e=>e!==t),"f"),Ce(this,Ba,"f").set(Ce(this,Gc,"f"),Ce(this,So,"f")))}loadAsync(){var t=this;return vr(function*(){yield Ce(t,Ba,"f").load(),Qe(t,So,Ce(t,Ba,"f").get(Ce(t,Gc,"f"))||[],"f")})()}}Gc=new WeakMap,So=new WeakMap,Ba=new WeakMap,ka.\u0275fac=function(t){return new(t||ka)(rt(eu))},ka.\u0275prov=Pe({token:ka,factory:ka.\u0275fac,providedIn:"root"});class Ki{constructor(t,e,r){this.domSanitizer=t,this.subscriptionService=e,this.uniqueIdService=r,Qr.set(this,new Vi({post_comments:{article:"",items:null,sort:"best",post:null},errors:null,posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""},subreddit_query:{request:"",result:null}})),this.errors$=Ce(this,Qr,"f").pipe(Wn(i=>!1),X(i=>i.errors)),this.posts$=Ce(this,Qr,"f").pipe(xr(i=>null!=i.posts.items),X(i=>({after:i.posts.after,items:i.posts.items?.map(o=>function Yz(n){const t=JSON.parse(JSON.stringify(n));return t.images&&(t.images=t.images.map(e=>Object.freeze(e))),t.videos&&(t.videos=t.videos.map(e=>Object.freeze(e))),Object.freeze(t)}(o)),modhash:i.posts.modhash,sort:i.posts.sort,subreddit:i.posts.subreddit}))),this.post_comments$=Ce(this,Qr,"f").pipe(xr(i=>null!=i.post_comments&&null!=i.post_comments.items),X(i=>({items:i.post_comments.items?.map(o=>function $z(n){const t=JSON.parse(JSON.stringify(n));return Object.freeze(t)}(o)),sort:i.post_comments.sort,post:i.post_comments.post}))),this.subreddit_query$=Ce(this,Qr,"f").pipe(X(i=>({request:i.subreddit_query.request,result:i.subreddit_query.result}))),this.actions={listCommentAsync:kz.bind(this),listPostAsync:Uz.bind(this),searchAsync:jz.bind(this),subscribe:Gz.bind(this),unsubscribe:zz.bind(this)}}set_errors(t){const e=Ce(this,Qr,"f").value;null!=t&&(e.errors=t),Ce(this,Qr,"f").next(e)}get_posts(){return Ce(this,Qr,"f").value.posts}set_posts(t){const e=Ce(this,Qr,"f").value;e.posts.after=String.hasData(t.after)?t.after:"",null!=t.items&&(e.posts.items=t.items),e.posts.modhash=String.hasData(t.modhash)?t.modhash:"",null!=t.sort&&(e.posts.sort=t.sort),null!=t.subreddit&&(e.posts.subreddit=t.subreddit),e.errors=null,Ce(this,Qr,"f").next(e)}get_post_comments(){return Ce(this,Qr,"f").value.post_comments}set_post_comments(t){const e=Ce(this,Qr,"f").value;e.post_comments.article=String.hasData(t.article)?t.article:"",void 0!==t.items&&(e.post_comments.items=t.items),null!=t.sort&&(e.post_comments.sort=t.sort),void 0!==t.post&&(e.post_comments.post=t.post),e.errors=null,Ce(this,Qr,"f").next(e)}get_subreddit_query(){return Ce(this,Qr,"f").value.subreddit_query}set_subreddit_query(t){const e=Ce(this,Qr,"f").value;e.subreddit_query.request=String.hasData(t.request)?t.request:"",null!=t.result&&(e.subreddit_query.result=t.result),e.errors=null,Ce(this,Qr,"f").next(e)}}Qr=new WeakMap,Ki.\u0275fac=function(t){return new(t||Ki)(rt(Ks),rt(ka),rt(PI))},Ki.\u0275prov=Pe({token:Ki,factory:Ki.\u0275fac,providedIn:"root"});class Ua{constructor(t){gm.add(this),Ti.set(this,""),pm.set(this,void 0),Qe(this,pm,t,"f"),Qe(this,Ti,document.baseURI.replace(window.location.origin,""),"f"),Ce(this,Ti,"f").endsWith("/")&&Qe(this,Ti,Ce(this,Ti,"f").slice(0,-1),"f")}sanitizeHTML(t){if(String.isNullOrWhitespace(t))return"";const e=document.createElement("p");return e.innerHTML=Ce(this,pm,"f").sanitize(Un.HTML,t),Ce(this,gm,"m",VI).call(this,e),Ce(this,gm,"m",HI).call(this,e),e.innerHTML}sanitizeLink(t){if(String.isNullOrWhitespace(t))return{href:"",text:"",external:!1};let e=t.replace(window.location.origin,`${Ce(this,Ti,"f")}`).replace("http://www.reddit.com/",`${Ce(this,Ti,"f")}/`).replace("https://www.reddit.com/",`${Ce(this,Ti,"f")}/`).replace("http://reddit.com/",`${Ce(this,Ti,"f")}/`).replace("https://reddit.com/",`${Ce(this,Ti,"f")}/`).replace("http://old.reddit.com/",`${Ce(this,Ti,"f")}/`).replace("https://old.reddit.com/",`${Ce(this,Ti,"f")}/`);const r=!e.startsWith(Ce(this,Ti,"f"));!r&&e.endsWith("/")&&(e=e.slice(0,-1));const i=e.replace(Ce(this,Ti,"f"),""),o=document.createElement("a");return o.href=e,o.innerText=i,r&&(o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer nofollow")),{href:e,text:i,external:r,el:o}}}Ti=new WeakMap,pm=new WeakMap,gm=new WeakSet,VI=function(t){const e=Array.from(t.getElementsByTagName("a"));0!==e.length&&e.forEach(r=>{const i=this.sanitizeLink(r.href);r.replaceWith(i.el)})},HI=function(t){Array.from(t.getElementsByTagName("code")).forEach(e=>{e.style.whiteSpace="break-spaces"})},Ua.\u0275fac=function(t){return new(t||Ua)(rt(Ks))},Ua.\u0275prov=Pe({token:Ua,factory:Ua.\u0275fac,providedIn:"root"});let ky=(()=>{class n{constructor(){this.list={}}save(){this.list[window.location.href]=window.scrollY}tryRestore(){const e=this.list[window.location.href];return e?(setTimeout(()=>{window.scrollTo(0,e),delete this.list[window.location.href]},0),!0):(window.scrollTo(0,0),!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xz=(()=>{class n{constructor(e,r){this.eventManagerService=e,this.subscriptionService=r}ngOnInit(){var e=this;return vr(function*(){const r=[e.subscriptionService.loadAsync()];e.eventManagerService.raise(Uc);try{yield Promise.allSettled(r)}finally{e.eventManagerService.raise(Zs)}})()}}return n.\u0275fac=function(e){return new(e||n)(He(kr),He(ka))},n.\u0275cmp=Tn({type:n,selectors:[["app-root"]],standalone:!0,features:[Xn],decls:2,vars:0,template:function(e,r){1&e&&Zt(0,"throbber")(1,"router-outlet")},dependencies:[ai,ry,Ez],encapsulation:2}),n})();const Qz=["mat-button",""],qz=["*"],Jz=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],eY=cc(Xb(Qb(class{constructor(n){this._elementRef=n}})));let ja=(()=>{class n extends eY{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Jz)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(uh),He(jo,8))},n.\u0275cmp=Tn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&Uo(rv,5),2&e){let i;ur(i=cr())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(sr("disabled",r.disabled||null),Ur("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[An],attrs:Qz,ngContentSelectors:qz,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(xs(),Pt(0,"span",0),Gr(1),Nt(),Zt(2,"span",1)(3,"span",2)),2&e&&(St(2),Ur("mat-button-ripple-round",r.isRoundButton||r.isIconButton),yt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[rv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Gi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[dc,Br,Br]}),n})();function WI(n,t){return t?e=>lc(t.pipe(vi(1),function tY(){return ge((n,t)=>{n.subscribe(fe(t,x))})}()),e.pipe(WI(n))):et((e,r)=>n(e,r).pipe(vi(1),C0(e)))}function KI(n,t=rh){const e=FI(n,t);return WI(()=>e)}class Uy{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class GI extends Uy{constructor(t,e,r,i){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class zI extends Uy{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class nY extends Uy{constructor(t){super(),this.element=t instanceof zn?t.nativeElement:t}}class iY extends class rY{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof GI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof zI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof nY?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const u=l.element,g=this._document.createComment("dom-portal");u.parentNode.insertBefore(g,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(u,g)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||ni.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let oY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({}),n})();const YI=GU();class sY{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Sr(-this._previousScrollPosition.left),t.style.top=Sr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),YI&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),YI&&(r.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class aY{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $I{enable(){}disable(){}attach(){}}function jy(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function XI(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class lY{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();jy(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let uY=(()=>{class n{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new $I,this.close=l=>new aY(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new sY(this._viewportRuler,this._document),this.reposition=l=>new lY(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(rt(BI),rt(Sy),rt(In),rt(Dn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QI{constructor(t){if(this.scrollStrategy=new $I,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class cY{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let qI=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fY=(()=>{class n extends qI{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const u=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(i)):u.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn),rt(In,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dY=(()=>{class n extends qI{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=ba(o)},this._clickListener=o=>{const l=ba(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let N=g.length-1;N>-1;N--){const Y=g[N];if(Y._outsidePointerEvents.observers.length<1||!Y.hasAttached())continue;if(Y.overlayElement.contains(l)||Y.overlayElement.contains(u))break;const ae=Y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ae.next(o)):ae.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn),rt(Yr),rt(In,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZI=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||H_()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),H_()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(rt(Dn),rt(Yr))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hY{constructor(t,e,r,i,o,l,u,g,N,Y=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=u,this._location=g,this._outsideClickDispatcher=N,this._animationsDisabled=Y,this._backdropElement=null,this._backdropClick=new pe,this._attachments=new pe,this._detachments=new pe,this._locationChanges=S.EMPTY,this._backdropClickHandler=ae=>this._backdropClick.next(ae),this._backdropTransitionendHandler=ae=>{this._disposeBackdrop(ae.target)},this._keydownEvents=new pe,this._outsidePointerEvents=new pe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(vi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Sr(this._config.width),t.height=Sr(this._config.height),t.minWidth=Sr(this._config.minWidth),t.minHeight=Sr(this._config.minHeight),t.maxWidth=Sr(this._config.maxWidth),t.maxHeight=Sr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=oh(e||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe($r(Ze(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const JI="cdk-overlay-connected-position-bounding-box",mY=/([A-Za-z%]+)$/;class gY{constructor(t,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pe,this._resizeSubscription=S.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(JI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let l;for(let u of this._preferredPositions){let g=this._getOriginPoint(t,i,u),N=this._getOverlayPoint(g,e,u),Y=this._getOverlayFit(N,e,r,u);if(Y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,g);this._canFitWithFlexibleDimensions(Y,N,r)?o.push({position:u,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,u)}):(!l||l.overlayFit.visibleArea<Y.visibleArea)&&(l={overlayFit:Y,overlayPoint:N,originPoint:g,position:u,overlayRect:e})}if(o.length){let u=null,g=-1;for(const N of o){const Y=N.boundingBoxRect.width*N.boundingBoxRect.height*(N.position.weight||1);Y>g&&(g=Y,u=N)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Va(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(JI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;i="start"==r.originX?l:u}return e.left<0&&(i-=e.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,r,i){const o=tR(e);let{x:l,y:u}=t,g=this._getOffset(i,"x"),N=this._getOffset(i,"y");g&&(l+=g),N&&(u+=N);let Se=0-u,Ne=u+o.height-r.height,ke=this._subtractOverflows(o.width,0-l,l+o.width-r.width),Ge=this._subtractOverflows(o.height,Se,Ne),ot=ke*Ge;return{visibleArea:ot,isCompletelyWithinViewport:o.width*o.height===ot,fitsInViewportVertically:Ge===o.height,fitsInViewportHorizontally:ke==o.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,l=eR(this._overlayRef.getConfig().minHeight),u=eR(this._overlayRef.getConfig().minWidth),N=t.fitsInViewportHorizontally||null!=u&&u<=o;return(t.fitsInViewportVertically||null!=l&&l<=i)&&N}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=tR(e),o=this._viewportRect,l=Math.max(t.x+i.width-o.width,0),u=Math.max(t.y+i.height-o.height,0),g=Math.max(o.top-r.top-t.y,0),N=Math.max(o.left-r.left-t.x,0);let Y=0,ae=0;return Y=i.width<=o.width?N||-l:t.x<this._viewportMargin?o.left-r.left-t.x:0,ae=i.height<=o.height?g||-u:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:Y,y:ae},{x:t.x+Y,y:t.y+ae}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new cY(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let o,l,u,Y,ae,Se;if("top"===e.overlayY)l=t.y,o=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)u=r.height-t.y+2*this._viewportMargin,o=r.height-u+this._viewportMargin;else{const Ne=Math.min(r.bottom-t.y+r.top,t.y),ke=this._lastBoundingBoxSize.height;o=2*Ne,l=t.y-Ne,o>ke&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-ke/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)Se=r.width-t.x+this._viewportMargin,Y=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)ae=t.x,Y=r.right-t.x;else{const Ne=Math.min(r.right-t.x+r.left,t.x),ke=this._lastBoundingBoxSize.width;Y=2*Ne,ae=t.x-Ne,Y>ke&&!this._isInitialRender&&!this._growAfterOpen&&(ae=t.x-ke/2)}return{top:l,left:ae,bottom:u,right:Se,width:Y,height:o}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Sr(r.height),i.top=Sr(r.top),i.bottom=Sr(r.bottom),i.width=Sr(r.width),i.left=Sr(r.left),i.right=Sr(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Sr(o)),l&&(i.maxWidth=Sr(l))}this._lastBoundingBoxSize=r,Va(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Va(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Va(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const Y=this._viewportRuler.getViewportScrollPosition();Va(r,this._getExactOverlayY(e,t,Y)),Va(r,this._getExactOverlayX(e,t,Y))}else r.position="static";let u="",g=this._getOffset(e,"x"),N=this._getOffset(e,"y");g&&(u+=`translateX(${g}px) `),N&&(u+=`translateY(${N}px)`),r.transform=u.trim(),l.maxHeight&&(i?r.maxHeight=Sr(l.maxHeight):o&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Sr(l.maxWidth):o&&(r.maxWidth="")),Va(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Sr(o.y),i}_getExactOverlayX(t,e,r){let l,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Sr(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:XI(t,r),isOriginOutsideView:jy(t,r),isOverlayClipped:XI(e,r),isOverlayOutsideView:jy(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&oh(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof zn)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Va(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function eR(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(mY);return e&&"px"!==e?null:parseFloat(t)}return n||null}function tR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const nR="cdk-global-overlay-wrapper";class pY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(nR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:u}=r,g=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),N=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),Y=this._xPosition,ae=this._xOffset,Se="rtl"===this._overlayRef.getConfig().direction;let Ne="",ke="",Ge="";g?Ge="flex-start":"center"===Y?(Ge="center",Se?ke=ae:Ne=ae):Se?"left"===Y||"end"===Y?(Ge="flex-end",Ne=ae):("right"===Y||"start"===Y)&&(Ge="flex-start",ke=ae):"left"===Y||"start"===Y?(Ge="flex-start",Ne=ae):("right"===Y||"end"===Y)&&(Ge="flex-end",ke=ae),t.position=this._cssPosition,t.marginLeft=g?"0":Ne,t.marginTop=N?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":ke,e.justifyContent=Ge,e.alignItems=N?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(nR),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let _Y=(()=>{class n{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new pY}flexibleConnectedTo(e){return new gY(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(rt(Sy),rt(Dn),rt(Yr),rt(ZI))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vY=0,tu=(()=>{class n{constructor(e,r,i,o,l,u,g,N,Y,ae,Se,Ne){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=u,this._ngZone=g,this._document=N,this._directionality=Y,this._location=ae,this._outsideClickDispatcher=Se,this._animationsModuleType=Ne}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),l=new QI(e);return l.direction=l.direction||this._directionality.value,new hY(o,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+vY++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(xl)),new iY(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(rt(uY),rt(ZI),rt(gl),rt(_Y),rt(fY),rt(ni),rt(In),rt(Dn),rt(ch),rt(Kd),rt(dY),rt(jo,8))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac}),n})();const TY={provide:new xt("cdk-connected-overlay-scroll-strategy"),deps:[tu],useFactory:function EY(n){return()=>n.scrollStrategies.reposition()}};let rR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({providers:[tu,TY],imports:[uc,oY,kI,kI]}),n})();const CY=["mat-menu-item",""];function MY(n,t){1&n&&(Eu(),Pt(0,"svg",2),Zt(1,"polygon",3),Nt())}const iR=["*"];function DY(n,t){if(1&n){const e=Pr();Pt(0,"div",0),yn("keydown",function(i){return ir(e),or(Xt()._handleKeydown(i))})("click",function(){return ir(e),or(Xt().closed.emit("click"))})("@transformMenu.start",function(i){return ir(e),or(Xt()._onAnimationStart(i))})("@transformMenu.done",function(i){return ir(e),or(Xt()._onAnimationDone(i))}),Pt(1,"div",1),Gr(2),Nt()()}if(2&n){const e=Xt();yt("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),sr("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const _m={transformMenu:Ec("transformMenu",[Ia("void",jr({opacity:0,transform:"scale(0.8)"})),zs("void => enter",Gs("120ms cubic-bezier(0, 0, 0.2, 1)",jr({opacity:1,transform:"scale(1)"}))),zs("* => void",Gs("100ms 25ms linear",jr({opacity:0})))]),fadeInItems:Ec("fadeInItems",[Ia("showing",jr({opacity:1})),zs("void => *",[jr({opacity:0}),Gs("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},SY=new xt("MatMenuContent"),Vy=new xt("MAT_MENU_PANEL"),bY=Qb(Xb(class{}));let zc=(()=>{class n extends bY{constructor(e,r,i,o,l){super(),this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new pe,this._focused=new pe,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(Dn),He(uh),He(Vy,8),He(ji))},n.\u0275cmp=Tn({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,r){1&e&&yn("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(sr("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Ur("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[An],attrs:CY,ngContentSelectors:iR,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(xs(),Gr(0),Zt(1,"div",0),zt(2,MY,2,0,"svg",1)),2&e&&(St(1),yt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),St(1),yt("ngIf",r._triggersSubmenu))},dependencies:[Fr,rv],encapsulation:2,changeDetection:0}),n})();const oR=new xt("mat-menu-default-options",{providedIn:"root",factory:function AY(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let IY=0,Yc=(()=>{class n{constructor(e,r,i,o){this._elementRef=e,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Nl,this._tabSubscription=S.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new pe,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new qn,this.close=this.closed,this.panelId="mat-menu-panel-"+IY++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Mo(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Mo(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Oj(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(js(this._directDescendantItems),so(e=>Ze(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(js(this._directDescendantItems),so(r=>Ze(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:G_(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(vi(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(js(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(In),He(oR),He(ji))},n.\u0275dir=Yt({type:n,contentQueries:function(e,r,i){if(1&e&&(oi(i,SY,5),oi(i,zc,5),oi(i,zc,4)),2&e){let o;ur(o=cr())&&(r.lazyContent=o.first),ur(o=cr())&&(r._allItems=o),ur(o=cr())&&(r.items=o)}},viewQuery:function(e,r){if(1&e&&Uo(ko,5),2&e){let i;ur(i=cr())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),Hy=(()=>{class n extends Yc{constructor(e,r,i,o){super(e,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(In),He(oR),He(ji))},n.\u0275cmp=Tn({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,r){2&e&&sr("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Yn([{provide:Vy,useExisting:n}]),An],ngContentSelectors:iR,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,r){1&e&&(xs(),zt(0,DY,3,6,"ng-template"))},dependencies:[Bl],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[_m.transformMenu,_m.fadeInItems]},changeDetection:0}),n})();const sR=new xt("mat-menu-scroll-strategy"),wY={provide:sR,deps:[tu],useFactory:function RY(n){return()=>n.scrollStrategies.reposition()}},aR=Ul({passive:!0});let OY=(()=>{class n{constructor(e,r,i,o,l,u,g,N,Y){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=u,this._dir=g,this._focusMonitor=N,this._ngZone=Y,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=S.EMPTY,this._hoverSubscription=S.EMPTY,this._menuCloseSubscription=S.EMPTY,this._handleTouchStart=ae=>{J_(ae)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new qn,this.onMenuOpen=this.menuOpened,this.menuClosed=new qn,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=l instanceof Yc?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,aR),u&&(u._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,aR),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Yc&&(e._startAnimation(),e._directDescendantItems.changes.pipe($r(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Yc?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(xr(i=>"void"===i.toState),vi(1),$r(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new QI({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",l="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,l)):e.setPositionClasses(o,l)})}_setPosition(e,r){let[i,o]="before"===e.xPosition?["end","start"]:["start","end"],[l,u]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[g,N]=[l,u],[Y,ae]=[i,o],Se=0;if(this.triggersSubmenu()){if(ae=i="before"===e.xPosition?"start":"end",o=Y="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Ne=this._parentMaterialMenu.items.first;this._parentInnerPadding=Ne?Ne._getHostElement().offsetTop:0}Se="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(g="top"===l?"bottom":"top",N="top"===u?"bottom":"top");r.withPositions([{originX:i,originY:g,overlayX:Y,overlayY:l,offsetY:Se},{originX:o,originY:g,overlayX:ae,overlayY:l,offsetY:Se},{originX:i,originY:N,overlayX:Y,overlayY:u,offsetY:-Se},{originX:o,originY:N,overlayX:ae,overlayY:u,offsetY:-Se}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return Ze(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:qt(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(xr(l=>l!==this._menuItemInstance),xr(()=>this._menuOpen)):qt(),r)}_handleMousedown(e){Z_(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(xr(e=>e===this._menuItemInstance&&!e.disabled),KI(0,Dy)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Yc&&this.menu._isAnimating?this.menu._animationDone.pipe(vi(1),KI(0,Dy),$r(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new zI(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(He(tu),He(zn),He(Ui),He(sR),He(Vy,8),He(zc,10),He(ch,8),He(uh),He(In))},n.\u0275dir=Yt({type:n,hostVars:3,hostBindings:function(e,r){1&e&&yn("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&e&&sr("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),Wy=(()=>{class n extends OY{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Kr(n)))(r||n)}}(),n.\u0275dir=Yt({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[An]}),n})(),Es=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({providers:[wY],imports:[Jn,Br,dc,rR,cm,Br]}),n})();class lR extends _s{}class uR extends _s{constructor(t){super(),this.sort_requested=t}}class cR extends _s{constructor(t){super(),this.sort_requested=t}}class vm extends _s{constructor(t){super(),this.subreddit_requested=t}}class fR extends _s{constructor(t){super(),this.search=t}}class dR extends _s{constructor(t){super(),this.article=t}}const PY=["best","confidence","top","new","controversial","old"];var ym;const NY=function(n){return{display:n}};function LY(n,t){if(1&n){const e=Pr();Pt(0,"a",14),yn("click",function(){const o=ir(e).$implicit;return or(Xt(2).change_sort(o))}),Mn(1),Nt()}if(2&n){const e=t.$implicit,r=Xt().ngIf;yt("ngStyle",yo(2,NY,r.sort===e?"none":"inherit")),St(1),zr(" ",e," ")}}function FY(n,t){if(1&n&&(Ji(0),Pt(1,"div",1)(2,"span"),Mn(3,"Comments"),Nt(),Zt(4,"span",2),Pt(5,"button",3),Mn(6),Zt(7,"mat-icon",4),Nt(),Pt(8,"button",5),Zt(9,"mat-icon",6),Nt()(),Pt(10,"mat-menu",null,7),zt(12,LY,2,4,"a",8),Nt(),Pt(13,"mat-menu",9,10),Zt(15,"mat-icon",11)(16,"mat-icon",12)(17,"mat-icon",13),Nt(),eo()),2&n){const e=t.ngIf,r=Or(11),i=Or(14),o=Xt();St(5),yt("matMenuTriggerFor",r),St(1),zr(" ",e.sort,""),St(2),yt("matMenuTriggerFor",i),St(4),yt("ngForOf",o.POST_COMMENT_SORT)}}class $c{constructor(t,e){this.controller=t,ym.set(this,void 0),this.POST_COMMENT_SORT=PY,Qe(this,ym,e,"f")}change_sort(t){var e=this;return vr(function*(){Ce(e,ym,"f").raise(new uR(t))})()}}ym=new WeakMap,$c.\u0275fac=function(t){return new(t||$c)(He(Ki),He(kr))},$c.\u0275cmp=Tn({type:$c,selectors:[["post-comment-list-header"]],standalone:!0,features:[Xn],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(t,e){1&t&&(zt(0,FY,18,4,"ng-container",0),ar(1,"async")),2&t&&yt("ngIf",lr(1,1,e.controller.post_comments$))},dependencies:[Jn,ks,Fr,ic,Us,Gi,ja,Ei,Do,Es,Hy,zc,Wy,ai,ql],styles:[".mat-button[_ngcontent-%COMP%]{min-width:unset;padding:0 .5em;line-height:1.5em}.mat-icon-button[_ngcontent-%COMP%]{width:unset;height:unset;line-height:unset}"],changeDetection:0});const xY=["*",[["mat-toolbar-row"]]],BY=["*","mat-toolbar-row"],kY=cc(class{constructor(n){this._elementRef=n}});let Ky=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Yt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Gy=(()=>{class n extends kY{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(Yr),He(Dn))},n.\u0275cmp=Tn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&oi(i,Ky,5),2&e){let o;ur(o=cr())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&Ur("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[An],ngContentSelectors:BY,decls:2,vars:0,template:function(e,r){1&e&&(xs(xY),Gr(0),Gr(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),zo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[Br,Br]}),n})();var zy,Em,Tm,Cm,Mm,Xc,Js,Dm,Qc,hR;const UY=["textPost"],jY=function(n){return{masked:n}};class Ha{constructor(t,e,r,i){zy.add(this),Em.set(this,!0),Tm.set(this,void 0),Cm.set(this,void 0),Mm.set(this,void 0),Xc.set(this,void 0),this._text="",this._truncated=!0,Js.set(this,""),Dm.set(this,""),Qc.set(this,void 0),Qe(this,Tm,t,"f"),Qe(this,Cm,e,"f"),Qe(this,Mm,r,"f"),Qe(this,Xc,i,"f"),Qe(this,Js,document.baseURI,"f"),Ce(this,Js,"f").endsWith("/")&&Qe(this,Js,Ce(this,Js,"f").slice(0,-1),"f")}set data(t){null!=t&&(Qe(this,Dm,t,"f"),Ce(this,zy,"m",hR).call(this))}set post(t){t&&t.nativeElement&&Qe(this,Qc,t.nativeElement,"f")}onClick(t){const e=t.target;if(e&&"A"===e.tagName){const r=e.href;r.startsWith(Ce(this,Js,"f"))&&(t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),Ce(this,Cm,"f").navigateByUrl(r.replace(Ce(this,Js,"f"),"")))}else if(Ce(this,Em,"f")){if(this._truncated)return this._truncated=!1,void Ce(this,Xc,"f").save();this._truncated=!0,Ce(this,Xc,"f").tryRestore()}}}Em=new WeakMap,Tm=new WeakMap,Cm=new WeakMap,Mm=new WeakMap,Xc=new WeakMap,Js=new WeakMap,Dm=new WeakMap,Qc=new WeakMap,zy=new WeakSet,hR=function(){this._text=Ce(this,Mm,"f").sanitizeHTML(Ce(this,Dm,"f")),setTimeout(()=>{this._truncated=Ce(this,Qc,"f").scrollHeight>Ce(this,Qc,"f").clientHeight,Qe(this,Em,this._truncated,"f"),Ce(this,Tm,"f").detectChanges()},0)},Ha.\u0275fac=function(t){return new(t||Ha)(He(ji),He(mr),He(Ua),He(ky))},Ha.\u0275cmp=Tn({type:Ha,selectors:[["text-block"]],viewQuery:function(t,e){if(1&t&&Uo(UY,5),2&t){let r;ur(r=cr())&&(e.post=r.first)}},inputs:{data:"data"},standalone:!0,features:[Xn],decls:2,vars:4,consts:[[1,"text-block","masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(t,e){1&t&&(Pt(0,"p",0,1),yn("click",function(i){return e.onClick(i)}),Nt()),2&t&&yt("ngClass",yo(2,jY,e._truncated))("innerHTML",e._text,Zg)},dependencies:[Jn,Bl,ai],changeDetection:0});let VY=(()=>{class n{constructor(){this.data=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:1,vars:1,consts:[[3,"data"]],template:function(e,r){1&e&&Zt(0,"text-block",0),2&e&&yt("data",null==r.data?null:r.data.body_html)},dependencies:[Ha],changeDetection:0}),n})(),Yy=(()=>{class n{transform(e){if(isNaN(Number(`${e}`))||0===e)return"0";const r=Math.log10(e);return r<3?`${e}`:r<6?`${Math.floor(e/1e3)}K`:r<9?`${Math.floor(e/1e6)}M`:"lots"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Ar({name:"count",type:n,pure:!0,standalone:!0}),n})();function HY(n,t){1&n&&(Pt(0,"button",3),Zt(1,"mat-icon",4),Nt())}function WY(n,t){if(1&n&&(Pt(0,"button",5),Zt(1,"mat-icon",6),Mn(2),ar(3,"count"),Nt()),2&n){const e=Xt();St(2),zr(" ",lr(3,1,e.data.ups)," ")}}function KY(n,t){if(1&n&&(Pt(0,"button",5),Zt(1,"mat-icon",7),Mn(2),ar(3,"count"),Nt()),2&n){const e=Xt();St(2),zr(" ",lr(3,1,e.data.downs)," ")}}let GY=(()=>{class n{constructor(){this._can_share=!1,this._can_share="share"in window.navigator}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["post-comment-footer"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:4,vars:3,consts:[[2,"padding",".5em"],["mat-icon-button","",4,"ngIf"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button",""],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(e,r){1&e&&(Pt(0,"section",0),zt(1,HY,2,0,"button",1),zt(2,WY,4,3,"button",2),zt(3,KY,4,3,"button",2),Nt()),2&e&&(St(1),yt("ngIf",r._can_share),St(1),yt("ngIf",r.data.ups>0),St(1),yt("ngIf",r.data.downs>0))},dependencies:[Jn,Fr,Yy,Gi,ja,Ei,Do,Es,dc,zo,ai],changeDetection:0}),n})(),mR=(()=>{class n{transform(e){if(null==e)return"-";const r=new Date(Date.now()-1e3*e);return r.getUTCFullYear()>1970?r.getUTCFullYear()-1970+"y":r.getUTCMonth()>0?`${r.getUTCMonth()}mo`:r.getUTCDate()>1?r.getUTCDate()-1+"d":r.getUTCHours()>0?`${r.getUTCHours()}h`:`${r.getUTCMinutes()}m`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Ar({name:"age",type:n,pure:!0,standalone:!0}),n})();function zY(n,t){1&n&&Zt(0,"mat-icon",3)}const YY=function(n){return["/u",n]};let $Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["post-comment-header"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:7,vars:8,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"]],template:function(e,r){1&e&&(Pt(0,"section",0)(1,"a",1),Mn(2),Nt(),Pt(3,"span"),Mn(4),ar(5,"age"),Nt(),zt(6,zY,1,0,"mat-icon",2),Nt()),2&e&&(St(1),yt("routerLink",yo(6,YY,r.data.author)),St(1),zr("u/",r.data.author,""),St(2),ii(lr(5,4,r.data.created_utc)),St(2),yt("ngIf",r.data.stickied))},dependencies:[mR,Jn,Fr,Ei,Do,ai,Zl],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0}),n})(),XY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["post-comment"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:3,vars:3,consts:[[3,"data"]],template:function(e,r){1&e&&Zt(0,"post-comment-header",0)(1,"post-comment-body",0)(2,"post-comment-footer",0),2&e&&(yt("data",r.data),St(1),yt("data",r.data),St(1),yt("data",r.data))},dependencies:[Jn,Gi,Ei,Es,zo,ai,$Y,VY,GY],changeDetection:0}),n})();const QY=["hot","hot","top","new","controversial","rising"];var qc;const qY=function(n){return{display:n}};function ZY(n,t){if(1&n){const e=Pr();Pt(0,"a",15),yn("click",function(){const o=ir(e).$implicit;return or(Xt(2).change_sort(o))}),Mn(1),Nt()}if(2&n){const e=t.$implicit,r=Xt().ngIf;yt("ngStyle",yo(2,qY,r.sort===e?"none":"inherit")),St(1),zr(" ",e," ")}}function JY(n,t){if(1&n){const e=Pr();Ji(0),Pt(1,"div",1)(2,"span",2),Mn(3),Nt(),Zt(4,"span",3),Pt(5,"button",4),Mn(6),Zt(7,"mat-icon",5),Nt(),Pt(8,"button",6),Zt(9,"mat-icon",7),Nt()(),Pt(10,"mat-menu",null,8),zt(12,ZY,2,4,"a",9),Nt(),Pt(13,"mat-menu",10,11)(15,"mat-icon",12),yn("click",function(){return ir(e),or(Xt().back_to_home())}),Nt(),Zt(16,"mat-icon",13)(17,"mat-icon",14),Nt(),eo()}if(2&n){const e=t.ngIf,r=Or(11),i=Or(14),o=Xt();St(3),ii(e.subreddit.includes("+")?"multi":e.subreddit),St(2),yt("matMenuTriggerFor",r),St(1),zr(" ",e.sort,""),St(2),yt("matMenuTriggerFor",i),St(4),yt("ngForOf",o.POST_SORT)}}class Zc{constructor(t,e){this.controller=t,qc.set(this,void 0),this.POST_SORT=QY,Qe(this,qc,e,"f")}change_sort(t){var e=this;return vr(function*(){Ce(e,qc,"f").raise(new cR(t))})()}back_to_home(){Ce(this,qc,"f").raise(lR)}}var $y,Sm,gR,ef;qc=new WeakMap,Zc.\u0275fac=function(t){return new(t||Zc)(He(Ki),He(kr))},Zc.\u0275cmp=Tn({type:Zc,selectors:[["post-list-header"]],standalone:!0,features:[Xn],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(t,e){1&t&&(zt(0,JY,18,5,"ng-container",0),ar(1,"async")),2&t&&yt("ngIf",lr(1,1,e.controller.posts$))},dependencies:[Jn,ks,Fr,ic,Us,Gi,ja,Ei,Do,Es,Hy,zc,Wy,ai,ql],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}.mat-button[_ngcontent-%COMP%]{min-width:unset;padding:0 .5em;line-height:1.5em}.mat-icon-button[_ngcontent-%COMP%]{width:unset;height:unset;line-height:unset}"],changeDetection:0});class Jc{constructor(t){$y.add(this),Sm.set(this,void 0),Qe(this,Sm,t,"f")}set data(t){this._data=t,Ce(this,$y,"m",gR).call(this)}}Sm=new WeakMap,$y=new WeakSet,gR=function(){const t=document.implementation.createHTMLDocument().createElement("p");t.innerHTML=this._data.embed,Array.from(t.getElementsByTagName("iframe")).forEach(e=>{e.setAttribute("loading","lazy"),e.style.position="relative",e.style.maxWidth="100vw"}),this._embed=Ce(this,Sm,"f").bypassSecurityTrustHtml(t.innerHTML)},Jc.\u0275fac=function(t){return new(t||Jc)(He(Ks))},Jc.\u0275cmp=Tn({type:Jc,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,e){1&t&&Zt(0,"div",0),2&t&&yt("innerHTML",e._embed,Zg)},dependencies:[Jn],changeDetection:0});const e$=["gallery"];function t$(n,t){if(1&n){const e=Pr();Pt(0,"figure")(1,"img",3),yn("load",function(){return ir(e),or(Xt().onLoad())})("click",function(){const o=ir(e).$implicit;return or(Xt().onClick(o.href))}),Nt()()}if(2&n){const e=t.$implicit,r=Xt();St(1),yt("src",e.src,ga)("srcset",e.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}const n$=function(n){return{"set-scrollbar":n}};class tf{constructor(){ef.set(this,void 0)}set fig(t){t&&t.nativeElement&&Qe(this,ef,t.nativeElement,"f")}onLoad(){Ce(this,ef,"f")&&(Ce(this,ef,"f").scrollLeft=0)}onClick(t){String.isNullOrWhitespace(t)||window.open(t,"_blank","noopener,noreferrer")}}var Xy,nu,bm,nf,pR;function r$(n,t){if(1&n&&(Pt(0,"a",4),Mn(1),Nt()),2&n){const e=Xt(2);yt("href",e.href,ga),St(1),ii(e.text)}}function i$(n,t){if(1&n&&(Pt(0,"a",5),Mn(1),Nt()),2&n){const e=Xt(2);yt("routerLink",e.text),St(1),ii(e.text)}}function o$(n,t){if(1&n&&(Pt(0,"p",1),zt(1,r$,2,2,"a",2),zt(2,i$,2,2,"a",3),Nt()),2&n){const e=Xt();St(1),yt("ngIf",e.is_external),St(1),yt("ngIf",!e.is_external&&e.show_internal)}}ef=new WeakMap,tf.\u0275fac=function(t){return new(t||tf)},tf.\u0275cmp=Tn({type:tf,selectors:[["post-body-image"]],viewQuery:function(t,e){if(1&t&&Uo(e$,5),2&t){let r;ur(r=cr())&&(e.fig=r.first)}},inputs:{data:"data"},standalone:!0,features:[Xn],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(t,e){1&t&&(Pt(0,"div",0,1),zt(2,t$,2,3,"figure",2),Nt()),2&t&&(yt("ngClass",yo(2,n$,e.data.images.length>1)),St(2),yt("ngForOf",e.data.images))},dependencies:[Jn,Bl,ks],changeDetection:0});class rf{constructor(t){Xy.add(this),nu.set(this,""),bm.set(this,void 0),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,nf.set(this,void 0),Qe(this,bm,t,"f"),Qe(this,nu,document.baseURI,"f"),Ce(this,nu,"f").endsWith("/")&&Qe(this,nu,Ce(this,nu,"f").slice(0,-1),"f")}set data(t){Qe(this,nf,t,"f"),Ce(this,Xy,"m",pR).call(this)}}nu=new WeakMap,bm=new WeakMap,nf=new WeakMap,Xy=new WeakSet,pR=function(){const t=Ce(this,bm,"f").sanitizeLink(Ce(this,nf,"f").url);if(this.href=t.href,this.is_external=t.external,this.is_external)return void(this.text=this.href);this.text=t.text;const e=this.text.indexOf("/r/")+3,r=this.text.indexOf("/",e),i=this.text.slice(e,r);this.show_internal=i.toLowerCase()!==Ce(this,nf,"f").subreddit.toLowerCase()},rf.\u0275fac=function(t){return new(t||rf)(He(Ua))},rf.\u0275cmp=Tn({type:rf,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink"]],template:function(t,e){1&t&&zt(0,o$,3,2,"p",0),2&t&&yt("ngIf",e.is_external||e.show_internal)},dependencies:[Jn,Fr,ai,Zl],changeDetection:0});let s$=(()=>{class n{constructor(){this.data=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:1,vars:1,consts:[[3,"data"]],template:function(e,r){1&e&&Zt(0,"text-block",0),2&e&&yt("data",null==r.data?null:r.data.selftext_html)},dependencies:[Ha],changeDetection:0}),n})(),a$=(()=>{class n{transform(e){const r=new Date(0);r.setUTCSeconds(e||0);const i=r.toISOString().substring(11,19);return r.getUTCHours()>0?i:r.getUTCMinutes()>0?i.substring(3):i.substring(4)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Ar({name:"time",type:n,pure:!0,standalone:!0}),n})();var Am,ea,Im,sf,af,lf,ru,qr,_R,vR,l$=k(377);const u$=["video"];function c$(n,t){if(1&n){const e=Pr();Pt(0,"mat-icon",13),yn("click",function(){return ir(e),Xt(),or(Or(4).play())}),Nt()}}function f$(n,t){if(1&n){const e=Pr();Pt(0,"mat-icon",14),yn("click",function(){return ir(e),Xt(),or(Or(4).pause())}),Nt()}}function d$(n,t){if(1&n){const e=Pr();Pt(0,"mat-icon",17),yn("click",function(){ir(e),Xt(2);const i=Or(4);return or(i.muted=!i.muted)}),Nt()}}function h$(n,t){if(1&n){const e=Pr();Pt(0,"mat-icon",18),yn("click",function(){ir(e),Xt(2);const i=Or(4);return or(i.muted=!i.muted)}),Nt()}}function m$(n,t){if(1&n&&(Ji(0),zt(1,d$,1,0,"mat-icon",15),zt(2,h$,1,0,"mat-icon",16),eo()),2&n){Xt();const e=Or(4);St(1),yt("ngIf",e.muted),St(1),yt("ngIf",!e.muted)}}const g$=function(n){return{width:n}};class uf{constructor(t){this.cd=t,Am.add(this),ea.set(this,void 0),Im.set(this,0),sf.set(this,!1),af.set(this,void 0),lf.set(this,!1),ru.set(this,""),this.has_audio=!0,qr.set(this,void 0),Qe(this,af,new IntersectionObserver((e,r)=>Ce(this,Am,"m",_R).call(this,e,r),{root:null,rootMargin:"32px",threshold:0}),"f")}set value(t){t&&t.nativeElement&&Qe(this,qr,t.nativeElement,"f")}ngOnInit(){var t=this;return vr(function*(){const e=t.data.videos.find(r=>"application/dash+xml"===r.type);Qe(t,ru,e?.url||t.data.videos[t.data.videos.length-1].url,"f"),null!=e?(Qe(t,sf,!0,"f"),yield Ce(t,Am,"m",vR).call(t,Ce(t,ru,"f")),Qe(t,ea,(0,l$.MediaPlayer)().create(),"f"),Ce(t,ea,"f").initialize(Ce(t,qr,"f"),"",!1),Ce(t,ea,"f").setMute(!0),Ce(t,ea,"f").updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:Ce(t,Im,"f")-1}}}}),Ce(t,af,"f").observe(Ce(t,qr,"f"))):Ce(t,af,"f").observe(Ce(t,qr,"f"))})()}ngOnDestroy(){Ce(this,ea,"f")?.destroy()}onLoadeddata(){Ce(this,sf,"f")||(this.has_audio="mozHasAudio"in Ce(this,qr,"f")&&Ce(this,qr,"f").mozHasAudio||"webkitAudioDecodedByteCount"in Ce(this,qr,"f")&&Ce(this,qr,"f").webkitAudioDecodedByteCount>0||"audioTracks"in Ce(this,qr,"f")&&Ce(this,qr,"f").audioTracks.length>0,Ce(this,qr,"f").muted=!0)}skip(t,e,r){const i=e.getBoundingClientRect();r.currentTime=(t.pageX-i.left)/e.offsetWidth*r.duration}}function p$(n,t){1&n&&Zt(0,"post-body-embed",1),2&n&&yt("data",Xt()._data)}function _$(n,t){1&n&&Zt(0,"post-body-image",1),2&n&&yt("data",Xt()._data)}function v$(n,t){1&n&&Zt(0,"post-body-text",1),2&n&&yt("data",Xt()._data)}function y$(n,t){1&n&&Zt(0,"post-body-video",1),2&n&&yt("data",Xt()._data)}function E$(n,t){1&n&&Zt(0,"post-body-link",1),2&n&&yt("data",Xt()._data)}ea=new WeakMap,Im=new WeakMap,sf=new WeakMap,af=new WeakMap,lf=new WeakMap,ru=new WeakMap,qr=new WeakMap,Am=new WeakSet,_R=function(t,e){t[0].isIntersecting?Ce(this,lf,"f")||(Ce(this,sf,"f")?Ce(this,ea,"f").attachSource(Ce(this,ru,"f")):Ce(this,qr,"f").src=Ce(this,ru,"f"),Qe(this,lf,!0,"f")):!Ce(this,lf,"f")||Ce(this,qr,"f").paused||Ce(this,qr,"f").ended||Ce(this,qr,"f").pause()},vR=function(){var n=vr(function*(e){try{const r=yield fetch(e);if(!r.ok)return;const i=yield r.text();if(String.isNullOrWhitespace(i))return;const o=(new DOMParser).parseFromString(i,"application/xml");if(null==o)return;const l=o.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=null!=l;const u=o.querySelector('AdaptationSet[contentType="video"]');if(null==u)return;const g=u.querySelectorAll("Representation");if(null==g||0===g.length)return;const N=Array.from(g).map(Y=>Number(Y.getAttribute("bandwidth"))).filter(Y=>!isNaN(Y));if(null==N||0===N.length)return;Qe(this,Im,Math.max(...N),"f")}catch{return}});return function t(e){return n.apply(this,arguments)}}(),uf.\u0275fac=function(t){return new(t||uf)(He(ji))},uf.\u0275cmp=Tn({type:uf,selectors:[["post-body-video"]],viewQuery:function(t,e){if(1&t&&Uo(u$,7),2&t){let r;ur(r=cr())&&(e.value=r.first)}},inputs:{data:"data"},standalone:!0,features:[Xn],decls:16,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","disableremoteplayback","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"click"],["progress",""],[1,"value"],[1,"indicator",3,"ngStyle"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(t,e){if(1&t){const r=Pr();Pt(0,"div",0),Zt(1,"mat-icon",1)(2,"mat-icon",2),Nt(),Pt(3,"video",3,4),yn("loadeddata",function(){return e.onLoadeddata()})("click",function(){ir(r);const o=Or(4);return or(o.paused||o.ended?o.play():o.pause())})("timeupdate",function(){return e.cd.detectChanges()}),Nt(),Pt(5,"div",5),zt(6,c$,1,0,"mat-icon",6),zt(7,f$,1,0,"mat-icon",7),Pt(8,"div",8,9),yn("click",function(o){ir(r);const l=Or(9),u=Or(4);return or(e.skip(o,l,u))}),Pt(10,"span",10),Mn(11),ar(12,"time"),ar(13,"time"),Nt(),Zt(14,"span",11),Nt(),zt(15,m$,3,2,"ng-container",12),Nt()}if(2&t){const r=Or(4);St(6),yt("ngIf",r.paused||r.ended),St(1),yt("ngIf",!r.paused&&!r.ended),St(4),bd("",lr(12,6,r.currentTime)," / ",lr(13,8,r.duration)," "),St(3),yt("ngStyle",yo(10,g$,100*((null==r?null:r.currentTime)||0)/r.duration+"%")),St(1),yt("ngIf",e.has_audio)}},dependencies:[Jn,Fr,ic,Ei,Do,a$],changeDetection:0});let T$=(()=>{class n{set data(e){this._data=e.is_crosspost?e.crosspost:e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(e,r){1&e&&(zt(0,p$,1,1,"post-body-embed",0),zt(1,_$,1,1,"post-body-image",0),zt(2,v$,1,1,"post-body-text",0),zt(3,y$,1,1,"post-body-video",0),zt(4,E$,1,1,"post-body-link",0)),2&e&&(yt("ngIf",null==r._data?null:r._data.has_embed),St(1),yt("ngIf",null==r._data?null:r._data.has_image),St(1),yt("ngIf",null==r._data?null:r._data.has_text),St(1),yt("ngIf",null==r._data?null:r._data.has_video),St(1),yt("ngIf",null==r._data?null:r._data.has_link))},dependencies:[Jn,Fr,Jc,tf,rf,s$,uf],changeDetection:0}),n})();var Rm,Qy,wm,yR;function C$(n,t){1&n&&(Pt(0,"button",5),Zt(1,"mat-icon",6),Nt())}function M$(n,t){if(1&n&&(Pt(0,"button",7),Zt(1,"mat-icon",8),Mn(2),ar(3,"count"),Nt()),2&n){const e=Xt();St(2),zr(" ",lr(3,1,e.data.ups)," ")}}function D$(n,t){if(1&n&&(Pt(0,"button",7),Zt(1,"mat-icon",9),Mn(2),ar(3,"count"),Nt()),2&n){const e=Xt();St(2),zr(" ",lr(3,1,e.data.downs)," ")}}class cf{constructor(t,e){this.controller=t,Rm.set(this,void 0),this._can_share=!1,this._can_share="share"in window.navigator,Qe(this,Rm,e,"f")}on_comment_click(){Ce(this,Rm,"f").raise(new dR(this.data.id))}}function S$(n,t){if(1&n){const e=Pr();Pt(0,"a",9),yn("click",function(i){ir(e);const o=Xt();return or(o.change_subreddit(i,o.post.subreddit))}),Mn(1),Nt()}if(2&n){const e=Xt();yt("href","/r/"+e.post.subreddit,ga),St(1),zr(" r/",e.post.subreddit," ")}}function b$(n,t){if(1&n){const e=Pr();Pt(0,"mat-icon",12),yn("click",function(){ir(e);const i=Xt(2);return or(i.controller.actions.subscribe(i.post.subreddit))}),Nt()}}function A$(n,t){if(1&n){const e=Pr();Pt(0,"mat-icon",13),yn("click",function(){ir(e);const i=Xt(2);return or(i.controller.actions.unsubscribe(i.post.subreddit))}),Nt()}}function I$(n,t){if(1&n&&(Ji(0),zt(1,b$,1,0,"mat-icon",10),zt(2,A$,1,0,"mat-icon",11),eo()),2&n){const e=Xt();St(1),yt("ngIf",!e.post.subreddit_subscribed),St(1),yt("ngIf",e.post.subreddit_subscribed)}}function R$(n,t){1&n&&Zt(0,"mat-icon",14)}function w$(n,t){1&n&&Zt(0,"mat-icon",15)}function O$(n,t){1&n&&(Pt(0,"a",16),Mn(1,"x-post"),Nt())}Rm=new WeakMap,cf.\u0275fac=function(t){return new(t||cf)(He(Ki),He(kr))},cf.\u0275cmp=Tn({type:cf,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:8,vars:6,consts:[[2,"padding",".5em"],["mat-icon-button","",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button",""],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(t,e){1&t&&(Pt(0,"section",0),zt(1,C$,2,0,"button",1),Pt(2,"button",2),yn("click",function(){return e.on_comment_click()}),Zt(3,"mat-icon",3),Mn(4),ar(5,"count"),Nt(),zt(6,M$,4,3,"button",4),zt(7,D$,4,3,"button",4),Nt()),2&t&&(St(1),yt("ngIf",e._can_share),St(3),zr(" ",lr(5,4,e.data.num_comments)," "),St(2),yt("ngIf",e.data.ups>0),St(1),yt("ngIf",e.data.downs>0))},dependencies:[Jn,Fr,Yy,Gi,ja,Ei,Do,Es,dc,zo,ai],changeDetection:0});const P$=function(n){return["/u",n]};class ff{constructor(t,e){this.controller=e,Qy.add(this),wm.set(this,void 0),this.has_image_gallery=!1,this.part_of_multi=!1,Qe(this,wm,t,"f")}set data(t){this.post=t.post,Ce(this,Qy,"m",yR).call(this,t.subreddit)}change_subreddit(t,e){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),Ce(this,wm,"f").raise(new vm(e))}}function N$(n,t){1&n&&Zt(0,"post-body",0),2&n&&yt("data",Xt().post)}wm=new WeakMap,Qy=new WeakSet,yR=function(t){this.part_of_multi=this.post.subreddit.toLowerCase()!==t.toLowerCase();const e=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=e.has_image&&e.has_image_gallery},ff.\u0275fac=function(t){return new(t||ff)(He(kr),He(Ki))},ff.\u0275cmp=Tn({type:ff,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(t,e){1&t&&(Pt(0,"section",0)(1,"div",1),Mn(2),Nt(),Pt(3,"section",2),zt(4,S$,2,2,"a",3),Pt(5,"a",4),Mn(6),Nt(),Pt(7,"span"),Mn(8),ar(9,"age"),Nt(),zt(10,I$,3,2,"ng-container",5),zt(11,R$,1,0,"mat-icon",6),zt(12,w$,1,0,"mat-icon",7),zt(13,O$,2,0,"a",8),Nt()()),2&t&&(St(2),ii(e.post.title),St(2),yt("ngIf",e.part_of_multi),St(1),yt("routerLink",yo(11,P$,e.post.author)),St(1),zr("u/",e.post.author,""),St(2),ii(lr(9,9,e.post.created_utc)),St(2),yt("ngIf",e.part_of_multi),St(1),yt("ngIf",!e.part_of_multi&&e.post.stickied),St(1),yt("ngIf",e.has_image_gallery),St(1),yt("ngIf",e.post.is_crosspost))},dependencies:[mR,Jn,Fr,Gi,Ei,Do,Es,dc,zo,ai,Zl],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0});const L$=function(n,t){return{post:n,subreddit:t}};let ER=(()=>{class n{constructor(){this.subreddit="",this.show_body=!0}set data(e){this.post=e.item,this.subreddit=e.subreddit,this.show_body=!e.item.stickied||!e.hide_stickied}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(e,r){1&e&&(Zt(0,"post-header",0),zt(1,N$,1,1,"post-body",1),Zt(2,"post-footer",0)),2&e&&(yt("data",Qp(3,L$,r.post,r.subreddit)),St(1),yt("ngIf",r.show_body),St(1),yt("data",r.post))},dependencies:[Jn,Fr,Gi,Ei,Es,zo,ai,ff,T$,cf],changeDetection:0}),n})(),F$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["search-page-header"]],standalone:!0,features:[Xn],decls:10,vars:1,consts:[[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"]],template:function(e,r){if(1&e&&(Pt(0,"div",0),Mn(1," Search for Subreddit "),Zt(2,"span",1),Pt(3,"button",2),Zt(4,"mat-icon",3),Nt()(),Pt(5,"mat-menu",4,5),Zt(7,"mat-icon",6)(8,"mat-icon",7)(9,"mat-icon",8),Nt()),2&e){const i=Or(6);St(3),yt("matMenuTriggerFor",i)}},dependencies:[Gi,ja,Ei,Do,Es,Hy,Wy,ai,ql],styles:[".mat-button[_ngcontent-%COMP%]{min-width:unset;padding:0 .5em;line-height:1.5em}.mat-icon-button[_ngcontent-%COMP%]{width:unset;height:unset;line-height:unset}"],changeDetection:0}),n})();var Om;class df{constructor(t){Om.set(this,void 0),Qe(this,Om,t,"f")}set data(t){this._data=t}change_subreddit(t,e){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),Ce(this,Om,"f").raise(new vm(e))}}Om=new WeakMap,df.\u0275fac=function(t){return new(t||df)(He(kr))},df.\u0275cmp=Tn({type:df,selectors:[["search-result"]],inputs:{data:"data"},standalone:!0,features:[Xn],decls:14,vars:9,consts:[[2,"padding",".5em"],[2,"font-size","1.5em","line-height","125%"],[3,"href","click"],[3,"data"],["mat-button","","disableRipple",""],["svgIcon","groups"],["svgIcon","person"]],template:function(t,e){1&t&&(Pt(0,"section",0)(1,"div",1)(2,"a",2),yn("click",function(i){return e.change_subreddit(i,e._data.display_name)}),Mn(3),Nt()(),Zt(4,"text-block",3),Pt(5,"section",0)(6,"button",4),Zt(7,"mat-icon",5),Mn(8),ar(9,"count"),Nt(),Pt(10,"button",4),Zt(11,"mat-icon",6),Mn(12),ar(13,"count"),Nt()()()),2&t&&(St(2),yt("href","/r"+e._data.display_name,ga),St(1),ii(e._data.display_name),St(1),yt("data",e._data.public_description_html),St(4),zr(" ",lr(9,5,e._data.subscribers)," "),St(4),zr(" ",lr(13,7,e._data.accounts_active)," "))},dependencies:[Jn,Yy,Gi,ja,Ei,Do,ai,Ha],changeDetection:0});let TR=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(He(ns),He(zn))},n.\u0275dir=Yt({type:n}),n})(),Wa=(()=>{class n extends TR{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Kr(n)))(r||n)}}(),n.\u0275dir=Yt({type:n,features:[An]}),n})();const Yo=new xt("NgValueAccessor"),B$={provide:Yo,useExisting:Jt(()=>Pm),multi:!0},U$=new xt("CompositionEventMode");let Pm=(()=>{class n extends TR{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function k$(){const n=Ho()?Ho().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(He(ns),He(zn),He(U$,8))},n.\u0275dir=Yt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&yn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Yn([B$]),An]}),n})();function ta(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function MR(n){return null!=n&&"number"==typeof n.length}const ui=new xt("NgValidators"),na=new xt("NgAsyncValidators"),V$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class H${static min(t){return function DR(n){return t=>{if(ta(t.value)||ta(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function SR(n){return t=>{if(ta(t.value)||ta(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return bR(t)}static requiredTrue(t){return function AR(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function IR(n){return ta(n.value)||V$.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function RR(n){return t=>ta(t.value)||!MR(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return wR(t)}static pattern(t){return function OR(n){if(!n)return Nm;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(ta(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return BR(t)}static composeAsync(t){return kR(t)}}function bR(n){return ta(n.value)?{required:!0}:null}function wR(n){return t=>MR(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Nm(n){return null}function PR(n){return null!=n}function NR(n){return Wu(n)?Ve(n):n}function LR(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function FR(n,t){return t.map(e=>e(n))}function xR(n){return n.map(t=>function W$(n){return!n.validate}(t)?t:e=>t.validate(e))}function BR(n){if(!n)return null;const t=n.filter(PR);return 0==t.length?null:function(e){return LR(FR(e,t))}}function qy(n){return null!=n?BR(xR(n)):null}function kR(n){if(!n)return null;const t=n.filter(PR);return 0==t.length?null:function(e){return eA(FR(e,t).map(NR)).pipe(X(LR))}}function Zy(n){return null!=n?kR(xR(n)):null}function UR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function jR(n){return n._rawValidators}function VR(n){return n._rawAsyncValidators}function Jy(n){return n?Array.isArray(n)?n:[n]:[]}function Lm(n,t){return Array.isArray(n)?n.includes(t):n===t}function HR(n,t){const e=Jy(t);return Jy(n).forEach(i=>{Lm(e,i)||e.push(i)}),e}function WR(n,t){return Jy(t).filter(e=>!Lm(n,e))}class KR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Zy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ci extends KR{get formDirective(){return null}get path(){return null}}class Ts extends KR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let zR=(()=>{class n extends class GR{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(He(Ts,2))},n.\u0275dir=Yt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Ur("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[An]}),n})();const hf="VALID",xm="INVALID",iu="PENDING",mf="DISABLED";function rE(n){return(Bm(n)?n.validators:n)||null}function $R(n){return Array.isArray(n)?qy(n):n||null}function iE(n,t){return(Bm(t)?t.asyncValidators:n)||null}function XR(n){return Array.isArray(n)?Zy(n):n||null}function Bm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class ZR{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=$R(this._rawValidators),this._composedAsyncValidatorFn=XR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===hf}get invalid(){return this.status===xm}get pending(){return this.status==iu}get disabled(){return this.status===mf}get enabled(){return this.status!==mf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=$R(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=XR(t)}addValidators(t){this.setValidators(HR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(HR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(WR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(WR(t,this._rawAsyncValidators))}hasValidator(t){return Lm(this._rawValidators,t)}hasAsyncValidator(t){return Lm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=iu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=mf,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hf||this.status===iu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mf:hf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=iu,this._hasOwnPendingAsyncValidator=!0;const e=NR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new qn,this.statusChanges=new qn}_calculateStatus(){return this._allControlsDisabled()?mf:this.errors?xm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iu)?iu:this._anyControlsHaveStatus(xm)?xm:hf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class oE extends ZR{constructor(t,e,r){super(rE(e),iE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function qR(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new pt(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function QR(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new pt(1e3,"");if(!r[e])throw new pt(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function gf(n,t){sE(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function J$(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&JR(n,t)})}(n,t),function t3(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function e3(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&JR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Z$(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Um(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Vm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jm(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function sE(n,t){const e=jR(n);null!==t.validator?n.setValidators(UR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=VR(n);null!==t.asyncValidator?n.setAsyncValidators(UR(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();jm(t._rawValidators,i),jm(t._rawAsyncValidators,i)}function Vm(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=jR(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=VR(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return jm(t._rawValidators,r),jm(t._rawAsyncValidators,r),e}function JR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ew(n,t){sE(n,t)}function nw(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const a3={provide:Ci,useExisting:Jt(()=>Hm)},pf=(()=>Promise.resolve())();let Hm=(()=>{class n extends Ci{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new qn,this.form=new oE({},qy(e),Zy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){pf.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),gf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){pf.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){pf.then(()=>{const r=this._findContainer(e.path),i=new oE({});ew(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){pf.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){pf.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,nw(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(He(ui,10),He(na,10))},n.\u0275dir=Yt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&yn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yn([a3]),An]}),n})();function rw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function iw(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ow=class extends ZR{constructor(t=null,e,r){super(rE(e),iE(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=iw(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){rw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){rw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){iw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},c3={provide:Ts,useExisting:Jt(()=>uE)},lw=(()=>Promise.resolve())();let uE=(()=>{class n extends Ts{constructor(e,r,i,o,l){super(),this._changeDetectorRef=l,this.control=new ow,this._registered=!1,this.update=new qn,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function lE(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Pm?e=o:function o3(n){return Object.getPrototypeOf(n.constructor)===Wa}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function aE(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){lw.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&ls(r);lw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function km(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(He(Ci,9),He(ui,10),He(na,10),He(Yo,10),He(ji,8))},n.\u0275dir=Yt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Yn([c3]),An,Pi]}),n})(),cw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({}),n})();const _3={provide:Ci,useExisting:Jt(()=>Wm)};let Wm=(()=>{class n extends Ci{constructor(e,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return gf(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Um(e.control||null,e,!1),function s3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,nw(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Um(r||null,e),(n=>n instanceof ow)(i)&&(gf(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);ew(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function n3(n,t){return Vm(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sE(this.form,this),this._oldForm&&Vm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(He(ui,10),He(na,10))},n.\u0275dir=Yt({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&yn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yn([_3]),An,Pi]}),n})();let Ka=(()=>{class n{constructor(){this._validator=Nm}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Nm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Yt({type:n,features:[Pi]}),n})();const R3={provide:ui,useExisting:Jt(()=>Km),multi:!0};let Km=(()=>{class n extends Ka{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ls,this.createValidator=e=>bR}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Kr(n)))(r||n)}}(),n.\u0275dir=Yt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&sr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Yn([R3]),An]}),n})();const N3={provide:ui,useExisting:Jt(()=>mE),multi:!0};let mE=(()=>{class n extends Ka{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function yw(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>wR(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Kr(n)))(r||n)}}(),n.\u0275dir=Yt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&sr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Yn([N3]),An]}),n})(),F3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[cw]}),n})(),x3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[F3]}),n})();const k3=["connectionContainer"],U3=["inputContainer"],j3=["label"];function V3(n,t){1&n&&(Ji(0),Pt(1,"div",14),Zt(2,"div",15)(3,"div",16)(4,"div",17),Nt(),Pt(5,"div",18),Zt(6,"div",15)(7,"div",16)(8,"div",17),Nt(),eo())}function H3(n,t){if(1&n){const e=Pr();Pt(0,"div",19),yn("cdkObserveContent",function(){return ir(e),or(Xt().updateOutlineGap())}),Gr(1,1),Nt()}2&n&&yt("cdkObserveContentDisabled","outline"!=Xt().appearance)}function W3(n,t){if(1&n&&(Ji(0),Gr(1,2),Pt(2,"span"),Mn(3),Nt(),eo()),2&n){const e=Xt(2);St(3),ii(e._control.placeholder)}}function K3(n,t){1&n&&Gr(0,3,["*ngSwitchCase","true"])}function G3(n,t){1&n&&(Pt(0,"span",23),Mn(1," *"),Nt())}function z3(n,t){if(1&n){const e=Pr();Pt(0,"label",20,21),yn("cdkObserveContent",function(){return ir(e),or(Xt().updateOutlineGap())}),zt(2,W3,4,1,"ng-container",12),zt(3,K3,1,0,"ng-content",12),zt(4,G3,2,0,"span",22),Nt()}if(2&n){const e=Xt();Ur("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),yt("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),sr("for",e._control.id)("aria-owns",e._control.id),St(2),yt("ngSwitchCase",!1),St(1),yt("ngSwitchCase",!0),St(1),yt("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Y3(n,t){1&n&&(Pt(0,"div",24),Gr(1,4),Nt())}function $3(n,t){if(1&n&&(Pt(0,"div",25),Zt(1,"span",26),Nt()),2&n){const e=Xt();St(1),Ur("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function X3(n,t){1&n&&(Pt(0,"div"),Gr(1,5),Nt()),2&n&&yt("@transitionMessages",Xt()._subscriptAnimationState)}function Q3(n,t){if(1&n&&(Pt(0,"div",30),Mn(1),Nt()),2&n){const e=Xt(2);yt("id",e._hintLabelId),St(1),ii(e.hintLabel)}}function q3(n,t){if(1&n&&(Pt(0,"div",27),zt(1,Q3,2,2,"div",28),Gr(2,6),Zt(3,"div",29),Gr(4,7),Nt()),2&n){const e=Xt();yt("@transitionMessages",e._subscriptAnimationState),St(1),yt("ngIf",e.hintLabel)}}const Z3=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],J3=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let e4=0;const Aw=new xt("MatError");let t4=(()=>{class n{constructor(e,r){this.id="mat-error-"+e4++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(fa("aria-live"),He(zn))},n.\u0275dir=Yt({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,r){2&e&&sr("id",r.id)},inputs:{id:"id"},features:[Yn([{provide:Aw,useExisting:n}])]}),n})();const n4={transitionMessages:Ec("transitionMessages",[Ia("enter",jr({opacity:1,transform:"translateY(0%)"})),zs("void => enter",[jr({opacity:0,transform:"translateY(-5px)"}),Gs("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let gE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Yt({type:n}),n})(),r4=0;const Iw=new xt("MatHint");let i4=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+r4++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Yt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,r){2&e&&(sr("id",r.id)("align",null),Ur("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[Yn([{provide:Iw,useExisting:n}])]}),n})(),pE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Yt({type:n,selectors:[["mat-label"]]}),n})(),o4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Yt({type:n,selectors:[["mat-placeholder"]]}),n})();const s4=new xt("MatPrefix"),Rw=new xt("MatSuffix");let a4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Yt({type:n,selectors:[["","matSuffix",""]],features:[Yn([{provide:Rw,useExisting:n}])]}),n})(),ww=0;const u4=cc(class{constructor(n){this._elementRef=n}},"primary"),c4=new xt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Pw=new xt("MatFormField");let f4=(()=>{class n extends u4{constructor(e,r,i,o,l,u,g){super(e),this._changeDetectorRef=r,this._dir=i,this._defaults=o,this._platform=l,this._ngZone=u,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new pe,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ww++,this._labelId="mat-form-field-label-"+ww++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Mo(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(js(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe($r(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe($r(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Ze(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(js(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(js(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe($r(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,am(this._label.nativeElement,"transitionend").pipe(vi(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const Y=r.querySelectorAll(`${i}, ${o}`);for(let ae=0;ae<Y.length;ae++)Y[ae].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let l=0,u=0;const g=r.querySelectorAll(i),N=r.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const Y=r.getBoundingClientRect();if(0===Y.width&&0===Y.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const ae=this._getStartEnd(Y),Se=e.children,Ne=this._getStartEnd(Se[0].getBoundingClientRect());let ke=0;for(let Ge=0;Ge<Se.length;Ge++)ke+=Se[Ge].offsetWidth;l=Math.abs(Ne-ae)-5,u=ke>0?.75*ke+10:0}for(let Y=0;Y<g.length;Y++)g[Y].style.width=`${l}px`;for(let Y=0;Y<N.length;Y++)N[Y].style.width=`${u}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(ji),He(ch,8),He(c4,8),He(Yr),He(In),He(jo,8))},n.\u0275cmp=Tn({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(oi(i,gE,5),oi(i,gE,7),oi(i,pE,5),oi(i,pE,7),oi(i,o4,5),oi(i,Aw,5),oi(i,Iw,5),oi(i,s4,5),oi(i,Rw,5)),2&e){let o;ur(o=cr())&&(r._controlNonStatic=o.first),ur(o=cr())&&(r._controlStatic=o.first),ur(o=cr())&&(r._labelChildNonStatic=o.first),ur(o=cr())&&(r._labelChildStatic=o.first),ur(o=cr())&&(r._placeholderChild=o.first),ur(o=cr())&&(r._errorChildren=o),ur(o=cr())&&(r._hintChildren=o),ur(o=cr())&&(r._prefixChildren=o),ur(o=cr())&&(r._suffixChildren=o)}},viewQuery:function(e,r){if(1&e&&(Uo(k3,7),Uo(U3,5),Uo(j3,5)),2&e){let i;ur(i=cr())&&(r._connectionContainerRef=i.first),ur(i=cr())&&(r._inputContainerRef=i.first),ur(i=cr())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&Ur("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Yn([{provide:Pw,useExisting:n}]),An],ngContentSelectors:J3,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(xs(Z3),Pt(0,"div",0)(1,"div",1,2),yn("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),zt(3,V3,9,0,"ng-container",3),zt(4,H3,2,1,"div",4),Pt(5,"div",5,6),Gr(7),Pt(8,"span",7),zt(9,z3,5,16,"label",8),Nt()(),zt(10,Y3,2,0,"div",9),Nt(),zt(11,$3,2,4,"div",10),Pt(12,"div",11),zt(13,X3,2,1,"div",12),zt(14,q3,5,2,"div",13),Nt()()),2&e&&(St(3),yt("ngIf","outline"==r.appearance),St(1),yt("ngIf",r._prefixChildren.length),St(5),yt("ngIf",r._hasFloatingLabel()),St(1),yt("ngIf",r._suffixChildren.length),St(1),yt("ngIf","outline"!=r.appearance),St(1),yt("ngSwitch",r._getDisplayedMessages()),St(1),yt("ngSwitchCase","error"),St(1),yt("ngSwitchCase","hint"))},dependencies:[Fr,rc,F_,hj],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[n4.transitionMessages]},changeDetection:0}),n})(),_E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[Jn,Br,Pb,Br]}),n})();const Nw=Ul({passive:!0});let d4=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Mt;const r=fs(e),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new pe,l="cdk-text-field-autofilled",u=g=>{"cdk-text-field-autofill-start"!==g.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===g.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",u,Nw),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",u,Nw)}}),o}stopMonitoring(e){const r=fs(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(rt(Yr),rt(In))},n.\u0275prov=Pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({}),n})();const h4=new xt("MAT_INPUT_VALUE_ACCESSOR"),m4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let g4=0;const p4=Xj(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new pe}});let _4=(()=>{class n extends p4{constructor(e,r,i,o,l,u,g,N,Y,ae){super(u,o,l,i),this._elementRef=e,this._platform=r,this._autofillMonitor=N,this._formField=ae,this._uid="mat-input-"+g4++,this.focused=!1,this.stateChanges=new pe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ke=>Db().has(ke)),this._iOSKeyupListener=ke=>{const Ge=ke.target;!Ge.value&&0===Ge.selectionStart&&0===Ge.selectionEnd&&(Ge.setSelectionRange(1,1),Ge.setSelectionRange(0,0))};const Se=this._elementRef.nativeElement,Ne=Se.nodeName.toLowerCase();this._inputValueAccessor=g||Se,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&Y.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Ne,this._isTextarea="textarea"===Ne,this._isInFormField=!!ae,this._isNativeSelect&&(this.controlType=Se.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Mo(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(H$.required)??!1}set required(e){this._required=Mo(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Db().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Mo(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,r=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){m4.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(He(zn),He(Yr),He(Ts,10),He(Hm,8),He(Wm,8),He(tv),He(h4,10),He(d4),He(In),He(Pw,8))},n.\u0275dir=Yt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&yn("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(Vp("disabled",r.disabled)("required",r.required),sr("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Ur("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Yn([{provide:gE,useExisting:n}]),An,Pi]}),n})(),v4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({providers:[tv],imports:[Lw,_E,Br,Lw,_E]}),n})();const y4=["tooltip"],Fw="tooltip-panel",xw=Ul({passive:!0}),Bw=new xt("mat-tooltip-scroll-strategy"),M4={provide:Bw,deps:[tu],useFactory:function C4(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},D4=new xt("mat-tooltip-default-options",{providedIn:"root",factory:function S4(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let b4=(()=>{class n{constructor(e,r,i,o,l,u,g,N,Y,ae,Se,Ne){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=l,this._platform=u,this._ariaDescriber=g,this._focusMonitor=N,this._dir=ae,this._defaultOptions=Se,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new pe,this._scrollStrategy=Y,this._document=Ne,Se&&(Se.position&&(this.position=Se.position),Se.touchGestures&&(this.touchGestures=Se.touchGestures)),ae.change.pipe($r(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=Mo(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=jl(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=jl(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe($r(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,xw)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay();this._detach(),this._portal=this._portal||new GI(this._tooltipComponent,this._viewContainerRef);const i=this._tooltipInstance=r.attach(this._portal).instance;i._triggerElement=this._elementRef.nativeElement,i._mouseLeaveHideDelay=this._hideDelay,i.afterHidden().pipe($r(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),i.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return r.positionChanges.pipe($r(this._destroyed)).subscribe(i=>{this._updateCurrentPositionClass(i.connectionPair),this._tooltipInstance&&i.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${Fw}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe($r(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe($r(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe($r(this._destroyed)).subscribe(i=>{this._isTooltipVisible()&&27===i.keyCode&&!G_(i)&&(i.preventDefault(),i.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:o,y:l}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:l}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(vi(1),$r(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:o}=e;let l;if(l="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",l!==this._currentPosition){const u=this._overlayRef;if(u){const g=`${this._cssClassPrefix}-${Fw}-`;u.removePanelClass(g+this._currentPosition),u.addPanelClass(g+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,xw)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){hd()},n.\u0275dir=Yt({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),A4=(()=>{class n extends b4{constructor(e,r,i,o,l,u,g,N,Y,ae,Se,Ne){super(e,r,i,o,l,u,g,N,Y,ae,Se,Ne),this._tooltipComponent=R4}}return n.\u0275fac=function(e){return new(e||n)(He(tu),He(zn),He(BI),He(Ui),He(In),He(Yr),He(Rj),He(uh),He(Bw),He(ch,8),He(D4,8),He(Dn))},n.\u0275dir=Yt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[An]}),n})(),I4=(()=>{class n{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new pe,this._animationsDisabled="NoopAnimations"===r}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(r);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(He(ji),He(jo,8))},n.\u0275dir=Yt({type:n}),n})(),R4=(()=>{class n extends I4{constructor(e,r,i){super(e,i),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(He(ji),He(Bb),He(jo,8))},n.\u0275cmp=Tn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&Uo(y4,7),2&e){let i;ur(i=cr())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&yn("mouseleave",function(o){return r._handleMouseLeave(o)}),2&e&&Ea("zoom",r.isVisible()?1:null)},features:[An],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,r){if(1&e&&(Pt(0,"div",0,1),yn("animationend",function(o){return r._handleAnimationEnd(o)}),ar(2,"async"),Mn(3),Nt()),2&e){let i;Ur("mat-tooltip-handset",null==(i=lr(2,4,r._isHandset))?null:i.matches),yt("ngClass",r.tooltipClass),St(3),ii(r.message)}},dependencies:[Bl,Us],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({providers:[M4],imports:[Hj,Jn,rR,Br,Br,cm]}),n})();function O4(n,t){if(1&n&&(Pt(0,"mat-label"),Mn(1),Nt()),2&n){const e=Xt();St(1),ii(e.label)}}function P4(n,t){if(1&n){const e=Pr();Pt(0,"mat-icon",7),yn("click",function(){return ir(e),or(Xt().onClear())}),Nt()}}function N4(n,t){if(1&n&&(Pt(0,"mat-hint",8),Mn(1),Nt()),2&n){const e=Xt(),r=Or(3);St(1),bd("",r.value.length," / ",e._maxlength," ")}}function L4(n,t){if(1&n&&(Pt(0,"mat-error"),Mn(1),Nt()),2&n){const e=Xt();St(1),ii(e.errMsg)}}const F4=function(n){return{readonly:n}};let x4=(()=>{class n{constructor(e,r){this.sanitizer=e,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.hideLabel=!1,this.hideClear=!1,this.hideLength=!1,this._model="",this._maxlength=256,this.inputName=r.getUniqueId().toString(),this.modelChange=new qn,this.errorStateMatcher=new tv,this.errorStateMatcher.isErrorState=()=>String.hasData(this.errMsg)}set model(e){this._model=e??""}set maxlength(e){!isNaN(e)&&e>0&&(this._maxlength=e)}set style(e){this._style=this.sanitizer.bypassSecurityTrustStyle(e)}onClear(){this._model="",this.onChange()}onChange(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}}return n.\u0275fac=function(e){return new(e||n)(He(Ks),He(PI))},n.\u0275cmp=Tn({type:n,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",hideLabel:"hideLabel",hideClear:"hideClear",hideLength:"hideLength",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[Xn],decls:9,vars:18,consts:[[2,"width","100%",3,"appearance","ngClass"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","keydown.enter"],["inp",""],["matSuffix","","style","cursor: pointer; opacity: 0.54;","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start"],["align","end",4,"ngIf"],["matSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",2,"cursor","pointer","opacity","0.54",3,"click"],["align","end"]],template:function(e,r){if(1&e){const i=Pr();Pt(0,"mat-form-field",0),zt(1,O4,2,1,"mat-label",1),Pt(2,"input",2,3),yn("ngModelChange",function(l){return r._model=l})("change",function(){return r.onChange()})("keydown.enter",function(){return ir(i),or(Or(3).blur())}),Nt(),zt(4,P4,1,0,"mat-icon",4),Pt(5,"mat-hint",5),Mn(6),Nt(),zt(7,N4,2,2,"mat-hint",6),zt(8,L4,2,1,"mat-error",1),Nt()}2&e&&(yt("appearance",r.readonly?"standard":"fill")("ngClass",yo(16,F4,r.readonly)),St(1),yt("ngIf",!r.hideLabel),St(1),yt("placeholder",r.placeholder)("readonly",r.readonly)("disabled",r.disabled)("required",r.required)("ngModel",r._model)("errorStateMatcher",r.errorStateMatcher),sr("name",r.inputName)("maxlength",r._maxlength)("style",r._style,tC),St(2),yt("ngIf",!r.readonly&&!r.disabled&&!r.hideClear),St(2),ii(r.hint),St(1),yt("ngIf",!r.readonly&&!r.disabled&&!r.hideLength&&r._maxlength),St(1),yt("ngIf",!r.readonly&&!r.disabled))},dependencies:[Jn,Bl,Fr,x3,Pm,zR,Km,mE,uE,_E,t4,f4,i4,pE,a4,Ei,Do,v4,_4,w4,A4],styles:["[_nghost-%COMP%]     .readonly .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .readonly .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{padding-bottom:.25em;padding-top:.25em}[_nghost-%COMP%]     .readonly .mat-form-field-underline{display:none}"]}),n})();var Gm;const B4=function(n){return{top:n}};class _f{constructor(t,e){this.controller=e,Gm.set(this,void 0),this.top="2em",Qe(this,Gm,t,"f")}ngOnInit(){const t=document.querySelector("search-page-header");null!=t&&(this.top=`${t.offsetHeight}px`)}onModelChange(t){Ce(this,Gm,"f").raise(new fR(t))}}Gm=new WeakMap,_f.\u0275fac=function(t){return new(t||_f)(He(kr),He(Ki))},_f.\u0275cmp=Tn({type:_f,selectors:[["search"]],standalone:!0,features:[Xn],decls:4,vars:6,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10",3,"ngStyle"],[3,"model","modelChange"],["inp",""]],template:function(t,e){1&t&&(Pt(0,"form",0)(1,"input-text",1,2),yn("modelChange",function(i){return e.onModelChange(i)}),ar(3,"async"),Nt()()),2&t&&(yt("ngStyle",yo(4,B4,e.top)),St(1),yt("model",lr(3,2,e.controller.subreddit_query$).request))},dependencies:[Jn,ic,Us,x4,Gi,Ei,Es,zo,ai],changeDetection:0});let k4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["forbidden"]],decls:4,vars:0,consts:[["color","warn"]],template:function(e,r){1&e&&(Pt(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span"),Mn(3,"You are not authorized."),Nt()()())},dependencies:[Gy,Ky],encapsulation:2}),n})(),U4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[zo,ai.forChild([{path:"forbidden",component:k4}])]}),n})();const j4=["*",[["mat-card-footer"]]],V4=["*","mat-card-footer"];let H4=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(He(jo,8))},n.\u0275cmp=Tn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&Ur("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:V4,decls:2,vars:0,template:function(e,r){1&e&&(xs(j4),Gr(0),Gr(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),kw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[Br,Br]}),n})(),W4=(()=>{class n{constructor(e){this.eventManagerService=e}ngOnInit(){this.eventManagerService.raise(Zs)}}return n.\u0275fac=function(e){return new(e||n)(He(kr))},n.\u0275cmp=Tn({type:n,selectors:[["server-error"]],standalone:!0,features:[Xn],decls:4,vars:0,consts:[["color","warn"]],template:function(e,r){1&e&&(Pt(0,"mat-toolbar",0),Mn(1,"Error"),Nt(),Pt(2,"mat-card"),Mn(3,"We are currently experiencing technical difficulties. We apologize for the delay. Please try your request again later."),Nt())},dependencies:[kw,H4,zo,Gy],encapsulation:2}),n})(),K4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=kn({type:n}),n.\u0275inj=_t({imports:[Jn,ai.forChild([{path:"error",component:W4}]),kw,zo]}),n})();function G4(n,t){1&n&&(Pt(0,"mat-toolbar-row")(1,"span"),Mn(2,"You are not authorized."),Nt()())}function z4(n,t){1&n&&(Pt(0,"mat-toolbar-row")(1,"span"),Mn(2,"Not found."),Nt()())}function Y4(n,t){if(1&n&&(Pt(0,"mat-toolbar-row")(1,"span",4),Mn(2),Nt()()),2&n){const e=t.$implicit;St(2),ii(e)}}function $4(n,t){if(1&n&&(Pt(0,"mat-toolbar",1),zt(1,G4,3,0,"mat-toolbar-row",2),zt(2,z4,3,0,"mat-toolbar-row",2),zt(3,Y4,3,1,"mat-toolbar-row",3),Nt()),2&n){const e=Xt();St(1),yt("ngIf",null==e._errors.general?null:e._errors.general.forbidden),St(1),yt("ngIf",null==e._errors.general?null:e._errors.general.notFound),St(1),yt("ngForOf",null==e._errors.general?null:e._errors.general.default)}}let vE=(()=>{class n{set errors(e){this._errors=e instanceof Error?qs.CreateErrorResult(`${e.message} `).errors:"string"!=typeof e&&"number"!=typeof e?e:qs.CreateErrorResult(`${e} `).errors}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tn({type:n,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[Xn],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(e,r){1&e&&zt(0,$4,4,3,"mat-toolbar",0),2&e&&yt("ngIf",null==r._errors?null:r._errors.general)},dependencies:[Jn,ks,Fr,zo,Gy,Ky],styles:["[_nghost-%COMP%]{width:100%}"]}),n})();var vf,yf,zm,$o,Uw,jw,Vw;const X4=function(n){return{item:n,subreddit:"",hide_stickied:!1,show_comments:!1}};function Q4(n,t){if(1&n&&Zt(0,"post",6),2&n){const e=Xt().ngIf;yt("data",yo(1,X4,e.post))}}function q4(n,t){1&n&&Zt(0,"post-comment",6),2&n&&yt("data",t.$implicit)}function Z4(n,t){if(1&n&&(Pt(0,"div",3),zt(1,Q4,1,3,"post",4),zt(2,q4,1,1,"post-comment",5),Nt()),2&n){const e=t.ngIf,r=Xt(2);St(1),yt("ngIf",e.post),St(1),yt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function J4(n,t){if(1&n&&(Ji(0),Zt(1,"post-comment-list-header")(2,"general-error",1),ar(3,"async"),zt(4,Z4,3,3,"div",2),ar(5,"async"),eo()),2&n){const e=Xt();St(2),yt("errors",lr(3,2,e.controller.errors$)),St(2),yt("ngIf",lr(5,4,e.controller.post_comments$))}}class ou{constructor(t,e,r,i){var o=this;this.controller=t,vf.add(this),yf.set(this,void 0),zm.set(this,void 0),$o.set(this,{a:"",i:"",so:"best"}),Qe(this,yf,e,"f"),Qe(this,zm,i,"f"),this.vm$=Ze(e.handle(uR).pipe(Wn(l=>Ce(this,vf,"m",Uw).call(this,l))),r.paramMap.pipe(Wn(function(){var l=vr(function*(u){return yield Ce(o,vf,"m",Vw).call(o,u)});return function(u){return l.apply(this,arguments)}}())))}trackByFn(t,e){return e.id}go_to_top(){window.scrollTo(0,0)}}var bo,Ef,Tf,su,yr,Hw,Ww,Kw,Gw,Cf,zw;yf=new WeakMap,zm=new WeakMap,$o=new WeakMap,vf=new WeakSet,Uw=function(t){Ce(this,$o,"f").so=t.sort_requested,Ce(this,vf,"m",jw).call(this)},jw=function(){let t=Object.trimUnusedProperties(Ce(this,$o,"f"));delete t.a,Ce(this,zm,"f").navigate(["comments",Ce(this,$o,"f").a,t])},Vw=function(){var n=vr(function*(e){try{Ce(this,yf,"f").raise(Uc),Qe(this,$o,{a:"",i:"",so:"best"},"f"),xa.fromParamMap(Ce(this,$o,"f"),e),yield this.controller.actions.listCommentAsync(Ce(this,$o,"f").a,Ce(this,$o,"f").so,Ce(this,$o,"f").i),setTimeout(()=>window.scrollTo(0,0),0)}finally{Ce(this,yf,"f").raise(Zs)}});return function t(e){return n.apply(this,arguments)}}(),ou.\u0275fac=function(t){return new(t||ou)(He(Ki),He(kr),He(Go),He(mr))},ou.\u0275cmp=Tn({type:ou,selectors:[["ng-component"]],standalone:!0,features:[Xn],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"]],template:function(t,e){1&t&&(zt(0,J4,6,6,"ng-container",0),ar(1,"async")),2&t&&yt("ngIf",lr(1,1,e.vm$))},dependencies:[Jn,ks,Fr,Us,vE,Gi,Ei,XY,$c,ER],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});const e8=function(n,t){return{item:n,subreddit:t,hide_stickied:!0,show_comments:!0}};function t8(n,t){if(1&n&&Zt(0,"post",9),2&n){const e=t.$implicit,r=Xt().ngIf;yt("data",Qp(1,e8,e,r.subreddit))}}function n8(n,t){if(1&n){const e=Pr();Pt(0,"div",3),zt(1,t8,1,4,"post",4),Pt(2,"div",5)(3,"button",6),yn("click",function(){const o=ir(e).ngIf;return or(Xt(2).next_page(o.after,o.modhash))}),Mn(4,"Next"),Nt(),Pt(5,"button",7),yn("click",function(){return ir(e),or(Xt(2).go_to_top())}),Zt(6,"mat-icon",8),Nt()()()}if(2&n){const e=t.ngIf,r=Xt(2);St(1),yt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function r8(n,t){if(1&n&&(Ji(0),Zt(1,"post-list-header")(2,"general-error",1),ar(3,"async"),zt(4,n8,7,2,"div",2),ar(5,"async"),eo()),2&n){const e=Xt();St(2),yt("errors",lr(3,2,e.controller.errors$)),St(2),yt("ngIf",lr(5,4,e.controller.posts$))}}class Mf{constructor(t,e,r,i,o){var l=this;this.controller=t,bo.add(this),Ef.set(this,void 0),Tf.set(this,void 0),su.set(this,void 0),yr.set(this,{a:"",m:"",so:"hot",su:""}),Qe(this,Ef,e,"f"),Qe(this,Tf,i,"f"),Qe(this,su,o,"f"),this.vm$=Ze(e.handle(lR).pipe(Wn(u=>Ce(this,bo,"m",Hw).call(this))),e.handle(cR).pipe(Wn(u=>Ce(this,bo,"m",Ww).call(this,u))),e.handle(vm).pipe(Wn(u=>Ce(this,bo,"m",Kw).call(this,u))),e.handle(dR).pipe(Wn(u=>Ce(this,bo,"m",Gw).call(this,u))),r.paramMap.pipe(Wn(function(){var u=vr(function*(g){return yield Ce(l,bo,"m",zw).call(l,g)});return function(g){return u.apply(this,arguments)}}())))}trackByFn(t,e){return`${e.id}${e.subreddit_subscribed}`}next_page(t,e){Ce(this,yr,"f").a=t,Ce(this,yr,"f").m=e,this.go_to_top(),setTimeout(()=>{Ce(this,su,"f").save(),Ce(this,bo,"m",Cf).call(this)},0)}go_to_top(){window.scrollTo(0,0)}}var au,Df,Sf,bf,Yw,$w,Xw,Qw;function i8(n,t){1&n&&Zt(0,"search-result",5),2&n&&yt("data",t.$implicit)}function o8(n,t){if(1&n&&(Pt(0,"div",3),zt(1,i8,1,1,"search-result",4),Nt()),2&n){const e=t.ngIf,r=Xt(2);St(1),yt("ngForOf",e.result)("ngForTrackBy",r.trackByFn)}}function s8(n,t){if(1&n&&(Ji(0),Zt(1,"search-page-header")(2,"general-error",1),ar(3,"async"),Zt(4,"search"),zt(5,o8,2,2,"div",2),ar(6,"async"),eo()),2&n){const e=Xt();St(2),yt("errors",lr(3,2,e.controller.errors$)),St(3),yt("ngIf",lr(6,4,e.controller.subreddit_query$))}}Ef=new WeakMap,Tf=new WeakMap,su=new WeakMap,yr=new WeakMap,bo=new WeakSet,Hw=function(){Ce(this,yr,"f").a="",Ce(this,yr,"f").m="",Ce(this,yr,"f").so="hot",Ce(this,yr,"f").su="frontpage",Ce(this,bo,"m",Cf).call(this)},Ww=function(t){Ce(this,yr,"f").a="",Ce(this,yr,"f").m="",Ce(this,yr,"f").so=t.sort_requested,Ce(this,bo,"m",Cf).call(this)},Kw=function(t){Ce(this,yr,"f").a="",Ce(this,yr,"f").m="",Ce(this,yr,"f").su=t.subreddit_requested,Ce(this,bo,"m",Cf).call(this)},Gw=function(t){Ce(this,su,"f").save(),Ce(this,Tf,"f").navigate(["comments",t.article])},Cf=function(){let t=Object.trimUnusedProperties(Ce(this,yr,"f"));delete t.su,Ce(this,Tf,"f").navigate(["r",Ce(this,yr,"f").su,t])},zw=function(){var n=vr(function*(e){Ce(this,Ef,"f").raise(Uc),Qe(this,yr,{a:"",m:"",so:"hot",su:""},"f"),xa.fromParamMap(Ce(this,yr,"f"),e),yield this.controller.actions.listPostAsync(Ce(this,yr,"f").a,Ce(this,yr,"f").m,Ce(this,yr,"f").so,Ce(this,yr,"f").su),setTimeout(()=>{Ce(this,su,"f").tryRestore(),Ce(this,Ef,"f").raise(Zs)},750)});return function t(e){return n.apply(this,arguments)}}(),Mf.\u0275fac=function(t){return new(t||Mf)(He(Ki),He(kr),He(Go),He(mr),He(ky))},Mf.\u0275cmp=Tn({type:Mf,selectors:[["ng-component"]],standalone:!0,features:[Xn],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],["mat-raised-button","",3,"click"],["svgIcon","arrow_upward"],[1,"mat-elevation-z5",3,"data"]],template:function(t,e){1&t&&(zt(0,r8,6,6,"ng-container",0),ar(1,"async")),2&t&&yt("ngIf",lr(1,1,e.vm$))},dependencies:[Jn,ks,Fr,Us,vE,Zc,Gi,ja,Ei,Do,ER],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});class Af{constructor(t,e,r,i,o){var l=this;this.controller=r,au.add(this),Df.set(this,void 0),Sf.set(this,void 0),bf.set(this,void 0),this.state={q:""},Qe(this,Df,e,"f"),Qe(this,Sf,i,"f"),Qe(this,bf,o,"f"),this.vm$=Ze(e.handle(fR).pipe(Wn(u=>Ce(this,au,"m",Yw).call(this,u.search))),e.handle(vm).pipe(Wn(u=>Ce(this,au,"m",$w).call(this,u))),t.paramMap.pipe(Wn(function(){var u=vr(function*(g){return yield Ce(l,au,"m",Qw).call(l,g)});return function(g){return u.apply(this,arguments)}}())))}trackByFn(t,e){return e.display_name}}Df=new WeakMap,Sf=new WeakMap,bf=new WeakMap,au=new WeakSet,Yw=function(t){const e=String.isNullOrWhitespace(this.state.q);this.state.q=t,Ce(this,au,"m",Xw).call(this,e)},$w=function(t){Ce(this,bf,"f").save(),Ce(this,Sf,"f").navigate(["r",t.subreddit_requested])},Xw=function(t){let e=Object.trimUnusedProperties(this.state);Ce(this,Sf,"f").navigate(["s",e],{replaceUrl:t})},Qw=function(){var n=vr(function*(e){Ce(this,Df,"f").raise(Uc),xa.fromParamMap(this.state,e),yield this.controller.actions.searchAsync(this.state.q),setTimeout(()=>{Ce(this,bf,"f").tryRestore(),Ce(this,Df,"f").raise(Zs)},750)});return function t(e){return n.apply(this,arguments)}}(),Af.\u0275fac=function(t){return new(t||Af)(He(Go),He(kr),He(Ki),He(mr),He(ky))},Af.\u0275cmp=Tn({type:Af,selectors:[["ng-component"]],standalone:!0,features:[Xn],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"]],template:function(t,e){1&t&&(zt(0,s8,7,6,"ng-container",0),ar(1,"async")),2&t&&yt("ngIf",lr(1,1,e.vm$))},dependencies:[Jn,ks,Fr,Us,vE,Gi,F$,_f,df],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0});const a8=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:Mf},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a/:i",component:ou},{path:"comments/:a",component:ou},{path:"s",component:Af}];(function jk(){US=!1})(),function LV(n,t){return Bk({rootComponent:n,...EA(t)})}(Xz,{providers:[{provide:Ju,useFactory:function l8(n,t){return()=>n.addSvgIcon("arrow_downward",t.bypassSecurityTrustResourceUrl("assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("arrow_upward",t.bypassSecurityTrustResourceUrl("assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("clear",t.bypassSecurityTrustResourceUrl("assets/cancel_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("comment",t.bypassSecurityTrustResourceUrl("assets/comment_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("edit",t.bypassSecurityTrustResourceUrl("assets/edit_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("expand_more",t.bypassSecurityTrustResourceUrl("assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite_filled",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL1_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("fullscreen",t.bypassSecurityTrustResourceUrl("assets/fullscreen_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("go_back",t.bypassSecurityTrustResourceUrl("assets/arrow_back_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("groups",t.bypassSecurityTrustResourceUrl("assets/groups_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("home",t.bypassSecurityTrustResourceUrl("assets/home_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_horiz",t.bypassSecurityTrustResourceUrl("assets/more_horiz_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_vert",t.bypassSecurityTrustResourceUrl("assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("pause",t.bypassSecurityTrustResourceUrl("assets/pause_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("person",t.bypassSecurityTrustResourceUrl("assets/person_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("photo_library",t.bypassSecurityTrustResourceUrl("assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("play_arrow",t.bypassSecurityTrustResourceUrl("assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("push_pin",t.bypassSecurityTrustResourceUrl("assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("search",t.bypassSecurityTrustResourceUrl("assets/search_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("share",t.bypassSecurityTrustResourceUrl("assets/share_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("sort",t.bypassSecurityTrustResourceUrl("assets/sort_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("stop",t.bypassSecurityTrustResourceUrl("assets/stop_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("subscriptions",t.bypassSecurityTrustResourceUrl("assets/subscriptions_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_mute",t.bypassSecurityTrustResourceUrl("assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_off",t.bypassSecurityTrustResourceUrl("assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"))},multi:!0,deps:[yc,Ks]},{provide:dH,useValue:{duration:3e3}},function gW(){return[...hW]}(),function MG(n,...t){return[my(n),{provide:Go,useFactory:CI,deps:[mr]},{provide:u_,multi:!0,useFactory:MI},t.map(e=>e.\u0275providers)]}(a8),sC(WG.forRoot({corsConfig:{use:!1,url:""},storageConfig:{keyPrefix:"RedditReader"}}),U4,K4)]}).catch(n=>console.error(n))},377:Ms=>{window,Ms.exports=function(we){var k={};function c(B){if(k[B])return k[B].exports;var T=k[B]={i:B,l:!1,exports:{}};return we[B].call(T.exports,T,T.exports,c),T.l=!0,T.exports}return c.m=we,c.c=k,c.d=function(B,T,M){c.o(B,T)||Object.defineProperty(B,T,{enumerable:!0,get:M})},c.r=function(B){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(B,"__esModule",{value:!0})},c.t=function(B,T){if(1&T&&(B=c(B)),8&T||4&T&&"object"==typeof B&&B&&B.__esModule)return B;var M=Object.create(null);if(c.r(M),Object.defineProperty(M,"default",{enumerable:!0,value:B}),2&T&&"string"!=typeof B)for(var S in B)c.d(M,S,function(b){return B[b]}.bind(null,S));return M},c.n=function(B){var T=B&&B.__esModule?function(){return B.default}:function(){return B};return c.d(T,"a",T),T},c.o=function(B,T){return Object.prototype.hasOwnProperty.call(B,T)},c.p="/dist/",c(c.s="./index.js")}({"./externals/base64.js":function(we,k,c){var M,S,b,h,y,B_encode=function(M){for(var S=[],b=0;b<M.length;++b){var h=M.charCodeAt(b);h<128?S.push(h):h<2048?(S.push(192|h>>6),S.push(128|63&h)):h<65536?(S.push(224|h>>12),S.push(128|63&h>>6),S.push(128|63&h)):(S.push(240|h>>18),S.push(128|63&h>>12),S.push(128|63&h>>6),S.push(128|63&h))}return S},B_decode=function(M){for(var S=[],b=0;b<M.length;){var h=M[b++];h<128||(h<224?(h=(31&h)<<6,h|=63&M[b++]):h<240?(h=(15&h)<<12,h|=(63&M[b++])<<6,h|=63&M[b++]):(h=(7&h)<<18,h|=(63&M[b++])<<12,h|=(63&M[b++])<<6,h|=63&M[b++])),S.push(String.fromCharCode(h))}return S.join("")},T={};M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=function(F){for(var P=0,x=[],_=0|F.length/3;0<_--;){var m=(F[P]<<16)+(F[P+1]<<8)+F[P+2];P+=3,x.push(M.charAt(63&m>>18)),x.push(M.charAt(63&m>>12)),x.push(M.charAt(63&m>>6)),x.push(M.charAt(63&m))}return F.length-P==2?(x.push(M.charAt(63&(m=(F[P]<<16)+(F[P+1]<<8))>>18)),x.push(M.charAt(63&m>>12)),x.push(M.charAt(63&m>>6)),x.push("=")):F.length-P==1&&(x.push(M.charAt(63&(m=F[P]<<16)>>18)),x.push(M.charAt(63&m>>12)),x.push("==")),x.join("")},b=function(){for(var E=[],F=0;F<M.length;++F)E[M.charCodeAt(F)]=F;return E["=".charCodeAt(0)]=0,E}(),h=function(F){for(var P=0,x=[],_=0|F.length/4;0<_--;){var m=(b[F.charCodeAt(P)]<<18)+(b[F.charCodeAt(P+1)]<<12)+(b[F.charCodeAt(P+2)]<<6)+b[F.charCodeAt(P+3)];x.push(255&m>>16),x.push(255&m>>8),x.push(255&m),P+=4}return x&&("="==F.charAt(P-2)?(x.pop(),x.pop()):"="==F.charAt(P-1)&&x.pop()),x},y={encode:function(E){for(var F=[],P=0;P<E.length;++P)F.push(E.charCodeAt(P));return F},decode:function(E){for(var F=0;F<s.length;++F)a[F]=String.fromCharCode(a[F]);return a.join("")}},T.decodeArray=function(E){var F=h(E);return new Uint8Array(F)},T.encodeASCII=function(E){var F=y.encode(E);return S(F)},T.decodeASCII=function(E){var F=h(E);return y.decode(F)},T.encode=function(E){var F=B_encode(E);return S(F)},T.decode=function(E){var F=h(E);return B_decode(F)},k.decode=T.decode,k.decodeArray=T.decodeArray,k.encode=T.encode,k.encodeASCII=T.encodeASCII},"./externals/cea608-parser.js":function(we,k,c){!function(B){"use strict";var T={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},M=function(p){var w=p;return T.hasOwnProperty(p)&&(w=T[p]),String.fromCharCode(w)},S=15,b=32,h={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},y={17:2,18:4,21:6,22:8,23:10,19:13,20:15},E={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},F={25:2,26:4,29:6,30:8,31:10,27:13,28:15},P=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],x={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(p){this.time=p},log:function(p,w){this.verboseLevel>=this.verboseFilter[p]&&console.log(this.time+" ["+p+"] "+w)}},_=function(p){for(var w=[],W=0;W<p.length;W++)w.push(p[W].toString(16));return w},m=function(p,w,W,$,Q){this.foreground=p||"white",this.underline=w||!1,this.italics=W||!1,this.background=$||"black",this.flash=Q||!1};m.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(p){for(var w=["foreground","underline","italics","background","flash"],W=0;W<w.length;W++){var $=w[W];p.hasOwnProperty($)&&(this[$]=p[$])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(p){return this.foreground===p.foreground&&this.underline===p.underline&&this.italics===p.italics&&this.background===p.background&&this.flash===p.flash},copy:function(p){this.foreground=p.foreground,this.underline=p.underline,this.italics=p.italics,this.background=p.background,this.flash=p.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var f=function(p,w,W,$,Q,ue){this.uchar=p||" ",this.penState=new m(w,W,$,Q,ue)};f.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(p,w){this.uchar=p,this.penState.copy(w)},setPenState:function(p){this.penState.copy(p)},equals:function(p){return this.uchar===p.uchar&&this.penState.equals(p.penState)},copy:function(p){this.uchar=p.uchar,this.penState.copy(p.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var v=function(){this.chars=[];for(var p=0;p<b;p++)this.chars.push(new f);this.pos=0,this.currPenState=new m};v.prototype={equals:function(p){for(var w=!0,W=0;W<b;W++)if(!this.chars[W].equals(p.chars[W])){w=!1;break}return w},copy:function(p){for(var w=0;w<b;w++)this.chars[w].copy(p.chars[w])},isEmpty:function(){for(var p=!0,w=0;w<b;w++)if(!this.chars[w].isEmpty()){p=!1;break}return p},setCursor:function(p){this.pos!==p&&(this.pos=p),this.pos<0?(x.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>b&&(x.log("ERROR","Too large cursor position "+this.pos),this.pos=b)},moveCursor:function(p){var w=this.pos+p;if(p>1)for(var W=this.pos+1;W<w+1;W++)this.chars[W].setPenState(this.currPenState);this.setCursor(w)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(p){p>=144&&this.backSpace();var w=M(p);this.pos>=b?x.log("ERROR","Cannot insert "+p.toString(16)+" ("+w+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(w,this.currPenState),this.moveCursor(1))},clearFromPos:function(p){var w;for(w=p;w<b;w++)this.chars[w].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var p=[],w=!0,W=0;W<b;W++){var $=this.chars[W].uchar;" "!==$&&(w=!1),p.push($)}return w?"":p.join("")},setPenStyles:function(p){this.currPenState.setStyles(p),this.chars[this.pos].setPenState(this.currPenState)}};var d=function(){this.rows=[];for(var p=0;p<S;p++)this.rows.push(new v);this.currRow=14,this.nrRollUpRows=null,this.reset()};d.prototype={reset:function(){for(var p=0;p<S;p++)this.rows[p].clear();this.currRow=14},equals:function(p){for(var w=!0,W=0;W<S;W++)if(!this.rows[W].equals(p.rows[W])){w=!1;break}return w},copy:function(p){for(var w=0;w<S;w++)this.rows[w].copy(p.rows[w])},isEmpty:function(){for(var p=!0,w=0;w<S;w++)if(!this.rows[w].isEmpty()){p=!1;break}return p},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(p){this.rows[this.currRow].insertChar(p)},setPen:function(p){this.rows[this.currRow].setPenStyles(p)},moveCursor:function(p){this.rows[this.currRow].moveCursor(p)},setCursor:function(p){x.log("INFO","setCursor: "+p),this.rows[this.currRow].setCursor(p)},setPAC:function(p){x.log("INFO","pacData = "+JSON.stringify(p));var w=p.row-1;this.nrRollUpRows&&w<this.nrRollUpRows-1&&(w=this.nrRollUpRows-1),this.currRow=w;var W=this.rows[this.currRow];if(null!==p.indent){var Q=Math.max(p.indent-1,0);W.setCursor(p.indent),p.color=W.chars[Q].penState.foreground}this.setPen({foreground:p.color,underline:p.underline,italics:p.italics,background:"black",flash:!1})},setBkgData:function(p){x.log("INFO","bkgData = "+JSON.stringify(p)),this.backSpace(),this.setPen(p),this.insertChar(32)},setRollUpRows:function(p){this.nrRollUpRows=p},rollUp:function(){if(null!==this.nrRollUpRows){x.log("TEXT",this.getDisplayText());var w=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];w.clear(),this.rows.splice(this.currRow,0,w),x.log("INFO","Rolling up")}else x.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(p){p=p||!1;for(var w=[],W="",Q=0;Q<S;Q++){var ue=this.rows[Q].getTextString();ue&&w.push(p?"Row "+(Q+1)+': "'+ue+'"':ue.trim())}return w.length>0&&(W=p?"["+w.join(" | ")+"]":w.join("\n")),W},getTextAndFormat:function(){return this.rows}};var L=function(p,w){this.chNr=p,this.outputFilter=w,this.mode=null,this.verbose=0,this.displayedMemory=new d,this.nonDisplayedMemory=new d,this.lastOutputScreen=new d,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};L.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(p){this.outputFilter=p},setPAC:function(p){this.writeScreen.setPAC(p)},setBkgData:function(p){this.writeScreen.setBkgData(p)},setMode:function(p){p!==this.mode&&(this.mode=p,x.log("INFO","MODE="+p),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=p)},insertChars:function(p){for(var w=0;w<p.length;w++)this.writeScreen.insertChar(p[w]);x.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(x.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){x.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){x.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){x.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(p){x.log("INFO","RU("+p+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(p)},cc_FON:function(){x.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){x.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){x.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){x.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){x.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){x.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){x.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(x.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var p=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=p,this.writeScreen=this.nonDisplayedMemory,x.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(p){x.log("INFO","TO("+p+") - Tab Offset"),this.writeScreen.moveCursor(p)},cc_MIDROW:function(p){var w={flash:!1};if(w.underline=p%2==1,w.italics=p>=46,w.italics)w.foreground="white";else{var W=Math.floor(p/2)-16;w.foreground=["white","green","blue","cyan","red","yellow","magenta"][W]}x.log("INFO","MIDROW: "+JSON.stringify(w)),this.writeScreen.setPen(w)},outputDataUpdate:function(){var p=x.time;null!==p&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(p,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,p,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:p):this.cueStartTime=p,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(p){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,p,this.displayedMemory),this.cueStartTime=p))}};var C=function(p,w,W){this.field=p||1,this.outputs=[w,W],this.channels=[new L(1,w),new L(2,W)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};C.prototype={getHandler:function(p){return this.channels[p].getHandler()},setHandler:function(p,w){this.channels[p].setHandler(w)},addData:function(p,w){var W,$,Q,ue=!1;this.lastTime=p,x.setTime(p);for(var ce=0;ce<w.length;ce+=2)Q=127&w[ce+1],($=127&w[ce])>=16&&$<=31&&$===this.lastCmdA&&Q===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,x.log("DEBUG","Repeated command ("+_([$,Q])+") is dropped")):0!==$||0!==Q?(x.log("DATA","["+_([w[ce],w[ce+1]])+"] -> ("+_([$,Q])+")"),(W=this.parseCmd($,Q))||(W=this.parseMidrow($,Q)),W||(W=this.parsePAC($,Q)),W||(W=this.parseBackgroundAttributes($,Q)),!W&&(ue=this.parseChars($,Q))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(ue):x.log("WARNING","No channel found yet. TEXT-MODE?")),W?this.dataCounters.cmd+=2:ue?this.dataCounters.char+=2:(this.dataCounters.other+=2,x.log("WARNING","Couldn't parse cleaned data "+_([$,Q])+" orig: "+_([w[ce],w[ce+1]])))):this.dataCounters.padding+=2},parseCmd:function(p,w){var W;if(!((20===p||21===p||28===p||29===p)&&32<=w&&w<=47||(23===p||31===p)&&33<=w&&w<=35))return!1;var ue=this.channels[(W=20===p||21===p||23===p?1:2)-1];return 20===p||21===p||28===p||29===p?32===w?ue.cc_RCL():33===w?ue.cc_BS():34===w?ue.cc_AOF():35===w?ue.cc_AON():36===w?ue.cc_DER():37===w?ue.cc_RU(2):38===w?ue.cc_RU(3):39===w?ue.cc_RU(4):40===w?ue.cc_FON():41===w?ue.cc_RDC():42===w?ue.cc_TR():43===w?ue.cc_RTD():44===w?ue.cc_EDM():45===w?ue.cc_CR():46===w?ue.cc_ENM():47===w&&ue.cc_EOC():ue.cc_TO(w-32),this.lastCmdA=p,this.lastCmdB=w,this.currChNr=W,!0},parseMidrow:function(p,w){var W=null;if((17===p||25===p)&&32<=w&&w<=47){if((W=17===p?1:2)!==this.currChNr)return x.log("ERROR","Mismatch channel in midrow parsing"),!1;var $=this.channels[W-1];return $.insertChars([32]),$.cc_MIDROW(w),x.log("DEBUG","MIDROW ("+_([p,w])+")"),this.lastCmdA=p,this.lastCmdB=w,!0}return!1},parsePAC:function(p,w){var W;if(!((17<=p&&p<=23||25<=p&&p<=31)&&64<=w&&w<=127||(16===p||24===p)&&64<=w&&w<=95))return!1;W=p<=23?1:2;var ce=this.interpretPAC(64<=w&&w<=95?1===W?h[p]:E[p]:1===W?y[p]:F[p],w);return this.channels[W-1].setPAC(ce),this.lastCmdA=p,this.lastCmdB=w,this.currChNr=W,!0},interpretPAC:function(p,w){var W,$={color:null,italics:!1,indent:null,underline:!1,row:p};return $.underline=1==(1&(W=w>95?w-96:w-64)),W<=13?$.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(W/2)]:W<=15?($.italics=!0,$.color="white"):$.indent=4*Math.floor((W-16)/2),$},parseChars:function(p,w){var W=null,$=null,Q=null;if(p>=25?(W=2,Q=p-8):(W=1,Q=p),17<=Q&&Q<=19){var ce;x.log("INFO","Special char '"+M(ce=17===Q?w+80:18===Q?w+112:w+144)+"' in channel "+W),$=[ce],this.lastCmdA=p,this.lastCmdB=w}else 32<=p&&p<=127&&($=0===w?[p]:[p,w],this.lastCmdA=null,this.lastCmdB=null);if($){var ne=_($);x.log("DEBUG","Char codes =  "+ne.join(","))}return $},parseBackgroundAttributes:function(p,w){var W,$;return!!((16===p||24===p)&&32<=w&&w<=47||(23===p||31===p)&&45<=w&&w<=47)&&(W={},16===p||24===p?($=Math.floor((w-32)/2),W.background=P[$],w%2==1&&(W.background=W.background+"_semi")):45===w?W.background="transparent":(W.foreground="black",47===w&&(W.underline=!0)),this.channels[(p<24?1:2)-1].setBkgData(W),this.lastCmdA=p,this.lastCmdB=w,!0)},reset:function(){for(var p=0;p<this.channels.length;p++)this.channels[p]&&this.channels[p].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(p){for(var w=0;w<this.channels.length;w++)this.channels[w]&&this.channels[w].cueSplitAtTime(p)}};B.logger=x,B.PenState=m,B.CaptionScreen=d,B.Cea608Parser=C,B.findCea608Nalus=function(p,w,W){for(var $=0,Q=w,ce=[],ne=function(Ee,Z,pe,re){if(4!==Ee||Z<8)return null;var _e=pe.getUint8(re),ge=pe.getUint16(re+1),fe=pe.getUint32(re+3),ve=pe.getUint8(re+7);return 181==_e&&49==ge&&1195456820==fe&&3==ve};Q<w+W;){if($=p.getUint32(Q),6==(31&p.getUint8(Q+4)))for(var U=Q+5,ie=-1;U<Q+4+$-1;){ie=0;for(var q=255;255===q;)ie+=q=p.getUint8(U),U++;var le=0;for(q=255;255===q;)le+=q=p.getUint8(U),U++;ne(ie,le,p,U)&&ce.push([U,le]),U+=le}Q+=$+4}return ce},B.extractCea608DataFromRange=function(p,w){var W=w[0],$=[[],[]],Q=31&p.getUint8(W+=8);W+=2;for(var ue=0;ue<Q;ue++){var ce=p.getUint8(W),ne=4&ce,U=3&ce;W++;var ie=p.getUint8(W);W++;var q=p.getUint8(W);W++,ne&&(127&ie)+(127&q)!=0&&(0===U?($[0].push(ie),$[0].push(q)):1===U&&($[1].push(ie),$[1].push(q)))}return $}}(k)},"./externals/xml2json.js":function(we,k,c){"use strict";c.r(k),k.default=function B(T){T=T||{},function S(){void 0===T.escapeMode&&(T.escapeMode=!0),void 0===T.attributePrefix&&(T.attributePrefix="_"),T.arrayAccessForm=T.arrayAccessForm||"none",T.emptyNodeForm=T.emptyNodeForm||"text",void 0===T.enableToStringFunc&&(T.enableToStringFunc=!0),T.arrayAccessFormPaths=T.arrayAccessFormPaths||[],void 0===T.skipEmptyTextNodesForObj&&(T.skipEmptyTextNodesForObj=!0),void 0===T.stripWhitespaces&&(T.stripWhitespaces=!0),T.datetimeAccessFormPaths=T.datetimeAccessFormPaths||[],void 0===T.useDoubleQuotes&&(T.useDoubleQuotes=!1),T.xmlElementsFilter=T.xmlElementsFilter||[],T.jsonPropertiesFilter=T.jsonPropertiesFilter||[],void 0===T.keepCData&&(T.keepCData=!1),void 0===T.ignoreRoot&&(T.ignoreRoot=!1)}();var b_ELEMENT_NODE=1,b_TEXT_NODE=3,b_CDATA_SECTION_NODE=4,b_COMMENT_NODE=8,b_DOCUMENT_NODE=9;function y(ne){var U=ne.localName;return null==U&&(U=ne.baseName),(null==U||""==U)&&(U=ne.nodeName),U}function F(ne){return"string"==typeof ne?ne.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):ne}function x(ne,U,ie,q){for(var le=0;le<ne.length;le++){var de=ne[le];if("string"==typeof de){if(de==q)break}else if(de instanceof RegExp){if(de.test(q))break}else if("function"==typeof de&&de(U,ie,q))break}return le!=ne.length}function _(ne,U,ie){"property"===T.arrayAccessForm&&(ne[U+"_asArray"]=ne[U]instanceof Array?ne[U]:[ne[U]]),!(ne[U]instanceof Array)&&T.arrayAccessFormPaths.length>0&&x(T.arrayAccessFormPaths,ne,U,ie)&&(ne[U]=[ne[U]])}function m(ne){var U=ne.split(/[-T:+Z]/g),ie=new Date(U[0],U[1]-1,U[2]),q=U[5].split(".");if(ie.setHours(U[3],U[4],q[0]),q.length>1&&ie.setMilliseconds(q[1]),U[6]&&U[7]){var le=60*U[6]+Number(U[7]);le=0+("-"==(/\d\d-\d\d:\d\d$/.test(ne)?"-":"+")?-1*le:le),ie.setMinutes(ie.getMinutes()-le-ie.getTimezoneOffset())}else-1!==ne.indexOf("Z",ne.length-1)&&(ie=new Date(Date.UTC(ie.getFullYear(),ie.getMonth(),ie.getDate(),ie.getHours(),ie.getMinutes(),ie.getSeconds(),ie.getMilliseconds())));return ie}function v(ne,U,ie,q){return!(U==b_ELEMENT_NODE&&T.xmlElementsFilter.length>0)||x(T.xmlElementsFilter,ne,ie,q)}function d(ne,U){if(ne.nodeType==b_DOCUMENT_NODE){for(var ie=new Object,q=ne.childNodes,le=0;le<q.length;le++)(de=q[le]).nodeType==b_ELEMENT_NODE&&(T.ignoreRoot?ie=d(de):(ie={})[Ee=y(de)]=d(de));return ie}if(ne.nodeType==b_ELEMENT_NODE){(ie=new Object).__cnt=0;var Z=[];for(q=ne.childNodes,le=0;le<q.length;le++){var de,Ee=y(de=q[le]);if(de.nodeType!=b_COMMENT_NODE){var pe=U+"."+Ee;if(v(ie,de.nodeType,Ee,pe))if(ie.__cnt++,null==ie[Ee]){var re=d(de,pe);("#text"!=Ee||/[^\s]/.test(re))&&((_e={})[Ee]=re,Z.push(_e)),ie[Ee]=re,_(ie,Ee,pe)}else{var _e;null!=ie[Ee]&&(ie[Ee]instanceof Array||(ie[Ee]=[ie[Ee]],_(ie,Ee,pe))),re=d(de,pe),("#text"!=Ee||/[^\s]/.test(re))&&((_e={})[Ee]=re,Z.push(_e)),ie[Ee][ie[Ee].length]=re}}}ie.__children=Z;for(var ge=y(ne),fe=0;fe<ne.attributes.length;fe++){var ve=ne.attributes[fe];ie.__cnt++;for(var X=ve.value,ye=0,se=T.matchers.length;ye<se;ye++){var ee=T.matchers[ye];ee.test(ve,ge)&&(X=ee.converter(ve.value))}ie[T.attributePrefix+ve.name]=X}var z=function E(ne){return ne.prefix}(ne);return null!=z&&""!=z&&(ie.__cnt++,ie.__prefix=z),null!=ie["#text"]&&(ie.__text=ie["#text"],ie.__text instanceof Array&&(ie.__text=ie.__text.join("\n")),T.stripWhitespaces&&(ie.__text=ie.__text.trim()),delete ie["#text"],"property"==T.arrayAccessForm&&delete ie["#text_asArray"],ie.__text=function f(ne,U,ie){if(T.datetimeAccessFormPaths.length>0){var q=ie.split(".#")[0];return x(T.datetimeAccessFormPaths,ne,U,q)?m(ne):ne}return ne}(ie.__text,Ee,U+"."+Ee)),null!=ie["#cdata-section"]&&(ie.__cdata=ie["#cdata-section"],delete ie["#cdata-section"],"property"==T.arrayAccessForm&&delete ie["#cdata-section_asArray"]),0==ie.__cnt&&"text"==T.emptyNodeForm?ie="":1==ie.__cnt&&null!=ie.__text?ie=ie.__text:1!=ie.__cnt||null==ie.__cdata||T.keepCData?ie.__cnt>1&&null!=ie.__text&&T.skipEmptyTextNodesForObj&&(T.stripWhitespaces&&""==ie.__text||""==ie.__text.trim())&&delete ie.__text:ie=ie.__cdata,delete ie.__cnt,T.enableToStringFunc&&(null!=ie.__text||null!=ie.__cdata)&&(ie.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),ie}if(ne.nodeType==b_TEXT_NODE||ne.nodeType==b_CDATA_SECTION_NODE)return ne.nodeValue}function L(ne,U,ie,q){var le="<"+(null!=ne&&null!=ne.__prefix?ne.__prefix+":":"")+U;if(null!=ie)for(var de=0;de<ie.length;de++){var Ee=ie[de],Z=ne[Ee];T.escapeMode&&(Z=F(Z)),le+=" "+Ee.substr(T.attributePrefix.length)+"=",le+=T.useDoubleQuotes?'"'+Z+'"':"'"+Z+"'"}return le+(q?"/>":">")}function C(ne,U){return"</"+(null!=ne.__prefix?ne.__prefix+":":"")+U+">"}function R(ne,U){return!!("property"==T.arrayAccessForm&&function I(ne,U){return-1!==ne.indexOf(U,ne.length-U.length)}(U.toString(),"_asArray")||0==U.toString().indexOf(T.attributePrefix)||0==U.toString().indexOf("__")||ne[U]instanceof Function)}function A(ne){var U=0;if(ne instanceof Object)for(var ie in ne)R(ne,ie)||U++;return U}function p(ne,U,ie){return 0==T.jsonPropertiesFilter.length||""==ie||x(T.jsonPropertiesFilter,ne,U,ie)}function w(ne){var U=[];if(ne instanceof Object)for(var ie in ne)-1==ie.toString().indexOf("__")&&0==ie.toString().indexOf(T.attributePrefix)&&U.push(ie);return U}function $(ne){var U="";return ne instanceof Object?U+=function W(ne){var U="";return null!=ne.__cdata&&(U+="<![CDATA["+ne.__cdata+"]]>"),null!=ne.__text&&(U+=T.escapeMode?F(ne.__text):ne.__text),U}(ne):null!=ne&&(U+=T.escapeMode?F(ne):ne),U}function Q(ne,U){return""===ne?U:ne+"."+U}function ue(ne,U,ie,q){var le="";if(0==ne.length)le+=L(ne,U,ie,!0);else for(var de=0;de<ne.length;de++)le+=L(ne[de],U,w(ne[de]),!1),le+=ce(ne[de],Q(q,U)),le+=C(ne[de],U);return le}function ce(ne,U){var ie="";if(A(ne)>0)for(var le in ne)if(!R(ne,le)&&(""==U||p(ne,le,Q(U,le)))){var de=ne[le],Ee=w(de);null==de||null==de?ie+=L(de,le,Ee,!0):de instanceof Object?de instanceof Array?ie+=ue(de,le,Ee,U):de instanceof Date?(ie+=L(de,le,Ee,!1),ie+=de.toISOString(),ie+=C(de,le)):A(de)>0||null!=de.__text||null!=de.__cdata?(ie+=L(de,le,Ee,!1),ie+=ce(de,Q(U,le)),ie+=C(de,le)):ie+=L(de,le,Ee,!0):(ie+=L(de,le,Ee,!1),ie+=$(de),ie+=C(de,le))}return ie+$(ne)}this.parseXmlString=function(ne){var ie;if(window.ActiveXObject||window,void 0===ne)return null;if(window.DOMParser){var q=new window.DOMParser;try{(ie=q.parseFromString(ne,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ie=null)}catch{ie=null}}else 0==ne.indexOf("<?")&&(ne=ne.substr(ne.indexOf("?>")+2)),(ie=new ActiveXObject("Microsoft.XMLDOM")).async="false",ie.loadXML(ne);return ie},this.asArray=function(ne){return void 0===ne||null==ne?[]:ne instanceof Array?ne:[ne]},this.toXmlDateTime=function(ne){return ne instanceof Date?ne.toISOString():"number"==typeof ne?new Date(ne).toISOString():null},this.asDateTime=function(ne){return"string"==typeof ne?m(ne):ne},this.xml2json=function(ne){return d(ne)},this.xml_str2json=function(ne){var U=this.parseXmlString(ne);return null!=U?this.xml2json(U):null},this.json2xml_str=function(ne){return ce(ne,"")},this.json2xml=function(ne){var U=this.json2xml_str(ne);return this.parseXmlString(U)},this.getVersion=function(){return"1.2.0"}}},"./index.js":function(we,k,c){"use strict";c.r(k);var B=c("./index_mediaplayerOnly.js");c.d(k,"MediaPlayer",function(){return B.MediaPlayer});var T=c("./src/streaming/utils/Capabilities.js");c.d(k,"supportsMediaSource",function(){return T.supportsMediaSource});var M=c("./src/streaming/metrics/MetricsReporting.js");c.d(k,"MetricsReporting",function(){return M.default});var S=c("./src/streaming/protection/Protection.js");c.d(k,"Protection",function(){return S.default});var b=c("./src/streaming/MediaPlayerFactory.js");c.d(k,"MediaPlayerFactory",function(){return b.default});var h=c("./src/core/Debug.js");c.d(k,"Debug",function(){return h.default}),dashjs.Protection=S.default,dashjs.MetricsReporting=M.default,dashjs.MediaPlayerFactory=b.default,dashjs.Debug=h.default,dashjs.supportsMediaSource=T.supportsMediaSource,k.default=dashjs},"./index_mediaplayerOnly.js":function(we,k,c){"use strict";c.r(k),function(B){var T=c("./src/streaming/MediaPlayer.js");c.d(k,"MediaPlayer",function(){return T.default});var M=c("./src/core/FactoryMaker.js");c.d(k,"FactoryMaker",function(){return M.default});var S=c("./src/core/Debug.js");c.d(k,"Debug",function(){return S.default});var b=c("./src/core/Version.js"),E=(c("./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||B),F=E.dashjs;F||(F=E.dashjs={}),F.MediaPlayer=T.default,F.FactoryMaker=M.default,F.Debug=S.default,F.Version=Object(b.getVersionString)(),k.default=F}.call(this,c("./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":function(we,k,c){"use strict";k.byteLength=function E(f){var v=y(f),L=v[1];return 3*(v[0]+L)/4-L},k.toByteArray=function P(f){for(var v,d=y(f),L=d[0],C=d[1],I=new M(function F(f,v,d){return 3*(v+d)/4-d}(0,L,C)),R=0,A=C>0?L-4:L,p=0;p<A;p+=4)v=T[f.charCodeAt(p)]<<18|T[f.charCodeAt(p+1)]<<12|T[f.charCodeAt(p+2)]<<6|T[f.charCodeAt(p+3)],I[R++]=v>>16&255,I[R++]=v>>8&255,I[R++]=255&v;return 2===C&&(v=T[f.charCodeAt(p)]<<2|T[f.charCodeAt(p+1)]>>4,I[R++]=255&v),1===C&&(v=T[f.charCodeAt(p)]<<10|T[f.charCodeAt(p+1)]<<4|T[f.charCodeAt(p+2)]>>2,I[R++]=v>>8&255,I[R++]=255&v),I},k.fromByteArray=function m(f){for(var v,d=f.length,L=d%3,C=[],I=16383,R=0,A=d-L;R<A;R+=I)C.push(_(f,R,R+I>A?A:R+I));return 1===L?C.push(B[(v=f[d-1])>>2]+B[v<<4&63]+"=="):2===L&&C.push(B[(v=(f[d-2]<<8)+f[d-1])>>10]+B[v>>4&63]+B[v<<2&63]+"="),C.join("")};for(var B=[],T=[],M=typeof Uint8Array<"u"?Uint8Array:Array,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,h=S.length;b<h;++b)B[b]=S[b],T[S.charCodeAt(b)]=b;function y(f){var v=f.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=f.indexOf("=");return-1===d&&(d=v),[d,d===v?0:4-d%4]}function x(f){return B[f>>18&63]+B[f>>12&63]+B[f>>6&63]+B[63&f]}function _(f,v,d){for(var C=[],I=v;I<d;I+=3)C.push(x((f[I]<<16&16711680)+(f[I+1]<<8&65280)+(255&f[I+2])));return C.join("")}T["-".charCodeAt(0)]=62,T["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":function(we,k,c){"use strict";function S(h,y){return function E(F,P){for(var v,d,L,x=b(F,"tag"),_=b(P??"*","range"),m=[],f=-1;++f<_.length;)if(v=_[f].toLowerCase(),y||"*"!==v){for(d=-1,L=[];++d<x.length;)if(h(x[d].toLowerCase(),v)){if(!y)return x[d];m.push(x[d])}else L.push(x[d]);x=L}return y?m:void 0}}function b(h,y){var E=h&&"string"==typeof h?[h]:h;if(!E||"object"!=typeof E||!("length"in E))throw new Error("Invalid "+y+" `"+E+"`, expected non-empty string");return E}k.basicFilter=S(function B(h,y){return"*"===y||h===y||h.indexOf(y+"-")>-1},!0),k.extendedFilter=S(function T(h,y){var E=h.split("-"),F=y.split("-"),P=0,x=0;if("*"!==F[x]&&E[P]!==F[x])return!1;for(P++,x++;x<F.length;)if("*"!==F[x]){if(!E[P])return!1;if(E[P]!==F[x]){if(1===E[P].length)return!1;P++}else P++,x++}else x++;return!0},!0),k.lookup=S(function M(h,y){for(var F,E=y;;){if("*"===E||h===E)return!0;if((F=E.lastIndexOf("-"))<0)return!1;"-"===E.charAt(F-2)&&(F-=2),E=E.slice(0,F)}})},"./node_modules/bcp-47-normalize/index.js":function(we,k,c){"use strict";we.exports=c("./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":function(we){we.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":function(we){we.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":function(we,k,c){"use strict";var B=c("./node_modules/bcp-47/index.js"),T=c("./node_modules/bcp-47-match/index.js"),M=c("./node_modules/bcp-47-normalize/lib/matches.json"),S=c("./node_modules/bcp-47-normalize/lib/fields.json"),b=c("./node_modules/bcp-47-normalize/lib/defaults.json"),h=c("./node_modules/bcp-47-normalize/lib/many.json");we.exports=function P(v,d){var A,L=d||{},C=B.parse(String(v||"").toLowerCase(),L),I=B.stringify(C),R=-1;if(!I)return I;for(;++R<M.length;)T.extendedFilter(I,M[R].from).length&&(x(C,M[R].from,M[R].to),I=B.stringify(C));for(R=-1;++R<S.length;)_(C,S[R].from.field,S[R].from.value)&&m(C,S[R].to.field,S[R].to.value);for(I=B.stringify(Object.assign({},C,F)),R=-1;++R<b.length;)I===b[R]&&(x(C,b[R],b[R].split("-").slice(0,-1).join("-")),I=B.stringify(Object.assign({},C,F)));if(C.extensions.sort(f),L.warning)for(A in h)y.call(h[A],C[A])&&L.warning("Deprecated "+A+" `"+C[A]+"`, expected one of `"+h[A][C[A]].join("`, `")+"`",null,7);return C.script&&(C.script=C.script.charAt(0).toUpperCase()+C.script.slice(1)),C.region&&(C.region=C.region.toUpperCase()),B.stringify(C)};var y={}.hasOwnProperty,E=new Intl.Collator,F={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function x(v,d,L){var A,C=B.parse(d),I=B.parse(L),R=[];for(A in C)C[A]&&C[A].length&&_(v,A,C[A])&&R.push(A);for(A in I)I[A]&&I[A].length&&(R.indexOf(A)>-1||!v[A]||!v[A].length)&&m(v,A,I[A])}function _(v,d,L){var I,R,A,p,C=!1;if(L){if(R=I=v[d],I&&"object"==typeof I)for(R=[],A=-1;++A<I.length;)L.indexOf(p=I[A])<0?R.push(p):C=!0;else I===L&&(R=null,C=!0);v[d]=R}return C}function m(v,d,L){var I,R,A,C=v[d];if(C&&"object"==typeof C)for(I=[].concat(L),R=-1;++R<I.length;)C.indexOf(A=I[R])<0&&C.push(A);else v[d]=L}function f(v,d){return E.compare(v.singleton,d.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":function(we){we.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":function(we){we.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":function(we,k,c){"use strict";k.parse=c("./node_modules/bcp-47/lib/parse.js"),k.stringify=c("./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":function(we){we.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":function(we,k,c){"use strict";var B=c("./node_modules/is-alphanumerical/index.js"),T=c("./node_modules/is-alphabetical/index.js"),M=c("./node_modules/is-decimal/index.js"),S=c("./node_modules/bcp-47/lib/regular.json"),b=c("./node_modules/bcp-47/lib/normalize.json");we.exports=function y(F,P){var d,L,C,x=P||{},_={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},m=String(F),f=m.toLowerCase(),v=0;if(null==F)throw new Error("Expected string, got `"+F+"`");if(h.call(b,f))return(null==x.normalize||x.normalize)&&b[f]?y(b[f]):(_[-1===S.indexOf(f)?"irregular":"regular"]=m,_);for(;T(f.charCodeAt(v))&&v<9;)v++;if(v>1&&v<9){if(_.language=m.slice(0,v),v<4)for(L=0;45===f.charCodeAt(v)&&T(f.charCodeAt(v+1))&&T(f.charCodeAt(v+2))&&T(f.charCodeAt(v+3))&&!T(f.charCodeAt(v+4));){if(L>2)return I(v,3,"Too many extended language subtags, expected at most 3 subtags");_.extendedLanguageSubtags.push(m.slice(v+1,v+4)),v+=4,L++}for(45===f.charCodeAt(v)&&T(f.charCodeAt(v+1))&&T(f.charCodeAt(v+2))&&T(f.charCodeAt(v+3))&&T(f.charCodeAt(v+4))&&!T(f.charCodeAt(v+5))&&(_.script=m.slice(v+1,v+5),v+=5),45===f.charCodeAt(v)&&(T(f.charCodeAt(v+1))&&T(f.charCodeAt(v+2))&&!T(f.charCodeAt(v+3))?(_.region=m.slice(v+1,v+3),v+=3):M(f.charCodeAt(v+1))&&M(f.charCodeAt(v+2))&&M(f.charCodeAt(v+3))&&!M(f.charCodeAt(v+4))&&(_.region=m.slice(v+1,v+4),v+=4));45===f.charCodeAt(v);){for(C=d=v+1;B(f.charCodeAt(C));){if(C-d>7)return I(C,1,"Too long variant, expected at most 8 characters");C++}if(!(C-d>4||C-d>3&&M(f.charCodeAt(d))))break;_.variants.push(m.slice(d,C)),v=C}for(;45===f.charCodeAt(v)&&120!==f.charCodeAt(v+1)&&B(f.charCodeAt(v+1))&&45===f.charCodeAt(v+2)&&B(f.charCodeAt(v+3));){for(C=v+2,L=0;45===f.charCodeAt(C)&&B(f.charCodeAt(C+1))&&B(f.charCodeAt(C+2));)for(C=(d=C+1)+2,L++;B(f.charCodeAt(C));){if(C-d>7)return I(C,2,"Too long extension, expected at most 8 characters");C++}if(!L)return I(C,4,"Empty extension, extensions must have at least 2 characters of content");_.extensions.push({singleton:m.charAt(v+1),extensions:m.slice(v+3,C).split("-")}),v=C}}else v=0;if(0===v&&120===f.charCodeAt(v)||45===f.charCodeAt(v)&&120===f.charCodeAt(v+1))for(C=v=v?v+2:1;45===f.charCodeAt(C)&&B(f.charCodeAt(C+1));){for(C=d=v+1;B(f.charCodeAt(C));){if(C-d>7)return I(C,5,"Too long private-use area, expected at most 8 characters");C++}_.privateuse.push(m.slice(v+1,C)),v=C}return v!==m.length?I(v,6,"Found superfluous content after tag"):_;function I(R,A,p){return x.warning&&x.warning(p,A,R),x.forgiving?_:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var h={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":function(we){we.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":function(we,k,c){"use strict";we.exports=function B(T){var b,h,y,M=T||{},S=[];if(M.irregular||M.regular)return M.irregular||M.regular;if(M.language)for(S=S.concat(M.language,M.extendedLanguageSubtags||[],M.script||[],M.region||[],M.variants||[]),b=M.extensions||[],h=-1;++h<b.length;)(y=b[h]).singleton&&y.extensions&&y.extensions.length&&(S=S.concat(y.singleton,y.extensions));return M.privateuse&&M.privateuse.length&&(S=S.concat("x",M.privateuse)),S.join("-")}},"./node_modules/codem-isoboxer/dist/iso_boxer.js":function(we,k,c){var B={parseBuffer:function(S){return new T(S).parse()},addBoxProcessor:function(S,b){"string"!=typeof S||"function"!=typeof b||(M.prototype._boxProcessors[S]=b)},createFile:function(){return new T},createBox:function(S,b,h){var y=M.create(S);return b&&b.append(y,h),y},createFullBox:function(S,b,h){var y=B.createBox(S,b,h);return y.version=0,y.flags=0,y},Utils:{}};B.Utils.dataViewToString=function(S,b){var h=b||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(h).decode(S);var y=[],E=0;if("utf-8"===h)for(;E<S.byteLength;){var F=S.getUint8(E++);F<128||(F<224?(F=(31&F)<<6,F|=63&S.getUint8(E++)):F<240?(F=(15&F)<<12,F|=(63&S.getUint8(E++))<<6,F|=63&S.getUint8(E++)):(F=(7&F)<<18,F|=(63&S.getUint8(E++))<<12,F|=(63&S.getUint8(E++))<<6,F|=63&S.getUint8(E++))),y.push(String.fromCharCode(F))}else for(;E<S.byteLength;)y.push(String.fromCharCode(S.getUint8(E++)));return y.join("")},B.Utils.utf8ToByteArray=function(S){var b,h;if(typeof TextEncoder<"u")b=(new TextEncoder).encode(S);else for(b=[],h=0;h<S.length;++h){var y=S.charCodeAt(h);y<128?b.push(y):y<2048?(b.push(192|y>>6),b.push(128|63&y)):y<65536?(b.push(224|y>>12),b.push(128|63&y>>6),b.push(128|63&y)):(b.push(240|y>>18),b.push(128|63&y>>12),b.push(128|63&y>>6),b.push(128|63&y))}return b},B.Utils.appendBox=function(S,b,h){if(b._offset=S._cursor.offset,b._root=S._root?S._root:S,b._raw=S._raw,b._parent=S,-1!==h){if(null==h)return void S.boxes.push(b);var E,y=-1;if("number"==typeof h)y=h;else{if("string"==typeof h)E=h;else{if("object"!=typeof h||!h.type)return void S.boxes.push(b);E=h.type}for(var F=0;F<S.boxes.length;F++)if(E===S.boxes[F].type){y=F+1;break}}S.boxes.splice(y,0,b)}},k.parseBuffer=B.parseBuffer,k.addBoxProcessor=B.addBoxProcessor,k.createFile=B.createFile,k.createBox=B.createBox,k.createFullBox=B.createFullBox,k.Utils=B.Utils,B.Cursor=function(S){this.offset=typeof S>"u"?0:S};var T=function(S){this._cursor=new B.Cursor,this.boxes=[],S&&(this._raw=new DataView(S))};T.prototype.fetch=function(S){var b=this.fetchAll(S,!0);return b.length?b[0]:null},T.prototype.fetchAll=function(S,b){var h=[];return T._sweep.call(this,S,h,b),h},T.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var S=M.parse(this);if(typeof S.type>"u")break;this.boxes.push(S)}return this},T._sweep=function(S,b,h){for(var y in this.type&&this.type==S&&b.push(this),this.boxes){if(b.length&&h)return;T._sweep.call(this.boxes[y],S,b,h)}},T.prototype.write=function(){var b,S=0;for(b=0;b<this.boxes.length;b++)S+=this.boxes[b].getLength(!1);var h=new Uint8Array(S);for(this._rawo=new DataView(h.buffer),this.bytes=h,this._cursor.offset=0,b=0;b<this.boxes.length;b++)this.boxes[b].write();return h.buffer},T.prototype.append=function(S,b){B.Utils.appendBox(this,S,b)};var M=function(){this._cursor=new B.Cursor};M.parse=function(S){var b=new M;return b._offset=S._cursor.offset,b._root=S._root?S._root:S,b._raw=S._raw,b._parent=S,b._parseBox(),S._cursor.offset=b._raw.byteOffset+b._raw.byteLength,b},M.create=function(S){var b=new M;return b.type=S,b.boxes=[],b},M.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],M.prototype._boxProcessors={},M.prototype._procField=function(S,b,h){this._parsing?this[S]=this._readField(b,h):this._writeField(b,h,this[S])},M.prototype._procFieldArray=function(S,b,h,y){var E;if(this._parsing)for(this[S]=[],E=0;E<b;E++)this[S][E]=this._readField(h,y);else for(E=0;E<this[S].length;E++)this._writeField(h,y,this[S][E])},M.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},M.prototype._procEntries=function(S,b,h){var y;if(this._parsing)for(this[S]=[],y=0;y<b;y++)this[S].push({}),h.call(this,this[S][y]);else for(y=0;y<b;y++)h.call(this,this[S][y])},M.prototype._procSubEntries=function(S,b,h,y){var E;if(this._parsing)for(S[b]=[],E=0;E<h;E++)S[b].push({}),y.call(this,S[b][E]);else for(E=0;E<h;E++)y.call(this,S[b][E])},M.prototype._procEntryField=function(S,b,h,y){this._parsing?S[b]=this._readField(h,y):this._writeField(h,y,S[b])},M.prototype._procSubBoxes=function(S,b){var h;if(this._parsing)for(this[S]=[],h=0;h<b;h++)this[S].push(M.parse(this));else for(h=0;h<b;h++)this._rawo?this[S][h].write():this.size+=this[S][h].getLength()},M.prototype._readField=function(S,b){switch(S){case"uint":return this._readUint(b);case"int":return this._readInt(b);case"template":return this._readTemplate(b);case"string":return-1===b?this._readTerminatedString():this._readString(b);case"data":return this._readData(b);case"utf8":return this._readUTF8String();default:return-1}},M.prototype._readInt=function(S){var b=null,h=this._cursor.offset-this._raw.byteOffset;switch(S){case 8:b=this._raw.getInt8(h);break;case 16:b=this._raw.getInt16(h);break;case 32:b=this._raw.getInt32(h);break;case 64:var y=this._raw.getInt32(h),E=this._raw.getInt32(h+4);b=y*Math.pow(2,32)+E}return this._cursor.offset+=S>>3,b},M.prototype._readUint=function(S){var y,E,b=null,h=this._cursor.offset-this._raw.byteOffset;switch(S){case 8:b=this._raw.getUint8(h);break;case 16:b=this._raw.getUint16(h);break;case 24:b=((y=this._raw.getUint16(h))<<8)+(E=this._raw.getUint8(h+2));break;case 32:b=this._raw.getUint32(h);break;case 64:y=this._raw.getUint32(h),E=this._raw.getUint32(h+4),b=y*Math.pow(2,32)+E}return this._cursor.offset+=S>>3,b},M.prototype._readString=function(S){for(var b="",h=0;h<S;h++){var y=this._readUint(8);b+=String.fromCharCode(y)}return b},M.prototype._readTemplate=function(S){return this._readUint(S/2)+this._readUint(S/2)/Math.pow(2,S/2)},M.prototype._readTerminatedString=function(){for(var S="";this._cursor.offset-this._offset<this._raw.byteLength;){var b=this._readUint(8);if(0===b)break;S+=String.fromCharCode(b)}return S},M.prototype._readData=function(S){var b=S>0?S:this._raw.byteLength-(this._cursor.offset-this._offset);if(b>0){var h=new Uint8Array(this._raw.buffer,this._cursor.offset,b);return this._cursor.offset+=b,h}return null},M.prototype._readUTF8String=function(){var S=this._raw.byteLength-(this._cursor.offset-this._offset),b=null;return S>0&&(b=new DataView(this._raw.buffer,this._cursor.offset,S),this._cursor.offset+=S),b&&B.Utils.dataViewToString(b)},M.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},M.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},M.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(M.parse(this))},M.prototype.append=function(S,b){B.Utils.appendBox(this,S,b)},M.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var S=0;S<this.boxes.length;S++)this.size+=this.boxes[S].getLength();return this._data&&this._writeData(this._data),this.size},M.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var S=0;S<this.boxes.length;S++)this.boxes[S].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},M.prototype._writeInt=function(S,b){if(this._rawo){var h=this._cursor.offset-this._rawo.byteOffset;switch(S){case 8:this._rawo.setInt8(h,b);break;case 16:this._rawo.setInt16(h,b);break;case 32:this._rawo.setInt32(h,b);break;case 64:var y=Math.floor(b/Math.pow(2,32)),E=b-y*Math.pow(2,32);this._rawo.setUint32(h,y),this._rawo.setUint32(h+4,E)}this._cursor.offset+=S>>3}else this.size+=S>>3},M.prototype._writeUint=function(S,b){if(this._rawo){var y,E,h=this._cursor.offset-this._rawo.byteOffset;switch(S){case 8:this._rawo.setUint8(h,b);break;case 16:this._rawo.setUint16(h,b);break;case 24:E=255&b,this._rawo.setUint16(h,y=(16776960&b)>>8),this._rawo.setUint8(h+2,E);break;case 32:this._rawo.setUint32(h,b);break;case 64:E=b-(y=Math.floor(b/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(h,y),this._rawo.setUint32(h+4,E)}this._cursor.offset+=S>>3}else this.size+=S>>3},M.prototype._writeString=function(S,b){for(var h=0;h<S;h++)this._writeUint(8,b.charCodeAt(h))},M.prototype._writeTerminatedString=function(S){if(0!==S.length){for(var b=0;b<S.length;b++)this._writeUint(8,S.charCodeAt(b));this._writeUint(8,0)}},M.prototype._writeTemplate=function(S,b){var h=Math.floor(b),y=(b-h)*Math.pow(2,S/2);this._writeUint(S/2,h),this._writeUint(S/2,y)},M.prototype._writeData=function(S){if(S)if(this._rawo){if(S instanceof Array){for(var h=this._cursor.offset-this._rawo.byteOffset,b=0;b<S.length;b++)this._rawo.setInt8(h+b,S[b]);this._cursor.offset+=S.length}S instanceof Uint8Array&&(this._root.bytes.set(S,this._cursor.offset),this._cursor.offset+=S.length)}else this.size+=S.length},M.prototype._writeUTF8String=function(S){var b=B.Utils.utf8ToByteArray(S);if(this._rawo)for(var h=new DataView(this._rawo.buffer,this._cursor.offset,b.length),y=0;y<b.length;y++)h.setUint8(y,b[y]);else this.size+=b.length},M.prototype._writeField=function(S,b,h){switch(S){case"uint":this._writeUint(b,h);break;case"int":this._writeInt(b,h);break;case"template":this._writeTemplate(b,h);break;case"string":-1==b?this._writeTerminatedString(h):this._writeString(b,h);break;case"data":this._writeData(h);break;case"utf8":this._writeUTF8String(h)}},M.prototype._boxProcessors.avc1=M.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},M.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},M.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(S){this._procEntryField(S,"segment_duration","uint",1===this.version?64:32),this._procEntryField(S,"media_time","int",1===this.version?64:32),this._procEntryField(S,"media_rate_integer","int",16),this._procEntryField(S,"media_rate_fraction","int",16)})},M.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},M.prototype._boxProcessors.free=M.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},M.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},M.prototype._boxProcessors.ftyp=M.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var S=-1;this._parsing&&(S=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",S,"string",4)},M.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},M.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},M.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},M.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},M.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},M.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},M.prototype._boxProcessors.mp4a=M.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},M.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},M.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},M.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},M.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},M.prototype._boxProcessors.sdtp=function(){this._procFullBox();var S=-1;this._parsing&&(S=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",S,"uint",8)},M.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(S){this._parsing||(S.reference=(1&S.reference_type)<<31,S.reference|=2147483647&S.referenced_size,S.sap=(1&S.starts_with_SAP)<<31,S.sap|=(3&S.SAP_type)<<28,S.sap|=268435455&S.SAP_delta_time),this._procEntryField(S,"reference","uint",32),this._procEntryField(S,"subsegment_duration","uint",32),this._procEntryField(S,"sap","uint",32),this._parsing&&(S.reference_type=S.reference>>31&1,S.referenced_size=2147483647&S.reference,S.starts_with_SAP=S.sap>>31&1,S.SAP_type=S.sap>>28&7,S.SAP_delta_time=268435455&S.sap)})},M.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},M.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(S){this._procEntryField(S,"ranges_count","uint",32),this._procSubEntries(S,"ranges",S.ranges_count,function(b){this._procEntryField(b,"level","uint",8),this._procEntryField(b,"range_size","uint",24)})})},M.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},M.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(S){this._procEntryField(S,"sample_delta","uint",32),this._procEntryField(S,"subsample_count","uint",16),this._procSubEntries(S,"subsamples",S.subsample_count,function(b){this._procEntryField(b,"subsample_size","uint",1===this.version?32:16),this._procEntryField(b,"subsample_priority","uint",8),this._procEntryField(b,"discardable","uint",8),this._procEntryField(b,"codec_specific_parameters","uint",32)})})},M.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},M.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},M.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},M.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(S){this._procEntryField(S,"time","uint",1===this.version?64:32),this._procEntryField(S,"moof_offset","uint",1===this.version?64:32),this._procEntryField(S,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(S,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(S,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},M.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},M.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},M.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(S){256&this.flags&&this._procEntryField(S,"sample_duration","uint",32),512&this.flags&&this._procEntryField(S,"sample_size","uint",32),1024&this.flags&&this._procEntryField(S,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(S,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},M.prototype._boxProcessors["url "]=M.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},M.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},M.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},M.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},M.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":function(we,k,c){(function(B){function d(L){return Object.prototype.toString.call(L)}k.isArray=function T(L){return Array.isArray?Array.isArray(L):"[object Array]"===d(L)},k.isBoolean=function M(L){return"boolean"==typeof L},k.isNull=function S(L){return null===L},k.isNullOrUndefined=function b(L){return null==L},k.isNumber=function h(L){return"number"==typeof L},k.isString=function y(L){return"string"==typeof L},k.isSymbol=function E(L){return"symbol"==typeof L},k.isUndefined=function F(L){return void 0===L},k.isRegExp=function P(L){return"[object RegExp]"===d(L)},k.isObject=function x(L){return"object"==typeof L&&null!==L},k.isDate=function _(L){return"[object Date]"===d(L)},k.isError=function m(L){return"[object Error]"===d(L)||L instanceof Error},k.isFunction=function f(L){return"function"==typeof L},k.isPrimitive=function v(L){return null===L||"boolean"==typeof L||"number"==typeof L||"string"==typeof L||"symbol"==typeof L||typeof L>"u"},k.isBuffer=B.isBuffer}).call(this,c("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/es6-promise/auto.js":function(we,k,c){"use strict";we.exports=c("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":function(we,k,c){(function(B,T){var S;S=function(){"use strict";function S(J){return"function"==typeof J}var h=Array.isArray?Array.isArray:function(J){return"[object Array]"===Object.prototype.toString.call(J)},y=0,E=void 0,F=void 0,P=function(he,Ae){w[y]=he,w[y+1]=Ae,2===(y+=2)&&(F?F(W):Q())};var m=typeof window<"u"?window:void 0,f=m||{},v=f.MutationObserver||f.WebKitMutationObserver,d=typeof self>"u"&&typeof B<"u"&&"[object process]"==={}.toString.call(B),L=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function p(){var J=setTimeout;return function(){return J(W,1)}}var w=new Array(1e3);function W(){for(var J=0;J<y;J+=2)(0,w[J])(w[J+1]),w[J]=void 0,w[J+1]=void 0;y=0}var Q=void 0;function ue(J,he){var Ae=this,be=new this.constructor(U);void 0===be[ne]&&H(be);var Ie=Ae._state;if(Ie){var xe=arguments[Ie-1];P(function(){return ee(Ie,be,xe,Ae._result)})}else ye(Ae,be,J,he);return be}function ce(J){if(J&&"object"==typeof J&&J.constructor===this)return J;var Ae=new this(U);return ge(Ae,J),Ae}Q=d?function C(){return function(){return B.nextTick(W)}}():v?function R(){var J=0,he=new v(W),Ae=document.createTextNode("");return he.observe(Ae,{characterData:!0}),function(){Ae.data=J=++J%2}}():L?function A(){var J=new MessageChannel;return J.port1.onmessage=W,function(){return J.port2.postMessage(0)}}():void 0===m?function $(){try{var J=Function("return this")().require("vertx");return E=J.runOnLoop||J.runOnContext,function I(){return typeof E<"u"?function(){E(W)}:p()}()}catch{return p()}}():p();var ne=Math.random().toString(36).substring(2);function U(){}var ie=void 0;function _e(J,he,Ae){he.constructor===J.constructor&&Ae===ue&&he.constructor.resolve===ce?function re(J,he){1===he._state?ve(J,he._result):2===he._state?X(J,he._result):ye(he,void 0,function(Ae){return ge(J,Ae)},function(Ae){return X(J,Ae)})}(J,he):void 0===Ae?ve(J,he):S(Ae)?function pe(J,he,Ae){P(function(be){var Ie=!1,xe=function Z(J,he,Ae,be){try{J.call(he,Ae,be)}catch(Ie){return Ie}}(Ae,he,function(De){Ie||(Ie=!0,he!==De?ge(be,De):ve(be,De))},function(De){Ie||(Ie=!0,X(be,De))});!Ie&&xe&&(Ie=!0,X(be,xe))},J)}(J,he,Ae):ve(J,he)}function ge(J,he){if(J===he)X(J,function de(){return new TypeError("You cannot resolve a promise with itself")}());else if(function M(J){var he=typeof J;return null!==J&&("object"===he||"function"===he)}(he)){var Ae=void 0;try{Ae=he.then}catch(be){return void X(J,be)}_e(J,he,Ae)}else ve(J,he)}function fe(J){J._onerror&&J._onerror(J._result),se(J)}function ve(J,he){J._state===ie&&(J._result=he,J._state=1,0!==J._subscribers.length&&P(se,J))}function X(J,he){J._state===ie&&(J._state=2,J._result=he,P(fe,J))}function ye(J,he,Ae,be){var Ie=J._subscribers,xe=Ie.length;J._onerror=null,Ie[xe]=he,Ie[xe+1]=Ae,Ie[xe+2]=be,0===xe&&J._state&&P(se,J)}function se(J){var he=J._subscribers,Ae=J._state;if(0!==he.length){for(var be=void 0,Ie=void 0,xe=J._result,De=0;De<he.length;De+=3)Ie=he[De+Ae],(be=he[De])?ee(Ae,be,Ie,xe):Ie(xe);J._subscribers.length=0}}function ee(J,he,Ae,be){var Ie=S(Ae),xe=void 0,De=void 0,Fe=!0;if(Ie){try{xe=Ae(be)}catch(Ce){Fe=!1,De=Ce}if(he===xe)return void X(he,function Ee(){return new TypeError("A promises callback cannot return that same promise.")}())}else xe=be;he._state!==ie||(Ie&&Fe?ge(he,xe):!1===Fe?X(he,De):1===J?ve(he,xe):2===J&&X(he,xe))}var D=0;function H(J){J[ne]=D++,J._state=void 0,J._result=void 0,J._subscribers=[]}var oe=function(){function J(he,Ae){this._instanceConstructor=he,this.promise=new he(U),this.promise[ne]||H(this.promise),h(Ae)?(this.length=Ae.length,this._remaining=Ae.length,this._result=new Array(this.length),0===this.length?ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ae),0===this._remaining&&ve(this.promise,this._result))):X(this.promise,function j(){return new Error("Array Methods must be provided an Array")}())}return J.prototype._enumerate=function(Ae){for(var be=0;this._state===ie&&be<Ae.length;be++)this._eachEntry(Ae[be],be)},J.prototype._eachEntry=function(Ae,be){var Ie=this._instanceConstructor,xe=Ie.resolve;if(xe===ce){var De=void 0,Fe=void 0,Ce=!1;try{De=Ae.then}catch(tt){Ce=!0,Fe=tt}if(De===ue&&Ae._state!==ie)this._settledAt(Ae._state,be,Ae._result);else if("function"!=typeof De)this._remaining--,this._result[be]=Ae;else if(Ie===K){var Qe=new Ie(U);Ce?X(Qe,Fe):_e(Qe,Ae,De),this._willSettleAt(Qe,be)}else this._willSettleAt(new Ie(function(tt){return tt(Ae)}),be)}else this._willSettleAt(xe(Ae),be)},J.prototype._settledAt=function(Ae,be,Ie){var xe=this.promise;xe._state===ie&&(this._remaining--,2===Ae?X(xe,Ie):this._result[be]=Ie),0===this._remaining&&ve(xe,this._result)},J.prototype._willSettleAt=function(Ae,be){var Ie=this;ye(Ae,void 0,function(xe){return Ie._settledAt(1,be,xe)},function(xe){return Ie._settledAt(2,be,xe)})},J}();var K=function(){function J(he){this[ne]=function O(){return D++}(),this._result=this._state=void 0,this._subscribers=[],U!==he&&("function"!=typeof he&&function G(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof J?function z(J,he){try{he(function(be){ge(J,be)},function(be){X(J,be)})}catch(Ae){X(J,Ae)}}(this,he):function V(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return J.prototype.catch=function(Ae){return this.then(null,Ae)},J.prototype.finally=function(Ae){var Ie=this.constructor;return S(Ae)?this.then(function(xe){return Ie.resolve(Ae()).then(function(){return xe})},function(xe){return Ie.resolve(Ae()).then(function(){throw xe})}):this.then(Ae,Ae)},J}();return K.prototype.then=ue,K.all=function Te(J){return new oe(this,J).promise},K.race=function Re(J){var he=this;return h(J)?new he(function(Ae,be){for(var Ie=J.length,xe=0;xe<Ie;xe++)he.resolve(J[xe]).then(Ae,be)}):new he(function(Ae,be){return be(new TypeError("You must pass an array to race."))})},K.resolve=ce,K.reject=function me(J){var Ae=new this(U);return X(Ae,J),Ae},K._setScheduler=function x(J){F=J},K._setAsap=function _(J){P=J},K._asap=P,K.polyfill=function te(){var J=void 0;if(typeof T<"u")J=T;else if(typeof self<"u")J=self;else try{J=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var he=J.Promise;if(he){var Ae=null;try{Ae=Object.prototype.toString.call(he.resolve())}catch{}if("[object Promise]"===Ae&&!he.cast)return}J.Promise=K},K.Promise=K,K},we.exports=S()}).call(this,c("./node_modules/process/browser.js"),c("./node_modules/webpack/buildin/global.js"))},"./node_modules/fast-deep-equal/index.js":function(we,k,c){"use strict";var B=Array.isArray,T=Object.keys,M=Object.prototype.hasOwnProperty;we.exports=function S(b,h){if(b===h)return!0;if(b&&h&&"object"==typeof b&&"object"==typeof h){var F,P,x,y=B(b),E=B(h);if(y&&E){if((P=b.length)!=h.length)return!1;for(F=P;0!=F--;)if(!S(b[F],h[F]))return!1;return!0}if(y!=E)return!1;var _=b instanceof Date,m=h instanceof Date;if(_!=m)return!1;if(_&&m)return b.getTime()==h.getTime();var f=b instanceof RegExp,v=h instanceof RegExp;if(f!=v)return!1;if(f&&v)return b.toString()==h.toString();var d=T(b);if((P=d.length)!==T(h).length)return!1;for(F=P;0!=F--;)if(!M.call(h,d[F]))return!1;for(F=P;0!=F--;)if(!S(b[x=d[F]],h[x]))return!1;return!0}return b!=b&&h!=h}},"./node_modules/ieee754/index.js":function(we,k){k.read=function(c,B,T,M,S){var b,h,y=8*S-M-1,E=(1<<y)-1,F=E>>1,P=-7,x=T?S-1:0,_=T?-1:1,m=c[B+x];for(x+=_,b=m&(1<<-P)-1,m>>=-P,P+=y;P>0;b=256*b+c[B+x],x+=_,P-=8);for(h=b&(1<<-P)-1,b>>=-P,P+=M;P>0;h=256*h+c[B+x],x+=_,P-=8);if(0===b)b=1-F;else{if(b===E)return h?NaN:1/0*(m?-1:1);h+=Math.pow(2,M),b-=F}return(m?-1:1)*h*Math.pow(2,b-M)},k.write=function(c,B,T,M,S,b){var h,y,E,F=8*b-S-1,P=(1<<F)-1,x=P>>1,_=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,m=M?0:b-1,f=M?1:-1,v=B<0||0===B&&1/B<0?1:0;for(B=Math.abs(B),isNaN(B)||B===1/0?(y=isNaN(B)?1:0,h=P):(h=Math.floor(Math.log(B)/Math.LN2),B*(E=Math.pow(2,-h))<1&&(h--,E*=2),(B+=h+x>=1?_/E:_*Math.pow(2,1-x))*E>=2&&(h++,E/=2),h+x>=P?(y=0,h=P):h+x>=1?(y=(B*E-1)*Math.pow(2,S),h+=x):(y=B*Math.pow(2,x-1)*Math.pow(2,S),h=0));S>=8;c[T+m]=255&y,m+=f,y/=256,S-=8);for(h=h<<S|y,F+=S;F>0;c[T+m]=255&h,m+=f,h/=256,F-=8);c[T+m-f]|=128*v}},"./node_modules/imsc/src/main/js/doc.js":function(we,k,c){!function(B,T,M,S,b){function h(D,O,H,j){var oe=j&&"seq"===j.timeContainer,Te=0;j&&(Te=oe&&H?H.end:j.begin),O.begin=O.explicit_begin?O.explicit_begin+Te:Te;var Re=O.begin,me=null;for(var G in O.sets)h(D,O.sets[G],me,O),Re="seq"===O.timeContainer?O.sets[G].end:Math.max(Re,O.sets[G].end),me=O.sets[G];if("contents"in O)for(var V in O.contents)h(D,O.contents[V],me,O),Re="seq"===O.timeContainer?O.contents[V].end:Math.max(Re,O.contents[V].end),me=O.contents[V];else Re=oe?O.begin:Number.POSITIVE_INFINITY;O.end=null!==O.explicit_end&&null!==O.explicit_dur?Math.min(O.begin+O.explicit_dur,Te+O.explicit_end):null===O.explicit_end&&null!==O.explicit_dur?O.begin+O.explicit_dur:null!==O.explicit_end&&null===O.explicit_dur?Te+O.explicit_end:Re,delete O.explicit_begin,delete O.explicit_dur,delete O.explicit_end,D._registerEvent(O)}function y(D){this.node=D}function E(){this.events=[],this.head=null,this.body=null}function F(){this.styling=null,this.layout=null}function P(){this.styles={}}function x(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function _(){this.regions={}}function m(D){this.kind=D}function f(D){this.id=D}function v(D){this.regionID=D}function d(D){this.styleAttrs=D}function L(D){this.sets=D}function C(D){this.contents=D}function I(D,O,H){this.explicit_begin=D,this.explicit_end=O,this.explicit_dur=H}function R(){m.call(this,"body")}function A(){m.call(this,"div")}function p(){m.call(this,"p")}function w(){m.call(this,"span")}function W(){m.call(this,"span")}function $(){m.call(this,"br")}function Q(){}function ue(){}function ce(D){return D&&"xml:id"in D.attributes&&D.attributes["xml:id"].value||null}function ie(D){return D&&"style"in D.attributes?D.attributes.style.value.split(" "):[]}function q(D,O){var H={};if(null!==D)for(var j in D.attributes){var oe=D.attributes[j].uri+" "+D.attributes[j].local,Te=S.byQName[oe];if(void 0!==Te){var Re=Te.parse(D.attributes[j].value);null!==Re?(H[oe]=Re,Te===S.byName.zIndex&&ye(O,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):se(O,"Cannot parse styling attribute "+oe+" --\x3e "+D.attributes[j].value)}}return H}function le(D,O,H){for(var j in D.attributes)if(D.attributes[j].uri===O&&D.attributes[j].local===H)return D.attributes[j].value;return null}function re(D,O,H){var te,J=null;return null!==(te=/^(\d+(?:\.\d+)?)f$/.exec(H))?null!==O&&(J=parseFloat(te[1])/O):null!==(te=/^(\d+(?:\.\d+)?)t$/.exec(H))?null!==D&&(J=parseFloat(te[1])/D):null!==(te=/^(\d+(?:\.\d+)?)ms$/.exec(H))?J=parseFloat(te[1])/1e3:null!==(te=/^(\d+(?:\.\d+)?)s$/.exec(H))?J=parseFloat(te[1]):null!==(te=/^(\d+(?:\.\d+)?)h$/.exec(H))?J=3600*parseFloat(te[1]):null!==(te=/^(\d+(?:\.\d+)?)m$/.exec(H))?J=60*parseFloat(te[1]):null!==(te=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(H))?J=3600*parseInt(te[1])+60*parseInt(te[2])+parseFloat(te[3]):null!==(te=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(H))&&null!==O&&(J=3600*parseInt(te[1])+60*parseInt(te[2])+parseInt(te[3])+(null===te[4]?0:parseInt(te[4])/O)),J}function ge(D,O,H){for(;O.styleRefs.length>0;){var j=O.styleRefs.pop();j in D.styles?(ge(D,D.styles[j],H),ve(D.styles[j].styleAttrs,O.styleAttrs)):se(H,"Non-existant style id referenced")}}function fe(D,O,H,j){for(var oe=O.length-1;oe>=0;oe--){var Te=O[oe];Te in D.styles?ve(D.styles[Te].styleAttrs,H):se(j,"Non-existant style id referenced")}}function ve(D,O){for(var H in D)H in O||(O[H]=D[H])}function ye(D,O){if(D&&D.warn&&D.warn(O))throw O}function se(D,O){if(D&&D.error&&D.error(O))throw O}function ee(D,O){throw D&&D.fatal&&D.fatal(O),O}function z(D,O){for(var oe,H=0,j=D.length-1;H<=j;){var Te=D[oe=Math.floor((H+j)/2)];if(Te<O)H=oe+1;else{if(!(Te>O))return{found:!0,index:oe};j=oe-1}}return{found:!1,index:H}}B.fromXML=function(D,O,H){var j=T.parser(!0,{xmlns:!0}),oe=[],Te=[],Re=[],me=0,G=null;j.onclosetag=function(he){if(oe[0]instanceof P)for(var Ae in oe[0].styles)ge(oe[0],oe[0].styles[Ae],O);else if(oe[0]instanceof p||oe[0]instanceof w){if(oe[0].contents.length>1){var Ie,be=[oe[0].contents[0]];for(Ie=1;Ie<oe[0].contents.length;Ie++)oe[0].contents[Ie]instanceof W&&be[be.length-1]instanceof W?be[be.length-1].text+=oe[0].contents[Ie].text:be.push(oe[0].contents[Ie]);oe[0].contents=be}oe[0]instanceof w&&1===oe[0].contents.length&&oe[0].contents[0]instanceof W&&(oe[0].text=oe[0].contents[0].text,delete oe[0].contents)}else oe[0]instanceof y&&(oe[0].node.uri===M.ns_tt&&"metadata"===oe[0].node.local?me--:me>0&&H&&"onCloseTag"in H&&H.onCloseTag());Re.shift(),Te.shift(),oe.shift()},j.ontext=function(he){if(void 0!==oe[0])if(oe[0]instanceof w||oe[0]instanceof p){var Ae=new W;Ae.initFromText(G,oe[0],he,Re[0],O),oe[0].contents.push(Ae)}else oe[0]instanceof y&&me>0&&H&&"onText"in H&&H.onText(he)},j.onopentag=function(he){var Ae=he.attributes["xml:space"];Re.unshift(Ae?Ae.value:0===Re.length?"default":Re[0]);var be=he.attributes["xml:lang"];if(Te.unshift(be?be.value:0===Te.length?"":Te[0]),he.uri===M.ns_tt)if("tt"===he.local)null!==G&&ee(O,"Two <tt> elements at ("+this.line+","+this.column+")"),(G=new E).initFromNode(he,O),oe.unshift(G);else if("head"===he.local)oe[0]instanceof E||ee(O,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==G.head&&ee("Second <head> element at ("+this.line+","+this.column+")"),G.head=new F,oe.unshift(G.head);else if("styling"===he.local)oe[0]instanceof F||ee(O,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==G.head.styling&&ee("Second <styling> element at ("+this.line+","+this.column+")"),G.head.styling=new P,oe.unshift(G.head.styling);else if("style"===he.local){var Ie;oe[0]instanceof P?((Ie=new x).initFromNode(he,O),Ie.id?G.head.styling.styles[Ie.id]=Ie:se(O,"<style> element missing @id attribute"),oe.unshift(Ie)):oe[0]instanceof Q?((Ie=new x).initFromNode(he,O),ve(Ie.styleAttrs,oe[0].styleAttrs),oe.unshift(Ie)):ee(O,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("layout"===he.local)oe[0]instanceof F||ee(O,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==G.head.layout&&ee(O,"Second <layout> element at "+this.line+","+this.column+")"),G.head.layout=new _,oe.unshift(G.head.layout);else if("region"===he.local){oe[0]instanceof _||ee(O,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var xe=new Q;xe.initFromNode(G,he,O),!xe.id||xe.id in G.head.layout.regions?se(O,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):G.head.layout.regions[xe.id]=xe,oe.unshift(xe)}else if("body"===he.local){oe[0]instanceof E||ee(O,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==G.body&&ee(O,"Second <body> element at "+this.line+","+this.column+")");var De=new R;De.initFromNode(G,he,O),G.body=De,oe.unshift(De)}else if("div"===he.local){oe[0]instanceof A||oe[0]instanceof R||ee(O,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Fe=new A;Fe.initFromNode(G,oe[0],he,O),oe[0].contents.push(Fe),oe.unshift(Fe)}else if("p"===he.local){oe[0]instanceof A||ee(O,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Ce=new p;Ce.initFromNode(G,oe[0],he,O),oe[0].contents.push(Ce),oe.unshift(Ce)}else if("span"===he.local){oe[0]instanceof w||oe[0]instanceof p||ee(O,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Qe=new w;Qe.initFromNode(G,oe[0],he,Re[0],O),oe[0].contents.push(Qe),oe.unshift(Qe)}else if("br"===he.local){oe[0]instanceof w||oe[0]instanceof p||ee(O,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var tt=new $;tt.initFromNode(G,oe[0],he,O),oe[0].contents.push(tt),oe.unshift(tt)}else if("set"===he.local){oe[0]instanceof w||oe[0]instanceof p||oe[0]instanceof A||oe[0]instanceof R||oe[0]instanceof Q||oe[0]instanceof $||ee(O,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Et=new ue;Et.initFromNode(G,oe[0],he,O),oe[0].sets.push(Et),oe.unshift(Et)}else oe.unshift(new y(he));else oe.unshift(new y(he));if(oe[0]instanceof y)if(he.uri===M.ns_tt&&"metadata"===he.local)me++;else if(me>0&&H&&"onOpenTag"in H){var Lt=[];for(var Bt in he.attributes)Lt[he.attributes[Bt].uri+" "+he.attributes[Bt].local]={uri:he.attributes[Bt].uri,local:he.attributes[Bt].local,value:he.attributes[Bt].value};H.onOpenTag(he.uri,he.local,Lt)}},j.write(D).close(),null!==G.head?delete G.head.styling:G.head=new F,null===G.head.layout&&(G.head.layout=new _);var V=!1;for(var K in G.head.layout.regions){V=!0;break}if(!V){var te=Q.prototype.createDefaultRegion();G.head.layout.regions[te.id]=te}for(var J in G.head.layout.regions)h(G,G.head.layout.regions[J],null,null);return G.body&&h(G,G.body,null,null),G},E.prototype.initFromNode=function(D,O){this.cellResolution=function Ee(D,O){var H=le(D,M.ns_ttp,"cellResolution"),j=15,oe=32;if(null!==H){var Re=/(\d+) (\d+)/.exec(H);null!==Re?(oe=parseInt(Re[1]),j=parseInt(Re[2])):ye(O,"Malformed cellResolution value (using initial value instead)")}return{w:oe,h:j}}(D,O);var H=function Z(D,O){var oe,H=le(D,M.ns_ttp,"frameRate"),j=30;null!==H&&(null!==(oe=/(\d+)/.exec(H))?j=parseInt(oe[1]):ye(O,"Malformed frame rate attribute (using initial value instead)"));var Re=le(D,M.ns_ttp,"frameRateMultiplier"),me=1;null!==Re&&(null!==(oe=/(\d+) (\d+)/.exec(Re))?me=parseInt(oe[1])/parseInt(oe[2]):ye(O,"Malformed frame rate multiplier attribute (using initial value instead)"));var V=me*j,K=1,te=le(D,M.ns_ttp,"tickRate");return null===te?null!==H&&(K=V):null!==(oe=/(\d+)/.exec(te))?K=parseInt(oe[1]):ye(O,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:V,tickRate:K}}(D,O);this.effectiveFrameRate=H.effectiveFrameRate,this.tickRate=H.tickRate,this.aspectRatio=function de(D,O){var H=le(D,M.ns_ittp,"aspectRatio"),j=null;if(null!==H){var Te=/(\d+) (\d+)/.exec(H);if(null!==Te){var Re=parseInt(Te[1]),me=parseInt(Te[2]);0!==Re&&0!==me?j=Re/me:se(O,"Illegal aspectRatio values (ignoring)")}else se(O,"Malformed aspectRatio attribute (ignoring)")}return j}(D,O);var j=le(D,M.ns_ttp,"timeBase");null!==j&&"media"!==j&&ee(O,"Unsupported time base");var oe=function pe(D,O){var H=le(D,M.ns_tts,"extent");if(null===H)return null;var j=H.split(" ");if(2!==j.length)return ye(O,"Malformed extent (ignoring)"),null;var oe=b.parseLength(j[0]),Te=b.parseLength(j[1]);return Te&&oe?{h:Te,w:oe}:(ye(O,"Malformed extent values (ignoring)"),null)}(D,O);null===oe?this.pxDimensions={h:480,w:640}:(("px"!==oe.h.unit||"px"!==oe.w.unit)&&ee(O,"Extent on TT must be in px or absent"),this.pxDimensions={h:oe.h.value,w:oe.w.value})},E.prototype._registerEvent=function(D){if(!(D.end<=D.begin)){var O=z(this.events,D.begin);if(O.found||this.events.splice(O.index,0,D.begin),D.end!==Number.POSITIVE_INFINITY){var H=z(this.events,D.end);H.found||this.events.splice(H.index,0,D.end)}}},E.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},E.prototype.getMediaTimeEvents=function(){return this.events},x.prototype.initFromNode=function(D,O){this.id=ce(D),this.styleAttrs=q(D,O),this.styleRefs=ie(D)},f.prototype.initFromNode=function(D,O,H,j){this.id=ce(H)},v.prototype.initFromNode=function(D,O,H,j){this.regionID=function ne(D){return D&&"region"in D.attributes?D.attributes.region.value:""}(H)},d.prototype.initFromNode=function(D,O,H,j){this.styleAttrs=q(H,j),null!==D.head&&null!==D.head.styling&&fe(D.head.styling,ie(H),this.styleAttrs,j)},L.prototype.initFromNode=function(D,O,H,j){this.sets=[]},C.prototype.initFromNode=function(D,O,H,j){this.contents=[]},I.prototype.initFromNode=function(D,O,H,j){var oe=function _e(D,O,H,j){var oe=null;H&&"begin"in H.attributes&&null===(oe=re(D.tickRate,D.effectiveFrameRate,H.attributes.begin.value))&&ye(j,"Malformed begin value "+H.attributes.begin.value+" (using 0)");var Te=null;H&&"dur"in H.attributes&&null===(Te=re(D.tickRate,D.effectiveFrameRate,H.attributes.dur.value))&&ye(j,"Malformed dur value "+H.attributes.dur.value+" (ignoring)");var Re=null;return H&&"end"in H.attributes&&null===(Re=re(D.tickRate,D.effectiveFrameRate,H.attributes.end.value))&&ye(j,"Malformed end value (ignoring)"),{explicit_begin:oe,explicit_end:Re,explicit_dur:Te}}(D,0,H,j);this.explicit_begin=oe.explicit_begin,this.explicit_end=oe.explicit_end,this.explicit_dur=oe.explicit_dur,this.timeContainer=function U(D,O){var H=D&&"timeContainer"in D.attributes?D.attributes.timeContainer.value:null;return H&&"par"!==H?"seq"===H?"seq":(se(O,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(H,j)},R.prototype.initFromNode=function(D,O,H){d.prototype.initFromNode.call(this,D,null,O,H),I.prototype.initFromNode.call(this,D,null,O,H),L.prototype.initFromNode.call(this,D,null,O,H),v.prototype.initFromNode.call(this,D,null,O,H),C.prototype.initFromNode.call(this,D,null,O,H)},A.prototype.initFromNode=function(D,O,H,j){d.prototype.initFromNode.call(this,D,O,H,j),I.prototype.initFromNode.call(this,D,O,H,j),L.prototype.initFromNode.call(this,D,O,H,j),v.prototype.initFromNode.call(this,D,O,H,j),C.prototype.initFromNode.call(this,D,O,H,j)},p.prototype.initFromNode=function(D,O,H,j){d.prototype.initFromNode.call(this,D,O,H,j),I.prototype.initFromNode.call(this,D,O,H,j),L.prototype.initFromNode.call(this,D,O,H,j),v.prototype.initFromNode.call(this,D,O,H,j),C.prototype.initFromNode.call(this,D,O,H,j)},w.prototype.initFromNode=function(D,O,H,j,oe){d.prototype.initFromNode.call(this,D,O,H,oe),I.prototype.initFromNode.call(this,D,O,H,oe),L.prototype.initFromNode.call(this,D,O,H,oe),v.prototype.initFromNode.call(this,D,O,H,oe),C.prototype.initFromNode.call(this,D,O,H,oe),this.space=j},W.prototype.initFromText=function(D,O,H,j,oe){I.prototype.initFromNode.call(this,D,O,null,oe),this.text=H,this.space=j},$.prototype.initFromNode=function(D,O,H,j){v.prototype.initFromNode.call(this,D,O,H,j),I.prototype.initFromNode.call(this,D,O,H,j)},Q.prototype.createDefaultRegion=function(){var D=new Q;return f.call(D,""),d.call(D,{}),L.call(D,[]),I.call(D,0,Number.POSITIVE_INFINITY,null),D},Q.prototype.initFromNode=function(D,O,H){f.prototype.initFromNode.call(this,D,null,O,H),d.prototype.initFromNode.call(this,D,null,O,H),I.prototype.initFromNode.call(this,D,null,O,H),L.prototype.initFromNode.call(this,D,null,O,H),null!==D.head&&null!==D.head.styling&&fe(D.head.styling,ie(O),this.styleAttrs,H)},ue.prototype.initFromNode=function(D,O,H,j){I.prototype.initFromNode.call(this,D,O,H,j);var oe=q(H,j);for(var Te in this.qname=null,this.value=null,oe){if(this.qname){se(j,"More than one style specified on set");break}this.qname=Te,this.value=oe[Te]}}}(k,typeof sax>"u"?c("./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?c("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c("./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":function(we,k,c){!function(B,T,M){function S(C,I,R){var A;if("region"===R.kind?(A=document.createElement("div")).style.position="absolute":"body"===R.kind||"div"===R.kind?A=document.createElement("div"):"p"===R.kind?A=document.createElement("p"):"span"===R.kind?A=document.createElement("span"):"br"===R.kind&&(A=document.createElement("br")),A){for(var p in A.style.margin="0",f){var w=f[p],W=R.styleAttrs[w.qname];void 0!==W&&null!==w.map&&w.map(C,A,R,W)}var $=A;if("region"===R.kind){var Q=R.styleAttrs[M.byName.writingMode.qname];"lrtb"===Q||"lr"===Q?(C.ipd="lr",C.bpd="tb"):"rltb"===Q||"rl"===Q?(C.ipd="rl",C.bpd="tb"):"tblr"===Q?(C.ipd="tb",C.bpd="lr"):("tbrl"===Q||"tb"===Q)&&(C.ipd="tb",C.bpd="rl")}var ue=R.styleAttrs[M.byName.linePadding.qname];if(ue&&ue>0){var ce=Math.ceil(ue*C.h)+"px";"tb"===C.bpd?($.style.paddingLeft=ce,$.style.paddingRight=ce):($.style.paddingTop=ce,$.style.paddingBottom=ce),C.lp=ue}var ne=R.styleAttrs[M.byName.multiRowAlign.qname];if(ne&&"auto"!==ne){var U=document.createElement("span");U.style.display="inline-block",U.style.textAlign=ne,A.appendChild(U),$=U,C.mra=ne}if(R.styleAttrs[M.byName.fillLineGap.qname]&&(C.flg=!0),"span"===R.kind&&R.text)if(C.lp||C.mra||C.flg)for(var ie="",q=0;q<R.text.length;q++){ie+=R.text.charAt(q);var le=R.text.charCodeAt(q);if(le<55296||le>56319||q===R.text.length){var de=document.createElement("span");de.textContent=ie,A.appendChild(de),ie=""}}else A.textContent=R.text;for(var Ee in I.appendChild(A),R.contents)S(C,$,R.contents[Ee]);var Z=[];if((C.lp||C.mra||C.flg)&&"p"===R.kind&&(x(C,$,Z,null),C.mra&&(function h(C){for(var I=0;I<C.length-1;I++){var R=C[I].elements.length;if(0!==R&&!1===C[I].br){var A=document.createElement("br"),p=C[I].elements[R-1].node;p.parentElement.insertBefore(A,p.nextSibling)}}}(Z),C.mra=null),C.lp&&(function b(C,I,R){for(var A in C){var p=C[A].elements.length,w=C[A].elements[C[A].start_elem],W=C[A].elements[C[A].end_elem],$=Math.ceil(I)+"px",Q="-"+Math.ceil(I)+"px";0!==p&&("lr"===R.ipd?(w.node.style.borderLeftColor=w.bgcolor||"#00000000",w.node.style.borderLeftStyle="solid",w.node.style.borderLeftWidth=$,w.node.style.marginLeft=Q):"rl"===R.ipd?(w.node.style.borderRightColor=w.bgcolor||"#00000000",w.node.style.borderRightStyle="solid",w.node.style.borderRightWidth=$,w.node.style.marginRight=Q):"tb"===R.ipd&&(w.node.style.borderTopColor=w.bgcolor||"#00000000",w.node.style.borderTopStyle="solid",w.node.style.borderTopWidth=$,w.node.style.marginTop=Q),"lr"===R.ipd?(W.node.style.borderRightColor=W.bgcolor||"#00000000",W.node.style.borderRightStyle="solid",W.node.style.borderRightWidth=$,W.node.style.marginRight=Q):"rl"===R.ipd?(W.node.style.borderLeftColor=W.bgcolor||"#00000000",W.node.style.borderLeftStyle="solid",W.node.style.borderLeftWidth=$,W.node.style.marginLeft=Q):"tb"===R.ipd&&(W.node.style.borderBottomColor=W.bgcolor||"#00000000",W.node.style.borderBottomStyle="solid",W.node.style.borderBottomWidth=$,W.node.style.marginBottom=Q))}}(Z,C.lp*C.h,C),C.lp=null),C.flg)){var pe=P($.getBoundingClientRect(),C);(function y(C,I,R,A){for(var p=Math.sign(R-I),w=0;w<=C.length;w++){var W,$,Q;if(W=0===w?I:w===C.length?R:(C[w].before+C[w-1].after)/2,w>0)for(var ue=0;ue<C[w-1].elements.length;ue++)null!==C[w-1].elements[ue].bgcolor&&p*((Q=C[w-1].elements[ue]).after-W)<0&&($=Math.ceil(Math.abs(W-Q.after))+"px",Q.node.style.backgroundColor=Q.bgcolor,"lr"===A.bpd?Q.node.style.paddingRight=$:"rl"===A.bpd?Q.node.style.paddingLeft=$:"tb"===A.bpd&&(Q.node.style.paddingBottom=$));if(w<C.length)for(var ce=0;ce<C[w].elements.length;ce++)null!==(Q=C[w].elements[ce]).bgcolor&&p*(Q.before-W)>0&&($=Math.ceil(Math.abs(Q.before-W))+"px",Q.node.style.backgroundColor=Q.bgcolor,"lr"===A.bpd?Q.node.style.paddingLeft=$:"rl"===A.bpd?Q.node.style.paddingRight=$:"tb"===A.bpd&&(Q.node.style.paddingTop=$))}})(Z,pe.before,pe.after,C),C.flg=null}if("region"===R.kind&&(x(C,$,Z),"tb"===C.bpd&&C.enableRollUp&&R.contents.length>0&&"after"===R.styleAttrs[M.byName.displayAlign.qname])){var _e=new E(""===R.id?"_":R.id,Z);if(C.currentISDState[_e.id]=_e,C.previousISDState&&_e.id in C.previousISDState&&C.previousISDState[_e.id].plist.length>0&&_e.plist.length>1&&_e.plist[_e.plist.length-2].text===C.previousISDState[_e.id].plist[C.previousISDState[_e.id].plist.length-1].text){var ge=A.firstElementChild,fe=_e.plist[_e.plist.length-1].after-_e.plist[_e.plist.length-1].before;ge.style.bottom="-"+fe+"px",ge.style.transition="transform 0.4s",ge.style.position="relative",ge.style.transform="translateY(-"+fe+"px)"}}}else!function L(C,I){if(C&&C.error&&C.error(I))throw I}(C.errorHandler,"Error processing ISD element kind: "+R.kind)}function E(C,I){this.id=C,this.plist=I}function P(C,I){var R={before:null,after:null,start:null,end:null};return"tb"===I.bpd?(R.before=C.top,R.after=C.bottom,"lr"===I.ipd?(R.start=C.left,R.end=C.right):(R.start=C.right,R.end=C.left)):"lr"===I.bpd?(R.before=C.left,R.after=C.right,R.start=C.top,R.end=C.bottom):"rl"===I.bpd&&(R.before=C.right,R.after=C.left,R.start=C.top,R.end=C.bottom),R}function x(C,I,R,A){var p=I.style.backgroundColor||A;if(0===I.childElementCount)if("span"===I.localName){var w=I.getBoundingClientRect();if(0===w.height||0===w.width)return;var W=P(w,C);if(0!==R.length&&function _(C,I,R,A){return I<A&&C>R||A<=I&&R>=C}(W.before,W.after,R[R.length-1].before,R[R.length-1].after)){var $=Math.sign(W.after-W.before),Q=Math.sign(W.end-W.start);$*(W.before-R[R.length-1].before)<0&&(R[R.length-1].before=W.before),$*(W.after-R[R.length-1].after)>0&&(R[R.length-1].after=W.after),Q*(W.start-R[R.length-1].start)<0&&(R[R.length-1].start=W.start,R[R.length-1].start_elem=R[R.length-1].elements.length),Q*(W.end-R[R.length-1].end)>0&&(R[R.length-1].end=W.end,R[R.length-1].end_elem=R[R.length-1].elements.length)}else R.push({before:W.before,after:W.after,start:W.start,end:W.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1});R[R.length-1].text+=I.textContent,R[R.length-1].elements.push({node:I,bgcolor:p,before:W.before,after:W.after})}else"br"===I.localName&&0!==R.length&&(R[R.length-1].br=!0);else for(var ue=I.firstChild;ue;)ue.nodeType===Node.ELEMENT_NODE&&x(C,ue,R,p),ue=ue.nextSibling}function m(C,I){this.qname=C,this.map=I}B.render=function(C,I,R,A,p,w,W,$,Q){var ue=A||I.clientHeight,ce=p||I.clientWidth;if(null!==C.aspectRatio){var ne=ue*C.aspectRatio;ne>ce?ue=Math.round(ce/C.aspectRatio):ce=ne}var U=document.createElement("div");U.style.position="relative",U.style.width=ce+"px",U.style.height=ue+"px",U.style.margin="auto",U.style.top=0,U.style.bottom=0,U.style.left=0,U.style.right=0,U.style.zIndex=0;var ie={h:ue,w:ce,regionH:null,regionW:null,imgResolver:R,displayForcedOnlyMode:w||!1,isd:C,errorHandler:W,previousISDState:$,enableRollUp:Q||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null};for(var q in I.appendChild(U),C.contents)S(ie,U,C.contents[q]);return ie.currentISDState};var f=[new m("http://www.w3.org/ns/ttml#styling backgroundColor",function(C,I,R,A){0!==A[3]&&(I.style.backgroundColor="rgba("+A[0].toString()+","+A[1].toString()+","+A[2].toString()+","+(A[3]/255).toString()+")")}),new m("http://www.w3.org/ns/ttml#styling color",function(C,I,R,A){I.style.color="rgba("+A[0].toString()+","+A[1].toString()+","+A[2].toString()+","+(A[3]/255).toString()+")"}),new m("http://www.w3.org/ns/ttml#styling direction",function(C,I,R,A){I.style.direction=A}),new m("http://www.w3.org/ns/ttml#styling display",function(C,I,R,A){}),new m("http://www.w3.org/ns/ttml#styling displayAlign",function(C,I,R,A){I.style.display="flex",I.style.flexDirection="column","before"===A?I.style.justifyContent="flex-start":"center"===A?I.style.justifyContent="center":"after"===A&&(I.style.justifyContent="flex-end")}),new m("http://www.w3.org/ns/ttml#styling extent",function(C,I,R,A){C.regionH=A.h*C.h,C.regionW=A.w*C.w;var p=0,w=0,W=R.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];W&&(p=(W[0]+W[2])*C.h,w=(W[1]+W[3])*C.w),I.style.height=C.regionH-p+"px",I.style.width=C.regionW-w+"px"}),new m("http://www.w3.org/ns/ttml#styling fontFamily",function(C,I,R,A){var p=[];for(var w in A)"monospaceSerif"===A[w]?(p.push("Courier New"),p.push('"Liberation Mono"'),p.push("Courier"),p.push("monospace")):"proportionalSansSerif"===A[w]?(p.push("Arial"),p.push("Helvetica"),p.push('"Liberation Sans"'),p.push("sans-serif")):"monospace"===A[w]?p.push("monospace"):"sansSerif"===A[w]?p.push("sans-serif"):"serif"===A[w]?p.push("serif"):"monospaceSansSerif"===A[w]?(p.push("Consolas"),p.push("monospace")):p.push("proportionalSerif"===A[w]?"serif":A[w]);I.style.fontFamily=p.join(",")}),new m("http://www.w3.org/ns/ttml#styling fontSize",function(C,I,R,A){I.style.fontSize=A*C.h+"px"}),new m("http://www.w3.org/ns/ttml#styling fontStyle",function(C,I,R,A){I.style.fontStyle=A}),new m("http://www.w3.org/ns/ttml#styling fontWeight",function(C,I,R,A){I.style.fontWeight=A}),new m("http://www.w3.org/ns/ttml#styling lineHeight",function(C,I,R,A){I.style.lineHeight="normal"===A?"normal":A*C.h+"px"}),new m("http://www.w3.org/ns/ttml#styling opacity",function(C,I,R,A){I.style.opacity=A}),new m("http://www.w3.org/ns/ttml#styling origin",function(C,I,R,A){I.style.top=A.h*C.h+"px",I.style.left=A.w*C.w+"px"}),new m("http://www.w3.org/ns/ttml#styling overflow",function(C,I,R,A){I.style.overflow=A}),new m("http://www.w3.org/ns/ttml#styling padding",function(C,I,R,A){var p=[];p[0]=A[0]*C.h+"px",p[1]=A[3]*C.w+"px",p[2]=A[2]*C.h+"px",p[3]=A[1]*C.w+"px",I.style.padding=p.join(" ")}),new m("http://www.w3.org/ns/ttml#styling showBackground",null),new m("http://www.w3.org/ns/ttml#styling textAlign",function(C,I,R,A){var w=R.styleAttrs[M.byName.direction.qname];I.style.textAlign="start"===A?"rtl"===w?"right":"left":"end"===A?"rtl"===w?"left":"right":A}),new m("http://www.w3.org/ns/ttml#styling textDecoration",function(C,I,R,A){I.style.textDecoration=A.join(" ").replace("lineThrough","line-through")}),new m("http://www.w3.org/ns/ttml#styling textOutline",function(C,I,R,A){I.style.textShadow="none"===A?"":"rgba("+A.color[0].toString()+","+A.color[1].toString()+","+A.color[2].toString()+","+(A.color[3]/255).toString()+") 0px 0px "+A.thickness*C.h+"px"}),new m("http://www.w3.org/ns/ttml#styling unicodeBidi",function(C,I,R,A){I.style.unicodeBidi="bidiOverride"===A?"bidi-override":A}),new m("http://www.w3.org/ns/ttml#styling visibility",function(C,I,R,A){I.style.visibility=A}),new m("http://www.w3.org/ns/ttml#styling wrapOption",function(C,I,R,A){I.style.whiteSpace="wrap"===A?"preserve"===R.space?"pre-wrap":"normal":"preserve"===R.space?"pre":"noWrap"}),new m("http://www.w3.org/ns/ttml#styling writingMode",function(C,I,R,A){"lrtb"===A||"lr"===A||"rltb"===A||"rl"===A?I.style.writingMode="horizontal-tb":"tblr"===A?I.style.writingMode="vertical-lr":("tbrl"===A||"tb"===A)&&(I.style.writingMode="vertical-rl")}),new m("http://www.w3.org/ns/ttml#styling zIndex",function(C,I,R,A){I.style.zIndex=A}),new m("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(C,I,R,A){if(null!==C.imgResolver&&null!==A){var p=document.createElement("img"),w=C.imgResolver(A,p);w&&(p.src=w),p.height=C.regionH,p.width=C.regionW,I.appendChild(p)}}),new m("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(C,I,R,A){C.displayForcedOnlyMode&&!1===A&&(I.style.visibility="hidden")})],v={};for(var d in f)v[f[d].qname]=f[d]}(k,typeof imscNames>"u"?c("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c("./node_modules/imsc/src/main/js/styles.js"):imscStyles)},"./node_modules/imsc/src/main/js/isd.js":function(we,k,c){!function(B,T,M){function S(m,f,v,d,L,C,I,R,A){if(f<I.begin||f>=I.end)return null;var p="regionID"in I&&""!==I.regionID?I.regionID:C;if(null!==L&&p!==v.id&&(!("contents"in I)||"contents"in I&&0===I.contents.length||""!==p))return null;var w=new E(I);for(var W in I.sets)f<I.sets[W].begin||f>=I.sets[W].end||(w.styleAttrs[I.sets[W].qname]=I.sets[W].value);var re,$={};for(var Q in w.styleAttrs)if($[Q]=!0,Q===M.byName.writingMode.qname&&!(M.byName.direction.qname in w.styleAttrs)){var ue=w.styleAttrs[Q];"lrtb"===ue||"lr"===ue?w.styleAttrs[M.byName.direction.qname]="ltr":("rltb"===ue||"rl"===ue)&&(w.styleAttrs[M.byName.direction.qname]="rtl")}if(null!==L)for(var ce in M.all){var ne=M.all[ce];if(ne.qname===M.byName.textDecoration.qname){var U=L.styleAttrs[ne.qname],ie=w.styleAttrs[ne.qname],q=[];void 0===ie?q=U:-1===ie.indexOf("none")?((-1===ie.indexOf("noUnderline")&&-1!==U.indexOf("underline")||-1!==ie.indexOf("underline"))&&q.push("underline"),(-1===ie.indexOf("noLineThrough")&&-1!==U.indexOf("lineThrough")||-1!==ie.indexOf("lineThrough"))&&q.push("lineThrough"),(-1===ie.indexOf("noOverline")&&-1!==U.indexOf("overline")||-1!==ie.indexOf("overline"))&&q.push("overline")):q.push("none"),w.styleAttrs[ne.qname]=q}else ne.inherit&&ne.qname in L.styleAttrs&&!(ne.qname in w.styleAttrs)&&(w.styleAttrs[ne.qname]=L.styleAttrs[ne.qname])}for(var le in M.all){var de=M.all[le];de.qname in w.styleAttrs||("region"===w.kind||!1===de.inherit&&null!==de.initial)&&(w.styleAttrs[de.qname]=de.parse(de.initial),$[de.qname]=!0)}for(var Ee in M.all){var Z=M.all[Ee];if(Z.qname in $&&null!==Z.compute){var pe=Z.compute(m,L,w,w.styleAttrs[Z.qname],A);null!==pe?w.styleAttrs[Z.qname]=pe:x(R,"Style '"+Z.qname+"' on element '"+w.kind+"' cannot be computed")}}if("none"===w.styleAttrs[M.byName.display.qname])return null;for(var _e in null===L?re=null===d?[]:[d]:"contents"in I&&(re=I.contents),re){var ge=S(m,f,v,d,w,p,re[_e],R,A);null!==ge&&w.contents.push(ge.element)}for(var fe in w.styleAttrs)-1===M.byQName[fe].applies.indexOf(w.kind)&&delete w.styleAttrs[fe];if("span"===w.kind&&w.text&&"default"===w.space){var X=w.text.replace(/\s+/g," ");w.text=X}if("p"===w.kind){var ye=[];b(w,ye);for(var se=0,ee="after_br",z=0;;)if("after_br"===ee)se>=ye.length||"br"===ye[se].kind?(ee="before_br",z=se,se--):("preserve"!==ye[se].space&&(ye[se].text=ye[se].text.replace(/^\s+/g,"")),ye[se].text.length>0?(ee="looking_br",se++):ye.splice(se,1));else if("before_br"===ee)if(se<0||"br"===ye[se].kind){if(ee="after_br",(se=z+1)>=ye.length)break}else if("preserve"!==ye[se].space&&(ye[se].text=ye[se].text.replace(/\s+$/g,"")),ye[se].text.length>0){if(ee="after_br",(se=z+1)>=ye.length)break}else ye.splice(se,1),se--;else se>=ye.length||"br"===ye[se].kind?(ee="before_br",z=se,se--):se++;h(w)}return"div"===w.kind&&M.byName.backgroundImage.qname in w.styleAttrs||"br"===w.kind||"contents"in w&&w.contents.length>0||"span"===w.kind&&null!==w.text||"region"===w.kind&&"always"===w.styleAttrs[M.byName.showBackground.qname]?{region_id:p,element:w}:null}function b(m,f){if("contents"in m)for(var v in m.contents)b(m.contents[v],f);else f.push(m)}function h(m){if("br"===m.kind)return!1;if("text"in m)return 0===m.text.length;if("contents"in m){for(var f=m.contents.length;f--;)h(m.contents[f])&&m.contents.splice(f,1);return 0===m.contents.length}}function y(m){this.contents=[],this.aspectRatio=m.aspectRatio}function E(m){for(var f in this.kind=m.kind||"region",m.id&&(this.id=m.id),this.styleAttrs={},m.styleAttrs)this.styleAttrs[f]=m.styleAttrs[f];"text"in m?this.text=m.text:"br"!==m.kind&&(this.contents=[]),"space"in m&&(this.space=m.space)}function x(m,f){if(m&&m.error&&m.error(f))throw f}B.generateISD=function(m,f,v){var d=new y(m),L={};for(var C in m.head.layout.regions){var I=S(m,f,m.head.layout.regions[C],m.body,null,"",m.head.layout.regions[C],v,L);null!==I&&d.contents.push(I.element)}return d}}(k,typeof imscNames>"u"?c("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c("./node_modules/imsc/src/main/js/styles.js"):imscStyles)},"./node_modules/imsc/src/main/js/main.js":function(we,k,c){k.generateISD=c("./node_modules/imsc/src/main/js/isd.js").generateISD,k.fromXML=c("./node_modules/imsc/src/main/js/doc.js").fromXML,k.renderHTML=c("./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":function(we,k,c){var B;(B=k).ns_tt="http://www.w3.org/ns/ttml",B.ns_tts="http://www.w3.org/ns/ttml#styling",B.ns_ttp="http://www.w3.org/ns/ttml#parameter",B.ns_xml="http://www.w3.org/XML/1998/namespace",B.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",B.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",B.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",B.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":function(we,k,c){!function(B,T,M){function S(y,E,F,P,x,_,m,f){this.name=E,this.ns=y,this.qname=y+" "+E,this.inherit=x,this.animatable=_,this.initial=F,this.applies=P,this.parse=m,this.compute=f}for(var b in B.all=[new S(T.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,M.parseColor,null),new S(T.ns_tts,"color","white",["span"],!0,!0,M.parseColor,null),new S(T.ns_tts,"direction","ltr",["p","span"],!0,!0,function(y){return y},null),new S(T.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(y){return y},null),new S(T.ns_tts,"displayAlign","before",["region"],!1,!0,function(y){return y},null),new S(T.ns_tts,"extent","auto",["tt","region"],!1,!0,function(y){if("auto"===y)return y;var E=y.split(" ");if(2!==E.length)return null;var F=M.parseLength(E[0]),P=M.parseLength(E[1]);return P&&F?{h:P,w:F}:null},function(y,E,F,P,x){var _,m;if("auto"===P)_=1;else if("%"===P.h.unit)_=P.h.value/100;else{if("px"!==P.h.unit)return null;_=P.h.value/y.pxDimensions.h}if("auto"===P)m=1;else if("%"===P.w.unit)m=P.w.value/100;else{if("px"!==P.w.unit)return null;m=P.w.value/y.pxDimensions.w}return{h:_,w:m}}),new S(T.ns_tts,"fontFamily","default",["span"],!0,!0,function(y){var E=y.split(","),F=[];for(var P in E)"'"!==E[P].charAt(0)&&'"'!==E[P].charAt(0)&&"default"===E[P]?F.push("monospaceSerif"):F.push(E[P]);return F},null),new S(T.ns_tts,"fontSize","1c",["span"],!0,!0,M.parseLength,function(y,E,F,P,x){var _;if("%"===P.unit)_=null!==E?E.styleAttrs[B.byName.fontSize.qname]*P.value/100:P.value/100/y.cellResolution.h;else if("em"===P.unit)_=null!==E?E.styleAttrs[B.byName.fontSize.qname]*P.value:P.value/y.cellResolution.h;else if("c"===P.unit)_=P.value/y.cellResolution.h;else{if("px"!==P.unit)return null;_=P.value/y.pxDimensions.h}return _}),new S(T.ns_tts,"fontStyle","normal",["span"],!0,!0,function(y){return y},null),new S(T.ns_tts,"fontWeight","normal",["span"],!0,!0,function(y){return y},null),new S(T.ns_tts,"lineHeight","normal",["p"],!0,!0,function(y){return"normal"===y?y:M.parseLength(y)},function(y,E,F,P,x){var _;if("normal"===P)_=P;else if("%"===P.unit)_=F.styleAttrs[B.byName.fontSize.qname]*P.value/100;else if("em"===P.unit)_=F.styleAttrs[B.byName.fontSize.qname]*P.value;else if("c"===P.unit)_=P.value/y.cellResolution.h;else{if("px"!==P.unit)return null;_=P.value/y.pxDimensions.h}return _}),new S(T.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new S(T.ns_tts,"origin","auto",["region"],!1,!0,function(y){if("auto"===y)return y;var E=y.split(" ");if(2!==E.length)return null;var F=M.parseLength(E[0]),P=M.parseLength(E[1]);return P&&F?{h:P,w:F}:null},function(y,E,F,P,x){var _,m;if("auto"===P)_=0;else if("%"===P.h.unit)_=P.h.value/100;else{if("px"!==P.h.unit)return null;_=P.h.value/y.pxDimensions.h}if("auto"===P)m=0;else if("%"===P.w.unit)m=P.w.value/100;else{if("px"!==P.w.unit)return null;m=P.w.value/y.pxDimensions.w}return{h:_,w:m}}),new S(T.ns_tts,"overflow","hidden",["region"],!1,!0,function(y){return y},null),new S(T.ns_tts,"padding","0px",["region"],!1,!0,function(y){var E=y.split(" ");if(E.length>4)return null;var F=[];for(var P in E){var x=M.parseLength(E[P]);if(!x)return null;F.push(x)}return F},function(y,E,F,P,x){var _;if(1===P.length)_=[P[0],P[0],P[0],P[0]];else if(2===P.length)_=[P[0],P[1],P[0],P[1]];else if(3===P.length)_=[P[0],P[1],P[2],P[1]];else{if(4!==P.length)return null;_=[P[0],P[1],P[2],P[3]]}var m=F.styleAttrs[B.byName.writingMode.qname];if("lrtb"===m||"lr"===m)_=[_[0],_[3],_[2],_[1]];else if("rltb"===m||"rl"===m)_=[_[0],_[1],_[2],_[3]];else if("tblr"===m)_=[_[3],_[0],_[1],_[2]];else{if("tbrl"!==m&&"tb"!==m)return null;_=[_[3],_[2],_[1],_[0]]}var f=[];for(var v in _)if(0===_[v].value)f[v]=0;else if("%"===_[v].unit)f[v]="0"===v||"2"===v?F.styleAttrs[B.byName.extent.qname].h*_[v].value/100:F.styleAttrs[B.byName.extent.qname].w*_[v].value/100;else if("em"===_[v].unit)f[v]=F.styleAttrs[B.byName.fontSize.qname]*_[v].value;else if("c"===_[v].unit)f[v]=_[v].value/y.cellResolution.h;else{if("px"!==_[v].unit)return null;f[v]="0"===v||"2"===v?_[v].value/y.pxDimensions.h:_[v].value/y.pxDimensions.w}return f}),new S(T.ns_tts,"showBackground","always",["region"],!1,!0,function(y){return y},null),new S(T.ns_tts,"textAlign","start",["p"],!0,!0,function(y){return y},function(y,E,F,P,x){return"left"===P?"start":"right"===P?"end":P}),new S(T.ns_tts,"textDecoration","none",["span"],!0,!0,function(y){return y.split(" ")},null),new S(T.ns_tts,"textOutline","none",["span"],!0,!0,function(y){if("none"===y)return y;var E={},F=y.split(" ");if(0===F.length||F.length>2)return null;var P=M.parseColor(F[0]);if(E.color=P,null!==P&&F.shift(),1!==F.length)return null;var x=M.parseLength(F[0]);return x?(E.thickness=x,E):null},function(y,E,F,P,x){if("none"===P)return P;var _={};if(_.color=null===P.color?F.styleAttrs[B.byName.color.qname]:P.color,"%"===P.thickness.unit)_.thickness=F.styleAttrs[B.byName.fontSize.qname]*P.thickness.value/100;else if("em"===P.thickness.unit)_.thickness=F.styleAttrs[B.byName.fontSize.qname]*P.thickness.value;else if("c"===P.thickness.unit)_.thickness=P.thickness.value/y.cellResolution.h;else{if("px"!==P.thickness.unit)return null;_.thickness=P.thickness.value/y.pxDimensions.h}return _}),new S(T.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(y){return y},null),new S(T.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(y){return y},null),new S(T.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(y){return y},null),new S(T.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(y){return y},null),new S(T.ns_tts,"zIndex","auto",["region"],!1,!0,function(y){var E;return"auto"===y?E=y:(E=parseInt(y),isNaN(E)&&(E=null)),E},null),new S(T.ns_ebutts,"linePadding","0c",["p"],!0,!1,M.parseLength,function(y,E,F,P,x){return"c"===P.unit?P.value/y.cellResolution.h:null}),new S(T.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(y){return y},null),new S(T.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(y){return y},null),new S(T.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(y){return"true"===y},null),new S(T.ns_itts,"fillLineGap","false",["p"],!0,!0,function(y){return"true"===y},null)],B.byQName={},B.all)B.byQName[B.all[b].qname]=B.all[b];for(var h in B.byName={},B.all)B.byName[B.all[h].name]=B.all[h]}(k,typeof imscNames>"u"?c("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?c("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":function(we,k,c){!function(B){var T=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,M=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,S=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,b={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};B.parseColor=function(y){var E,F=null,P=b[y.toLowerCase()];return void 0!==P?F=P:null!==(E=T.exec(y))?F=[parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16),void 0!==E[4]?parseInt(E[4],16):255]:null!==(E=M.exec(y))?F=[parseInt(E[1]),parseInt(E[2]),parseInt(E[3]),255]:null!==(E=S.exec(y))&&(F=[parseInt(E[1]),parseInt(E[2]),parseInt(E[3]),parseInt(E[4])]),F};var h=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;B.parseLength=function(y){var E,F=null;return null!==(E=h.exec(y))&&(F={value:parseFloat(E[1]),unit:E[2]}),F}}(k)},"./node_modules/inherits/inherits_browser.js":function(we,k){we.exports="function"==typeof Object.create?function(B,T){B.super_=T,B.prototype=Object.create(T.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}})}:function(B,T){B.super_=T;var M=function(){};M.prototype=T.prototype,B.prototype=new M,B.prototype.constructor=B}},"./node_modules/is-alphabetical/index.js":function(we,k,c){"use strict";we.exports=function B(T){var M="string"==typeof T?T.charCodeAt(0):T;return M>=97&&M<=122||M>=65&&M<=90}},"./node_modules/is-alphanumerical/index.js":function(we,k,c){"use strict";var B=c("./node_modules/is-alphabetical/index.js"),T=c("./node_modules/is-decimal/index.js");we.exports=function M(S){return B(S)||T(S)}},"./node_modules/is-decimal/index.js":function(we,k,c){"use strict";we.exports=function B(T){var M="string"==typeof T?T.charCodeAt(0):T;return M>=48&&M<=57}},"./node_modules/isarray/index.js":function(we,k){var c={}.toString;we.exports=Array.isArray||function(B){return"[object Array]"==c.call(B)}},"./node_modules/node-libs-browser/node_modules/buffer/index.js":function(we,k,c){"use strict";(function(B){var T=c("./node_modules/base64-js/index.js"),M=c("./node_modules/ieee754/index.js"),S=c("./node_modules/isarray/index.js");function h(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(me,G){if(h()<G)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(me=new Uint8Array(G)).__proto__=E.prototype:(null===me&&(me=new E(G)),me.length=G),me}function E(me,G,V){if(!(E.TYPED_ARRAY_SUPPORT||this instanceof E))return new E(me,G,V);if("number"==typeof me){if("string"==typeof G)throw new Error("If encoding is specified then the first argument must be a string");return _(this,me)}return F(this,me,G,V)}function F(me,G,V,K){if("number"==typeof G)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&G instanceof ArrayBuffer?function v(me,G,V,K){if(V<0||G.byteLength<V)throw new RangeError("'offset' is out of bounds");if(G.byteLength<V+(K||0))throw new RangeError("'length' is out of bounds");return G=void 0===V&&void 0===K?new Uint8Array(G):void 0===K?new Uint8Array(G,V):new Uint8Array(G,V,K),E.TYPED_ARRAY_SUPPORT?(me=G).__proto__=E.prototype:me=f(me,G),me}(me,G,V,K):"string"==typeof G?function m(me,G,V){if(("string"!=typeof V||""===V)&&(V="utf8"),!E.isEncoding(V))throw new TypeError('"encoding" must be a valid string encoding');var K=0|I(G,V),te=(me=y(me,K)).write(G,V);return te!==K&&(me=me.slice(0,te)),me}(me,G,V):function d(me,G){if(E.isBuffer(G)){var V=0|L(G.length);return 0===(me=y(me,V)).length||G.copy(me,0,0,V),me}if(G){if(typeof ArrayBuffer<"u"&&G.buffer instanceof ArrayBuffer||"length"in G)return"number"!=typeof G.length||function Re(me){return me!=me}(G.length)?y(me,0):f(me,G);if("Buffer"===G.type&&S(G.data))return f(me,G.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(me,G)}function P(me){if("number"!=typeof me)throw new TypeError('"size" argument must be a number');if(me<0)throw new RangeError('"size" argument must not be negative')}function _(me,G){if(P(G),me=y(me,G<0?0:0|L(G)),!E.TYPED_ARRAY_SUPPORT)for(var V=0;V<G;++V)me[V]=0;return me}function f(me,G){var V=G.length<0?0:0|L(G.length);me=y(me,V);for(var K=0;K<V;K+=1)me[K]=255&G[K];return me}function L(me){if(me>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|me}function I(me,G){if(E.isBuffer(me))return me.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(me)||me instanceof ArrayBuffer))return me.byteLength;"string"!=typeof me&&(me=""+me);var V=me.length;if(0===V)return 0;for(var K=!1;;)switch(G){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":case void 0:return O(me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return oe(me).length;default:if(K)return O(me).length;G=(""+G).toLowerCase(),K=!0}}function R(me,G,V){var K=!1;if((void 0===G||G<0)&&(G=0),G>this.length||((void 0===V||V>this.length)&&(V=this.length),V<=0)||(V>>>=0)<=(G>>>=0))return"";for(me||(me="utf8");;)switch(me){case"hex":return Z(this,G,V);case"utf8":case"utf-8":return ie(this,G,V);case"ascii":return de(this,G,V);case"latin1":case"binary":return Ee(this,G,V);case"base64":return U(this,G,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,G,V);default:if(K)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),K=!0}}function A(me,G,V){var K=me[G];me[G]=me[V],me[V]=K}function p(me,G,V,K,te){if(0===me.length)return-1;if("string"==typeof V?(K=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,isNaN(V)&&(V=te?0:me.length-1),V<0&&(V=me.length+V),V>=me.length){if(te)return-1;V=me.length-1}else if(V<0){if(!te)return-1;V=0}if("string"==typeof G&&(G=E.from(G,K)),E.isBuffer(G))return 0===G.length?-1:w(me,G,V,K,te);if("number"==typeof G)return G&=255,E.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?te?Uint8Array.prototype.indexOf.call(me,G,V):Uint8Array.prototype.lastIndexOf.call(me,G,V):w(me,[G],V,K,te);throw new TypeError("val must be string, number or Buffer")}function w(me,G,V,K,te){var Ie,J=1,he=me.length,Ae=G.length;if(void 0!==K&&("ucs2"===(K=String(K).toLowerCase())||"ucs-2"===K||"utf16le"===K||"utf-16le"===K)){if(me.length<2||G.length<2)return-1;J=2,he/=2,Ae/=2,V/=2}function be(Ce,Qe){return 1===J?Ce[Qe]:Ce.readUInt16BE(Qe*J)}if(te){var xe=-1;for(Ie=V;Ie<he;Ie++)if(be(me,Ie)===be(G,-1===xe?0:Ie-xe)){if(-1===xe&&(xe=Ie),Ie-xe+1===Ae)return xe*J}else-1!==xe&&(Ie-=Ie-xe),xe=-1}else for(V+Ae>he&&(V=he-Ae),Ie=V;Ie>=0;Ie--){for(var De=!0,Fe=0;Fe<Ae;Fe++)if(be(me,Ie+Fe)!==be(G,Fe)){De=!1;break}if(De)return Ie}return-1}function W(me,G,V,K){V=Number(V)||0;var te=me.length-V;K?(K=Number(K))>te&&(K=te):K=te;var J=G.length;if(J%2!=0)throw new TypeError("Invalid hex string");K>J/2&&(K=J/2);for(var he=0;he<K;++he){var Ae=parseInt(G.substr(2*he,2),16);if(isNaN(Ae))return he;me[V+he]=Ae}return he}function $(me,G,V,K){return Te(O(G,me.length-V),me,V,K)}function Q(me,G,V,K){return Te(function H(me){for(var G=[],V=0;V<me.length;++V)G.push(255&me.charCodeAt(V));return G}(G),me,V,K)}function ue(me,G,V,K){return Q(me,G,V,K)}function ce(me,G,V,K){return Te(oe(G),me,V,K)}function ne(me,G,V,K){return Te(function j(me,G){for(var V,K,J=[],he=0;he<me.length&&!((G-=2)<0);++he)K=(V=me.charCodeAt(he))>>8,J.push(V%256),J.push(K);return J}(G,me.length-V),me,V,K)}function U(me,G,V){return T.fromByteArray(0===G&&V===me.length?me:me.slice(G,V))}function ie(me,G,V){V=Math.min(me.length,V);for(var K=[],te=G;te<V;){var be,Ie,xe,De,J=me[te],he=null,Ae=J>239?4:J>223?3:J>191?2:1;if(te+Ae<=V)switch(Ae){case 1:J<128&&(he=J);break;case 2:128==(192&(be=me[te+1]))&&(De=(31&J)<<6|63&be)>127&&(he=De);break;case 3:Ie=me[te+2],128==(192&(be=me[te+1]))&&128==(192&Ie)&&(De=(15&J)<<12|(63&be)<<6|63&Ie)>2047&&(De<55296||De>57343)&&(he=De);break;case 4:Ie=me[te+2],xe=me[te+3],128==(192&(be=me[te+1]))&&128==(192&Ie)&&128==(192&xe)&&(De=(15&J)<<18|(63&be)<<12|(63&Ie)<<6|63&xe)>65535&&De<1114112&&(he=De)}null===he?(he=65533,Ae=1):he>65535&&(K.push((he-=65536)>>>10&1023|55296),he=56320|1023&he),K.push(he),te+=Ae}return function le(me){var G=me.length;if(G<=q)return String.fromCharCode.apply(String,me);for(var V="",K=0;K<G;)V+=String.fromCharCode.apply(String,me.slice(K,K+=q));return V}(K)}k.Buffer=E,k.SlowBuffer=function C(me){return+me!=me&&(me=0),E.alloc(+me)},k.INSPECT_MAX_BYTES=50,E.TYPED_ARRAY_SUPPORT=void 0!==B.TYPED_ARRAY_SUPPORT?B.TYPED_ARRAY_SUPPORT:function b(){try{var me=new Uint8Array(1);return me.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===me.foo()&&"function"==typeof me.subarray&&0===me.subarray(1,1).byteLength}catch{return!1}}(),k.kMaxLength=h(),E.poolSize=8192,E._augment=function(me){return me.__proto__=E.prototype,me},E.from=function(me,G,V){return F(null,me,G,V)},E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&E[Symbol.species]===E&&Object.defineProperty(E,Symbol.species,{value:null,configurable:!0})),E.alloc=function(me,G,V){return function x(me,G,V,K){return P(G),G<=0?y(me,G):void 0!==V?"string"==typeof K?y(me,G).fill(V,K):y(me,G).fill(V):y(me,G)}(null,me,G,V)},E.allocUnsafe=function(me){return _(null,me)},E.allocUnsafeSlow=function(me){return _(null,me)},E.isBuffer=function(G){return!(null==G||!G._isBuffer)},E.compare=function(G,V){if(!E.isBuffer(G)||!E.isBuffer(V))throw new TypeError("Arguments must be Buffers");if(G===V)return 0;for(var K=G.length,te=V.length,J=0,he=Math.min(K,te);J<he;++J)if(G[J]!==V[J]){K=G[J],te=V[J];break}return K<te?-1:te<K?1:0},E.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(G,V){if(!S(G))throw new TypeError('"list" argument must be an Array of Buffers');if(0===G.length)return E.alloc(0);var K;if(void 0===V)for(V=0,K=0;K<G.length;++K)V+=G[K].length;var te=E.allocUnsafe(V),J=0;for(K=0;K<G.length;++K){var he=G[K];if(!E.isBuffer(he))throw new TypeError('"list" argument must be an Array of Buffers');he.copy(te,J),J+=he.length}return te},E.byteLength=I,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var G=this.length;if(G%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<G;V+=2)A(this,V,V+1);return this},E.prototype.swap32=function(){var G=this.length;if(G%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<G;V+=4)A(this,V,V+3),A(this,V+1,V+2);return this},E.prototype.swap64=function(){var G=this.length;if(G%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<G;V+=8)A(this,V,V+7),A(this,V+1,V+6),A(this,V+2,V+5),A(this,V+3,V+4);return this},E.prototype.toString=function(){var G=0|this.length;return 0===G?"":0===arguments.length?ie(this,0,G):R.apply(this,arguments)},E.prototype.equals=function(G){if(!E.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G||0===E.compare(this,G)},E.prototype.inspect=function(){var G="",V=k.INSPECT_MAX_BYTES;return this.length>0&&(G=this.toString("hex",0,V).match(/.{2}/g).join(" "),this.length>V&&(G+=" ... ")),"<Buffer "+G+">"},E.prototype.compare=function(G,V,K,te,J){if(!E.isBuffer(G))throw new TypeError("Argument must be a Buffer");if(void 0===V&&(V=0),void 0===K&&(K=G?G.length:0),void 0===te&&(te=0),void 0===J&&(J=this.length),V<0||K>G.length||te<0||J>this.length)throw new RangeError("out of range index");if(te>=J&&V>=K)return 0;if(te>=J)return-1;if(V>=K)return 1;if(this===G)return 0;for(var he=(J>>>=0)-(te>>>=0),Ae=(K>>>=0)-(V>>>=0),be=Math.min(he,Ae),Ie=this.slice(te,J),xe=G.slice(V,K),De=0;De<be;++De)if(Ie[De]!==xe[De]){he=Ie[De],Ae=xe[De];break}return he<Ae?-1:Ae<he?1:0},E.prototype.includes=function(G,V,K){return-1!==this.indexOf(G,V,K)},E.prototype.indexOf=function(G,V,K){return p(this,G,V,K,!0)},E.prototype.lastIndexOf=function(G,V,K){return p(this,G,V,K,!1)},E.prototype.write=function(G,V,K,te){if(void 0===V)te="utf8",K=this.length,V=0;else if(void 0===K&&"string"==typeof V)te=V,K=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V|=0,isFinite(K)?(K|=0,void 0===te&&(te="utf8")):(te=K,K=void 0)}var J=this.length-V;if((void 0===K||K>J)&&(K=J),G.length>0&&(K<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var he=!1;;)switch(te){case"hex":return W(this,G,V,K);case"utf8":case"utf-8":return $(this,G,V,K);case"ascii":return Q(this,G,V,K);case"latin1":case"binary":return ue(this,G,V,K);case"base64":return ce(this,G,V,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,G,V,K);default:if(he)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),he=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var q=4096;function de(me,G,V){var K="";V=Math.min(me.length,V);for(var te=G;te<V;++te)K+=String.fromCharCode(127&me[te]);return K}function Ee(me,G,V){var K="";V=Math.min(me.length,V);for(var te=G;te<V;++te)K+=String.fromCharCode(me[te]);return K}function Z(me,G,V){var K=me.length;(!G||G<0)&&(G=0),(!V||V<0||V>K)&&(V=K);for(var te="",J=G;J<V;++J)te+=D(me[J]);return te}function pe(me,G,V){for(var K=me.slice(G,V),te="",J=0;J<K.length;J+=2)te+=String.fromCharCode(K[J]+256*K[J+1]);return te}function re(me,G,V){if(me%1!=0||me<0)throw new RangeError("offset is not uint");if(me+G>V)throw new RangeError("Trying to access beyond buffer length")}function _e(me,G,V,K,te,J){if(!E.isBuffer(me))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>te||G<J)throw new RangeError('"value" argument is out of bounds');if(V+K>me.length)throw new RangeError("Index out of range")}function ge(me,G,V,K){G<0&&(G=65535+G+1);for(var te=0,J=Math.min(me.length-V,2);te<J;++te)me[V+te]=(G&255<<8*(K?te:1-te))>>>8*(K?te:1-te)}function fe(me,G,V,K){G<0&&(G=4294967295+G+1);for(var te=0,J=Math.min(me.length-V,4);te<J;++te)me[V+te]=G>>>8*(K?te:3-te)&255}function ve(me,G,V,K,te,J){if(V+K>me.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function X(me,G,V,K,te){return te||ve(me,0,V,4),M.write(me,G,V,K,23,4),V+4}function ye(me,G,V,K,te){return te||ve(me,0,V,8),M.write(me,G,V,K,52,8),V+8}E.prototype.slice=function(G,V){var te,K=this.length;if((G=~~G)<0?(G+=K)<0&&(G=0):G>K&&(G=K),(V=void 0===V?K:~~V)<0?(V+=K)<0&&(V=0):V>K&&(V=K),V<G&&(V=G),E.TYPED_ARRAY_SUPPORT)(te=this.subarray(G,V)).__proto__=E.prototype;else{var J=V-G;te=new E(J,void 0);for(var he=0;he<J;++he)te[he]=this[he+G]}return te},E.prototype.readUIntLE=function(G,V,K){G|=0,V|=0,K||re(G,V,this.length);for(var te=this[G],J=1,he=0;++he<V&&(J*=256);)te+=this[G+he]*J;return te},E.prototype.readUIntBE=function(G,V,K){G|=0,V|=0,K||re(G,V,this.length);for(var te=this[G+--V],J=1;V>0&&(J*=256);)te+=this[G+--V]*J;return te},E.prototype.readUInt8=function(G,V){return V||re(G,1,this.length),this[G]},E.prototype.readUInt16LE=function(G,V){return V||re(G,2,this.length),this[G]|this[G+1]<<8},E.prototype.readUInt16BE=function(G,V){return V||re(G,2,this.length),this[G]<<8|this[G+1]},E.prototype.readUInt32LE=function(G,V){return V||re(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+16777216*this[G+3]},E.prototype.readUInt32BE=function(G,V){return V||re(G,4,this.length),16777216*this[G]+(this[G+1]<<16|this[G+2]<<8|this[G+3])},E.prototype.readIntLE=function(G,V,K){G|=0,V|=0,K||re(G,V,this.length);for(var te=this[G],J=1,he=0;++he<V&&(J*=256);)te+=this[G+he]*J;return te>=(J*=128)&&(te-=Math.pow(2,8*V)),te},E.prototype.readIntBE=function(G,V,K){G|=0,V|=0,K||re(G,V,this.length);for(var te=V,J=1,he=this[G+--te];te>0&&(J*=256);)he+=this[G+--te]*J;return he>=(J*=128)&&(he-=Math.pow(2,8*V)),he},E.prototype.readInt8=function(G,V){return V||re(G,1,this.length),128&this[G]?-1*(255-this[G]+1):this[G]},E.prototype.readInt16LE=function(G,V){V||re(G,2,this.length);var K=this[G]|this[G+1]<<8;return 32768&K?4294901760|K:K},E.prototype.readInt16BE=function(G,V){V||re(G,2,this.length);var K=this[G+1]|this[G]<<8;return 32768&K?4294901760|K:K},E.prototype.readInt32LE=function(G,V){return V||re(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},E.prototype.readInt32BE=function(G,V){return V||re(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},E.prototype.readFloatLE=function(G,V){return V||re(G,4,this.length),M.read(this,G,!0,23,4)},E.prototype.readFloatBE=function(G,V){return V||re(G,4,this.length),M.read(this,G,!1,23,4)},E.prototype.readDoubleLE=function(G,V){return V||re(G,8,this.length),M.read(this,G,!0,52,8)},E.prototype.readDoubleBE=function(G,V){return V||re(G,8,this.length),M.read(this,G,!1,52,8)},E.prototype.writeUIntLE=function(G,V,K,te){G=+G,V|=0,K|=0,te||_e(this,G,V,K,Math.pow(2,8*K)-1,0);var he=1,Ae=0;for(this[V]=255&G;++Ae<K&&(he*=256);)this[V+Ae]=G/he&255;return V+K},E.prototype.writeUIntBE=function(G,V,K,te){G=+G,V|=0,K|=0,te||_e(this,G,V,K,Math.pow(2,8*K)-1,0);var he=K-1,Ae=1;for(this[V+he]=255&G;--he>=0&&(Ae*=256);)this[V+he]=G/Ae&255;return V+K},E.prototype.writeUInt8=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,1,255,0),E.TYPED_ARRAY_SUPPORT||(G=Math.floor(G)),this[V]=255&G,V+1},E.prototype.writeUInt16LE=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[V]=255&G,this[V+1]=G>>>8):ge(this,G,V,!0),V+2},E.prototype.writeUInt16BE=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[V]=G>>>8,this[V+1]=255&G):ge(this,G,V,!1),V+2},E.prototype.writeUInt32LE=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[V+3]=G>>>24,this[V+2]=G>>>16,this[V+1]=G>>>8,this[V]=255&G):fe(this,G,V,!0),V+4},E.prototype.writeUInt32BE=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[V]=G>>>24,this[V+1]=G>>>16,this[V+2]=G>>>8,this[V+3]=255&G):fe(this,G,V,!1),V+4},E.prototype.writeIntLE=function(G,V,K,te){if(G=+G,V|=0,!te){var J=Math.pow(2,8*K-1);_e(this,G,V,K,J-1,-J)}var he=0,Ae=1,be=0;for(this[V]=255&G;++he<K&&(Ae*=256);)G<0&&0===be&&0!==this[V+he-1]&&(be=1),this[V+he]=(G/Ae>>0)-be&255;return V+K},E.prototype.writeIntBE=function(G,V,K,te){if(G=+G,V|=0,!te){var J=Math.pow(2,8*K-1);_e(this,G,V,K,J-1,-J)}var he=K-1,Ae=1,be=0;for(this[V+he]=255&G;--he>=0&&(Ae*=256);)G<0&&0===be&&0!==this[V+he+1]&&(be=1),this[V+he]=(G/Ae>>0)-be&255;return V+K},E.prototype.writeInt8=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,1,127,-128),E.TYPED_ARRAY_SUPPORT||(G=Math.floor(G)),G<0&&(G=255+G+1),this[V]=255&G,V+1},E.prototype.writeInt16LE=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[V]=255&G,this[V+1]=G>>>8):ge(this,G,V,!0),V+2},E.prototype.writeInt16BE=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[V]=G>>>8,this[V+1]=255&G):ge(this,G,V,!1),V+2},E.prototype.writeInt32LE=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[V]=255&G,this[V+1]=G>>>8,this[V+2]=G>>>16,this[V+3]=G>>>24):fe(this,G,V,!0),V+4},E.prototype.writeInt32BE=function(G,V,K){return G=+G,V|=0,K||_e(this,G,V,4,2147483647,-2147483648),G<0&&(G=4294967295+G+1),E.TYPED_ARRAY_SUPPORT?(this[V]=G>>>24,this[V+1]=G>>>16,this[V+2]=G>>>8,this[V+3]=255&G):fe(this,G,V,!1),V+4},E.prototype.writeFloatLE=function(G,V,K){return X(this,G,V,!0,K)},E.prototype.writeFloatBE=function(G,V,K){return X(this,G,V,!1,K)},E.prototype.writeDoubleLE=function(G,V,K){return ye(this,G,V,!0,K)},E.prototype.writeDoubleBE=function(G,V,K){return ye(this,G,V,!1,K)},E.prototype.copy=function(G,V,K,te){if(K||(K=0),!te&&0!==te&&(te=this.length),V>=G.length&&(V=G.length),V||(V=0),te>0&&te<K&&(te=K),te===K||0===G.length||0===this.length)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("sourceStart out of bounds");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),G.length-V<te-K&&(te=G.length-V+K);var he,J=te-K;if(this===G&&K<V&&V<te)for(he=J-1;he>=0;--he)G[he+V]=this[he+K];else if(J<1e3||!E.TYPED_ARRAY_SUPPORT)for(he=0;he<J;++he)G[he+V]=this[he+K];else Uint8Array.prototype.set.call(G,this.subarray(K,K+J),V);return J},E.prototype.fill=function(G,V,K,te){if("string"==typeof G){if("string"==typeof V?(te=V,V=0,K=this.length):"string"==typeof K&&(te=K,K=this.length),1===G.length){var J=G.charCodeAt(0);J<256&&(G=J)}if(void 0!==te&&"string"!=typeof te)throw new TypeError("encoding must be a string");if("string"==typeof te&&!E.isEncoding(te))throw new TypeError("Unknown encoding: "+te)}else"number"==typeof G&&(G&=255);if(V<0||this.length<V||this.length<K)throw new RangeError("Out of range index");if(K<=V)return this;var he;if(V>>>=0,K=void 0===K?this.length:K>>>0,G||(G=0),"number"==typeof G)for(he=V;he<K;++he)this[he]=G;else{var Ae=E.isBuffer(G)?G:O(new E(G,te).toString()),be=Ae.length;for(he=0;he<K-V;++he)this[he+V]=Ae[he%be]}return this};var se=/[^+\/0-9A-Za-z-_]/g;function D(me){return me<16?"0"+me.toString(16):me.toString(16)}function O(me,G){G=G||1/0;for(var V,K=me.length,te=null,J=[],he=0;he<K;++he){if((V=me.charCodeAt(he))>55295&&V<57344){if(!te){if(V>56319){(G-=3)>-1&&J.push(239,191,189);continue}if(he+1===K){(G-=3)>-1&&J.push(239,191,189);continue}te=V;continue}if(V<56320){(G-=3)>-1&&J.push(239,191,189),te=V;continue}V=65536+(te-55296<<10|V-56320)}else te&&(G-=3)>-1&&J.push(239,191,189);if(te=null,V<128){if((G-=1)<0)break;J.push(V)}else if(V<2048){if((G-=2)<0)break;J.push(V>>6|192,63&V|128)}else if(V<65536){if((G-=3)<0)break;J.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;J.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return J}function oe(me){return T.toByteArray(function ee(me){if((me=function z(me){return me.trim?me.trim():me.replace(/^\s+|\s+$/g,"")}(me).replace(se,"")).length<2)return"";for(;me.length%4!=0;)me+="=";return me}(me))}function Te(me,G,V,K){for(var te=0;te<K&&!(te+V>=G.length||te>=me.length);++te)G[te+V]=me[te];return te}}).call(this,c("./node_modules/webpack/buildin/global.js"))},"./node_modules/node-libs-browser/node_modules/events/events.js":function(we,k,c){"use strict";var M,B="object"==typeof Reflect?Reflect:null,T=B&&"function"==typeof B.apply?B.apply:function(p,w,W){return Function.prototype.apply.call(p,w,W)};M=B&&"function"==typeof B.ownKeys?B.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var b=Number.isNaN||function(p){return p!=p};function h(){h.init.call(this)}we.exports=h,we.exports.once=function C(A,p){return new Promise(function(w,W){function $(ue){A.removeListener(p,Q),W(ue)}function Q(){"function"==typeof A.removeListener&&A.removeListener("error",$),w([].slice.call(arguments))}R(A,p,Q,{once:!0}),"error"!==p&&function I(A,p,w){"function"==typeof A.on&&R(A,"error",p,w)}(A,$,{once:!0})})},h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var y=10;function E(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function F(A){return void 0===A._maxListeners?h.defaultMaxListeners:A._maxListeners}function P(A,p,w,W){var $,Q,ue;if(E(w),void 0===(Q=A._events)?(Q=A._events=Object.create(null),A._eventsCount=0):(void 0!==Q.newListener&&(A.emit("newListener",p,w.listener?w.listener:w),Q=A._events),ue=Q[p]),void 0===ue)ue=Q[p]=w,++A._eventsCount;else if("function"==typeof ue?ue=Q[p]=W?[w,ue]:[ue,w]:W?ue.unshift(w):ue.push(w),($=F(A))>0&&ue.length>$&&!ue.warned){ue.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+ue.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=A,ce.type=p,ce.count=ue.length,function S(A){console&&console.warn&&console.warn(A)}(ce)}return A}function x(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(A,p,w){var W={fired:!1,wrapFn:void 0,target:A,type:p,listener:w},$=x.bind(W);return $.listener=w,W.wrapFn=$,$}function m(A,p,w){var W=A._events;if(void 0===W)return[];var $=W[p];return void 0===$?[]:"function"==typeof $?w?[$.listener||$]:[$]:w?function L(A){for(var p=new Array(A.length),w=0;w<p.length;++w)p[w]=A[w].listener||A[w];return p}($):v($,$.length)}function f(A){var p=this._events;if(void 0!==p){var w=p[A];if("function"==typeof w)return 1;if(void 0!==w)return w.length}return 0}function v(A,p){for(var w=new Array(p),W=0;W<p;++W)w[W]=A[W];return w}function R(A,p,w,W){if("function"==typeof A.on)W.once?A.once(p,w):A.on(p,w);else{if("function"!=typeof A.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A);A.addEventListener(p,function $(Q){W.once&&A.removeEventListener(p,$),w(Q)})}}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(A){if("number"!=typeof A||A<0||b(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");y=A}}),h.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(p){if("number"!=typeof p||p<0||b(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},h.prototype.getMaxListeners=function(){return F(this)},h.prototype.emit=function(p){for(var w=[],W=1;W<arguments.length;W++)w.push(arguments[W]);var $="error"===p,Q=this._events;if(void 0!==Q)$=$&&void 0===Q.error;else if(!$)return!1;if($){var ue;if(w.length>0&&(ue=w[0]),ue instanceof Error)throw ue;var ce=new Error("Unhandled error."+(ue?" ("+ue.message+")":""));throw ce.context=ue,ce}var ne=Q[p];if(void 0===ne)return!1;if("function"==typeof ne)T(ne,this,w);else{var U=ne.length,ie=v(ne,U);for(W=0;W<U;++W)T(ie[W],this,w)}return!0},h.prototype.on=h.prototype.addListener=function(p,w){return P(this,p,w,!1)},h.prototype.prependListener=function(p,w){return P(this,p,w,!0)},h.prototype.once=function(p,w){return E(w),this.on(p,_(this,p,w)),this},h.prototype.prependOnceListener=function(p,w){return E(w),this.prependListener(p,_(this,p,w)),this},h.prototype.off=h.prototype.removeListener=function(p,w){var W,$,Q,ue,ce;if(E(w),void 0===($=this._events))return this;if(void 0===(W=$[p]))return this;if(W===w||W.listener===w)0==--this._eventsCount?this._events=Object.create(null):(delete $[p],$.removeListener&&this.emit("removeListener",p,W.listener||w));else if("function"!=typeof W){for(Q=-1,ue=W.length-1;ue>=0;ue--)if(W[ue]===w||W[ue].listener===w){ce=W[ue].listener,Q=ue;break}if(Q<0)return this;0===Q?W.shift():function d(A,p){for(;p+1<A.length;p++)A[p]=A[p+1];A.pop()}(W,Q),1===W.length&&($[p]=W[0]),void 0!==$.removeListener&&this.emit("removeListener",p,ce||w)}return this},h.prototype.removeAllListeners=function(p){var w,W,$;if(void 0===(W=this._events))return this;if(void 0===W.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==W[p]&&(0==--this._eventsCount?this._events=Object.create(null):delete W[p]),this;if(0===arguments.length){var ue,Q=Object.keys(W);for($=0;$<Q.length;++$)"removeListener"!==(ue=Q[$])&&this.removeAllListeners(ue);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(w=W[p]))this.removeListener(p,w);else if(void 0!==w)for($=w.length-1;$>=0;$--)this.removeListener(p,w[$]);return this},h.prototype.listeners=function(p){return m(this,p,!0)},h.prototype.rawListeners=function(p){return m(this,p,!1)},h.listenerCount=function(A,p){return"function"==typeof A.listenerCount?A.listenerCount(p):f.call(A,p)},h.prototype.listenerCount=f,h.prototype.eventNames=function(){return this._eventsCount>0?M(this._events):[]}},"./node_modules/node-libs-browser/node_modules/timers-browserify/main.js":function(we,k,c){(function(B){var T=typeof B<"u"&&B||typeof self<"u"&&self||window,M=Function.prototype.apply;function S(b,h){this._id=b,this._clearFn=h}k.setTimeout=function(){return new S(M.call(setTimeout,T,arguments),clearTimeout)},k.setInterval=function(){return new S(M.call(setInterval,T,arguments),clearInterval)},k.clearTimeout=k.clearInterval=function(b){b&&b.close()},S.prototype.unref=S.prototype.ref=function(){},S.prototype.close=function(){this._clearFn.call(T,this._id)},k.enroll=function(b,h){clearTimeout(b._idleTimeoutId),b._idleTimeout=h},k.unenroll=function(b){clearTimeout(b._idleTimeoutId),b._idleTimeout=-1},k._unrefActive=k.active=function(b){clearTimeout(b._idleTimeoutId);var h=b._idleTimeout;h>=0&&(b._idleTimeoutId=setTimeout(function(){b._onTimeout&&b._onTimeout()},h))},c("./node_modules/setimmediate/setImmediate.js"),k.setImmediate=typeof self<"u"&&self.setImmediate||typeof B<"u"&&B.setImmediate||this&&this.setImmediate,k.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof B<"u"&&B.clearImmediate||this&&this.clearImmediate}).call(this,c("./node_modules/webpack/buildin/global.js"))},"./node_modules/path-browserify/index.js":function(we,k,c){(function(B){function T(h,y){for(var E=0,F=h.length-1;F>=0;F--){var P=h[F];"."===P?h.splice(F,1):".."===P?(h.splice(F,1),E++):E&&(h.splice(F,1),E--)}if(y)for(;E--;E)h.unshift("..");return h}function S(h,y){if(h.filter)return h.filter(y);for(var E=[],F=0;F<h.length;F++)y(h[F],F,h)&&E.push(h[F]);return E}k.resolve=function(){for(var h="",y=!1,E=arguments.length-1;E>=-1&&!y;E--){var F=E>=0?arguments[E]:B.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");F&&(h=F+"/"+h,y="/"===F.charAt(0))}return(y?"/":"")+(h=T(S(h.split("/"),function(P){return!!P}),!y).join("/"))||"."},k.normalize=function(h){var y=k.isAbsolute(h),E="/"===b(h,-1);return!(h=T(S(h.split("/"),function(F){return!!F}),!y).join("/"))&&!y&&(h="."),h&&E&&(h+="/"),(y?"/":"")+h},k.isAbsolute=function(h){return"/"===h.charAt(0)},k.join=function(){var h=Array.prototype.slice.call(arguments,0);return k.normalize(S(h,function(y,E){if("string"!=typeof y)throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},k.relative=function(h,y){function E(v){for(var d=0;d<v.length&&""===v[d];d++);for(var L=v.length-1;L>=0&&""===v[L];L--);return d>L?[]:v.slice(d,L-d+1)}h=k.resolve(h).substr(1),y=k.resolve(y).substr(1);for(var F=E(h.split("/")),P=E(y.split("/")),x=Math.min(F.length,P.length),_=x,m=0;m<x;m++)if(F[m]!==P[m]){_=m;break}var f=[];for(m=_;m<F.length;m++)f.push("..");return(f=f.concat(P.slice(_))).join("/")},k.sep="/",k.delimiter=":",k.dirname=function(h){if("string"!=typeof h&&(h+=""),0===h.length)return".";for(var y=h.charCodeAt(0),E=47===y,F=-1,P=!0,x=h.length-1;x>=1;--x)if(47===(y=h.charCodeAt(x))){if(!P){F=x;break}}else P=!1;return-1===F?E?"/":".":E&&1===F?"/":h.slice(0,F)},k.basename=function(h,y){var E=function M(h){"string"!=typeof h&&(h+="");var P,y=0,E=-1,F=!0;for(P=h.length-1;P>=0;--P)if(47===h.charCodeAt(P)){if(!F){y=P+1;break}}else-1===E&&(F=!1,E=P+1);return-1===E?"":h.slice(y,E)}(h);return y&&E.substr(-1*y.length)===y&&(E=E.substr(0,E.length-y.length)),E},k.extname=function(h){"string"!=typeof h&&(h+="");for(var y=-1,E=0,F=-1,P=!0,x=0,_=h.length-1;_>=0;--_){var m=h.charCodeAt(_);if(47!==m)-1===F&&(P=!1,F=_+1),46===m?-1===y?y=_:1!==x&&(x=1):-1!==y&&(x=-1);else if(!P){E=_+1;break}}return-1===y||-1===F||0===x||1===x&&y===F-1&&y===E+1?"":h.slice(y,F)};var b=function(h,y,E){return h.substr(y,E)}}).call(this,c("./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":function(we,k,c){"use strict";(function(B){we.exports=!B.version||0===B.version.indexOf("v0.")||0===B.version.indexOf("v1.")&&0!==B.version.indexOf("v1.8.")?{nextTick:function T(M,S,b,h){if("function"!=typeof M)throw new TypeError('"callback" argument must be a function');var E,F,y=arguments.length;switch(y){case 0:case 1:return B.nextTick(M);case 2:return B.nextTick(function(){M.call(null,S)});case 3:return B.nextTick(function(){M.call(null,S,b)});case 4:return B.nextTick(function(){M.call(null,S,b,h)});default:for(E=new Array(y-1),F=0;F<E.length;)E[F++]=arguments[F];return B.nextTick(function(){M.apply(null,E)})}}}:B}).call(this,c("./node_modules/process/browser.js"))},"./node_modules/process/browser.js":function(we,k){var B,T,c=we.exports={};function M(){throw new Error("setTimeout has not been defined")}function S(){throw new Error("clearTimeout has not been defined")}function b(v){if(B===setTimeout)return setTimeout(v,0);if((B===M||!B)&&setTimeout)return B=setTimeout,setTimeout(v,0);try{return B(v,0)}catch{try{return B.call(null,v,0)}catch{return B.call(this,v,0)}}}!function(){try{B="function"==typeof setTimeout?setTimeout:M}catch{B=M}try{T="function"==typeof clearTimeout?clearTimeout:S}catch{T=S}}();var F,y=[],E=!1,P=-1;function x(){!E||!F||(E=!1,F.length?y=F.concat(y):P=-1,y.length&&_())}function _(){if(!E){var v=b(x);E=!0;for(var d=y.length;d;){for(F=y,y=[];++P<d;)F&&F[P].run();P=-1,d=y.length}F=null,E=!1,function h(v){if(T===clearTimeout)return clearTimeout(v);if((T===S||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(v);try{return T(v)}catch{try{return T.call(null,v)}catch{return T.call(this,v)}}}(v)}}function m(v,d){this.fun=v,this.array=d}function f(){}c.nextTick=function(v){var d=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)d[L-1]=arguments[L];y.push(new m(v,d)),1===y.length&&!E&&b(_)},m.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=f,c.addListener=f,c.once=f,c.off=f,c.removeListener=f,c.removeAllListeners=f,c.emit=f,c.prependListener=f,c.prependOnceListener=f,c.listeners=function(v){return[]},c.binding=function(v){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(v){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":function(we,k,c){we.exports=c("./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":function(we,k,c){"use strict";var B=c("./node_modules/process-nextick-args/index.js"),T=Object.keys||function(_){var m=[];for(var f in _)m.push(f);return m};we.exports=F;var M=c("./node_modules/core-util-is/lib/util.js");M.inherits=c("./node_modules/inherits/inherits_browser.js");var S=c("./node_modules/readable-stream/lib/_stream_readable.js"),b=c("./node_modules/readable-stream/lib/_stream_writable.js");M.inherits(F,S);for(var h=T(b.prototype),y=0;y<h.length;y++){var E=h[y];F.prototype[E]||(F.prototype[E]=b.prototype[E])}function F(_){if(!(this instanceof F))return new F(_);S.call(this,_),b.call(this,_),_&&!1===_.readable&&(this.readable=!1),_&&!1===_.writable&&(this.writable=!1),this.allowHalfOpen=!0,_&&!1===_.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",P)}function P(){this.allowHalfOpen||this._writableState.ended||B.nextTick(x,this)}function x(_){_.end()}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(F.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(_){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),F.prototype._destroy=function(_,m){this.push(null),this.end(),B.nextTick(m,_)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":function(we,k,c){"use strict";we.exports=M;var B=c("./node_modules/readable-stream/lib/_stream_transform.js"),T=c("./node_modules/core-util-is/lib/util.js");function M(S){if(!(this instanceof M))return new M(S);B.call(this,S)}T.inherits=c("./node_modules/inherits/inherits_browser.js"),T.inherits(M,B),M.prototype._transform=function(S,b,h){h(null,S)}},"./node_modules/readable-stream/lib/_stream_readable.js":function(we,k,c){"use strict";(function(B,T){var M=c("./node_modules/process-nextick-args/index.js");we.exports=p;var b,S=c("./node_modules/isarray/index.js");p.ReadableState=A,c("./node_modules/node-libs-browser/node_modules/events/events.js");var y=function(z,D){return z.listeners(D).length},E=c("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),F=c("./node_modules/safe-buffer/index.js").Buffer,P=B.Uint8Array||function(){};var m=c("./node_modules/core-util-is/lib/util.js");m.inherits=c("./node_modules/inherits/inherits_browser.js");var f=c(0),v=void 0;v=f&&f.debuglog?f.debuglog("stream"):function(){};var C,d=c("./node_modules/readable-stream/lib/internal/streams/BufferList.js"),L=c("./node_modules/readable-stream/lib/internal/streams/destroy.js");m.inherits(p,E);var I=["error","close","destroy","pause","resume"];function A(z,D){var O=D instanceof(b=b||c("./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(z=z||{}).objectMode,O&&(this.objectMode=this.objectMode||!!z.readableObjectMode);var H=z.highWaterMark,j=z.readableHighWaterMark;this.highWaterMark=H||0===H?H:O&&(j||0===j)?j:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(C||(C=c("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new C(z.encoding),this.encoding=z.encoding)}function p(z){if(b=b||c("./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof p))return new p(z);this._readableState=new A(z,this),this.readable=!0,z&&("function"==typeof z.read&&(this._read=z.read),"function"==typeof z.destroy&&(this._destroy=z.destroy)),E.call(this)}function w(z,D,O,H,j){var Te,oe=z._readableState;return null===D?(oe.reading=!1,function U(z,D){if(!D.ended){if(D.decoder){var O=D.decoder.end();O&&O.length&&(D.buffer.push(O),D.length+=D.objectMode?1:O.length)}D.ended=!0,ie(z)}}(z,oe)):(j||(Te=function $(z,D){var O;return!function _(z){return F.isBuffer(z)||z instanceof P}(D)&&"string"!=typeof D&&void 0!==D&&!z.objectMode&&(O=new TypeError("Invalid non-string/buffer chunk")),O}(oe,D)),Te?z.emit("error",Te):oe.objectMode||D&&D.length>0?("string"!=typeof D&&!oe.objectMode&&Object.getPrototypeOf(D)!==F.prototype&&(D=function x(z){return F.from(z)}(D)),H?oe.endEmitted?z.emit("error",new Error("stream.unshift() after end event")):W(z,oe,D,!0):oe.ended?z.emit("error",new Error("stream.push() after EOF")):(oe.reading=!1,oe.decoder&&!O?(D=oe.decoder.write(D),oe.objectMode||0!==D.length?W(z,oe,D,!1):le(z,oe)):W(z,oe,D,!1))):H||(oe.reading=!1)),function Q(z){return!z.ended&&(z.needReadable||z.length<z.highWaterMark||0===z.length)}(oe)}function W(z,D,O,H){D.flowing&&0===D.length&&!D.sync?(z.emit("data",O),z.read(0)):(D.length+=D.objectMode?1:O.length,H?D.buffer.unshift(O):D.buffer.push(O),D.needReadable&&ie(z)),le(z,D)}Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(z){!this._readableState||(this._readableState.destroyed=z)}}),p.prototype.destroy=L.destroy,p.prototype._undestroy=L.undestroy,p.prototype._destroy=function(z,D){this.push(null),D(z)},p.prototype.push=function(z,D){var H,O=this._readableState;return O.objectMode?H=!0:"string"==typeof z&&((D=D||O.defaultEncoding)!==O.encoding&&(z=F.from(z,D),D=""),H=!0),w(this,z,D,!1,H)},p.prototype.unshift=function(z){return w(this,z,null,!0,!1)},p.prototype.isPaused=function(){return!1===this._readableState.flowing},p.prototype.setEncoding=function(z){return C||(C=c("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new C(z),this._readableState.encoding=z,this};function ne(z,D){return z<=0||0===D.length&&D.ended?0:D.objectMode?1:z!=z?D.flowing&&D.length?D.buffer.head.data.length:D.length:(z>D.highWaterMark&&(D.highWaterMark=function ce(z){return z>=8388608?z=8388608:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(z)),z<=D.length?z:D.ended?D.length:(D.needReadable=!0,0))}function ie(z){var D=z._readableState;D.needReadable=!1,D.emittedReadable||(v("emitReadable",D.flowing),D.emittedReadable=!0,D.sync?M.nextTick(q,z):q(z))}function q(z){v("emit readable"),z.emit("readable"),_e(z)}function le(z,D){D.readingMore||(D.readingMore=!0,M.nextTick(de,z,D))}function de(z,D){for(var O=D.length;!D.reading&&!D.flowing&&!D.ended&&D.length<D.highWaterMark&&(v("maybeReadMore read 0"),z.read(0),O!==D.length);)O=D.length;D.readingMore=!1}function Z(z){v("readable nexttick read 0"),z.read(0)}function re(z,D){D.reading||(v("resume read 0"),z.read(0)),D.resumeScheduled=!1,D.awaitDrain=0,z.emit("resume"),_e(z),D.flowing&&!D.reading&&z.read(0)}function _e(z){var D=z._readableState;for(v("flow",D.flowing);D.flowing&&null!==z.read(););}function ge(z,D){return 0===D.length?null:(D.objectMode?O=D.buffer.shift():!z||z>=D.length?(O=D.decoder?D.buffer.join(""):1===D.buffer.length?D.buffer.head.data:D.buffer.concat(D.length),D.buffer.clear()):O=function fe(z,D,O){var H;return z<D.head.data.length?(H=D.head.data.slice(0,z),D.head.data=D.head.data.slice(z)):H=z===D.head.data.length?D.shift():O?function ve(z,D){var O=D.head,H=1,j=O.data;for(z-=j.length;O=O.next;){var oe=O.data,Te=z>oe.length?oe.length:z;if(j+=Te===oe.length?oe:oe.slice(0,z),0==(z-=Te)){Te===oe.length?(++H,D.head=O.next?O.next:D.tail=null):(D.head=O,O.data=oe.slice(Te));break}++H}return D.length-=H,j}(z,D):function X(z,D){var O=F.allocUnsafe(z),H=D.head,j=1;for(H.data.copy(O),z-=H.data.length;H=H.next;){var oe=H.data,Te=z>oe.length?oe.length:z;if(oe.copy(O,O.length-z,0,Te),0==(z-=Te)){Te===oe.length?(++j,D.head=H.next?H.next:D.tail=null):(D.head=H,H.data=oe.slice(Te));break}++j}return D.length-=j,O}(z,D),H}(z,D.buffer,D.decoder),O);var O}function ye(z){var D=z._readableState;if(D.length>0)throw new Error('"endReadable()" called on non-empty stream');D.endEmitted||(D.ended=!0,M.nextTick(se,D,z))}function se(z,D){!z.endEmitted&&0===z.length&&(z.endEmitted=!0,D.readable=!1,D.emit("end"))}function ee(z,D){for(var O=0,H=z.length;O<H;O++)if(z[O]===D)return O;return-1}p.prototype.read=function(z){v("read",z),z=parseInt(z,10);var D=this._readableState,O=z;if(0!==z&&(D.emittedReadable=!1),0===z&&D.needReadable&&(D.length>=D.highWaterMark||D.ended))return v("read: emitReadable",D.length,D.ended),0===D.length&&D.ended?ye(this):ie(this),null;if(0===(z=ne(z,D))&&D.ended)return 0===D.length&&ye(this),null;var j,H=D.needReadable;return v("need readable",H),(0===D.length||D.length-z<D.highWaterMark)&&v("length less than watermark",H=!0),D.ended||D.reading?v("reading or ended",H=!1):H&&(v("do read"),D.reading=!0,D.sync=!0,0===D.length&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(z=ne(O,D))),null===(j=z>0?ge(z,D):null)?(D.needReadable=!0,z=0):D.length-=z,0===D.length&&(D.ended||(D.needReadable=!0),O!==z&&D.ended&&ye(this)),null!==j&&this.emit("data",j),j},p.prototype._read=function(z){this.emit("error",new Error("_read() is not implemented"))},p.prototype.pipe=function(z,D){var O=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=z;break;case 1:H.pipes=[H.pipes,z];break;default:H.pipes.push(z)}H.pipesCount+=1,v("pipe count=%d opts=%j",H.pipesCount,D);var oe=D&&!1===D.end||z===T.stdout||z===T.stderr?be:Re;function Te(Ie,xe){v("onunpipe"),Ie===O&&xe&&!1===xe.hasUnpiped&&(xe.hasUnpiped=!0,function V(){v("cleanup"),z.removeListener("close",he),z.removeListener("finish",Ae),z.removeListener("drain",me),z.removeListener("error",J),z.removeListener("unpipe",Te),O.removeListener("end",Re),O.removeListener("end",be),O.removeListener("data",te),G=!0,H.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&me()}())}function Re(){v("onend"),z.end()}H.endEmitted?M.nextTick(oe):O.once("end",oe),z.on("unpipe",Te);var me=function Ee(z){return function(){var D=z._readableState;v("pipeOnDrain",D.awaitDrain),D.awaitDrain&&D.awaitDrain--,0===D.awaitDrain&&y(z,"data")&&(D.flowing=!0,_e(z))}}(O);z.on("drain",me);var G=!1;var K=!1;function te(Ie){v("ondata"),K=!1,!1===z.write(Ie)&&!K&&((1===H.pipesCount&&H.pipes===z||H.pipesCount>1&&-1!==ee(H.pipes,z))&&!G&&(v("false write response, pause",O._readableState.awaitDrain),O._readableState.awaitDrain++,K=!0),O.pause())}function J(Ie){v("onerror",Ie),be(),z.removeListener("error",J),0===y(z,"error")&&z.emit("error",Ie)}function he(){z.removeListener("finish",Ae),be()}function Ae(){v("onfinish"),z.removeListener("close",he),be()}function be(){v("unpipe"),O.unpipe(z)}return O.on("data",te),function R(z,D,O){if("function"==typeof z.prependListener)return z.prependListener(D,O);z._events&&z._events[D]?S(z._events[D])?z._events[D].unshift(O):z._events[D]=[O,z._events[D]]:z.on(D,O)}(z,"error",J),z.once("close",he),z.once("finish",Ae),z.emit("pipe",O),H.flowing||(v("pipe resume"),O.resume()),z},p.prototype.unpipe=function(z){var D=this._readableState,O={hasUnpiped:!1};if(0===D.pipesCount)return this;if(1===D.pipesCount)return z&&z!==D.pipes||(z||(z=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,z&&z.emit("unpipe",this,O)),this;if(!z){var H=D.pipes,j=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var oe=0;oe<j;oe++)H[oe].emit("unpipe",this,O);return this}var Te=ee(D.pipes,z);return-1===Te||(D.pipes.splice(Te,1),D.pipesCount-=1,1===D.pipesCount&&(D.pipes=D.pipes[0]),z.emit("unpipe",this,O)),this},p.prototype.addListener=p.prototype.on=function(z,D){var O=E.prototype.on.call(this,z,D);if("data"===z)!1!==this._readableState.flowing&&this.resume();else if("readable"===z){var H=this._readableState;!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.emittedReadable=!1,H.reading?H.length&&ie(this):M.nextTick(Z,this))}return O},p.prototype.resume=function(){var z=this._readableState;return z.flowing||(v("resume"),z.flowing=!0,function pe(z,D){D.resumeScheduled||(D.resumeScheduled=!0,M.nextTick(re,z,D))}(this,z)),this},p.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this},p.prototype.wrap=function(z){var D=this,O=this._readableState,H=!1;for(var j in z.on("end",function(){if(v("wrapped end"),O.decoder&&!O.ended){var Te=O.decoder.end();Te&&Te.length&&D.push(Te)}D.push(null)}),z.on("data",function(Te){v("wrapped data"),O.decoder&&(Te=O.decoder.write(Te)),O.objectMode&&null==Te||!(O.objectMode||Te&&Te.length)||D.push(Te)||(H=!0,z.pause())}),z)void 0===this[j]&&"function"==typeof z[j]&&(this[j]=function(Te){return function(){return z[Te].apply(z,arguments)}}(j));for(var oe=0;oe<I.length;oe++)z.on(I[oe],this.emit.bind(this,I[oe]));return this._read=function(Te){v("wrapped _read",Te),H&&(H=!1,z.resume())},this},Object.defineProperty(p.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),p._fromList=ge}).call(this,c("./node_modules/webpack/buildin/global.js"),c("./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":function(we,k,c){"use strict";we.exports=S;var B=c("./node_modules/readable-stream/lib/_stream_duplex.js"),T=c("./node_modules/core-util-is/lib/util.js");function M(y,E){var F=this._transformState;F.transforming=!1;var P=F.writecb;if(!P)return this.emit("error",new Error("write callback called multiple times"));F.writechunk=null,F.writecb=null,null!=E&&this.push(E),P(y);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function S(y){if(!(this instanceof S))return new S(y);B.call(this,y),this._transformState={afterTransform:M.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&("function"==typeof y.transform&&(this._transform=y.transform),"function"==typeof y.flush&&(this._flush=y.flush)),this.on("prefinish",b)}function b(){var y=this;"function"==typeof this._flush?this._flush(function(E,F){h(y,E,F)}):h(this,null,null)}function h(y,E,F){if(E)return y.emit("error",E);if(null!=F&&y.push(F),y._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(y._transformState.transforming)throw new Error("Calling transform done when still transforming");return y.push(null)}T.inherits=c("./node_modules/inherits/inherits_browser.js"),T.inherits(S,B),S.prototype.push=function(y,E){return this._transformState.needTransform=!1,B.prototype.push.call(this,y,E)},S.prototype._transform=function(y,E,F){throw new Error("_transform() is not implemented")},S.prototype._write=function(y,E,F){var P=this._transformState;if(P.writecb=F,P.writechunk=y,P.writeencoding=E,!P.transforming){var x=this._readableState;(P.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},S.prototype._read=function(y){var E=this._transformState;null!==E.writechunk&&E.writecb&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},S.prototype._destroy=function(y,E){var F=this;B.prototype._destroy.call(this,y,function(P){E(P),F.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":function(we,k,c){"use strict";(function(B,T,M){var S=c("./node_modules/process-nextick-args/index.js");function h(re){var _e=this;this.next=null,this.entry=null,this.finish=function(){!function pe(re,_e,ge){var fe=re.entry;for(re.entry=null;fe;){var ve=fe.callback;_e.pendingcb--,ve(ge),fe=fe.next}_e.corkedRequestsFree?_e.corkedRequestsFree.next=re:_e.corkedRequestsFree=re}(_e,re)}}we.exports=R;var E,y=!B.browser&&["v0.10","v0.9."].indexOf(B.version.slice(0,5))>-1?T:S.nextTick;R.WritableState=C;var F=c("./node_modules/core-util-is/lib/util.js");F.inherits=c("./node_modules/inherits/inherits_browser.js");var P={deprecate:c("./node_modules/util-deprecate/browser.js")},x=c("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),_=c("./node_modules/safe-buffer/index.js").Buffer,m=M.Uint8Array||function(){};var I,d=c("./node_modules/readable-stream/lib/internal/streams/destroy.js");function L(){}function C(re,_e){E=E||c("./node_modules/readable-stream/lib/_stream_duplex.js");var ge=_e instanceof E;this.objectMode=!!(re=re||{}).objectMode,ge&&(this.objectMode=this.objectMode||!!re.writableObjectMode);var fe=re.highWaterMark,ve=re.writableHighWaterMark;this.highWaterMark=fe||0===fe?fe:ge&&(ve||0===ve)?ve:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===re.decodeStrings),this.defaultEncoding=re.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){!function ce(re,_e){var ge=re._writableState,fe=ge.sync,ve=ge.writecb;if(function ue(re){re.writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0}(ge),_e)!function Q(re,_e,ge,fe,ve){--_e.pendingcb,ge?(S.nextTick(ve,fe),S.nextTick(Ee,re,_e),re._writableState.errorEmitted=!0,re.emit("error",fe)):(ve(fe),re._writableState.errorEmitted=!0,re.emit("error",fe),Ee(re,_e))}(re,ge,fe,_e,ve);else{var X=q(ge);!X&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&ie(re,ge),fe?y(ne,re,ge,X,ve):ne(re,ge,X,ve)}}(_e,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function R(re){if(E=E||c("./node_modules/readable-stream/lib/_stream_duplex.js"),!(I.call(R,this)||this instanceof E))return new R(re);this._writableState=new C(re,this),this.writable=!0,re&&("function"==typeof re.write&&(this._write=re.write),"function"==typeof re.writev&&(this._writev=re.writev),"function"==typeof re.destroy&&(this._destroy=re.destroy),"function"==typeof re.final&&(this._final=re.final)),x.call(this)}function W(re,_e,ge,fe,ve,X){if(!ge){var ye=function w(re,_e,ge){return!re.objectMode&&!1!==re.decodeStrings&&"string"==typeof _e&&(_e=_.from(_e,ge)),_e}(_e,fe,ve);fe!==ye&&(ge=!0,ve="buffer",fe=ye)}var se=_e.objectMode?1:fe.length;_e.length+=se;var ee=_e.length<_e.highWaterMark;if(ee||(_e.needDrain=!0),_e.writing||_e.corked){var z=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:fe,encoding:ve,isBuf:ge,callback:X,next:null},z?z.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else $(re,_e,!1,se,fe,ve,X);return ee}function $(re,_e,ge,fe,ve,X,ye){_e.writelen=fe,_e.writecb=ye,_e.writing=!0,_e.sync=!0,ge?re._writev(ve,_e.onwrite):re._write(ve,X,_e.onwrite),_e.sync=!1}function ne(re,_e,ge,fe){ge||function U(re,_e){0===_e.length&&_e.needDrain&&(_e.needDrain=!1,re.emit("drain"))}(re,_e),_e.pendingcb--,fe(),Ee(re,_e)}function ie(re,_e){_e.bufferProcessing=!0;var ge=_e.bufferedRequest;if(re._writev&&ge&&ge.next){var ve=new Array(_e.bufferedRequestCount),X=_e.corkedRequestsFree;X.entry=ge;for(var ye=0,se=!0;ge;)ve[ye]=ge,ge.isBuf||(se=!1),ge=ge.next,ye+=1;ve.allBuffers=se,$(re,_e,!0,_e.length,ve,"",X.finish),_e.pendingcb++,_e.lastBufferedRequest=null,X.next?(_e.corkedRequestsFree=X.next,X.next=null):_e.corkedRequestsFree=new h(_e),_e.bufferedRequestCount=0}else{for(;ge;){var ee=ge.chunk;if($(re,_e,!1,_e.objectMode?1:ee.length,ee,ge.encoding,ge.callback),ge=ge.next,_e.bufferedRequestCount--,_e.writing)break}null===ge&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=ge,_e.bufferProcessing=!1}function q(re){return re.ending&&0===re.length&&null===re.bufferedRequest&&!re.finished&&!re.writing}function le(re,_e){re._final(function(ge){_e.pendingcb--,ge&&re.emit("error",ge),_e.prefinished=!0,re.emit("prefinish"),Ee(re,_e)})}function Ee(re,_e){var ge=q(_e);return ge&&(function de(re,_e){!_e.prefinished&&!_e.finalCalled&&("function"==typeof re._final?(_e.pendingcb++,_e.finalCalled=!0,S.nextTick(le,re,_e)):(_e.prefinished=!0,re.emit("prefinish")))}(re,_e),0===_e.pendingcb&&(_e.finished=!0,re.emit("finish"))),ge}F.inherits(R,x),C.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,ge=[];_e;)ge.push(_e),_e=_e.next;return ge},function(){try{Object.defineProperty(C.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(R,Symbol.hasInstance,{value:function(re){return!!I.call(this,re)||this===R&&re&&re._writableState instanceof C}})):I=function(re){return re instanceof this},R.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},R.prototype.write=function(re,_e,ge){var fe=this._writableState,ve=!1,X=!fe.objectMode&&function v(re){return _.isBuffer(re)||re instanceof m}(re);return X&&!_.isBuffer(re)&&(re=function f(re){return _.from(re)}(re)),"function"==typeof _e&&(ge=_e,_e=null),X?_e="buffer":_e||(_e=fe.defaultEncoding),"function"!=typeof ge&&(ge=L),fe.ended?function A(re,_e){var ge=new Error("write after end");re.emit("error",ge),S.nextTick(_e,ge)}(this,ge):(X||function p(re,_e,ge,fe){var ve=!0,X=!1;return null===ge?X=new TypeError("May not write null values to stream"):"string"!=typeof ge&&void 0!==ge&&!_e.objectMode&&(X=new TypeError("Invalid non-string/buffer chunk")),X&&(re.emit("error",X),S.nextTick(fe,X),ve=!1),ve}(this,fe,re,ge))&&(fe.pendingcb++,ve=W(this,fe,X,re,_e,ge)),ve},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){var re=this._writableState;re.corked&&(re.corked--,!re.writing&&!re.corked&&!re.finished&&!re.bufferProcessing&&re.bufferedRequest&&ie(this,re))},R.prototype.setDefaultEncoding=function(_e){if("string"==typeof _e&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_e);return this._writableState.defaultEncoding=_e,this},Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),R.prototype._write=function(re,_e,ge){ge(new Error("_write() is not implemented"))},R.prototype._writev=null,R.prototype.end=function(re,_e,ge){var fe=this._writableState;"function"==typeof re?(ge=re,re=null,_e=null):"function"==typeof _e&&(ge=_e,_e=null),null!=re&&this.write(re,_e),fe.corked&&(fe.corked=1,this.uncork()),!fe.ending&&!fe.finished&&function Z(re,_e,ge){_e.ending=!0,Ee(re,_e),ge&&(_e.finished?S.nextTick(ge):re.once("finish",ge)),_e.ended=!0,re.writable=!1}(this,fe,ge)},Object.defineProperty(R.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(re){!this._writableState||(this._writableState.destroyed=re)}}),R.prototype.destroy=d.destroy,R.prototype._undestroy=d.undestroy,R.prototype._destroy=function(re,_e){this.end(),_e(re)}}).call(this,c("./node_modules/process/browser.js"),c("./node_modules/node-libs-browser/node_modules/timers-browserify/main.js").setImmediate,c("./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":function(we,k,c){"use strict";var T=c("./node_modules/safe-buffer/index.js").Buffer,M=c(1);function S(b,h,y){b.copy(h,y)}we.exports=function(){function b(){(function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")})(this,b),this.head=null,this.tail=null,this.length=0}return b.prototype.push=function(y){var E={data:y,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length},b.prototype.unshift=function(y){var E={data:y,next:this.head};0===this.length&&(this.tail=E),this.head=E,++this.length},b.prototype.shift=function(){if(0!==this.length){var y=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,y}},b.prototype.clear=function(){this.head=this.tail=null,this.length=0},b.prototype.join=function(y){if(0===this.length)return"";for(var E=this.head,F=""+E.data;E=E.next;)F+=y+E.data;return F},b.prototype.concat=function(y){if(0===this.length)return T.alloc(0);if(1===this.length)return this.head.data;for(var E=T.allocUnsafe(y>>>0),F=this.head,P=0;F;)S(F.data,E,P),P+=F.data.length,F=F.next;return E},b}(),M&&M.inspect&&M.inspect.custom&&(we.exports.prototype[M.inspect.custom]=function(){var b=M.inspect({length:this.length});return this.constructor.name+" "+b})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":function(we,k,c){"use strict";var B=c("./node_modules/process-nextick-args/index.js");function S(b,h){b.emit("error",h)}we.exports={destroy:function T(b,h){var y=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(h?h(b):b&&(!this._writableState||!this._writableState.errorEmitted)&&B.nextTick(S,this,b),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(P){!h&&P?(B.nextTick(S,y,P),y._writableState&&(y._writableState.errorEmitted=!0)):h&&h(P)}),this)},undestroy:function M(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":function(we,k,c){we.exports=c("./node_modules/node-libs-browser/node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/passthrough.js":function(we,k,c){we.exports=c("./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":function(we,k,c){(k=we.exports=c("./node_modules/readable-stream/lib/_stream_readable.js")).Stream=k,k.Readable=k,k.Writable=c("./node_modules/readable-stream/lib/_stream_writable.js"),k.Duplex=c("./node_modules/readable-stream/lib/_stream_duplex.js"),k.Transform=c("./node_modules/readable-stream/lib/_stream_transform.js"),k.PassThrough=c("./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":function(we,k,c){we.exports=c("./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":function(we,k,c){we.exports=c("./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":function(we,k,c){var B=c("./node_modules/node-libs-browser/node_modules/buffer/index.js"),T=B.Buffer;function M(b,h){for(var y in b)h[y]=b[y]}function S(b,h,y){return T(b,h,y)}T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?we.exports=B:(M(B,k),k.Buffer=S),M(T,S),S.from=function(b,h,y){if("number"==typeof b)throw new TypeError("Argument must not be a number");return T(b,h,y)},S.alloc=function(b,h,y){if("number"!=typeof b)throw new TypeError("Argument must be a number");var E=T(b);return void 0!==h?"string"==typeof y?E.fill(h,y):E.fill(h):E.fill(0),E},S.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return T(b)},S.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return B.SlowBuffer(b)}},"./node_modules/sax/lib/sax.js":function(we,k,c){(function(B){!function(T){T.parser=function(D,O){return new S(D,O)},T.SAXParser=S,T.SAXStream=x,T.createStream=function P(D,O){return new x(D,O)},T.MAX_BUFFER_LENGTH=65536;var E,M=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function S(D,O){if(!(this instanceof S))return new S(D,O);var H=this;(function h(D){for(var O=0,H=M.length;O<H;O++)D[M[O]]=""})(H),H.q=H.c="",H.bufferCheckPosition=T.MAX_BUFFER_LENGTH,H.opt=O||{},H.opt.lowercase=H.opt.lowercase||H.opt.lowercasetags,H.looseCase=H.opt.lowercase?"toLowerCase":"toUpperCase",H.tags=[],H.closed=H.closedRoot=H.sawRoot=!1,H.tag=H.error=null,H.strict=!!D,H.noscript=!(!D&&!H.opt.noscript),H.state=U.BEGIN,H.strictEntities=H.opt.strictEntities,H.ENTITIES=Object.create(H.strictEntities?T.XML_ENTITIES:T.ENTITIES),H.attribList=[],H.opt.xmlns&&(H.ns=Object.create(A)),H.trackPosition=!1!==H.opt.position,H.trackPosition&&(H.position=H.line=H.column=0),q(H,"onready")}T.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(D){function O(){}return O.prototype=D,new O}),Object.keys||(Object.keys=function(D){var O=[];for(var H in D)D.hasOwnProperty(H)&&O.push(H);return O}),S.prototype={end:function(){pe(this)},write:function z(D){var O=this;if(this.error)throw this.error;if(O.closed)return Z(O,"Cannot write after close. Assign an onready handler.");if(null===D)return pe(O);"object"==typeof D&&(D=D.toString());for(var H=0,j="";j=ee(D,H++),O.c=j,j;)switch(O.trackPosition&&(O.position++,"\n"===j?(O.line++,O.column=0):O.column++),O.state){case U.BEGIN:if(O.state=U.BEGIN_WHITESPACE,"\ufeff"===j)continue;se(O,j);continue;case U.BEGIN_WHITESPACE:se(O,j);continue;case U.TEXT:if(O.sawRoot&&!O.closedRoot){for(var oe=H-1;j&&"<"!==j&&"&"!==j;)(j=ee(D,H++))&&O.trackPosition&&(O.position++,"\n"===j?(O.line++,O.column=0):O.column++);O.textNode+=D.substring(oe,H-1)}"<"!==j||O.sawRoot&&O.closedRoot&&!O.strict?(ne(_,j)&&(!O.sawRoot||O.closedRoot)&&re(O,"Text data outside of root node."),"&"===j?O.state=U.TEXT_ENTITY:O.textNode+=j):(O.state=U.OPEN_WAKA,O.startTagPosition=O.position);continue;case U.SCRIPT:"<"===j?O.state=U.SCRIPT_ENDING:O.script+=j;continue;case U.SCRIPT_ENDING:"/"===j?O.state=U.CLOSE_TAG:(O.script+="<"+j,O.state=U.SCRIPT);continue;case U.OPEN_WAKA:"!"===j?(O.state=U.SGML_DECL,O.sgmlDecl=""):ce(_,j)||(ce(p,j)?(O.state=U.OPEN_TAG,O.tagName=j):"/"===j?(O.state=U.CLOSE_TAG,O.tagName=""):"?"===j?(O.state=U.PROC_INST,O.procInstName=O.procInstBody=""):(re(O,"Unencoded <"),O.startTagPosition+1<O.position&&(j=new Array(O.position-O.startTagPosition).join(" ")+j),O.textNode+="<"+j,O.state=U.TEXT));continue;case U.SGML_DECL:"[CDATA["===(O.sgmlDecl+j).toUpperCase()?(le(O,"onopencdata"),O.state=U.CDATA,O.sgmlDecl="",O.cdata=""):O.sgmlDecl+j==="--"?(O.state=U.COMMENT,O.comment="",O.sgmlDecl=""):"DOCTYPE"===(O.sgmlDecl+j).toUpperCase()?(O.state=U.DOCTYPE,(O.doctype||O.sawRoot)&&re(O,"Inappropriately located doctype declaration"),O.doctype="",O.sgmlDecl=""):">"===j?(le(O,"onsgmldeclaration",O.sgmlDecl),O.sgmlDecl="",O.state=U.TEXT):(ce(v,j)&&(O.state=U.SGML_DECL_QUOTED),O.sgmlDecl+=j);continue;case U.SGML_DECL_QUOTED:j===O.q&&(O.state=U.SGML_DECL,O.q=""),O.sgmlDecl+=j;continue;case U.DOCTYPE:">"===j?(O.state=U.TEXT,le(O,"ondoctype",O.doctype),O.doctype=!0):(O.doctype+=j,"["===j?O.state=U.DOCTYPE_DTD:ce(v,j)&&(O.state=U.DOCTYPE_QUOTED,O.q=j));continue;case U.DOCTYPE_QUOTED:O.doctype+=j,j===O.q&&(O.q="",O.state=U.DOCTYPE);continue;case U.DOCTYPE_DTD:O.doctype+=j,"]"===j?O.state=U.DOCTYPE:ce(v,j)&&(O.state=U.DOCTYPE_DTD_QUOTED,O.q=j);continue;case U.DOCTYPE_DTD_QUOTED:O.doctype+=j,j===O.q&&(O.state=U.DOCTYPE_DTD,O.q="");continue;case U.COMMENT:"-"===j?O.state=U.COMMENT_ENDING:O.comment+=j;continue;case U.COMMENT_ENDING:"-"===j?(O.state=U.COMMENT_ENDED,O.comment=Ee(O.opt,O.comment),O.comment&&le(O,"oncomment",O.comment),O.comment=""):(O.comment+="-"+j,O.state=U.COMMENT);continue;case U.COMMENT_ENDED:">"!==j?(re(O,"Malformed comment"),O.comment+="--"+j,O.state=U.COMMENT):O.state=U.TEXT;continue;case U.CDATA:"]"===j?O.state=U.CDATA_ENDING:O.cdata+=j;continue;case U.CDATA_ENDING:"]"===j?O.state=U.CDATA_ENDING_2:(O.cdata+="]"+j,O.state=U.CDATA);continue;case U.CDATA_ENDING_2:">"===j?(O.cdata&&le(O,"oncdata",O.cdata),le(O,"onclosecdata"),O.cdata="",O.state=U.TEXT):"]"===j?O.cdata+="]":(O.cdata+="]]"+j,O.state=U.CDATA);continue;case U.PROC_INST:"?"===j?O.state=U.PROC_INST_ENDING:ce(_,j)?O.state=U.PROC_INST_BODY:O.procInstName+=j;continue;case U.PROC_INST_BODY:if(!O.procInstBody&&ce(_,j))continue;"?"===j?O.state=U.PROC_INST_ENDING:O.procInstBody+=j;continue;case U.PROC_INST_ENDING:">"===j?(le(O,"onprocessinginstruction",{name:O.procInstName,body:O.procInstBody}),O.procInstName=O.procInstBody="",O.state=U.TEXT):(O.procInstBody+="?"+j,O.state=U.PROC_INST_BODY);continue;case U.OPEN_TAG:ce(w,j)?O.tagName+=j:(_e(O),">"===j?ve(O):"/"===j?O.state=U.OPEN_TAG_SLASH:(ne(_,j)&&re(O,"Invalid character in tag name"),O.state=U.ATTRIB));continue;case U.OPEN_TAG_SLASH:">"===j?(ve(O,!0),X(O)):(re(O,"Forward-slash in opening tag not followed by >"),O.state=U.ATTRIB);continue;case U.ATTRIB:if(ce(_,j))continue;">"===j?ve(O):"/"===j?O.state=U.OPEN_TAG_SLASH:ce(p,j)?(O.attribName=j,O.attribValue="",O.state=U.ATTRIB_NAME):re(O,"Invalid attribute name");continue;case U.ATTRIB_NAME:"="===j?O.state=U.ATTRIB_VALUE:">"===j?(re(O,"Attribute without value"),O.attribValue=O.attribName,fe(O),ve(O)):ce(_,j)?O.state=U.ATTRIB_NAME_SAW_WHITE:ce(w,j)?O.attribName+=j:re(O,"Invalid attribute name");continue;case U.ATTRIB_NAME_SAW_WHITE:if("="===j)O.state=U.ATTRIB_VALUE;else{if(ce(_,j))continue;re(O,"Attribute without value"),O.tag.attributes[O.attribName]="",O.attribValue="",le(O,"onattribute",{name:O.attribName,value:""}),O.attribName="",">"===j?ve(O):ce(p,j)?(O.attribName=j,O.state=U.ATTRIB_NAME):(re(O,"Invalid attribute name"),O.state=U.ATTRIB)}continue;case U.ATTRIB_VALUE:if(ce(_,j))continue;ce(v,j)?(O.q=j,O.state=U.ATTRIB_VALUE_QUOTED):(re(O,"Unquoted attribute value"),O.state=U.ATTRIB_VALUE_UNQUOTED,O.attribValue=j);continue;case U.ATTRIB_VALUE_QUOTED:if(j!==O.q){"&"===j?O.state=U.ATTRIB_VALUE_ENTITY_Q:O.attribValue+=j;continue}fe(O),O.q="",O.state=U.ATTRIB_VALUE_CLOSED;continue;case U.ATTRIB_VALUE_CLOSED:ce(_,j)?O.state=U.ATTRIB:">"===j?ve(O):"/"===j?O.state=U.OPEN_TAG_SLASH:ce(p,j)?(re(O,"No whitespace between attributes"),O.attribName=j,O.attribValue="",O.state=U.ATTRIB_NAME):re(O,"Invalid attribute name");continue;case U.ATTRIB_VALUE_UNQUOTED:if(ne(d,j)){"&"===j?O.state=U.ATTRIB_VALUE_ENTITY_U:O.attribValue+=j;continue}fe(O),">"===j?ve(O):O.state=U.ATTRIB;continue;case U.CLOSE_TAG:if(O.tagName)">"===j?X(O):ce(w,j)?O.tagName+=j:O.script?(O.script+="</"+O.tagName,O.tagName="",O.state=U.SCRIPT):(ne(_,j)&&re(O,"Invalid tagname in closing tag"),O.state=U.CLOSE_TAG_SAW_WHITE);else{if(ce(_,j))continue;ne(p,j)?O.script?(O.script+="</"+j,O.state=U.SCRIPT):re(O,"Invalid tagname in closing tag."):O.tagName=j}continue;case U.CLOSE_TAG_SAW_WHITE:if(ce(_,j))continue;">"===j?X(O):re(O,"Invalid characters in closing tag");continue;case U.TEXT_ENTITY:case U.ATTRIB_VALUE_ENTITY_Q:case U.ATTRIB_VALUE_ENTITY_U:var Re,me;switch(O.state){case U.TEXT_ENTITY:Re=U.TEXT,me="textNode";break;case U.ATTRIB_VALUE_ENTITY_Q:Re=U.ATTRIB_VALUE_QUOTED,me="attribValue";break;case U.ATTRIB_VALUE_ENTITY_U:Re=U.ATTRIB_VALUE_UNQUOTED,me="attribValue"}";"===j?(O[me]+=ye(O),O.entity="",O.state=Re):ce(O.entity.length?$:W,j)?O.entity+=j:(re(O,"Invalid character in entity name"),O[me]+="&"+O.entity+j,O.entity="",O.state=Re);continue;default:throw new Error(O,"Unknown state: "+O.state)}return O.position>=O.bufferCheckPosition&&function b(D){for(var O=Math.max(T.MAX_BUFFER_LENGTH,10),H=0,j=0,oe=M.length;j<oe;j++){var Te=D[M[j]].length;if(Te>O)switch(M[j]){case"textNode":de(D);break;case"cdata":le(D,"oncdata",D.cdata),D.cdata="";break;case"script":le(D,"onscript",D.script),D.script="";break;default:Z(D,"Max buffer length exceeded: "+M[j])}H=Math.max(H,Te)}D.bufferCheckPosition=T.MAX_BUFFER_LENGTH-H+D.position}(O),O},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function y(D){de(D),""!==D.cdata&&(le(D,"oncdata",D.cdata),D.cdata=""),""!==D.script&&(le(D,"onscript",D.script),D.script="")}(this)}};try{E=c("./node_modules/stream-browserify/index.js").Stream}catch{E=function(){}}var F=T.EVENTS.filter(function(D){return"error"!==D&&"end"!==D});function x(D,O){if(!(this instanceof x))return new x(D,O);E.apply(this),this._parser=new S(D,O),this.writable=!0,this.readable=!0;var H=this;this._parser.onend=function(){H.emit("end")},this._parser.onerror=function(j){H.emit("error",j),H._parser.error=null},this._decoder=null,F.forEach(function(j){Object.defineProperty(H,"on"+j,{get:function(){return H._parser["on"+j]},set:function(oe){if(!oe)return H.removeAllListeners(j),H._parser["on"+j]=oe,oe;H.on(j,oe)},enumerable:!0,configurable:!1})})}(x.prototype=Object.create(E.prototype,{constructor:{value:x}})).write=function(D){if("function"==typeof B&&"function"==typeof B.isBuffer&&B.isBuffer(D)){if(!this._decoder){var O=c("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new O("utf8")}D=this._decoder.write(D)}return this._parser.write(D.toString()),this.emit("data",D),!0},x.prototype.end=function(D){return D&&D.length&&this.write(D),this._parser.end(),!0},x.prototype.on=function(D,O){var H=this;return!H._parser["on"+D]&&-1!==F.indexOf(D)&&(H._parser["on"+D]=function(){var j=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);j.splice(0,0,D),H.emit.apply(H,j)}),E.prototype.on.call(H,D,O)};var _="\r\n\t ",m="0124356789",f="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",v="'\"",d=_+">",I="http://www.w3.org/XML/1998/namespace",R="http://www.w3.org/2000/xmlns/",A={xml:I,xmlns:R};_=Q(_),m=Q(m),f=Q(f);var p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,W=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function Q(D){return D.split("").reduce(function(O,H){return O[H]=!0,O},{})}function ce(D,O){return function ue(D){return"[object RegExp]"===Object.prototype.toString.call(D)}(D)?!!O.match(D):D[O]}function ne(D,O){return!ce(D,O)}v=Q(v),d=Q(d);var D,O,H,U=0;for(var ie in T.STATE={BEGIN:U++,BEGIN_WHITESPACE:U++,TEXT:U++,TEXT_ENTITY:U++,OPEN_WAKA:U++,SGML_DECL:U++,SGML_DECL_QUOTED:U++,DOCTYPE:U++,DOCTYPE_QUOTED:U++,DOCTYPE_DTD:U++,DOCTYPE_DTD_QUOTED:U++,COMMENT_STARTING:U++,COMMENT:U++,COMMENT_ENDING:U++,COMMENT_ENDED:U++,CDATA:U++,CDATA_ENDING:U++,CDATA_ENDING_2:U++,PROC_INST:U++,PROC_INST_BODY:U++,PROC_INST_ENDING:U++,OPEN_TAG:U++,OPEN_TAG_SLASH:U++,ATTRIB:U++,ATTRIB_NAME:U++,ATTRIB_NAME_SAW_WHITE:U++,ATTRIB_VALUE:U++,ATTRIB_VALUE_QUOTED:U++,ATTRIB_VALUE_CLOSED:U++,ATTRIB_VALUE_UNQUOTED:U++,ATTRIB_VALUE_ENTITY_Q:U++,ATTRIB_VALUE_ENTITY_U:U++,CLOSE_TAG:U++,CLOSE_TAG_SAW_WHITE:U++,SCRIPT:U++,SCRIPT_ENDING:U++},T.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(T.ENTITIES).forEach(function(D){var O=T.ENTITIES[D],H="number"==typeof O?String.fromCharCode(O):O;T.ENTITIES[D]=H}),T.STATE)T.STATE[T.STATE[ie]]=ie;function q(D,O,H){D[O]&&D[O](H)}function le(D,O,H){D.textNode&&de(D),q(D,O,H)}function de(D){D.textNode=Ee(D.opt,D.textNode),D.textNode&&q(D,"ontext",D.textNode),D.textNode=""}function Ee(D,O){return D.trim&&(O=O.trim()),D.normalize&&(O=O.replace(/\s+/g," ")),O}function Z(D,O){return de(D),D.trackPosition&&(O+="\nLine: "+D.line+"\nColumn: "+D.column+"\nChar: "+D.c),O=new Error(O),D.error=O,q(D,"onerror",O),D}function pe(D){return D.sawRoot&&!D.closedRoot&&re(D,"Unclosed root tag"),D.state!==U.BEGIN&&D.state!==U.BEGIN_WHITESPACE&&D.state!==U.TEXT&&Z(D,"Unexpected end"),de(D),D.c="",D.closed=!0,q(D,"onend"),S.call(D,D.strict,D.opt),D}function re(D,O){if("object"!=typeof D||!(D instanceof S))throw new Error("bad call to strictFail");D.strict&&Z(D,O)}function _e(D){D.strict||(D.tagName=D.tagName[D.looseCase]());var O=D.tags[D.tags.length-1]||D,H=D.tag={name:D.tagName,attributes:{}};D.opt.xmlns&&(H.ns=O.ns),D.attribList.length=0,le(D,"onopentagstart",H)}function ge(D,O){var j=D.indexOf(":")<0?["",D]:D.split(":"),oe=j[0],Te=j[1];return O&&"xmlns"===D&&(oe="xmlns",Te=""),{prefix:oe,local:Te}}function fe(D){if(D.strict||(D.attribName=D.attribName[D.looseCase]()),-1!==D.attribList.indexOf(D.attribName)||D.tag.attributes.hasOwnProperty(D.attribName))D.attribName=D.attribValue="";else{if(D.opt.xmlns){var O=ge(D.attribName,!0),j=O.local;if("xmlns"===O.prefix)if("xml"===j&&D.attribValue!==I)re(D,"xml: prefix must be bound to "+I+"\nActual: "+D.attribValue);else if("xmlns"===j&&D.attribValue!==R)re(D,"xmlns: prefix must be bound to "+R+"\nActual: "+D.attribValue);else{var oe=D.tag,Te=D.tags[D.tags.length-1]||D;oe.ns===Te.ns&&(oe.ns=Object.create(Te.ns)),oe.ns[j]=D.attribValue}D.attribList.push([D.attribName,D.attribValue])}else D.tag.attributes[D.attribName]=D.attribValue,le(D,"onattribute",{name:D.attribName,value:D.attribValue});D.attribName=D.attribValue=""}}function ve(D,O){if(D.opt.xmlns){var H=D.tag,j=ge(D.tagName);H.prefix=j.prefix,H.local=j.local,H.uri=H.ns[j.prefix]||"",H.prefix&&!H.uri&&(re(D,"Unbound namespace prefix: "+JSON.stringify(D.tagName)),H.uri=j.prefix),H.ns&&(D.tags[D.tags.length-1]||D).ns!==H.ns&&Object.keys(H.ns).forEach(function(be){le(D,"onopennamespace",{prefix:be,uri:H.ns[be]})});for(var Te=0,Re=D.attribList.length;Te<Re;Te++){var me=D.attribList[Te],G=me[0],V=me[1],K=ge(G,!0),te=K.prefix,he=""===te?"":H.ns[te]||"",Ae={name:G,value:V,prefix:te,local:K.local,uri:he};te&&"xmlns"!==te&&!he&&(re(D,"Unbound namespace prefix: "+JSON.stringify(te)),Ae.uri=te),D.tag.attributes[G]=Ae,le(D,"onattribute",Ae)}D.attribList.length=0}D.tag.isSelfClosing=!!O,D.sawRoot=!0,D.tags.push(D.tag),le(D,"onopentag",D.tag),O||(D.state=D.noscript||"script"!==D.tagName.toLowerCase()?U.TEXT:U.SCRIPT,D.tag=null,D.tagName=""),D.attribName=D.attribValue="",D.attribList.length=0}function X(D){if(!D.tagName)return re(D,"Weird empty close tag."),D.textNode+="</>",void(D.state=U.TEXT);if(D.script){if("script"!==D.tagName)return D.script+="</"+D.tagName+">",D.tagName="",void(D.state=U.SCRIPT);le(D,"onscript",D.script),D.script=""}var O=D.tags.length,H=D.tagName;D.strict||(H=H[D.looseCase]());for(var j=H;O--&&D.tags[O].name!==j;)re(D,"Unexpected close tag");if(O<0)return re(D,"Unmatched closing tag: "+D.tagName),D.textNode+="</"+D.tagName+">",void(D.state=U.TEXT);D.tagName=H;for(var Te=D.tags.length;Te-- >O;){var Re=D.tag=D.tags.pop();D.tagName=D.tag.name,le(D,"onclosetag",D.tagName);var me={};for(var G in Re.ns)me[G]=Re.ns[G];D.opt.xmlns&&Re.ns!==(D.tags[D.tags.length-1]||D).ns&&Object.keys(Re.ns).forEach(function(K){le(D,"onclosenamespace",{prefix:K,uri:Re.ns[K]})})}0===O&&(D.closedRoot=!0),D.tagName=D.attribValue=D.attribName="",D.attribList.length=0,D.state=U.TEXT}function ye(D){var j,O=D.entity,H=O.toLowerCase(),oe="";return D.ENTITIES[O]?D.ENTITIES[O]:D.ENTITIES[H]?D.ENTITIES[H]:("#"===(O=H).charAt(0)&&("x"===O.charAt(1)?(O=O.slice(2),oe=(j=parseInt(O,16)).toString(16)):(O=O.slice(1),oe=(j=parseInt(O,10)).toString(10))),O=O.replace(/^0+/,""),oe.toLowerCase()!==O?(re(D,"Invalid character entity"),"&"+D.entity+";"):String.fromCodePoint(j))}function se(D,O){"<"===O?(D.state=U.OPEN_WAKA,D.startTagPosition=D.position):ne(_,O)&&(re(D,"Non-whitespace before first tag."),D.textNode=O,D.state=U.TEXT)}function ee(D,O){var H="";return O<D.length&&(H=D.charAt(O)),H}U=T.STATE,String.fromCodePoint||(D=String.fromCharCode,O=Math.floor,H=function(){var j=16384,oe=[],me=-1,G=arguments.length;if(!G)return"";for(var V="";++me<G;){var K=Number(arguments[me]);if(!isFinite(K)||K<0||K>1114111||O(K)!==K)throw RangeError("Invalid code point: "+K);K<=65535?oe.push(K):oe.push(55296+((K-=65536)>>10),K%1024+56320),(me+1===G||oe.length>j)&&(V+=D.apply(null,oe),oe.length=0)}return V},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:H,configurable:!0,writable:!0}):String.fromCodePoint=H)}(k)}).call(this,c("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":function(we,k,c){(function(B,T){!function(M,S){"use strict";if(!M.setImmediate){var F,b=1,h={},y=!1,E=M.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(M);R=R&&R.setTimeout?R:M,"[object process]"==={}.toString.call(M.process)?function f(){F=function(A){T.nextTick(function(){m(A)})}}():function v(){if(M.postMessage&&!M.importScripts){var A=!0,p=M.onmessage;return M.onmessage=function(){A=!1},M.postMessage("","*"),M.onmessage=p,A}}()?function d(){var A="setImmediate$"+Math.random()+"$",p=function(w){w.source===M&&"string"==typeof w.data&&0===w.data.indexOf(A)&&m(+w.data.slice(A.length))};M.addEventListener?M.addEventListener("message",p,!1):M.attachEvent("onmessage",p),F=function(w){M.postMessage(A+w,"*")}}():M.MessageChannel?function L(){var A=new MessageChannel;A.port1.onmessage=function(p){m(p.data)},F=function(p){A.port2.postMessage(p)}}():E&&"onreadystatechange"in E.createElement("script")?function C(){var A=E.documentElement;F=function(p){var w=E.createElement("script");w.onreadystatechange=function(){m(p),w.onreadystatechange=null,A.removeChild(w),w=null},A.appendChild(w)}}():function I(){F=function(A){setTimeout(m,0,A)}}(),R.setImmediate=function P(A){"function"!=typeof A&&(A=new Function(""+A));for(var p=new Array(arguments.length-1),w=0;w<p.length;w++)p[w]=arguments[w+1];return h[b]={callback:A,args:p},F(b),b++},R.clearImmediate=x}function x(A){delete h[A]}function m(A){if(y)setTimeout(m,0,A);else{var p=h[A];if(p){y=!0;try{!function _(A){var p=A.callback,w=A.args;switch(w.length){case 0:p();break;case 1:p(w[0]);break;case 2:p(w[0],w[1]);break;case 3:p(w[0],w[1],w[2]);break;default:p.apply(void 0,w)}}(p)}finally{x(A),y=!1}}}}}(typeof self>"u"?typeof B>"u"?this:B:self)}).call(this,c("./node_modules/webpack/buildin/global.js"),c("./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":function(we,k,c){we.exports=M;var B=c("./node_modules/node-libs-browser/node_modules/events/events.js").EventEmitter;function M(){B.call(this)}c("./node_modules/inherits/inherits_browser.js")(M,B),M.Readable=c("./node_modules/readable-stream/readable-browser.js"),M.Writable=c("./node_modules/readable-stream/writable-browser.js"),M.Duplex=c("./node_modules/readable-stream/duplex-browser.js"),M.Transform=c("./node_modules/readable-stream/transform.js"),M.PassThrough=c("./node_modules/readable-stream/passthrough.js"),M.Stream=M,M.prototype.pipe=function(S,b){var h=this;function y(f){S.writable&&!1===S.write(f)&&h.pause&&h.pause()}function E(){h.readable&&h.resume&&h.resume()}h.on("data",y),S.on("drain",E),!S._isStdio&&(!b||!1!==b.end)&&(h.on("end",P),h.on("close",x));var F=!1;function P(){F||(F=!0,S.end())}function x(){F||(F=!0,"function"==typeof S.destroy&&S.destroy())}function _(f){if(m(),0===B.listenerCount(this,"error"))throw f}function m(){h.removeListener("data",y),S.removeListener("drain",E),h.removeListener("end",P),h.removeListener("close",x),h.removeListener("error",_),S.removeListener("error",_),h.removeListener("end",m),h.removeListener("close",m),S.removeListener("close",m)}return h.on("error",_),S.on("error",_),h.on("end",m),h.on("close",m),S.on("close",m),S.emit("pipe",h),S}},"./node_modules/string_decoder/lib/string_decoder.js":function(we,k,c){"use strict";var B=c("./node_modules/safe-buffer/index.js").Buffer,T=B.isEncoding||function(C){switch((C=""+C)&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function b(C){var I;switch(this.encoding=function S(C){var I=function M(C){if(!C)return"utf8";for(var I;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(I)return;C=(""+C).toLowerCase(),I=!0}}(C);if("string"!=typeof I&&(B.isEncoding===T||!T(C)))throw new Error("Unknown encoding: "+C);return I||C}(C),this.encoding){case"utf16le":this.text=_,this.end=m,I=4;break;case"utf8":this.fillLast=F,I=4;break;case"base64":this.text=f,this.end=v,I=3;break;default:return this.write=d,void(this.end=L)}this.lastNeed=0,this.lastTotal=0,this.lastChar=B.allocUnsafe(I)}function h(C){return C<=127?0:C>>5==6?2:C>>4==14?3:C>>3==30?4:C>>6==2?-1:-2}function F(C){var I=this.lastTotal-this.lastNeed,R=function E(C,I,R){if(128!=(192&I[0]))return C.lastNeed=0,"\ufffd";if(C.lastNeed>1&&I.length>1){if(128!=(192&I[1]))return C.lastNeed=1,"\ufffd";if(C.lastNeed>2&&I.length>2&&128!=(192&I[2]))return C.lastNeed=2,"\ufffd"}}(this,C);return void 0!==R?R:this.lastNeed<=C.length?(C.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,I,0,C.length),void(this.lastNeed-=C.length))}function _(C,I){if((C.length-I)%2==0){var R=C.toString("utf16le",I);if(R){var A=R.charCodeAt(R.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",I,C.length-1)}function m(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function f(C,I){var R=(C.length-I)%3;return 0===R?C.toString("base64",I):(this.lastNeed=3-R,this.lastTotal=3,1===R?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",I,C.length-R))}function v(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function d(C){return C.toString(this.encoding)}function L(C){return C&&C.length?this.write(C):""}k.StringDecoder=b,b.prototype.write=function(C){if(0===C.length)return"";var I,R;if(this.lastNeed){if(void 0===(I=this.fillLast(C)))return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<C.length?I?I+this.text(C,R):this.text(C,R):I||""},b.prototype.end=function x(C){var I=C&&C.length?this.write(C):"";return this.lastNeed?I+"\ufffd":I},b.prototype.text=function P(C,I){var R=function y(C,I,R){var A=I.length-1;if(A<R)return 0;var p=h(I[A]);return p>=0?(p>0&&(C.lastNeed=p-1),p):--A<R||-2===p?0:(p=h(I[A]))>=0?(p>0&&(C.lastNeed=p-2),p):--A<R||-2===p?0:(p=h(I[A]))>=0?(p>0&&(2===p?p=0:C.lastNeed=p-3),p):0}(this,C,I);if(!this.lastNeed)return C.toString("utf8",I);this.lastTotal=R;var A=C.length-(R-this.lastNeed);return C.copy(this.lastChar,0,A),C.toString("utf8",I,A)},b.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length}},"./node_modules/ua-parser-js/src/ua-parser.js":function(we,k,c){var B;!function(T,M){"use strict";var y="function",E="undefined",F="object",P="string",_="model",m="name",f="type",v="vendor",d="version",L="architecture",C="console",I="mobile",R="tablet",A="smarttv",p="wearable",w="embedded",$="Amazon",Q="Apple",ce="BlackBerry",ne="Browser",U="Chrome",q="Firefox",le="Google",Z="Microsoft",pe="Motorola",re="Opera",_e="Samsung",ge="Sony",ve="Zebra",X="Facebook",se=function(K){for(var te={},J=0;J<K.length;J++)te[K[J].toUpperCase()]=K[J];return te},ee=function(K,te){return typeof K===P&&-1!==z(te).indexOf(z(K))},z=function(K){return K.toLowerCase()},O=function(K,te){if(typeof K===P)return K=K.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof te===E?K:K.substring(0,255)},H=function(K,te){for(var he,Ae,be,Ie,xe,De,J=0;J<te.length&&!xe;){var Fe=te[J],Ce=te[J+1];for(he=Ae=0;he<Fe.length&&!xe;)if(xe=Fe[he++].exec(K))for(be=0;be<Ce.length;be++)De=xe[++Ae],typeof(Ie=Ce[be])===F&&Ie.length>0?2===Ie.length?this[Ie[0]]=typeof Ie[1]==y?Ie[1].call(this,De):Ie[1]:3===Ie.length?this[Ie[0]]=typeof Ie[1]!==y||Ie[1].exec&&Ie[1].test?De?De.replace(Ie[1],Ie[2]):M:De?Ie[1].call(this,De,Ie[2]):M:4===Ie.length&&(this[Ie[0]]=De?Ie[3].call(this,De.replace(Ie[1],Ie[2])):M):this[Ie]=De||M;J+=2}},j=function(K,te){for(var J in te)if(typeof te[J]===F&&te[J].length>0){for(var he=0;he<te[J].length;he++)if(ee(te[J][he],K))return"?"===J?M:J}else if(ee(te[J],K))return"?"===J?M:J;return K},Te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Re={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,d],[/opios[\/ ]+([\w\.]+)/i],[d,[m,re+" Mini"]],[/\bopr\/([\w\.]+)/i],[d,[m,re]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[m,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[m,"UC"+ne]],[/\bqbcore\/([\w\.]+)/i],[d,[m,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[m,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[m,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+ne],d],[/\bfocus\/([\w\.]+)/i],[d,[m,q+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[m,re+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[m,re+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[m,"MIUI "+ne]],[/fxios\/([-\w\.]+)/i],[d,[m,q]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+ne]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+ne],d],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[m,d],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,X],d],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[m,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[m,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[m,U+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,U+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[m,"Android "+ne]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,d],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[d,[m,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[d,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[d,j,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[m,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[m,q+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[m,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[L,"amd64"]],[/(ia32(?=;))/i],[[L,z]],[/((?:i[346]|x)86)[;\)]/i],[[L,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[L,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[L,"armhf"]],[/windows (ce|mobile); ppc;/i],[[L,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[L,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[L,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[L,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[_,[v,_e],[f,R]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[_,[v,_e],[f,I]],[/\((ip(?:hone|od)[\w ]*);/i],[_,[v,Q],[f,I]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[_,[v,Q],[f,R]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[_,[v,"Huawei"],[f,R]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[_,[v,"Huawei"],[f,I]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[_,/_/g," "],[v,"Xiaomi"],[f,I]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[_,/_/g," "],[v,"Xiaomi"],[f,R]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[_,[v,"OPPO"],[f,I]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[_,[v,"Vivo"],[f,I]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[_,[v,"Realme"],[f,I]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[_,[v,pe],[f,I]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[_,[v,pe],[f,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[_,[v,"LG"],[f,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[_,[v,"LG"],[f,I]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[_,[v,"Lenovo"],[f,R]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[_,/_/g," "],[v,"Nokia"],[f,I]],[/(pixel c)\b/i],[_,[v,le],[f,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[_,[v,le],[f,I]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[_,[v,ge],[f,I]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[_,"Xperia Tablet"],[v,ge],[f,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[_,[v,"OnePlus"],[f,I]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[_,[v,$],[f,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[_,/(.+)/g,"Fire Phone $1"],[v,$],[f,I]],[/(playbook);[-\w\),; ]+(rim)/i],[_,v,[f,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[_,[v,ce],[f,I]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[_,[v,"ASUS"],[f,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[_,[v,"ASUS"],[f,I]],[/(nexus 9)/i],[_,[v,"HTC"],[f,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[v,[_,/_/g," "],[f,I]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[_,[v,"Acer"],[f,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[_,[v,"Meizu"],[f,I]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[_,[v,"Sharp"],[f,I]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,_,[f,I]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,_,[f,R]],[/(surface duo)/i],[_,[v,Z],[f,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[_,[v,"Fairphone"],[f,I]],[/(u304aa)/i],[_,[v,"AT&T"],[f,I]],[/\bsie-(\w*)/i],[_,[v,"Siemens"],[f,I]],[/\b(rct\w+) b/i],[_,[v,"RCA"],[f,R]],[/\b(venue[\d ]{2,7}) b/i],[_,[v,"Dell"],[f,R]],[/\b(q(?:mv|ta)\w+) b/i],[_,[v,"Verizon"],[f,R]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[_,[v,"Barnes & Noble"],[f,R]],[/\b(tm\d{3}\w+) b/i],[_,[v,"NuVision"],[f,R]],[/\b(k88) b/i],[_,[v,"ZTE"],[f,R]],[/\b(nx\d{3}j) b/i],[_,[v,"ZTE"],[f,I]],[/\b(gen\d{3}) b.+49h/i],[_,[v,"Swiss"],[f,I]],[/\b(zur\d{3}) b/i],[_,[v,"Swiss"],[f,R]],[/\b((zeki)?tb.*\b) b/i],[_,[v,"Zeki"],[f,R]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],_,[f,R]],[/\b(ns-?\w{0,9}) b/i],[_,[v,"Insignia"],[f,R]],[/\b((nxa|next)-?\w{0,9}) b/i],[_,[v,"NextBook"],[f,R]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],_,[f,I]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],_,[f,I]],[/\b(ph-1) /i],[_,[v,"Essential"],[f,I]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[_,[v,"Envizen"],[f,R]],[/\b(trio[-\w\. ]+) b/i],[_,[v,"MachSpeed"],[f,R]],[/\btu_(1491) b/i],[_,[v,"Rotor"],[f,R]],[/(shield[\w ]+) b/i],[_,[v,"Nvidia"],[f,R]],[/(sprint) (\w+)/i],[v,_,[f,I]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[v,Z],[f,I]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[_,[v,ve],[f,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[_,[v,ve],[f,I]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,_,[f,C]],[/droid.+; (shield) bui/i],[_,[v,"Nvidia"],[f,C]],[/(playstation [345portablevi]+)/i],[_,[v,ge],[f,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[_,[v,Z],[f,C]],[/smart-tv.+(samsung)/i],[v,[f,A]],[/hbbtv.+maple;(\d+)/i],[[_,/^/,"SmartTV"],[v,_e],[f,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,"LG"],[f,A]],[/(apple) ?tv/i],[v,[_,Q+" TV"],[f,A]],[/crkey/i],[[_,U+"cast"],[v,le],[f,A]],[/droid.+aft(\w)( bui|\))/i],[_,[v,$],[f,A]],[/\(dtv[\);].+(aquos)/i],[_,[v,"Sharp"],[f,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,O],[_,O],[f,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,A]],[/((pebble))app/i],[v,_,[f,p]],[/droid.+; (glass) \d/i],[_,[v,le],[f,p]],[/droid.+; (wt63?0{2,3})\)/i],[_,[v,ve],[f,p]],[/(quest( 2)?)/i],[_,[v,X],[f,p]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[_,[f,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[_,[f,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,R]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,I]],[/(android[-\w\. ]{0,9});.+buil/i],[_,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[m,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[m,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,d],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[m,[d,j,Te]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,"Windows"],[d,j,Te]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,"Mac OS"],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[d,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,d],[/\(bb(10);/i],[d,[m,ce]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[m,q+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[m,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[m,U+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[m,"Chromium OS"],d],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,d],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[m,d]]},me=function(K,te){if(typeof K===F&&(te=K,K=M),!(this instanceof me))return new me(K,te).getResult();var J=K||(typeof T!==E&&T.navigator&&T.navigator.userAgent?T.navigator.userAgent:""),he=te?function(K,te){var J={};for(var he in K)J[he]=te[he]&&te[he].length%2==0?te[he].concat(K[he]):K[he];return J}(Re,te):Re;return this.getBrowser=function(){var Ae={};return Ae[m]=M,Ae[d]=M,H.call(Ae,J,he.browser),Ae.major=function(K){return typeof K===P?K.replace(/[^\d\.]/g,"").split(".")[0]:M}(Ae.version),Ae},this.getCPU=function(){var Ae={};return Ae[L]=M,H.call(Ae,J,he.cpu),Ae},this.getDevice=function(){var Ae={};return Ae[v]=M,Ae[_]=M,Ae[f]=M,H.call(Ae,J,he.device),Ae},this.getEngine=function(){var Ae={};return Ae[m]=M,Ae[d]=M,H.call(Ae,J,he.engine),Ae},this.getOS=function(){var Ae={};return Ae[m]=M,Ae[d]=M,H.call(Ae,J,he.os),Ae},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return J},this.setUA=function(Ae){return J=typeof Ae===P&&Ae.length>255?O(Ae,255):Ae,this},this.setUA(J),this};me.VERSION="1.0.2",me.BROWSER=se([m,d,"major"]),me.CPU=se([L]),me.DEVICE=se([_,v,f,C,I,A,R,p,w]),me.ENGINE=me.OS=se([m,d]),typeof k!==E?(typeof we!==E&&we.exports&&(k=we.exports=me),k.UAParser=me):c("./node_modules/webpack/buildin/amd-options.js")?(B=function(){return me}.call(k,c,k,we))!==M&&(we.exports=B):typeof T!==E&&(T.UAParser=me);var G=typeof T!==E&&(T.jQuery||T.Zepto);if(G&&!G.ua){var V=new me;G.ua=V.getResult(),G.ua.get=function(){return V.getUA()},G.ua.set=function(K){V.setUA(K);var te=V.getResult();for(var J in te)G.ua[J]=te[J]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":function(we,k,c){(function(B){function M(S){try{if(!B.localStorage)return!1}catch{return!1}var b=B.localStorage[S];return null!=b&&"true"===String(b).toLowerCase()}we.exports=function T(S,b){if(M("noDeprecation"))return S;var h=!1;return function y(){if(!h){if(M("throwDeprecation"))throw new Error(b);M("traceDeprecation")?console.trace(b):console.warn(b),h=!0}return S.apply(this,arguments)}}}).call(this,c("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":function(we,k){(function(c){we.exports=c}).call(this,{})},"./node_modules/webpack/buildin/global.js":function(we,k){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"==typeof window&&(c=window)}we.exports=c},"./src/core/Debug.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/EventBus.js"),T=c("./src/core/events/Events.js"),M=c("./src/core/FactoryMaker.js"),b=1,h=2,y=3,E=4,F=5;function P(_){_=_||{};var L,C,I,R,m=this.context,f=Object(B.default)(m).getInstance(),v=_.settings,d=[];function p(q){return q&&q.bind?q.bind(window.console):window.console.log.bind(window.console)}function Q(){for(var q=arguments.length,le=new Array(q),de=0;de<q;de++)le[de]=arguments[de];ie.apply(void 0,[b,this].concat(le))}function ue(){for(var q=arguments.length,le=new Array(q),de=0;de<q;de++)le[de]=arguments[de];ie.apply(void 0,[h,this].concat(le))}function ce(){for(var q=arguments.length,le=new Array(q),de=0;de<q;de++)le[de]=arguments[de];ie.apply(void 0,[y,this].concat(le))}function ne(){for(var q=arguments.length,le=new Array(q),de=0;de<q;de++)le[de]=arguments[de];ie.apply(void 0,[E,this].concat(le))}function U(){for(var q=arguments.length,le=new Array(q),de=0;de<q;de++)le[de]=arguments[de];ie.apply(void 0,[F,this].concat(le))}function ie(q,le){var de="",Ee=null;C&&(Ee=(new Date).getTime(),de+="["+(Ee-R)+"]"),I&&le&&le.getClassName&&(de+="["+le.getClassName()+"]",le.getType&&(de+="["+le.getType()+"]")),de.length>0&&(de+=" ");for(var Z=arguments.length,pe=new Array(Z>2?Z-2:0),re=2;re<Z;re++)pe[re-2]=arguments[re];Array.apply(null,pe).forEach(function(_e){de+=_e+" "}),d[q]&&v.get().debug.logLevel>=q&&d[q](de),v&&v.get().debug.dispatchEvent&&f.trigger(T.default.LOG,{message:de,level:q})}return L={getLogger:function w(q){return{fatal:Q.bind(q),error:ue.bind(q),warn:ce.bind(q),info:ne.bind(q),debug:U.bind(q)}},setLogTimestampVisible:function W(q){C=q},setCalleeNameVisible:function $(q){I=q}},function A(){C=!0,I=!0,R=(new Date).getTime(),typeof window<"u"&&window.console&&(d[b]=p(window.console.error),d[h]=p(window.console.error),d[y]=p(window.console.warn),d[E]=p(window.console.info),d[F]=p(window.console.debug))}(),L}P.__dashjs_factory_name="Debug";var x=M.default.getSingletonFactory(P);x.LOG_LEVEL_NONE=0,x.LOG_LEVEL_FATAL=b,x.LOG_LEVEL_ERROR=h,x.LOG_LEVEL_WARNING=y,x.LOG_LEVEL_INFO=E,x.LOG_LEVEL_DEBUG=F,M.default.updateSingletonFactory(P.__dashjs_factory_name,x),k.default=x},"./src/core/EventBus.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/MediaPlayerEvents.js");function b(){var y={};function x(f,v,d){var L=-1;return y[f]&&y[f].some(function(C,I){if(C&&C.callback===v&&(!d||d===C.scope))return L=I,!0}),L}return{on:function E(f,v,d){var L=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!f)throw new Error("event type cannot be null or undefined");if(!v||"function"!=typeof v)throw new Error("listener must be a function: "+v);var C=L.priority||0;if(!(x(f,v,d)>=0)){y[f]=y[f]||[];var I={callback:v,scope:d,priority:C};d&&d.getStreamId&&(I.streamId=d.getStreamId()),d&&d.getType&&(I.mediaType=d.getType()),L&&L.mode&&(I.mode=L.mode),y[f].some(function(A,p){if(A&&C>A.priority)return y[f].splice(p,0,I),!0})||y[f].push(I)}},off:function F(f,v,d){if(f&&v&&y[f]){var L=x(f,v,d);L<0||(y[f][L]=null)}},trigger:function P(f){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(f&&y[f]){if((v=v||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");v.type=f,d.streamId&&(v.streamId=d.streamId),d.mediaType&&(v.mediaType=d.mediaType),y[f].filter(function(L){return!(!L||d.streamId&&L.streamId&&L.streamId!==d.streamId||d.mediaType&&L.mediaType&&L.mediaType!==d.mediaType||d.mode&&L.mode&&L.mode!==d.mode||!L.mode&&d.mode&&d.mode===T.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(L){return L&&L.callback.call(L.scope,v)})}},reset:function _(){y={}}}}b.__dashjs_factory_name="EventBus";var h=B.default.getSingletonFactory(b);h.EVENT_PRIORITY_LOW=0,h.EVENT_PRIORITY_HIGH=5e3,B.default.updateSingletonFactory(b.__dashjs_factory_name,h),k.default=h},"./src/core/FactoryMaker.js":function(we,k,c){"use strict";c.r(k);var B=function(){var T,M=[],S={},b={};function y(I,R){for(var A in M){var p=M[A];if(p.context===I&&p.name===R)return p.instance}return null}function P(I,R){return R[I]}function x(I,R,A){I in A&&(A[I]=R)}function C(I,R,A){var p,w=I.__dashjs_factory_name,W=R[w];if(W){var $=W.instance;if(!W.override)return $.apply({context:R,factory:T},A);for(var Q in p=I.apply({context:R},A),$=$.apply({context:R,factory:T,parent:p},A))p.hasOwnProperty(Q)&&(p[Q]=$[Q])}else p=I.apply({context:R},A);return p.getClassName=function(){return w},p}return T={extend:function h(I,R,A,p){!p[I]&&R&&(p[I]={instance:R,override:A})},getSingletonInstance:y,setSingletonInstance:function E(I,R,A){for(var p in M){var w=M[p];if(w.context===I&&w.name===R)return void(M[p].instance=A)}M.push({name:R,context:I,instance:A})},deleteSingletonInstances:function F(I){M=M.filter(function(R){return R.context!==I})},getSingletonFactory:function L(I){var R=P(I.__dashjs_factory_name,S);return R||(R=function(p){var w;return void 0===p&&(p={}),{getInstance:function(){return w||(w=y(p,I.__dashjs_factory_name)),w||(w=C(I,p,arguments),M.push({name:I.__dashjs_factory_name,context:p,instance:w})),w}}},S[I.__dashjs_factory_name]=R),R},getSingletonFactoryByName:function d(I){return P(I,S)},updateSingletonFactory:function v(I,R){x(I,R,S)},getClassFactory:function f(I){var R=P(I.__dashjs_factory_name,b);return R||(R=function(p){return void 0===p&&(p={}),{create:function(){return C(I,p,arguments)}}},b[I.__dashjs_factory_name]=R),R},getClassFactoryByName:function m(I){return P(I,b)},updateClassFactory:function _(I,R){x(I,R,b)}}}();k.default=B},"./src/core/Settings.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Utils.js"),M=c("./src/core/Debug.js"),S=c("./src/streaming/constants/Constants.js"),b=c("./src/streaming/vo/metrics/HTTPRequest.js"),h=c("./src/core/EventBus.js"),y=c("./src/core/events/Events.js");function E(_){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(_)}function F(_,m,f){return m in _?Object.defineProperty(_,m,{value:f,enumerable:!0,configurable:!0,writable:!0}):_[m]=f,_}function P(){var _,m,v=this.context,d=Object(h.default)(v).getInstance(),L={"streaming.delay.liveDelay":y.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":y.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":y.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":y.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":y.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},C={debug:{logLevel:M.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:S.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:S.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:S.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:S.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(_={},F(_,b.HTTPRequest.MPD_TYPE,500),F(_,b.HTTPRequest.XLINK_EXPANSION_TYPE,500),F(_,b.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),F(_,b.HTTPRequest.INIT_SEGMENT_TYPE,1e3),F(_,b.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),F(_,b.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),F(_,b.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),F(_,b.HTTPRequest.LICENSE,1e3),F(_,b.HTTPRequest.OTHER_TYPE,1e3),F(_,"lowLatencyReductionFactor",10),_),retryAttempts:(m={},F(m,b.HTTPRequest.MPD_TYPE,3),F(m,b.HTTPRequest.XLINK_EXPANSION_TYPE,1),F(m,b.HTTPRequest.MEDIA_SEGMENT_TYPE,3),F(m,b.HTTPRequest.INIT_SEGMENT_TYPE,3),F(m,b.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),F(m,b.HTTPRequest.INDEX_SEGMENT_TYPE,3),F(m,b.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),F(m,b.HTTPRequest.LICENSE,3),F(m,b.HTTPRequest.OTHER_TYPE,3),F(m,"lowLatencyMultiplyFactor",5),m),abr:{movingAverageMethod:S.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:S.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:S.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:S.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},I=T.default.clone(C);function R(W,$,Q){for(var ue in W)W.hasOwnProperty(ue)&&($.hasOwnProperty(ue)?"object"!==E(W[ue])||W[ue]instanceof Array||null===W[ue]?($[ue]=T.default.clone(W[ue]),L[Q+ue]&&d.trigger(L[Q+ue])):R(W[ue],$[ue],Q.slice()+ue+"."):console.error("Settings parameter "+Q+ue+" is not supported"))}return{get:function A(){return I},update:function p(W){"object"===E(W)&&R(W,I,"")},reset:function w(){I=T.default.clone(C)}}}P.__dashjs_factory_name="Settings";var x=B.default.getSingletonFactory(P);k.default=x},"./src/core/Utils.js":function(we,k,c){"use strict";c.r(k);var B=c("./node_modules/path-browserify/index.js"),T=c.n(B),M=c("./node_modules/ua-parser-js/src/ua-parser.js");function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(P)}function y(P,x){for(var _=0;_<x.length;_++){var m=x[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(P,m.key,m)}}var F=function(){function P(){!function h(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P)}return function E(P,x,_){return x&&y(P.prototype,x),_&&y(P,_),P}(P,null,[{key:"mixin",value:function(_,m,f){var v,d={};if(_)for(var L in m)m.hasOwnProperty(L)&&(v=m[L],(!(L in _)||_[L]!==v&&(!(L in d)||d[L]!==v))&&(_[L]="object"===b(_[L])&&null!==_[L]?P.mixin(_[L],v,f):f(v)));return _}},{key:"clone",value:function(_){if(!_||"object"!==b(_))return _;var m;if(_ instanceof Array){m=[];for(var f=0,v=_.length;f<v;++f)f in _&&m.push(P.clone(_[f]))}else m={};return P.mixin(m,_,P.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(_,m){try{if(!m||0===m.length)return _;var f=new URL(_);return m.forEach(function(v){v.key&&v.value&&f.searchParams.set(v.key,v.value)}),f.href}catch{return _}}},{key:"parseHttpHeaders",value:function(_){var m={};if(!_)return m;for(var f=_.trim().split("\r\n"),v=0,d=f.length;v<d;v++){var L=f[v],C=L.indexOf(": ");C>0&&(m[L.substring(0,C)]=L.substring(C+2))}return m}},{key:"generateUuid",value:function(){var _=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var v=(_+16*Math.random())%16|0;return _=Math.floor(_/16),("x"==f?v:3&v|8).toString(16)})}},{key:"generateHashCode",value:function(_){var m=0;if(0===_.length)return m;for(var f=0;f<_.length;f++)m=(m<<5)-m+_.charCodeAt(f),m|=0;return m}},{key:"getRelativeUrl",value:function(_,m){try{var f=new URL(_),v=new URL(m);if(f.protocol=v.protocol,f.origin!==v.origin)return m;var d=T.a.relative(f.pathname.substr(0,f.pathname.lastIndexOf("/")),v.pathname.substr(0,v.pathname.lastIndexOf("/"))),L=0===d.length?1:0;return d+=v.pathname.substr(v.pathname.lastIndexOf("/")+L,v.pathname.length-1),v.pathname.length<d.length?v.pathname:d}catch{return m}}},{key:"parseUserAgent",value:function(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var m=null===_&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(M.UAParser)(m)}catch{return{}}}}]),P}();k.default=F},"./src/core/Version.js":function(we,k,c){"use strict";c.r(k),c.d(k,"getVersionString",function(){return T});function T(){return"4.5.1"}},"./src/core/errors/Errors.js":function(we,k,c){"use strict";function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function S(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&b(m,f)}function b(m,f){return(b=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function h(m){var f=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=P(m);if(f){var C=P(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return y(this,L)}}function y(m,f){return!f||"object"!==T(f)&&"function"!=typeof f?function E(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function P(m){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}c.r(k);var _=new(function(m){S(v,m);var f=h(v);function v(){var d;return function M(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}(this,v),(d=f.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,d.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,d.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,d.SEGMENT_BASE_LOADER_ERROR_CODE=15,d.TIME_SYNC_FAILED_ERROR_CODE=16,d.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,d.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,d.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,d.APPEND_ERROR_CODE=20,d.REMOVE_ERROR_CODE=21,d.DATA_UPDATE_FAILED_ERROR_CODE=22,d.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,d.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,d.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,d.DOWNLOAD_ERROR_ID_SIDX_CODE=26,d.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,d.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,d.DOWNLOAD_ERROR_ID_XLINK_CODE=29,d.MANIFEST_ERROR_ID_PARSE_CODE=31,d.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,d.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,d.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,d.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,d.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",d.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",d.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",d.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",d.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",d.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",d.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",d.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",d.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",d.APPEND_ERROR_MESSAGE="chunk is not defined",d.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",d.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",d.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",d.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",d.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",d.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",d}return v}(c("./src/core/errors/ErrorsBase.js").default));k.default=_},"./src/core/errors/ErrorsBase.js":function(we,k,c){"use strict";function T(b,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}c.r(k),k.default=function(){function b(){!function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,b)}return function M(b,h,y){return h&&T(b.prototype,h),y&&T(b,y),b}(b,[{key:"extend",value:function(y,E){if(y){var F=!!E&&E.override,P=!!E&&E.publicOnly;for(var x in y)!y.hasOwnProperty(x)||this[x]&&!F||P&&-1===y[x].indexOf("public_")||(this[x]=y[x])}}}]),b}()},"./src/core/events/CoreEvents.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/events/EventsBase.js");function T(_){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(_)}function S(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&b(_,m)}function b(_,m){return(b=Object.setPrototypeOf||function(v,d){return v.__proto__=d,v})(_,m)}function h(_){var m=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,v=P(_);if(m){var L=P(this).constructor;d=Reflect.construct(v,arguments,L)}else d=v.apply(this,arguments);return y(this,d)}}function y(_,m){return!m||"object"!==T(m)&&"function"!=typeof m?function E(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(_):m}function P(_){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(_)}k.default=function(_){S(f,_);var m=h(f);function f(){var v;return function M(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,f),(v=m.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",v.BUFFERING_COMPLETED="bufferingCompleted",v.BUFFER_CLEARED="bufferCleared",v.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",v.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",v.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",v.CURRENT_TRACK_CHANGED="currentTrackChanged",v.DATA_UPDATE_COMPLETED="dataUpdateCompleted",v.INBAND_EVENTS="inbandEvents",v.INITIAL_STREAM_SWITCH="initialStreamSwitch",v.INIT_FRAGMENT_LOADED="initFragmentLoaded",v.INIT_FRAGMENT_NEEDED="initFragmentNeeded",v.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",v.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",v.LOADING_COMPLETED="loadingCompleted",v.LOADING_PROGRESS="loadingProgress",v.LOADING_DATA_PROGRESS="loadingDataProgress",v.LOADING_ABANDONED="loadingAborted",v.MANIFEST_UPDATED="manifestUpdated",v.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",v.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",v.QUOTA_EXCEEDED="quotaExceeded",v.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",v.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",v.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",v.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",v.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",v.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",v.SOURCE_BUFFER_ERROR="sourceBufferError",v.STREAMS_COMPOSED="streamsComposed",v.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",v.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",v.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",v.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",v.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",v.URL_RESOLUTION_FAILED="urlResolutionFailed",v.VIDEO_CHUNK_RECEIVED="videoChunkReceived",v.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",v.XLINK_ELEMENT_LOADED="xlinkElementLoaded",v.XLINK_READY="xlinkReady",v.SEEK_TARGET="seekTarget",v.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",v.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",v.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",v.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",v.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",v}return f}(B.default)},"./src/core/events/Events.js":function(we,k,c){"use strict";function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function M(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function S(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&b(m,f)}function b(m,f){return(b=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function h(m){var f=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=P(m);if(f){var C=P(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return y(this,L)}}function y(m,f){return!f||"object"!==T(f)&&"function"!=typeof f?function E(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function P(m){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}c.r(k);var x=function(m){S(v,m);var f=h(v);function v(){return M(this,v),f.apply(this,arguments)}return v}(c("./src/core/events/CoreEvents.js").default),_=new x;k.default=_},"./src/core/events/EventsBase.js":function(we,k,c){"use strict";function T(b,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}c.r(k),k.default=function(){function b(){!function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,b)}return function M(b,h,y){return h&&T(b.prototype,h),y&&T(b,y),b}(b,[{key:"extend",value:function(y,E){if(y){var F=!!E&&E.override,P=!!E&&E.publicOnly;for(var x in y)!y.hasOwnProperty(x)||this[x]&&!F||P&&-1===y[x].indexOf("public_")||(this[x]=y[x])}}}]),b}()},"./src/dash/DashAdapter.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/constants/DashConstants.js"),T=c("./src/dash/vo/RepresentationInfo.js"),M=c("./src/dash/vo/MediaInfo.js"),S=c("./src/dash/vo/StreamInfo.js"),b=c("./src/dash/vo/ManifestInfo.js"),h=c("./src/dash/vo/Event.js"),y=c("./src/core/FactoryMaker.js"),E=c("./src/dash/models/DashManifestModel.js"),F=c("./src/dash/models/PatchManifestModel.js"),P=c("./node_modules/bcp-47-normalize/index.js"),x=c.n(P);function _(){var m,f,v,d,L,C,I,R=this.context;function Q(Le){return f.getRolesForAdaptation(Le).filter(function(Me){return Me.value===B.default.MAIN})[0]}function ue(Le,Me,Ue){var Ye=f.getAdaptationsForType(d[0].mpd.manifest,Le,Me);if(!Ye||0===Ye.length)return null;if(Ye.length>1&&Ue){var st=U(Ue,Me);if(L[Ue.id]&&L[Ue.id][Me])for(var it=0,lt=Ye.length;it<lt;it++)if(ce(L[Ue.id][Me],st[it]))return Ye[it];for(var vt=0,ht=Ye.length;vt<ht;vt++)if(Q(Ye[vt]))return Ye[vt]}return Ye[0]}function ce(Le,Me){if(!Le||!Me)return!1;var Ue=Le.id===Me.id,Ye=Le.codec===Me.codec,st=Le.viewpoint===Me.viewpoint,it=Le.lang===Me.lang,lt=Le.roles.toString()===Me.roles.toString(),vt=Le.accessibility.toString()===Me.accessibility.toString(),ht=Le.audioChannelConfiguration.toString()===Me.audioChannelConfiguration.toString();return Ue&&Ye&&st&&it&&lt&&vt&&ht}function ne(Le,Me,Ue,Ye,st,it){var ht,Be,Xe,et,dt,lt=[];if(!Ye||0===Ye.length)return[];var Mt=f.getAdaptationsForPeriod(Me);for(Xe=0,dt=Ye.length;Xe<dt;Xe++)if(ht=tt(Mt[Be=f.getIndexForAdaptation(Ye[Xe],Le,Ue.index)]),it){var It=ht.accessibility.length;for(et=0;et<It;et++)if(ht){var Vt=ht.accessibility[et];if(0===Vt.indexOf("cea-608:")){var rn=Vt.substring(8).split(";");if("CC"===rn[0].substring(0,2))for(et=0;et<rn.length;et++)ht||(ht=tt.call(this,Mt[Be])),Et(ht,rn[et].substring(0,3),rn[et].substring(4)),lt.push(ht),ht=null;else for(et=0;et<rn.length;et++)ht||(ht=tt.call(this,Mt[Be])),Et(ht,"CC"+(et+1),rn[et]),lt.push(ht),ht=null}else 0===Vt.indexOf("cea-608")&&(Et(ht,C.CC1,"eng"),lt.push(ht),ht=null)}}else st===C.IMAGE?(Lt(ht),lt.push(ht),ht=null):ht&&lt.push(ht);return lt}function U(Le,Me,Ue){var Ye=d,st=Ue,it=[];if(st)en(),Ye=z(st);else{if(!(d.length>0))return it;st=d[0].mpd.manifest}var lt=Qe(Le,Ye),vt=f.getAdaptationsForType(st,Le?Le.index:null,Me);return it=ne(st,lt,Le,vt,Me),Me===C.TEXT&&(vt=f.getAdaptationsForType(st,Le?Le.index:null,C.VIDEO),it=it.concat(ne(st,lt,Le,vt,Me,!0))),it}function z(Le){var Me=D(Le);return f.getRegularPeriods(Me)}function D(Le){var Me=Fe(Le);return f.getMpd(Me)}function Ie(){d=[],L={}}function Fe(Le){return Le||(d.length>0?d[0].mpd.manifest:null)}function Ce(Le){try{var Me=Qe(Le.streamInfo,d),Ue=f.getAdaptationsForPeriod(Me);return Le&&Le.streamInfo&&void 0!==Le.streamInfo.id&&Ue?Ue[Le.index]:null}catch{return null}}function Qe(Le,Me){for(var Ue=Me.length,Ye=0;Ye<Ue;Ye++){var st=Me[Ye];if(Le&&Le.id===st.id)return st}return null}function tt(Le){if(!Le)return null;var Ye,Me=new M.default,Ue=Le.period.mpd.manifest.Period_asArray[Le.period.index].AdaptationSet_asArray[Le.index];if(Me.id=Le.id,Me.index=Le.index,Me.type=Le.type,Me.streamInfo=Bt(Le.period),Me.representationCount=f.getRepresentationCount(Ue),Me.labels=f.getLabelsForAdaptation(Ue),Me.lang=f.getLanguageForAdaptation(Ue),Ye=f.getViewpointForAdaptation(Ue),Me.viewpoint=Ye?Ye.value:void 0,Me.accessibility=f.getAccessibilityForAdaptation(Ue).map(function(lt){var vt=lt.value,ht=vt;return lt.schemeIdUri&&lt.schemeIdUri.search("cea-608")>=0&&typeof I<"u"&&(ht=vt?"cea-608:"+vt:"cea-608",Me.embeddedCaptions=!0),ht}),Me.audioChannelConfiguration=f.getAudioChannelConfigurationForAdaptation(Ue).map(function(lt){return lt.value}),0===Me.audioChannelConfiguration.length&&Array.isArray(Ue.Representation_asArray)&&Ue.Representation_asArray.length>0&&(Me.audioChannelConfiguration=f.getAudioChannelConfigurationForRepresentation(Ue.Representation_asArray[0]).map(function(lt){return lt.value})),Me.roles=f.getRolesForAdaptation(Ue).map(function(lt){return lt.value}),Me.codec=f.getCodec(Ue),Me.mimeType=f.getMimeType(Ue),Me.contentProtection=f.getContentProtectionData(Ue),Me.bitrateList=f.getBitrateListForAdaptation(Ue),Me.selectionPriority=f.getSelectionPriority(Ue),Me.contentProtection){var st=Me.contentProtection.map(function(lt){return f.getKID(lt)}).filter(function(lt){return null!==lt});if(st.length){var it=st[0];Me.contentProtection.forEach(function(lt){lt.keyId=it})}}return Me.isText=f.getIsText(Ue),Me.supplementalProperties=f.getSupplementalProperties(Ue),Me.isFragmented=f.getIsFragmented(Ue),Me.isEmbedded=!1,Me}function Et(Le,Me,Ue){Le.id=Me,Le.index=100+parseInt(Me.substring(2,3)),Le.type=C.TEXT,Le.codec="cea-608-in-SEI",Le.isEmbedded=!0,Le.isFragmented=!1,Le.lang=x()(Ue),Le.roles=["caption"]}function Lt(Le){Le.type=C.IMAGE}function Bt(Le){var Me=new S.default;return Me.id=Le.id,Me.index=Le.index,Me.start=Le.start,Me.duration=Le.duration,Me.manifestInfo=function kt(Le){var Me=new b.default;return Me.dvrWindowSize=Le.timeShiftBufferDepth,Me.loadedTime=Le.manifest.loadedTime,Me.availableFrom=Le.availabilityStartTime,Me.minBufferTime=Le.manifest.minBufferTime,Me.maxFragmentDuration=Le.maxSegmentDuration,Me.duration=f.getDuration(Le.manifest),Me.isDynamic=f.getIsDynamic(Le.manifest),Me.serviceDescriptions=f.getServiceDescriptions(Le.manifest),Me.protocol=Le.manifest.protocol,Me}(Le.mpd),Me.isLast=1===Le.mpd.manifest.Period_asArray.length||Math.abs(Me.start+Me.duration-Me.manifestInfo.duration)<1,Me}function en(){if(!C)throw new Error("setConfig function has to be called previously")}function an(Le){return d.length>0?d[0].mpd.manifest.Period_asArray[Le]:null}function ut(Le,Me,Ue){var st,it,lt,vt,ht;if(Le)for(st=Le.AdaptationSet_asArray,vt=0;vt<st.length;vt+=1)for(lt=st[vt].Representation_asArray,ht=0;ht<lt.length;ht+=1)if(Me===(it=lt[ht]).id)return Ue?ht:it;return null}return m={getBandwidthForRepresentation:function te(Le,Me){var Ue;return(Ue=ut(an(Me),Le))?Ue.bandwidth:null},getIndexForRepresentation:function J(Le,Me){return function Qt(Le,Me){var Ue=ut(Le,Me,!0);return null!==Ue?Ue:-1}(an(Me),Le)},getMaxIndexForBufferType:function he(Le,Me){return function Tt(Le,Me){var Ue,Ye,st,it;if(!Le||!Me)return-1;for(Ye=Le.AdaptationSet_asArray,it=0;it<Ye.length;it+=1)if(st=(Ue=Ye[it]).Representation_asArray,f.getIsTypeOf(Ue,Me))return st.length;return-1}(an(Me),Le)},convertRepresentationToRepresentationInfo:function W(Le){if(Le){var Me=new T.default,Ye=f.getRepresentationFor(Le.index,Le.adaptation.period.mpd.manifest.Period_asArray[Le.adaptation.period.index].AdaptationSet_asArray[Le.adaptation.index]);return Me.id=Le.id,Me.quality=Le.index,Me.bandwidth=f.getBandwidth(Ye),Me.fragmentDuration=Le.segmentDuration||(Le.segments&&Le.segments.length>0?Le.segments[0].duration:NaN),Me.MSETimeOffset=Le.MSETimeOffset,Me.mediaInfo=tt(Le.adaptation),Me}return null},getStreamsInfo:function q(Le,Me){var Ue=[],Ye=d;if(Le&&(en(),Ye=z(Le)),Ye.length>0){(!Me||Me>Ye.length)&&(Me=Ye.length);for(var st=0;st<Me;st++)Ue.push(Bt(Ye[st]))}return Ue},getMediaInfoForType:function $(Le,Me){if(0===d.length||!Le)return null;var Ue=Qe(Le,d);if(!Ue)return null;var Ye=f.getAdaptationsForPeriod(Ue),st=ue(Le.index,Me,Le);return st?tt(Ye[f.getIndexForAdaptation(st,d[0].mpd.manifest,Le.index)]):null},getAllMediaInfoForType:U,getAdaptationForType:ue,getRealAdaptation:function le(Le,Me){var Ue,Ye,st=Qe(Le,d);return Ue=Me?Me.id:null,d.length>0&&st&&(Ye=Ue?f.getAdaptationForId(Ue,d[0].mpd.manifest,st.index):f.getAdaptationForIndex(Me?Me.index:null,d[0].mpd.manifest,st.index)),Ye},getProducerReferenceTimes:function de(Le,Me){var Ue,Ye,st=Qe(Le,d);return Ue=Me?Me.id:null,d.length>0&&st&&(Ye=Ue?f.getAdaptationForId(Ue,d[0].mpd.manifest,st.index):f.getAdaptationForIndex(Me?Me.index:null,d[0].mpd.manifest,st.index)),Ye?f.getProducerReferenceTimesForAdaptation(Ye):[]},getRealPeriodByIndex:function Z(Le){return f.getRealPeriodForIndex(Le,d[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Ee(Le){try{return f.getEssentialPropertiesForRepresentation(Le)}catch{return[]}},getVoRepresentations:function pe(Le){var Ue=Ce(Le);return f.getRepresentationsForAdaptation(Ue)},getEventsFor:function _e(Le,Me,Ue){var Ye=[];if(d.length>0){var st=d[0].mpd.manifest;if(Le instanceof S.default){var it=Qe(Le,d);Ye=f.getEventsForPeriod(it)}else if(Le instanceof M.default){var lt=Qe(Ue,d);Ye=f.getEventStreamForAdaptationSet(st,Ce(Le),lt)}else if(Le instanceof T.default){var vt=Qe(Ue,d);Ye=f.getEventStreamForRepresentation(st,Me,vt)}}return Ye},getEvent:function re(Le,Me,Ue,Ye){try{if(!Le||!Me||isNaN(Ue)||!Ye)return null;var st=Le.scheme_id_uri,it=Le.value;if(!Me[st+"/"+it])return null;var dt,lt=new h.default,vt=Le.timescale||1,ht=Ye.adaptation.period.start,Be=Me[st+"/"+it],Xe=isNaN(Ye.presentationTimeOffset)?isNaN(Be.presentationTimeOffset)?0:Be.presentationTimeOffset:Ye.presentationTimeOffset,et=Le.presentation_time_delta/vt;dt=0===Le.version?ht+Ue-Xe+et:ht-Xe+et;var Mt=Le.event_duration/vt,It=Le.id,Vt=Le.message_data;return lt.eventStream=Be,lt.eventStream.value=it,lt.eventStream.timescale=vt,lt.duration=Mt,lt.id=It,lt.calculatedPresentationTime=dt,lt.messageData=Vt,lt.presentationTimeDelta=et,lt}catch{return null}},getMpd:D,setConfig:function w(Le){!Le||(Le.constants&&(C=Le.constants),Le.cea608parser&&(I=Le.cea608parser),Le.errHandler&&f.setConfig({errHandler:Le.errHandler}),Le.BASE64&&f.setConfig({BASE64:Le.BASE64}))},updatePeriods:function ie(Le){if(!Le)return null;en(),d=z(Le)},getIsTextTrack:function fe(Le){return f.getIsText(Le)},getUTCTimingSources:function ve(){var Le=Fe();return f.getUTCTimingSources(Le)},getSuggestedPresentationDelay:function X(){return f.getSuggestedPresentationDelay(d.length>0?d[0].mpd:null)},getAvailabilityStartTime:function ye(Le){var Me=D(Le);return f.getAvailabilityStartTime(Me)},getIsTypeOf:function be(Le,Me){return f.getIsTypeOf(Le,Me)},getIsDynamic:function se(Le){var Me=Fe(Le);return f.getIsDynamic(Me)},getDuration:function ee(Le){var Me=Fe(Le);return f.getDuration(Me)},getRegularPeriods:z,getContentSteering:function O(Le){return f.getContentSteering(Le)},getLocation:function H(Le){return f.getLocation(Le)},getPatchLocation:function Te(Le){var Me=f.getPatchLocation(Le),Ue=f.getPublishTime(Le);if(!Me||!Ue)return null;if(Me.hasOwnProperty("ttl")&&Ue){var Ye=1e3*parseFloat(Me.ttl);if(Ue.getTime()+Ye<=(new Date).getTime())return null}return Me.__text},getManifestUpdatePeriod:function j(Le){return f.getManifestUpdatePeriod(Le,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function oe(Le){return f.getPublishTime(Le)},getIsDVB:function Re(Le){return f.hasProfile(Le,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function me(Le){return v.getIsPatch(Le)},getBaseURLsFromElement:function G(Le){return f.getBaseURLsFromElement(Le)},getRepresentationSortFunction:function V(){return f.getRepresentationSortFunction()},getCodec:function K(Le,Me,Ue){return f.getCodec(Le,Me,Ue)},getPeriodById:function Ae(Le){if(!Le||0===d.length)return null;var Me=d.filter(function(Ue){return Ue.id===Le});return Me&&Me.length>0?Me[0]:null},setCurrentMediaInfo:function ge(Le,Me,Ue){L[Le]=L[Le]||{},L[Le][Me]=L[Le][Me]||{},L[Le][Me]=Ue},isPatchValid:function xe(Le,Me){var Ue=f.getId(Le),Ye=v.getMpdId(Me),st=f.getPublishTime(Le),it=v.getPublishTime(Me),lt=v.getOriginalPublishTime(Me);return!!(Ue&&Ye&&Ue==Ye&&st&&lt&&st.getTime()==lt.getTime()&&it&&st.getTime()<it.getTime())},applyPatchToManifest:function De(Le,Me){v.getPatchOperations(Me).forEach(function(Ue){var Ye=Ue.getMpdTarget(Le);if(null!==Ye){var st=Ye.name,it=Ye.target,lt=Ye.leaf;if(Ue.xpath.findsAttribute()){switch(Ue.action){case"add":case"replace":it[st]=Ue.value;break;case"remove":delete it[st]}return}var vt=(it[st+"_asArray"]||[]).indexOf(lt),ht="prepend"===Ue.position||"before"===Ue.position;if(("remove"===Ue.action||"replace"===Ue.action)&&(delete it[st],-1!=vt)){var Be=it[st+"_asArray"];Be.splice(vt,1),Be.length>1?it[st]=Be:1==Be.length?it[st]=Be[0]:delete it[st+"_asArray"]}("add"===Ue.action||"replace"===Ue.action)&&Object.keys(Ue.value).forEach(function(Xe){var et=Ue.value[Xe],dt=it[Xe+"_asArray"]||[];0===dt.length&&it[Xe]&&dt.push(it[Xe]),0===dt.length?dt=et:dt.splice.apply(dt,[Xe==st&&-1!=vt?vt+(ht?0:1)+("replace"==Ue.action?-1:0):ht?0:dt.length,0].concat(et)),it[Xe+"_asArray"]=dt,it[Xe]=1==dt.length?dt[0]:dt})}})},areMediaInfosEqual:ce,reset:Ie},function p(){f=Object(E.default)(R).getInstance(),v=Object(F.default)(R).getInstance(),Ie()}(),m}_.__dashjs_factory_name="DashAdapter",k.default=y.default.getSingletonFactory(_)},"./src/dash/DashHandler.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/vo/FragmentRequest.js"),T=c("./src/streaming/vo/metrics/HTTPRequest.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/streaming/MediaPlayerEvents.js"),b=c("./src/dash/utils/SegmentsUtils.js"),h=c("./src/dash/constants/DashConstants.js");function F(P){var I,R,A,p,w,x=(P=P||{}).eventBus,_=P.debug,m=P.urlUtils,f=P.type,v=P.streamInfo,d=P.segmentsController,L=P.timelineConverter,C=P.baseURLController;function ue(){return f}function ne(){A=null}function ie(X,ye,se){var z,D,ee=C.resolve(se.path);return ee&&ye!==ee.url&&m.isRelative(ye)?(z=ee.url,D=ee.serviceLocation,ye&&(z=m.resolve(ye,z))):z=ye,!m.isRelative(z)&&(X.url=z,X.serviceLocation=D,!0)}function de(X,ye){if(null==ye)return null;var se=new B.default,ee=ye.representation,z=ee.adaptation.period.mpd.manifest.Period_asArray[ee.adaptation.period.index].AdaptationSet_asArray[ee.adaptation.index].Representation_asArray[ee.index].bandwidth,D=ye.media;return D=Object(b.replaceTokenForTemplate)(D,"Number",ye.replacementNumber),D=Object(b.replaceTokenForTemplate)(D,"Time",ye.replacementTime),D=Object(b.replaceTokenForTemplate)(D,"Bandwidth",z),D=Object(b.replaceIDForTemplate)(D,ee.id),D=Object(b.unescapeDollarsInTemplate)(D),se.mediaType=ue(),se.type=T.HTTPRequest.MEDIA_SEGMENT_TYPE,se.range=ye.mediaRange,se.startTime=ye.presentationStartTime,se.mediaStartTime=ye.mediaStartTime,se.duration=ye.duration,se.timescale=ee.timescale,se.availabilityStartTime=ye.availabilityStartTime,se.availabilityEndTime=ye.availabilityEndTime,se.availabilityTimeComplete=ee.availabilityTimeComplete,se.wallStartTime=ye.wallStartTime,se.quality=ee.index,se.index=ye.index,se.mediaInfo=X,se.adaptationIndex=ee.adaptation.index,se.representationId=ee.id,ie(se,D,ee)?se:void 0}function Z(X,ye,se){var ee=null;if(!ye||!ye.segmentInfoType)return ee;var z=d.getSegmentByTime(ye,se);return z&&(A=z,R.debug("Index for time "+se+" is "+z.index),ee=de(X,z)),ee}function ve(){R.debug("Dynamic stream complete"),w=!0}return I={initialize:function $(X){p=X,w=!1,d.initialize(X)},getStreamId:function Q(){return v.id},getType:ue,getStreamInfo:function ce(){return v},getInitRequest:function q(X,ye){return ye?function le(X,ye,se){var ee=new B.default,z=ye.adaptation.period,D=z.start;if(ee.mediaType=se,ee.type=T.HTTPRequest.INIT_SEGMENT_TYPE,ee.range=ye.range,ee.availabilityStartTime=L.calcAvailabilityStartTimeFromPresentationTime(D,ye,p),ee.availabilityEndTime=L.calcAvailabilityEndTimeFromPresentationTime(D+z.duration,ye,p),ee.quality=ye.index,ee.mediaInfo=X,ee.representationId=ye.id,ie(ee,ye.initialization,ye))return ee.url=Object(b.replaceTokenForTemplate)(ee.url,"Bandwidth",ye.bandwidth),ee}(X,ye,ue()):null},getSegmentRequestForTime:Z,getCurrentIndex:function fe(){return A?A.index:-1},getNextSegmentRequest:function re(X,ye){var se=null;if(!ye||!ye.segmentInfoType)return null;var ee=A?A.index+1:0,z=d.getSegmentByIndex(ye,ee,A?A.mediaStartTime:-1);if(z)se=de(X,z),A=z;else{if(p&&!w)return R.debug(ue()+" No segment found at index: "+ee+". Wait for next loop"),null;w=!0}return se},isLastSegmentRequested:function Ee(X,ye){if(!X||!A)return!1;if(w)return!0;if(!isFinite(X.adaptation.period.duration)||A.presentationStartTime+A.duration>ye)return!1;if(X.mediaFinishedInformation&&!isNaN(X.mediaFinishedInformation.numberOfSegments)&&!isNaN(A.index)&&A.index>=X.mediaFinishedInformation.numberOfSegments-1){if(!p||X.segmentInfoType===h.default.SEGMENT_TEMPLATE)return!0;if(p&&X.segmentInfoType===h.default.SEGMENT_LIST&&X.adaptation.period.nextPeriodId)return!0}return!!(p&&X.adaptation.period.nextPeriodId&&X.segmentInfoType===h.default.SEGMENT_TIMELINE&&X.mediaFinishedInformation&&!isNaN(X.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&A&&!isNaN(A.mediaStartTime)&&!isNaN(A.duration)&&A.mediaStartTime+A.duration>=X.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function U(){ne(),x.off(S.default.DYNAMIC_TO_STATIC,ve,I)},getNextSegmentRequestIdempotent:function pe(X,ye){var z=d.getSegmentByIndex(ye,A?A.index+1:0,A?A.mediaStartTime:-1);return z?de(X,z):null},getValidTimeCloseToTargetTime:function _e(X,ye,se,ee){try{if(isNaN(X)||!ye||!se)return NaN;if(X<0&&(X=0),isNaN(ee)&&(ee=.5),Z(ye,se,X))return X;for(var z=se.adaptation.period.start,D=se.adaptation.period.start+se.adaptation.period.duration,O=Math.min(X+ee,D),H=Math.max(X-ee,z),j=NaN,oe=null;O<=D||H>=z;){var Te=null,Re=null;if(O<=D&&(Te=Z(ye,se,O)),H>=z&&(Re=Z(ye,se,H)),Re){j=H,oe=Re;break}if(Te){j=O,oe=Te;break}O+=ee,H-=ee}if(oe){var me=oe.startTime+oe.duration;return X>=oe.startTime&&me-X>ee?X:X<oe.startTime?oe.startTime+.001:Math.min(me-ee,j)}return j}catch{return NaN}},getValidTimeAheadOfTargetTime:function ge(X,ye,se,ee){try{if(isNaN(X)||!ye||!se)return NaN;if(X<0&&(X=0),isNaN(ee)&&(ee=.5),Z(ye,se,X))return X;if(se.adaptation.period.start+se.adaptation.period.duration<X)return NaN;for(var z=Math.min(se.adaptation.period.start+se.adaptation.period.duration,X+30),D=Math.min(X+ee,z),O=NaN,H=null;D<=z;){var j=null;if(D<=z&&(j=Z(ye,se,D)),j){O=D,H=j;break}D+=ee}if(H){var oe=H.startTime+H.duration;return X>H.startTime&&oe-X>ee?X:!isNaN(H.startTime)&&X<H.startTime&&O>H.startTime?H.startTime+.001:Math.min(oe-ee,O)}return O}catch{return NaN}}},function W(){R=_.getLogger(I),ne(),x.on(S.default.DYNAMIC_TO_STATIC,ve,I)}(),I}F.__dashjs_factory_name="DashHandler",k.default=M.default.getClassFactory(F)},"./src/dash/DashMetrics.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/streaming/vo/metrics/HTTPRequest.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/streaming/constants/MetricsConstants.js"),b=c("./src/dash/utils/Round10.js"),h=c("./src/streaming/models/MetricsModel.js"),y=c("./src/core/Utils.js"),E=c("./src/streaming/vo/metrics/PlayList.js");function F(P){var _,m,f,v,x=this.context,d=(P=P||{}).metricsModel;function Q(H){var j=d.getMetricsFor(H,!0);if(!j)return null;var Re,oe=j.HttpList,Te=null;if(!oe||oe.length<=0)return null;for(Re=oe.length-1;Re>=0;){if(oe[Re].responsecode){Te=oe[Re];break}Re--}return Te}function ue(H){var j=d.getMetricsFor(H,!0);return j&&j.HttpList?j.HttpList:[]}function ne(H,j){if(!H)return null;var oe=H[j];return oe&&0!==oe.length?oe[oe.length-1]:null}return _={getCurrentRepresentationSwitch:function I(H){return ne(d.getMetricsFor(H,!0),S.default.TRACK_SWITCH)},getCurrentBufferState:function A(H){return ne(d.getMetricsFor(H,!0),S.default.BUFFER_STATE)},getCurrentBufferLevel:function p(H){var oe=ne(d.getMetricsFor(H,!0),S.default.BUFFER_LEVEL);return oe?b.default.round10(oe.level/1e3,-3):0},getCurrentHttpRequest:Q,getHttpRequests:ue,getCurrentDroppedFrames:function U(){return ne(d.getMetricsFor(B.default.VIDEO,!0),S.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function q(H){return ne(d.getMetricsFor(H,!0),S.default.SCHEDULING_INFO)},getCurrentDVRInfo:function ge(H){return ne(H?d.getMetricsFor(H,!0):d.getMetricsFor(B.default.VIDEO,!0)||d.getMetricsFor(B.default.AUDIO,!0),S.default.DVR_INFO)},getCurrentManifestUpdate:function de(){return ne(d.getMetricsFor(B.default.STREAM),S.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function X(H,j){if(!j)return null;var oe={},Te=Q(H);Te&&(oe=y.default.parseHttpHeaders(Te._responseHeaders));var Re=oe[j.toLowerCase()];return void 0===Re?null:Re},getLatestMPDRequestHeaderValueByID:function ve(H){if(!H)return null;var oe,Te,Re,j={};for(Re=(oe=ue(B.default.STREAM)).length-1;Re>=0;Re--)if((Te=oe[Re]).type===T.HTTPRequest.MPD_TYPE){j=y.default.parseHttpHeaders(Te._responseHeaders);break}var me=j[H.toLowerCase()];return void 0===me?null:me},addRepresentationSwitch:function R(H,j,oe,Te,Re){d.addRepresentationSwitch(H,j,oe,Te,Re)},addDVRInfo:function fe(H,j,oe,Te){d.addDVRInfo(H,j,oe,Te)},updateManifestUpdateInfo:function Ee(H){var j=this.getCurrentManifestUpdate();d.updateManifestUpdateInfo(j,H)},addManifestUpdateStreamInfo:function Z(H){if(H){var j=this.getCurrentManifestUpdate();d.addManifestUpdateStreamInfo(j,H.id,H.index,H.start,H.duration)}},addManifestUpdateRepresentationInfo:function _e(H,j){if(H){var oe=this.getCurrentManifestUpdate();d.addManifestUpdateRepresentationInfo(oe,H.id,H.index,H.streamIndex,j,H.presentationTimeOffset,H.startNumber,H.fragmentInfoType)}},addManifestUpdate:function pe(H){d.addManifestUpdate(B.default.STREAM,H.type,H.requestStartDate,H.requestEndDate)},addHttpRequest:function re(H,j,oe,Te,Re){d.addHttpRequest(H.mediaType,null,H.type,H.url,H.quality,j,H.serviceLocation||null,H.range||null,H.requestStartDate,H.firstByteDate,H.requestEndDate,oe,H.duration,Te,Re,H.fileLoaderType)},addSchedulingInfo:function le(H,j){d.addSchedulingInfo(H.mediaType,new Date,H.type,H.startTime,H.availabilityStartTime,H.duration,H.quality,H.range,j)},addRequestsQueue:function ce(H,j,oe){d.addRequestsQueue(H,j,oe)},addBufferLevel:function w(H,j,oe){d.addBufferLevel(H,j,oe)},addBufferState:function W(H,j,oe){d.addBufferState(H,j,oe)},addDroppedFrames:function ie(H){d.addDroppedFrames(B.default.VIDEO,H)},addPlayList:function ye(){v&&(d.addPlayList(v),v=null)},addDVBErrors:function O(H){d.addDVBErrors(H)},createPlaylistMetrics:function se(H,j){(v=new E.PlayList).start=new Date,v.mstart=H,v.starttype=j},createPlaylistTraceMetrics:function ee(H,j,oe){!0===m&&(m=!1,(f=new E.PlayListTrace).representationid=H,f.start=new Date,f.mstart=j,f.playbackspeed=null!==oe?oe.toString():null)},updatePlayListTraceMetrics:function z(H){if(f)for(var j in f)f[j]=H[j]},pushPlayListTraceMetrics:function D(H,j){if(!1===m&&v&&f&&f.start){var oe=f.start,Te=H.getTime()-oe.getTime();f.duration=Te,f.stopreason=j,v.trace.push(f),m=!0}},clearAllCurrentMetrics:function $(){d.clearAllCurrentMetrics()}},function L(){d=d||Object(h.default)(x).getInstance({settings:P.settings}),function C(){m=!0,f=null,v=null}()}(),_}F.__dashjs_factory_name="DashMetrics",k.default=M.default.getSingletonFactory(F)},"./src/dash/SegmentBaseLoader.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/vo/Segment.js"),T=c("./src/streaming/vo/DashJSError.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/streaming/vo/FragmentRequest.js"),b=c("./src/streaming/net/URLLoader.js");function h(){var E,F,P,x,_,m,f,v,d,L,C,I,R,y=this.context;function $(q,le,de,Ee){var Z=null,pe=q?R.resolve(q.path):null,re=Ee||{init:!0,url:pe?pe.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:le};F.debug("Start searching for initialization.");var _e=ie(re);v.load({request:_e,success:function(X){if(re.bytesLoaded=re.range.end,!(Z=x.findInitRange(X)))return re.range.end=re.bytesLoaded+re.bytesToLoad,$(q,le,de,re);q.range=Z,de(q)},error:function(){de(q)}}),F.debug("Perform init search: "+re.url)}function ue(q,le,de,Ee,Z,pe){if(de&&(void 0===de.start||void 0===de.end)){var re=de?de.toString().split("-"):null;de=re?{start:parseFloat(re[0]),end:parseFloat(re[1])}:null}Z=Z||ce;var _e=null,ge=null,fe=!!de,ve=q?R.resolve(q.path):null,X={init:!1,url:ve?ve.url:void 0,range:fe?de:{start:0,end:1500},searching:!fe,bytesLoaded:pe?pe.bytesLoaded:0,bytesToLoad:1500,mediaType:le},ye=ie(X);v.load({request:ye,success:function(D){var O=X.bytesToLoad,H=D.byteLength;if(X.bytesLoaded=X.range.end-X.range.start,_e=x.parse(D),(ge=_e.getBox("sidx"))&&ge.isComplete){var Te,Re,oe=ge.references;if(null!=oe&&oe.length>0&&(Te=1===oe[0].reference_type),Te){F.debug("Initiate multiple SIDX load."),X.range.end=X.range.start+ge.size;var me,G,V,K,J=[],he=0,Ae=(ge.offset||X.range.start)+ge.size,be=function(xe){xe?(J=J.concat(xe),++he>=G&&(J.sort(function(De,Fe){return De.startTime-Fe.startTime<0?-1:0}),Z(J,q,Ee))):Z(null,q,Ee)};for(me=0,G=oe.length;me<G;me++)V=Ae,K=Ae+oe[me].referenced_size-1,Ae+=oe[me].referenced_size,ue(q,le,{start:V,end:K},Ee,be,X)}else F.debug("Parsing segments from SIDX. representation "+le+" - id: "+q.id+" for range : "+X.range.start+" - "+X.range.end),Re=function U(q,le){for(var ge,ve,X,de=q.references,Ee=de.length,Z=q.timescale,pe=q.earliest_presentation_time,re=le.range.start+q.offset+q.first_offset+q.size,_e=[],ye=0;ye<Ee;ye++)ve=de[ye].subsegment_duration,X=de[ye].referenced_size,(ge=new B.default).duration=ve,ge.startTime=pe,ge.timescale=Z,ge.mediaRange=re+"-"+(re+X-1),_e.push(ge),pe+=ve,re+=X;return _e}(ge,X),Z(Re,q,Ee)}else{if(ge)X.range.start=ge.offset||X.range.start,X.range.end=X.range.start+(ge.size||O);else{if(H<X.bytesLoaded)return void Z(null,q,Ee);var j=_e.getLastBox();j&&j.size?(X.range.start=j.offset+j.size,X.range.end=X.range.start+O):X.range.end+=O}ue(q,le,X.range,Ee,null,X)}},error:function(){Z(null,q,Ee)}}),F.debug("Perform SIDX load for type ".concat(le," : ").concat(X.url," with range ").concat(X.range.start," - ").concat(X.range.end))}function ce(q,le,de){de({segments:q,representation:le,error:q?void 0:new T.default(d.SEGMENT_BASE_LOADER_ERROR_CODE,d.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function ie(q){if(q.url){var le=new S.default;return le.setInfo(q),le}}return E={setConfig:function w(q){q.baseURLController&&(R=q.baseURLController),q.dashMetrics&&(m=q.dashMetrics),q.mediaPlayerModel&&(f=q.mediaPlayerModel),q.errHandler&&(P=q.errHandler),q.boxParser&&(x=q.boxParser),q.debug&&(F=q.debug.getLogger(E)),q.requestModifier&&(_=q.requestModifier),q.errors&&(d=q.errors),q.urlUtils&&(I=q.urlUtils),q.constants&&(L=q.constants),q.dashConstants&&(C=q.dashConstants)},initialize:function p(){v=Object(b.default)(y).create({errHandler:P,dashMetrics:m,mediaPlayerModel:f,requestModifier:_,boxParser:x,errors:d,urlUtils:I,constants:L,dashConstants:C})},loadInitialization:function W(q,le){return new Promise(function(de){$(q,le,de)})},loadSegments:function Q(q,le,de){return new Promise(function(Ee){ue(q,le,de,Ee)})},reset:function ne(){v&&(v.abort(),v=null)}}}h.__dashjs_factory_name="SegmentBaseLoader",k.default=M.default.getSingletonFactory(h)},"./src/dash/WebmSegmentBaseLoader.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/utils/EBMLParser.js"),T=c("./src/streaming/constants/Constants.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/dash/vo/Segment.js"),b=c("./src/streaming/vo/FragmentRequest.js"),h=c("./src/streaming/net/URLLoader.js"),y=c("./src/streaming/vo/DashJSError.js");function E(){var P,x,_,m,f,v,d,L,C,I,F=this.context;function W(U,ie,q,le){var Ee,Z,pe,re,_e;for(Z=[],re=0,_e=(Ee=function w(U){var le,de,ie=[],q=Object(B.default)(F).create({data:U});for(q.consumeTagAndSize(_.Segment.Cues);q.moreData()&&q.consumeTagAndSize(_.Segment.Cues.CuePoint,!0);){for((le={}).CueTime=q.parseTag(_.Segment.Cues.CuePoint.CueTime),le.CueTracks=[];q.moreData()&&q.consumeTag(_.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ee=q.getMatroskaCodedNum(),Z=q.getPos();if((de={}).Track=q.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===de.Track)throw new Error("Cue track cannot be 0");de.ClusterPosition=q.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),le.CueTracks.push(de),q.setPos(Z+Ee)}if(0===le.CueTracks.length)throw new Error("Mandatory cuetrack not found");ie.push(le)}if(0===ie.length)throw new Error("mandatory cuepoint not found");return ie}(U)).length;re<_e;re+=1)(pe=new S.default).duration=re<Ee.length-1?Ee[re+1].CueTime-Ee[re].CueTime:le-Ee[re].CueTime,pe.startTime=Ee[re].CueTime,pe.timescale=1e3,pe.mediaRange=Ee[re].CueTracks[0].ClusterPosition+ie+"-"+(re<Ee.length-1?Ee[re+1].CueTracks[0].ClusterPosition+ie-1:q-1),Z.push(pe);return x.debug("Parsed cues: "+Z.length+" cues."),Z}function ce(U){var ie=new b.default;return ie.setInfo(U),ie}return P={setConfig:function p(U){if(!(U.baseURLController&&U.dashMetrics&&U.mediaPlayerModel&&U.errHandler))throw new Error(T.default.MISSING_CONFIG_ERROR);I=U.baseURLController,v=U.dashMetrics,d=U.mediaPlayerModel,m=U.errHandler,C=U.errors,x=U.debug.getLogger(P),f=U.requestModifier},initialize:function A(){L=Object(h.default)(F).create({errHandler:m,dashMetrics:v,mediaPlayerModel:d,requestModifier:f,errors:C})},loadInitialization:function Q(U,ie){return new Promise(function(q){var le=null,de=U?I.resolve(U.path):null,Ee=U?U.range.split("-"):null,Z={range:{start:Ee?parseFloat(Ee[0]):null,end:Ee?parseFloat(Ee[1]):null},request:le,url:de?de.url:void 0,init:!0,mediaType:ie};x.info("Start loading initialization."),le=ce(Z),L.load({request:le,success:function(){q(U)},error:function(){q(U)}}),x.debug("Perform init load: "+Z.url)})},loadSegments:function ue(U,ie,q){return new Promise(function(le){var de=null,Ee=U?I.resolve(U.path):null,Z=Ee?Ee.url:void 0;de=ce({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:de,url:Z,init:!1,mediaType:ie}),x.debug("Parsing ebml header"),L.load({request:de,success:function(ve){!function $(U,ie,q,le){if(U&&0!==U.byteLength){var Ee,Z,pe,re,de=Object(B.default)(F).create({data:U}),_e=q?q.split("-"):null,ge=null,fe={url:ie,range:{start:_e?parseFloat(_e[0]):null,end:_e?parseFloat(_e[1]):null},request:ge};for(x.debug("Parse EBML header: "+fe.url),de.skipOverElement(_.EBML),de.consumeTag(_.Segment),pe=de.getMatroskaCodedNum(),pe+=de.getPos(),re=de.getPos();de.moreData()&&!de.consumeTagAndSize(_.Segment.Info,!0);)if(!(de.skipOverElement(_.Segment.SeekHead,!0)||de.skipOverElement(_.Segment.Tracks,!0)||de.skipOverElement(_.Segment.Cues,!0)||de.skipOverElement(_.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Ee;){var ve=de.getMatroskaCodedNum(!0),X=de.getMatroskaCodedNum();ve===_.Segment.Info.Duration.tag?Ee=de[_.Segment.Info.Duration.parse](X):de.setPos(de.getPos()+X)}ge=ce(fe),L.load({request:ge,success:function(z){Z=W(z,re,pe,Ee),le(Z)},error:function(){x.error("Download Error: Cues "+fe.url),le(null)}}),x.debug("Perform cues load: "+fe.url+" bytes="+fe.range.start+"-"+fe.range.end)}else le(null)}(ve,Z,q,function(X){le({segments:X,representation:U,error:X?void 0:new y.default(C.SEGMENT_BASE_LOADER_ERROR_CODE,C.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){le({representation:U,error:new y.default(C.SEGMENT_BASE_LOADER_ERROR_CODE,C.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function ne(){L&&(L.abort(),L=null)}},function R(){_={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),P}E.__dashjs_factory_name="WebmSegmentBaseLoader",k.default=M.default.getSingletonFactory(E)},"./src/dash/constants/DashConstants.js":function(we,k,c){"use strict";function T(h,y){for(var E=0;E<y.length;E++){var F=y[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}c.r(k);var b=new(function(){function h(){(function B(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function M(h,y,E){return y&&T(h.prototype,y),E&&T(h,E),h}(h,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),h}());k.default=b},"./src/dash/controllers/ContentSteeringController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M=c("./src/streaming/net/URLLoader.js"),S=c("./src/core/errors/Errors.js"),b=c("./src/dash/vo/ContentSteeringRequest.js"),h=c("./src/dash/vo/ContentSteeringResponse.js"),y=c("./src/dash/constants/DashConstants.js"),E=c("./src/streaming/MediaPlayerEvents.js"),F=c("./src/core/events/Events.js"),P=c("./src/streaming/constants/Constants.js"),x=c("./src/core/Utils.js"),_=c("./src/streaming/utils/URLUtils.js"),m_THROUGHPUT="_DASH_throughput",m_PATHWAY="_DASH_pathway",m_URL="url";function f(){var L,C,I,R,A,p,w,W,$,Q,ue,ce,ne,U,ie,v=this.context,d=Object(_.default)(v).getInstance();function Ee(D){D&&D.toStreamInfo&&(R=D.toStreamInfo)}function Z(D){D&&D.request&&D.request.serviceLocation&&(A=D.request.serviceLocation)}function pe(){var D=ue.getValue();return ie.getContentSteering(D)}function _e(){return new Promise(function(D){try{var O=pe();if(!O||!O.serverUrl)return void D();var H=function ge(D){var O=D.proxyServerUrl?D.proxyServerUrl:D.serverUrl;I&&I.reloadUri&&(O=d.isRelative(I.reloadUri)?d.resolve(I.reloadUri,D.serverUrl):I.reloadUri);var H=[];if(R){var j=ie.getIsDynamic(),oe=ie.getAllMediaInfoForType(R,P.default.VIDEO).length>0?P.default.VIDEO:P.default.AUDIO,Te=ne.getThroughputHistory(),Re=Te?Te.getAverageThroughput(oe,j):NaN;isNaN(Re)||H.push({key:m_THROUGHPUT,value:1e3*Re})}return A&&H.push({key:m_PATHWAY,value:A}),D.proxyServerUrl&&D.proxyServerUrl===O&&D.serverUrl&&H.push({key:m_URL,value:encodeURI(D.serverUrl)}),x.default.addAditionalQueryParameterToUrl(O,H)}(O),j=new b.default(H);w.load({request:j,success:function(Te){(function fe(D){!D||!D[y.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(D[y.default.CONTENT_STEERING_RESPONSE.VERSION])||((I=new h.default).version=D[y.default.CONTENT_STEERING_RESPONSE.VERSION],D[y.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(D[y.default.CONTENT_STEERING_RESPONSE.TTL])&&(I.ttl=D[y.default.CONTENT_STEERING_RESPONSE.TTL]),D[y.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(I.reloadUri=D[y.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),D[y.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(I.serviceLocationPriority=D[y.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),ve())})(Te),U.trigger(E.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:I,url:H}),D()},error:function(Te){(function ye(D){C.warn("Error fetching data from content steering server",D),ve()})(Te),D(Te)}})}catch(oe){D(oe)}})}function ve(){I&&I.ttl&&!isNaN(I.ttl)&&(p&&clearTimeout(p),p=setTimeout(function(){_e()},1e3*I.ttl))}function X(){p&&clearTimeout(p),p=null}function z(){I=null,R=null,A=null,X()}return L={reset:function ee(){z(),U.off(E.default.PERIOD_SWITCH_COMPLETED,Ee,L),U.off(F.default.FRAGMENT_LOADING_STARTED,Z,L)},setConfig:function le(D){!D||(D.adapter&&(ie=D.adapter),D.errHandler&&(W=D.errHandler),D.dashMetrics&&($=D.dashMetrics),D.mediaPlayerModel&&(Q=D.mediaPlayerModel),D.requestModifier&&(ce=D.requestModifier),D.manifestModel&&(ue=D.manifestModel),D.abrController&&(ne=D.abrController),D.eventBus&&(U=D.eventBus))},loadSteeringData:_e,getCurrentSteeringResponseData:function se(){return I},shouldQueryBeforeStart:function re(){var D=pe();return D&&D.queryBeforeStart},getSteeringDataFromManifest:pe,stopSteeringRequestTimer:X,initialize:function de(){w=Object(M.default)(v).create({errHandler:W,dashMetrics:$,mediaPlayerModel:Q,requestModifier:ce,errors:S.default}),U.on(E.default.PERIOD_SWITCH_COMPLETED,Ee,L),U.on(F.default.FRAGMENT_LOADING_STARTED,Z,L)}},function q(){C=Object(T.default)(v).getInstance().getLogger(L),z()}(),L}f.__dashjs_factory_name="ContentSteeringController",k.default=B.default.getSingletonFactory(f)},"./src/dash/controllers/RepresentationController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/core/FactoryMaker.js"),M=c("./src/streaming/MediaPlayerEvents.js"),S=c("./src/dash/utils/SegmentsUtils.js");function b(h){var C,I,R,A,p,y=(h=h||{}).eventBus,E=h.events,F=h.abrController,P=h.dashMetrics,x=h.playbackController,_=h.timelineConverter,m=h.type,f=h.streamInfo,v=h.dashConstants,d=h.segmentsController,L=h.isDynamic;function $(){return m}function Q(){if(!(F&&P&&x&&_))throw new Error(B.default.MISSING_CONFIG_ERROR)}function ce(){return R}function ne(){return p}function U(){I=null,R=!0,A=[]}function le(ee){return new Promise(function(z,D){var O=ee.hasInitialization(),H=ee.hasSegments(),j=[];j.push(d.updateInitData(ee,O)),j.push(d.updateSegmentData(ee,H)),Promise.all(j).then(function(oe){oe[0]&&!oe[0].error&&(ee=function Ee(ee,z){return z&&!z.error&&z.representation?z.representation:ee}(ee,oe[0])),oe[1]&&!oe[1].error&&(ee=function Z(ee,z){if(z&&!z.error){var j,oe,Te,Re,D=z.segments,O=[],H=0;for(j=0,oe=D?D.length:0;j<oe;j++)Te=D[j],(Re=Object(S.getTimeBasedSegment)(_,L,ee,Te.startTime,Te.duration,Te.timescale,Te.media,Te.mediaRange,H))&&(O.push(Re),Re=null,H++);return O.length>0&&(ee.segments=O),ee}}(ee,oe[1])),function de(ee){ee.mediaFinishedInformation=d.getMediaFinishedInformation(ee)}(ee),function ve(ee){if(ce()){var O,z=P.getCurrentManifestUpdate(),D=!1;if(z){for(var j=0;j<z.representationInfo.length;j++)if((O=z.representationInfo[j]).index===ee.index&&O.mediaType===$()){D=!0;break}D||P.addManifestUpdateRepresentationInfo(ee,$())}if(function ge(){for(var ee=0,z=A.length;ee<z;ee++){var D=A[ee].segmentInfoType;if(!A[ee].hasInitialization()||(D===v.SEGMENT_BASE||D===v.BASE_URL)&&!A[ee].segments)return!1}return!0}()){F.setPlaybackQuality(m,f,function _e(ee){return A.indexOf(ee)}(p));var oe=P.getCurrentDVRInfo(m);oe&&P.updateManifestUpdateInfo({latency:oe.range.end-x.getTime()}),P.getCurrentRepresentationSwitch(ne().adaptation.type)||pe(),fe()}}}(ee),z()}).catch(function(oe){D(oe)})})}function pe(){Q();var ee=new Date,z=ne(),D=1e3*x.getTime();z&&P.addRepresentationSwitch(z.adaptation.type,ee,D,z.id),y.trigger(M.default.REPRESENTATION_SWITCH,{mediaType:m,streamId:f.id,currentRepresentation:z,numberOfRepresentations:A.length},{streamId:f.id,mediaType:m})}function re(ee){return null==ee||ee>=A.length?null:A[ee]}function fe(ee){R=!1,y.trigger(E.DATA_UPDATE_COMPLETED,{data:I,currentRepresentation:p,error:ee},{streamId:f.id,mediaType:m})}function ye(ee){p=ee}function se(ee){if(ee.newDuration){var z=ne();z&&z.adaptation.period&&(z.adaptation.period.duration=ee.newDuration)}}return C={getStreamId:function W(){return f.id},getType:$,getData:function ue(){return I},isUpdating:ce,updateData:function q(ee,z,D,O,H){if(Q(),R=!0,A=z,ye(re(H)),I=ee,D!==B.default.VIDEO&&D!==B.default.AUDIO&&(D!==B.default.TEXT||!O))return fe(),Promise.resolve();for(var oe=[],Te=0,Re=A.length;Te<Re;Te++)oe.push(le(A[Te]));return Promise.all(oe)},getCurrentRepresentation:ne,getRepresentationForQuality:re,prepareQualityChange:function X(ee){ye(re(ee)),pe()},reset:function ie(){y.off(M.default.MANIFEST_VALIDITY_CHANGED,se,C),U()}},function w(){U(),y.on(M.default.MANIFEST_VALIDITY_CHANGED,se,C)}(),C}b.__dashjs_factory_name="RepresentationController",k.default=T.default.getClassFactory(b)},"./src/dash/controllers/SegmentBaseController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/dash/SegmentBaseLoader.js"),M=c("./src/dash/WebmSegmentBaseLoader.js");function S(h){var C,I,R,y=this.context,E=(h=h||{}).eventBus,F=h.events,P=h.dashMetrics,x=h.mediaPlayerModel,_=h.errHandler,m=h.baseURLController,f=h.debug,v=h.boxParser,d=h.requestModifier,L=h.errors;function p(ue){return"webm"===(ue?ue.split("/")[1]:"").toLowerCase()}return C={initialize:function w(){I.initialize(),R.initialize()},getSegmentBaseInitSegment:function W(ue){return p(ue.representation.mimeType)?R.loadInitialization(ue.representation,ue.mediaType):I.loadInitialization(ue.representation,ue.mediaType)},getSegmentList:function $(ue){return p(ue.mimeType)?R.loadSegments(ue.representation,ue.mediaType,ue.representation?ue.representation.indexRange:null):I.loadSegments(ue.representation,ue.mediaType,ue.representation?ue.representation.indexRange:null)},reset:function Q(){I.reset(),R.reset()}},function A(){I=Object(T.default)(y).getInstance(),R=Object(M.default)(y).getInstance(),I.setConfig({baseURLController:m,dashMetrics:P,mediaPlayerModel:x,errHandler:_,eventBus:E,events:F,errors:L,debug:f,boxParser:v,requestModifier:d}),R.setConfig({baseURLController:m,dashMetrics:P,mediaPlayerModel:x,errHandler:_,eventBus:E,events:F,errors:L,debug:f,requestModifier:d})}(),C}S.__dashjs_factory_name="SegmentBaseController";var b=B.default.getSingletonFactory(S);k.default=b},"./src/dash/controllers/SegmentsController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/dash/utils/TimelineSegmentsGetter.js"),M=c("./src/dash/utils/TemplateSegmentsGetter.js"),S=c("./src/dash/utils/ListSegmentsGetter.js"),b=c("./src/dash/utils/SegmentBaseGetter.js");function h(E){var m,f,F=this.context,P=(E=E||{}).dashConstants,x=E.type,_=E.segmentBaseController;function I(w){return w?w.segments?f[P.SEGMENT_BASE]:f[w.segmentInfoType]:null}return m={initialize:function d(w){f[P.SEGMENT_TIMELINE]=Object(T.default)(F).create(E,w),f[P.SEGMENT_TEMPLATE]=Object(M.default)(F).create(E,w),f[P.SEGMENT_LIST]=Object(S.default)(F).create(E,w),f[P.SEGMENT_BASE]=Object(b.default)(F).create(E,w)},updateInitData:function L(w,W){return W?Promise.resolve():_.getSegmentBaseInitSegment({representation:w,mediaType:x})},updateSegmentData:function C(w,W){return W?Promise.resolve():_.getSegmentList({mimeType:w.mimeType,representation:w,mediaType:x})},getSegmentByIndex:function R(w,W,$){var Q=I(w);return Q?Q.getSegmentByIndex(w,W,$):null},getSegmentByTime:function A(w,W){var $=I(w);return $?$.getSegmentByTime(w,W):null},getMediaFinishedInformation:function p(w){var W=I(w);return W?W.getMediaFinishedInformation(w):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function v(){f={}}(),m}h.__dashjs_factory_name="SegmentsController";var y=B.default.getClassFactory(h);k.default=y},"./src/dash/controllers/ServiceDescriptionController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M=c("./src/streaming/constants/Constants.js"),S=c("./src/dash/constants/DashConstants.js"),b=[M.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],h_VIDEO="video",h_AUDIO="audio",h_ANY="any",h_ALL="all";function y(){var F,P,x,_,m,E=this.context;function L(){P={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},x=[]}function Q(U,ie,q){try{P[U][ie]=q/1e3}catch(le){_.error(le)}}return F={getServiceDescriptionSettings:function C(){return P},getProducerReferenceTimeOffsets:function ue(){return x},calculateProducerReferenceTimeOffsets:function ce(U){try{var ie=[];if(U&&U.length>0){var q=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT],le=m.getAvailabilityStartTime()/1e3;U.forEach(function(de){var Ee=q.reduce(function(Z,pe){return Z.concat(m.getAllMediaInfoForType(de,pe))},[]).reduce(function(Z,pe){return m.getProducerReferenceTimes(de,pe).forEach(function(_e){var ge=m.getVoRepresentations(pe);if(ge&&ge.length>0&&ge[0].adaptation&&ge[0].segmentInfoType===S.default.SEGMENT_TEMPLATE){var fe=ge[0],X=new Date(_e[S.default.WALL_CLOCK_TIME]).getTime()/1e3;Z.push({id:_e[S.default.ID],to:le-(X-(_e[S.default.PRESENTATION_TIME]/fe[S.default.TIMESCALE]-fe[S.default.PRESENTATION_TIME_OFFSET]+de.start))})}}),Z},[]);ie=ie.concat(Ee)})}x=ie}catch(de){_.error(de),x=[]}},applyServiceDescription:function I(U){if(U&&U.serviceDescriptions){var ie=U.serviceDescriptions.filter(function(de){return b.includes(de.schemeIdUri)}),q=U.serviceDescriptions.filter(function(de){return null==de.schemeIdUri}),le=ie.length>0?ie[ie.length-1]:q[q.length-1];!le||(le.latency&&le.latency.target>0&&function R(U){var ie;if(ie=U.schemeIdUri===M.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function p(U){return{liveDelay:U.latency.target/1e3,maxDrift:!isNaN(U.latency.max)&&U.latency.max>U.latency.target?(U.latency.max-U.latency.target+500)/1e3:NaN,referenceId:U.latency.referenceId||NaN}}(U):function A(U){return{liveDelay:U.latency.target/1e3,maxDrift:!isNaN(U.latency.max)&&U.latency.max>U.latency.target?(U.latency.max-U.latency.target+500)/1e3:NaN,referenceId:U.latency.referenceId||NaN}}(U),x.length>0){var q=function ne(U){var q,ie=0,le=x.filter(function(de){return de.id===U.referenceId});return 0===le.length?(ie=x.length>0?x[0].to:0,q=x[0].id||NaN):(ie=le[0].to||0,q=le[0].id||NaN),{to:ie,id:q}}(ie),le=q.to,de=q.id;P.liveDelay=ie.liveDelay-le,P.liveCatchup.maxDrift=ie.maxDrift,_.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(le," from ProducerReferenceTime element with id ").concat(de,".\n                Live Delay: ").concat(ie.liveDelay-le,", Live catchup max drift: ").concat(ie.maxDrift,"\n            "))}else P.liveDelay=ie.liveDelay,P.liveCatchup.maxDrift=ie.maxDrift,_.debug("Found latency properties coming from service description: Live Delay: ".concat(ie.liveDelay,", Live catchup max drift: ").concat(ie.maxDrift))}(le),le.playbackRate&&function w(U){var ie=U.playbackRate.min?Math.round(1e3*(U.playbackRate.min-1))/1e3:NaN,q=U.playbackRate.max?Math.round(1e3*(U.playbackRate.max-1))/1e3:NaN;P.liveCatchup.playbackRate.min=ie,P.liveCatchup.playbackRate.max=q,_.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(ie)),_.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(q))}(le),le.operatingBandwidth&&function $(U){if(U&&U.operatingBandwidth&&U.operatingBandwidth.mediaType&&U.operatingBandwidth.mediaType!==h_ALL){var ie={};ie.minBandwidth=U.operatingBandwidth.min,ie.maxBandwidth=U.operatingBandwidth.max,ie.targetBandwidth=U.operatingBandwidth.target;var q=[];U.operatingBandwidth.mediaType===h_VIDEO||U.operatingBandwidth.mediaType===h_AUDIO?q.push(U.operatingBandwidth.mediaType):U.operatingBandwidth.mediaType===h_ANY&&(q.push(h_AUDIO),q.push(h_VIDEO)),q.forEach(function(le){isNaN(ie.minBandwidth)||Q("minBitrate",le,ie.minBandwidth),isNaN(ie.maxBandwidth)||Q("maxBitrate",le,ie.maxBandwidth),isNaN(ie.targetBandwidth)||Q("initialBitrate",le,ie.targetBandwidth)})}}(le))}},reset:function d(){L()},setConfig:function v(U){!U||U.adapter&&(m=U.adapter)}},function f(){_=Object(T.default)(E).getInstance().getLogger(F),L()}(),F}y.__dashjs_factory_name="ServiceDescriptionController",k.default=B.default.getSingletonFactory(y)},"./src/dash/models/DashManifestModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/dash/constants/DashConstants.js"),M=c("./src/dash/vo/Representation.js"),S=c("./src/dash/vo/AdaptationSet.js"),b=c("./src/dash/vo/Period.js"),h=c("./src/dash/vo/Mpd.js"),y=c("./src/dash/vo/UTCTiming.js"),E=c("./src/dash/vo/Event.js"),F=c("./src/dash/vo/BaseURL.js"),P=c("./src/dash/vo/EventStream.js"),x=c("./src/dash/vo/ProducerReferenceTime.js"),_=c("./src/dash/vo/ContentSteering.js"),m=c("./src/streaming/utils/ObjectUtils.js"),f=c("./src/streaming/utils/URLUtils.js"),v=c("./src/core/FactoryMaker.js"),d=c("./src/core/Debug.js"),L=c("./src/streaming/vo/DashJSError.js"),C=c("./src/core/errors/Errors.js"),I=c("./src/streaming/thumbnail/ThumbnailTracks.js");function R(ce,ne){var U;if(typeof Symbol>"u"||null==ce[Symbol.iterator]){if(Array.isArray(ce)||(U=w(ce))||ne&&ce&&"number"==typeof ce.length){U&&(ce=U);var ie=0,q=function(){};return{s:q,n:function(){return ie>=ce.length?{done:!0}:{done:!1,value:ce[ie++]}},e:function(pe){throw pe},f:q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ee,le=!0,de=!1;return{s:function(){U=ce[Symbol.iterator]()},n:function(){var pe=U.next();return le=pe.done,pe},e:function(pe){de=!0,Ee=pe},f:function(){try{!le&&null!=U.return&&U.return()}finally{if(de)throw Ee}}}}function A(ce){return function $(ce){if(Array.isArray(ce))return Q(ce)}(ce)||function W(ce){if(typeof Symbol<"u"&&Symbol.iterator in Object(ce))return Array.from(ce)}(ce)||w(ce)||function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(ce,ne){if(ce){if("string"==typeof ce)return Q(ce,ne);var U=Object.prototype.toString.call(ce).slice(8,-1);if("Object"===U&&ce.constructor&&(U=ce.constructor.name),"Map"===U||"Set"===U)return Array.from(ce);if("Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return Q(ce,ne)}}function Q(ce,ne){(null==ne||ne>ce.length)&&(ne=ce.length);for(var U=0,ie=new Array(ne);U<ne;U++)ie[U]=ce[U];return ie}function ue(){var ce,ne,U,ie,q=this.context,le=Object(f.default)(q).getInstance(),de=Number.isInteger||function(Oe){return"number"==typeof Oe&&isFinite(Oe)&&Math.floor(Oe)===Oe};function Z(Oe,Je){if(!Oe)throw new Error("adaptation is not defined");if(!Je)throw new Error("type is not defined");if(Oe.Representation_asArray&&Oe.Representation_asArray.length){var Dt=kt(Oe.Representation_asArray[0]);if(Dt&&Dt.length>0&&I.THUMBNAILS_SCHEME_ID_URIS.indexOf(Dt[0].schemeIdUri)>=0)return Je===B.default.IMAGE}if(Oe.ContentComponent_asArray&&Oe.ContentComponent_asArray.length>0){if(Oe.ContentComponent_asArray.length>1)return Je===B.default.MUXED;if(Oe.ContentComponent_asArray[0].contentType===Je)return!0}var je=Je===B.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(Je);if(Oe.Representation_asArray&&Oe.Representation_asArray.length&&je.test(Oe.Representation_asArray[0].codecs))return!0;if(Oe.hasOwnProperty(T.default.MIME_TYPE))return je.test(Oe.mimeType);if(Oe.Representation_asArray)for(var nt,wt=0;wt<Oe.Representation_asArray.length;wt++)if((nt=Oe.Representation_asArray[wt]).hasOwnProperty(T.default.MIME_TYPE))return je.test(nt.mimeType);return!1}function pe(Oe){if(!Oe)throw new Error("adaptation is not defined");if(Oe.hasOwnProperty(T.default.SEGMENT_TEMPLATE)||Oe.hasOwnProperty(T.default.SEGMENT_TIMELINE)||Oe.hasOwnProperty(T.default.SEGMENT_LIST)||Oe.hasOwnProperty(T.default.SEGMENT_BASE))return!0;if(Oe.Representation_asArray&&Oe.Representation_asArray.length>0){var Je=Oe.Representation_asArray[0];if(Je.hasOwnProperty(T.default.SEGMENT_TEMPLATE)||Je.hasOwnProperty(T.default.SEGMENT_TIMELINE)||Je.hasOwnProperty(T.default.SEGMENT_LIST)||Je.hasOwnProperty(T.default.SEGMENT_BASE))return!0}return!1}function re(Oe){return Z(Oe,B.default.AUDIO)}function _e(Oe){return Z(Oe,B.default.VIDEO)}function ge(Oe){return Z(Oe,B.default.TEXT)}function fe(Oe){return Z(Oe,B.default.MUXED)}function ve(Oe){return Z(Oe,B.default.IMAGE)}function H(){return function(Oe,Je){return Oe.bandwidth-Je.bandwidth}}function j(Oe){return Oe&&Array.isArray(Oe.Representation_asArray)&&Oe.Representation_asArray.sort(function(Oe,Je){return Oe.bandwidth-Je.bandwidth}),Oe}function oe(Oe,Je){return Oe&&Oe.Period_asArray&&de(Je)&&Oe.Period_asArray[Je]?Oe.Period_asArray[Je].AdaptationSet_asArray:[]}function Te(Oe){return Oe&&Oe.Period_asArray?Oe.Period_asArray:[]}function Ie(Oe){var Je=!1;return Oe&&Oe.hasOwnProperty("type")&&(Je=Oe.type===T.default.DYNAMIC),Je}function kt(Oe){return Oe&&Oe.EssentialProperty_asArray&&Oe.EssentialProperty_asArray.length?Oe.EssentialProperty_asArray.map(function(Je){return{schemeIdUri:Je.schemeIdUri,value:Je.value}}):null}function ut(Oe){if(!Oe||!Oe.S_asArray)return NaN;var Je=Oe.S_asArray[0],Dt=Oe.S_asArray[1];return Je.hasOwnProperty("d")?Je.d:Dt.t-Je.t}function Tt(Oe){return Oe.adaptation.period.start-Oe.presentationTimeOffset}function Ue(Oe,Je){if(!Oe)throw new Error("Period cannot be null or undefined");var Dt=b.default.DEFAULT_ID+"_"+Je;return Oe.hasOwnProperty(T.default.ID)&&Oe.id.length>0&&"__proto__"!==Oe.id&&(Dt=Oe.id),Dt}function vt(Oe,Je,Dt){var ze,je=[];if(!Oe)return je;for(ze=0;ze<Oe.length;ze++){var nt=new P.default;if(nt.timescale=1,nt.representation=Je,!Oe[ze].hasOwnProperty(B.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");nt.schemeIdUri=Oe[ze].schemeIdUri,Oe[ze].hasOwnProperty(T.default.TIMESCALE)&&(nt.timescale=Oe[ze].timescale),Oe[ze].hasOwnProperty(T.default.VALUE)&&(nt.value=Oe[ze].value),je.push(nt),nt.period=Dt}return je}function et(Oe){var Je=[],je=!1;return(Oe.BaseURL_asArray||[Oe.baseUri]).some(function(ze){if(ze){var nt=new F.default,wt=ze.__text||ze;return le.isRelative(wt)&&(je=!0,Oe.baseUri&&(wt=le.resolve(wt,Oe.baseUri))),nt.url=wt,nt.serviceLocation=ze.hasOwnProperty(T.default.SERVICE_LOCATION)&&ze.serviceLocation.length?ze.serviceLocation:wt,ze.hasOwnProperty(T.default.DVB_PRIORITY)&&(nt.dvb_priority=ze[T.default.DVB_PRIORITY]),ze.hasOwnProperty(T.default.DVB_WEIGHT)&&(nt.dvb_weight=ze[T.default.DVB_WEIGHT]),ze.hasOwnProperty(T.default.AVAILABILITY_TIME_OFFSET)&&(nt.availabilityTimeOffset=ze[T.default.AVAILABILITY_TIME_OFFSET]),ze.hasOwnProperty(T.default.AVAILABILITY_TIME_COMPLETE)&&(nt.availabilityTimeComplete="false"!==ze[T.default.AVAILABILITY_TIME_COMPLETE]),Je.push(nt),je}}),Je}return ce={getIsTypeOf:Z,getIsText:ge,getIsFragmented:pe,getProducerReferenceTimesForAdaptation:function X(Oe){var Je=Oe&&Oe.hasOwnProperty(T.default.PRODUCERREFERENCETIME_ASARRAY)?Oe[T.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Oe&&Oe.hasOwnProperty(T.default.REPRESENTATION_ASARRAY)?Oe[T.default.REPRESENTATION_ASARRAY]:[]).forEach(function(ze){ze.hasOwnProperty(T.default.PRODUCERREFERENCETIME_ASARRAY)&&Je.push.apply(Je,A(ze[T.default.PRODUCERREFERENCETIME_ASARRAY]))});var je=[];return Je.forEach(function(ze){var nt=new x.default;ze.hasOwnProperty(T.default.ID)&&(nt[T.default.ID]=ze[T.default.ID],ze.hasOwnProperty(T.default.WALL_CLOCK_TIME)&&(nt[T.default.WALL_CLOCK_TIME]=ze[T.default.WALL_CLOCK_TIME],ze.hasOwnProperty(T.default.PRESENTATION_TIME)&&(nt[T.default.PRESENTATION_TIME]=ze[T.default.PRESENTATION_TIME],je.push(nt))))}),je},getLanguageForAdaptation:function ye(Oe){var Je="";return Oe&&Oe.hasOwnProperty(T.default.LANG)&&(Je=Oe.lang),Je},getViewpointForAdaptation:function se(Oe){return Oe&&Oe.hasOwnProperty(T.default.VIEWPOINT)?Oe.Viewpoint:null},getRolesForAdaptation:function ee(Oe){return Oe&&Oe.hasOwnProperty(T.default.ROLE_ASARRAY)?Oe.Role_asArray:[]},getAccessibilityForAdaptation:function z(Oe){return Oe&&Oe.hasOwnProperty(T.default.ACCESSIBILITY_ASARRAY)?Oe.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function D(Oe){return Oe&&Oe.hasOwnProperty(T.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Oe.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function O(Oe){return Oe&&Oe.hasOwnProperty(T.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Oe.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function G(Oe,Je,Dt){var je=oe(Je,Dt);return je.length>0&&de(Oe)?je[Oe]:null},getIndexForAdaptation:function V(Oe,Je,Dt){if(!Oe)return-1;for(var je=oe(Je,Dt),ze=0;ze<je.length;ze++)if(Object(m.default)(q).getInstance().areEqual(je[ze],Oe))return ze;return-1},getAdaptationForId:function me(Oe,Je,Dt){var ze,nt,je=oe(Je,Dt);for(ze=0,nt=je.length;ze<nt;ze++)if(je[ze].hasOwnProperty(T.default.ID)&&je[ze].id===Oe)return je[ze];return null},getAdaptationsForType:function K(Oe,Je,Dt){var ze,nt,je=oe(Oe,Je),wt=[];for(ze=0,nt=je.length;ze<nt;ze++)Z(je[ze],Dt)&&wt.push(j(je[ze]));return wt},getRealPeriods:Te,getRealPeriodForIndex:function Re(Oe,Je){var Dt=Te(Je);return Dt.length>0&&de(Oe)?Dt[Oe]:null},getCodec:function te(Oe,Je,Dt){var je=null;if(Oe&&Oe.Representation_asArray&&Oe.Representation_asArray.length>0){var ze=de(Je)&&Je>=0&&Je<Oe.Representation_asArray.length?Oe.Representation_asArray[Je]:Oe.Representation_asArray[0];ze&&(je=ze.mimeType+';codecs="'+ze.codecs+'"',Dt&&void 0!==ze.width&&(je+=';width="'+ze.width+'";height="'+ze.height+'"'))}return je&&(je=je.replace(/\sprofiles=[^;]*/g,"")),je},getSelectionPriority:function Bt(Oe){try{var Je=Oe&&typeof Oe.selectionPriority<"u"?parseInt(Oe.selectionPriority):1;return isNaN(Je)?1:Je}catch{return 1}},getMimeType:function J(Oe){return Oe&&Oe.Representation_asArray&&Oe.Representation_asArray.length>0?Oe.Representation_asArray[0].mimeType:null},getKID:function he(Oe){return Oe&&Oe.hasOwnProperty(T.default.CENC_DEFAULT_KID)?Oe[T.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Ae(Oe){if(!Oe||!Array.isArray(Oe.Label_asArray))return[];for(var Je=[],Dt=0;Dt<Oe.Label_asArray.length;Dt++)Je.push({lang:Oe.Label_asArray[Dt].lang,text:Oe.Label_asArray[Dt].__text||Oe.Label_asArray[Dt]});return Je},getContentProtectionData:function be(Oe){return Oe&&Oe.hasOwnProperty(T.default.CONTENTPROTECTION_ASARRAY)&&0!==Oe.ContentProtection_asArray.length?Oe.ContentProtection_asArray:null},getIsDynamic:Ie,getId:function xe(Oe){return Oe&&Oe[T.default.ID]||null},hasProfile:function De(Oe,Je){var Dt=!1;return Oe&&Oe.profiles&&Oe.profiles.length>0&&(Dt=-1!==Oe.profiles.indexOf(Je)),Dt},getDuration:function Fe(Oe){return Oe&&Oe.hasOwnProperty(T.default.MEDIA_PRESENTATION_DURATION)?Oe.mediaPresentationDuration:Oe&&"dynamic"==Oe.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Ce(Oe){return Oe&&Oe.bandwidth?Oe.bandwidth:NaN},getManifestUpdatePeriod:function Qe(Oe){var Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Dt=NaN;return Oe&&Oe.hasOwnProperty(T.default.MINIMUM_UPDATE_PERIOD)&&(Dt=Oe.minimumUpdatePeriod),isNaN(Dt)?Dt:Math.max(Dt-Je,1)},getPublishTime:function tt(Oe){return Oe&&Oe.hasOwnProperty(T.default.PUBLISH_TIME)?new Date(Oe[T.default.PUBLISH_TIME]):null},getRepresentationCount:function Et(Oe){return Oe&&Array.isArray(Oe.Representation_asArray)?Oe.Representation_asArray.length:0},getBitrateListForAdaptation:function Lt(Oe){var Je=j(Oe);return(Je&&Array.isArray(Je.Representation_asArray)?Je.Representation_asArray:[]).map(function(je){return{bandwidth:je.bandwidth,width:je.width||0,height:je.height||0,scanType:je.scanType||null,id:je.id||null}})},getRepresentationFor:function en(Oe,Je){return Je&&Je.Representation_asArray&&Je.Representation_asArray.length>0&&de(Oe)?Je.Representation_asArray[Oe]:null},getRepresentationsForAdaptation:function Qt(Oe){var je,ze,Je=[],Dt=function an(Oe){if(Oe&&Oe.period&&de(Oe.period.index)){var Je=Oe.period.mpd.manifest.Period_asArray[Oe.period.index];if(Je&&Je.AdaptationSet_asArray&&de(Oe.index))return j(Je.AdaptationSet_asArray[Oe.index])}}(Oe);if(Dt&&Dt.Representation_asArray){if(Oe&&Oe.period&&de(Oe.period.index)){var nt=et(Oe.period.mpd.manifest);nt&&(ze=nt[0])}for(var wt=0,tn=Dt.Representation_asArray.length;wt<tn;++wt){var We=Dt.Representation_asArray[wt],qe=new M.default;if(qe.index=wt,qe.adaptation=Oe,We.hasOwnProperty(T.default.ID)&&(qe.id=We.id),We.hasOwnProperty(T.default.CODECS)&&(qe.codecs=We.codecs),We.hasOwnProperty(T.default.MIME_TYPE)&&(qe.mimeType=We[T.default.MIME_TYPE]),We.hasOwnProperty(T.default.CODEC_PRIVATE_DATA)&&(qe.codecPrivateData=We.codecPrivateData),We.hasOwnProperty(T.default.BANDWITH)&&(qe.bandwidth=We.bandwidth),We.hasOwnProperty(T.default.WIDTH)&&(qe.width=We.width),We.hasOwnProperty(T.default.HEIGHT)&&(qe.height=We.height),We.hasOwnProperty(T.default.SCAN_TYPE)&&(qe.scanType=We.scanType),We.hasOwnProperty(T.default.MAX_PLAYOUT_RATE)&&(qe.maxPlayoutRate=We.maxPlayoutRate),We.hasOwnProperty(T.default.SEGMENT_BASE)?(je=We.SegmentBase,qe.segmentInfoType=T.default.SEGMENT_BASE):We.hasOwnProperty(T.default.SEGMENT_LIST)?qe.segmentInfoType=(je=We.SegmentList).hasOwnProperty(T.default.SEGMENT_TIMELINE)?T.default.SEGMENT_TIMELINE:T.default.SEGMENT_LIST:We.hasOwnProperty(T.default.SEGMENT_TEMPLATE)?(qe.segmentInfoType=(je=We.SegmentTemplate).hasOwnProperty(T.default.SEGMENT_TIMELINE)?T.default.SEGMENT_TIMELINE:T.default.SEGMENT_TEMPLATE,je.hasOwnProperty(T.default.INITIALIZATION_MINUS)&&(qe.initialization=je.initialization.split("$Bandwidth$").join(We.bandwidth).split("$RepresentationID$").join(We.id))):qe.segmentInfoType=T.default.BASE_URL,qe.essentialProperties=kt(We),je){if(je.hasOwnProperty(T.default.INITIALIZATION)){var Ve=je.Initialization;Ve.hasOwnProperty(T.default.SOURCE_URL)&&(qe.initialization=Ve.sourceURL),Ve.hasOwnProperty(T.default.RANGE)&&(qe.range=Ve.range)}else ge(Dt)&&pe(Dt)&&Dt.mimeType&&-1===Dt.mimeType.indexOf("application/mp4")&&(qe.range=0);je.hasOwnProperty(T.default.TIMESCALE)&&(qe.timescale=je.timescale),je.hasOwnProperty(T.default.DURATION)?qe.segmentDuration=je.duration/qe.timescale:We.hasOwnProperty(T.default.SEGMENT_TEMPLATE)&&(je=We.SegmentTemplate).hasOwnProperty(T.default.SEGMENT_TIMELINE)&&(qe.segmentDuration=ut(je.SegmentTimeline)/qe.timescale),je.hasOwnProperty(T.default.MEDIA)&&(qe.media=je.media),je.hasOwnProperty(T.default.START_NUMBER)&&(qe.startNumber=je.startNumber),je.hasOwnProperty(T.default.INDEX_RANGE)&&(qe.indexRange=je.indexRange),je.hasOwnProperty(T.default.PRESENTATION_TIME_OFFSET)&&(qe.presentationTimeOffset=je.presentationTimeOffset/qe.timescale),je.hasOwnProperty(T.default.AVAILABILITY_TIME_OFFSET)?qe.availabilityTimeOffset=je.availabilityTimeOffset:ze&&void 0!==ze.availabilityTimeOffset&&(qe.availabilityTimeOffset=ze.availabilityTimeOffset),je.hasOwnProperty(T.default.AVAILABILITY_TIME_COMPLETE)?qe.availabilityTimeComplete="false"!==je.availabilityTimeComplete:ze&&void 0!==ze.availabilityTimeComplete&&(qe.availabilityTimeComplete=ze.availabilityTimeComplete)}qe.MSETimeOffset=Tt(qe),qe.path=[Oe.period.index,Oe.index,wt],Je.push(qe)}}return Je},getAdaptationsForPeriod:function Le(Oe){var je,ze,nt,Je=Oe&&de(Oe.index)?Oe.mpd.manifest.Period_asArray[Oe.index]:null,Dt=[];if(Je&&Je.AdaptationSet_asArray)for(nt=0;nt<Je.AdaptationSet_asArray.length;nt++)ze=Je.AdaptationSet_asArray[nt],je=new S.default,ze.hasOwnProperty(T.default.ID)&&(je.id=ze.id),je.index=nt,je.period=Oe,fe(ze)?je.type=B.default.MUXED:re(ze)?je.type=B.default.AUDIO:_e(ze)?je.type=B.default.VIDEO:ge(ze)?je.type=B.default.TEXT:ve(ze)?je.type=B.default.IMAGE:ne.warn("Unknown Adaptation stream type"),Dt.push(je);return Dt},getRegularPeriods:function Me(Oe){var tn,We,Je=!!Oe&&Ie(Oe.manifest),Dt=[],je=null,ze=null,nt=null,wt=null;for(We=0,tn=Oe&&Oe.manifest&&Oe.manifest.Period_asArray?Oe.manifest.Period_asArray.length:0;We<tn;We++)(ze=Oe.manifest.Period_asArray[We]).hasOwnProperty(T.default.START)?(wt=new b.default).start=ze.start:null!==je&&je.hasOwnProperty(T.default.DURATION)&&null!==nt?(wt=new b.default).start=parseFloat((nt.start+nt.duration).toFixed(5)):0===We&&!Je&&((wt=new b.default).start=0),null!==nt&&isNaN(nt.duration)&&(null!==wt?nt.duration=parseFloat((wt.start-nt.start).toFixed(5)):ne.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==wt&&(wt.id=Ue(ze,We),wt.index=We,wt.mpd=Oe,ze.hasOwnProperty(T.default.DURATION)&&(wt.duration=ze.duration),nt&&(nt.nextPeriodId=wt.id),Dt.push(wt),je=ze,nt=wt),ze=null,wt=null;return 0===Dt.length||null!==nt&&isNaN(nt.duration)&&(nt.duration=parseFloat((function it(Oe){!function st(){if(!U||!U.hasOwnProperty("error"))throw new Error(B.default.MISSING_CONFIG_ERROR)}();var Dt,Je=Ie(Oe.mpd.manifest);return Oe.mpd.manifest.mediaPresentationDuration?Dt=Oe.mpd.manifest.mediaPresentationDuration:Oe.duration?Dt=Oe.duration:Je?Dt=Number.POSITIVE_INFINITY:U.error(new L.default(C.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Oe)),Dt}(nt)-nt.start).toFixed(5))),Dt},getMpd:function Ye(Oe){var Je=new h.default;return Oe&&(Je.manifest=Oe,Oe.hasOwnProperty(T.default.AVAILABILITY_START_TIME)?Je.availabilityStartTime=new Date(Oe.availabilityStartTime.getTime()):Oe.loadedTime&&(Je.availabilityStartTime=new Date(Oe.loadedTime.getTime())),Oe.hasOwnProperty(T.default.AVAILABILITY_END_TIME)&&(Je.availabilityEndTime=new Date(Oe.availabilityEndTime.getTime())),Oe.hasOwnProperty(T.default.MINIMUM_UPDATE_PERIOD)&&(Je.minimumUpdatePeriod=Oe.minimumUpdatePeriod),Oe.hasOwnProperty(T.default.MEDIA_PRESENTATION_DURATION)&&(Je.mediaPresentationDuration=Oe.mediaPresentationDuration),Oe.hasOwnProperty(T.default.SUGGESTED_PRESENTATION_DELAY)&&(Je.suggestedPresentationDelay=Oe.suggestedPresentationDelay),Oe.hasOwnProperty(T.default.TIMESHIFT_BUFFER_DEPTH)&&(Je.timeShiftBufferDepth=Oe.timeShiftBufferDepth),Oe.hasOwnProperty(T.default.MAX_SEGMENT_DURATION)&&(Je.maxSegmentDuration=Oe.maxSegmentDuration),Oe.hasOwnProperty(T.default.PUBLISH_TIME)&&(Je.publishTime=new Date(Oe.publishTime))),Je},getEventsForPeriod:function lt(Oe){var nt,wt,Je=Oe&&Oe.mpd&&Oe.mpd.manifest?Oe.mpd.manifest:null,Dt=Je?Je.Period_asArray:null,je=Dt&&Oe&&de(Oe.index)?Dt[Oe.index].EventStream_asArray:null,ze=[];if(je)for(nt=0;nt<je.length;nt++){var tn=new P.default;if(tn.period=Oe,tn.timescale=1,!je[nt].hasOwnProperty(B.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(tn.schemeIdUri=je[nt][B.default.SCHEME_ID_URI],je[nt].hasOwnProperty(T.default.TIMESCALE)&&(tn.timescale=je[nt][T.default.TIMESCALE]),je[nt].hasOwnProperty(T.default.VALUE)&&(tn.value=je[nt][T.default.VALUE]),je[nt].hasOwnProperty(T.default.PRESENTATION_TIME_OFFSET)&&(tn.presentationTimeOffset=je[nt][T.default.PRESENTATION_TIME_OFFSET]),wt=0;je[nt].Event_asArray&&wt<je[nt].Event_asArray.length;wt++){var We=je[nt].Event_asArray[wt],qe=new E.default;qe.presentationTime=0,qe.eventStream=tn,We.hasOwnProperty(T.default.PRESENTATION_TIME)&&(qe.presentationTime=We.presentationTime),qe.calculatedPresentationTime=qe.presentationTime/tn.timescale+Oe.start-(tn.presentationTimeOffset?tn.presentationTimeOffset/tn.timescale:0),We.hasOwnProperty(T.default.DURATION)&&(qe.duration=We.duration/tn.timescale),qe.id=We.hasOwnProperty(T.default.ID)?We.id:null,qe.messageData=We.Signal&&We.Signal.Binary?ie.decodeArray(We.Signal.Binary.toString()):We.messageData||We.__cdata||We.__text,ze.push(qe)}}return ze},getEssentialPropertiesForRepresentation:kt,getEventStreamForAdaptationSet:function ht(Oe,Je,Dt){var je,ze,nt;return Oe&&Oe.Period_asArray&&Je&&Je.period&&de(Je.period.index)&&(ze=Oe.Period_asArray[Je.period.index])&&ze.AdaptationSet_asArray&&de(Je.index)&&(nt=ze.AdaptationSet_asArray[Je.index])&&(je=nt.InbandEventStream_asArray),vt(je,null,Dt)},getEventStreamForRepresentation:function Be(Oe,Je,Dt){var je,ze,nt,wt;return Oe&&Oe.Period_asArray&&Je&&Je.adaptation&&Je.adaptation.period&&de(Je.adaptation.period.index)&&(ze=Oe.Period_asArray[Je.adaptation.period.index])&&ze.AdaptationSet_asArray&&de(Je.adaptation.index)&&(nt=ze.AdaptationSet_asArray[Je.adaptation.index])&&nt.Representation_asArray&&de(Je.index)&&(wt=nt.Representation_asArray[Je.index])&&(je=wt.InbandEventStream_asArray),vt(je,Je,Dt)},getUTCTimingSources:function Xe(Oe){var Je=Ie(Oe),Dt=!!Oe&&Oe.hasOwnProperty(T.default.AVAILABILITY_START_TIME),je=Oe?Oe.UTCTiming_asArray:null,ze=[];return(Je||Dt)&&je&&je.forEach(function(nt){var wt=new y.default;nt.hasOwnProperty(B.default.SCHEME_ID_URI)&&(wt.schemeIdUri=nt.schemeIdUri,nt.hasOwnProperty(T.default.VALUE)&&(wt.value=nt.value.toString(),ze.push(wt)))}),ze},getBaseURLsFromElement:et,getRepresentationSortFunction:H,getContentSteering:function dt(Oe){if(Oe&&Oe.hasOwnProperty(T.default.CONTENT_STEERING_AS_ARRAY)){var Je=Oe[T.default.CONTENT_STEERING_AS_ARRAY][0],Dt=new _.default;return Dt.serverUrl=Je.__text,Je.hasOwnProperty(T.default.DEFAULT_SERVICE_LOCATION)&&(Dt.defaultServiceLocation=Je[T.default.DEFAULT_SERVICE_LOCATION]),Je.hasOwnProperty(T.default.QUERY_BEFORE_START)&&(Dt.queryBeforeStart="true"===Je[T.default.QUERY_BEFORE_START].toLowerCase()),Je.hasOwnProperty(T.default.PROXY_SERVER_URL)&&(Dt.proxyServerUrl=Je[T.default.PROXY_SERVER_URL]),Dt}},getLocation:function Mt(Oe){if(Oe&&Oe.hasOwnProperty(B.default.LOCATION))return Oe.Location=Oe.Location_asArray[0],Oe.Location},getPatchLocation:function It(Oe){if(Oe&&Oe.hasOwnProperty(T.default.PATCH_LOCATION))return Oe.PatchLocation=Oe.PatchLocation_asArray[0],Oe.PatchLocation},getSuggestedPresentationDelay:function Vt(Oe){return Oe&&Oe.hasOwnProperty(T.default.SUGGESTED_PRESENTATION_DELAY)?Oe.suggestedPresentationDelay:null},getAvailabilityStartTime:function pn(Oe){return Oe&&Oe.hasOwnProperty(T.default.AVAILABILITY_START_TIME)&&null!==Oe.availabilityStartTime?Oe.availabilityStartTime.getTime():null},getServiceDescriptions:function rn(Oe){var Je=[];if(Oe&&Oe.hasOwnProperty(T.default.SERVICE_DESCRIPTION)){var je,Dt=R(Oe.ServiceDescription_asArray);try{for(Dt.s();!(je=Dt.n()).done;){var ze=je.value,nt=null,wt=null,tn=null,We=null,qe=null,Ve=null;for(var Ze in ze)ze.hasOwnProperty(Ze)&&(Ze===T.default.ID?nt=ze[Ze]:Ze===T.default.SERVICE_DESCRIPTION_SCOPE?wt=ze[Ze].schemeIdUri:Ze===T.default.SERVICE_DESCRIPTION_LATENCY?tn={target:parseInt(ze[Ze].target),max:parseInt(ze[Ze].max),min:parseInt(ze[Ze].min),referenceId:parseInt(ze[Ze].referenceId)}:Ze===T.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?We={max:parseFloat(ze[Ze].max),min:parseFloat(ze[Ze].min)}:Ze===T.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?qe={mediaType:ze[Ze].mediaType,max:parseInt(ze[Ze].max),min:parseInt(ze[Ze].min),target:parseInt(ze[Ze].target),type:ze[Ze].type,maxQualityDifference:parseInt(ze[Ze].maxQualityDifference)}:Ze===T.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Ve={mediaType:ze[Ze].mediaType,max:parseInt(ze[Ze].max),min:parseInt(ze[Ze].min),target:parseInt(ze[Ze].target)}));Je.push({id:nt,schemeIdUri:wt,latency:tn,playbackRate:We,operatingQuality:qe,operatingBandwidth:Ve})}}catch(gt){Dt.e(gt)}finally{Dt.f()}}return Je},getSupplementalProperties:function Vn(Oe){var Je={};if(Oe&&Oe.hasOwnProperty(T.default.SUPPLEMENTAL_PROPERTY)){var je,Dt=R(Oe.SupplementalProperty_asArray);try{for(Dt.s();!(je=Dt.n()).done;){var ze=je.value;ze.hasOwnProperty(B.default.SCHEME_ID_URI)&&ze.hasOwnProperty(T.default.VALUE)&&(Je[ze[B.default.SCHEME_ID_URI]]=ze[T.default.VALUE])}}catch(nt){Dt.e(nt)}finally{Dt.f()}}return Je},setConfig:function Kn(Oe){!Oe||(Oe.errHandler&&(U=Oe.errHandler),Oe.BASE64&&(ie=Oe.BASE64))}},function Ee(){ne=Object(d.default)(q).getInstance().getLogger(ce)}(),ce}ue.__dashjs_factory_name="DashManifestModel",k.default=v.default.getSingletonFactory(ue)},"./src/dash/models/PatchManifestModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/constants/DashConstants.js"),T=c("./src/core/FactoryMaker.js"),M=c("./src/core/Debug.js"),S=c("./src/dash/vo/SimpleXPath.js"),b=c("./src/dash/vo/PatchOperation.js");function h(){var y,E,F=this.context;return y={getIsPatch:function x(d){return d&&d.hasOwnProperty(B.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function _(d){return d&&d.hasOwnProperty(B.default.PUBLISH_TIME)?new Date(d[B.default.PUBLISH_TIME]):null},getOriginalPublishTime:function m(d){return d&&d.hasOwnProperty(B.default.ORIGINAL_PUBLISH_TIME)?new Date(d[B.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function f(d){return d&&d[B.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function v(d){return d?(d.__children||[]).map(function(L){var C=Object.keys(L)[0];if("add"!==C&&"remove"!==C&&"replace"!==C)return E.warn("Ignoring node of invalid action: ".concat(C)),null;var I=L[C],R=I.sel;if("add"===C&&I.type){if(!I.type.startsWith("@"))return E.warn("Ignoring add action for prefixed namespace declaration: ".concat(I.type,"=").concat(I.__text)),null;R="".concat(R,"/").concat(I.type)}var A=new S.default(R);if(!A.isValid())return E.warn("Ignoring action with invalid selector: ".concat(C," - ").concat(R)),null;var p=null;A.findsAttribute()?p=I.__text||"":"remove"!==C&&(p=I.__children.reduce(function(W,$){var Q=Object.keys($)[0];return"#text"!==Q&&(W[Q]=W[Q]||[],W[Q].push($[Q])),W},{}));var w=new b.default(C,A,p);return"add"===C&&(w.position=I.pos),w}).filter(function(L){return!!L}):[]}},function P(){E=Object(M.default)(F).getInstance().getLogger(y)}(),y}h.__dashjs_factory_name="PatchManifestModel",k.default=T.default.getSingletonFactory(h)},"./src/dash/parser/DashParser.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/dash/parser/objectiron.js"),M=c("./externals/xml2json.js"),S=c("./src/dash/parser/matchers/StringMatcher.js"),b=c("./src/dash/parser/matchers/DurationMatcher.js"),h=c("./src/dash/parser/matchers/DateTimeMatcher.js"),y=c("./src/dash/parser/matchers/NumericMatcher.js"),E=c("./src/dash/parser/matchers/LangMatcher.js"),F=c("./src/dash/parser/maps/RepresentationBaseValuesMap.js"),P=c("./src/dash/parser/maps/SegmentValuesMap.js");function x(_){var v,d,L,C,I,m=this.context,f=(_=_||{}).debug;return v={parse:function w(W){var $,Q=window.performance.now();if(!($=C.xml_str2json(W)))throw new Error("parsing the manifest failed");var ue=window.performance.now();$.Patch?(($=$.Patch).add_asArray&&$.add_asArray.forEach(function(ne){return I.run(ne)}),$.replace_asArray&&$.replace_asArray.forEach(function(ne){return I.run(ne)})):I.run($=$.MPD);var ce=window.performance.now();return d.info("Parsing complete: ( xml2json: "+(ue-Q).toPrecision(3)+"ms, objectiron: "+(ce-ue).toPrecision(3)+"ms, total: "+((ce-Q)/1e3).toPrecision(3)+"s)"),$.protocol="DASH",$},getMatchers:function A(){return L},getIron:function p(){return I}},function R(){d=f.getLogger(v),L=[new b.default,new h.default,new y.default,new E.default,new S.default],C=new M.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:L}),I=Object(T.default)(m).create({adaptationset:new F.default,period:new P.default})}(),v}x.__dashjs_factory_name="DashParser",k.default=B.default.getClassFactory(x)},"./src/dash/parser/maps/CommonProperty.js":function(we,k,c){"use strict";function T(b,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}c.r(k),k.default=function(){function b(h){!function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,b);var F;this._name=h,this._merge=(F=h)&&F.length&&F.charAt(0)===F.charAt(0).toUpperCase()}return function M(b,h,y){return h&&T(b.prototype,h),y&&T(b,y),b}(b,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),b}()},"./src/dash/parser/maps/MapNode.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/parser/maps/CommonProperty.js");function M(h,y){for(var E=0;E<y.length;E++){var F=y[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}k.default=function(){function h(y,E,F){var P=this;(function T(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this._name=y||"",this._properties=[],this._children=F||[],Array.isArray(E)&&E.forEach(function(x){P._properties.push(new B.default(x))})}return function S(h,y,E){return y&&M(h.prototype,y),E&&M(h,E),h}(h,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),h}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/parser/maps/MapNode.js"),T=c("./src/dash/constants/DashConstants.js");function M(m){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function b(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&h(m,f)}function h(m,f){return(h=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function y(m){var f=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=x(m);if(f){var C=x(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return E(this,L)}}function E(m,f){return!f||"object"!==M(f)&&"function"!=typeof f?function F(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function x(m){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}k.default=function(m){b(v,m);var f=y(v);function v(){!function S(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}(this,v);var d=[T.default.PROFILES,T.default.WIDTH,T.default.HEIGHT,T.default.SAR,T.default.FRAMERATE,T.default.AUDIO_SAMPLING_RATE,T.default.MIME_TYPE,T.default.SEGMENT_PROFILES,T.default.CODECS,T.default.MAXIMUM_SAP_PERIOD,T.default.START_WITH_SAP,T.default.MAX_PLAYOUT_RATE,T.default.CODING_DEPENDENCY,T.default.SCAN_TYPE,T.default.FRAME_PACKING,T.default.AUDIO_CHANNEL_CONFIGURATION,T.default.CONTENT_PROTECTION,T.default.ESSENTIAL_PROPERTY,T.default.SUPPLEMENTAL_PROPERTY,T.default.INBAND_EVENT_STREAM];return f.call(this,T.default.ADAPTATION_SET,d,[new B.default(T.default.REPRESENTATION,d,[new B.default(T.default.SUB_REPRESENTATION,d)])])}return v}(B.default)},"./src/dash/parser/maps/SegmentValuesMap.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/parser/maps/MapNode.js"),T=c("./src/dash/constants/DashConstants.js");function M(m){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function b(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&h(m,f)}function h(m,f){return(h=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function y(m){var f=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=x(m);if(f){var C=x(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return E(this,L)}}function E(m,f){return!f||"object"!==M(f)&&"function"!=typeof f?function F(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function x(m){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}k.default=function(m){b(v,m);var f=y(v);function v(){!function S(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}(this,v);var d=[T.default.SEGMENT_BASE,T.default.SEGMENT_TEMPLATE,T.default.SEGMENT_LIST];return f.call(this,T.default.PERIOD,d,[new B.default(T.default.ADAPTATION_SET,d,[new B.default(T.default.REPRESENTATION,d)])])}return v}(B.default)},"./src/dash/parser/matchers/BaseMatcher.js":function(we,k,c){"use strict";function T(b,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}c.r(k),k.default=function(){function b(h,y){(function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")})(this,b),this._test=h,this._converter=y}return function M(b,h,y){return h&&T(b.prototype,h),y&&T(b,y),b}(b,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),b}()},"./src/dash/parser/matchers/DateTimeMatcher.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/parser/matchers/BaseMatcher.js");function T(d){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(d)}function S(d,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(L&&L.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),L&&b(d,L)}function b(d,L){return(b=Object.setPrototypeOf||function(I,R){return I.__proto__=R,I})(d,L)}function h(d){var L=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,I=P(d);if(L){var A=P(this).constructor;R=Reflect.construct(I,arguments,A)}else R=I.apply(this,arguments);return y(this,R)}}function y(d,L){return!L||"object"!==T(L)&&"function"!=typeof L?function E(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(d):L}function P(d){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(d)}var f=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;k.default=function(d){S(C,d);var L=h(C);function C(){return function M(d,L){if(!(d instanceof L))throw new TypeError("Cannot call a class as a function")}(this,C),L.call(this,function(I){return f.test(I.value)},function(I){var A,R=f.exec(I);if(A=Date.UTC(parseInt(R[1],10),parseInt(R[2],10)-1,parseInt(R[3],10),parseInt(R[4],10),parseInt(R[5],10),R[6]&&parseInt(R[6],10)||0,R[7]&&1e3*parseFloat(R[7])||0),R[9]&&R[10]){var p=60*parseInt(R[9],10)+parseInt(R[10],10);A+=("+"===R[8]?-1:1)*p*60*1e3}return new Date(A)})}return C}(B.default)},"./src/dash/parser/matchers/DurationMatcher.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/parser/matchers/BaseMatcher.js"),T=c("./src/streaming/constants/Constants.js"),M=c("./src/dash/constants/DashConstants.js");function S(R){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(R)}function h(R,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),A&&y(R,A)}function y(R,A){return(y=Object.setPrototypeOf||function(w,W){return w.__proto__=W,w})(R,A)}function E(R){var A=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var W,w=_(R);if(A){var $=_(this).constructor;W=Reflect.construct(w,arguments,$)}else W=w.apply(this,arguments);return F(this,W)}}function F(R,A){return!A||"object"!==S(A)&&"function"!=typeof A?function P(R){if(void 0===R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(R):A}function _(R){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(R)}var m=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;k.default=function(R){h(p,R);var A=E(p);function p(){return function b(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}(this,p),A.call(this,function(w){for(var W=[M.default.MIN_BUFFER_TIME,M.default.MEDIA_PRESENTATION_DURATION,M.default.MINIMUM_UPDATE_PERIOD,M.default.TIMESHIFT_BUFFER_DEPTH,M.default.MAX_SEGMENT_DURATION,M.default.MAX_SUBSEGMENT_DURATION,M.default.SUGGESTED_PRESENTATION_DELAY,M.default.START,T.default.START_TIME,M.default.DURATION],$=W.length,Q=0;Q<$;Q++)if(w.nodeName===W[Q])return m.test(w.value);return!1},function(w){var W=m.exec(w),$=31536e3*parseFloat(W[3]||0)+2592e3*parseFloat(W[5]||0)+86400*parseFloat(W[7]||0)+3600*parseFloat(W[9]||0)+60*parseFloat(W[11]||0)+parseFloat(W[13]||0);return void 0!==W[1]&&($=-$),$})}return p}(B.default)},"./src/dash/parser/matchers/LangMatcher.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/parser/matchers/BaseMatcher.js"),T=c("./src/dash/constants/DashConstants.js"),M=c("./node_modules/bcp-47-normalize/index.js"),S=c.n(M);function b(d){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(d)}function h(d,L,C){return L in d?Object.defineProperty(d,L,{value:C,enumerable:!0,configurable:!0,writable:!0}):d[L]=C,d}function E(d,L){if("function"!=typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(L&&L.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),L&&F(d,L)}function F(d,L){return(F=Object.setPrototypeOf||function(I,R){return I.__proto__=R,I})(d,L)}function P(d){var L=function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,I=f(d);if(L){var A=f(this).constructor;R=Reflect.construct(I,arguments,A)}else R=I.apply(this,arguments);return x(this,R)}}function x(d,L){return!L||"object"!==b(L)&&"function"!=typeof L?function _(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(d):L}function f(d){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(d)}k.default=function(d){E(C,d);var L=P(C);function C(){return function y(d,L){if(!(d instanceof L))throw new TypeError("Cannot call a class as a function")}(this,C),L.call(this,function(I,R){var A,p=(h(A={},T.default.ADAPTATION_SET,[T.default.LANG]),h(A,T.default.REPRESENTATION,[T.default.LANG]),h(A,T.default.CONTENT_COMPONENT,[T.default.LANG]),h(A,T.default.LABEL,[T.default.LANG]),h(A,T.default.GROUP_LABEL,[T.default.LANG]),A);if(p.hasOwnProperty(R)){var w=p[R];return void 0!==w&&w.indexOf(I.name)>=0}return!1},function(I){var R=S()(I);return void 0!==R?R:String(I)})}return C}(B.default)},"./src/dash/parser/matchers/NumericMatcher.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/parser/matchers/BaseMatcher.js");function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function S(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&b(m,f)}function b(m,f){return(b=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function h(m){var f=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=P(m);if(f){var C=P(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return y(this,L)}}function y(m,f){return!f||"object"!==T(f)&&"function"!=typeof f?function E(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function P(m){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}var x=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;k.default=function(m){S(v,m);var f=h(v);function v(){return function M(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}(this,v),f.call(this,function(d){return x.test(d.value)},function(d){return parseFloat(d)})}return v}(B.default)},"./src/dash/parser/matchers/StringMatcher.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/parser/matchers/BaseMatcher.js"),T=c("./src/dash/constants/DashConstants.js");function M(f){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function S(f,v,d){return v in f?Object.defineProperty(f,v,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[v]=d,f}function h(f,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),v&&y(f,v)}function y(f,v){return(y=Object.setPrototypeOf||function(L,C){return L.__proto__=C,L})(f,v)}function E(f){var v=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,L=_(f);if(v){var I=_(this).constructor;C=Reflect.construct(L,arguments,I)}else C=L.apply(this,arguments);return F(this,C)}}function F(f,v){return!v||"object"!==M(v)&&"function"!=typeof v?function P(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(f):v}function _(f){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}k.default=function(f){h(d,f);var v=E(d);function d(){return function b(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,d),v.call(this,function(L,C){var I,R=(S(I={},T.default.MPD,[T.default.ID,T.default.PROFILES]),S(I,T.default.PERIOD,[T.default.ID]),S(I,T.default.BASE_URL,[T.default.SERVICE_LOCATION,T.default.BYTE_RANGE]),S(I,T.default.SEGMENT_BASE,[T.default.INDEX_RANGE]),S(I,T.default.INITIALIZATION,[T.default.RANGE]),S(I,T.default.REPRESENTATION_INDEX,[T.default.RANGE]),S(I,T.default.SEGMENT_LIST,[T.default.INDEX_RANGE]),S(I,T.default.BITSTREAM_SWITCHING,[T.default.RANGE]),S(I,T.default.SEGMENT_URL,[T.default.MEDIA_RANGE,T.default.INDEX_RANGE]),S(I,T.default.SEGMENT_TEMPLATE,[T.default.INDEX_RANGE,T.default.MEDIA,T.default.INDEX,T.default.INITIALIZATION_MINUS,T.default.BITSTREAM_SWITCHING_MINUS]),S(I,T.default.ASSET_IDENTIFIER,[T.default.VALUE,T.default.ID]),S(I,T.default.EVENT_STREAM,[T.default.VALUE]),S(I,T.default.ADAPTATION_SET,[T.default.PROFILES,T.default.MIME_TYPE,T.default.SEGMENT_PROFILES,T.default.CODECS,T.default.CONTENT_TYPE]),S(I,T.default.FRAME_PACKING,[T.default.VALUE,T.default.ID]),S(I,T.default.AUDIO_CHANNEL_CONFIGURATION,[T.default.VALUE,T.default.ID]),S(I,T.default.CONTENT_PROTECTION,[T.default.VALUE,T.default.ID]),S(I,T.default.ESSENTIAL_PROPERTY,[T.default.VALUE,T.default.ID]),S(I,T.default.SUPPLEMENTAL_PROPERTY,[T.default.VALUE,T.default.ID]),S(I,T.default.INBAND_EVENT_STREAM,[T.default.VALUE,T.default.ID]),S(I,T.default.ACCESSIBILITY,[T.default.VALUE,T.default.ID]),S(I,T.default.ROLE,[T.default.VALUE,T.default.ID]),S(I,T.default.RATING,[T.default.VALUE,T.default.ID]),S(I,T.default.VIEWPOINT,[T.default.VALUE,T.default.ID]),S(I,T.default.CONTENT_COMPONENT,[T.default.CONTENT_TYPE]),S(I,T.default.REPRESENTATION,[T.default.ID,T.default.DEPENDENCY_ID,T.default.MEDIA_STREAM_STRUCTURE_ID]),S(I,T.default.SUBSET,[T.default.ID]),S(I,T.default.METRICS,[T.default.METRICS_MINUS]),S(I,T.default.REPORTING,[T.default.VALUE,T.default.ID]),I);if(R.hasOwnProperty(C)){var A=R[C];return void 0!==A&&A.indexOf(L.name)>=0}return!1},function(L){return String(L)})}return d}(B.default)},"./src/dash/parser/objectiron.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}function M(b){function h(P,x){for(var _ in P)x.hasOwnProperty(_)||(x[_]=P[_])}function y(P,x,_){for(var m=0,f=P.length;m<f;++m){var v=P[m];if(x[v.name])if(_[v.name]){if(v.merge){var d=x[v.name],L=_[v.name];"object"===T(d)&&"object"===T(L)?h(d,L):_[v.name]=d+L}}else _[v.name]=x[v.name]}}function E(P,x){for(var _=0,m=P.children.length;_<m;++_){var f=P.children[_],v=x[f.name+"_asArray"];if(v)for(var d=0,L=v.length;d<L;++d){var C=v[d];y(P.properties,x,C),E(f,C)}}}return{run:function F(P){if(null===P||"object"!==T(P))return P;if(P.Period_asArray&&"period"in b)for(var x=b.period,_=P.Period_asArray,m=0,f=_.length;m<f;++m){var v=_[m];if(E(x,v),"adaptationset"in b){var d=v.AdaptationSet_asArray;if(d)for(var L=b.adaptationset,C=0,I=d.length;C<I;++C)E(L,d[C])}}return P}}}M.__dashjs_factory_name="ObjectIron";var S=B.default.getClassFactory(M);k.default=S},"./src/dash/utils/ListSegmentsGetter.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/constants/Constants.js"),M=c("./src/dash/utils/SegmentsUtils.js");function S(h,y){var E=(h=h||{}).timelineConverter;function P(){if(!E||!E.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function _(f,v){if(P(),!f)return null;var d=f.adaptation.period.mpd.manifest.Period_asArray[f.adaptation.period.index].AdaptationSet_asArray[f.adaptation.index].Representation_asArray[f.index].SegmentList,L=d.SegmentURL_asArray.length,C=f&&!isNaN(f.startNumber)?f.startNumber:1,I=Math.max(C-1,0),R=Math.max(v-I,0),A=null;if(R<L){var p=d.SegmentURL_asArray[R];(A=Object(M.getIndexBasedSegment)(E,y,f,v))&&(A.replacementTime=(C+v-1)*f.segmentDuration,A.media=p.media?p.media:"",A.mediaRange=p.mediaRange,A.indexRange=p.indexRange)}return A}return{getSegmentByIndex:_,getSegmentByTime:function m(f,v){if(P(),!f)return null;var d=f.segmentDuration;if(isNaN(d))return null;var L=E.calcPeriodRelativeTimeFromMpdRelativeTime(f,v);return _(f,Math.floor(L/d))},getMediaFinishedInformation:function x(f){var v={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!f)return v;var d=f.adaptation.period.mpd.manifest.Period_asArray[f.adaptation.period.index].AdaptationSet_asArray[f.adaptation.index].Representation_asArray[f.index].SegmentList,L=f&&!isNaN(f.startNumber)?f.startNumber:1,C=Math.max(L-1,0);return v.numberOfSegments=C+d.SegmentURL_asArray.length,v}}}S.__dashjs_factory_name="ListSegmentsGetter";var b=B.default.getClassFactory(S);k.default=b},"./src/dash/utils/Round10.js":function(we,k,c){"use strict";function T(h,y){for(var E=0;E<y.length;E++){var F=y[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}c.r(k),c.d(k,"default",function(){return S});var S=function(){function h(){!function B(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h)}return function M(h,y,E){return y&&T(h.prototype,y),E&&T(h,E),h}(h,null,[{key:"round10",value:function(E,F){return function b(h,y,E){return typeof E>"u"||0==+E?Math[h](y):(E=+E,null===(y=+y)||isNaN(y)||"number"!=typeof E||E%1!=0?NaN:(y=y.toString().split("e"),+((y=(y=Math[h](+(y[0]+"e"+(y[1]?+y[1]-E:-E)))).toString().split("e"))[0]+"e"+(y[1]?+y[1]+E:E))))}("round",E,F)}}]),h}()},"./src/dash/utils/SegmentBaseGetter.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/constants/Constants.js");function M(b){var h=(b=b||{}).timelineConverter;function E(){if(!h||!h.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function P(m,f){if(E(),!m)return null;var d,v=m.segments?m.segments.length:-1;if(f<v&&(d=m.segments[f])&&d.index===f)return d;for(var L=0;L<v;L++)if((d=m.segments[L])&&d.index===f)return d;return null}return{getSegmentByIndex:P,getSegmentByTime:function x(m,f){return E(),P(m,function _(m,f){if(!m)return-1;var C,I,R,A,p,v=m.segments,d=v?v.length:null,L=-1;if(v&&d>0)for(p=0;p<d;p++)if(f+(C=(A=(I=v[p]).duration)/2)>=(R=I.presentationStartTime)&&f-C<R+A){L=I.index;break}return L}(m,f))},getMediaFinishedInformation:function F(m){var f={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!m||!m.segments||(f.numberOfSegments=m.segments.length),f}}}M.__dashjs_factory_name="SegmentBaseGetter";var S=B.default.getClassFactory(M);k.default=S},"./src/dash/utils/SegmentsUtils.js":function(we,k,c){"use strict";c.r(k),c.d(k,"unescapeDollarsInTemplate",function(){return S}),c.d(k,"replaceIDForTemplate",function(){return b}),c.d(k,"replaceTokenForTemplate",function(){return h}),c.d(k,"getIndexBasedSegment",function(){return F}),c.d(k,"getTimeBasedSegment",function(){return P});var B=c("./src/dash/vo/Segment.js");function T(x,_){for(;x.length<_;)x="0"+x;return x}function S(x){return x&&x.split("$$").join("$")}function b(x,_){if(!_||!x||-1===x.indexOf("$RepresentationID$"))return x;var m=_.toString();return x.split("$RepresentationID$").join(m)}function h(x,_,m){var v,d,L,C,I,R,A=_.length,p="%0".length;if(!x)return x;for(;;){if((v=x.indexOf("$"+_))<0||(d=x.indexOf("$",v+A))<0)return x;if((L=x.indexOf("%0",v+A))>v&&L<d)switch(C=x.charAt(d-1),I=parseInt(x.substring(L+p,d-1),10),C){case"d":case"i":case"u":R=T(m.toString(),I);break;case"x":R=T(m.toString(16),I);break;case"X":R=T(m.toString(16),I).toUpperCase();break;case"o":R=T(m.toString(8),I);break;default:return x}else R=m;x=x.substring(0,v)+R+x.substring(d+1)}}function y(x,_,m,f,v,d,L,C){var I=new B.default;return I.representation=x,I.duration=_,I.presentationStartTime=m,I.mediaStartTime=f,I.availabilityStartTime=v.calcAvailabilityStartTimeFromPresentationTime(d,x,L),I.availabilityEndTime=v.calcAvailabilityEndTimeFromPresentationTime(d+_,x,L),I.wallStartTime=v.calcWallTimeForSegment(I,L),I.replacementNumber=function M(x,_){return x.representation.startNumber+_}(I,C),I.index=C,I}function E(x,_,m,f){var v=_.adaptation.period;if(isFinite(v.duration)&&v.start+v.duration<=m.presentationStartTime)return!1;if(f){if("INF"===_.availabilityTimeOffset)return!0;var d=x.getClientReferenceTime();return m.availabilityStartTime.getTime()<=d&&(!isFinite(m.availabilityEndTime)||m.availabilityEndTime.getTime()>=d)}return!0}function F(x,_,m,f){var v,d,L;v=m.segmentDuration,isNaN(v)&&(v=m.adaptation.period.duration),d=parseFloat((m.adaptation.period.start+f*v).toFixed(5)),L=parseFloat((d+v).toFixed(5));var I=y(m,v,d,x.calcMediaTimeFromPresentationTime(d,m),x,L,_,f);return E(x,m,I,_)?I:null}function P(x,_,m,f,v,d,L,C,I,R){var w,$,A=f/d,p=v/d;return w=x.calcPresentationTimeFromMediaTime(A,m),E(x,m,$=y(m,p,w,A,x,w+p,_,I),_)?($.replacementTime=R||f,L=h(L,"Number",$.replacementNumber),L=h(L,"Time",$.replacementTime),$.media=L,$.mediaRange=C,$):null}},"./src/dash/utils/TemplateSegmentsGetter.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/constants/Constants.js"),M=c("./src/dash/utils/SegmentsUtils.js");function S(h,y){var E=(h=h||{}).timelineConverter;function P(){if(!E||!E.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function _(f,v){if(P(),!f)return null;var d=f.adaptation.period.mpd.manifest.Period_asArray[f.adaptation.period.index].AdaptationSet_asArray[f.adaptation.index].Representation_asArray[f.index].SegmentTemplate;v=Math.max(v,0);var L=Object(M.getIndexBasedSegment)(E,y,f,v);if(L){L.replacementTime=Math.round((v-1)*f.segmentDuration*f.timescale,10);var C=d.media;C=Object(M.replaceTokenForTemplate)(C,"Number",L.replacementNumber),C=Object(M.replaceTokenForTemplate)(C,"Time",L.replacementTime),L.media=C}return L}return{getSegmentByIndex:_,getSegmentByTime:function m(f,v){if(P(),!f)return null;var d=f.segmentDuration;if(isNaN(d))return null;var L=E.calcPeriodRelativeTimeFromMpdRelativeTime(f,v);return _(f,Math.floor(L/d))},getMediaFinishedInformation:function x(f){var v={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!f)return v;var d=f.segmentDuration;return v.numberOfSegments=isNaN(d)?1:Math.ceil(f.adaptation.period.duration/d),v}}}S.__dashjs_factory_name="TemplateSegmentsGetter";var b=B.default.getClassFactory(S);k.default=b},"./src/dash/utils/TimelineConverter.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/EventBus.js"),T=c("./src/core/events/Events.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/dash/constants/DashConstants.js"),b=c("./src/dash/models/DashManifestModel.js"),h=c("./src/core/Settings.js"),y=c("./src/streaming/constants/Constants.js"),E=c("./src/streaming/MediaPlayerEvents.js"),F=c("./src/streaming/constants/ConformanceViolationConstants.js");function P(){var f,v,d,L,x=this.context,_=Object(B.default)(x).getInstance(),m=Object(h.default)(x).getInstance();function A(fe){L=fe}function w(fe,ve,X,ye){var se,ee=ve.adaptation.period.mpd,z=ee.availabilityStartTime;if(ye)se=X&&ee.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(z.getTime()+1e3*(fe+ee.timeShiftBufferDepth)):ee.availabilityEndTime;else if(X){var D=ve.availabilityTimeOffset;se=new Date(z.getTime()+1e3*(fe-D))}else se=z;return se}function Q(fe,ve){return(fe.getTime()-ve.mpd.availabilityStartTime.getTime()+1e3*L)/1e3}function ue(fe,ve){return fe+(ve.adaptation.period.start-ve.presentationTimeOffset)}function le(fe){var ve={start:NaN,end:NaN},X=fe[0].getAdapter().getRegularPeriods()[0],ye=Q(new Date,X);if(!fe||0===fe.length)return{range:ve,now:ye};fe.forEach(function(ee){var z=ee.getAdapter(),D=z.getMediaInfoForType(ee.getStreamInfo(),y.default.VIDEO)||z.getMediaInfoForType(ee.getStreamInfo(),y.default.AUDIO),H=z.getVoRepresentations(D)[0],j={start:NaN,end:NaN};if(H)if(H.segmentInfoType===S.default.SEGMENT_TIMELINE)j=function Z(fe){var O,H,j,oe,X=v.getRepresentationFor(fe.index,fe.adaptation.period.mpd.manifest.Period_asArray[fe.adaptation.period.index].AdaptationSet_asArray[fe.adaptation.index]),se=X.SegmentTemplate.timescale,ee=X.SegmentTemplate.SegmentTimeline.S_asArray,z={start:0,end:0},D=0;for(z.start=ue(ee[0].t/se,fe),j=0,oe=ee.length;j<oe;j++)H=0,(O=ee[j]).hasOwnProperty("r")&&(H=O.r),D+=O.d*(1+H);return z.end=ue((ee[0].t+D)/se,fe),z}(H);else{var oe=H.adaptation.period;j.start=oe.start,j.end=Math.max(ye,oe.start+oe.duration)}!isNaN(j.start)&&(isNaN(ve.start)||ve.start>j.start)&&(ve.start=j.start),!isNaN(j.end)&&(isNaN(ve.end)||ve.end<j.end)&&(ve.end=j.end)}),ve.end=Math.min(ye,ve.end);var se=Ee(fe,ve.end,!0);return ve.end=isNaN(se)?ve.end:se,ve.start=X&&X.mpd&&X.mpd.timeShiftBufferDepth&&!isNaN(X.mpd.timeShiftBufferDepth)&&!isNaN(ve.end)?Math.max(ve.end-X.mpd.timeShiftBufferDepth,ve.start):ve.start,ve.start=Ee(fe,ve.start),{range:ve,now:ye}}function de(fe,ve){d=fe-ve.end}function Ee(fe,ve){var X=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var ye=0,se=!1,ee=NaN;!se&&ye<fe.length;){var z=fe[ye].getStreamInfo();z.start<=ve&&(!isFinite(z.duration)||z.start+z.duration>=ve)?(ee=ve,se=!0):!X&&z.start>ve&&(isNaN(ee)||z.start<ee)?ee=z.start:X&&z.start+z.duration<ve&&(isNaN(ee)||z.start+z.duration>ee)&&(ee=z.start+z.duration),ye+=1}return ee}catch{return ve}}function re(fe){void 0!==fe.offset&&!isNaN(fe.offset)&&A(fe.offset/1e3)}function _e(){L=0,d=0}function ge(){_.off(T.default.UPDATE_TIME_SYNC_OFFSET,re,this),_e()}return f={initialize:function I(){_e(),_.on(T.default.UPDATE_TIME_SYNC_OFFSET,re,this)},getClientTimeOffset:function R(){return L},setClientTimeOffset:A,getClientReferenceTime:function p(){return Date.now()-1e3*d+1e3*L},calcAvailabilityStartTimeFromPresentationTime:function W(fe,ve,X){return w(fe,ve,X)},calcAvailabilityEndTimeFromPresentationTime:function $(fe,ve,X){return w(fe,ve,X,!0)},calcPresentationTimeFromWallTime:Q,calcPresentationTimeFromMediaTime:ue,calcPeriodRelativeTimeFromMpdRelativeTime:function pe(fe,ve){return ve-fe.adaptation.period.start},calcMediaTimeFromPresentationTime:function ce(fe,ve){return fe-ve.adaptation.period.start+ve.presentationTimeOffset},calcWallTimeForSegment:function ne(fe,ve){var ye,se;return ve&&(ye=fe.presentationStartTime+fe.representation.adaptation.period.mpd.suggestedPresentationDelay,se=new Date(fe.availabilityStartTime.getTime()+1e3*ye)),se},calcTimeShiftBufferWindow:function U(fe,ve){if(!ve)return function ie(fe){var ve={start:NaN,end:NaN},X=0,ye=NaN;return fe.forEach(function(se){var ee=se.getStreamInfo();X+=ee.duration,(isNaN(ye)||ee.start<ye)&&(ye=ee.start)}),ve.start=ye,ve.end=ye+X,ve}(fe);if(m.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var X=le(fe);return de(X.now,X.range),X.range}return function q(fe){var ve={start:NaN,end:NaN};if(!fe||0===fe.length)return ve;var X=fe[0].getAdapter().getRegularPeriods()[0],ye=Q(new Date,X),se=X.mpd.timeShiftBufferDepth,ee=isNaN(se)?0:ye-se;if(ve.start=Ee(fe,ee),ve.end=!isNaN(ve.start)&&ye<ve.start?ye:Ee(fe,ye,!0),!isNaN(se)&&ve.end<ye-se&&(ve.end=NaN),m.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var z=le(fe);if(z.range.end<ve.start)return _.trigger(E.default.CONFORMANCE_VIOLATION,{level:F.default.LEVELS.WARNING,event:F.default.EVENTS.INVALID_DVR_WINDOW}),de(z.now,z.range),z.range}return ve}(fe)},reset:ge},function C(){v=Object(b.default)(x).getInstance(),ge()}(),f}P.__dashjs_factory_name="TimelineConverter",k.default=M.default.getSingletonFactory(P)},"./src/dash/utils/TimelineSegmentsGetter.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/constants/Constants.js"),M=c("./src/dash/utils/SegmentsUtils.js");function S(h,y){var E=(h=h||{}).timelineConverter,F=h.dashMetrics;function x(){if(!E)throw new Error(T.default.MISSING_CONFIG_ERROR)}function m(C,I){var $,Q,ue,ce,ne,U,ie,R=C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentTemplate||C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentList,p=R.SegmentURL_asArray,w=0,W=-1;ie=C.timescale;var q=!1;for(ue=0,ce=($=R.SegmentTimeline.S_asArray).length;ue<ce&&!q;ue++)for(U=0,(Q=$[ue]).hasOwnProperty("r")&&(U=Q.r),Q.hasOwnProperty("t")&&(w=Q.t),U<0&&(U=f(C,$[ue+1],Q,ie,w/ie)),ne=0;ne<=U&&!q;ne++)(q=I(w,R,p,Q,ie,++W,ue))&&(C.segmentDuration=Q.d/ie),w+=Q.d}function f(C,I,R,A,p){var w;if(I&&I.hasOwnProperty("t"))w=I.t/A;else try{var W=0;if(isNaN(C.adaptation.period.start)||isNaN(C.adaptation.period.duration)||!isFinite(C.adaptation.period.duration)){var $=F.getCurrentDVRInfo();W=isNaN($.end)?0:$.end}else W=C.adaptation.period.start+C.adaptation.period.duration;w=E.calcMediaTimeFromPresentationTime(W,C),C.segmentDuration=R.d/A}catch{w=0}return Math.max(Math.ceil((w-p)/(R.d/A))-1,0)}return{getSegmentByIndex:function v(C,I,R){if(x(),!C)return null;var A=null,p=!1;return m(C,function(w,W,$,Q,ue,ce,ne){if(p||R<0){var U=W.media,ie=Q.mediaRange;return $&&(U=$[ne].media||"",ie=$[ne].mediaRange),A=Object(M.getTimeBasedSegment)(E,y,C,w,Q.d,ue,U,ie,ce,Q.tManifest),!0}return w>=R*ue-.5*Q.d&&(p=!0),!1}),A},getSegmentByTime:function d(C,I){if(x(),!C)return null;void 0===I&&(I=null);var R=null,A=E.calcMediaTimeFromPresentationTime(I,C);return m(C,function(p,w,W,$,Q,ue,ce){var ne=function L(C){return parseFloat(C.toPrecision(15))}(A*Q);if(ne<p+$.d&&ne>=p){var U=w.media,ie=$.mediaRange;return W&&(U=W[ce].media||"",ie=W[ce].mediaRange),R=Object(M.getTimeBasedSegment)(E,y,C,p,$.d,Q,U,ie,ue,$.tManifest),!0}return!1}),R},getMediaFinishedInformation:function _(C){if(!C)return 0;var W,$,Q,ue,ce,ne,U,A=0,p=0,w=0;for(U=C.timescale,ue=(W=(C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentTemplate||C.adaptation.period.mpd.manifest.Period_asArray[C.adaptation.period.index].AdaptationSet_asArray[C.adaptation.index].Representation_asArray[C.index].SegmentList).SegmentTimeline.S_asArray).length,Q=0;Q<ue;Q++)for(ne=0,($=W[Q]).hasOwnProperty("r")&&(ne=$.r),$.hasOwnProperty("t")&&(p=(A=$.t)/U),ne<0&&(ne=f(C,W[Q+1],$,U,p)),ce=0;ce<=ne;ce++)w++,p=(A+=$.d)/U;return{numberOfSegments:w,mediaTimeOfLastSignaledSegment:p}}}}S.__dashjs_factory_name="TimelineSegmentsGetter";var b=B.default.getClassFactory(S);k.default=b},"./src/dash/vo/AdaptationSet.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.period=null,this.index=-1,this.type=null}},"./src/dash/vo/BaseURL.js":function(we,k,c){"use strict";c.r(k);var S=function b(h,y,E,F){(function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")})(this,b),this.url=h||"",this.serviceLocation=y||h||"",this.dvb_priority=E||1,this.dvb_weight=F||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};S.DEFAULT_DVB_PRIORITY=1,S.DEFAULT_DVB_WEIGHT=1,k.default=S},"./src/dash/vo/ContentSteering.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null}},"./src/dash/vo/ContentSteeringRequest.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/vo/metrics/HTTPRequest.js");k.default=function S(b){(function T(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")})(this,S),this.url=b||null,this.type=B.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"}},"./src/dash/vo/ContentSteeringResponse.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]}},"./src/dash/vo/Event.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN}},"./src/dash/vo/EventStream.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0}},"./src/dash/vo/ManifestInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null}},"./src/dash/vo/MediaInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}}},"./src/dash/vo/Mpd.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN}},"./src/dash/vo/PatchOperation.js":function(we,k,c){"use strict";function T(b,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}c.r(k),k.default=function(){function b(h,y,E){(function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")})(this,b),this.action=h,this.xpath=y,this.value=E,this.position=null}return function M(b,h,y){return h&&T(b.prototype,h),y&&T(b,y),b}(b,[{key:"getMpdTarget",value:function(y){return this.xpath.getMpdTarget(y,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),b}()},"./src/dash/vo/Period.js":function(we,k,c){"use strict";c.r(k);var T=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};T.DEFAULT_ID="defaultId",k.default=T},"./src/dash/vo/ProducerReferenceTime.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null}},"./src/dash/vo/Representation.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/constants/DashConstants.js");function M(h,y){for(var E=0;E<y.length;E++){var F=y[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}k.default=function(){function h(){(function T(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function S(h,y,E){return y&&M(h.prototype,y),E&&M(h,E),h}(h,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==B.default.BASE_URL&&this.segmentInfoType!==B.default.SEGMENT_BASE&&!this.indexRange}}]),h}()},"./src/dash/vo/RepresentationInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null}},"./src/dash/vo/Segment.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},"./src/dash/vo/SimpleXPath.js":function(we,k,c){"use strict";function T(b,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}c.r(k),k.default=function(){function b(h){var y=this;(function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")})(this,b),this.valid="/"==h[0],this.path=h.split("/").filter(function(E){return 0!==E.length}).map(function(E){var F={name:E},P=E.indexOf("[");if(-1!=P){F.name=E.substring(0,P);var x=E.substring(P+1,E.length-1);y.valid=y.valid&&-1==x.indexOf("[");var _=x.indexOf("=");-1!=_?(F.attribute={name:x.substring(1,_),value:x.substring(_+1)},-1!=["'",'"'].indexOf(F.attribute.value[0])&&(F.attribute.value=F.attribute.value.substring(1,F.attribute.value.length-1))):F.position=parseInt(x,10)-1}return F})}return function M(b,h,y){return h&&T(b.prototype,h),y&&T(b,y),b}(b,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(y,E){for(var F=null,P=y,x=1,_="MPD";x<this.path.length&&null!==P;){F=P;var m=this.path[x];if(_=m.name,x!==this.path.length-1||!_.startsWith("@")){var f=F[_+"_asArray"]||[];0===f.length&&F[_]&&f.push(F[_]),m.position?P=f[m.position]||null:m.attribute?function(){var v=m.attribute;P=f.filter(function(d){return d[v.name]==v.value})[0]||null}():P=f[0]||null}x++}return null===P?null:_.startsWith("@")?{name:_.substring(1),leaf:P,target:P}:{name:_,leaf:P,target:E?F:P}}}]),b}()},"./src/dash/vo/StreamInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0}},"./src/dash/vo/UTCTiming.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.schemeIdUri="",this.value=""}},"./src/streaming/FragmentLoader.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/streaming/net/URLLoader.js"),M=c("./src/streaming/vo/HeadRequest.js"),S=c("./src/streaming/vo/DashJSError.js"),b=c("./src/core/FactoryMaker.js");function h(y){var f,v,E=this.context,F=(y=y||{}).eventBus,P=y.events,x=y.urlUtils,_=y.errors,m=y.streamId;return f={checkForExistence:function L(A){var p=function($){F.trigger(P.CHECK_FOR_EXISTENCE_COMPLETED,{request:A,exists:$})};if(A){var w=new M.default(A.url);v.load({request:w,success:function(){p(!0)},error:function(){p(!1)}})}else p(!1)},load:function C(A){var p=function(W,$){F.trigger(P.LOADING_COMPLETED,{request:A,response:W||null,error:$||null,sender:f})};A?v.load({request:A,progress:function(W){F.trigger(P.LOADING_PROGRESS,{request:A,stream:W.stream,streamId:m}),W.data&&F.trigger(P.LOADING_DATA_PROGRESS,{request:A,response:W.data||null,error:null,sender:f})},success:function(W){p(W)},error:function(W,$,Q){p(void 0,new S.default(_.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,Q,$))},abort:function(W){W&&F.trigger(P.LOADING_ABANDONED,{mediaType:W.mediaType,request:W,sender:f})}}):p(void 0,new S.default(_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function I(){v&&v.abort()},reset:function R(){v&&(v.abort(),v=null)}},function d(){v=Object(T.default)(E).create({errHandler:y.errHandler,errors:_,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,urlUtils:x,constants:B.default,boxParser:y.boxParser,dashConstants:y.dashConstants,requestTimeout:y.settings.get().streaming.fragmentRequestTimeout})}(),f}h.__dashjs_factory_name="FragmentLoader",k.default=b.default.getClassFactory(h)},"./src/streaming/ManifestLoader.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/dash/constants/DashConstants.js"),M=c("./src/streaming/controllers/XlinkController.js"),S=c("./src/streaming/net/URLLoader.js"),b=c("./src/streaming/utils/URLUtils.js"),h=c("./src/streaming/vo/TextRequest.js"),y=c("./src/streaming/vo/DashJSError.js"),E=c("./src/streaming/vo/metrics/HTTPRequest.js"),F=c("./src/core/EventBus.js"),P=c("./src/core/events/Events.js"),x=c("./src/core/errors/Errors.js"),_=c("./src/core/FactoryMaker.js"),m=c("./src/dash/parser/DashParser.js");function f(d){var p,w,W,$,Q,L=this.context,C=(d=d||{}).debug,I=d.settings,R=Object(F.default)(L).getInstance(),A=Object(b.default)(L).getInstance(),ue=d.mssHandler,ce=d.errHandler;function U(de){R.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:de.manifest})}return p={load:function q(de){var Ee=new h.default(de,E.HTTPRequest.MPD_TYPE);W.load({request:Ee,success:function(pe,re,_e){if($){var ge,fe,ve;if(_e&&_e!==de?(fe=A.parseBaseUrl(_e),ge=_e):(A.isRelative(de)&&(de=A.resolve(de,window.location.href)),fe=A.parseBaseUrl(de)),"No Content"==re)return void R.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===Q&&(Q=function ie(de){var Ee=null;return de.indexOf("SmoothStreamingMedia")>-1?(ue&&(Ee=ue.createMssParser(),ue.registerEvents()),Ee):de.indexOf("MPD")>-1||de.indexOf("Patch")>-1?Object(m.default)(L).create({debug:C}):Ee}(pe)),null===Q)return void R.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new y.default(x.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,x.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(de))});$.setMatchers(Q.getMatchers()),$.setIron(Q.getIron());try{ve=Q.parse(pe)}catch{return void R.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new y.default(x.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,x.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(de))})}if(ve){if(ve.url=ge||de,ve.originalUrl||(ve.originalUrl=ve.url),ve.hasOwnProperty(B.default.LOCATION)&&(fe=A.parseBaseUrl(ve.Location_asArray[0]),w.debug("BaseURI set by Location to: "+fe)),I&&I.get().streaming.enableManifestDurationMismatchFix&&ve.mediaPresentationDuration&&ve.Period_asArray.length>1){var X=ve.Period_asArray.reduce(function(ye,se){return ye+se.duration},0);!isNaN(X)&&ve.mediaPresentationDuration>X&&(w.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),ve.mediaPresentationDuration=X)}ve.baseUri=fe,ve.loadedTime=new Date,$.resolveManifestOnLoad(ve),R.trigger(P.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:pe})}else R.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new y.default(x.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,x.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(de))})}},error:function(pe,re,_e){R.trigger(P.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new y.default(x.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,x.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(de,", ").concat(_e))})}})},reset:function le(){R.off(P.default.XLINK_READY,U,p),ue&&ue.reset(),$&&($.reset(),$=null),W&&(W.abort(),W=null)}},function ne(){w=C.getLogger(p),R.on(P.default.XLINK_READY,U,p),W=Object(S.default)(L).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,requestModifier:d.requestModifier,urlUtils:A,constants:B.default,dashConstants:T.default,errors:x.default,requestTimeout:d.settings.get().streaming.manifestRequestTimeout}),$=Object(M.default)(L).create({errHandler:ce,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,requestModifier:d.requestModifier,settings:d.settings}),Q=null}(),p}f.__dashjs_factory_name="ManifestLoader";var v=_.default.getClassFactory(f);k.default=v},"./src/streaming/ManifestUpdater.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/EventBus.js"),T=c("./src/core/events/Events.js"),M=c("./src/streaming/MediaPlayerEvents.js"),S=c("./src/core/FactoryMaker.js"),b=c("./src/core/Debug.js"),h=c("./src/core/errors/Errors.js"),y=c("./src/dash/constants/DashConstants.js"),E=c("./src/streaming/utils/URLUtils.js");function F(){var m,f,v,d,L,C,I,R,A,p,w,W,P=this.context,x=Object(B.default)(P).getInstance(),_=Object(E.default)(P).getInstance();function ne(){v=NaN,I=!1,L=!0,C=!1,ie()}function ie(){null!==d&&(clearTimeout(d),d=null)}function q(fe){ie(),!C&&(isNaN(fe)&&!isNaN(v)&&(fe=1e3*v),isNaN(fe)||(f.debug("Refresh manifest in "+fe+" milliseconds."),d=setTimeout(Ee,fe)))}function le(){var fe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];I=!0;var ve=A.getValue(),X=ve.url,ye=p.getPatchLocation(ve),se=p.getLocation(ve);ye&&!fe?X=ye:se&&(X=se),_.isRelative(X)&&(X=_.resolve(X,ve.url)),R.load(X)}function de(fe){if(fe){if(p.getIsPatch(fe)){var ve=fe;fe=A.getValue();var X=p.isPatchValid(fe,ve),ye=X;if(X){var se=p.getPublishTime(fe);ye=p.applyPatchToManifest(fe,ve);var ee=p.getPublishTime(fe);ye=se.getTime()!=ee.getTime()}if(!ye)return f.debug("Patch provided is invalid, performing full manifest refresh"),void le(!0);fe.loadedTime=new Date}}else(fe=A.getValue()).loadedTime=new Date;if(A.getValue()&&A.getValue().type===y.default.DYNAMIC&&fe.type===y.default.STATIC)return x.trigger(T.default.DYNAMIC_TO_STATIC),I=!1,void(C=!0);A.setValue(fe);var z=new Date,D=(z.getTime()-fe.loadedTime.getTime())/1e3;1e3*(v=p.getManifestUpdatePeriod(fe,D))>2147483647&&(v=2147483.647),x.trigger(T.default.MANIFEST_UPDATED,{manifest:fe}),f.info("Manifest has been refreshed at "+z+"["+z.getTime()/1e3+"] "),L||q()}function Ee(){if(!L){if(I)return void q(W.get().streaming.manifestUpdateRetryInterval);le()}}function Z(fe){fe.error?fe.error.code===h.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&w.error(fe.error):de(fe.manifest)}function pe(){L=!1,q()}function re(){(L=!W.get().streaming.scheduling.scheduleWhilePaused)&&ie()}function _e(){I=!1}return m={initialize:function ue(){ne(),x.on(T.default.STREAMS_COMPOSED,_e,this),x.on(M.default.PLAYBACK_STARTED,pe,this),x.on(M.default.PLAYBACK_PAUSED,re,this),x.on(T.default.INTERNAL_MANIFEST_LOADED,Z,this)},setManifest:function ce(fe){de(fe)},refreshManifest:le,getIsUpdating:function ge(){return I},setConfig:function Q(fe){!fe||(fe.manifestModel&&(A=fe.manifestModel),fe.adapter&&(p=fe.adapter),fe.manifestLoader&&(R=fe.manifestLoader),fe.errHandler&&(w=fe.errHandler),fe.settings&&(W=fe.settings))},reset:function U(){x.off(M.default.PLAYBACK_STARTED,pe,this),x.off(M.default.PLAYBACK_PAUSED,re,this),x.off(T.default.STREAMS_COMPOSED,_e,this),x.off(T.default.INTERNAL_MANIFEST_LOADED,Z,this),ne()}},function $(){f=Object(b.default)(P).getInstance().getLogger(m)}(),m}F.__dashjs_factory_name="ManifestUpdater",k.default=S.default.getClassFactory(F)},"./src/streaming/MediaPlayer.js":function(we,k,c){"use strict";c.r(k);var B=c("./externals/cea608-parser.js"),T=c.n(B),M=c("./src/streaming/constants/Constants.js"),S=c("./src/dash/constants/DashConstants.js"),b=c("./src/streaming/constants/MetricsConstants.js"),h=c("./src/streaming/controllers/PlaybackController.js"),y=c("./src/streaming/controllers/StreamController.js"),E=c("./src/streaming/controllers/GapController.js"),F=c("./src/streaming/controllers/CatchupController.js"),P=c("./src/dash/controllers/ServiceDescriptionController.js"),x=c("./src/dash/controllers/ContentSteeringController.js"),_=c("./src/streaming/controllers/MediaController.js"),m=c("./src/streaming/controllers/BaseURLController.js"),f=c("./src/streaming/ManifestLoader.js"),v=c("./src/streaming/utils/ErrorHandler.js"),d=c("./src/streaming/utils/Capabilities.js"),L=c("./src/streaming/utils/CapabilitiesFilter.js"),C=c("./src/streaming/utils/RequestModifier.js"),I=c("./src/streaming/models/URIFragmentModel.js"),R=c("./src/streaming/models/ManifestModel.js"),A=c("./src/streaming/models/MediaPlayerModel.js"),p=c("./src/streaming/controllers/AbrController.js"),w=c("./src/streaming/net/SchemeLoaderFactory.js"),W=c("./src/streaming/models/VideoModel.js"),$=c("./src/streaming/models/CmcdModel.js"),Q=c("./src/streaming/utils/DOMStorage.js"),ue=c("./src/core/Debug.js"),ce=c("./src/core/errors/Errors.js"),ne=c("./src/core/EventBus.js"),U=c("./src/core/events/Events.js"),ie=c("./src/streaming/MediaPlayerEvents.js"),q=c("./src/core/FactoryMaker.js"),le=c("./src/core/Settings.js"),de=c("./src/core/Version.js"),Ee=c("./src/dash/controllers/SegmentBaseController.js"),Z=c("./src/dash/DashAdapter.js"),pe=c("./src/dash/DashMetrics.js"),re=c("./src/dash/utils/TimelineConverter.js"),_e=c("./src/streaming/vo/metrics/HTTPRequest.js"),ge=c("./externals/base64.js"),fe=c.n(ge),ve=c("./node_modules/codem-isoboxer/dist/iso_boxer.js"),X=c.n(ve),ye=c("./src/streaming/vo/DashJSError.js"),se=c("./src/streaming/utils/SupervisorTools.js"),ee=c("./src/streaming/ManifestUpdater.js"),z=c("./src/streaming/utils/URLUtils.js"),D=c("./src/streaming/utils/BoxParser.js"),O=c("./src/streaming/text/TextController.js"),H=c("./src/streaming/models/CustomParametersModel.js");function j(){var Ae,be,Ie,xe,De,Fe,Ce,Qe,tt,Et,Lt,Bt,kt,en,an,Qt,ut,Tt,Le,Me,Ue,Ye,st,it,lt,vt,ht,Be,Xe,et,dt,Mt,It,Vt,pn,rn,Vn,Te="You must first call initialize() and set a source before calling this method",Re="You must first call initialize() and set a valid source and view before calling this method",me="You must first call attachView() to set the video element before calling this method",V="MediaPlayer not initialized!",K=this.context,te=Object(ne.default)(K).getInstance(),J=Object(le.default)(K).getInstance(),he=Object(ue.default)(K).getInstance({settings:J});function Dt(){qo(null),fr(null),xe=null,kt&&(kt.reset(),kt=null),en&&(en.reset(),en=null),Le&&Le.reset(),J.reset(),Qt&&(Qt.reset(),Qt=null)}function ze(){return!!Ie&&!!Vt.getElement()}function tn(){return Object(de.getVersionString)()}function Ze(){if(!Ce)throw Re;return ht.isPaused()}function $e(){if(!Ce)throw Re;return ht.getIsDynamic()}function nn(Ke){var At=it&&it.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO,Ut=dt.getCurrentDVRInfo(At);if(!Ut)return 0;var wn=ht.getOriginalLiveDelay(),mn=Ut.range.start+Ke;return mn>Ut.range.end-wn&&(mn=Ut.range.end-wn),mn}function Io(Ke){if(!Ce)throw Re;var At=rr().currentTime;if(void 0!==Ke)At=it.getTimeRelativeToStreamId(At,Ke);else if(ht.getIsDynamic()){var Ut=it&&it.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO,wn=dt.getCurrentDVRInfo(Ut);At=null===wn||0===At?0:Math.max(0,At-wn.range.start)}return At}function ia(){if(!Ce)throw Re;var Ke=rr().duration;if(ht.getIsDynamic()){var At=it&&it.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO,Ut=dt.getCurrentDVRInfo(At);Ke=Ut?Ut.range.end-Ut.range.start:0}return Ke}function Zr(Ke){Object(se.checkParameterType)(Ke,"boolean"),Qe=Ke}function Nn(){Le.restoreDefaultUTCTimingSources()}function at(){return dt}function rr(){if(!Vt.getElement())throw me;return Vt.getElement()}function fr(Ke){if(!De)throw V;Vt.setElement(Ke),Ke&&(wo(),function di(){if(!en){var Ke=dashjs.MetricsReporting;if("function"==typeof Ke){var At=Ke(K).create();en=At.createMetricsReporting({debug:he,eventBus:te,mediaElement:rr(),adapter:ut,dashMetrics:dt,mediaPlayerModel:Tt,events:U.default,constants:M.default,metricsConstants:b.default})}}}(),function Di(){if(!an){var Ke=dashjs.MssHandler;"function"==typeof Ke&&(ce.default.extend(Ke.errors),an=Ke(K).create({eventBus:te,mediaPlayerModel:Tt,dashMetrics:dt,manifestModel:Mt,playbackController:ht,streamController:it,protectionController:kt,baseURLController:Ue,errHandler:Me,events:U.default,constants:M.default,debug:he,initSegmentType:_e.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:fe.a,ISOBoxer:X.a,settings:J}))}}(),it&&it.switchToVideoElement()),Ce&&Hn(),Zn()}function on(Ke){if(!Fe)throw Te;var At=it.getActiveStreamInfo();return At?Bt.getTracksFor(Ke,At.id):[]}function qo(Ke){var At=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!De)throw V;"string"==typeof Ke&&pn.initialize(Ke),Ie=Ke,(Fe||Ce)&&Hn(),ze()&&Zn(At)}function Qa(){if(!Fe)throw Te;var Ke=it.getActiveStreamInfo();return Ke?it.getStreamById(Ke.id):null}function Hn(){Ce=!1,Fe=!1,ut.reset(),it.reset(),vt.reset(),et.reset(),ht.reset(),Be.reset(),Xe.reset(),tt.reset(),Bt.reset(),Vn.reset(),kt&&(J.get().streaming.protection.keepProtectionMediaKeys?kt.stop():(kt.reset(),kt=null,wo())),lt.reset(),It.reset()}function Wr(){var Ke=Ir();it||(it=Object(y.default)(K).getInstance()),lt||(lt=Object(O.default)(K).create({errHandler:Me,manifestModel:Mt,adapter:ut,mediaController:Bt,videoModel:Vt,settings:J})),st.setConfig({capabilities:Ye,customParametersModel:Le,adapter:ut,settings:J,manifestModel:Mt,errHandler:Me}),it.setConfig({capabilities:Ye,capabilitiesFilter:st,manifestLoader:Ke,manifestModel:Mt,mediaPlayerModel:Tt,customParametersModel:Le,protectionController:kt,textController:lt,adapter:ut,dashMetrics:dt,errHandler:Me,timelineConverter:Lt,videoModel:Vt,playbackController:ht,serviceDescriptionController:Be,contentSteeringController:Xe,abrController:tt,mediaController:Bt,settings:J,baseURLController:Ue,uriFragmentModel:pn,segmentBaseController:Vn}),vt.setConfig({settings:J,playbackController:ht,streamController:it,videoModel:Vt,timelineConverter:Lt,adapter:ut}),ht.setConfig({streamController:it,serviceDescriptionController:Be,dashMetrics:dt,adapter:ut,videoModel:Vt,timelineConverter:Lt,settings:J}),et.setConfig({streamController:it,playbackController:ht,mediaPlayerModel:Tt,videoModel:Vt,settings:J}),tt.setConfig({streamController:it,domStorage:rn,mediaPlayerModel:Tt,customParametersModel:Le,dashMetrics:dt,adapter:ut,videoModel:Vt,settings:J}),It.setConfig({abrController:tt,dashMetrics:dt,playbackController:ht}),Xe.setConfig({adapter:ut,errHandler:Me,dashMetrics:dt,mediaPlayerModel:Tt,manifestModel:Mt,abrController:tt,eventBus:te,requestModifier:Object(C.default)(K).getInstance()}),tt.initialize(),it.initialize(Qe,xe),lt.initialize(),vt.initialize(),et.initialize(),It.initialize(),Xe.initialize(),Vn.initialize()}function Ir(){return Object(f.default)(K).create({debug:he,errHandler:Me,dashMetrics:dt,mediaPlayerModel:Tt,requestModifier:Object(C.default)(K).getInstance(),mssHandler:an,settings:J})}function wo(){if(kt)return kt;var Ke=dashjs.Protection;if("function"==typeof Ke){var At=Ke(K).create();return U.default.extend(Ke.events),ie.default.extend(Ke.events,{publicOnly:!0}),ce.default.extend(Ke.errors),Ye||(Ye=Object(d.default)(K).getInstance()),kt=At.createProtectionSystem({debug:he,errHandler:Me,videoModel:Vt,customParametersModel:Le,capabilities:Ye,eventBus:te,events:U.default,BASE64:fe.a,constants:M.default,cmcdModel:It,settings:J})}return null}function jt(){if(!De)throw V;if(Qt)return Qt;var Ke=dashjs.OfflineController;if("function"==typeof Ke){U.default.extend(Ke.events),ie.default.extend(Ke.events,{publicOnly:!0}),ce.default.extend(Ke.errors);var At=Ir(),Ut=Object(ee.default)(K).create();return Ut.setConfig({manifestModel:Mt,adapter:ut,manifestLoader:At,errHandler:Me}),Qt=Ke(K).create({debug:he,manifestUpdater:Ut,baseURLController:Ue,manifestLoader:At,manifestModel:Mt,mediaPlayerModel:Tt,abrController:tt,playbackController:ht,adapter:ut,errHandler:Me,dashMetrics:dt,timelineConverter:Lt,segmentBaseController:Vn,schemeLoaderFactory:Et,eventBus:te,events:U.default,errors:ce.default,constants:M.default,settings:J,dashConstants:S.default,urlUtils:Object(z.default)(K).getInstance()})}return null}function hn(Ke){var At=it&&it.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO,Ut=dt.getCurrentDVRInfo(At);return Ut?Ke+(Ut.manifestInfo.availableFrom.getTime()/1e3+Ut.range.start):0}function Zn(){var Ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Qt&&Qt.resetRecords(),!Fe&&Ie&&(Fe=!0,be.info("Streaming Initialized"),Wr(),"string"==typeof Ie?it.load(Ie,Ke):it.loadWithManifest(Ie,Ke)),!Ce&&ze()&&(Ce=!0,be.info("Playback Initialized"))}return Ae={initialize:function Je(Ke,At,Ut){var wn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;Ye||(Ye=Object(d.default)(K).getInstance()).setConfig({settings:J}),Me||(Me=Object(v.default)(K).getInstance()),Ye.supportsMediaSource()?(De||(De=!0,Lt=Object(re.default)(K).getInstance(),tt||(tt=Object(p.default)(K).getInstance()).setConfig({settings:J}),Et||(Et=Object(w.default)(K).getInstance()),ht||(ht=Object(h.default)(K).getInstance()),Bt||(Bt=Object(_.default)(K).getInstance()),it||(it=Object(y.default)(K).getInstance()),vt||(vt=Object(E.default)(K).getInstance()),et||(et=Object(F.default)(K).getInstance()),Be||(Be=Object(P.default)(K).getInstance()),Xe||(Xe=Object(x.default)(K).getInstance()),st||(st=Object(L.default)(K).getInstance()),ut=Object(Z.default)(K).getInstance(),Mt=Object(R.default)(K).getInstance(),It=Object($.default)(K).getInstance(),dt=Object(pe.default)(K).getInstance({settings:J}),rn=Object(Q.default)(K).getInstance({settings:J}),ut.setConfig({constants:M.default,cea608parser:T.a,errHandler:Me,BASE64:fe.a}),Ue||(Ue=Object(m.default)(K).create()),Ue.setConfig({adapter:ut}),Be.setConfig({adapter:ut}),Vn||(Vn=Object(Ee.default)(K).getInstance({dashMetrics:dt,mediaPlayerModel:Tt,errHandler:Me,baseURLController:Ue,events:U.default,eventBus:te,debug:he,boxParser:Object(D.default)(K).getInstance(),requestModifier:Object(C.default)(K).getInstance(),errors:ce.default})),Bt.setConfig({domStorage:rn,settings:J,customParametersModel:Le}),Tt.setConfig({playbackController:ht,serviceDescriptionController:Be}),Nn(),Zr(void 0===Ut||Ut),jt()),Ke&&fr(Ke),At&&qo(At,wn),be.info("[dash.js "+tn()+"] MediaPlayer has been initialized")):Me.error(new ye.default(ce.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,ce.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Oe(Ke){!Ke||(Ke.capabilities&&(Ye=Ke.capabilities),Ke.capabilitiesFilter&&(st=Ke.capabilitiesFilter),Ke.streamController&&(it=Ke.streamController),Ke.textController&&(lt=Ke.textController),Ke.gapController&&(vt=Ke.gapController),Ke.playbackController&&(ht=Ke.playbackController),Ke.serviceDescriptionController&&(Be=Ke.serviceDescriptionController),Ke.contentSteeringController&&(Xe=Ke.contentSteeringController),Ke.catchupController&&(et=Ke.catchupController),Ke.mediaPlayerModel&&(Tt=Ke.mediaPlayerModel),Ke.customParametersModel&&(Le=Ke.customParametersModel),Ke.abrController&&(tt=Ke.abrController),Ke.schemeLoaderFactory&&(Et=Ke.schemeLoaderFactory),Ke.mediaController&&(Bt=Ke.mediaController),Ke.settings&&(J=Ke.settings))},on:function nt(Ke,At,Ut,wn){te.on(Ke,At,Ut,wn)},off:function wt(Ke,At,Ut){te.off(Ke,At,Ut)},extend:function kn(Ke,At,Ut){q.default.extend(Ke,At,Ut,K)},attachView:fr,attachSource:qo,isReady:ze,play:function qe(){if(!Ce)throw Re;(!Qe||Ze()&&Ce)&&ht.play(!0)},isPaused:Ze,pause:function Ve(){if(!Ce)throw Re;ht.pause()},isSeeking:function Ct(){if(!Ce)throw Re;return ht.isSeeking()},isDynamic:$e,getLowLatencyModeEnabled:function mt(){if(!Ce)throw Re;return ht.getLowLatencyModeEnabled()},seek:function gt(Ke){if(!Ce)throw Re;if(Object(se.checkParameterType)(Ke,"number"),isNaN(Ke))throw M.default.BAD_ARGUMENT_ERROR;var At=ht.getIsDynamic()?nn(Ke):Ke,Ut=rr();!ht.getIsDynamic()&&Ut.duration&&(At=Math.min(Ut.duration,At)),ht.seek(At,!1,!1,!0)},seekToOriginalLive:function Ft(){!Ce||!$e()||ht.seekToOriginalLive()},setPlaybackRate:function Rt(Ke){rr().playbackRate=Ke},getPlaybackRate:function cn(){return rr().playbackRate},setMute:function Jt(Ke){Object(se.checkParameterType)(Ke,"boolean"),rr().muted=Ke},isMuted:function Wt(){return rr().muted},setVolume:function Gn(Ke){if("number"!=typeof Ke||isNaN(Ke)||Ke<0||Ke>1)throw M.default.BAD_ARGUMENT_ERROR;rr().volume=Ke},getVolume:function $n(){return rr().volume},time:Io,duration:ia,timeAsUTC:function Ds(){if(!Ce)throw Re;return Io()<0?NaN:hn(Io())},durationAsUTC:function Ri(){if(!Ce)throw Re;return hn(ia())},getActiveStream:Qa,getDVRWindowSize:function Ii(){var Ke=it&&it.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO,At=dt.getCurrentDVRInfo(Ke);return At?At.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:nn,getTargetLiveDelay:function En(){if(!Ce)throw Re;return ht.getOriginalLiveDelay()},convertToTimeCode:function Lf(Ke){Ke=Math.max(Ke,0);var At=Math.floor(Ke/3600),Ut=Math.floor(Ke%3600/60),wn=Math.floor(Ke%3600%60);return(0===At?"":At<10?"0"+At.toString()+":":At.toString()+":")+(Ut<10?"0"+Ut.toString():Ut.toString())+":"+(wn<10?"0"+wn.toString():wn.toString())},formatUTC:function Nf(Ke,At,Ut){var wn=arguments.length>3&&void 0!==arguments[3]&&arguments[3],mn=new Date(1e3*Ke),co=mn.toLocaleDateString(At),Qi=mn.toLocaleTimeString(At,{hour12:Ut});return wn?Qi+" "+co:Qi},getVersion:tn,getDebug:function We(){return he},getBufferLength:function pt(Ke){var At=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT];if(Ke)return-1!==At.indexOf(Ke)?at().getCurrentBufferLevel(Ke)||NaN:(be.warn("getBufferLength requested for invalid type"),NaN);var Ut=At.map(function(mn){return on(mn).length>0?at().getCurrentBufferLevel(mn):Number.MAX_VALUE}).reduce(function(mn,co){return Math.min(mn,co)});return Ut===Number.MAX_VALUE?NaN:Ut},getTTMLRenderingDiv:function fi(){return Vt?Vt.getTTMLRenderingDiv():null},getVideoElement:rr,getSource:function Pf(){if(!Ie)throw"You must first call attachSource() with a valid source before calling this method";return Ie},updateSource:function uo(Ke){it.load(Ie=Ke)},getCurrentLiveLatency:function If(){if(!De)throw V;return Ce?ht.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function Tr(Ke){if(!Fe)throw Te;return tt.getTopBitrateInfoFor(Ke)},setAutoPlay:Zr,getAutoPlay:function fu(){return Qe},getDashMetrics:at,getQualityFor:function Ss(Ke){if(!Fe)throw Te;if(Ke===M.default.IMAGE){var At=Qa();if(!At)return-1;var Ut=At.getThumbnailController();return Ut?Ut.getCurrentTrackIndex():-1}return tt.getQualityFor(Ke)},setQualityFor:function za(Ke,At){var Ut=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Fe)throw Te;if(Ke===M.default.IMAGE){var wn=Qa();if(!wn)return;var mn=wn.getThumbnailController();mn&&mn.setTrackByIndex(At)}tt.setPlaybackQuality(Ke,it.getActiveStreamInfo(),At,{forceReplace:Ut})},updatePortalSize:function oa(){tt.setElementSize(),tt.setWindowResizeEventCalled(!0)},enableText:function _t(Ke){var At=it.getActiveStreamInfo();return!(!At||!lt)&&lt.enableText(At.id,Ke)},enableForcedTextStreaming:function Gt(Ke){return!(!it.getActiveStreamInfo()||!lt)&&lt.enableForcedTextStreaming(Ke)},isTextEnabled:function un(){var Ke=it.getActiveStreamInfo();return!(!Ke||!lt)&&lt.isTextEnabled(Ke)},setTextTrack:function _n(Ke){if(!Ce)throw Re;var At=it.getActiveStreamInfo();!At||!lt||lt.setTextTrack(At.id,Ke)},getBitrateInfoListFor:function As(Ke){if(!Fe)throw Te;var At=Qa();return At?At.getBitrateListFor(Ke):[]},getStreamsFromManifest:function $m(Ke){if(!Fe)throw Te;return ut.getStreamsInfo(Ke)},getTracksFor:on,getTracksForTypeFromManifest:function mu(Ke,At,Ut){if(!Fe)throw Te;return(Ut=Ut||ut.getStreamsInfo(At,1)[0])?ut.getAllMediaInfoForType(Ut,Ke,At):[]},getCurrentTrackFor:function Xm(Ke){if(!Fe)throw Te;var At=it.getActiveStreamInfo();return Bt.getCurrentTrackFor(Ke,At.id)},setInitialMediaSettingsFor:function Mi(Ke,At){if(!De)throw V;Bt.setInitialSettings(Ke,At)},getInitialMediaSettingsFor:function Of(Ke){if(!De)throw V;return Bt.getInitialSettings(Ke)},setCurrentTrack:function EE(Ke){if(!Fe)throw Te;Bt.setTrack(Ke)},addABRCustomRule:function Qo(Ke,At,Ut){Le.addAbrCustomRule(Ke,At,Ut)},removeABRCustomRule:function Rf(Ke){Le.removeAbrCustomRule(Ke)},removeAllABRCustomRule:function du(){Le.removeAllAbrCustomRule()},getABRCustomRules:function Ya(){return Le.getAbrCustomRules()},getAverageThroughput:function sa(Ke){var At=tt.getThroughputHistory(),Ut=ht.getIsDynamic();return At?At.getAverageThroughput(Ke,Ut):0},retrieveManifest:function pu(Ke,At){var Ut=Ir(),wn=this;te.on(U.default.INTERNAL_MANIFEST_LOADED,function co(Qi){Qi.error?At(null,Qi.error):At(Qi.manifest),te.off(U.default.INTERNAL_MANIFEST_LOADED,co,wn),Ut.reset()},wn),pn.initialize(Ke),Ut.load(Ke)},addUTCTimingSource:function $a(Ke,At){Le.addUTCTimingSource(Ke,At)},removeUTCTimingSource:function wf(Ke,At){Le.removeUTCTimingSource(Ke,At)},clearDefaultUTCTimingSources:function Hr(){Le.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Nn,setXHRWithCredentialsForType:function hu(Ke,At){Le.setXHRWithCredentialsForType(Ke,At)},getXHRWithCredentialsForType:function aa(Ke){return Le.getXHRWithCredentialsForType(Ke)},getProtectionController:function Is(){return wo()},attachProtectionController:function Bn(Ke){kt=Ke},setProtectionData:function Xa(Ke){xe=Ke,it&&it.setProtectionData(xe)},registerLicenseRequestFilter:function Oi(Ke){Le.registerLicenseRequestFilter(Ke)},registerLicenseResponseFilter:function Qn(Ke){Le.registerLicenseResponseFilter(Ke)},unregisterLicenseRequestFilter:function ME(Ke){Le.unregisterLicenseRequestFilter(Ke)},unregisterLicenseResponseFilter:function DE(Ke){Le.unregisterLicenseResponseFilter(Ke)},registerCustomCapabilitiesFilter:function Ro(Ke){Le.registerCustomCapabilitiesFilter(Ke)},unregisterCustomCapabilitiesFilter:function wi(Ke){Le.unregisterCustomCapabilitiesFilter(Ke)},setCustomInitialTrackSelectionFunction:function TE(Ke){Le.setCustomInitialTrackSelectionFunction(Ke)},resetCustomInitialTrackSelectionFunction:function CE(){Le.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function bs(Ke){if(!Vt.getElement())throw me;Vt.setTTMLRenderingDiv(Ke)},getCurrentTextTrackIndex:function xn(){var At=it.getActiveStreamInfo();if(At&&lt)return lt.getCurrentTrackIdx(At.id)},provideThumbnail:function gu(Ke,At){if("function"==typeof At){if(Ke<0)return void At(null);var Ut=ht.getIsDynamic()?nn(Ke):Ke,wn=it.getStreamForTime(Ut);if(null===wn)return void At(null);var mn=wn.getThumbnailController();return mn?mn.provide(Ut,At):void At(null)}},getDashAdapter:function Ff(){return ut},getOfflineController:function Pe(){return jt()},triggerSteeringRequest:function Yt(){if(Xe)return Xe.loadSteeringData()},getCurrentSteeringResponseData:function Ar(){if(Xe)return Xe.getCurrentSteeringResponseData()},getSettings:function Qm(){return J.get()},updateSettings:function Tn(Ke){J.update(Ke)},resetSettings:function qm(){J.reset()},reset:Dt,destroy:function je(){Dt(),q.default.deleteSingletonInstances(K)}},function Kn(){be=he.getLogger(Ae),De=!1,Ce=!1,Fe=!1,Qe=!0,kt=null,Qt=null,xe=null,ut=null,Vn=null,U.default.extend(ie.default),Tt=Object(A.default)(K).getInstance(),Le=Object(H.default)(K).getInstance(),Vt=Object(W.default)(K).getInstance(),pn=Object(I.default)(K).getInstance()}(),Ae}j.__dashjs_factory_name="MediaPlayer";var oe=q.default.getClassFactory(j);oe.events=ie.default,oe.errors=ce.default,q.default.updateClassFactory(j.__dashjs_factory_name,oe),k.default=oe},"./src/streaming/MediaPlayerEvents.js":function(we,k,c){"use strict";function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function S(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&b(m,f)}function b(m,f){return(b=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function h(m){var f=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=P(m);if(f){var C=P(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return y(this,L)}}function y(m,f){return!f||"object"!==T(f)&&"function"!=typeof f?function E(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function P(m){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}c.r(k);var _=new(function(m){S(v,m);var f=h(v);function v(){var d;return function M(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}(this,v),(d=f.call(this)).AST_IN_FUTURE="astInFuture",d.BUFFER_EMPTY="bufferStalled",d.BUFFER_LOADED="bufferLoaded",d.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",d.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",d.DYNAMIC_TO_STATIC="dynamicToStatic",d.ERROR="error",d.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",d.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",d.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",d.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",d.LOG="log",d.MANIFEST_LOADED="manifestLoaded",d.METRICS_CHANGED="metricsChanged",d.METRIC_CHANGED="metricChanged",d.METRIC_ADDED="metricAdded",d.METRIC_UPDATED="metricUpdated",d.PERIOD_SWITCH_STARTED="periodSwitchStarted",d.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",d.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",d.QUALITY_CHANGE_RENDERED="qualityChangeRendered",d.TRACK_CHANGE_RENDERED="trackChangeRendered",d.STREAM_INITIALIZING="streamInitializing",d.STREAM_UPDATED="streamUpdated",d.STREAM_ACTIVATED="streamActivated",d.STREAM_DEACTIVATED="streamDeactivated",d.STREAM_INITIALIZED="streamInitialized",d.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",d.TEXT_TRACKS_ADDED="allTextTracksAdded",d.TEXT_TRACK_ADDED="textTrackAdded",d.TTML_PARSED="ttmlParsed",d.TTML_TO_PARSE="ttmlToParse",d.CAPTION_RENDERED="captionRendered",d.CAPTION_CONTAINER_RESIZE="captionContainerResize",d.CAN_PLAY="canPlay",d.CAN_PLAY_THROUGH="canPlayThrough",d.PLAYBACK_ENDED="playbackEnded",d.PLAYBACK_ERROR="playbackError",d.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",d.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",d.PLAYBACK_LOADED_DATA="playbackLoadedData",d.PLAYBACK_PAUSED="playbackPaused",d.PLAYBACK_PLAYING="playbackPlaying",d.PLAYBACK_PROGRESS="playbackProgress",d.PLAYBACK_RATE_CHANGED="playbackRateChanged",d.PLAYBACK_SEEKED="playbackSeeked",d.PLAYBACK_SEEKING="playbackSeeking",d.PLAYBACK_STALLED="playbackStalled",d.PLAYBACK_STARTED="playbackStarted",d.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",d.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",d.PLAYBACK_WAITING="playbackWaiting",d.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",d.EVENT_MODE_ON_START="eventModeOnStart",d.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",d.CONFORMANCE_VIOLATION="conformanceViolation",d.REPRESENTATION_SWITCH="representationSwitch",d.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",d.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",d}return v}(c("./src/core/events/EventsBase.js").default));k.default=_},"./src/streaming/MediaPlayerFactory.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/MediaPlayer.js");var S,M=function T(){var F,E="application/dash+xml";function P(m,f,v){if(!m||!/^VIDEO$/i.test(m.nodeName))return null;if(m._dashjs_player)return m._dashjs_player;var d,L=m.id||m.name||"video element";if(!(f=f||[].slice.call(m.querySelectorAll("source")).filter(function(C){return C.type==E})[0])&&m.src)(f=document.createElement("source")).src=m.src;else if(!f&&!m.src)return null;return v=v||{},(d=Object(B.default)(v).create()).initialize(m,f.src,m.autoplay),F||(F=d.getDebug().getLogger()),F.debug("Converted "+L+" to dash.js player and added content: "+f.src),m._dashjs_player=d,d}function _(m){return/^VIDEO$/i.test(m.nodeName)?m:_(m.parentNode)}return{create:P,createAll:function x(m,f){var v=[];m=m||"[data-dashjs-player]";for(var d=(f=f||document).querySelectorAll(m),L=0;L<d.length;L++){var C=P(d[L],null);v.push(C)}for(var I=f.querySelectorAll('source[type="'+E+'"]'),R=0;R<I.length;R++){var p=P(_(I[R]),null);v.push(p)}return v}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?M.createAll():S=window.setInterval(function h(){window.dashjs&&(window.clearInterval(S),M.createAll())},500):window.addEventListener("load",function b(){window.removeEventListener("load",b),M.createAll()})),k.default=M},"./src/streaming/SourceBufferSink.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/Debug.js"),T=c("./src/streaming/vo/DashJSError.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/core/errors/Errors.js"),b=c("./src/core/Settings.js"),h=c("./src/streaming/constants/Constants.js"),y=c("./src/streaming/vo/metrics/HTTPRequest.js"),E=c("./src/core/events/Events.js");function _(f){var I,R,A,p,w,W,v=this.context,d=Object(b.default)(v).getInstance(),L=f.textController,C=f.eventBus,$=[],Q=[],ue=!1,ce=f.mediaSource,ne=null;function q(Re){return new Promise(function(me){Te(function(){p.changeType&&p.changeType(Re),me()})})}function Ee(Re){return p=L.getTextSourceBuffer(Re),Promise.resolve()}function Z(){if("function"==typeof p.addEventListener)try{p.addEventListener("updateend",H,!1),p.addEventListener("error",j,!1),p.addEventListener("abort",j,!1)}catch{W=setInterval(H,50)}else W=setInterval(H,50)}function _e(Re){return new Promise(function(me){p&&d.get().streaming.buffer.useAppendWindow?Te(function(){try{if(!p)return void me();var G=ce.duration,V=0;Re&&!isNaN(Re.start)&&!isNaN(Re.duration)&&isFinite(Re.duration)&&(G=Re.start+Re.duration),Re&&!isNaN(Re.start)&&(V=Re.start),(p.appendWindowEnd!==G||p.appendWindowStart!==V)&&(p.appendWindowStart=0,p.appendWindowEnd=G+.01,p.appendWindowStart=Math.max(V-.1,0),A.debug("Updated append window for ".concat(w.type,". Set start to ").concat(p.appendWindowStart," and end to ").concat(p.appendWindowEnd))),me()}catch{A.warn("Failed to set append window"),me()}}):me()})}function ge(Re){return new Promise(function(me){p?Te(function(){try{p.timestampOffset!==Re&&!isNaN(Re)&&(p.timestampOffset=Re,A.debug("Set MSE timestamp offset to ".concat(Re))),me()}catch{me()}}):me()})}function z(){if(!ue&&Q.length>0){ue=!0;var Re=Q[0];Q.splice(0,1);var me=function(){ue=!1,Q.length>0&&z.call(this),Re&&Re.data&&Re.data.segmentType&&Re.data.segmentType!==y.HTTPRequest.INIT_SEGMENT_TYPE&&delete Re.data.bytes,Re.promise.resolve({chunk:Re.data})};try{ne=Re.request,0===Re.data.bytes.byteLength?me.call(this):(p.appendBuffer?p.appendBuffer(Re.data.bytes):p.append(Re.data.bytes,Re.data),Te(me.bind(this)))}catch(G){A.fatal('SourceBuffer append failed "'+G+'"'),Q.length>0?z():ue=!1,delete Re.data.bytes,Re.promise.reject({chunk:Re.data,error:new T.default(G.code,G.message)})}}}function O(){$.length>0&&!p.updating&&($.shift()(),O())}function H(){p.updating||O()}function j(Re){!function oe(Re,me){C.trigger(Re,me||{},{streamId:w.streamInfo.id,mediaType:R})}(E.default.SOURCE_BUFFER_ERROR,{error:Re.target||{},lastRequestAppended:ne})}function Te(Re){$.push(Re),p.updating||O()}return I={getType:function pe(){return R},getAllBufferRanges:function X(){try{return p.buffered}catch(Re){return A.error("getAllBufferRanges exception: "+Re.message),null}},getBuffer:function ve(){return p},append:function ye(Re){var me=this,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(V,K){Re?(Q.push({data:Re,promise:{resolve:V,reject:K},request:G}),Te(z.bind(me))):K({chunk:Re,error:new T.default(S.default.APPEND_ERROR_CODE,S.default.APPEND_ERROR_MESSAGE)})})},remove:function ee(Re){return new Promise(function(me,G){var V=Re.start,K=Re.end;V>=0&&K>V?Te(function(){try{p.remove(V,K),Te(function(){me({from:V,to:K,unintended:!1}),Re.resolve&&Re.resolve()})}catch(te){G({from:V,to:K,unintended:!1,error:new T.default(S.default.REMOVE_ERROR_CODE,S.default.REMOVE_ERROR_MESSAGE)}),Re.reject&&Re.reject(te)}}):me()})},abort:function D(){return new Promise(function(Re){try{Q=[],"open"===ce.readyState?Te(function(){try{p&&p.abort(),Re()}catch{Re()}}):(p&&p.setTextTrack&&"ended"===ce.readyState&&p.abort(),Re())}catch{Re()}})},reset:function fe(){if(p){try{$=[],function re(){try{"function"==typeof p.removeEventListener&&(p.removeEventListener("updateend",H,!1),p.removeEventListener("error",j,!1),p.removeEventListener("abort",j,!1)),clearInterval(W)}catch(Re){A.error(Re)}}(),ue=!1,Q=[],(!p.getClassName||"TextSourceBuffer"!==p.getClassName())&&(A.debug("Removing sourcebuffer from media source"),ce.removeSourceBuffer(p))}catch{}p=null}ne=null},updateTimestampOffset:ge,initializeForStreamSwitch:function ie(Re,me,G){R=(w=Re).type;var V=w.codec;(function le(Re){p=Re.getBuffer()})(G),Z();var K=[];return K.push(function se(){return new Promise(function(Re){Te(function(){var me=p.appendWindowStart,G=p.appendWindowEnd;p&&(p.abort(),p.appendWindowStart=me,p.appendWindowEnd=G),Re()})})}()),K.push(_e(w.streamInfo)),K.push(q(V)),me&&void 0!==me.MSETimeOffset&&K.push(ge(me.MSETimeOffset)),Promise.all(K)},initializeForFirstUse:function de(Re,me,G){R=(w=me).type;var V=w.codec;try{if(V.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ee(Re);p=ce.addSourceBuffer(V),Z();var K=[];return K.push(_e(w.streamInfo)),G&&void 0!==G.MSETimeOffset&&K.push(ge(G.MSETimeOffset)),Promise.all(K)}catch(te){return w.type==h.default.TEXT&&!w.isFragmented||-1!==V.indexOf('codecs="stpp')||-1!==V.indexOf('codecs="vtt')?Ee(Re):Promise.reject(te)}},updateAppendWindow:_e,changeType:q},function U(){A=Object(B.default)(v).getInstance().getLogger(I)}(),I}_.__dashjs_factory_name="SourceBufferSink";var m=M.default.getClassFactory(_);k.default=m},"./src/streaming/Stream.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/dash/constants/DashConstants.js"),M=c("./src/streaming/StreamProcessor.js"),S=c("./src/streaming/controllers/FragmentController.js"),b=c("./src/streaming/thumbnail/ThumbnailController.js"),h=c("./src/core/EventBus.js"),y=c("./src/core/events/Events.js"),E=c("./src/core/Debug.js"),F=c("./src/core/errors/Errors.js"),P=c("./src/core/FactoryMaker.js"),x=c("./src/streaming/vo/DashJSError.js"),_=c("./src/streaming/utils/BoxParser.js"),m=c("./src/streaming/utils/URLUtils.js"),f=c("./src/streaming/controllers/BlacklistController.js"),v=[B.default.VIDEO,B.default.AUDIO,B.default.TEXT,B.default.MUXED,B.default.IMAGE];function d(L){L=L||{};var re,_e,ge,fe,ve,X,ye,se,ee,z,D,O,H,j,oe,Te,Re,me,C=this.context,I=Object(h.default)(C).getInstance(),R=Object(m.default)(C).getInstance(),A=L.manifestModel,p=L.mediaPlayerModel,w=L.dashMetrics,W=L.manifestUpdater,$=L.adapter,Q=L.timelineConverter,ue=L.capabilities,ce=L.errHandler,ne=L.abrController,U=L.playbackController,ie=L.eventController,q=L.mediaController,le=L.protectionController,de=L.textController,Ee=L.videoModel,Z=L.streamInfo,pe=L.settings;function De(Ve,Ze){return new Promise(function(gt,Ft){it(),z=!0,Xe();var Ct=Ee.getElement();v.forEach(function($e){($e!==B.default.VIDEO||!Ct||Ct&&/^VIDEO$/i.test(Ct.nodeName))&&function Fe(Ve,Ze){var $e,gt=$.getAllMediaInfoForType(Z,Ve),Ft=[],Ct=null;if(gt&&0!==gt.length){Ve===B.default.VIDEO&&(ye=!0),Ve===B.default.AUDIO&&(se=!0);for(var mt=0,Rt=gt.length;mt<Rt;mt++)Ct=gt[mt],Ve===B.default.TEXT&&!!Ct.isEmbedded&&(de.addEmbeddedTrack(Z,Ct),Ft.push(Ct)),Ce(Ct)&&q.addTrack(Ct);if(Ft.length>0&&(q.setInitialMediaSettingsForType(Ve,Z),de.addMediaInfosToBuffer(Z,Ve,Ft)),0!==(gt=gt.filter(function(Jt){return!Jt.isEmbedded})).length){if(Ve===B.default.IMAGE)return void(O=Object(b.default)(C).create({streamInfo:Z,adapter:$,baseURLController:L.baseURLController,timelineConverter:L.timelineConverter,debug:Te,eventBus:I,events:y.default,dashConstants:T.default,dashMetrics:L.dashMetrics,segmentBaseController:L.segmentBaseController})).initialize();I.trigger(y.default.STREAM_INITIALIZING,{streamInfo:Z,mediaInfo:Ct}),q.setInitialMediaSettingsForType(Ve,Z);var cn=function Qe(Ve,Ze){var gt=Ve&&Ve.length>0?Ve[0]:null,Ft=D.getModel(gt?gt.type:null),Ct=gt?gt.type:null,$e=gt?gt.mimeType:null,mt=gt?gt.isFragmented:null,Rt=Object(M.default)(C).create({streamInfo:Z,type:Ct,mimeType:$e,timelineConverter:Q,adapter:$,manifestModel:A,mediaPlayerModel:p,fragmentModel:Ft,dashMetrics:L.dashMetrics,baseURLController:L.baseURLController,segmentBaseController:L.segmentBaseController,abrController:ne,playbackController:U,mediaController:q,textController:de,errHandler:ce,settings:pe,boxParser:oe,segmentBlacklistController:H});Rt.initialize(Ze,ye,mt),ge.push(Rt);for(var cn=0;cn<Ve.length;cn++)Rt.addMediaInfo(Ve[cn]);return Ct===B.default.TEXT&&de.addMediaInfosToBuffer(Z,Ct,Ve,Ft),Rt}(gt,Ze);($e=q.getCurrentTrackFor(Ve,Z.id))&&(ne.updateTopQualityIndex($e),cn.selectMediaInfo(Ve===B.default.TEXT&&$e.isEmbedded?gt[0]:$e))}}else _e.info("No "+Ve+" data.")}($e,Ve)}),function tt(Ve){return new Promise(function(Ze){var gt={},Ft=ge.map(function(Ct){return Ct.createBufferSinks(Ve)});Promise.all(Ft).then(function(Ct){Ct.forEach(function($e){$e&&(gt[$e.getType()]=$e)}),Ze(gt)}).catch(function(){Ze(gt)})})}(Ze).then(function($e){if(z=!1,0===ge.length){var mt="No streams to play.";ce.error(new x.default(F.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,mt,A.getValue())),_e.fatal(mt)}else et();de.createTracks(Z),gt($e)}).catch(function($e){Ft($e)})})}function Ce(Ve){var Ze=Ve?Ve.type:null;return Ze===B.default.MUXED?(_e.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),ce.error(new x.default(F.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",A.getValue())),!1):!(Ze!==B.default.TEXT&&Ze!==B.default.IMAGE&&Ve.contentProtection&&!ue.supportsEncryptedMedia()&&(ce.error(new x.default(F.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,F.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Et(Ve){for(var Ze=ge?ge.length:0,Ft=0;Ft<Ze;Ft++){var Ct=ge[Ft].getFragmentModel();Ct.abortRequests(),Ct.resetInitialSettings(),ge[Ft].reset(false,Ve)}de&&de.deactivateStream(Z),ge=[],ve=!1,X=!1,wt(!1),ut(!1),I.trigger(y.default.STREAM_DEACTIVATED,{streamInfo:Z})}function kt(Ve){Et(Ve),fe=!1,ye=!1,se=!1,ee={},z=!1,Re=!1,me=[]}function ut(Ve){Re=Ve}function Tt(){return Z?Z.start:NaN}function Le(){return Z?Z.id:null}function Me(){return Z}function it(){if(!Ee||!ne)throw new Error(B.default.MISSING_CONFIG_ERROR)}function vt(Ve){Ve.error&&(ce.error(Ve.error),_e.fatal(Ve.error.message))}function Xe(){if(ie){var Ve=$.getEventsFor(Z);Ve&&Ve.length>0&&ie.addInlineEvents(Ve,Z.id)}}function et(){for(var Ve=ge.length,gt=ee.audio||ee.video?new x.default(F.default.DATA_UPDATE_FAILED_ERROR_CODE,F.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Ft=0;Ft<Ve;Ft++)if(ge[Ft].isUpdating()||z)return;if(le){le.clearMediaInfoArray();for(var Ct=0;Ct<Ve&&ge[Ct];Ct++){var $e=ge[Ct].getType(),mt=ge[Ct].getMediaInfo();if($e===B.default.AUDIO||$e===B.default.VIDEO||$e===B.default.TEXT&&mt.isFragmented){var Rt=ge[Ct].getMediaInfo();Rt&&le.initializeForMedia(Rt)}}le.handleKeySystemFromManifest()}gt?ce.error(gt):fe||(fe=!0,Ee.waitForReadyState(B.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){I.trigger(y.default.STREAM_INITIALIZED,{streamInfo:Z})}))}function Mt(){var Ve=Vn(),Ze=Ve.length;if(0!==Ze){for(var gt=0;gt<Ze;gt++)if(!Ve[gt].isBufferingCompleted()&&(Ve[gt].getType()===B.default.AUDIO||Ve[gt].getType()===B.default.VIDEO))return void _e.debug("onBufferingCompleted - One streamProcessor has finished but",Ve[gt].getType(),"one is not buffering completed");_e.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),X=!0,I.trigger(y.default.STREAM_BUFFERING_COMPLETED,{streamInfo:Z},{streamInfo:Z})}else _e.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function It(Ve){ee[Ve.mediaType]=Ve.error,et()}function Vt(Ve){ie&&ie.addInbandEvents(Ve.events,Z.id)}function pn(Ve){return Ve&&Ve.type?rn(Ve.type):null}function rn(Ve){return Ve?Vn().filter(function(gt){return gt.getType()===Ve})[0]:null}function Vn(){for(var Ze,gt,Ve=[],Ft=0;Ft<ge.length;Ft++)((Ze=(gt=ge[Ft]).getType())===B.default.AUDIO||Ze===B.default.VIDEO||Ze===B.default.TEXT)&&Ve.push(gt);return Ve}function je(Ve,Ze){var gt=Me(),Ft=Ze.getStreamInfo();if(!Ft||!gt)return!0;var Ct=$.getAdaptationForType(Ft.index,Ve,Ft),$e=$.getAdaptationForType(gt.index,Ve,gt);return Ct&&$e?!(!ze($e)&&ze(Ct)):!Ct&&!$e}function ze(Ve){return!!Ve&&!!(Ve.ContentProtection||Ve.Representation&&Ve.Representation.length>0&&Ve.Representation[0].ContentProtection)}function nt(Ve,Ze){var gt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Ve||!Ve.hasOwnProperty("getStreamInfo"))return!1;var Ft=Ve.getStreamInfo(),Ct=gt?gt.getStreamInfo():Me();if(!Ft||!Ct)return!1;var $e=$.getAdaptationForType(Ft.index,Ze,Ft),mt=$.getAdaptationForType(Ct.index,Ze,Ct);if(!$e||!mt)return!$e&&!mt;var Rt=$e&&mt&&$e.mimeType===mt.mimeType,cn=mt.Representation_asArray.map(function($n){return $n.codecs}),Jt=$e.Representation_asArray.map(function($n){return $n.codecs}),Wt=Jt.some(function($n){return cn.indexOf($n)>-1}),Gn=Jt.some(function($n){return cn.some(function(pt){return ue.codecRootCompatibleWithCodec(pt,$n)})});return Wt||Gn&&Rt}function wt(Ve){j=Ve}function tn(){return j}return re={initialize:function V(){(function K(){I.on(y.default.BUFFERING_COMPLETED,Mt,re),I.on(y.default.DATA_UPDATE_COMPLETED,It,re),I.on(y.default.INBAND_EVENTS,Vt,re)})(),function J(){le&&(I.on(y.default.KEY_ERROR,vt,re),I.on(y.default.SERVER_CERTIFICATE_UPDATED,vt,re),I.on(y.default.LICENSE_REQUEST_COMPLETE,vt,re),I.on(y.default.KEY_SYSTEM_SELECTED,vt,re),I.on(y.default.KEY_SESSION_CREATED,vt,re),I.on(y.default.KEY_STATUSES_CHANGED,vt,re))}(),de.initializeForStream(Z),I.trigger(y.default.STREAM_UPDATED,{streamInfo:Z})},getStreamId:function Ae(){return Z?Z.id:null},activate:function be(Ve,Ze){return new Promise(function(gt,Ft){if(!ve)return tn()?(ve=!0,I.trigger(y.default.STREAM_ACTIVATED,{streamInfo:Z}),void gt(Ze)):void function Ie(Ve,Ze){return De(Ve,Ze)}(Ve,Ze).then(function(Ct){ve=!0,I.trigger(y.default.STREAM_ACTIVATED,{streamInfo:Z}),gt(Ct)}).catch(function(Ct){Ft(Ct)});gt(Ze)})},deactivate:Et,getIsActive:function Lt(){return ve},getDuration:function an(){return Z?Z.duration:NaN},getStartTime:Tt,getId:Le,getStreamInfo:Me,getHasAudioTrack:function Ue(){return se},getHasVideoTrack:function Ye(){return ye},startPreloading:function xe(Ve,Ze){return new Promise(function(gt,Ft){tn()?Ft():(_e.info("[startPreloading] Preloading next stream with id ".concat(Le())),wt(!0),De(Ve,Ze).then(function(){for(var Ct=0;Ct<ge.length&&ge[Ct];Ct++)ge[Ct].setExplicitBufferingTime(Tt()),ge[Ct].getScheduleController().startScheduleTimer();gt()}).catch(function(){wt(!1),Ft()}))})},getThumbnailController:function st(){return O},getBitrateListFor:function lt(Ve){if(it(),Ve===B.default.IMAGE)return O?O.getBitrateList():[];var Ze=function dt(Ve){for(var Ze=null,gt=0;gt<ge.length;gt++)if((Ze=ge[gt]).getType()===Ve)return Ze.getMediaInfo();return null}(Ve);return ne.getBitrateList(Ze)},updateData:function Oe(Ve){return new Promise(function(Ze){z=!0,Z=Ve,ie&&Xe();for(var gt=[],Ft=0,Ct=ge.length;Ft<Ct;Ft++){var $e=ge[Ft],mt=$e.getMediaInfo();gt.push($e.updateStreamInfo(Z));var Rt=$.getAllMediaInfoForType(Z,$e.getType());if(Rt){$e.clearMediaInfoArray();for(var cn=0;cn<Rt.length;cn++){var Jt=Rt[cn];$e.addMediaInfo(Rt[cn]),$.areMediaInfosEqual(mt,Jt)&&(ne.updateTopQualityIndex(Jt),gt.push($e.selectMediaInfo(Jt)))}}}Promise.all(gt).then(function(){for(gt=[];me.length>0;){var Wt=me.pop(),Gn=Wt.newMediaInfo,$n=pn(Wt.oldMediaInfo);if(!$n)return;gt.push($n.prepareTrackSwitch()),$n.selectMediaInfo(Gn)}return Promise.all(gt)}).then(function(){z=!1,et(),I.trigger(y.default.STREAM_UPDATED,{streamInfo:Z}),Ze()})})},reset:function en(Ve){D&&(D.reset(),D=null),ne&&Z&&ne.clearDataForStream(Z.id),H&&(H.reset(),H=null),kt(Ve),Z=null,function te(){I.off(y.default.DATA_UPDATE_COMPLETED,It,re),I.off(y.default.BUFFERING_COMPLETED,Mt,re),I.off(y.default.INBAND_EVENTS,Vt,re)}(),function he(){le&&(I.off(y.default.KEY_ERROR,vt,re),I.off(y.default.SERVER_CERTIFICATE_UPDATED,vt,re),I.off(y.default.LICENSE_REQUEST_COMPLETE,vt,re),I.off(y.default.KEY_SYSTEM_SELECTED,vt,re),I.off(y.default.KEY_SESSION_CREATED,vt,re),I.off(y.default.KEY_STATUSES_CHANGED,vt,re))}()},getProcessors:Vn,setMediaSource:function Bt(Ve){for(var Ze=0;Ze<ge.length;)Ce(ge[Ze].getMediaInfo())?(ge[Ze].setMediaSource(Ve),Ze++):(ge[Ze].reset(),ge.splice(Ze,1));if(0===ge.length){var gt="No streams to play.";ce.error(new x.default(F.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,gt+"nostreams",A.getValue())),_e.fatal(gt)}},isMediaCodecCompatible:function Je(Ve){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return nt(Ve,B.default.VIDEO,Ze)&&nt(Ve,B.default.AUDIO,Ze)},isProtectionCompatible:function Dt(Ve){return!Ve||je(B.default.VIDEO,Ve)&&je(B.default.AUDIO,Ve)},getPreloaded:tn,getIsEndedEventSignaled:function Qt(){return Re},setIsEndedEventSignaled:ut,getAdapter:function qe(){return $},getHasFinishedBuffering:function We(){return X},setPreloaded:wt,startScheduleControllers:function Kn(){for(var Ve=ge.length,Ze=0;Ze<Ve&&ge[Ze];Ze++)ge[Ze].getScheduleController().startScheduleTimer()},prepareTrackChange:function ht(Ve){if(ve&&Z){X=!1;var Ze=Ve.newMediaInfo,gt=A.getValue();$.setCurrentMediaInfo(Z.id,Ze.type,Ze);var Ft=pn(Ze);if(Ft){var Ct=U.getTime();_e.info("Stream -  Process track changed at current time "+Ct),gt.refreshManifestOnSwitchTrack?(me.push(Ve),W.getIsUpdating()||(_e.debug("Stream -  Refreshing manifest for switch track"),W.refreshManifest())):Ft.selectMediaInfo(Ze).then(function(){(Ze.type===B.default.VIDEO||Ze.type===B.default.AUDIO)&&ne.updateTopQualityIndex(Ze),Ft.prepareTrackSwitch()})}}},prepareQualityChange:function Be(Ve){var Ze=rn(Ve.mediaType);Ze&&Ze.prepareQualityChange(Ve)}},function G(){try{Te=Object(E.default)(C).getInstance(),_e=Te.getLogger(re),kt(),oe=Object(_.default)(C).getInstance(),H=Object(f.default)(C).create({updateEventName:y.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:y.default.SEGMENT_LOCATION_BLACKLIST_ADD}),D=Object(S.default)(C).create({streamInfo:Z,mediaPlayerModel:p,dashMetrics:w,errHandler:ce,settings:pe,boxParser:oe,dashConstants:T.default,urlUtils:R})}catch(Ve){throw Ve}}(),re}d.__dashjs_factory_name="Stream",k.default=P.default.getClassFactory(d)},"./src/streaming/StreamProcessor.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/dash/constants/DashConstants.js"),M=c("./src/streaming/constants/MetricsConstants.js"),S=c("./src/streaming/models/FragmentModel.js"),b=c("./src/streaming/controllers/BufferController.js"),h=c("./src/streaming/text/NotFragmentedTextBufferController.js"),y=c("./src/streaming/controllers/ScheduleController.js"),E=c("./src/dash/controllers/RepresentationController.js"),F=c("./src/core/FactoryMaker.js"),P=c("./src/streaming/utils/SupervisorTools.js"),x=c("./src/core/EventBus.js"),_=c("./src/core/events/Events.js"),m=c("./src/dash/DashHandler.js"),f=c("./src/core/errors/Errors.js"),v=c("./src/streaming/vo/DashJSError.js"),d=c("./src/core/Debug.js"),L=c("./src/streaming/utils/RequestModifier.js"),C=c("./src/streaming/utils/URLUtils.js"),I=c("./src/streaming/utils/BoxParser.js"),R=c("./src/streaming/vo/metrics/PlayList.js"),A=c("./src/dash/controllers/SegmentsController.js"),p=c("./src/streaming/vo/metrics/HTTPRequest.js");function w(W){W=W||{};var ye,se,ee,z,D,O,H,j,oe,Te,Re,me,G,$=this.context,Q=Object(x.default)($).getInstance(),ue=W.streamInfo,ce=W.type,ne=W.errHandler,U=W.mimeType,ie=W.timelineConverter,q=W.adapter,le=W.manifestModel,de=W.mediaPlayerModel,Ee=W.fragmentModel,Z=W.abrController,pe=W.playbackController,re=W.mediaController,_e=W.textController,ge=W.dashMetrics,fe=W.settings,ve=W.boxParser,X=W.segmentBlacklistController;function te(){return ue.id}function J(){return ce}function he(){return q.getIsTextTrack(j.getData())}function Ae(){D=[],z=null,G=0,oe=!1,Te=!1}function Fe($e){var mt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if($e.sender){if(pe.getIsManifestUpdateInProgress())return void Bt();if((!he()||_e.isTextEnabled())&&O&&$e.representationId&&!O.appendInitSegmentFromCache($e.representationId)){var Rt=j.getCurrentRepresentation();if(0===Rt.range)return void Ce();var cn=Re?Re.getInitRequest(z,Rt):null;cn?Ee.executeRequest(cn):mt&&(H.setInitSegmentRequired(!0),Bt())}}}function Ce($e){var mt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(pe.getIsManifestUpdateInProgress()||O.getIsPruningInProgress())Bt();else{var Rt=Lt();Rt?(oe=!1,Qe(Rt)):tt(mt)}}function Qe($e){isNaN($e.startTime+$e.duration)||(G=$e.startTime+$e.duration),$e.delayLoadingTime=(new Date).getTime()+H.getTimeToLoadDelay(),H.setTimeToLoadDelay(0),function Et($e){var mt=$e.url;return $e.range&&(mt=mt.concat("_",$e.range)),X.contains(mt)}($e)?(se.warn("Fragment request url ".concat($e.url," for stream id ").concat(ue.id," and media type ").concat(ce," is on the ignore list and will be skipped")),Bt()):(se.debug("Next fragment request url for stream id ".concat(ue.id," and media type ").concat(ce," is ").concat($e.url)),Ee.executeRequest($e))}function tt($e){var Rt,mt=j.getCurrentRepresentation();if(!fe.get().streaming.gaps.enableSeekFix||!oe&&0!==pe.getTime()||(ee?ee&&mt.segmentInfoType===T.default.SEGMENT_TIMELINE&&(Rt=Re.getValidTimeAheadOfTargetTime(G,z,mt,fe.get().streaming.gaps.threshold)):Rt=Re.getValidTimeAheadOfTargetTime(G,z,mt,fe.get().streaming.gaps.threshold),isNaN(Rt)||Rt===G)){if(Re.isLastSegmentRequested(mt,G)){var Jt=Re.getCurrentIndex();return se.debug("Segment requesting for stream ".concat(ue.id," has finished")),Q.trigger(_.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:Jt},{streamId:ue.id,mediaType:ce}),O.segmentRequestingCompleted(Jt),void H.clearScheduleTimer()}$e&&Bt()}else pe.isSeeking()||0===pe.getTime()?(se.warn("Adjusting playback time ".concat(Rt," because of gap in the manifest. Seeking by ").concat(Rt-G)),pe.seek(Rt,!1,!1)):(se.warn("Adjusting buffering time ".concat(Rt," because of gap in the manifest. Adjusting time by ").concat(Rt-G)),Ft(Rt),$e&&Bt())}function Lt(){var mt,$e=Je();if(isNaN(G)||J()===B.default.TEXT&&!_e.isTextEnabled())return null;var Rt=oe;if(Re){var cn=j&&$e?j.getRepresentationForQuality($e.quality):null;mt=Rt?Re.getSegmentRequestForTime(z,cn,G):Re.getNextSegmentRequest(z,cn)}return mt}function Bt(){H.startScheduleTimer(pe.getLowLatencyModeEnabled()?fe.get().streaming.scheduling.lowLatencyTimeout:fe.get().streaming.scheduling.defaultTimeout)}function kt($e){$e.error||(H.setCurrentRepresentation(q.convertRepresentationToRepresentationInfo($e.currentRepresentation)),O.getIsBufferingCompleted()||O.updateBufferTimestampOffset($e.currentRepresentation))}function en($e){ge.addBufferState(ce,$e.state,H.getBufferTarget()),$e.state===M.default.BUFFER_EMPTY&&!pe.isSeeking()&&(se.info("Buffer is empty! Stalling!"),ge.pushPlayListTraceMetrics(new Date,R.PlayListTrace.REBUFFERING_REASON))}function an($e){Ee.syncExecutedRequestsWithBufferedRange(O.getBuffer().getAllBufferRanges(),ue.duration),$e.quotaExceeded&&$e.from>pe.getTime()&&Ft($e.from),$e.hasEnoughSpaceToAppend&&$e.quotaExceeded&&H.startScheduleTimer()}function Qt($e){if($e&&$e.lastRequestAppended&&$e.lastRequestAppended.url){var mt=$e.lastRequestAppended.url;$e.lastRequestAppended.range&&(mt=mt.concat("_",$e.lastRequestAppended.range)),se.warn("Blacklisting segment with url ".concat(mt)),X.add(mt)}}function Me(){Ve(),Te=!1}function Ue($e){se.info("onFragmentLoadingAbandoned request: "+$e.request.url+" has been aborted"),!pe.isSeeking()&&!H.getSwitchStrack()&&!Te&&(se.info("onFragmentLoadingAbandoned request: "+$e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),$e.request&&$e.request.isInitializationRequest()?H.setInitSegmentRequired(!0):Ft($e.request.startTime+$e.request.duration/2),H.startScheduleTimer(0))}function Ye($e){se.info("OnFragmentLoadingCompleted for stream id "+ue.id+" and media type "+ce+" - Url:",$e.request?$e.request.url:"undefined",$e.request.range?", Range:"+$e.request.range:""),he()&&H.startScheduleTimer(0),$e.error&&$e.request.serviceLocation&&function st($e){se.info("Fragment loading completed with an error"),$e&&$e.request&&$e.request.type&&($e.request.type===p.HTTPRequest.INIT_SEGMENT_TYPE?Fe({representationId:$e.request.representationId,sender:{}},!1):$e.request.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Ft($e.request.startTime+$e.request.duration/2),Ce({},!1)))}($e)}function it(){Ft(pe.getTime()),Oe().startScheduleTimer()}function lt($e){var mt=$e.currentTrackInfo;if(mt){var Rt=D.find(function(cn){return cn.index===mt.index&&cn.lang===mt.lang});Rt&&It(Rt).then(function(){O.setIsBufferingCompleted(!1),Ft(pe.getTime()),H.setInitSegmentRequired(!0),H.startScheduleTimer()})}}function vt($e){Ft($e.quotaExceededTime),H.clearScheduleTimer()}function Be(){return O?O.getBuffer():null}function It($e){$e!==z&&(!$e||!z||$e.type===z.type)&&(z=$e);var mt=q.getRealAdaptation(ue,z),Rt=q.getVoRepresentations(z);if(j){var Gn,cn=j.getData(),Jt=Z.getMaxAllowedIndexFor(ce,ue.id),Wt=Z.getMinAllowedIndexFor(ce,ue.id),pt=null;return null!==cn&&cn.id===mt.id||ce===B.default.TEXT?Gn=Z.getQualityFor(ce,ue.id):(pt=Z.getThroughputHistory().getAverageThroughput(ce,ee)||Z.getInitialBitrateFor(ce,ue.id),Gn=Z.getQualityForBitrate(z,pt,ue.id)),void 0!==Wt&&Gn<Wt&&(Gn=Wt),Gn>Jt&&(Gn=Jt),j.updateData(mt,Rt,ce,z.isFragmented,Gn)}return Promise.resolve()}function Oe(){return H}function Je($e){var mt;return void 0!==$e?(Object(P.checkInteger)($e),mt=j?j.getRepresentationForQuality($e):null):mt=j?j.getCurrentRepresentation():null,q.convertRepresentationToRepresentationInfo(mt)}function Dt(){return!!O&&O.getIsBufferingCompleted()}function nt($e){var mt=$e.chunk,Rt=mt.bytes,cn=mt.quality,Jt=Je(cn),Wt=j&&Jt?j.getRepresentationForQuality(Jt.quality):null;if(Jt&&Wt){var Gn=q.getEventsFor(Jt.mediaInfo,null,ue),$n=q.getEventsFor(Jt,Wt,ue);if(Gn&&Gn.length>0||$n&&$n.length>0){var Ii=function wt($e,mt,Rt,cn){try{for(var Jt={},Wt=[],Gn=Rt.concat(cn),$n=0,pt=Gn.length;$n<pt;$n++)Jt[Gn[$n].schemeIdUri+"/"+Gn[$n].value]=Gn[$n];var Ii=Object(I.default)($).getInstance().parse($e),nn=Ii.getBoxes("emsg");if(!nn||0===nn.length)return Wt;for(var En=Ii.getBox("sidx"),Io=!En||isNaN(En.earliest_presentation_time)||isNaN(En.timescale)?mt&&!isNaN(mt.mediaStartTime)?mt.mediaStartTime:0:En.earliest_presentation_time/En.timescale,ia=Math.max(Io,0),Ds=j.getCurrentRepresentation(),Ri=0,Tr=nn.length;Ri<Tr;Ri++){var Ss=q.getEvent(nn[Ri],Jt,ia,Ds);Ss&&Wt.push(Ss)}return Wt}catch{return[]}}(Rt,Ee.getRequests({state:S.default.FRAGMENT_MODEL_EXECUTED,quality:cn,index:mt.index})[0],Gn,$n);Q.trigger(_.default.INBAND_EVENTS,{events:Ii},{streamId:ue.id})}}}function qe(){var $e=pe.getTime();fe.get().streaming.buffer.flushBufferAtTrackSwitch&&pe.seek($e+.001,!1,!0),Ft($e),O.setSeekTarget($e),H.startScheduleTimer()}function Ve(){var $e=pe.getTime(),mt=O.getContinuousBufferTimeForTargetTime($e);Ft(isNaN(mt)?$e:mt),H.startScheduleTimer()}function gt($e){$e&&!isNaN($e.time)&&(Ft($e.time),O.setSeekTarget($e.time))}function Ft($e){G=$e,oe=!0}return ye={initialize:function K($e,mt,Rt){me=Object(A.default)($).create({events:_.default,eventBus:Q,streamInfo:ue,timelineConverter:ie,dashConstants:T.default,segmentBaseController:W.segmentBaseController,type:ce}),(Re=Object(m.default)($).create({streamInfo:ue,type:ce,timelineConverter:ie,dashMetrics:ge,mediaPlayerModel:de,baseURLController:W.baseURLController,errHandler:ne,segmentsController:me,settings:fe,boxParser:ve,events:_.default,eventBus:Q,errors:f.default,debug:Object(d.default)($).getInstance(),requestModifier:Object(L.default)($).getInstance(),dashConstants:T.default,constants:B.default,urlUtils:Object(C.default)($).getInstance()})).initialize(ee=ue.manifestInfo.isDynamic),Z.registerStreamType(ce,ye),j=Object(E.default)($).create({streamInfo:ue,type:ce,abrController:Z,dashMetrics:ge,playbackController:pe,timelineConverter:ie,dashConstants:T.default,events:_.default,eventBus:Q,errors:f.default,isDynamic:ee,segmentsController:me}),(O=function Ze($e,mt){return $e?$e!==B.default.TEXT||mt?Object(b.default)($).create({streamInfo:ue,type:$e,mediaPlayerModel:de,manifestModel:le,fragmentModel:Ee,errHandler:ne,mediaController:re,representationController:j,adapter:q,textController:_e,abrController:Z,playbackController:pe,settings:fe}):Object(h.default)($).create({streamInfo:ue,type:$e,mimeType:U,fragmentModel:Ee,textController:_e,errHandler:ne,settings:fe}):(ne.error(new v.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(ce,Rt))&&O.initialize($e),(H=Object(y.default)($).create({streamInfo:ue,type:ce,mimeType:U,adapter:q,dashMetrics:ge,mediaPlayerModel:de,fragmentModel:Ee,abrController:Z,playbackController:pe,textController:_e,mediaController:re,bufferController:O,settings:fe})).initialize(mt),G=0,oe=!1},getStreamId:te,getType:J,isUpdating:function Ie(){return!!j&&j.isUpdating()},getBufferController:function Xe(){return O},getFragmentModel:function et(){return Ee},getScheduleController:Oe,getRepresentationController:function ht(){return j},getRepresentationInfo:Je,getBufferLevel:function je(){return O?O.getBufferLevel():0},isBufferingCompleted:Dt,createBufferSinks:function tn($e){var mt=Be();return mt?Promise.resolve(mt):O?O.createBufferSink(z,$e):Promise.resolve(null)},updateStreamInfo:function dt($e){return ue=$e,Dt()?Promise.resolve():O.updateAppendWindow()},getStreamInfo:function Mt(){return ue},selectMediaInfo:It,clearMediaInfoArray:function pn(){D=[]},addMediaInfo:function Vt($e){-1===D.indexOf($e)&&D.push($e)},prepareTrackSwitch:function We(){return new Promise(function($e){se.debug("Preparing track switch for type ".concat(ce));var mt=ce===B.default.TEXT||fe.get().streaming.trackSwitchMode[ce]===B.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&pe.getTimeToStreamEnd(ue)>fe.get().streaming.buffer.stallThreshold;if(O.getIsBufferingCompleted()&&!mt)return O.prepareForNonReplacementTrackSwitch(z.codec).then(function(){Q.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:ue.id,mediaType:ce})}).catch(function(){Q.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:ue.id,mediaType:ce})}),void $e();H.clearScheduleTimer(),H.setSwitchTrack(!0),mt?(Q.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:ce,streamId:ue.id},{mediaType:ce,streamId:ue.id}),Ee.abortRequests(),O.prepareForReplacementTrackSwitch(z.codec).then(function(){var Rt=Je();return O.updateBufferTimestampOffset(Rt)}).then(function(){qe(),$e()}).catch(function(){qe(),$e()})):O.prepareForNonReplacementTrackSwitch(z.codec).then(function(){Ve(),$e()}).catch(function(){Ve(),$e()})})},prepareQualityChange:function ut($e){se.debug("Preparing quality switch for type ".concat(ce));var mt=$e.newQuality;Te=!0,H.clearScheduleTimer();var Rt=Je(mt);H.setCurrentRepresentation(Rt),j.prepareQualityChange(mt),Ee.abortRequests(),O.updateBufferTimestampOffset(Rt).then(function(){$e.reason&&$e.reason.forceReplace?function Tt(){Q.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:ce,streamId:ue.id},{mediaType:ce,streamId:ue.id}),O.prepareForReplacementQualitySwitch().then(function(){qe(),Te=!1}).catch(function(){qe(),Te=!1})}():fe.get().streaming.buffer.fastSwitchEnabled?function Le($e){var mt=pe.getTime(),Rt=1.5*(isNaN($e.fragmentDuration)?1:$e.fragmentDuration),cn=Ee.getRequests({state:S.default.FRAGMENT_MODEL_EXECUTED,time:mt+Rt,threshold:0})[0];if(cn&&!he()){var Jt=O.getBufferLevel(),Wt=Z.getAbandonmentStateFor(ue.id,ce);cn.quality<$e.quality&&Jt>=Rt&&Wt!==M.default.ABANDON_LOAD?(Ft(mt+Rt),H.setCheckPlaybackQuality(!1),H.startScheduleTimer()):Me()}else H.startScheduleTimer();Te=!1}(Rt):Me(),ge.pushPlayListTraceMetrics(new Date,R.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),ge.createPlaylistTraceMetrics(Rt.id,1e3*pe.getTime(),pe.getPlaybackRate())})},getMediaInfo:function rn(){return z},getMediaSource:function Vn(){return O.getMediaSource()},setMediaSource:function Kn($e){O.setMediaSource($e)},getBuffer:Be,setExplicitBufferingTime:Ft,finalisePlayList:function Ct($e,mt){ge.pushPlayListTraceMetrics($e,mt)},probeNextRequest:function ze(){var $e=Je(),mt=j&&$e?j.getRepresentationForQuality($e.quality):null;return Re.getNextSegmentRequestIdempotent(z,mt)},prepareInnerPeriodPlaybackSeeking:function xe($e){return new Promise(function(mt){H.clearScheduleTimer(),Ee.abortRequests(),O.prepareForPlaybackSeek().then(function(){var Rt=O.getAllRangesWithSafetyFactor($e.seekTime);return O.clearBuffers(Rt)}).then(function(){var Rt=O.getContinuousBufferTimeForTargetTime($e.seekTime);if(!isNaN(Rt)&&!isNaN(ue.duration)&&isFinite(ue.duration)&&Rt>=ue.start+ue.duration)O.setIsBufferingCompleted(!0),mt();else{var cn=isNaN(Rt)?$e.seekTime:Rt;Ft(cn),O.setSeekTarget(cn);var Jt=[];Jt.push(O.updateAppendWindow());var Wt=Je();Jt.push(O.updateBufferTimestampOffset(Wt)),Promise.all(Jt).then(function(){H.setInitSegmentRequired(!0),H.setCheckPlaybackQuality(!1),H.startScheduleTimer(),mt()})}}).catch(function(Rt){se.error(Rt)})})},prepareOuterPeriodPlaybackSeeking:function De(){return new Promise(function($e,mt){try{H.clearScheduleTimer(),Ee.abortRequests(),O.prepareForPlaybackSeek().then(function(){return O.pruneAllSafely()}).then(function(){$e()})}catch(Rt){mt(Rt)}})},reset:function be($e,mt){Re&&Re.reset(),O&&(O.reset($e,mt),O=null),H&&(H.reset(),H=null),j&&(j.reset(),j=null),me&&(me=null),Z&&Z.unRegisterStreamType(te(),ce),Q.off(_.default.DATA_UPDATE_COMPLETED,kt,ye),Q.off(_.default.INIT_FRAGMENT_NEEDED,Fe,ye),Q.off(_.default.MEDIA_FRAGMENT_NEEDED,Ce,ye),Q.off(_.default.MEDIA_FRAGMENT_LOADED,nt,ye),Q.off(_.default.BUFFER_LEVEL_STATE_CHANGED,en,ye),Q.off(_.default.BUFFER_CLEARED,an,ye),Q.off(_.default.SEEK_TARGET,gt,ye),Q.off(_.default.FRAGMENT_LOADING_ABANDONED,Ue,ye),Q.off(_.default.FRAGMENT_LOADING_COMPLETED,Ye,ye),Q.off(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,it,ye),Q.off(_.default.SET_NON_FRAGMENTED_TEXT,lt,ye),Q.off(_.default.QUOTA_EXCEEDED,vt,ye),Q.off(_.default.SOURCE_BUFFER_ERROR,Qt,ye),Ae(),ce=null,ue=null}},function V(){se=Object(d.default)($).getInstance().getLogger(ye),Ae(),Q.on(_.default.DATA_UPDATE_COMPLETED,kt,ye,{priority:x.default.EVENT_PRIORITY_HIGH}),Q.on(_.default.INIT_FRAGMENT_NEEDED,Fe,ye),Q.on(_.default.MEDIA_FRAGMENT_NEEDED,Ce,ye),Q.on(_.default.MEDIA_FRAGMENT_LOADED,nt,ye),Q.on(_.default.BUFFER_LEVEL_STATE_CHANGED,en,ye),Q.on(_.default.BUFFER_CLEARED,an,ye),Q.on(_.default.SEEK_TARGET,gt,ye),Q.on(_.default.FRAGMENT_LOADING_ABANDONED,Ue,ye),Q.on(_.default.FRAGMENT_LOADING_COMPLETED,Ye,ye),Q.on(_.default.QUOTA_EXCEEDED,vt,ye),Q.on(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,it,ye),Q.on(_.default.SET_NON_FRAGMENTED_TEXT,lt,ye),Q.on(_.default.SOURCE_BUFFER_ERROR,Qt,ye)}(),ye}w.__dashjs_factory_name="StreamProcessor",k.default=F.default.getClassFactory(w)},"./src/streaming/XlinkLoader.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/vo/DashJSError.js"),T=c("./src/streaming/net/URLLoader.js"),M=c("./src/streaming/vo/metrics/HTTPRequest.js"),S=c("./src/streaming/vo/TextRequest.js"),b=c("./src/core/EventBus.js"),h=c("./src/core/events/Events.js"),y=c("./src/core/FactoryMaker.js"),E=c("./src/core/errors/Errors.js");function F(P){P=P||{};var _=this.context,m=Object(b.default)(_).getInstance(),f=Object(T.default)(_).create({errHandler:P.errHandler,dashMetrics:P.dashMetrics,mediaPlayerModel:P.mediaPlayerModel,requestModifier:P.requestModifier,errors:E.default});return{load:function d(C,I,R){var A=function(W,$){I.resolved=!0,I.resolvedContent=W||null,m.trigger(h.default.XLINK_ELEMENT_LOADED,{element:I,resolveObject:R,error:W||$?null:new B.default(E.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,E.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+C)})};if("urn:mpeg:dash:resolve-to-zero:2013"===C)A(null,!0);else{var p=new S.default(C,M.HTTPRequest.XLINK_EXPANSION_TYPE);f.load({request:p,success:function(W){A(W)},error:function(){A(null)}})}},reset:function L(){f&&(f.abort(),f=null)}}}F.__dashjs_factory_name="XlinkLoader",k.default=y.default.getClassFactory(F)},"./src/streaming/constants/ConformanceViolationConstants.js":function(we,k,c){"use strict";c.r(k),k.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":function(we,k,c){"use strict";function T(h,y){for(var E=0;E<y.length;E++){var F=y[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}c.r(k);var b=new(function(){function h(){(function B(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function M(h,y,E){return y&&T(h.prototype,y),E&&T(h,E),h}(h,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),h}());k.default=b},"./src/streaming/constants/MetricsConstants.js":function(we,k,c){"use strict";function T(h,y){for(var E=0;E<y.length;E++){var F=y[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}c.r(k);var b=new(function(){function h(){(function B(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function M(h,y,E){return y&&T(h.prototype,y),E&&T(h,E),h}(h,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),h}());k.default=b},"./src/streaming/constants/ProtectionConstants.js":function(we,k,c){"use strict";function T(h,y){for(var E=0;E<y.length;E++){var F=y[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}c.r(k);var b=new(function(){function h(){(function B(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function M(h,y,E){return y&&T(h.prototype,y),E&&T(h,E),h}(h,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),h}());k.default=b},"./src/streaming/controllers/AbrController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/rules/abr/ABRRulesCollection.js"),T=c("./src/streaming/constants/Constants.js"),M=c("./src/streaming/constants/MetricsConstants.js"),S=c("./src/streaming/vo/BitrateInfo.js"),b=c("./src/streaming/models/FragmentModel.js"),h=c("./src/core/EventBus.js"),y=c("./src/core/events/Events.js"),E=c("./src/core/FactoryMaker.js"),F=c("./src/streaming/rules/RulesContext.js"),P=c("./src/streaming/rules/SwitchRequest.js"),x=c("./src/streaming/rules/SwitchRequestHistory.js"),_=c("./src/streaming/rules/DroppedFramesHistory.js"),m=c("./src/streaming/rules/ThroughputHistory.js"),f=c("./src/core/Debug.js"),v=c("./src/streaming/vo/metrics/HTTPRequest.js"),d=c("./src/streaming/utils/SupervisorTools.js"),L=c("./src/streaming/MediaPlayerEvents.js");function A(){var Q,ue,ce,ne,U,ie,q,le,de,Ee,Z,pe,re,_e,ge,fe,ve,X,ye,se,ee,z,D,O,H,j,w=this.context,W=Object(f.default)(w).getInstance(),$=Object(h.default)(w).getInstance();function V(){U={},ie={},le={},q={},ye={},z={},D={},O={},void 0===Ee&&(Ee=!1),se&&se.reset(),X=void 0,se=void 0,ee=void 0,clearTimeout(de),de=null}function he(Be){var Xe=Be.request.mediaType,et=Be.streamId;if(Xe&&et&&q[et]&&j.get().streaming.abr.autoSwitchBitrate[Xe]){var dt=q[et][Xe];if(dt){var Mt=Object(F.default)(w).create({abrController:Q,streamProcessor:dt,currentRequest:Be.request,useBufferOccupancyABR:z[Xe],useL2AABR:D[Xe],useLoLPABR:O[Xe],videoModel:_e}),It=ce.shouldAbandonFragment(Mt,et);It.quality>P.default.NO_CHANGE&&dt.getFragmentModel().getRequests({state:b.default.FRAGMENT_MODEL_LOADING,index:Be.request.index})[0]&&(le[et][Xe].state=M.default.ABANDON_LOAD,ye[et][Xe].reset(),ye[et][Xe].push({oldValue:kt(Xe,et),newValue:It.quality,confidence:1,reason:It.reason}),en(Xe,ne.getActiveStreamInfo(),It.quality,It.reason),clearTimeout(de),de=setTimeout(function(){le[et][Xe].state=M.default.ALLOW_LOAD,de=null},j.get().streaming.abandonLoadTimeout))}}}function Ae(Be){Be.mediaType===T.default.VIDEO&&(void 0!==X&&se.push(Be.streamId,X,_e.getPlaybackQuality()),X=Be.newQuality)}function be(Be){Be.metric===M.default.HTTP_REQUEST&&Be.value&&Be.value.type===v.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Be.mediaType===T.default.AUDIO||Be.mediaType===T.default.VIDEO)&&ee.push(Be.mediaType,Be.value,j.get().streaming.abr.useDeadTimeLatency),Be.metric===M.default.BUFFER_LEVEL&&(Be.mediaType===T.default.AUDIO||Be.mediaType===T.default.VIDEO)&&function Me(Be,Xe){j.get().streaming.abr.ABRStrategy===T.default.ABR_STRATEGY_DYNAMIC&&function Ue(Be,Xe){try{var et=ge.getStableBufferTime(),It=z[Be],Vt=Xe>(It?.5*et:et);z[Be]=Vt,Vt!==It&&ue.info(Vt?"["+Be+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Xe.toFixed(3)+").":"["+Be+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Xe.toFixed(3)+").")}catch(pn){ue.error(pn)}}(Be,Xe)}(Be.mediaType,.001*Be.value.level)}function Ie(Be,Xe){try{return U[Xe]=U[Xe]||{},U[Xe].hasOwnProperty(Be)||(U[Xe][Be]=0),function tt(Be,Xe,et){if(Xe!==T.default.VIDEO||!j.get().streaming.abr.limitBitrateByPortal||!q[et]||!q[et][Xe])return Be;Ee||vt();var dt=q[et][Xe].getStreamInfo(),Mt=re.getAdaptationForType(dt.index,Xe,dt).Representation_asArray,It=Be;if(Z>0&&pe>0){for(;It>0&&Mt[It]&&Z<Mt[It].width&&Z-Mt[It-1].width<Mt[It].width-Z;)It-=1;for(;It<Mt.length-1&&Mt[It].width===Mt[It+1].width;)It+=1}return It}(function Qe(Be,Xe,et){var dt=U[et][Xe],Mt=j.get().streaming.abr.maxRepresentationRatio[Xe];return isNaN(Mt)||Mt>=1||Mt<0?Be:Math.min(Be,Math.round(dt*Mt))}(function Ce(Be,Xe){var et=U[Xe][Be],dt=et;if(!q[Xe]||!q[Xe][Be])return dt;var Mt=xe(Be,Xe);void 0!==Mt&&(dt=Math.max(et,Mt));var It=function De(Be,Xe){try{var et=ge.getAbrBitrateParameter("maxBitrate",Be);return et>-1?Tt(q[Xe][Be].getMediaInfo(),et,Xe):void 0}catch{return}}(Be,Xe);return void 0!==It&&(dt=Math.min(dt,It)),dt}(Be,Xe),Be,Xe),Be,Xe)}catch{return}}function xe(Be,Xe){try{return function Fe(Be,Xe){try{var et=ge.getAbrBitrateParameter("minBitrate",Be);if(et>-1){var dt=q[Xe][Be].getMediaInfo(),Mt=Le(dt),It=Tt(dt,et,Xe);return Mt[It]&&It<Mt.length-1&&Mt[It].bitrate<1e3*et&&It++,It}return}catch{return}}(Be,Xe)}catch{return}}function kt(Be){var Xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Xe||(Xe=ne.getActiveStreamInfo().id),Be&&q[Xe]&&q[Xe][Be]&&Xe?(ie[Xe]=ie[Xe]||{},ie[Xe].hasOwnProperty(Be)||(ie[Xe][Be]=0),ie[Xe][Be]):0}catch{return 0}}function en(Be,Xe,et){var dt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Xe&&Xe.id&&Be){var Mt=Xe.id,It=kt(Be,Mt);Object(d.checkInteger)(et);var Vt=Ie(Be,Mt);et!==It&&et>=0&&et<=Vt&&Qt(Be,It,et,Vt,dt,Mt)}}function Qt(Be,Xe,et,dt,Mt,It){if(Be&&q[It]&&q[It][Be]){var Vt=q[It][Be].getStreamInfo(),pn=Vt&&Vt.manifestInfo&&Vt.manifestInfo.isDynamic,rn=H.getCurrentBufferLevel(Be);ue.info("Stream ID: "+It+" ["+Be+"] switch from "+Xe+" to "+et+"/"+dt+" (buffer: "+rn+") "+(Mt?JSON.stringify(Mt):".")),ie[It]=ie[It]||{},ie[It][Be]=et;var Vn=function ut(Be,Xe,et){if(Xe&&q&&q[Be]&&q[Be][Xe]){var dt=Le(q[Be][Xe].getMediaInfo());return dt[et]?dt[et]:null}return null}(It,Be,et);$.trigger(y.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Xe,newQuality:et,reason:Mt,streamInfo:Vt,bitrateInfo:Vn,maxIdx:dt,mediaType:Be},{streamId:Vt.id,mediaType:Be});var Kn=ee.getAverageThroughput(Be,pn);isNaN(Kn)||ve.setSavedBitrateSettings(Be,Kn)}}function Tt(Be,Xe,et){var dt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,Mt=Be&&Be.type?q[et][Be.type].getRepresentationInfo():null;if(j.get().streaming.abr.useDeadTimeLatency&&dt&&Mt&&Mt.fragmentDuration){var It=Mt.fragmentDuration;if((dt/=1e3)>It)return 0;Xe*=1-dt/It}for(var pn=Le(Be),rn=pn.length-1;rn>=0;rn--)if(1e3*Xe>=pn[rn].bitrate)return rn;return 0}function Le(Be){var Xe=[];if(!Be||!Be.bitrateList)return Xe;for(var Mt,et=Be.bitrateList,dt=Be.type,It=0,Vt=et.length;It<Vt;It++)(Mt=new S.default).mediaType=dt,Mt.qualityIndex=It,Mt.bitrate=et[It].bandwidth,Mt.width=et[It].width,Mt.height=et[It].height,Mt.scanType=et[It].scanType,Xe.push(Mt);return Xe}function vt(){if(_e){var Xe=j.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;Z=_e.getClientWidth()*Xe,pe=_e.getClientHeight()*Xe}}return Q={initialize:function Te(){se=Object(_.default)(w).create(),ee=Object(m.default)(w).create({settings:j}),(ce=Object(B.default)(w).create({dashMetrics:H,customParametersModel:fe,mediaPlayerModel:ge,settings:j})).initialize(),$.on(L.default.QUALITY_CHANGE_RENDERED,Ae,Q),$.on(L.default.METRIC_ADDED,be,Q),$.on(y.default.LOADING_PROGRESS,he,Q)},isPlayingAtTopQuality:function it(Be){var Xe=Be?Be.id:null,et=kt(T.default.AUDIO,Xe),dt=kt(T.default.VIDEO,Xe);return et===Ie(T.default.AUDIO,Xe)&&dt===Ie(T.default.VIDEO,Xe)},updateTopQualityIndex:function st(Be){var Xe=Be.type,et=Be.streamInfo.id,dt=Be.representationCount-1;return U[et]=U[et]||{},U[et][Xe]=dt,dt},clearDataForStream:function ht(Be){se&&se.clearForStream(Be),q[Be]&&delete q[Be],ye[Be]&&delete ye[Be],le[Be]&&delete le[Be]},getThroughputHistory:function Ye(){return ee},getBitrateList:Le,getQualityForBitrate:Tt,getTopBitrateInfoFor:function Et(Be){var Xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Xe||(Xe=ne.getActiveStreamInfo().id),Be&&q&&q[Xe]&&q[Xe][Be]){var et=Ie(Be,Xe),dt=Le(q[Xe][Be].getMediaInfo());return dt[et]?dt[et]:null}return null},getMinAllowedIndexFor:xe,getMaxAllowedIndexFor:Ie,getInitialBitrateFor:function Lt(Be,Xe){if(function J(){if(!ve||!ve.hasOwnProperty("getSavedBitrateSettings"))throw new Error(T.default.MISSING_CONFIG_ERROR)}(),Be===T.default.TEXT)return NaN;var et=ve.getSavedBitrateSettings(Be),dt=ge.getAbrBitrateParameter("initialBitrate",Be),Mt=j.get().streaming.abr.initialRepresentationRatio[Be];if(-1===dt)if(Mt>-1){var It=q[Xe][Be].getStreamInfo(),Vt=re.getAdaptationForType(It.index,Be,It).Representation_asArray;dt=Array.isArray(Vt)?Vt[Math.max(Math.round(Vt.length*Mt)-1,0)].bandwidth/1e3:0}else dt=isNaN(et)?Be===T.default.VIDEO?1e3:100:et;return dt},getQualityFor:kt,getAbandonmentStateFor:function an(Be,Xe){return le[Be]&&le[Be][Xe]?le[Be][Xe].state:null},setPlaybackQuality:en,checkPlaybackQuality:function Bt(Be,Xe){try{if(!(Be&&q&&q[Xe]&&q[Xe][Be]))return!1;if(se){var et=_e.getPlaybackQuality();et&&se.push(Xe,X,et)}if(!j.get().streaming.abr.autoSwitchBitrate[Be])return!1;var dt=kt(Be,Xe),Mt=Object(F.default)(w).create({abrController:Q,switchHistory:ye[Xe][Be],droppedFramesHistory:se,streamProcessor:q[Xe][Be],currentValue:dt,useBufferOccupancyABR:z[Be],useL2AABR:D[Be],useLoLPABR:O[Be],videoModel:_e}),It=xe(Be,Xe),Vt=Ie(Be,Xe),pn=ce.getMaxQuality(Mt),rn=pn.quality;return void 0!==It&&(rn>P.default.NO_CHANGE?rn:dt)<It&&(rn=It),rn>Vt&&(rn=Vt),ye[Xe][Be].push({oldValue:dt,newValue:rn}),rn>P.default.NO_CHANGE&&rn!==dt&&(le[Xe][Be].state===M.default.ALLOW_LOAD||rn<dt)&&(Qt(Be,dt,rn,Vt,pn.reason,Xe),!0)}catch{return!1}},setElementSize:vt,setWindowResizeEventCalled:function lt(Be){Ee=Be},registerStreamType:function Re(Be,Xe){var et=Xe.getStreamInfo().id;q[et]||(q[et]={}),ye[et]||(ye[et]={}),le[et]||(le[et]={}),ye[et][Be]=Object(x.default)(w).create(),q[et][Be]=Xe,le[et][Be]={},le[et][Be].state=M.default.ALLOW_LOAD,function me(Be){var Xe=j.get().streaming.abr.ABRStrategy;Xe===T.default.ABR_STRATEGY_L2A?(z[Be]=!1,O[Be]=!1,D[Be]=!0):Xe===T.default.ABR_STRATEGY_LoLP?(z[Be]=!1,O[Be]=!0,D[Be]=!1):Xe===T.default.ABR_STRATEGY_BOLA?(z[Be]=!0,O[Be]=!1,D[Be]=!1):Xe===T.default.ABR_STRATEGY_THROUGHPUT?(z[Be]=!1,O[Be]=!1,D[Be]=!1):Xe===T.default.ABR_STRATEGY_DYNAMIC&&(z[Be]=!(!z||!z[Be])&&z[Be],O[Be]=!1,D[Be]=!1)}(Be),Be===T.default.VIDEO&&vt()},unRegisterStreamType:function G(Be,Xe){try{q[Be]&&q[Be][Xe]&&delete q[Be][Xe],ye[Be]&&ye[Be][Xe]&&delete ye[Be][Xe],le[Be]&&le[Be][Xe]&&delete le[Be][Xe]}catch{}},setConfig:function te(Be){!Be||(Be.streamController&&(ne=Be.streamController),Be.domStorage&&(ve=Be.domStorage),Be.mediaPlayerModel&&(ge=Be.mediaPlayerModel),Be.customParametersModel&&(fe=Be.customParametersModel),Be.dashMetrics&&(H=Be.dashMetrics),Be.adapter&&(re=Be.adapter),Be.videoModel&&(_e=Be.videoModel),Be.settings&&(j=Be.settings))},reset:function K(){V(),$.off(y.default.LOADING_PROGRESS,he,Q),$.off(L.default.QUALITY_CHANGE_RENDERED,Ae,Q),$.off(L.default.METRIC_ADDED,be,Q),ce&&ce.reset()}},function oe(){ue=W.getLogger(Q),V()}(),Q}A.__dashjs_factory_name="AbrController";var p=E.default.getSingletonFactory(A);p.QUALITY_DEFAULT=0,E.default.updateSingletonFactory(A.__dashjs_factory_name,p),k.default=p},"./src/streaming/controllers/BaseURLController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/models/BaseURLTreeModel.js"),T=c("./src/streaming/utils/BaseURLSelector.js"),M=c("./src/streaming/utils/URLUtils.js"),S=c("./src/dash/vo/BaseURL.js"),b=c("./src/core/FactoryMaker.js"),h=c("./src/core/EventBus.js"),y=c("./src/core/events/Events.js");function E(){var F,P,f,v,x=this.context,_=Object(h.default)(x).getInstance(),m=Object(M.default)(x).getInstance();function d(w){f.invalidateSelectedIndexes(w.entry)}return F={reset:function A(){f.reset(),v.reset()},initialize:function p(w){f.setConfig({adapter:P}),function I(w){f.update(w),v.chooseSelector(P.getIsDVB(w))}(w)},resolve:function R(w){var $=f.getForPath(w).reduce(function(Q,ue){var ce=v.select(ue);return ce?(m.isRelative(ce.url)?Q.url=m.resolve(ce.url,Q.url):(Q.url=ce.url,Q.serviceLocation=ce.serviceLocation),Q.availabilityTimeOffset=ce.availabilityTimeOffset,Q.availabilityTimeComplete=ce.availabilityTimeComplete,Q):new S.default},new S.default);if(!m.isRelative($.url))return $},setConfig:function C(w){w.baseURLTreeModel&&(f=w.baseURLTreeModel),w.baseURLSelector&&(v=w.baseURLSelector),w.adapter&&(P=w.adapter)}},function L(){f=Object(B.default)(x).create(),v=Object(T.default)(x).create(),_.on(y.default.SERVICE_LOCATION_BLACKLIST_CHANGED,d,F)}(),F}E.__dashjs_factory_name="BaseURLController",k.default=b.default.getClassFactory(E)},"./src/streaming/controllers/BlacklistController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/EventBus.js");function M(S){S=S||{};var b,h=[],y=Object(T.default)(this.context).getInstance(),E=S.updateEventName,F=S.addBlacklistEventName;function x(v){-1===h.indexOf(v)&&(h.push(v),y.trigger(E,{entry:v}))}function _(v){x(v.entry)}return b={add:x,contains:function P(v){return!!(h.length&&v&&v.length)&&-1!==h.indexOf(v)},reset:function f(){h=[]}},function m(){F&&y.on(F,_,b)}(),b}M.__dashjs_factory_name="BlackListController",k.default=B.default.getClassFactory(M)},"./src/streaming/controllers/BufferController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/streaming/constants/MetricsConstants.js"),M=c("./src/streaming/models/FragmentModel.js"),S=c("./src/streaming/SourceBufferSink.js"),b=c("./src/core/EventBus.js"),h=c("./src/core/events/Events.js"),y=c("./src/core/FactoryMaker.js"),E=c("./src/core/Debug.js"),F=c("./src/streaming/utils/InitCache.js"),P=c("./src/streaming/vo/DashJSError.js"),x=c("./src/core/errors/Errors.js"),_=c("./src/streaming/vo/metrics/HTTPRequest.js"),m=c("./src/streaming/MediaPlayerEvents.js"),v=.01,L="BufferController";function C(I){I=I||{};var q,le,de,Ee,Z,pe,re,_e,ge,fe,ve,X,ye,se,ee,z,D,O,R=this.context,A=Object(b.default)(R).getInstance(),p=I.errHandler,w=I.fragmentModel,W=I.representationController,$=I.adapter,Q=I.textController,ue=I.abrController,ce=I.playbackController,ne=I.streamInfo,U=I.type,ie=I.settings;function me(We){pe=We}function G(We){return $.convertRepresentationToRepresentationInfo(W.getRepresentationForQuality(We))}function K(We,qe,Ve){var Ze=G(Ve);return qe&&qe[U]&&(U===B.default.VIDEO||U===B.default.AUDIO)?ge.initializeForStreamSwitch(We,Ze,qe[U]):ge.initializeForFirstUse(ne,We,Ze)}function te(We){ie.get().streaming.cacheInitSegments&&(le.info("Init fragment finished loading saving to",U+"'s init cache"),ee.save(We.chunk)),le.debug("Append Init fragment",U," with representationId:",We.chunk.representationId," and quality:",We.chunk.quality,", data size:",We.chunk.bytes.byteLength),Ae(We.chunk)}function he(We){Ae(We.chunk,We.request)}function Ae(We){ge.append(We,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Ve){Ie(Ve)}).catch(function(Ve){Ie(Ve)}),We.mediaInfo.type===B.default.VIDEO&&nt(h.default.VIDEO_CHUNK_RECEIVED,{chunk:We})}function be(We){if(We&&We.length>0)for(var qe=0,Ve=We.length;qe<Ve;qe++)le.debug("Buffered range: "+We.start(qe)+" - "+We.end(qe)+", currentTime = ",ce.getTime())}function Ie(We){if(We.error)return 22===We.error.code&&function De(){if(se=!0,Z=.8*Je(),le.warn("Quota exceeded, Critical Buffer: "+Z),Z>0){var We=Math.max(.2*Z,1),qe=Z-We,Ve=Math.min(ie.get().streaming.buffer.bufferTimeAtTopQuality,.9*qe),Ze=Math.min(ie.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*qe),gt={streaming:{buffer:{bufferToKeep:parseFloat(We.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Ve.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Ze.toFixed(5))}}};ie.update(gt)}}(),void((22===We.error.code||!je())&&(le.warn("Clearing playback buffer to overcome quota exceed situation"),nt(h.default.QUOTA_EXCEEDED,{criticalBufferLevel:Z,quotaExceededTime:We.chunk.start}),lt(it())));if(ge&&(Le(),se=!1,(ve=We.chunk)&&ve.endFragment)){ve&&!isNaN(ve.index)&&(re=Math.max(ve.index,re),Me());var qe=ge.getAllBufferRanges();ve.segmentType===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&(be(qe),en(),function xe(){if(!isNaN(O)){if(U!==B.default.AUDIO&&U!==B.default.VIDEO)return void(O=NaN);var We=ce.getTime(),qe=ut(We,0),Ve=ut(O,0);if(qe&&Ve&&qe.start===Ve.start)return void(O=NaN);var Ze=W.getCurrentRepresentation().segmentDuration,gt=ut(O,Ze);!gt||(ie.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(We-O)>Ze?O<=gt.end&&ce.seek(Math.max(O,gt.start),!1,!0):We<gt.start&&ce.seek(gt.start,!1,!0))}}()),ve&&nt(h.default.BYTES_APPENDED_END_FRAGMENT,{quality:ve.quality,startTime:ve.start,index:ve.index,bufferedRanges:qe,segmentType:ve.segmentType,mediaType:U})}}function Et(){return new Promise(function(We,qe){var Ve=Lt();if(!Ve||0===Ve.length)return en(),void We();lt(Ve).then(function(){We()}).catch(function(Ze){qe(Ze)})})}function Lt(We){var qe=[],Ve=ge.getAllBufferRanges();if(!Ve||0===Ve.length)return qe;if(!We&&0!==We||isNaN(We))qe.push({start:Ve.start(0),end:Ve.end(Ve.length-1)+.5});else{var Ze=function Bt(We,qe){var Ve=ie.get().streaming.buffer.bufferToKeep,Ze=qe.start(0);if(We-Ze>Ve){var Ft=Math.max(0,We-Ve),Ct=w.getRequests({state:M.default.FRAGMENT_MODEL_EXECUTED,time:We,threshold:v})[0];if(Ct&&(Ft=Math.min(Ct.startTime,Ft)),Ft>0)return{start:Ze,end:Ft}}return null}(We,Ve),gt=function kt(We,qe){var Ve=qe.end(qe.length-1)+.5,Ze=Dt(We),Ft=ne.manifestInfo.duration>=ie.get().streaming.buffer.longFormContentDurationThreshold?ie.get().streaming.buffer.bufferTimeAtTopQualityLongForm:ie.get().streaming.buffer.bufferTimeAtTopQuality,Ct=isNaN(Ze)?We:Math.min(Ze,We+Ft);if(Ct>=qe.end(qe.length-1))return null;var $e=w.getRequests({state:M.default.FRAGMENT_MODEL_EXECUTED,time:We,threshold:v})[0];if($e&&(Ct=Math.max($e.startTime+$e.duration,Ct)),ie.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Rt=0;Rt<qe.length;Rt++)if(qe.start(Rt)<=We&&We<=qe.end(Rt)&&qe.start(Rt)<=Ct&&Ct<=qe.end(Rt)){var cn=Ct;Ct=Rt+1<qe.length?qe.start(Rt+1):qe.end(Rt)+1,le.debug("Buffered range ["+qe.start(Rt)+", "+qe.end(Rt)+"] overlaps with targetTime "+We+" and range to be pruned ["+cn+", "+Ve+"], using ["+Ct+", "+Ve+"] instead"+(Ct<Ve?"":" (no actual pruning)"));break}return Ct<qe.end(qe.length-1)?{start:Ct,end:Ve}:null}(We,Ve);Ze&&qe.push(Ze),gt&&qe.push(gt)}return qe}function en(){(!D||U===B.default.TEXT&&Q.isTextEnabled())&&Le()}function an(){Ue()}function Qt(){Ue(),O=NaN}function ut(We,qe){var mt,Rt,Ve=ge.getAllBufferRanges(),Ze=0,gt=0,Ft=null,Ct=null,$e=0,cn=isNaN(qe)?.15:qe;if(null!=Ve){for(Rt=0,mt=Ve.length;Rt<mt;Rt++)if(Ze=Ve.start(Rt),gt=Ve.end(Rt),null===Ft)$e=Math.abs(Ze-We),(We>=Ze&&We<gt||$e<=cn)&&(Ft=Ze,Ct=gt);else{if(!(($e=Ze-Ct)<=cn))break;Ct=gt}if(null!==Ft)return{start:Ft,end:Ct}}return null}function Le(){if(ce){var We=ie.get().streaming.gaps.jumpGaps&&!isNaN(ie.get().streaming.gaps.smallGapLimit)?ie.get().streaming.gaps.smallGapLimit:NaN;Ee=Math.max(function Tt(We,qe){var Ve;return ie.get().streaming.gaps.jumpGaps&&(qe=ie.get().streaming.gaps.smallGapLimit),null===(Ve=ut(We,qe))?0:Ve.end-We}(ce.getTime()||0,We),0),nt(h.default.BUFFER_LEVEL_UPDATED,{mediaType:U,bufferLevel:Ee}),Ue()}}function Me(){var We=re>=_e-1,qe=ce.getTimeToStreamEnd(ne)-Ee<1e-5;(We||qe)&&!de&&(Kn(!0),le.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(ne.id," and type ").concat(U)))}function Ue(){U!==B.default.AUDIO&&U!==B.default.VIDEO||((!ce.getLowLatencyModeEnabled()&&Ee<ie.get().streaming.buffer.stallThreshold||0===Ee)&&!de?Ye(T.default.BUFFER_EMPTY):(de||Ee>=ie.get().streaming.buffer.stallThreshold||ce.getLowLatencyModeEnabled()&&Ee>0)&&Ye(T.default.BUFFER_LOADED))}function Ye(We){fe===We||We===T.default.BUFFER_EMPTY&&0===ce.getTime()||U===B.default.TEXT&&!Q.isTextEnabled()||(fe=We,nt(h.default.BUFFER_LEVEL_STATE_CHANGED,{state:We}),nt(We===T.default.BUFFER_LOADED?h.default.BUFFER_LOADED:h.default.BUFFER_EMPTY),le.debug(We===T.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function it(){var We=[],qe=ge.getAllBufferRanges();if(!qe||0===qe.length)return We;var Ve=ce.getTime(),Ze=Math.max(0,Ve-ie.get().streaming.buffer.bufferToKeep),gt=w.getRequests({state:M.default.FRAGMENT_MODEL_EXECUTED,time:Ve,threshold:v})[0];if(gt)Ze=Math.min(gt.startTime,Ze);else if(0===Ve&&ce.getIsDynamic())return[];if(qe.start(0)<=Ze){for(var Ft={start:0,end:Ze},Ct=0;Ct<qe.length&&qe.end(Ct)<=Ze;Ct++)Ft.end=qe.end(Ct);Ft.start<Ft.end&&We.push(Ft)}return We}function lt(We){return new Promise(function(qe,Ve){if(We&&ge&&0!==We.length){var Ze=[];We.forEach(function(gt){Ze.push(function vt(We){return new Promise(function(qe,Ve){We.resolve=qe,We.reject=Ve,z.push(We)})}(gt))}),ye||ht(),Promise.all(Ze).then(function(){qe()}).catch(function(gt){Ve(gt)})}else qe()})}function ht(){try{if(0===z.length||!ge)return le.debug("Nothing to prune, halt pruning"),z=[],void(ye=!1);var We=ge.getBuffer();if(!We||!We.buffered||0===We.buffered.length)return le.debug("SourceBuffer is empty (or does not exist), halt pruning"),z=[],void(ye=!1);var qe=z.shift();le.debug("".concat(U,": Removing buffer from: ").concat(qe.start," to ").concat(qe.end)),ye=!0,ce.getTime()<qe.end&&Kn(!1),ge.remove(qe).then(function(Ze){Be(Ze)}).catch(function(Ze){Be(Ze)})}catch{ye=!1}}function Be(We){le.debug("onRemoved buffer from:",We.from,"to",We.to),be(ge.getAllBufferRanges()),0===z.length&&(ye=!1,Le()),We.unintended&&(le.warn("Detected unintended removal from:",We.from,"to",We.to,"setting streamprocessor time to",We.from),nt(h.default.SEEK_TARGET,{time:We.from})),ye?ht():(D?D=!1:Le(),nt(h.default.BUFFER_CLEARED,{from:We.from,to:We.to,unintended:We.unintended,hasEnoughSpaceToAppend:je(),quotaExceeded:se}))}function Xe(We){return new Promise(function(qe){We&&void 0!==We.MSETimeOffset&&ge&&ge.updateTimestampOffset?ge.updateTimestampOffset(We.MSETimeOffset).then(function(){qe()}).catch(function(){qe()}):qe()})}function et(){return ge&&!de?ge.updateAppendWindow(ne):Promise.resolve()}function Mt(){++X*(ie.get().streaming.wallclockTimeUpdateInterval/1e3)>=ie.get().streaming.buffer.bufferPruningInterval&&(X=0,function st(){!ge||U===B.default.TEXT||de||lt(it())}())}function It(){Ue()}function Kn(We){de!==We&&((de=We)?nt(h.default.BUFFERING_COMPLETED):_e=Number.POSITIVE_INFINITY)}function Je(){try{var Ve,Ze,We=ge.getAllBufferRanges(),qe=0;if(!We)return qe;for(Ze=0,Ve=We.length;Ze<Ve;Ze++)qe+=We.end(Ze)-We.start(Ze);return qe}catch{return 0}}function Dt(We){try{var qe=We,Ve=ge.getAllBufferRanges();if(!Ve||0===Ve.length)return NaN;for(var Ze=0;qe===We&&Ze<Ve.length;){var gt=Ve.start(Ze),Ft=Ve.end(Ze);qe>=gt&&qe<=Ft&&(qe=Ft),Ze+=1}return qe===We?NaN:qe}catch{}}function je(){var We=Je();return isNaN(We)||We<Z}function nt(We,qe){A.trigger(We,qe||{},{streamId:ne.id,mediaType:U})}function wt(We,qe){if(Z=Number.POSITIVE_INFINITY,fe=void 0,_e=Number.POSITIVE_INFINITY,re=0,ve=null,de=!1,ye=!1,se=!1,Ee=0,X=0,z=[],O=NaN,ge){var Ve=ge;ge=null,!We&&!qe&&Ve.abort().then(function(){Ve.reset(qe),Ve=null})}D=!1}return q={initialize:function j(We){me(We),A.on(h.default.INIT_FRAGMENT_LOADED,te,q),A.on(h.default.MEDIA_FRAGMENT_LOADED,he,q),A.on(h.default.WALLCLOCK_TIME_UPDATED,Mt,q),A.on(m.default.PLAYBACK_PLAYING,Qt,q),A.on(m.default.PLAYBACK_PROGRESS,en,q),A.on(m.default.PLAYBACK_TIME_UPDATED,en,q),A.on(m.default.PLAYBACK_RATE_CHANGED,It,q),A.on(m.default.PLAYBACK_STALLED,an,q)},getStreamId:function oe(){return ne.id},getType:function Te(){return U},getBufferControllerType:function Re(){return L},createBufferSink:function V(We){var qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Ve,Ze){if(ee&&We&&pe){var gt=ue.getQualityFor(U,ne.id);ge=Object(S.default)(R).create({mediaSource:pe,textController:Q,eventBus:A}),K(We,qe,gt).then(function(){return Xe(G(gt))}).then(function(){Ve(ge)}).catch(function(Ft){le.fatal("Caught error on create SourceBuffer: "+Ft),p.error(new P.default(x.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,x.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+U)),Ze(Ft)})}else Ve(null)})},getBuffer:function Vt(){return ge},getBufferLevel:function pn(){return Ee},getRangeAt:ut,setMediaSource:me,getMediaSource:function rn(){return pe},appendInitSegmentFromCache:function J(We){var qe=ee.extract(ne.id,We);return!!qe&&(le.info("Append Init fragment",U," with representationId:",qe.representationId," and quality:",qe.quality,", data size:",qe.bytes.byteLength),Ae(qe),!0)},getIsBufferingCompleted:function Vn(){return de},setIsBufferingCompleted:Kn,getIsPruningInProgress:function Oe(){return ye},reset:function tn(We,qe){A.off(h.default.INIT_FRAGMENT_LOADED,te,this),A.off(h.default.MEDIA_FRAGMENT_LOADED,he,this),A.off(h.default.WALLCLOCK_TIME_UPDATED,Mt,this),A.off(m.default.PLAYBACK_PLAYING,Qt,this),A.off(m.default.PLAYBACK_PROGRESS,en,this),A.off(m.default.PLAYBACK_TIME_UPDATED,en,this),A.off(m.default.PLAYBACK_RATE_CHANGED,It,this),A.off(m.default.PLAYBACK_STALLED,an,this),wt(We,qe)},prepareForPlaybackSeek:function Fe(){return de&&Kn(!1),ge.abort()},prepareForReplacementTrackSwitch:function Ce(We){return new Promise(function(qe,Ve){ge.abort().then(function(){return et()}).then(function(){return ie.get().streaming.buffer.useChangeTypeForTrackSwitch?ge.changeType(We):Promise.resolve()}).then(function(){return Et()}).then(function(){Kn(!1),qe()}).catch(function(Ze){Ve(Ze)})})},prepareForNonReplacementTrackSwitch:function tt(We){return new Promise(function(qe,Ve){et().then(function(){return ie.get().streaming.buffer.useChangeTypeForTrackSwitch?ge.changeType(We):Promise.resolve()}).then(function(){qe()}).catch(function(Ze){Ve(Ze)})})},prepareForReplacementQualitySwitch:function Qe(){return new Promise(function(We,qe){ge.abort().then(function(){return et()}).then(function(){return Et()}).then(function(){Kn(!1),We()}).catch(function(Ve){qe(Ve)})})},updateAppendWindow:et,getAllRangesWithSafetyFactor:Lt,getContinuousBufferTimeForTargetTime:Dt,clearBuffers:lt,pruneAllSafely:Et,updateBufferTimestampOffset:Xe,setSeekTarget:function ze(We){O=We},segmentRequestingCompleted:function dt(We){isNaN(We)||(_e=We,Me())}},function H(){le=Object(E.default)(R).getInstance().getLogger(q),ee=Object(F.default)(R).getInstance(),wt()}(),q}C.__dashjs_factory_name=L,k.default=y.default.getClassFactory(C)},"./src/streaming/controllers/CatchupController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M=c("./src/core/EventBus.js"),S=c("./src/streaming/constants/Constants.js"),b=c("./src/streaming/MediaPlayerEvents.js"),h=c("./src/core/events/Events.js"),y=c("./src/streaming/constants/MetricsConstants.js"),E=c("./src/core/Utils.js");function F(){var _,m,f,v,d,L,C,I,R,A,P=this.context,x=Object(M.default)(P).getInstance();function ce(){m=!1;var X=E.default.parseUserAgent();f=X&&X.browser&&X.browser.name&&"safari"===X.browser.name.toLowerCase()}function ne(){m=!1}function U(X){if(X.streamId===L.getActiveStreamInfo().id&&R){var ye=C.getLiveDelay();C.getBufferLevel()>ye/2&&(R=!1)}}function ie(X){X.streamId===L.getActiveStreamInfo().id&&(R=X.state===y.default.BUFFER_EMPTY)}function q(){I.getCatchupModeEnabled()||v.setPlaybackRate(1)}function le(){C.getIsDynamic()&&I.getCatchupModeEnabled()&&(I.getCatchupPlaybackRates().max>0||I.getCatchupPlaybackRates().min<0)&&!C.isPaused()&&!C.isSeeking()&&function Z(){try{return!(!C.getTime()>0||m)&&(pe()===S.default.LIVE_CATCHUP_MODE_LOLP?function _e(X,ye){try{return Math.abs(Ee())>0||X<ye}catch{return!1}}(C.getBufferLevel(),d.get().streaming.liveCatchup.playbackBufferMin):function re(){try{return Math.abs(Ee())>0}catch{return!1}}())}catch{return!1}}()&&function de(){if(!m&&v){var X,ye=v.getPlaybackRate(),se=I.getCatchupPlaybackRates(),ee=C.getBufferLevel(),z=Ee(),D=I.getCatchupMaxDrift();if(!isNaN(D)&&D>0&&z>D)A.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),m=!0,C.seekToCurrentLive(!0,!1);else{var O=C.getCurrentLiveLatency(),H=C.getLiveDelay();X=pe()===S.default.LIVE_CATCHUP_MODE_LOLP?function fe(X,ye,se,ee,z){var D;if(z<ee){var O=Math.abs(X.min),oe=2*O/(1+Math.pow(Math.E,-5*(z-ee)));A.debug("[LoL+ playback control_buffer-based] bufferLevel: "+z+", newRate: "+(D=1-O+oe))}else{var Te=X.max,Re=.02;D=Math.abs(ye-se)<=Re*se?1:1-Te+2*Te/(1+Math.pow(Math.E,-5*(ye-se))),A.debug("[LoL+ playback control_latency-based] latency: "+ye+", newRate: "+D)}return D}(se,O,H,d.get().streaming.liveCatchup.playbackBufferMin,ee):function ge(X,ye,se,ee){if(R)return 1;var z=ye-se,D=z<0?Math.abs(X.min):X.max,j=1-D+2*D/(1+Math.pow(Math.E,-5*z));return C.getPlaybackStalled()&&ee<=se/2&&z>0&&(j=1),j}(se,O,H,ee);var oe=f?.25:.02/(.5/se.max);X&&Math.abs(ye-X)>=oe&&(A.debug("[CatchupController]: Setting playback rate to ".concat(X)),v.setPlaybackRate(X))}}}()}function Ee(){return C.getCurrentLiveLatency()-C.getLiveDelay()}function pe(){var X=d.get().streaming.liveCatchup.playbackBufferMin;return d.get().streaming.liveCatchup.mode!==S.default.LIVE_CATCHUP_MODE_LOLP||null===X||isNaN(X)?S.default.LIVE_CATCHUP_MODE_DEFAULT:S.default.LIVE_CATCHUP_MODE_LOLP}function ve(){I.getCatchupPlaybackRates(!0)}return _={reset:function ue(){(function $(){x.off(b.default.BUFFER_LEVEL_UPDATED,U,_),x.off(b.default.BUFFER_LEVEL_STATE_CHANGED,ie,_),x.off(b.default.PLAYBACK_PROGRESS,le,_),x.off(b.default.PLAYBACK_TIME_UPDATED,le,_),x.off(b.default.PLAYBACK_SEEKED,le,_),x.off(h.default.SETTING_UPDATED_CATCHUP_ENABLED,q,_),x.off(h.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ve,_),x.off(h.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ve,_),x.off(b.default.STREAM_INITIALIZED,ve,_)})(),ce(),v.setPlaybackRate(1,!0)},setConfig:function w(X){!X||(X.settings&&(d=X.settings),X.videoModel&&(v=X.videoModel),X.streamController&&(L=X.streamController),X.playbackController&&(C=X.playbackController),X.mediaPlayerModel&&(I=X.mediaPlayerModel))},initialize:function p(){(function W(){x.on(b.default.BUFFER_LEVEL_UPDATED,U,_),x.on(b.default.BUFFER_LEVEL_STATE_CHANGED,ie,_),x.on(b.default.PLAYBACK_PROGRESS,le,_),x.on(b.default.PLAYBACK_TIME_UPDATED,le,_),x.on(b.default.PLAYBACK_SEEKED,ne,_),x.on(h.default.SETTING_UPDATED_CATCHUP_ENABLED,q,_),x.on(h.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ve,_),x.on(h.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ve,_),x.on(b.default.STREAM_INITIALIZED,ve,_)})(),ve()}},function Q(){A=Object(T.default)(P).getInstance().getLogger(_),ce()}(),_}F.__dashjs_factory_name="CatchupController",k.default=B.default.getSingletonFactory(F)},"./src/streaming/controllers/EventController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M=c("./src/core/EventBus.js"),S=c("./src/streaming/MediaPlayerEvents.js"),b=c("./src/streaming/net/XHRLoader.js");function h(){var v,d,L,C,I,R,A,p,w,W,$,y="urn:mpeg:dash:event:2012",__DISCARDED="discarded",__UPDATED="updated",__ADDED="added",m=this.context,f=Object(M.default)(m).getInstance();function ue(){if(!A||!p)throw new Error("setConfig function has to be called previously")}function ce(){$=!1,L={},C={},I=null,W=!1,R=Date.now()/1e3}function ne(){try{null!==I&&$&&(clearInterval(I),I=null,$=!1,function re(){try{_e(C),_e(L)}catch(j){d.error(j)}}())}catch(j){throw j}}function ie(){try{if(!W){W=!0;var j=p.getTime(),oe=j-R;oe=R>0?Math.max(0,oe):0,q(C,oe,j),q(L,oe,j),le(C),le(L),R=j,W=!1}}catch(Te){W=!1,d.error(Te)}}function q(j,oe,Te){try{ge(j,function(G){if(void 0!==G){var V=isNaN(G.duration)?0:G.duration;G.calculatedPresentationTime<=Te&&G.calculatedPresentationTime+oe+V>=Te?X(G,S.default.EVENT_MODE_ON_START):(fe(Te,V+oe,G.calculatedPresentationTime)||function ve(j){try{return j.calculatedPresentationTime>j.eventStream.period.start+j.eventStream.period.duration}catch(Te){return d.error(Te),!1}}(G))&&(d.debug("Removing event ".concat(G.id," from period ").concat(G.eventStream.period.id," as it is expired or invalid")),function ye(j,oe){try{var Te=oe.eventStream.schemeIdUri,Re=oe.eventStream.period.id,me=oe.eventStream.value,G=oe.id;j[Re][Te]=j[Re][Te].filter(function(V){return me&&V.eventStream.value&&V.eventStream.value!==me||V.id!==G}),0===j[Re][Te].length&&delete j[Re][Te]}catch(V){d.error(V)}}(j,G))}})}catch(me){d.error(me)}}function le(j){try{for(var oe in j)j.hasOwnProperty(oe)&&0===Object.keys(j[oe]).length&&delete j[oe]}catch(Te){d.error(Te)}}function Z(j,oe){var Te=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Re=j.eventStream.schemeIdUri,me=j.eventStream.value,G=j.id,V=__DISCARDED;oe[Re]||(oe[Re]=[]);var K=oe[Re].findIndex(function(J){return(!me||J.eventStream.value&&J.eventStream.value===me)&&J.id===G});if(-1===K)oe[Re].push(j),j.triggeredReceivedEvent=!1,j.triggeredStartEvent=!1,V=__ADDED;else if(Te){var te=oe[Re][K];j.triggeredReceivedEvent=te.triggeredReceivedEvent,j.triggeredStartEvent=te.triggeredStartEvent,oe[Re][K]=j,V=__UPDATED}return V}function pe(j){try{1==j.eventStream.value&&f.trigger(S.default.MANIFEST_VALIDITY_CHANGED,{id:j.id,validUntil:j.calculatedPresentationTime,newDuration:4294967295==j.calculatedPresentationTime?NaN:j.calculatedPresentationTime+j.duration,newManifestValidAfter:NaN},{mode:S.default.EVENT_MODE_ON_START})}catch(Re){d.error(Re)}}function _e(j){try{var oe=p.getTime();ge(j,function(me){var G=me.eventStream&&me.eventStream.period&&!isNaN(me.eventStream.period.duration)?me.eventStream.period.duration:NaN,V=me.eventStream&&me.eventStream.period&&!isNaN(me.eventStream.period.start)?me.eventStream.period.start:NaN;isNaN(G)||isNaN(V)||Math.abs(me.calculatedPresentationTime-oe)<300&&X(me,S.default.EVENT_MODE_ON_START)})}catch(Re){d.error(Re)}}function ge(j,oe){try{if(j)for(var Te=Object.keys(j),Re=0;Re<Te.length;Re++)for(var me=j[Te[Re]],G=Object.keys(me),V=0;V<G.length;V++)me[G[V]].forEach(function(te){void 0!==te&&oe(te)})}catch(te){d.error(te)}}function fe(j,oe,Te){try{return j-oe>Te}catch(Re){return d.error(Re),!1}}function X(j,oe){try{var Te=p.getTime(),Re=j.id;if(oe===S.default.EVENT_MODE_ON_RECEIVE&&!j.triggeredReceivedEvent)return d.debug("Received event ".concat(Re)),j.triggeredReceivedEvent=!0,void f.trigger(j.eventStream.schemeIdUri,{event:j},{mode:oe});j.triggeredStartEvent||(j.eventStream.schemeIdUri===y&&1==j.eventStream.value?(0!==j.duration||0!==j.presentationTimeDelta)&&(d.debug("Starting manifest refresh event ".concat(Re," at ").concat(Te)),function se(){try{ue(),A.refreshManifest()}catch(j){d.error(j)}}()):"urn:mpeg:dash:event:callback:2015"===j.eventStream.schemeIdUri&&1==j.eventStream.value?(d.debug("Starting callback event ".concat(Re," at ").concat(Te)),function ee(j){try{Object(b.default)(m).create({}).load({method:"get",url:j,request:{responseType:"arraybuffer"}})}catch(Te){d.error(Te)}}(j.messageData)):(d.debug("Starting event ".concat(Re," from period ").concat(j.eventStream.period.id," at ").concat(Te)),f.trigger(j.eventStream.schemeIdUri,{event:j},{mode:oe})),j.triggeredStartEvent=!0)}catch(me){d.error(me)}}return v={addInlineEvents:function de(j,oe){try{if(ue(),L[oe]||(L[oe]={}),j)for(var Te=0;Te<j.length;Te++){var Re=j[Te];if(!fe(p.getTime(),isNaN(Re.duration)?0:Re.duration,Re.calculatedPresentationTime)){var V=Z(Re,L[oe],!0);V===__ADDED?(d.debug("Added inline event with id ".concat(Re.id," from period ").concat(oe)),X(Re,S.default.EVENT_MODE_ON_RECEIVE)):V===__UPDATED&&d.debug("Updated inline event with id ".concat(Re.id," from period ").concat(oe))}}}catch(K){throw K}},addInbandEvents:function Ee(j,oe){try{ue(),C[oe]||(C[oe]={});for(var Te=0;Te<j.length;Te++){var Re=j[Te];fe(p.getTime(),isNaN(Re.duration)?0:Re.duration,Re.calculatedPresentationTime)||(Z(Re,C[oe],!1)===__ADDED?(Re.eventStream.schemeIdUri===y&&pe(Re),d.debug("Added inband event with id ".concat(Re.id," from period ").concat(oe)),X(Re,S.default.EVENT_MODE_ON_RECEIVE)):d.debug("Inband event with scheme_id_uri ".concat(Re.eventStream.schemeIdUri,", value ").concat(Re.eventStream.value,", period id ").concat(oe," and event id ").concat(Re.id," was ignored because it has been added before.")))}ie()}catch(K){throw K}},getInbandEvents:function O(){return C},getInlineEvents:function D(){return L},start:function U(){try{ue(),d.debug("Start Event Controller");var j=w.get().streaming.eventControllerRefreshDelay;!$&&!isNaN(j)&&($=!0,I=setInterval(ie,j))}catch(oe){throw oe}},setConfig:function z(j){try{if(!j)return;j.manifestUpdater&&(A=j.manifestUpdater),j.playbackController&&(p=j.playbackController),j.settings&&(w=j.settings)}catch(oe){throw oe}},reset:function H(){ne(),ce()}},function Q(){d=Object(T.default)(m).getInstance().getLogger(v),ce()}(),v}h.__dashjs_factory_name="EventController",k.default=B.default.getSingletonFactory(h)},"./src/streaming/controllers/FragmentController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/streaming/vo/DataChunk.js"),M=c("./src/streaming/models/FragmentModel.js"),S=c("./src/streaming/FragmentLoader.js"),b=c("./src/streaming/utils/RequestModifier.js"),h=c("./src/core/EventBus.js"),y=c("./src/core/events/Events.js"),E=c("./src/streaming/MediaPlayerEvents.js"),F=c("./src/core/errors/Errors.js"),P=c("./src/core/FactoryMaker.js"),x=c("./src/core/Debug.js");function _(m){m=m||{};var A,p,w,f=this.context,v=Object(h.default)(f).getInstance(),d=m.errHandler,L=m.mediaPlayerModel,C=m.dashMetrics,I=Object(x.default)(f).getInstance(),R=m.streamInfo;function $(){return R.id}function ue(){for(var ie in w)w[ie].reset();w={}}function U(ie){if(ie.sender){var q=ie.request,le=ie.response,de=q.isInitializationRequest(),Ee=q.mediaInfo.streamInfo;if(ie.error&&(q.mediaType===B.default.AUDIO||q.mediaType===B.default.VIDEO||q.mediaType===B.default.TEXT&&q.mediaInfo.isFragmented)&&v.trigger(y.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:ie.request.serviceLocation}),!le||!Ee)return void p.warn("No "+q.mediaType+" bytes to push or stream is inactive.");var Z=function ne(ie,q,le,de){var Ee=new T.default;return Ee.streamId=le,Ee.mediaInfo=q.mediaInfo,Ee.segmentType=q.type,Ee.start=q.startTime,Ee.duration=q.duration,Ee.end=Ee.start+Ee.duration,Ee.bytes=ie,Ee.index=q.index,Ee.quality=q.quality,Ee.representationId=q.representationId,Ee.endFragment=de,Ee}(le,q,R.id,ie.type!==y.default.FRAGMENT_LOADING_PROGRESS);v.trigger(de?y.default.INIT_FRAGMENT_LOADED:y.default.MEDIA_FRAGMENT_LOADED,{chunk:Z,request:q},{streamId:Ee.id,mediaType:q.mediaType})}}return A={getStreamId:$,getModel:function Q(ie){var q=w[ie];return q||(q=Object(M.default)(f).create({streamInfo:R,type:ie,dashMetrics:C,fragmentLoader:Object(S.default)(f).create({dashMetrics:C,mediaPlayerModel:L,errHandler:d,requestModifier:Object(b.default)(f).getInstance(),settings:m.settings,boxParser:m.boxParser,eventBus:v,events:y.default,errors:F.default,dashConstants:m.dashConstants,urlUtils:m.urlUtils,streamId:$()}),debug:I,eventBus:v,events:y.default}),w[ie]=q),q},reset:function ce(){v.off(E.default.FRAGMENT_LOADING_COMPLETED,U,this),v.off(E.default.FRAGMENT_LOADING_PROGRESS,U,this),ue()}},function W(){p=I.getLogger(A),ue(),v.on(E.default.FRAGMENT_LOADING_COMPLETED,U,A),v.on(E.default.FRAGMENT_LOADING_PROGRESS,U,A)}(),A}_.__dashjs_factory_name="FragmentController",k.default=P.default.getClassFactory(_)},"./src/streaming/controllers/GapController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M=c("./src/core/events/Events.js"),S=c("./src/core/EventBus.js"),b=c("./src/streaming/constants/Constants.js");function F(){var _,m,f,v,d,L,C,I,R,A,p,w,P=this.context,x=Object(S.default)(P).getInstance();function Q(){(function fe(){w.debug("Stopping the gap controller"),d&&(clearInterval(d),d=null)})(),function U(){x.off(M.default.WALLCLOCK_TIME_UPDATED,Ee,this),x.off(M.default.INITIAL_STREAM_SWITCH,de,this),x.off(M.default.PLAYBACK_SEEKING,ie,this),x.off(M.default.BUFFER_REPLACEMENT_STARTED,q,_),x.off(M.default.TRACK_CHANGE_RENDERED,le,_)}(),function ue(){d=null,L=NaN,v=0,A=null,p={}}()}function ie(){A&&(clearTimeout(A),A=null)}function q(X){try{if(X.streamId!==I.getActiveStreamInfo().id||X.mediaType!==b.default.VIDEO&&X.mediaType!==b.default.AUDIO)return;X.streamId===I.getActiveStreamInfo().id&&(p[X.mediaType]=!0)}catch(ye){w.error(ye)}}function le(X){!X||!X.mediaType||(p[X.mediaType]=!1)}function de(){d||function ge(){try{d||(w.debug("Starting the gap controller"),d=setInterval(function(){Z()&&ve(C.getTime())},100))}catch{}}()}function Ee(){if(Z(f.get().streaming.gaps.enableSeekFix)&&++v>=10){var X=C.getTime();m===X?ve(X,!0):(m=X,L=NaN),v=0}}function Z(){var X=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!I.getActiveStream())return!1;var ye=Object.keys(p).some(function(ee){return p[ee]}),se=!!X&&pe();return!ye&&f.get().streaming.gaps.jumpGaps&&I.getActiveStreamProcessors().length>0&&(!C.isSeeking()||se)&&!C.isPaused()&&!I.getIsStreamSwitchInProgress()&&!I.getHasMediaOrInitialisationError()}function pe(){var X=I.getActiveStream(),ye=parseFloat((X.getStartTime()+X.getDuration()).toFixed(5));return C.getTime()+f.get().streaming.gaps.threshold>=ye}function re(X,ye){try{if(!X||X.length<=1&&ye>0)return NaN;for(var se=NaN,ee=0;isNaN(se)&&ee<X.length;){var z=ee>0?X.end(ee-1):0;ye<X.start(ee)&&z-ye<f.get().streaming.gaps.threshold&&(se=ee),ee+=1}return se}catch{return null}}function _e(X,ye){for(var se=0,ee=X.length;se<ee;se++)if(ye>=X.start(se)&&ye<=X.end(se))return!0;return!1}function ve(X){var H,ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1],se=f.get().streaming.gaps.enableStallFix,ee=f.get().streaming.gaps.stallSeek,z=f.get().streaming.gaps.smallGapLimit,D=f.get().streaming.gaps.jumpLargeGaps,O=R.getBufferRange(),j=NaN,oe=!1;if(H=re(O,X),!isNaN(H)){var Te=O.start(H),Re=Te-X;Re>0&&(Re<=z||D)&&(j=Te)}var me=C.getTimeToStreamEnd();if(isNaN(j)&&ye&&isFinite(me)&&!isNaN(me)&&me<z&&(j=parseFloat(C.getStreamEndTime().toFixed(5)),oe=!0),se&&isNaN(j)&&ye&&isNaN(H)&&_e(O,X)&&(0===ee?(w.warn("Toggle play pause to break stall"),R.pause(),R.play()):(w.warn("Jumping ".concat(ee,"s to break stall")),j=X+ee)),j>0&&L!==j&&j>X&&!A){var G=j-X;if(oe){var V=I.getStreamForTime(j),K=V&&!!V.getPreloaded();w.warn("Jumping to end of stream because of gap from ".concat(X," to ").concat(j,". Gap duration: ").concat(G)),C.seek(j,!0,K)}else{var te=C.getIsDynamic(),J=H>0?O.end(H-1):X,he=te?1e3*Math.max(0,G-.1):0;A=window.setTimeout(function(){C.seek(j,!0,!0),w.warn("Jumping gap occuring in period ".concat(I.getActiveStream().getStreamId()," starting at ").concat(J," and ending at ").concat(j,". Jumping by: ").concat(j-J)),A=null},he)}L=j}}return _={reset:Q,setConfig:function ce(X){!X||(X.settings&&(f=X.settings),X.playbackController&&(C=X.playbackController),X.streamController&&(I=X.streamController),X.videoModel&&(R=X.videoModel))},initialize:function W(){!function ne(){x.on(M.default.WALLCLOCK_TIME_UPDATED,Ee,this),x.on(M.default.INITIAL_STREAM_SWITCH,de,this),x.on(M.default.PLAYBACK_SEEKING,ie,this),x.on(M.default.BUFFER_REPLACEMENT_STARTED,q,_),x.on(M.default.TRACK_CHANGE_RENDERED,le,_)}()}},function $(){w=Object(T.default)(P).getInstance().getLogger(_),Q()}(),_}F.__dashjs_factory_name="GapController",k.default=B.default.getSingletonFactory(F)},"./src/streaming/controllers/MediaController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/core/events/Events.js"),M=c("./src/core/EventBus.js"),S=c("./src/core/FactoryMaker.js"),b=c("./src/core/Debug.js"),h=c("./node_modules/bcp-47-normalize/index.js"),y=c.n(h),E=c("./node_modules/bcp-47-match/index.js");function P(){var f,v,d,L,C,I,R,A,_=this.context,m=Object(M.default)(_).getInstance();function $(V,K){return V&&d[K]&&d[K][V]?d[K][V].list:[]}function Q(V,K){return V&&d[K]&&d[K][V]?d[K][V].current:null}function ce(V){var K=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(V&&V.streamInfo){var te=V.type,he=V.streamInfo.id,Ae=Q(te,he);if(d[he]&&d[he][te]&&(d[he][te].current=V,d[he][te].current&&(te!==B.default.TEXT&&!le(V,Ae)||te===B.default.TEXT&&V.isFragmented)&&m.trigger(T.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ae,newMediaInfo:V,switchMode:L.get().streaming.trackSwitchMode[te]},{streamId:he}),!K)){var be=Z(V);if(!be||!d[he][te].storeLastSettings)return;be.roles&&(be.role=be.roles[0],delete be.roles),be.accessibility&&(be.accessibility=be.accessibility[0]),be.audioChannelConfiguration&&(be.audioChannelConfiguration=be.audioChannelConfiguration[0]),I[te]=be,A.setSavedMediaSettings(te,be)}}}function ne(V,K){!V||!K||(C[V]=K)}function U(V){return V?C[V]:null}function le(V,K){if(!V&&!K)return!0;if(!V||!K)return!1;var te=V.id===K.id,J=V.viewpoint===K.viewpoint,he=V.lang===K.lang,Ae=V.codec===K.codec,be=V.roles.toString()===K.roles.toString(),Ie=V.accessibility.toString()===K.accessibility.toString(),xe=V.audioChannelConfiguration.toString()===K.audioChannelConfiguration.toString();return te&&Ae&&J&&he&&be&&Ie&&xe}function Ee(){d={},I={},function se(){C={audio:null,video:null,text:null}}()}function Z(V){var K={lang:V.lang,viewpoint:V.viewpoint,roles:V.roles,accessibility:V.accessibility,audioChannelConfiguration:V.audioChannelConfiguration};return K.lang||K.viewpoint||K.role&&K.role.length>0||K.accessibility&&K.accessibility.length>0||K.audioChannelConfiguration&&K.audioChannelConfiguration.length>0?K:null}function pe(V,K,te){var J=[];return V.forEach(function(he){K(te,he)&&J.push(he)}),0!==J.length?J:V}function re(V,K){return!V.lang||V.lang instanceof RegExp?K.lang.match(V.lang):""!==K.lang&&Object(E.extendedFilter)(K.lang,y()(V.lang)).length>0}function _e(V,K){return null==V.index||K.index===V.index}function ge(V,K){return!V.viewpoint||V.viewpoint===K.viewpoint}function fe(V,K){var te=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!V.role||!!K.roles.filter(function(he){return he===V.role})[0]||K.type===B.default.AUDIO&&te}function ve(V,K){return V.accessibility?!!K.accessibility.filter(function(J){return J===V.accessibility})[0]:!K.accessibility.length}function X(V,K){return!V.audioChannelConfiguration||!!K.audioChannelConfiguration.filter(function(J){return J===V.audioChannelConfiguration})[0]}function z(V){var J,K=0,te=[];return V.forEach(function(he){(J=Math.max.apply(Math,he.bitrateList.map(function(Ae){return Ae.bandwidth})))>K?(K=J,te=[he]):J===K&&te.push(he)}),te}function D(V){var J,K=1/0,te=[];return V.forEach(function(he){var Ae=he.bitrateList.reduce(function(be,Ie){var xe=Math.max(1,Ie.width*Ie.height);return be+Ie.bandwidth/xe},0);(J=Ae/he.bitrateList.length)<K?(K=J,te=[he]):J===K&&te.push(he)}),te}function O(V){var J,K=0,te=[];return V.forEach(function(he){(J=he.representationCount)>K?(K=J,te=[he]):J===K&&te.push(he)}),te}function H(V,K){if(V===B.default.TEXT)return K[0];var J,te=L.get().streaming.selectionModeForInitialTrack,he=R.getCustomInitialTrackSelectionFunction();if(he&&"function"==typeof he)J=he(K);else switch(te){case B.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:J=function j(V){var K=function ee(V){var K=0,te=[];return V.forEach(function(J){isNaN(J.selectionPriority)||(J.selectionPriority>K?(K=J.selectionPriority,te=[J]):J.selectionPriority===K&&te.push(J))}),te}(V);return K.length>1&&(K=z(K)),K.length>1&&(K=O(K)),K}(K);break;case B.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:J=function oe(V){var K=z(V);return K.length>1&&(K=O(K)),K}(K);break;case B.default.TRACK_SELECTION_MODE_FIRST_TRACK:J=Te(K);break;case B.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:J=function Re(V){var K=D(V);return K.length>1&&(K=z(K)),K}(K);break;case B.default.TRACK_SELECTION_MODE_WIDEST_RANGE:J=function me(V){var K=O(V);return K.length>1&&(K=z(V)),K}(K);break;default:v.warn("Track selection mode ".concat(te," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),J=Te(K)}return J.length>0?J[0]:K[0]}function Te(V){return V[0]}return f={setInitialMediaSettingsForType:function w(V,K){var te=I[V]||U(V),J=$(V,K.id),he=[];te||ne(V,te=A.getSavedMediaSettings(V)),J&&0!==J.length&&(te&&(he=pe(he=Array.from(J),re,te),he=pe(he,_e,te),he=pe(he,ge,te),V===B.default.AUDIO&&!!I[V]||(he=pe(he,fe,te)),he=pe(he,ve,te),he=pe(he,X,te)),0===he.length?ce(H(V,J),!0):ce(he.length>1?H(V,he):he[0]))},addTrack:function W(V){if(V){var K=V.type;if(function q(V){return V===B.default.AUDIO||V===B.default.VIDEO||V===B.default.TEXT||V===B.default.IMAGE}(K)){var te=V.streamInfo.id;d[te]||(d[te]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var J=d[te][K].list,he=0,Ae=J.length;he<Ae;++he)if(le(J[he],V))return;J.push(V)}}},getTracksFor:$,getCurrentTrackFor:Q,isCurrentTrack:function ue(V){if(!V)return!1;var K=V.type,te=V.streamInfo.id;return d[te]&&d[te][K]&&le(d[te][K].current,V)},setTrack:ce,selectInitialTrack:H,setInitialSettings:ne,getInitialSettings:U,getTracksWithHighestBitrate:z,getTracksWithHighestEfficiency:D,getTracksWithWidestRange:O,isTracksEqual:le,matchSettings:function ye(V,K){var te=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var J=!1;if(V.lang){if(V.lang instanceof RegExp)J=K.lang.match(V.lang);else if(""!==K.lang){var he=y()(V.lang);he&&(J=Object(E.extendedFilter)(K.lang,he).length>0)}}else J=!0;var Ae=null==V.index||K.index===V.index,be=!V.viewpoint||V.viewpoint===K.viewpoint,Ie=!V.role||!!K.roles.filter(function(Fe){return Fe===V.role})[0],xe=!V.accessibility||!!K.accessibility.filter(function(Fe){return Fe===V.accessibility})[0],De=!V.audioChannelConfiguration||!!K.audioChannelConfiguration.filter(function(Fe){return Fe===V.audioChannelConfiguration})[0];return J&&Ae&&be&&(Ie||K.type===B.default.AUDIO&&te)&&xe&&De}catch(Fe){return!1}},matchSettingsLang:re,matchSettingsIndex:_e,matchSettingsViewPoint:ge,matchSettingsRole:fe,matchSettingsAccessibility:ve,matchSettingsAudioChannelConfig:X,saveTextSettingsDisabled:function ie(){A.setSavedMediaSettings(B.default.TEXT,null)},setConfig:function de(V){!V||(V.domStorage&&(A=V.domStorage),V.settings&&(L=V.settings),V.customParametersModel&&(R=V.customParametersModel))},reset:Ee},function p(){v=Object(b.default)(_).getInstance().getLogger(f),Ee()}(),f}P.__dashjs_factory_name="MediaController";var x=S.default.getSingletonFactory(P);S.default.updateSingletonFactory(P.__dashjs_factory_name,x),k.default=x},"./src/streaming/controllers/MediaSourceController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js");function M(){var S,b,h,y=this.context;return S={createMediaSource:function F(){var d="WebKitMediaSource"in window;return"MediaSource"in window?b=new MediaSource:d&&(b=new WebKitMediaSource),b},attachMediaSource:function P(d){var L=window.URL.createObjectURL(b);return d.setSource(L),L},detachMediaSource:function x(d){d.setSource(null)},setDuration:function _(d){!b||"open"!==b.readyState||null===d&&isNaN(d)||b.duration!==d&&(function v(d){for(var L=d.sourceBuffers,C=0;C<L.length;C++)if(L[C].updating)return!0;return!1}(b)?setTimeout(_.bind(null,d),50):(h.info("Set MediaSource duration:"+d),b.duration=d))},setSeekable:function m(d,L){b&&"function"==typeof b.setLiveSeekableRange&&"function"==typeof b.clearLiveSeekableRange&&"open"===b.readyState&&d>=0&&d<L&&(b.clearLiveSeekableRange(),b.setLiveSeekableRange(d,L))},signalEndOfStream:function f(d){if(d&&"open"===d.readyState){for(var L=d.sourceBuffers,C=0;C<L.length;C++)if(L[C].updating||0===L[C].buffered.length)return;h.info("call to mediaSource endOfStream"),d.endOfStream()}}},function E(){h=Object(T.default)(y).getInstance().getLogger(S)}(),S}M.__dashjs_factory_name="MediaSourceController",k.default=B.default.getSingletonFactory(M)},"./src/streaming/controllers/PlaybackController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/core/EventBus.js"),M=c("./src/core/events/Events.js"),S=c("./src/core/FactoryMaker.js"),b=c("./src/core/Debug.js"),h=c("./src/streaming/MediaPlayerEvents.js"),y=c("./src/streaming/constants/MetricsConstants.js");function F(){var _,m,f,v,d,L,C,I,R,A,p,w,W,$,Q,ue,ne,U,ie,q,le,de,Ee,P=this.context,x=Object(T.default)(P).getInstance();function pe(){ye(),$=!1,A=0,p=0,ue=0,le=!1,ne=!1,de=!1,U=NaN,C&&(x.off(M.default.DATA_UPDATE_COMPLETED,tt,_),x.off(M.default.LOADING_PROGRESS,Mt,_),x.off(M.default.MANIFEST_UPDATED,Vn,_),x.off(M.default.STREAMS_COMPOSED,Kn,_),x.off(h.default.PLAYBACK_ENDED,vt,_),x.off(h.default.STREAM_INITIALIZING,Vt,_),x.off(h.default.REPRESENTATION_SWITCH,pn,_),x.off(h.default.BUFFER_LEVEL_STATE_CHANGED,Bt,_),Qe(),function Dt(){C.removeEventListener("canplay",Et),C.removeEventListener("canplaythrough",Lt),C.removeEventListener("play",kt),C.removeEventListener("waiting",en),C.removeEventListener("playing",an),C.removeEventListener("pause",Qt),C.removeEventListener("error",ht),C.removeEventListener("seeking",ut),C.removeEventListener("seeked",Tt),C.removeEventListener("timeupdate",Le),C.removeEventListener("progress",Me),C.removeEventListener("ratechange",Ue),C.removeEventListener("loadedmetadata",Ye),C.removeEventListener("loadeddata",st),C.removeEventListener("stalled",It),C.removeEventListener("ended",it),C.removeEventListener("volumechange",lt)}()),R=null,C=null,w=null,W=null}function fe(){return parseFloat((ve(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-H()).toFixed(5))}function ve(je){var ze=je||w;return ze.start+ze.duration}function X(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w&&C&&C.getElement()?(je&&W&&O(H()),C.play()):$=!0}function ye(){w&&C&&C.pause()}function se(je){var ze=arguments.length>1&&void 0!==arguments[1]&&arguments[1],nt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],wt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];w&&C&&je!==(isNaN(U)?C.getTime():U)&&((ie=!0===nt)||(U=je),m.info("Requesting seek to time: "+je+(ie?" (internal)":"")),W&&wt&&O(je),C.setCurrentTime(je,ze))}function D(){if(w&&C&&W){var je=f&&f.hasVideoTrack()?B.default.VIDEO:B.default.AUDIO,ze=d.getCurrentDVRInfo(je);return ze&&ze.range?ze.range.end:0}}function O(je){var ze=new Date(I.getClientReferenceTime()),nt=L.getRegularPeriods()[0],wt=I.calcPresentationTimeFromWallTime(ze,nt);A=wt-je}function H(){return w&&C?C.getTime():null}function j(){return w&&C?C.isPaused():null}function oe(){return w&&C?C.isSeeking():null}function Te(){return w&&C?C.isStalled():null}function Re(){return w&&C?C.getPlaybackRate():null}function G(){return w&&C?C.getEnded():null}function V(){return W}function De(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!j()&&W&&0!==C.getReadyState()&&!oe()&&!le){je||(je=f.hasVideoTrack()?B.default.VIDEO:B.default.AUDIO);var ze=H(),nt=Fe(ze,je);!isNaN(nt)&&nt!==ze&&!oe()&&(Te()||q||1===C.getReadyState())&&(m.debug("UpdateCurrentTime: Seek to actual time: ".concat(nt," from currentTime: ").concat(ze)),se(nt,!1,!1))}}function Fe(je,ze){var nt=d.getCurrentDVRInfo(ze),wt=nt?nt.range:null;return wt?je>wt.end?Math.max(wt.end-A,wt.start):je>0&&je+.25<wt.start&&Math.abs(je-wt.start)<31536e4?ne?Math.max(wt.end-A,wt.start):wt.start:je:NaN}function Ce(){null===R&&(R=setInterval(function(){!function Be(){x.trigger(M.default.WALLCLOCK_TIME_UPDATED,{isDynamic:W,time:new Date}),V()&&(f.addDVRMetric(),j()?function Xe(){var je=Date.now();(!Q||je>Q+500)&&(Q=je,Le())}():De())}()},Ee.get().streaming.wallclockTimeUpdateInterval))}function Qe(){clearInterval(R),R=null}function tt(je){var ze=L.convertRepresentationToRepresentationInfo(je.currentRepresentation),nt=ze?ze.mediaInfo.streamInfo:null;null===nt||w.id!==nt.id||(w=nt)}function Et(){x.trigger(M.default.CAN_PLAY)}function Lt(){x.trigger(M.default.CAN_PLAY_THROUGH)}function Bt(je){je.streamId===f.getActiveStreamInfo().id&&(q=je.state===y.default.BUFFER_EMPTY,Ee.get().streaming.buffer.setStallState&&C.setStallState(je.mediaType,je.state===y.default.BUFFER_EMPTY))}function kt(){m.info("Native video element event: play"),De(),Ce(),x.trigger(M.default.PLAYBACK_STARTED,{startTime:H()})}function en(){m.info("Native video element event: waiting"),x.trigger(M.default.PLAYBACK_WAITING,{playingTime:H()})}function an(){m.info("Native video element event: playing"),ie=!1,x.trigger(M.default.PLAYBACK_PLAYING,{playingTime:H()})}function Qt(){m.info("Native video element event: pause"),x.trigger(M.default.PLAYBACK_PAUSED,{ended:G()})}function ut(){if(!ie){var je=H();!isNaN(U)&&U!==je&&(je=U),U=NaN,m.info("Seeking to: "+je),Ce(),x.trigger(M.default.PLAYBACK_SEEKING,{seekTime:je,streamId:w.id})}}function Tt(){m.info("Native video element event: seeked"),ie=!1,x.trigger(M.default.PLAYBACK_SEEKED)}function Le(){w&&x.trigger(M.default.PLAYBACK_TIME_UPDATED,{timeToEnd:fe(),time:H(),streamId:w.id})}function Me(){x.trigger(M.default.PLAYBACK_PROGRESS,{streamId:w.id})}function Ue(){var je=Re();m.info("Native video element event: ratechange: ",je),x.trigger(M.default.PLAYBACK_RATE_CHANGED,{playbackRate:je})}function Ye(){m.info("Native video element event: loadedmetadata"),x.trigger(M.default.PLAYBACK_METADATA_LOADED),Ce()}function st(){m.info("Native video element event: loadeddata"),x.trigger(M.default.PLAYBACK_LOADED_DATA)}function it(){m.info("Native video element event: ended"),ye(),Qe();var je=f?f.getActiveStreamInfo():null;!je||x.trigger(M.default.PLAYBACK_ENDED,{isLast:je.isLast})}function lt(){x.trigger(M.default.PLAYBACK_VOLUME_CHANGED)}function vt(je){if(R&&je.isLast){m.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var ze=je.seekTime?je.seekTime:ve();C.setCurrentTime(ze),ye(),Qe()}}function ht(je){x.trigger(M.default.PLAYBACK_ERROR,{error:(je.target||je.srcElement).error})}function Mt(je){if(!1===je.stream&&ne&&!isNaN(je.request.duration)){var ze=1.2*je.request.duration;ze>A&&(m.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",ze.toFixed(2)),A=ze,p=ze)}}function It(je){x.trigger(M.default.PLAYBACK_STALLED,{e:je})}function Vt(je){!function Oe(je){je&&je.supplementalProperties&&"true"===je.supplementalProperties[B.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(m.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),ne=!0)}(je.mediaInfo)}function pn(je){var ze=f.getActiveStreamInfo();!je||!ze||!je.currentRepresentation||!je.streamId||je.streamId!==ze.id||!je.mediaType||je.mediaType!==B.default.VIDEO&&je.mediaType!==B.default.AUDIO||(ne=!je.currentRepresentation.availabilityTimeComplete)&&!de&&(de=!0)}function Vn(){le=!0}function Kn(){le=!1}return _={initialize:function re(je,ze){w=je,!0!==ze&&function _e(){(function Je(){C.addEventListener("canplay",Et),C.addEventListener("canplaythrough",Lt),C.addEventListener("play",kt),C.addEventListener("waiting",en),C.addEventListener("playing",an),C.addEventListener("pause",Qt),C.addEventListener("error",ht),C.addEventListener("seeking",ut),C.addEventListener("seeked",Tt),C.addEventListener("timeupdate",Le),C.addEventListener("progress",Me),C.addEventListener("ratechange",Ue),C.addEventListener("loadedmetadata",Ye),C.addEventListener("loadeddata",st),C.addEventListener("stalled",It),C.addEventListener("ended",it),C.addEventListener("volumechange",lt)})(),W=w.manifestInfo.isDynamic,q=!1,ie=!1,x.on(M.default.DATA_UPDATE_COMPLETED,tt,_),x.on(M.default.LOADING_PROGRESS,Mt,_),x.on(M.default.MANIFEST_UPDATED,Vn,_),x.on(M.default.STREAMS_COMPOSED,Kn,_),x.on(h.default.PLAYBACK_ENDED,vt,_,{priority:T.default.EVENT_PRIORITY_HIGH}),x.on(h.default.STREAM_INITIALIZING,Vt,_),x.on(h.default.REPRESENTATION_SWITCH,pn,_),x.on(h.default.BUFFER_LEVEL_STATE_CHANGED,Bt,_),$&&($=!1,X())}()},setConfig:function xe(je){!je||(je.streamController&&(f=je.streamController),je.serviceDescriptionController&&(v=je.serviceDescriptionController),je.dashMetrics&&(d=je.dashMetrics),je.adapter&&(L=je.adapter),je.videoModel&&(C=je.videoModel),je.timelineConverter&&(I=je.timelineConverter),je.settings&&(Ee=je.settings))},getTimeToStreamEnd:fe,getBufferLevel:function et(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,ze=null;return f.getActiveStreamProcessors().forEach(function(nt){if(!je||0===je.length||-1===je.indexOf(nt.getType())){var wt=nt.getBufferLevel();ze=null===ze?wt:Math.min(ze,wt)}}),ze},getPlaybackStalled:function ge(){return q},getTime:H,getLowLatencyModeEnabled:function dt(){return ne},getInitialCatchupModeActivated:function rn(){return de},getIsManifestUpdateInProgress:function te(){return le},getPlaybackRate:Re,getPlayedRanges:function me(){return w&&C?C.getPlayedRanges():null},getEnded:G,getIsDynamic:V,getStreamController:function K(){return f},computeAndSetLiveDelay:function Ie(je,ze){var nt,wt,tn,Ve=!isNaN(je)&&isFinite(je)?je:NaN,Ze=L.getSuggestedPresentationDelay(),gt=v.getServiceDescriptionSettings();return nt=isNaN(Ee.get().streaming.delay.liveDelay)?null===Ee.get().streaming.delay.liveDelayFragmentCount||isNaN(Ee.get().streaming.delay.liveDelayFragmentCount)||isNaN(Ve)?gt&&!isNaN(gt.liveDelay)&&gt.liveDelay>0?gt.liveDelay:!0===Ee.get().streaming.delay.useSuggestedPresentationDelay&&null!==Ze&&!isNaN(Ze)&&Ze>0?Ze:isNaN(Ve)?ze&&!isNaN(ze.minBufferTime)?4*ze.minBufferTime:4*w.manifestInfo.minBufferTime:4*Ve:Ve*Ee.get().streaming.delay.liveDelayFragmentCount:Ee.get().streaming.delay.liveDelay,null!==(tn=L.getAvailabilityStartTime())&&(ue=tn),wt=ze&&ze.dvrWindowSize>0?Math.min(nt,ze.dvrWindowSize):nt,A=wt,p=wt,wt},getLiveDelay:function he(){return A},getOriginalLiveDelay:function Ae(){return p},getCurrentLiveLatency:function be(){if(!W||isNaN(ue))return NaN;var je=H();if(isNaN(je)||0===je)return 0;var ze=(new Date).getTime()+1e3*I.getClientTimeOffset();return Math.max(((ze-ue-1e3*je)/1e3).toFixed(3),0)},play:X,isPaused:j,isStalled:Te,pause:ye,isSeeking:oe,getStreamEndTime:ve,seek:se,seekToOriginalLive:function ee(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ze=arguments.length>1&&void 0!==arguments[1]&&arguments[1],nt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],wt=D();0!==wt&&se(wt-(A=p),je,ze,nt)},seekToCurrentLive:function z(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ze=arguments.length>1&&void 0!==arguments[1]&&arguments[1],nt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],wt=D();0!==wt&&se(wt-A,je,ze,nt)},reset:pe,updateCurrentTime:De,getAvailabilityStartTime:function J(){return ue}},function Z(){m=Object(b.default)(P).getInstance().getLogger(_),pe()}(),_}F.__dashjs_factory_name="PlaybackController",k.default=S.default.getSingletonFactory(F)},"./src/streaming/controllers/ScheduleController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/streaming/models/FragmentModel.js"),M=c("./src/core/EventBus.js"),S=c("./src/core/events/Events.js"),b=c("./src/core/FactoryMaker.js"),h=c("./src/core/Debug.js"),y=c("./src/streaming/constants/MetricsConstants.js"),E=c("./src/streaming/MediaPlayerEvents.js");function F(P){P=P||{};var p,w,W,$,Q,ue,ce,ne,U,ie,q,le,de,x=this.context,_=Object(M.default)(x).getInstance(),m=P.dashMetrics,f=P.mediaPlayerModel,v=P.fragmentModel,d=P.abrController,L=P.playbackController,C=P.textController,I=P.type,R=P.bufferController,A=P.settings;function ge(Fe){if(!R.getIsBufferingCompleted()){fe();var Ce=isNaN(Fe)?0:Fe;ue=setTimeout(X,Ce)}}function fe(){ue&&(clearTimeout(ue),ue=null)}function X(){try{if(function se(){try{return I===B.default.TEXT&&!C.isTextEnabled()||L.isPaused()&&(!L.getStreamController().getInitialPlayback()||!L.getStreamController().getAutoPlay())&&!A.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void fe();if(function ee(){try{return $&&(isNaN(ie)||q||function ve(){var Ce=d.getMaxAllowedIndexFor(I,w.id);return!(!isNaN(U)&&U==Ce||(W.info("Top quality "+I+" index has changed from "+U+" to "+Ce),U=Ce,0))}()||function z(){return!I||!$||m.getCurrentBufferLevel(I)<D()}())}catch{return!1}}()){var Fe=!1;de&&(Fe=d.checkPlaybackQuality(I,w.id)),Fe||function ye(){le||$.quality!==ie||q?(q?(W.debug("Switch track for "+I+", representation id = "+$.id),q=!1):W.debug("Quality has changed, get init request for representationid = "+$.id),_.trigger(S.default.INIT_FRAGMENT_NEEDED,{representationId:$.id,sender:p},{streamId:w.id,mediaType:I}),de=!1,le=!1):(W.debug("Media segment needed for ".concat(I," and stream id ").concat(w.id)),_.trigger(S.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:w.id,mediaType:I}),de=!0)}()}else ge(L.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}catch{ge(L.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}}function D(){var Fe=NaN;return!I||!$||(Fe=I===B.default.TEXT?function O(){try{if(C.isTextEnabled()){if(isNaN($.fragmentDuration)){var Fe=m.getCurrentSchedulingInfo(y.default.SCHEDULING_INFO);return Fe?Fe.duration:0}return $.fragmentDuration}return 0}catch{return 0}}():I===B.default.AUDIO&&ce?function H(){try{var Fe=m.getCurrentBufferLevel(B.default.VIDEO);return isNaN($.fragmentDuration)?Fe+1:Math.max(Fe+1,$.fragmentDuration)}catch{return 0}}():function j(){try{var Fe=$.mediaInfo.streamInfo;return d.isPlayingAtTopQuality(Fe)?Fe.manifestInfo.duration>=A.get().streaming.buffer.longFormContentDurationThreshold?A.get().streaming.buffer.bufferTimeAtTopQualityLongForm:A.get().streaming.buffer.bufferTimeAtTopQuality:f.getStableBufferTime()}catch{return f.getStableBufferTime()}}()),Fe}function Re(){me(!0)}function me(Fe){if(L&&v){var Ce=v.getRequests({state:T.default.FRAGMENT_MODEL_EXECUTED,time:L.getTime(),threshold:0})[0];Ce&&L.getTime()>=Ce.startTime&&((!ne.mediaInfo||Ce.mediaInfo.type===ne.mediaInfo.type&&Ce.mediaInfo.id!==ne.mediaInfo.id)&&Fe&&_.trigger(S.default.TRACK_CHANGE_RENDERED,{mediaType:I,oldMediaInfo:ne.mediaInfo,newMediaInfo:Ce.mediaInfo,streamId:w.id}),(Ce.quality!==ne.quality||Ce.adaptationIndex!==ne.adaptationIndex)&&Fe&&(W.debug("Quality change rendered for streamId ".concat(w.id," and type ").concat(I)),_.trigger(S.default.QUALITY_CHANGE_RENDERED,{mediaType:I,oldQuality:ne.quality,newQuality:Ce.quality,streamId:w.id})),ne={mediaInfo:Ce.mediaInfo,quality:Ce.quality,adaptationIndex:Ce.adaptationIndex})}}function G(Fe){W.debug("Appended bytes for ".concat(Fe.mediaType," and stream id ").concat(w.id)),(isNaN(Fe.index)||isNaN(ie))&&(ie=Fe.quality,W.info("["+I+"] lastInitializedRepresentationInfo changed to "+Fe.quality)),ge(0)}function V(){v.abortRequests(),fe()}function K(){A.get().streaming.scheduling.scheduleWhilePaused||ge()}function te(Fe){m.updatePlayListTraceMetrics({playbackspeed:Fe.playbackRate.toString()})}function Ie(){de=!0,Q=0,ie=NaN,ne={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},U=NaN,q=!1,le=!1}return p={initialize:function Z(Fe){ce=Fe,_.on(S.default.BYTES_APPENDED_END_FRAGMENT,G,p),_.on(S.default.URL_RESOLUTION_FAILED,V,p),_.on(E.default.PLAYBACK_STARTED,K,p),_.on(E.default.PLAYBACK_RATE_CHANGED,te,p),_.on(E.default.PLAYBACK_TIME_UPDATED,Re,p)},getType:function pe(){return I},getStreamId:function re(){return w.id},setCurrentRepresentation:function _e(Fe){$=Fe},setTimeToLoadDelay:function J(Fe){Q=Fe},getTimeToLoadDelay:function he(){return Q},setSwitchTrack:function oe(Fe){q=Fe},getSwitchStrack:function Te(){return q},startScheduleTimer:ge,clearScheduleTimer:fe,reset:function xe(){_.off(S.default.BYTES_APPENDED_END_FRAGMENT,G,p),_.off(S.default.URL_RESOLUTION_FAILED,V,p),_.off(E.default.PLAYBACK_STARTED,K,p),_.off(E.default.PLAYBACK_RATE_CHANGED,te,p),_.off(E.default.PLAYBACK_TIME_UPDATED,Re,p),fe(),me(!1),Ie(),w=null},getBufferTarget:D,getPlaybackController:function De(){return L},setCheckPlaybackQuality:function Ae(Fe){de=Fe},setInitSegmentRequired:function be(Fe){le=Fe}},function Ee(){W=Object(h.default)(x).getInstance().getLogger(p),Ie(),w=P.streamInfo}(),p}F.__dashjs_factory_name="ScheduleController",k.default=b.default.getClassFactory(F)},"./src/streaming/controllers/StreamController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/streaming/constants/MetricsConstants.js"),M=c("./src/streaming/Stream.js"),S=c("./src/streaming/ManifestUpdater.js"),b=c("./src/core/EventBus.js"),h=c("./src/core/events/Events.js"),y=c("./src/core/FactoryMaker.js"),E=c("./src/streaming/vo/metrics/PlayList.js"),F=c("./src/core/Debug.js"),P=c("./src/streaming/utils/InitCache.js"),x=c("./src/streaming/utils/URLUtils.js"),_=c("./src/streaming/MediaPlayerEvents.js"),m=c("./src/streaming/controllers/TimeSyncController.js"),f=c("./src/streaming/controllers/MediaSourceController.js"),v=c("./src/streaming/vo/DashJSError.js"),d=c("./src/core/errors/Errors.js"),L=c("./src/streaming/controllers/EventController.js"),C=c("./src/streaming/constants/ConformanceViolationConstants.js");function I(ce){return function w(ce){if(Array.isArray(ce))return W(ce)}(ce)||function p(ce){if(typeof Symbol<"u"&&Symbol.iterator in Object(ce))return Array.from(ce)}(ce)||function A(ce,ne){if(ce){if("string"==typeof ce)return W(ce,ne);var U=Object.prototype.toString.call(ce).slice(8,-1);if("Object"===U&&ce.constructor&&(U=ce.constructor.name),"Map"===U||"Set"===U)return Array.from(ce);if("Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return W(ce,ne)}}(ce)||function R(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(ce,ne){(null==ne||ne>ce.length)&&(ne=ce.length);for(var U=0,ie=new Array(ne);U<ne;U++)ie[U]=ce[U];return ie}function ue(){var U,ie,q,le,de,Ee,Z,pe,re,_e,ge,fe,ve,X,ye,se,ee,z,D,O,H,j,oe,Te,Re,me,G,V,K,te,J,he,Ae,be,Ie,xe,De,Fe,Ce,Qe,tt,Et,Lt,Bt,kt,en,an,Qt,ut,ce=this.context,ne=Object(b.default)(ce).getInstance();function Ye(){if(!(Ee&&Ee.hasOwnProperty("load")&&j&&j.hasOwnProperty("initialize")&&j.hasOwnProperty("reset")&&j.hasOwnProperty("getClientTimeOffset")&&Z&&H&&re&&be))throw new Error(B.default.MISSING_CONFIG_ERROR)}function st(){if(!de||!de.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function vt(){!function Be(){try{var Pe=pe.getStreamsInfo();if(!Te&&0===Pe.length)throw new Error("There are no periods in the MPD");Te&&Pe.length>0&&re.updateManifestUpdateInfo({currentTime:be.getTime(),buffered:Ae.getBufferRange(),presentationStartTime:Pe[0].start,clientTimeOffset:j.getClientTimeOffset()}),oe.length>0&&function ia(Pe){0!==Pe.length?oe=oe.filter(function(at){var Gt=Pe.filter(function(un){return un.id===at.getId()}).length>0||at.getId()===Te.getId();return Gt||(ie.debug("Removing stream ".concat(at.getId())),at.reset(!0)),Gt}):ie.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Pe);for(var at=[],_t=0,Gt=Pe.length;_t<Gt;_t++){var un=Pe[_t];at.push(Xe(un)),re.addManifestUpdateStreamInfo(un)}Promise.all(at).then(function(){return kt.get().streaming.applyContentSteering&&!Te&&fe.shouldQueryBeforeStart()?fe.loadSteeringData():Promise.resolve()}).then(function(){Te||et(Pe),ne.trigger(h.default.STREAMS_COMPOSED),gt()}).catch(function(_n){throw _n})}catch(_n){H.error(new v.default(d.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,_n.message+" nostreamscomposed",Z.getValue())),J=!0,sa()}}()}function ht(){en=!0}function Xe(Pe){var at=Ya(Pe.id);return at?at.updateData(Pe):(at=Object(M.default)(ce).create({manifestModel:Z,mediaPlayerModel:xe,dashMetrics:re,manifestUpdater:de,adapter:pe,timelineConverter:j,capabilities:q,capabilitiesFilter:le,errHandler:H,baseURLController:ve,segmentBaseController:X,textController:me,abrController:se,playbackController:be,eventController:z,mediaController:ee,protectionController:Re,videoModel:Ae,streamInfo:Pe,settings:kt}),oe.push(at),at.initialize(),Promise.resolve())}function et(Pe){ze();var at=re.getCurrentDVRInfo().range;if(at.end<at.start){an&&clearTimeout(an);var _t=Math.min(1e3*(-1*(at.end-at.start)+2),2147483647);return ie.debug("Waiting for ".concat(_t," ms before playback can start")),ne.trigger(h.default.AST_IN_FUTURE,{delay:_t}),void(an=setTimeout(function(){et(Pe)},_t))}kt.get().streaming.applyProducerReferenceTime&&Ie.calculateProducerReferenceTimeOffsets(Pe);var Gt=Pe[0].manifestInfo;if(kt.get().streaming.applyServiceDescription&&Ie.applyServiceDescription(Gt),pe.getIsDynamic()){var un=Ds(Pe,Gt);be.computeAndSetLiveDelay(un,Gt)}var _n=function Ii(){var Pe;if(pe.getIsDynamic()){var _t=re.getCurrentDVRInfo();Pe=(_t&&_t.range?_t.range.end:0)-be.getOriginalLiveDelay();var un=_t?_t.range:null;if(un){if(isNaN(Qt)&&-1===Qt.toString().indexOf("posix:")){var xn=nn(!0);isNaN(xn)||(ie.info("Start time from URI parameters: ".concat(xn)),Pe=Math.min(Pe,xn))}else{ie.info("Start time provided by the app: ".concat(Qt));var _n=En(!0,Qt);isNaN(_n)||(Pe=Math.min(Pe,_n))}var rr=kt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Pe=Math.max(Pe,un.start+rr)}}else if(Pe=aa()[0].getStreamInfo().start,isNaN(Qt)){var As=nn(!1);isNaN(As)||(ie.info("Start time from URI parameters: ".concat(As)),Pe=Math.max(Pe,As))}else{ie.info("Start time provided by the app: ".concat(Qt));var bs=En(!1,Qt);isNaN(bs)||(Pe=Math.max(Pe,bs))}return Pe}(),xn=je(_n),rr=null!==xn?xn:oe[0];ne.trigger(h.default.INITIAL_STREAM_SWITCH,{startTime:_n}),dt(rr,null,_n),function Ft(){tt||(tt=setInterval(function(){!K&&be.getTimeToStreamEnd()<=0&&!be.isSeeking()&&ne.trigger(h.default.PLAYBACK_ENDED,{isLast:Qo().isLast})},200))}()}function dt(Pe,at,_t){try{if(K||!Pe||at===Pe&&Pe.getIsActive())return;K=!0,ne.trigger(h.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:at?at.getStreamInfo():null,toStreamInfo:Pe.getStreamInfo()});var Gt=!1;Te=Pe,at&&(Gt=Je(Pe,at),at.deactivate(Gt)),_t=isNaN(_t)?!Gt&&at?Pe.getStreamInfo().start:NaN:_t,ie.info("Switch to stream ".concat(Pe.getId(),". Seektime is ").concat(_t,", current playback time is ").concat(be.getTime(),". Seamless period switch is set to ").concat(Gt)),Lt=Lt.filter(function(un){return un.getId()!==Te.getId()}),be.initialize(Qo(),!!at),Ae.getElement()&&Mt(_t,Gt)}catch{K=!1}}function Mt(Pe,at){var _t;function Gt(){if(he&&"open"===he.readyState){ie.debug("MediaSource is open!"),window.URL.revokeObjectURL(_t),he.removeEventListener("sourceopen",Gt),he.removeEventListener("webkitsourceopen",Gt),Wt();var _n=re.getCurrentDVRInfo();_e.setSeekable(_n.range.start,_n.range.end),It(Pe,at)}}function un(){he.addEventListener("sourceopen",Gt,!1),he.addEventListener("webkitsourceopen",Gt,!1),_t=_e.attachMediaSource(Ae),ie.debug("MediaSource attached to element.  Waiting on open...")}he?at?It(Pe,at):(_e.detachMediaSource(Ae),un()):(he=_e.createMediaSource(),un())}function It(Pe,at){Te.activate(he,at?Et:void 0,Pe).then(function(_t){if(_t){var Gt=Object.keys(_t);Gt.length>0&&_t[Gt[0]].getBuffer().changeType&&(Bt=!0),Et=_t}isNaN(Pe)||(ne.trigger(h.default.SEEK_TARGET,{time:Pe},{streamId:Te.getId()}),be.seek(Pe,!1,!0),Te.startScheduleControllers()),K=!1,ne.trigger(h.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Qo()})})}function Vt(Pe){var at=be.getTime(),_t=Pe.seekTime,Gt=je(_t);Gt&&Gt!==Te?Gt&&Gt!==Te&&(pn(at,_t),function Kn(Pe,at){var _t=Pe&&!isNaN(Pe.seekTime)?Pe.seekTime:NaN,un=Te.getProcessors().map(function(_n){return _n.prepareOuterPeriodPlaybackSeeking(Pe)});Promise.all(un).then(function(){dt(at,Te,_t)}).catch(function(_n){H.error(_n)})}(Pe,Gt)):(pn(at,_t),function Vn(Pe){Te.getProcessors().forEach(function(_t){return _t.prepareInnerPeriodPlaybackSeeking(Pe)}),oa(E.PlayListTrace.USER_REQUEST_STOP_REASON)}(Pe)),Zr(E.PlayList.SEEK_START_REASON)}function pn(Pe,at){rn()}function rn(){Lt&&Lt.length>0&&(Lt.forEach(function(Pe){Pe.deactivate(!0)}),Lt=[])}function Oe(Pe){Pe.newMediaInfo.streamInfo.id===Te.getId()&&(rn(),Te.prepareTrackChange(Pe))}function Je(Pe,at){try{return kt.get().streaming.buffer.reuseExistingSourceBuffers&&(at.isProtectionCompatible(Pe)||en)&&(Bt||at.isMediaCodecCompatible(Pe,at))}catch{return!1}}function Dt(Pe){var at=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;he&&!Pe.getPreloaded()&&Je(Pe,at)&&Pe.startPreloading(he,Et).then(function(){Lt.push(Pe)})}function je(Pe){if(isNaN(Pe))return null;for(var at=oe.length,_t=0;_t<at;_t++){var Gt=oe[_t];if(Pe<parseFloat((Gt.getStartTime()+Gt.getDuration()).toFixed(5)))return Gt}return null}function ze(){try{var Pe=pe.getIsDynamic(),_t=pe.getStreamsInfo()[0].manifestInfo,Gt=be.getTime(),un=j.calcTimeShiftBufferWindow(oe,Pe),_n=mt();if(typeof un.start>"u"||typeof un.end>"u")return;_n&&0!==_n.length?_n.forEach(function(xn){re.addDVRInfo(xn.getType(),Gt,_t,un)}):re.addDVRInfo(B.default.VIDEO,Gt,_t,un)}catch{}}function nt(Pe){if(Ce&&V){var at=xe.getInitialBufferLevel(),_t=[B.default.TEXT];(isNaN(at)||at<=be.getBufferLevel(_t)||pe.getIsDynamic()&&at>be.getLiveDelay())&&(Ce=!1,Zr(E.PlayList.INITIAL_PLAYOUT_START_REASON),be.play())}Pe&&Pe.mediaType&&re.addBufferLevel(Pe.mediaType,new Date,1e3*Pe.bufferLevel)}function wt(Pe){Pe.streamInfo.id===Te.getId()&&Pe.reason&&Pe.reason.forceReplace&&rn(),Ya(Pe.streamInfo.id).prepareQualityChange(Pe)}function tn(){if(pe.getIsDynamic()&&0!==be.getOriginalLiveDelay()){var Pe=pe.getStreamsInfo();if(Pe.length>0){var at=Pe[0].manifestInfo,_t=Ds(Pe,at);be.computeAndSetLiveDelay(_t,at)}}}function We(){if(Tr()){var Pe=Ae.getPlaybackQuality();Pe&&re.addDroppedFrames(Pe)}}function qe(){ie.debug("[onPlaybackStarted]"),!Ce&&Fe&&Zr(E.PlayList.RESUME_FROM_PAUSE_START_REASON),Ce&&(Ce=!1),Qe&&(Qe=!1,kt.get().streaming.applyContentSteering&&!fe.shouldQueryBeforeStart()&&fe.loadSteeringData()),Fe=!1}function Ve(Pe){ie.debug("[onPlaybackPaused]"),Pe.ended||(Fe=!0,oa(E.PlayListTrace.USER_REQUEST_STOP_REASON))}function Ze(Pe){ie.debug("Stream with id ".concat(Pe.streamInfo.id," finished buffering")),he&&Pe.streamInfo.isLast?(ie.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),_e.signalEndOfStream(he)):gt()}function gt(){if(Te&&Te.getHasFinishedBuffering())for(var Pe=function Jt(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var at=Pe||Te||null;if(at){var _t=at.getStreamInfo();return oe.filter(function(Gt){var un=Gt.getStreamInfo();return un.start>_t.start&&_t.id!==un.id})}}catch{return[]}}(Te),at=0;at<Pe.length;){var _t=Pe[at],Gt=0===at?Te:Pe[at-1];!_t.getPreloaded()&&Gt.getHasFinishedBuffering()&&he&&Dt(_t,Gt),at+=1}}function Ct(){tt&&(clearInterval(tt),tt=null)}function mt(){return Te?Te.getProcessors():[]}function Rt(Pe){if(Te&&!Te.getIsEndedEventSignaled()){Te.setIsEndedEventSignaled(!0);var at=function cn(){var at=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||Te||null;if(!at)return null;for(var _t=at.getStreamInfo(),Gt=_t.start,un=0,_n=-1,xn=NaN;un<oe.length;){var fr=oe[un].getStreamInfo(),fi=fr.start-Gt;fi>0&&(isNaN(xn)||fi<xn)&&_t.id!==fr.id&&(xn=fi,_n=un),un+=1}return _n>=0?oe[_n]:null}();at?(ie.debug("StreamController onEnded, found next stream with id ".concat(at.getStreamInfo().id,". Switching from ").concat(Te.getStreamInfo().id," to ").concat(at.getStreamInfo().id)),dt(at,Te,NaN)):(ie.debug("StreamController no next stream found"),Te.setIsEndedEventSignaled(!1)),oa(at?E.PlayListTrace.END_OF_PERIOD_STOP_REASON:E.PlayListTrace.END_OF_CONTENT_STOP_REASON)}Pe&&Pe.isLast&&(Ct(),fe.stopSteeringRequestTimer())}function Wt(Pe){var at=Pe||Qo().manifestInfo.duration;_e.setDuration(at)}function nn(Pe){var at=ye.getURIFragmentData();if(!at||!at.t)return NaN;var Gt=aa()[0].getStreamInfo().start;return at.t=at.t.split(",")[0],Io(Pe,at.t,Gt)}function En(Pe,at){var _t=0;return Pe||(_t=aa()[0].getStreamInfo().start),Io(Pe,at,_t)}function Io(Pe,at,_t){var Gt=pe.getRegularPeriods()[0],un=at.toString(),_n=-1!==un.indexOf("posix:")?"now"===un.substring(6)?Date.now()/1e3:parseFloat(un.substring(6)):NaN;return Pe&&!isNaN(_n)?j.calcPresentationTimeFromWallTime(new Date(1e3*_n),Gt):parseFloat(un)+_t}function Ds(Pe,at){try{var _t=NaN;if(at&&!isNaN(at.maxFragmentDuration)&&isFinite(at.maxFragmentDuration))return at.maxFragmentDuration;if(Pe&&1===Pe.length){var Gt=Pe[0],_n=[B.default.VIDEO,B.default.AUDIO,B.default.TEXT].reduce(function(xn,rr){var fr=pe.getMediaInfoForType(Gt,rr);return fr&&!1!==fr.isFragmented&&xn.push(fr),xn},[]).reduce(function(xn,rr){var fr=pe.getVoRepresentations(rr);return fr&&fr.length>0&&fr.forEach(function(fi){fi&&xn.push(fi)}),xn},[]).reduce(function(xn,rr){var fr=pe.convertRepresentationToRepresentationInfo(rr);return fr&&fr.fragmentDuration&&!isNaN(fr.fragmentDuration)&&xn.push(fr.fragmentDuration),xn},[]);_t=Math.max.apply(Math,I(_n))}return isFinite(_t)?_t:NaN}catch{return NaN}}function Ri(Pe){if(Pe.error)J=!0,sa();else{ie.info("Manifest updated... updating data system wide.");var at=Pe.manifest;pe.updatePeriods(at);var _t=pe.getUTCTimingSources();pe.getIsDynamic()&&(!_t||0===_t.length)&&ne.trigger(_.default.CONFORMANCE_VIOLATION,{level:C.default.LEVELS.WARNING,event:C.default.EVENTS.NO_UTC_TIMING_ELEMENT});var Gt=pe.getIsDynamic()?_t.concat(De.getUTCTimingSources()):_t,un=O.isHTTPS(Pe.manifest.url);Gt.forEach(function(_n){_n.value.replace(/.*?:\/\//g,"")===kt.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(_n.value=_n.value.replace(un?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),un?"https://":"http://"),ie.debug("Matching default timing source protocol to manifest protocol: ",_n.value))}),le.filterUnsupportedFeatures(at).then(function(){ve.initialize(at),ge.attemptSync(Gt,pe.getIsDynamic())})}}function Tr(){return!!Te&&Te.getHasVideoTrack()}function Ss(){return!!Te&&Te.getHasAudioTrack()}function oa(Pe,at){at=at||new Date,mt().forEach(function(_t){_t.finalisePlayList(at,Pe)}),re.addPlayList()}function Zr(Pe){re.createPlaylistMetrics(1e3*be.getTime(),Pe)}function fu(Pe){if(Pe.error){var at="";switch(Pe.error.code){case 1:at="MEDIA_ERR_ABORTED";break;case 2:at="MEDIA_ERR_NETWORK";break;case 3:at="MEDIA_ERR_DECODE",ut.counts.mediaErrorDecode+=1;break;case 4:at="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:at="MEDIA_ERR_ENCRYPTED";break;default:at="UNKNOWN"}if("MEDIA_ERR_DECODE"===at&&kt.get().errors.recoverAttempts.mediaErrorDecode>=ut.counts.mediaErrorDecode)return void function If(){ie.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Pe=be.getTime();Te.deactivate(!1),ie.warn("MediaSource has been resetted. Resuming playback from time ".concat(Pe)),Mt(Pe,!1)}();te=!0,Pe.error.message&&(at+=" ("+Pe.error.message+")"),Pe.error.msExtendedCode&&(at+=" (0x"+(Pe.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),ie.fatal("Video Element Error: "+at),Pe.error&&ie.fatal(Pe.error),H.error(new v.default(Pe.error.code,at)),sa()}}function Qo(){return Te?Te.getStreamInfo():null}function Ya(Pe){for(var at=0,_t=oe.length;at<_t;at++)if(oe[at].getId()===Pe)return oe[at];return null}function $a(Pe){isNaN(Pe.newDuration)||Wt(Pe.newDuration)}function Nn(){oe=[],Qt=NaN,Re=null,K=!1,Te=null,te=!1,J=!1,Ce=!0,Qe=!0,Fe=!1,V=!0,tt=null,en=!1,Bt=!1,Lt=[],an=null,ut={counts:{mediaErrorDecode:0}}}function sa(){Ye(),ge.reset(),oa(te||J?E.PlayListTrace.FAILURE_STOP_REASON:E.PlayListTrace.USER_REQUEST_STOP_REASON);for(var Pe=0,at=oe?oe.length:0;Pe<at;Pe++)oe[Pe].reset(te);(function Ue(){ne.off(_.default.PLAYBACK_TIME_UPDATED,We,U),ne.off(_.default.PLAYBACK_SEEKING,Vt,U),ne.off(_.default.PLAYBACK_ERROR,fu,U),ne.off(_.default.PLAYBACK_STARTED,qe,U),ne.off(_.default.PLAYBACK_PAUSED,Ve,U),ne.off(_.default.PLAYBACK_ENDED,Rt,U),ne.off(_.default.METRIC_ADDED,hu,U),ne.off(_.default.MANIFEST_VALIDITY_CHANGED,$a,U),ne.off(_.default.BUFFER_LEVEL_UPDATED,nt,U),ne.off(_.default.QUALITY_CHANGE_REQUESTED,wt,U),h.default.KEY_SESSION_UPDATED&&ne.off(h.default.KEY_SESSION_UPDATED,ht,U),ne.off(h.default.MANIFEST_UPDATED,Ri,U),ne.off(h.default.STREAM_BUFFERING_COMPLETED,Ze,U),ne.off(h.default.TIME_SYNCHRONIZATION_COMPLETED,vt,U),ne.off(h.default.CURRENT_TRACK_CHANGED,Oe,U),ne.off(h.default.SETTING_UPDATED_LIVE_DELAY,tn,U),ne.off(h.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,tn,U)})(),ve.reset(),de.reset(),z.reset(),re.clearAllCurrentMetrics(),Z.setValue(null),Ee.reset(),j.reset(),D.reset(),he&&(_e.detachMediaSource(Ae),he=null),Ae=null,Re&&(Re=null,G=null,Z.getValue()&&ne.trigger(h.default.PROTECTION_DESTROYED,{data:Z.getValue().url})),Ct(),ne.trigger(h.default.STREAM_TEARDOWN_COMPLETE),Nn()}function hu(Pe){if(Pe.metric===T.default.DVR_INFO){var at=Ss()?B.default.AUDIO:B.default.VIDEO;Pe.mediaType===at&&_e.setSeekable(Pe.value.range.start,Pe.value.range.end)}}function aa(){return oe}return U={initialize:function Le(Pe,at){Ye(),V=Pe,G=at,j.initialize(),(de=Object(S.default)(ce).create()).setConfig({manifestModel:Z,adapter:pe,manifestLoader:Ee,errHandler:H,settings:kt}),de.initialize(),(z=Object(L.default)(ce).getInstance()).setConfig({manifestUpdater:de,playbackController:be,settings:kt}),z.start(),ge.setConfig({dashMetrics:re,baseURLController:ve,errHandler:H,settings:kt}),ge.initialize(),Re&&(ne.trigger(h.default.PROTECTION_CREATED,{controller:Re}),Re.setMediaElement(Ae.getElement()),G&&Re.setProtectionData(G)),function Me(){ne.on(_.default.PLAYBACK_TIME_UPDATED,We,U),ne.on(_.default.PLAYBACK_SEEKING,Vt,U),ne.on(_.default.PLAYBACK_ERROR,fu,U),ne.on(_.default.PLAYBACK_STARTED,qe,U),ne.on(_.default.PLAYBACK_PAUSED,Ve,U),ne.on(_.default.PLAYBACK_ENDED,Rt,U),ne.on(_.default.METRIC_ADDED,hu,U),ne.on(_.default.MANIFEST_VALIDITY_CHANGED,$a,U),ne.on(_.default.BUFFER_LEVEL_UPDATED,nt,U),ne.on(_.default.QUALITY_CHANGE_REQUESTED,wt,U),h.default.KEY_SESSION_UPDATED&&ne.on(h.default.KEY_SESSION_UPDATED,ht,U),ne.on(h.default.MANIFEST_UPDATED,Ri,U),ne.on(h.default.STREAM_BUFFERING_COMPLETED,Ze,U),ne.on(h.default.TIME_SYNCHRONIZATION_COMPLETED,vt,U),ne.on(h.default.CURRENT_TRACK_CHANGED,Oe,U),ne.on(h.default.SETTING_UPDATED_LIVE_DELAY,tn,U),ne.on(h.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,tn,U)}()},getActiveStreamInfo:Qo,addDVRMetric:ze,hasVideoTrack:Tr,hasAudioTrack:Ss,getStreamById:Ya,getStreamForTime:je,getTimeRelativeToStreamId:function $e(Pe,at){for(var _t=null,Gt=0,un=0,_n=null,xn=0;xn<oe.length;xn++){if(un=(_t=oe[xn]).getStartTime(),_n=_t.getDuration(),Number.isFinite(un)&&(Gt=un),_t.getId()===at)return Pe-Gt;Number.isFinite(_n)&&(Gt+=_n)}return null},load:function it(Pe){var at=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Ye(),Qt=at,Ee.load(Pe)},loadWithManifest:function lt(Pe){var at=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;st(),Qt=at,de.setManifest(Pe)},getActiveStreamProcessors:mt,setConfig:function wf(Pe){!Pe||(Pe.capabilities&&(q=Pe.capabilities),Pe.capabilitiesFilter&&(le=Pe.capabilitiesFilter),Pe.manifestLoader&&(Ee=Pe.manifestLoader),Pe.manifestModel&&(Z=Pe.manifestModel),Pe.mediaPlayerModel&&(xe=Pe.mediaPlayerModel),Pe.customParametersModel&&(De=Pe.customParametersModel),Pe.protectionController&&(Re=Pe.protectionController),Pe.adapter&&(pe=Pe.adapter),Pe.dashMetrics&&(re=Pe.dashMetrics),Pe.errHandler&&(H=Pe.errHandler),Pe.timelineConverter&&(j=Pe.timelineConverter),Pe.videoModel&&(Ae=Pe.videoModel),Pe.playbackController&&(be=Pe.playbackController),Pe.serviceDescriptionController&&(Ie=Pe.serviceDescriptionController),Pe.contentSteeringController&&(fe=Pe.contentSteeringController),Pe.textController&&(me=Pe.textController),Pe.abrController&&(se=Pe.abrController),Pe.mediaController&&(ee=Pe.mediaController),Pe.settings&&(kt=Pe.settings),Pe.baseURLController&&(ve=Pe.baseURLController),Pe.uriFragmentModel&&(ye=Pe.uriFragmentModel),Pe.segmentBaseController&&(X=Pe.segmentBaseController))},setProtectionData:function Hr(Pe){G=Pe,Re&&Re.setProtectionData(G)},getIsStreamSwitchInProgress:function Rf(){return K},switchToVideoElement:function za(Pe){Te&&(be.initialize(Qo()),Mt(Pe,!1))},getHasMediaOrInitialisationError:function du(){return te||J},getStreams:aa,getActiveStream:function Gn(){return Te},getInitialPlayback:function $n(){return Ce},getAutoPlay:function pt(){return V},reset:sa},function Tt(){ie=Object(F.default)(ce).getInstance().getLogger(U),ge=Object(m.default)(ce).getInstance(),_e=Object(f.default)(ce).getInstance(),D=Object(P.default)(ce).getInstance(),O=Object(x.default)(ce).getInstance(),Nn()}(),U}ue.__dashjs_factory_name="StreamController",k.default=y.default.getSingletonFactory(ue)},"./src/streaming/controllers/TimeSyncController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/vo/DashJSError.js"),T=c("./src/streaming/vo/metrics/HTTPRequest.js"),M=c("./src/core/EventBus.js"),S=c("./src/core/events/Events.js"),b=c("./src/core/errors/Errors.js"),h=c("./src/core/FactoryMaker.js"),y=c("./src/core/Debug.js"),E=c("./src/streaming/utils/URLUtils.js");function L(){var p,w,W,$,Q,ue,ce,ne,U,ie,q,le,de,Ee,Z,pe,I=this.context,R=Object(M.default)(I).getInstance(),A=Object(E.default)(I).getInstance();function ge(){ne=[],U=[],ie=null,q=null,de=null,le=NaN,W=!1,$=!1,Ee=Q.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function X(){!Q.get().streaming.utcSynchronization.enabled||W||$||!de||!de.value||!de.schemeIdUri||isNaN(le)||isNaN(Q.get().streaming.utcSynchronization.backgroundAttempts)||q&&(Date.now()-q)/1e3<30||(ne=[],$=!0,ye(isNaN(Q.get().streaming.utcSynchronization.backgroundAttempts)?2:Q.get().streaming.utcSynchronization.backgroundAttempts))}function ye(be){try{if(be<=0)return void J();var Ie=Date.now();ue[de.schemeIdUri](de.value,function(xe){var De=Date.now(),Fe=ee(Ie,De,xe);ne.push(Fe),ye(be-1)},function(){J()})}catch{J()}}function se(){var Ie=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!U||0===U.length||Ie>=U.length)D();else{var xe=U[Ie];if(xe)if(ue.hasOwnProperty(xe.schemeIdUri)){var De=(new Date).getTime();ue[xe.schemeIdUri](xe.value,function(Fe){var Ce=(new Date).getTime(),Qe=ee(De,Ce,Fe);de=xe,D(Qe)},function(){se(Ie+1)})}else se(Ie+1);else D()}}function ee(be,Ie,xe){return xe-(Ie-(Ie-be)/2)}function D(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,Ie=isNaN(be);Ie&&Q.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?V():K(Ie,be)}function H(be){var Ie=Date.parse(be);return isNaN(Ie)&&(Ie=function O(be){var Ce,Qe,tt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(be);return Ce=Date.UTC(parseInt(tt[1],10),parseInt(tt[2],10)-1,parseInt(tt[3],10),parseInt(tt[4],10),parseInt(tt[5],10),tt[6]&&(parseInt(tt[6],10)||0),tt[7]&&1e3*parseFloat(tt[7])||0),tt[9]&&tt[10]&&(Qe=60*parseInt(tt[9],10)+parseInt(tt[10],10),Ce+=("+"===tt[8]?-1:1)*Qe*60*1e3),new Date(Ce).getTime()}(be)),Ie}function j(be){return Date.parse(be)}function oe(be){return Date.parse(be)}function Te(be,Ie,xe){xe()}function Re(be,Ie,xe){var De=H(be);isNaN(De)?xe():Ie(De)}function me(be,Ie,xe,De,Fe){var Ce,Qe,tt=!1,Et=new XMLHttpRequest,Lt=Fe?T.HTTPRequest.HEAD:T.HTTPRequest.GET,Bt=Ie.match(/\S+/g);if(Ie=Bt.shift(),Ce=function(){tt||(tt=!0,Bt.length?me(be,Bt.join(" "),xe,De,Fe):De())},Qe=function(){var an,Qt;200===Et.status&&(an=Fe?Et.getResponseHeader("Date"):Et.response,Qt=be(an),isNaN(Qt)||(xe(Qt),tt=!0))},A.isRelative(Ie)){var kt=pe.resolve();kt&&(Ie=A.resolve(Ie,kt.url))}Et.open(Lt,Ie),Et.timeout=5e3,Et.onload=Qe,Et.onloadend=Ce,Et.send()}function G(be,Ie,xe){me(oe,be,Ie,xe,!0)}function V(){var be=ce.getLatestMPDRequestHeaderValueByID("Date"),Ie=null!==be?new Date(be).getTime():Number.NaN;isNaN(Ie)?K(!0):K(!1,Ie-Date.now())}function K(be,Ie){if(!isNaN(le)&&!isNaN(Ie)&&!be&&function te(be){try{var Qe,Ie=he(be),xe=isNaN(Ee)?30:Ee,De=isNaN(Q.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:Q.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Fe=isNaN(Q.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:Q.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Ce=isNaN(Q.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:Q.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Ie?(Qe=Math.min(xe*De,Fe),w.debug("Increasing timeBetweenSyncAttempts to ".concat(Qe))):(Qe=Math.max(xe/De,Ce),w.debug("Decreasing timeBetweenSyncAttempts to ".concat(Qe))),Ee=Qe}catch{}}(Ie),!be&&!isNaN(Ie)){ie=Date.now(),W=!1;var xe=isNaN(le);le=Ie,xe&&X(),w.debug("Completed UTC sync. Setting client - server offset to ".concat(Ie))}be&&(de=null,W=!1,Z.error(new B.default(b.default.TIME_SYNC_FAILED_ERROR_CODE,b.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),R.trigger(S.default.UPDATE_TIME_SYNC_OFFSET,{offset:Ie}),R.trigger(S.default.TIME_SYNCHRONIZATION_COMPLETED)}function J(){if(ne&&0!==ne.length){var be=ne.reduce(function(Ie,xe){return Ie+xe},0)/ne.length;he(be)?w.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(w.debug("Completed background UTC sync. Setting client - server offset to ".concat(be)),R.trigger(S.default.UPDATE_TIME_SYNC_OFFSET,{offset:le=be})),$=!1,q=Date.now()}}function he(be){try{if(isNaN(le))return!0;var Ie=Q.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(Q.get().streaming.utcSynchronization.maximumAllowedDrift)?Q.get().streaming.utcSynchronization.maximumAllowedDrift:100;return be>=le-Ie&&be<=le+Ie}catch{return!0}}return p={initialize:function fe(){ge(),ue={"urn:mpeg:dash:utc:http-head:2014":G,"urn:mpeg:dash:utc:http-xsdate:2014":me.bind(null,H),"urn:mpeg:dash:utc:http-iso:2014":me.bind(null,j),"urn:mpeg:dash:utc:direct:2014":Re,"urn:mpeg:dash:utc:http-head:2012":G,"urn:mpeg:dash:utc:http-xsdate:2012":me.bind(null,H),"urn:mpeg:dash:utc:http-iso:2012":me.bind(null,j),"urn:mpeg:dash:utc:direct:2012":Re,"urn:mpeg:dash:utc:http-ntp:2014":Te,"urn:mpeg:dash:utc:ntp:2014":Te,"urn:mpeg:dash:utc:sntp:2014":Te}},attemptSync:function ve(be,Ie){if(U=be,!W){if(!function z(be){try{if(!be||!Q.get().streaming.utcSynchronization.enabled)return!1;var Ie=isNaN(Ee)?30:Ee;return!(ie&&Ie&&!isNaN(Ie))||(Date.now()-ie)/1e3>=Ie}catch{return!0}}(Ie))return void R.trigger(S.default.TIME_SYNCHRONIZATION_COMPLETED);W=!0,se()}},setConfig:function _e(be){!be||(be.dashMetrics&&(ce=be.dashMetrics),be.baseURLController&&(pe=be.baseURLController),be.errHandler&&(Z=be.errHandler),be.settings&&(Q=be.settings))},reset:function Ae(){ge(),R.off(S.default.ATTEMPT_BACKGROUND_SYNC,X,p)}},function re(){w=Object(y.default)(I).getInstance().getLogger(p),R.on(S.default.ATTEMPT_BACKGROUND_SYNC,X,p)}(),p}L.__dashjs_factory_name="TimeSyncController";var C=h.default.getSingletonFactory(L);C.HTTP_TIMEOUT_MS=5e3,h.default.updateSingletonFactory(L.__dashjs_factory_name,C),k.default=C},"./src/streaming/controllers/XlinkController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/XlinkLoader.js"),T=c("./src/core/EventBus.js"),M=c("./src/core/events/Events.js"),S=c("./src/core/FactoryMaker.js"),b=c("./externals/xml2json.js"),h=c("./src/streaming/utils/URLUtils.js"),y=c("./src/dash/constants/DashConstants.js"),E="onLoad";function x(_){_=_||{};var d,L,C,I,R,A,m=this.context,f=Object(T.default)(m).getInstance(),v=Object(h.default)(m).getInstance();function ue(Ee,Z,pe){var _e,ge,re={};re.elements=Ee,re.type=Z,re.resolveType=pe,0===re.elements.length&&ne(re);for(var fe=0;fe<re.elements.length;fe++)ge=v.isHTTPURL((_e=re.elements[fe]).url)?_e.url:_e.originalContent.BaseURL+_e.url,A.load(ge,_e,re)}function ce(Ee){var Z,pe,ge="";if(pe=Ee.resolveObject,(Z=Ee.element).resolvedContent){var fe=0;0===Z.resolvedContent.indexOf("<?xml")&&(fe=Z.resolvedContent.indexOf("?>")+2),ge=Z.resolvedContent.substr(0,fe)+"<response>"+Z.resolvedContent.substr(fe)+"</response>",Z.resolvedContent=R.xml_str2json(ge)}(function le(Ee){var Z;for(Z=0;Z<Ee.elements.length;Z++)if(!1===Ee.elements[Z].resolved)return!1;return!0})(pe)&&ne(pe)}function ne(Ee){var pe,re,Z=[];if(function ie(Ee){var pe,re,ge,fe,ve,Z=[];for(ge=Ee.elements.length-1;ge>=0;ge--){if(re=(pe=Ee.elements[ge]).type+"_asArray",pe.resolvedContent){if(pe.resolvedContent)for(fe=0;fe<pe.resolvedContent[re].length;fe++)Z.push(pe.resolvedContent[re][fe])}else delete pe.originalContent["xlink:actuate"],delete pe.originalContent["xlink:href"],Z.push(pe.originalContent);for(pe.parentElement[re].splice(pe.index,1),ve=0;ve<Z.length;ve++)pe.parentElement[re].splice(pe.index+ve,0,Z[ve]);Z=[]}Ee.elements.length>0&&C.run(I)}(Ee),"onActuate"===Ee.resolveType&&f.trigger(M.default.XLINK_READY,{manifest:I}),Ee.resolveType===E)switch(Ee.type){case y.default.PERIOD:for(pe=0;pe<I[y.default.PERIOD+"_asArray"].length;pe++)(re=I[y.default.PERIOD+"_asArray"][pe]).hasOwnProperty(y.default.ADAPTATION_SET+"_asArray")&&(Z=Z.concat(U(re[y.default.ADAPTATION_SET+"_asArray"],re,y.default.ADAPTATION_SET,E))),re.hasOwnProperty(y.default.EVENT_STREAM+"_asArray")&&(Z=Z.concat(U(re[y.default.EVENT_STREAM+"_asArray"],re,y.default.EVENT_STREAM,E)));ue(Z,y.default.ADAPTATION_SET,E);break;case y.default.ADAPTATION_SET:f.trigger(M.default.XLINK_READY,{manifest:I})}}function U(Ee,Z,pe,re){var ge,fe,ve,_e=[];for(fe=Ee.length-1;fe>=0;fe--)(ge=Ee[fe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===ge["xlink:href"]&&Ee.splice(fe,1);for(fe=0;fe<Ee.length;fe++)(ge=Ee[fe]).hasOwnProperty("xlink:href")&&ge.hasOwnProperty("xlink:actuate")&&ge["xlink:actuate"]===re&&(ve=q(ge["xlink:href"],Z,pe,fe,re,ge),_e.push(ve));return _e}function q(Ee,Z,pe,re,_e,ge){return{url:Ee,parentElement:Z,type:pe,index:re,resolveType:_e,originalContent:ge,resolvedContent:null,resolved:!1}}return d={resolveManifestOnLoad:function $(Ee){R=new b.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:L}),(I=Ee).Period_asArray?ue(U(I.Period_asArray,I,y.default.PERIOD,E),y.default.PERIOD,E):f.trigger(M.default.XLINK_READY,{manifest:I})},setMatchers:function w(Ee){Ee&&(L=Ee)},setIron:function W(Ee){Ee&&(C=Ee)},reset:function Q(){f.off(M.default.XLINK_ELEMENT_LOADED,ce,d),A&&(A.reset(),A=null)}},function p(){f.on(M.default.XLINK_ELEMENT_LOADED,ce,d),A=Object(B.default)(m).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings})}(),d}x.__dashjs_factory_name="XlinkController",k.default=S.default.getClassFactory(x)},"./src/streaming/metrics/MetricsReporting.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/utils/DVBErrorsTranslator.js"),T=c("./src/streaming/metrics/MetricsReportingEvents.js"),M=c("./src/streaming/metrics/controllers/MetricsCollectionController.js"),S=c("./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),b=c("./src/streaming/metrics/reporting/ReportingFactory.js");function h(){var E=this.context;return{createMetricsReporting:function x(f){return Object(B.default)(E).getInstance({eventBus:f.eventBus,dashMetrics:f.dashMetrics,metricsConstants:f.metricsConstants,events:f.events}).initialise(),Object(M.default)(E).create(f)},getReportingFactory:function _(){return Object(b.default)(E).getInstance()},getMetricsHandlerFactory:function m(){return Object(S.default)(E).getInstance()}}}h.__dashjs_factory_name="MetricsReporting";var y=dashjs.FactoryMaker.getClassFactory(h);y.events=T.default,dashjs.FactoryMaker.updateClassFactory(h.__dashjs_factory_name,y),k.default=y},"./src/streaming/metrics/MetricsReportingEvents.js":function(we,k,c){"use strict";function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function S(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&b(m,f)}function b(m,f){return(b=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function h(m){var f=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=P(m);if(f){var C=P(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return y(this,L)}}function y(m,f){return!f||"object"!==T(f)&&"function"!=typeof f?function E(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function P(m){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}c.r(k);var _=new(function(m){S(v,m);var f=h(v);function v(){var d;return function M(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}(this,v),(d=f.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",d.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",d.CMCD_DATA_GENERATED="cmcdDataGenerated",d}return v}(c("./src/core/events/EventsBase.js").default));k.default=_},"./src/streaming/metrics/controllers/MetricsCollectionController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/controllers/MetricsController.js"),T=c("./src/streaming/metrics/utils/ManifestParsing.js"),M=c("./src/streaming/metrics/MetricsReportingEvents.js");function S(b){var h,y={},E=this.context,F=(b=b||{}).eventBus,P=b.events;function x(v){if(!v.error){var d=Object.keys(y);Object(T.default)(E).getInstance({adapter:b.adapter,constants:b.constants}).getMetrics(v.manifest).forEach(function(C){var I=JSON.stringify(C);if(y.hasOwnProperty(I))d.splice(I,1);else try{var R=Object(B.default)(E).create(b);R.initialize(C),y[I]=R}catch{}}),d.forEach(function(C){y[C].reset(),delete y[C]}),F.trigger(M.default.METRICS_INITIALISATION_COMPLETE)}}function _(){Object.keys(y).forEach(function(v){y[v].reset()}),y={}}return h={reset:function f(){F.off(P.MANIFEST_UPDATED,x,h),F.off(P.STREAM_TEARDOWN_COMPLETE,_,h)}},function m(){F.on(P.MANIFEST_UPDATED,x,h),F.on(P.STREAM_TEARDOWN_COMPLETE,_,h)}(),h}S.__dashjs_factory_name="MetricsCollectionController",k.default=dashjs.FactoryMaker.getClassFactory(S)},"./src/streaming/metrics/controllers/MetricsController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/controllers/RangeController.js"),T=c("./src/streaming/metrics/controllers/ReportingController.js"),M=c("./src/streaming/metrics/controllers/MetricsHandlersController.js");function S(b){b=b||{};var h,y,E,P=this.context;function _(){h&&h.reset(),y&&y.reset(),E&&E.reset()}return{initialize:function x(m){try{(E=Object(B.default)(P).create({mediaElement:b.mediaElement})).initialize(m.Range),(y=Object(T.default)(P).create({debug:b.debug,metricsConstants:b.metricsConstants,mediaPlayerModel:b.mediaPlayerModel})).initialize(m.Reporting,E),(h=Object(M.default)(P).create({debug:b.debug,eventBus:b.eventBus,metricsConstants:b.metricsConstants,events:b.events})).initialize(m.metrics,y)}catch(f){throw _(),f}},reset:_}}S.__dashjs_factory_name="MetricsController",k.default=dashjs.FactoryMaker.getClassFactory(S)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function T(M){var b,S=[],h=this.context,y=(M=M||{}).eventBus,E=M.events,F=Object(B.default)(h).getInstance({debug:M.debug,eventBus:M.eventBus,metricsConstants:M.metricsConstants});function P(m){S.forEach(function(f){f.handleNewMetric(m.metric,m.value,m.mediaType)})}return b={initialize:function x(m,f){m.split(",").forEach(function(v,d,L){var C;if(-1!==v.indexOf("(")&&-1===v.indexOf(")")){var I=L[d+1];I&&-1===I.indexOf("(")&&-1!==I.indexOf(")")&&(v+=","+I,delete L[d+1])}(C=F.create(v,f))&&S.push(C)}),y.on(E.METRIC_ADDED,P,b),y.on(E.METRIC_UPDATED,P,b)},reset:function _(){y.off(E.METRIC_ADDED,P,b),y.off(E.METRIC_UPDATED,P,b),S.forEach(function(m){return m.reset()}),S=[]}}}T.__dashjs_factory_name="MetricsHandlersController",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/controllers/RangeController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/utils/CustomTimeRanges.js");function T(M){var h,y,S=!1,b=this.context,E=(M=M||{}).mediaElement;return h={initialize:function F(m){m&&m.length&&(m.forEach(function(f){var v=f.starttime;y.add(v,v+f.duration)}),S=!!m[0]._useWallClockTime)},reset:function P(){y.clear()},isEnabled:function _(){var f,m=y.length;if(!m)return!0;f=S?(new Date).getTime()/1e3:E.currentTime;for(var v=0;v<m;v+=1){var d=y.start(v),L=y.end(v);if(d<=f&&f<L)return!0}return!1}},function x(){y=Object(B.default)(b).create()}(),h}T.__dashjs_factory_name="RangeController",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/controllers/ReportingController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/reporting/ReportingFactory.js");function T(M){var S=[],h=Object(B.default)(this.context).getInstance(M);return{initialize:function y(P,x){P.some(function(_){var m=h.create(_,x);if(m)return S.push(m),!0})},reset:function E(){S.forEach(function(P){return P.reset()}),S=[]},report:function F(P,x){S.forEach(function(_){return _.report(P,x)})}}}T.__dashjs_factory_name="ReportingController",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),T=c("./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),M=c("./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),S=c("./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function b(h){var y,E=(h=h||{}).debug?h.debug.getLogger(y):{},F=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,P=this.context,x={BufferLevel:B.default,DVBErrors:T.default,HttpList:M.default,PlayList:S.default,RepSwitchList:S.default,TcpList:S.default};return{create:function _(v,d){var C,L=v.match(F);if(L){try{(C=x[L[1]](P).create({eventBus:h.eventBus,metricsConstants:h.metricsConstants})).initialize(L[1],d,L[3],L[5])}catch(I){C=null,E.error("MetricsHandlerFactory: Could not create handler for type ".concat(L[1]," with args ").concat(L[3],", ").concat(L[5]," (").concat(I.message,")"))}return C}},register:function m(v,d){x[v]=d},unregister:function f(v){delete x[v]}}}b.__dashjs_factory_name="MetricsHandlerFactory",k.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/utils/HandlerHelpers.js");function T(M){M=M||{};var b,h,y,E,F,P=this.context,x=Object(B.default)(P).getInstance(),_=[],m=M.metricsConstants;function v(){var I=function f(){try{return Object.keys(_).map(function(I){return _[I]}).reduce(function(I,R){return I.level<R.level?I:R})}catch{return}}();I&&F!==I.t&&(F=I.t,b.report(y,I))}return{initialize:function d(I,R,A){R&&(h=x.validateN(A),b=R,y=x.reconstructFullMetricName(I,A),E=setInterval(v,h))},reset:function L(){clearInterval(E),E=null,h=0,b=null,F=null},handleNewMetric:function C(I,R,A){I===m.BUFFER_LEVEL&&(_[A]=R)}}}T.__dashjs_factory_name="BufferLevelHandler",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/MetricsReportingEvents.js");k.default=dashjs.FactoryMaker.getClassFactory(function T(M){var b,h=(M=M||{}).eventBus,y=M.metricsConstants;function E(){h.off(B.default.METRICS_INITIALISATION_COMPLETE,E,this),h.trigger(B.default.BECAME_REPORTING_PLAYER)}return{initialize:function F(_,m){m&&(b=m,h.on(B.default.METRICS_INITIALISATION_COMPLETE,E,this))},reset:function P(){b=null},handleNewMetric:function x(_,m){_===y.DVB_ERRORS&&b&&b.report(_,m)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":function(we,k,c){"use strict";function B(){var M,S;return{initialize:function b(E,F){M=E,S=F},reset:function h(){S=null,M=void 0},handleNewMetric:function y(E,F){E===M&&S&&S.report(M,F)}}}c.r(k),B.__dashjs_factory_name="GenericMetricHandler",k.default=dashjs.FactoryMaker.getClassFactory(B)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/utils/HandlerHelpers.js");function T(M){M=M||{};var b,h,y,E,F,P=[],x=Object(B.default)(this.context).getInstance(),_=M.metricsConstants;function m(){P.length&&b&&b.report(E,P),P=[]}return{initialize:function f(L,C,I,R){C&&(h=x.validateN(I),b=C,R&&R.length&&(y=R),E=x.reconstructFullMetricName(L,I,R),F=setInterval(m,h))},reset:function v(){clearInterval(F),F=null,h=null,y=null,P=[],b=null},handleNewMetric:function d(L,C){L===_.HTTP_REQUEST&&(!y||y===C.type)&&P.push(C)}}}T.__dashjs_factory_name="HttpListHandler",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/reporting/ReportingFactory.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/reporting/reporters/DVBReporting.js");function T(M){var h,S={"urn:dvb:dash:reporting:2014":B.default},b=this.context,y=(M=M||{}).debug?M.debug.getLogger(h):{},E=M.metricsConstants,F=M.mediaPlayerModel||{};return{create:function P(m,f){var v;try{(v=S[m.schemeIdUri](b).create({metricsConstants:E,mediaPlayerModel:F})).initialize(m,f)}catch(d){v=null,y.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(m.schemeIdUri," (").concat(d.message,")"))}return v},register:function x(m,f){S[m]=f},unregister:function _(m){delete S[m]}}}T.__dashjs_factory_name="ReportingFactory",k.default=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/utils/MetricSerialiser.js"),T=c("./src/streaming/metrics/utils/RNG.js"),M=c("./src/streaming/models/CustomParametersModel.js");function S(b){var h,E,F,P,x,_,m,f,y=this.context,L=[],C=(b=b||{}).metricsConstants;function w(){x=!1,_=!1,m=null,f=null}return h={report:function A($,Q){Array.isArray(Q)||(Q=[Q]),_&&f.isEnabled()&&Q.forEach(function(ue){var ce=E.serialise(ue);$!==C.DVB_ERRORS&&(ce="metricname=".concat($,"&").concat(ce)),function R($,Q,ue){var ce=new XMLHttpRequest;ce.withCredentials=F.getXHRWithCredentialsForType(C.HTTP_REQUEST_DVB_REPORTING_TYPE);var ne=function(){var ie=L.indexOf(ce);-1!==ie&&(L.splice(ie,1),ce.status>=200&&ce.status<300?Q&&Q():ue&&ue())};L.push(ce);try{ce.open("GET",$),ce.onloadend=ne,ce.onerror=ne,ce.send()}catch{ce.onerror()}}(ce="".concat(m,"?").concat(ce),null,function(){_=!1})})},initialize:function p($,Q){var ue;if(f=Q,!(m=$.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");x||((ue=$.dvb_probability)&&(1e3===ue||ue/1e3>=P.random())&&(_=!0),x=!0)},reset:function W(){w()}},function I(){E=Object(B.default)(y).getInstance(),P=Object(T.default)(y).getInstance(),F=Object(M.default)(y).getInstance(),w()}(),h}S.__dashjs_factory_name="DVBReporting",k.default=dashjs.FactoryMaker.getClassFactory(S)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/vo/DVBErrors.js"),T=c("./src/streaming/metrics/MetricsReportingEvents.js");function M(S){var b,h,y=(S=S||{}).eventBus,E=S.dashMetrics,F=S.metricsConstants,P=S.events;function x(R){var A=new B.default;if(h){for(var p in R)R.hasOwnProperty(p)&&(A[p]=R[p]);A.mpdurl||(A.mpdurl=h.originalUrl||h.url),A.terror||(A.terror=new Date),E.addDVBErrors(A)}}function _(R){R.error||(h=R.manifest)}function m(R){x({errorcode:B.default.BASE_URL_CHANGED,servicelocation:R.entry})}function f(){x({errorcode:B.default.BECAME_REPORTER})}function d(R){R.metric===F.HTTP_REQUEST&&function v(R){(0===R.responsecode||null==R.responsecode||R.responsecode>=400||R.responsecode<100||R.responsecode>=600)&&x({errorcode:R.responsecode||B.default.CONNECTION_ERROR,url:R.url,terror:R.tresponse,servicelocation:R._serviceLocation})}(R.value)}function L(R){var p;switch(R.error?R.error.code:0){case MediaError.MEDIA_ERR_NETWORK:p=B.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:p=B.default.CORRUPT_MEDIA_OTHER;break;default:return}x({errorcode:p})}return b={initialise:function C(){y.on(P.MANIFEST_UPDATED,_,b),y.on(P.SERVICE_LOCATION_BLACKLIST_CHANGED,m,b),y.on(P.METRIC_ADDED,d,b),y.on(P.METRIC_UPDATED,d,b),y.on(P.PLAYBACK_ERROR,L,b),y.on(T.default.BECAME_REPORTING_PLAYER,f,b)},reset:function I(){y.off(P.MANIFEST_UPDATED,_,b),y.off(P.SERVICE_LOCATION_BLACKLIST_CHANGED,m,b),y.off(P.METRIC_ADDED,d,b),y.off(P.METRIC_UPDATED,d,b),y.off(P.PLAYBACK_ERROR,L,b),y.off(T.default.BECAME_REPORTING_PLAYER,f,b)}}}M.__dashjs_factory_name="DVBErrorsTranslator",k.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/utils/HandlerHelpers.js":function(we,k,c){"use strict";function B(){return{reconstructFullMetricName:function(M,S,b){var h=M;return S&&(h+="("+S,b&&b.length&&(h+=","+b),h+=")"),h},validateN:function(M){if(!M)throw new Error("missing n");if(isNaN(M))throw new Error("n is NaN");if(M<0)throw new Error("n must be positive");return M}}}c.r(k),B.__dashjs_factory_name="HandlerHelpers",k.default=dashjs.FactoryMaker.getSingletonFactory(B)},"./src/streaming/metrics/utils/ManifestParsing.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/metrics/vo/Metrics.js"),T=c("./src/streaming/metrics/vo/Range.js"),M=c("./src/streaming/metrics/vo/Reporting.js");function S(b){var y=(b=b||{}).adapter,E=b.constants;return{getMetrics:function P(x){var _=[];return x&&x.Metrics_asArray&&x.Metrics_asArray.forEach(function(m){var f=new B.default,v=y.getIsDynamic(x);m.hasOwnProperty("metrics")&&(f.metrics=m.metrics,m.Range_asArray&&m.Range_asArray.forEach(function(d){var L=new T.default;L.starttime=function F(x,_,m){var f,v,d=0;return _?d=y.getAvailabilityStartTime(x)/1e3:(f=y.getRegularPeriods(x)).length&&(d=f[0].start),v=d,m&&m.hasOwnProperty(E.START_TIME)&&(v+=m.starttime),v}(x,v,d),L.duration=d.hasOwnProperty("duration")?d.duration:y.getDuration(x),L._useWallClockTime=v,f.Range.push(L)}),m.Reporting_asArray&&(m.Reporting_asArray.forEach(function(d){var L=new M.default;d.hasOwnProperty(E.SCHEME_ID_URI)&&(L.schemeIdUri=d.schemeIdUri,d.hasOwnProperty("value")&&(L.value=d.value),d.hasOwnProperty(E.DVB_REPORTING_URL)&&(L.dvb_reportingUrl=d[E.DVB_REPORTING_URL]),d.hasOwnProperty(E.DVB_PROBABILITY)&&(L.dvb_probability=d[E.DVB_PROBABILITY]),f.Reporting.push(L))}),_.push(f)))}),_}}}S.__dashjs_factory_name="ManifestParsing",k.default=dashjs.FactoryMaker.getSingletonFactory(S)},"./src/streaming/metrics/utils/MetricSerialiser.js":function(we,k,c){"use strict";function B(){return{serialise:function T(M){var h,y,S=[],b=[];for(h in M)if(M.hasOwnProperty(h)&&0!==h.indexOf("_")){if(null==(y=M[h])&&(y=""),Array.isArray(y)){if(!y.length)continue;b=[],y.forEach(function(E){var F="Object"!==Object.prototype.toString.call(E).slice(8,-1);b.push(F?E:T(E))}),y=b.map(encodeURIComponent).join(",")}else"string"==typeof y?y=encodeURIComponent(y):y instanceof Date?y=y.toISOString():"number"==typeof y&&(y=Math.round(y));S.push(h+"="+y)}return S.join("&")}}}c.r(k),B.__dashjs_factory_name="MetricSerialiser",k.default=dashjs.FactoryMaker.getSingletonFactory(B)},"./src/streaming/metrics/utils/RNG.js":function(we,k,c){"use strict";function B(){var h,y,E,T=window.crypto||window.msCrypto,M=Uint32Array,S=Math.pow(2,8*M.BYTES_PER_ELEMENT)-1;function F(){T&&(h||(h=new M(10)),T.getRandomValues(h),y=0)}return E={random:function P(x,_){var m;return x||(x=0),_||(_=1),T?(y===h.length&&F(),m=h[y]/S,y+=1):m=Math.random(),m*(_-x)+x}},F(),E}c.r(k),B.__dashjs_factory_name="RNG",k.default=dashjs.FactoryMaker.getSingletonFactory(B)},"./src/streaming/metrics/vo/DVBErrors.js":function(we,k,c){"use strict";c.r(k);var T=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};T.SSL_CONNECTION_FAILED_PREFIX="SSL",T.DNS_RESOLUTION_FAILED="C00",T.HOST_UNREACHABLE="C01",T.CONNECTION_REFUSED="C02",T.CONNECTION_ERROR="C03",T.CORRUPT_MEDIA_ISOBMFF="M00",T.CORRUPT_MEDIA_OTHER="M01",T.BASE_URL_CHANGED="F00",T.BECAME_REPORTER="S00",k.default=T},"./src/streaming/metrics/vo/Metrics.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.metrics="",this.Range=[],this.Reporting=[]}},"./src/streaming/metrics/vo/Range.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1}},"./src/streaming/metrics/vo/Reporting.js":function(we,k,c){"use strict";c.r(k);k.default=function S(){(function B(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")})(this,S),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3}},"./src/streaming/models/BaseURLTreeModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/utils/ObjectUtils.js"),T=c("./src/core/FactoryMaker.js");var S=NaN,b=function y(E,F){(function M(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")})(this,y),this.data={baseUrls:E||null,selectedIdx:F||S},this.children=[]};function h(){var y,E,F,P=this.context,x=Object(B.default)(P).getInstance();function v(p,w,W){var $=F.getBaseURLsFromElement(W);p[w]?x.areEqual($,p[w].data.baseUrls)||(p[w].data.baseUrls=$,p[w].data.selectedIdx=S):p[w]=new b($)}function d(p){!function f(){if(!F||!F.hasOwnProperty("getBaseURLsFromElement")||!F.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var w=F.getBaseURLsFromElement(p);x.areEqual(w,E.data.baseUrls)||(E.data.baseUrls=w,E.data.selectedIdx=S),p&&p.Period_asArray&&p.Period_asArray.forEach(function(W,$){v(E.children,$,W),W.AdaptationSet_asArray&&W.AdaptationSet_asArray.forEach(function(Q,ue){v(E.children[$].children,ue,Q),Q.Representation_asArray&&Q.Representation_asArray.sort(F.getRepresentationSortFunction()).forEach(function(ce,ne){v(E.children[$].children[ue].children,ne,ce)})})})}function L(p,w){var W=w||E;p(W.data),W.children&&W.children.forEach(function($){return L(p,$)})}function R(){E=new b}return y={reset:R,update:function I(p){d(p)},getForPath:function A(p){var w=E,W=[w.data];return p&&p.forEach(function($){(w=w.children[$])&&W.push(w.data)}),W.filter(function($){return $.baseUrls.length})},invalidateSelectedIndexes:function C(p){L(function(w){isNaN(w.selectedIdx)||p===w.baseUrls[w.selectedIdx].serviceLocation&&(w.selectedIdx=S)})},setConfig:function m(p){p.adapter&&(F=p.adapter)}},function _(){R()}(),y}h.__dashjs_factory_name="BaseURLTreeModel",k.default=T.default.getClassFactory(h)},"./src/streaming/models/CmcdModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/EventBus.js"),T=c("./src/streaming/MediaPlayerEvents.js"),M=c("./src/streaming/metrics/MetricsReportingEvents.js"),S=c("./src/core/FactoryMaker.js"),b=c("./src/core/Settings.js"),h=c("./src/streaming/constants/Constants.js"),y=c("./src/streaming/vo/metrics/HTTPRequest.js"),E=c("./src/dash/models/DashManifestModel.js"),F=c("./src/core/Utils.js");function P(R,A){var p;if(typeof Symbol>"u"||null==R[Symbol.iterator]){if(Array.isArray(R)||(p=function x(R,A){if(R){if("string"==typeof R)return _(R,A);var p=Object.prototype.toString.call(R).slice(8,-1);if("Object"===p&&R.constructor&&(p=R.constructor.name),"Map"===p||"Set"===p)return Array.from(R);if("Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return _(R,A)}}(R))||A&&R&&"number"==typeof R.length){p&&(R=p);var w=0,W=function(){};return{s:W,n:function(){return w>=R.length?{done:!0}:{done:!1,value:R[w++]}},e:function(ne){throw ne},f:W}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ue,$=!0,Q=!1;return{s:function(){p=R[Symbol.iterator]()},n:function(){var ne=p.next();return $=ne.done,ne},e:function(ne){Q=!0,ue=ne},f:function(){try{!$&&null!=p.return&&p.return()}finally{if(Q)throw ue}}}}function _(R,A){(null==A||A>R.length)&&(A=R.length);for(var p=0,w=new Array(A);p<A;p++)w[p]=R[p];return w}var v_MANIFEST="m",v_AUDIO="a",v_VIDEO="v",v_INIT="i",v_CAPTION="c",v_ISOBMFF_TEXT_TRACK="tt",v_ENCRYPTION_KEY="k",v_OTHER="o",d_DASH="d",d_MSS="s",L_VOD="v",L_LIVE="l";function I(){var R,A,p,w,W,$,Q,ue,ce,ne,U=this.context,ie=Object(B.default)(U).getInstance(),q=Object(b.default)(U).getInstance();function Z(){p={pr:1,nor:null,st:null,sf:null,sid:"".concat(F.default.generateUuid()),cid:null},ce={},ue={},ne={},re()}function pe(){re()}function re(){if($){var De=$.getStreamController();if(De&&"function"==typeof De.getActiveStream){var Fe=De.getActiveStream();!Fe||(Q=Fe.getProcessors())}}}function fe(De,Fe){var tt,Ce={},Qe=P(Fe);try{for(Qe.s();!(tt=Qe.n()).done;){var Et=tt.value;De[Et]&&(Ce[Et]=De[Et])}}catch(Lt){Qe.e(Lt)}finally{Qe.f()}return Ce}function X(De){var Fe=q.get().streaming.cmcd.enabledKeys;return De.filter(function(Ce){return Fe.includes(Ce)})}function ye(De){try{return De.type===y.HTTPRequest.MPD_TYPE?function ee(){var De=j();return De.ot=v_MANIFEST,De}():De.type===y.HTTPRequest.MEDIA_SEGMENT_TYPE?(function D(De){ne.hasOwnProperty(De)||(ne[De]=!1),ue.hasOwnProperty(De)||(ue[De]=!1),ce.hasOwnProperty(De)||(ce[De]=!1)}(De.mediaType),function z(De){var an,Fe=j(),Ce=function oe(De){try{return parseInt(De.mediaInfo.bitrateList[De.quality].bandwidth/1e3)}catch{return null}}(De),Qe=function Re(De){try{return isNaN(De.duration)?null:Math.round(1e3*De.duration)}catch{return null}}(De),tt=function me(De){try{return 100*parseInt(w.getThroughputHistory().getSafeAverageThroughput(De)/100)}catch{return null}}(De.mediaType),Et=function G(De){try{var Fe=p.pr,Ce=W.getCurrentBufferLevel(De);return isNaN(Fe)||isNaN(Ce)?null:100*parseInt(Ce/Fe*10)}catch{return null}}(De.mediaType),Lt=V(De.mediaType),Bt=function Te(De){try{var Fe=w.getTopBitrateInfoFor(De);return Math.round(Fe.bitrate/1e3)}catch{return null}}(De.mediaType),kt=p.pr,en=function be(De){if(Q&&0!==Q.length){var Ce,Fe=P(Q);try{for(Fe.s();!(Ce=Fe.n()).done;){var Qe=Ce.value;if(Qe.getType()===De)return Qe.probeNextRequest()}}catch(tt){Fe.e(tt)}finally{Fe.f()}}}(De.mediaType);De.mediaType===h.default.VIDEO&&(an=v_VIDEO),De.mediaType===h.default.AUDIO&&(an=v_AUDIO),De.mediaType===h.default.TEXT&&(an="application/mp4"===De.mediaInfo.mimeType?v_ISOBMFF_TEXT_TRACK:v_CAPTION);var Qt=q.get().streaming.cmcd.rtp;return Qt||(Qt=function Ie(De){var Fe=$.getPlaybackRate();Fe||(Fe=1);var Ce=De.quality,tt=De.mediaInfo,Et=De.duration,Lt=V(De.mediaType);0===Lt&&(Lt=500);var an=tt.bitrateList[Ce].bandwidth*Et/1e3/(Lt/Fe/1e3),Qt=q.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(q.get().streaming.cmcd.rtpSafetyFactor)?q.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(an*Qt/100)+1)}(De)),Fe.rtp=Qt,en&&(De.url!==en.url?Fe.nor=encodeURIComponent(F.default.getRelativeUrl(De.url,en.url)):en.range&&(Fe.nrr=en.range)),Ce&&(Fe.br=Ce),an&&(Fe.ot=an),isNaN(Qe)||(Fe.d=Qe),isNaN(tt)||(Fe.mtp=tt),isNaN(Et)||(Fe.dl=Et),isNaN(Lt)||(Fe.bl=Lt),isNaN(Bt)||(Fe.tb=Bt),!isNaN(kt)&&1!==kt&&(Fe.pr=kt),ce[De.mediaType]&&(Fe.bs=!0,ce[De.mediaType]=!1),(ue[De.mediaType]||!ne[De.mediaType])&&(Fe.su=!0,ue[De.mediaType]=!1,ne[De.mediaType]=!0),Fe}(De)):De.type===y.HTTPRequest.INIT_SEGMENT_TYPE?function O(){var De=j();return De.ot=v_INIT,De.su=!0,De}():De.type===y.HTTPRequest.OTHER_TYPE||De.type===y.HTTPRequest.XLINK_EXPANSION_TYPE?function H(){var De=j();return De.ot=v_OTHER,De}():De.type===y.HTTPRequest.LICENSE?function se(De){var Fe=j();return Fe.ot=v_ENCRYPTION_KEY,Fe}():null}catch{return null}}function j(){var De={},Fe=q.get().streaming.cmcd.cid?q.get().streaming.cmcd.cid:p.cid;return De.v=1,De.sid=q.get().streaming.cmcd.sid?q.get().streaming.cmcd.sid:p.sid,De.sid="".concat(De.sid),Fe&&(De.cid="".concat(Fe)),!isNaN(p.pr)&&1!==p.pr&&null!==p.pr&&(De.pr=p.pr),p.st&&(De.st=p.st),p.sf&&(De.sf=p.sf),De}function V(De){try{var Fe=W.getCurrentBufferLevel(De);return isNaN(Fe)?null:100*parseInt(10*Fe)}catch{return null}}function K(De){try{p.pr=De.playbackRate}catch{}}function te(De){try{var Fe=R.getIsDynamic(De.data),Qe=De.protocol&&"MSS"===De.protocol?d_MSS:d_DASH;p.st="".concat(Fe?L_LIVE:L_VOD),p.sf="".concat(Qe)}catch{}}function J(De){try{De.state&&De.mediaType&&De.state===T.default.BUFFER_EMPTY&&(ce[De.mediaType]||(ce[De.mediaType]=!0),ue[De.mediaType]||(ue[De.mediaType]=!0))}catch{}}function he(){for(var De in ce)ce.hasOwnProperty(De)&&(ce[De]=!0);for(var Fe in ue)ue.hasOwnProperty(Fe)&&(ue[Fe]=!0)}function Ae(De){try{if(!De)return null;var Fe=Object.keys(De).sort(function(tt,Et){return tt.localeCompare(Et)}),Ce=Fe.length,Qe=Fe.reduce(function(tt,Et,Lt){return"v"===Et&&1===De[Et]||(tt+="string"==typeof De[Et]&&"ot"!==Et&&"sf"!==Et&&"st"!==Et?"".concat(Et,"=").concat(JSON.stringify(De[Et])):"".concat(Et,"=").concat(De[Et]),Lt<Ce-1&&(tt+=",")),tt},"");return(Qe=Qe.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return A={getQueryParameter:function _e(De){try{if(q.get().streaming.cmcd&&q.get().streaming.cmcd.enabled){var Fe=ye(De),Qe=Ae(function ge(De){try{var Fe=q.get().streaming.cmcd.enabledKeys;return Object.keys(De).filter(function(Ce){return Fe.includes(Ce)}).reduce(function(Ce,Qe){return Ce[Qe]=De[Qe],Ce},{})}catch{return De}}(Fe));return ie.trigger(M.default.CMCD_DATA_GENERATED,{url:De.url,mediaType:De.mediaType,cmcdData:Fe,cmcdString:Qe}),{key:"CMCD",value:Qe}}return null}catch{return null}},getHeaderParameters:function ve(De){try{if(q.get().streaming.cmcd&&q.get().streaming.cmcd.enabled){var Fe=ye(De),Ce=fe(Fe,X(["br","d","ot","tb"])),Qe=fe(Fe,X(["bl","dl","mtp","nor","nrr","su"])),tt=fe(Fe,X(["bs","rtp"])),Et=fe(Fe,X(["cid","pr","sf","sid","st","v"])),Lt={"CMCD-Object":Ae(Ce),"CMCD-Request":Ae(Qe),"CMCD-Status":Ae(tt),"CMCD-Session":Ae(Et)};return ie.trigger(M.default.CMCD_DATA_GENERATED,{url:De.url,mediaType:De.mediaType,cmcdData:Fe,headers:Lt}),Lt}return null}catch{return null}},setConfig:function Ee(De){!De||(De.abrController&&(w=De.abrController),De.dashMetrics&&(W=De.dashMetrics),De.playbackController&&($=De.playbackController))},reset:function xe(){ie.off(T.default.PLAYBACK_RATE_CHANGED,K,this),ie.off(T.default.MANIFEST_LOADED,te,this),ie.off(T.default.BUFFER_LEVEL_STATE_CHANGED,J,A),ie.off(T.default.PLAYBACK_SEEKED,he,A),Z()},initialize:function de(){ie.on(T.default.PLAYBACK_RATE_CHANGED,K,A),ie.on(T.default.MANIFEST_LOADED,te,A),ie.on(T.default.BUFFER_LEVEL_STATE_CHANGED,J,A),ie.on(T.default.PLAYBACK_SEEKED,he,A),ie.on(T.default.PERIOD_SWITCH_COMPLETED,pe,A)}},function le(){R=Object(E.default)(U).getInstance(),Z()}(),A}I.__dashjs_factory_name="CmcdModel",k.default=S.default.getSingletonFactory(I)},"./src/streaming/models/CustomParametersModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/vo/UTCTiming.js"),T=c("./src/core/FactoryMaker.js"),M=c("./src/core/Settings.js"),S=c("./src/streaming/utils/SupervisorTools.js"),b=c("./src/streaming/rules/abr/ABRRulesCollection.js"),h=c("./src/streaming/constants/Constants.js");function E(){var F,P,x,_,m,f,v,d,L=this.context,C=Object(M.default)(L).getInstance();function R(){_=[],m=[],f=[],d=[],v=null,P=[]}function Ee(D,O){var H=-1;D.some(function(j,oe){if(j===O)return H=oe,!0}),!(H<0)&&D.splice(H,1)}function Z(D){var O;for(O=0;O<d.length;O++)if(d[O].rulename===D)return O;return-1}function fe(D,O){X(D,O);var H=new B.default;H.schemeIdUri=D,H.value=O,P.push(H)}function X(D,O){Object(S.checkParameterType)(D,"string"),Object(S.checkParameterType)(O,"string"),P.forEach(function(H,j){H.schemeIdUri===D&&H.value===O&&P.splice(j,1)})}return F={getCustomInitialTrackSelectionFunction:function $(){return v},setCustomInitialTrackSelectionFunction:function w(D){v=D},resetCustomInitialTrackSelectionFunction:function W(){v=null},getLicenseResponseFilters:function ue(){return m},getLicenseRequestFilters:function Q(){return _},getCustomCapabilitiesFilters:function q(){return f},registerCustomCapabilitiesFilter:function le(D){f.push(D)},registerLicenseResponseFilter:function ne(D){m.push(D)},registerLicenseRequestFilter:function ce(D){_.push(D)},unregisterCustomCapabilitiesFilter:function de(D){Ee(f,D)},unregisterLicenseResponseFilter:function ie(D){Ee(m,D)},unregisterLicenseRequestFilter:function U(D){Ee(_,D)},addAbrCustomRule:function pe(D,O,H){if("string"!=typeof D||D!==b.default.ABANDON_FRAGMENT_RULES&&D!==b.default.QUALITY_SWITCH_RULES||"string"!=typeof O)throw h.default.BAD_ARGUMENT_ERROR;var j=Z(O);-1===j?d.push({type:D,rulename:O,rule:H}):(d[j].type=D,d[j].rule=H)},removeAllAbrCustomRule:function _e(){d=[]},removeAbrCustomRule:function re(D){if(D){var O=Z(D);-1!==O&&d.splice(O,1)}else d=[]},getAbrCustomRules:function ge(){return d},addUTCTimingSource:fe,removeUTCTimingSource:X,getUTCTimingSources:function ve(){return P},clearDefaultUTCTimingSources:function ye(){P=[]},restoreDefaultUTCTimingSources:function se(){var D=C.get().streaming.utcSynchronization.defaultTimingSource;fe(D.scheme,D.value)},setXHRWithCredentialsForType:function ee(D,O){D?x[D]=!!O:Object.keys(x).forEach(function(H){ee(H,O)})},getXHRWithCredentialsForType:function z(D){var O=x[D];return void 0===O?x.default:O},setConfig:function p(){},reset:function A(){R()}},function I(){x={default:false},R()}(),F}E.__dashjs_factory_name="CustomParametersModel",k.default=T.default.getSingletonFactory(E)},"./src/streaming/models/FragmentModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/vo/FragmentRequest.js"),M="loading",S="executed",h="failed";function y(F){var L,C,I,R,P=(F=F||{}).eventBus,x=F.events,_=F.dashMetrics,m=F.fragmentLoader,f=F.debug,v=F.streamInfo,d=F.type;function W(se){var oe;return!!se&&(oe=!1,I.some(function(Te){if(function(j,oe){return!isNaN(j.index)&&j.startTime===oe.startTime&&j.adaptationIndex===oe.adaptationIndex&&j.type===oe.type}(se,Te)||function(j,oe){return isNaN(j.index)&&isNaN(oe.index)&&j.quality===oe.quality}(se,Te)||function(j,oe){return j.action===T.default.ACTION_COMPLETE&&j.action===oe.action}(se,Te))return oe=!0}),oe)}function ue(se){return isNaN(se.duration)?.25:Math.min(se.duration/8,.5)}function ce(se){I=I.filter(function(ee){var z=ue(ee);return isNaN(ee.startTime)||void 0!==se&&ee.startTime>=se-z})}function U(se,ee){ee<=se+.5||(I=I.filter(function(z){var D=ue(z);return isNaN(z.startTime)||z.startTime>=ee-D||isNaN(z.duration)||z.startTime+z.duration<=se+D}))}function Ee(se,ee,z){for(var O=se.length-1;O>=0;O--){var H=se[O],j=H.startTime,oe=j+H.duration;if(z=isNaN(z)?ue(H):z,!isNaN(j)&&!isNaN(oe)&&ee+z>=j&&ee-z<oe||isNaN(j)&&isNaN(ee))return H}return null}function re(se,ee){_.addSchedulingInfo(se,ee),_.addRequestsQueue(se.mediaType,R,I)}function _e(se){se.sender===m&&(R.splice(R.indexOf(se.request),1),se.response&&!se.error&&I.push(se.request),re(se.request,se.error?h:S),P.trigger(x.FRAGMENT_LOADING_COMPLETED,{request:se.request,response:se.response,error:se.error,sender:this},{streamId:v.id,mediaType:d}))}function ge(se){se.sender===m&&P.trigger(x.FRAGMENT_LOADING_PROGRESS,{request:se.request,response:se.response,error:se.error,sender:this},{streamId:v.id,mediaType:d})}function fe(se){se.sender===m&&P.trigger(x.FRAGMENT_LOADING_ABANDONED,{request:se.request},{streamId:v.id,mediaType:d})}function ve(){I=[],R=[]}return L={getStreamId:function p(){return v.id},getType:function w(){return d},getRequests:function Q(se){var z=[];return(se?se.state instanceof Array?se.state:[se.state]:[]).forEach(function(D){var O=function pe(se){var ee;switch(se){case M:ee=R;break;case S:ee=I;break;default:ee=[]}return ee}(D);z=z.concat(function Z(se,ee){return ee.hasOwnProperty("time")?[Ee(se,ee.time,ee.threshold)]:se.filter(function(z){for(var D in ee)if("state"!==D&&ee.hasOwnProperty(D)&&z[D]!=ee[D])return!1;return!0})}(O,se))}),z},isFragmentLoaded:W,isFragmentLoadedOrPending:function $(se){var D,ee=!1,z=0;if(!(ee=W(se)))for(z=0;z<R.length;z++)se.url===(D=R[z]).url&&se.startTime===D.startTime&&(ee=!0);return ee},removeExecutedRequestsBeforeTime:ce,removeExecutedRequestsAfterTime:function ne(se){I=I.filter(function(ee){return isNaN(ee.startTime)||void 0!==se&&ee.startTime<se})},syncExecutedRequestsWithBufferedRange:function ie(se,ee){if(se&&0!==se.length){for(var z=0,D=0,O=se.length;D<O;D++)U(z,se.start(D)),z=se.end(D);ee>0&&U(z,ee)}else ce()},abortRequests:function q(){C.debug("abort requests"),m.abort(),R=[]},executeRequest:function le(se){se.action===T.default.ACTION_DOWNLOAD?(re(se,M),R.push(se),function de(se){P.trigger(x.FRAGMENT_LOADING_STARTED,{request:se},{streamId:v.id,mediaType:d}),m.load(se)}(se)):C.warn("Unknown request action.")},reset:function X(){P.off(x.LOADING_COMPLETED,_e,this),P.off(x.LOADING_DATA_PROGRESS,ge,this),P.off(x.LOADING_ABANDONED,fe,this),m&&m.reset(),ve()},resetInitialSettings:ve,addExecutedRequest:function ye(se){I.push(se)}},function A(){C=f.getLogger(L),ve(),P.on(x.LOADING_COMPLETED,_e,L),P.on(x.LOADING_DATA_PROGRESS,ge,L),P.on(x.LOADING_ABANDONED,fe,L)}(),L}y.__dashjs_factory_name="FragmentModel";var E=B.default.getClassFactory(y);E.FRAGMENT_MODEL_LOADING=M,E.FRAGMENT_MODEL_EXECUTED=S,E.FRAGMENT_MODEL_CANCELED="canceled",E.FRAGMENT_MODEL_FAILED=h,B.default.updateClassFactory(y.__dashjs_factory_name,E),k.default=E},"./src/streaming/models/LowLatencyThroughputModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/Debug.js"),T=c("./src/core/FactoryMaker.js");function M(){var P,x,F=this.context,_={};function m(){x=Object(B.default)(F).getInstance().getLogger(P)}function f(I){for(var R={},A=0,p=0,w=0,W=0,$=I.length,Q=0;Q<$;++Q)A+=I[Q].chunkDownloadTimeRelativeMS,p+=I[Q].bufferLevel,w+=I[Q].chunkDownloadTimeRelativeMS*I[Q].bufferLevel,W+=I[Q].chunkDownloadTimeRelativeMS*I[Q].chunkDownloadTimeRelativeMS;return R.m=(w-A*p/$)/(W-A*A/$),R.b=p/$-R.m*A/$,function(ue){return R.m*ue+R.b}}function v(I){var A,R=!0,p=I.reduce(function(w,W){return w+W.bufferLevelAtSegmentEnd},0)/I.length;return I.forEach(function(w){Math.abs(w.bufferLevelAtSegmentEnd/w.bufferLevelAtSegmentStart)<.95&&(R=!1),w.bufferLevelAtSegmentEnd/p<.8&&(R=!1),A?A>w.bitrate&&(R=!1):A=w.bitrate}),R}return P={setup:m,addMeasurement:function C(I,R,A,p,w){I&&I.mediaType&&!_[I.mediaType]&&(_[I.mediaType]=[]);var W=I.mediaInfo.bitrateList.find(function($){return $.id===I.representationId});_[I.mediaType].push({index:I.index,repId:I.representationId,mediaType:I.mediaType,requestTimeMS:p,adjustedAvailabilityStartTimeMS:I.availabilityStartTime.getTime(),segDurationMS:1e3*I.duration,chunksDurationMS:A.reduce(function($,Q){return $+Q.chunkDownloadDurationMS},0),segmentBytes:A.reduce(function($,Q){return $+Q.chunkBytes},0),bitrate:W&&W.bandwidth,bitrateList:I.mediaInfo.bitrateList,chunkMeasurements:A,fetchDownloadDurationMS:R,throughputCapacityDelayMS:w,getEstimatedBufferLevel:f(A.slice(1))}),_[I.mediaType].length>10&&_[I.mediaType].shift()},getThroughputCapacityDelayMS:function L(I,R){var A=_[I.mediaType]&&_[I.mediaType].slice(-3);return!A||A.length<3||!v(A)?0:R/4>250?250:R/4},getEstimatedDownloadDurationMS:function d(I){var R=_[I.mediaType].slice(-1).pop(),A=_[I.mediaType].slice(-3),p=R.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;R.bufferLevelAtSegmentStart=R.getEstimatedBufferLevel(p/2),R.bufferLevelAtSegmentEnd=R.getEstimatedBufferLevel(p);var w=v(A),W=w?.6:.8;if(R.isBufferStable&&1.05*R.segDurationMS<R.fetchDownloadDurationMS)return R.fetchDownloadDurationMS;if(!w||R.segDurationMS<R.fetchDownloadDurationMS||R.adjustedAvailabilityStartTimeMS<=R.requestTimeMS+R.throughputCapacityDelayMS-R.segDurationMS)return.8*R.fetchDownloadDurationMS;for(var $=R.requestTimeMS+R.throughputCapacityDelayMS-R.adjustedAvailabilityStartTimeMS,Q=0,ue=0,ce=0,ne=0;ne<R.chunkMeasurements.length;ne++){var U=R.chunkMeasurements[ne];if($<ue+U.chunkDownloadDurationMS)break;ue+=U.chunkDownloadDurationMS,Q+=U.chunkBytes,ce++}if($<0&&x.warn("request time was before adjusted availibitly start time"),Q&&ue&&ce>.2*R.chunkMeasurements.length){var q=R.segmentBytes/(Q/ue);return R.fetchDownloadDurationMS<q?R.fetchDownloadDurationMS*W:q*W}var le=R.bitrate;return R.bitrateList.some(function(de){if(de.bandwidth>R.bitrate)return le=de.bandwidth,!0}),le===R.bitrate?R.fetchDownloadDurationMS*W:W*R.segmentBytes*8*1e3/le}},m(),P}M.__dashjs_factory_name="LowLatencyThroughputModel",k.default=T.default.getSingletonFactory(M)},"./src/streaming/models/ManifestModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/EventBus.js"),T=c("./src/core/events/Events.js"),M=c("./src/core/FactoryMaker.js");function S(){var E,b=this.context,h=Object(B.default)(b).getInstance();return{getValue:function F(){return E},setValue:function P(x){E=x,x&&h.trigger(T.default.MANIFEST_LOADED,{data:x})}}}S.__dashjs_factory_name="ManifestModel",k.default=M.default.getSingletonFactory(S)},"./src/streaming/models/MediaPlayerModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/Debug.js"),T=c("./src/core/FactoryMaker.js"),M=c("./src/core/Settings.js"),x=-.5;function m(){var f,v,d,L,C=this.context,I=Object(M.default)(C).getInstance();function p(le,de){return isNaN(le)?0:le>0?(de&&v.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):le<x?(de&&v.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(x,": ").concat(-50,"% playback speed.")),x):le}function w(le,de){return isNaN(le)?0:le<0?(de&&v.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):le>1?(de&&v.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):le}function ne(){var le=I.get().streaming.buffer.stableBufferTime>0?I.get().streaming.buffer.stableBufferTime:I.get().streaming.buffer.fastSwitchEnabled?20:12,de=d.getLiveDelay();return!isNaN(de)&&de>0?Math.min(le,de):le}return f={getCatchupMaxDrift:function W(){if(!isNaN(I.get().streaming.liveCatchup.maxDrift)&&I.get().streaming.liveCatchup.maxDrift>0)return I.get().streaming.liveCatchup.maxDrift;var le=L.getServiceDescriptionSettings();return le&&le.liveCatchup&&!isNaN(le.liveCatchup.maxDrift)&&le.liveCatchup.maxDrift>0?le.liveCatchup.maxDrift:12},getCatchupModeEnabled:function Q(){return null!==I.get().streaming.liveCatchup.enabled?I.get().streaming.liveCatchup.enabled:d.getInitialCatchupModeActivated()},getStableBufferTime:ne,getInitialBufferLevel:function ce(){var le=I.get().streaming.buffer.initialBufferLevel;return isNaN(le)||le<0?0:Math.min(ne(),le)},getRetryAttemptsForType:function U(le){var de=isNaN(I.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:I.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return d.getLowLatencyModeEnabled()?I.get().streaming.retryAttempts[le]*de:I.get().streaming.retryAttempts[le]},getRetryIntervalsForType:function ie(le){var de=isNaN(I.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:I.get().streaming.retryIntervals.lowLatencyReductionFactor;return d.getLowLatencyModeEnabled()?I.get().streaming.retryIntervals[le]/de:I.get().streaming.retryIntervals[le]},getCatchupPlaybackRates:function $(le){var de=I.get().streaming.liveCatchup.playbackRate;if(!isNaN(de.min)||!isNaN(de.max))return{min:p(de.min,le),max:w(de.max,le)};var Ee=L.getServiceDescriptionSettings();if(Ee&&Ee.liveCatchup&&(!isNaN(Ee.liveCatchup.playbackRate.min)||!isNaN(Ee.liveCatchup.playbackRate.max))){var Z=Ee.liveCatchup.playbackRate;return{min:p(Z.min,le),max:w(Z.max,le)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function ue(le,de){try{var Ee=I.get().streaming.abr[le][de];if(!isNaN(Ee)&&-1!==Ee)return Ee;var Z=L.getServiceDescriptionSettings();return Z&&Z[le]&&!isNaN(Z[le][de])?Z[le][de]:-1}catch{return-1}},setConfig:function A(le){le.playbackController&&(d=le.playbackController),le.serviceDescriptionController&&(L=le.serviceDescriptionController)},reset:function q(){}},function R(){v=Object(B.default)(C).getInstance().getLogger(f)}(),f}m.__dashjs_factory_name="MediaPlayerModel",k.default=T.default.getSingletonFactory(m)},"./src/streaming/models/MetricsModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/streaming/constants/MetricsConstants.js"),M=c("./src/streaming/vo/MetricsList.js"),S=c("./src/streaming/vo/metrics/HTTPRequest.js"),b=c("./src/streaming/vo/metrics/RepresentationSwitch.js"),h=c("./src/streaming/vo/metrics/BufferLevel.js"),y=c("./src/streaming/vo/metrics/BufferState.js"),E=c("./src/streaming/vo/metrics/DVRInfo.js"),F=c("./src/streaming/vo/metrics/DroppedFrames.js"),P=c("./src/streaming/vo/metrics/ManifestUpdate.js"),x=c("./src/streaming/vo/metrics/SchedulingInfo.js"),_=c("./src/core/EventBus.js"),m=c("./src/streaming/vo/metrics/RequestsQueue.js"),f=c("./src/core/events/Events.js"),v=c("./src/core/FactoryMaker.js");function d(L){var A,p,C=(L=L||{}).settings,I=this.context,R=Object(_.default)(I).getInstance();function W(){R.trigger(f.default.METRICS_CHANGED)}function $(D){R.trigger(f.default.METRIC_CHANGED,{mediaType:D}),W()}function Q(D,O,H){R.trigger(f.default.METRIC_UPDATED,{mediaType:D,metric:O,value:H}),$(D)}function ue(D,O,H){R.trigger(f.default.METRIC_ADDED,{mediaType:D,metric:O,value:H}),$(D)}function U(D,O){var H=null;return D&&(p.hasOwnProperty(D)?H=p[D]:O||(H=new M.default,p[D]=H)),H}function ie(D,O,H){var j=U(D);null!==j&&(j[O].push(H),j[O].length>C.get().streaming.metrics.maxListDepth&&j[O].shift())}function Ee(D,O,H){ie(D,O,H),ue(D,O,H)}return A={clearCurrentMetricsForType:function ce(D){delete p[D],$(D)},clearAllCurrentMetrics:function ne(){p={},W()},getMetricsFor:U,addHttpRequest:function le(D,O,H,j,oe,Te,Re,me,G,V,K,te,J,he,Ae,be){var Ie=new S.HTTPRequest;Te&&Te!==j&&(le(D,null,H,j,oe,null,null,me,G,null,null,null,J,null,null,be),Ie.actualurl=Te),Ie.tcpid=O,Ie.type=H,Ie.url=j,Ie.range=me,Ie.trequest=G,Ie.tresponse=V,Ie.responsecode=te,Ie._tfinish=K,Ie._stream=D,Ie._mediaduration=J,Ie._quality=oe,Ie._responseHeaders=he,Ie._serviceLocation=Re,Ie._fileLoaderType=be,Ae?Ae.forEach(function(xe){!function q(D,O,H,j){var oe=new S.HTTPRequestTrace;return oe.s=O,oe.d=H,oe.b=j,D.trace.push(oe),D.interval||(D.interval=0),D.interval+=H,oe}(Ie,xe.s,xe.d,xe.b)}):(delete Ie.interval,delete Ie.trace),Ee(D,T.default.HTTP_REQUEST,Ie)},addRepresentationSwitch:function de(D,O,H,j,oe){var Te=new b.default;Te.t=O,Te.mt=H,Te.to=j,oe?Te.lto=oe:delete Te.lto,Ee(D,T.default.TRACK_SWITCH,Te)},addBufferLevel:function Z(D,O,H){var j=new h.default;j.t=O,j.level=H,Ee(D,T.default.BUFFER_LEVEL,j)},addBufferState:function pe(D,O,H){var j=new y.default;j.target=H,j.state=O,Ee(D,T.default.BUFFER_STATE,j)},addDVRInfo:function re(D,O,H,j){var oe=new E.default;oe.time=O,oe.range=j,oe.manifestInfo=H,Ee(D,T.default.DVR_INFO,oe)},addDroppedFrames:function _e(D,O){var H=new F.default,j=U(D).DroppedFrames;!O||(H.time=O.creationTime,H.droppedFrames=O.droppedVideoFrames,!(j.length>0&&j[j.length-1]==H)&&Ee(D,T.default.DROPPED_FRAMES,H))},addSchedulingInfo:function ge(D,O,H,j,oe,Te,Re,me,G){var V=new x.default;V.mediaType=D,V.t=O,V.type=H,V.startTime=j,V.availabilityStartTime=oe,V.duration=Te,V.quality=Re,V.range=me,V.state=G,Ee(D,T.default.SCHEDULING_INFO,V)},addRequestsQueue:function fe(D,O,H){var j=new m.default;j.loadingRequests=O,j.executedRequests=H,U(D).RequestsQueue=j,ue(D,T.default.REQUESTS_QUEUE,j)},addManifestUpdate:function ve(D,O,H,j,oe,Te,Re,me,G,V){var K=new P.ManifestUpdate;K.mediaType=D,K.type=O,K.requestTime=H,K.fetchTime=j,K.availabilityStartTime=oe,K.presentationStartTime=Te,K.clientTimeOffset=Re,K.currentTime=me,K.buffered=G,K.latency=V,ie(B.default.STREAM,T.default.MANIFEST_UPDATE,K),ue(D,T.default.MANIFEST_UPDATE,K)},updateManifestUpdateInfo:function X(D,O){if(D){for(var H in O)D[H]=O[H];Q(D.mediaType,T.default.MANIFEST_UPDATE,D)}},addManifestUpdateStreamInfo:function ye(D,O,H,j,oe){if(D){var Te=new P.ManifestUpdateStreamInfo;Te.id=O,Te.index=H,Te.start=j,Te.duration=oe,D.streamInfo.push(Te),Q(D.mediaType,T.default.MANIFEST_UPDATE_STREAM_INFO,D)}},addManifestUpdateRepresentationInfo:function se(D,O,H,j,oe,Te,Re,me){if(D&&D.representationInfo){var G=new P.ManifestUpdateRepresentationInfo;G.id=O,G.index=H,G.streamIndex=j,G.mediaType=oe,G.startNumber=Re,G.fragmentInfoType=me,G.presentationTimeOffset=Te,D.representationInfo.push(G),Q(D.mediaType,T.default.MANIFEST_UPDATE_TRACK_INFO,D)}},addPlayList:function ee(D){D.trace&&Array.isArray(D.trace)?D.trace.forEach(function(O){O.hasOwnProperty("subreplevel")&&!O.subreplevel&&delete O.subreplevel}):delete D.trace,Ee(B.default.STREAM,T.default.PLAY_LIST,D)},addDVBErrors:function z(D){Ee(B.default.STREAM,T.default.DVB_ERRORS,D)}},function w(){p={}}(),A}d.__dashjs_factory_name="MetricsModel",k.default=v.default.getSingletonFactory(d)},"./src/streaming/models/URIFragmentModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/vo/URIFragmentData.js"),T=c("./src/core/FactoryMaker.js");function M(){var b;return{initialize:function h(E){if(b=new B.default,!E)return null;var F=E.indexOf("#");if(-1!==F)for(var P=E.substr(F+1).split("&"),x=0,_=P.length;x<_;++x){var m=P[x],f=m.indexOf("=");if(-1!==f){var v=m.substring(0,f);b.hasOwnProperty(v)&&(b[v]=m.substr(f+1))}}},getURIFragmentData:function y(){return b}}}M.__dashjs_factory_name="URIFragmentModel",k.default=T.default.getSingletonFactory(M)},"./src/streaming/models/VideoModel.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/EventBus.js"),M=c("./src/core/events/Events.js"),S=c("./src/core/Debug.js"),b=c("./src/streaming/constants/Constants.js"),h=new Map([[b.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[b.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[b.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[b.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function y(){var E,F,P,x,_,v=this.context,d=Object(T.default)(v).getInstance(),L=[];function A(){P&&(P.playbackRate=1,P.removeEventListener("canplay",A))}function q(){return L.length>0}function Z(){if(P&&q()&&0===P.playbackRate){var be=document.createEvent("Event");be.initEvent("waiting",!0,!1),P.dispatchEvent(be)}}function ee(be,Ie){P&&P.addEventListener(be,Ie)}function z(be,Ie){P&&P.removeEventListener(be,Ie)}function D(){return P?P.readyState:NaN}function O(){return P?P.buffered:null}function V(be,Ie,xe,De,Fe){if(P)for(var Ce=0;Ce<P.textTracks.length;Ce++)if(P.textTracks[Ce].kind===be&&(!Ie||P.textTracks[Ce].label==Ie)&&P.textTracks[Ce].language===xe&&P.textTracks[Ce].isTTML===De&&P.textTracks[Ce].isEmbedded===Fe)return P.textTracks[Ce];return null}function he(be,Ie){be===b.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||D()>=be?Ie():function Ae(be,Ie){ee(be,function De(){z(be,De),Ie(be)})}(h.get(be),Ie)}return E={initialize:function I(){d.on(M.default.PLAYBACK_PLAYING,Z,this)},setCurrentTime:function w(be,Ie){x=be,he(b.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(P){if(P.currentTime===x)return void(x=NaN);try{x=Ie?function W(be){var Ie=O(),xe=be,De=9999999999;if(Ie)for(var Fe=0;Fe<Ie.length;Fe++){var Ce=Ie.start(Fe),Qe=Ie.end(Fe),tt=Math.abs(Ce-be),Et=Math.abs(Qe-be);if(be>=Ce&&be<=Qe)return be;tt<De&&(De=tt,xe=Ce),Et<De&&(De=Et,xe=Qe)}return xe}(x):x,P.currentTime=x,x=NaN}catch(xe){0===P.readyState&&xe.code===xe.INVALID_STATE_ERR&&setTimeout(function(){P.currentTime=x,x=NaN},400)}}})},play:function re(){if(P){P.autoplay=!0;var be=P.play();be&&be.catch&&typeof Promise<"u"&&be.catch(function(Ie){"NotAllowedError"===Ie.name&&d.trigger(M.default.PLAYBACK_NOT_ALLOWED),F.warn("Caught pending play exception - continuing (".concat(Ie,")"))})}},isPaused:function _e(){return P?P.paused:null},pause:function ge(){P&&(P.pause(),P.autoplay=!1)},isStalled:q,isSeeking:function fe(){return P?P.seeking||!isNaN(x):null},getTime:function ve(){return P?isNaN(x)?P.currentTime:x:null},getPlaybackRate:function X(){return P?P.playbackRate:null},setPlaybackRate:function p(be){!P||(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&P.readyState<=2&&be>0?P.addEventListener("canplay",A):P.playbackRate=be)},getPlayedRanges:function ye(){return P?P.played:null},getEnded:function se(){return P?P.ended:null},setStallState:function ie(be,Ie){!function Ee(be,Ie){Ie?function le(be){null===be||!P||P.seeking||-1!==L.indexOf(be)||L.push(be)}(be):function de(be){var Ie=L.indexOf(be);null!==be&&-1!==Ie&&L.splice(Ie,1)}(be)}(be,Ie)},getElement:function $(){return P},setElement:function Q(be){if(!(null==be||be&&/^(VIDEO|AUDIO)$/i.test(be.nodeName)))throw"element is not video or audio DOM type!";(P=be)&&(P.preload="auto")},setSource:function ue(be){P&&(be?P.src=be:(P.removeAttribute("src"),P.load()))},getSource:function ce(){return P?P.src:null},getTTMLRenderingDiv:function ne(){return _},setTTMLRenderingDiv:function U(be){(_=be).style.position="absolute",_.style.display="flex",_.style.overflow="hidden",_.style.pointerEvents="none",_.style.top=0,_.style.left=0},getPlaybackQuality:function pe(){if(!P)return null;var be="webkitDroppedFrameCount"in P&&"webkitDecodedFrameCount"in P,xe=null;return"getVideoPlaybackQuality"in P?xe=P.getVideoPlaybackQuality():be&&(xe={droppedVideoFrames:P.webkitDroppedFrameCount,totalVideoFrames:P.webkitDroppedFrameCount+P.webkitDecodedFrameCount,creationTime:new Date}),xe},addEventListener:ee,removeEventListener:z,getReadyState:D,getBufferRange:O,getClientWidth:function H(){return P?P.clientWidth:NaN},getClientHeight:function j(){return P?P.clientHeight:NaN},getTextTracks:function G(){return P?P.textTracks:[]},getTextTrack:V,addTextTrack:function K(be,Ie,xe,De,Fe){if(!P)return null;var Ce=V(be,Ie,xe,De,Fe);return Ce||((Ce=P.addTextTrack(be,Ie,xe)).isEmbedded=Fe,Ce.isTTML=De),Ce},appendChild:function te(be){P&&(P.appendChild(be),void 0!==be.isTTML&&(P.textTracks[P.textTracks.length-1].isTTML=be.isTTML,P.textTracks[P.textTracks.length-1].isEmbedded=be.isEmbedded))},removeChild:function J(be){P&&P.removeChild(be)},getVideoWidth:function oe(){return P?P.videoWidth:NaN},getVideoHeight:function Te(){return P?P.videoHeight:NaN},getVideoRelativeOffsetTop:function Re(){var be=P.parentNode.host||P.parentNode;return be?P.getBoundingClientRect().top-be.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function me(){var be=P.parentNode.host||P.parentNode;return be?P.getBoundingClientRect().left-be.getBoundingClientRect().left:NaN},waitForReadyState:he,reset:function R(){d.off(M.default.PLAYBACK_PLAYING,Z,this)}},function C(){F=Object(S.default)(v).getInstance().getLogger(E),x=NaN}(),E}y.__dashjs_factory_name="VideoModel",k.default=B.default.getSingletonFactory(y)},"./src/streaming/net/FetchLoader.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Settings.js"),M=c("./src/streaming/constants/Constants.js"),S=c("./src/streaming/utils/RequestModifier.js");function b(f,v){return function E(f){if(Array.isArray(f))return f}(f)||function y(f,v){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(f)){var d=[],L=!0,C=!1,I=void 0;try{for(var A,R=f[Symbol.iterator]();!(L=(A=R.next()).done)&&(d.push(A.value),!v||d.length!==v);L=!0);}catch(p){C=!0,I=p}finally{try{!L&&null!=R.return&&R.return()}finally{if(C)throw I}}return d}}(f,v)||P(f,v)||function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(f,v){if(f){if("string"==typeof f)return x(f,v);var d=Object.prototype.toString.call(f).slice(8,-1);if("Object"===d&&f.constructor&&(d=f.constructor.name),"Map"===d||"Set"===d)return Array.from(f);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return x(f,v)}}function x(f,v){(null==v||v>f.length)&&(v=f.length);for(var d=0,L=new Array(v);d<v;d++)L[d]=f[d];return L}function _(f){var A,v=this.context,d=(f=f||{}).requestModifier,L=f.lowLatencyThroughputModel,C=f.boxParser,I=Object(T.default)(v).getInstance();function W(U){var Z,ie=new Date,q=U.request,le=new Headers;if(q.range&&le.append("Range","bytes="+q.range),U.headers)for(var de in U.headers){var Ee=U.headers[de];Ee&&le.append(de,Ee)}q.requestStartDate||(q.requestStartDate=ie),d&&d.modifyRequestHeader&&d.modifyRequestHeader({setRequestHeader:function(ve,X){le.append(ve,X)}},{url:U.url}),"function"==typeof window.AbortController&&(Z=new AbortController,U.abortController=Z,Z.signal.onabort=U.onabort);var pe={method:U.method,headers:le,credentials:U.withCredentials?"include":void 0,signal:Z?Z.signal:void 0},re=I.get().streaming.abr.fetchThroughputCalculationMode,_e=Date.now(),ge=0;new Promise(function(fe){if(re===M.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&L&&(ge=L.getThroughputCapacityDelayMS(q,1e3*A.getCurrentBufferLevel(q.mediaType))))return setTimeout(fe,ge);fe()}).then(function(){var fe=Date.now();fetch(U.url,pe).then(function(ve){U.response||(U.response={}),U.response.status=ve.status,U.response.statusText=ve.statusText,U.response.responseURL=ve.url,ve.ok||U.onerror();var se,X="",ye=function F(f,v){var d;if(typeof Symbol>"u"||null==f[Symbol.iterator]){if(Array.isArray(f)||(d=P(f))||v&&f&&"number"==typeof f.length){d&&(f=d);var L=0,C=function(){};return{s:C,n:function(){return L>=f.length?{done:!0}:{done:!1,value:f[L++]}},e:function(w){throw w},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A,I=!0,R=!1;return{s:function(){d=f[Symbol.iterator]()},n:function(){var w=d.next();return I=w.done,w},e:function(w){R=!0,A=w},f:function(){try{!I&&null!=d.return&&d.return()}finally{if(R)throw A}}}}(ve.headers.keys());try{for(ye.s();!(se=ye.n()).done;){var ee=se.value;X+=ee+": "+ve.headers.get(ee)+"\r\n"}}catch(Ie){ye.e(Ie)}finally{ye.f()}if(U.response.responseHeaders=X,!ve.body)return ve.arrayBuffer().then(function(Ie){U.response.response=Ie,U.progress({loaded:Ie.byteLength,total:Ie.byteLength,stream:!1}),U.onload(),U.onend()});var De,Fe,z=parseInt(ve.headers.get("Content-Length"),10),D=0,O=!1,H=new Uint8Array,j=0;if(re===M.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&L){var Te=fe,Re=0,G=b(ve.body.tee(),2),K=G[1];De=G[0].getReader(),Fe=[],De.read().then(function Ce(Qe){var tt=Qe.value,Et=Qe.done;if(Re=Date.now(),tt&&tt.length){var Lt=Re-Te,Bt=tt.length;Fe.push({chunkDownloadTimeRelativeMS:Re-fe,chunkDownloadDurationMS:Lt,chunkBytes:Bt,kbps:Math.round(8*Bt/(Lt/1e3)),bufferLevel:A.getCurrentBufferLevel(q.mediaType)})}if(Et){var kt=Re-fe,en=Fe.reduce(function(an,Qt){return an+Qt.chunkBytes},0);return L.addMeasurement(q,kt,Fe,_e,ge,X),void U.progress({loaded:en,total:en,lengthComputable:!0,time:L.getEstimatedDownloadDurationMS(q),stream:!0})}return Te=Date.now(),De.read().then(Ce)}),U.reader=K.getReader()}else U.reader=ve.body.getReader();var te=[],J=[],he=[],Ae=!0;$(U,function Ie(xe){var De=xe.value;if(xe.done){if(H){if(re!==M.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Ce=null,Qe=null;re===M.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Ce=function ne(U,ie){try{var q,le;q=U.filter(function(fe,ve){return ve<U.length-1}),le=ie.filter(function(fe,ve){return ve<ie.length-1});var de=[];if(q.length>1){for(var Ee=0,Z=0,pe=0;pe<q.length;pe++)if(q[pe]&&le[pe]){var re=le[pe].ts-q[pe].ts;if(re>1)de.push(8*le[pe].bytes/re);else{0===Z&&(Z=q[pe].ts);var _e=le[pe].ts-Z;_e>1?(de.push(8*Ee/_e),Ee=0,Z=0):Ee+=le[pe].bytes}}if(de.length>0)return de.reduce(function(fe,ve){return fe+ve},0)/de.length}return null}catch{return null}}(J,he))&&(Qe=8*D/Ce):re===M.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Qe=ce(te,D)),U.progress({loaded:D,total:isNaN(z)?D:z,lengthComputable:!0,time:Qe,stream:!0})}U.response.response=H.buffer}return U.onload(),void U.onend()}if(De&&De.length>0){H=function Q(U,ie){if(0===U.length)return ie;var q=new Uint8Array(U.length+ie.length);return q.set(U),q.set(ie,U.length),q}(H,De),D+=De.length,te.push({ts:Date.now(),bytes:De.length}),re===M.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ae&&C.findLastTopIsoBoxCompleted(["moof"],H,j).found&&(Ae=!1,J.push({ts:performance.now(),bytes:De.length}));var Et=C.findLastTopIsoBoxCompleted(["moov","mdat"],H,j);if(Et.found){var Bt,Lt=Et.lastCompletedOffset+Et.size;re===M.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Ae&&(Ae=!0,he.push({ts:performance.now(),bytes:H.length})),Lt===H.length?(Bt=H,H=new Uint8Array):(Bt=new Uint8Array(H.subarray(0,Lt)),H=H.subarray(Lt)),U.progress({data:Bt.buffer,lengthComputable:!1,noTrace:!0}),j=0}else j=Et.lastCompletedOffset,O||(U.progress({lengthComputable:!1,noTrace:!0}),O=!0)}$(U,Ie)})}).catch(function(ve){U.onerror&&U.onerror(ve)})})}function $(U,ie){U.reader.read().then(ie).catch(function(q){U.onerror&&200===U.response.status&&U.onerror(q)})}function ce(U,ie){try{if((U=U.filter(function(de){return de.bytes>ie/4/U.length})).length>1){var q=0,le=(U[U.length-1].ts-U[0].ts)/U.length;return U.forEach(function(de,Ee){var Z=U[Ee+1];if(Z){var pe=Z.ts-de.ts;q+=pe<le?pe:0}}),q}return null}catch{return null}}return{load:function w(U){d&&d.modifyRequest?Object(S.modifyRequest)(U,d).then(function(){return W(U)}):W(U)},abort:function ue(U){if(U.abortController)U.abortController.abort();else if(U.reader)try{U.reader.cancel(),U.onabort()}catch{}},calculateDownloadedTime:ce,setup:function p(U){A=U.dashMetrics}}}_.__dashjs_factory_name="FetchLoader";var m=B.default.getClassFactory(_);k.default=m},"./src/streaming/net/HTTPLoader.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/net/XHRLoader.js"),T=c("./src/streaming/net/FetchLoader.js"),M=c("./src/streaming/vo/metrics/HTTPRequest.js"),S=c("./src/core/FactoryMaker.js"),b=c("./src/streaming/vo/DashJSError.js"),h=c("./src/streaming/models/CmcdModel.js"),y=c("./src/core/Utils.js"),E=c("./src/core/Debug.js"),F=c("./src/core/EventBus.js"),P=c("./src/core/events/Events.js"),x=c("./src/core/Settings.js"),_=c("./src/streaming/constants/Constants.js"),m=c("./src/streaming/models/LowLatencyThroughputModel.js"),f=c("./src/streaming/models/CustomParametersModel.js");function v(C,I,R){return I in C?Object.defineProperty(C,I,{value:R,enumerable:!0,configurable:!0,writable:!0}):C[I]=R,C}function d(C){var ne,U,ie,q,le,de,Ee,Z,pe,I=this.context,R=(C=C||{}).errHandler,A=C.dashMetrics,p=C.mediaPlayerModel,w=C.requestModifier,W=C.boxParser,$=C.errors,Q=C.requestTimeout||0,ue=Object(F.default)(I).getInstance(),ce=Object(x.default)(I).getInstance();function _e(X,ye){var Te,se=X.request,ee=[],z=!0,D=!0,O=new Date,H=O,j=0,oe=null;if(!w||!A||!R)throw new Error("config object is not correct or missing");var J,Re=function(tt){if(D=!1,se.requestStartDate=O,se.requestEndDate=new Date,se.firstByteDate=se.firstByteDate||O,se.fileLoaderType=oe,!se.checkExistenceOnly){var Et=Te.response?Te.response.responseURL:null,Lt=Te.response?Te.response.status:null,Bt=Te.response&&Te.response.getAllResponseHeaders?Te.response.getAllResponseHeaders():Te.response?Te.response.responseHeaders:[];A.addHttpRequest(se,Et,Lt,Bt,tt?ee:null),se.type===M.HTTPRequest.MPD_TYPE&&A.addManifestUpdate(se)}},me=function(){if(-1!==U.indexOf(Te)&&(U.splice(U.indexOf(Te),1),D))if(Re(!1),ye>0){try{ce.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&se.type===M.HTTPRequest.MEDIA_SEGMENT_TYPE&&p.getRetryAttemptsForType(M.HTTPRequest.MEDIA_SEGMENT_TYPE)===ye&&ue.trigger(P.default.ATTEMPT_BACKGROUND_SYNC)}catch{}ye--;var Et={config:X};q.push(Et),Et.timeout=setTimeout(function(){-1!==q.indexOf(Et)&&(q.splice(q.indexOf(Et),1),_e(X,ye))},p.getRetryIntervalsForType(se.type))}else{if(se.type===M.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;R.error(new b.default(le[se.type],se.url+" is not available",{request:se,response:Te.response})),X.error&&X.error(se,"error",Te.response.statusText),X.complete&&X.complete(se,Te.response.statusText)}};se.hasOwnProperty("availabilityTimeComplete")&&!1===se.availabilityTimeComplete&&window.fetch&&"arraybuffer"===se.responseType&&se.type===M.HTTPRequest.MEDIA_SEGMENT_TYPE?((J=Object(T.default)(I).create({requestModifier:w,lowLatencyThroughputModel:Z,boxParser:W})).setup({dashMetrics:A}),oe=_.default.FILE_LOADER_TYPES.FETCH):(J=Object(B.default)(I).create({requestModifier:w}),oe=_.default.FILE_LOADER_TYPES.XHR);var he=null,Ae=w.modifyRequestURL?w.modifyRequestURL(se.url):se.url;if(ce.get().streaming.cmcd&&ce.get().streaming.cmcd.enabled){var be=ce.get().streaming.cmcd.mode;if(be===_.default.CMCD_MODE_QUERY){var Ie=function ge(X){try{var ye=[],se=de.getQueryParameter(X);return se&&ye.push(se),ye}catch{return[]}}(se);Ae=y.default.addAditionalQueryParameterToUrl(Ae,Ie)}else be===_.default.CMCD_MODE_HEADER&&(he=de.getHeaderParameters(se))}se.url=Ae;var xe=se.checkExistenceOnly?M.HTTPRequest.HEAD:M.HTTPRequest.GET,De=Ee.getXHRWithCredentialsForType(se.type);Te={url:Ae,method:xe,withCredentials:De,request:se,onload:function(){Te.response.status>=200&&Te.response.status<=299&&(Re(!0),X.success&&X.success(Te.response.response,Te.response.statusText,Te.response.responseURL),X.complete&&X.complete(se,Te.response.statusText))},onend:me,onerror:me,progress:function(tt){var Et=new Date;z&&(z=!1,(!tt.lengthComputable||tt.lengthComputable&&tt.total!==tt.loaded)&&(se.firstByteDate=Et)),tt.lengthComputable&&(se.bytesLoaded=tt.loaded,se.bytesTotal=tt.total),tt.noTrace||(ee.push({s:H,d:tt.time?tt.time:Et.getTime()-H.getTime(),b:[tt.loaded?tt.loaded-j:0]}),H=Et,j=tt.loaded),X.progress&&tt&&X.progress(tt)},onabort:function(){X.abort&&X.abort(se)},ontimeout:function(tt){var Et;Et=tt.lengthComputable?"Request timeout: loaded: "+tt.loaded+", out of: "+tt.total+" : "+(tt.loaded/tt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",pe.warn(Et)},loader:J,timeout:Q,headers:he};var Fe=(new Date).getTime();if(isNaN(se.delayLoadingTime)||Fe>=se.delayLoadingTime)U.push(Te),J.load(Te);else{var Ce={httpRequest:Te};ie.push(Ce),Ce.delayTimeout=setTimeout(function(){if(-1!==ie.indexOf(Ce)){ie.splice(ie.indexOf(Ce),1);try{O=new Date,H=O,U.push(Ce.httpRequest),J.load(Ce.httpRequest)}catch{Ce.httpRequest.onerror()}}},se.delayLoadingTime-Fe)}}return ne={load:function fe(X){X.request?_e(X,p.getRetryAttemptsForType(X.request.type)):X.error&&X.error(X.request,"error")},abort:function ve(){q.forEach(function(X){clearTimeout(X.timeout),X.config.request&&X.config.abort&&X.config.abort(X.config.request)}),q=[],ie.forEach(function(X){return clearTimeout(X.delayTimeout)}),ie=[],U.forEach(function(X){X.request.type!==M.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(X.onloadend=X.onerror=X.onprogress=void 0,X.loader.abort(X))}),U=[]}},function re(){var X;pe=Object(E.default)(I).getInstance().getLogger(ne),U=[],ie=[],q=[],de=Object(h.default)(I).getInstance(),Z=Object(m.default)(I).getInstance(),Ee=Object(f.default)(I).getInstance(),v(X={},M.HTTPRequest.MPD_TYPE,$.DOWNLOAD_ERROR_ID_MANIFEST_CODE),v(X,M.HTTPRequest.XLINK_EXPANSION_TYPE,$.DOWNLOAD_ERROR_ID_XLINK_CODE),v(X,M.HTTPRequest.INIT_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),v(X,M.HTTPRequest.MEDIA_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),v(X,M.HTTPRequest.INDEX_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),v(X,M.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),v(X,M.HTTPRequest.OTHER_TYPE,$.DOWNLOAD_ERROR_ID_CONTENT_CODE),le=X}(),ne}d.__dashjs_factory_name="HTTPLoader";var L=S.default.getClassFactory(d);k.default=L},"./src/streaming/net/SchemeLoaderFactory.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/net/HTTPLoader.js");function M(){var h;function F(){h={}}function x(){F()}return function _(){x()}(),{getLoader:function P(m){for(var f in h)if(h.hasOwnProperty(f)&&m.startsWith(f))return h[f];return T.default},registerLoader:function y(m,f){h[m]=f},unregisterLoader:function E(m){h[m]&&delete h[m]},unregisterAllLoader:F,reset:x}}M.__dashjs_factory_name="SchemeLoaderFactory";var S=B.default.getSingletonFactory(M);k.default=S},"./src/streaming/net/URLLoader.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/net/SchemeLoaderFactory.js");function M(b){b=b||{};var E,F,h=this.context;return E=Object(T.default)(h).getInstance(),{load:function P(_){if(!F){var m=E.getLoader(_&&_.request?_.request.url:null);F=m(h).create({errHandler:b.errHandler,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier,dashMetrics:b.dashMetrics,boxParser:b.boxParser?b.boxParser:null,constants:b.constants?b.constants:null,dashConstants:b.dashConstants?b.dashConstants:null,urlUtils:b.urlUtils?b.urlUtils:null,requestTimeout:isNaN(b.requestTimeout)?0:b.requestTimeout,errors:b.errors})}F.load(_)},abort:function x(){F&&F.abort()}}}M.__dashjs_factory_name="URLLoader";var S=B.default.getClassFactory(M);k.default=S},"./src/streaming/net/XHRLoader.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/utils/RequestModifier.js");function M(b){var h=(b=b||{}).requestModifier;function F(x){var _=new Date,m=x.request,f=new XMLHttpRequest;if(f.open(x.method,x.url,!0),m.responseType&&(f.responseType=m.responseType),m.range&&f.setRequestHeader("Range","bytes="+m.range),m.requestStartDate||(m.requestStartDate=_),h&&h.modifyRequestHeader&&(f=h.modifyRequestHeader(f,{url:x.url})),x.headers)for(var v in x.headers){var d=x.headers[v];d&&f.setRequestHeader(v,d)}f.withCredentials=x.withCredentials,f.onload=x.onload,f.onloadend=x.onend,f.onerror=x.onerror,f.onprogress=x.progress,f.onabort=x.onabort,f.ontimeout=x.ontimeout,f.timeout=x.timeout,f.send(),x.response=f}return{load:function E(x){h&&h.modifyRequest?Object(T.modifyRequest)(x,h).then(function(){return F(x)}):F(x)},abort:function P(x){var _=x.response;_.onloadend=_.onerror=_.onprogress=void 0,_.abort()}}}M.__dashjs_factory_name="XHRLoader";var S=B.default.getClassFactory(M);k.default=S},"./src/streaming/protection/CommonEncryption.js":function(we,k,c){"use strict";function T(h,y){for(var E=0;E<y.length;E++){var F=y[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}c.r(k);var S={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};k.default=function(){function h(){!function B(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h)}return function M(h,y,E){return y&&T(h.prototype,y),E&&T(h,E),h}(h,null,[{key:"findCencContentProtection",value:function(E){for(var F=null,P=0;P<E.length;++P){var x=E[P];"urn:mpeg:dash:mp4protection:2011"===x.schemeIdUri.toLowerCase()&&("cenc"===x.value.toLowerCase()||"cbcs"===x.value.toLowerCase())&&(F=x)}return F}},{key:"getPSSHData",value:function(E){var F=8,P=new DataView(E),x=P.getUint8(F);return F+=20,x>0&&(F+=4+16*P.getUint32(F)),E.slice(F+=4)}},{key:"getPSSHForKeySystem",value:function(E,F){var P=h.parsePSSHList(F);return E&&P.hasOwnProperty(E.uuid.toLowerCase())?P[E.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(E,F){return"pssh"in E?(E.pssh.__text=E.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),F.decodeArray(E.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(E){if(null==E)return[];for(var F=new DataView(E.buffer||E),x={},_=0;;){var f,v=void 0,d=void 0,L=_;if(_>=F.buffer.byteLength)break;if(f=_+F.getUint32(_),1886614376===F.getUint32(_+=4))if(0===(v=F.getUint8(_+=4))||1===v){_++,_+=3,d="";var C=void 0,I=void 0;for(C=0;C<4;C++)d+=1===(I=F.getUint8(_+C).toString(16)).length?"0"+I:I;for(_+=4,d+="-",C=0;C<2;C++)d+=1===(I=F.getUint8(_+C).toString(16)).length?"0"+I:I;for(_+=2,d+="-",C=0;C<2;C++)d+=1===(I=F.getUint8(_+C).toString(16)).length?"0"+I:I;for(_+=2,d+="-",C=0;C<2;C++)d+=1===(I=F.getUint8(_+C).toString(16)).length?"0"+I:I;for(_+=2,d+="-",C=0;C<6;C++)d+=1===(I=F.getUint8(_+C).toString(16)).length?"0"+I:I;_+=6,_+=4,x[d=d.toLowerCase()]=F.buffer.slice(L,f),_=f}else _=f;else _=f}return x}},{key:"getLicenseServerUrlFromMediaInfo",value:function(E,F){try{if(!E||0===E.length)return null;for(var P=0,x=null;P<E.length&&!x;){var _=E[P];if(_&&_.contentProtection&&_.contentProtection.length>0){var m=_.contentProtection.filter(function(R){return R.schemeIdUri&&R.schemeIdUri===F});if(m&&m.length>0)for(var f=0;f<m.length&&!x;){for(var v=m[f],d=0;d<S.attributes.length&&!x;){for(var L=0,C=S.attributes[d];L<S.prefixes.length&&!x;)v[C]&&v[C].__prefix&&v[C].__prefix===S.prefixes[L]&&v[C].__text&&(x=v[C].__text),L+=1;d+=1}f+=1}}P+=1}return x}catch{return null}}}]),h}()},"./src/streaming/protection/Protection.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/controllers/ProtectionController.js"),T=c("./src/streaming/protection/controllers/ProtectionKeyController.js"),M=c("./src/streaming/protection/ProtectionEvents.js"),S=c("./src/streaming/protection/errors/ProtectionErrors.js"),b=c("./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),h=c("./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),y=c("./src/streaming/protection/models/ProtectionModel_01b.js"),E=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],F=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function P(){var _,m=this.context;function d(L,C){for(var I=0;I<C.length;I++){var R=C[I];if("function"==typeof L[R[Object.keys(R)[0]]])return R}return null}return _={createProtectionSystem:function f(L){var C=null,I=Object(T.default)(m).getInstance();I.setConfig({debug:L.debug,BASE64:L.BASE64,settings:L.settings}),I.initialize();var R=function v(L){var C=L.debug,I=C.getLogger(_),R=L.eventBus,A=L.errHandler,p=L.videoModel?L.videoModel.getElement():null;return p&&void 0===p.onencrypted||p&&void 0===p.mediaKeys?d(p,F)?(I.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(h.default)(m).create({debug:C,eventBus:R,events:L.events,api:d(p,F)})):d(p,E)?(I.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(y.default)(m).create({debug:C,eventBus:R,errHandler:A,events:L.events,api:d(p,E)})):(I.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(I.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(b.default)(m).create({debug:C,eventBus:R,events:L.events}))}(L);return!C&&R&&(C=Object(B.default)(m).create({protectionModel:R,protectionKeyController:I,eventBus:L.eventBus,debug:L.debug,events:L.events,BASE64:L.BASE64,constants:L.constants,cmcdModel:L.cmcdModel,customParametersModel:L.customParametersModel,settings:L.settings}),L.capabilities.setEncryptedMediaSupported(!0)),C}}}P.__dashjs_factory_name="Protection";var x=dashjs.FactoryMaker.getClassFactory(P);x.events=M.default,x.errors=S.default,dashjs.FactoryMaker.updateClassFactory(P.__dashjs_factory_name,x),k.default=x},"./src/streaming/protection/ProtectionEvents.js":function(we,k,c){"use strict";function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function S(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&b(m,f)}function b(m,f){return(b=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function h(m){var f=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=P(m);if(f){var C=P(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return y(this,L)}}function y(m,f){return!f||"object"!==T(f)&&"function"!=typeof f?function E(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function P(m){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}c.r(k);var _=new(function(m){S(v,m);var f=h(v);function v(){var d;return function M(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}(this,v),(d=f.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",d.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",d.KEY_ADDED="public_keyAdded",d.KEY_ERROR="public_keyError",d.KEY_MESSAGE="public_keyMessage",d.KEY_SESSION_CLOSED="public_keySessionClosed",d.KEY_SESSION_CREATED="public_keySessionCreated",d.KEY_SESSION_REMOVED="public_keySessionRemoved",d.KEY_STATUSES_CHANGED="public_keyStatusesChanged",d.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",d.KEY_SYSTEM_SELECTED="public_keySystemSelected",d.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",d.LICENSE_REQUEST_SENDING="public_licenseRequestSending",d.NEED_KEY="needkey",d.PROTECTION_CREATED="public_protectioncreated",d.PROTECTION_DESTROYED="public_protectiondestroyed",d.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",d.TEARDOWN_COMPLETE="protectionTeardownComplete",d.VIDEO_ELEMENT_SELECTED="videoElementSelected",d.KEY_SESSION_UPDATED="public_keySessionUpdated",d}return v}(c("./src/core/events/EventsBase.js").default));k.default=_},"./src/streaming/protection/controllers/ProtectionController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/CommonEncryption.js"),T=c("./src/streaming/protection/vo/MediaCapability.js"),M=c("./src/streaming/protection/vo/KeySystemConfiguration.js"),S=c("./src/streaming/protection/errors/ProtectionErrors.js"),b=c("./src/streaming/vo/DashJSError.js"),h=c("./src/streaming/protection/vo/LicenseRequest.js"),y=c("./src/streaming/protection/vo/LicenseResponse.js"),E=c("./src/streaming/vo/metrics/HTTPRequest.js"),F=c("./src/core/Utils.js"),P=c("./src/streaming/constants/Constants.js"),x=c("./src/core/FactoryMaker.js");function _(I){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(I)}function C(I){var ie,q,le,de,Ee,Z,pe,re,_e,ge,fe,R=(I=I||{}).protectionKeyController,A=I.protectionModel,p=I.eventBus,w=I.events,W=I.debug,$=I.BASE64,Q=I.constants,ue=[],ce=I.cmcdModel,ne=I.settings,U=I.customParametersModel;function X(){if(!(p&&p.hasOwnProperty("on")&&R&&R.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function z(Me,Ue){re||_e?re&&O():function D(Me,Ue){if(!_e){_e=!0;var lt,Ye=[];Me=Me.sort(function(vt,ht){return(Ee&&Ee[vt.ks.systemString]&&Ee[vt.ks.systemString].priority>=0?Ee[vt.ks.systemString].priority:Me.length)-(Ee&&Ee[ht.ks.systemString]&&Ee[ht.ks.systemString].priority>=0?Ee[ht.ks.systemString].priority:Me.length)});for(var st=0;st<Me.length;st++){var it=Fe(Me[st]);Ye.push({ks:Me[st].ks,configs:[it],protData:Me[st].protData})}A.requestKeySystemAccess(Ye).then(function(vt){return q.info("DRM: KeySystem Access Granted for system string ("+((lt=vt.data).mksa&&lt.mksa.selectedSystemString?lt.mksa.selectedSystemString:lt.keySystem.systemString)+")!  Selecting key system..."),A.selectKeySystem(lt)}).then(function(vt){if(re=vt,_e=!1,A){p.trigger(w.KEY_SYSTEM_SELECTED,{data:lt});var ht=Te(re);ht&&ht.serverCertificate&&ht.serverCertificate.length>0&&A.setServerCertificate($.decodeArray(ht.serverCertificate).buffer),O()}}).catch(function(vt){re=null,_e=!1,Ue||p.trigger(w.KEY_SYSTEM_SELECTED,{data:null,error:new b.default(S.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,S.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+vt.error)})})}}(Me,Ue)}function O(){for(var Me,Ue=0;Ue<le.length;Ue++)for(Me=0;Me<le[Ue].length;Me++)if(re===le[Ue][Me].ks){H(le[Ue][Me]);break}le=[]}function H(Me){if(R.isClearKey(re)&&Me.protData&&Me.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Me.protData.clearkeys).length){var Ue={kids:Object.keys(Me.protData.clearkeys)};Me.initData=(new TextEncoder).encode(JSON.stringify(Ue))}Me.sessionId?j(Me):null!==Me.initData&&oe(Me)}function j(Me){X(),A.loadKeySession(Me)}function oe(Me){var Ue=B.default.getPSSHForKeySystem(re,Me?Me.initData:null);if(Ue){if(function G(Me){if(!Me)return!1;try{for(var Ue=A.getSessions(),Ye=0;Ye<Ue.length;Ye++)if(Ue[Ye].getKeyId()===Me)return!0;return!1}catch{return!1}}(Me.keyId)||V(Ue))return;try{Me.initData=Ue,A.createKeySession(Me)}catch(Ye){p.trigger(w.KEY_SESSION_CREATED,{data:null,error:new b.default(S.default.KEY_SESSION_CREATED_ERROR_CODE,S.default.KEY_SESSION_CREATED_ERROR_MESSAGE+Ye.message)})}}else Me&&Me.initData?A.createKeySession(Me):p.trigger(w.KEY_SESSION_CREATED,{data:null,error:new b.default(S.default.KEY_SESSION_CREATED_ERROR_CODE,S.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(re?re.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Te(Me){if(Me){var Ue=Me.systemString;if(Ee)return Ue in Ee?Ee[Ue]:null}return null}function V(Me){if(!Me)return!1;try{for(var Ue=A.getAllInitData(),Ye=0;Ye<Ue.length;Ye++)if(R.initDataEquals(Me,Ue[Ye]))return q.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function he(Me){X(),Me?(A.setMediaElement(Me),p.on(w.NEED_KEY,ut,ie)):null===Me&&(A.setMediaElement(Me),p.off(w.NEED_KEY,ut,ie))}function Fe(Me){var Ue=Me.protData,Ye=[],st=[],it=Ue&&Ue.audioRobustness&&Ue.audioRobustness.length>0?Ue.audioRobustness:pe,lt=Ue&&Ue.videoRobustness&&Ue.videoRobustness.length>0?Ue.videoRobustness:pe,vt=Me.sessionType,ht=Ue&&Ue.distinctiveIdentifier?Ue.distinctiveIdentifier:"optional",Be=Ue&&Ue.persistentState?Ue.persistentState:"temporary"===vt?"optional":"required";return de.forEach(function(Xe){Xe.type===Q.AUDIO?Ye.push(new T.default(Xe.codec,it)):Xe.type===Q.VIDEO&&st.push(new T.default(Xe.codec,lt))}),new M.default(Ye,st,ht,Be,[vt])}function Ce(Me){Me.error?p.trigger(w.KEY_STATUSES_CHANGED,{data:null,error:Me.error}):q.debug("DRM: key status = "+Me.status)}function Qe(Me){q.debug("DRM: onKeyMessage");var Ue=Me.data;p.trigger(w.KEY_MESSAGE,{data:Ue});var Ye=Ue.messageType?Ue.messageType:"license-request",st=Ue.message,it=Ue.sessionToken,lt=Te(re),vt=R.getLicenseServerModelInstance(re,lt,Ye),ht={sessionToken:it,messageType:Ye};if(st&&0!==st.byteLength){if(!vt)return q.debug("DRM: License server request not required for this message (type = "+Me.data.messageType+").  Session ID = "+it.getSessionId()),void tt(ht);if(R.isClearKey(re)){var Be=R.processClearKeyLicenseRequest(re,lt,st);if(Be&&Be.keyPairs&&Be.keyPairs.length>0)return q.debug("DRM: ClearKey license request handled by application!"),tt(ht),void A.updateKeySession(it,Be)}!function Et(Me,Ue,Ye){var st=Me.sessionToken,it=Me.messageType?Me.messageType:"license-request",lt={sessionToken:st,messageType:it},vt=re?re.systemString:null,ht=function kt(Me,Ue,Ye,st,it){var lt=null,vt=st.message;if(Me&&Me.serverURL){var ht=Me.serverURL;"string"==typeof ht&&""!==ht?lt=ht:"object"===_(ht)&&ht.hasOwnProperty(Ue)&&(lt=ht[Ue])}else if(Me&&Me.laURL&&""!==Me.laURL)lt=Me.laURL;else if(!(lt=B.default.getLicenseServerUrlFromMediaInfo(de,re.schemeIdURI))&&!R.isClearKey(re)){var Be=B.default.getPSSHData(Ye.initData);(lt=re.getLicenseServerURLFromInitData(Be))||(lt=st.laURL)}return it.getServerURLFromMessage(lt,vt,Ue)}(Ye,it,st,Me,Ue);if(ht){var Be={},Xe=!1;Ye&&en(Be,Ye.httpRequestHeaders);var et=Me.message;en(Be,re.getRequestHeadersFromMessage(et)),Object.keys(Be).forEach(function(ze){"authorization"===ze.toLowerCase()&&(Xe=!0)}),Ye&&"boolean"==typeof Ye.withCredentials&&(Xe=Ye.withCredentials);var Mt=function(nt){if(A)if(nt.status>=200&&nt.status<=299){var wt=F.default.parseHttpHeaders(nt.getAllResponseHeaders?nt.getAllResponseHeaders():null),tn=new y.default(nt.responseURL,wt,nt.response);Qt(U.getLicenseResponseFilters(),tn).then(function(){var qe=Ue.getLicenseMessage(tn.data,vt,it);null!==qe?(tt(lt),A.updateKeySession(st,qe)):an(nt,lt,vt,it,Ue)})}else an(nt,lt,vt,it,Ue)},It=function(nt){tt(lt,new b.default(S.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,S.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+vt+' update, XHR aborted. status is "'+nt.statusText+'" ('+nt.status+"), readyState is "+nt.readyState))},Vt=function(nt){tt(lt,new b.default(S.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,S.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+vt+' update, XHR error. status is "'+nt.statusText+'" ('+nt.status+"), readyState is "+nt.readyState))},pn=re.getLicenseRequestFromMessage(et),rn=Ue.getHTTPMethod(it),Vn=Ue.getResponseType(vt,it),Kn=Ye&&!isNaN(Ye.httpTimeout)?Ye.httpTimeout:8e3,Oe=st.getSessionId()||null,Je=new h.default(ht,rn,Vn,Be,Xe,it,Oe,pn),Dt=isNaN(ne.get().streaming.retryAttempts[E.HTTPRequest.LICENSE])?3:ne.get().streaming.retryAttempts[E.HTTPRequest.LICENSE];Qt(U.getLicenseRequestFilters(),Je).then(function(){Lt(Je,Dt,Kn,Mt,It,Vt)})}else tt(lt,new b.default(S.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,S.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Ue,vt,lt)}else tt(ht,new b.default(S.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,S.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function tt(Me,Ue){p.trigger(w.LICENSE_REQUEST_COMPLETE,{data:Me,error:Ue})}function Lt(Me,Ue,Ye,st,it,lt){var vt=new XMLHttpRequest;if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled&&ne.get().streaming.cmcd.mode===P.default.CMCD_MODE_QUERY){var Be=ce.getQueryParameter({url:Me.url,type:E.HTTPRequest.LICENSE});Be&&(Me.url=F.default.addAditionalQueryParameterToUrl(Me.url,[Be]))}for(var Xe in vt.open(Me.method,Me.url,!0),vt.responseType=Me.responseType,vt.withCredentials=Me.withCredentials,Ye>0&&(vt.timeout=Ye),Me.headers)vt.setRequestHeader(Xe,Me.headers[Xe]);if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled&&ne.get().streaming.cmcd.mode===P.default.CMCD_MODE_HEADER){var dt=ce.getHeaderParameters({url:Me.url,type:E.HTTPRequest.LICENSE});if(dt)for(var Mt in dt){var It=dt[Mt];It&&vt.setRequestHeader(Mt,It)}}var Vt=function(){Ue--;var rn=isNaN(ne.get().streaming.retryIntervals[E.HTTPRequest.LICENSE])?1e3:ne.get().streaming.retryIntervals[E.HTTPRequest.LICENSE];fe=setTimeout(function(){Lt(Me,Ue,Ye,st,it,lt)},rn)};vt.onload=function(){ge=null,this.status>=200&&this.status<=299||Ue<=0?st(this):(q.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Ue),Vt())},vt.ontimeout=vt.onerror=function(){ge=null,Ue<=0?lt(this):(q.warn("License request network request failed . Retrying it... Pending retries: "+Ue),Vt())},vt.onabort=function(){it(this)},p.trigger(w.LICENSE_REQUEST_SENDING,{url:Me.url,headers:Me.headers,payload:Me.data,sessionId:Me.sessionId}),ge=vt,vt.send(Me.data)}function Bt(){ge&&(ge.onloadend=ge.onerror=ge.onprogress=void 0,ge.abort(),ge=null),fe&&(clearTimeout(fe),fe=null)}function en(Me,Ue){if(Ue)for(var Ye in Ue)Me[Ye]=Ue[Ye]}function an(Me,Ue,Ye,st,it){var lt="NONE",vt=null;Me.response&&(lt=it.getErrorResponse(Me.response,Ye,st),vt={serverResponse:Me.response||null,responseCode:Me.status||null,responseText:Me.statusText||null}),tt(Ue,new b.default(S.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,S.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ye+' update, XHR complete. status is "'+Me.statusText+'" ('+Me.status+"), readyState is "+Me.readyState+".  Response is "+lt,vt))}function Qt(Me,Ue){return Me?Me.reduce(function(Ye,st){return Ye.then(function(){return st(Ue)})},Promise.resolve()):Promise.resolve()}function ut(Me,Ue){if(!ne.get().streaming.protection.ignoreEmeEncryptedEvent){if(q.debug("DRM: onNeedKey"),"cenc"!==Me.key.initDataType)return void q.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Me.key.initDataType);if(0===de.length&&(q.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Ue=typeof Ue>"u"?1:Ue+1)<5))return void ue.push(setTimeout(function(){ut(Me,Ue)},500));var Ye=Me.key.initData;if(ArrayBuffer.isView(Ye)&&(Ye=Ye.buffer),re){var st=B.default.getPSSHForKeySystem(re,Ye);if(st&&V(st))return}q.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Ye)));var it=R.getSupportedKeySystemsFromSegmentPssh(Ye,Ee,Z);if(0===it.length)return void q.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function ee(Me){le.push(Me),z(Me,!1)}(it)}}return ie={initializeForMedia:function ye(Me){if(!Me)throw new Error("mediaInfo can not be null or undefined");X(),de.push(Me)},clearMediaInfoArray:function Re(){de=[]},handleKeySystemFromManifest:function se(){if(de&&0!==de.length){var Me=[];de.forEach(function(Ue){var Ye=R.getSupportedKeySystemsFromContentProtection(Ue.contentProtection,Ee,Z);Ye.length>0&&(0===Me.length&&(Me=Ye),le.push(Ye))}),Me&&Me.length>0&&z(Me,!0)}},createKeySession:oe,loadKeySession:j,removeKeySession:function K(Me){X(),A.removeKeySession(Me)},closeKeySession:function te(Me){X(),A.closeKeySession(Me)},setServerCertificate:function J(Me){X(),A.setServerCertificate(Me)},setMediaElement:he,setSessionType:function Ae(Me){Z=Me},setRobustnessLevel:function be(Me){pe=Me},setProtectionData:function Ie(Me){Ee=Me,R.setProtectionData(Me)},getSupportedKeySystemsFromContentProtection:function me(Me){return X(),R.getSupportedKeySystemsFromContentProtection(Me,Ee,Z)},getKeySystems:function Tt(){return R?R.getKeySystems():[]},setKeySystems:function Le(Me){R&&R.setKeySystems(Me)},stop:function xe(){Bt(),A&&A.stop()},reset:function De(){p.off(w.INTERNAL_KEY_MESSAGE,Qe,ie),p.off(w.INTERNAL_KEY_STATUS_CHANGED,Ce,ie),X(),Bt(),he(null),re=null,_e=!1,A&&(A.reset(),A=null),ue.forEach(function(Me){return clearTimeout(Me)}),ue=[],de=[],le=[]}},function ve(){q=W.getLogger(ie),le=[],de=[],Z="temporary",pe="",ge=null,fe=null,p.on(w.INTERNAL_KEY_MESSAGE,Qe,ie),p.on(w.INTERNAL_KEY_STATUS_CHANGED,Ce,ie)}(),ie}C.__dashjs_factory_name="ProtectionController",k.default=x.default.getClassFactory(C)},"./src/streaming/protection/controllers/ProtectionKeyController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/CommonEncryption.js"),T=c("./src/streaming/protection/drm/KeySystemClearKey.js"),M=c("./src/streaming/protection/drm/KeySystemW3CClearKey.js"),S=c("./src/streaming/protection/drm/KeySystemWidevine.js"),b=c("./src/streaming/protection/drm/KeySystemPlayReady.js"),h=c("./src/streaming/protection/servers/DRMToday.js"),y=c("./src/streaming/protection/servers/PlayReady.js"),E=c("./src/streaming/protection/servers/Widevine.js"),F=c("./src/streaming/protection/servers/ClearKey.js"),P=c("./src/streaming/constants/ProtectionConstants.js");function x(){var m,f,v,d,L,C,I,R,_=this.context;function le(Z,pe){return pe&&Z in pe?pe[Z]:null}function de(Z,pe){return Z&&Z.sessionId?Z.sessionId:pe&&pe.sessionId?pe.sessionId:null}function Ee(Z,pe){return Z&&Z.sessionType?Z.sessionType:pe}return m={initialize:function p(){var Z;d=[],Z=Object(b.default)(_).getInstance({BASE64:L,settings:C}),d.push(Z),Z=Object(S.default)(_).getInstance({BASE64:L}),d.push(Z),Z=Object(T.default)(_).getInstance({BASE64:L}),d.push(Z),I=Z,Z=Object(M.default)(_).getInstance({BASE64:L,debug:f}),d.push(Z),R=Z},setProtectionData:function q(Z){for(var re=0;re<d.length;re++){var _e=d[re];_e.hasOwnProperty("init")&&_e.init((fe=_e.systemString,ve=void 0,ve=null,Z&&(ve=fe in Z?Z[fe]:null),ve))}var fe,ve},isClearKey:function Q(Z){return Z===I||Z===R},initDataEquals:function ue(Z,pe){if(Z.byteLength===pe.byteLength){for(var re=new Uint8Array(Z),_e=new Uint8Array(pe),ge=0;ge<re.length;ge++)if(re[ge]!==_e[ge])return!1;return!0}return!1},getKeySystems:function w(){return d},setKeySystems:function W(Z){d=Z},getKeySystemBySystemString:function $(Z){for(var pe=0;pe<d.length;pe++)if(d[pe].systemString===Z)return d[pe];return null},getSupportedKeySystemsFromContentProtection:function ce(Z,pe,re){var _e,ge,fe,ve,X=[];if(Z){var ye=B.default.findCencContentProtection(Z);for(fe=0;fe<d.length;++fe){var se=le((ge=d[fe]).systemString,pe);for(ve=0;ve<Z.length;++ve)if((_e=Z[ve]).schemeIdUri.toLowerCase()===ge.schemeIdURI){var ee=ge.getInitData(_e,ye);X.push({ks:d[fe],keyId:_e.keyId,initData:ee,protData:se,cdmData:ge.getCDMData(se?se.cdmData:null),sessionId:de(se,_e),sessionType:Ee(se,re)})}}}return X},getSupportedKeySystemsFromSegmentPssh:function ne(Z,pe,re){for(var fe,_e=[],ge=B.default.parsePSSHList(Z),X=0;X<d.length;++X){var ye=le((fe=d[X]).systemString,pe);fe.uuid in ge&&_e.push({ks:fe,initData:ge[fe.uuid],protData:ye,cdmData:fe.getCDMData(ye?ye.cdmData:null),sessionId:de(ye),sessionType:Ee(ye,re)})}return _e},getLicenseServerModelInstance:function U(Z,pe,re){if("license-release"===re||"individualization-request"===re)return null;var _e=null;return pe&&pe.hasOwnProperty("drmtoday")?_e=Object(h.default)(_).getInstance({BASE64:L}):Z.systemString===P.default.WIDEVINE_KEYSTEM_STRING?_e=Object(E.default)(_).getInstance():Z.systemString===P.default.PLAYREADY_KEYSTEM_STRING?_e=Object(y.default)(_).getInstance():Z.systemString===P.default.CLEARKEY_KEYSTEM_STRING&&(_e=Object(F.default)(_).getInstance()),_e},processClearKeyLicenseRequest:function ie(Z,pe,re){try{return Z.getClearKeysFromProtectionData(pe,re)}catch{return v.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function A(Z){!Z||(Z.debug&&(v=(f=Z.debug).getLogger(m)),Z.BASE64&&(L=Z.BASE64),Z.settings&&(C=Z.settings))}}}x.__dashjs_factory_name="ProtectionKeyController",k.default=dashjs.FactoryMaker.getSingletonFactory(x)},"./src/streaming/protection/drm/KeySystemClearKey.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/vo/KeyPair.js"),T=c("./src/streaming/protection/vo/ClearKeyKeySet.js"),M=c("./src/streaming/protection/CommonEncryption.js"),S=c("./src/streaming/constants/ProtectionConstants.js"),b="e2719d58-a985-b3c9-781a-b030af78d30e",h=S.default.CLEARKEY_KEYSTEM_STRING;function E(F){var x=(F=F||{}).BASE64;function f(I){try{var R=I.replace(/-/g,"");return(R=btoa(R.match(/\w{2}/g).map(function(A){return String.fromCharCode(parseInt(A,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:b,schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:h,getInitData:function m(I,R){try{var A=M.default.parseInitDataFromContentProtection(I,x);if(!A&&R){var w={kids:[f(R["cenc:default_KID"])]};A=(new TextEncoder).encode(JSON.stringify(w))}return A}catch{return null}},getRequestHeadersFromMessage:function v(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function d(I){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(I))))},getLicenseServerURLFromInitData:function L(){return null},getCDMData:function C(){return null},getClearKeysFromProtectionData:function _(I,R){var A=null;if(I){for(var p=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(R))),w=[],W=0;W<p.kids.length;W++){var $=p.kids[W],Q=I.clearkeys&&I.clearkeys.hasOwnProperty($)?I.clearkeys[$]:null;if(!Q)throw new Error("DRM: ClearKey keyID ("+$+") is not known!");w.push(new B.default($,Q))}A=new T.default(w)}return A}}}E.__dashjs_factory_name="KeySystemClearKey",k.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/protection/drm/KeySystemPlayReady.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/CommonEncryption.js"),T=c("./src/streaming/constants/ProtectionConstants.js"),M="9a04f079-9840-4286-ab92-e65be0885f95",S=T.default.PLAYREADY_KEYSTEM_STRING;function y(E){var P="utf-16",x=(E=E||{}).BASE64,_=E.settings;function m(){if(!x||!x.hasOwnProperty("decodeArray")||!x.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:M,schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:S,getInitData:function L(R){var $,Q,ue,ce,ne,A=new Uint8Array([112,115,115,104,0,0,0,0]),p=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),w=0,W=null;if(m(),!R)return null;if("pssh"in R)return B.default.parseInitDataFromContentProtection(R,x);if("pro"in R)W=x.decodeArray(R.pro.__text);else{if(!("prheader"in R))return null;W=x.decodeArray(R.prheader.__text)}return Q=4+A.length+p.length+4+($=W.length),ue=new ArrayBuffer(Q),ce=new Uint8Array(ue),(ne=new DataView(ue)).setUint32(w,Q),ce.set(A,w+=4),ce.set(p,w+=A.length),ne.setUint32(w+=p.length,$),ce.set(W,w+=4),w+=$,ce.buffer},getRequestHeadersFromMessage:function f(R){var A,p,w={},W=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===P&&R&&R.byteLength%2==1)return w["Content-Type"]="text/xml; charset=utf-8",w;var $="utf-16"===P?new Uint16Array(R):new Uint8Array(R);A=String.fromCharCode.apply(null,$);for(var Q=(p=W.parseFromString(A,"application/xml")).getElementsByTagName("name"),ue=p.getElementsByTagName("value"),ce=0;ce<Q.length;ce++)w[Q[ce].childNodes[0].nodeValue]=ue[ce].childNodes[0].nodeValue;return w.hasOwnProperty("Content")&&(w["Content-Type"]=w.Content,delete w.Content),w.hasOwnProperty("Content-Type")||(w["Content-Type"]="text/xml; charset=utf-8"),w},getLicenseRequestFromMessage:function v(R){var A=null,p=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===P&&R&&R.byteLength%2==1)return R;var w="utf-16"===P?new Uint16Array(R):new Uint8Array(R);m();var W=String.fromCharCode.apply(null,w),$=p.parseFromString(W,"application/xml");if(!$.getElementsByTagName("PlayReadyKeyMessage")[0])return R;var Q=$.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Q&&(A=x.decode(Q)),A},getLicenseServerURLFromInitData:function d(R){if(R)for(var A=new DataView(R),p=A.getUint16(4,!0),w=6,W=new DOMParser,$=0;$<p;$++){var Q=A.getUint16(w,!0),ue=A.getUint16(w+=2,!0);if(w+=2,1===Q){var ce=R.slice(w,w+ue),ne=String.fromCharCode.apply(null,new Uint16Array(ce)),U=W.parseFromString(ne,"application/xml");if(U.getElementsByTagName("LA_URL")[0]){var ie=U.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(ie)return ie}if(U.getElementsByTagName("LUI_URL")[0]){var q=U.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(q)return q}}else w+=ue}return null},getCDMData:function I(R){var A,p,w,W;if(m(),!R)return null;for(A=[],W=0;W<R.length;++W)A.push(R.charCodeAt(W)),A.push(0);for(A=String.fromCharCode.apply(null,A),A=x.encode(A),p='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",A),w=[],W=0;W<p.length;++W)w.push(p.charCodeAt(W)),w.push(0);return new Uint8Array(w).buffer},setPlayReadyMessageFormat:function C(R){if("utf-8"!==R&&"utf-16"!==R)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');P=R}}}y.__dashjs_factory_name="KeySystemPlayReady",k.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/vo/KeyPair.js"),T=c("./src/streaming/protection/vo/ClearKeyKeySet.js"),M=c("./src/streaming/protection/CommonEncryption.js"),S=c("./src/streaming/constants/ProtectionConstants.js"),b="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",h=S.default.CLEARKEY_KEYSTEM_STRING;function E(F){var P,x=F.BASE64,_=F.debug.getLogger(P);return{uuid:b,schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:h,getInitData:function f(I){return M.default.parseInitDataFromContentProtection(I,x)},getRequestHeadersFromMessage:function v(){return null},getLicenseRequestFromMessage:function d(I){return new Uint8Array(I)},getLicenseServerURLFromInitData:function L(){return null},getCDMData:function C(){return null},getClearKeysFromProtectionData:function m(I,R){var A=null;if(I){for(var p=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(R))),w=[],W=0;W<p.kids.length;W++){var $=p.kids[W],Q=I.clearkeys&&I.clearkeys.hasOwnProperty($)?I.clearkeys[$]:null;if(!Q)throw new Error("DRM: ClearKey keyID ("+$+") is not known!");w.push(new B.default($,Q))}A=new T.default(w),_.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return A}}}E.__dashjs_factory_name="KeySystemW3CClearKey",k.default=dashjs.FactoryMaker.getSingletonFactory(E)},"./src/streaming/protection/drm/KeySystemWidevine.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/CommonEncryption.js"),T=c("./src/streaming/constants/ProtectionConstants.js"),M="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",S=T.default.WIDEVINE_KEYSTEM_STRING;function h(y){var F=(y=y||{}).BASE64;return{uuid:M,schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:S,getInitData:function P(v){return B.default.parseInitDataFromContentProtection(v,F)},getRequestHeadersFromMessage:function x(){return null},getLicenseRequestFromMessage:function _(v){return new Uint8Array(v)},getLicenseServerURLFromInitData:function m(){return null},getCDMData:function f(){return null}}}h.__dashjs_factory_name="KeySystemWidevine",k.default=dashjs.FactoryMaker.getSingletonFactory(h)},"./src/streaming/protection/errors/ProtectionErrors.js":function(we,k,c){"use strict";function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function S(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&b(m,f)}function b(m,f){return(b=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function h(m){var f=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=P(m);if(f){var C=P(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return y(this,L)}}function y(m,f){return!f||"object"!==T(f)&&"function"!=typeof f?function E(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function P(m){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}c.r(k);var _=new(function(m){S(v,m);var f=h(v);function v(){var d;return function M(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}(this,v),(d=f.call(this)).MEDIA_KEYERR_CODE=100,d.MEDIA_KEYERR_UNKNOWN_CODE=101,d.MEDIA_KEYERR_CLIENT_CODE=102,d.MEDIA_KEYERR_SERVICE_CODE=103,d.MEDIA_KEYERR_OUTPUT_CODE=104,d.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,d.MEDIA_KEYERR_DOMAIN_CODE=106,d.MEDIA_KEY_MESSAGE_ERROR_CODE=107,d.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,d.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,d.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,d.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,d.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,d.KEY_SESSION_CREATED_ERROR_CODE=113,d.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,d.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",d.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",d.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",d.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",d.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",d.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",d.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",d.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",d.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",d.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",d.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",d.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",d.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",d.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",d}return v}(c("./src/core/errors/ErrorsBase.js").default));k.default=_},"./src/streaming/protection/models/ProtectionModel_01b.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/controllers/ProtectionKeyController.js"),T=c("./src/streaming/protection/vo/NeedKey.js"),M=c("./src/streaming/vo/DashJSError.js"),S=c("./src/streaming/protection/vo/KeyMessage.js"),b=c("./src/streaming/protection/vo/KeySystemConfiguration.js"),h=c("./src/streaming/protection/vo/KeySystemAccess.js"),y=c("./src/streaming/protection/errors/ProtectionErrors.js");function E(F){var d,L,C,I,R,A,p,w,W,P=this.context,x=(F=F||{}).eventBus,_=F.events,m=F.debug,f=F.api,v=F.errHandler;function Q(){C&&ge();for(var fe=0;fe<p.length;fe++)de(p[fe]);x.trigger(_.TEARDOWN_COMPLETE)}function de(fe){try{C[f.cancelKeyRequest](I.systemString,fe.sessionId)}catch(ve){x.trigger(_.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+fe.sessionId+") "+ve.message})}}function _e(fe,ve){if(!ve||!fe)return null;for(var X=fe.length,ye=0;ye<X;ye++)if(fe[ye].sessionId==ve)return fe[ye];return null}function ge(){C.removeEventListener(f.keyerror,W),C.removeEventListener(f.needkey,W),C.removeEventListener(f.keymessage,W),C.removeEventListener(f.keyadded,W)}return d={getAllInitData:function ue(){for(var fe=[],ve=0;ve<A.length;ve++)fe.push(A[ve].initData);for(var X=0;X<p.length;X++)fe.push(p[X].initData);return fe},getSessions:function ce(){return p.concat(A)},requestKeySystemAccess:function ne(fe){return new Promise(function(ve,X){var ye=C;ye||(ye=document.createElement("video"));for(var se=!1,ee=0;ee<fe.length;ee++)for(var z=fe[ee].ks.systemString,D=fe[ee].configs,O=null,H=null,j=0;j<D.length;j++){var oe=D[j].videoCapabilities;if(oe&&0!==oe.length){H=[];for(var Te=0;Te<oe.length;Te++)""!==ye.canPlayType(oe[Te].contentType,z)&&H.push(oe[Te])}if(H&&(!H||0!==H.length)){se=!0;var Re=new b.default(O,H),me=R.getKeySystemBySystemString(z),G=new h.default(me,Re);x.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:G}),ve({data:G});break}}if(!se){var V="Key system access denied! -- No valid audio/video content configurations detected!";x.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:V}),X({error:V})}})},selectKeySystem:function U(fe){return I=fe.keySystem,Promise.resolve(I)},setMediaElement:function ie(fe){if(C!==fe){if(C){ge();for(var ve=0;ve<p.length;ve++)de(p[ve]);p=[]}(C=fe)&&(C.addEventListener(f.keyerror,W),C.addEventListener(f.needkey,W),C.addEventListener(f.keymessage,W),C.addEventListener(f.keyadded,W),x.trigger(_.VIDEO_ELEMENT_SELECTED))}},createKeySession:function q(fe){if(!I)throw new Error("Can not create sessions until you have selected a key system");if(w||0===p.length){var ve={sessionId:null,keyId:fe.keyId,initData:fe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return A.push(ve),C[f.generateKeyRequest](I.systemString,new Uint8Array(fe.initData)),ve}throw new Error("Multiple sessions not allowed!")},updateKeySession:function le(fe,ve){var X=fe.sessionId;if(R.isClearKey(I))for(var ye=0;ye<ve.keyPairs.length;ye++)C[f.addKey](I.systemString,ve.keyPairs[ye].key,ve.keyPairs[ye].keyID,X);else C[f.addKey](I.systemString,new Uint8Array(ve),new Uint8Array(fe.initData),X);x.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:de,setServerCertificate:function Ee(){},loadKeySession:function Z(){},removeKeySession:function pe(){},stop:Q,reset:Q},function $(){L=m.getLogger(d),C=null,I=null,A=[],p=[],R=Object(B.default)(P).getInstance(),W=function re(){return{handleEvent:function(ve){var X=null;switch(ve.type){case f.needkey:var ye=ArrayBuffer.isView(ve.initData)?ve.initData.buffer:ve.initData;x.trigger(_.NEED_KEY,{key:new T.default(ye,"cenc")});break;case f.keyerror:if((X=_e(p,ve.sessionId))||(X=_e(A,ve.sessionId)),X){var se=y.default.MEDIA_KEYERR_CODE,ee="";switch(ve.errorCode.code){case 1:se=y.default.MEDIA_KEYERR_UNKNOWN_CODE,ee+="MEDIA_KEYERR_UNKNOWN - "+y.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:se=y.default.MEDIA_KEYERR_CLIENT_CODE,ee+="MEDIA_KEYERR_CLIENT - "+y.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:se=y.default.MEDIA_KEYERR_SERVICE_CODE,ee+="MEDIA_KEYERR_SERVICE - "+y.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:se=y.default.MEDIA_KEYERR_OUTPUT_CODE,ee+="MEDIA_KEYERR_OUTPUT - "+y.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:se=y.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,ee+="MEDIA_KEYERR_HARDWARECHANGE - "+y.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:se=y.default.MEDIA_KEYERR_DOMAIN_CODE,ee+="MEDIA_KEYERR_DOMAIN - "+y.default.MEDIA_KEYERR_DOMAIN_MESSAGE}x.trigger(_.KEY_ERROR,{error:new M.default(se,ee+="  System Code = "+ve.systemCode,X)})}else L.error("No session token found for key error");break;case f.keyadded:(X=_e(p,ve.sessionId))||(X=_e(A,ve.sessionId)),X?(L.debug("DRM: Key added."),x.trigger(_.KEY_ADDED,{data:X})):L.debug("No session token found for key added");break;case f.keymessage:if((w=null!=ve.sessionId)?!(X=_e(p,ve.sessionId))&&A.length>0&&(X=A.shift(),p.push(X),X.sessionId=ve.sessionId,x.trigger(_.KEY_SESSION_CREATED,{data:X})):A.length>0&&(X=A.shift(),p.push(X),0!==A.length&&v.error(new M.default(y.default.MEDIA_KEY_MESSAGE_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),X){var z=ArrayBuffer.isView(ve.message)?ve.message.buffer:ve.message;X.keyMessage=z,x.trigger(_.INTERNAL_KEY_MESSAGE,{data:new S.default(X,z,ve.defaultURL)})}else L.warn("No session token found for key message")}}}}()}(),d}E.__dashjs_factory_name="ProtectionModel_01b",k.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/controllers/ProtectionKeyController.js"),T=c("./src/streaming/protection/vo/NeedKey.js"),M=c("./src/streaming/protection/errors/ProtectionErrors.js"),S=c("./src/streaming/vo/DashJSError.js"),b=c("./src/streaming/protection/vo/KeyMessage.js"),h=c("./src/streaming/protection/vo/KeySystemAccess.js"),y=c("./src/streaming/constants/ProtectionConstants.js"),E={};function F(P){var v,d,L,C,I,R,A,p,x=this.context,_=(P=P||{}).eventBus,m=P.events,f=P.debug;function ne(se,ee,z,D){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var O="Insecure origins are not allowed";return _.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{error:O}),void D({error:O})}var oe=se[ee].ks,Te=oe.systemString;(function U(se,ee){return new Promise(function(z,D){ie(se,ee,0,z,D)})})((se[ee].protData&&se[ee].protData.systemStringPriority?se[ee].protData.systemStringPriority:null)||(E[Te]?E[Te]:[Te]),se[ee].configs).then(function(me){var G="function"==typeof me.getConfiguration?me.getConfiguration():null,V=new h.default(oe,G);V.mksa=me,_.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{data:V}),z({data:V})}).catch(function(me){if(ee+1<se.length)ne(se,ee+1,z,D);else{var G="Key system access denied! ";_.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{error:G+me.message}),D({error:G+me.message})}})}function ie(se,ee,z,D,O){var H=se[z];d.debug("Requesting key system access for system string ".concat(H)),navigator.requestMediaKeySystemAccess(H,ee).then(function(j){j.selectedSystemString=H,D(j)}).catch(function(j){z+1<se.length?ie(se,ee,z+1,D,O):O(j)})}function ge(se){var ee=se.session;return ee.removeEventListener("keystatuseschange",se),ee.removeEventListener("message",se),ee.close()}function ve(se){for(var ee=0;ee<R.length;ee++)if(R[ee]===se){R.splice(ee,1);break}}function X(se){var ee,z;return se&&se.length>0&&(se[0]&&("string"==typeof se[0]?ee=se[0]:z=se[0]),se[1]&&("string"==typeof se[1]?ee=se[1]:z=se[1])),{status:ee,keyId:z}}function ye(se,ee){var z={session:se,keyId:ee.keyId,initData:ee.initData,sessionId:ee.sessionId,sessionType:ee.sessionType,handleEvent:function(O){switch(O.type){case"keystatuseschange":_.trigger(m.KEY_STATUSES_CHANGED,{data:this}),O.target.keyStatuses.forEach(function(){var j=X(arguments);_.trigger(m.INTERNAL_KEY_STATUS_CHANGED,"expired"===j.status?{error:new S.default(M.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,M.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:j)});break;case"message":var H=ArrayBuffer.isView(O.message)?O.message.buffer:O.message;_.trigger(m.INTERNAL_KEY_MESSAGE,{data:new b.default(this,H,void 0,O.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return se.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return se.expiration},getKeyStatuses:function(){return se.keyStatuses},getUsable:function(){var O=!1;return se.keyStatuses.forEach(function(){"usable"===X(arguments).status&&(O=!0)}),O}};return se.addEventListener("keystatuseschange",z),se.addEventListener("message",z),se.closed.then(function(){ve(z),d.debug("DRM: Session closed.  SessionID = "+z.getSessionId()),_.trigger(m.KEY_SESSION_CLOSED,{data:z.getSessionId()})}),R.push(z),z}return v={getAllInitData:function Q(){for(var se=[],ee=0;ee<R.length;ee++)R[ee].initData&&se.push(R[ee].initData);return se},getSessions:function ue(){return R},requestKeySystemAccess:function ce(se){return new Promise(function(ee,z){ne(se,0,ee,z)})},selectKeySystem:function q(se){return new Promise(function(ee,z){se.mksa.createMediaKeys().then(function(D){return L=se.keySystem,I=D,C?C.setMediaKeys(I):Promise.resolve()}).then(function(){ee(L)}).catch(function(){z({error:"Error selecting keys system ("+se.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function le(se){C!==se&&(C&&(C.removeEventListener("encrypted",A),C.setMediaKeys&&C.setMediaKeys(null)),(C=se)&&(C.addEventListener("encrypted",A),C.setMediaKeys&&I&&C.setMediaKeys(I)))},setServerCertificate:function de(se){if(!L||!I)throw new Error("Can not set server certificate until you have selected a key system");I.setServerCertificate(se).then(function(){d.info("DRM: License server certificate successfully updated."),_.trigger(m.SERVER_CERTIFICATE_UPDATED)}).catch(function(ee){_.trigger(m.SERVER_CERTIFICATE_UPDATED,{error:new S.default(M.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,M.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+ee.name)})})},createKeySession:function Ee(se){if(!L||!I)throw new Error("Can not create sessions until you have selected a key system");var ee=I.createSession(se.sessionType),z=ye(ee,se);ee.generateRequest(L.systemString===y.default.CLEARKEY_KEYSTEM_STRING&&(se.initData||se.protData&&se.protData.clearkeys)?y.default.INITIALIZATION_DATA_TYPE_KEYIDS:y.default.INITIALIZATION_DATA_TYPE_CENC,se.initData).then(function(){d.debug("DRM: Session created.  SessionID = "+z.getSessionId()),_.trigger(m.KEY_SESSION_CREATED,{data:z})}).catch(function(O){ve(z),_.trigger(m.KEY_SESSION_CREATED,{data:null,error:new S.default(M.default.KEY_SESSION_CREATED_ERROR_CODE,M.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+O.name)})})},updateKeySession:function Z(se,ee){var z=se.session;p.isClearKey(L)&&(ee=ee.toJWK()),z.update(ee).then(function(){_.trigger(m.KEY_SESSION_UPDATED)}).catch(function(D){_.trigger(m.KEY_ERROR,{error:new S.default(M.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+D.name,se)})})},loadKeySession:function pe(se){if(!L||!I)throw new Error("Can not load sessions until you have selected a key system");for(var ee=se.sessionId,z=0;z<R.length;z++)if(ee===R[z].sessionId)return void d.warn("DRM: Ignoring session ID because we have already seen it!");var D=I.createSession(se.sessionType),O=ye(D,se);D.load(ee).then(function(H){H?(d.debug("DRM: Session loaded.  SessionID = "+O.getSessionId()),_.trigger(m.KEY_SESSION_CREATED,{data:O})):(ve(O),_.trigger(m.KEY_SESSION_CREATED,{data:null,error:new S.default(M.default.KEY_SESSION_CREATED_ERROR_CODE,M.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+ee+")")}))}).catch(function(H){ve(O),_.trigger(m.KEY_SESSION_CREATED,{data:null,error:new S.default(M.default.KEY_SESSION_CREATED_ERROR_CODE,M.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+ee+")! "+H.name)})})},removeKeySession:function re(se){se.session.remove().then(function(){d.debug("DRM: Session removed.  SessionID = "+se.getSessionId()),_.trigger(m.KEY_SESSION_REMOVED,{data:se.getSessionId()})},function(z){_.trigger(m.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+se.getSessionId()+"). "+z.name})})},closeKeySession:function _e(se){ge(se).catch(function(ee){ve(se),_.trigger(m.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+se.getSessionId()+") "+ee.name})})},stop:function $(){for(var se,ee=0;ee<R.length;ee++)(se=R[ee]).getUsable()||ge(se).catch(function(){ve(se)})},reset:function W(){var ee,se=R.length;0!==se?function(){for(var z=function(H){ve(H),0===R.length&&(C?(C.removeEventListener("encrypted",A),C.setMediaKeys(null).then(function(){_.trigger(m.TEARDOWN_COMPLETE)})):_.trigger(m.TEARDOWN_COMPLETE))},D=0;D<se;D++)!function(O){ee.session.closed.then(function(){z(O)}),ge(ee).catch(function(){z(O)})}(ee=R[D])}():_.trigger(m.TEARDOWN_COMPLETE)}},function w(){d=f.getLogger(v),L=null,C=null,I=null,R=[],p=Object(B.default)(x).getInstance(),A=function fe(){return{handleEvent:function(ee){if("encrypted"===ee.type&&ee.initData){var z=ArrayBuffer.isView(ee.initData)?ee.initData.buffer:ee.initData;_.trigger(m.NEED_KEY,{key:new T.default(z,ee.initDataType)})}}}}()}(),v}E[y.default.PLAYREADY_KEYSTEM_STRING]=[y.default.PLAYREADY_KEYSTEM_STRING,y.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],E[y.default.WIDEVINE_KEYSTEM_STRING]=[y.default.WIDEVINE_KEYSTEM_STRING],E[y.default.CLEARKEY_KEYSTEM_STRING]=[y.default.CLEARKEY_KEYSTEM_STRING],F.__dashjs_factory_name="ProtectionModel_21Jan2015",k.default=dashjs.FactoryMaker.getClassFactory(F)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/controllers/ProtectionKeyController.js"),T=c("./src/streaming/protection/vo/NeedKey.js"),M=c("./src/streaming/vo/DashJSError.js"),S=c("./src/streaming/protection/errors/ProtectionErrors.js"),b=c("./src/streaming/protection/vo/KeyMessage.js"),h=c("./src/streaming/protection/vo/KeySystemConfiguration.js"),y=c("./src/streaming/protection/vo/KeySystemAccess.js");function E(F){var v,d,L,C,I,R,A,p,w,P=this.context,x=(F=F||{}).eventBus,_=F.events,m=F.debug,f=F.api;function $(){try{for(var ge=0;ge<A.length;ge++)le(A[ge]);L&&L.removeEventListener(f.needkey,p),x.trigger(_.TEARDOWN_COMPLETE)}catch(fe){x.trigger(_.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+fe.message})}}function le(ge){var fe=ge.session;fe.removeEventListener(f.error,ge),fe.removeEventListener(f.message,ge),fe.removeEventListener(f.ready,ge),fe.removeEventListener(f.close,ge);for(var ve=0;ve<A.length;ve++)if(A[ve]===ge){A.splice(ve,1);break}fe[f.release]()}function re(){var ge=null,fe=function(){L.removeEventListener("loadedmetadata",ge),L[f.setMediaKeys](I),x.trigger(_.VIDEO_ELEMENT_SELECTED)};L.readyState>=1?fe():(ge=fe.bind(this),L.addEventListener("loadedmetadata",ge))}return v={getAllInitData:function Q(){for(var ge=[],fe=0;fe<A.length;fe++)ge.push(A[fe].initData);return ge},getSessions:function ue(){return A},requestKeySystemAccess:function ce(ge){return new Promise(function(fe,ve){for(var X=!1,ye=0;ye<ge.length;ye++)for(var se=ge[ye].ks.systemString,ee=ge[ye].configs,z=null,D=null,O=0;O<ee.length;O++){var H=ee[O].audioCapabilities,j=ee[O].videoCapabilities;if(H&&0!==H.length){z=[];for(var oe=0;oe<H.length;oe++)window[f.MediaKeys].isTypeSupported(se,H[oe].contentType)&&z.push(H[oe])}if(j&&0!==j.length){D=[];for(var Te=0;Te<j.length;Te++)window[f.MediaKeys].isTypeSupported(se,j[Te].contentType)&&D.push(j[Te])}if(!(!z&&!D||z&&0===z.length||D&&0===D.length)){X=!0;var Re=new h.default(z,D),me=w.getKeySystemBySystemString(se),G=new y.default(me,Re);x.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:G}),fe({data:G});break}}if(!X){var V="Key system access denied! -- No valid audio/video content configurations detected!";x.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:V}),ve({error:V})}})},selectKeySystem:function ne(ge){return new Promise(function(fe,ve){try{I=ge.mediaKeys=new window[f.MediaKeys](ge.keySystem.systemString),C=ge.keySystem,R=ge,L&&re(),fe(C)}catch{ve({error:"Error selecting keys system ("+C.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function U(ge){L!==ge&&(L&&L.removeEventListener(f.needkey,p),(L=ge)&&(L.addEventListener(f.needkey,p),I&&re()))},createKeySession:function ie(ge){if(!C||!I||!R)throw new Error("Can not create sessions until you have selected a key system");var fe=null;if(R.ksConfiguration.videoCapabilities&&R.ksConfiguration.videoCapabilities.length>0&&(fe=R.ksConfiguration.videoCapabilities[0]),null===fe&&R.ksConfiguration.audioCapabilities&&R.ksConfiguration.audioCapabilities.length>0&&(fe=R.ksConfiguration.audioCapabilities[0]),null===fe)throw new Error("Can not create sessions for unknown content types.");var X=I.createSession(fe.contentType,new Uint8Array(ge.initData),ge.cdmData?new Uint8Array(ge.cdmData):null),ye=function _e(ge,fe){return{session:ge,keyId:fe.keyId,initData:fe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(X){switch(X.type){case f.error:x.trigger(_.KEY_ERROR,{error:new M.default(S.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case f.message:var se=ArrayBuffer.isView(X.message)?X.message.buffer:X.message;x.trigger(_.INTERNAL_KEY_MESSAGE,{data:new b.default(this,se,X.destinationURL)});break;case f.ready:d.debug("DRM: Key added."),x.trigger(_.KEY_ADDED);break;case f.close:d.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),x.trigger(_.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(X,ge);X.addEventListener(f.error,ye),X.addEventListener(f.message,ye),X.addEventListener(f.ready,ye),X.addEventListener(f.close,ye),A.push(ye),d.debug("DRM: Session created.  SessionID = "+ye.getSessionId()),x.trigger(_.KEY_SESSION_CREATED,{data:ye})},updateKeySession:function q(ge,fe){var ve=ge.session;w.isClearKey(C)?ve.update(new Uint8Array(fe.toJWK())):ve.update(new Uint8Array(fe)),x.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:le,setServerCertificate:function de(){},loadKeySession:function Ee(){},removeKeySession:function Z(){},stop:$,reset:$},function W(){d=m.getLogger(v),L=null,C=null,I=null,R=null,A=[],w=Object(B.default)(P).getInstance(),p=function pe(){return{handleEvent:function(fe){if(fe.type===f.needkey&&fe.initData){var ve=ArrayBuffer.isView(fe.initData)?fe.initData.buffer:fe.initData;x.trigger(_.NEED_KEY,{key:new T.default(ve,"cenc")})}}}}()}(),v}E.__dashjs_factory_name="ProtectionModel_3Feb2014",k.default=dashjs.FactoryMaker.getClassFactory(E)},"./src/streaming/protection/servers/ClearKey.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/protection/vo/KeyPair.js"),T=c("./src/streaming/protection/vo/ClearKeyKeySet.js");function M(){return{getServerURLFromMessage:function b(P){return P},getHTTPMethod:function h(){return"POST"},getResponseType:function y(){return"json"},getLicenseMessage:function E(P){if(!P.hasOwnProperty("keys"))return null;for(var x=[],_=0;_<P.keys.length;_++){var m=P.keys[_],f=m.kid.replace(/=/g,""),v=m.k.replace(/=/g,"");x.push(new B.default(f,v))}return new T.default(x)},getErrorResponse:function F(P){return String.fromCharCode.apply(null,new Uint8Array(P))}}}M.__dashjs_factory_name="ClearKey",k.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/protection/servers/DRMToday.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/ProtectionConstants.js");function T(M){var S=(M=M||{}).BASE64,b={};return b[B.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(f){return S.decodeArray(f.license)},getErrorResponse:function(f){return f}},b[B.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(f){return f},getErrorResponse:function(f){return String.fromCharCode.apply(null,new Uint8Array(f))}},{getServerURLFromMessage:function E(m){return m},getHTTPMethod:function F(){return"POST"},getResponseType:function P(m){return b[m].responseType},getLicenseMessage:function x(m,f){return function y(){if(!S||!S.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),b[f].getLicenseMessage(m)},getErrorResponse:function _(m,f){return b[f].getErrorResponse(m)}}}T.__dashjs_factory_name="DRMToday",k.default=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/protection/servers/PlayReady.js":function(we,k,c){"use strict";function B(){var M="http://schemas.xmlsoap.org/soap/envelope/";function S(_){var m=String.fromCharCode.apply(null,new Uint8Array(_));return decodeURIComponent(escape(m))}function b(_){if(window.DOMParser){var m=S(_),v=(new window.DOMParser).parseFromString(m,"text/xml"),d=v?v.getElementsByTagNameNS(M,"Envelope")[0]:null,L=d?d.getElementsByTagNameNS(M,"Body")[0]:null;if(L&&L.getElementsByTagNameNS(M,"Fault")[0])return null}return _}function h(_){var m="",f="",v="",d=-1,L=-1;if(window.DOMParser){var C=S(_),R=(new window.DOMParser).parseFromString(C,"text/xml"),A=R?R.getElementsByTagNameNS(M,"Envelope")[0]:null,p=A?A.getElementsByTagNameNS(M,"Body")[0]:null,w=p?p.getElementsByTagNameNS(M,"Fault")[0]:null,W=w?w.getElementsByTagName("detail")[0]:null,$=W?W.getElementsByTagName("Exception")[0]:null,Q=null;if(null===w)return C;m=(Q=w.getElementsByTagName("faultstring")[0].firstChild)?Q.nodeValue:null,null!==$&&(f=(Q=$.getElementsByTagName("StatusCode")[0])?Q.firstChild.nodeValue:null,d=(v=(Q=$.getElementsByTagName("Message")[0])?Q.firstChild.nodeValue:null)?v.lastIndexOf("[")+1:-1,L=v?v.indexOf("]"):-1,v=v?v.substring(d,L):"")}var ue="code: ".concat(f,", name: ").concat(m);return v&&(ue+=", message: ".concat(v)),ue}return{getServerURLFromMessage:function y(_){return _},getHTTPMethod:function E(){return"POST"},getResponseType:function F(){return"arraybuffer"},getLicenseMessage:function P(_){return b.call(this,_)},getErrorResponse:function x(_){return h.call(this,_)}}}c.r(k),B.__dashjs_factory_name="PlayReady",k.default=dashjs.FactoryMaker.getSingletonFactory(B)},"./src/streaming/protection/servers/Widevine.js":function(we,k,c){"use strict";function B(){return{getServerURLFromMessage:function M(E){return E},getHTTPMethod:function S(){return"POST"},getResponseType:function b(){return"arraybuffer"},getLicenseMessage:function h(E){return E},getErrorResponse:function y(E){return String.fromCharCode.apply(null,new Uint8Array(E))}}}c.r(k),B.__dashjs_factory_name="Widevine",k.default=dashjs.FactoryMaker.getSingletonFactory(B)},"./src/streaming/protection/vo/ClearKeyKeySet.js":function(we,k,c){"use strict";function T(b,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}c.r(k),k.default=function(){function b(h,y){if(function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,b),y&&"persistent"!==y&&"temporary"!==y)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=h,this.type=y}return function M(b,h,y){return h&&T(b.prototype,h),y&&T(b,y),b}(b,[{key:"toJWK",value:function(){var y,E=this.keyPairs.length,F={keys:[]};for(y=0;y<E;y++)F.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[y].keyID,k:this.keyPairs[y].key});this.type&&(F.type=this.type);var x=JSON.stringify(F),_=x.length,m=new ArrayBuffer(_),f=new Uint8Array(m);for(y=0;y<_;y++)f[y]=x.charCodeAt(y);return m}}]),b}()},"./src/streaming/protection/vo/KeyMessage.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b,h,y){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.sessionToken=S,this.message=b,this.defaultURL=h,this.messageType=y||"license-request"}},"./src/streaming/protection/vo/KeyPair.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.keyID=S,this.key=b}},"./src/streaming/protection/vo/KeySystemAccess.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.keySystem=S,this.ksConfiguration=b}},"./src/streaming/protection/vo/KeySystemConfiguration.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b,h,y,E){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.initDataTypes=["cenc"],S&&S.length&&(this.audioCapabilities=S),b&&b.length&&(this.videoCapabilities=b),this.distinctiveIdentifier=h,this.persistentState=y,this.sessionTypes=E}},"./src/streaming/protection/vo/LicenseRequest.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b,h,y,E,F,P,x){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.url=S,this.method=b,this.responseType=h,this.headers=y,this.withCredentials=E,this.messageType=F,this.sessionId=P,this.data=x}},"./src/streaming/protection/vo/LicenseResponse.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b,h){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.url=S,this.headers=b,this.data=h}},"./src/streaming/protection/vo/MediaCapability.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.contentType=S,this.robustness=b}},"./src/streaming/protection/vo/NeedKey.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.initData=S,this.initDataType=b}},"./src/streaming/rules/DroppedFramesHistory.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(){var S={},b={},h={};return{push:function y(x,_,m){if(_){S[x]||(S[x]=[],b[x]=0,h[x]=0);var f=m&&m.droppedVideoFrames?m.droppedVideoFrames:0,v=m&&m.totalVideoFrames?m.totalVideoFrames:0,d=f-b[x];b[x]=f;var L=v-h[x];h[x]=v;var C=S[x];isNaN(_)||(C[_]?(C[_].droppedVideoFrames+=d,C[_].totalVideoFrames+=L):C[_]={droppedVideoFrames:d,totalVideoFrames:L})}},getFrameHistory:function E(x){return S[x]},clearForStream:function F(x){try{delete S[x],delete b[x],delete h[x]}catch{}},reset:function P(){S={},b={},h={}}}}T.__dashjs_factory_name="DroppedFramesHistory";var M=B.default.getClassFactory(T);k.default=M},"./src/streaming/rules/RulesContext.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(M){var b=(M=M||{}).abrController,h=M.switchHistory,y=M.droppedFramesHistory,E=M.currentRequest,F=M.useBufferOccupancyABR,P=M.useL2AABR,x=M.useLoLPABR,_=M.streamProcessor?M.streamProcessor.getScheduleController():null,m=M.streamProcessor?M.streamProcessor.getRepresentationInfo():null,f=M.videoModel?M.videoModel:null;function L(){return m?m.mediaInfo:null}return{getMediaType:function v(){var ce=L();return ce?ce.type:null},getMediaInfo:L,getDroppedFramesHistory:function w(){return y},getCurrentRequest:function W(){return E},getSwitchHistory:function A(){return h},getStreamInfo:function d(){var ce=L();return ce?ce.streamInfo:null},getScheduleController:function I(){return _},getAbrController:function R(){return b},getRepresentationInfo:function C(){return m},useBufferOccupancyABR:function $(){return F},useL2AABR:function Q(){return P},useLoLPABR:function ue(){return x},getVideoModel:function p(){return f}}}T.__dashjs_factory_name="RulesContext",k.default=B.default.getClassFactory(T)},"./src/streaming/rules/SwitchRequest.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),M={DEFAULT:.5,STRONG:1,WEAK:0};function S(h,y,E){return{quality:void 0===h?-1:h,reason:void 0===y?null:y,priority:function m(f){var v=M.DEFAULT;return(f===M.DEFAULT||f===M.STRONG||f===M.WEAK)&&(v=f),v}(E)}}S.__dashjs_factory_name="SwitchRequest";var b=B.default.getClassFactory(S);b.NO_CHANGE=-1,b.PRIORITY=M,B.default.updateClassFactory(S.__dashjs_factory_name,b),k.default=b},"./src/streaming/rules/SwitchRequestHistory.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/rules/SwitchRequest.js");function S(){var h=[],y=[];return{push:function E(x){x.newValue===T.default.NO_CHANGE&&(x.newValue=x.oldValue),h[x.oldValue]||(h[x.oldValue]={noDrops:0,drops:0,dropSize:0});var _=x.newValue-x.oldValue,m=_<0?1:0,f=m?-_:0,v=m?0:1;if(h[x.oldValue].drops+=m,h[x.oldValue].dropSize+=f,h[x.oldValue].noDrops+=v,y.push({idx:x.oldValue,noDrop:v,drop:m,dropSize:f}),y.length>8){var d=y.shift();h[d.idx].drops-=d.drop,h[d.idx].dropSize-=d.dropSize,h[d.idx].noDrops-=d.noDrop}},getSwitchRequests:function F(){return h},reset:function P(){h=[],y=[]}}}S.__dashjs_factory_name="SwitchRequestHistory";var b=B.default.getClassFactory(S);k.default=b},"./src/streaming/rules/ThroughputHistory.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/core/FactoryMaker.js");function M(S){var d,L,C,I,R,v=(S=S||{}).settings;function W(Z,pe,re,_e){var ge=Math.pow(.5,re/_e.fast);Z.fastEstimate=(1-ge)*pe+ge*Z.fastEstimate;var fe=Math.pow(.5,re/_e.slow);Z.slowEstimate=(1-fe)*pe+fe*Z.slowEstimate,Z.totalWeight+=re}function Q(Z,pe,re){return v.get().streaming.abr.movingAverageMethod!==B.default.MOVING_AVERAGE_SLIDING_WINDOW?function ce(Z,pe){var re=Z?R.throughputHalfLife:R.latencyHalfLife,_e=Z?C[pe]:I[pe];if(!_e||_e.totalWeight<=0)return NaN;var ge=_e.fastEstimate/(1-Math.pow(.5,_e.totalWeight/re.fast)),fe=_e.slowEstimate/(1-Math.pow(.5,_e.totalWeight/re.slow));return Z?Math.min(ge,fe):Math.max(ge,fe)}(Z,pe):function ue(Z,pe,re){var _e=function $(Z,pe,re){var _e,ge;if(Z?(_e=d[pe],ge=re?3:4):(_e=L[pe],ge=4),_e){if(ge>=_e.length)ge=_e.length;else if(Z)for(var fe=1;fe<ge;++fe){var ve=_e[_e.length-fe]/_e[_e.length-fe-1];if((ve>=1.3||ve<=1/1.3)&&(ge+=1)===_e.length)break}}else ge=0;return ge}(Z,pe,re),fe=(Z?d:L)[pe];return 0!==_e&&fe&&0!==fe.length?(fe=fe.slice(-_e)).reduce(function(ve,X){return ve+X})/fe.length:NaN}(Z,pe,re)}function ne(Z,pe){return Q(!0,Z,pe)}function q(Z){d[Z]=d[Z]||[],L[Z]=L[Z]||[],C[Z]=C[Z]||{fastEstimate:0,slowEstimate:0,totalWeight:0},I[Z]=I[Z]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function de(){d={},L={},C={},I={}}var Ee={push:function w(Z,pe,re){if(pe.trace&&pe.trace.length){var ve,_e=pe.tresponse.getTime()-pe.trequest.getTime()||1,ge=pe._tfinish.getTime()-pe.tresponse.getTime()||1,fe=pe.trace.reduce(function(ye,se){return ye+se.b[0]},0),X=0;if(0!==(ve=pe._fileLoaderType&&pe._fileLoaderType===B.default.FILE_LOADER_TYPES.FETCH?pe.trace.reduce(function(ye,se){return ye+se.d},0):re?ge:_e+ge)&&(X=Math.round(8*fe/ve)),q(Z),function p(Z,pe,re){return Z===B.default.VIDEO?re<v.get().streaming.cacheLoadThresholds[B.default.VIDEO]:Z===B.default.AUDIO?re<v.get().streaming.cacheLoadThresholds[B.default.AUDIO]:void 0}(Z,0,ge)){if(d[Z].length>0&&!d[Z].hasCachedEntries)return;d[Z].hasCachedEntries=!0}else d[Z]&&d[Z].hasCachedEntries&&function le(Z){delete d[Z],delete L[Z],delete C[Z],delete I[Z],q(Z)}(Z);d[Z].push(X),d[Z].length>20&&d[Z].shift(),L[Z].push(_e),L[Z].length>20&&L[Z].shift(),W(C[Z],X,.001*ge,R.throughputHalfLife),W(I[Z],_e,1,R.latencyHalfLife)}},getAverageThroughput:ne,getSafeAverageThroughput:function U(Z,pe){var re=ne(Z,pe);return isNaN(re)||(re*=v.get().streaming.abr.bandwidthSafetyFactor),re},getAverageLatency:function ie(Z){return Q(!1,Z)},reset:de};return function A(){R={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},de()}(),Ee}M.__dashjs_factory_name="ThroughputHistory",k.default=T.default.getClassFactory(M)},"./src/streaming/rules/abr/ABRRulesCollection.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/rules/abr/ThroughputRule.js"),T=c("./src/streaming/rules/abr/InsufficientBufferRule.js"),M=c("./src/streaming/rules/abr/AbandonRequestsRule.js"),S=c("./src/streaming/rules/abr/DroppedFramesRule.js"),b=c("./src/streaming/rules/abr/SwitchHistoryRule.js"),h=c("./src/streaming/rules/abr/BolaRule.js"),y=c("./src/streaming/rules/abr/L2ARule.js"),E=c("./src/streaming/rules/abr/lolp/LoLpRule.js"),F=c("./src/core/FactoryMaker.js"),P=c("./src/streaming/rules/SwitchRequest.js"),x=c("./src/streaming/constants/Constants.js"),_="qualitySwitchRules",m="abandonFragmentRules";function f(d){var w,W,L=this.context,C=(d=d||{}).mediaPlayerModel,I=d.customParametersModel,R=d.dashMetrics,A=d.settings;function Q(q){return q.filter(function(le){return le.quality>P.default.NO_CHANGE})}function ue(q){var Ee,Z,pe,re,_e,le={},de=null;if(0!==q.length){for(le[P.default.PRIORITY.STRONG]={quality:P.default.NO_CHANGE,reason:null},le[P.default.PRIORITY.WEAK]={quality:P.default.NO_CHANGE,reason:null},le[P.default.PRIORITY.DEFAULT]={quality:P.default.NO_CHANGE,reason:null},Ee=0,Z=q.length;Ee<Z;Ee+=1)(pe=q[Ee]).quality!==P.default.NO_CHANGE&&(le[pe.priority].quality===P.default.NO_CHANGE||le[pe.priority].quality>pe.quality)&&(le[pe.priority].quality=pe.quality,le[pe.priority].reason=pe.reason||null);return le[P.default.PRIORITY.WEAK].quality!==P.default.NO_CHANGE&&(de=le[P.default.PRIORITY.WEAK]),le[P.default.PRIORITY.DEFAULT].quality!==P.default.NO_CHANGE&&(de=le[P.default.PRIORITY.DEFAULT]),le[P.default.PRIORITY.STRONG].quality!==P.default.NO_CHANGE&&(de=le[P.default.PRIORITY.STRONG]),de&&(re=de.quality,_e=de.reason),Object(P.default)(L).create(re,_e)}}return{initialize:function $(){w=[],W=[],A.get().streaming.abr.useDefaultABRRules&&(A.get().streaming.abr.ABRStrategy===x.default.ABR_STRATEGY_L2A?w.push(Object(y.default)(L).create({dashMetrics:R,settings:A})):A.get().streaming.abr.ABRStrategy===x.default.ABR_STRATEGY_LoLP?w.push(Object(E.default)(L).create({dashMetrics:R})):(w.push(Object(h.default)(L).create({dashMetrics:R,mediaPlayerModel:C,settings:A})),w.push(Object(B.default)(L).create({dashMetrics:R})),A.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&w.push(Object(T.default)(L).create({dashMetrics:R,settings:A})),A.get().streaming.abr.additionalAbrRules.switchHistoryRule&&w.push(Object(b.default)(L).create()),A.get().streaming.abr.additionalAbrRules.droppedFramesRule&&w.push(Object(S.default)(L).create()),A.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&W.push(Object(M.default)(L).create({dashMetrics:R,mediaPlayerModel:C,settings:A})))),I.getAbrCustomRules().forEach(function(le){le.type===_&&w.push(le.rule(L).create()),le.type===m&&W.push(le.rule(L).create())})},reset:function U(){[w,W].forEach(function(q){q&&q.length&&q.forEach(function(le){return le.reset&&le.reset()})}),w=[],W=[]},getMaxQuality:function ce(q){return ue(Q(w.map(function(Z){return Z.getMaxIndex(q)})))||Object(P.default)(L).create()},getMinSwitchRequest:ue,shouldAbandonFragment:function ne(q,le){return ue(Q(W.map(function(pe){return pe.shouldAbandon(q,le)})))||Object(P.default)(L).create()},getQualitySwitchRules:function ie(){return w}}}f.__dashjs_factory_name="ABRRulesCollection";var v=F.default.getClassFactory(f);v.QUALITY_SWITCH_RULES=_,v.ABANDON_FRAGMENT_RULES=m,F.default.updateSingletonFactory(f.__dashjs_factory_name,v),k.default=v},"./src/streaming/rules/abr/AbandonRequestsRule.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/rules/SwitchRequest.js"),T=c("./src/core/FactoryMaker.js"),M=c("./src/core/Debug.js");function S(b){var m,f,v,d,L,F=this.context,P=(b=b||{}).mediaPlayerModel,x=b.dashMetrics,_=b.settings;function p(){v={},d={},L=[]}return m={shouldAbandon:function A(w){var W=Object(B.default)(F).create(B.default.NO_CHANGE,{name:S.__dashjs_factory_name});if(!(w&&w.hasOwnProperty("getMediaInfo")&&w.hasOwnProperty("getMediaType")&&w.hasOwnProperty("getCurrentRequest")&&w.hasOwnProperty("getRepresentationInfo")&&w.hasOwnProperty("getAbrController")))return W;var $=w.getMediaInfo(),Q=w.getMediaType(),ue=w.getStreamInfo(),ce=ue?ue.id:null,ne=w.getCurrentRequest();if(!isNaN(ne.index)){!function I(w,W){v[w]=v[w]||{},v[w][W]=v[w][W]||{}}(Q,ne.index);var U=P.getStableBufferTime();if(x.getCurrentBufferLevel(Q)>U)return W;var q=v[Q][ne.index];if(null===q||null===ne.firstByteDate||d.hasOwnProperty(q.id))return W;if(void 0===q.firstByteTime&&(L[Q]=[],q.firstByteTime=ne.firstByteDate.getTime(),q.segmentDuration=ne.duration,q.bytesTotal=ne.bytesTotal,q.id=ne.index),q.bytesLoaded=ne.bytesLoaded,q.elapsedTime=(new Date).getTime()-q.firstByteTime,q.bytesLoaded>0&&q.elapsedTime>0&&function R(w,W){L[w]=L[w]||[],L[w].push(W)}(Q,Math.round(8*q.bytesLoaded/q.elapsedTime)),L[Q].length>=5&&q.elapsedTime>500&&q.bytesLoaded<q.bytesTotal){var le=L[Q].reduce(function(fe,ve){return fe+ve},0);if(q.measuredBandwidthInKbps=Math.round(le/L[Q].length),q.estimatedTimeOfDownload=+(8*q.bytesTotal/q.measuredBandwidthInKbps/1e3).toFixed(2),q.estimatedTimeOfDownload<1.8*q.segmentDuration||0===w.getRepresentationInfo().quality)return W;if(!d.hasOwnProperty(q.id)){var de=w.getAbrController(),Ee=q.bytesTotal-q.bytesLoaded,Z=de.getBitrateList($),pe=de.getQualityForBitrate($,q.measuredBandwidthInKbps*_.get().streaming.abr.bandwidthSafetyFactor,ce),re=de.getMinAllowedIndexFor(Q,ce),_e=void 0!==re?Math.max(re,pe):pe;Ee>q.bytesTotal*Z[_e].bitrate/Z[de.getQualityFor(Q,ce)].bitrate&&(W.quality=_e,W.reason.throughput=q.measuredBandwidthInKbps,W.reason.fragmentID=q.id,d[q.id]=q,f.debug("["+Q+"] frag id",q.id," is asking to abandon and switch to quality to ",_e," measured bandwidth was",q.measuredBandwidthInKbps),delete v[Q][q.id])}}else q.bytesLoaded===q.bytesTotal&&delete v[Q][q.id]}return W},reset:p},function C(){f=Object(M.default)(F).getInstance().getLogger(m),p()}(),m}S.__dashjs_factory_name="AbandonRequestsRule",k.default=T.default.getClassFactory(S)},"./src/streaming/rules/abr/BolaRule.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/MetricsConstants.js"),T=c("./src/streaming/rules/SwitchRequest.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/streaming/vo/metrics/HTTPRequest.js"),b=c("./src/core/EventBus.js"),h=c("./src/core/events/Events.js"),y=c("./src/core/Debug.js"),E=c("./src/streaming/MediaPlayerEvents.js"),F=c("./src/streaming/constants/Constants.js"),m=10;function d(L){var p,w,W,C=this.context,I=(L=L||{}).dashMetrics,R=L.mediaPlayerModel,A=Object(b.default)(C).getInstance();function ue(ee,z,D){var O=D.reduce(function(Te,Re,me){return Re>D[Te]?me:Te},0);if(0===O)return null;var H=Math.max(ee,m+2*z.length),j=(D[O]-1)/(H/m-1);return{gp:j,Vp:m/j}}function ce(ee){var z={},O=ee.getMediaInfo().bitrateList.map(function(Te){return Te.bandwidth}),H=function Q(ee){return ee.map(function(z){return Math.log(z)})}(O);H=H.map(function(Te){return Te-H[0]+1});var j=R.getStableBufferTime(),oe=ue(j,O,H);return oe?(z.state=1,z.bitrates=O,z.utilities=H,z.stableBufferTime=j,z.Vp=oe.Vp,z.gp=oe.gp,z.lastQuality=0,ne(z)):z.state=0,z}function ne(ee){ee.placeholderBuffer=0,ee.mostAdvancedSegmentStart=NaN,ee.lastSegmentWasReplacement=!1,ee.lastSegmentStart=NaN,ee.lastSegmentDurationS=NaN,ee.lastSegmentRequestTimeMs=NaN,ee.lastSegmentFinishTimeMs=NaN}function U(ee,z){var D=R.getStableBufferTime();if(ee.stableBufferTime!==D){var O=ue(D,ee.bitrates,ee.utilities);if(O.Vp!==ee.Vp||O.gp!==ee.gp){var H=I.getCurrentBufferLevel(z),j=H+ee.placeholderBuffer;j-=m,j*=O.Vp/ee.Vp,j+=m,ee.stableBufferTime=D,ee.Vp=O.Vp,ee.gp=O.gp,ee.placeholderBuffer=Math.max(0,j-H)}}}function le(ee,z){return ee.Vp*(ee.utilities[z]+ee.gp)}function de(ee,z){for(var D=ee.bitrates[z],O=ee.utilities[z],H=0,j=z-1;j>=0;--j)if(ee.utilities[j]<ee.utilities[z]){var oe=ee.bitrates[j];H=Math.max(H,ee.Vp*(ee.gp+(D*ee.utilities[j]-oe*O)/(D-oe)))}return H}function Z(ee){var D=ee.mediaType===F.default.AUDIO?[F.default.AUDIO]:W;for(var O in D)W.hasOwnProperty(O)&&2===W[O].state&&(W[O].placeholderBuffer=0)}function pe(){for(var ee in W)if(W.hasOwnProperty(ee)){var z=W[ee];0!==z.state&&(z.state=1,ne(z))}}function re(ee){if(ee&&ee.chunk&&ee.chunk.mediaInfo){var z=W[ee.chunk.mediaInfo.type];if(z&&0!==z.state){var D=ee.chunk.start;isNaN(z.mostAdvancedSegmentStart)||D>z.mostAdvancedSegmentStart?(z.mostAdvancedSegmentStart=D,z.lastSegmentWasReplacement=!1):z.lastSegmentWasReplacement=!0,z.lastSegmentStart=D,z.lastSegmentDurationS=ee.chunk.duration,z.lastQuality=ee.chunk.quality,ge(z,ee.chunk.mediaInfo.type)}}}function _e(ee){if(ee&&ee.metric===B.default.HTTP_REQUEST&&ee.value&&ee.value.type===S.HTTPRequest.MEDIA_SEGMENT_TYPE&&ee.value.trace&&ee.value.trace.length){var z=W[ee.mediaType];z&&0!==z.state&&(z.lastSegmentRequestTimeMs=ee.value.trequest.getTime(),z.lastSegmentFinishTimeMs=ee.value._tfinish.getTime(),ge(z,ee.mediaType))}}function ge(ee,z){if(!isNaN(ee.lastSegmentStart)&&!isNaN(ee.lastSegmentRequestTimeMs)&&!isNaN(ee.placeholderBuffer)){if(ee.placeholderBuffer*=.99,!isNaN(ee.lastSegmentFinishTimeMs)){var O=I.getCurrentBufferLevel(z)+.001*(ee.lastSegmentFinishTimeMs-ee.lastSegmentRequestTimeMs),H=le(ee,ee.lastQuality),j=Math.max(0,H-O);ee.placeholderBuffer=Math.min(j,ee.placeholderBuffer)}ee.lastSegmentWasReplacement&&!isNaN(ee.lastSegmentDurationS)&&(ee.placeholderBuffer+=ee.lastSegmentDurationS),ee.lastSegmentStart=NaN,ee.lastSegmentRequestTimeMs=NaN}}function fe(ee){if(ee){var z=W[ee.mediaType];z&&0!==z.state&&(z.abrQuality=ee.newQuality)}}function ve(ee){if(ee){var z=W[ee.mediaType];if(z&&0!==z.state){var O,D=I.getCurrentBufferLevel(ee.mediaType);O=z.abrQuality>0?de(z,z.abrQuality):m;var H=Math.max(0,O-D);z.placeholderBuffer=Math.min(z.placeholderBuffer,H)}}}function ye(){W={}}return p={getMaxIndex:function X(ee){var z=Object(T.default)(C).create();if(!(ee&&ee.hasOwnProperty("getMediaInfo")&&ee.hasOwnProperty("getMediaType")&&ee.hasOwnProperty("getScheduleController")&&ee.hasOwnProperty("getStreamInfo")&&ee.hasOwnProperty("getAbrController")&&ee.hasOwnProperty("useBufferOccupancyABR")))return z;var D=ee.getMediaInfo(),O=ee.getMediaType(),H=ee.getScheduleController(),j=ee.getStreamInfo(),oe=ee.getAbrController(),Te=oe.getThroughputHistory(),Re=j?j.id:null,me=j&&j.manifestInfo&&j.manifestInfo.isDynamic,G=ee.useBufferOccupancyABR();if(z.reason=z.reason||{},!G)return z;H.setTimeToLoadDelay(0);var V=function ie(ee){var z=ee.getMediaType(),D=W[z];return D?0!==D.state&&U(D,z):(D=ce(ee),W[z]=D),D}(ee);if(0===V.state)return z;var Ae,K=I.getCurrentBufferLevel(O),te=Te.getAverageThroughput(O,me),J=Te.getSafeAverageThroughput(O,me),he=Te.getAverageLatency(O);if(z.reason.state=V.state,z.reason.throughput=te,z.reason.latency=he,isNaN(te))return z;switch(V.state){case 1:Ae=oe.getQualityForBitrate(D,J,Re,he),z.quality=Ae,z.reason.throughput=J,V.placeholderBuffer=Math.max(0,de(V,Ae)-K),V.lastQuality=Ae,!isNaN(V.lastSegmentDurationS)&&K>=V.lastSegmentDurationS&&(V.state=2);break;case 2:(function Ee(ee,z){var D=Date.now();isNaN(ee.lastSegmentFinishTimeMs)?isNaN(ee.lastCallTimeMs)||(ee.placeholderBuffer+=Math.max(0,.001*(D-ee.lastCallTimeMs))):ee.placeholderBuffer+=Math.max(0,.001*(D-ee.lastSegmentFinishTimeMs)),ee.lastCallTimeMs=D,ee.lastSegmentStart=NaN,ee.lastSegmentRequestTimeMs=NaN,ee.lastSegmentFinishTimeMs=NaN,U(ee,z)})(V,O),Ae=function q(ee,z){for(var D=ee.bitrates.length,O=NaN,H=NaN,j=0;j<D;++j){var oe=(ee.Vp*(ee.utilities[j]+ee.gp)-z)/ee.bitrates[j];(isNaN(H)||oe>=H)&&(H=oe,O=j)}return O}(V,K+V.placeholderBuffer);var be=oe.getQualityForBitrate(D,J,Re,he);Ae>V.lastQuality&&Ae>be&&(Ae=Math.max(be,V.lastQuality));var Ie=Math.max(0,K+V.placeholderBuffer-le(V,Ae));Ie<=V.placeholderBuffer?(V.placeholderBuffer-=Ie,Ie=0):(Ie-=V.placeholderBuffer,V.placeholderBuffer=0,Ae<oe.getMaxAllowedIndexFor(O,Re)?H.setTimeToLoadDelay(1e3*Ie):Ie=0),z.quality=Ae,z.reason.throughput=te,z.reason.latency=he,z.reason.bufferLevel=K,z.reason.placeholderBuffer=V.placeholderBuffer,z.reason.delay=Ie,V.lastQuality=Ae;break;default:w.debug("BOLA ABR rule invoked in bad state."),z.quality=oe.getQualityForBitrate(D,J,Re,he),z.reason.state=V.state,z.reason.throughput=J,z.reason.latency=he,V.state=1,ne(V)}return z},reset:function se(){ye(),A.off(E.default.BUFFER_EMPTY,Z,p),A.off(E.default.PLAYBACK_SEEKING,pe,p),A.off(E.default.METRIC_ADDED,_e,p),A.off(E.default.QUALITY_CHANGE_REQUESTED,fe,p),A.off(E.default.FRAGMENT_LOADING_ABANDONED,ve,p),A.off(h.default.MEDIA_FRAGMENT_LOADED,re,p)}},function $(){w=Object(y.default)(C).getInstance().getLogger(p),ye(),A.on(E.default.BUFFER_EMPTY,Z,p),A.on(E.default.PLAYBACK_SEEKING,pe,p),A.on(E.default.METRIC_ADDED,_e,p),A.on(E.default.QUALITY_CHANGE_REQUESTED,fe,p),A.on(E.default.FRAGMENT_LOADING_ABANDONED,ve,p),A.on(h.default.MEDIA_FRAGMENT_LOADED,re,p)}(),p}d.__dashjs_factory_name="BolaRule",k.default=M.default.getClassFactory(d)},"./src/streaming/rules/abr/DroppedFramesRule.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/rules/SwitchRequest.js"),M=c("./src/core/Debug.js");function S(){var h,y,b=this.context;return h={getMaxIndex:function x(_){var m=Object(T.default)(b).create();if(!_||!_.hasOwnProperty("getDroppedFramesHistory"))return m;var f=_.getDroppedFramesHistory(),v=_.getStreamInfo().id;if(f){var d=f.getFrameHistory(v);if(!d||0===d.length)return m;for(var L=0,C=0,I=T.default.NO_CHANGE,R=1;R<d.length;R++)if(d[R]&&(L=d[R].droppedVideoFrames,(C=d[R].totalVideoFrames)>375&&L/C>.15)){y.debug("index: "+(I=R-1)+" Dropped Frames: "+L+" Total Frames: "+C);break}return Object(T.default)(b).create(I,{droppedFrames:L})}return m}},function P(){y=Object(M.default)(b).getInstance().getLogger(h)}(),h}S.__dashjs_factory_name="DroppedFramesRule",k.default=B.default.getClassFactory(S)},"./src/streaming/rules/abr/InsufficientBufferRule.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/EventBus.js"),T=c("./src/core/events/Events.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/core/Debug.js"),b=c("./src/streaming/rules/SwitchRequest.js"),h=c("./src/streaming/constants/Constants.js"),y=c("./src/streaming/constants/MetricsConstants.js"),E=c("./src/streaming/MediaPlayerEvents.js");function F(P){P=P||{};var d,L,C,m=this.context,f=Object(B.default)(m).getInstance(),v=P.dashMetrics;function w(){(C={})[h.default.VIDEO]={ignoreCount:2},C[h.default.AUDIO]={ignoreCount:2}}function W(){w()}function $(ue){!isNaN(ue.startTime)&&(ue.mediaType===h.default.AUDIO||ue.mediaType===h.default.VIDEO)&&C[ue.mediaType].ignoreCount>0&&C[ue.mediaType].ignoreCount--}return d={getMaxIndex:function A(ue){var ce=Object(b.default)(m).create();if(!ue||!ue.hasOwnProperty("getMediaType"))return ce;!function R(){if(!v||!v.hasOwnProperty("getCurrentBufferLevel")||!v.hasOwnProperty("getCurrentBufferState"))throw new Error(h.default.MISSING_CONFIG_ERROR)}();var ne=ue.getMediaType(),U=v.getCurrentBufferState(ne),q=ue.getRepresentationInfo().fragmentDuration,le=ue.getStreamInfo(),de=le?le.id:null,Ee=ue.getScheduleController(),Z=le&&le.manifestInfo&&le.manifestInfo.isDynamic;if(function p(ue,ce){return!ue&&C[ce].ignoreCount>0}(Ee.getPlaybackController().getLowLatencyModeEnabled(),ne)||!q)return ce;if(U&&U.state===y.default.BUFFER_EMPTY)L.debug("["+ne+"] Switch to index 0; buffer is empty."),ce.quality=0,ce.reason="InsufficientBufferRule: Buffer is empty";else{var _e=ue.getMediaInfo(),ge=ue.getAbrController(),fe=ge.getThroughputHistory(),ve=v.getCurrentBufferLevel(ne),X=fe.getAverageThroughput(ne,Z),ye=fe.getAverageLatency(ne);ce.quality=ge.getQualityForBitrate(_e,X*(ve/q)*.5,de,ye),ce.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return ce},reset:function Q(){w(),f.off(E.default.PLAYBACK_SEEKING,W,d),f.off(T.default.BYTES_APPENDED_END_FRAGMENT,$,d)}},function I(){L=Object(S.default)(m).getInstance().getLogger(d),w(),f.on(E.default.PLAYBACK_SEEKING,W,d),f.on(T.default.BYTES_APPENDED_END_FRAGMENT,$,d)}(),d}F.__dashjs_factory_name="InsufficientBufferRule",k.default=M.default.getClassFactory(F)},"./src/streaming/rules/abr/L2ARule.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/MetricsConstants.js"),T=c("./src/streaming/rules/SwitchRequest.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/streaming/vo/metrics/HTTPRequest.js"),b=c("./src/core/EventBus.js"),h=c("./src/core/events/Events.js"),y=c("./src/core/Debug.js"),E=c("./src/streaming/constants/Constants.js");function _(m){var L,C,I,R,f=this.context,v=(m=m||{}).dashMetrics,d=Object(b.default)(f).getInstance();function p(Z){var pe={},re=Z.getMediaInfo(),_e=re.bitrateList.map(function(ge){return ge.bandwidth/1e3});return pe.state=1,pe.bitrates=_e,pe.lastQuality=0,function w(Z){!Z||!Z.type||(I[Z.type]={},I[Z.type].w=[],I[Z.type].prev_w=[],I[Z.type].Q=0,I[Z.type].segment_request_start_s=0,I[Z.type].segment_download_finish_s=0,I[Z.type].B_target=1.5)}(re),W(pe),pe}function W(Z){Z.placeholderBuffer=0,Z.mostAdvancedSegmentStart=NaN,Z.lastSegmentWasReplacement=!1,Z.lastSegmentStart=NaN,Z.lastSegmentDurationS=NaN,Z.lastSegmentRequestTimeMs=NaN,Z.lastSegmentFinishTimeMs=NaN}function Q(){for(var Z in C)if(C.hasOwnProperty(Z)){var pe=C[Z];0!==pe.state&&(pe.state=1,W(pe))}}function ue(Z){if(Z&&Z.chunk&&Z.chunk.mediaInfo){var pe=C[Z.chunk.mediaInfo.type],re=I[Z.chunk.mediaInfo.type];if(pe&&0!==pe.state){var _e=Z.chunk.start;isNaN(pe.mostAdvancedSegmentStart)||_e>pe.mostAdvancedSegmentStart?(pe.mostAdvancedSegmentStart=_e,pe.lastSegmentWasReplacement=!1):pe.lastSegmentWasReplacement=!0,pe.lastSegmentStart=_e,pe.lastSegmentDurationS=Z.chunk.duration,pe.lastQuality=Z.chunk.quality,ne(pe,re)}}}function ce(Z){if(Z&&Z.metric===B.default.HTTP_REQUEST&&Z.value&&Z.value.type===S.HTTPRequest.MEDIA_SEGMENT_TYPE&&Z.value.trace&&Z.value.trace.length){var pe=C[Z.mediaType],re=I[Z.mediaType];pe&&0!==pe.state&&(pe.lastSegmentRequestTimeMs=Z.value.trequest.getTime(),pe.lastSegmentFinishTimeMs=Z.value._tfinish.getTime(),ne(pe,re))}}function ne(Z,pe){!isNaN(Z.lastSegmentStart)&&!isNaN(Z.lastSegmentRequestTimeMs)&&(pe.segment_request_start_s=.001*Z.lastSegmentRequestTimeMs,pe.segment_download_finish_s=.001*Z.lastSegmentFinishTimeMs,Z.lastSegmentStart=NaN,Z.lastSegmentRequestTimeMs=NaN)}function U(Z){if(Z&&Z.mediaType){var pe=C[Z.mediaType];pe&&0!==pe.state&&(pe.abrQuality=Z.newQuality)}}function ie(Z,pe){if(Z.length!==pe.length)return-1;for(var re=0,_e=0;_e<Z.length;_e++)re+=Z[_e]*pe[_e];return re}function de(){C={},I={}}return L={getMaxIndex:function le(Z){var V,pe=Object(T.default)(f).create(),_e=Math.pow(4,.99),ge=Math.max(Math.pow(4,1),_e*Math.sqrt(4)),fe=Z.getMediaInfo(),ve=Z.getMediaType(),X=fe.bitrateList.map(function(Lt){return Lt.bandwidth}),ye=X.length,se=Z.getScheduleController(),ee=Z.getStreamInfo(),z=Z.getAbrController(),D=z.getThroughputHistory(),O=ee&&ee.manifestInfo&&ee.manifestInfo.isDynamic,H=Z.useL2AABR(),j=v.getCurrentBufferLevel(ve,!0),oe=D.getSafeAverageThroughput(ve,O),Te=D.getAverageThroughput(ve,O),me=D.getAverageLatency(ve),K=Z.getVideoModel().getPlaybackRate();if(!(Z&&Z.hasOwnProperty("getMediaInfo")&&Z.hasOwnProperty("getMediaType")&&Z.hasOwnProperty("getScheduleController")&&Z.hasOwnProperty("getStreamInfo")&&Z.hasOwnProperty("getAbrController")&&Z.hasOwnProperty("useL2AABR")&&(pe.reason=pe.reason||{},H&&ve!==E.default.AUDIO)))return pe;se.setTimeToLoadDelay(0);var te=function $(Z){var pe=Z.getMediaType(),re=C[pe];return re||(re=p(Z),C[pe]=re),re}(Z);if(0===te.state)return pe;var J=I[ve];if(!J||(pe.reason.state=te.state,pe.reason.throughput=Te,pe.reason.latency=me,isNaN(Te)))return pe;switch(te.state){case 1:if(V=z.getQualityForBitrate(fe,oe,ee.id,me),pe.quality=V,pe.reason.throughput=oe,te.lastQuality=V,!isNaN(te.lastSegmentDurationS)&&j>=J.B_target){te.state=2,J.Q=_e;for(var he=0;he<ye;++he)J.prev_w[he]=he===te.lastQuality?1:0}break;case 2:var Ae=[],be=v.getCurrentHttpRequest(ve).trace.reduce(function(Lt,Bt){return Lt+Bt.d},0),Ie=v.getCurrentHttpRequest(ve).trace.reduce(function(Lt,Bt){return Lt+Bt.b[0]},0),xe=Math.round(8*Ie/be);xe<1&&(xe=1);for(var De=te.lastSegmentDurationS,Fe=1,Ce=0;Ce<ye;++Ce)X[Ce]=X[Ce]/1e3,K*X[Ce]>xe&&(Fe=-1),J.w[Ce]=J.prev_w[Ce]+Fe*(De/(2*ge))*((J.Q+_e)*(K*X[Ce]/xe));J.w=function q(Z){for(var pe=Z.length,re=!1,_e=[],ge=0;ge<pe;++ge)_e[ge]=Z[ge];for(var fe=Z.sort(function(z,D){return D-z}),ve=0,X=0,ye=[],se=0;se<pe-1;++se)if((X=((ve+=fe[se])-1)/(se+1))>=fe[se+1]){re=!0;break}re||(X=(ve+fe[pe-1]-1)/pe);for(var ee=0;ee<pe;++ee)ye[ee]=Math.max(_e[ee]-X,0);return ye}(J.w);for(var Qe=0;Qe<ye;++Qe)Ae[Qe]=J.w[Qe]-J.prev_w[Qe],J.prev_w[Qe]=J.w[Qe];J.Q=Math.max(0,J.Q-De+De*K*((ie(X,J.prev_w)+ie(X,Ae))/xe));for(var tt=[],Et=0;Et<ye;++Et)tt[Et]=Math.abs(X[Et]-ie(J.w,X));(V=tt.indexOf(Math.min.apply(Math,tt)))>te.lastQuality&&X[te.lastQuality+1]<=xe&&(V=te.lastQuality+1),X[V]>=xe&&(J.Q=2*Math.max(_e,J.Q)),pe.quality=V,pe.reason.throughput=Te,pe.reason.latency=me,pe.reason.bufferLevel=j,te.lastQuality=pe.quality;break;default:R.debug("L2A ABR rule invoked in bad state."),pe.quality=z.getQualityForBitrate(fe,oe,ee.id,me),pe.reason.state=te.state,pe.reason.throughput=oe,pe.reason.latency=me,te.state=1,W(te)}return pe},reset:function Ee(){de(),d.off(h.default.PLAYBACK_SEEKING,Q,L),d.off(h.default.MEDIA_FRAGMENT_LOADED,ue,L),d.off(h.default.METRIC_ADDED,ce,L),d.off(h.default.QUALITY_CHANGE_REQUESTED,U,L)}},function A(){R=Object(y.default)(f).getInstance().getLogger(L),de(),d.on(h.default.PLAYBACK_SEEKING,Q,L),d.on(h.default.MEDIA_FRAGMENT_LOADED,ue,L),d.on(h.default.METRIC_ADDED,ce,L),d.on(h.default.QUALITY_CHANGE_REQUESTED,U,L)}(),L}_.__dashjs_factory_name="L2ARule",k.default=M.default.getClassFactory(_)},"./src/streaming/rules/abr/SwitchHistoryRule.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M=c("./src/streaming/rules/SwitchRequest.js");function S(){var h,y,b=this.context;return h={getMaxIndex:function x(_){for(var m=_?_.getSwitchHistory():null,f=m?m.getSwitchRequests():[],v=0,d=0,L=0,C=Object(M.default)(b).create(),I=0;I<f.length;I++)if(void 0!==f[I]&&(L+=f[I].dropSize,(v+=f[I].drops)+(d+=f[I].noDrops)>=6&&v/d>.075)){C.quality=I>0&&f[I].drops>0?I-1:I,C.reason={index:C.quality,drops:v,noDrops:d,dropSize:L},y.debug("Switch history rule index: "+C.quality+" samples: "+(v+d)+" drops: "+v);break}return C}},function P(){y=Object(T.default)(b).getInstance().getLogger(h)}(),h}S.__dashjs_factory_name="SwitchHistoryRule",k.default=B.default.getClassFactory(S)},"./src/streaming/rules/abr/ThroughputRule.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/rules/SwitchRequest.js"),M=c("./src/streaming/constants/Constants.js"),S=c("./src/streaming/constants/MetricsConstants.js");function b(h){var y=this.context,E=(h=h||{}).dashMetrics;return{getMaxIndex:function _(f){var v=Object(T.default)(y).create();if(!(f&&f.hasOwnProperty("getMediaInfo")&&f.hasOwnProperty("getMediaType")&&f.hasOwnProperty("useBufferOccupancyABR")&&f.hasOwnProperty("getAbrController")&&f.hasOwnProperty("getScheduleController")))return v;!function x(){if(!E||!E.hasOwnProperty("getCurrentBufferState"))throw new Error(M.default.MISSING_CONFIG_ERROR)}();var d=f.getMediaInfo(),L=f.getMediaType(),C=E.getCurrentBufferState(L),I=f.getScheduleController(),R=f.getAbrController(),A=f.getStreamInfo(),p=A?A.id:null,w=A&&A.manifestInfo?A.manifestInfo.isDynamic:null,W=R.getThroughputHistory(),$=W.getSafeAverageThroughput(L,w),Q=W.getAverageLatency(L),ue=f.useBufferOccupancyABR();return isNaN($)||!C||ue||R.getAbandonmentStateFor(p,L)!==S.default.ABANDON_LOAD&&(C.state===S.default.BUFFER_LOADED||w)&&(v.quality=R.getQualityForBitrate(d,$,p,Q),I.setTimeToLoadDelay(0),v.reason={throughput:$,latency:Q}),v},reset:function m(){}}}b.__dashjs_factory_name="ThroughputRule",k.default=B.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M_MANUAL="manual_weight_selection",M_RANDOM="random_weight_selection",M_DYNAMIC="dynamic_weight_selection";function S(){var h,y,E,F,P,x,_,m,f,b=this.context;function L(){E=null,F=1,P=100,x=0,_=null,m=null,f=M_DYNAMIC}function C(){var le=0;if(E)for(var de=0;de<E.length;de++){var Ee=E[de];Ee.state.throughput>le&&(le=Ee.state.throughput)}return le}function R(le,de,Ee){var Z=le.map(function(re,_e){return Ee[_e]*Math.pow(re-de[_e],2)}).reduce(function(re,_e){return re+_e});return(Z<0?-1:1)*Math.sqrt(Math.abs(Z))}function A(le,de){return R([le.state.throughput,le.state.latency,le.state.rebuffer,le.state.switch],[de.state.throughput,de.state.latency,de.state.rebuffer,de.state.switch],[1,1,1,1])}function p(le,de,Ee){for(var Z=0;Z<de.length;Z++){var pe=de[Z],_e=A(pe,le);w(pe,Ee,Math.exp(-1*Math.pow(_e,2)/(2*Math.pow(.1,2))))}}function w(le,de,Ee){var Z=le.state,pe=[.01,.01,.01,.01];Z.throughput=Z.throughput+(de[0]-Z.throughput)*pe[0]*Ee,Z.latency=Z.latency+(de[1]-Z.latency)*pe[1]*Ee,Z.rebuffer=Z.rebuffer+(de[2]-Z.rebuffer)*pe[2]*Ee,Z.switch=Z.switch+(de[3]-Z.switch)*pe[3]*Ee}return h={getNextQuality:function $(le,de,Ee,Z,pe,re,_e){var ge=Ee,fe=Z,ve=de,X=function U(le){if(!E){E=[];var de=le.bitrateList,Ee=[];x=de[0].bandwidth,de.forEach(function(re){Ee.push(re.bandwidth),re.bandwidth<x&&(x=re.bandwidth)}),F=function I(le){var de=le.map(function(Ee){return Math.pow(Ee,2)}).reduce(function(Ee,Z){return Ee+Z});return Math.sqrt(de)}(Ee);for(var Z=0;Z<de.length;Z++)E.push({qualityIndex:Z,bitrate:de[Z].bandwidth,state:{throughput:de[Z].bandwidth/F,latency:0,rebuffer:0,switch:0}});m=function q(le){var de=[],Ee=function ie(le){for(var de=[],Ee=0;Ee<le;Ee++){var Z=[Math.random()*C(),Math.random(),Math.random(),Math.random()];de.push(Z)}return de}(Math.pow(le.length,2));de.push(Ee[0]);for(var Z=[1,1,1,1],pe=1;pe<le.length;pe++){for(var re=null,_e=null,ge=0;ge<Ee.length;ge++){for(var fe=Ee[ge],ve=null,X=0;X<de.length;X++){var ye=R(fe,de[X],Z);(null===ve||ye<ve)&&(ve=ye)}(null===_e||ve>_e)&&(re=fe,_e=ve)}de.push(re)}for(var se=null,ee=null,z=0;z<de.length;z++){for(var D=0,O=0;O<de.length;O++)z!==O&&(D+=R(de[z],de[O],Z));(null===se||D>se)&&(se=D,ee=z)}var H=[];for(H.push(de[ee]),de.splice(ee,1);de.length>0;){for(var j=null,oe=null,Te=0;Te<de.length;Te++){var Re=R(H[0],de[Te],Z);(null===j||Re<j)&&(j=Re,oe=Te)}H.push(de[oe]),de.splice(oe,1)}return H}(E)}return E}(le),ye=de/F;ye>1&&(ye=C()),Ee/=P,y.debug("getNextQuality called throughput:".concat(ye," latency:").concat(Ee," bufferSize:").concat(Z," currentQualityIndex:").concat(re," playbackRate:").concat(pe));var O=X[re],H=O.bitrate*_e.getSegmentDuration()/ve,j=Math.max(0,H-fe);if(fe-H<_e.getMinBuffer())return y.debug("Buffer is low for bitrate= ".concat(O.bitrate," downloadTime=").concat(H," currentBuffer=").concat(fe," rebuffer=").concat(j)),function W(le,de){var Ee=0,Z=le;if(E)for(var pe=0;pe<E.length;pe++){var re=E[pe];re.bitrate<le.bitrate&&re.bitrate>Ee&&de>re.bitrate&&(Ee=re.bitrate,Z=re)}return Z}(O,ve).qualityIndex;switch(f){case M_MANUAL:!function Q(){_=[.4,.4,.4,.4]}();break;case M_RANDOM:!function ue(le){_=function ne(le,de){for(var Ee=[],Z=Math.sqrt(2/le),pe=0;pe<de;pe++)Ee.push(Math.random()*Z);return _=Ee}(le.length,4)}(X);break;default:!function ce(le,de,Ee,Z,pe,re,_e){_||(_=m[m.length-1]);var ge=le.findWeightVector(de,Ee,Z,pe,re,_e);null!==ge&&-1!==ge&&(_=ge)}(_e,X,ge,fe,j,ve,pe)}for(var oe=null,Te=null,Re=null,me=0;me<X.length;me++){var G=X[me],V=G.state,K=[V.throughput,V.latency,V.rebuffer,V.switch],te=_.slice(),J=_e.getNextBufferWithBitrate(G.bitrate,fe,ve),he=J<_e.getMinBuffer();he&&y.debug("Buffer is low for bitrate=".concat(G.bitrate," downloadTime=").concat(H," currentBuffer=").concat(fe," nextBuffer=").concat(J)),(G.bitrate>de-1e4||he)&&G.bitrate!==x&&(te[0]=100);var Ae=R(K,[ye,0,0,0],te);(null===oe||Ae<oe)&&(oe=Ae,Te=G.qualityIndex,Re=G)}var be=Math.abs(O.bitrate-Re.bitrate)/F;return p(O,X,[ye,Ee,j,be]),p(Re,X,[ye,0,0,be]),Te},reset:function d(){L()}},function v(){y=Object(T.default)(b).getInstance().getLogger(h),L()}(),h}S.__dashjs_factory_name="LearningAbrController",k.default=B.default.getClassFactory(S)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/rules/abr/lolp/QoeInfo.js");function M(){var S,b,h,y,E;function P(){b=null,h=null,y=null,E=null}function _(C,I,R,A){var p=new T.default;return p.type=C,p.weights.bitrateReward=I||1,p.weights.bitrateSwitchPenalty=1,p.weights.rebufferPenalty=R||1e3,p.weights.latencyPenalty=[],p.weights.latencyPenalty.push({threshold:1.1,penalty:.05*A}),p.weights.latencyPenalty.push({threshold:1e8,penalty:.1*R}),p.weights.playbackSpeedPenalty=A||200,p}function f(C,I,R,A,p){p.bitrateWSum+=p.weights.bitrateReward*C,p.lastBitrate&&(p.bitrateSwitchWSum+=p.weights.bitrateSwitchPenalty*Math.abs(C-p.lastBitrate)),p.lastBitrate=C,p.rebufferWSum+=p.weights.rebufferPenalty*I;for(var w=0;w<p.weights.latencyPenalty.length;w++){var W=p.weights.latencyPenalty[w];if(R<=W.threshold){p.latencyWSum+=W.penalty*R;break}}p.playbackSpeedWSum+=p.weights.playbackSpeedPenalty*Math.abs(1-A),p.totalQoe=p.bitrateWSum-p.bitrateSwitchWSum-p.rebufferWSum-p.latencyWSum-p.playbackSpeedWSum}return S={setupPerSegmentQoe:function x(C,I,R){b=_("segment",C,I,R),h=C,y=I,E=R},logSegmentMetrics:function m(C,I,R,A){b&&f(C,I,R,A,b)},getPerSegmentQoe:function v(){return b},calculateSingleUseQoe:function d(C,I,R,A){var p=null;return h&&y&&E&&(p=_("segment",h,y,E)),p?(f(C,I,R,A,p),p.totalQoe):0},reset:function L(){P()}},function F(){P()}(),S}M.__dashjs_factory_name="LoLpQoeEvaluator",k.default=B.default.getClassFactory(M)},"./src/streaming/rules/abr/lolp/LoLpRule.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/Debug.js"),T=c("./src/core/FactoryMaker.js"),M=c("./src/streaming/rules/abr/lolp/LearningAbrController.js"),S=c("./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),b=c("./src/streaming/rules/SwitchRequest.js"),h=c("./src/streaming/constants/MetricsConstants.js"),y=c("./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),E=c("./src/streaming/constants/Constants.js");function x(_){var v,d,L,C,m=(_=_||{}).dashMetrics,f=this.context;return d={getMaxIndex:function R(w){try{var W=Object(b.default)(f).create(),$=w.getMediaInfo().type,Q=w.getAbrController(),ue=w.getStreamInfo(),ce=Q.getQualityFor($,ue.id),ne=w.getMediaInfo(),U=m.getCurrentBufferState($),ie=w.getScheduleController(),q=m.getCurrentBufferLevel($,!0),le=ue&&ue.manifestInfo?ue.manifestInfo.isDynamic:null,de=ie.getPlaybackController(),Ee=de.getCurrentLiveLatency();if(!w.useLoLPABR()||$===E.default.AUDIO)return W;Ee||(Ee=0);var Z=de.getPlaybackRate(),re=Q.getThroughputHistory().getSafeAverageThroughput($,le);if(v.debug("Throughput ".concat(Math.round(re)," kbps")),isNaN(re)||!U||Q.getAbandonmentStateFor(ue.id,$)===h.default.ABANDON_LOAD)return W;for(var _e=ne.bitrateList,ge=w.getRepresentationInfo().fragmentDuration,fe=_e[0].bandwidth/1e3,ve=_e[_e.length-1].bandwidth/1e3,X=0;X<_e.length;X++){var ye=_e[X].bandwidth/1e3;ye>ve?ve=ye:ye<fe&&(fe=ye)}var ee=_e[ce].bandwidth/1e3,z=m.getCurrentHttpRequest($,!0),D=(z.tresponse.getTime()-z.trequest.getTime())/1e3,O=D>ge?D-ge:0;C.setupPerSegmentQoe(ge,ve,fe),C.logSegmentMetrics(ee,O,Ee,Z);var H=Object(y.default)(f).create({targetLatency:1.5,bufferMin:.3,segmentDuration:ge,qoeEvaluator:C});return W.quality=L.getNextQuality(ne,1e3*re,Ee,q,Z,ce,H),W.reason={throughput:re,latency:Ee},W.priority=b.default.PRIORITY.STRONG,ie.setTimeToLoadDelay(0),W.quality!==ce&&console.log("[TgcLearningRule]["+$+"] requesting switch to index: ",W.quality,"Average throughput",Math.round(re),"kbps"),W}catch(j){throw j}},reset:function p(){!function A(){L.reset(),C.reset()}()}},function I(){v=Object(B.default)(f).getInstance().getLogger(d),L=Object(M.default)(f).create(),C=Object(S.default)(f).create()}(),d}x.__dashjs_factory_name="LoLPRule",k.default=T.default.getClassFactory(x)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(M){var E,x,_,S=M.targetLatency,b=M.bufferMin,h=M.segmentDuration,y=M.qoeEvaluator;function I(){return h}function A(p,w){var W=I();return w>W?p-W:p+W-w}return E={getMinBuffer:function C(){return b},getSegmentDuration:I,getNextBufferWithBitrate:function R(p,w,W){return A(w,p*h/W)},getNextBuffer:A,findWeightVector:function v(p,w,W,$,Q,ue){var ce=null,ne=null,U=null,ie=Math.abs(w-_);return p.forEach(function(q){x.forEach(function(le){var de_latency=le[1],de_buffer=le[2],Ee=q.bitrate*h/Q,Z=A(W,Ee),pe=Math.max(1e-5,Ee-Z),fe=y.calculateSingleUseQoe(q.bitrate,(0===de_buffer?10:1/de_buffer)*pe,(0===de_latency?10:1/de_latency)*q.state.latency,ue);(null===ce||fe>ce)&&function d(p,w,W){return!(p>S+W)&&w>=b}(w,Z,ie)&&(ce=fe,ne=le,U=q.bitrate)})}),null===ne&&null===U&&(ne=-1),_=w,ne}},function m(){!function f(){x=function L(p,w){return function Q(ue,ce,ne){if(ne===ce)return ue;for(var U=ue.length,ie=0;ie<U;ie++)for(var q=ue.shift(),le=0;le<p.length;le++)ue.push(q.concat(p[le]));return Q(ue,ce,ne+1)}(p.map(function(Q){return[Q]}),w,1)}([.2,.4,.6,.8,1],4),_=0}()}(),E}T.__dashjs_factory_name="LoLpWeightSelector",k.default=B.default.getClassFactory(T)},"./src/streaming/rules/abr/lolp/QoeInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},"./src/streaming/text/EmbeddedTextHtmlRender.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(){var M=0;function b(_){for(var m="",f=0;f<_.length;++f)m+=_[f].uchar;return m.length-m.replace(/^\s+/,"").length}function h(_){return"left: "+3.125*_.x+"%; top: "+6.66*_.y1+"%; width: "+(100-3.125*_.x)+"%; height: "+6.66*Math.max(_.y2-1-_.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function y(_){return"red"===_?"rgb(255, 0, 0)":"green"===_?"rgb(0, 255, 0)":"blue"===_?"rgb(0, 0, 255)":"cyan"===_?"rgb(0, 255, 255)":"magenta"===_?"rgb(255, 0, 255)":"yellow"===_?"rgb(255, 255, 0)":"white"===_?"rgb(255, 255, 255)":"black"===_?"rgb(0, 0, 0)":_}function E(_,m){var f=_.videoHeight/15;return m?"font-size: "+f+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(m.foreground?y(m.foreground):"rgb(255, 255, 255)")+"; font-style: "+(m.italics?"italic":"normal")+"; text-decoration: "+(m.underline?"underline":"none")+"; white-space: pre; background-color: "+(m.background?y(m.background):"transparent")+";":"font-size: "+f+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function F(_){return _.replace(/^\s+/g,"")}function P(_){return _.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function x(_,m,f,v){var $,Q,d=null,C=!1,I=-1,R={start:m,end:f,spans:[]},A="style_cea608_white_black",p={},w={},W=[];for($=0;$<15;++$){var ue=v.rows[$],ce="",ne=null;if(!1===ue.isEmpty()){var U=b(ue.chars);null===d&&(d={x:U,y1:$,y2:$+1,p:[]}),U!==I&&C&&(d.p.push(R),R={start:m,end:f,spans:[]},d.y2=$,d.name="region_"+d.x+"_"+d.y1+"_"+d.y2,!1===p.hasOwnProperty(d.name)?(W.push(d),p[d.name]=d):p[d.name].p.contat(d.p),d={x:U,y1:$,y2:$+1,p:[]});for(var ie=0;ie<ue.chars.length;++ie){var q=ue.chars[ie],le=q.penState;if(null===ne||!le.equals(ne)){ce.trim().length>0&&(R.spans.push({name:A,line:ce,row:$}),ce="");var de="style_cea608_"+le.foreground+"_"+le.background;le.underline&&(de+="_underline"),le.italics&&(de+="_italics"),w.hasOwnProperty(de)||(w[de]=JSON.parse(JSON.stringify(le))),ne=le,A=de}ce+=q.uchar}ce.trim().length>0&&R.spans.push({name:A,line:ce,row:$}),C=!0,I=U}else C=!1,I=-1,d&&(d.p.push(R),R={start:m,end:f,spans:[]},d.y2=$,d.name="region_"+d.x+"_"+d.y1+"_"+d.y2,!1===p.hasOwnProperty(d.name)?(W.push(d),p[d.name]=d):p[d.name].p.contat(d.p),d=null)}d&&(d.p.push(R),d.y2=$+1,d.name="region_"+d.x+"_"+d.y1+"_"+d.y2,!1===p.hasOwnProperty(d.name)?(W.push(d),p[d.name]=d):p[d.name].p.contat(d.p),d=null);var Ee=[];for($=0;$<W.length;++$){var Z=W[$],pe="sub_cea608_"+M++,re=document.createElement("div");re.id=pe;var _e=h(Z);re.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+_e;var ge=document.createElement("div");ge.className="paragraph bodyStyle",ge.style.cssText=E(_);var fe=document.createElement("div");fe.className="cueUniWrapper",fe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var ve=0;ve<Z.p.length;++ve){var X=Z.p[ve],ye=0;for(Q=0;Q<X.spans.length;++Q){var se=X.spans[Q];if(se.line.length>0){if(0!==Q&&ye!=se.row){var ee=document.createElement("br");ee.className="lineBreak",fe.appendChild(ee)}var z=!1;ye===se.row&&(z=!0),ye=se.row;var D=w[se.name],O=document.createElement("span");O.className="spanPadding "+se.name+" customSpanColor",O.style.cssText=E(_,D),O.textContent=0!==Q&&z?Q===X.spans.length-1?P(se.line):se.line:X.spans.length>1&&Q<X.spans.length-1&&se.row===X.spans[Q+1].row?F(se.line):se.line.trim(),fe.appendChild(O)}}}ge.appendChild(fe),re.appendChild(ge);var H={bodyStyle:["%",90]};for(var j in w)w.hasOwnProperty(j)&&(H[j]=["%",90]);Ee.push({type:"html",start:m,end:f,cueHTMLElement:re,cueID:pe,cellResolution:[32,15],isFromCEA608:!0,fontSize:H,lineHeight:{},linePadding:{}})}return Ee}}}T.__dashjs_factory_name="EmbeddedTextHtmlRender",k.default=B.default.getSingletonFactory(T)},"./src/streaming/text/NotFragmentedTextBufferController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/EventBus.js"),T=c("./src/core/events/Events.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/streaming/utils/InitCache.js"),b=c("./src/streaming/SourceBufferSink.js"),h=c("./src/streaming/vo/DashJSError.js"),y=c("./src/core/errors/Errors.js"),E="NotFragmentedTextBufferController";function F(P){P=P||{};var L,C,I,R,A,p,x=this.context,_=Object(B.default)(x).getInstance(),m=P.textController,f=P.errHandler,v=P.streamInfo,d=P.type;function U(j){R=j}function Ee(j){C!==j&&(C=j)&&function H(j,oe){_.trigger(j,oe||{},{streamId:v.id,mediaType:d})}(T.default.BUFFERING_COMPLETED)}function re(j){!j.chunk.bytes||C||(p.save(j.chunk),A.append(j.chunk),Ee(!0))}return L={initialize:function $(j){U(j)},getStreamId:function ue(){return v.id},getType:function ce(){return d},getBufferControllerType:function W(){return E},createBufferSink:function Q(j){return new Promise(function(oe,Te){try{(A=Object(b.default)(x).create({mediaSource:R,textController:m,eventBus:_})).initializeForFirstUse(v,j),I||(A.getBuffer()&&"function"==typeof A.getBuffer().initialize&&A.getBuffer().initialize(),I=!0),oe(A)}catch(Re){f.error(new h.default(y.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,y.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+d)),Te(Re)}})},getBuffer:function ne(){return A},getBufferLevel:function le(){return 0},getRangeAt:function _e(){return null},getAllRangesWithSafetyFactor:function ge(){return[]},getContinuousBufferTimeForTargetTime:function fe(){return Number.POSITIVE_INFINITY},setMediaSource:U,getMediaSource:function ie(){return R},appendInitSegmentFromCache:function pe(j){return null!==p.extract(v.id,j)},getIsBufferingCompleted:function de(){return C},setIsBufferingCompleted:Ee,getIsPruningInProgress:function q(){return!1},reset:function Z(j){_.off(T.default.INIT_FRAGMENT_LOADED,re,L),!j&&A&&(A.abort(),A.reset(),A=null)},clearBuffers:function ve(){return Promise.resolve()},prepareForPlaybackSeek:function ye(){return Promise.resolve()},prepareForReplacementTrackSwitch:function se(){return C=!1,Promise.resolve()},setSeekTarget:function z(){},updateAppendWindow:function ee(){return Promise.resolve()},pruneAllSafely:function O(){return Promise.resolve()},updateBufferTimestampOffset:function X(){return Promise.resolve()},segmentRequestingCompleted:function D(){}},function w(){I=!1,R=null,C=!1,p=Object(S.default)(x).getInstance(),_.on(T.default.INIT_FRAGMENT_LOADED,re,L)}(),L}F.__dashjs_factory_name=E,k.default=M.default.getClassFactory(F)},"./src/streaming/text/TextController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/core/FactoryMaker.js"),M=c("./src/streaming/text/TextSourceBuffer.js"),S=c("./src/streaming/text/TextTracks.js"),b=c("./src/streaming/utils/VTTParser.js"),h=c("./src/streaming/utils/TTMLParser.js"),y=c("./src/core/EventBus.js"),E=c("./src/core/events/Events.js"),F=c("./src/streaming/MediaPlayerEvents.js"),P=c("./src/streaming/utils/SupervisorTools.js");function x(_){var R,A,p,w,W,$,Q,ue,ce,ne,U,m=this.context,f=_.adapter,v=_.errHandler,d=_.manifestModel,L=_.mediaController,C=_.videoModel,I=_.settings;function _e(H){var j=H.tracks,oe=H.index,Te=H.streamId;if(!1===I.get().streaming.text.defaultEnabled&&!fe()||U)X(Te,-1);else{var me=L.getCurrentTrackFor(B.default.TEXT,Te);if(me){var G={lang:me.lang,role:me.roles[0],index:me.index,codec:me.codec,accessibility:me.accessibility[0]};j.some(function(V,K){if(L.matchSettings(G,V))return X(Te,K),oe=K,!0})}ue=!1}A[Te].lastEnabledIndex=oe,Q.trigger(F.default.TEXT_TRACKS_ADDED,{enabled:fe(),index:oe,tracks:j,streamId:Te}),ne=!0}function fe(){var H=!0;return ue&&!ce&&(H=!1),H}function X(H,j){(ue=-1===j)&&L&&L.saveTextSettingsDisabled();var oe=ee(H);if(oe!==j&&w[H]){w[H].setModeForTrackIdx(oe,B.default.TEXT_HIDDEN),w[H].setCurrentTrackIdx(j),w[H].setModeForTrackIdx(j,B.default.TEXT_SHOWING);var Te=w[H].getCurrentTrackInfo();Te&&Te.isFragmented&&!Te.isEmbedded?function ye(H,j,oe){if(p[H])for(var Re=p[H].getConfig().fragmentedTracks,me=0;me<Re.length;me++){var G=Re[me];if(j.lang===G.lang&&(G.id?j.id===G.id:j.index===G.index)){var V=L.getCurrentTrackFor(B.default.TEXT,H);(G.id?V.id!==G.id:V.index!==G.index)?(w[H].deleteCuesFromTrackIdx(oe),p[H].setCurrentFragmentedTrackIdx(me)):-1===oe&&Q.trigger(E.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:H,mediaType:B.default.TEXT})}}}(H,Te,oe):Te&&!Te.isFragmented&&function se(H,j){Q.trigger(E.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:j},{streamId:H,mediaType:B.default.TEXT})}(H,Te),L.setTrack(Te)}}function ee(H){return w[H].getCurrentTrackIdx()}function D(){p={},w={},A={},ue=!0,ne=!1,U=!1}return R={deactivateStream:function z(H){if(H){var j=H.id;p[j]&&p[j].resetMediaInfos(),w[j]&&w[j].deleteAllTextTracks()}},initialize:function q(){Q.on(E.default.TEXT_TRACKS_QUEUE_INITIALIZED,_e,R)},initializeForStream:function le(H){var j=H.id,oe=Object(S.default)(m).create({videoModel:C,streamInfo:H});oe.initialize(),w[j]=oe;var Te=Object(M.default)(m).create({errHandler:v,adapter:f,manifestModel:d,mediaController:L,videoModel:C,textTracks:oe,vttParser:W,ttmlParser:$,streamInfo:H});Te.initialize(),p[j]=Te,A[j]={},A[j].lastEnabledIndex=-1},createTracks:function de(H){var j=H.id;!w[j]||w[j].createTracks()},getTextSourceBuffer:function Z(H){var j=H.id;if(p&&p[j])return p[j]},getAllTracksAreDisabled:function pe(){return ue},addEmbeddedTrack:function re(H,j){var oe=H.id;!p[oe]||p[oe].addEmbeddedTrack(j)},enableText:function ge(H,j){Object(P.checkParameterType)(j,"boolean"),fe()!==j&&(j&&X(H,A[H].lastEnabledIndex),j||(A[H].lastEnabledIndex=ee(H),ne?X(H,-1):U=!0))},isTextEnabled:fe,setTextTrack:X,getCurrentTrackIdx:ee,enableForcedTextStreaming:function ve(H){Object(P.checkParameterType)(H,"boolean"),ce=H},addMediaInfosToBuffer:function Ee(H,j,oe){var Re=H.id;!p[Re]||p[Re].addMediaInfos(j,oe,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function O(){D(),Q.off(E.default.TEXT_TRACKS_QUEUE_INITIALIZED,_e,R),Object.keys(p).forEach(function(H){p[H].resetEmbedded(),p[H].reset()})}},function ie(){ce=!1,ne=!1,U=!1,W=Object(b.default)(m).getInstance(),$=Object(h.default)(m).getInstance(),Q=Object(y.default)(m).getInstance(),D()}(),R}x.__dashjs_factory_name="TextController",k.default=T.default.getClassFactory(x)},"./src/streaming/text/TextSourceBuffer.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/streaming/vo/metrics/HTTPRequest.js"),M=c("./src/streaming/vo/TextTrackInfo.js"),S=c("./src/streaming/utils/BoxParser.js"),b=c("./src/streaming/utils/CustomTimeRanges.js"),h=c("./src/core/FactoryMaker.js"),y=c("./src/core/Debug.js"),E=c("./src/streaming/text/EmbeddedTextHtmlRender.js"),F=c("./node_modules/codem-isoboxer/dist/iso_boxer.js"),P=c.n(F),x=c("./externals/cea608-parser.js"),_=c.n(x),m=c("./src/core/EventBus.js"),f=c("./src/core/events/Events.js"),v=c("./src/streaming/vo/DashJSError.js"),d=c("./src/core/errors/Errors.js");function L(C){var U,ie,q,le,de,Ee,Z,pe,re,_e,ge,fe,ve,X,ye,se,I=C.errHandler,R=C.manifestModel,A=C.mediaController,p=C.videoModel,w=C.textTracks,W=C.vttParser,$=C.ttmlParser,Q=C.streamInfo,ue=this.context,ce=Object(m.default)(ue).getInstance(),ne=!1;function O(){(function D(){Ee=null,pe=NaN,re=[],_e=null,Z=!1})(),de=[],le=null}function oe(ut){var Tt=new M.default;for(var Me in ut)Tt[Me]=ut[Me];Tt.labels=ut.labels,Tt.defaultTrack=function Bt(ut){var Tt=!1;return fe.length>1&&ut.isEmbedded?Tt=ut.id&&ut.id===B.default.CC1:1===fe.length?ut.id&&"string"==typeof ut.id&&"CC"===ut.id.substring(0,2)&&(Tt=!0):0===fe.length&&(Tt=ut.index===de[0].index),Tt}(ut),Tt.isFragmented=ut.isFragmented,Tt.isEmbedded=!!ut.isEmbedded,Tt.isTTML=function he(ut){return ut.codec&&ut.codec.search(B.default.STPP)>=0||ut.mimeType&&ut.mimeType.search(B.default.TTML)>=0}(ut),Tt.kind=function Ae(ut,Tt){var Le=ut.roles&&ut.roles.length>0?Tt[ut.roles[0]]:Tt.caption;return Le===Tt.caption||Le===Tt.subtitle?Le:Tt.caption}(ut,{subtitle:"subtitles",caption:"captions"}),w.addTextTrack(Tt)}function me(ut){var Tt=ut.chunk;Tt.mediaInfo.embeddedCaptions&&be(Tt.bytes,Tt)}function J(ut){ge=ut}function be(ut,Tt){var Le=Tt.mediaInfo,Me=Le.type,Ye=Le.codec||Le.mimeType;Ye?-1!==Le.codec.indexOf("application/mp4")?function Ie(ut,Tt,Le){var Me;if("InitializationSegment"===Tt.segmentType)Z=!0,pe=q.getMediaTimescaleFromMoov(ut);else{if(!Z)return;(Me=q.getSamplesInfo(ut).sampleList).length>0&&(_e=Me[0].cts-Tt.start*pe),Le.search(B.default.STPP)>=0?function xe(ut,Tt,Le){var Me,Ue;for(le=null!==le?le:kt(Le),Me=0;Me<Tt.length;Me++){var Ye=Tt[Me],st=Ye.cts,it=Lt(),lt=it+st/pe;U.buffered.add(lt,lt+Ye.duration/pe);var ht=new DataView(ut,Ye.offset,Ye.subSizes[0]),Be=P.a.Utils.dataViewToString(ht,B.default.UTF8),Xe=[],et=Ye.offset+Ye.subSizes[0];for(Ue=1;Ue<Ye.subSizes.length;Ue++){var dt=new Uint8Array(ut,et,Ye.subSizes[Ue]),Mt=String.fromCharCode.apply(null,dt);Xe.push(Mt),et+=Ye.subSizes[Ue]}try{var It=R.getValue(),pn=le.parse(Be,It.ttmlTimeIsRelative?st/pe:0,st/pe,(st+Ye.duration)/pe,Xe);w.addCaptions(ge,it,pn)}catch(rn){Ee.removeExecutedRequestsBeforeTime(),this.remove(),ie.error("TTML parser error: "+rn.message)}}}(ut,Me,Le):function De(ut,Tt){var Le,Me,Ue,Ye=[];for(Le=0;Le<Tt.length;Le++){var st=Tt[Le];st.cts-=_e;var lt=Lt()+st.cts/pe;U.buffered.add(lt,lt+st.duration/pe);var ht=ut.slice(st.offset,st.offset+st.size),Be=P.a.parseBuffer(ht);for(Me=0;Me<Be.boxes.length;Me++){var Xe=Be.boxes[Me];if(ie.debug("VTT box1: "+Xe.type),"vtte"!==Xe.type&&"vttc"===Xe.type)for(ie.debug("VTT vttc boxes.length = "+Xe.boxes.length),Ue=0;Ue<Xe.boxes.length;Ue++){var et=Xe.boxes[Ue];if(ie.debug("VTT box2: "+et.type),"payl"===et.type){var dt=et.cue_text;ie.debug("VTT cue_text = "+dt);var Mt=st.cts/pe,It=(st.cts+st.duration)/pe;Ye.push({start:Mt,end:It,data:dt,styles:{}}),ie.debug("VTT "+Mt+"-"+It+" : "+dt)}}}}Ye.length>0&&w.addCaptions(ge,0,Ye)}(ut,Me)}}(ut,Tt,Ye):Me===B.default.VIDEO?function Ce(ut,Tt){var Le,Me;if(Tt.segmentType===T.HTTPRequest.INIT_SEGMENT_TYPE)0===ve&&(ve=q.getMediaTimescaleFromMoov(ut));else if(Tt.segmentType===T.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===ve)return void ie.warn("CEA-608: No timescale for embeddedTextTrack yet");var Ue=(Me=q.getSamplesInfo(ut)).lastSequenceNumber;if(!ye[0]&&!ye[1]&&function Qe(){for(var ut,Tt=0;Tt<fe.length;Tt++){if(-1===(ut=w.getTrackIdxForId(fe[Tt].id)))return void ie.warn("CEA-608: data before track is ready.");var Le=tt(ut);ye[Tt]=new _.a.Cea608Parser(Tt+1,{newCue:Le},null)}}(),ve){if(null!==X&&Ue!==X+Me.numSequences)for(Le=0;Le<ye.length;Le++)ye[Le]&&ye[Le].reset();for(var Ye=function Et(ut,Tt){if(0===Tt.length)return null;for(var Le={splits:[],fields:[[],[]]},Me=new DataView(ut),Ue=0;Ue<Tt.length;Ue++)for(var Ye=Tt[Ue],st=_.a.findCea608Nalus(Me,Ye.offset,Ye.size),it=null,lt=0,vt=0;vt<st.length;vt++)for(var ht=_.a.extractCea608DataFromRange(Me,st[vt]),Be=0;Be<2;Be++)if(ht[Be].length>0){Ye.cts!==it?lt=0:lt+=1;var Xe=Lt();Le.fields[Be].push([Ye.cts+Xe*ve,ht[Be],lt]),it=Ye.cts}return Le.fields.forEach(function(dt){dt.sort(function(Mt,It){return Mt[0]===It[0]?Mt[2]-It[2]:Mt[0]-It[0]})}),Le}(ut,Me.sampleList),st=0;st<ye.length;st++){var it=Ye.fields[st],lt=ye[st];if(lt)for(Le=0;Le<it.length;Le++)lt.addData(it[Le][0]/ve,it[Le][1])}X=Ue}}}(ut,Tt):function Fe(ut,Tt,Le){var Me,Ue,Ye=new DataView(ut,0,ut.byteLength);Ue=P.a.Utils.dataViewToString(Ye,B.default.UTF8);try{Me=kt(Le).parse(Ue,0),w.addCaptions(w.getCurrentTrackIdx(),0,Me),U.buffered&&U.buffered.add(Tt.start,Tt.end)}catch(st){I.error(new v.default(d.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,d.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+st.message,Ue))}}(ut,Tt,Ye):ie.error("No text type defined")}function tt(ut){return function Tt(Le,Me,Ue){var Ye;(Ye=p.getTTMLRenderingDiv()?se.createHTMLCaptionsFromScreen(p.getElement(),Le,Me,Ue):[{start:Le,end:Me,data:Ue.getDisplayText(),styles:{}}])&&w.addCaptions(ut,0,Ye)}}function Lt(){return isNaN(U.timestampOffset)?0:U.timestampOffset}function kt(ut){var Tt;return ut.search(B.default.VTT)>=0?Tt=W:(ut.search(B.default.TTML)>=0||ut.search(B.default.STPP)>=0)&&(Tt=$),Tt}function an(ut){fe.forEach(function(Tt){var Le=w.getTrackIdxForId(Tt.id);Le>=0&&w.deleteCuesFromTrackIdx(Le,ut.from,ut.to)})}return U={initialize:function H(){ne||function G(){fe=[],ge=null,ve=0,ye=[],X=null,ne=!0,se=Object(E.default)(ue).getInstance(),ce.on(f.default.VIDEO_CHUNK_RECEIVED,me,U),ce.on(f.default.BUFFER_CLEARED,an,U)}()},addMediaInfos:function j(ut,Tt,Le){if(de=de.concat(Tt),ut===B.default.TEXT&&Tt[0].isFragmented&&!Tt[0].isEmbedded){Ee=Le,U.buffered=Object(b.default)(ue).create(),re=A.getTracksFor(B.default.TEXT,Q.id).filter(function(st){return st.isFragmented});for(var Me=A.getCurrentTrackFor(B.default.TEXT,Q.id),Ue=0;Ue<re.length;Ue++)if(re[Ue]===Me){J(Ue);break}}for(var Ye=0;Ye<Tt.length;Ye++)oe(Tt[Ye])},resetMediaInfos:function Qt(){de=[]},getStreamId:function z(){return Q.id},append:be,abort:function Te(){},addEmbeddedTrack:function K(ut){if(ne&&ut)if(ut.id===B.default.CC1||ut.id===B.default.CC3){for(var Tt=0;Tt<fe.length;Tt++)if(fe[Tt].id===ut.id)return;fe.push(ut)}else ie.warn("Embedded track "+ut.id+" not supported!")},resetEmbedded:function V(){ce.off(f.default.VIDEO_CHUNK_RECEIVED,me,U),ce.off(f.default.BUFFER_CLEARED,an,U),w&&w.deleteAllTextTracks(),ne=!1,fe=[],ye=[null,null],X=null},getConfig:function te(){return{fragmentModel:Ee,fragmentedTracks:re,videoModel:p}},setCurrentFragmentedTrackIdx:J,remove:function en(ut,Tt){void 0===ut&&ut===Tt&&(ut=U.buffered.start(0),Tt=U.buffered.end(U.buffered.length-1)),U.buffered.remove(ut,Tt),w.deleteCuesFromTrackIdx(ge,ut,Tt)},reset:function Re(){O(),de=[],q=null}},function ee(){ie=Object(y.default)(ue).getInstance().getLogger(U),q=Object(S.default)(ue).getInstance(),O()}(),U}L.__dashjs_factory_name="TextSourceBuffer",k.default=h.default.getClassFactory(L)},"./src/streaming/text/TextTracks.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/core/EventBus.js"),M=c("./src/core/events/Events.js"),S=c("./src/streaming/MediaPlayerEvents.js"),b=c("./src/core/FactoryMaker.js"),h=c("./src/core/Debug.js"),y=c("./node_modules/imsc/src/main/js/main.js");function F(P){var v,d,L,C,I,R,A,p,w,W,$,Q,ue,ce,ne,U,ie,x=this.context,_=Object(T.default)(x).getInstance(),m=P.videoModel,f=P.streamInfo;function Ee(te){return m.addTextTrack(te.kind,void 0!==te.id?te.id:te.lang,te.lang,te.isTTML,te.isEmbedded)}function re(te,J,he,Ae,be,Ie){var Fe=0,Ce=0;te/J>he/Ae?Fe=(Ce=J)/Ae*he:Ce=(Fe=te)/he*Ae;var Qe,tt,Et=0,Lt=0;return Fe/Ce>be?(Lt=Ce,Et=Ce*be):(Et=Fe,Lt=Fe/be),Qe=(te-Et)/2,tt=(J-Lt)/2,Ie?{x:Qe+.1*Et,y:tt+.1*Lt,w:.8*Et,h:.8*Lt}:{x:Qe,y:tt,w:Et,h:Lt}}function _e(te,J){var he=m.getClientWidth(),Ae=m.getClientHeight(),be=m.getVideoWidth(),Ie=m.getVideoHeight(),xe=m.getVideoRelativeOffsetTop(),De=m.getVideoRelativeOffsetLeft();if(0!==be&&0!==Ie){var Fe=be/Ie,Ce=!1;te.isFromCEA608&&(Fe=3.5/3,Ce=!0);var Qe=re.call(this,he,Ae,be,Ie,Fe,Ce),tt=Qe.w,Et=Qe.h,Lt=Qe.x,Bt=Qe.y;if(tt!=w||Et!=W||Lt!=A||Bt!=p||J){if(A=Lt+De,p=Bt+xe,w=tt,W=Et,$){var kt=$.style;kt&&(kt.left=A+"px",kt.top=p+"px",kt.width=w+"px",kt.height=W+"px",kt.zIndex=ue&&document[ue]||ce?U:null,_.trigger(S.default.CAPTION_CONTAINER_RESIZE))}var en=te.activeCues;if(en)for(var an=en.length,Qt=0;Qt<an;++Qt){var ut=en[Qt];ut.scaleCue(ut)}}}}function ge(te){var Ae,be,Ie,xe,De;if(te.cellResolution){var Fe=[w/te.cellResolution[0],W/te.cellResolution[1]];if(te.linePadding)for(Ae in te.linePadding)if(te.linePadding.hasOwnProperty(Ae)){be=(te.linePadding[Ae]*Fe[0]).toString();for(var Qe=document.getElementsByClassName("spanPadding"),tt=0;tt<Qe.length;tt++)Qe[tt].style.cssText=Qe[tt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+be),Qe[tt].style.cssText=Qe[tt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+be)}if(te.fontSize){for(Ae in te.fontSize)if(te.fontSize.hasOwnProperty(Ae)){"%"===te.fontSize[Ae][0]?Ie=te.fontSize[Ae][1]/100:"c"===te.fontSize[Ae][0]&&(Ie=te.fontSize[Ae][1]),be=(Ie*Fe[1]).toString(),De="defaultFontSize"!==Ae?document.getElementsByClassName(Ae):document.getElementsByClassName("paragraph");for(var Et=0;Et<De.length;Et++)De[Et].style.cssText=De[Et].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+be)}if(te.lineHeight)for(Ae in te.lineHeight)if(te.lineHeight.hasOwnProperty(Ae)){"%"===te.lineHeight[Ae][0]?xe=te.lineHeight[Ae][1]/100:"c"===te.fontSize[Ae][0]&&(xe=te.lineHeight[Ae][1]),be=(xe*Fe[1]).toString(),De=document.getElementsByClassName(Ae);for(var Lt=0;Lt<De.length;Lt++)De[Lt].style.cssText=De[Lt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+be)}}}if(te.isd){var Bt=document.getElementById(te.cueID);Bt&&$.removeChild(Bt),fe(te)}}function fe(te){if($){var J=document.createElement("div");$.appendChild(J),ne=Object(y.renderHTML)(te.isd,J,function(he){var Ae=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,be=/^#(.*)$/;if(Ae.test(he)){var Ie=Ae.exec(he),xe=parseInt(Ie[4],10)-1;return"data:image/png;base64,"+btoa(te.images[xe])}if(be.test(he)){var Ce=be.exec(he);return"data:image/png;base64,"+te.embeddedImages[Ce[1]]}return null},$.clientHeight,$.clientWidth,!1,function(he){d.info("renderCaption :",he)},ne,!0),J.id=te.cueID,_.trigger(S.default.CAPTION_RENDERED,{captionDiv:J,currentTrackIdx:R})}}function ve(te,J,he){var Ae=X(te),be=this;if(Ae&&Array.isArray(he)&&0!==he.length)for(var Ie=0;Ie<he.length;Ie++){var xe=void 0,De=he[Ie];if(Ae.cellResolution=De.cellResolution,Ae.isFromCEA608=De.isFromCEA608,"html"!==De.type||!$||isNaN(De.start)||isNaN(De.end)){if(De.data&&!isNaN(De.start)&&!isNaN(De.end)){if(xe=new L(De.start-J,De.end-J,De.data),De.styles)try{void 0!==De.styles.align&&"align"in xe&&(xe.align=De.styles.align),void 0!==De.styles.line&&"line"in xe&&(xe.line=De.styles.line),void 0!==De.styles.position&&"position"in xe&&(xe.position=De.styles.position),void 0!==De.styles.size&&"size"in xe&&(xe.size=De.styles.size)}catch(Fe){d.error(Fe)}xe.onenter=function(){Ae.mode===B.default.TEXT_SHOWING&&_.trigger(S.default.CAPTION_RENDERED,{currentTrackIdx:R})}}}else(xe=new L(De.start+J,De.end+J,"")).cueHTMLElement=De.cueHTMLElement,xe.isd=De.isd,xe.images=De.images,xe.embeddedImages=De.embeddedImages,xe.cueID=De.cueID,xe.scaleCue=ge.bind(be),xe.cellResolution=De.cellResolution,xe.lineHeight=De.lineHeight,xe.linePadding=De.linePadding,xe.fontSize=De.fontSize,$.style.left=A+"px",$.style.top=p+"px",$.style.width=w+"px",$.style.height=W+"px",xe.onenter=function(){Ae.mode===B.default.TEXT_SHOWING&&(this.isd?(fe(this),d.debug("Cue enter id:"+this.cueID)):($.appendChild(this.cueHTMLElement),ge.call(be,this),_.trigger(S.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:R})))},xe.onexit=function(){if($)for(var Fe=$.childNodes,Ce=0;Ce<Fe.length;++Ce)Fe[Ce].id===this.cueID&&(d.debug("Cue exit id:"+Fe[Ce].id),$.removeChild(Fe[Ce]),--Ce)};try{xe?D(Ae,xe)||Ae.addCue(xe):d.error("impossible to display subtitles.")}catch(Fe){throw H(Ae),Ae.addCue(xe),Fe}}}function X(te){return te>=0&&C[te]?m.getTextTrack(C[te].kind,C[te].id,C[te].lang,C[te].isTTML,C[te].isEmbedded):null}function ee(te){var J=this;if(te!==R){var he=X(R=te);z.call(this,he),Q&&(clearInterval(Q),Q=null),he&&"html"===he.renderingType&&(_e.call(this,he,!0),window.ResizeObserver?(ie=new window.ResizeObserver(function(){_e.call(J,he,!0)})).observe(m.getElement()):Q=setInterval(_e.bind(this,he),500))}}function z(te){G.call(this),te&&"html"===te.renderingType?Re.call(this):me.call(this)}function D(te,J){if(!te.cues)return!1;for(var he=0;he<te.cues.length;he++)if(te.cues[he].startTime===J.startTime&&te.cues[he].endTime===J.endTime)return!0;return!1}function O(te,J,he){var Ae=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(J)||(Ae?te.startTime:te.endTime)>=J)&&(isNaN(he)||(Ae?te.endTime:te.startTime)<=he)}function H(te,J,he){var Ae=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(te.cues)for(var be=te.cues,xe=be.length-1;xe>=0;xe--)O(be[xe],J,he,Ae)&&(be[xe].onexit&&be[xe].onexit(),te.removeCue(be[xe]))}function Re(){var te=document.getElementById("native-cue-style");if(!te){(te=document.createElement("style")).id="native-cue-style",document.head.appendChild(te);var J=te.sheet,he=m.getElement();try{he&&J.insertRule(he.id?"#"+he.id+"::cue {background: transparent}":0!==he.classList.length?"."+he.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(Ae){d.info(""+Ae.message)}}}function me(){var te=document.getElementById("native-cue-style");te&&document.head.removeChild(te)}function G(){if($)for(;$.firstChild;)$.removeChild($.firstChild)}return v={initialize:function le(){typeof window>"u"||typeof navigator>"u"||(L=window.VTTCue||window.TextTrackCue,C=[],I=[],R=-1,A=0,p=0,w=0,W=0,$=null,Q=null,ce=!1,U=2147483647,ne=null,void 0!==document.fullscreenElement?ue="fullscreenElement":void 0!==document.webkitIsFullScreen?ue="webkitIsFullScreen":document.msFullscreenElement?ue="msFullscreenElement":document.mozFullScreen&&(ue="mozFullScreen"))},getStreamId:function de(){return f.id},addTextTrack:function Z(te){C.push(te)},addCaptions:ve,createTracks:function pe(){C.sort(function(De,Fe){return De.index-Fe.index}),$=m.getTTMLRenderingDiv();for(var te=-1,J=0;J<C.length;J++){var he=Ee(C[J]);I.push(he),C[J].defaultTrack&&(he.default=!0,te=J);var Ae=X(J);Ae&&(Ae.mode=B.default.TEXT_SHOWING,Ae.renderingType=$&&(C[J].isTTML||C[J].isEmbedded)?"html":"default"),ve(J,0,C[J].captionData),_.trigger(S.default.TEXT_TRACK_ADDED)}if(ee.call(this,te),te>=0){_.on(S.default.PLAYBACK_METADATA_LOADED,function De(){var Fe=X(te);Fe&&"html"===Fe.renderingType&&_e.call(this,Fe,!0),_.off(S.default.PLAYBACK_METADATA_LOADED,De,this)},this);for(var Ie=0;Ie<C.length;Ie++){var xe=X(Ie);xe&&(xe.mode=Ie===te?B.default.TEXT_SHOWING:B.default.TEXT_HIDDEN)}}_.trigger(M.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:R,tracks:C,streamId:f.id})},getCurrentTrackIdx:function ye(){return R},setCurrentTrackIdx:ee,getTrackIdxForId:function se(te){for(var J=-1,he=0;he<C.length;he++)if(C[he].id===te){J=he;break}return J},getCurrentTrackInfo:function K(){return C[R]},setModeForTrackIdx:function V(te,J){var he=X(te);he&&he.mode!==J&&(he.mode=J)},deleteCuesFromTrackIdx:function j(te,J,he){var Ae=X(te);Ae&&H(Ae,J,he)},deleteAllTextTracks:function oe(){for(var te=I?I.length:0,J=0;J<te;J++){var he=X(J);he&&H.call(this,he,f.start,f.start+f.duration,!1)}I=[],C=[],Q&&(clearInterval(Q),Q=null),ie&&m&&(ie.unobserve(m.getElement()),ie=null),R=-1,G.call(this)},deleteTextTrack:function Te(te){m.removeChild(I[te]),I.splice(te,1)}},function q(){d=Object(h.default)(x).getInstance().getLogger(v)}(),v}F.__dashjs_factory_name="TextTracks",k.default=b.default.getClassFactory(F)},"./src/streaming/thumbnail/ThumbnailController.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/constants/Constants.js"),M=c("./src/streaming/vo/Thumbnail.js"),S=c("./src/streaming/thumbnail/ThumbnailTracks.js"),b=c("./src/streaming/vo/BitrateInfo.js"),h=c("./src/dash/utils/SegmentsUtils.js");function y(E){var x,_,F=this.context,P=E.streamInfo;function C(p){_.setTrackByIndex(p)}function A(){_&&_.reset()}return x={getStreamId:function v(){return P.id},initialize:function f(){_.addTracks();var p=_.getTracks();p&&p.length>0&&C(0)},provide:function d(p,w){if("function"==typeof w){var Q,W=_.getCurrentTrack();if(!W||W.segmentDuration<=0||null==p)return void w(null);(Q=_.getThumbnailRequestForTime(p))&&(W.segmentDuration=Q.duration);var ue=Math.floor(p%W.segmentDuration*W.tilesHor*W.tilesVert/W.segmentDuration),ce=new M.default;if(ce.width=Math.floor(W.widthPerTile),ce.height=Math.floor(W.heightPerTile),ce.x=Math.floor(ue%W.tilesHor)*W.widthPerTile,ce.y=Math.floor(ue/W.tilesHor)*W.heightPerTile,"readThumbnail"in W)return W.readThumbnail(p,function(U){ce.url=U,w(ce)});if(Q)ce.url=Q.url,W.segmentDuration=NaN;else{var ne=Math.floor(p/W.segmentDuration);ce.url=function L(p,w){var W=w+p.startNumber,$=Object(h.replaceTokenForTemplate)(p.templateUrl,"Number",W);return $=Object(h.replaceTokenForTemplate)($,"Time",(W-1)*p.segmentDuration*p.timescale),$=Object(h.replaceTokenForTemplate)($,"Bandwidth",p.bandwidth),Object(h.unescapeDollarsInTemplate)($)}(W,ne)}w(ce)}},setTrackByIndex:C,getCurrentTrackIndex:function I(){return _.getCurrentTrackIndex()},getBitrateList:function R(){var p=_.getTracks(),w=0;return p.map(function(W){var $=new b.default;return $.mediaType=T.default.IMAGE,$.qualityIndex=w++,$.bitrate=W.bitrate,$.width=W.width,$.height=W.height,$})},reset:A},function m(){A(),_=Object(S.default)(F).create({streamInfo:P,adapter:E.adapter,baseURLController:E.baseURLController,timelineConverter:E.timelineConverter,debug:E.debug,eventBus:E.eventBus,events:E.events,dashConstants:E.dashConstants,dashMetrics:E.dashMetrics,segmentBaseController:E.segmentBaseController})}(),x}y.__dashjs_factory_name="ThumbnailController",k.default=B.default.getClassFactory(y)},"./src/streaming/thumbnail/ThumbnailTracks.js":function(we,k,c){"use strict";c.r(k),c.d(k,"THUMBNAILS_SCHEME_ID_URIS",function(){return x});var B=c("./src/streaming/constants/Constants.js"),T=c("./src/dash/constants/DashConstants.js"),M=c("./src/core/FactoryMaker.js"),S=c("./src/streaming/vo/ThumbnailTrackInfo.js"),b=c("./src/streaming/utils/URLUtils.js"),h=c("./src/dash/utils/SegmentsUtils.js"),y=c("./src/streaming/utils/BoxParser.js"),E=c("./src/streaming/net/XHRLoader.js"),F=c("./src/dash/DashHandler.js"),P=c("./src/dash/controllers/SegmentsController.js"),x=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function _(m){var W,$,Q,ue,ce,ne,U,ie,f=this.context,v=m.adapter,d=m.baseURLController,L=m.streamInfo,C=m.timelineConverter,I=m.debug,R=m.eventBus,A=m.events,p=m.dashConstants,w=Object(b.default)(f).getInstance();function de(ye,se){var ee=new S.default;ee.id=ye.id,ee.bitrate=ye.bandwidth,ee.width=ye.width,ee.height=ye.height,ee.tilesHor=1,ee.tilesVert=1,ye.essentialProperties&&ye.essentialProperties.forEach(function(z){if(x.indexOf(z.schemeIdUri)>=0&&z.value){var D=z.value.split("x");2===D.length&&!isNaN(D[0])&&!isNaN(D[1])&&(ee.tilesHor=parseInt(D[0],10),ee.tilesVert=parseInt(D[1],10))}}),se?ne.updateSegmentData(ye).then(function(z){!function Ee(ye,se,ee){var z=[],D=function Z(ye,se){var D,O,H,j,ee=[],z=0;for(D=0,O=ye.segments.length;D<O;D++)H=ye.segments[D],(j=Object(h.getTimeBasedSegment)(C,v.getIsDynamic(),se,H.startTime,H.duration,H.timescale,H.media,H.mediaRange,z))&&(ee.push(j),j=null,z++);return ee}(ee,se);se.segments=D,ye.segmentDuration=se.segments[0].duration,ye.readThumbnail=function(O,H){var j=null;z.some(function(oe){if(oe.start<=O&&oe.end>O)return j=oe.url,!0}),j?H(j):se.segments.some(function(oe){if(oe.mediaStartTime<=O&&oe.mediaStartTime+oe.duration>O){var Te=d.resolve(se.path);return U.load({method:"get",url:Te.url,request:{range:oe.mediaRange,responseType:"arraybuffer"},onload:function(me){var G=ie.getSamplesInfo(me.target.response),V=new Blob([me.target.response.slice(G.sampleList[0].offset,G.sampleList[0].offset+G.sampleList[0].size)],{type:"image/jpeg"}),K=window.URL.createObjectURL(V);z.push({start:oe.mediaStartTime,end:oe.mediaStartTime+oe.duration,url:K}),H&&H(K)}}),!0}})}}(ee,ye,z)}):(ee.startNumber=ye.startNumber,ee.segmentDuration=ye.segmentDuration,ee.timescale=ye.timescale,ee.templateUrl=function pe(ye){var se=w.isRelative(ye.media)?w.resolve(ye.media,d.resolve(ye.path).url):ye.media;return se?Object(h.replaceIDForTemplate)(se,ye.id):""}(ye)),ee.tilesHor>0&&ee.tilesVert>0&&(ee.widthPerTile=ee.width/ee.tilesHor,ee.heightPerTile=ee.height/ee.tilesVert,$.push(ee))}function X(){$=[],ue=-1,ce=null}return W={getTracks:function re(){return $},addTracks:function le(){if(L&&v&&(ce=v.getMediaInfoForType(L,B.default.IMAGE))){var ye=v.getVoRepresentations(ce);ye&&ye.length>0&&ye.forEach(function(se){(se.segmentInfoType===T.default.SEGMENT_TEMPLATE&&se.segmentDuration>0&&se.media||se.segmentInfoType===T.default.SEGMENT_TIMELINE)&&de(se),se.segmentInfoType===T.default.SEGMENT_BASE&&de(se,!0)}),$.length>0&&$.sort(function(se,ee){return se.bitrate-ee.bitrate})}},reset:X,setTrackByIndex:function fe(ye){!$||0===$.length||(ye>=$.length&&(ye=$.length-1),ue=ye)},getCurrentTrack:function ge(){return ue<0?null:$[ue]},getCurrentTrackIndex:function _e(){return ue},getThumbnailRequestForTime:function ve(ye){for(var se,ee=v.getVoRepresentations(ce),z=0;z<ee.length;z++)if($[ue].id===ee[z].id){se=ee[z];break}return Q.getSegmentRequestForTime(ce,se,ye)}},function q(){X(),U=Object(E.default)(f).create({}),ie=Object(y.default)(f).getInstance(),ne=Object(P.default)(f).create({events:A,eventBus:R,streamInfo:L,timelineConverter:C,dashConstants:p,dashMetrics:m.dashMetrics,segmentBaseController:m.segmentBaseController,type:B.default.IMAGE}),(Q=Object(F.default)(f).create({streamInfo:L,type:B.default.IMAGE,timelineConverter:C,segmentsController:ne,baseURLController:d,debug:I,eventBus:R,events:A,dashConstants:p,urlUtils:w})).initialize(!!v&&v.getIsDynamic())}(),W}_.__dashjs_factory_name="ThumbnailTracks",k.default=M.default.getClassFactory(_)},"./src/streaming/utils/BaseURLSelector.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/errors/Errors.js"),T=c("./src/core/EventBus.js"),M=c("./src/core/events/Events.js"),S=c("./src/streaming/controllers/BlacklistController.js"),b=c("./src/streaming/utils/baseUrlResolution/DVBSelector.js"),h=c("./src/streaming/utils/baseUrlResolution/BasicSelector.js"),y=c("./src/core/FactoryMaker.js"),E=c("./src/streaming/vo/DashJSError.js"),F=c("./src/streaming/utils/SupervisorTools.js"),P=c("./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),x=c("./src/core/Settings.js");function _(){var d,L,C,I,R,A,m=this.context,f=Object(T.default)(m).getInstance(),v=Object(x.default)(m).getInstance();function Q(){L.reset()}return d={chooseSelector:function W(ue){Object(F.checkParameterType)(ue,"boolean"),A=ue?I:C},select:function $(ue){if(ue){if(v.get().streaming.applyContentSteering){var ce=R.selectBaseUrlIndex(ue);!isNaN(ce)&&-1!==ce&&(ue.selectedIdx=ce)}if(!isNaN(ue.selectedIdx))return ue.baseUrls[ue.selectedIdx];var ne=A.select(ue.baseUrls);return ne?(ue.selectedIdx=ue.baseUrls.indexOf(ne),ne):(f.trigger(M.default.URL_RESOLUTION_FAILED,{error:new E.default(B.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,B.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(A===C&&Q()))}},reset:Q,setConfig:function w(ue){ue.selector&&(A=ue.selector),ue.contentSteeringSelector&&(R=ue.contentSteeringSelector)}},function p(){L=Object(S.default)(m).create({updateEventName:M.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:M.default.SERVICE_LOCATION_BLACKLIST_ADD}),C=Object(h.default)(m).create({blacklistController:L}),I=Object(b.default)(m).create({blacklistController:L}),(R=Object(P.default)(m).create()).setConfig({blacklistController:L}),A=C}(),d}_.__dashjs_factory_name="BaseURLSelector",k.default=y.default.getClassFactory(_)},"./src/streaming/utils/BoxParser.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/Debug.js"),T=c("./src/streaming/utils/IsoFile.js"),M=c("./src/core/FactoryMaker.js"),S=c("./node_modules/codem-isoboxer/dist/iso_boxer.js"),b=c.n(S),h=c("./src/streaming/vo/IsoBoxSearchInfo.js");function y(){var E,F,P=this.context;function _(R){if(!R)return null;void 0===R.fileStart&&(R.fileStart=0);var A=b.a.parseBuffer(R),p=Object(T.default)(P).create();return p.setData(A),p}function d(R,A){return R[A+3]>>>0|R[A+2]<<8>>>0|R[A+1]<<16>>>0|R[A]<<24>>>0}function L(R,A){return String.fromCharCode(R[A++])+String.fromCharCode(R[A++])+String.fromCharCode(R[A++])+String.fromCharCode(R[A])}return F={parse:_,findLastTopIsoBoxCompleted:function m(R,A,p){if(void 0===p&&(p=0),!A||p+8>=A.byteLength)return new h.default(0,!1);for(var W,w=A instanceof ArrayBuffer?new Uint8Array(A):A,$=0;p<w.byteLength;){var Q=d(w,p),ue=L(w,p+4);if(0===Q)break;p+Q<=w.byteLength&&(R.indexOf(ue)>=0?W=new h.default(p,!0,Q):$=p+Q),p+=Q}return W||new h.default($,!1)},getMediaTimescaleFromMoov:function v(R){var A=_(R),p=A?A.getBox("mdhd"):void 0;return p?p.timescale:NaN},getSamplesInfo:function f(R){if(!R||0===R.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var W,Q,ue,ce,ne,U,ie,q,le,de,Ee,Z,pe,re,_e,ge,A=_(R),p=A.getBoxes("moof"),w=A.getBoxes("mfhd");_e=A.getBoxes("moof").length,re=w[w.length-1].sequence_number,Q=0,ne=[];var fe=-1,ve=-1;for(de=0;de<p.length;de++){var X=p[de],ye=X.getChildBoxes("traf");for(q=0;q<ye.length;q++){var se=ye[q],ee=se.getChildBox("tfhd"),z=se.getChildBox("tfdt");ce=z.baseMediaDecodeTime;var D=se.getChildBoxes("trun"),O=se.getChildBoxes("subs");for(le=0;le<D.length;le++){var H=D[le];for(Q=H.sample_count,pe=(ee.base_data_offset||0)+(H.data_offset||0),ie=0;ie<Q;ie++){var j={dts:ce,cts:ce+(void 0!==(U=H.samples[ie]).sample_composition_time_offset?U.sample_composition_time_offset:0),duration:W=void 0!==U.sample_duration?U.sample_duration:ee.default_sample_duration,offset:X.offset+pe,size:ue=void 0!==U.sample_size?U.sample_size:ee.default_sample_size,subSizes:[ue]};if(O)for(Ee=0;Ee<O.length;Ee++){var oe=O[Ee];if(fe<oe.entry_count-1&&ie>ve&&(fe++,ve+=oe.entries[fe].sample_delta),ie==ve){j.subSizes=[];var Te=oe.entries[fe];for(Z=0;Z<Te.subsample_count;Z++)j.subSizes.push(Te.subsamples[Z].subsample_size)}}ne.push(j),pe+=ue,ce+=W}}ge=ce-z.baseMediaDecodeTime}}return{sampleList:ne,lastSequenceNumber:re,totalDuration:ge,numSequences:_e}},findInitRange:function C(R){var A=null,W=_(R);if(!W)return A;var $=W.getBox("ftyp"),Q=W.getBox("moov");return E.debug("Searching for initialization."),Q&&Q.isComplete&&E.debug("Found the initialization.  Range: "+(A=($?$.offset:Q.offset)+"-"+(Q.offset+Q.size-1))),A},parsePayload:function I(R,A,p){if(void 0===p&&(p=0),!A||p+8>=A.byteLength)return new h.default(0,!1);for(var W,w=A instanceof ArrayBuffer?new Uint8Array(A):A,$=0;p<w.byteLength;){var Q=d(w,p),ue=L(w,p+4);if(0===Q)break;p+Q<=w.byteLength&&(R.indexOf(ue)>=0?W=new h.default(p,!0,Q,ue):$=p+Q),p+=Q}return W||new h.default($,!1)}},function x(){E=Object(B.default)(P).getInstance().getLogger(F)}(),F}y.__dashjs_factory_name="BoxParser",k.default=M.default.getSingletonFactory(y)},"./src/streaming/utils/Capabilities.js":function(we,k,c){"use strict";c.r(k),c.d(k,"supportsMediaSource",function(){return b});var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/thumbnail/ThumbnailTracks.js"),M=c("./src/streaming/constants/Constants.js"),S=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function b(){var y="WebKitMediaSource"in window,E="MediaSource"in window;return y||E}function h(){var y,E,F;return y={setConfig:function x(R){!R||R.settings&&(E=R.settings)},supportsMediaSource:b,supportsEncryptedMedia:function _(){return F},supportsCodec:function f(R,A){return A!==M.default.AUDIO&&A!==M.default.VIDEO?Promise.resolve(!0):function v(R,A){return E.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(R.codec&&A===M.default.AUDIO||A===M.default.VIDEO&&R.codec&&R.width&&R.height&&R.bitrate&&R.framerate)}(R,A)?function L(R,A){return new Promise(function(p){if(R&&R.codec){var w={type:"media-source"};w[A]={},w[A].contentType=R.codec,w[A].width=R.width,w[A].height=R.height,w[A].bitrate=parseInt(R.bitrate),w[A].framerate=parseFloat(R.framerate),navigator.mediaCapabilities.decodingInfo(w).then(function(W){p(W.supported)}).catch(function(){p(!1)})}else p(!1)})}(R,A):function d(R){return new Promise(function(A){if(R&&R.codec){var p=R.codec;R.width&&R.height&&(p+=';width="'+R.width+'";height="'+R.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(p)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(p)?A(!0):A(!1)}else A(!1)})}(R)},setEncryptedMediaSupported:function m(R){F=R},supportsEssentialProperty:function C(R){try{return-1!==T.THUMBNAILS_SCHEME_ID_URIS.indexOf(R.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function I(R,A){for(var W,p=R.split(".")[0],w=0===A.indexOf(p),$=0;$<S.length;$++)if(S[$].codec===p){W=S[$];break}return W?w||W.compatibleCodecs.some(function(Q){return 0===A.indexOf(Q)}):w}},function P(){F=!1}(),y}h.__dashjs_factory_name="Capabilities",k.default=B.default.getSingletonFactory(h)},"./src/streaming/utils/CapabilitiesFilter.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M=c("./src/streaming/constants/Constants.js"),S=c("./src/core/EventBus.js"),b=c("./src/core/events/Events.js");function h(){var F,P,x,_,m,f,y=this.context,E=Object(S.default)(y).getInstance();function C(Q,ue){if(!ue||!ue.Period_asArray||0===ue.Period_asArray.length)return Promise.resolve();var ce=[];return ue.Period_asArray.forEach(function(ne){ce.push(function I(Q,ue){return new Promise(function(ce){if(Q&&Q.AdaptationSet_asArray&&0!==Q.AdaptationSet_asArray.length){var ne=[];Q.AdaptationSet_asArray.forEach(function(U){P.getIsTypeOf(U,ue)&&ne.push(function R(Q,ue){return new Promise(function(ce){if(Q.Representation_asArray&&0!==Q.Representation_asArray.length){var ne=[],U=[];Q.Representation_asArray.forEach(function(ie,q){var le=P.getCodec(Q,q,!1),de=function A(Q,ue,ce){switch(Q){case M.default.VIDEO:return function p(Q,ue){return{codec:ue,width:Q.width||null,height:Q.height||null,framerate:Q.frameRate||null,bitrate:Q.bandwidth||null}}(ue,ce);case M.default.AUDIO:return function w(Q,ue){return{codec:ue,bitrate:Q.bandwidth||null,samplerate:Q.audioSamplingRate||null}}(ue,ce);default:return null}}(ue,ie,le);U.push(de),ne.push(x.supportsCodec(de,ue))}),Promise.all(ne).then(function(ie){Q.Representation_asArray=Q.Representation_asArray.filter(function(q,le){return ie[le]||f.debug("[Stream] Codec ".concat(U[le].codec," not supported ")),ie[le]}),ce()}).catch(function(){ce()})}else ce()})}(U,ue))}),Promise.all(ne).then(function(){Q.AdaptationSet_asArray=Q.AdaptationSet_asArray.filter(function(U){var ie=U.Representation_asArray&&U.Representation_asArray.length>0;return ie||(E.trigger(b.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:U}),f.warn("AdaptationSet has been removed because of no supported Representation")),ie}),ce()}).catch(function(){ce()})}else ce()})}(ne,Q))}),Promise.all(ce)}return F={setConfig:function d(Q){!Q||(Q.adapter&&(P=Q.adapter),Q.capabilities&&(x=Q.capabilities),Q.settings&&(_=Q.settings),Q.customParametersModel&&(m=Q.customParametersModel))},filterUnsupportedFeatures:function L(Q){return new Promise(function(ue){var ce=[];ce.push(C(M.default.VIDEO,Q)),ce.push(C(M.default.AUDIO,Q)),Promise.all(ce).then(function(){_.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function W(Q){!Q||!Q.Period_asArray||0===Q.Period_asArray.length||Q.Period_asArray.forEach(function(ue){ue.AdaptationSet_asArray=ue.AdaptationSet_asArray.filter(function(ce){return!ce.Representation_asArray||0===ce.Representation_asArray.length||(ce.Representation_asArray=ce.Representation_asArray.filter(function(ne){var U=P.getEssentialPropertiesForRepresentation(ne);if(U&&U.length>0)for(var ie=0;ie<U.length;){if(!x.supportsEssentialProperty(U[ie]))return f.debug("[Stream] EssentialProperty not supported: "+U[ie].schemeIdUri),!1;ie+=1}return!0}),ce.Representation_asArray&&ce.Representation_asArray.length>0)})})}(Q),function $(Q){var ue=m.getCustomCapabilitiesFilters();!ue||0===ue.length||!Q||!Q.Period_asArray||0===Q.Period_asArray.length||Q.Period_asArray.forEach(function(ce){ce.AdaptationSet_asArray=ce.AdaptationSet_asArray.filter(function(ne){return!ne.Representation_asArray||0===ne.Representation_asArray.length||(ne.Representation_asArray=ne.Representation_asArray.filter(function(U){return!ue.some(function(ie){return!ie(U)})}),ne.Representation_asArray&&ne.Representation_asArray.length>0)})})}(Q),ue()}).catch(function(){ue()})})}},function v(){f=Object(T.default)(y).getInstance().getLogger(F)}(),F}h.__dashjs_factory_name="CapabilitiesFilter",k.default=B.default.getSingletonFactory(h)},"./src/streaming/utils/CustomTimeRanges.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/utils/SupervisorTools.js");function M(){return{customTimeRangeArray:[],length:0,add:function h(_,m){var f=0;for(f=0;f<this.customTimeRangeArray.length&&_>this.customTimeRangeArray[f].start;f++);for(this.customTimeRangeArray.splice(f,0,{start:_,end:m}),f=0;f<this.customTimeRangeArray.length-1;f++)this.mergeRanges(f,f+1)&&f--;this.length=this.customTimeRangeArray.length},clear:function y(){this.customTimeRangeArray=[],this.length=0},remove:function E(_,m){for(var f=0;f<this.customTimeRangeArray.length;f++)if(_<=this.customTimeRangeArray[f].start&&m>=this.customTimeRangeArray[f].end)this.customTimeRangeArray.splice(f,1),f--;else{if(_>this.customTimeRangeArray[f].start&&m<this.customTimeRangeArray[f].end){this.customTimeRangeArray.splice(f+1,0,{start:m,end:this.customTimeRangeArray[f].end}),this.customTimeRangeArray[f].end=_;break}_>this.customTimeRangeArray[f].start&&_<this.customTimeRangeArray[f].end?this.customTimeRangeArray[f].end=_:m>this.customTimeRangeArray[f].start&&m<this.customTimeRangeArray[f].end&&(this.customTimeRangeArray[f].start=m)}this.length=this.customTimeRangeArray.length},mergeRanges:function F(_,m){var f=this.customTimeRangeArray[_],v=this.customTimeRangeArray[m];return f.start<=v.start&&v.start<=f.end&&f.end<=v.end?(f.end=v.end,this.customTimeRangeArray.splice(m,1),!0):v.start<=f.start&&f.start<=v.end&&v.end<=f.end?(f.start=v.start,this.customTimeRangeArray.splice(m,1),!0):v.start<=f.start&&f.start<=v.end&&f.end<=v.end?(this.customTimeRangeArray.splice(_,1),!0):f.start<=v.start&&v.start<=f.end&&v.end<=f.end&&(this.customTimeRangeArray.splice(m,1),!0)},start:function P(_){return Object(T.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].start},end:function x(_){return Object(T.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].end}}}M.__dashjs_factory_name="CustomTimeRanges",k.default=B.default.getClassFactory(M)},"./src/streaming/utils/DOMStorage.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M=c("./src/streaming/constants/Constants.js"),S=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],b="dashjs_?_bitrate",h="dashjs_?_settings",y="localStorage",F="lastBitrate",P="lastMediaSettings";function x(m){var d,L,C,f=this.context,v=(m=m||{}).settings;function R(ne){if(void 0!==C)return C;C=!1;var q;try{typeof window<"u"&&(q=window[ne])}catch(le){return L.warn("DOMStorage access denied: "+le.message),C}if(!q||ne!==y&&"sessionStorage"!==ne)return C;try{q.setItem("1","1"),q.removeItem("1"),C=!0}catch(le){L.warn("DOMStorage is supported, but cannot be used: "+le.message)}return C}function p(){return 6e5*Math.round((new Date).getTime()/6e5)}function w(ne,U){return R(ne)&&v.get().streaming[U+"CachingInfo"].enabled}function W(){if(!v)throw new Error(M.default.MISSING_CONFIG_ERROR)}return d={getSavedBitrateSettings:function Q(ne){if(W(),!v.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var U=NaN;if(w(y,F)){var ie=b.replace(/\?/,ne);try{var q=JSON.parse(localStorage.getItem(ie))||{},le=(new Date).getTime()-parseInt(q.timestamp,10)>=v.get().streaming.lastBitrateCachingInfo.ttl||!1,de=parseFloat(q.bitrate);isNaN(de)||le?le&&localStorage.removeItem(ie):(U=de,L.debug("Last saved bitrate for "+ne+" was "+de))}catch{return null}}return U},setSavedBitrateSettings:function ce(ne,U){if(w(y,F)&&U){var ie=b.replace(/\?/,ne);try{localStorage.setItem(ie,JSON.stringify({bitrate:U.toFixed(3),timestamp:p()}))}catch(q){L.error(q.message)}}},getSavedMediaSettings:function $(ne){if(W(),!v.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var U=null;if(w(y,P)){var ie=h.replace(/\?/,ne);try{var q=JSON.parse(localStorage.getItem(ie))||{},le=(new Date).getTime()-parseInt(q.timestamp,10)>=v.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;U=q.settings,le&&(localStorage.removeItem(ie),U=null)}catch{return null}}return U},setSavedMediaSettings:function ue(ne,U){if(w(y,P)){var ie=h.replace(/\?/,ne);try{localStorage.setItem(ie,JSON.stringify({settings:U,timestamp:p()}))}catch(q){L.error(q.message)}}}},function I(){L=Object(T.default)(f).getInstance().getLogger(d),function A(){R(y)&&S.forEach(function(ne){var U=localStorage.getItem(ne.oldKey);if(U){localStorage.removeItem(ne.oldKey);try{localStorage.setItem(ne.newKey,U)}catch(ie){L.error(ie.message)}}})}()}(),d}x.__dashjs_factory_name="DOMStorage";var _=B.default.getSingletonFactory(x);k.default=_},"./src/streaming/utils/DefaultURLUtils.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(){var M,S=/^[a-z][a-z0-9+\-_.]*:/i,b=/^https?:\/\//i,h=/^https:\/\//i,y=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,E=function(w,W){try{return new window.URL(w,W).toString()}catch{return w}},F=function(w,W){var $=x;if(!W||!v(w))return w;d(w)&&($=_),L(w)&&($=f);var Q=$(W),ue="/"!==Q.charAt(Q.length-1)&&"/"!==w.charAt(0)?"/":"";return[Q,w].join(ue)};function x(p){var w=p.indexOf("/"),W=p.lastIndexOf("/");return-1!==w?W===w+1?p:(-1!==p.indexOf("?")&&(p=p.substring(0,p.indexOf("?"))),p.substring(0,W+1)):""}function _(p){var w=p.match(y);return w?w[1]:""}function f(p){var w=p.match(S);return w?w[0]:""}function v(p){return!S.test(p)}function d(p){return v(p)&&"/"===p.charAt(0)}function L(p){return 0===p.indexOf("//")}return function P(){try{new window.URL("x","http://y"),M=E}catch{}finally{M=M||F}}(),{parseBaseUrl:x,parseOrigin:_,parseScheme:f,isRelative:v,isPathAbsolute:d,isSchemeRelative:L,isHTTPURL:function C(p){return b.test(p)},isHTTPS:function I(p){return h.test(p)},removeHostname:function m(p){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(p)[2].substring(1)},resolve:function R(p,w){return M(p,w)}}}T.__dashjs_factory_name="DefaultURLUtils",k.default=B.default.getSingletonFactory(T)},"./src/streaming/utils/EBMLParser.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(M){M=M||{};var S,b=new DataView(M.data),h=0;function F(L,C){var I=!0,R=0;if(void 0===C&&(C=!1),L.tag>16777215?(b.getUint32(h)!==L.tag&&(I=!1),R=4):L.tag>65535?(256*b.getUint16(h)+b.getUint8(h+2)!==L.tag&&(I=!1),R=3):L.tag>255?(b.getUint16(h)!==L.tag&&(I=!1),R=2):(b.getUint8(h)!==L.tag&&(I=!1),R=1),!I&&L.required&&!C)throw new Error("required tag not found");return I&&(h+=R),I}function m(L){var C=1,I=128,A=-1,p=0,w=b.getUint8(h),W=0;for(W=0;W<8;W+=1){if((w&I)===I){p=void 0===L?w&~I:w,A=W;break}I>>=1}for(W=0;W<A;W+=1,C+=1)p=p<<8|255&b.getUint8(h+C);return h+=C,p}return S={getPos:function y(){return h},setPos:function E(L){h=L},consumeTag:F,consumeTagAndSize:function P(L,C){var I=F(L,C);return I&&m(),I},parseTag:function x(L){var C;return F(L),C=m(),S[L.parse](C)},skipOverElement:function _(L,C){var R,I=F(L,C);return I&&(R=m(),h+=R),I},getMatroskaCodedNum:m,getMatroskaFloat:function f(L){var C;switch(L){case 4:C=b.getFloat32(h),h+=4;break;case 8:C=b.getFloat64(h),h+=8}return C},getMatroskaUint:function v(L){for(var C=0,I=0;I<L;I+=1)C<<=8,C|=255&b.getUint8(h+I);return h+=L,C},moreData:function d(){return h<b.byteLength}}}T.__dashjs_factory_name="EBMLParser",k.default=B.default.getClassFactory(T)},"./src/streaming/utils/ErrorHandler.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/EventBus.js"),T=c("./src/core/events/Events.js"),M=c("./src/core/FactoryMaker.js");function S(){var h=this.context,y=Object(B.default)(h).getInstance();return{error:function E(F){y.trigger(T.default.ERROR,{error:F})}}}S.__dashjs_factory_name="ErrorHandler",k.default=M.default.getSingletonFactory(S)},"./src/streaming/utils/InitCache.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(){var M={};return{save:function S(E){var F=E.streamId,P=E.representationId;M[F]=M[F]||{},M[F][P]=E},extract:function b(E,F){return M&&M[E]&&M[E][F]?M[E][F]:null},reset:function h(){M={}}}}T.__dashjs_factory_name="InitCache",k.default=B.default.getSingletonFactory(T)},"./src/streaming/utils/IsoFile.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/vo/IsoBox.js"),T=c("./src/core/FactoryMaker.js");function M(){var b;function y(x){var _=[];if(!x||!b||"function"!=typeof b.fetchAll)return _;for(var f,m=b.fetchAll(x),v=0,d=m.length;v<d;v++)(f=P(m[v]))&&_.push(f);return _}function P(x){if(!x)return null;var _=new B.default(x);return x.hasOwnProperty("_incomplete")&&(_.isComplete=!x._incomplete),_}return{getBox:function h(x){return x&&b&&b.boxes&&0!==b.boxes.length&&"function"==typeof b.fetch?P(b.fetch(x)):null},getBoxes:y,setData:function E(x){b=x},getLastBox:function F(){if(!b||!b.boxes||!b.boxes.length)return null;var _=y(b.boxes[b.boxes.length-1].type);return _.length>0?_[_.length-1]:null}}}M.__dashjs_factory_name="IsoFile",k.default=T.default.getClassFactory(M)},"./src/streaming/utils/ObjectUtils.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./node_modules/fast-deep-equal/index.js"),M=c.n(T);function S(){return{areEqual:function h(y,E){return M()(y,E)}}}S.__dashjs_factory_name="ObjectUtils",k.default=B.default.getSingletonFactory(S)},"./src/streaming/utils/RequestModifier.js":function(we,k,c){"use strict";c.r(k),c.d(k,"modifyRequest",function(){return T});var B=c("./src/core/FactoryMaker.js");function T(S,b){var h={url:S.url,method:S.method,headers:Object.assign({},S.headers),credentials:S.withCredentials?"include":void 0};return Promise.resolve(b.modifyRequest(h)).then(function(){return Object.assign(S,h,{withCredentials:"include"===h.credentials})})}function M(){return{modifyRequest:null,modifyRequestURL:function b(y){return y},modifyRequestHeader:function h(y,E){return y}}}M.__dashjs_factory_name="RequestModifier",k.default=B.default.getSingletonFactory(M)},"./src/streaming/utils/SupervisorTools.js":function(we,k,c){"use strict";c.r(k),c.d(k,"checkParameterType",function(){return M}),c.d(k,"checkInteger",function(){return S}),c.d(k,"checkRange",function(){return b}),c.d(k,"checkIsVideoOrAudioType",function(){return h});var B=c("./src/streaming/constants/Constants.js");function T(y){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(y)}function M(y,E){if(T(y)!==E)throw B.default.BAD_ARGUMENT_ERROR}function S(y){if(null===y||isNaN(y)||y%1!=0)throw B.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function b(y,E,F){if(y<E||y>F)throw B.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function h(y){if("string"!=typeof y||y!==B.default.AUDIO&&y!==B.default.VIDEO)throw B.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js"),M=c("./src/core/EventBus.js"),S=c("./src/core/events/Events.js"),b=c("./node_modules/imsc/src/main/js/main.js"),y=c("./src/streaming/MediaPlayerEvents.js"),E=c("./src/streaming/constants/ConformanceViolationConstants.js");function F(){var _,m,P=this.context,x=Object(M.default)(P).getInstance(),f=0;function d(){var C="cue_TTML_"+f;return f++,C}return _={parse:function L(C,I,R,A,p){var $,Q,ue,w="",W=[],ce={},ne={},U="",ie="",q={onOpenTag:function(pe,re,_e){if(_e[" imagetype"]&&!_e[" imageType"]&&(x.trigger(y.default.CONFORMANCE_VIOLATION,{level:E.default.LEVELS.ERROR,event:E.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),_e[" imageType"]=_e[" imagetype"]),"image"===re&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===pe||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===pe)){if(!_e[" imageType"]||"PNG"!==_e[" imageType"].value)return void m.warn("smpte-tt imageType != PNG. Discarded");U=_e["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){U&&(ne[U]=ie.trim()),ie="",U=""},onText:function(pe){U&&(ie+=pe)}};if(!C)throw w="no ttml data to parse",new Error(w);ce.data=C,x.trigger(S.default.TTML_TO_PARSE,ce);var le=Object(b.fromXML)(ce.data,function(Z){w=Z},q);x.trigger(S.default.TTML_PARSED,{ttmlString:ce.data,ttmlDoc:le});var de=le.getMediaTimeEvents();for(ue=0;ue<de.length;ue++){var Ee=Object(b.generateISD)(le,de[ue],function(Z){w=Z});Ee.contents.some(function(Z){return Z.contents.length})&&($=de[ue]+I<R?R:de[ue]+I)<(Q=de[ue+1]+I>A?A:de[ue+1]+I)&&W.push({start:$,end:Q,type:"html",cueID:d(),isd:Ee,images:p,embeddedImages:ne})}if(""!==w)throw m.error(w),new Error(w);return W}},function v(){m=Object(T.default)(P).getInstance().getLogger(_)}(),_}F.__dashjs_factory_name="TTMLParser",k.default=B.default.getSingletonFactory(F)},"./src/streaming/utils/URLUtils.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/streaming/utils/DefaultURLUtils.js");function M(){var h,y=[],E=this.context;function _(w,W,$){var Q=function F(w){var W;for(W=0;W<y.length;W++)if(y[W].regex.test(w))return y[W].utils;return h}($||W);return Q&&"function"==typeof Q[w]?Q[w](W,$):h[w](W,$)}return function P(){h=Object(T.default)(E).getInstance()}(),{registerUrlRegex:function x(w,W){y.push({regex:w,utils:W})},parseBaseUrl:function m(w){return _("parseBaseUrl",w)},parseOrigin:function f(w){return _("parseOrigin",w)},parseScheme:function d(w){return _("parseScheme",w)},isRelative:function L(w){return _("isRelative",w)},isPathAbsolute:function C(w){return _("isPathAbsolute",w)},isSchemeRelative:function I(w){return _("isSchemeRelative",w)},isHTTPURL:function R(w){return _("isHTTPURL",w)},isHTTPS:function A(w){return _("isHTTPS",w)},removeHostname:function v(w){return _("removeHostname",w)},resolve:function p(w,W){return _("resolve",w,W)}}}M.__dashjs_factory_name="URLUtils";var S=B.default.getSingletonFactory(M);k.default=S},"./src/streaming/utils/VTTParser.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/core/Debug.js");function S(){var h,y,E,F,P,x,b=this.context;function f(C){var I=C.split(":"),R=I.length-1;return C=60*parseInt(I[R-1],10)+parseFloat(I[R]),2===R&&(C+=3600*parseInt(I[0],10)),C}function v(C){var I=C.split(F),R=I[1].split(x);return R.shift(),I[1]=R[0],R.shift(),{cuePoints:I,styles:d(R)}}function d(C){var I={};return C.forEach(function(R){if(R.split(/:/).length>1){var A=R.split(/:/)[1];A&&-1!=A.search(/%/)&&(A=parseInt(A.replace(/%/,""),10)),(R.match(/align/)||R.match(/A/))&&(I.align=A),(R.match(/line/)||R.match(/L/))&&(I.line=A),(R.match(/position/)||R.match(/P/))&&(I.position=A),(R.match(/size/)||R.match(/S/))&&(I.size=A)}}),I}function L(C,I){for(var w,R=I,A="",p="";""!==C[R]&&R<C.length;)R++;if((w=R-I)>1)for(var W=0;W<w;W++){if((p=C[I+W]).match(F)){A="";break}A+=p,W!==w-1&&(A+="\n")}else(p=C[I]).match(F)||(A=p);return A}return h={parse:function m(C){var R,A,I=[];if(!C)return I;R=(C=C.split(E)).length,A=-1;for(var p=0;p<R;p++){var w=C[p];if(w.length>0&&"WEBVTT"!==w&&w.match(F)){var W=v(w),$=W.cuePoints,Q=W.styles,ue=L(C,p+1),ce=f($[0].replace(P,"")),ne=f($[1].replace(P,""));!isNaN(ce)&&!isNaN(ne)&&ce>=A&&ne>ce?""!==ue?(A=ce,I.push({start:ce,end:ne,data:ue,styles:Q})):y.error("Skipping cue due to empty/malformed cue text"):y.error("Skipping cue due to incorrect cue timing")}}return I}},function _(){y=Object(T.default)(b).getInstance().getLogger(h),E=/(?:\r\n|\r|\n)/gm,F=/-->/,P=/(^[\s]+|[\s]+$)/g,x=/\s\b/g}(),h}S.__dashjs_factory_name="VTTParser",k.default=B.default.getSingletonFactory(S)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(M){var b=(M=M||{}).blacklistController;return{select:function h(y){var F,E=0;return y&&y.some(function(P,x){return E=x,!b.contains(P.serviceLocation)})&&(F=y[E]),F}}}T.__dashjs_factory_name="BasicSelector",k.default=B.default.getClassFactory(T)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js"),T=c("./src/dash/controllers/ContentSteeringController.js");function M(){var b,h,y,S=this.context;function x(){for(var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],f=0,v=NaN,d=function(){var I=_[f],R=m.findIndex(function(A){return A.serviceLocation&&A.serviceLocation===I});if(-1!==R&&!y.contains(m[R].serviceLocation))return v=R,"break";f+=1};f<_.length&&"break"!==d(););return v}return b={selectBaseUrlIndex:function P(_){var m=NaN;if(isNaN(_.selectedIdx)){var f=h.getSteeringDataFromManifest();f&&f.defaultServiceLocation&&(m=x([f.defaultServiceLocation],_.baseUrls))}var v=h.getCurrentSteeringResponseData();return _.baseUrls&&_.baseUrls.length&&v&&v.serviceLocationPriority&&v.serviceLocationPriority.length&&(m=x(v.serviceLocationPriority,_.baseUrls)),m},setConfig:function F(_){_.blacklistController&&(y=_.blacklistController),_.contentSteeringController&&(h=_.contentSteeringController)}},function E(){h=Object(T.default)(S).getInstance()}(),b}M.__dashjs_factory_name="ContentSteeringSelector",k.default=B.default.getClassFactory(M)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/core/FactoryMaker.js");function T(M){var b=(M=M||{}).blacklistController;return{select:function E(F){return F&&function y(F){var v,d,_=0,m=[],f=0;if((d=F.sort(function(C,I){var R=C.dvb_priority-I.dvb_priority;return isNaN(R)?0:R}).filter(function(C,I,R){return!I||R[0].dvb_priority&&C.dvb_priority&&R[0].dvb_priority===C.dvb_priority})).length)return d.length>1&&(d.forEach(function(L){m.push(_+=L.dvb_weight)}),v=Math.floor(Math.random()*(_-1)),m.every(function(L,C){return f=C,!(v<L)})),d[f]}(function h(F){var P=[];return F.filter(function(f){return!b.contains(f.serviceLocation)||(f.dvb_priority&&P.push(f.dvb_priority),!1)}).filter(function(f){return!(P.length&&f.dvb_priority&&-1!==P.indexOf(f.dvb_priority))})}(F))}}}T.__dashjs_factory_name="DVBSelector",k.default=B.default.getClassFactory(T)},"./src/streaming/vo/BitrateInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN}},"./src/streaming/vo/DashJSError.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b,h){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.code=S||null,this.message=b||null,this.data=h||null}},"./src/streaming/vo/DataChunk.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null}},"./src/streaming/vo/FragmentRequest.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/vo/metrics/HTTPRequest.js");function M(h,y){for(var E=0;E<y.length;E++){var F=y[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}var b=function(){function h(y){(function T(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.action=h.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=y||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function S(h,y,E){return y&&M(h.prototype,y),E&&M(h,E),h}(h,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===B.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(E){this.type=E&&E.init?B.HTTPRequest.INIT_SEGMENT_TYPE:B.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=E&&E.url?E.url:null,this.range=E&&E.range?E.range.start+"-"+E.range.end:null,this.mediaType=E&&E.mediaType?E.mediaType:null}}]),h}();b.ACTION_DOWNLOAD="download",b.ACTION_COMPLETE="complete",k.default=b},"./src/streaming/vo/HeadRequest.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/vo/FragmentRequest.js");function T(_){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(_)}function S(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&b(_,m)}function b(_,m){return(b=Object.setPrototypeOf||function(v,d){return v.__proto__=d,v})(_,m)}function h(_){var m=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,v=P(_);if(m){var L=P(this).constructor;d=Reflect.construct(v,arguments,L)}else d=v.apply(this,arguments);return y(this,d)}}function y(_,m){return!m||"object"!==T(m)&&"function"!=typeof m?function E(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(_):m}function P(_){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(_)}k.default=function(_){S(f,_);var m=h(f);function f(v){var d;return function M(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,f),(d=m.call(this,v)).checkForExistenceOnly=!0,d}return f}(B.default)},"./src/streaming/vo/IsoBox.js":function(we,k,c){"use strict";function T(b,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(b,E.key,E)}}c.r(k),k.default=function(){function b(h){if(function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,b),this.offset=h._offset,this.type=h.type,this.size=h.size,this.boxes=[],h.boxes)for(var y=0;y<h.boxes.length;y++)this.boxes.push(new b(h.boxes[y]));switch(this.isComplete=!0,h.type){case"sidx":if(this.timescale=h.timescale,this.earliest_presentation_time=h.earliest_presentation_time,this.first_offset=h.first_offset,this.references=h.references,h.references){this.references=[];for(var E=0;E<h.references.length;E++)this.references.push({reference_type:h.references[E].reference_type,referenced_size:h.references[E].referenced_size,subsegment_duration:h.references[E].subsegment_duration})}break;case"emsg":this.id=h.id,this.version=1===h.version?1:0,this.value=h.value,this.timescale=h.timescale,this.scheme_id_uri=h.scheme_id_uri,this.presentation_time_delta=1===h.version?h.presentation_time:h.presentation_time_delta,this.event_duration=h.event_duration,this.message_data=h.message_data;break;case"mdhd":this.timescale=h.timescale;break;case"mfhd":this.sequence_number=h.sequence_number;break;case"subs":this.entry_count=h.entry_count,this.entries=h.entries;break;case"tfhd":this.base_data_offset=h.base_data_offset,this.sample_description_index=h.sample_description_index,this.default_sample_duration=h.default_sample_duration,this.default_sample_size=h.default_sample_size,this.default_sample_flags=h.default_sample_flags,this.flags=h.flags;break;case"tfdt":this.version=h.version,this.baseMediaDecodeTime=h.baseMediaDecodeTime,this.flags=h.flags;break;case"trun":if(this.sample_count=h.sample_count,this.first_sample_flags=h.first_sample_flags,this.data_offset=h.data_offset,this.flags=h.flags,this.samples=h.samples,h.samples){this.samples=[];for(var P=0,x=h.samples.length;P<x;P++)this.samples.push({sample_size:h.samples[P].sample_size,sample_duration:h.samples[P].sample_duration,sample_composition_time_offset:h.samples[P].sample_composition_time_offset})}}}return function M(b,h,y){return h&&T(b.prototype,h),y&&T(b,y),b}(b,[{key:"getChildBox",value:function(y){for(var E=0;E<this.boxes.length;E++)if(this.boxes[E].type===y)return this.boxes[E]}},{key:"getChildBoxes",value:function(y){for(var E=[],F=0;F<this.boxes.length;F++)this.boxes[F].type===y&&E.push(this.boxes[F]);return E}}]),b}()},"./src/streaming/vo/IsoBoxSearchInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(S,b,h){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.lastCompletedOffset=S,this.found=b,this.size=h}},"./src/streaming/vo/MetricsList.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]}},"./src/streaming/vo/TextRequest.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/Constants.js"),T=c("./src/streaming/vo/FragmentRequest.js");function M(m){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function b(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),f&&h(m,f)}function h(m,f){return(h=Object.setPrototypeOf||function(d,L){return d.__proto__=L,d})(m,f)}function y(m){var f=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,d=x(m);if(f){var C=x(this).constructor;L=Reflect.construct(d,arguments,C)}else L=d.apply(this,arguments);return E(this,L)}}function E(m,f){return!f||"object"!==M(f)&&"function"!=typeof f?function F(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):f}function x(m){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(m)}k.default=function(m){b(v,m);var f=y(v);function v(d,L){var C;return function S(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}(this,v),(C=f.call(this)).url=d||null,C.type=L||null,C.mediaType=B.default.STREAM,C.responseType="",C}return v}(T.default)},"./src/streaming/vo/TextTrackInfo.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/dash/vo/MediaInfo.js");function T(_){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(_)}function S(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&b(_,m)}function b(_,m){return(b=Object.setPrototypeOf||function(v,d){return v.__proto__=d,v})(_,m)}function h(_){var m=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,v=P(_);if(m){var L=P(this).constructor;d=Reflect.construct(v,arguments,L)}else d=v.apply(this,arguments);return y(this,d)}}function y(_,m){return!m||"object"!==T(m)&&"function"!=typeof m?function E(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(_):m}function P(_){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(_)}k.default=function(_){S(f,_);var m=h(f);function f(){var v;return function M(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,f),(v=m.call(this)).captionData=null,v.label=null,v.defaultTrack=!1,v.kind=null,v.isFragmented=!1,v.isEmbedded=!1,v.isTTML=null,v}return f}(B.default)},"./src/streaming/vo/Thumbnail.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null}},"./src/streaming/vo/ThumbnailTrackInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},"./src/streaming/vo/URIFragmentData.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null}},"./src/streaming/vo/metrics/BufferLevel.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.t=null,this.level=null}},"./src/streaming/vo/metrics/BufferState.js":function(we,k,c){"use strict";c.r(k);var B=c("./src/streaming/constants/MetricsConstants.js");k.default=function S(){(function T(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")})(this,S),this.target=null,this.state=B.default.BUFFER_EMPTY}},"./src/streaming/vo/metrics/DVRInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.time=null,this.range=null,this.manifestInfo=null}},"./src/streaming/vo/metrics/DroppedFrames.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.time=null,this.droppedFrames=null}},"./src/streaming/vo/metrics/HTTPRequest.js":function(we,k,c){"use strict";function B(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}c.r(k),c.d(k,"HTTPRequest",function(){return T}),c.d(k,"HTTPRequestTrace",function(){return M});var T=function S(){B(this,S),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},M=function S(){B(this,S),this.s=null,this.d=null,this.b=[]};T.GET="GET",T.HEAD="HEAD",T.MPD_TYPE="MPD",T.XLINK_EXPANSION_TYPE="XLinkExpansion",T.INIT_SEGMENT_TYPE="InitializationSegment",T.INDEX_SEGMENT_TYPE="IndexSegment",T.MEDIA_SEGMENT_TYPE="MediaSegment",T.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",T.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",T.DVB_REPORTING_TYPE="DVBReporting",T.LICENSE="license",T.CONTENT_STEERING_TYPE="ContentSteering",T.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":function(we,k,c){"use strict";function B(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}c.r(k),c.d(k,"ManifestUpdate",function(){return T}),c.d(k,"ManifestUpdateStreamInfo",function(){return M}),c.d(k,"ManifestUpdateRepresentationInfo",function(){return S});var T=function b(){B(this,b),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},M=function b(){B(this,b),this.id=null,this.index=null,this.start=null,this.duration=null},S=function b(){B(this,b),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},"./src/streaming/vo/metrics/PlayList.js":function(we,k,c){"use strict";function B(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}c.r(k),c.d(k,"PlayList",function(){return T}),c.d(k,"PlayListTrace",function(){return M});var T=function S(){B(this,S),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};T.INITIAL_PLAYOUT_START_REASON="initial_playout",T.SEEK_START_REASON="seek",T.RESUME_FROM_PAUSE_START_REASON="resume",T.METRICS_COLLECTION_START_REASON="metrics_collection_start";var M=function S(){B(this,S),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};M.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",M.REBUFFERING_REASON="rebuffering",M.USER_REQUEST_STOP_REASON="user_request",M.END_OF_PERIOD_STOP_REASON="end_of_period",M.END_OF_CONTENT_STOP_REASON="end_of_content",M.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",M.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.t=null,this.mt=null,this.to=null,this.lto=null}},"./src/streaming/vo/metrics/RequestsQueue.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.loadingRequests=[],this.executedRequests=[]}},"./src/streaming/vo/metrics/SchedulingInfo.js":function(we,k,c){"use strict";c.r(k),k.default=function M(){(function B(M,S){if(!(M instanceof S))throw new TypeError("Cannot call a class as a function")})(this,M),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null}},0:function(we,k){},1:function(we,k){}}).default},37:()=>{var Ms,we;we=Ms||(Ms={}),function(k){var c="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),B=T(we);function T(M,S){return function(b,h){"function"!=typeof M[b]&&Object.defineProperty(M,b,{configurable:!0,writable:!0,value:h}),S&&S(b,h)}}typeof c.Reflect>"u"?c.Reflect=we:B=T(c.Reflect,B),function(k){var c=Object.prototype.hasOwnProperty,B="function"==typeof Symbol,T=B&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",M=B&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",S="function"==typeof Object.create,b={__proto__:[]}instanceof Array,h=!S&&!b,y={create:S?function(){return V(Object.create(null))}:b?function(){return V({__proto__:null})}:function(){return V({})},has:h?function(K,te){return c.call(K,te)}:function(K,te){return te in K},get:h?function(K,te){return c.call(K,te)?K[te]:void 0}:function(K,te){return K[te]}},E=Object.getPrototypeOf(Function),F="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,P=F||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Re(){var K={},te=[],J=function(){function Ie(xe,De,Fe){this._index=0,this._keys=xe,this._values=De,this._selector=Fe}return Ie.prototype["@@iterator"]=function(){return this},Ie.prototype[M]=function(){return this},Ie.prototype.next=function(){var xe=this._index;if(xe>=0&&xe<this._keys.length){var De=this._selector(this._keys[xe],this._values[xe]);return xe+1>=this._keys.length?(this._index=-1,this._keys=te,this._values=te):this._index++,{value:De,done:!1}}return{value:void 0,done:!0}},Ie.prototype.throw=function(xe){throw this._index>=0&&(this._index=-1,this._keys=te,this._values=te),xe},Ie.prototype.return=function(xe){return this._index>=0&&(this._index=-1,this._keys=te,this._values=te),{value:xe,done:!0}},Ie}();return function(){function Ie(){this._keys=[],this._values=[],this._cacheKey=K,this._cacheIndex=-2}return Object.defineProperty(Ie.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ie.prototype.has=function(xe){return this._find(xe,!1)>=0},Ie.prototype.get=function(xe){var De=this._find(xe,!1);return De>=0?this._values[De]:void 0},Ie.prototype.set=function(xe,De){var Fe=this._find(xe,!0);return this._values[Fe]=De,this},Ie.prototype.delete=function(xe){var De=this._find(xe,!1);if(De>=0){for(var Fe=this._keys.length,Ce=De+1;Ce<Fe;Ce++)this._keys[Ce-1]=this._keys[Ce],this._values[Ce-1]=this._values[Ce];return this._keys.length--,this._values.length--,xe===this._cacheKey&&(this._cacheKey=K,this._cacheIndex=-2),!0}return!1},Ie.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=K,this._cacheIndex=-2},Ie.prototype.keys=function(){return new J(this._keys,this._values,he)},Ie.prototype.values=function(){return new J(this._keys,this._values,Ae)},Ie.prototype.entries=function(){return new J(this._keys,this._values,be)},Ie.prototype["@@iterator"]=function(){return this.entries()},Ie.prototype[M]=function(){return this.entries()},Ie.prototype._find=function(xe,De){return this._cacheKey!==xe&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=xe)),this._cacheIndex<0&&De&&(this._cacheIndex=this._keys.length,this._keys.push(xe),this._values.push(void 0)),this._cacheIndex},Ie}();function he(Ie,xe){return Ie}function Ae(Ie,xe){return xe}function be(Ie,xe){return[Ie,xe]}}():Map,x=F||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function me(){return function(){function K(){this._map=new P}return Object.defineProperty(K.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),K.prototype.has=function(te){return this._map.has(te)},K.prototype.add=function(te){return this._map.set(te,te),this},K.prototype.delete=function(te){return this._map.delete(te)},K.prototype.clear=function(){this._map.clear()},K.prototype.keys=function(){return this._map.keys()},K.prototype.values=function(){return this._map.values()},K.prototype.entries=function(){return this._map.entries()},K.prototype["@@iterator"]=function(){return this.keys()},K.prototype[M]=function(){return this.keys()},K}()}():Set,m=new(F||"function"!=typeof WeakMap?function G(){var te=y.create(),J=he();return function(){function De(){this._key=he()}return De.prototype.has=function(Fe){var Ce=Ae(Fe,!1);return void 0!==Ce&&y.has(Ce,this._key)},De.prototype.get=function(Fe){var Ce=Ae(Fe,!1);return void 0!==Ce?y.get(Ce,this._key):void 0},De.prototype.set=function(Fe,Ce){return Ae(Fe,!0)[this._key]=Ce,this},De.prototype.delete=function(Fe){var Ce=Ae(Fe,!1);return void 0!==Ce&&delete Ce[this._key]},De.prototype.clear=function(){this._key=he()},De}();function he(){var De;do{De="@@WeakMap@@"+xe()}while(y.has(te,De));return te[De]=!0,De}function Ae(De,Fe){if(!c.call(De,J)){if(!Fe)return;Object.defineProperty(De,J,{value:y.create()})}return De[J]}function be(De,Fe){for(var Ce=0;Ce<Fe;++Ce)De[Ce]=255*Math.random()|0;return De}function xe(){var De=function Ie(De){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(De)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(De)):be(new Uint8Array(De),De):be(new Array(De),De)}(16);De[6]=79&De[6]|64,De[8]=191&De[8]|128;for(var Fe="",Ce=0;Ce<16;++Ce){var Qe=De[Ce];(4===Ce||6===Ce||8===Ce)&&(Fe+="-"),Qe<16&&(Fe+="0"),Fe+=Qe.toString(16).toLowerCase()}return Fe}}():WeakMap);function Q(K,te,J){var he=m.get(K);if(Ee(he)){if(!J)return;he=new P,m.set(K,he)}var Ae=he.get(te);if(Ee(Ae)){if(!J)return;Ae=new P,he.set(te,Ae)}return Ae}function ue(K,te,J){if(ce(K,te,J))return!0;var Ae=Te(te);return!Z(Ae)&&ue(K,Ae,J)}function ce(K,te,J){var he=Q(te,J,!1);return!Ee(he)&&function fe(K){return!!K}(he.has(K))}function ne(K,te,J){if(ce(K,te,J))return U(K,te,J);var Ae=Te(te);return Z(Ae)?void 0:ne(K,Ae,J)}function U(K,te,J){var he=Q(te,J,!1);if(!Ee(he))return he.get(K)}function ie(K,te,J,he){Q(J,he,!0).set(K,te)}function q(K,te){var J=le(K,te),he=Te(K);if(null===he)return J;var Ae=q(he,te);if(Ae.length<=0)return J;if(J.length<=0)return Ae;for(var be=new x,Ie=[],xe=0,De=J;xe<De.length;xe++)be.has(Fe=De[xe])||(be.add(Fe),Ie.push(Fe));for(var Qe=0,tt=Ae;Qe<tt.length;Qe++){var Fe;be.has(Fe=tt[Qe])||(be.add(Fe),Ie.push(Fe))}return Ie}function le(K,te){var J=[],he=Q(K,te,!1);if(Ee(he))return J;for(var be=function O(K){var te=D(K,M);if(!se(te))throw new TypeError;var J=te.call(K);if(!re(J))throw new TypeError;return J}(he.keys()),Ie=0;;){var xe=j(be);if(!xe)return J.length=Ie,J;var De=H(xe);try{J[Ie]=De}catch(Fe){try{oe(be)}finally{throw Fe}}Ie++}}function de(K){if(null===K)return 1;switch(typeof K){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===K?1:6;default:return 6}}function Ee(K){return void 0===K}function Z(K){return null===K}function re(K){return"object"==typeof K?null!==K:"function"==typeof K}function _e(K,te){switch(de(K)){case 0:case 1:case 2:case 3:case 4:case 5:return K}var J=3===te?"string":5===te?"number":"default",he=D(K,T);if(void 0!==he){var Ae=he.call(K,J);if(re(Ae))throw new TypeError;return Ae}return function ge(K,te){if("string"===te){var J=K.toString;if(se(J)&&!re(he=J.call(K)))return he;if(se(Ae=K.valueOf)&&!re(he=Ae.call(K)))return he}else{var Ae;if(se(Ae=K.valueOf)&&!re(he=Ae.call(K)))return he;var he,be=K.toString;if(se(be)&&!re(he=be.call(K)))return he}throw new TypeError}(K,"default"===J?"number":J)}function X(K){var te=_e(K,3);return function pe(K){return"symbol"==typeof K}(te)?te:function ve(K){return""+K}(te)}function ye(K){return Array.isArray?Array.isArray(K):K instanceof Object?K instanceof Array:"[object Array]"===Object.prototype.toString.call(K)}function se(K){return"function"==typeof K}function ee(K){return"function"==typeof K}function D(K,te){var J=K[te];if(null!=J){if(!se(J))throw new TypeError;return J}}function H(K){return K.value}function j(K){var te=K.next();return!te.done&&te}function oe(K){var te=K.return;te&&te.call(K)}function Te(K){var te=Object.getPrototypeOf(K);if("function"!=typeof K||K===E||te!==E)return te;var J=K.prototype,he=J&&Object.getPrototypeOf(J);if(null==he||he===Object.prototype)return te;var Ae=he.constructor;return"function"!=typeof Ae||Ae===K?te:Ae}function V(K){return K.__=void 0,delete K.__,K}k("decorate",function f(K,te,J,he){if(Ee(J)){if(!ye(K))throw new TypeError;if(!ee(te))throw new TypeError;return function W(K,te){for(var J=K.length-1;J>=0;--J){var Ae=(0,K[J])(te);if(!Ee(Ae)&&!Z(Ae)){if(!ee(Ae))throw new TypeError;te=Ae}}return te}(K,te)}if(!ye(K))throw new TypeError;if(!re(te))throw new TypeError;if(!re(he)&&!Ee(he)&&!Z(he))throw new TypeError;return Z(he)&&(he=void 0),function $(K,te,J,he){for(var Ae=K.length-1;Ae>=0;--Ae){var Ie=(0,K[Ae])(te,J,he);if(!Ee(Ie)&&!Z(Ie)){if(!re(Ie))throw new TypeError;he=Ie}}return he}(K,te,J=X(J),he)}),k("metadata",function v(K,te){return function J(he,Ae){if(!re(he))throw new TypeError;if(!Ee(Ae)&&!function z(K){switch(de(K)){case 3:case 4:return!0;default:return!1}}(Ae))throw new TypeError;ie(K,te,he,Ae)}}),k("defineMetadata",function d(K,te,J,he){if(!re(J))throw new TypeError;return Ee(he)||(he=X(he)),ie(K,te,J,he)}),k("hasMetadata",function L(K,te,J){if(!re(te))throw new TypeError;return Ee(J)||(J=X(J)),ue(K,te,J)}),k("hasOwnMetadata",function C(K,te,J){if(!re(te))throw new TypeError;return Ee(J)||(J=X(J)),ce(K,te,J)}),k("getMetadata",function I(K,te,J){if(!re(te))throw new TypeError;return Ee(J)||(J=X(J)),ne(K,te,J)}),k("getOwnMetadata",function R(K,te,J){if(!re(te))throw new TypeError;return Ee(J)||(J=X(J)),U(K,te,J)}),k("getMetadataKeys",function A(K,te){if(!re(K))throw new TypeError;return Ee(te)||(te=X(te)),q(K,te)}),k("getOwnMetadataKeys",function p(K,te){if(!re(K))throw new TypeError;return Ee(te)||(te=X(te)),le(K,te)}),k("deleteMetadata",function w(K,te,J){if(!re(te))throw new TypeError;Ee(J)||(J=X(J));var he=Q(te,J,!1);if(Ee(he)||!he.delete(K))return!1;if(he.size>0)return!0;var Ae=m.get(te);return Ae.delete(J),Ae.size>0||m.delete(te),!0})}(B)}()}},Ms=>{Ms(Ms.s=556)}]);