(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{629:(Na,Ie,k)=>{"use strict";function m(n){return"function"==typeof n}function M(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const T=M(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function I(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class w{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(m(r))try{r()}catch(o){t=o instanceof T?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{D(o)}catch(u){t=t??[],u instanceof T?t=[...t,...u.errors]:t.push(u)}}if(t)throw new T(t)}}add(t){var e;if(t&&t!==this)if(this.closed)D(t);else{if(t instanceof w){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&I(e,t)}remove(t){const{_finalizers:e}=this;e&&I(e,t),t instanceof w&&t._removeParent(this)}}w.EMPTY=(()=>{const n=new w;return n.closed=!0,n})();const P=w.EMPTY;function R(n){return n instanceof w||n&&"closed"in n&&m(n.remove)&&m(n.add)&&m(n.unsubscribe)}function D(n){m(n)?n():n.unsubscribe()}const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},l={setTimeout(n,t,...e){const{delegate:r}=l;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=l;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function d(n){l.setTimeout(()=>{const{onUnhandledError:t}=c;if(!t)throw n;t(n)})}function f(){}const _=O("C",void 0,void 0);function O(n,t,e){return{kind:n,value:t,error:e}}let b=null;function v(n){if(c.useDeprecatedSynchronousErrorHandling){const t=!b;if(t&&(b={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=b;if(b=null,e)throw r}}else n()}class y extends w{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,R(t)&&t.add(this)):this.destination=le}static create(t,e,r){return new L(t,e,r)}next(t){this.isStopped?Z(function S(n){return O("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Z(function N(n){return O("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Z(_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const g=Function.prototype.bind;function A(n,t){return g.call(n,t)}class E{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){K(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){K(r)}else K(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){K(e)}}}class L extends y{constructor(t,e,r){let i;if(super(),m(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&c.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&A(t.next,o),error:t.error&&A(t.error,o),complete:t.complete&&A(t.complete,o)}):i=t}this.destination=new E(i)}}function K(n){c.useDeprecatedSynchronousErrorHandling?function p(n){c.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=n)}(n):d(n)}function Z(n,t){const{onStoppedNotification:e}=c;e&&l.setTimeout(()=>e(n,t))}const le={closed:!0,next:f,error:function ee(n){throw n},complete:f},H="function"==typeof Symbol&&Symbol.observable||"@@observable";function W(n){return n}function Y(n){return 0===n.length?W:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let G=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function ye(n){return n&&n instanceof y||function oe(n){return n&&m(n.next)&&m(n.error)&&m(n.complete)}(n)&&R(n)}(e)?e:new L(e,r,i);return v(()=>{const{operator:u,source:h}=this;o.add(u?u.call(o,h):h?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=ie(r))((i,o)=>{const u=new L({next:h=>{try{e(h)}catch(C){o(C),u.unsubscribe()}},error:o,complete:i});this.subscribe(u)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[H](){return this}pipe(...e){return Y(e)(this)}toPromise(e){return new(e=ie(e))((r,i)=>{let o;this.subscribe(u=>o=u,u=>i(u),()=>r(o))})}}return n.create=t=>new n(t),n})();function ie(n){var t;return null!==(t=n??c.Promise)&&void 0!==t?t:Promise}const J=M(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let de=(()=>{class n extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new ae(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new J}next(e){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?P:(this.currentObservers=null,o.push(e),new w(()=>{this.currentObservers=null,I(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new G;return e.source=this,e}}return n.create=(t,e)=>new ae(t,e),n})();class ae extends de{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:P}}function pe(n){return m(n?.lift)}function he(n){return t=>{if(pe(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,t,e,r,i){return new ve(n,t,e,r,i)}class ve extends y{constructor(t,e,r,i,o,u){super(t),this.onFinalize=o,this.shouldUnsubscribe=u,this._next=e?function(h){try{e(h)}catch(C){t.error(C)}}:super._next,this._error=i?function(h){try{i(h)}catch(C){t.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function se(n,t){return he((e,r)=>{let i=0;e.subscribe(fe(r,o=>{r.next(n.call(t,o,i++))}))})}function we(n){return this instanceof we?(this.v=n,this):new we(n)}function je(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(Me){r[Me]&&(i[Me]=function(xe){return new Promise(function(Fe,Xe){o.push([Me,xe,Fe,Xe])>1||h(Me,xe)})})}function h(Me,xe){try{!function C(Me){Me.value instanceof we?Promise.resolve(Me.value.v).then(B,Q):ge(o[0][2],Me)}(r[Me](xe))}catch(Fe){ge(o[0][3],Fe)}}function B(Me){h("next",Me)}function Q(Me){h("throw",Me)}function ge(Me,xe){Me(xe),o.shift(),o.length&&h(o[0][0],o[0][1])}}function Oe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ce(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(u){return new Promise(function(h,C){!function i(o,u,h,C){Promise.resolve(C).then(function(B){o({value:B,done:h})},u)}(h,C,(u=n[o](u)).done,u.value)})}}}const Dt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ht(n){return m(n?.then)}function jt(n){return m(n[H])}function Yt(n){return Symbol.asyncIterator&&m(n?.[Symbol.asyncIterator])}function Zt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Te=function De(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ne(n){return m(n?.[Te])}function Ge(n){return je(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield we(e.read());if(i)return yield we(void 0);yield yield we(r)}}finally{e.releaseLock()}})}function ot(n){return m(n?.getReader)}function Ze(n){if(n instanceof G)return n;if(null!=n){if(jt(n))return function lt(n){return new G(t=>{const e=n[H]();if(m(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Dt(n))return function _t(n){return new G(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Ht(n))return function pt(n){return new G(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,d)})}(n);if(Yt(n))return Je(n);if(Ne(n))return function Be(n){return new G(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(ot(n))return function ct(n){return Je(Ge(n))}(n)}throw Zt(n)}function Je(n){return new G(t=>{(function gt(n,t){var e,r,i,o;return function q(n,t,e,r){return new(e||(e=Promise))(function(o,u){function h(Q){try{B(r.next(Q))}catch(ge){u(ge)}}function C(Q){try{B(r.throw(Q))}catch(ge){u(ge)}}function B(Q){Q.done?o(Q.value):function i(o){return o instanceof e?o:new e(function(u){u(o)})}(Q.value).then(h,C)}B((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Oe(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(u){i={error:u}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function At(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Nt(n,t,e=1/0){return m(t)?Nt((r,i)=>se((o,u)=>t(r,o,i,u))(Ze(n(r,i))),e):("number"==typeof t&&(e=t),he((r,i)=>function Ot(n,t,e,r,i,o,u,h){const C=[];let B=0,Q=0,ge=!1;const Me=()=>{ge&&!C.length&&!B&&t.complete()},xe=Xe=>B<r?Fe(Xe):C.push(Xe),Fe=Xe=>{o&&t.next(Xe),B++;let dt=!1;Ze(e(Xe,Q++)).subscribe(fe(t,mt=>{i?.(mt),o?xe(mt):t.next(mt)},()=>{dt=!0},void 0,()=>{if(dt)try{for(B--;C.length&&B<r;){const mt=C.shift();u?At(t,u,()=>Fe(mt)):Fe(mt)}Me()}catch(mt){t.error(mt)}}))};return n.subscribe(fe(t,xe,()=>{ge=!0,Me()})),()=>{h?.()}}(r,i,n,e)))}function un(n=1/0){return Nt(W,n)}const en=new G(n=>n.complete());function Ae(n){return n&&m(n.schedule)}function tt(n){return n[n.length-1]}function Ct(n){return m(tt(n))?n.pop():void 0}function Ue(n){return Ae(tt(n))?n.pop():void 0}function at(n,t=0){return he((e,r)=>{e.subscribe(fe(r,i=>At(r,n,()=>r.next(i),t),()=>At(r,n,()=>r.complete(),t),i=>At(r,n,()=>r.error(i),t)))})}function Mt(n,t=0){return he((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Qe(n,t){if(!n)throw new Error("Iterable cannot be null");return new G(e=>{At(e,t,()=>{const r=n[Symbol.asyncIterator]();At(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Pt(n,t){return t?function Lt(n,t){if(null!=n){if(jt(n))return function sn(n,t){return Ze(n).pipe(Mt(t),at(t))}(n,t);if(Dt(n))return function He(n,t){return new G(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(Ht(n))return function $t(n,t){return Ze(n).pipe(Mt(t),at(t))}(n,t);if(Yt(n))return Qe(n,t);if(Ne(n))return function ke(n,t){return new G(e=>{let r;return At(e,t,()=>{r=n[Te](),At(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(u){return void e.error(u)}o?e.complete():e.next(i)},0,!0)}),()=>m(r?.return)&&r.return()})}(n,t);if(ot(n))return function ut(n,t){return Qe(Ge(n),t)}(n,t)}throw Zt(n)}(n,t):Ze(n)}function Ke(...n){const t=Ue(n),e=function qe(n,t){return"number"==typeof tt(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?Ze(r[0]):un(e)(Pt(r,t)):en}function It(n={}){const{connector:t=(()=>new de),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let u,h,C,B=0,Q=!1,ge=!1;const Me=()=>{h?.unsubscribe(),h=void 0},xe=()=>{Me(),u=C=void 0,Q=ge=!1},Fe=()=>{const Xe=u;xe(),Xe?.unsubscribe()};return he((Xe,dt)=>{B++,!ge&&!Q&&Me();const mt=C=C??t();dt.add(()=>{B--,0===B&&!ge&&!Q&&(h=Vt(Fe,i))}),mt.subscribe(dt),!u&&B>0&&(u=new L({next:Bt=>mt.next(Bt),error:Bt=>{ge=!0,Me(),h=Vt(xe,e,Bt),mt.error(Bt)},complete:()=>{Q=!0,Me(),h=Vt(xe,r),mt.complete()}}),Ze(Xe).subscribe(u))})(o)}}function Vt(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new L({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function kt(n){for(let t in n)if(n[t]===kt)return t;throw Error("Could not find renamed property on target object.")}function In(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function cn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(cn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Yn(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const qn=kt({__forward_ref__:kt});function xn(n){return n.__forward_ref__=xn,n.toString=function(){return cn(this())},n}function on(n){return fi(n)?n():n}function fi(n){return"function"==typeof n&&n.hasOwnProperty(qn)&&n.__forward_ref__===xn}function Ai(n){return n&&!!n.\u0275providers}const _o="https://g.co/ng/security#xss";class yt extends Error{constructor(t,e){super(function ki(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function mn(n){return"string"==typeof n?n:null==n?"":String(n)}function ra(n,t){throw new yt(-201,!1)}function ft(n,t){null==n&&function Tt(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function vt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dn(n){return{providers:n.providers||[],imports:n.imports||[]}}function hi(n){return ka(n,ol)||ka(n,mf)}function ka(n,t){return n.hasOwnProperty(t)?n[t]:null}function Bu(n){return n&&(n.hasOwnProperty(ku)||n.hasOwnProperty(xp))?n[ku]:null}const ol=kt({\u0275prov:kt}),ku=kt({\u0275inj:kt}),mf=kt({ngInjectableDef:kt}),xp=kt({ngInjectorDef:kt});var hn=(()=>((hn=hn||{})[hn.Default=0]="Default",hn[hn.Host=1]="Host",hn[hn.Self=2]="Self",hn[hn.SkipSelf=4]="SkipSelf",hn[hn.Optional=8]="Optional",hn))();let Uu;function Ri(n){const t=Uu;return Uu=n,t}function pf(n,t,e){const r=hi(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&hn.Optional?null:void 0!==t?t:void ra(cn(n))}const rr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),us={},ju="__NG_DI_FLAG__",al="ngTempTokenPath",Fp=/\n/gm,sl="__source";let cs;function Ua(n){const t=cs;return cs=n,t}function kp(n,t=hn.Default){if(void 0===cs)throw new yt(-203,!1);return null===cs?pf(n,void 0,t):cs.get(n,t&hn.Optional?null:void 0,t)}function st(n,t=hn.Default){return(function Np(){return Uu}()||kp)(on(n),t)}function yn(n,t=hn.Default){return st(n,oa(t))}function oa(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vu(n){const t=[];for(let e=0;e<n.length;e++){const r=on(n[e]);if(Array.isArray(r)){if(0===r.length)throw new yt(900,!1);let i,o=hn.Default;for(let u=0;u<r.length;u++){const h=r[u],C=Up(h);"number"==typeof C?-1===C?i=h.token:o|=C:i=h}t.push(st(i,o))}else t.push(st(r))}return t}function ds(n,t){return n[ju]=t,n.prototype[ju]=t,n}function Up(n){return n[ju]}function ro(n){return{toString:n}.toString()}var mi=(()=>((mi=mi||{})[mi.OnPush=0]="OnPush",mi[mi.Default=1]="Default",mi))(),wi=(()=>{return(n=wi||(wi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",wi;var n})();const io={},Un=[],$e=kt({\u0275cmp:kt}),Rt=kt({\u0275dir:kt}),tn=kt({\u0275pipe:kt}),Hn=kt({\u0275mod:kt}),$n=kt({\u0275fac:kt}),vo=kt({__NG_ELEMENT_ID__:kt});let ja=0;function bn(n){return ro(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===mi.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Un,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||wi.Emulated,id:"c"+ja++,styles:n.styles||Un,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,u=n.features;return i.inputs=pb(n.inputs,r),i.outputs=pb(n.outputs),u&&u.forEach(h=>h(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(hb).filter(mb):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(pi).filter(mb):null,i})}function hb(n){return Zn(n)||ti(n)}function mb(n){return null!==n}function Qn(n){return ro(()=>({type:n.type,bootstrap:n.bootstrap||Un,declarations:n.declarations||Un,imports:n.imports||Un,exports:n.exports||Un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pb(n,t){if(null==n)return io;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const Wt=bn;function Xr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Zn(n){return n[$e]||null}function ti(n){return n[Rt]||null}function pi(n){return n[tn]||null}function Ui(n,t){const e=n[Hn]||null;if(!e&&!0===t)throw new Error(`Type ${cn(n)} does not have '\u0275mod' property.`);return e}function ji(n){return Array.isArray(n)&&"object"==typeof n[1]}function Eo(n){return Array.isArray(n)&&!0===n[1]}function Wp(n){return 0!=(4&n.flags)}function zu(n){return n.componentOffset>-1}function Tf(n){return 1==(1&n.flags)}function bo(n){return null!==n.template}function lO(n){return 0!=(256&n[2])}function hs(n,t){return n.hasOwnProperty($n)?n[$n]:null}class dO{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vi(){return bb}function bb(n){return n.type.prototype.ngOnChanges&&(n.setInput=hO),fO}function fO(){const n=Sb(this),t=n?.current;if(t){const e=n.previous;if(e===io)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function hO(n,t,e,r){const i=this.declaredInputs[e],o=Sb(n)||function mO(n,t){return n[Tb]=t}(n,{previous:io,current:null}),u=o.current||(o.current={}),h=o.previous,C=h[i];u[i]=new dO(C&&C.currentValue,t,h===io),n[r]=t}Vi.ngInherit=!0;const Tb="__ngSimpleChanges__";function Sb(n){return n[Tb]||null}function qr(n){for(;Array.isArray(n);)n=n[0];return n}function Sf(n,t){return qr(t[n])}function Hi(n,t){return qr(t[n.index])}function Db(n,t){return n.data[t]}function hl(n,t){return n[t]}function Wi(n,t){const e=t[n];return ji(e)?e:e[0]}function Cf(n){return 64==(64&n[2])}function Va(n,t){return null==t?null:n[t]}function Ab(n){n[18]=0}function zp(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const Tn={lFrame:Bb(null),bindingsEnabled:!0};function Rb(){return Tn.bindingsEnabled}function wt(){return Tn.lFrame.lView}function jn(){return Tn.lFrame.tView}function lr(n){return Tn.lFrame.contextLView=n,n[8]}function ur(n){return Tn.lFrame.contextLView=null,n}function Qr(){let n=wb();for(;null!==n&&64===n.type;)n=n.parent;return n}function wb(){return Tn.lFrame.currentTNode}function xo(n,t){const e=Tn.lFrame;e.currentTNode=n,e.isParent=t}function Gp(){return Tn.lFrame.isParent}function Yp(){Tn.lFrame.isParent=!1}function _i(){const n=Tn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ml(){return Tn.lFrame.bindingIndex++}function la(n){const t=Tn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function AO(n,t){const e=Tn.lFrame;e.bindingIndex=e.bindingRootIndex=n,$p(t)}function $p(n){Tn.lFrame.currentDirectiveIndex=n}function Nb(){return Tn.lFrame.currentQueryIndex}function qp(n){Tn.lFrame.currentQueryIndex=n}function RO(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Lb(n,t,e){if(e&hn.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&hn.Host||(i=RO(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=Tn.lFrame=Fb();return r.currentTNode=t,r.lView=n,!0}function Qp(n){const t=Fb(),e=n[1];Tn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Fb(){const n=Tn.lFrame,t=null===n?null:n.child;return null===t?Bb(n):t}function Bb(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function kb(){const n=Tn.lFrame;return Tn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ub=kb;function Zp(){const n=kb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vi(){return Tn.lFrame.selectedIndex}function ms(n){Tn.lFrame.selectedIndex=n}function vr(){const n=Tn.lFrame;return Db(n.tView,n.selectedIndex)}function Mf(){Tn.lFrame.currentNamespace="svg"}function Df(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:h,ngAfterViewInit:C,ngAfterViewChecked:B,ngOnDestroy:Q}=o;u&&(n.contentHooks||(n.contentHooks=[])).push(-e,u),h&&((n.contentHooks||(n.contentHooks=[])).push(e,h),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,h)),C&&(n.viewHooks||(n.viewHooks=[])).push(-e,C),B&&((n.viewHooks||(n.viewHooks=[])).push(e,B),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,B)),null!=Q&&(n.destroyHooks||(n.destroyHooks=[])).push(e,Q)}}function Af(n,t,e){Vb(n,t,3,e)}function If(n,t,e,r){(3&n[2])===e&&Vb(n,t,e,r)}function Jp(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Vb(n,t,e,r){const o=r??-1,u=t.length-1;let h=0;for(let C=void 0!==r?65535&n[18]:0;C<u;C++)if("number"==typeof t[C+1]){if(h=t[C],null!=r&&h>=r)break}else t[C]<0&&(n[18]+=65536),(h<o||-1==o)&&(FO(n,e,t,C),n[18]=(4294901760&n[18])+C+2),C++}function FO(n,t,e,r){const i=e[r]<0,o=e[r+1],h=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(h)}finally{}}}else try{o.call(h)}finally{}}class Yu{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function tg(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],u=e[r++],h=e[r++];n.setAttribute(t,u,h,o)}else{const o=i,u=e[++r];Wb(o)?n.setProperty(t,o,u):n.setAttribute(t,o,u),r++}}return r}function Hb(n){return 3===n||4===n||6===n}function Wb(n){return 64===n.charCodeAt(0)}function $u(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Kb(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Kb(n,t,e,r,i){let o=0,u=n.length;if(-1===t)u=-1;else for(;o<n.length;){const h=n[o++];if("number"==typeof h){if(h===t){u=-1;break}if(h>t){u=o-1;break}}}for(;o<n.length;){const h=n[o];if("number"==typeof h)break;if(h===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==u&&(n.splice(u,0,t),o=u+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function zb(n){return-1!==n}function Rf(n){return 32767&n}function wf(n,t){let e=function jO(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let ng=!0;function Pf(n){const t=ng;return ng=n,t}let VO=0;const No={};function Of(n,t){const e=$b(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,rg(r.data,n),rg(t,null),rg(r.blueprint,null));const i=ig(n,t),o=n.injectorIndex;if(zb(i)){const u=Rf(i),h=wf(i,t),C=h[1].data;for(let B=0;B<8;B++)t[o+B]=h[u+B]|C[u+B]}return t[o+8]=i,o}function rg(n,t){n.push(0,0,0,0,0,0,0,0,t)}function $b(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function ig(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=tT(i),null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function og(n,t,e){!function HO(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(vo)&&(r=e[vo]),null==r&&(r=e[vo]=VO++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function Xb(n,t,e){if(e&hn.Optional||void 0!==n)return n;ra()}function qb(n,t,e,r){if(e&hn.Optional&&void 0===r&&(r=null),!(e&(hn.Self|hn.Host))){const i=n[9],o=Ri(void 0);try{return i?i.get(t,r,e&hn.Optional):pf(t,r,e&hn.Optional)}finally{Ri(o)}}return Xb(r,0,e)}function Qb(n,t,e,r=hn.Default,i){if(null!==n){if(1024&t[2]){const u=function YO(n,t,e,r,i){let o=n,u=t;for(;null!==o&&null!==u&&1024&u[2]&&!(256&u[2]);){const h=Zb(o,u,e,r|hn.Self,No);if(h!==No)return h;let C=o.parent;if(!C){const B=u[21];if(B){const Q=B.get(e,No,r);if(Q!==No)return Q}C=tT(u),u=u[15]}o=C}return i}(n,t,e,r,No);if(u!==No)return u}const o=Zb(n,t,e,r,No);if(o!==No)return o}return qb(t,e,r,i)}function Zb(n,t,e,r,i){const o=function zO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(vo)?n[vo]:void 0;return"number"==typeof t?t>=0?255&t:GO:t}(e);if("function"==typeof o){if(!Lb(t,n,r))return r&hn.Host?Xb(i,0,r):qb(t,e,r,i);try{const u=o(r);if(null!=u||r&hn.Optional)return u;ra()}finally{Ub()}}else if("number"==typeof o){let u=null,h=$b(n,t),C=-1,B=r&hn.Host?t[16][6]:null;for((-1===h||r&hn.SkipSelf)&&(C=-1===h?ig(n,t):t[h+8],-1!==C&&eT(r,!1)?(u=t[1],h=Rf(C),t=wf(C,t)):h=-1);-1!==h;){const Q=t[1];if(Jb(o,h,Q.data)){const ge=KO(h,t,e,u,r,B);if(ge!==No)return ge}C=t[h+8],-1!==C&&eT(r,t[1].data[h+8]===B)&&Jb(o,h,t)?(u=Q,h=Rf(C),t=wf(C,t)):h=-1}}return i}function KO(n,t,e,r,i,o){const u=t[1],h=u.data[n+8],Q=xf(h,u,e,null==r?zu(h)&&ng:r!=u&&0!=(3&h.type),i&hn.Host&&o===h);return null!==Q?ps(t,u,Q,h):No}function xf(n,t,e,r,i){const o=n.providerIndexes,u=t.data,h=1048575&o,C=n.directiveStart,Q=o>>20,Me=i?h+Q:n.directiveEnd;for(let xe=r?h:h+Q;xe<Me;xe++){const Fe=u[xe];if(xe<C&&e===Fe||xe>=C&&Fe.type===e)return xe}if(i){const xe=u[C];if(xe&&bo(xe)&&xe.type===e)return C}return null}function ps(n,t,e,r){let i=n[e];const o=t.data;if(function BO(n){return n instanceof Yu}(i)){const u=i;u.resolving&&function nl(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new yt(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Fn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():mn(n)}(o[e]));const h=Pf(u.canSeeViewProviders);u.resolving=!0;const C=u.injectImpl?Ri(u.injectImpl):null;Lb(n,r,hn.Default);try{i=n[e]=u.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function LO(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const u=bb(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,u),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,u)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==C&&Ri(C),Pf(h),u.resolving=!1,Ub()}}return i}function Jb(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function eT(n,t){return!(n&hn.Self||n&hn.Host&&t)}class gl{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Qb(this._tNode,this._lView,t,oa(r),e)}}function GO(){return new gl(Qr(),wt())}function Gr(n){return ro(()=>{const t=n.prototype.constructor,e=t[$n]||ag(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[$n]||ag(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ag(n){return fi(n)?()=>{const t=ag(on(n));return t&&t()}:hs(n)}function tT(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function _l(n){return function WO(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(Hb(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(Qr(),n)}const yl="__parameters__";function bl(n,t,e){return ro(()=>{const r=function sg(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const u=new i(...o);return h.annotation=u,h;function h(C,B,Q){const ge=C.hasOwnProperty(yl)?C[yl]:Object.defineProperty(C,yl,{value:[]})[yl];for(;ge.length<=Q;)ge.push(null);return(ge[Q]=ge[Q]||[]).push(u),C}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Ut{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=vt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function gs(n,t){n.forEach(e=>Array.isArray(e)?gs(e,t):t(e))}function rT(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Nf(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Qu(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function Ki(n,t,e){let r=Tl(n,t);return r>=0?n[1|r]=e:(r=~r,function QO(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function ug(n,t){const e=Tl(n,t);if(e>=0)return n[1|e]}function Tl(n,t){return function iT(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),u=n[o<<e];if(t===u)return o<<e;u>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const Ff=ds(bl("Inject",n=>({token:n})),-1),ua=ds(bl("Optional"),8),Sl=ds(bl("SkipSelf"),4);var Pi=(()=>((Pi=Pi||{})[Pi.Important=1]="Important",Pi[Pi.DashCase=2]="DashCase",Pi))();const mg=new Map;let yx=0;const gg="__ngContext__";function ii(n,t){ji(t)?(n[gg]=t[20],function bx(n){mg.set(n[20],n)}(t)):n[gg]=t}function vg(n,t){return undefined(n,t)}function tc(n){const t=n[3];return Eo(t)?t[3]:t}function yg(n){return CT(n[13])}function Eg(n){return CT(n[4])}function CT(n){for(;null!==n&&!Eo(n);)n=n[4];return n}function Ml(n,t,e,r,i){if(null!=r){let o,u=!1;Eo(r)?o=r:ji(r)&&(u=!0,r=r[0]);const h=qr(r);0===n&&null!==e?null==i?wT(t,e,h):_s(t,e,h,i||null,!0):1===n&&null!==e?_s(t,e,h,i||null,!0):2===n?function Ag(n,t,e){const r=Uf(n,t);r&&function Vx(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,h,u):3===n&&t.destroyNode(h),null!=o&&function Kx(n,t,e,r,i){const o=e[7];o!==qr(e)&&Ml(t,n,r,o,i);for(let h=10;h<e.length;h++){const C=e[h];nc(C[1],C,n,t,r,o)}}(t,n,o,e,i)}}function Tg(n,t,e){return n.createElement(t,e)}function DT(n,t){const e=n[9],r=e.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,zp(i,-1)),e.splice(r,1)}function Sg(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&DT(i,r),t>0&&(n[e-1][4]=r[4]);const o=Nf(n,10+t);!function xx(n,t){nc(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const u=o[19];null!==u&&u.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function AT(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&nc(n,t,e,3,null,null),function Fx(n){let t=n[13];if(!t)return Cg(n[1],n);for(;t;){let e=null;if(ji(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)ji(t)&&Cg(t[1],t),t=t[3];null===t&&(t=n),ji(t)&&Cg(t[1],t),e=t&&t[4]}t=e}}(t)}}function Cg(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function jx(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Yu)){const o=e[r+1];if(Array.isArray(o))for(let u=0;u<o.length;u+=2){const h=i[o[u]],C=o[u+1];try{C.call(h)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function Ux(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const u=e[o+3];u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const u=r[i=e[o+1]];e[o].call(u)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Eo(t[3])){e!==t[3]&&DT(e,t);const r=t[19];null!==r&&r.detachView(n)}!function Tx(n){mg.delete(n[20])}(t)}}function IT(n,t,e){return function RT(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===wi.None||o===wi.Emulated)return null}return Hi(r,e)}}(n,t.parent,e)}function _s(n,t,e,r,i){n.insertBefore(t,e,r,i)}function wT(n,t,e){n.appendChild(t,e)}function PT(n,t,e,r,i){null!==r?_s(n,t,e,r,i):wT(n,t,e)}function Uf(n,t){return n.parentNode(t)}function OT(n,t,e){return NT(n,t,e)}let Hf,wg,Wf,NT=function xT(n,t,e){return 40&n.type?Hi(n,e):null};function jf(n,t,e,r){const i=IT(n,r,t),o=t[11],h=OT(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let C=0;C<e.length;C++)PT(o,i,e[C],h,!1);else PT(o,i,e,h,!1)}function Vf(n,t){if(null!==t){const e=t.type;if(3&e)return Hi(t,n);if(4&e)return Dg(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Vf(n,r);{const i=n[t.index];return Eo(i)?Dg(-1,i):qr(i)}}if(32&e)return vg(t,n)()||qr(n[t.index]);{const r=FT(n,t);return null!==r?Array.isArray(r)?r[0]:Vf(tc(n[16]),r):Vf(n,t.next)}}return null}function FT(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Dg(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Vf(r,i)}return t[7]}function Ig(n,t,e,r,i,o,u){for(;null!=e;){const h=r[e.index],C=e.type;if(u&&0===t&&(h&&ii(qr(h),r),e.flags|=2),32!=(32&e.flags))if(8&C)Ig(n,t,e.child,r,i,o,!1),Ml(t,n,i,h,o);else if(32&C){const B=vg(e,r);let Q;for(;Q=B();)Ml(t,n,i,Q,o);Ml(t,n,i,h,o)}else 16&C?BT(n,t,r,e,i,o):Ml(t,n,i,h,o);e=u?e.projectionNext:e.next}}function nc(n,t,e,r,i,o){Ig(e,r,n.firstChild,t,i,o,!1)}function BT(n,t,e,r,i,o){const u=e[16],C=u[6].projection[r.projection];if(Array.isArray(C))for(let B=0;B<C.length;B++)Ml(t,n,i,C[B],o);else Ig(n,t,C,u[3],i,o,!0)}function kT(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function UT(n,t,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&tg(n,t,r),null!==i&&kT(n,t,i),null!==o&&function Gx(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function vs(n){return function Rg(){if(void 0===Hf&&(Hf=null,rr.trustedTypes))try{Hf=rr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hf}()?.createHTML(n)||n}function Pg(){if(void 0===Wf&&(Wf=null,rr.trustedTypes))try{Wf=rr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wf}function VT(n){return Pg()?.createHTML(n)||n}function WT(n){return Pg()?.createScriptURL(n)||n}class ys{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_o})`}}class Qx extends ys{getTypeName(){return"HTML"}}class Zx extends ys{getTypeName(){return"Style"}}class Jx extends ys{getTypeName(){return"Script"}}class eN extends ys{getTypeName(){return"URL"}}class tN extends ys{getTypeName(){return"ResourceURL"}}function zi(n){return n instanceof ys?n.changingThisBreaksApplicationSecurity:n}function Lo(n,t){const e=function nN(n){return n instanceof ys&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${_o})`)}return e===t}class lN{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(vs(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class uN{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=vs(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=vs(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const u=e.item(i).name;("xmlns:ns1"===u||0===u.indexOf("ns1:"))&&t.removeAttribute(u)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const dN=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Kf(n){return(n=String(n)).match(dN)?n:"unsafe:"+n}function ca(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function rc(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const zT=ca("area,br,col,hr,img,wbr"),GT=ca("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YT=ca("rp,rt"),Og=rc(zT,rc(GT,ca("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rc(YT,ca("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rc(YT,GT)),xg=ca("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$T=rc(xg,ca("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ca("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fN=ca("script,style,template");class hN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Og.hasOwnProperty(e))return this.sanitizedSomething=!0,!fN.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),u=o.name,h=u.toLowerCase();if(!$T.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let C=o.value;xg[h]&&(C=Kf(C)),this.buf.push(" ",u,'="',XT(C),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Og.hasOwnProperty(e)&&!zT.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(XT(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pN=/([^\#-~ |!])/g;function XT(n){return n.replace(/&/g,"&amp;").replace(mN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zf;function qT(n,t){let e=null;try{zf=zf||function KT(n){const t=new uN(n);return function cN(){try{return!!(new window.DOMParser).parseFromString(vs(""),"text/html")}catch{return!1}}()?new lN(t):t}(n);let r=t?String(t):"";e=zf.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=zf.getInertBodyElement(r)}while(r!==o);return vs((new hN).sanitizeChildren(Ng(e)||e))}finally{if(e){const r=Ng(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ng(n){return"content"in n&&function gN(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function Lg(n){const t=ic();return t?VT(t.sanitize(Wn.HTML,n)||""):Lo(n,"HTML")?VT(zi(n)):qT(function jT(){return void 0!==wg?wg:typeof document<"u"?document:void 0}(),mn(n))}function QT(n){const t=ic();return t?t.sanitize(Wn.STYLE,n)||"":Lo(n,"Style")?zi(n):mn(n)}function Dl(n){const t=ic();return t?t.sanitize(Wn.URL,n)||"":Lo(n,"URL")?zi(n):Kf(mn(n))}function ZT(n){const t=ic();if(t)return WT(t.sanitize(Wn.RESOURCE_URL,n)||"");if(Lo(n,"ResourceURL"))return WT(zi(n));throw new yt(904,!1)}function ic(){const n=wt();return n&&n[12]}const Gf=new Ut("ENVIRONMENT_INITIALIZER"),eS=new Ut("INJECTOR",-1),tS=new Ut("INJECTOR_DEF_TYPES");class nS{get(t,e=us){if(e===us){const r=new Error(`NullInjectorError: No provider for ${cn(t)}!`);throw r.name="NullInjectorError",r}return e}}function rS(n){return{\u0275providers:n}}function iS(...n){return{\u0275providers:oS(0,n),\u0275fromNgModule:!0}}function oS(n,...t){const e=[],r=new Set;let i;return gs(t,o=>{const u=o;Fg(u,e,[],r)&&(i||(i=[]),i.push(u))}),void 0!==i&&aS(i,e),e}function aS(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];Bg(i,o=>{t.push(o)})}}function Fg(n,t,e,r){if(!(n=on(n)))return!1;let i=null,o=Bu(n);const u=!o&&Zn(n);if(o||u){if(u&&!u.standalone)return!1;i=n}else{const C=n.ngModule;if(o=Bu(C),!o)return!1;i=C}const h=r.has(i);if(u){if(h)return!1;if(r.add(i),u.dependencies){const C="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const B of C)Fg(B,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!h){let B;r.add(i);try{gs(o.imports,Q=>{Fg(Q,t,e,r)&&(B||(B=[]),B.push(Q))})}finally{}void 0!==B&&aS(B,t)}if(!h){const B=hs(i)||(()=>new i);t.push({provide:i,useFactory:B,deps:Un},{provide:tS,useValue:i,multi:!0},{provide:Gf,useValue:()=>st(i),multi:!0})}const C=o.providers;null==C||h||Bg(C,Q=>{t.push(Q)})}}return i!==n&&void 0!==n.providers}function Bg(n,t){for(let e of n)Ai(e)&&(e=e.\u0275providers),Array.isArray(e)?Bg(e,t):t(e)}const bN=kt({provide:String,useValue:kt});function kg(n){return null!==n&&"object"==typeof n&&bN in n}function Es(n){return"function"==typeof n}const Ug=new Ut("Set Injector scope."),Yf={},SN={};let jg;function $f(){return void 0===jg&&(jg=new nS),jg}class Fo{}class uS extends Fo{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hg(t,u=>this.processProvider(u)),this.records.set(eS,Al(void 0,this)),i.has("environment")&&this.records.set(Fo,Al(void 0,this));const o=this.records.get(Ug);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tS.multi,Un,hn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Ua(this),r=Ri(void 0);try{return t()}finally{Ua(e),Ri(r)}}get(t,e=us,r=hn.Default){this.assertNotDestroyed(),r=oa(r);const i=Ua(this),o=Ri(void 0);try{if(!(r&hn.SkipSelf)){let h=this.records.get(t);if(void 0===h){const C=function IN(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ut}(t)&&hi(t);h=C&&this.injectableDefInScope(C)?Al(Vg(t),Yf):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(r&hn.Self?$f():this.parent).get(t,e=r&hn.Optional&&e===us?null:e)}catch(u){if("NullInjectorError"===u.name){if((u[al]=u[al]||[]).unshift(cn(t)),i)throw u;return function _f(n,t,e,r){const i=n[al];throw t[sl]&&i.unshift(t[sl]),n.message=function jp(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=cn(t);if(Array.isArray(t))i=t.map(cn).join(" -> ");else if("object"==typeof t){let o=[];for(let u in t)if(t.hasOwnProperty(u)){let h=t[u];o.push(u+":"+("string"==typeof h?JSON.stringify(h):cn(h)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Fp,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[al]=null,n}(u,t,"R3InjectorError",this.source)}throw u}finally{Ri(o),Ua(i)}}resolveInjectorInitializers(){const t=Ua(this),e=Ri(void 0);try{const r=this.get(Gf.multi,Un,hn.Self);for(const i of r)i()}finally{Ua(t),Ri(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(cn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new yt(205,!1)}processProvider(t){let e=Es(t=on(t))?t:on(t&&t.provide);const r=function MN(n){return kg(n)?Al(void 0,n.useValue):Al(cS(n),Yf)}(t);if(Es(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Al(void 0,Yf,!0),i.factory=()=>Vu(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===Yf&&(e.value=SN,e.value=e.factory()),"object"==typeof e.value&&e.value&&function AN(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=on(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Vg(n){const t=hi(n),e=null!==t?t.factory:hs(n);if(null!==e)return e;if(n instanceof Ut)throw new yt(204,!1);if(n instanceof Function)return function CN(n){const t=n.length;if(t>0)throw Qu(t,"?"),new yt(204,!1);const e=function Pp(n){const t=n&&(n[ol]||n[mf]);if(t){const e=function Op(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new yt(204,!1)}function cS(n,t,e){let r;if(Es(n)){const i=on(n);return hs(i)||Vg(i)}if(kg(n))r=()=>on(n.useValue);else if(function lS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Vu(n.deps||[]));else if(function sS(n){return!(!n||!n.useExisting)}(n))r=()=>st(on(n.useExisting));else{const i=on(n&&(n.useClass||n.provide));if(!function DN(n){return!!n.deps}(n))return hs(i)||Vg(i);r=()=>new i(...Vu(n.deps))}return r}function Al(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Hg(n,t){for(const e of n)Array.isArray(e)?Hg(e,t):e&&Ai(e)?Hg(e.\u0275providers,t):t(e)}class RN{}class dS{}class PN{resolveComponentFactory(t){throw function wN(n){const t=Error(`No component factory found for ${cn(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Il=(()=>{class n{}return n.NULL=new PN,n})();function ON(){return Rl(Qr(),wt())}function Rl(n,t){return new Nn(Hi(n,t))}let Nn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=ON,n})();function xN(n){return n instanceof Nn?n.nativeElement:n}class oc{}let da=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function NN(){const n=wt(),e=Wi(Qr().index,n);return(ji(e)?e:n)[11]}(),n})(),LN=(()=>{class n{}return n.\u0275prov=vt({token:n,providedIn:"root",factory:()=>null}),n})();class bs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const FN=new bs("15.1.4"),Wg={};function zg(n){return n.ngOriginalError}class fa{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&zg(t);for(;e&&zg(e);)e=zg(e);return e||null}}function ha(n){return n instanceof Function?n():n}function mS(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const pS="ng-template";function YN(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==mS(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function gS(n){return 4===n.type&&n.value!==pS}function $N(n,t,e){return t===(4!==n.type||e?n.value:pS)}function XN(n,t,e){let r=4;const i=n.attrs||[],o=function ZN(n){for(let t=0;t<n.length;t++)if(Hb(n[t]))return t;return n.length}(i);let u=!1;for(let h=0;h<t.length;h++){const C=t[h];if("number"!=typeof C){if(!u)if(4&r){if(r=2|1&r,""!==C&&!$N(n,C,e)||""===C&&1===t.length){if(To(r))return!1;u=!0}}else{const B=8&r?C:t[++h];if(8&r&&null!==n.attrs){if(!YN(n.attrs,B,e)){if(To(r))return!1;u=!0}continue}const ge=qN(8&r?"class":C,i,gS(n),e);if(-1===ge){if(To(r))return!1;u=!0;continue}if(""!==B){let Me;Me=ge>o?"":i[ge+1].toLowerCase();const xe=8&r?Me:null;if(xe&&-1!==mS(xe,B,0)||2&r&&B!==Me){if(To(r))return!1;u=!0}}}}else{if(!u&&!To(r)&&!To(C))return!1;if(u&&To(C))continue;u=!1,r=C|1&r}}return To(r)||u}function To(n){return 0==(1&n)}function qN(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const u=t[i];if(u===n)return i;if(3===u||6===u)o=!0;else{if(1===u||2===u){let h=t[++i];for(;"string"==typeof h;)h=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=o?1:2}return-1}return function JN(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function _S(n,t,e=!1){for(let r=0;r<t.length;r++)if(XN(n,t[r],e))return!0;return!1}function eL(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function vS(n,t){return n?":not("+t.trim()+")":t}function tL(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let u=n[e];if("string"==typeof u)if(2&r){const h=n[++e];i+="["+u+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!To(u)&&(t+=vS(o,i),i=""),r=u,o=o||!To(r);e++}return""!==i&&(t+=vS(o,i)),t}const Sn={};function St(n){yS(jn(),wt(),vi()+n,!1)}function yS(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Af(t,o,e)}else{const o=n.preOrderHooks;null!==o&&If(t,o,0,e)}ms(e)}function SS(n,t=null,e=null,r){const i=CS(n,t,e,r);return i.resolveInjectorInitializers(),i}function CS(n,t=null,e=null,r,i=new Set){const o=[e||Un,iS(n)];return r=r||("object"==typeof n?void 0:cn(n)),new uS(o,t||$f(),r||null,i)}let xi=(()=>{class n{static create(e,r){if(Array.isArray(e))return SS({name:""},r,e,"");{const i=e.name??"";return SS({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=us,n.NULL=new nS,n.\u0275prov=vt({token:n,providedIn:"any",factory:()=>st(eS)}),n.__NG_ELEMENT_ID__=-1,n})();function Ve(n,t=hn.Default){const e=wt();return null===e?st(n,t):Qb(Qr(),e,on(n),t)}function qf(){throw new Error("invalid")}function PS(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const u=n.data[o];qp(e[r]),u.contentQueries(2,t[o],o)}}}function Qf(n,t,e,r,i,o,u,h,C,B,Q){const ge=t.blueprint.slice();return ge[0]=i,ge[2]=76|r,(null!==Q||n&&1024&n[2])&&(ge[2]|=1024),Ab(ge),ge[3]=ge[15]=n,ge[8]=e,ge[10]=u||n&&n[10],ge[11]=h||n&&n[11],ge[12]=C||n&&n[12]||null,ge[9]=B||n&&n[9]||null,ge[6]=o,ge[20]=function Ex(){return yx++}(),ge[21]=Q,ge[16]=2==t.type?n[16]:ge,ge}function Ol(n,t,e,r,i){let o=n.data[t];if(null===o)o=function qg(n,t,e,r,i){const o=wb(),u=Gp(),C=n.data[t]=function AL(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=C),null!==o&&(u?null==o.child&&null!==C.parent&&(o.child=C):null===o.next&&(o.next=C)),C}(n,t,e,r,i),function DO(){return Tn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const u=function Gu(){const n=Tn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===u?-1:u.injectorIndex}return xo(o,!0),o}function ac(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function Qg(n,t,e){Qp(t);try{const r=n.viewQuery;null!==r&&s_(1,r,e);const i=n.template;null!==i&&OS(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&PS(n,t),n.staticViewQueries&&s_(2,n.viewQuery,e);const o=n.components;null!==o&&function CL(n,t){for(let e=0;e<t.length;e++)GL(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Zp()}}function Zf(n,t,e,r){const i=t[2];if(128!=(128&i)){Qp(t);try{Ab(t),function Ob(n){return Tn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&OS(n,t,e,2,r);const u=3==(3&i);if(u){const B=n.preOrderCheckHooks;null!==B&&Af(t,B,null)}else{const B=n.preOrderHooks;null!==B&&If(t,B,0,null),Jp(t,0)}if(function KL(n){for(let t=yg(n);null!==t;t=Eg(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r];512&i[2]||zp(i[3],1),i[2]|=512}}}(t),function WL(n){for(let t=yg(n);null!==t;t=Eg(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];Cf(r)&&Zf(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&PS(n,t),u){const B=n.contentCheckHooks;null!==B&&Af(t,B)}else{const B=n.contentHooks;null!==B&&If(t,B,1),Jp(t,1)}!function TL(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)ms(~i);else{const o=i,u=e[++r],h=e[++r];AO(u,o),h(2,t[o])}}}finally{ms(-1)}}(n,t);const h=n.components;null!==h&&function SL(n,t){for(let e=0;e<t.length;e++)zL(n,t[e])}(t,h);const C=n.viewQuery;if(null!==C&&s_(2,C,r),u){const B=n.viewCheckHooks;null!==B&&Af(t,B)}else{const B=n.viewHooks;null!==B&&If(t,B,2),Jp(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,zp(t[3],-1))}finally{Zp()}}}function OS(n,t,e,r,i){const o=vi(),u=2&r;try{ms(-1),u&&t.length>22&&yS(n,t,22,!1),e(r,i)}finally{ms(o)}}function Zg(n,t,e){if(Wp(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const u=n.data[o];u.contentQueries&&u.contentQueries(1,e[o],o)}}}function Jg(n,t,e){Rb()&&(function xL(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;zu(e)&&function jL(n,t,e){const r=Hi(t,n),i=xS(e),o=n[10],u=Jf(n,Qf(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=u}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Of(e,t),ii(r,t);const u=e.initialInputs;for(let h=i;h<o;h++){const C=n.data[h],B=ps(t,n,h,e);ii(B,t),null!==u&&VL(0,h-i,B,C,0,u),bo(C)&&(Wi(e.index,t)[8]=ps(t,n,h,e))}}(n,t,e,Hi(e,t)),64==(64&e.flags)&&US(n,t,e))}function e_(n,t,e=Hi){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const u=r[o+1],h=-1===u?e(t,n):n[u];n[i++]=h}}}function xS(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=t_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function t_(n,t,e,r,i,o,u,h,C,B){const Q=22+r,ge=Q+i,Me=function ML(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:Sn);return e}(Q,ge),xe="function"==typeof B?B():B;return Me[1]={type:n,blueprint:Me,template:e,queries:null,viewQuery:h,declTNode:t,data:Me.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:C,consts:xe,incompleteFirstPass:!1}}function NS(n,t,e,r){const i=VS(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&HS(n).push(r,i.length-1))}function LS(n,t,e,r){for(let i in n)if(n.hasOwnProperty(i)){e=null===e?{}:e;const o=n[i];null===r?FS(e,t,i,o):r.hasOwnProperty(i)&&FS(e,t,r[i],o)}return e}function FS(n,t,e,r){n.hasOwnProperty(e)?n[e].push(t,r):n[e]=[t,r]}function Gi(n,t,e,r,i,o,u,h){const C=Hi(t,e);let Q,B=t.inputs;!h&&null!=B&&(Q=B[r])?(l_(n,e,Q,r,i),zu(t)&&BS(e,t.index)):3&t.type&&(r=function RL(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=u?u(i,t.value||"",r):i,o.setProperty(C,r,i))}function BS(n,t){const e=Wi(t,n);16&e[2]||(e[2]|=32)}function n_(n,t,e,r){let i=!1;if(Rb()){const o=null===r?null:{"":-1},u=function LL(n,t){const e=n.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const u=e[o];if(_S(t,u.selectors,!1))if(r||(r=[]),bo(u))if(null!==u.findHostDirectiveDefs){const h=[];i=i||new Map,u.findHostDirectiveDefs(u,h,i),r.unshift(...h,u),r_(n,t,h.length)}else r.unshift(u),r_(n,t,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return null===r?null:[r,i]}(n,e);let h,C;null===u?h=C=null:[h,C]=u,null!==h&&(i=!0,kS(n,t,e,h,o,C)),o&&function FL(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new yt(-301,!1);r.push(t[i],o)}}}(e,r,o)}return e.mergedAttrs=$u(e.mergedAttrs,e.attrs),i}function kS(n,t,e,r,i,o){for(let B=0;B<r.length;B++)og(Of(e,t),n,r[B].type);!function kL(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,r.length);for(let B=0;B<r.length;B++){const Q=r[B];Q.providersResolver&&Q.providersResolver(Q)}let u=!1,h=!1,C=ac(n,t,r.length,null);for(let B=0;B<r.length;B++){const Q=r[B];e.mergedAttrs=$u(e.mergedAttrs,Q.hostAttrs),UL(n,e,t,C,Q),BL(C,Q,i),null!==Q.contentQueries&&(e.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(e.flags|=64);const ge=Q.type.prototype;!u&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),u=!0),!h&&(ge.ngOnChanges||ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),h=!0),C++}!function IL(n,t,e){const i=t.directiveEnd,o=n.data,u=t.attrs,h=[];let C=null,B=null;for(let Q=t.directiveStart;Q<i;Q++){const ge=o[Q],Me=e?e.get(ge):null,Fe=Me?Me.outputs:null;C=LS(ge.inputs,Q,C,Me?Me.inputs:null),B=LS(ge.outputs,Q,B,Fe);const Xe=null===C||null===u||gS(t)?null:HL(C,Q,u);h.push(Xe)}null!==C&&(C.hasOwnProperty("class")&&(t.flags|=8),C.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=C,t.outputs=B}(n,e,o)}function US(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,u=function IO(){return Tn.lFrame.currentDirectiveIndex}();try{ms(o);for(let h=r;h<i;h++){const C=n.data[h],B=t[h];$p(h),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&NL(C,B)}}finally{ms(-1),$p(u)}}function NL(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function r_(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function BL(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;bo(t)&&(e[""]=n)}}function UL(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=hs(i.type)),u=new Yu(o,bo(i),Ve);n.blueprint[r]=u,e[r]=u,function PL(n,t,e,r,i){const o=i.hostBindings;if(o){let u=n.hostBindingOpCodes;null===u&&(u=n.hostBindingOpCodes=[]);const h=~t.index;(function OL(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(u)!=h&&u.push(h),u.push(e,r,o)}}(n,t,r,ac(n,e,i.hostVars,Sn),i)}function Bo(n,t,e,r,i,o){const u=Hi(n,t);!function i_(n,t,e,r,i,o,u){if(null==o)n.removeAttribute(t,i,e);else{const h=null==u?mn(o):u(o,r||"",i);n.setAttribute(t,i,h,e)}}(t[11],u,o,n.value,e,r,i)}function VL(n,t,e,r,i,o){const u=o[t];if(null!==u){const h=r.setInput;for(let C=0;C<u.length;){const B=u[C++],Q=u[C++],ge=u[C++];null!==h?r.setInput(e,ge,B,Q):e[Q]=ge}}}function HL(n,t,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const u=n[o];for(let h=0;h<u.length;h+=2)if(u[h]===t){r.push(o,u[h+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function jS(n,t,e,r){return[n,!0,!1,t,null,0,r,e,null,null]}function zL(n,t){const e=Wi(t,n);if(Cf(e)){const r=e[1];48&e[2]?Zf(r,e,r.template,e[8]):e[5]>0&&o_(e)}}function o_(n){for(let r=yg(n);null!==r;r=Eg(r))for(let i=10;i<r.length;i++){const o=r[i];if(Cf(o))if(512&o[2]){const u=o[1];Zf(u,o,u.template,o[8])}else o[5]>0&&o_(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Wi(e[r],n);Cf(i)&&i[5]>0&&o_(i)}}function GL(n,t){const e=Wi(t,n),r=e[1];(function YL(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),Qg(r,e,e[8])}function Jf(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function a_(n){for(;n;){n[2]|=32;const t=tc(n);if(lO(n)&&!t)return n;n=t}return null}function eh(n,t,e,r=!0){const i=t[10];i.begin&&i.begin();try{Zf(n,t,n.template,e)}catch(u){throw r&&KS(t,u),u}finally{i.end&&i.end()}}function s_(n,t,e){qp(0),t(n,e)}function VS(n){return n[7]||(n[7]=[])}function HS(n){return n.cleanup||(n.cleanup=[])}function KS(n,t){const e=n[9],r=e?e.get(fa,null):null;r&&r.handleError(t)}function l_(n,t,e,r,i){for(let o=0;o<e.length;){const u=e[o++],h=e[o++],C=t[u],B=n.data[u];null!==B.setInput?B.setInput(C,i,r,h):C[h]=i}}function ma(n,t,e){const r=Sf(t,n);!function MT(n,t,e){n.setValue(t,e)}(n[11],r,e)}function th(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let u=0;u<t.length;u++){const h=t[u];"number"==typeof h?o=h:1==o?i=Yn(i,h):2==o&&(r=Yn(r,h+": "+t[++u]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function nh(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(qr(o)),Eo(o))for(let h=10;h<o.length;h++){const C=o[h],B=C[1].firstChild;null!==B&&nh(C[1],C,B,r)}const u=e.type;if(8&u)nh(n,t,e.child,r);else if(32&u){const h=vg(e,t);let C;for(;C=h();)r.push(C)}else if(16&u){const h=FT(t,e);if(Array.isArray(h))r.push(...h);else{const C=tc(t[16]);nh(C[1],C,h,r,!0)}}e=i?e.projectionNext:e.next}return r}class sc{get rootNodes(){const t=this._lView,e=t[1];return nh(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Eo(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Sg(t,r),Nf(e,r))}this._attachedToViewContainer=!1}AT(this._lView[1],this._lView)}onDestroy(t){NS(this._lView[1],this._lView,null,t)}markForCheck(){a_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){eh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new yt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lx(n,t){nc(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new yt(902,!1);this._appRef=t}}class $L extends sc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;eh(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class zS extends Il{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Zn(t);return new lc(e,this.ngModule)}}function GS(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class qL{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=oa(r);const i=this.injector.get(t,Wg,r);return i!==Wg||e===Wg?i:this.parentInjector.get(t,e,r)}}class lc extends dS{get inputs(){return GS(this.componentDef.inputs)}get outputs(){return GS(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function nL(n){return n.map(tL).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof Fo?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const u=o?new qL(t,o):t,h=u.get(oc,null);if(null===h)throw new yt(407,!1);const C=u.get(LN,null),B=h.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ge=r?function DL(n,t,e){return n.selectRootElement(t,e===wi.ShadowDom)}(B,r,this.componentDef.encapsulation):Tg(B,Q,function XL(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Q)),Me=this.componentDef.onPush?288:272,xe=t_(0,null,null,1,0,null,null,null,null,null),Fe=Qf(null,xe,null,Me,null,null,h,B,C,u,null);let Xe,dt;Qp(Fe);try{const mt=this.componentDef;let Bt,Et=null;mt.findHostDirectiveDefs?(Bt=[],Et=new Map,mt.findHostDirectiveDefs(mt,Bt,Et),Bt.push(mt)):Bt=[mt];const Xt=function ZL(n,t){const e=n[1];return n[22]=t,Ol(e,22,2,"#host",null)}(Fe,ge),Vn=function JL(n,t,e,r,i,o,u,h){const C=i[1];!function eF(n,t,e,r){for(const i of n)t.mergedAttrs=$u(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(th(t,t.mergedAttrs,!0),null!==e&&UT(r,e,t))}(r,n,t,u);const B=o.createRenderer(t,e),Q=Qf(i,xS(e),null,e.onPush?32:16,i[n.index],n,o,B,h||null,null,null);return C.firstCreatePass&&r_(C,n,r.length-1),Jf(i,Q),i[n.index]=Q}(Xt,ge,mt,Bt,Fe,h,B);dt=Db(xe,22),ge&&function nF(n,t,e,r){if(r)tg(n,e,["ng-version",FN.full]);else{const{attrs:i,classes:o}=function rL(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!To(i))break;i=o}r++}return{attrs:t,classes:e}}(t.selectors[0]);i&&tg(n,e,i),o&&o.length>0&&kT(n,e,o.join(" "))}}(B,mt,ge,r),void 0!==e&&function rF(n,t,e){const r=n.projection=[];for(let i=0;i<t.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(dt,this.ngContentSelectors,e),Xe=function tF(n,t,e,r,i,o){const u=Qr(),h=i[1],C=Hi(u,i);kS(h,i,u,e,null,r);for(let Q=0;Q<e.length;Q++)ii(ps(i,h,u.directiveStart+Q,u),i);US(h,i,u),C&&ii(C,i);const B=ps(i,h,u.directiveStart+u.componentOffset,u);if(n[8]=i[8]=B,null!==o)for(const Q of o)Q(B,t);return Zg(h,u,n),B}(Vn,mt,Bt,Et,Fe,[iF]),Qg(xe,Fe,null)}finally{Zp()}return new QL(this.componentType,Xe,Rl(dt,Fe),Fe,dt)}}class QL extends RN{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new $L(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;l_(o[1],o,i,t,e),BS(o,this._tNode.index)}}get injector(){return new gl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function iF(){const n=Qr();Df(wt()[1],n)}function Cn(n){let t=function YS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(bo(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new yt(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const u=n;u.inputs=u_(n.inputs),u.declaredInputs=u_(n.declaredInputs),u.outputs=u_(n.outputs);const h=i.hostBindings;h&&lF(n,h);const C=i.viewQuery,B=i.contentQueries;if(C&&aF(n,C),B&&sF(n,B),In(n.inputs,i.inputs),In(n.declaredInputs,i.declaredInputs),In(n.outputs,i.outputs),bo(i)&&i.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let u=0;u<o.length;u++){const h=o[u];h&&h.ngInherit&&h(n),h===Cn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function oF(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=$u(i.hostAttrs,e=$u(e,i.hostAttrs))}}(r)}function u_(n){return n===io?{}:n===Un?[]:n}function aF(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function sF(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function lF(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let rh=null;function Ts(){if(!rh){const n=rr.Symbol;if(n&&n.iterator)rh=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(rh=r)}}}return rh}function ih(n){return!!c_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ts()in n)}function c_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ko(n,t,e){return n[t]=e}function oi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ss(n,t,e,r){const i=oi(n,t,e);return oi(n,t+1,r)||i}function cr(n,t,e,r){const i=wt();return oi(i,ml(),t)&&(jn(),Bo(vr(),i,n,t,e,r)),cr}function Ll(n,t,e,r,i,o){const h=Ss(n,function sa(){return Tn.lFrame.bindingIndex}(),e,i);return la(2),h?t+mn(e)+r+mn(i)+o:Sn}function zt(n,t,e,r,i,o,u,h){const C=wt(),B=jn(),Q=n+22,ge=B.firstCreatePass?function vF(n,t,e,r,i,o,u,h,C){const B=t.consts,Q=Ol(t,n,4,u||null,Va(B,h));n_(t,e,Q,Va(B,C)),Df(t,Q);const ge=Q.tViews=t_(2,Q,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,B);return null!==t.queries&&(t.queries.template(t,Q),ge.queries=t.queries.embeddedTView(Q)),Q}(Q,B,C,t,e,r,i,o,u):B.data[Q];xo(ge,!1);const Me=C[11].createComment("");jf(B,C,Me,ge),ii(Me,C),Jf(C,C[Q]=jS(Me,C,Me,ge)),Tf(ge)&&Jg(B,C,ge),null!=u&&e_(C,ge,h)}function Rr(n){return hl(function MO(){return Tn.lFrame.contextLView}(),22+n)}function bt(n,t,e){const r=wt();return oi(r,ml(),t)&&Gi(jn(),vr(),r,n,t,r[11],e,!1),bt}function d_(n,t,e,r,i){const u=i?"class":"style";l_(n,e,t.inputs[u],u,r)}function xt(n,t,e,r){const i=wt(),o=jn(),u=22+n,h=i[11],C=i[u]=Tg(h,t,function NO(){return Tn.lFrame.currentNamespace}()),B=o.firstCreatePass?function EF(n,t,e,r,i,o,u){const h=t.consts,B=Ol(t,n,2,i,Va(h,o));return n_(t,e,B,Va(h,u)),null!==B.attrs&&th(B,B.attrs,!1),null!==B.mergedAttrs&&th(B,B.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,B),B}(u,o,i,0,t,e,r):o.data[u];return xo(B,!0),UT(h,C,B),32!=(32&B.flags)&&jf(o,i,C,B),0===function EO(){return Tn.lFrame.elementDepthCount}()&&ii(C,i),function bO(){Tn.lFrame.elementDepthCount++}(),Tf(B)&&(Jg(o,i,B),Zg(o,B,i)),null!==r&&e_(i,B),xt}function Ft(){let n=Qr();Gp()?Yp():(n=n.parent,xo(n,!1));const t=n;!function TO(){Tn.lFrame.elementDepthCount--}();const e=jn();return e.firstCreatePass&&(Df(e,n),Wp(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function kO(n){return 0!=(8&n.flags)}(t)&&d_(e,t,wt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function UO(n){return 0!=(16&n.flags)}(t)&&d_(e,t,wt(),t.stylesWithoutHost,!1),Ft}function Jt(n,t,e,r){return xt(n,t,e,r),Ft(),Jt}function Uo(n,t,e){const r=wt(),i=jn(),o=n+22,u=i.firstCreatePass?function bF(n,t,e,r,i){const o=t.consts,u=Va(o,r),h=Ol(t,n,8,"ng-container",u);return null!==u&&th(h,u,!0),n_(t,e,h,Va(o,i)),null!==t.queries&&t.queries.elementStart(t,h),h}(o,i,r,t,e):i.data[o];xo(u,!0);const h=r[o]=r[11].createComment("");return jf(i,r,h,u),ii(h,r),Tf(u)&&(Jg(i,r,u),Zg(i,u,r)),null!=e&&e_(r,u),Uo}function jo(){let n=Qr();const t=jn();return Gp()?Yp():(n=n.parent,xo(n,!1)),t.firstCreatePass&&(Df(t,n),Wp(n)&&t.queries.elementEnd(n)),jo}function cc(n,t,e){return Uo(n,t,e),jo(),cc}function wr(){return wt()}function dc(n){return!!n&&"function"==typeof n.then}function aC(n){return!!n&&"function"==typeof n.subscribe}const f_=aC;function Mn(n,t,e,r){const i=wt(),o=jn(),u=Qr();return function lC(n,t,e,r,i,o,u){const h=Tf(r),B=n.firstCreatePass&&HS(n),Q=t[8],ge=VS(t);let Me=!0;if(3&r.type||u){const Xe=Hi(r,t),dt=u?u(Xe):Xe,mt=ge.length,Bt=u?Xt=>u(qr(Xt[r.index])):r.index;let Et=null;if(!u&&h&&(Et=function TF(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const u=i[o];if(u===e&&i[o+1]===r){const h=t[7],C=i[o+2];return h.length>C?h[C]:null}"string"==typeof u&&(o+=2)}return null}(n,t,i,r.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=o,Et.__ngLastListenerFn__=o,Me=!1;else{o=cC(r,t,Q,o,!1);const Xt=e.listen(dt,i,o);ge.push(o,Xt),B&&B.push(i,Bt,mt,mt+1)}}else o=cC(r,t,Q,o,!1);const xe=r.outputs;let Fe;if(Me&&null!==xe&&(Fe=xe[i])){const Xe=Fe.length;if(Xe)for(let dt=0;dt<Xe;dt+=2){const Vn=t[Fe[dt]][Fe[dt+1]].subscribe(o),Xn=ge.length;ge.push(o,Vn),B&&B.push(i,r.index,Xn,-(Xn+1))}}}(o,i,i[11],u,n,t,r),Mn}function uC(n,t,e,r){try{return!1!==e(r)}catch(i){return KS(n,i),!1}}function cC(n,t,e,r,i){return function o(u){if(u===Function)return r;a_(n.componentOffset>-1?Wi(n.index,t):t);let C=uC(t,0,r,u),B=o.__ngNextListenerFn__;for(;B;)C=uC(t,0,B,u)&&C,B=B.__ngNextListenerFn__;return i&&!1===C&&(u.preventDefault(),u.returnValue=!1),C}}function Qt(n=1){return function wO(n){return(Tn.lFrame.contextLView=function PO(n,t){for(;n>0;)t=t[15],n--;return t}(n,Tn.lFrame.contextLView))[8]}(n)}function SF(n,t){let e=null;const r=function QN(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?_S(n,o,!0):eL(r,o))return i}else e=i}return e}function Yi(n){const t=wt()[16][6];if(!t.projection){const r=t.projection=Qu(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const u=n?SF(o,n):0;null!==u&&(i[u]?i[u].projectionNext=o:r[u]=o,i[u]=o),o=o.next}}}function tr(n,t=0,e){const r=wt(),i=jn(),o=Ol(i,22+n,16,null,e||null);null===o.projection&&(o.projection=t),Yp(),32!=(32&o.flags)&&function Wx(n,t,e){BT(t[11],0,t,e,IT(n,e,t),OT(e.parent||t[6],e,t))}(i,r,o)}function ah(n,t){return n<<17|t<<2}function Ha(n){return n>>17&32767}function m_(n){return 2|n}function Cs(n){return(131068&n)>>2}function p_(n,t){return-131069&n|t<<2}function g_(n){return 1|n}function EC(n,t,e,r,i){const o=n[e+1],u=null===t;let h=r?Ha(o):Cs(o),C=!1;for(;0!==h&&(!1===C||u);){const Q=n[h+1];RF(n[h],t)&&(C=!0,n[h+1]=r?g_(Q):m_(Q)),h=r?Ha(Q):Cs(Q)}C&&(n[e+1]=r?m_(o):g_(o))}function RF(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Tl(n,t)>=0}function Wa(n,t,e){return So(n,t,e,!1),Wa}function yr(n,t){return So(n,t,null,!0),yr}function So(n,t,e,r){const i=wt(),o=jn(),u=la(2);o.firstUpdatePass&&function IC(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[vi()],u=function AC(n,t){return t>=n.expandoStartIndex}(n,e);(function OC(n,t){return 0!=(n.flags&(t?8:16))})(o,r)&&null===t&&!u&&(t=!1),t=function kF(n,t,e,r){const i=function Xp(n){const t=Tn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=fc(e=__(null,n,t,e,r),t.attrs,r),o=null);else{const u=t.directiveStylingLast;if(-1===u||n[u]!==i)if(e=__(i,n,t,e,r),null===o){let C=function UF(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Cs(r))return n[Ha(r)]}(n,t,r);void 0!==C&&Array.isArray(C)&&(C=__(null,n,t,C[1],r),C=fc(C,t.attrs,r),function jF(n,t,e,r){n[Ha(e?t.classBindings:t.styleBindings)]=r}(n,t,r,C))}else o=function VF(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=fc(r,n[o].hostAttrs,e);return fc(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function AF(n,t,e,r,i,o){let u=o?t.classBindings:t.styleBindings,h=Ha(u),C=Cs(u);n[r]=e;let Q,B=!1;if(Array.isArray(e)?(Q=e[1],(null===Q||Tl(e,Q)>0)&&(B=!0)):Q=e,i)if(0!==C){const Me=Ha(n[h+1]);n[r+1]=ah(Me,h),0!==Me&&(n[Me+1]=p_(n[Me+1],r)),n[h+1]=function MF(n,t){return 131071&n|t<<17}(n[h+1],r)}else n[r+1]=ah(h,0),0!==h&&(n[h+1]=p_(n[h+1],r)),h=r;else n[r+1]=ah(C,0),0===h?h=r:n[C+1]=p_(n[C+1],r),C=r;B&&(n[r+1]=m_(n[r+1])),EC(n,Q,r,!0),EC(n,Q,r,!1),function IF(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Tl(o,t)>=0&&(e[r+1]=g_(e[r+1]))}(t,Q,n,r,o),u=ah(h,C),o?t.classBindings=u:t.styleBindings=u}(i,o,t,e,u,r)}}(o,n,u,r),t!==Sn&&oi(i,u,t)&&function wC(n,t,e,r,i,o,u,h){if(!(3&t.type))return;const C=n.data,B=C[h+1],Q=function DF(n){return 1==(1&n)}(B)?PC(C,t,e,i,Cs(B),u):void 0;sh(Q)||(sh(o)||function CF(n){return 2==(2&n)}(B)&&(o=PC(C,null,e,i,h,u)),function zx(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:Pi.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Pi.Important),n.setStyle(e,r,i,o))}}(r,u,Sf(vi(),e),i,o))}(o,o.data[vi()],i,i[11],n,i[u+1]=function KF(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=cn(zi(n)))),n}(t,e),r,u)}function __(n,t,e,r,i){let o=null;const u=e.directiveEnd;let h=e.directiveStylingLast;for(-1===h?h=e.directiveStart:h++;h<u&&(o=t[h],r=fc(r,o.hostAttrs,i),o!==n);)h++;return null!==n&&(e.directiveStylingLast=h),r}function fc(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const u=t[o];"number"==typeof u?i=u:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ki(n,u,!!e||t[++o]))}return void 0===n?null:n}function PC(n,t,e,r,i,o){const u=null===t;let h;for(;i>0;){const C=n[i],B=Array.isArray(C),Q=B?C[1]:C,ge=null===Q;let Me=e[i+1];Me===Sn&&(Me=ge?Un:void 0);let xe=ge?ug(Me,r):Q===r?Me:void 0;if(B&&!sh(xe)&&(xe=ug(C,r)),sh(xe)&&(h=xe,u))return h;const Fe=n[i+1];i=u?Ha(Fe):Cs(Fe)}if(null!==t){let C=o?t.residualClasses:t.residualStyles;null!=C&&(h=ug(C,r))}return h}function sh(n){return void 0!==n}function Ln(n,t=""){const e=wt(),r=jn(),i=n+22,o=r.firstCreatePass?Ol(r,i,1,t,null):r.data[i],u=e[i]=function bg(n,t){return n.createText(t)}(e[11],t);jf(r,e,u,o),xo(o,!1)}function yi(n){return Zr("",n,""),yi}function Zr(n,t,e){const r=wt(),i=function Nl(n,t,e,r){return oi(n,ml(),e)?t+mn(e)+r:Sn}(r,n,t,e);return i!==Sn&&ma(r,vi(),i),Zr}function lh(n,t,e,r,i){const o=wt(),u=Ll(o,n,t,e,r,i);return u!==Sn&&ma(o,vi(),u),lh}function hc(n,t,e){const r=wt();return oi(r,ml(),t)&&Gi(jn(),vr(),r,n,t,r[11],e,!0),hc}const Kl="en-US";let ZC=Kl;function E_(n,t,e,r,i){if(n=on(n),Array.isArray(n))for(let o=0;o<n.length;o++)E_(n[o],t,e,r,i);else{const o=jn(),u=wt();let h=Es(n)?n:on(n.provide),C=cS(n);const B=Qr(),Q=1048575&B.providerIndexes,ge=B.directiveStart,Me=B.providerIndexes>>20;if(Es(n)||!n.multi){const xe=new Yu(C,i,Ve),Fe=T_(h,t,i?Q:Q+Me,ge);-1===Fe?(og(Of(B,u),o,h),b_(o,n,t.length),t.push(h),B.directiveStart++,B.directiveEnd++,i&&(B.providerIndexes+=1048576),e.push(xe),u.push(xe)):(e[Fe]=xe,u[Fe]=xe)}else{const xe=T_(h,t,Q+Me,ge),Fe=T_(h,t,Q,Q+Me),dt=Fe>=0&&e[Fe];if(i&&!dt||!i&&!(xe>=0&&e[xe])){og(Of(B,u),o,h);const mt=function uB(n,t,e,r,i){const o=new Yu(n,e,Ve);return o.multi=[],o.index=t,o.componentProviders=0,C0(o,i,r&&!e),o}(i?lB:sB,e.length,i,r,C);!i&&dt&&(e[Fe].providerFactory=mt),b_(o,n,t.length,0),t.push(h),B.directiveStart++,B.directiveEnd++,i&&(B.providerIndexes+=1048576),e.push(mt),u.push(mt)}else b_(o,n,xe>-1?xe:Fe,C0(e[i?Fe:xe],C,!i&&r));!i&&r&&dt&&e[Fe].componentProviders++}}}function b_(n,t,e,r){const i=Es(t),o=function TN(n){return!!n.useClass}(t);if(i||o){const C=(o?on(t.useClass):t).prototype.ngOnDestroy;if(C){const B=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const Q=B.indexOf(e);-1===Q?B.push(e,[r,C]):B[Q+1].push(r,C)}else B.push(e,C)}}}function C0(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function T_(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function sB(n,t,e,r){return S_(this.multi,[])}function lB(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const u=this.providerFactory.componentProviders,h=ps(e,e[1],this.providerFactory.index,r);o=h.slice(0,u),S_(i,o);for(let C=u;C<h.length;C++)o.push(h[C])}else o=[],S_(i,o);return o}function S_(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Jn(n,t=[]){return e=>{e.providersResolver=(r,i)=>function aB(n,t,e){const r=jn();if(r.firstCreatePass){const i=bo(n);E_(e,r.data,r.blueprint,i,!0),E_(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class zl{}class M0{}class D0 extends zl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zS(this);const r=Ui(t);this._bootstrapComponents=ha(r.bootstrap),this._r3Injector=CS(t,e,[{provide:zl,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],cn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class C_ extends M0{constructor(t){super(),this.moduleType=t}create(t){return new D0(this.moduleType,t)}}class dB extends zl{constructor(t,e,r){super(),this.componentFactoryResolver=new zS(this),this.instance=null;const i=new uS([...t,{provide:zl,useValue:this},{provide:Il,useValue:this.componentFactoryResolver}],e||$f(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function hh(n,t,e=null){return new dB(n,t,e).injector}let fB=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=oS(0,e.type),i=r.length>0?hh([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=vt({token:n,providedIn:"environment",factory:()=>new n(st(Fo))}),n})();function er(n){n.getStandaloneInjector=t=>t.get(fB).getOrCreateStandaloneInjector(n)}function Mo(n,t,e,r){return x0(wt(),_i(),n,t,e,r)}function D_(n,t,e,r,i){return function N0(n,t,e,r,i,o,u){const h=t+e;return Ss(n,h,i,o)?ko(n,h+2,u?r.call(u,i,o):r(i,o)):yc(n,h+2)}(wt(),_i(),n,t,e,r,i)}function yc(n,t){const e=n[t];return e===Sn?void 0:e}function x0(n,t,e,r,i,o){const u=t+e;return oi(n,u,i)?ko(n,u+1,o?r.call(o,i):r(i)):yc(n,u+1)}function pr(n,t){const e=jn();let r;const i=n+22;e.firstCreatePass?(r=function RB(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=hs(r.type)),u=Ri(Ve);try{const h=Pf(!1),C=o();return Pf(h),function yF(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,wt(),i,C),C}finally{Ri(u)}}function gr(n,t,e){const r=n+22,i=wt(),o=hl(i,r);return function Ec(n,t){return n[1].data[t].pure}(i,r)?x0(i,_i(),t,o.transform,e,o):o.transform(e)}function A_(n){return t=>{setTimeout(n,void 0,t)}}const ir=class NB extends de{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),u=r;if(t&&"object"==typeof t){const C=t;i=C.next?.bind(C),o=C.error?.bind(C),u=C.complete?.bind(C)}this.__isAsync&&(o=A_(o),i&&(i=A_(i)),u&&(u=A_(u)));const h=super.subscribe({next:i,error:o,complete:u});return t instanceof w&&t.add(h),h}};function LB(){return this._results[Ts()]()}class Gl{get changes(){return this._changes||(this._changes=new ir)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ts(),r=Gl.prototype;r[e]||(r[e]=LB)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=function ao(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function XO(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wo=(()=>{class n{}return n.__NG_ELEMENT_ID__=kB,n})();const FB=Wo,BB=class extends FB{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=Qf(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[19];return null!==u&&(i[19]=u.createEmbeddedView(r)),Qg(r,i,t),new sc(i)}};function kB(){return mh(Qr(),wt())}function mh(n,t){return 4&n.type?new BB(t,n,Rl(n,t)):null}let $i=(()=>{class n{}return n.__NG_ELEMENT_ID__=UB,n})();function UB(){return j0(Qr(),wt())}const jB=$i,k0=class extends jB{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Rl(this._hostTNode,this._hostLView)}get injector(){return new gl(this._hostTNode,this._hostLView)}get parentInjector(){const t=ig(this._hostTNode,this._hostLView);if(zb(t)){const e=wf(t,this._hostLView),r=Rf(t);return new gl(e[1].data[r+8],e)}return new gl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=U0(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const u=t.createEmbeddedView(e||{},o);return this.insert(u,i),u}createComponent(t,e,r,i,o){const u=t&&!function qu(n){return"function"==typeof n}(t);let h;if(u)h=e;else{const ge=e||{};h=ge.index,r=ge.injector,i=ge.projectableNodes,o=ge.environmentInjector||ge.ngModuleRef}const C=u?t:new lc(Zn(t)),B=r||this.parentInjector;if(!o&&null==C.ngModule){const Me=(u?B:this.parentInjector).get(Fo,null);Me&&(o=Me)}const Q=C.create(B,i,void 0,o);return this.insert(Q.hostView,h),Q}insert(t,e){const r=t._lView,i=r[1];if(function yO(n){return Eo(n[3])}(r)){const Q=this.indexOf(t);if(-1!==Q)this.detach(Q);else{const ge=r[3],Me=new k0(ge,ge[6],ge[3]);Me.detach(Me.indexOf(t))}}const o=this._adjustIndex(e),u=this._lContainer;!function Bx(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],rT(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const u=t[17];null!==u&&e!==u&&function kx(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(u,t);const h=t[19];null!==h&&h.insertView(n),t[2]|=64}(i,r,u,o);const h=Dg(o,u),C=r[11],B=Uf(C,u[7]);return null!==B&&function Nx(n,t,e,r,i,o){r[0]=i,r[6]=t,nc(n,r,e,1,i,o)}(i,u[6],C,r,B,h),t.attachToViewContainerRef(),rT(I_(u),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=U0(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Sg(this._lContainer,e);r&&(Nf(I_(this._lContainer),e),AT(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Sg(this._lContainer,e);return r&&null!=Nf(I_(this._lContainer),e)?new sc(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function U0(n){return n[8]}function I_(n){return n[8]||(n[8]=[])}function j0(n,t){let e;const r=t[n.index];if(Eo(r))e=r;else{let i;if(8&n.type)i=qr(r);else{const o=t[11];i=o.createComment("");const u=Hi(n,t);_s(o,Uf(o,u),i,function Hx(n,t){return n.nextSibling(t)}(o,u),!1)}t[n.index]=e=jS(r,t,i,n),Jf(t,e)}return new k0(e,n,t)}class R_{constructor(t){this.queryList=t,this.matches=null}clone(){return new R_(this.queryList)}setDirty(){this.queryList.setDirty()}}class w_{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const u=e.getByIndex(o);i.push(this.queries[u.indexInDeclarationView].clone())}return new w_(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==z0(t,e).matches&&this.queries[e].setDirty()}}class V0{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class P_{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new P_(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class O_{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new O_(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,VB(e,o)),this.matchTNodeWithReadOption(t,e,xf(e,t,o,!1,!1))}else r===Wo?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,xf(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Nn||i===$i||i===Wo&&4&e.type)this.addMatch(e.index,-2);else{const o=xf(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function VB(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function WB(n,t,e,r){return-1===e?function HB(n,t){return 11&n.type?Rl(n,t):4&n.type?mh(n,t):null}(t,n):-2===e?function KB(n,t,e){return e===Nn?Rl(t,n):e===Wo?mh(t,n):e===$i?j0(t,n):void 0}(n,t,r):ps(n,n[1],e,t)}function H0(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const o=n.data,u=e.matches,h=[];for(let C=0;C<u.length;C+=2){const B=u[C];h.push(B<0?null:WB(t,o[B],u[C+1],e.metadata.read))}i.matches=h}return i.matches}function x_(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const u=H0(n,t,i,e);for(let h=0;h<o.length;h+=2){const C=o[h];if(C>0)r.push(u[h/2]);else{const B=o[h+1],Q=t[-C];for(let ge=10;ge<Q.length;ge++){const Me=Q[ge];Me[17]===Me[3]&&x_(Me[1],Me,B,r)}if(null!==Q[9]){const ge=Q[9];for(let Me=0;Me<ge.length;Me++){const xe=ge[Me];x_(xe[1],xe,B,r)}}}}}return r}function ar(n){const t=wt(),e=jn(),r=Nb();qp(r+1);const i=z0(e,r);if(n.dirty&&function vO(n){return 4==(4&n[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?x_(e,t,r,[]):H0(e,t,i,r);n.reset(o,xN),n.notifyOnChanges()}return!0}return!1}function bi(n,t,e){const r=jn();r.firstCreatePass&&(K0(r,new V0(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),W0(r,wt(),t)}function Xi(n,t,e,r){const i=jn();if(i.firstCreatePass){const o=Qr();K0(i,new V0(t,e,r),o.index),function GB(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}W0(i,wt(),e)}function sr(){return function zB(n,t){return n[19].queries[t].queryList}(wt(),Nb())}function W0(n,t,e){const r=new Gl(4==(4&e));NS(n,t,r,r.destroy),null===t[19]&&(t[19]=new w_),t[19].queries.push(new R_(r))}function K0(n,t,e){null===n.queries&&(n.queries=new P_),n.queries.track(new O_(t,e))}function z0(n,t){return n.queries.getByIndex(t)}function N_(n,t){return mh(n,t)}function gh(...n){}const Tc=new Ut("Application Initializer");let _h=(()=>{class n{constructor(e){this.appInits=e,this.resolve=gh,this.reject=gh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(dc(o))e.push(o);else if(f_(o)){const u=new Promise((h,C)=>{o.subscribe({complete:h,error:C})});e.push(u)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(st(Tc,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vh=new Ut("AppId",{providedIn:"root",factory:function cM(){return`${U_()}${U_()}${U_()}`}});function U_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dM=new Ut("Platform Initializer"),yh=new Ut("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),j_=new Ut("appBootstrapListener"),Ko=new Ut("AnimationModuleType");let fk=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const zo=new Ut("LocaleId",{providedIn:"root",factory:()=>yn(zo,hn.Optional|hn.SkipSelf)||function hk(){return typeof $localize<"u"&&$localize.locale||Kl}()});class pk{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let fM=(()=>{class n{compileModuleSync(e){return new C_(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=ha(Ui(e).declarations).reduce((u,h)=>{const C=Zn(h);return C&&u.push(new lc(C)),u},[]);return new pk(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vk=(()=>Promise.resolve(0))();class En{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ir(!1),this.onMicrotaskEmpty=new ir(!1),this.onStable=new ir(!1),this.onError=new ir(!1),typeof Zone>"u")throw new yt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yk(){let n=rr.requestAnimationFrame,t=rr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Tk(n){const t=()=>{!function bk(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(rr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,W_(n),n.isCheckStableRunning=!0,H_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),W_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,u,h)=>{try{return pM(n),e.invokeTask(i,o,u,h)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),gM(n)}},onInvoke:(e,r,i,o,u,h,C)=>{try{return pM(n),e.invoke(i,o,u,h,C)}finally{n.shouldCoalesceRunChangeDetection&&t(),gM(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,W_(n),H_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!En.isInAngularZone())throw new yt(909,!1)}static assertNotInAngularZone(){if(En.isInAngularZone())throw new yt(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,u=o.scheduleEventTask("NgZoneEvent: "+i,t,Ek,gh,gh);try{return o.runTask(u,e,r)}finally{o.cancelTask(u)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const Ek={};function H_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function W_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function pM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gM(n){n._nesting--,H_(n)}class Sk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ir,this.onMicrotaskEmpty=new ir,this.onStable=new ir,this.onError=new ir}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const _M=new Ut("");let Ka=null;const Y_=new Ut("PlatformDestroyListeners");class yM{constructor(t,e){this.name=t,this.token=e}}function Rk(n){const{rootComponent:t,appProviders:e,platformProviders:r}=n,i=function Ik(n=[]){if(Ka)return Ka;const t=function bM(n=[],t){return xi.create({name:t,providers:[{provide:Ug,useValue:"platform"},{provide:Y_,useValue:new Set([()=>Ka=null])},...n]})}(n);return Ka=t,function EM(n){const t=n.get(dM,null);t&&t.forEach(e=>e())}(t),t}(r),o=function CM(n,t){let e;return e="noop"===n?new Sk:("zone.js"===n?void 0:n)||new En(t),e}("zone.js",function SM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return o.run(()=>{const h=hh([{provide:En,useValue:o},...e||[]],i,"Environment Injector"),C=h.get(fa,null);let B;o.runOutsideAngular(()=>{B=o.onError.subscribe({next:Me=>{C.handleError(Me)}})});const Q=()=>h.destroy(),ge=i.get(Y_);return ge.add(Q),h.onDestroy(()=>{B.unsubscribe(),ge.delete(Q)}),function MM(n,t,e){try{const r=e();return dc(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(C,o,()=>{const Me=h.get(_h);return Me.runInitializers(),Me.donePromise.then(()=>{!function JC(n){ft(n,"Expected localeId to be defined"),"string"==typeof n&&(ZC=n.toLowerCase().replace(/_/g,"-"))}(h.get(zo,Kl)||Kl);const Fe=h.get(Xl);return void 0!==t&&Fe.bootstrap(t),Fe})})})}let Xl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new G(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),u=new G(h=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{En.assertNotInAngularZone(),function V_(n){typeof Zone>"u"?vk.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{En.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{C.unsubscribe(),B.unsubscribe()}});this.isStable=Ke(o,u.pipe(It()))}bootstrap(e,r){const i=e instanceof dS;if(!this._injector.get(_h).done)throw!i&&function ll(n){const t=Zn(n)||ti(n)||pi(n);return null!==t&&t.standalone}(e),new yt(405,false);let u;u=i?e:this._injector.get(Il).resolveComponentFactory(e),this.componentTypes.push(u.componentType);const h=function Dk(n){return n.isBoundToModule}(u)?void 0:this._injector.get(zl),B=u.create(xi.NULL,[],r||u.selector,h),Q=B.location.nativeElement,ge=B.injector.get(_M,null);return ge?.registerApplication(Q),B.onDestroy(()=>{this.detachView(B.hostView),bh(this.components,B),ge?.unregisterApplication(Q)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new yt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;bh(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(j_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>bh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new yt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(st(En),st(Fo),st(fa))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Ni=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ok,n})();function Ok(n){return function xk(n,t,e){if(zu(n)&&!e){const r=Wi(n.index,t);return new sc(r,r)}return 47&n.type?new sc(t[16],t):null}(Qr(),wt(),16==(16&n))}class PM{constructor(){}supports(t){return ih(t)}create(t){return new Uk(t)}}const kk=(n,t)=>t;class Uk{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||kk}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const u=!r||e&&e.currentIndex<xM(r,i,o)?e:r,h=xM(u,i,o),C=u.currentIndex;if(u===r)i--,r=r._nextRemoved;else if(e=e._next,null==u.previousIndex)i++;else{o||(o=[]);const B=h-i,Q=C-i;if(B!=Q){for(let Me=0;Me<B;Me++){const xe=Me<o.length?o[Me]:o[Me]=0,Fe=xe+Me;Q<=Fe&&Fe<B&&(o[Me]=xe+1)}o[u.previousIndex]=Q-B}}h!==C&&t(u,h,C)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ih(t))throw new yt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,u,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)o=t[h],u=this._trackByFn(h,o),null!==e&&Object.is(e.trackById,u)?(r&&(e=this._verifyReinsertion(e,o,u,h)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,u,h),r=!0),e=e._next}else i=0,function pF(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Ts()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,h=>{u=this._trackByFn(i,h),null!==e&&Object.is(e.trackById,u)?(r&&(e=this._verifyReinsertion(e,h,u,i)),Object.is(e.item,h)||this._addIdentityChange(e,h)):(e=this._mismatch(e,h,u,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new jk(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new OM),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class jk{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vk{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class OM{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new Vk,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xM(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class NM{constructor(){}supports(t){return t instanceof Map||c_(t)}create(){return new Hk}}class Hk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||c_(t)))throw new yt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,u=i._next;return o&&(o._next=u),u&&(u._prev=o),i._next=null,i._prev=null,i}const r=new Wk(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class Wk{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LM(){return new Ch([new PM])}let Ch=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||LM()),deps:[[n,new Sl,new ua]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new yt(901,!1)}}return n.\u0275prov=vt({token:n,providedIn:"root",factory:LM}),n})();function FM(){return new Sc([new NM])}let Sc=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||FM()),deps:[[n,new Sl,new ua]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new yt(901,!1)}}return n.\u0275prov=vt({token:n,providedIn:"root",factory:FM}),n})();function ql(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let J_=null;function Go(){return J_}class $k{}const wn=new Ut("DocumentToken");let ev=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(){return function Xk(){return st(BM)}()},providedIn:"platform"}),n})();const qk=new Ut("Location Initialized");let BM=(()=>{class n extends ev{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Go().getBaseHref(this._doc)}onPopState(e){const r=Go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){kM()?this._history.pushState(e,r,i):this._location.hash=i}replaceState(e,r,i){kM()?this._history.replaceState(e,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(st(wn))},n.\u0275prov=vt({token:n,factory:function(){return function Qk(){return new BM(st(wn))}()},providedIn:"platform"}),n})();function kM(){return!!window.history.pushState}function tv(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function UM(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ga(n){return n&&"?"!==n[0]?"?"+n:n}let As=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(){return yn(VM)},providedIn:"root"}),n})();const jM=new Ut("appBaseHref");let VM=(()=>{class n extends As{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??yn(wn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return tv(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ga(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const u=this.prepareExternalUrl(i+ga(o));this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,o){const u=this.prepareExternalUrl(i+ga(o));this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(st(ev),st(jM,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zk=(()=>{class n extends As{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=tv(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let u=this.prepareExternalUrl(i+ga(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,o){let u=this.prepareExternalUrl(i+ga(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(st(ev),st(jM,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),Mh=(()=>{class n{constructor(e){this._subject=new ir,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function tU(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(UM(HM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ga(r))}normalize(e){return n.stripTrailingSlash(function eU(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,HM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ga(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ga(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=ga,n.joinWithSlash=tv,n.stripTrailingSlash=UM,n.\u0275fac=function(e){return new(e||n)(st(As))},n.\u0275prov=vt({token:n,factory:function(){return function Jk(){return new Mh(st(As))}()},providedIn:"root"}),n})();function HM(n){return n.replace(/\/index.html$/,"")}function QM(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}const dv=/\s+/,ZM=[];let Ql=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=ZM,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(dv):ZM}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(dv):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,Boolean(e[r]));this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(dv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(Ve(Ch),Ve(Sc),Ve(Nn),Ve(da))},n.\u0275dir=Wt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class UU{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let za=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new UU(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===o?void 0:o);else if(null!==o){const h=r.get(o);r.move(h,u),tD(h,i)}});for(let i=0,o=r.length;i<o;i++){const h=r.get(i).context;h.index=i,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{tD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(Ve($i),Ve(Wo),Ve(Ch))},n.\u0275dir=Wt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function tD(n,t){n.context.$implicit=t.item}let jr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new VU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){nD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){nD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(Ve($i),Ve(Wo))},n.\u0275dir=Wt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class VU{constructor(){this.$implicit=null,this.ngIf=null}}function nD(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${cn(t)}'.`)}class fv{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Lh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Wt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),rD=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new fv(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(Ve($i),Ve(Wo),Ve(Lh,9))},n.\u0275dir=Wt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Dc=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split("."),u=-1===i.indexOf("-")?void 0:Pi.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Sc),Ve(da))},n.\u0275dir=Wt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),hv=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(Ve($i))},n.\u0275dir=Wt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Vi]}),n})();class KU{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class zU{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const GU=new zU,YU=new KU;let Is=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(dc(e))return GU;if(aC(e))return YU;throw function Io(n,t){return new yt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(Ve(Ni,16))},n.\u0275pipe=Xr({name:"async",type:n,pure:!1,standalone:!0}),n})(),or=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({}),n})();const aD="browser";let yv,pj=(()=>{class n{}return n.\u0275prov=vt({token:n,providedIn:"root",factory:()=>new gj(st(wn),window)}),n})();class gj{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function _j(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=sD(this.window.history)||sD(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function sD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class lD{}try{yv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yv=!1}let Zl,Vr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function mj(n){return n===aD}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(st(yh))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hD=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function mD(){if(Zl)return Zl;if("object"!=typeof document||!document)return Zl=new Set(hD),Zl;let n=document.createElement("input");return Zl=new Set(hD.filter(t=>(n.setAttribute("type",t),n.type===t))),Zl}let Ic,Bh,ws,Ev;function Rs(n){return function Kj(){if(null==Ic&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ic=!0}))}finally{Ic=Ic||!1}return Ic}()?n:!!n.capture}function pD(){if(null==ws){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ws=!1,ws;if("scrollBehavior"in document.documentElement.style)ws=!0;else{const n=Element.prototype.scrollTo;ws=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ws}function Rc(){if("object"!=typeof document||!document)return 0;if(null==Bh){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),Bh=0,0===n.scrollLeft&&(n.scrollLeft=1,Bh=0===n.scrollLeft?1:2),n.remove()}return Bh}function Ga(n){return n.composedPath?n.composedPath()[0]:n.target}function bv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class qi extends de{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function rn(...n){return Pt(n,Ue(n))}function Cv(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Kn(n,t,e){const r=m(n)||t||e?{next:n,error:t,complete:e}:n;return r?he((i,o)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let h=!0;i.subscribe(fe(o,C=>{var B;null===(B=r.next)||void 0===B||B.call(r,C),o.next(C)},()=>{var C;h=!1,null===(C=r.complete)||void 0===C||C.call(r),o.complete()},C=>{var B;h=!1,null===(B=r.error)||void 0===B||B.call(r,C),o.error(C)},()=>{var C,B;h&&(null===(C=r.unsubscribe)||void 0===C||C.call(r)),null===(B=r.finalize)||void 0===B||B.call(r)}))}):W}class uV extends w{constructor(t,e){super()}schedule(t,e=0){return this}}const kh={setInterval(n,t,...e){const{delegate:r}=kh;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=kh;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Mv extends uV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return kh.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&kh.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const yD={now:()=>(yD.delegate||Date).now(),delegate:void 0};class wc{constructor(t,e=wc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}wc.now=yD.now;class Dv extends wc{constructor(t,e=wc.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const Uh=new Dv(Mv),cV=Uh;function jh(n,t=Uh){return he((e,r)=>{let i=null,o=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const B=o;o=null,r.next(B)}};function C(){const B=u+n,Q=t.now();if(Q<B)return i=this.schedule(void 0,B-Q),void r.add(i);h()}e.subscribe(fe(r,B=>{o=B,u=t.now(),i||(i=t.schedule(C,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{o=i=null}))})}function Hr(n,t){return he((e,r)=>{let i=0;e.subscribe(fe(r,o=>n.call(t,o,i++)&&r.next(o)))})}function ED(n){return Hr((t,e)=>n<=e)}function fV(n,t){return n===t}function Wr(n){return he((t,e)=>{Ze(n).subscribe(fe(e,()=>e.complete(),f)),!e.closed&&t.subscribe(e)})}function Qi(n){return null!=n&&"false"!=`${n}`}function Jl(n,t=0){return function hV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Vh(n){return Array.isArray(n)?n:[n]}function Nr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function va(n){return n instanceof Nn?n.nativeElement:n}let bD=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mV=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=va(e);return new G(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new de,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(st(bD))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pV=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Qi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Jl(e),this._subscribe()}constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new ir,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(jh(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(Ve(mV),Ve(Nn),Ve(En))},n.\u0275dir=Wt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),TD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({providers:[bD]}),n})();const{isArray:gV}=Array,{getPrototypeOf:_V,prototype:vV,keys:yV}=Object;function SD(n){if(1===n.length){const t=n[0];if(gV(t))return{args:t,keys:null};if(function EV(n){return n&&"object"==typeof n&&_V(n)===vV}(t)){const e=yV(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:bV}=Array;function Av(n){return se(t=>function TV(n,t){return bV(t)?n(...t):n(t)}(n,t))}function CD(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Iv(...n){const t=Ue(n),e=Ct(n),{args:r,keys:i}=SD(n);if(0===r.length)return Pt([],t);const o=new G(function SV(n,t,e=W){return r=>{MD(t,()=>{const{length:i}=n,o=new Array(i);let u=i,h=i;for(let C=0;C<i;C++)MD(t,()=>{const B=Pt(n[C],t);let Q=!1;B.subscribe(fe(r,ge=>{o[C]=ge,Q||(Q=!0,h--),h||r.next(e(o.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,i?u=>CD(i,u):W));return e?o.pipe(Av(e)):o}function MD(n,t,e){n?At(e,n,t):t()}function Pc(...n){return function CV(){return un(1)}()(Pt(n,Ue(n)))}function Fi(n){return n<=0?()=>en:he((t,e)=>{let r=0;t.subscribe(fe(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function eu(...n){const t=Ue(n);return he((e,r)=>{(t?Pc(n,e,t):Pc(n,e)).subscribe(r)})}const DD=new Set;let tu,MV=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):AV}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function DV(n){if(!DD.has(n))try{tu||(tu=document.createElement("style"),tu.setAttribute("type","text/css"),document.head.appendChild(tu)),tu.sheet&&(tu.sheet.insertRule(`@media ${n} {body{ }}`,0),DD.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(st(Vr))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AV(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let IV=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new de}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return AD(Vh(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=Iv(AD(Vh(e)).map(u=>this._registerQuery(u).observable));return o=Pc(o.pipe(Fi(1)),o.pipe(ED(1),jh(0))),o.pipe(se(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:C,query:B})=>{h.matches=h.matches||C,h.breakpoints[B]=C}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new G(u=>{const h=C=>this._zone.run(()=>u.next(C));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(eu(r),se(({matches:u})=>({query:e,matches:u})),Wr(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(st(MV),st(En))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AD(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Hh(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const RD="cdk-describedby-message",Wh="cdk-describedby-host";let Rv=0,PV=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Rv++,this._document=e,this._id=yn(vh)+"-"+Rv++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const o=wv(r,i);"string"!=typeof r?(wD(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const o=wv(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof r){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Wh}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(Wh);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");wD(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(wv(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=Hh(e,"aria-describedby").filter(i=>0!=i.indexOf(RD));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function RV(n,t,e){const r=Hh(n,t);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),n.setAttribute(t,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(Wh,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function wV(n,t,e){const i=Hh(n,t).filter(o=>o!=e.trim());i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(Wh)}_isElementDescribedByMessage(e,r){const i=Hh(e,"aria-describedby"),o=this._messageRegistry.get(r),u=o&&o.messageElement.id;return!!u&&-1!=i.indexOf(u)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=e.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(st(wn),st(Vr))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wv(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function wD(n,t){n.id||(n.id=`${RD}-${t}-${Rv++}`)}class OV{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new de,this._typeaheadSubscription=w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new de,this.change=new de,t instanceof Gl&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Kn(e=>this._pressedLetters.push(e)),jh(t),Hr(()=>this._pressedLetters.length>0),se(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,u=r[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(o<u?o:u-1,-1);break}return;default:return void((i||Cv(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Gl?this._items.toArray():this._items}}class xV extends OV{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Pv(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Ov(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const UV=new Ut("cdk-input-modality-detector-options"),jV={ignoreKeys:[18,17,224,91,16]},nu=Rs({passive:!0,capture:!0});let VV=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new qi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ga(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Pv(u)?"keyboard":"mouse"),this._mostRecentTarget=Ga(u))},this._onTouchstart=u=>{Ov(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ga(u))},this._options={...jV,...o},this.modalityDetected=this._modality.pipe(ED(1)),this.modalityChanged=this.modalityDetected.pipe(function dV(n,t=W){return n=n??fV,he((e,r)=>{let i,o=!0;e.subscribe(fe(r,u=>{const h=t(u);(o||!n(i,h))&&(o=!1,i=h,r.next(u))}))})}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,nu),i.addEventListener("mousedown",this._onMousedown,nu),i.addEventListener("touchstart",this._onTouchstart,nu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,nu),document.removeEventListener("mousedown",this._onMousedown,nu),document.removeEventListener("touchstart",this._onTouchstart,nu))}}return n.\u0275fac=function(e){return new(e||n)(st(Vr),st(En),st(wn),st(UV,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WV=new Ut("cdk-focus-monitor-default-options"),Kh=Rs({passive:!0,capture:!0});let zh=(()=>{class n{constructor(e,r,i,o,u){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new de,this._rootNodeFocusAndBlurListener=h=>{for(let B=Ga(h);B;B=B.parentElement)"focus"===h.type?this._onFocus(h,B):this._onBlur(h,B)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,r=!1){const i=va(e);if(!this._platform.isBrowser||1!==i.nodeType)return rn(null);const o=function Gj(n){if(function zj(){if(null==Ev){const n=typeof document<"u"?document.head:null;Ev=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Ev}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new de,rootNode:o};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const r=va(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=va(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,C])=>this._originChanged(h,r,C)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=Ga(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kh)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Wr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(st(En),st(Vr),st(VV),st(wn,8),st(WV,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xD="cdk-high-contrast-black-on-white",ND="cdk-high-contrast-white-on-black",xv="cdk-high-contrast-active";let LD=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=yn(IV).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(xv,xD,ND),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(xv,xD):2===r&&e.add(xv,ND)}}}return n.\u0275fac=function(e){return new(e||n)(st(Vr),st(wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KV=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(st(LD))},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[TD]}),n})();const zV=new Ut("cdk-dir-doc",{providedIn:"root",factory:function GV(){return yn(wn)}}),YV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ps=(()=>{class n{constructor(e){this.value="ltr",this.change=new ir,e&&(this.value=function $V(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?YV.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(st(zV,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({}),n})();const qV=new Ut("mat-sanity-checks",{providedIn:"root",factory:function XV(){return!0}});let Kr=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!bv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(st(LD),st(qV,8),st(wn))},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Oc,Oc]}),n})();function kD(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Qi(t)}constructor(...t){super(...t),this._disabled=!1}}}function Gh(n,t){return class extends n{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function UD(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qi(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function QV(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let jD=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JV{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const VD=Rs({passive:!0,capture:!0});class e2{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Ga(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,r,i){const o=this._events.get(e);if(o){const u=o.get(r);u?u.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,VD)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const o=i.get(e);o&&(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,VD)))}}const HD={enterDuration:225,exitDuration:150},WD=Rs({passive:!0,capture:!0}),KD=["mousedown","touchstart"],zD=["mouseup","mouseleave","touchend","touchcancel"];class Nc{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=va(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...HD,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const u=r.radius||function n2(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),h=t-i.left,C=e-i.top,B=o.enterDuration,Q=document.createElement("div");Q.classList.add("mat-ripple-element"),Q.style.left=h-u+"px",Q.style.top=C-u+"px",Q.style.height=2*u+"px",Q.style.width=2*u+"px",null!=r.color&&(Q.style.backgroundColor=r.color),Q.style.transitionDuration=`${B}ms`,this._containerElement.appendChild(Q);const ge=window.getComputedStyle(Q),xe=ge.transitionDuration,Fe="none"===ge.transitionProperty||"0s"===xe||"0s, 0s"===xe||0===i.width&&0===i.height,Xe=new JV(this,Q,r,Fe);Q.style.transform="scale3d(1, 1, 1)",Xe.state=0,r.persistent||(this._mostRecentTransientRipple=Xe);let dt=null;return!Fe&&(B||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const mt=()=>this._finishRippleTransition(Xe),Bt=()=>this._destroyRipple(Xe);Q.addEventListener("transitionend",mt),Q.addEventListener("transitioncancel",Bt),dt={onTransitionEnd:mt,onTransitionCancel:Bt}}),this._activeRipples.set(Xe,dt),(Fe||!B)&&this._finishRippleTransition(Xe),Xe}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...HD,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=va(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,KD.forEach(r=>{Nc._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{zD.forEach(e=>{this._triggerElement.addEventListener(e,this,WD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Pv(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ov(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(KD.forEach(e=>Nc._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&zD.forEach(e=>t.removeEventListener(e,this,WD)))}}Nc._eventManager=new e2;const r2=new Ut("mat-ripple-global-options");let Yh=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Nc(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(En),Ve(Vr),Ve(r2,8),Ve(Ko,8))},n.\u0275dir=Wt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&yr("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Lc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Kr,Kr]}),n})();function Si(n,t){const e=m(n)?n:()=>n,r=i=>i.error(e());return new G(t?i=>t.schedule(r,0,i):r)}function GD(...n){const t=Ct(n),{args:e,keys:r}=SD(n),i=new G(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let C=u,B=u;for(let Q=0;Q<u;Q++){let ge=!1;Ze(e[Q]).subscribe(fe(o,Me=>{ge||(ge=!0,B--),h[Q]=Me},()=>C--,void 0,()=>{(!C||!ge)&&(B||o.next(r?CD(r,h):h),o.complete())}))}});return t?i.pipe(Av(t)):i}function co(n){return he((t,e)=>{let o,r=null,i=!1;r=t.subscribe(fe(e,void 0,void 0,u=>{o=Ze(n(u,co(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function $h(n){return he((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Ya(n,t){return m(t)?Nt(n,t,1):Nt(n,1)}class Xh{}class Nv{}class ya{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),u=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ya?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ya;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ya?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class o2{encodeKey(t){return YD(t)}encodeValue(t){return YD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const s2=/%(\d[a-f0-9])/gi,l2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YD(n){return encodeURIComponent(n).replace(s2,(t,e)=>l2[e]??t)}function qh(n){return`${n}`}class $a{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new o2,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function a2(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[u,h]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],C=e.get(u)||[];C.push(h),e.set(u,C)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(qh):[qh(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new $a({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(qh(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(qh(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class u2{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $D(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function XD(n){return typeof Blob<"u"&&n instanceof Blob}function qD(n){return typeof FormData<"u"&&n instanceof FormData}class Fc{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function c2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ya),this.context||(this.context=new u2),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new $a,this.urlWithParams=e}serializeBody(){return null===this.body?null:$D(this.body)||XD(this.body)||qD(this.body)||function d2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $a?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qD(this.body)?null:XD(this.body)?this.body.type||null:$D(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $a?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,B=t.params||this.params;const Q=t.context??this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((ge,Me)=>ge.set(Me,t.setHeaders[Me]),C)),t.setParams&&(B=Object.keys(t.setParams).reduce((ge,Me)=>ge.set(Me,t.setParams[Me]),B)),new Fc(e,r,o,{params:B,headers:C,context:Q,reportProgress:h,responseType:i,withCredentials:u})}}var Lr=(()=>((Lr=Lr||{})[Lr.Sent=0]="Sent",Lr[Lr.UploadProgress=1]="UploadProgress",Lr[Lr.ResponseHeader=2]="ResponseHeader",Lr[Lr.DownloadProgress=3]="DownloadProgress",Lr[Lr.Response=4]="Response",Lr[Lr.User=5]="User",Lr))();class Lv{constructor(t,e=200,r="OK"){this.headers=t.headers||new ya,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fv extends Lv{constructor(t={}){super(t),this.type=Lr.ResponseHeader}clone(t={}){return new Fv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bc extends Lv{constructor(t={}){super(t),this.type=Lr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Bc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kc extends Lv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Bv(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Qh=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Fc)o=e;else{let C,B;C=i.headers instanceof ya?i.headers:new ya(i.headers),i.params&&(B=i.params instanceof $a?i.params:new $a({fromObject:i.params})),o=new Fc(e,r,void 0!==i.body?i.body:null,{headers:C,context:i.context,params:B,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=rn(o).pipe(Ya(C=>this.handler.handle(C)));if(e instanceof Fc||"events"===i.observe)return u;const h=u.pipe(Hr(C=>C instanceof Bc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe(se(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return h.pipe(se(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return h.pipe(se(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return h.pipe(se(C=>C.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new $a).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Bv(i,r))}post(e,r,i={}){return this.request("POST",e,Bv(i,r))}put(e,r,i={}){return this.request("PUT",e,Bv(i,r))}}return n.\u0275fac=function(e){return new(e||n)(st(Xh))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function QD(n,t){return t(n)}function f2(n,t){return(e,r)=>t.intercept(e,{handle:i=>n(i,r)})}const Uc=new Ut("HTTP_INTERCEPTORS"),jc=new Ut("HTTP_INTERCEPTOR_FNS");function m2(){let n=null;return(t,e)=>(null===n&&(n=(yn(Uc,{optional:!0})??[]).reduceRight(f2,QD)),n(t,e))}let ZD=(()=>{class n extends Xh{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=Array.from(new Set(this.injector.get(jc)));this.chain=r.reduceRight((i,o)=>function h2(n,t,e){return(r,i)=>e.runInContext(()=>t(r,o=>n(o,i)))}(i,o,this.injector),QD)}return this.chain(e,r=>this.backend.handle(r))}}return n.\u0275fac=function(e){return new(e||n)(st(Nv),st(Fo))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const v2=/^\)\]\}',?\n/;let eA=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new G(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((xe,Fe)=>i.setRequestHeader(xe,Fe.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const xe=e.detectContentTypeHeader();null!==xe&&i.setRequestHeader("Content-Type",xe)}if(e.responseType){const xe=e.responseType.toLowerCase();i.responseType="json"!==xe?xe:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const xe=i.statusText||"OK",Fe=new ya(i.getAllResponseHeaders()),Xe=function y2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return u=new Fv({headers:Fe,status:i.status,statusText:xe,url:Xe}),u},C=()=>{let{headers:xe,status:Fe,statusText:Xe,url:dt}=h(),mt=null;204!==Fe&&(mt=typeof i.response>"u"?i.responseText:i.response),0===Fe&&(Fe=mt?200:0);let Bt=Fe>=200&&Fe<300;if("json"===e.responseType&&"string"==typeof mt){const Et=mt;mt=mt.replace(v2,"");try{mt=""!==mt?JSON.parse(mt):null}catch(Xt){mt=Et,Bt&&(Bt=!1,mt={error:Xt,text:mt})}}Bt?(r.next(new Bc({body:mt,headers:xe,status:Fe,statusText:Xe,url:dt||void 0})),r.complete()):r.error(new kc({error:mt,headers:xe,status:Fe,statusText:Xe,url:dt||void 0}))},B=xe=>{const{url:Fe}=h(),Xe=new kc({error:xe,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Fe||void 0});r.error(Xe)};let Q=!1;const ge=xe=>{Q||(r.next(h()),Q=!0);let Fe={type:Lr.DownloadProgress,loaded:xe.loaded};xe.lengthComputable&&(Fe.total=xe.total),"text"===e.responseType&&i.responseText&&(Fe.partialText=i.responseText),r.next(Fe)},Me=xe=>{let Fe={type:Lr.UploadProgress,loaded:xe.loaded};xe.lengthComputable&&(Fe.total=xe.total),r.next(Fe)};return i.addEventListener("load",C),i.addEventListener("error",B),i.addEventListener("timeout",B),i.addEventListener("abort",B),e.reportProgress&&(i.addEventListener("progress",ge),null!==o&&i.upload&&i.upload.addEventListener("progress",Me)),i.send(o),r.next({type:Lr.Sent}),()=>{i.removeEventListener("error",B),i.removeEventListener("abort",B),i.removeEventListener("load",C),i.removeEventListener("timeout",B),e.reportProgress&&(i.removeEventListener("progress",ge),null!==o&&i.upload&&i.upload.removeEventListener("progress",Me)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(st(lD))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const kv=new Ut("XSRF_ENABLED"),tA="XSRF-TOKEN",nA=new Ut("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>tA}),rA="X-XSRF-TOKEN",iA=new Ut("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>rA});class oA{}let E2=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=QM(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(st(wn),st(yh),st(nA))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function b2(n,t){const e=n.url.toLowerCase();if(!yn(kv)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=yn(oA).getToken(),i=yn(iA);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var Ir=(()=>((Ir=Ir||{})[Ir.Interceptors=0]="Interceptors",Ir[Ir.LegacyInterceptors=1]="LegacyInterceptors",Ir[Ir.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ir[Ir.NoXsrfProtection=3]="NoXsrfProtection",Ir[Ir.JsonpSupport=4]="JsonpSupport",Ir[Ir.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ir))();function ru(n,t){return{\u0275kind:n,\u0275providers:t}}function T2(...n){const t=[Qh,eA,ZD,{provide:Xh,useExisting:ZD},{provide:Nv,useExisting:eA},{provide:jc,useValue:b2,multi:!0},{provide:kv,useValue:!0},{provide:oA,useClass:E2}];for(const e of n)t.push(...e.\u0275providers);return rS(t)}const aA=new Ut("LEGACY_INTERCEPTOR_FN");function C2({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:nA,useValue:n}),void 0!==t&&e.push({provide:iA,useValue:t}),ru(Ir.CustomXsrfConfiguration,e)}let M2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({providers:[T2(ru(Ir.LegacyInterceptors,[{provide:aA,useFactory:m2},{provide:jc,useExisting:aA,multi:!0}]),C2({cookieName:tA,headerName:rA}))]}),n})();class D2 extends $k{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Uv extends D2{static makeCurrent(){!function Yk(n){J_||(J_=n)}(new Uv)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function A2(){return Vc=Vc||document.querySelector("base"),Vc?Vc.getAttribute("href"):null}();return null==e?null:function I2(n){Zh=Zh||document.createElement("a"),Zh.setAttribute("href",n);const t=Zh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Vc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return QM(document.cookie,t)}}let Zh,Vc=null,O2=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const Jh=new Ut("EventManagerPlugins");let em=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const u=i[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(st(Jh),st(En))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class sA{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Go().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let lA=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),Hc=(()=>{class n extends lA{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,i.push(r.appendChild(u))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(uA),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(uA))}}return n.\u0275fac=function(e){return new(e||n)(st(wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function uA(n){Go().remove(n)}const jv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vv=/%COMP%/g;function Hv(n,t){return t.flat(100).map(e=>e.replace(Vv,n))}function fA(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let tm=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Wv(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case wi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new k2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case wi.ShadowDom:return new U2(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Hv(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(st(em),st(Hc),st(vh))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class Wv{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(jv[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(mA(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(mA(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=jv[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=jv[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Pi.DashCase|Pi.Important)?t.style.setProperty(e,r,i&Pi.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Pi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,fA(r)):this.eventManager.addEventListener(t,e,fA(r))}}function mA(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class k2 extends Wv{constructor(t,e,r,i){super(t),this.component=r;const o=Hv(i+"-"+r.id,r.styles);e.addStyles(o),this.contentAttr=function L2(n){return"_ngcontent-%COMP%".replace(Vv,n)}(i+"-"+r.id),this.hostAttr=function F2(n){return"_nghost-%COMP%".replace(Vv,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class U2 extends Wv{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Hv(i.id,i.styles);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const pA=["alt","control","meta","shift"],V2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function _A(n){return{appProviders:[...Q2,...n?.providers??[]],platformProviders:$2}}const $2=[{provide:yh,useValue:aD},{provide:dM,useValue:function z2(){Uv.makeCurrent()},multi:!0},{provide:wn,useFactory:function Y2(){return function qx(n){wg=n}(document),document},deps:[]}],Q2=[{provide:Ug,useValue:"root"},{provide:fa,useFactory:function G2(){return new fa},deps:[]},{provide:Jh,useClass:(()=>{class n extends sA{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(st(wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[wn,En,yh]},{provide:Jh,useClass:(()=>{class n extends sA{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),u=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Go().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),pA.forEach(B=>{const Q=r.indexOf(B);Q>-1&&(r.splice(Q,1),u+=B+".")}),u+=o,0!=r.length||0===o.length)return null;const C={};return C.domEventName=i,C.fullKey=u,C}static matchEventFullKeyCode(e,r){let i=V2[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),pA.forEach(u=>{u!==i&&(0,H2[u])(e)&&(o+=u+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(st(wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[wn]},{provide:tm,useClass:tm,deps:[em,Hc,vh]},{provide:oc,useExisting:tm},{provide:lA,useExisting:Hc},{provide:Hc,useClass:Hc,deps:[wn]},{provide:em,useClass:em,deps:[Jh,En]},{provide:lD,useClass:O2,deps:[]},[]];let vA=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(st(wn))},n.\u0275prov=vt({token:n,factory:function(e){let r=null;return r=e?new e:function J2(){return new vA(st(wn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ea=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(e){let r=null;return r=e?new(e||n):st(bA),r},providedIn:"root"}),n})(),bA=(()=>{class n extends Ea{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Wn.NONE:return r;case Wn.HTML:return Lo(r,"HTML")?zi(r):qT(this._doc,String(r)).toString();case Wn.STYLE:return Lo(r,"Style")?zi(r):r;case Wn.SCRIPT:if(Lo(r,"Script"))return zi(r);throw new Error("unsafe value used in a script context");case Wn.URL:return Lo(r,"URL")?zi(r):Kf(String(r));case Wn.RESOURCE_URL:if(Lo(r,"ResourceURL"))return zi(r);throw new Error(`unsafe value used in a resource URL context (see ${_o})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${_o})`)}}bypassSecurityTrustHtml(e){return function rN(n){return new Qx(n)}(e)}bypassSecurityTrustStyle(e){return function iN(n){return new Zx(n)}(e)}bypassSecurityTrustScript(e){return function oN(n){return new Jx(n)}(e)}bypassSecurityTrustUrl(e){return function aN(n){return new eN(n)}(e)}bypassSecurityTrustResourceUrl(e){return function sN(n){return new tN(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(st(wn))},n.\u0275prov=vt({token:n,factory:function(e){let r=null;return r=e?new e:function aH(n){return new bA(n.get(wn))}(st(xi)),r},providedIn:"root"}),n})();const sH=["*"];let nm;function Wc(n){return function lH(){if(void 0===nm&&(nm=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(nm=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return nm}()?.createHTML(n)||n}function TA(n){return Error(`Unable to find icon with the name "${n}"`)}function SA(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function CA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Os{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let Kc=(()=>{class n{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Os(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){const u=this._sanitizer.sanitize(Wn.HTML,i);if(!u)throw CA(i);const h=Wc(u);return this._addSvgIconConfig(e,r,new Os("",h,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Os(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const o=this._sanitizer.sanitize(Wn.HTML,r);if(!o)throw CA(r);const u=Wc(o);return this._addSvgIconSetConfig(e,new Os("",u,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(Wn.RESOURCE_URL,e);if(!r)throw SA(e);const i=this._cachedIconsByUrl.get(r);return i?rn(rm(i)):this._loadSvgIconFromConfig(new Os(e,null)).pipe(Kn(o=>this._cachedIconsByUrl.set(r,o)),se(o=>rm(o)))}getNamedSvgIcon(e,r=""){const i=MA(r,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(e,u):Si(TA(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?rn(rm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(se(r=>rm(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?rn(i):GD(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(co(h=>{const B=`Loading icon set URL: ${this._sanitizer.sanitize(Wn.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(B)),rn(null)})))).pipe(se(()=>{const u=this._extractIconWithNameFromAnySet(e,r);if(!u)throw TA(e);return u}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Kn(r=>e.svgText=r),se(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?rn(null):this._fetchIcon(e).pipe(Kn(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const o=e.querySelector(`[id="${r}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const h=this._svgElementFromString(Wc("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(Wc("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:u,value:h}=i[o];"id"!==u&&r.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function uH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(Wn.RESOURCE_URL,r);if(!u)throw SA(r);const h=this._inProgressUrlFetches.get(u);if(h)return h;const C=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe(se(B=>Wc(B)),$h(()=>this._inProgressUrlFetches.delete(u)),It());return this._inProgressUrlFetches.set(u,C),C}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(MA(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,e);if(o)return dH(o)?new Os(o.url,null,o.options):new Os(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(st(Qh,8),st(Ea),st(wn,8),st(fa))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rm(n){return n.cloneNode(!0)}function MA(n,t){return n+":"+t}function dH(n){return!(!n.url||!n.options)}const fH=Gh(class{constructor(n){this._elementRef=n}}),hH=new Ut("MAT_ICON_DEFAULT_OPTIONS"),mH=new Ut("mat-icon-location",{providedIn:"root",factory:function pH(){const n=yn(wn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),DA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gH=DA.map(n=>`[${n}]`).join(", "),_H=/^url\(['"]?#(.*?)['"]?\)$/;let Ro=(()=>{class n extends fH{get inline(){return this._inline}set inline(e){this._inline=Qi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,o,u,h){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=w.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(gH),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)DA.forEach(u=>{const h=r[o],C=h.getAttribute(u),B=C?C.match(_H):null;if(B){let Q=i.get(h);Q||(Q=[],i.set(h,Q)),Q.push({name:u,value:B[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Fi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Kc),_l("aria-hidden"),Ve(mH),Ve(fa),Ve(hH,8))},n.\u0275cmp=bn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(cr("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),yr("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Cn],ngContentSelectors:sH,decls:1,vars:0,template:function(e,r){1&e&&(Yi(),tr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Ci=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Kr,Kr]}),n})();class AA{}class vH{}const ba="*";function zc(n,t){return{type:7,name:n,definitions:t,options:{}}}function qa(n,t=null){return{type:4,styles:t,timings:n}}function IA(n,t=null){return{type:2,steps:n,options:t}}function Bi(n){return{type:6,styles:n,offset:null}}function xs(n,t,e){return{type:0,name:n,styles:t,options:e}}function Qa(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function RA(n){Promise.resolve().then(n)}class Gc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){RA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class wA{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?RA(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++r==o&&this._onDestroy()}),u.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class EH{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const TH=new Ut("mat-snack-bar-default-options",{providedIn:"root",factory:function bH(){return new EH}});function PA(n){return new yt(3e3,!1)}function rW(){return typeof window<"u"&&typeof window.document<"u"}function Gv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Za(n){switch(n.length){case 0:return new Gc;case 1:return n[0];default:return new wA(n)}}function OA(n,t,e,r,i=new Map,o=new Map){const u=[],h=[];let C=-1,B=null;if(r.forEach(Q=>{const ge=Q.get("offset"),Me=ge==C,xe=Me&&B||new Map;Q.forEach((Fe,Xe)=>{let dt=Xe,mt=Fe;if("offset"!==Xe)switch(dt=t.normalizePropertyName(dt,u),mt){case"!":mt=i.get(Xe);break;case ba:mt=o.get(Xe);break;default:mt=t.normalizeStyleValue(Xe,dt,mt,u)}xe.set(dt,mt)}),Me||h.push(xe),B=xe,C=ge}),u.length)throw function zH(n){return new yt(3502,!1)}();return h}function Yv(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&$v(e,"start",n)));break;case"done":n.onDone(()=>r(e&&$v(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&$v(e,"destroy",n)))}}function $v(n,t,e){const o=Xv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function Xv(n,t,e,r,i="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!u}}function Zi(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function xA(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let qv=(n,t)=>!1,NA=(n,t,e)=>[],LA=null;function Qv(n){const t=n.parentNode||n.host;return t===LA?null:t}(Gv()||typeof Element<"u")&&(rW()?(LA=(()=>document.documentElement)(),qv=(n,t)=>{for(;t;){if(t===n)return!0;t=Qv(t)}return!1}):qv=(n,t)=>n.contains(t),NA=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Ns=null,FA=!1;const BA=qv,kA=NA;let UA=(()=>{class n{validateStyleProperty(e){return function oW(n){Ns||(Ns=function aW(){return typeof document<"u"?document.body:null}()||{},FA=!!Ns.style&&"WebkitAppearance"in Ns.style);let t=!0;return Ns.style&&!function iW(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ns.style,!t&&FA&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ns.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return BA(e,r)}getParentElement(e){return Qv(e)}query(e,r,i){return kA(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,u,h=[],C){return new Gc(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),Zv=(()=>{class n{}return n.NOOP=new UA,n})();const Jv="ng-enter",im="ng-leave",om="ng-trigger",am=".ng-trigger",VA="ng-animating",ey=".ng-animating";function Ta(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ty(parseFloat(t[1]),t[2])}function ty(n,t){return"s"===t?1e3*n:n}function sm(n,t,e){return n.hasOwnProperty("duration")?n:function uW(n,t,e){let i,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(PA()),{duration:0,delay:0,easing:""};i=ty(parseFloat(h[1]),h[2]);const C=h[3];null!=C&&(o=ty(parseFloat(C),h[4]));const B=h[5];B&&(u=B)}else i=n;if(!e){let h=!1,C=t.length;i<0&&(t.push(function SH(){return new yt(3100,!1)}()),h=!0),o<0&&(t.push(function CH(){return new yt(3101,!1)}()),h=!0),h&&t.splice(C,0,PA())}return{duration:i,delay:o,easing:u}}(n,t,e)}function Yc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function HA(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Ja(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function KA(n,t,e){return e?t+":"+e+";":""}function zA(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=KA(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=KA(0,hW(e),n.style[e]));n.setAttribute("style",t)}function Yo(n,t,e){n.style&&(t.forEach((r,i)=>{const o=ry(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),Gv()&&zA(n))}function Ls(n,t){n.style&&(t.forEach((e,r)=>{const i=ry(r);n.style[i]=""}),Gv()&&zA(n))}function $c(n){return Array.isArray(n)?1==n.length?n[0]:IA(n):n}const ny=new RegExp("{{\\s*(.+?)\\s*}}","g");function GA(n){let t=[];if("string"==typeof n){let e;for(;e=ny.exec(n);)t.push(e[1]);ny.lastIndex=0}return t}function Xc(n,t,e){const r=n.toString(),i=r.replace(ny,(o,u)=>{let h=t[u];return null==h&&(e.push(function DH(n){return new yt(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function lm(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const fW=/-+([a-z0-9])/g;function ry(n){return n.replace(fW,(...t)=>t[1].toUpperCase())}function hW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ji(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function AH(n){return new yt(3004,!1)}()}}function YA(n,t){return window.getComputedStyle(n)[t]}function yW(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function EW(n,t,e){if(":"==n[0]){const C=function bW(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function VH(n){return new yt(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof C)return void t.push(C);n=C}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function jH(n){return new yt(3015,!1)}()),t;const i=r[1],o=r[2],u=r[3];t.push($A(i,u));"<"==o[0]&&!("*"==i&&"*"==u)&&t.push($A(u,i))}(r,e,t)):e.push(n),e}const fm=new Set(["true","1"]),hm=new Set(["false","0"]);function $A(n,t){const e=fm.has(n)||hm.has(n),r=fm.has(t)||hm.has(t);return(i,o)=>{let u="*"==n||n==i,h="*"==t||t==o;return!u&&e&&"boolean"==typeof i&&(u=i?fm.has(n):hm.has(n)),!h&&r&&"boolean"==typeof o&&(h=o?fm.has(t):hm.has(t)),u&&h}}const TW=new RegExp("s*:selfs*,?","g");function iy(n,t,e,r){return new SW(n).build(t,e,r)}class SW{constructor(t){this._driver=t}build(t,e,r){const i=new DW(e);return this._resetContextStyleTimingState(i),Ji(this,$c(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function RH(){return new yt(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const C=h,B=C.name;B.toString().split(/\s*,\s*/).forEach(Q=>{C.name=Q,o.push(this.visitState(C,e))}),C.name=B}else if(1==h.type){const C=this.visitTransition(h,e);r+=C.queryCount,i+=C.depCount,u.push(C)}else e.errors.push(function wH(){return new yt(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,u=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(C=>{GA(C).forEach(B=>{u.hasOwnProperty(B)||o.add(B)})})}),o.size&&(lm(o.values()),e.errors.push(function PH(n,t){return new yt(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Ji(this,$c(t.animation),e);return{type:1,matchers:yW(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Fs(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Ji(this,r,e)),options:Fs(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(u=>{e.currentTime=r;const h=Ji(this,u,e);return i=Math.max(i,e.currentTime),h});return e.currentTime=i,{type:3,steps:o,options:Fs(t.options)}}visitAnimate(t,e){const r=function IW(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return oy(sm(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=oy(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=sm(e,t);return oy(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:Bi({});if(5==o.type)i=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const B={};r.easing&&(B.easing=r.easing),u=Bi(B)}e.currentTime+=r.duration+r.delay;const C=this.visitStyle(u,e);C.isEmptyStep=h,i=C}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of i)"string"==typeof h?h===ba?r.push(h):e.errors.push(new yt(3002,!1)):r.push(HA(h));let o=!1,u=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let C of h.values())if(C.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,C)=>{const B=e.collectedStyles.get(e.currentQuerySelector),Q=B.get(C);let ge=!0;Q&&(o!=i&&o>=Q.startTime&&i<=Q.endTime&&(e.errors.push(function xH(n,t,e,r,i){return new yt(3010,!1)}()),ge=!1),o=Q.startTime),ge&&B.set(C,{startTime:o,endTime:i}),e.options&&function dW(n,t,e){const r=t.params||{},i=GA(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function MH(n){return new yt(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function NH(){return new yt(3011,!1)}()),r;let o=0;const u=[];let h=!1,C=!1,B=0;const Q=t.steps.map(mt=>{const Bt=this._makeStyleAst(mt,e);let Et=null!=Bt.offset?Bt.offset:function AW(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Bt.styles),Xt=0;return null!=Et&&(o++,Xt=Bt.offset=Et),C=C||Xt<0||Xt>1,h=h||Xt<B,B=Xt,u.push(Xt),Bt});C&&e.errors.push(function LH(){return new yt(3012,!1)}()),h&&e.errors.push(function FH(){return new yt(3200,!1)}());const ge=t.steps.length;let Me=0;o>0&&o<ge?e.errors.push(function BH(){return new yt(3202,!1)}()):0==o&&(Me=1/(ge-1));const xe=ge-1,Fe=e.currentTime,Xe=e.currentAnimateTimings,dt=Xe.duration;return Q.forEach((mt,Bt)=>{const Et=Me>0?Bt==xe?1:Me*Bt:u[Bt],Xt=Et*dt;e.currentTime=Fe+Xe.delay+Xt,Xe.duration=Xt,this._validateStyleAst(mt,e),mt.offset=Et,r.styles.push(mt)}),r}visitReference(t,e){return{type:8,animation:Ji(this,$c(t.animation),e),options:Fs(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Fs(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Fs(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function CW(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(TW,"")),n=n.replace(/@\*/g,am).replace(/@\w+/g,e=>am+"-"+e.slice(1)).replace(/:animating/g,ey),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Zi(e.collectedStyles,e.currentQuerySelector,new Map);const h=Ji(this,$c(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Fs(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function kH(){return new yt(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:sm(t.timings,e.errors,!0);return{type:12,animation:Ji(this,$c(t.animation),e),timings:r,options:null}}}class DW{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fs(n){return n?(n=Yc(n)).params&&(n.params=function MW(n){return n?Yc(n):null}(n.params)):n={},n}function oy(n,t,e){return{duration:n,delay:t,easing:e}}function ay(n,t,e,r,i,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:u,subTimeline:h}}class mm{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const PW=new RegExp(":enter","g"),xW=new RegExp(":leave","g");function sy(n,t,e,r,i,o=new Map,u=new Map,h,C,B=[]){return(new NW).buildKeyframes(n,t,e,r,i,o,u,h,C,B)}class NW{buildKeyframes(t,e,r,i,o,u,h,C,B,Q=[]){B=B||new mm;const ge=new ly(t,e,B,i,o,Q,[]);ge.options=C;const Me=C.delay?Ta(C.delay):0;ge.currentTimeline.delayNextStep(Me),ge.currentTimeline.setStyles([u],null,ge.errors,C),Ji(this,r,ge);const xe=ge.timelines.filter(Fe=>Fe.containsAnimation());if(xe.length&&h.size){let Fe;for(let Xe=xe.length-1;Xe>=0;Xe--){const dt=xe[Xe];if(dt.element===e){Fe=dt;break}}Fe&&!Fe.allowOnlyTimelineStyles()&&Fe.setStyles([h],null,ge.errors,C)}return xe.length?xe.map(Fe=>Fe.buildKeyframes()):[ay(e,[],[],[],0,Me,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const u="number"==typeof o?o:Ta(Xc(o,i?.params??{},e.errors));r.delayNextStep(u)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const u=null!=r.duration?Ta(r.duration):null,h=null!=r.delay?Ta(r.delay):null;return 0!==u&&t.forEach(C=>{const B=e.appendInstructionToTimeline(C,u,h);o=Math.max(o,B.duration+B.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ji(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pm);const u=Ta(o.delay);i.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ji(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ta(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Ji(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return sm(e.params?Xc(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,h=e.createSubContext().currentTimeline;h.easing=r.easing,t.styles.forEach(C=>{h.forwardTime((C.offset||0)*o),h.setStyles(C.styles,C.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Ta(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=pm);let u=r;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=h.length;let C=null;h.forEach((B,Q)=>{e.currentQueryIndex=Q;const ge=e.createSubContext(t.options,B);o&&ge.delayNextStep(o),B===e.element&&(C=ge.currentTimeline),Ji(this,t.animation,ge),ge.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,ge.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),C&&(e.currentTimeline.mergeTimelineCollectedStyles(C),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let C=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":C=h-C;break;case"full":C=r.currentStaggerTime}const Q=e.currentTimeline;C&&Q.delayNextStep(C);const ge=Q.currentTime;Ji(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-ge+(i.startTime-r.currentTimeline.startTime)}}const pm={};class ly{constructor(t,e,r,i,o,u,h,C){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new gm(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Ta(r.duration)),null!=r.delay&&(i.delay=Ta(r.delay));const o=r.params;if(o){let u=i.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=Xc(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new ly(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=pm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new LW(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,u){let h=[];if(i&&h.push(this.element),t.length>0){t=(t=t.replace(PW,"."+this._enterClassName)).replace(xW,"."+this._leaveClassName);let B=this._driver.query(this.element,t,1!=r);0!==r&&(B=r<0?B.slice(B.length+r,B.length):B.slice(0,r)),h.push(...B)}return!o&&0==h.length&&u.push(function UH(n){return new yt(3014,!1)}()),h}}class gm{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new gm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||ba),this._currentKeyframe.set(e,ba);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},u=function FW(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,ba)}else Ja(i,e)}),e}(t,this._globalTimelineStyles);for(let[h,C]of u){const B=Xc(C,o,r);this._pendingStyles.set(h,B),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ba),this._updateStyle(h,B)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,C)=>{const B=Ja(h,new Map,this._backFill);B.forEach((Q,ge)=>{"!"===Q?t.add(ge):Q===ba&&e.add(ge)}),r||B.set("offset",C/this.duration),i.push(B)});const o=t.size?lm(t.values()):[],u=e.size?lm(e.values()):[];if(r){const h=i[0],C=new Map(h);h.set("offset",0),C.set("offset",1),i=[h,C]}return ay(this.element,i,o,u,this.duration,this.startTime,this.easing,!1)}}class LW extends gm{constructor(t,e,r,i,o,u,h=!1){super(t,e,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=r+e,h=e/u,C=Ja(t[0]);C.set("offset",0),o.push(C);const B=Ja(t[0]);B.set("offset",QA(h)),o.push(B);const Q=t.length-1;for(let ge=1;ge<=Q;ge++){let Me=Ja(t[ge]);const xe=Me.get("offset");Me.set("offset",QA((e+xe*r)/u)),o.push(Me)}r=u,e=0,i="",t=o}return ay(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function QA(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class uy{}const BW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class kW extends uy{normalizePropertyName(t,e){return ry(t)}normalizeStyleValue(t,e,r,i){let o="";const u=r.toString().trim();if(BW.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function IH(n,t){return new yt(3005,!1)}())}return u+o}}function ZA(n,t,e,r,i,o,u,h,C,B,Q,ge,Me){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:u,timelines:h,queriedElements:C,preStyleProps:B,postStyleProps:Q,totalTime:ge,errors:Me}}const cy={};class JA{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function UW(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,u,h,C,B,Q){const ge=[],Me=this.ast.options&&this.ast.options.params||cy,Fe=this.buildStyles(r,h&&h.params||cy,ge),Xe=C&&C.params||cy,dt=this.buildStyles(i,Xe,ge),mt=new Set,Bt=new Map,Et=new Map,Xt="void"===i,Vn={params:jW(Xe,Me),delay:this.ast.options?.delay},Xn=Q?[]:sy(t,e,this.ast.animation,o,u,Fe,dt,Vn,B,ge);let ci=0;if(Xn.forEach(Oa=>{ci=Math.max(Oa.duration+Oa.delay,ci)}),ge.length)return ZA(e,this._triggerName,r,i,Xt,Fe,dt,[],[],Bt,Et,ci,ge);Xn.forEach(Oa=>{const xa=Oa.element,nO=Zi(Bt,xa,new Set);Oa.preStyleProps.forEach(el=>nO.add(el));const cf=Zi(Et,xa,new Set);Oa.postStyleProps.forEach(el=>cf.add(el)),xa!==e&&mt.add(xa)});const Pa=lm(mt.values());return ZA(e,this._triggerName,r,i,Xt,Fe,dt,Xn,Pa,Bt,Et,ci)}}function jW(n,t){const e=Yc(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class VW{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=Yc(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(i[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=Xc(u,i,e));const C=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,C,u,e),r.set(h,u)})}),r}}class WW{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new VW(i.style,i.options&&i.options.params||{},r))}),eI(this.states,"true","1"),eI(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new JA(t,i,this.states))}),this.fallbackTransition=function KW(n,t,e){return new JA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(u=>u.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function eI(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const zW=new mm;class GW{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=iy(this._driver,e,r,[]);if(r.length)throw function GH(n){return new yt(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=OA(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=sy(this._driver,e,o,Jv,im,new Map,new Map,r,zW,i),u.forEach(Q=>{const ge=Zi(h,Q.element,new Map);Q.postStyleProps.forEach(Me=>ge.set(Me,null))})):(i.push(function YH(){return new yt(3300,!1)}()),u=[]),i.length)throw function $H(n){return new yt(3504,!1)}();h.forEach((Q,ge)=>{Q.forEach((Me,xe)=>{Q.set(xe,this._driver.computeStyle(ge,xe,ba))})});const B=Za(u.map(Q=>{const ge=h.get(Q.element);return this._buildPlayer(Q,new Map,ge)}));return this._playersById.set(t,B),B.onDestroy(()=>this.destroy(t)),this.players.push(B),B}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function XH(n){return new yt(3301,!1)}();return e}listen(t,e,r,i){const o=Xv(e,"","","");return Yv(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const tI="ng-animate-queued",dy="ng-animate-disabled",QW=[],nI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fo="__ng_removed";class fy{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function nK(n){return n??null}(r?t.value:t),r){const o=Yc(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const qc="void",hy=new fy(qc);class JW{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ho(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function qH(n,t){return new yt(3302,!1)}();if(null==r||0==r.length)throw function QH(n){return new yt(3303,!1)}();if(!function rK(n){return"start"==n||"done"==n}(r))throw function ZH(n,t){return new yt(3400,!1)}();const o=Zi(this._elementListeners,t,[]),u={name:e,phase:r,callback:i};o.push(u);const h=Zi(this._engine.statesByElement,t,new Map);return h.has(e)||(ho(t,om),ho(t,om+"-"+e),h.set(e,hy)),()=>{this._engine.afterFlush(()=>{const C=o.indexOf(u);C>=0&&o.splice(C,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function JH(n){return new yt(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),u=new my(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(ho(t,om),ho(t,om+"-"+e),this._engine.statesByElement.set(t,h=new Map));let C=h.get(e);const B=new fy(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&C&&B.absorbOptions(C.options),h.set(e,B),C||(C=hy),B.value!==qc&&C.value===B.value){if(!function aK(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(C.params,B.params)){const Xe=[],dt=o.matchStyles(C.value,C.params,Xe),mt=o.matchStyles(B.value,B.params,Xe);Xe.length?this._engine.reportError(Xe):this._engine.afterFlush(()=>{Ls(t,dt),Yo(t,mt)})}return}const Me=Zi(this._engine.playersByElement,t,[]);Me.forEach(Xe=>{Xe.namespaceId==this.id&&Xe.triggerName==e&&Xe.queued&&Xe.destroy()});let xe=o.matchTransition(C.value,B.value,t,B.params),Fe=!1;if(!xe){if(!i)return;xe=o.fallbackTransition,Fe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:xe,fromState:C,toState:B,player:u,isFallbackTransition:Fe}),Fe||(ho(t,tI),u.onStart(()=>{iu(t,tI)})),u.onDone(()=>{let Xe=this.players.indexOf(u);Xe>=0&&this.players.splice(Xe,1);const dt=this._engine.playersByElement.get(t);if(dt){let mt=dt.indexOf(u);mt>=0&&dt.splice(mt,1)}}),this.players.push(u),Me.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,am,!0);r.forEach(i=>{if(i[fo])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(u=>u.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((C,B)=>{if(u.set(B,C.value),this._triggers.has(B)){const Q=this.trigger(t,B,qc,i);Q&&h.push(Q)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),r&&Za(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const u=o.name;if(i.has(u))return;i.add(u);const C=this._triggers.get(u).fallbackTransition,B=r.get(u)||hy,Q=new fy(qc),ge=new my(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:C,fromState:B,toState:Q,player:ge,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let u=t;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[fo];(!o||o===nI)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){ho(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==r.triggerName){const C=Xv(o,r.triggerName,r.fromState.value,r.toState.value);C._data=t,Yv(r.player,h.phase,C,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class eK{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new JW(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const C=i.get(h);if(C){const B=r.indexOf(C);r.splice(B+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(_m(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!_m(e))return;const o=e[fo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ho(t,dy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),iu(t,dy))}removeNode(t,e,r,i){if(_m(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[fo]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return _m(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,am,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ey,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Za(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[fo];if(e&&e.setForRemoval){if(t[fo]=nI,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(dy)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ho(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Za(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function eW(n){return new yt(3402,!1)}()}_flushAnimations(t,e){const r=new mm,i=[],o=new Map,u=[],h=new Map,C=new Map,B=new Map,Q=new Set;this.disabledNodes.forEach(nn=>{Q.add(nn);const fn=this.driver.query(nn,".ng-animate-queued",!0);for(let vn=0;vn<fn.length;vn++)Q.add(fn[vn])});const ge=this.bodyNode,Me=Array.from(this.statesByElement.keys()),xe=oI(Me,this.collectedEnterElements),Fe=new Map;let Xe=0;xe.forEach((nn,fn)=>{const vn=Jv+Xe++;Fe.set(fn,vn),nn.forEach(zn=>ho(zn,vn))});const dt=[],mt=new Set,Bt=new Set;for(let nn=0;nn<this.collectedLeaveElements.length;nn++){const fn=this.collectedLeaveElements[nn],vn=fn[fo];vn&&vn.setForRemoval&&(dt.push(fn),mt.add(fn),vn.hasAnimation?this.driver.query(fn,".ng-star-inserted",!0).forEach(zn=>mt.add(zn)):Bt.add(fn))}const Et=new Map,Xt=oI(Me,Array.from(mt));Xt.forEach((nn,fn)=>{const vn=im+Xe++;Et.set(fn,vn),nn.forEach(zn=>ho(zn,vn))}),t.push(()=>{xe.forEach((nn,fn)=>{const vn=Fe.get(fn);nn.forEach(zn=>iu(zn,vn))}),Xt.forEach((nn,fn)=>{const vn=Et.get(fn);nn.forEach(zn=>iu(zn,vn))}),dt.forEach(nn=>{this.processLeaveNode(nn)})});const Vn=[],Xn=[];for(let nn=this._namespaceList.length-1;nn>=0;nn--)this._namespaceList[nn].drainQueuedTransitions(e).forEach(vn=>{const zn=vn.player,Yr=vn.element;if(Vn.push(zn),this.collectedEnterElements.length){const di=Yr[fo];if(di&&di.setForMove){if(di.previousTriggersValues&&di.previousTriggersValues.has(vn.triggerName)){const tl=di.previousTriggersValues.get(vn.triggerName),go=this.statesByElement.get(vn.element);if(go&&go.has(vn.triggerName)){const wp=go.get(vn.triggerName);wp.value=tl,go.set(vn.triggerName,wp)}}return void zn.destroy()}}const ta=!ge||!this.driver.containsElement(ge,Yr),no=Et.get(Yr),ss=Fe.get(Yr),Tr=this._buildInstruction(vn,r,ss,no,ta);if(Tr.errors&&Tr.errors.length)return void Xn.push(Tr);if(ta)return zn.onStart(()=>Ls(Yr,Tr.fromStyles)),zn.onDestroy(()=>Yo(Yr,Tr.toStyles)),void i.push(zn);if(vn.isFallbackTransition)return zn.onStart(()=>Ls(Yr,Tr.fromStyles)),zn.onDestroy(()=>Yo(Yr,Tr.toStyles)),void i.push(zn);const oO=[];Tr.timelines.forEach(di=>{di.stretchStartingKeyframe=!0,this.disabledNodes.has(di.element)||oO.push(di)}),Tr.timelines=oO,r.append(Yr,Tr.timelines),u.push({instruction:Tr,player:zn,element:Yr}),Tr.queriedElements.forEach(di=>Zi(h,di,[]).push(zn)),Tr.preStyleProps.forEach((di,tl)=>{if(di.size){let go=C.get(tl);go||C.set(tl,go=new Set),di.forEach((wp,ab)=>go.add(ab))}}),Tr.postStyleProps.forEach((di,tl)=>{let go=B.get(tl);go||B.set(tl,go=new Set),di.forEach((wp,ab)=>go.add(ab))})});if(Xn.length){const nn=[];Xn.forEach(fn=>{nn.push(function tW(n,t){return new yt(3505,!1)}())}),Vn.forEach(fn=>fn.destroy()),this.reportError(nn)}const ci=new Map,Pa=new Map;u.forEach(nn=>{const fn=nn.element;r.has(fn)&&(Pa.set(fn,fn),this._beforeAnimationBuild(nn.player.namespaceId,nn.instruction,ci))}),i.forEach(nn=>{const fn=nn.element;this._getPreviousPlayers(fn,!1,nn.namespaceId,nn.triggerName,null).forEach(zn=>{Zi(ci,fn,[]).push(zn),zn.destroy()})});const Oa=dt.filter(nn=>sI(nn,C,B)),xa=new Map;iI(xa,this.driver,Bt,B,ba).forEach(nn=>{sI(nn,C,B)&&Oa.push(nn)});const cf=new Map;xe.forEach((nn,fn)=>{iI(cf,this.driver,new Set(nn),C,"!")}),Oa.forEach(nn=>{const fn=xa.get(nn),vn=cf.get(nn);xa.set(nn,new Map([...Array.from(fn?.entries()??[]),...Array.from(vn?.entries()??[])]))});const el=[],rO=[],iO={};u.forEach(nn=>{const{element:fn,player:vn,instruction:zn}=nn;if(r.has(fn)){if(Q.has(fn))return vn.onDestroy(()=>Yo(fn,zn.toStyles)),vn.disabled=!0,vn.overrideTotalTime(zn.totalTime),void i.push(vn);let Yr=iO;if(Pa.size>1){let no=fn;const ss=[];for(;no=no.parentNode;){const Tr=Pa.get(no);if(Tr){Yr=Tr;break}ss.push(no)}ss.forEach(Tr=>Pa.set(Tr,Yr))}const ta=this._buildAnimation(vn.namespaceId,zn,ci,o,cf,xa);if(vn.setRealPlayer(ta),Yr===iO)el.push(vn);else{const no=this.playersByElement.get(Yr);no&&no.length&&(vn.parentPlayer=Za(no)),i.push(vn)}}else Ls(fn,zn.fromStyles),vn.onDestroy(()=>Yo(fn,zn.toStyles)),rO.push(vn),Q.has(fn)&&i.push(vn)}),rO.forEach(nn=>{const fn=o.get(nn.element);if(fn&&fn.length){const vn=Za(fn);nn.setRealPlayer(vn)}}),i.forEach(nn=>{nn.parentPlayer?nn.syncPlayerEvents(nn.parentPlayer):nn.destroy()});for(let nn=0;nn<dt.length;nn++){const fn=dt[nn],vn=fn[fo];if(iu(fn,im),vn&&vn.hasAnimation)continue;let zn=[];if(h.size){let ta=h.get(fn);ta&&ta.length&&zn.push(...ta);let no=this.driver.query(fn,ey,!0);for(let ss=0;ss<no.length;ss++){let Tr=h.get(no[ss]);Tr&&Tr.length&&zn.push(...Tr)}}const Yr=zn.filter(ta=>!ta.destroyed);Yr.length?iK(this,fn,Yr):this.processLeaveNode(fn)}return dt.length=0,el.forEach(nn=>{this.players.push(nn),nn.onDone(()=>{nn.destroy();const fn=this.players.indexOf(nn);this.players.splice(fn,1)}),nn.play()}),el}elementContainsData(t,e){let r=!1;const i=e[fo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const C=!o||o==qc;h.forEach(B=>{B.queued||!C&&B.triggerName!=i||u.push(B)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(t,e,r){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const C of e.timelines){const B=C.element,Q=B!==o,ge=Zi(r,B,[]);this._getPreviousPlayers(B,Q,u,h,e.toState).forEach(xe=>{const Fe=xe.getRealPlayer();Fe.beforeDestroy&&Fe.beforeDestroy(),xe.destroy(),ge.push(xe)})}Ls(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,u){const h=e.triggerName,C=e.element,B=[],Q=new Set,ge=new Set,Me=e.timelines.map(Fe=>{const Xe=Fe.element;Q.add(Xe);const dt=Xe[fo];if(dt&&dt.removedBeforeQueried)return new Gc(Fe.duration,Fe.delay);const mt=Xe!==C,Bt=function oK(n){const t=[];return aI(n,t),t}((r.get(Xe)||QW).map(ci=>ci.getRealPlayer())).filter(ci=>!!ci.element&&ci.element===Xe),Et=o.get(Xe),Xt=u.get(Xe),Vn=OA(0,this._normalizer,0,Fe.keyframes,Et,Xt),Xn=this._buildPlayer(Fe,Vn,Bt);if(Fe.subTimeline&&i&&ge.add(Xe),mt){const ci=new my(t,h,Xe);ci.setRealPlayer(Xn),B.push(ci)}return Xn});B.forEach(Fe=>{Zi(this.playersByQueriedElement,Fe.element,[]).push(Fe),Fe.onDone(()=>function tK(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,Fe.element,Fe))}),Q.forEach(Fe=>ho(Fe,VA));const xe=Za(Me);return xe.onDestroy(()=>{Q.forEach(Fe=>iu(Fe,VA)),Yo(C,e.toStyles)}),ge.forEach(Fe=>{Zi(i,Fe,[]).push(xe)}),xe}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Gc(t.duration,t.delay)}}class my{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Gc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Yv(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Zi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function _m(n){return n&&1===n.nodeType}function rI(n,t){const e=n.style.display;return n.style.display=t??"none",e}function iI(n,t,e,r,i){const o=[];e.forEach(C=>o.push(rI(C)));const u=[];r.forEach((C,B)=>{const Q=new Map;C.forEach(ge=>{const Me=t.computeStyle(B,ge,i);Q.set(ge,Me),(!Me||0==Me.length)&&(B[fo]=ZW,u.push(B))}),n.set(B,Q)});let h=0;return e.forEach(C=>rI(C,o[h++])),u}function oI(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const i=new Set(t),o=new Map;function u(h){if(!h)return 1;let C=o.get(h);if(C)return C;const B=h.parentNode;return C=e.has(B)?B:i.has(B)?1:u(B),o.set(h,C),C}return t.forEach(h=>{const C=u(h);1!==C&&e.get(C).push(h)}),e}function ho(n,t){n.classList?.add(t)}function iu(n,t){n.classList?.remove(t)}function iK(n,t,e){Za(e).onDone(()=>n.processLeaveNode(t))}function aI(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof wA?aI(r.players,t):t.push(r)}}function sI(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class vm{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new eK(t,e,r),this._timelineEngine=new GW(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const u=t+"-"+i;let h=this._triggerCache[u];if(!h){const C=[],Q=iy(this._driver,o,C,[]);if(C.length)throw function KH(n,t){return new yt(3404,!1)}();h=function HW(n,t,e){return new WW(n,t,e)}(i,Q,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,i,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,u]=xA(r);this._timelineEngine.command(o,e,u,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[u,h]=xA(r);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let lK=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Yo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yo(this._element,this._initialStyles),this._endStyles&&(Yo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ls(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ls(this._element,this._endStyles),this._endStyles=null),Yo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function py(n){let t=null;return n.forEach((e,r)=>{(function uK(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class lI{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:YA(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class cK{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return BA(t,e)}getParentElement(t){return Qv(t)}query(t,e,r){return kA(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,u=[]){const C={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(C.easing=o);const B=new Map,Q=u.filter(xe=>xe instanceof lI);(function mW(n,t){return 0===n||0===t})(r,i)&&Q.forEach(xe=>{xe.currentSnapshot.forEach((Fe,Xe)=>B.set(Xe,Fe))});let ge=function cW(n){return n.length?n[0]instanceof Map?n:n.map(t=>HA(t)):[]}(e).map(xe=>Ja(xe));ge=function pW(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,u)=>{r.has(u)||i.push(u),r.set(u,o)}),i.length)for(let o=1;o<t.length;o++){let u=t[o];i.forEach(h=>u.set(h,YA(n,h)))}}return t}(t,ge,B);const Me=function sK(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=py(t[0]),t.length>1&&(r=py(t[t.length-1]))):t instanceof Map&&(e=py(t)),e||r?new lK(n,e,r):null}(t,ge);return new lI(t,ge,C,Me)}}let dK=(()=>{class n extends AA{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:wi.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?IA(e):e;return uI(this._renderer,null,r,"register",[i]),new fK(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(st(oc),st(wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class fK extends vH{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hK(this._id,t,e||{},this._renderer)}}class hK{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return uI(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function uI(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const cI="@.disabled";let mK=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let Q=this._rendererCache.get(o);return Q||(Q=new dI("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,Q)),Q}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const C=Q=>{Array.isArray(Q)?Q.forEach(C):this.engine.registerTrigger(u,h,e,Q.name,Q)};return r.data.animation.forEach(C),new pK(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(st(oc),st(vm),st(En))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class dI{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==cI?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class pK extends dI{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==cI?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function gK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function _K(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(t,e,r)}}const bK=[{provide:Zv,useFactory:()=>new cK},{provide:Ko,useValue:"BrowserAnimations"},...[{provide:AA,useClass:dK},{provide:uy,useFactory:function yK(){return new kW}},{provide:vm,useClass:(()=>{class n extends vm{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(st(wn),st(Zv),st(uy),st(Xl))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})()},{provide:oc,useFactory:function EK(n,t,e){return new mK(n,t,e)},deps:[tm,vm,En]}]],Em=M(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function hI(n){return new G(t=>{Ze(n()).subscribe(t)})}function gy(){return he((n,t)=>{let e=null;n._refCount++;const r=fe(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class mI extends G{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,pe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new w;const e=this.getSubject();t.add(this.source.subscribe(fe(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=w.EMPTY)}return t}refCount(){return gy()(this)}}function mo(n,t){return he((e,r)=>{let i=null,o=0,u=!1;const h=()=>u&&!i&&r.complete();e.subscribe(fe(r,C=>{i?.unsubscribe();let B=0;const Q=o++;Ze(n(C,Q)).subscribe(i=fe(r,ge=>r.next(t?t(C,ge,Q,B++):ge),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function bm(n){return he((t,e)=>{let r=!1;t.subscribe(fe(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function pI(n=CK){return he((t,e)=>{let r=!1;t.subscribe(fe(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function CK(){return new Em}function es(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Hr((i,o)=>n(i,o,r)):W,Fi(1),e?bm(t):pI(()=>new Em))}function MK(n,t,e,r,i){return(o,u)=>{let h=e,C=t,B=0;o.subscribe(fe(u,Q=>{const ge=B++;C=h?n(C,Q,ge):(h=!0,Q),r&&u.next(C)},i&&(()=>{h&&u.next(C),u.complete()})))}}function gI(n,t){return he(MK(n,t,arguments.length>=2,!0))}function _y(n){return n<=0?()=>en:he((t,e)=>{let r=[];t.subscribe(fe(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function _I(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Hr((i,o)=>n(i,o,r)):W,_y(1),e?bm(t):pI(()=>new Em))}function vI(n){return se(()=>n)}const Dn="primary",Qc=Symbol("RouteTitle");class AK{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ou(n){return new AK(n)}function IK(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const u=r[o],h=n[o];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $o(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!yI(n[i],t[i]))return!1;return!0}function yI(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function EI(n){return Array.prototype.concat.apply([],n)}function bI(n){return n.length>0?n[n.length-1]:null}function Jr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ts(n){return f_(n)?n:dc(n)?Pt(Promise.resolve(n)):rn(n)}const Tm=!1,wK={exact:function CI(n,t,e){if(!ks(n.segments,t.segments)||!Sm(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!CI(n.children[r],t.children[r],e))return!1;return!0},subset:MI},TI={exact:function PK(n,t){return $o(n,t)},subset:function OK(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>yI(n[e],t[e]))},ignored:()=>!0};function SI(n,t,e){return wK[e.paths](n.root,t.root,e.matrixParams)&&TI[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function MI(n,t,e){return DI(n,t,t.segments,e)}function DI(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!ks(i,e)||t.hasChildren()||!Sm(i,e,r))}if(n.segments.length===e.length){if(!ks(n.segments,e)||!Sm(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!MI(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ks(n.segments,i)&&Sm(n.segments,i,r)&&n.children[Dn])&&DI(n.children[Dn],t,o,r)}}function Sm(n,t,e){return t.every((r,i)=>TI[e](n[i].parameters,r.parameters))}class Bs{constructor(t=new Bn([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return LK.serialize(this)}}class Bn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Jr(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cm(this)}}class Zc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ou(this.parameters)),this._parameterMap}toString(){return RI(this)}}function ks(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Jc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(){return new vy},providedIn:"root"}),n})();class vy{parse(t){const e=new KK(t);return new Bs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ed(t.root,!0)}`,r=function kK(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Mm(e)}=${Mm(i)}`).join("&"):`${Mm(e)}=${Mm(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function FK(n){return encodeURI(n)}(t.fragment)}`:""}`}}const LK=new vy;function Cm(n){return n.segments.map(t=>RI(t)).join("/")}function ed(n,t){if(!n.hasChildren())return Cm(n);if(t){const e=n.children[Dn]?ed(n.children[Dn],!1):"",r=[];return Jr(n.children,(i,o)=>{o!==Dn&&r.push(`${o}:${ed(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function NK(n,t){let e=[];return Jr(n.children,(r,i)=>{i===Dn&&(e=e.concat(t(r,i)))}),Jr(n.children,(r,i)=>{i!==Dn&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Dn?[ed(n.children[Dn],!1)]:[`${i}:${ed(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dn]?`${Cm(n)}/${e[0]}`:`${Cm(n)}/(${e.join("//")})`}}function AI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mm(n){return AI(n).replace(/%3B/gi,";")}function yy(n){return AI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dm(n){return decodeURIComponent(n)}function II(n){return Dm(n.replace(/\+/g,"%20"))}function RI(n){return`${yy(n.path)}${function BK(n){return Object.keys(n).map(t=>`;${yy(t)}=${yy(n[t])}`).join("")}(n.parameters)}`}const UK=/^[^\/()?;=#]+/;function Am(n){const t=n.match(UK);return t?t[0]:""}const jK=/^[^=?&#]+/,HK=/^[^&#]+/;class KK{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Dn]=new Bn(t,e)),r}parseSegment(){const t=Am(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new yt(4009,Tm);return this.capture(t),new Zc(Dm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Am(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Am(this.remaining);i&&(r=i,this.capture(r))}t[Dm(e)]=Dm(r)}parseQueryParam(t){const e=function VK(n){const t=n.match(jK);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const u=function WK(n){const t=n.match(HK);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=II(e),o=II(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Am(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new yt(4010,Tm);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Dn);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Dn]:new Bn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new yt(4011,Tm)}}function Ey(n){return n.segments.length>0?new Bn([],{[Dn]:n}):n}function Im(n){const t={};for(const r of Object.keys(n.children)){const o=Im(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function zK(n){if(1===n.numberOfChildren&&n.children[Dn]){const t=n.children[Dn];return new Bn(n.segments.concat(t.segments),t.children)}return n}(new Bn(n.segments,t))}function Us(n){return n instanceof Bs}function $K(n,t,e,r,i){if(0===e.length)return au(t.root,t.root,t.root,r,i);const o=function OI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new PI(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Jr(o.outlets,(C,B)=>{h[B]="string"==typeof C?C.split("/"):C}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===u?(o.split("/").forEach((h,C)=>{0==C&&"."===h||(0==C&&""===h?e=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new PI(e,t,r)}(e);return o.toRoot()?au(t.root,t.root,new Bn([],{}),r,i):function u(C){const B=function qK(n,t,e,r){if(n.isAbsolute)return new su(t.root,!0,0);if(-1===r)return new su(e,e===t.root,0);return function xI(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new yt(4005,!1);i=r.segments.length}return new su(r,!1,i-o)}(e,r+(td(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,C),Q=B.processChildren?lu(B.segmentGroup,B.index,o.commands):Ty(B.segmentGroup,B.index,o.commands);return au(t.root,B.segmentGroup,Q,r,i)}(n.snapshot?._lastPathIndex)}function td(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function nd(n){return"object"==typeof n&&null!=n&&n.outlets}function au(n,t,e,r,i){let u,o={};r&&Jr(r,(C,B)=>{o[B]=Array.isArray(C)?C.map(Q=>`${Q}`):`${C}`}),u=n===t?e:wI(n,t,e);const h=Ey(Im(u));return new Bs(h,o,i)}function wI(n,t,e){const r={};return Jr(n.children,(i,o)=>{r[o]=i===t?e:wI(i,t,e)}),new Bn(n.segments,r)}class PI{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&td(r[0]))throw new yt(4003,!1);const i=r.find(nd);if(i&&i!==bI(r))throw new yt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class su{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Ty(n,t,e){if(n||(n=new Bn([],{})),0===n.segments.length&&n.hasChildren())return lu(n,t,e);const r=function ZK(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const u=n.segments[i],h=e[r];if(nd(h))break;const C=`${h}`,B=r<e.length-1?e[r+1]:null;if(i>0&&void 0===C)break;if(C&&B&&"object"==typeof B&&void 0===B.outlets){if(!LI(C,B,u))return o;r+=2}else{if(!LI(C,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Bn(n.segments.slice(0,r.pathIndex),{});return o.children[Dn]=new Bn(n.segments.slice(r.pathIndex),n.children),lu(o,0,i)}return r.match&&0===i.length?new Bn(n.segments,{}):r.match&&!n.hasChildren()?Sy(n,t,e):r.match?lu(n,0,i):Sy(n,t,e)}function lu(n,t,e){if(0===e.length)return new Bn(n.segments,{});{const r=function QK(n){return nd(n[0])?n[0].outlets:{[Dn]:n}}(e),i={};return!r[Dn]&&n.children[Dn]&&1===n.numberOfChildren&&0===n.children[Dn].segments.length?lu(n.children[Dn],t,e):(Jr(r,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[u]=Ty(n.children[u],t,o))}),Jr(n.children,(o,u)=>{void 0===r[u]&&(i[u]=o)}),new Bn(n.segments,i))}}function Sy(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(nd(o)){const C=JK(o.outlets);return new Bn(r,C)}if(0===i&&td(e[0])){r.push(new Zc(n.segments[t].path,NI(e[0]))),i++;continue}const u=nd(o)?o.outlets[Dn]:`${o}`,h=i<e.length-1?e[i+1]:null;u&&h&&td(h)?(r.push(new Zc(u,NI(h))),i+=2):(r.push(new Zc(u,{})),i++)}return new Bn(r,{})}function JK(n){const t={};return Jr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Sy(new Bn([],{}),0,e))}),t}function NI(n){const t={};return Jr(n,(e,r)=>t[r]=`${e}`),t}function LI(n,t,e){return n==e.path&&$o(t,e.parameters)}const rd="imperative";class Xo{constructor(t,e){this.id=t,this.url=e}}class Cy extends Xo{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class js extends Xo{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rm extends Xo{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class FI extends Xo{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}}class BI extends Xo{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ez extends Xo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tz extends Xo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nz extends Xo{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rz extends Xo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iz extends Xo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oz{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class az{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sz{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lz{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uz{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cz{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kI{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let fz=(()=>{class n{createUrlTree(e,r,i,o,u,h){return $K(e||r.root,i,o,u,h)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),hz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(t){return fz.\u0275fac(t)},providedIn:"root"}),n})();class UI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=My(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=My(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Dy(t,this._root).map(e=>e.value)}}function My(n,t){if(n===t.value)return t;for(const e of t.children){const r=My(n,e);if(r)return r}return null}function Dy(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Dy(n,e);if(r.length)return r.unshift(t),r}return[]}class Sa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function uu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class jI extends UI{constructor(t,e){super(t),this.snapshot=e,Ay(this,t)}toString(){return this.snapshot.toString()}}function VI(n,t){const e=function mz(n,t){const u=new wm([],{},{},"",{},Dn,t,null,n.root,-1,{});return new WI("",new Sa(u,[]))}(n,t),r=new qi([new Zc("",{})]),i=new qi({}),o=new qi({}),u=new qi({}),h=new qi(""),C=new Ca(r,i,u,h,o,Dn,t,e.root);return C.snapshot=e.root,new jI(new Sa(C,[]),e)}class Ca{constructor(t,e,r,i,o,u,h,C){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe(se(B=>B[Qc]))??rn(void 0),this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(t=>ou(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(t=>ou(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HI(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function pz(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class wm{get title(){return this.data?.[Qc]}constructor(t,e,r,i,o,u,h,C,B,Q,ge){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.routeConfig=C,this._urlSegment=B,this._lastPathIndex=Q,this._resolve=ge}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ou(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class WI extends UI{constructor(t,e){super(e),this.url=t,Ay(this,e)}toString(){return KI(this._root)}}function Ay(n,t){t.value._routerState=n,t.children.forEach(e=>Ay(n,e))}function KI(n){const t=n.children.length>0?` { ${n.children.map(KI).join(", ")} } `:"";return`${n.value}${t}`}function Iy(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,$o(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),$o(t.params,e.params)||n.params.next(e.params),function RK(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!$o(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),$o(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ry(n,t){const e=$o(n.params,t.params)&&function xK(n,t){return ks(n,t)&&n.every((e,r)=>$o(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ry(n.parent,t.parent))}function id(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function _z(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return id(n,r,i);return id(n,r)})}(n,t,e);return new Sa(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>id(n,h)),u}}const r=function vz(n){return new Ca(new qi(n.url),new qi(n.params),new qi(n.queryParams),new qi(n.fragment),new qi(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>id(n,o));return new Sa(r,i)}}const wy="ngNavigationCancelingError";function zI(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Us(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=GI(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function GI(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[wy]=!0,r.cancellationCode=t,e&&(r.url=e),r}function YI(n){return $I(n)&&Us(n.url)}function $I(n){return n&&n[wy]}class yz{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new od,this.attachRef=null}}let od=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new yz,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pm=!1;let Py=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dn,this.activateEvents=new ir,this.deactivateEvents=new ir,this.attachEvents=new ir,this.detachEvents=new ir,this.parentContexts=yn(od),this.location=yn($i),this.changeDetector=yn(Ni),this.environmentInjector=yn(Fo)}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new yt(4012,Pm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new yt(4012,Pm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new yt(4012,Pm);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new yt(4013,Pm);this._activatedRoute=e;const i=this.location,u=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,C=new Ez(e,h,i.injector);if(r&&function bz(n){return!!n.resolveComponentFactory}(r)){const B=r.resolveComponentFactory(u);this.activated=i.createComponent(B,i.length,C)}else this.activated=i.createComponent(u,{index:i.length,injector:C,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Wt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vi]}),n})();class Ez{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Ca?this.route:t===od?this.childContexts:this.parent.get(t,e)}}let Oy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=bn({type:n,selectors:[["ng-component"]],standalone:!0,features:[er],decls:1,vars:0,template:function(e,r){1&e&&Jt(0,"router-outlet")},dependencies:[Py],encapsulation:2}),n})();function XI(n,t){return n.providers&&!n._injector&&(n._injector=hh(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ny(n){const t=n.children&&n.children.map(Ny),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Dn&&(e.component=Oy),e}function po(n){return n.outlet||Dn}function qI(n,t){const e=n.filter(r=>po(r)===t);return e.push(...n.filter(r=>po(r)!==t)),e}function ad(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Dz{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Iy(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=uu(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,i[u],r),delete i[u]}),Jr(i,(o,u)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=uu(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=uu(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=uu(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cz(o.value.snapshot))}),t.children.length&&this.forwardEvent(new lz(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(Iy(i),i===o)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Iy(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=ad(i.snapshot),C=h?.get(Il)??null;u.attachRef=null,u.route=i,u.resolver=C,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class QI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Om{constructor(t,e){this.component=t,this.route=e}}function Az(n,t,e){const r=n._root;return sd(r,t?t._root:null,e,[r.value])}function cu(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function il(n){return null!==hi(n)}(n)?t.get(n):n:r}function sd(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=uu(t);return n.children.forEach(u=>{(function Rz(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const C=function wz(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ks(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ks(n.url,t.url)||!$o(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ry(n,t)||!$o(n.queryParams,t.queryParams);default:return!Ry(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);C?i.canActivateChecks.push(new QI(r)):(o.data=u.data,o._resolvedData=u._resolvedData),sd(n,t,o.component?h?h.children:null:e,r,i),C&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Om(h.outlet.component,u))}else u&&ld(t,h,i),i.canActivateChecks.push(new QI(r)),sd(n,null,o.component?h?h.children:null:e,r,i)})(u,o[u.value.outlet],e,r.concat([u.value]),i),delete o[u.value.outlet]}),Jr(o,(u,h)=>ld(u,e.getContext(h),i)),i}function ld(n,t,e){const r=uu(n),i=n.value;Jr(r,(o,u)=>{ld(o,i.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Om(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function ud(n){return"function"==typeof n}function Ly(n){return n instanceof Em||"EmptyError"===n?.name}const xm=Symbol("INITIAL_VALUE");function du(){return mo(n=>Iv(n.map(t=>t.pipe(Fi(1),eu(xm)))).pipe(se(t=>{for(const e of t)if(!0!==e){if(e===xm)return xm;if(!1===e||e instanceof Bs)return e}return!0}),Hr(t=>t!==xm),Fi(1)))}function ZI(n){return function x(...n){return Y(n)}(Kn(t=>{if(Us(t))throw zI(0,t)}),se(t=>!0===t))}const Fy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JI(n,t,e,r,i){const o=By(n,t,e);return o.matched?function Yz(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?rn(i.map(u=>{const h=cu(u,n);return ts(function Fz(n){return n&&ud(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(du(),ZI()):rn(!0)}(r=XI(t,r),t,e).pipe(se(u=>!0===u?o:{...Fy})):rn(o)}function By(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Fy}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||IK)(e,n,t);if(!i)return{...Fy};const o={};Jr(i.posParams,(h,C)=>{o[C]=h.path});const u=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Nm(n,t,e,r){if(e.length>0&&function qz(n,t,e){return e.some(r=>Lm(n,t,r)&&po(r)!==Dn)}(n,e,r)){const o=new Bn(t,function Xz(n,t,e,r){const i={};i[Dn]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&po(o)!==Dn){const u=new Bn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,i[po(o)]=u}return i}(n,t,r,new Bn(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function Qz(n,t,e){return e.some(r=>Lm(n,t,r))}(n,e,r)){const o=new Bn(n.segments,function $z(n,t,e,r,i){const o={};for(const u of r)if(Lm(n,e,u)&&!i[po(u)]){const h=new Bn([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[po(u)]=h}return{...i,...o}}(n,t,e,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const i=new Bn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:e}}function Lm(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function eR(n,t,e,r){return!!(po(n)===r||r!==Dn&&Lm(t,e,n))&&("**"===n.path||By(t,n,e).matched)}function tR(n,t,e){return 0===t.length&&!n.children[e]}const Fm=!1;class Bm{constructor(t){this.segmentGroup=t||null}}class nR{constructor(t){this.urlTree=t}}function cd(n){return Si(new Bm(n))}function rR(n){return Si(new nR(n))}class tG{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Nm(this.urlTree.root,[],[],this.config).segmentGroup,e=new Bn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Dn).pipe(se(o=>this.createUrlTree(Im(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(co(o=>{if(o instanceof nR)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Bm?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Dn).pipe(se(i=>this.createUrlTree(Im(i),t.queryParams,t.fragment))).pipe(co(i=>{throw i instanceof Bm?this.noMatchError(i):i}))}noMatchError(t){return new yt(4002,Fm)}createUrlTree(t,e,r){const i=Ey(t);return new Bs(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(se(o=>new Bn([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Pt(i).pipe(Ya(o=>{const u=r.children[o],h=qI(e,o);return this.expandSegmentGroup(t,h,u,o).pipe(se(C=>({segment:C,outlet:o})))}),gI((o,u)=>(o[u.outlet]=u.segment,o),{}),_I())}expandSegment(t,e,r,i,o,u){return Pt(r).pipe(Ya(h=>this.expandSegmentAgainstRoute(t,e,r,h,i,o,u).pipe(co(B=>{if(B instanceof Bm)return rn(null);throw B}))),es(h=>!!h),co((h,C)=>{if(Ly(h))return tR(e,i,o)?rn(new Bn([],{})):cd(e);throw h}))}expandSegmentAgainstRoute(t,e,r,i,o,u,h){return eR(i,e,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u):cd(e):cd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rR(o):this.lineralizeSegments(r,o).pipe(Nt(u=>{const h=new Bn(u,{});return this.expandSegment(t,h,e,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u){const{matched:h,consumedSegments:C,remainingSegments:B,positionalParamSegments:Q}=By(e,i,o);if(!h)return cd(e);const ge=this.applyRedirectCommands(C,i.redirectTo,Q);return i.redirectTo.startsWith("/")?rR(ge):this.lineralizeSegments(i,ge).pipe(Nt(Me=>this.expandSegment(t,e,r,Me.concat(B),u,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=XI(r,t),r.loadChildren?(r._loadedRoutes?rn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(se(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Bn(i,{})))):rn(new Bn(i,{}))):JI(e,r,i,t).pipe(mo(({matched:u,consumedSegments:h,remainingSegments:C})=>u?this.getChildConfig(t=r._injector??t,r,i).pipe(Nt(Q=>{const ge=Q.injector??t,Me=Q.routes,{segmentGroup:xe,slicedSegments:Fe}=Nm(e,h,C,Me),Xe=new Bn(xe.segments,xe.children);if(0===Fe.length&&Xe.hasChildren())return this.expandChildren(ge,Me,Xe).pipe(se(Et=>new Bn(h,Et)));if(0===Me.length&&0===Fe.length)return rn(new Bn(h,{}));const dt=po(r)===o;return this.expandSegment(ge,Xe,Me,Fe,dt?Dn:o,!0).pipe(se(Bt=>new Bn(h.concat(Bt.segments),Bt.children)))})):cd(e)))}getChildConfig(t,e,r){return e.children?rn({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?rn({routes:e._loadedRoutes,injector:e._loadedInjector}):function Gz(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?rn(!0):rn(i.map(u=>{const h=cu(u,n);return ts(function Oz(n){return n&&ud(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(du(),ZI())}(t,e,r).pipe(Nt(i=>i?this.configLoader.loadChildren(t,e).pipe(Kn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Jz(n){return Si(GI(Fm,3))}())):rn({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rn(r);if(i.numberOfChildren>1||!i.children[Dn])return Si(new yt(4e3,Fm));i=i.children[Dn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new Bs(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Jr(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[o]=e[h]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let u={};return Jr(e.children,(h,C)=>{u[C]=this.createSegmentGroup(t,h,r,i)}),new Bn(o,u)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new yt(4001,Fm);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class rG{}class aG{constructor(t,e,r,i,o,u,h){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const t=Nm(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Dn).pipe(se(e=>{if(null===e)return null;const r=new wm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Sa(r,e),o=new WI(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=HI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return Pt(Object.keys(r.children)).pipe(Ya(i=>{const o=r.children[i],u=qI(e,i);return this.processSegmentGroup(t,u,o,i)}),gI((i,o)=>i&&o?(i.push(...o),i):null),function DK(n,t=!1){return he((e,r)=>{let i=0;e.subscribe(fe(r,o=>{const u=n(o,i++);(u||t)&&r.next(o),!u&&r.complete()}))})}(i=>null!==i),bm(null),_I(),se(i=>{if(null===i)return null;const o=oR(i);return function sG(n){n.sort((t,e)=>t.value.outlet===Dn?-1:e.value.outlet===Dn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return Pt(e).pipe(Ya(u=>this.processSegmentAgainstRoute(u._injector??t,u,r,i,o)),es(u=>!!u),co(u=>{if(Ly(u))return tR(r,i,o)?rn([]):rn(null);throw u}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!eR(e,r,i,o))return rn(null);let u;if("**"===e.path){const h=i.length>0?bI(i).parameters:{},C=sR(r)+i.length;u=rn({snapshot:new wm(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lR(e),po(e),e.component??e._loadedComponent??null,e,aR(r),C,uR(e)),consumedSegments:[],remainingSegments:[]})}else u=JI(r,e,i,t).pipe(se(({matched:h,consumedSegments:C,remainingSegments:B,parameters:Q})=>{if(!h)return null;const ge=sR(r)+C.length;return{snapshot:new wm(C,Q,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lR(e),po(e),e.component??e._loadedComponent??null,e,aR(r),ge,uR(e)),consumedSegments:C,remainingSegments:B}}));return u.pipe(mo(h=>{if(null===h)return rn(null);const{snapshot:C,consumedSegments:B,remainingSegments:Q}=h;t=e._injector??t;const ge=e._loadedInjector??t,Me=function lG(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:xe,slicedSegments:Fe}=Nm(r,B,Q,Me.filter(dt=>void 0===dt.redirectTo));if(0===Fe.length&&xe.hasChildren())return this.processChildren(ge,Me,xe).pipe(se(dt=>null===dt?null:[new Sa(C,dt)]));if(0===Me.length&&0===Fe.length)return rn([new Sa(C,[])]);const Xe=po(e)===o;return this.processSegment(ge,Me,xe,Fe,Xe?Dn:o).pipe(se(dt=>null===dt?null:[new Sa(C,dt)]))}))}}function uG(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function oR(n){const t=[],e=new Set;for(const r of n){if(!uG(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=oR(r.children);t.push(new Sa(r.value,i))}return t.filter(r=>!e.has(r))}function aR(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function sR(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function lR(n){return n.data||{}}function uR(n){return n.resolve||{}}function cR(n){return"string"==typeof n.title||null===n.title}function ky(n){return mo(t=>{const e=n(t);return e?Pt(e).pipe(se(()=>t)):rn(t)})}const fu=new Ut("ROUTES");let Uy=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return rn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=ts(e.loadComponent()).pipe(se(fR),Kn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),$h(()=>{this.componentLoaders.delete(e)})),i=new mI(r,()=>new de).pipe(gy());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let C,B,Q=!1;Array.isArray(h)?B=h:(C=h.create(e).injector,B=EI(C.get(fu,[],hn.Self|hn.Optional)));return{routes:B.map(Ny),injector:C}}),$h(()=>{this.childrenLoaders.delete(r)})),u=new mI(o,()=>new de).pipe(gy());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(e){return ts(e()).pipe(se(fR),Nt(i=>i instanceof M0||Array.isArray(i)?rn(i):Pt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(st(xi),st(fM))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fR(n){return function vG(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Um=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new de,this.configLoader=yn(Uy),this.environmentInjector=yn(Fo),this.urlSerializer=yn(Jc),this.rootContexts=yn(od),this.navigationId=0,this.afterPreactivation=()=>rn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new az(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new oz(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new qi({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rd,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hr(r=>0!==r.id),se(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),mo(r=>{let i=!1,o=!1;return rn(r).pipe(Kn(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mo(u=>{const h=e.browserUrlTree.toString(),C=!e.navigated||u.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!C&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const Q="";return this.events.next(new FI(u.id,e.serializeUrl(r.rawUrl),Q,0)),e.rawUrlTree=u.rawUrl,u.resolve(null),en}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return hR(u.source)&&(e.browserUrlTree=u.extractedUrl),rn(u).pipe(mo(Q=>{const ge=this.transitions?.getValue();return this.events.next(new Cy(Q.id,this.urlSerializer.serialize(Q.extractedUrl),Q.source,Q.restoredState)),ge!==this.transitions?.getValue()?en:Promise.resolve(Q)}),function nG(n,t,e,r){return mo(i=>function eG(n,t,e,r,i){return new tG(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(se(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),Kn(Q=>{this.currentNavigation={...this.currentNavigation,finalUrl:Q.urlAfterRedirects},r.urlAfterRedirects=Q.urlAfterRedirects}),function dG(n,t,e,r,i){return Nt(o=>function oG(n,t,e,r,i,o,u="emptyOnly"){return new aG(n,t,e,r,i,u,o).recognize().pipe(mo(h=>null===h?function iG(n){return new G(t=>t.error(n))}(new rG):rn(h)))}(n,t,e,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(se(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Kn(Q=>{if(r.targetSnapshot=Q.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!Q.extras.skipLocationChange){const Me=e.urlHandlingStrategy.merge(Q.urlAfterRedirects,Q.rawUrl);e.setBrowserUrl(Me,Q)}e.browserUrlTree=Q.urlAfterRedirects}const ge=new ez(Q.id,this.urlSerializer.serialize(Q.extractedUrl),this.urlSerializer.serialize(Q.urlAfterRedirects),Q.targetSnapshot);this.events.next(ge)}));if(C&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:Q,extractedUrl:ge,source:Me,restoredState:xe,extras:Fe}=u,Xe=new Cy(Q,this.urlSerializer.serialize(ge),Me,xe);this.events.next(Xe);const dt=VI(ge,this.rootComponentType).snapshot;return rn(r={...u,targetSnapshot:dt,urlAfterRedirects:ge,extras:{...Fe,skipLocationChange:!1,replaceUrl:!1}})}{const Q="";return this.events.next(new FI(u.id,e.serializeUrl(r.extractedUrl),Q,1)),e.rawUrlTree=u.rawUrl,u.resolve(null),en}}),Kn(u=>{const h=new tz(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),se(u=>r={...u,guards:Az(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function kz(n,t){return Nt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?rn({...e,guardsResult:!0}):function Uz(n,t,e,r){return Pt(n).pipe(Nt(i=>function zz(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?rn(o.map(h=>{const C=ad(t)??i,B=cu(h,C);return ts(function Lz(n){return n&&ud(n.canDeactivate)}(B)?B.canDeactivate(n,t,e,r):C.runInContext(()=>B(n,t,e,r))).pipe(es())})).pipe(du()):rn(!0)}(i.component,i.route,e,t,r)),es(i=>!0!==i,!0))}(u,r,i,n).pipe(Nt(h=>h&&function Pz(n){return"boolean"==typeof n}(h)?function jz(n,t,e,r){return Pt(t).pipe(Ya(i=>Pc(function Hz(n,t){return null!==n&&t&&t(new sz(n)),rn(!0)}(i.route.parent,r),function Vz(n,t){return null!==n&&t&&t(new uz(n)),rn(!0)}(i.route,r),function Kz(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function Iz(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>hI(()=>rn(u.guards.map(C=>{const B=ad(u.node)??e,Q=cu(C,B);return ts(function Nz(n){return n&&ud(n.canActivateChild)}(Q)?Q.canActivateChild(r,n):B.runInContext(()=>Q(r,n))).pipe(es())})).pipe(du())));return rn(o).pipe(du())}(n,i.path,e),function Wz(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return rn(!0);const i=r.map(o=>hI(()=>{const u=ad(t)??e,h=cu(o,u);return ts(function xz(n){return n&&ud(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(es())}));return rn(i).pipe(du())}(n,i.route,e))),es(i=>!0!==i,!0))}(r,o,n,t):rn(h)),se(h=>({...e,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),Kn(u=>{if(r.guardsResult=u.guardsResult,Us(u.guardsResult))throw zI(0,u.guardsResult);const h=new nz(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Hr(u=>!!u.guardsResult||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),ky(u=>{if(u.guards.canActivateChecks.length)return rn(u).pipe(Kn(h=>{const C=new rz(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(C)}),mo(h=>{let C=!1;return rn(h).pipe(function fG(n,t){return Nt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return rn(e);let o=0;return Pt(i).pipe(Ya(u=>function hG(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!cR(i)&&(o[Qc]=i.title),function mG(n,t,e,r){const i=function pG(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return rn({});const o={};return Pt(i).pipe(Nt(u=>function gG(n,t,e,r){const i=ad(t)??r,o=cu(n,i);return ts(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[u],t,e,r).pipe(es(),Kn(h=>{o[u]=h}))),_y(1),vI(o),co(u=>Ly(u)?en:Si(u)))}(o,n,t,r).pipe(se(u=>(n._resolvedData=u,n.data=HI(n,e).resolve,i&&cR(i)&&(n.data[Qc]=i.title),null)))}(u.route,r,n,t)),Kn(()=>o++),_y(1),Nt(u=>o===i.length?rn(e):en))})}(e.paramsInheritanceStrategy,this.environmentInjector),Kn({next:()=>C=!0,complete:()=>{C||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Kn(h=>{const C=new iz(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(C)}))}),ky(u=>{const h=C=>{const B=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&B.push(this.configLoader.loadComponent(C.routeConfig).pipe(Kn(Q=>{C.component=Q}),se(()=>{})));for(const Q of C.children)B.push(...h(Q));return B};return Iv(h(u.targetSnapshot.root)).pipe(bm(),Fi(1))}),ky(()=>this.afterPreactivation()),se(u=>{const h=function gz(n,t,e){const r=id(n,t._root,e?e._root:void 0);return new jI(r,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:h}}),Kn(u=>{e.currentUrlTree=u.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),e.routerState=u.targetRouterState,"deferred"===e.urlUpdateStrategy&&(u.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,u),e.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>se(r=>(new Dz(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u)),Kn({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new js(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),$h(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),co(u=>{if(o=!0,$I(u)){YI(u)||(e.navigated=!0,e.restoreHistory(r,!0));const h=new Rm(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),YI(u)){const C=e.urlHandlingStrategy.merge(u.url,e.rawUrlTree),B={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||hR(r.source)};e.scheduleNavigation(C,rd,null,B,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const h=new BI(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(e.errorHandler(u))}catch(C){r.reject(C)}}return en}))}))}cancelNavigationTransition(e,r,i){const o=new Rm(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hR(n){return n!==rd}let mR=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Dn);return r}getResolvedTitleForRoute(e){return e.data[Qc]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(){return yn(yG)},providedIn:"root"}),n})(),yG=(()=>{class n extends mR{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(st(vA))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(){return yn(TG)},providedIn:"root"}),n})();class bG{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let TG=(()=>{class n extends bG{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Gr(n)))(r||n)}}(),n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jm=new Ut("",{providedIn:"root",factory:()=>({})});let CG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(){return yn(MG)},providedIn:"root"}),n})(),MG=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DG(n){throw n}function AG(n,t,e){return t.parse("/")}const IG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=yn(fk),this.isNgZoneEnabled=!1,this.options=yn(jm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||DG,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||AG,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=yn(CG),this.routeReuseStrategy=yn(EG),this.urlCreationStrategy=yn(hz),this.titleStrategy=yn(mR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=EI(yn(fu,{optional:!0})??[]),this.navigationTransitions=yn(Um),this.urlSerializer=yn(Jc),this.location=yn(Mh),this.isNgZoneEnabled=yn(En)instanceof En&&En.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=VI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rd,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const C={...i};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(o.state=C)}const h=this.parseUrl(e);this.scheduleNavigation(h,r,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Ny),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:C}=r,B=C?this.currentUrlTree.fragment:u;let Q=null;switch(h){case"merge":Q={...this.currentUrlTree.queryParams,...o};break;case"preserve":Q=this.currentUrlTree.queryParams;break;default:Q=o||null}return null!==Q&&(Q=this.removeEmptyProps(Q)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,e,Q,B??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Us(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,rd,null,r)}navigate(e,r={skipLocationChange:!1}){return function wG(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new yt(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...IG}:!1===r?{...RG}:r,Us(e))return SI(this.currentUrlTree,e,i);const o=this.parseUrl(e);return SI(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,u){if(this.disposed)return Promise.resolve(!1);let h,C,B,Q;return u?(h=u.resolve,C=u.reject,B=u.promise):B=new Promise((ge,Me)=>{h=ge,C=Me}),Q="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Q,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:h,reject:C,promise:B,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),B.catch(ge=>Promise.reject(ge))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ma=(()=>{class n{constructor(e,r,i,o,u,h){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new de;const C=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===C||"area"===C,this.isAnchorElement?this.subscription=e.events.subscribe(B=>{B instanceof js&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=ql(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=ql(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=ql(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function JT(n,t,e){return function EN(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?ZT:Dl}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(Ve(zr),Ve(Ca),_l("tabindex"),Ve(da),Ve(Nn),Ve(As))},n.\u0275dir=Wt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&Mn("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&cr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Vi]}),n})();class gR{}let xG=(()=>{class n{constructor(e,r,i,o,u){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Hr(e=>e instanceof js),Ya(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=hh(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(h,o.children??o._loadedRoutes))}return Pt(i).pipe(un())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):rn(null);const o=i.pipe(Nt(u=>null===u?rn(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));return r.loadComponent&&!r._loadedComponent?Pt([o,this.loader.loadComponent(r)]).pipe(un()):o})}}return n.\u0275fac=function(e){return new(e||n)(st(zr),st(fM),st(Fo),st(gR),st(Uy))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jy=new Ut("");let _R=(()=>{class n{constructor(e,r,i,o,u={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Cy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof js&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof kI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){qf()},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function vR(n){return n.routerState.root}function Vs(n,t){return{\u0275kind:n,\u0275providers:t}}function yR(){const n=yn(xi);return t=>{const e=n.get(Xl);if(t!==e.components[0])return;const r=n.get(zr),i=n.get(ER);1===n.get(Hy)&&r.initialNavigation(),n.get(bR,null,hn.Optional)?.setUpPreloading(),n.get(jy,null,hn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const ER=new Ut("",{factory:()=>new de}),Hy=new Ut("",{providedIn:"root",factory:()=>1});const bR=new Ut("");function UG(n){return Vs(0,[{provide:bR,useExisting:xG},{provide:gR,useExisting:n}])}const TR=new Ut("ROUTER_FORROOT_GUARD"),jG=[Mh,{provide:Jc,useClass:vy},zr,od,{provide:Ca,useFactory:vR,deps:[zr]},Uy,[]];function VG(){return new yM("Router",zr)}let ai=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[jG,[],{provide:fu,multi:!0,useValue:e},{provide:TR,useFactory:zG,deps:[[zr,new ua,new Sl]]},{provide:jm,useValue:r||{}},r?.useHash?{provide:As,useClass:Zk}:{provide:As,useClass:VM},{provide:jy,useFactory:()=>{const n=yn(pj),t=yn(En),e=yn(jm),r=yn(Um),i=yn(Jc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new _R(i,r,n,t,e)}},r?.preloadingStrategy?UG(r.preloadingStrategy).\u0275providers:[],{provide:yM,multi:!0,useFactory:VG},r?.initialNavigation?GG(r):[],[{provide:SR,useFactory:yR},{provide:j_,multi:!0,useExisting:SR}]]}}static forChild(e){return{ngModule:n,providers:[{provide:fu,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(st(TR,8))},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Oy]}),n})();function zG(n){return"guarded"}function GG(n){return["disabled"===n.initialNavigation?Vs(3,[{provide:Tc,multi:!0,useFactory:()=>{const t=yn(zr);return()=>{t.setUpLocationChangeListener()}}},{provide:Hy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Vs(2,[{provide:Hy,useValue:0},{provide:Tc,multi:!0,deps:[xi],useFactory:t=>{const e=t.get(qk,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=t.get(zr),u=t.get(ER);(function r(i){t.get(zr).events.pipe(Hr(u=>u instanceof js||u instanceof Rm||u instanceof BI),se(u=>u instanceof js||u instanceof Rm&&(0===u.code||1===u.code)&&null),Hr(u=>null!==u),Fi(1)).subscribe(()=>{i()})})(()=>{i(!0)}),t.get(Um).afterPreactivation=()=>(i(!0),u.closed?rn(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const SR=new Ut("");function CR(n,t,e,r,i,o,u){try{var h=n[o](u),C=h.value}catch(B){return void e(B)}h.done?t(C):Promise.resolve(C).then(r,i)}function br(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function u(C){CR(o,r,i,u,h,"next",C)}function h(C){CR(o,r,i,u,h,"throw",C)}u(void 0)})}}k(37);class qo{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(t,e){const r=new qo;return r.addError(t,e),r}addError(t,e){if(e&&String.hasData(e)){const i=e.split(".");let o=this.errors;for(let u=0;u<i.length;u++){const h=i[u],C=h[0].toLowerCase()+h.slice(1);u<i.length-1?(o[C]={},o=o[C]):o[C]=t}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),t.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(t),void(this.hasErrors=!0);const r=t[0].toLowerCase()+t.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}class mu{constructor(){this.XSSI_PREFIX=/^\)\]\}',?\n/}intercept(t,e){return e.handle(t.clone()).pipe(co(r=>{if(!(r instanceof kc)||400!==r.status&&404!==r.status)return Si(r);if(404===r.status)return Si(qo.CreateErrorResult("NotFound"));const i=new qo;try{let o=r.error;"string"==typeof o&&(o=JSON.parse(r.error.replace(this.XSSI_PREFIX,""))),Array.isArray(o)?o.forEach(u=>i.addError(u.message,u.memberName)):i.addError(o.message,o.memberName)}catch{i.addError("Internal Error")}return Si(i)}))}}mu.\u0275fac=function(t){return new(t||mu)},mu.\u0275prov=vt({token:mu,factory:mu.\u0275fac,providedIn:"root"});class wo{}class fd extends wo{}class ns extends wo{constructor(t=!1){super(),this._kill=t}get kill(){return this._kill}}function MR(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ln(n,t,e){MR(n,t),t.set(n,e)}function DR(n,t,e){if(!t.has(n))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(n)}function nt(n,t){return function $G(n,t){return t.get?t.get.call(n):t.value}(n,DR(n,t,"get"))}function Kt(n,t,e){return function XG(n,t,e){if(t.set)t.set.call(n,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}(n,DR(n,t,"set"),e),e}var Vm=new WeakMap;class Fr{constructor(){ln(this,Vm,{writable:!0,value:void 0}),Kt(this,Vm,new de)}raise(t){if(null==t)throw new Error("domainEvent missing");let e="function"==typeof t?new t:"object"==typeof t?t:null;if(!(e&&e instanceof wo))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");nt(this,Vm).next(e)}handle(t){return nt(this,Vm).pipe(Hr(e=>e instanceof t),se(e=>e))}}Fr.\u0275fac=function(t){return new(t||Fr)},Fr.\u0275prov=vt({token:Fr,factory:Fr.\u0275fac,providedIn:"root"});class pu{constructor(t,e,r){this.config=t,this.eventManagerService=e,this.router=r}intercept(t,e){return e.handle(t.clone()).pipe(co(r=>r instanceof kc&&(500===r.status||"Unknown Error"===r.statusText)?("Unknown Error"===r.statusText&&console.error(r),this.router.navigate([this.config.route]),this.eventManagerService.raise(new ns(!0)),Si(qo.CreateErrorResult("Server Error"))):Si(r)))}}pu.\u0275fac=function(t){return new(t||pu)(st(Wy),st(Fr),st(zr))},pu.\u0275prov=vt({token:pu,factory:pu.\u0275fac,providedIn:"root"});class Wy{constructor(){this.route="/error"}}class AR{constructor(t){if(this.debugEnabled=!1,this.infoEnabled=!1,this.warnEnabled=!1,this.errorEnabled=!1,this.fatalEnabled=!1,!t||!("logLevel"in t))throw new Error("Must configure.");switch(+t.logLevel){case 0:this.debugEnabled=!0;break;case 1:this.infoEnabled=!0;break;case 2:this.warnEnabled=!0;break;case 3:this.errorEnabled=!0;break;case 4:this.fatalEnabled=!0}}logWriter(t,...e){}debug(t){this.debugEnabled&&this.logWriter("debug",t)}info(t){this.infoEnabled&&this.logWriter("info",t)}warn(t){this.warnEnabled&&this.logWriter("warn",t)}error(t){this.errorEnabled&&this.logWriter("error",t)}fatal(t){this.fatalEnabled&&this.logWriter("error",t)}}class Ky{constructor(){this.logLevel=3}}class gu extends AR{constructor(t){super(t)}formatError(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:"sourceURL"in t&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}logWriter(t,...e){if(!window.console)return;const r=window.console,i=r[t]||r.log;let o=!1;try{o=!!i.apply}catch{}if(o){const u=e.map(h=>this.formatError(h));i.apply(r,u)}else i(e[0])}}gu.\u0275fac=function(t){return new(t||gu)(st(Ky))},gu.\u0275prov=vt({token:gu,factory:gu.\u0275fac,providedIn:"root"});class IR{constructor(t,e){this.storage=t,this.keyPrefix=e,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(t,e,r){const i=this.createItemKey(t),o=new qG;o.value=e,null!=r&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(t){const e=this.createItemKey(t),r=this.storage.getItem(e);return null===r?null:JSON.parse(r).value}remove(t){this.storage.removeItem(this.createItemKey(t))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const t=[],e=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;const u=this.storage.getItem(o);if(!u)continue;const h=JSON.parse(u);h.expiresOn&&e>h.expiresOn&&t.push(o)}t.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(t){return`${this.keyPrefix}.${t}`}}class qG{}class hd{constructor(){this.keyPrefix=""}}class Hs extends IR{constructor(t){if(!t||!t.keyPrefix||0===t.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,t.keyPrefix)}}Hs.\u0275fac=function(t){return new(t||Hs)(st(hd))},Hs.\u0275prov=vt({token:Hs,factory:Hs.\u0275fac,providedIn:"root"});class _u{constructor(t){this.sessionStorageService=t,this.key="AuthToken"}setAuthToken(t,e){this.sessionStorageService.set(this.key,t,e)}getAuthToken(){return this.sessionStorageService.get(this.key)}removeAuthToken(){this.sessionStorageService.remove(this.key)}}_u.\u0275fac=function(t){return new(t||_u)(st(Hs))},_u.\u0275prov=vt({token:_u,factory:_u.\u0275fac,providedIn:"root"});class vu{constructor(t,e,r,i){this.authTokenService=t,this.config=e,this.eventManagerService=r,this.router=i}intercept(t,e){let r={};if(!t.headers.has("Authorization")){const i=this.authTokenService.getAuthToken();i&&(r={setHeaders:{Authorization:i}})}return e.handle(t.clone(r)).pipe(Kn(i=>{if(i instanceof Bc)try{const o=i.headers&&i.headers.has("Authorization")?i.headers.get("Authorization"):i.headers&&i.headers.has("renew-Authorization")?i.headers.get("renew-Authorization"):i.body&&String.hasData(i.body.token)?i.body.token:null;String.hasData(o)&&this.authTokenService.setAuthToken(o,Date.now()+12e5)}catch{}}),co(i=>i instanceof kc&&(401===i.status||403===i.status)?(this.eventManagerService.raise(new ns(!0)),this.router.navigate([this.config.route],{replaceUrl:!0}),en):Si(i)))}}vu.\u0275fac=function(t){return new(t||vu)(st(_u),st(zy),st(Fr),st(zr))},vu.\u0275prov=vt({token:vu,factory:vu.\u0275fac,providedIn:"root"});class zy{constructor(){this.route="/forbidden"}}class yu{constructor(t){this.config=t}intercept(t,e){return!this.config.use||t.url.includes("assets")?e.handle(t):e.handle(t.clone({url:`${this.config.url}${t.url}`,withCredentials:!0}))}}yu.\u0275fac=function(t){return new(t||yu)(st(Gy))},yu.\u0275prov=vt({token:yu,factory:yu.\u0275fac,providedIn:"root"});class Gy{constructor(){this.use=!1,this.url=""}}class Da{constructor(t){if(t)throw new Error("CoreModule is already loaded. Import it once in the AppModule only.")}static forRoot(t){return{ngModule:Da,providers:[{provide:Gy,useValue:t.corsConfig||new Gy},{provide:zy,useValue:t.http401403Config||new zy},{provide:Wy,useValue:t.http500Config||new Wy},{provide:Ky,useValue:t.loggerConfig||new Ky},{provide:hd,useValue:t.storageConfig||new hd}]}}}Da.\u0275fac=function(t){return new(t||Da)(st(Da,12))},Da.\u0275mod=Qn({type:Da}),Da.\u0275inj=dn({providers:[{provide:Uc,useClass:yu,multi:!0},{provide:Uc,useClass:mu,multi:!0},{provide:Uc,useClass:vu,multi:!0},{provide:Uc,useClass:pu,multi:!0},{provide:AR,useClass:gu}],imports:[M2]});class Ws{constructor(t){this.sessionStorageService=t,this.key="UniqueId"}getUniqueId(){let t=this.sessionStorageService.get(this.key);return null==t&&(t=0),this.sessionStorageService.set(this.key,++t),t}}function RR(n,t,e){return function QG(n,t){if(n!==t)throw new TypeError("Private static access of wrong provenance")}(n,t),e}Ws.\u0275fac=function(t){return new(t||Ws)(st(Hs))},Ws.\u0275prov=vt({token:Ws,factory:Ws.\u0275fac,providedIn:"root"});class ZG{}class rs{static sort(t,e,r){let i;t.sort((o,u)=>{let h=0,C=o[e],B=u[e];return null==C&&null==B?0:(null==C&&(void 0===i&&(i=RR(this,rs,wR).call(this,B)),C=i),null==B&&(void 0===i&&(i=RR(this,rs,wR).call(this,C)),B=i),"string"==typeof C&&(h=C.localeCompare(B)),"number"==typeof C&&(h=C-B),"boolean"==typeof C&&(h=C===B?0:C?1:-1),C instanceof Date&&(h=C.valueOf()-B.valueOf()),"desc"===r&&(h=-h),h)})}static fromParamMap(t,e){const r={};e.keys.forEach(o=>r[o]=`${e.get(o)}`);const i=rs.adapt(t,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!e.has(o))return;const u=e.getAll(o);i[o]="string"!=typeof u?1!==u.length?u:u[0].split(","):u.split(",")}),i}static adapt(t,e){if(null==t)return null;"function"==typeof t&&(t=new t);const r="string"==typeof e?String.isNullOrWhitespace(e)?{}:JSON.parse(e):e,i={};return Object.keys(r).forEach(o=>{const u=o[0].toLowerCase()+o.slice(1);i[u]=r[o]}),this.copyMatchingProperties(t,i),Object.keys(t).filter(o=>"object"==typeof t[o]&&t[o]instanceof ZG).forEach(o=>this.adapt(t[o],o in i?i[o]:this.extractPrefixedObject(i,`${o}_`))),t}static copyMatchingProperties(t,e){null==t||null==e||this.getPropertyNames(t).forEach(r=>{if(void 0===e[r])return;let i=typeof t[r];if("object"===i)switch(Reflect.getMetadata("design:type",t,r)){case String:i="string";break;case Boolean:i="boolean";break;case Number:i="number"}switch(i){case"string":t[r]=null===e[r]?t[r]:"string"==typeof e[r]?e[r]:e[r].toString();break;case"boolean":t[r]=null===e[r]?t[r]:"boolean"==typeof e[r]?e[r]:!!e[r];break;case"number":t[r]=null===e[r]?t[r]:"number"==typeof e[r]?e[r]:Number(e[r]);break;case"object":if((t[r]instanceof Date||Reflect.getMetadata("design:type",t,r)===Date)&&(t[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(t[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",t,r)){const o=Reflect.getMetadata("design:type",t,r);e[r].forEach(u=>t[r].push(rs.adapt(o,u)))}}})}static getPropertyNames(t){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(t).forEach(i=>!r.includes(i)&&r.push(i))}while((t=Object.getPrototypeOf(t))&&!e.includes(t));return r}static extractPrefixedObject(t,e){const r={};return Object.keys(t).filter(i=>i.startsWith(e)).forEach(i=>r[i.replace(e,"")]=t[i]),r}}function wR(n){switch(typeof n){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return n instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}function hr(n,t){MR(n,t),t.add(n)}function nr(n,t,e){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return e}String.isNullOrWhitespace||(String.isNullOrWhitespace=function(n){return null==n||n.trim().length<1}),String.hasData||(String.hasData=n=>!String.isNullOrWhitespace(n)),String.toDate||(String.toDate=function(n){if(null==n||""===n)return null;if(n instanceof Date)return n;if(!(n instanceof String))return null;const t=n.split("/");if(3!==t.length)return null;const e=Number(t[0]),r=Number(t[1]);let i=Number(t[2]);if(isNaN(e)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,e-1,r);return o.getMonth()+1!==e||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o}),Object.trimUnusedProperties||(Object.trimUnusedProperties=function(n){if(null==n)return;if(null==n)return null;let t={...n};for(var e in t){const r=t[e];(null==r||Array.isArray(r)&&0===r.length)&&delete t[e],"string"==typeof r&&String.isNullOrWhitespace(r)&&delete t[e],"number"==typeof r&&0===r&&delete t[e]}return t});var md=new WeakMap,Yy=new WeakSet;class pd{constructor(){hr(this,Yy),ln(this,md,{writable:!0,value:void 0}),Kt(this,md,'input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select')}focusFirst(){window.setTimeout(()=>{const t=document.querySelectorAll(nt(this,md));0!==t.length&&t[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const t=Array.from(document.querySelectorAll(nt(this,md))).filter(e=>nr(this,Yy,PR).call(this,e));0!==t.length&&t[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const t=Array.from(document.querySelectorAll(nt(this,md)));if(0===t.length)return;let e=t.findIndex(r=>r===document.activeElement);for(e<0&&(e=0);e<t.length;){if(nr(this,Yy,PR).call(this,t[e]))return void t[e].focus();e++}},50)}}function PR(n){return n instanceof HTMLInputElement||n instanceof HTMLSelectElement||n instanceof HTMLTextAreaElement?!n.disabled&&String.isNullOrWhitespace(n.value):"MAT-SELECT"===n.nodeName&&String.isNullOrWhitespace(n.innerText)}pd.\u0275fac=function(t){return new(t||pd)},pd.\u0275prov=vt({token:pd,factory:pd.\u0275fac,providedIn:"root"});class gd{scrollIntoView(){window.setTimeout(()=>{let t=document.querySelector(".generalError");if(t)return void t.scrollIntoView({behavior:"smooth"});if(t=document.querySelector(".mat-form-field-invalid,.has-error"),!t)return;t.scrollIntoView({behavior:"smooth",block:"nearest"});const e=t.querySelector("input");if(e)return e.select(),void e.focus();const r=t.querySelector("select,mat-select");r&&r.focus()},50)}}gd.\u0275fac=function(t){return new(t||gd)},gd.\u0275prov=vt({token:gd,factory:gd.\u0275fac,providedIn:"root"});class JG extends wo{}class eY extends wo{}class _d{constructor(t,e){this.http=t,this.httpResult=null,e.handle(JG).subscribe(r=>this.initialize()),e.handle(eY).subscribe(r=>this.initialize()),this.initialize()}executeAsync(t="api/user/current"){var e=this;return br(function*(){return e.user?e.user:e.httpResult?(yield e.httpResult,e.user):(e.httpResult=e.http.get(t).toPromise(),e.user=yield e.httpResult,e.httpResult=null,e.user)})()}initialize(){this.user=null}}_d.\u0275fac=function(t){return new(t||_d)(st(Qh),st(Fr))},_d.\u0275prov=vt({token:_d,factory:_d.\u0275fac,providedIn:"root"});class Eu extends IR{constructor(t){if(!t||!t.keyPrefix||0===t.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,t.keyPrefix)}}Eu.\u0275fac=function(t){return new(t||Eu)(st(hd))},Eu.\u0275prov=vt({token:Eu,factory:Eu.\u0275fac,providedIn:"root"});class Qo{constructor(t){if(this.errorMessage=t,String.isNullOrWhitespace(t))throw new Error("Must supply an error message")}}class OR extends Qo{constructor(t){super("NA"),this.rules=t}isBroken(t){return!1}}const tY=new RegExp("return (.*);?\\b"),nY=new RegExp("=>(.*)");function xR(n){return null==n||("number"==typeof n?0===n.toString().trim().length:"string"==typeof n?0===n.trim().length:Array.isArray(n)?0===n.length:"object"==typeof n&&(n instanceof Date?0===n.valueOf():0===Object.keys(n).length))}class NR extends Qo{isBroken(t){return xR(t)}}class Hm{constructor(t){this.propertyRules=t}static create(t){return new Hm(t)}check(t){this.result=new qo;try{this.entity=t,this.propertyRules.forEach(e=>this.checkProperty(e))}catch{}finally{this.entity=null}return this.result}checkProperty(t){let e=this.entity[t.propertyName];if("function"==typeof e&&(e=e()),xR(e)){const r=this.getRequiredRule(t.rules);null!==r&&this.isRuleBroken(r,e)&&this.result.addError(r.errorMessage,t.propertyName)}else t.rules.forEach(r=>{if(!(r instanceof OR))return void(this.isRuleBroken(r,e)&&this.result.addError(r.errorMessage,t.propertyName));if(r.when&&!r.when.call(null,this.entity))return;const i=Hm.create(r.rules);if(Array.isArray(e)){this.result.errors[t.propertyName]=[];for(let u=0;u<e.length;u++){const C=i.check(e[u]);C.hasErrors&&(this.result.hasErrors=!0,this.result.errors[t.propertyName][u]=C.errors)}return}const o=i.check(e);o.hasErrors&&(this.result.hasErrors=!0,this.result.errors[t.propertyName]=o.errors)})}getRequiredRule(t){const e=t.filter(r=>r instanceof NR);return 1===e.length?e[0]:null}isRuleBroken(t,e){return!(t.when&&!t.when.call(null,this.entity))&&t.isBroken(e)}}class iY{constructor(){this.propertyName="",this.rules=[]}}class oY extends Qo{constructor(t,e){super(e),this.choices=t}isBroken(t){return-1===this.choices.indexOf(t)}}class vd extends Qo{isBroken(t){return!this.tryParseNumber(t)}tryParseNumber(t){return this.parsedNumber="number"==typeof t?t:"string"==typeof t?Number(t):"toString"in t?Number(t.toString()):NaN,!isNaN(this.parsedNumber)}}class $y extends vd{constructor(){super(...arguments),this.CURRENCY_REGEXP=/^\$?[\d,]+\.?\d{0,2}$/}isBroken(t){return!this.tryParseNumber(t)}tryParseNumber(t){return!(!super.tryParseNumber(t)||!this.CURRENCY_REGEXP.test(t))}}class Xy extends Qo{isBroken(t){return!this.tryParseDate(t)}tryParseDate(t){if(t instanceof Date)return!isNaN(t.valueOf())&&(this.parsedDate=t,!0);const e=t.split("/");if(3!==e.length)return!1;const r=Number(e[0]),i=Number(e[1]);let o=Number(e[2]);if(isNaN(r)||isNaN(i)||isNaN(o))return!1;o<100&&(o=o<50?2e3+o:1900+o);const u=new Date(o,r-1,i);return u.getMonth()+1===r&&u.getDate()===i&&(u.getFullYear()===o||u.getFullYear()%100===o)&&(this.parsedDate=u,!0)}}class aY extends Qo{constructor(){super(...arguments),this.emailRegExp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}isBroken(t){return!this.emailRegExp.test(t)}}class qy extends vd{constructor(){super(...arguments),this.INTEGER_REGEXP=/^\-?\d+$/}isBroken(t){return!this.tryParseNumber(t)}tryParseNumber(t){return!(!super.tryParseNumber(t)||!this.INTEGER_REGEXP.test(t))}}class sY extends $y{constructor(t,e){super(e),this.maxCurrency=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber>this.maxCurrency}}class lY extends Xy{constructor(t,e){super(e),this.maxDate=t}isBroken(t){return this.tryParseDate(t)&&this.parsedDate>this.maxDate}}class uY extends qy{constructor(t,e){super(e),this.maxInteger=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber>this.maxInteger}}class cY extends Qo{constructor(t,e){super(e),this.maxLength=t}isBroken(t){return t.length>this.maxLength}}class dY extends vd{constructor(t,e){super(e),this.maxNumber=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber>this.maxNumber}}class fY extends $y{constructor(t,e){super(e),this.minCurrency=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber<this.minCurrency}}class hY extends Xy{constructor(t,e){super(e),this.minDate=t}isBroken(t){return this.tryParseDate(t)&&this.parsedDate<this.minDate}}class mY extends qy{constructor(t,e){super(e),this.minInteger=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber<this.minInteger}}class pY extends Qo{constructor(t,e){super(e),this.minLength=t}isBroken(t){return t.length<this.minLength}}class gY extends vd{constructor(t,e){super(e),this.minNumber=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber<this.minNumber}}class _Y extends Qo{constructor(){super(...arguments),this.phoneRegExp=/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/}isBroken(t){return!this.phoneRegExp.test(t)}}class vY extends Qo{constructor(t,e){super(e),this.regex=t}isBroken(t){return!this.regex.test(t)}}class Wm{constructor(){this.classRules=[]}static for(){return new Wm}property(t){return this.propertyRules=new iY,this.propertyRules.propertyName=function rY(n){const t=tY.exec(n+"")||nY.exec(n+"");if(null==t)throw new Error("The function does not contain a statement matching 'return variableName;'");const e=t[1].toString().split(".");return e[e.length-1]}(t),this.classRules.push(this.propertyRules),this}build(){return this.classRules}choice(t,e){return this.propertyRules.rules.push(new oY(t,e)),this}currency(t){return this.propertyRules.rules.push(new $y(t)),this}date(t){return this.propertyRules.rules.push(new Xy(t)),this}email(t){return this.propertyRules.rules.push(new aY(t)),this}integer(t){return this.propertyRules.rules.push(new qy(t)),this}maxCurrency(t,e){return this.propertyRules.rules.push(new sY(t,e)),this}maxDate(t,e){return this.propertyRules.rules.push(new lY(t,e)),this}maxInteger(t,e){return this.propertyRules.rules.push(new uY(t,e)),this}maxLength(t,e){return this.propertyRules.rules.push(new cY(t,e)),this}maxNumber(t,e){return this.propertyRules.rules.push(new dY(t,e)),this}minCurrency(t,e){return this.propertyRules.rules.push(new fY(t,e)),this}minDate(t,e){return this.propertyRules.rules.push(new hY(t,e)),this}minInteger(t,e){return this.propertyRules.rules.push(new mY(t,e)),this}minLength(t,e){return this.propertyRules.rules.push(new pY(t,e)),this}minNumber(t,e){return this.propertyRules.rules.push(new gY(t,e)),this}number(t){return this.propertyRules.rules.push(new vd(t)),this}object(t){return this.propertyRules.rules.push(new OR(t)),this}phone(t){return this.propertyRules.rules.push(new _Y(t)),this}regex(t,e){return this.propertyRules.rules.push(new vY(t,e)),this}required(t){return this.propertyRules.rules.push(new NR(t)),this}when(t){return this.propertyRules.rules[this.propertyRules.rules.length-1].when=t,this}}class yY{constructor(){const t=Wm.for().property(i=>i.name).required("required").property(i=>i.key).required("required").build(),e="Must be a integer greater than 0.",r=Wm.for().property(i=>i.dbName).required("required").property(i=>i.dbVersion).required(e).integer(e).minInteger(0,e).property(i=>i.tables).required("required").object(t).build();this.rulesEngine=Hm.create(r)}check(t){return this.rulesEngine.check(t)}}class yd{constructor(t){if(this.storageConfig=t,this.configRules=new yY,!window.indexedDB)throw new Error("Your browser doesn't support a stable version of IndexedDB.");if(!t||String.isNullOrWhitespace(t.keyPrefix))throw new Error("Must configure.")}openAsync(t){return new Promise((e,r)=>{let i=new qo;if(!t)return i.addError("required","config"),void r(i);if(i=this.configRules.check(t),i.hasErrors)return void r(i);const o=window.indexedDB.open(`${this.storageConfig.keyPrefix}.${t.dbName}`,t.dbVersion);o.onerror=u=>{i.addError("Database error: "+u.target.errorCode),r(i)},o.onsuccess=u=>{e(u.target.result)},o.onupgradeneeded=u=>{const h=u.target.result;t.tables.forEach(C=>{const B=h.createObjectStore(C.name,{keyPath:C.key.path,autoIncrement:!!C.key.autoIncrement});Array.isArray(C.indexes)&&C.indexes.filter(Q=>String.hasData(Q.name)).forEach(Q=>{B.createIndex(Q.name,Q.name,{unique:!!Q.unique})})})}})}addAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readwrite");h.onabort=()=>u(h.error);const B=h.objectStore(e).add(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o()})}clearAsync(t,e){return new Promise((r,i)=>{const o=t.transaction(e,"readwrite");o.onabort=()=>i(o.error);const h=o.objectStore(e).clear();h.onerror=()=>i(h.error),o.oncomplete=()=>r()})}countAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readwrite");u.onabort=()=>o(u.error);const C=u.objectStore(e).count(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i(C.result)})}deleteAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readwrite");u.onabort=()=>o(u.error);const C=u.objectStore(e).delete(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i()})}getAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readonly");u.onabort=()=>o(u.error);const C=u.objectStore(e).get(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i(C.result)})}getAllAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).getAll(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}getAllKeysAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).getAllKeys(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}getKeyAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readonly");u.onabort=()=>o(u.error);const C=u.objectStore(e).getKey(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i(C.result)})}indexAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readonly");u.onabort=()=>o(u.error);const C=u.objectStore(e).index(r);u.oncomplete=()=>i(C)})}openCursorAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).openCursor(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}openKeyCursorAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).openKeyCursor(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}putAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).put(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}}yd.\u0275fac=function(t){return new(t||yd)(st(hd))},yd.\u0275prov=vt({token:yd,factory:yd.\u0275fac,providedIn:"root"});const EY=["determinateSpinner"];function bY(n,t){if(1&n&&(Mf(),xt(0,"svg",11),Jt(1,"circle",12),Ft()),2&n){const e=Qt();cr("viewBox",e._viewBox()),St(1),Wa("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),cr("r",e._circleRadius())}}const TY=Gh(class{constructor(n){this._elementRef=n}},"primary"),SY=new Ut("mat-progress-spinner-default-options",{providedIn:"root",factory:function CY(){return{diameter:LR}}}),LR=100;let DY=(()=>{class n extends TY{constructor(e,r,i){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=LR,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.color&&(this.color=this.defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Jl(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=Jl(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=Jl(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Ko,8),Ve(SY))},n.\u0275cmp=bn({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,r){if(1&e&&bi(EY,5),2&e){let i;ar(i=sr())&&(r._determinateCircle=i.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(e,r){2&e&&(cr("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Wa("width",r.diameter,"px")("height",r.diameter,"px"),yr("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[Cn],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,r){if(1&e&&(zt(0,bY,2,8,"ng-template",null,0,N_),xt(2,"div",1,2),Mf(),xt(4,"svg",3),Jt(5,"circle",4),Ft()(),function jb(){!function xO(){Tn.lFrame.currentNamespace=null}()}(),xt(6,"div",5)(7,"div",6)(8,"div",7),cc(9,8),Ft(),xt(10,"div",9),cc(11,8),Ft(),xt(12,"div",10),cc(13,8),Ft()()()),2&e){const i=Rr(1);St(4),cr("viewBox",r._viewBox()),St(1),Wa("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),cr("r",r._circleRadius()),St(4),bt("ngTemplateOutlet",i),St(2),bt("ngTemplateOutlet",i),St(2),bt("ngTemplateOutlet",i)}},dependencies:[hv],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),AY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[or,Kr]}),n})();function IY(n,t){1&n&&(xt(0,"div",1),Jt(1,"mat-spinner",2),Ft())}class Ed{constructor(t){this.requestCount=0,this.delay=250,this.show=!1,t.handle(fd).subscribe(e=>this.waitStart()),t.handle(ns).subscribe(e=>this.waitEnd(e))}waitStart(){this.requestCount++,window.setTimeout(()=>{0!==this.requestCount&&(this.show=!0)},this.delay)}waitEnd(t){t.kill?this.requestCount=0:this.requestCount>0&&this.requestCount--,0===this.requestCount&&(this.show=!1)}}Ed.\u0275fac=function(t){return new(t||Ed)(Ve(Fr))},Ed.\u0275cmp=bn({type:Ed,selectors:[["throbber"]],standalone:!0,features:[er],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(t,e){1&t&&zt(0,IY,2,0,"div",0),2&t&&bt("ngIf",e.show)},dependencies:[or,jr,AY,DY],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"]});var si=(()=>{return(n=si||(si={})).Listing="Listing",n.Comment="t1",n.Account="t2",n.Link="t3",n.Message="t4",n.Subreddit="t5",n.Award="t6",n.More="more",si;var n})();const RY=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function Qy(n,t){let e={};return function wY(n,t){if(t.is_crosspost=String.hasData(n.crosspost_parent)&&Array.isArray(n.crosspost_parent_list)&&n.crosspost_parent_list.length>0,n.media?.reddit_video)t.has_video=!0;else if(n.preview?.reddit_video_preview)t.has_video=!0;else if(n.preview&&Array.isArray(n.preview.images)&&n.preview.images[0].variants&&"mp4"in n.preview.images[0].variants)t.has_video=!0;else if(n.media_embed?.content)t.has_embed=!0;else{if(String.hasData(n.selftext_html)&&(t.has_text=!0),n.thumbnail&&"default"===n.thumbnail&&(t.has_link=!0),n.post_hint&&"link"===n.post_hint&&"imgur.com"!==n.domain&&(t.has_link=!0),!n.preview||!Array.isArray(n.preview.images))return n.gallery_data?(t.has_image=!0,void(t.has_image_gallery=!0)):void(RY.some(e=>n.url.endsWith(e))?t.has_image=!0:!t.has_image&&!t.has_text&&(t.has_link=!0));t.has_image=!0}}(n,e),function PY(n,t){t.author=n.author,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.num_comments=n.num_comments,t.stickied=n.stickied,t.subreddit=n.subreddit,t.title=n.title,t.ups=n.ups,t.url=n.url}(n,e),function OY(n,t,e){t.is_crosspost&&(t.crosspost=Qy(n.crosspost_parent_list[0],e))}(n,e,t),function xY(n,t){t.has_embed&&(t.embed=n.media_embed.content)}(n,e),function NY(n,t){t.has_image&&(t.images=null!=n.gallery_data?function LY(n){return n.gallery_data.items.map(t=>{const e=n.media_metadata[t.media_id];return"valid"!==e.status?{src:"",srcset:"",href:n.url}:{src:e.o?e.o[0].u:e.s.u,srcset:e.p.map(r=>`${r.u} ${r.x}w`).join(","),href:n.url}})}(n):null!=n.preview?function FY(n){const t=n.preview.images[0];return[{src:t.source.url,srcset:t.resolutions.map(e=>`${e.url} ${e.width}w`).join(","),href:n.url}]}(n):function BY(n){return[{src:n.url,srcset:n.url,href:n.url}]}(n))}(n,e),function HY(n,t){t.has_link&&(t.url=n.url)}(n,e),function WY(n,t){t.has_text&&(t.selftext_html=n.selftext_html)}(n,e),function kY(n,t,e){t.has_video&&(t.videos=n.media&&n.media.reddit_video?function UY(n){return[{url:n.media.reddit_video.dash_url,type:"application/dash+xml"},{url:n.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:n.media.reddit_video.fallback_url,type:"video/mp4"}]}(n):n.preview&&n.preview.reddit_video_preview?function jY(n){return[{url:n.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:n.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:n.preview.reddit_video_preview.fallback_url,type:"video/mp4"}]}(n):function VY(n){return[{url:n.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(n),!e&&(t.videos=t.videos.filter(r=>"video/mp4"==r.type)))}(n,e,t),e}function KY(n){let t={};return function zY(n,t){t.author=n.author,t.body_html=n.body_html,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.stickied=n.stickied,t.ups=n.ups}(n,t),t}function GY(n,t){return Zy.apply(this,arguments)}function Zy(){return(Zy=br(function*(n,t,e=""){this.set_post_comments({items:[],post:null});let r=new URLSearchParams;r.set("sort",`${t}`),r.set("limit","100"),r.set("raw_json","1"),r.set("threaded","false"),String.hasData(e)&&r.set("comment",e);const i=new URL(`https://www.reddit.com/comments/${n}.json`);i.search=`${r}`;try{const o=yield fetch(i);if(!o.ok)return void this.set_errors(o.statusText);const u=yield o.json(),h=u[0],C=u[1];if(C.kind!==si.Listing)return void this.set_errors(`Comment listing's kind isn't ${si.Listing}, its ${C.kind} instead`);if(C.data?.children.some(ge=>ge.kind!==si.Comment&&ge.kind!==si.More))return void this.set_errors(`Not all of comment listing's children are of kind ${si.Comment} or ${si.More}`);const B=C.data.children.filter(ge=>ge.kind==si.Comment&&null!=ge.data).map(ge=>KY(ge.data)),Q=Qy(h.data.children[0].data,this.is_MSE_supported());this.set_post_comments({article:n,items:B,sort:t,post:Q})}catch(o){this.set_errors(o)}})).apply(this,arguments)}function YY(n,t,e,r){return Jy.apply(this,arguments)}function Jy(){return(Jy=br(function*(n,t,e,r){this.set_posts({items:[],subreddit:""});const i=this.subscriptionService.get();let o=r;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let u=new URLSearchParams;u.set("limit","20"),u.set("raw_json","1"),String.hasData(n)&&u.set("after",n),String.hasData(t)&&u.set("modhash",t);const h=new URL(`https://www.reddit.com/r/${o}/${e}.json`);h.search=`${u}`;try{const C=yield fetch(h);if(!C.ok)return void this.set_errors(C.statusText);const B=yield C.json();if(B.kind!==si.Listing)return void this.set_errors(`Listing's kind isn't ${si.Listing}, its ${B.kind} instead`);if(B.data?.children.some(Me=>Me.kind!==si.Link))return void this.set_errors(`Not all of Listing's children are of kind ${si.Link}`);const Q=B.data,ge=Q.children.filter(Me=>null!=Me.data).map(Me=>Qy(Me.data,this.is_MSE_supported()));ge.forEach(Me=>Me.subreddit_subscribed=i.includes(Me.subreddit)),this.set_posts({after:Q.after,items:ge,modhash:Q.modhash,sort:e,subreddit:o})}catch(C){this.set_errors(C)}})).apply(this,arguments)}function $Y(n){return eE.apply(this,arguments)}function eE(){return(eE=br(function*(n){if(this.get_subreddit_query().request!=n&&(this.set_subreddit_query({request:n,result:[]}),!String.isNullOrWhitespace(n)))try{const r=(yield XY.call(this,n)).map(u=>ZY.call(this,u)),o=(yield Promise.allSettled(r)).filter(u=>"fulfilled"===u.status).map(u=>u.value).filter(u=>null!=u).map(u=>({accounts_active:u.accounts_active,display_name:u.display_name,public_description_html:u.public_description_html,subscribers:u.subscribers,title:u.title,url:u.url,id:u.id}));this.set_subreddit_query({request:n,result:o})}catch(e){this.set_errors(e)}})).apply(this,arguments)}function XY(n){return tE.apply(this,arguments)}function tE(){return(tE=br(function*(n){const t=[qY.call(this,n),QY.call(this,n)],r=(yield Promise.allSettled(t)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(r)]})).apply(this,arguments)}function qY(n){return nE.apply(this,arguments)}function nE(){return(nE=br(function*(n){const t=new URLSearchParams;t.set("query",n),t.set("exact","false"),t.set("include_over_18","true"),t.set("typeahead_active","false"),t.set("include_unadvertisable","true");const e=new URL("https://www.reddit.com/api/search_reddit_names.json");e.search=`${t}`;try{const r=yield fetch(e);return r.ok?(yield r.json()).names:null}catch{return null}})).apply(this,arguments)}function QY(n){return rE.apply(this,arguments)}function rE(){return(rE=br(function*(n){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -comments -wiki`)}&num=40`,i=yield fetch(r);if(!i.ok)throw new Error(i.statusText);const o=yield i.text();var u=document.implementation.createHTMLDocument().body;if("setHTML"in u){const B=new Sanitizer({allowElements:["a"]});u.setHTML(o,{sanitizer:B})}else u.innerHTML=this.domSanitizer.sanitize(Wn.HTML,o);let h=Array.from(u.querySelectorAll('a[href*="reddit.com/r/"]')).map(B=>{const Q=B.href.indexOf("reddit.com/r/")+13,ge=B.href.indexOf("/",Q);return B.href.slice(Q,ge)});const C=h.filter(B=>B.includes("+"));return h=h.filter(B=>!B.includes("+")),C.forEach(B=>B.split("+").forEach(Q=>h.push(Q))),h})).apply(this,arguments)}function ZY(n){return iE.apply(this,arguments)}function iE(){return(iE=br(function*(n){const t=`https://www.reddit.com/r/${n}/about.json?raw_json=1`;try{const e=yield fetch(t,{redirect:"error"});if(!e.ok)return null;const r=yield e.json();return r.kind!==si.Subreddit?(this.set_errors(`r/${n}/about.kind isn't ${si.Subreddit}, its ${r.kind} instead`),null):r.data}catch{return null}})).apply(this,arguments)}function JY(n){return oE.apply(this,arguments)}function oE(){return(oE=br(function*(n){this.subscriptionService.add(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}function e4(n){return aE.apply(this,arguments)}function aE(){return(aE=br(function*(n){this.subscriptionService.remove(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}var Km=new WeakMap,zm=new WeakMap,Aa=new WeakMap,bd=new WeakMap,Gm=new WeakMap,sE=new WeakMap,Ym=new WeakMap,BR=new WeakSet;class bu{constructor(t){hr(this,BR),ln(this,Km,{writable:!0,value:void 0}),ln(this,zm,{writable:!0,value:void 0}),ln(this,Aa,{writable:!0,value:void 0}),ln(this,bd,{writable:!0,value:void 0}),ln(this,Gm,{writable:!0,value:void 0}),ln(this,sE,{writable:!0,value:void 0}),ln(this,Ym,{writable:!0,value:void 0}),Kt(this,Km,"profile"),Kt(this,Aa,{}),Kt(this,bd,JSON.stringify(nt(this,Aa))),Kt(this,Gm,new de),Kt(this,Ym,!1),Kt(this,zm,t),Kt(this,sE,nt(this,Gm).pipe(jh(300)).subscribe(()=>nr(this,BR,r4).call(this)))}get(t){return nt(this,Aa)[t]}set(t,e){nt(this,Aa)[t]=e,nt(this,Gm).next("")}load(){var t=this;return br(function*(){if(nt(t,Ym))return;const e=nt(t,zm).get(nt(t,Km));null!=e&&(Kt(t,Aa,e),Kt(t,bd,JSON.stringify(nt(t,Aa))),Kt(t,Ym,!0))})()}ngOnDestroy(){nt(this,sE).unsubscribe()}}function r4(){const n=JSON.stringify(nt(this,Aa));n!==nt(this,bd)&&(Kt(this,bd,n),nt(this,zm).set(nt(this,Km),nt(this,Aa)))}bu.\u0275fac=function(t){return new(t||bu)(st(Eu))},bu.\u0275prov=vt({token:bu,factory:bu.\u0275fac,providedIn:"root"});var Td=new WeakMap,Po=new WeakMap,Tu=new WeakMap;class Ks{constructor(t){ln(this,Td,{writable:!0,value:void 0}),ln(this,Po,{writable:!0,value:void 0}),ln(this,Tu,{writable:!0,value:void 0}),Kt(this,Td,"subreddits"),Kt(this,Po,[]),Kt(this,Tu,t)}add(t){String.isNullOrWhitespace(t)||nt(this,Po).includes(t)||(nt(this,Po).push(t),nt(this,Po).sort(),nt(this,Tu).set(nt(this,Td),nt(this,Po)))}get(){return[...nt(this,Po)]}remove(t){String.isNullOrWhitespace(t)||(Kt(this,Po,nt(this,Po).filter(e=>e!==t)),nt(this,Tu).set(nt(this,Td),nt(this,Po)))}loadAsync(){var t=this;return br(function*(){yield nt(t,Tu).load(),Kt(t,Po,nt(t,Tu).get(nt(t,Td))||[])})()}}Ks.\u0275fac=function(t){return new(t||Ks)(st(bu))},Ks.\u0275prov=vt({token:Ks,factory:Ks.\u0275fac,providedIn:"root"});var ei=new WeakMap,lE=new WeakMap;class eo{constructor(t,e,r){ln(this,ei,{writable:!0,value:void 0}),ln(this,lE,{writable:!0,value:void 0}),this.domSanitizer=t,this.subscriptionService=e,this.uniqueIdService=r,Kt(this,ei,new qi({post_comments:{article:"",items:null,sort:"best",post:null},errors:null,posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""},subreddit_query:{request:"",result:null}})),this.errors$=nt(this,ei).pipe(Kn(i=>!1),se(i=>i.errors)),this.posts$=nt(this,ei).pipe(Hr(i=>null!=i.posts.items),se(i=>({after:i.posts.after,items:i.posts.items?.map(o=>function t4(n){const t=JSON.parse(JSON.stringify(n));return t.images&&(t.images=t.images.map(e=>Object.freeze(e))),t.videos&&(t.videos=t.videos.map(e=>Object.freeze(e))),Object.freeze(t)}(o)),modhash:i.posts.modhash,sort:i.posts.sort,subreddit:i.posts.subreddit}))),this.post_comments$=nt(this,ei).pipe(Hr(i=>null!=i.post_comments&&null!=i.post_comments.items),se(i=>({items:i.post_comments.items?.map(o=>function n4(n){const t=JSON.parse(JSON.stringify(n));return Object.freeze(t)}(o)),sort:i.post_comments.sort,post:i.post_comments.post}))),this.subreddit_query$=nt(this,ei).pipe(se(i=>({request:i.subreddit_query.request,result:i.subreddit_query.result}))),this.actions={listCommentAsync:GY.bind(this),listPostAsync:YY.bind(this),searchAsync:$Y.bind(this),subscribe:JY.bind(this),unsubscribe:e4.bind(this)},Kt(this,lE,"MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported)}set_errors(t){const e=nt(this,ei).value;null!=t&&(e.errors=t),nt(this,ei).next(e)}get_posts(){return nt(this,ei).value.posts}set_posts(t){const e=nt(this,ei).value;e.posts.after=String.hasData(t.after)?t.after:"",null!=t.items&&(e.posts.items=t.items),e.posts.modhash=String.hasData(t.modhash)?t.modhash:"",null!=t.sort&&(e.posts.sort=t.sort),null!=t.subreddit&&(e.posts.subreddit=t.subreddit),e.errors=null,nt(this,ei).next(e)}get_post_comments(){return nt(this,ei).value.post_comments}set_post_comments(t){const e=nt(this,ei).value;e.post_comments.article=String.hasData(t.article)?t.article:"",void 0!==t.items&&(e.post_comments.items=t.items),null!=t.sort&&(e.post_comments.sort=t.sort),void 0!==t.post&&(e.post_comments.post=t.post),e.errors=null,nt(this,ei).next(e)}get_subreddit_query(){return nt(this,ei).value.subreddit_query}set_subreddit_query(t){const e=nt(this,ei).value;e.subreddit_query.request=String.hasData(t.request)?t.request:"",null!=t.result&&(e.subreddit_query.result=t.result),e.errors=null,nt(this,ei).next(e)}is_MSE_supported(){return nt(this,lE)}}eo.\u0275fac=function(t){return new(t||eo)(st(Ea),st(Ks),st(Ws))},eo.\u0275prov=vt({token:eo,factory:eo.\u0275fac,providedIn:"root"});var Mi=new WeakMap,uE=new WeakMap,kR=new WeakSet;class zs{constructor(t){hr(this,kR),ln(this,Mi,{writable:!0,value:void 0}),ln(this,uE,{writable:!0,value:void 0}),Kt(this,Mi,""),Kt(this,uE,t),Kt(this,Mi,document.baseURI.replace(window.location.origin,"")),nt(this,Mi).endsWith("/")&&Kt(this,Mi,nt(this,Mi).slice(0,-1))}sanitizeHTML(t){if(String.isNullOrWhitespace(t))return"";const e=document.implementation.createHTMLDocument().createElement("p");return e.innerHTML=nt(this,uE).sanitize(Wn.HTML,t),nr(this,kR,i4).call(this,e),e.innerHTML}sanitizeLink(t){if(String.isNullOrWhitespace(t))return{href:"",text:"",external:!1};let e=t;e.startsWith("/")&&(e=`${window.location.origin}${e}`),e=e.replace(window.location.origin,`${nt(this,Mi)}`).replace("http://www.reddit.com/",`${nt(this,Mi)}/`).replace("https://www.reddit.com/",`${nt(this,Mi)}/`).replace("http://reddit.com/",`${nt(this,Mi)}/`).replace("https://reddit.com/",`${nt(this,Mi)}/`).replace("http://old.reddit.com/",`${nt(this,Mi)}/`).replace("https://old.reddit.com/",`${nt(this,Mi)}/`);const r=!e.startsWith(nt(this,Mi));if(!r){const u=e.indexOf("?");u>-1&&(e=e.slice(0,u)),e.endsWith("/")&&(e=e.slice(0,-1))}const i=e.replace(nt(this,Mi),""),o=document.createElement("a");return o.href=e,o.innerText=i,r&&(o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer nofollow")),{href:e,text:i,external:r,el:o}}}function i4(n){const t=Array.from(n.getElementsByTagName("a"));0!==t.length&&t.forEach(e=>{const r=this.sanitizeLink(e.href);e.replaceWith(r.el)})}zs.\u0275fac=function(t){return new(t||zs)(st(Ea))},zs.\u0275prov=vt({token:zs,factory:zs.\u0275fac,providedIn:"root"});var Su=new WeakMap,UR=new WeakSet,jR=new WeakSet;class Ia{constructor(){hr(this,jR),hr(this,UR),ln(this,Su,{writable:!0,value:void 0}),Kt(this,Su,{})}save(t="",e=""){nt(this,Su)[window.location.href]={yScroll:window.scrollY},nr(this,UR,o4).call(this,t,e,nt(this,Su)[window.location.href])}restore(){setTimeout(()=>{const t=nt(this,Su)[window.location.href];t?(nr(this,jR,a4).call(this,t),window.scrollTo(0,t.yScroll||0),delete nt(this,Su)[window.location.href]):window.scrollTo(0,0)},0)}}function o4(n,t,e){if(e.tag_name=n,e.element_id=t,e.element_heights=[],String.isNullOrWhitespace(t)||String.isNullOrWhitespace(n))return;const r=document.querySelectorAll(n);for(let i=0;i<r.length;i++){const o=r[i];if(e.element_heights.push({id:o.id,height:o.getBoundingClientRect().height}),o.id===t)break}}function a4(n){if(String.isNullOrWhitespace(n.element_id)||String.isNullOrWhitespace(n.tag_name)||0===n.element_heights?.length)return n.element_id="",n.tag_name="",void(n.element_heights=[]);const t=document.querySelectorAll(n.tag_name);for(let e=0;e<t.length;e++){const r=t[e],i=n.element_heights.find(o=>o.id===r.id);if(null!=i&&(r.style.height=`${i.height}px`,r.id===n.element_id))break}n.element_id="",n.tag_name="",n.element_heights=[]}Ia.\u0275fac=function(t){return new(t||Ia)},Ia.\u0275prov=vt({token:Ia,factory:Ia.\u0275fac,providedIn:"root"});class Sd{constructor(t,e){this.eventManagerService=t,this.subscriptionService=e}ngOnInit(){var t=this;return br(function*(){const e=[t.subscriptionService.loadAsync()];t.eventManagerService.raise(fd);try{yield Promise.allSettled(e)}finally{t.eventManagerService.raise(ns)}})()}}Sd.\u0275fac=function(t){return new(t||Sd)(Ve(Fr),Ve(Ks))},Sd.\u0275cmp=bn({type:Sd,selectors:[["app-root"]],standalone:!0,features:[er],decls:2,vars:0,template:function(t,e){1&t&&Jt(0,"throbber")(1,"router-outlet")},dependencies:[ai,Py,Ed],encapsulation:2});const s4=["mat-button",""],l4=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],u4=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],d4=["mat-icon-button",""],f4=["*"],h4=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],m4=Gh(kD(UD(class{constructor(n){this._elementRef=n}})));let cE,VR=(()=>{class n extends m4{constructor(e,r,i,o){super(e),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=yn(zh),this._isFab=!1;const u=e.nativeElement.classList;for(const h of h4)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(C=>{u.add(C)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){qf()},n.\u0275dir=Wt({type:n,viewQuery:function(e,r){if(1&e&&bi(Yh,5),2&e){let i;ar(i=sr())&&(r.ripple=i.first)}},features:[Cn]}),n})(),Cu=(()=>{class n extends VR{constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Vr),Ve(En),Ve(Ko,8))},n.\u0275cmp=bn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,r){2&e&&(cr("disabled",r.disabled||null),yr("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Cn],attrs:s4,ngContentSelectors:u4,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Yi(l4),Jt(0,"span",0),tr(1),xt(2,"span",1),tr(3,1),Ft(),tr(4,2),Jt(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(yr("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),St(6),bt("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Yh],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),$m=(()=>{class n extends VR{constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Vr),Ve(En),Ve(Ko,8))},n.\u0275cmp=bn({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,r){2&e&&(cr("disabled",r.disabled||null),yr("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Cn],attrs:d4,ngContentSelectors:f4,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Yi(),Jt(0,"span",0),tr(1),Jt(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(St(3),bt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Yh],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),to=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Kr,Lc,Kr]}),n})(),_4=1;const Xm={};function HR(n){return n in Xm&&(delete Xm[n],!0)}const v4={setImmediate(n){const t=_4++;return Xm[t]=!0,cE||(cE=Promise.resolve()),cE.then(()=>HR(t)&&n()),t},clearImmediate(n){HR(n)}},{setImmediate:y4,clearImmediate:E4}=v4,qm={setImmediate(...n){const{delegate:t}=qm;return(t?.setImmediate||y4)(...n)},clearImmediate(n){const{delegate:t}=qm;return(t?.clearImmediate||E4)(n)},delegate:void 0},dE=new class T4 extends Dv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class b4 extends Mv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=qm.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(qm.clearImmediate(e),t._scheduled=void 0)}});function WR(n,t){return t?e=>Pc(t.pipe(Fi(1),function S4(){return he((n,t)=>{n.subscribe(fe(t,f))})}()),e.pipe(WR(n))):Nt((e,r)=>n(e,r).pipe(Fi(1),vI(e)))}function KR(n=0,t,e=cV){let r=-1;return null!=t&&(Ae(t)?e=t:r=t),new G(i=>{let o=function C4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function zR(n,t=Uh){const e=KR(n,t);return WR(()=>e)}class fE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class GR extends fE{constructor(t,e,r,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class YR extends fE{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class M4 extends fE{constructor(t){super(),this.element=t instanceof Nn?t.nativeElement:t}}class D4{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof GR?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof YR?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof M4?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class A4 extends D4{constructor(t,e,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const h=u.element,C=this._document.createComment("dom-portal");h.parentNode.insertBefore(C,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(h,C)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||xi.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let I4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({}),n})();const R4=["addListener","removeListener"],w4=["addEventListener","removeEventListener"],P4=["on","off"];function Qm(n,t,e,r){if(m(e)&&(r=e,e=void 0),r)return Qm(n,t,e).pipe(Av(r));const[i,o]=function N4(n){return m(n.addEventListener)&&m(n.removeEventListener)}(n)?w4.map(u=>h=>n[u](t,h,e)):function O4(n){return m(n.addListener)&&m(n.removeListener)}(n)?R4.map($R(n,t)):function x4(n){return m(n.on)&&m(n.off)}(n)?P4.map($R(n,t)):[];if(!i&&Dt(n))return Nt(u=>Qm(u,t,e))(Ze(n));if(!i)throw new TypeError("Invalid event target");return new G(u=>{const h=(...C)=>u.next(1<C.length?C:C[0]);return i(h),()=>o(h)})}function $R(n,t){return e=>r=>n[e](t,r)}const Cd={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Cd;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new w(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=Cd;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Cd;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},B4=new class F4 extends Dv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class L4 extends Mv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Cd.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Cd.cancelAnimationFrame(e),t._scheduled=void 0)}});function hE(n,t=Uh){return function k4(n){return he((t,e)=>{let r=!1,i=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const B=i;i=null,e.next(B)}u&&e.complete()},C=()=>{o=null,u&&e.complete()};t.subscribe(fe(e,B=>{r=!0,i=B,o||Ze(n(B)).subscribe(o=fe(e,h,C))},()=>{u=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>KR(n,t))}const U4=["contentWrapper"],j4=["*"],V4=new Ut("VIRTUAL_SCROLL_STRATEGY");let Md=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new de,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new G(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(hE(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Hr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=va(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Qm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(st(En),st(Vr),st(wn,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XR=(()=>{class n{constructor(e,r,i,o){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new de,this._elementScrolled=new G(u=>this.ngZone.runOutsideAngular(()=>Qm(this.elementRef.nativeElement,"scroll").pipe(Wr(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&0!=Rc()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==Rc()?e.left=e.right:1==Rc()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;pD()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?i:r:"end"==e&&(e=u?r:i),u&&2==Rc()?e==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==Rc()?e==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Md),Ve(En),Ve(Ps,8))},n.\u0275dir=Wt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),mE=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new de,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(hE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(st(Vr),st(En),st(wn,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qR=new Ut("VIRTUAL_SCROLLABLE");let K4=(()=>{class n extends XR{constructor(e,r,i,o){super(e,r,i,o)}measureViewportSize(e){const r=this.elementRef.nativeElement;return"horizontal"===e?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Md),Ve(En),Ve(Ps,8))},n.\u0275dir=Wt({type:n,features:[Cn]}),n})();const G4=typeof requestAnimationFrame<"u"?B4:dE;let Y4=(()=>{class n extends K4{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Qi(e)}constructor(e,r,i,o,u,h,C,B){super(e,h,i,u),this.elementRef=e,this._changeDetectorRef=r,this._scrollStrategy=o,this.scrollable=B,this._platform=yn(Vr),this._detachedSubject=new de,this._renderedRangeSubject=new de,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new G(Q=>this._scrollStrategy.scrolledIndexChange.subscribe(ge=>Promise.resolve().then(()=>this.ngZone.run(()=>Q.next(ge))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=w.EMPTY,this._viewportChanges=C.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(eu(null),hE(0,G4)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Wr(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function z4(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,r="to-start"){e=this.appendOnly&&"to-start"===r?0:e;const o="horizontal"==this.orientation,u=o?"X":"Y";let C=`translate${u}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===r&&(C+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=C&&(this._renderedContentTransform=C,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=e:i.top=e,this.scrollable.scrollTo(i)}scrollToIndex(e,r="auto"){this._scrollStrategy.scrollToIndex(e,r)}measureScrollOffset(e){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let r;const i="left",o="right",u="rtl"==this.dir?.value;r="start"==e?u?o:i:"end"==e?u?i:o:e||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-h}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of e)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Ni),Ve(En),Ve(V4,8),Ve(Ps,8),Ve(Md),Ve(mE),Ve(qR,8))},n.\u0275cmp=bn({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,r){if(1&e&&bi(U4,7),2&e){let i;ar(i=sr())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,r){2&e&&yr("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Jn([{provide:XR,useFactory:(t,e)=>t||e,deps:[[new ua,new Ff(qR)],n]}]),Cn,er],ngContentSelectors:j4,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,r){1&e&&(Yi(),xt(0,"div",0,1),tr(2),Ft(),Jt(3,"div",2)),2&e&&(St(3),Wa("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Zm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({}),n})(),QR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Oc,Zm,Y4,Oc,Zm]}),n})();const ZR=pD();class $4{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Nr(-this._previousScrollPosition.left),t.style.top=Nr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ZR&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZR&&(r.scrollBehavior=o,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class X4{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class JR{enable(){}disable(){}attach(){}}function pE(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function ew(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class q4{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();pE(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Q4=(()=>{class n{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new JR,this.close=u=>new X4(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new $4(this._viewportRuler,this._document),this.reposition=u=>new q4(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(st(Md),st(mE),st(En),st(wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tw{constructor(t){if(this.scrollStrategy=new JR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class Z4{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let nw=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(st(wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J4=(()=>{class n extends nw{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(st(wn),st(En,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e3=(()=>{class n extends nw{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ga(o)},this._clickListener=o=>{const u=Ga(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const C=this._attachedOverlays.slice();for(let B=C.length-1;B>-1;B--){const Q=C[B];if(Q._outsidePointerEvents.observers.length<1||!Q.hasAttached())continue;if(Q.overlayElement.contains(u)||Q.overlayElement.contains(h))break;const ge=Q._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ge.next(o)):ge.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(st(wn),st(Vr),st(En,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rw=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||bv()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),bv()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(st(wn),st(Vr))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class t3{constructor(t,e,r,i,o,u,h,C,B,Q=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=C,this._outsideClickDispatcher=B,this._animationsDisabled=Q,this._backdropElement=null,this._backdropClick=new de,this._attachments=new de,this._detachments=new de,this._locationChanges=w.EMPTY,this._backdropClickHandler=ge=>this._backdropClick.next(ge),this._backdropTransitionendHandler=ge=>{this._disposeBackdrop(ge.target)},this._keydownEvents=new de,this._outsidePointerEvents=new de,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Fi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Nr(this._config.width),t.height=Nr(this._config.height),t.minWidth=Nr(this._config.minWidth),t.minHeight=Nr(this._config.minHeight),t.maxWidth=Nr(this._config.maxWidth),t.maxHeight=Nr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=Vh(e||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Wr(Ke(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const iw="cdk-overlay-connected-position-bounding-box",n3=/([A-Za-z%]+)$/;class r3{get positions(){return this._preferredPositions}constructor(t,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de,this._resizeSubscription=w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(iw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let C=this._getOriginPoint(t,i,h),B=this._getOverlayPoint(C,e,h),Q=this._getOverlayFit(B,e,r,h);if(Q.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,C);this._canFitWithFlexibleDimensions(Q,B,r)?o.push({position:h,origin:C,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(C,h)}):(!u||u.overlayFit.visibleArea<Q.visibleArea)&&(u={overlayFit:Q,overlayPoint:B,originPoint:C,position:h,overlayRect:e})}if(o.length){let h=null,C=-1;for(const B of o){const Q=B.boundingBoxRect.width*B.boundingBoxRect.height*(B.position.weight||1);Q>C&&(C=Q,h=B)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Gs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(iw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;i="start"==r.originX?u:h}return e.left<0&&(i-=e.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,r,i){const o=aw(e);let{x:u,y:h}=t,C=this._getOffset(i,"x"),B=this._getOffset(i,"y");C&&(u+=C),B&&(h+=B);let Me=0-h,xe=h+o.height-r.height,Fe=this._subtractOverflows(o.width,0-u,u+o.width-r.width),Xe=this._subtractOverflows(o.height,Me,xe),dt=Fe*Xe;return{visibleArea:dt,isCompletelyWithinViewport:o.width*o.height===dt,fitsInViewportVertically:Xe===o.height,fitsInViewportHorizontally:Fe==o.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,u=ow(this._overlayRef.getConfig().minHeight),h=ow(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=u&&u<=i)&&(t.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=aw(e),o=this._viewportRect,u=Math.max(t.x+i.width-o.width,0),h=Math.max(t.y+i.height-o.height,0),C=Math.max(o.top-r.top-t.y,0),B=Math.max(o.left-r.left-t.x,0);let Q=0,ge=0;return Q=i.width<=o.width?B||-u:t.x<this._viewportMargin?o.left-r.left-t.x:0,ge=i.height<=o.height?C||-h:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:Q,y:ge},{x:t.x+Q,y:t.y+ge}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Z4(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let o,u,h,Q,ge,Me;if("top"===e.overlayY)u=t.y,o=r.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=r.height-t.y+2*this._viewportMargin,o=r.height-h+this._viewportMargin;else{const xe=Math.min(r.bottom-t.y+r.top,t.y),Fe=this._lastBoundingBoxSize.height;o=2*xe,u=t.y-xe,o>Fe&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-Fe/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)Me=r.width-t.x+this._viewportMargin,Q=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)ge=t.x,Q=r.right-t.x;else{const xe=Math.min(r.right-t.x+r.left,t.x),Fe=this._lastBoundingBoxSize.width;Q=2*xe,ge=t.x-xe,Q>Fe&&!this._isInitialRender&&!this._growAfterOpen&&(ge=t.x-Fe/2)}return{top:u,left:ge,bottom:h,right:Me,width:Q,height:o}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=Nr(r.height),i.top=Nr(r.top),i.bottom=Nr(r.bottom),i.width=Nr(r.width),i.left=Nr(r.left),i.right=Nr(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Nr(o)),u&&(i.maxWidth=Nr(u))}this._lastBoundingBoxSize=r,Gs(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Gs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Gs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const Q=this._viewportRuler.getViewportScrollPosition();Gs(r,this._getExactOverlayY(e,t,Q)),Gs(r,this._getExactOverlayX(e,t,Q))}else r.position="static";let h="",C=this._getOffset(e,"x"),B=this._getOffset(e,"y");C&&(h+=`translateX(${C}px) `),B&&(h+=`translateY(${B}px)`),r.transform=h.trim(),u.maxHeight&&(i?r.maxHeight=Nr(u.maxHeight):o&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=Nr(u.maxWidth):o&&(r.maxWidth="")),Gs(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Nr(o.y),i}_getExactOverlayX(t,e,r){let u,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Nr(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ew(t,r),isOriginOutsideView:pE(t,r),isOverlayClipped:ew(e,r),isOverlayOutsideView:pE(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Vh(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Nn)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Gs(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ow(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(n3);return e&&"px"!==e?null:parseFloat(t)}return n||null}function aw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const sw="cdk-global-overlay-wrapper";class o3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(sw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:u,maxHeight:h}=r,C=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),B=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),Q=this._xPosition,ge=this._xOffset,Me="rtl"===this._overlayRef.getConfig().direction;let xe="",Fe="",Xe="";C?Xe="flex-start":"center"===Q?(Xe="center",Me?Fe=ge:xe=ge):Me?"left"===Q||"end"===Q?(Xe="flex-end",xe=ge):("right"===Q||"start"===Q)&&(Xe="flex-start",Fe=ge):"left"===Q||"start"===Q?(Xe="flex-start",xe=ge):("right"===Q||"end"===Q)&&(Xe="flex-end",Fe=ge),t.position=this._cssPosition,t.marginLeft=C?"0":xe,t.marginTop=B?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=C?"0":Fe,e.justifyContent=Xe,e.alignItems=B?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(sw),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let a3=(()=>{class n{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new o3}flexibleConnectedTo(e){return new r3(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(st(mE),st(wn),st(Vr),st(rw))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s3=0,Mu=(()=>{class n{constructor(e,r,i,o,u,h,C,B,Q,ge,Me,xe){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=C,this._document=B,this._directionality=Q,this._location=ge,this._outsideClickDispatcher=Me,this._animationsModuleType=xe}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),u=new tw(e);return u.direction=u.direction||this._directionality.value,new t3(o,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+s3++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Xl)),new A4(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(st(Q4),st(rw),st(Il),st(a3),st(J4),st(xi),st(En),st(wn),st(Ps),st(Mh),st(e3),st(Ko,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const c3={provide:new Ut("cdk-connected-overlay-scroll-strategy"),deps:[Mu],useFactory:function u3(n){return()=>n.scrollStrategies.reposition()}};let lw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({providers:[Mu,c3],imports:[Oc,I4,QR,QR]}),n})();const d3=["mat-menu-item",""];function f3(n,t){1&n&&(Mf(),xt(0,"svg",3),Jt(1,"polygon",4),Ft())}const h3=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],m3=["mat-icon, [matMenuItemIcon]","*"];function p3(n,t){if(1&n){const e=wr();xt(0,"div",0),Mn("keydown",function(i){return lr(e),ur(Qt()._handleKeydown(i))})("click",function(){return lr(e),ur(Qt().closed.emit("click"))})("@transformMenu.start",function(i){return lr(e),ur(Qt()._onAnimationStart(i))})("@transformMenu.done",function(i){return lr(e),ur(Qt()._onAnimationDone(i))}),xt(1,"div",1),tr(2),Ft()()}if(2&n){const e=Qt();bt("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),cr("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const g3=["*"],gE=new Ut("MAT_MENU_PANEL"),_3=UD(kD(class{}));let Dd=(()=>{class n extends _3{constructor(e,r,i,o,u){super(),this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new de,this._focused=new de,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(wn),Ve(zh),Ve(gE,8),Ve(Ni))},n.\u0275cmp=bn({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,r){1&e&&Mn("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(cr("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),yr("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Cn],attrs:d3,ngContentSelectors:m3,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(Yi(h3),tr(0),xt(1,"span",0),tr(2,1),Ft(),Jt(3,"div",1),zt(4,f3,2,0,"svg",2)),2&e&&(St(3),bt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),St(1),bt("ngIf",r._triggersSubmenu))},dependencies:[jr,Yh],encapsulation:2,changeDetection:0}),n})();const v3=new Ut("MatMenuContent"),Jm={transformMenu:zc("transformMenu",[xs("void",Bi({opacity:0,transform:"scale(0.8)"})),Qa("void => enter",qa("120ms cubic-bezier(0, 0, 0.2, 1)",Bi({opacity:1,transform:"scale(1)"}))),Qa("* => void",qa("100ms 25ms linear",Bi({opacity:0})))]),fadeInItems:zc("fadeInItems",[xs("showing",Bi({opacity:1})),Qa("void => *",[Bi({opacity:0}),qa("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let y3=0;const uw=new Ut("mat-menu-default-options",{providedIn:"root",factory:function E3(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ad=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Qi(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Qi(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,o){this._elementRef=e,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Gl,this._classList={},this._panelAnimationState="void",this._animationDone=new de,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new ir,this.close=this.closed,this.panelId="mat-menu-panel-"+y3++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new xV(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(eu(this._directDescendantItems),mo(e=>Ke(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(eu(this._directDescendantItems),mo(r=>Ke(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:Cv(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Fi(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(eu(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(En),Ve(uw),Ve(Ni))},n.\u0275dir=Wt({type:n,contentQueries:function(e,r,i){if(1&e&&(Xi(i,v3,5),Xi(i,Dd,5),Xi(i,Dd,4)),2&e){let o;ar(o=sr())&&(r.lazyContent=o.first),ar(o=sr())&&(r._allItems=o),ar(o=sr())&&(r.items=o)}},viewQuery:function(e,r){if(1&e&&bi(Wo,5),2&e){let i;ar(i=sr())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),_E=(()=>{class n extends Ad{constructor(e,r,i,o){super(e,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(En),Ve(uw),Ve(Ni))},n.\u0275cmp=bn({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,r){2&e&&cr("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Jn([{provide:gE,useExisting:n}]),Cn],ngContentSelectors:g3,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,r){1&e&&(Yi(),zt(0,p3,3,6,"ng-template"))},dependencies:[Ql],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Jm.transformMenu,Jm.fadeInItems]},changeDetection:0}),n})();const cw=new Ut("mat-menu-scroll-strategy"),T3={provide:cw,deps:[Mu],useFactory:function b3(n){return()=>n.scrollStrategies.reposition()}},dw=Rs({passive:!0});let S3=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,o,u,h,C,B,Q){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=h,this._dir=C,this._focusMonitor=B,this._ngZone=Q,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=w.EMPTY,this._hoverSubscription=w.EMPTY,this._menuCloseSubscription=w.EMPTY,this._changeDetectorRef=yn(Ni),this._handleTouchStart=ge=>{Ov(ge)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ir,this.onMenuOpen=this.menuOpened,this.menuClosed=new ir,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof Ad?u:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,dw)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,dw),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Ad&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Wr(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Ad?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Hr(i=>"void"===i.toState),Fi(1),Wr(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new tw({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",u="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,u)):e.setPositionClasses(o,u)})}_setPosition(e,r){let[i,o]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[C,B]=[u,h],[Q,ge]=[i,o],Me=0;if(this.triggersSubmenu()){if(ge=i="before"===e.xPosition?"start":"end",o=Q="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const xe=this._parentMaterialMenu.items.first;this._parentInnerPadding=xe?xe._getHostElement().offsetTop:0}Me="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(C="top"===u?"bottom":"top",B="top"===h?"bottom":"top");r.withPositions([{originX:i,originY:C,overlayX:Q,overlayY:u,offsetY:Me},{originX:o,originY:C,overlayX:ge,overlayY:u,offsetY:Me},{originX:i,originY:B,overlayX:Q,overlayY:h,offsetY:-Me},{originX:o,originY:B,overlayX:ge,overlayY:h,offsetY:-Me}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return Ke(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:rn(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Hr(u=>u!==this._menuItemInstance),Hr(()=>this._menuOpen)):rn(),r)}_handleMousedown(e){Pv(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Hr(e=>e===this._menuItemInstance&&!e.disabled),zR(0,dE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ad&&this.menu._isAnimating?this.menu._animationDone.pipe(Fi(1),zR(0,dE),Wr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new YR(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(Ve(Mu),Ve(Nn),Ve($i),Ve(cw),Ve(gE,8),Ve(Dd,10),Ve(Ps,8),Ve(zh),Ve(En))},n.\u0275dir=Wt({type:n,hostVars:3,hostBindings:function(e,r){1&e&&Mn("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&e&&cr("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),vE=(()=>{class n extends S3{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Gr(n)))(r||n)}}(),n.\u0275dir=Wt({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[Cn]}),n})(),Ra=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({providers:[T3],imports:[or,Lc,Kr,lw,Zm,Kr]}),n})();class fw extends wo{}class hw extends wo{constructor(t){super(),this.sort_requested=t}}class mw extends wo{constructor(t){super(),this.sort_requested=t}}class Id extends wo{constructor(t){super(),this.subreddit_requested=t}}class pw extends wo{constructor(t){super(),this.search=t}}class gw extends wo{constructor(t){super(),this.article=t}}const C3=["best","confidence","top","new","controversial","old"],M3=function(n){return{display:n}};function D3(n,t){if(1&n){const e=wr();xt(0,"a",14),Mn("click",function(){const o=lr(e).$implicit;return ur(Qt(2).change_sort(o))}),Ln(1),Ft()}if(2&n){const e=t.$implicit,r=Qt().ngIf;bt("ngStyle",Mo(2,M3,r.sort===e?"none":"inherit")),St(1),Zr(" ",e," ")}}function A3(n,t){if(1&n&&(Uo(0),xt(1,"div",1)(2,"span"),Ln(3,"Comments 4"),Ft(),Jt(4,"span",2),xt(5,"button",3),Ln(6),Jt(7,"mat-icon",4),Ft(),xt(8,"button",5),Jt(9,"mat-icon",6),Ft()(),xt(10,"mat-menu",null,7),zt(12,D3,2,4,"a",8),Ft(),xt(13,"mat-menu",9,10),Jt(15,"mat-icon",11)(16,"mat-icon",12)(17,"mat-icon",13),Ft(),jo()),2&n){const e=t.ngIf,r=Rr(11),i=Rr(14),o=Qt();St(5),bt("matMenuTriggerFor",r),St(1),Zr(" ",e.sort," "),St(2),bt("matMenuTriggerFor",i),St(4),bt("ngForOf",o.POST_COMMENT_SORT)}}var yE=new WeakMap;class Rd{constructor(t,e){ln(this,yE,{writable:!0,value:void 0}),this.controller=t,this.POST_COMMENT_SORT=C3,Kt(this,yE,e)}change_sort(t){var e=this;return br(function*(){nt(e,yE).raise(new hw(t))})()}}Rd.\u0275fac=function(t){return new(t||Rd)(Ve(eo),Ve(Fr))},Rd.\u0275cmp=bn({type:Rd,selectors:[["post-comment-list-header"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(t,e){1&t&&(zt(0,A3,18,4,"ng-container",0),pr(1,"async")),2&t&&bt("ngIf",gr(1,1,e.controller.post_comments$))},dependencies:[or,za,jr,Dc,Is,to,Cu,$m,Ci,Ro,Ra,_E,Dd,vE,ai,Ma],changeDetection:0});const I3=["*",[["mat-toolbar-row"]]],R3=["*","mat-toolbar-row"],w3=Gh(class{constructor(n){this._elementRef=n}});let EE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Wt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),bE=(()=>{class n extends w3{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Vr),Ve(wn))},n.\u0275cmp=bn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&Xi(i,EE,5),2&e){let o;ar(o=sr())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&yr("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Cn],ngContentSelectors:R3,decls:2,vars:0,template:function(e,r){1&e&&(Yi(I3),tr(0),tr(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Zo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Kr,Kr]}),n})();const P3=["textPost"],O3=function(n){return{masked:n}};var ep=new WeakMap,TE=new WeakMap,SE=new WeakMap,CE=new WeakMap,ME=new WeakMap,tp=new WeakMap,is=new WeakMap,np=new WeakMap,rp=new WeakMap,_w=new WeakSet;class Ys{constructor(t,e,r,i,o){hr(this,_w),ln(this,ep,{writable:!0,value:void 0}),ln(this,TE,{writable:!0,value:void 0}),ln(this,SE,{writable:!0,value:void 0}),ln(this,CE,{writable:!0,value:void 0}),ln(this,ME,{writable:!0,value:void 0}),ln(this,tp,{writable:!0,value:void 0}),ln(this,is,{writable:!0,value:void 0}),ln(this,np,{writable:!0,value:void 0}),ln(this,rp,{writable:!0,value:void 0}),Kt(this,ep,!0),this._truncated=!0,Kt(this,is,""),Kt(this,np,""),Kt(this,TE,t),Kt(this,SE,e),Kt(this,CE,r),Kt(this,ME,i),Kt(this,tp,o),Kt(this,is,document.baseURI),nt(this,is).endsWith("/")&&Kt(this,is,nt(this,is).slice(0,-1))}set data(t){null!=t&&(Kt(this,np,t),nr(this,_w,x3).call(this))}set post(t){t&&t.nativeElement&&Kt(this,rp,t.nativeElement)}onClick(t){const e=t.target;if(e&&"A"===e.tagName){const r=e.href;r.startsWith(nt(this,is))&&(t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),nt(this,CE).navigateByUrl(r.replace(nt(this,is),"")))}else if(nt(this,ep)){if(this._truncated)return this._truncated=!1,void nt(this,tp).save();this._truncated=!0,nt(this,tp).restore()}}}function x3(){this._text=nt(this,SE).bypassSecurityTrustHtml(nt(this,ME).sanitizeHTML(nt(this,np))),setTimeout(()=>{this._truncated=nt(this,rp).scrollHeight>nt(this,rp).clientHeight,Kt(this,ep,this._truncated),nt(this,TE).detectChanges()},0)}Ys.\u0275fac=function(t){return new(t||Ys)(Ve(Ni),Ve(Ea),Ve(zr),Ve(zs),Ve(Ia))},Ys.\u0275cmp=bn({type:Ys,selectors:[["text-block"]],viewQuery:function(t,e){if(1&t&&bi(P3,5),2&t){let r;ar(r=sr())&&(e.post=r.first)}},inputs:{data:"data"},standalone:!0,features:[er],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(t,e){1&t&&(xt(0,"p",0,1),Mn("click",function(i){return e.onClick(i)}),Ft()),2&t&&bt("ngClass",Mo(2,O3,e._truncated))("innerHTML",e._text,Lg)},dependencies:[or,Ql,ai],changeDetection:0});class wd{constructor(){this.data=null}}wd.\u0275fac=function(t){return new(t||wd)},wd.\u0275cmp=bn({type:wd,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[er],decls:1,vars:1,consts:[[3,"data"]],template:function(t,e){1&t&&Jt(0,"text-block",0),2&t&&bt("data",null==e.data?null:e.data.body_html)},dependencies:[Ys],changeDetection:0});class Du{transform(t){if(null==t)return"-";const e=new Date(Date.now()-1e3*t);return e.getUTCFullYear()>1970?e.getUTCFullYear()-1970+"y":e.getUTCMonth()>0?`${e.getUTCMonth()}mo`:e.getUTCDate()>1?e.getUTCDate()-1+"d":e.getUTCHours()>0?`${e.getUTCHours()}h`:`${e.getUTCMinutes()}m`}}Du.\u0275fac=function(t){return new(t||Du)},Du.\u0275pipe=Xr({name:"age",type:Du,pure:!0,standalone:!0});class $s{transform(t){if(isNaN(Number(`${t}`))||0===t)return"0";const e=Math.log10(t);return e<3?`${t}`:e<6?`${Math.floor(t/1e3)}K`:e<9?`${Math.floor(t/1e6)}M`:"lots"}}$s.\u0275fac=function(t){return new(t||$s)},$s.\u0275pipe=Xr({name:"count",type:$s,pure:!0,standalone:!0});class Pd{transform(t){const e=new Date(0);e.setUTCSeconds(t||0);const r=e.toISOString().substring(11,19);return e.getUTCHours()>0?r:e.getUTCMinutes()>0?r.substring(3):r.substring(4)}}function N3(n,t){if(1&n&&(xt(0,"button",1),Jt(1,"mat-icon",2),Ln(2),pr(3,"count"),Ft()),2&n){const e=Qt();St(2),Zr(" ",gr(3,1,e.data.ups),"\n")}}function L3(n,t){if(1&n&&(xt(0,"button",1),Jt(1,"mat-icon",3),Ln(2),pr(3,"count"),Ft()),2&n){const e=Qt();St(2),Zr(" ",gr(3,1,e.data.downs),"\n")}}Pd.\u0275fac=function(t){return new(t||Pd)},Pd.\u0275pipe=Xr({name:"time",type:Pd,pure:!0,standalone:!0});class Od{}function F3(n,t){1&n&&Jt(0,"mat-icon",3)}Od.\u0275fac=function(t){return new(t||Od)},Od.\u0275cmp=bn({type:Od,selectors:[["post-comment-footer"]],inputs:{data:"data"},standalone:!0,features:[er],decls:2,vars:2,consts:[["mat-button","","disableRipple","",4,"ngIf"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(t,e){1&t&&(zt(0,N3,4,3,"button",0),zt(1,L3,4,3,"button",0)),2&t&&(bt("ngIf",e.data.ups>0),St(1),bt("ngIf",e.data.downs>0))},dependencies:[or,jr,$s,to,Cu,Ci,Ro,Ra,Lc,Zo,ai],changeDetection:0});const B3=function(n){return["/u",n]};class xd{}xd.\u0275fac=function(t){return new(t||xd)},xd.\u0275cmp=bn({type:xd,selectors:[["post-comment-header"]],inputs:{data:"data"},standalone:!0,features:[er],decls:7,vars:8,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"]],template:function(t,e){1&t&&(xt(0,"section",0)(1,"a",1),Ln(2),Ft(),xt(3,"span"),Ln(4),pr(5,"age"),Ft(),zt(6,F3,1,0,"mat-icon",2),Ft()),2&t&&(St(1),bt("routerLink",Mo(6,B3,e.data.author)),St(1),Zr("u/",e.data.author,""),St(2),yi(gr(5,4,e.data.created_utc)),St(2),bt("ngIf",e.data.stickied))},dependencies:[Du,or,jr,Ci,Ro,ai,Ma],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0});class Nd{}Nd.\u0275fac=function(t){return new(t||Nd)},Nd.\u0275cmp=bn({type:Nd,selectors:[["post-comment"]],inputs:{data:"data"},standalone:!0,features:[er],decls:3,vars:3,consts:[[3,"data"]],template:function(t,e){1&t&&Jt(0,"post-comment-header",0)(1,"post-comment-body",0)(2,"post-comment-footer",0),2&t&&(bt("data",e.data),St(1),bt("data",e.data),St(1),bt("data",e.data))},dependencies:[or,to,Ci,Ra,Zo,ai,xd,wd,Od],changeDetection:0});const k3=["hot","top","new","controversial","rising"],U3=function(n){return{display:n}};function j3(n,t){if(1&n){const e=wr();xt(0,"a",15),Mn("click",function(){const o=lr(e).$implicit;return ur(Qt(2).change_sort(o))}),Ln(1),Ft()}if(2&n){const e=t.$implicit,r=Qt().ngIf;bt("ngStyle",Mo(2,U3,r.sort===e?"none":"inherit")),St(1),Zr(" ",e," ")}}function V3(n,t){if(1&n){const e=wr();Uo(0),xt(1,"div",1)(2,"span",2),Ln(3),Ft(),Jt(4,"span",3),xt(5,"button",4),Ln(6),Jt(7,"mat-icon",5),Ft(),xt(8,"button",6),Jt(9,"mat-icon",7),Ft()(),xt(10,"mat-menu",null,8),zt(12,j3,2,4,"a",9),Ft(),xt(13,"mat-menu",10,11)(15,"mat-icon",12),Mn("click",function(){return lr(e),ur(Qt().back_to_home())}),Ft(),Jt(16,"mat-icon",13)(17,"mat-icon",14),Ft(),jo()}if(2&n){const e=t.ngIf,r=Rr(11),i=Rr(14),o=Qt();St(3),yi(e.subreddit.includes("+")?"multi":e.subreddit),St(2),bt("matMenuTriggerFor",r),St(1),Zr(" ",e.sort," "),St(2),bt("matMenuTriggerFor",i),St(4),bt("ngForOf",o.POST_SORT)}}var ip=new WeakMap;class Ld{constructor(t,e){ln(this,ip,{writable:!0,value:void 0}),this.controller=t,this.POST_SORT=k3,Kt(this,ip,e)}change_sort(t){var e=this;return br(function*(){nt(e,ip).raise(new mw(t))})()}back_to_home(){nt(this,ip).raise(fw)}}Ld.\u0275fac=function(t){return new(t||Ld)(Ve(eo),Ve(Fr))},Ld.\u0275cmp=bn({type:Ld,selectors:[["post-list-header"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(t,e){1&t&&(zt(0,V3,18,5,"ng-container",0),pr(1,"async")),2&t&&bt("ngIf",gr(1,1,e.controller.posts$))},dependencies:[or,za,jr,Dc,Is,to,Cu,$m,Ci,Ro,Ra,_E,Dd,vE,ai,Ma],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0});var DE=new WeakMap,vw=new WeakSet;class Fd{constructor(t){hr(this,vw),ln(this,DE,{writable:!0,value:void 0}),Kt(this,DE,t)}set data(t){this._data=t,nr(this,vw,H3).call(this)}}function H3(){const n=document.implementation.createHTMLDocument().createElement("p");n.innerHTML=this._data.embed,Array.from(n.getElementsByTagName("iframe")).forEach(t=>{t.setAttribute("loading","lazy"),t.style.position="relative",t.style.maxWidth="100vw"}),this._embed=nt(this,DE).bypassSecurityTrustHtml(n.innerHTML)}Fd.\u0275fac=function(t){return new(t||Fd)(Ve(Ea))},Fd.\u0275cmp=bn({type:Fd,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[er],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,e){1&t&&Jt(0,"div",0),2&t&&bt("innerHTML",e._embed,Lg)},dependencies:[or],changeDetection:0});const W3=["gallery"];function K3(n,t){if(1&n){const e=wr();xt(0,"figure")(1,"img",3),Mn("load",function(){return lr(e),ur(Qt().onLoad())})("click",function(){const o=lr(e).$implicit;return ur(Qt().onClick(o.href))}),Ft()()}if(2&n){const e=t.$implicit,r=Qt();St(1),bt("src",e.src,Dl)("srcset",e.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}const z3=function(n){return{"set-scrollbar":n}};var op=new WeakMap;class Bd{constructor(){ln(this,op,{writable:!0,value:void 0})}set fig(t){t&&t.nativeElement&&Kt(this,op,t.nativeElement)}onLoad(){nt(this,op)&&(nt(this,op).scrollLeft=0)}onClick(t){String.isNullOrWhitespace(t)||window.open(t,"_blank","noopener,noreferrer")}}function G3(n,t){if(1&n&&(xt(0,"a",4),Ln(1),Ft()),2&n){const e=Qt(2);bt("href",e.href,Dl),St(1),yi(e.text)}}function Y3(n,t){if(1&n){const e=wr();xt(0,"a",5),Mn("click",function(){return lr(e),ur(Qt(2).on_internal_click())}),Ln(1),Ft()}if(2&n){const e=Qt(2);bt("routerLink",e.text),St(1),yi(e.text)}}function $3(n,t){if(1&n&&(xt(0,"p",1),zt(1,G3,2,2,"a",2),zt(2,Y3,2,2,"a",3),Ft()),2&n){const e=Qt();St(1),bt("ngIf",e.is_external),St(1),bt("ngIf",!e.is_external&&e.show_internal)}}Bd.\u0275fac=function(t){return new(t||Bd)},Bd.\u0275cmp=bn({type:Bd,selectors:[["post-body-image"]],viewQuery:function(t,e){if(1&t&&bi(W3,5),2&t){let r;ar(r=sr())&&(e.fig=r.first)}},inputs:{data:"data"},standalone:!0,features:[er],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(t,e){1&t&&(xt(0,"div",0,1),zt(2,K3,2,3,"figure",2),Ft()),2&t&&(bt("ngClass",Mo(2,z3,e.data.images.length>1)),St(2),bt("ngForOf",e.data.images))},dependencies:[or,Ql,za],changeDetection:0});var Au=new WeakMap,AE=new WeakMap,IE=new WeakMap,kd=new WeakMap,yw=new WeakSet;class Ud{constructor(t,e){hr(this,yw),ln(this,Au,{writable:!0,value:void 0}),ln(this,AE,{writable:!0,value:void 0}),ln(this,IE,{writable:!0,value:void 0}),ln(this,kd,{writable:!0,value:void 0}),Kt(this,Au,""),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,Kt(this,AE,t),Kt(this,IE,e),Kt(this,Au,document.baseURI),nt(this,Au).endsWith("/")&&Kt(this,Au,nt(this,Au).slice(0,-1))}set data(t){Kt(this,kd,t),nr(this,yw,X3).call(this)}on_internal_click(){nt(this,IE).save("post",nt(this,kd).id)}}function X3(){const n=nt(this,AE).sanitizeLink(nt(this,kd).url);if(this.href=n.href,this.is_external=n.external,this.is_external)return void(this.text=this.href);this.text=n.text;const t=this.text.indexOf("/r/")+3,e=this.text.indexOf("/",t),r=this.text.slice(t,e);this.show_internal=r.toLowerCase()!==nt(this,kd).subreddit.toLowerCase()}Ud.\u0275fac=function(t){return new(t||Ud)(Ve(zs),Ve(Ia))},Ud.\u0275cmp=bn({type:Ud,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[er],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink","click"]],template:function(t,e){1&t&&zt(0,$3,3,2,"p",0),2&t&&bt("ngIf",e.is_external||e.show_internal)},dependencies:[or,jr,ai,Ma],changeDetection:0});class jd{constructor(){this.data=null}}jd.\u0275fac=function(t){return new(t||jd)},jd.\u0275cmp=bn({type:jd,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[er],decls:1,vars:1,consts:[[3,"data"]],template:function(t,e){1&t&&Jt(0,"text-block",0),2&t&&bt("data",null==e.data?null:e.data.selftext_html)},dependencies:[Ys],changeDetection:0});var q3=k(377);const Q3=["video"];function Z3(n,t){if(1&n){const e=wr();xt(0,"mat-icon",12),Mn("click",function(){return lr(e),Qt(),ur(Rr(4).play())}),Ft()}}function J3(n,t){if(1&n){const e=wr();xt(0,"mat-icon",13),Mn("click",function(){return lr(e),Qt(),ur(Rr(4).pause())}),Ft()}}function e$(n,t){if(1&n){const e=wr();xt(0,"mat-icon",16),Mn("click",function(){lr(e),Qt(2);const i=Rr(4);return ur(i.muted=!i.muted)}),Ft()}}function t$(n,t){if(1&n){const e=wr();xt(0,"mat-icon",17),Mn("click",function(){lr(e),Qt(2);const i=Rr(4);return ur(i.muted=!i.muted)}),Ft()}}function n$(n,t){if(1&n&&(Uo(0),zt(1,e$,1,0,"mat-icon",14),zt(2,t$,1,0,"mat-icon",15),jo()),2&n){Qt();const e=Rr(4);St(1),bt("ngIf",e.muted),St(1),bt("ngIf",!e.muted)}}const r$=function(n){return{"--p":n}};var ap=new WeakMap,Xs=new WeakMap,Vd=new WeakMap,sp=new WeakMap,Hd=new WeakMap,Iu=new WeakMap,li=new WeakMap,Ew=new WeakSet,bw=new WeakSet;class Wd{constructor(t){hr(this,bw),hr(this,Ew),ln(this,ap,{writable:!0,value:void 0}),ln(this,Xs,{writable:!0,value:void 0}),ln(this,Vd,{writable:!0,value:void 0}),ln(this,sp,{writable:!0,value:void 0}),ln(this,Hd,{writable:!0,value:void 0}),ln(this,Iu,{writable:!0,value:void 0}),ln(this,li,{writable:!0,value:void 0}),this.cd=t,Kt(this,Vd,!1),Kt(this,sp,0),Kt(this,Hd,!1),Kt(this,Iu,""),this.has_audio=!0,Kt(this,ap,new IntersectionObserver((e,r)=>nr(this,Ew,i$).call(this,e,r),{root:null,rootMargin:"32px",threshold:0}))}set value(t){t&&t.nativeElement&&Kt(this,li,t.nativeElement)}ngOnInit(){var t=this;return br(function*(){const e=t.data.videos.find(r=>"application/dash+xml"===r.type);Kt(t,Iu,e?.url||t.data.videos[t.data.videos.length-1].url),null!=e?(Kt(t,Hd,!0),yield nr(t,bw,o$).call(t,nt(t,Iu)),Kt(t,Xs,(0,q3.MediaPlayer)().create()),nt(t,Xs).initialize(nt(t,li),"",!1),nt(t,Xs).setMute(!0),nt(t,Xs).updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:nt(t,sp)-1}}}}),nt(t,ap).observe(nt(t,li))):nt(t,ap).observe(nt(t,li))})()}ngOnDestroy(){nt(this,Xs)?.destroy()}onLoadeddata(){nt(this,Hd)||(this.has_audio="mozHasAudio"in nt(this,li)&&nt(this,li).mozHasAudio||"webkitAudioDecodedByteCount"in nt(this,li)&&nt(this,li).webkitAudioDecodedByteCount>0||"audioTracks"in nt(this,li)&&nt(this,li).audioTracks.length>0,nt(this,li).muted=!0)}skip(t,e,r){const i=e.getBoundingClientRect();r.currentTime=(t.pageX-i.left)/e.offsetWidth*r.duration}}function i$(n,t){n[0].isIntersecting?nt(this,Vd)||(nt(this,Hd)?nt(this,Xs).attachSource(nt(this,Iu)):nt(this,li).src=nt(this,Iu),Kt(this,Vd,!0)):nt(this,Vd)&&(nt(this,li).paused||nt(this,li).ended||nt(this,li).pause())}function o$(n){return RE.apply(this,arguments)}function RE(){return(RE=br(function*(n){try{const t=yield fetch(n);if(!t.ok)return;const e=yield t.text();if(String.isNullOrWhitespace(e))return;const r=(new DOMParser).parseFromString(e,"application/xml");if(null==r)return;const i=r.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=null!=i;const o=r.querySelector('AdaptationSet[contentType="video"]');if(null==o)return;const u=o.querySelectorAll("Representation");if(null==u||0===u.length)return;const h=Array.from(u).map(C=>Number(C.getAttribute("bandwidth"))).filter(C=>!isNaN(C));if(null==h||0===h.length)return;Kt(this,sp,Math.max(...h))}catch{return}})).apply(this,arguments)}function a$(n,t){1&n&&Jt(0,"post-body-embed",1),2&n&&bt("data",Qt()._data)}function s$(n,t){1&n&&Jt(0,"post-body-image",1),2&n&&bt("data",Qt()._data)}function l$(n,t){1&n&&Jt(0,"post-body-text",1),2&n&&bt("data",Qt()._data)}function u$(n,t){1&n&&Jt(0,"post-body-video",1),2&n&&bt("data",Qt()._data)}function c$(n,t){1&n&&Jt(0,"post-body-link",1),2&n&&bt("data",Qt()._data)}Wd.\u0275fac=function(t){return new(t||Wd)(Ve(Ni))},Wd.\u0275cmp=bn({type:Wd,selectors:[["post-body-video"]],viewQuery:function(t,e){if(1&t&&bi(Q3,7),2&t){let r;ar(r=sr())&&(e.value=r.first)}},inputs:{data:"data"},standalone:!0,features:[er],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","disableremoteplayback","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(t,e){if(1&t){const r=wr();xt(0,"div",0),Jt(1,"mat-icon",1)(2,"mat-icon",2),Ft(),xt(3,"video",3,4),Mn("loadeddata",function(){return e.onLoadeddata()})("click",function(){lr(r);const o=Rr(4);return ur(o.paused||o.ended?o.play():o.pause())})("timeupdate",function(){return e.cd.detectChanges()}),Ft(),xt(5,"div",5),zt(6,Z3,1,0,"mat-icon",6),zt(7,J3,1,0,"mat-icon",7),xt(8,"div",8,9),Mn("click",function(o){lr(r);const u=Rr(9),h=Rr(4);return ur(e.skip(o,u,h))}),xt(10,"div",10),Ln(11),pr(12,"time"),pr(13,"time"),Ft()(),zt(14,n$,3,2,"ng-container",11),Ft()}if(2&t){const r=Rr(4);St(6),bt("ngIf",r.paused||r.ended),St(1),bt("ngIf",!r.paused&&!r.ended),St(1),bt("ngStyle",Mo(10,r$,100*((null==r?null:r.currentTime)||0)/r.duration+"%")),St(3),lh("",gr(12,6,r.currentTime)," / ",gr(13,8,r.duration)," "),St(3),bt("ngIf",e.has_audio)}},dependencies:[or,jr,Dc,Ci,Ro,Pd],changeDetection:0});class Kd{set data(t){this._data=t.is_crosspost?t.crosspost:t}}function d$(n,t){if(1&n){const e=wr();xt(0,"button",4),Mn("click",function(){return lr(e),ur(Qt().on_share_click())}),Jt(1,"mat-icon",5),Ft()}}function f$(n,t){if(1&n&&(xt(0,"button",6),Jt(1,"mat-icon",7),Ln(2),pr(3,"count"),Ft()),2&n){const e=Qt();St(2),Zr(" ",gr(3,1,e.data.ups),"\n")}}function h$(n,t){if(1&n&&(xt(0,"button",6),Jt(1,"mat-icon",8),Ln(2),pr(3,"count"),Ft()),2&n){const e=Qt();St(2),Zr(" ",gr(3,1,e.data.downs),"\n")}}Kd.\u0275fac=function(t){return new(t||Kd)},Kd.\u0275cmp=bn({type:Kd,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[er],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(t,e){1&t&&(zt(0,a$,1,1,"post-body-embed",0),zt(1,s$,1,1,"post-body-image",0),zt(2,l$,1,1,"post-body-text",0),zt(3,u$,1,1,"post-body-video",0),zt(4,c$,1,1,"post-body-link",0)),2&t&&(bt("ngIf",null==e._data?null:e._data.has_embed),St(1),bt("ngIf",null==e._data?null:e._data.has_image),St(1),bt("ngIf",null==e._data?null:e._data.has_text),St(1),bt("ngIf",null==e._data?null:e._data.has_video),St(1),bt("ngIf",null==e._data?null:e._data.has_link))},dependencies:[or,jr,Fd,Bd,Ud,jd,Wd],changeDetection:0});var wE=new WeakMap,qs=new WeakMap;class zd{constructor(t,e){ln(this,wE,{writable:!0,value:void 0}),ln(this,qs,{writable:!0,value:void 0}),this.controller=t,Kt(this,qs,""),this._can_share=!1,this._can_share="share"in window.navigator,Kt(this,wE,e),Kt(this,qs,document.baseURI),nt(this,qs).endsWith("/")&&Kt(this,qs,nt(this,qs).slice(0,-1))}on_share_click(){const t=`${nt(this,qs)}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:t})}on_comment_click(){nt(this,wE).raise(new gw(this.data.id))}}function m$(n,t){if(1&n){const e=wr();xt(0,"a",9),Mn("click",function(i){lr(e);const o=Qt();return ur(o.change_subreddit(i,o.post.subreddit))}),Ln(1),Ft()}if(2&n){const e=Qt();bt("href","/r/"+e.post.subreddit,Dl),St(1),Zr(" r/",e.post.subreddit," ")}}function p$(n,t){if(1&n){const e=wr();xt(0,"mat-icon",12),Mn("click",function(){lr(e);const i=Qt(2);return ur(i.controller.actions.subscribe(i.post.subreddit))}),Ft()}}function g$(n,t){if(1&n){const e=wr();xt(0,"mat-icon",13),Mn("click",function(){lr(e);const i=Qt(2);return ur(i.controller.actions.unsubscribe(i.post.subreddit))}),Ft()}}function _$(n,t){if(1&n&&(Uo(0),zt(1,p$,1,0,"mat-icon",10),zt(2,g$,1,0,"mat-icon",11),jo()),2&n){const e=Qt();St(1),bt("ngIf",!e.post.subreddit_subscribed),St(1),bt("ngIf",e.post.subreddit_subscribed)}}function v$(n,t){1&n&&Jt(0,"mat-icon",14)}function y$(n,t){1&n&&Jt(0,"mat-icon",15)}function E$(n,t){1&n&&(xt(0,"a",16),Ln(1,"x-post"),Ft())}zd.\u0275fac=function(t){return new(t||zd)(Ve(eo),Ve(Fr))},zd.\u0275cmp=bn({type:zd,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[er],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(t,e){1&t&&(zt(0,d$,2,0,"button",0),xt(1,"button",1),Mn("click",function(){return e.on_comment_click()}),Jt(2,"mat-icon",2),Ln(3),pr(4,"count"),Ft(),zt(5,f$,4,3,"button",3),zt(6,h$,4,3,"button",3)),2&t&&(bt("ngIf",e._can_share),St(3),Zr(" ",gr(4,4,e.data.num_comments),"\n"),St(2),bt("ngIf",e.data.ups>0),St(1),bt("ngIf",e.data.downs>0))},dependencies:[or,jr,$s,to,Cu,$m,Ci,Ro,Ra,Lc,Zo,ai],changeDetection:0});const b$=function(n){return["/u",n]};var PE=new WeakMap,Tw=new WeakSet;class Gd{constructor(t,e){hr(this,Tw),ln(this,PE,{writable:!0,value:void 0}),this.controller=e,this.has_image_gallery=!1,this.part_of_multi=!1,Kt(this,PE,t)}set data(t){this.post=t.post,nr(this,Tw,T$).call(this,t.subreddit)}change_subreddit(t,e){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),nt(this,PE).raise(new Id(e))}}function T$(n){this.part_of_multi=this.post.subreddit.toLowerCase()!==n.toLowerCase();const t=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=t.has_image&&t.has_image_gallery}function S$(n,t){1&n&&Jt(0,"post-body",0),2&n&&bt("data",Qt().post)}Gd.\u0275fac=function(t){return new(t||Gd)(Ve(Fr),Ve(eo))},Gd.\u0275cmp=bn({type:Gd,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[er],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(t,e){1&t&&(xt(0,"section",0)(1,"div",1),Ln(2),Ft(),xt(3,"section",2),zt(4,m$,2,2,"a",3),xt(5,"a",4),Ln(6),Ft(),xt(7,"span"),Ln(8),pr(9,"age"),Ft(),zt(10,_$,3,2,"ng-container",5),zt(11,v$,1,0,"mat-icon",6),zt(12,y$,1,0,"mat-icon",7),zt(13,E$,2,0,"a",8),Ft()()),2&t&&(St(2),yi(e.post.title),St(2),bt("ngIf",e.part_of_multi),St(1),bt("routerLink",Mo(11,b$,e.post.author)),St(1),Zr("u/",e.post.author,""),St(2),yi(gr(9,9,e.post.created_utc)),St(2),bt("ngIf",e.part_of_multi),St(1),bt("ngIf",!e.part_of_multi&&e.post.stickied),St(1),bt("ngIf",e.has_image_gallery),St(1),bt("ngIf",e.post.is_crosspost))},dependencies:[Du,or,jr,to,Ci,Ro,Ra,Lc,Zo,ai,Ma],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0});const C$=function(n,t){return{post:n,subreddit:t}};class Ru{constructor(){this.subreddit="",this.show_body=!0}set data(t){this.post=t.item,this.subreddit=t.subreddit,this.show_body=!t.item.stickied||!t.hide_stickied}}Ru.\u0275fac=function(t){return new(t||Ru)},Ru.\u0275cmp=bn({type:Ru,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[er],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(t,e){1&t&&(Jt(0,"post-header",0),zt(1,S$,1,1,"post-body",1),Jt(2,"post-footer",0)),2&t&&(bt("data",D_(3,C$,e.post,e.subreddit)),St(1),bt("ngIf",e.show_body),St(1),bt("data",e.post))},dependencies:[or,jr,to,Ci,Ra,Zo,ai,Gd,Kd,zd],changeDetection:0});class Yd{}Yd.\u0275fac=function(t){return new(t||Yd)},Yd.\u0275cmp=bn({type:Yd,selectors:[["search-page-header"]],standalone:!0,features:[er],decls:10,vars:1,consts:[[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"]],template:function(t,e){if(1&t&&(xt(0,"div",0),Ln(1," Search for Subreddit "),Jt(2,"span",1),xt(3,"button",2),Jt(4,"mat-icon",3),Ft()(),xt(5,"mat-menu",4,5),Jt(7,"mat-icon",6)(8,"mat-icon",7)(9,"mat-icon",8),Ft()),2&t){const r=Rr(6);St(3),bt("matMenuTriggerFor",r)}},dependencies:[to,$m,Ci,Ro,Ra,_E,vE,ai,Ma],changeDetection:0});var OE=new WeakMap;class $d{constructor(t){ln(this,OE,{writable:!0,value:void 0}),Kt(this,OE,t)}set data(t){this._data=t}change_subreddit(t,e){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),nt(this,OE).raise(new Id(e))}}$d.\u0275fac=function(t){return new(t||$d)(Ve(Fr))},$d.\u0275cmp=bn({type:$d,selectors:[["search-result"]],inputs:{data:"data"},standalone:!0,features:[er],decls:13,vars:9,consts:[[3,"href","click"],[3,"data"],["mat-button","","disableRipple",""],["svgIcon","groups"],["svgIcon","person"]],template:function(t,e){1&t&&(xt(0,"header")(1,"a",0),Mn("click",function(i){return e.change_subreddit(i,e._data.display_name)}),Ln(2),Ft()(),Jt(3,"text-block",1),xt(4,"footer")(5,"button",2),Jt(6,"mat-icon",3),Ln(7),pr(8,"count"),Ft(),xt(9,"button",2),Jt(10,"mat-icon",4),Ln(11),pr(12,"count"),Ft()()),2&t&&(St(1),bt("href","/r"+e._data.display_name,Dl),St(1),yi(e._data.display_name),St(1),bt("data",e._data.public_description_html),St(4),Zr(" ",gr(8,5,e._data.subscribers)," "),St(4),Zr(" ",gr(12,7,e._data.accounts_active)," "))},dependencies:[or,$s,to,Cu,Ci,Ro,ai,Ys],changeDetection:0});let Sw=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(Ve(da),Ve(Nn))},n.\u0275dir=Wt({type:n}),n})(),Qs=(()=>{class n extends Sw{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Gr(n)))(r||n)}}(),n.\u0275dir=Wt({type:n,features:[Cn]}),n})();const Jo=new Ut("NgValueAccessor"),D$={provide:Jo,useExisting:xn(()=>lp),multi:!0},I$=new Ut("CompositionEventMode");let lp=(()=>{class n extends Sw{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A$(){const n=Go()?Go().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(Ve(da),Ve(Nn),Ve(I$,8))},n.\u0275dir=Wt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Mn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Jn([D$]),Cn]}),n})();function os(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Mw(n){return null!=n&&"number"==typeof n.length}const ui=new Ut("NgValidators"),as=new Ut("NgAsyncValidators"),w$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class P${static min(t){return function Dw(n){return t=>{if(os(t.value)||os(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Aw(n){return t=>{if(os(t.value)||os(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Iw(t)}static requiredTrue(t){return function Rw(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function ww(n){return os(n.value)||w$.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Pw(n){return t=>os(t.value)||!Mw(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return Ow(t)}static pattern(t){return function xw(n){if(!n)return up;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(os(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return Uw(t)}static composeAsync(t){return jw(t)}}function Iw(n){return os(n.value)?{required:!0}:null}function Ow(n){return t=>Mw(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function up(n){return null}function Nw(n){return null!=n}function Lw(n){return dc(n)?Pt(n):n}function Fw(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Bw(n,t){return t.map(e=>e(n))}function kw(n){return n.map(t=>function O$(n){return!n.validate}(t)?t:e=>t.validate(e))}function Uw(n){if(!n)return null;const t=n.filter(Nw);return 0==t.length?null:function(e){return Fw(Bw(e,t))}}function xE(n){return null!=n?Uw(kw(n)):null}function jw(n){if(!n)return null;const t=n.filter(Nw);return 0==t.length?null:function(e){return GD(Bw(e,t).map(Lw)).pipe(se(Fw))}}function NE(n){return null!=n?jw(kw(n)):null}function Vw(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Hw(n){return n._rawValidators}function Ww(n){return n._rawAsyncValidators}function LE(n){return n?Array.isArray(n)?n:[n]:[]}function cp(n,t){return Array.isArray(n)?n.includes(t):n===t}function Kw(n,t){const e=LE(t);return LE(n).forEach(i=>{cp(e,i)||e.push(i)}),e}function zw(n,t){return LE(t).filter(e=>!cp(n,e))}class Gw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=NE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Di extends Gw{get formDirective(){return null}get path(){return null}}class wa extends Gw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yw{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $w=(()=>{class n extends Yw{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(Ve(wa,2))},n.\u0275dir=Wt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&yr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Cn]}),n})();const Xd="VALID",fp="INVALID",wu="PENDING",qd="DISABLED";function UE(n){return(hp(n)?n.validators:n)||null}function jE(n,t){return(hp(t)?t.asyncValidators:n)||null}function hp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Zw{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Xd}get invalid(){return this.status===fp}get pending(){return this.status==wu}get disabled(){return this.status===qd}get enabled(){return this.status!==qd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Kw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Kw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zw(t,this._rawAsyncValidators))}hasValidator(t){return cp(this._rawValidators,t)}hasAsyncValidator(t){return cp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qd,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Xd,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xd||this.status===wu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qd:Xd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wu,this._hasOwnPendingAsyncValidator=!0;const e=Lw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ir,this.statusChanges=new ir}_calculateStatus(){return this._allControlsDisabled()?qd:this.errors?fp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wu)?wu:this._anyControlsHaveStatus(fp)?fp:Xd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function j$(n){return Array.isArray(n)?xE(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function V$(n){return Array.isArray(n)?NE(n):n||null}(this._rawAsyncValidators)}}class VE extends Zw{constructor(t,e,r){super(UE(e),jE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Qw(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new yt(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function qw(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new yt(1e3,"");if(!r[e])throw new yt(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Qd=new Ut("CallSetDisabledState",{providedIn:"root",factory:()=>HE}),HE="always";function Zd(n,t,e=HE){WE(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function K$(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Jw(n,t)})}(n,t),function G$(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function z$(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Jw(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function W$(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pp(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),_p(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function gp(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function WE(n,t){const e=Hw(n);null!==t.validator?n.setValidators(Vw(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Ww(n);null!==t.asyncValidator?n.setAsyncValidators(Vw(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();gp(t._rawValidators,i),gp(t._rawAsyncValidators,i)}function _p(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=Hw(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=Ww(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return gp(t._rawValidators,r),gp(t._rawAsyncValidators,r),e}function Jw(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function eP(n,t){WE(n,t)}function tP(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Q$={provide:Di,useExisting:xn(()=>vp)},Jd=(()=>Promise.resolve())();let vp=(()=>{class n extends Di{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ir,this.form=new VE({},xE(e),NE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Jd.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Zd(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Jd.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Jd.then(()=>{const r=this._findContainer(e.path),i=new VE({});eP(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Jd.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Jd.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,tP(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(Ve(ui,10),Ve(as,10),Ve(Qd,8))},n.\u0275dir=Wt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&Mn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jn([Q$]),Cn]}),n})();function nP(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function rP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const iP=class extends Zw{constructor(t=null,e,r){super(UE(e),jE(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=rP(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){rP(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},e8={provide:wa,useExisting:xn(()=>YE)},sP=(()=>Promise.resolve())();let YE=(()=>{class n extends wa{constructor(e,r,i,o,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new iP,this._registered=!1,this.update=new ir,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function GE(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===lp?e=o:function X$(n){return Object.getPrototypeOf(n.constructor)===Qs}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function zE(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){sP.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&ql(r);sP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function mp(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(Ve(Di,9),Ve(ui,10),Ve(as,10),Ve(Jo,10),Ve(Ni,8),Ve(Qd,8))},n.\u0275dir=Wt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jn([e8]),Cn,Vi]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({}),n})();const s8={provide:Di,useExisting:xn(()=>yp)};let yp=(()=>{class n extends Di{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ir,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_p(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Zd(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){pp(e.control||null,e,!1),function q$(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,tP(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(pp(r||null,e),(n=>n instanceof iP)(i)&&(Zd(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);eP(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function Y$(n,t){return _p(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){WE(this.form,this),this._oldForm&&_p(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(Ve(ui,10),Ve(as,10),Ve(Qd,8))},n.\u0275dir=Wt({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Mn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jn([s8]),Cn,Vi]}),n})();let Zs=(()=>{class n{constructor(){this._validator=up}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):up,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Wt({type:n,features:[Vi]}),n})();const y8={provide:ui,useExisting:xn(()=>Ep),multi:!0};let Ep=(()=>{class n extends Zs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ql,this.createValidator=e=>Iw}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Gr(n)))(r||n)}}(),n.\u0275dir=Wt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&cr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Jn([y8]),Cn]}),n})();const S8={provide:ui,useExisting:xn(()=>ZE),multi:!0};let ZE=(()=>{class n extends Zs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function vP(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>Ow(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Gr(n)))(r||n)}}(),n.\u0275dir=Wt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&cr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Jn([S8]),Cn]}),n})(),M8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[uP]}),n})(),A8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qd,useValue:e.callSetDisabledState??HE}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[M8]}),n})();const I8=["matFormFieldNotchedOutline",""],R8=["*"],w8=["textField"],P8=["iconPrefixContainer"],O8=["textPrefixContainer"];function x8(n,t){1&n&&Jt(0,"span",19)}function N8(n,t){if(1&n){const e=wr();xt(0,"label",17),Mn("cdkObserveContent",function(){return lr(e),ur(Qt(2)._refreshOutlineNotchWidth())}),tr(1,1),zt(2,x8,1,0,"span",18),Ft()}if(2&n){const e=Qt(2);bt("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),cr("for",e._control.id)("aria-owns",e._control.id),St(2),bt("ngIf",!e.hideRequiredMarker&&e._control.required)}}function L8(n,t){1&n&&zt(0,N8,3,6,"label",16),2&n&&bt("ngIf",Qt()._hasFloatingLabel())}function F8(n,t){1&n&&Jt(0,"div",20)}function B8(n,t){}function k8(n,t){1&n&&zt(0,B8,0,0,"ng-template",22),2&n&&(Qt(2),bt("ngTemplateOutlet",Rr(1)))}function U8(n,t){if(1&n&&(xt(0,"div",21),zt(1,k8,1,1,"ng-template",9),Ft()),2&n){const e=Qt();bt("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),St(1),bt("ngIf",!e._forceDisplayInfixLabel())}}function j8(n,t){1&n&&(xt(0,"div",23,24),tr(2,2),Ft())}function V8(n,t){1&n&&(xt(0,"div",25,26),tr(2,3),Ft())}function H8(n,t){}function W8(n,t){1&n&&zt(0,H8,0,0,"ng-template",22),2&n&&(Qt(),bt("ngTemplateOutlet",Rr(1)))}function K8(n,t){1&n&&(xt(0,"div",27),tr(1,4),Ft())}function z8(n,t){1&n&&(xt(0,"div",28),tr(1,5),Ft())}function G8(n,t){1&n&&Jt(0,"div",29)}function Y8(n,t){1&n&&(xt(0,"div",30),tr(1,6),Ft()),2&n&&bt("@transitionMessages",Qt()._subscriptAnimationState)}function $8(n,t){if(1&n&&(xt(0,"mat-hint",34),Ln(1),Ft()),2&n){const e=Qt(2);bt("id",e._hintLabelId),St(1),yi(e.hintLabel)}}function X8(n,t){if(1&n&&(xt(0,"div",31),zt(1,$8,2,2,"mat-hint",32),tr(2,7),Jt(3,"div",33),tr(4,8),Ft()),2&n){const e=Qt();bt("@transitionMessages",e._subscriptAnimationState),St(1),bt("ngIf",e.hintLabel)}}const q8=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Q8=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let JE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Wt({type:n,selectors:[["mat-label"]]}),n})(),Z8=0;const DP=new Ut("MatError");let J8=(()=>{class n{constructor(e,r){this.id="mat-mdc-error-"+Z8++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(_l("aria-live"),Ve(Nn))},n.\u0275dir=Wt({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,r){2&e&&hc("id",r.id)},inputs:{id:"id"},features:[Jn([{provide:DP,useExisting:n}])]}),n})(),e6=0,eb=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+e6++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Wt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,r){2&e&&(hc("id",r.id),cr("align",null),yr("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const t6=new Ut("MatPrefix"),AP=new Ut("MatSuffix");let n6=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Wt({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Jn([{provide:AP,useExisting:n}])]}),n})(),IP=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function r6(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn))},n.\u0275dir=Wt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,r){2&e&&yr("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const RP="mdc-line-ripple--active",bp="mdc-line-ripple--deactivating";let wP=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,u=o.contains(bp);"opacity"===i.propertyName&&u&&o.remove(RP,bp)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(bp),e.add(RP)}deactivate(){this._elementRef.nativeElement.classList.add(bp)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(En))},n.\u0275dir=Wt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),PP=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(En))},n.\u0275cmp=bn({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,r){2&e&&yr("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:I8,ngContentSelectors:R8,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,r){1&e&&(Yi(),Jt(0,"div",0),xt(1,"div",1),tr(2),Ft(),Jt(3,"div",2)),2&e&&(St(1),Wa("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const i6={transitionMessages:zc("transitionMessages",[xs("enter",Bi({opacity:1,transform:"translateY(0%)"})),Qa("void => enter",[Bi({opacity:0,transform:"translateY(-5px)"}),qa("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let OP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Wt({type:n}),n})();const xP=new Ut("MatFormField"),o6=new Ut("MAT_FORM_FIELD_DEFAULT_OPTIONS");let NP=0,l6=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Qi(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,o,u,h,C,B){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=u,this._defaults=h,this._animationMode=C,this._document=B,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+NP++,this._hintLabelId="mat-mdc-hint-"+NP++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new de,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=Boolean(h?.hideRequiredMarker),h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Wr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ke(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Wr(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Wr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,u=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Ni),Ve(En),Ve(Ps),Ve(Vr),Ve(o6,8),Ve(Ko,8),Ve(wn))},n.\u0275cmp=bn({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(Xi(i,JE,5),Xi(i,JE,7),Xi(i,OP,5),Xi(i,t6,5),Xi(i,AP,5),Xi(i,DP,5),Xi(i,eb,5)),2&e){let o;ar(o=sr())&&(r._labelChildNonStatic=o.first),ar(o=sr())&&(r._labelChildStatic=o.first),ar(o=sr())&&(r._formFieldControl=o.first),ar(o=sr())&&(r._prefixChildren=o),ar(o=sr())&&(r._suffixChildren=o),ar(o=sr())&&(r._errorChildren=o),ar(o=sr())&&(r._hintChildren=o)}},viewQuery:function(e,r){if(1&e&&(bi(w8,5),bi(P8,5),bi(O8,5),bi(IP,5),bi(PP,5),bi(wP,5)),2&e){let i;ar(i=sr())&&(r._textField=i.first),ar(i=sr())&&(r._iconPrefixContainer=i.first),ar(i=sr())&&(r._textPrefixContainer=i.first),ar(i=sr())&&(r._floatingLabel=i.first),ar(i=sr())&&(r._notchedOutline=i.first),ar(i=sr())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,r){2&e&&yr("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Jn([{provide:xP,useExisting:n}])],ngContentSelectors:Q8,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,r){1&e&&(Yi(q8),zt(0,L8,1,1,"ng-template",null,0,N_),xt(2,"div",1,2),Mn("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),zt(4,F8,1,0,"div",3),xt(5,"div",4),zt(6,U8,2,3,"div",5),zt(7,j8,3,0,"div",6),zt(8,V8,3,0,"div",7),xt(9,"div",8),zt(10,W8,1,1,"ng-template",9),tr(11),Ft(),zt(12,K8,2,0,"div",10),zt(13,z8,2,0,"div",11),Ft(),zt(14,G8,1,0,"div",12),Ft(),xt(15,"div",13),zt(16,Y8,2,1,"div",14),zt(17,X8,5,2,"div",15),Ft()),2&e&&(St(2),yr("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),St(2),bt("ngIf",!r._hasOutline()&&!r._control.disabled),St(2),bt("ngIf",r._hasOutline()),St(1),bt("ngIf",r._hasIconPrefix),St(1),bt("ngIf",r._hasTextPrefix),St(2),bt("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),St(2),bt("ngIf",r._hasTextSuffix),St(1),bt("ngIf",r._hasIconSuffix),St(1),bt("ngIf",!r._hasOutline()),St(1),yr("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),bt("ngSwitch",r._getDisplayedMessages()),St(1),bt("ngSwitchCase","error"),St(1),bt("ngSwitchCase","hint"))},dependencies:[jr,hv,Lh,rD,pV,eb,IP,PP,wP],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[i6.transitionMessages]},changeDetection:0}),n})(),tb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Kr,or,TD,Kr]}),n})();const BP=Rs({passive:!0});let u6=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return en;const r=va(e),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new de,u="cdk-text-field-autofilled",h=C=>{"cdk-text-field-autofill-start"!==C.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===C.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>o.next({target:C.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>o.next({target:C.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,BP),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",h,BP)}}),o}stopMonitoring(e){const r=va(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(st(Vr),st(En))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({}),n})();const d6=new Ut("MAT_INPUT_VALUE_ACCESSOR"),f6=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let h6=0;const m6=QV(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new de}});let p6=(()=>{class n extends m6{get disabled(){return this._disabled}set disabled(e){this._disabled=Qi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(P$.required)??!1}set required(e){this._required=Qi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&mD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Qi(e)}constructor(e,r,i,o,u,h,C,B,Q,ge){super(h,o,u,i),this._elementRef=e,this._platform=r,this._autofillMonitor=B,this._formField=ge,this._uid="mat-input-"+h6++,this.focused=!1,this.stateChanges=new de,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Fe=>mD().has(Fe)),this._iOSKeyupListener=Fe=>{const Xe=Fe.target;!Xe.value&&0===Xe.selectionStart&&0===Xe.selectionEnd&&(Xe.setSelectionRange(1,1),Xe.setSelectionRange(0,0))};const Me=this._elementRef.nativeElement,xe=Me.nodeName.toLowerCase();this._inputValueAccessor=C||Me,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&Q.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===xe,this._isTextarea="textarea"===xe,this._isInFormField=!!ge,this._isNativeSelect&&(this.controlType=Me.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){f6.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Nn),Ve(Vr),Ve(wa,10),Ve(vp,8),Ve(yp,8),Ve(jD),Ve(d6,10),Ve(u6),Ve(En),Ve(xP,8))},n.\u0275dir=Wt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,r){1&e&&Mn("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(hc("id",r.id)("disabled",r.disabled)("required",r.required),cr("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),yr("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Jn([{provide:OP,useExisting:n}]),Cn,Vi]}),n})(),g6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Kr,tb,tb,c6,Kr]}),n})();const _6=["tooltip"],kP=new Ut("mat-tooltip-scroll-strategy"),E6={provide:kP,deps:[Mu],useFactory:function y6(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},T6=new Ut("mat-tooltip-default-options",{providedIn:"root",factory:function b6(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),UP="tooltip-panel",jP=Rs({passive:!0});let I6=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Qi(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Qi(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Jl(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Jl(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,i,o,u,h,C,B,Q,ge,Me,xe){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=u,this._platform=h,this._ariaDescriber=C,this._focusMonitor=B,this._dir=ge,this._defaultOptions=Me,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new de,this._scrollStrategy=Q,this._document=xe,Me&&(Me.position&&(this.position=Me.position),Me.positionAtOrigin&&(this.positionAtOrigin=Me.positionAtOrigin),Me.touchGestures&&(this.touchGestures=Me.touchGestures)),ge.change.pipe(Wr(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Wr(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,jP)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new GR(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Wr(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Nn)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Wr(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${UP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Wr(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Wr(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Wr(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Cv(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Fi(1),Wr(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:o}=e;let u;if(u="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const C=`${this._cssClassPrefix}-${UP}-`;h.removePanelClass(C+this._currentPosition),h.addPanelClass(C+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(r=e),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const r=e.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,jP)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){qf()},n.\u0275dir=Wt({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),R6=(()=>{class n extends I6{constructor(e,r,i,o,u,h,C,B,Q,ge,Me,xe){super(e,r,i,o,u,h,C,B,Q,ge,Me,xe),this._tooltipComponent=P6,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const i=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=i?-8:8:"end"===e.originX&&(e.offsetX=i?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(Ve(Mu),Ve(Nn),Ve(Md),Ve($i),Ve(En),Ve(Vr),Ve(PV),Ve(zh),Ve(kP),Ve(Ps,8),Ve(T6,8),Ve(wn))},n.\u0275dir=Wt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[Cn]}),n})(),w6=(()=>{class n{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new de,this._animationsDisabled="NoopAnimations"===r}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(r);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(Ve(Ni),Ve(Ko,8))},n.\u0275dir=Wt({type:n}),n})(),P6=(()=>{class n extends w6{constructor(e,r,i){super(e,i),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(Ve(Ni),Ve(Nn),Ve(Ko,8))},n.\u0275cmp=bn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&bi(_6,7),2&e){let i;ar(i=sr())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&Mn("mouseleave",function(o){return r._handleMouseLeave(o)}),2&e&&Wa("zoom",r.isVisible()?1:null)},features:[Cn],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,r){1&e&&(xt(0,"div",0,1),Mn("animationend",function(o){return r._handleAnimationEnd(o)}),xt(2,"div",2),Ln(3),Ft()()),2&e&&(yr("mdc-tooltip--multiline",r._isMultiline),bt("ngClass",r.tooltipClass),St(3),yi(r.message))},dependencies:[Ql],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),O6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({providers:[E6],imports:[KV,or,lw,Kr,Kr,Zm]}),n})();function x6(n,t){if(1&n&&(xt(0,"mat-label"),Ln(1),Ft()),2&n){const e=Qt();St(1),yi(e.label)}}function N6(n,t){if(1&n){const e=wr();xt(0,"mat-icon",7),Mn("click",function(){return lr(e),ur(Qt().onClear())}),Ft()}}function L6(n,t){if(1&n&&(xt(0,"mat-hint",8),Ln(1),Ft()),2&n){const e=Qt(),r=Rr(3);St(1),lh("",r.value.length," / ",e._maxlength," ")}}function F6(n,t){if(1&n&&(xt(0,"mat-error"),Ln(1),Ft()),2&n){const e=Qt();St(1),yi(e.errMsg)}}const B6=function(n){return{readonly:n}};class ef{constructor(t,e){this.sanitizer=t,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.hideLabel=!1,this.hideClear=!1,this.hideLength=!1,this._model="",this._maxlength=256,this.inputName=e.getUniqueId().toString(),this.modelChange=new ir,this.errorStateMatcher=new jD,this.errorStateMatcher.isErrorState=()=>String.hasData(this.errMsg)}set model(t){this._model=t??""}set maxlength(t){!isNaN(t)&&t>0&&(this._maxlength=t)}set style(t){this._style=this.sanitizer.bypassSecurityTrustStyle(t)}onClear(){this._model="",this.onChange()}onChange(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}}ef.\u0275fac=function(t){return new(t||ef)(Ve(Ea),Ve(Ws))},ef.\u0275cmp=bn({type:ef,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",hideLabel:"hideLabel",hideClear:"hideClear",hideLength:"hideLength",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[er],decls:9,vars:18,consts:[[2,"width","100%",3,"appearance","ngClass"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","keydown.enter"],["inp",""],["matSuffix","","style","cursor: pointer; opacity: 0.54;","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start"],["align","end",4,"ngIf"],["matSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",2,"cursor","pointer","opacity","0.54",3,"click"],["align","end"]],template:function(t,e){if(1&t){const r=wr();xt(0,"mat-form-field",0),zt(1,x6,2,1,"mat-label",1),xt(2,"input",2,3),Mn("ngModelChange",function(o){return e._model=o})("change",function(){return e.onChange()})("keydown.enter",function(){return lr(r),ur(Rr(3).blur())}),Ft(),zt(4,N6,1,0,"mat-icon",4),xt(5,"mat-hint",5),Ln(6),Ft(),zt(7,L6,2,2,"mat-hint",6),zt(8,F6,2,1,"mat-error",1),Ft()}2&t&&(bt("appearance",e.readonly?"outline":"fill")("ngClass",Mo(16,B6,e.readonly)),St(1),bt("ngIf",!e.hideLabel),St(1),bt("placeholder",e.placeholder)("readonly",e.readonly)("disabled",e.disabled)("required",e.required)("ngModel",e._model)("errorStateMatcher",e.errorStateMatcher),cr("name",e.inputName)("maxlength",e._maxlength)("style",e._style,QT),St(2),bt("ngIf",!e.readonly&&!e.disabled&&!e.hideClear),St(2),yi(e.hint),St(1),bt("ngIf",!e.readonly&&!e.disabled&&!e.hideLength&&e._maxlength),St(1),bt("ngIf",!e.readonly&&!e.disabled))},dependencies:[or,Ql,jr,A8,lp,$w,Ep,ZE,YE,tb,l6,JE,eb,J8,n6,Ci,Ro,g6,p6,O6,R6],styles:["[_nghost-%COMP%]     .readonly .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .readonly .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{padding-bottom:.25em;padding-top:.25em}[_nghost-%COMP%]     .readonly .mat-form-field-underline{display:none}"]});const k6=function(n){return{top:n}};var nb=new WeakMap;class tf{constructor(t,e){ln(this,nb,{writable:!0,value:void 0}),this.controller=e,this.top="2em",Kt(this,nb,t)}ngOnInit(){const t=document.querySelector("search-page-header");null!=t&&(this.top=`${t.offsetHeight}px`)}onModelChange(t){nt(this,nb).raise(new pw(t))}}tf.\u0275fac=function(t){return new(t||tf)(Ve(Fr),Ve(eo))},tf.\u0275cmp=bn({type:tf,selectors:[["search"]],standalone:!0,features:[er],decls:4,vars:6,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10",3,"ngStyle"],[3,"model","modelChange"],["inp",""]],template:function(t,e){1&t&&(xt(0,"form",0)(1,"input-text",1,2),Mn("modelChange",function(i){return e.onModelChange(i)}),pr(3,"async"),Ft()()),2&t&&(bt("ngStyle",Mo(4,k6,e.top)),St(1),bt("model",gr(3,2,e.controller.subreddit_query$).request))},dependencies:[or,Dc,Is,ef,to,Ci,Ra,Zo,ai],changeDetection:0});class nf{}nf.\u0275fac=function(t){return new(t||nf)},nf.\u0275cmp=bn({type:nf,selectors:[["forbidden"]],decls:4,vars:0,consts:[["color","warn"]],template:function(t,e){1&t&&(xt(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span"),Ln(3,"You are not authorized."),Ft()()())},dependencies:[bE,EE],encapsulation:2});class Pu{}Pu.\u0275fac=function(t){return new(t||Pu)},Pu.\u0275mod=Qn({type:Pu}),Pu.\u0275inj=dn({imports:[Zo,ai.forChild([{path:"forbidden",component:nf}])]});const U6=["*"],K6=new Ut("MAT_CARD_CONFIG");let VP=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(Ve(K6,8))},n.\u0275cmp=bn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,r){2&e&&yr("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:U6,decls:1,vars:0,template:function(e,r){1&e&&(Yi(),tr(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),HP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Qn({type:n}),n.\u0275inj=dn({imports:[Kr,or,Kr]}),n})();class rf{constructor(t){this.eventManagerService=t}ngOnInit(){this.eventManagerService.raise(ns)}}rf.\u0275fac=function(t){return new(t||rf)(Ve(Fr))},rf.\u0275cmp=bn({type:rf,selectors:[["server-error"]],standalone:!0,features:[er],decls:4,vars:0,consts:[["color","warn"],["appearance","outlined"]],template:function(t,e){1&t&&(xt(0,"mat-toolbar",0),Ln(1,"Error"),Ft(),xt(2,"mat-card",1),Ln(3,"We are currently experiencing technical difficulties. We apologize for the delay. Please try your request again later."),Ft())},dependencies:[HP,VP,Zo,bE],encapsulation:2});class Ou{}function o5(n,t){1&n&&(xt(0,"mat-toolbar-row")(1,"span"),Ln(2,"You are not authorized."),Ft()())}function a5(n,t){1&n&&(xt(0,"mat-toolbar-row")(1,"span"),Ln(2,"Not found."),Ft()())}function s5(n,t){if(1&n&&(xt(0,"mat-toolbar-row")(1,"span",4),Ln(2),Ft()()),2&n){const e=t.$implicit;St(2),yi(e)}}function l5(n,t){if(1&n&&(xt(0,"mat-toolbar",1),zt(1,o5,3,0,"mat-toolbar-row",2),zt(2,a5,3,0,"mat-toolbar-row",2),zt(3,s5,3,1,"mat-toolbar-row",3),Ft()),2&n){const e=Qt();St(1),bt("ngIf",null==e._errors.general?null:e._errors.general.forbidden),St(1),bt("ngIf",null==e._errors.general?null:e._errors.general.notFound),St(1),bt("ngForOf",null==e._errors.general?null:e._errors.general.default)}}Ou.\u0275fac=function(t){return new(t||Ou)},Ou.\u0275mod=Qn({type:Ou}),Ou.\u0275inj=dn({imports:[or,ai.forChild([{path:"error",component:rf}]),HP,Zo]});class Js{set errors(t){this._errors=t instanceof Error?qo.CreateErrorResult(`${t.message} `).errors:"string"!=typeof t&&"number"!=typeof t?t:qo.CreateErrorResult(`${t} `).errors}}Js.\u0275fac=function(t){return new(t||Js)},Js.\u0275cmp=bn({type:Js,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[er],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(t,e){1&t&&zt(0,l5,4,3,"mat-toolbar",0),2&t&&bt("ngIf",null==e._errors?null:e._errors.general)},dependencies:[or,za,jr,Zo,bE,EE],styles:["[_nghost-%COMP%]{width:100%}"]});const u5=function(n){return{item:n,subreddit:"",hide_stickied:!1,show_comments:!1}};function c5(n,t){if(1&n&&Jt(0,"post",6),2&n){const e=Qt().ngIf;bt("data",Mo(1,u5,e.post))}}function d5(n,t){1&n&&Jt(0,"post-comment",6),2&n&&bt("data",t.$implicit)}function f5(n,t){if(1&n&&(xt(0,"div",3),zt(1,c5,1,3,"post",4),zt(2,d5,1,1,"post-comment",5),Ft()),2&n){const e=t.ngIf,r=Qt(2);St(1),bt("ngIf",e.post),St(1),bt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function h5(n,t){if(1&n&&(Uo(0),Jt(1,"post-comment-list-header")(2,"general-error",1),pr(3,"async"),zt(4,f5,3,3,"div",2),pr(5,"async"),jo()),2&n){const e=Qt();St(2),bt("errors",gr(3,2,e.controller.errors$)),St(2),bt("ngIf",gr(5,4,e.controller.post_comments$))}}var Tp=new WeakMap,Sp=new WeakMap,ea=new WeakMap,WP=new WeakSet,KP=new WeakSet,zP=new WeakSet,GP=new WeakSet;class xu{constructor(t,e,r,i){var o=this;hr(this,GP),hr(this,zP),hr(this,KP),hr(this,WP),ln(this,Tp,{writable:!0,value:void 0}),ln(this,Sp,{writable:!0,value:void 0}),ln(this,ea,{writable:!0,value:void 0}),this.controller=t,Kt(this,ea,{a:"",i:"",so:"best"}),Kt(this,Tp,e),Kt(this,Sp,i),this.vm$=Ke(e.handle(hw).pipe(Kn(u=>nr(this,WP,m5).call(this,u))),e.handle(Id).pipe(Kn(u=>nr(this,KP,p5).call(this,u))),r.paramMap.pipe(Kn(function(){var u=br(function*(h){return yield nr(o,GP,_5).call(o,h)});return function(h){return u.apply(this,arguments)}}())))}trackByFn(t,e){return e.id}go_to_top(){window.scrollTo(0,0)}}function m5(n){nt(this,ea).so=n.sort_requested,nr(this,zP,g5).call(this,!0)}function p5(n){nt(this,Sp).navigate(["r",n.subreddit_requested])}function g5(n=!1){let t=Object.trimUnusedProperties(nt(this,ea));delete t.a,nt(this,Sp).navigate(["comments",nt(this,ea).a,t],{replaceUrl:n})}function _5(n){return rb.apply(this,arguments)}function rb(){return(rb=br(function*(n){try{nt(this,Tp).raise(fd),Kt(this,ea,{a:"",i:"",so:"best"}),rs.fromParamMap(nt(this,ea),n),yield this.controller.actions.listCommentAsync(nt(this,ea).a,nt(this,ea).so,nt(this,ea).i),setTimeout(()=>window.scrollTo(0,0),0)}finally{nt(this,Tp).raise(ns)}})).apply(this,arguments)}xu.\u0275fac=function(t){return new(t||xu)(Ve(eo),Ve(Fr),Ve(Ca),Ve(zr))},xu.\u0275cmp=bn({type:xu,selectors:[["ng-component"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"]],template:function(t,e){1&t&&(zt(0,h5,6,6,"ng-container",0),pr(1,"async")),2&t&&bt("ngIf",gr(1,1,e.vm$))},dependencies:[or,za,jr,Is,Js,to,Ci,Nd,Rd,Ru],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});const v5=function(n,t){return{item:n,subreddit:t,hide_stickied:!0,show_comments:!0}};function y5(n,t){if(1&n&&Jt(0,"post",9),2&n){const e=t.$implicit,r=Qt().ngIf;bt("id",e.id)("data",D_(2,v5,e,r.subreddit))}}function E5(n,t){if(1&n){const e=wr();xt(0,"div",3),zt(1,y5,1,5,"post",4),xt(2,"div",5)(3,"button",6),Mn("click",function(){const o=lr(e).ngIf;return ur(Qt(2).next_page(o.after,o.modhash))}),Ln(4,"Next"),Ft(),xt(5,"button",7),Mn("click",function(){return lr(e),ur(Qt(2).go_to_top())}),Jt(6,"mat-icon",8),Ft()()()}if(2&n){const e=t.ngIf,r=Qt(2);St(1),bt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function b5(n,t){if(1&n&&(Uo(0),Jt(1,"post-list-header")(2,"general-error",1),pr(3,"async"),zt(4,E5,7,2,"div",2),pr(5,"async"),jo()),2&n){const e=Qt();St(2),bt("errors",gr(3,2,e.controller.errors$)),St(2),bt("ngIf",gr(5,4,e.controller.posts$))}}var Cp=new WeakMap,Mp=new WeakMap,af=new WeakMap,Mr=new WeakMap,YP=new WeakSet,$P=new WeakSet,XP=new WeakSet,qP=new WeakSet,sf=new WeakSet,QP=new WeakSet;class lf{constructor(t,e,r,i,o){var u=this;hr(this,QP),hr(this,sf),hr(this,qP),hr(this,XP),hr(this,$P),hr(this,YP),ln(this,Cp,{writable:!0,value:void 0}),ln(this,Mp,{writable:!0,value:void 0}),ln(this,af,{writable:!0,value:void 0}),ln(this,Mr,{writable:!0,value:void 0}),this.controller=t,Kt(this,Mr,{a:"",m:"",so:"hot",su:""}),this.id="",Kt(this,Cp,e),Kt(this,Mp,i),Kt(this,af,o),this.vm$=Ke(e.handle(fw).pipe(Kn(h=>nr(this,YP,T5).call(this))),e.handle(mw).pipe(Kn(h=>nr(this,$P,S5).call(this,h))),e.handle(Id).pipe(Kn(h=>nr(this,XP,C5).call(this,h))),e.handle(gw).pipe(Kn(h=>nr(this,qP,M5).call(this,h))),r.paramMap.pipe(Kn(function(){var h=br(function*(C){return yield nr(u,QP,D5).call(u,C)});return function(C){return h.apply(this,arguments)}}())))}trackByFn(t,e){return`${e.id}${e.subreddit_subscribed}`}next_page(t,e){nt(this,Mr).a=t,nt(this,Mr).m=e,this.go_to_top(),setTimeout(()=>{nt(this,af).save(),nr(this,sf,Dp).call(this)},0)}go_to_top(){window.scrollTo(0,0)}}function T5(){nt(this,Mr).a="",nt(this,Mr).m="",nt(this,Mr).so="hot",nt(this,Mr).su="frontpage",nr(this,sf,Dp).call(this)}function S5(n){nt(this,Mr).a="",nt(this,Mr).m="",nt(this,Mr).so=n.sort_requested,nr(this,sf,Dp).call(this)}function C5(n){nt(this,Mr).a="",nt(this,Mr).m="",nt(this,Mr).su=n.subreddit_requested,nr(this,sf,Dp).call(this)}function M5(n){this.id=n.article,nt(this,af).save("post",n.article),nt(this,Mp).navigate(["comments",n.article])}function Dp(){let n=Object.trimUnusedProperties(nt(this,Mr));delete n.su,nt(this,Mp).navigate(["r",nt(this,Mr).su,n])}function D5(n){return ib.apply(this,arguments)}function ib(){return(ib=br(function*(n){nt(this,Cp).raise(fd),Kt(this,Mr,{a:"",m:"",so:"hot",su:""}),rs.fromParamMap(nt(this,Mr),n),yield this.controller.actions.listPostAsync(nt(this,Mr).a,nt(this,Mr).m,nt(this,Mr).so,nt(this,Mr).su),nt(this,af).restore(),nt(this,Cp).raise(ns)})).apply(this,arguments)}function A5(n,t){if(1&n&&Jt(0,"search-result",5),2&n){const e=t.$implicit;bt("id",e.display_name)("data",e)}}function I5(n,t){if(1&n&&(xt(0,"div",3),zt(1,A5,1,2,"search-result",4),Ft()),2&n){const e=t.ngIf,r=Qt(2);St(1),bt("ngForOf",e.result)("ngForTrackBy",r.trackByFn)}}function R5(n,t){if(1&n&&(Uo(0),Jt(1,"search-page-header")(2,"general-error",1),pr(3,"async"),Jt(4,"search"),zt(5,I5,2,2,"div",2),pr(6,"async"),jo()),2&n){const e=Qt();St(2),bt("errors",gr(3,2,e.controller.errors$)),St(3),bt("ngIf",gr(6,4,e.controller.subreddit_query$))}}lf.\u0275fac=function(t){return new(t||lf)(Ve(eo),Ve(Fr),Ve(Ca),Ve(zr),Ve(Ia))},lf.\u0275cmp=bn({type:lf,selectors:[["ng-component"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],["mat-raised-button","",3,"click"],["svgIcon","arrow_upward"],[1,"mat-elevation-z5",3,"id","data"]],template:function(t,e){1&t&&(zt(0,b5,6,6,"ng-container",0),pr(1,"async")),2&t&&bt("ngIf",gr(1,1,e.vm$))},dependencies:[or,za,jr,Is,Js,Ld,to,Cu,Ci,Ro,Ru],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});var Ap=new WeakMap,Ip=new WeakMap,Rp=new WeakMap,ZP=new WeakSet,JP=new WeakSet,eO=new WeakSet,tO=new WeakSet;class uf{constructor(t,e,r,i,o){var u=this;hr(this,tO),hr(this,eO),hr(this,JP),hr(this,ZP),ln(this,Ap,{writable:!0,value:void 0}),ln(this,Ip,{writable:!0,value:void 0}),ln(this,Rp,{writable:!0,value:void 0}),this.controller=r,this.state={q:""},Kt(this,Ap,e),Kt(this,Ip,i),Kt(this,Rp,o),this.vm$=Ke(e.handle(pw).pipe(Kn(h=>nr(this,ZP,w5).call(this,h.search))),e.handle(Id).pipe(Kn(h=>nr(this,JP,P5).call(this,h))),t.paramMap.pipe(Kn(function(){var h=br(function*(C){return yield nr(u,tO,x5).call(u,C)});return function(C){return h.apply(this,arguments)}}())))}trackByFn(t,e){return e.display_name}}function w5(n){const t=String.isNullOrWhitespace(this.state.q);this.state.q=n,nr(this,eO,O5).call(this,t)}function P5(n){nt(this,Rp).save("search-result",n.subreddit_requested),nt(this,Ip).navigate(["r",n.subreddit_requested])}function O5(n){let t=Object.trimUnusedProperties(this.state);nt(this,Ip).navigate(["s",t],{replaceUrl:n})}function x5(n){return ob.apply(this,arguments)}function ob(){return(ob=br(function*(n){String.hasData(this.state.q)&&nt(this,Ap).raise(fd),rs.fromParamMap(this.state,n),yield this.controller.actions.searchAsync(this.state.q),String.hasData(this.state.q)&&(nt(this,Rp).restore(),nt(this,Ap).raise(ns))})).apply(this,arguments)}uf.\u0275fac=function(t){return new(t||uf)(Ve(Ca),Ve(Fr),Ve(eo),Ve(zr),Ve(Ia))},uf.\u0275cmp=bn({type:uf,selectors:[["ng-component"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(t,e){1&t&&(zt(0,R5,7,6,"ng-container",0),pr(1,"async")),2&t&&bt("ngIf",gr(1,1,e.vm$))},dependencies:[or,za,jr,Is,Js,to,Yd,tf,$d],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0});const N5=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:lf},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a/:i",component:xu},{path:"comments/:a",component:xu},{path:"s",component:uf}];(function K2(n,t){return Rk({rootComponent:n,..._A(t)})})(Sd,{providers:[{provide:Tc,useFactory:function L5(n,t){return()=>n.addSvgIcon("arrow_downward",t.bypassSecurityTrustResourceUrl("assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("arrow_upward",t.bypassSecurityTrustResourceUrl("assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("clear",t.bypassSecurityTrustResourceUrl("assets/cancel_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("comment",t.bypassSecurityTrustResourceUrl("assets/comment_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("edit",t.bypassSecurityTrustResourceUrl("assets/edit_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("expand_more",t.bypassSecurityTrustResourceUrl("assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite_filled",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL1_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("fullscreen",t.bypassSecurityTrustResourceUrl("assets/fullscreen_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("go_back",t.bypassSecurityTrustResourceUrl("assets/arrow_back_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("groups",t.bypassSecurityTrustResourceUrl("assets/groups_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("home",t.bypassSecurityTrustResourceUrl("assets/home_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_horiz",t.bypassSecurityTrustResourceUrl("assets/more_horiz_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_vert",t.bypassSecurityTrustResourceUrl("assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("pause",t.bypassSecurityTrustResourceUrl("assets/pause_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("person",t.bypassSecurityTrustResourceUrl("assets/person_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("photo_library",t.bypassSecurityTrustResourceUrl("assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("play_arrow",t.bypassSecurityTrustResourceUrl("assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("push_pin",t.bypassSecurityTrustResourceUrl("assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("search",t.bypassSecurityTrustResourceUrl("assets/search_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("share",t.bypassSecurityTrustResourceUrl("assets/share_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("sort",t.bypassSecurityTrustResourceUrl("assets/sort_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("stop",t.bypassSecurityTrustResourceUrl("assets/stop_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("subscriptions",t.bypassSecurityTrustResourceUrl("assets/subscriptions_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_mute",t.bypassSecurityTrustResourceUrl("assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_off",t.bypassSecurityTrustResourceUrl("assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"))},multi:!0,deps:[Kc,Ea]},{provide:TH,useValue:{duration:3e3}},function SK(){return[...bK]}(),function NG(n,...t){return rS([{provide:fu,multi:!0,useValue:n},[],{provide:Ca,useFactory:vR,deps:[zr]},{provide:j_,multi:!0,useFactory:yR},t.map(e=>e.\u0275providers)])}(N5),iS(Da.forRoot({corsConfig:{use:!1,url:""},storageConfig:{keyPrefix:"RedditReader"}}),Pu,Ou)]}).catch(n=>console.error(n))},377:Na=>{window,Na.exports=function(Ie){var k={};function m(M){if(k[M])return k[M].exports;var T=k[M]={i:M,l:!1,exports:{}};return Ie[M].call(T.exports,T,T.exports,m),T.l=!0,T.exports}return m.m=Ie,m.c=k,m.d=function(M,T,I){m.o(M,T)||Object.defineProperty(M,T,{enumerable:!0,get:I})},m.r=function(M){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})},m.t=function(M,T){if(1&T&&(M=m(M)),8&T||4&T&&"object"==typeof M&&M&&M.__esModule)return M;var I=Object.create(null);if(m.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:M}),2&T&&"string"!=typeof M)for(var w in M)m.d(I,w,function(P){return M[P]}.bind(null,w));return I},m.n=function(M){var T=M&&M.__esModule?function(){return M.default}:function(){return M};return m.d(T,"a",T),T},m.o=function(M,T){return Object.prototype.hasOwnProperty.call(M,T)},m.p="/dist/",m(m.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(Ie,k,m){var I,w,P,R,D,M_encode=function(I){for(var w=[],P=0;P<I.length;++P){var R=I.charCodeAt(P);R<128?w.push(R):R<2048?(w.push(192|R>>6),w.push(128|63&R)):R<65536?(w.push(224|R>>12),w.push(128|63&R>>6),w.push(128|63&R)):(w.push(240|R>>18),w.push(128|63&R>>12),w.push(128|63&R>>6),w.push(128|63&R))}return w},M_decode=function(I){for(var w=[],P=0;P<I.length;){var R=I[P++];R<128||(R<224?(R=(31&R)<<6,R|=63&I[P++]):R<240?(R=(15&R)<<12,R|=(63&I[P++])<<6,R|=63&I[P++]):(R=(7&R)<<18,R|=(63&I[P++])<<12,R|=(63&I[P++])<<6,R|=63&I[P++])),w.push(String.fromCharCode(R))}return w.join("")},T={};I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=function(l){for(var d=0,f=[],_=0|l.length/3;0<_--;){var N=(l[d]<<16)+(l[d+1]<<8)+l[d+2];d+=3,f.push(I.charAt(63&N>>18)),f.push(I.charAt(63&N>>12)),f.push(I.charAt(63&N>>6)),f.push(I.charAt(63&N))}return l.length-d==2?(f.push(I.charAt(63&(N=(l[d]<<16)+(l[d+1]<<8))>>18)),f.push(I.charAt(63&N>>12)),f.push(I.charAt(63&N>>6)),f.push("=")):l.length-d==1&&(f.push(I.charAt(63&(N=l[d]<<16)>>18)),f.push(I.charAt(63&N>>12)),f.push("==")),f.join("")},P=function(){for(var c=[],l=0;l<I.length;++l)c[I.charCodeAt(l)]=l;return c["=".charCodeAt(0)]=0,c}(),R=function(l){for(var d=0,f=[],_=0|l.length/4;0<_--;){var N=(P[l.charCodeAt(d)]<<18)+(P[l.charCodeAt(d+1)]<<12)+(P[l.charCodeAt(d+2)]<<6)+P[l.charCodeAt(d+3)];f.push(255&N>>16),f.push(255&N>>8),f.push(255&N),d+=4}return f&&("="==l.charAt(d-2)?(f.pop(),f.pop()):"="==l.charAt(d-1)&&f.pop()),f},D={encode:function(c){for(var l=[],d=0;d<c.length;++d)l.push(c.charCodeAt(d));return l},decode:function(c){for(var l=0;l<s.length;++l)a[l]=String.fromCharCode(a[l]);return a.join("")}},T.decodeArray=function(c){var l=R(c);return new Uint8Array(l)},T.encodeASCII=function(c){var l=D.encode(c);return w(l)},T.decodeASCII=function(c){var l=R(c);return D.decode(l)},T.encode=function(c){var l=M_encode(c);return w(l)},T.decode=function(c){var l=R(c);return M_decode(l)},k.decode=T.decode,k.decodeArray=T.decodeArray,k.encode=T.encode,k.encodeASCII=T.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(Ie,k,m){!function(M){"use strict";var T={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},I=function(E){var L=E;return T.hasOwnProperty(E)&&(L=T[E]),String.fromCharCode(L)},w=15,P=32,R={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},D={17:2,18:4,21:6,22:8,23:10,19:13,20:15},c={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(E){this.time=E},log:function(E,L){this.verboseLevel>=this.verboseFilter[E]&&console.log(this.time+" ["+E+"] "+L)}},_=function(E){for(var L=[],K=0;K<E.length;K++)L.push(E[K].toString(16));return L},N=function(E,L,K,ee,Z){this.foreground=E||"white",this.underline=L||!1,this.italics=K||!1,this.background=ee||"black",this.flash=Z||!1};N.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(E){for(var L=["foreground","underline","italics","background","flash"],K=0;K<L.length;K++){var ee=L[K];E.hasOwnProperty(ee)&&(this[ee]=E[ee])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(E){return this.foreground===E.foreground&&this.underline===E.underline&&this.italics===E.italics&&this.background===E.background&&this.flash===E.flash},copy:function(E){this.foreground=E.foreground,this.underline=E.underline,this.italics=E.italics,this.background=E.background,this.flash=E.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var S=function(E,L,K,ee,Z,le){this.uchar=E||" ",this.penState=new N(L,K,ee,Z,le)};S.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(E,L){this.uchar=E,this.penState.copy(L)},setPenState:function(E){this.penState.copy(E)},equals:function(E){return this.uchar===E.uchar&&this.penState.equals(E.penState)},copy:function(E){this.uchar=E.uchar,this.penState.copy(E.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var O=function(){this.chars=[];for(var E=0;E<P;E++)this.chars.push(new S);this.pos=0,this.currPenState=new N};O.prototype={equals:function(E){for(var L=!0,K=0;K<P;K++)if(!this.chars[K].equals(E.chars[K])){L=!1;break}return L},copy:function(E){for(var L=0;L<P;L++)this.chars[L].copy(E.chars[L])},isEmpty:function(){for(var E=!0,L=0;L<P;L++)if(!this.chars[L].isEmpty()){E=!1;break}return E},setCursor:function(E){this.pos!==E&&(this.pos=E),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>P&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=P)},moveCursor:function(E){var L=this.pos+E;if(E>1)for(var K=this.pos+1;K<L+1;K++)this.chars[K].setPenState(this.currPenState);this.setCursor(L)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(E){E>=144&&this.backSpace();var L=I(E);this.pos>=P?f.log("ERROR","Cannot insert "+E.toString(16)+" ("+L+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(L,this.currPenState),this.moveCursor(1))},clearFromPos:function(E){var L;for(L=E;L<P;L++)this.chars[L].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var E=[],L=!0,K=0;K<P;K++){var ee=this.chars[K].uchar;" "!==ee&&(L=!1),E.push(ee)}return L?"":E.join("")},setPenStyles:function(E){this.currPenState.setStyles(E),this.chars[this.pos].setPenState(this.currPenState)}};var b=function(){this.rows=[];for(var E=0;E<w;E++)this.rows.push(new O);this.currRow=14,this.nrRollUpRows=null,this.reset()};b.prototype={reset:function(){for(var E=0;E<w;E++)this.rows[E].clear();this.currRow=14},equals:function(E){for(var L=!0,K=0;K<w;K++)if(!this.rows[K].equals(E.rows[K])){L=!1;break}return L},copy:function(E){for(var L=0;L<w;L++)this.rows[L].copy(E.rows[L])},isEmpty:function(){for(var E=!0,L=0;L<w;L++)if(!this.rows[L].isEmpty()){E=!1;break}return E},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(E){this.rows[this.currRow].insertChar(E)},setPen:function(E){this.rows[this.currRow].setPenStyles(E)},moveCursor:function(E){this.rows[this.currRow].moveCursor(E)},setCursor:function(E){f.log("INFO","setCursor: "+E),this.rows[this.currRow].setCursor(E)},setPAC:function(E){f.log("INFO","pacData = "+JSON.stringify(E));var L=E.row-1;this.nrRollUpRows&&L<this.nrRollUpRows-1&&(L=this.nrRollUpRows-1),this.currRow=L;var K=this.rows[this.currRow];if(null!==E.indent){var Z=Math.max(E.indent-1,0);K.setCursor(E.indent),E.color=K.chars[Z].penState.foreground}this.setPen({foreground:E.color,underline:E.underline,italics:E.italics,background:"black",flash:!1})},setBkgData:function(E){f.log("INFO","bkgData = "+JSON.stringify(E)),this.backSpace(),this.setPen(E),this.insertChar(32)},setRollUpRows:function(E){this.nrRollUpRows=E},rollUp:function(){if(null!==this.nrRollUpRows){f.log("TEXT",this.getDisplayText());var L=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];L.clear(),this.rows.splice(this.currRow,0,L),f.log("INFO","Rolling up")}else f.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(E){E=E||!1;for(var L=[],K="",Z=0;Z<w;Z++){var le=this.rows[Z].getTextString();le&&L.push(E?"Row "+(Z+1)+': "'+le+'"':le.trim())}return L.length>0&&(K=E?"["+L.join(" | ")+"]":L.join("\n")),K},getTextAndFormat:function(){return this.rows}};var v=function(E,L){this.chNr=E,this.outputFilter=L,this.mode=null,this.verbose=0,this.displayedMemory=new b,this.nonDisplayedMemory=new b,this.lastOutputScreen=new b,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};v.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(E){this.outputFilter=E},setPAC:function(E){this.writeScreen.setPAC(E)},setBkgData:function(E){this.writeScreen.setBkgData(E)},setMode:function(E){E!==this.mode&&(this.mode=E,f.log("INFO","MODE="+E),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=E)},insertChars:function(E){for(var L=0;L<E.length;L++)this.writeScreen.insertChar(E[L]);f.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(E){f.log("INFO","RU("+E+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(E)},cc_FON:function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var E=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=E,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(E){f.log("INFO","TO("+E+") - Tab Offset"),this.writeScreen.moveCursor(E)},cc_MIDROW:function(E){var L={flash:!1};if(L.underline=E%2==1,L.italics=E>=46,L.italics)L.foreground="white";else{var K=Math.floor(E/2)-16;L.foreground=["white","green","blue","cyan","red","yellow","magenta"][K]}f.log("INFO","MIDROW: "+JSON.stringify(L)),this.writeScreen.setPen(L)},outputDataUpdate:function(){var E=f.time;null!==E&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(E,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,E,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:E):this.cueStartTime=E,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(E){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,E,this.displayedMemory),this.cueStartTime=E))}};var p=function(E,L,K){this.field=E||1,this.outputs=[L,K],this.channels=[new v(1,L),new v(2,K)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};p.prototype={getHandler:function(E){return this.channels[E].getHandler()},setHandler:function(E,L){this.channels[E].setHandler(L)},addData:function(E,L){var K,ee,Z,le=!1;this.lastTime=E,f.setTime(E);for(var H=0;H<L.length;H+=2)Z=127&L[H+1],(ee=127&L[H])>=16&&ee<=31&&ee===this.lastCmdA&&Z===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+_([ee,Z])+") is dropped")):0!==ee||0!==Z?(f.log("DATA","["+_([L[H],L[H+1]])+"] -> ("+_([ee,Z])+")"),(K=this.parseCmd(ee,Z))||(K=this.parseMidrow(ee,Z)),K||(K=this.parsePAC(ee,Z)),K||(K=this.parseBackgroundAttributes(ee,Z)),!K&&(le=this.parseChars(ee,Z))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(le):f.log("WARNING","No channel found yet. TEXT-MODE?")),K?this.dataCounters.cmd+=2:le?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+_([ee,Z])+" orig: "+_([L[H],L[H+1]])))):this.dataCounters.padding+=2},parseCmd:function(E,L){var K;if(!((20===E||21===E||28===E||29===E)&&32<=L&&L<=47||(23===E||31===E)&&33<=L&&L<=35))return!1;var le=this.channels[(K=20===E||21===E||23===E?1:2)-1];return 20===E||21===E||28===E||29===E?32===L?le.cc_RCL():33===L?le.cc_BS():34===L?le.cc_AOF():35===L?le.cc_AON():36===L?le.cc_DER():37===L?le.cc_RU(2):38===L?le.cc_RU(3):39===L?le.cc_RU(4):40===L?le.cc_FON():41===L?le.cc_RDC():42===L?le.cc_TR():43===L?le.cc_RTD():44===L?le.cc_EDM():45===L?le.cc_CR():46===L?le.cc_ENM():47===L&&le.cc_EOC():le.cc_TO(L-32),this.lastCmdA=E,this.lastCmdB=L,this.currChNr=K,!0},parseMidrow:function(E,L){var K=null;if((17===E||25===E)&&32<=L&&L<=47){if((K=17===E?1:2)!==this.currChNr)return f.log("ERROR","Mismatch channel in midrow parsing"),!1;var ee=this.channels[K-1];return ee.insertChars([32]),ee.cc_MIDROW(L),f.log("DEBUG","MIDROW ("+_([E,L])+")"),this.lastCmdA=E,this.lastCmdB=L,!0}return!1},parsePAC:function(E,L){var K;if(!((17<=E&&E<=23||25<=E&&E<=31)&&64<=L&&L<=127||(16===E||24===E)&&64<=L&&L<=95))return!1;K=E<=23?1:2;var H=this.interpretPAC(64<=L&&L<=95?1===K?R[E]:c[E]:1===K?D[E]:l[E],L);return this.channels[K-1].setPAC(H),this.lastCmdA=E,this.lastCmdB=L,this.currChNr=K,!0},interpretPAC:function(E,L){var K,ee={color:null,italics:!1,indent:null,underline:!1,row:E};return ee.underline=1==(1&(K=L>95?L-96:L-64)),K<=13?ee.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(K/2)]:K<=15?(ee.italics=!0,ee.color="white"):ee.indent=4*Math.floor((K-16)/2),ee},parseChars:function(E,L){var K=null,ee=null,Z=null;if(E>=25?(K=2,Z=E-8):(K=1,Z=E),17<=Z&&Z<=19){var H;f.log("INFO","Special char '"+I(H=17===Z?L+80:18===Z?L+112:L+144)+"' in channel "+K),ee=[H],this.lastCmdA=E,this.lastCmdB=L}else 32<=E&&E<=127&&(ee=0===L?[E]:[E,L],this.lastCmdA=null,this.lastCmdB=null);if(ee){var W=_(ee);f.log("DEBUG","Char codes =  "+W.join(","))}return ee},parseBackgroundAttributes:function(E,L){var K,ee;return!!((16===E||24===E)&&32<=L&&L<=47||(23===E||31===E)&&45<=L&&L<=47)&&(K={},16===E||24===E?(ee=Math.floor((L-32)/2),K.background=d[ee],L%2==1&&(K.background=K.background+"_semi")):45===L?K.background="transparent":(K.foreground="black",47===L&&(K.underline=!0)),this.channels[(E<24?1:2)-1].setBkgData(K),this.lastCmdA=E,this.lastCmdB=L,!0)},reset:function(){for(var E=0;E<this.channels.length;E++)this.channels[E]&&this.channels[E].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(E){for(var L=0;L<this.channels.length;L++)this.channels[L]&&this.channels[L].cueSplitAtTime(E)}};M.logger=f,M.PenState=N,M.CaptionScreen=b,M.Cea608Parser=p,M.findCea608Nalus=function(E,L,K){for(var ee=0,Z=L,H=[],W=function(ye,J,de,ae){if(4!==ye||J<8)return null;var pe=de.getUint8(ae),he=de.getUint16(ae+1),fe=de.getUint32(ae+3),ve=de.getUint8(ae+7);return 181==pe&&49==he&&1195456820==fe&&3==ve};Z<L+K;){if(ee=E.getUint32(Z),6==(31&E.getUint8(Z+4)))for(var x=Z+5,Y=-1;x<Z+4+ee-1;){Y=0;for(var G=255;255===G;)Y+=G=E.getUint8(x),x++;var ie=0;for(G=255;255===G;)ie+=G=E.getUint8(x),x++;W(Y,ie,E,x)&&H.push([x,ie]),x+=ie}Z+=ee+4}return H},M.extractCea608DataFromRange=function(E,L){var K=L[0],ee=[[],[]],Z=31&E.getUint8(K+=8);K+=2;for(var le=0;le<Z;le++){var H=E.getUint8(K),W=4&H,x=3&H;K++;var Y=E.getUint8(K);K++;var G=E.getUint8(K);K++,W&&(127&Y)+(127&G)!=0&&(0===x?(ee[0].push(Y),ee[0].push(G)):1===x&&(ee[1].push(Y),ee[1].push(G)))}return ee}}(k)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k),k.default=function M(T){T=T||{},function w(){void 0===T.escapeMode&&(T.escapeMode=!0),void 0===T.attributePrefix&&(T.attributePrefix="_"),T.arrayAccessForm=T.arrayAccessForm||"none",T.emptyNodeForm=T.emptyNodeForm||"text",void 0===T.enableToStringFunc&&(T.enableToStringFunc=!0),T.arrayAccessFormPaths=T.arrayAccessFormPaths||[],void 0===T.skipEmptyTextNodesForObj&&(T.skipEmptyTextNodesForObj=!0),void 0===T.stripWhitespaces&&(T.stripWhitespaces=!0),T.datetimeAccessFormPaths=T.datetimeAccessFormPaths||[],void 0===T.useDoubleQuotes&&(T.useDoubleQuotes=!1),T.xmlElementsFilter=T.xmlElementsFilter||[],T.jsonPropertiesFilter=T.jsonPropertiesFilter||[],void 0===T.keepCData&&(T.keepCData=!1),void 0===T.ignoreRoot&&(T.ignoreRoot=!1)}();var P_ELEMENT_NODE=1,P_TEXT_NODE=3,P_CDATA_SECTION_NODE=4,P_COMMENT_NODE=8,P_DOCUMENT_NODE=9;function D(W){var x=W.localName;return null==x&&(x=W.baseName),(null==x||""==x)&&(x=W.nodeName),x}function l(W){return"string"==typeof W?W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):W}function f(W,x,Y,G){for(var ie=0;ie<W.length;ie++){var oe=W[ie];if("string"==typeof oe){if(oe==G)break}else if(oe instanceof RegExp){if(oe.test(G))break}else if("function"==typeof oe&&oe(x,Y,G))break}return ie!=W.length}function _(W,x,Y){"property"===T.arrayAccessForm&&(W[x+"_asArray"]=W[x]instanceof Array?W[x]:[W[x]]),!(W[x]instanceof Array)&&T.arrayAccessFormPaths.length>0&&f(T.arrayAccessFormPaths,W,x,Y)&&(W[x]=[W[x]])}function N(W){var x=W.split(/[-T:+Z]/g),Y=new Date(x[0],x[1]-1,x[2]),G=x[5].split(".");if(Y.setHours(x[3],x[4],G[0]),G.length>1&&Y.setMilliseconds(G[1]),x[6]&&x[7]){var ie=60*x[6]+Number(x[7]);ie=0+("-"==(/\d\d-\d\d:\d\d$/.test(W)?"-":"+")?-1*ie:ie),Y.setMinutes(Y.getMinutes()-ie-Y.getTimezoneOffset())}else-1!==W.indexOf("Z",W.length-1)&&(Y=new Date(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate(),Y.getHours(),Y.getMinutes(),Y.getSeconds(),Y.getMilliseconds())));return Y}function O(W,x,Y,G){return!(x==P_ELEMENT_NODE&&T.xmlElementsFilter.length>0)||f(T.xmlElementsFilter,W,Y,G)}function b(W,x){if(W.nodeType==P_DOCUMENT_NODE){for(var Y=new Object,G=W.childNodes,ie=0;ie<G.length;ie++)(oe=G[ie]).nodeType==P_ELEMENT_NODE&&(T.ignoreRoot?Y=b(oe):(Y={})[ye=D(oe)]=b(oe));return Y}if(W.nodeType==P_ELEMENT_NODE){(Y=new Object).__cnt=0;var J=[];for(G=W.childNodes,ie=0;ie<G.length;ie++){var oe,ye=D(oe=G[ie]);if(oe.nodeType!=P_COMMENT_NODE){var de=x+"."+ye;if(O(Y,oe.nodeType,ye,de))if(Y.__cnt++,null==Y[ye]){var ae=b(oe,de);("#text"!=ye||/[^\s]/.test(ae))&&((pe={})[ye]=ae,J.push(pe)),Y[ye]=ae,_(Y,ye,de)}else{var pe;null!=Y[ye]&&(Y[ye]instanceof Array||(Y[ye]=[Y[ye]],_(Y,ye,de))),ae=b(oe,de),("#text"!=ye||/[^\s]/.test(ae))&&((pe={})[ye]=ae,J.push(pe)),Y[ye][Y[ye].length]=ae}}}Y.__children=J;for(var he=D(W),fe=0;fe<W.attributes.length;fe++){var ve=W.attributes[fe];Y.__cnt++;for(var se=ve.value,Se=0,_e=T.matchers.length;Se<_e;Se++){var ne=T.matchers[Se];ne.test(ve,he)&&(se=ne.converter(ve.value))}Y[T.attributePrefix+ve.name]=se}var X=function c(W){return W.prefix}(W);return null!=X&&""!=X&&(Y.__cnt++,Y.__prefix=X),null!=Y["#text"]&&(Y.__text=Y["#text"],Y.__text instanceof Array&&(Y.__text=Y.__text.join("\n")),T.stripWhitespaces&&(Y.__text=Y.__text.trim()),delete Y["#text"],"property"==T.arrayAccessForm&&delete Y["#text_asArray"],Y.__text=function S(W,x,Y){if(T.datetimeAccessFormPaths.length>0){var G=Y.split(".#")[0];return f(T.datetimeAccessFormPaths,W,x,G)?N(W):W}return W}(Y.__text,ye,x+"."+ye)),null!=Y["#cdata-section"]&&(Y.__cdata=Y["#cdata-section"],delete Y["#cdata-section"],"property"==T.arrayAccessForm&&delete Y["#cdata-section_asArray"]),0==Y.__cnt&&"text"==T.emptyNodeForm?Y="":1==Y.__cnt&&null!=Y.__text?Y=Y.__text:1!=Y.__cnt||null==Y.__cdata||T.keepCData?Y.__cnt>1&&null!=Y.__text&&T.skipEmptyTextNodesForObj&&(T.stripWhitespaces&&""==Y.__text||""==Y.__text.trim())&&delete Y.__text:Y=Y.__cdata,delete Y.__cnt,T.enableToStringFunc&&(null!=Y.__text||null!=Y.__cdata)&&(Y.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),Y}if(W.nodeType==P_TEXT_NODE||W.nodeType==P_CDATA_SECTION_NODE)return W.nodeValue}function v(W,x,Y,G){var ie="<"+(null!=W&&null!=W.__prefix?W.__prefix+":":"")+x;if(null!=Y)for(var oe=0;oe<Y.length;oe++){var ye=Y[oe],J=W[ye];T.escapeMode&&(J=l(J)),ie+=" "+ye.substr(T.attributePrefix.length)+"=",ie+=T.useDoubleQuotes?'"'+J+'"':"'"+J+"'"}return ie+(G?"/>":">")}function p(W,x){return"</"+(null!=W.__prefix?W.__prefix+":":"")+x+">"}function g(W,x){return!!("property"==T.arrayAccessForm&&function y(W,x){return-1!==W.indexOf(x,W.length-x.length)}(x.toString(),"_asArray")||0==x.toString().indexOf(T.attributePrefix)||0==x.toString().indexOf("__")||W[x]instanceof Function)}function A(W){var x=0;if(W instanceof Object)for(var Y in W)g(W,Y)||x++;return x}function E(W,x,Y){return 0==T.jsonPropertiesFilter.length||""==Y||f(T.jsonPropertiesFilter,W,x,Y)}function L(W){var x=[];if(W instanceof Object)for(var Y in W)-1==Y.toString().indexOf("__")&&0==Y.toString().indexOf(T.attributePrefix)&&x.push(Y);return x}function ee(W){var x="";return W instanceof Object?x+=function K(W){var x="";return null!=W.__cdata&&(x+="<![CDATA["+W.__cdata+"]]>"),null!=W.__text&&(x+=T.escapeMode?l(W.__text):W.__text),x}(W):null!=W&&(x+=T.escapeMode?l(W):W),x}function Z(W,x){return""===W?x:W+"."+x}function le(W,x,Y,G){var ie="";if(0==W.length)ie+=v(W,x,Y,!0);else for(var oe=0;oe<W.length;oe++)ie+=v(W[oe],x,L(W[oe]),!1),ie+=H(W[oe],Z(G,x)),ie+=p(W[oe],x);return ie}function H(W,x){var Y="";if(A(W)>0)for(var ie in W)if(!g(W,ie)&&(""==x||E(W,ie,Z(x,ie)))){var oe=W[ie],ye=L(oe);null==oe||null==oe?Y+=v(oe,ie,ye,!0):oe instanceof Object?oe instanceof Array?Y+=le(oe,ie,ye,x):oe instanceof Date?(Y+=v(oe,ie,ye,!1),Y+=oe.toISOString(),Y+=p(oe,ie)):A(oe)>0||null!=oe.__text||null!=oe.__cdata?(Y+=v(oe,ie,ye,!1),Y+=H(oe,Z(x,ie)),Y+=p(oe,ie)):Y+=v(oe,ie,ye,!0):(Y+=v(oe,ie,ye,!1),Y+=ee(oe),Y+=p(oe,ie))}return Y+ee(W)}this.parseXmlString=function(W){var Y;if(window.ActiveXObject||window,void 0===W)return null;if(window.DOMParser){var G=new window.DOMParser;try{(Y=G.parseFromString(W,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(Y=null)}catch{Y=null}}else 0==W.indexOf("<?")&&(W=W.substr(W.indexOf("?>")+2)),(Y=new ActiveXObject("Microsoft.XMLDOM")).async="false",Y.loadXML(W);return Y},this.asArray=function(W){return void 0===W||null==W?[]:W instanceof Array?W:[W]},this.toXmlDateTime=function(W){return W instanceof Date?W.toISOString():"number"==typeof W?new Date(W).toISOString():null},this.asDateTime=function(W){return"string"==typeof W?N(W):W},this.xml2json=function(W){return b(W)},this.xml_str2json=function(W){var x=this.parseXmlString(W);return null!=x?this.xml2json(x):null},this.json2xml_str=function(W){return H(W,"")},this.json2xml=function(W){var x=this.json2xml_str(W);return this.parseXmlString(x)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");m.d(k,"MediaPlayer",function(){return M.MediaPlayer});var T=m(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");m.d(k,"supportsMediaSource",function(){return T.supportsMediaSource});var I=m(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");m.d(k,"MetricsReporting",function(){return I.default});var w=m(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");m.d(k,"Protection",function(){return w.default});var P=m(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");m.d(k,"MediaPlayerFactory",function(){return P.default});var R=m(
/*! ./src/core/Debug */
"./src/core/Debug.js");m.d(k,"Debug",function(){return R.default}),dashjs.Protection=w.default,dashjs.MetricsReporting=I.default,dashjs.MediaPlayerFactory=P.default,dashjs.Debug=R.default,dashjs.supportsMediaSource=T.supportsMediaSource,k.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(Ie,k,m){"use strict";m.r(k),function(M){var T=m(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");m.d(k,"MediaPlayer",function(){return T.default});var I=m(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");m.d(k,"FactoryMaker",function(){return I.default});var w=m(
/*! ./src/core/Debug */
"./src/core/Debug.js");m.d(k,"Debug",function(){return w.default});var P=m(
/*! ./src/core/Version */
"./src/core/Version.js"),c=(m(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||M),l=c.dashjs;l||(l=c.dashjs={}),l.MediaPlayer=T.default,l.FactoryMaker=I.default,l.Debug=w.default,l.Version=Object(P.getVersionString)(),k.default=l}.call(this,m(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(Ie,k,m){"use strict";k.byteLength=function c(S){var O=D(S),v=O[1];return 3*(O[0]+v)/4-v},k.toByteArray=function d(S){var O,E,b=D(S),v=b[0],p=b[1],y=new I(function l(S,O,b){return 3*(O+b)/4-b}(0,v,p)),g=0,A=p>0?v-4:v;for(E=0;E<A;E+=4)O=T[S.charCodeAt(E)]<<18|T[S.charCodeAt(E+1)]<<12|T[S.charCodeAt(E+2)]<<6|T[S.charCodeAt(E+3)],y[g++]=O>>16&255,y[g++]=O>>8&255,y[g++]=255&O;return 2===p&&(O=T[S.charCodeAt(E)]<<2|T[S.charCodeAt(E+1)]>>4,y[g++]=255&O),1===p&&(O=T[S.charCodeAt(E)]<<10|T[S.charCodeAt(E+1)]<<4|T[S.charCodeAt(E+2)]>>2,y[g++]=O>>8&255,y[g++]=255&O),y},k.fromByteArray=function N(S){for(var O,b=S.length,v=b%3,p=[],y=16383,g=0,A=b-v;g<A;g+=y)p.push(_(S,g,g+y>A?A:g+y));return 1===v?p.push(M[(O=S[b-1])>>2]+M[O<<4&63]+"=="):2===v&&p.push(M[(O=(S[b-2]<<8)+S[b-1])>>10]+M[O>>4&63]+M[O<<2&63]+"="),p.join("")};for(var M=[],T=[],I=typeof Uint8Array<"u"?Uint8Array:Array,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0,R=w.length;P<R;++P)M[P]=w[P],T[w.charCodeAt(P)]=P;function D(S){var O=S.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=S.indexOf("=");return-1===b&&(b=O),[b,b===O?0:4-b%4]}function f(S){return M[S>>18&63]+M[S>>12&63]+M[S>>6&63]+M[63&S]}function _(S,O,b){for(var p=[],y=O;y<b;y+=3)p.push(f((S[y]<<16&16711680)+(S[y+1]<<8&65280)+(255&S[y+2])));return p.join("")}T["-".charCodeAt(0)]=62,T["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(Ie,k,m){"use strict";function w(R,D){return function c(l,d){for(var O,b,v,f=P(l,"tag"),_=P(d??"*","range"),N=[],S=-1;++S<_.length;)if(O=_[S].toLowerCase(),D||"*"!==O){for(b=-1,v=[];++b<f.length;)if(R(f[b].toLowerCase(),O)){if(!D)return f[b];N.push(f[b])}else v.push(f[b]);f=v}return D?N:void 0}}function P(R,D){var c=R&&"string"==typeof R?[R]:R;if(!c||"object"!=typeof c||!("length"in c))throw new Error("Invalid "+D+" `"+c+"`, expected non-empty string");return c}k.basicFilter=w(function M(R,D){return"*"===D||R===D||R.indexOf(D+"-")>-1},!0),k.extendedFilter=w(function T(R,D){var c=R.split("-"),l=D.split("-"),d=0,f=0;if("*"!==l[f]&&c[d]!==l[f])return!1;for(d++,f++;f<l.length;)if("*"!==l[f]){if(!c[d])return!1;if(c[d]!==l[f]){if(1===c[d].length)return!1;d++}else d++,f++}else f++;return!0},!0),k.lookup=w(function I(R,D){for(var l,c=D;;){if("*"===c||R===c)return!0;if((l=c.lastIndexOf("-"))<0)return!1;"-"===c.charAt(l-2)&&(l-=2),c=c.slice(0,l)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";Ie.exports=m(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(Ie){Ie.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(Ie){Ie.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";var M=m(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),T=m(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),I=m(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),w=m(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),P=m(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),R=m(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");Ie.exports=function d(O,b){var A,v=b||{},p=M.parse(String(O||"").toLowerCase(),v),y=M.stringify(p),g=-1;if(!y)return y;for(;++g<I.length;)T.extendedFilter(y,I[g].from).length&&(f(p,I[g].from,I[g].to),y=M.stringify(p));for(g=-1;++g<w.length;)_(p,w[g].from.field,w[g].from.value)&&N(p,w[g].to.field,w[g].to.value);for(y=M.stringify(Object.assign({},p,l)),g=-1;++g<P.length;)y===P[g]&&(f(p,P[g],P[g].split("-").slice(0,-1).join("-")),y=M.stringify(Object.assign({},p,l)));if(p.extensions.sort(S),v.warning)for(A in R)D.call(R[A],p[A])&&v.warning("Deprecated "+A+" `"+p[A]+"`, expected one of `"+R[A][p[A]].join("`, `")+"`",null,7);return p.script&&(p.script=p.script.charAt(0).toUpperCase()+p.script.slice(1)),p.region&&(p.region=p.region.toUpperCase()),M.stringify(p)};var D={}.hasOwnProperty,c=new Intl.Collator,l={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function f(O,b,v){var A,p=M.parse(b),y=M.parse(v),g=[];for(A in p)p[A]&&p[A].length&&_(O,A,p[A])&&g.push(A);for(A in y)y[A]&&y[A].length&&(g.indexOf(A)>-1||!O[A]||!O[A].length)&&N(O,A,y[A])}function _(O,b,v){var y,g,A,E,p=!1;if(v){if(g=y=O[b],y&&"object"==typeof y)for(g=[],A=-1;++A<y.length;)v.indexOf(E=y[A])<0?g.push(E):p=!0;else y===v&&(g=null,p=!0);O[b]=g}return p}function N(O,b,v){var y,g,A,p=O[b];if(p&&"object"==typeof p)for(y=[].concat(v),g=-1;++g<y.length;)p.indexOf(A=y[g])<0&&p.push(A);else O[b]=v}function S(O,b){return c.compare(O.singleton,b.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(Ie){Ie.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(Ie){Ie.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(Ie,k,m){"use strict";k.parse=m(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),k.stringify=m(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(Ie){Ie.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(Ie,k,m){"use strict";var M=m(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),T=m(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),I=m(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),w=m(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),P=m(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");Ie.exports=function D(l,d){var b,v,p,f=d||{},_={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},N=String(l),S=N.toLowerCase(),O=0;if(null==l)throw new Error("Expected string, got `"+l+"`");if(R.call(P,S))return(null==f.normalize||f.normalize)&&P[S]?D(P[S]):(_[-1===w.indexOf(S)?"irregular":"regular"]=N,_);for(;T(S.charCodeAt(O))&&O<9;)O++;if(O>1&&O<9){if(_.language=N.slice(0,O),O<4)for(v=0;45===S.charCodeAt(O)&&T(S.charCodeAt(O+1))&&T(S.charCodeAt(O+2))&&T(S.charCodeAt(O+3))&&!T(S.charCodeAt(O+4));){if(v>2)return y(O,3,"Too many extended language subtags, expected at most 3 subtags");_.extendedLanguageSubtags.push(N.slice(O+1,O+4)),O+=4,v++}for(45===S.charCodeAt(O)&&T(S.charCodeAt(O+1))&&T(S.charCodeAt(O+2))&&T(S.charCodeAt(O+3))&&T(S.charCodeAt(O+4))&&!T(S.charCodeAt(O+5))&&(_.script=N.slice(O+1,O+5),O+=5),45===S.charCodeAt(O)&&(T(S.charCodeAt(O+1))&&T(S.charCodeAt(O+2))&&!T(S.charCodeAt(O+3))?(_.region=N.slice(O+1,O+3),O+=3):I(S.charCodeAt(O+1))&&I(S.charCodeAt(O+2))&&I(S.charCodeAt(O+3))&&!I(S.charCodeAt(O+4))&&(_.region=N.slice(O+1,O+4),O+=4));45===S.charCodeAt(O);){for(p=b=O+1;M(S.charCodeAt(p));){if(p-b>7)return y(p,1,"Too long variant, expected at most 8 characters");p++}if(!(p-b>4||p-b>3&&I(S.charCodeAt(b))))break;_.variants.push(N.slice(b,p)),O=p}for(;45===S.charCodeAt(O)&&120!==S.charCodeAt(O+1)&&M(S.charCodeAt(O+1))&&45===S.charCodeAt(O+2)&&M(S.charCodeAt(O+3));){for(p=O+2,v=0;45===S.charCodeAt(p)&&M(S.charCodeAt(p+1))&&M(S.charCodeAt(p+2));)for(p=(b=p+1)+2,v++;M(S.charCodeAt(p));){if(p-b>7)return y(p,2,"Too long extension, expected at most 8 characters");p++}if(!v)return y(p,4,"Empty extension, extensions must have at least 2 characters of content");_.extensions.push({singleton:N.charAt(O+1),extensions:N.slice(O+3,p).split("-")}),O=p}}else O=0;if(0===O&&120===S.charCodeAt(O)||45===S.charCodeAt(O)&&120===S.charCodeAt(O+1))for(p=O=O?O+2:1;45===S.charCodeAt(p)&&M(S.charCodeAt(p+1));){for(p=b=O+1;M(S.charCodeAt(p));){if(p-b>7)return y(p,5,"Too long private-use area, expected at most 8 characters");p++}_.privateuse.push(N.slice(O+1,p)),O=p}return O!==N.length?y(O,6,"Found superfluous content after tag"):_;function y(g,A,E){return f.warning&&f.warning(E,A,g),f.forgiving?_:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var R={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(Ie){Ie.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(Ie,k,m){"use strict";Ie.exports=function M(T){var P,R,D,I=T||{},w=[];if(I.irregular||I.regular)return I.irregular||I.regular;if(I.language)for(w=w.concat(I.language,I.extendedLanguageSubtags||[],I.script||[],I.region||[],I.variants||[]),P=I.extensions||[],R=-1;++R<P.length;)(D=P[R]).singleton&&D.extensions&&D.extensions.length&&(w=w.concat(D.singleton,D.extensions));return I.privateuse&&I.privateuse.length&&(w=w.concat("x",I.privateuse)),w.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(Ie,k,m){"use strict";(function(M){var T=m(
/*! base64-js */
"./node_modules/base64-js/index.js"),I=m(
/*! ieee754 */
"./node_modules/ieee754/index.js"),w=m(
/*! isarray */
"./node_modules/isarray/index.js");function R(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(q,z){if(R()<z)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(q=new Uint8Array(z)).__proto__=c.prototype:(null===q&&(q=new c(z)),q.length=z),q}function c(q,z,j){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(q,z,j);if("number"==typeof q){if("string"==typeof z)throw new Error("If encoding is specified then the first argument must be a string");return _(this,q)}return l(this,q,z,j)}function l(q,z,j,$){if("number"==typeof z)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&z instanceof ArrayBuffer?function O(q,z,j,$){if(j<0||z.byteLength<j)throw new RangeError("'offset' is out of bounds");if(z.byteLength<j+($||0))throw new RangeError("'length' is out of bounds");return z=void 0===j&&void 0===$?new Uint8Array(z):void 0===$?new Uint8Array(z,j):new Uint8Array(z,j,$),c.TYPED_ARRAY_SUPPORT?(q=z).__proto__=c.prototype:q=S(q,z),q}(q,z,j,$):"string"==typeof z?function N(q,z,j){if(("string"!=typeof j||""===j)&&(j="utf8"),!c.isEncoding(j))throw new TypeError('"encoding" must be a valid string encoding');var $=0|y(z,j),ce=(q=D(q,$)).write(z,j);return ce!==$&&(q=q.slice(0,ce)),q}(q,z,j):function b(q,z){if(c.isBuffer(z)){var j=0|v(z.length);return 0===(q=D(q,j)).length||z.copy(q,0,0,j),q}if(z){if(typeof ArrayBuffer<"u"&&z.buffer instanceof ArrayBuffer||"length"in z)return"number"!=typeof z.length||function Ee(q){return q!=q}(z.length)?D(q,0):S(q,z);if("Buffer"===z.type&&w(z.data))return S(q,z.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(q,z)}function d(q){if("number"!=typeof q)throw new TypeError('"size" argument must be a number');if(q<0)throw new RangeError('"size" argument must not be negative')}function _(q,z){if(d(z),q=D(q,z<0?0:0|v(z)),!c.TYPED_ARRAY_SUPPORT)for(var j=0;j<z;++j)q[j]=0;return q}function S(q,z){var j=z.length<0?0:0|v(z.length);q=D(q,j);for(var $=0;$<j;$+=1)q[$]=255&z[$];return q}function v(q){if(q>=R())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R().toString(16)+" bytes");return 0|q}function y(q,z){if(c.isBuffer(q))return q.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(q)||q instanceof ArrayBuffer))return q.byteLength;"string"!=typeof q&&(q=""+q);var j=q.length;if(0===j)return 0;for(var $=!1;;)switch(z){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return V(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return te(q).length;default:if($)return V(q).length;z=(""+z).toLowerCase(),$=!0}}function g(q,z,j){var $=!1;if((void 0===z||z<0)&&(z=0),z>this.length||((void 0===j||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(z>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return J(this,z,j);case"utf8":case"utf-8":return Y(this,z,j);case"ascii":return oe(this,z,j);case"latin1":case"binary":return ye(this,z,j);case"base64":return x(this,z,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,z,j);default:if($)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),$=!0}}function A(q,z,j){var $=q[z];q[z]=q[j],q[j]=$}function E(q,z,j,$,ce){if(0===q.length)return-1;if("string"==typeof j?($=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,isNaN(j)&&(j=ce?0:q.length-1),j<0&&(j=q.length+j),j>=q.length){if(ce)return-1;j=q.length-1}else if(j<0){if(!ce)return-1;j=0}if("string"==typeof z&&(z=c.from(z,$)),c.isBuffer(z))return 0===z.length?-1:L(q,z,j,$,ce);if("number"==typeof z)return z&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ce?Uint8Array.prototype.indexOf.call(q,z,j):Uint8Array.prototype.lastIndexOf.call(q,z,j):L(q,[z],j,$,ce);throw new TypeError("val must be string, number or Buffer")}function L(q,z,j,$,ce){var we,ue=1,be=q.length,Re=z.length;if(void 0!==$&&("ucs2"===($=String($).toLowerCase())||"ucs-2"===$||"utf16le"===$||"utf-16le"===$)){if(q.length<2||z.length<2)return-1;ue=2,be/=2,Re/=2,j/=2}function Pe(ze,Le){return 1===ue?ze[Le]:ze.readUInt16BE(Le*ue)}if(ce){var je=-1;for(we=j;we<be;we++)if(Pe(q,we)===Pe(z,-1===je?0:we-je)){if(-1===je&&(je=we),we-je+1===Re)return je*ue}else-1!==je&&(we-=we-je),je=-1}else for(j+Re>be&&(j=be-Re),we=j;we>=0;we--){for(var Ce=!0,Oe=0;Oe<Re;Oe++)if(Pe(q,we+Oe)!==Pe(z,Oe)){Ce=!1;break}if(Ce)return we}return-1}function K(q,z,j,$){j=Number(j)||0;var ce=q.length-j;$?($=Number($))>ce&&($=ce):$=ce;var ue=z.length;if(ue%2!=0)throw new TypeError("Invalid hex string");$>ue/2&&($=ue/2);for(var be=0;be<$;++be){var Re=parseInt(z.substr(2*be,2),16);if(isNaN(Re))return be;q[j+be]=Re}return be}function ee(q,z,j,$){return me(V(z,q.length-j),q,j,$)}function Z(q,z,j,$){return me(function re(q){for(var z=[],j=0;j<q.length;++j)z.push(255&q.charCodeAt(j));return z}(z),q,j,$)}function le(q,z,j,$){return Z(q,z,j,$)}function H(q,z,j,$){return me(te(z),q,j,$)}function W(q,z,j,$){return me(function U(q,z){for(var j,$,ue=[],be=0;be<q.length&&!((z-=2)<0);++be)$=(j=q.charCodeAt(be))>>8,ue.push(j%256),ue.push($);return ue}(z,q.length-j),q,j,$)}function x(q,z,j){return T.fromByteArray(0===z&&j===q.length?q:q.slice(z,j))}function Y(q,z,j){j=Math.min(q.length,j);for(var $=[],ce=z;ce<j;){var Pe,we,je,Ce,ue=q[ce],be=null,Re=ue>239?4:ue>223?3:ue>191?2:1;if(ce+Re<=j)switch(Re){case 1:ue<128&&(be=ue);break;case 2:128==(192&(Pe=q[ce+1]))&&(Ce=(31&ue)<<6|63&Pe)>127&&(be=Ce);break;case 3:we=q[ce+2],128==(192&(Pe=q[ce+1]))&&128==(192&we)&&(Ce=(15&ue)<<12|(63&Pe)<<6|63&we)>2047&&(Ce<55296||Ce>57343)&&(be=Ce);break;case 4:we=q[ce+2],je=q[ce+3],128==(192&(Pe=q[ce+1]))&&128==(192&we)&&128==(192&je)&&(Ce=(15&ue)<<18|(63&Pe)<<12|(63&we)<<6|63&je)>65535&&Ce<1114112&&(be=Ce)}null===be?(be=65533,Re=1):be>65535&&($.push((be-=65536)>>>10&1023|55296),be=56320|1023&be),$.push(be),ce+=Re}return function ie(q){var z=q.length;if(z<=G)return String.fromCharCode.apply(String,q);for(var j="",$=0;$<z;)j+=String.fromCharCode.apply(String,q.slice($,$+=G));return j}($)}k.Buffer=c,k.SlowBuffer=function p(q){return+q!=q&&(q=0),c.alloc(+q)},k.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==M.TYPED_ARRAY_SUPPORT?M.TYPED_ARRAY_SUPPORT:function P(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===q.foo()&&"function"==typeof q.subarray&&0===q.subarray(1,1).byteLength}catch{return!1}}(),k.kMaxLength=R(),c.poolSize=8192,c._augment=function(q){return q.__proto__=c.prototype,q},c.from=function(q,z,j){return l(null,q,z,j)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(q,z,j){return function f(q,z,j,$){return d(z),z<=0?D(q,z):void 0!==j?"string"==typeof $?D(q,z).fill(j,$):D(q,z).fill(j):D(q,z)}(null,q,z,j)},c.allocUnsafe=function(q){return _(null,q)},c.allocUnsafeSlow=function(q){return _(null,q)},c.isBuffer=function(z){return!(null==z||!z._isBuffer)},c.compare=function(z,j){if(!c.isBuffer(z)||!c.isBuffer(j))throw new TypeError("Arguments must be Buffers");if(z===j)return 0;for(var $=z.length,ce=j.length,ue=0,be=Math.min($,ce);ue<be;++ue)if(z[ue]!==j[ue]){$=z[ue],ce=j[ue];break}return $<ce?-1:ce<$?1:0},c.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(z,j){if(!w(z))throw new TypeError('"list" argument must be an Array of Buffers');if(0===z.length)return c.alloc(0);var $;if(void 0===j)for(j=0,$=0;$<z.length;++$)j+=z[$].length;var ce=c.allocUnsafe(j),ue=0;for($=0;$<z.length;++$){var be=z[$];if(!c.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(ce,ue),ue+=be.length}return ce},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<z;j+=2)A(this,j,j+1);return this},c.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<z;j+=4)A(this,j,j+3),A(this,j+1,j+2);return this},c.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<z;j+=8)A(this,j,j+7),A(this,j+1,j+6),A(this,j+2,j+5),A(this,j+3,j+4);return this},c.prototype.toString=function(){var z=0|this.length;return 0===z?"":0===arguments.length?Y(this,0,z):g.apply(this,arguments)},c.prototype.equals=function(z){if(!c.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||0===c.compare(this,z)},c.prototype.inspect=function(){var z="",j=k.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,j).match(/.{2}/g).join(" "),this.length>j&&(z+=" ... ")),"<Buffer "+z+">"},c.prototype.compare=function(z,j,$,ce,ue){if(!c.isBuffer(z))throw new TypeError("Argument must be a Buffer");if(void 0===j&&(j=0),void 0===$&&($=z?z.length:0),void 0===ce&&(ce=0),void 0===ue&&(ue=this.length),j<0||$>z.length||ce<0||ue>this.length)throw new RangeError("out of range index");if(ce>=ue&&j>=$)return 0;if(ce>=ue)return-1;if(j>=$)return 1;if(this===z)return 0;for(var be=(ue>>>=0)-(ce>>>=0),Re=($>>>=0)-(j>>>=0),Pe=Math.min(be,Re),we=this.slice(ce,ue),je=z.slice(j,$),Ce=0;Ce<Pe;++Ce)if(we[Ce]!==je[Ce]){be=we[Ce],Re=je[Ce];break}return be<Re?-1:Re<be?1:0},c.prototype.includes=function(z,j,$){return-1!==this.indexOf(z,j,$)},c.prototype.indexOf=function(z,j,$){return E(this,z,j,$,!0)},c.prototype.lastIndexOf=function(z,j,$){return E(this,z,j,$,!1)},c.prototype.write=function(z,j,$,ce){if(void 0===j)ce="utf8",$=this.length,j=0;else if(void 0===$&&"string"==typeof j)ce=j,$=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j|=0,isFinite($)?($|=0,void 0===ce&&(ce="utf8")):(ce=$,$=void 0)}var ue=this.length-j;if((void 0===$||$>ue)&&($=ue),z.length>0&&($<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");for(var be=!1;;)switch(ce){case"hex":return K(this,z,j,$);case"utf8":case"utf-8":return ee(this,z,j,$);case"ascii":return Z(this,z,j,$);case"latin1":case"binary":return le(this,z,j,$);case"base64":return H(this,z,j,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,z,j,$);default:if(be)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),be=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var G=4096;function oe(q,z,j){var $="";j=Math.min(q.length,j);for(var ce=z;ce<j;++ce)$+=String.fromCharCode(127&q[ce]);return $}function ye(q,z,j){var $="";j=Math.min(q.length,j);for(var ce=z;ce<j;++ce)$+=String.fromCharCode(q[ce]);return $}function J(q,z,j){var $=q.length;(!z||z<0)&&(z=0),(!j||j<0||j>$)&&(j=$);for(var ce="",ue=z;ue<j;++ue)ce+=F(q[ue]);return ce}function de(q,z,j){for(var $=q.slice(z,j),ce="",ue=0;ue<$.length;ue+=2)ce+=String.fromCharCode($[ue]+256*$[ue+1]);return ce}function ae(q,z,j){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+z>j)throw new RangeError("Trying to access beyond buffer length")}function pe(q,z,j,$,ce,ue){if(!c.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>ce||z<ue)throw new RangeError('"value" argument is out of bounds');if(j+$>q.length)throw new RangeError("Index out of range")}function he(q,z,j,$){z<0&&(z=65535+z+1);for(var ce=0,ue=Math.min(q.length-j,2);ce<ue;++ce)q[j+ce]=(z&255<<8*($?ce:1-ce))>>>8*($?ce:1-ce)}function fe(q,z,j,$){z<0&&(z=4294967295+z+1);for(var ce=0,ue=Math.min(q.length-j,4);ce<ue;++ce)q[j+ce]=z>>>8*($?ce:3-ce)&255}function ve(q,z,j,$,ce,ue){if(j+$>q.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function se(q,z,j,$,ce){return ce||ve(q,0,j,4),I.write(q,z,j,$,23,4),j+4}function Se(q,z,j,$,ce){return ce||ve(q,0,j,8),I.write(q,z,j,$,52,8),j+8}c.prototype.slice=function(z,j){var ce,$=this.length;if((z=~~z)<0?(z+=$)<0&&(z=0):z>$&&(z=$),(j=void 0===j?$:~~j)<0?(j+=$)<0&&(j=0):j>$&&(j=$),j<z&&(j=z),c.TYPED_ARRAY_SUPPORT)(ce=this.subarray(z,j)).__proto__=c.prototype;else{var ue=j-z;ce=new c(ue,void 0);for(var be=0;be<ue;++be)ce[be]=this[be+z]}return ce},c.prototype.readUIntLE=function(z,j,$){z|=0,j|=0,$||ae(z,j,this.length);for(var ce=this[z],ue=1,be=0;++be<j&&(ue*=256);)ce+=this[z+be]*ue;return ce},c.prototype.readUIntBE=function(z,j,$){z|=0,j|=0,$||ae(z,j,this.length);for(var ce=this[z+--j],ue=1;j>0&&(ue*=256);)ce+=this[z+--j]*ue;return ce},c.prototype.readUInt8=function(z,j){return j||ae(z,1,this.length),this[z]},c.prototype.readUInt16LE=function(z,j){return j||ae(z,2,this.length),this[z]|this[z+1]<<8},c.prototype.readUInt16BE=function(z,j){return j||ae(z,2,this.length),this[z]<<8|this[z+1]},c.prototype.readUInt32LE=function(z,j){return j||ae(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},c.prototype.readUInt32BE=function(z,j){return j||ae(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},c.prototype.readIntLE=function(z,j,$){z|=0,j|=0,$||ae(z,j,this.length);for(var ce=this[z],ue=1,be=0;++be<j&&(ue*=256);)ce+=this[z+be]*ue;return ce>=(ue*=128)&&(ce-=Math.pow(2,8*j)),ce},c.prototype.readIntBE=function(z,j,$){z|=0,j|=0,$||ae(z,j,this.length);for(var ce=j,ue=1,be=this[z+--ce];ce>0&&(ue*=256);)be+=this[z+--ce]*ue;return be>=(ue*=128)&&(be-=Math.pow(2,8*j)),be},c.prototype.readInt8=function(z,j){return j||ae(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},c.prototype.readInt16LE=function(z,j){j||ae(z,2,this.length);var $=this[z]|this[z+1]<<8;return 32768&$?4294901760|$:$},c.prototype.readInt16BE=function(z,j){j||ae(z,2,this.length);var $=this[z+1]|this[z]<<8;return 32768&$?4294901760|$:$},c.prototype.readInt32LE=function(z,j){return j||ae(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},c.prototype.readInt32BE=function(z,j){return j||ae(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},c.prototype.readFloatLE=function(z,j){return j||ae(z,4,this.length),I.read(this,z,!0,23,4)},c.prototype.readFloatBE=function(z,j){return j||ae(z,4,this.length),I.read(this,z,!1,23,4)},c.prototype.readDoubleLE=function(z,j){return j||ae(z,8,this.length),I.read(this,z,!0,52,8)},c.prototype.readDoubleBE=function(z,j){return j||ae(z,8,this.length),I.read(this,z,!1,52,8)},c.prototype.writeUIntLE=function(z,j,$,ce){z=+z,j|=0,$|=0,ce||pe(this,z,j,$,Math.pow(2,8*$)-1,0);var be=1,Re=0;for(this[j]=255&z;++Re<$&&(be*=256);)this[j+Re]=z/be&255;return j+$},c.prototype.writeUIntBE=function(z,j,$,ce){z=+z,j|=0,$|=0,ce||pe(this,z,j,$,Math.pow(2,8*$)-1,0);var be=$-1,Re=1;for(this[j+be]=255&z;--be>=0&&(Re*=256);)this[j+be]=z/Re&255;return j+$},c.prototype.writeUInt8=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,1,255,0),c.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[j]=255&z,j+1},c.prototype.writeUInt16LE=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[j]=255&z,this[j+1]=z>>>8):he(this,z,j,!0),j+2},c.prototype.writeUInt16BE=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[j]=z>>>8,this[j+1]=255&z):he(this,z,j,!1),j+2},c.prototype.writeUInt32LE=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[j+3]=z>>>24,this[j+2]=z>>>16,this[j+1]=z>>>8,this[j]=255&z):fe(this,z,j,!0),j+4},c.prototype.writeUInt32BE=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[j]=z>>>24,this[j+1]=z>>>16,this[j+2]=z>>>8,this[j+3]=255&z):fe(this,z,j,!1),j+4},c.prototype.writeIntLE=function(z,j,$,ce){if(z=+z,j|=0,!ce){var ue=Math.pow(2,8*$-1);pe(this,z,j,$,ue-1,-ue)}var be=0,Re=1,Pe=0;for(this[j]=255&z;++be<$&&(Re*=256);)z<0&&0===Pe&&0!==this[j+be-1]&&(Pe=1),this[j+be]=(z/Re>>0)-Pe&255;return j+$},c.prototype.writeIntBE=function(z,j,$,ce){if(z=+z,j|=0,!ce){var ue=Math.pow(2,8*$-1);pe(this,z,j,$,ue-1,-ue)}var be=$-1,Re=1,Pe=0;for(this[j+be]=255&z;--be>=0&&(Re*=256);)z<0&&0===Pe&&0!==this[j+be+1]&&(Pe=1),this[j+be]=(z/Re>>0)-Pe&255;return j+$},c.prototype.writeInt8=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,1,127,-128),c.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[j]=255&z,j+1},c.prototype.writeInt16LE=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[j]=255&z,this[j+1]=z>>>8):he(this,z,j,!0),j+2},c.prototype.writeInt16BE=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[j]=z>>>8,this[j+1]=255&z):he(this,z,j,!1),j+2},c.prototype.writeInt32LE=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[j]=255&z,this[j+1]=z>>>8,this[j+2]=z>>>16,this[j+3]=z>>>24):fe(this,z,j,!0),j+4},c.prototype.writeInt32BE=function(z,j,$){return z=+z,j|=0,$||pe(this,z,j,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),c.TYPED_ARRAY_SUPPORT?(this[j]=z>>>24,this[j+1]=z>>>16,this[j+2]=z>>>8,this[j+3]=255&z):fe(this,z,j,!1),j+4},c.prototype.writeFloatLE=function(z,j,$){return se(this,z,j,!0,$)},c.prototype.writeFloatBE=function(z,j,$){return se(this,z,j,!1,$)},c.prototype.writeDoubleLE=function(z,j,$){return Se(this,z,j,!0,$)},c.prototype.writeDoubleBE=function(z,j,$){return Se(this,z,j,!1,$)},c.prototype.copy=function(z,j,$,ce){if($||($=0),!ce&&0!==ce&&(ce=this.length),j>=z.length&&(j=z.length),j||(j=0),ce>0&&ce<$&&(ce=$),ce===$||0===z.length||0===this.length)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("sourceStart out of bounds");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),z.length-j<ce-$&&(ce=z.length-j+$);var be,ue=ce-$;if(this===z&&$<j&&j<ce)for(be=ue-1;be>=0;--be)z[be+j]=this[be+$];else if(ue<1e3||!c.TYPED_ARRAY_SUPPORT)for(be=0;be<ue;++be)z[be+j]=this[be+$];else Uint8Array.prototype.set.call(z,this.subarray($,$+ue),j);return ue},c.prototype.fill=function(z,j,$,ce){if("string"==typeof z){if("string"==typeof j?(ce=j,j=0,$=this.length):"string"==typeof $&&(ce=$,$=this.length),1===z.length){var ue=z.charCodeAt(0);ue<256&&(z=ue)}if(void 0!==ce&&"string"!=typeof ce)throw new TypeError("encoding must be a string");if("string"==typeof ce&&!c.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce)}else"number"==typeof z&&(z&=255);if(j<0||this.length<j||this.length<$)throw new RangeError("Out of range index");if($<=j)return this;var be;if(j>>>=0,$=void 0===$?this.length:$>>>0,z||(z=0),"number"==typeof z)for(be=j;be<$;++be)this[be]=z;else{var Re=c.isBuffer(z)?z:V(new c(z,ce).toString()),Pe=Re.length;for(be=0;be<$-j;++be)this[be+j]=Re[be%Pe]}return this};var _e=/[^+\/0-9A-Za-z-_]/g;function F(q){return q<16?"0"+q.toString(16):q.toString(16)}function V(q,z){z=z||1/0;for(var j,$=q.length,ce=null,ue=[],be=0;be<$;++be){if((j=q.charCodeAt(be))>55295&&j<57344){if(!ce){if(j>56319){(z-=3)>-1&&ue.push(239,191,189);continue}if(be+1===$){(z-=3)>-1&&ue.push(239,191,189);continue}ce=j;continue}if(j<56320){(z-=3)>-1&&ue.push(239,191,189),ce=j;continue}j=65536+(ce-55296<<10|j-56320)}else ce&&(z-=3)>-1&&ue.push(239,191,189);if(ce=null,j<128){if((z-=1)<0)break;ue.push(j)}else if(j<2048){if((z-=2)<0)break;ue.push(j>>6|192,63&j|128)}else if(j<65536){if((z-=3)<0)break;ue.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;ue.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return ue}function te(q){return T.toByteArray(function ne(q){if((q=function X(q){return q.trim?q.trim():q.replace(/^\s+|\s+$/g,"")}(q).replace(_e,"")).length<2)return"";for(;q.length%4!=0;)q+="=";return q}(q))}function me(q,z,j,$){for(var ce=0;ce<$&&!(ce+j>=z.length||ce>=q.length);++ce)z[ce+j]=q[ce];return ce}}).call(this,m(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(Ie,k,m){var M={parseBuffer:function(w){return new T(w).parse()},addBoxProcessor:function(w,P){"string"!=typeof w||"function"!=typeof P||(I.prototype._boxProcessors[w]=P)},createFile:function(){return new T},createBox:function(w,P,R){var D=I.create(w);return P&&P.append(D,R),D},createFullBox:function(w,P,R){var D=M.createBox(w,P,R);return D.version=0,D.flags=0,D},Utils:{}};M.Utils.dataViewToString=function(w,P){var R=P||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(R).decode(w);var D=[],c=0;if("utf-8"===R)for(;c<w.byteLength;){var l=w.getUint8(c++);l<128||(l<224?(l=(31&l)<<6,l|=63&w.getUint8(c++)):l<240?(l=(15&l)<<12,l|=(63&w.getUint8(c++))<<6,l|=63&w.getUint8(c++)):(l=(7&l)<<18,l|=(63&w.getUint8(c++))<<12,l|=(63&w.getUint8(c++))<<6,l|=63&w.getUint8(c++))),D.push(String.fromCharCode(l))}else for(;c<w.byteLength;)D.push(String.fromCharCode(w.getUint8(c++)));return D.join("")},M.Utils.utf8ToByteArray=function(w){var P,R;if(typeof TextEncoder<"u")P=(new TextEncoder).encode(w);else for(P=[],R=0;R<w.length;++R){var D=w.charCodeAt(R);D<128?P.push(D):D<2048?(P.push(192|D>>6),P.push(128|63&D)):D<65536?(P.push(224|D>>12),P.push(128|63&D>>6),P.push(128|63&D)):(P.push(240|D>>18),P.push(128|63&D>>12),P.push(128|63&D>>6),P.push(128|63&D))}return P},M.Utils.appendBox=function(w,P,R){if(P._offset=w._cursor.offset,P._root=w._root?w._root:w,P._raw=w._raw,P._parent=w,-1!==R){if(null==R)return void w.boxes.push(P);var c,D=-1;if("number"==typeof R)D=R;else{if("string"==typeof R)c=R;else{if("object"!=typeof R||!R.type)return void w.boxes.push(P);c=R.type}for(var l=0;l<w.boxes.length;l++)if(c===w.boxes[l].type){D=l+1;break}}w.boxes.splice(D,0,P)}},k.parseBuffer=M.parseBuffer,k.addBoxProcessor=M.addBoxProcessor,k.createFile=M.createFile,k.createBox=M.createBox,k.createFullBox=M.createFullBox,k.Utils=M.Utils,M.Cursor=function(w){this.offset=typeof w>"u"?0:w};var T=function(w){this._cursor=new M.Cursor,this.boxes=[],w&&(this._raw=new DataView(w))};T.prototype.fetch=function(w){var P=this.fetchAll(w,!0);return P.length?P[0]:null},T.prototype.fetchAll=function(w,P){var R=[];return T._sweep.call(this,w,R,P),R},T.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var w=I.parse(this);if(typeof w.type>"u")break;this.boxes.push(w)}return this},T._sweep=function(w,P,R){for(var D in this.type&&this.type==w&&P.push(this),this.boxes){if(P.length&&R)return;T._sweep.call(this.boxes[D],w,P,R)}},T.prototype.write=function(){var P,w=0;for(P=0;P<this.boxes.length;P++)w+=this.boxes[P].getLength(!1);var R=new Uint8Array(w);for(this._rawo=new DataView(R.buffer),this.bytes=R,this._cursor.offset=0,P=0;P<this.boxes.length;P++)this.boxes[P].write();return R.buffer},T.prototype.append=function(w,P){M.Utils.appendBox(this,w,P)};var I=function(){this._cursor=new M.Cursor};I.parse=function(w){var P=new I;return P._offset=w._cursor.offset,P._root=w._root?w._root:w,P._raw=w._raw,P._parent=w,P._parseBox(),w._cursor.offset=P._raw.byteOffset+P._raw.byteLength,P},I.create=function(w){var P=new I;return P.type=w,P.boxes=[],P},I.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],I.prototype._boxProcessors={},I.prototype._procField=function(w,P,R){this._parsing?this[w]=this._readField(P,R):this._writeField(P,R,this[w])},I.prototype._procFieldArray=function(w,P,R,D){var c;if(this._parsing)for(this[w]=[],c=0;c<P;c++)this[w][c]=this._readField(R,D);else for(c=0;c<this[w].length;c++)this._writeField(R,D,this[w][c])},I.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},I.prototype._procEntries=function(w,P,R){var D;if(this._parsing)for(this[w]=[],D=0;D<P;D++)this[w].push({}),R.call(this,this[w][D]);else for(D=0;D<P;D++)R.call(this,this[w][D])},I.prototype._procSubEntries=function(w,P,R,D){var c;if(this._parsing)for(w[P]=[],c=0;c<R;c++)w[P].push({}),D.call(this,w[P][c]);else for(c=0;c<R;c++)D.call(this,w[P][c])},I.prototype._procEntryField=function(w,P,R,D){this._parsing?w[P]=this._readField(R,D):this._writeField(R,D,w[P])},I.prototype._procSubBoxes=function(w,P){var R;if(this._parsing)for(this[w]=[],R=0;R<P;R++)this[w].push(I.parse(this));else for(R=0;R<P;R++)this._rawo?this[w][R].write():this.size+=this[w][R].getLength()},I.prototype._readField=function(w,P){switch(w){case"uint":return this._readUint(P);case"int":return this._readInt(P);case"template":return this._readTemplate(P);case"string":return-1===P?this._readTerminatedString():this._readString(P);case"data":return this._readData(P);case"utf8":return this._readUTF8String();default:return-1}},I.prototype._readInt=function(w){var P=null,R=this._cursor.offset-this._raw.byteOffset;switch(w){case 8:P=this._raw.getInt8(R);break;case 16:P=this._raw.getInt16(R);break;case 32:P=this._raw.getInt32(R);break;case 64:var D=this._raw.getInt32(R),c=this._raw.getInt32(R+4);P=D*Math.pow(2,32)+c}return this._cursor.offset+=w>>3,P},I.prototype._readUint=function(w){var D,c,P=null,R=this._cursor.offset-this._raw.byteOffset;switch(w){case 8:P=this._raw.getUint8(R);break;case 16:P=this._raw.getUint16(R);break;case 24:P=((D=this._raw.getUint16(R))<<8)+(c=this._raw.getUint8(R+2));break;case 32:P=this._raw.getUint32(R);break;case 64:D=this._raw.getUint32(R),c=this._raw.getUint32(R+4),P=D*Math.pow(2,32)+c}return this._cursor.offset+=w>>3,P},I.prototype._readString=function(w){for(var P="",R=0;R<w;R++){var D=this._readUint(8);P+=String.fromCharCode(D)}return P},I.prototype._readTemplate=function(w){return this._readUint(w/2)+this._readUint(w/2)/Math.pow(2,w/2)},I.prototype._readTerminatedString=function(){for(var w="";this._cursor.offset-this._offset<this._raw.byteLength;){var P=this._readUint(8);if(0===P)break;w+=String.fromCharCode(P)}return w},I.prototype._readData=function(w){var P=w>0?w:this._raw.byteLength-(this._cursor.offset-this._offset);if(P>0){var R=new Uint8Array(this._raw.buffer,this._cursor.offset,P);return this._cursor.offset+=P,R}return null},I.prototype._readUTF8String=function(){var w=this._raw.byteLength-(this._cursor.offset-this._offset),P=null;return w>0&&(P=new DataView(this._raw.buffer,this._cursor.offset,w),this._cursor.offset+=w),P&&M.Utils.dataViewToString(P)},I.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},I.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},I.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(I.parse(this))},I.prototype.append=function(w,P){M.Utils.appendBox(this,w,P)},I.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var w=0;w<this.boxes.length;w++)this.size+=this.boxes[w].getLength();return this._data&&this._writeData(this._data),this.size},I.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var w=0;w<this.boxes.length;w++)this.boxes[w].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},I.prototype._writeInt=function(w,P){if(this._rawo){var R=this._cursor.offset-this._rawo.byteOffset;switch(w){case 8:this._rawo.setInt8(R,P);break;case 16:this._rawo.setInt16(R,P);break;case 32:this._rawo.setInt32(R,P);break;case 64:var D=Math.floor(P/Math.pow(2,32)),c=P-D*Math.pow(2,32);this._rawo.setUint32(R,D),this._rawo.setUint32(R+4,c)}this._cursor.offset+=w>>3}else this.size+=w>>3},I.prototype._writeUint=function(w,P){if(this._rawo){var D,c,R=this._cursor.offset-this._rawo.byteOffset;switch(w){case 8:this._rawo.setUint8(R,P);break;case 16:this._rawo.setUint16(R,P);break;case 24:c=255&P,this._rawo.setUint16(R,D=(16776960&P)>>8),this._rawo.setUint8(R+2,c);break;case 32:this._rawo.setUint32(R,P);break;case 64:c=P-(D=Math.floor(P/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(R,D),this._rawo.setUint32(R+4,c)}this._cursor.offset+=w>>3}else this.size+=w>>3},I.prototype._writeString=function(w,P){for(var R=0;R<w;R++)this._writeUint(8,P.charCodeAt(R))},I.prototype._writeTerminatedString=function(w){if(0!==w.length){for(var P=0;P<w.length;P++)this._writeUint(8,w.charCodeAt(P));this._writeUint(8,0)}},I.prototype._writeTemplate=function(w,P){var R=Math.floor(P),D=(P-R)*Math.pow(2,w/2);this._writeUint(w/2,R),this._writeUint(w/2,D)},I.prototype._writeData=function(w){if(w)if(this._rawo){if(w instanceof Array){for(var R=this._cursor.offset-this._rawo.byteOffset,P=0;P<w.length;P++)this._rawo.setInt8(R+P,w[P]);this._cursor.offset+=w.length}w instanceof Uint8Array&&(this._root.bytes.set(w,this._cursor.offset),this._cursor.offset+=w.length)}else this.size+=w.length},I.prototype._writeUTF8String=function(w){var P=M.Utils.utf8ToByteArray(w);if(this._rawo)for(var R=new DataView(this._rawo.buffer,this._cursor.offset,P.length),D=0;D<P.length;D++)R.setUint8(D,P[D]);else this.size+=P.length},I.prototype._writeField=function(w,P,R){switch(w){case"uint":this._writeUint(P,R);break;case"int":this._writeInt(P,R);break;case"template":this._writeTemplate(P,R);break;case"string":-1==P?this._writeTerminatedString(R):this._writeString(P,R);break;case"data":this._writeData(R);break;case"utf8":this._writeUTF8String(R)}},I.prototype._boxProcessors.avc1=I.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},I.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(w){this._procEntryField(w,"segment_duration","uint",1===this.version?64:32),this._procEntryField(w,"media_time","int",1===this.version?64:32),this._procEntryField(w,"media_rate_integer","int",16),this._procEntryField(w,"media_rate_fraction","int",16)})},I.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},I.prototype._boxProcessors.free=I.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},I.prototype._boxProcessors.ftyp=I.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var w=-1;this._parsing&&(w=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",w,"string",4)},I.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},I.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},I.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},I.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},I.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},I.prototype._boxProcessors.mp4a=I.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},I.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},I.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},I.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},I.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},I.prototype._boxProcessors.sdtp=function(){this._procFullBox();var w=-1;this._parsing&&(w=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",w,"uint",8)},I.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(w){this._parsing||(w.reference=(1&w.reference_type)<<31,w.reference|=2147483647&w.referenced_size,w.sap=(1&w.starts_with_SAP)<<31,w.sap|=(3&w.SAP_type)<<28,w.sap|=268435455&w.SAP_delta_time),this._procEntryField(w,"reference","uint",32),this._procEntryField(w,"subsegment_duration","uint",32),this._procEntryField(w,"sap","uint",32),this._parsing&&(w.reference_type=w.reference>>31&1,w.referenced_size=2147483647&w.reference,w.starts_with_SAP=w.sap>>31&1,w.SAP_type=w.sap>>28&7,w.SAP_delta_time=268435455&w.sap)})},I.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},I.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(w){this._procEntryField(w,"ranges_count","uint",32),this._procSubEntries(w,"ranges",w.ranges_count,function(P){this._procEntryField(P,"level","uint",8),this._procEntryField(P,"range_size","uint",24)})})},I.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(w){this._procEntryField(w,"sample_delta","uint",32),this._procEntryField(w,"subsample_count","uint",16),this._procSubEntries(w,"subsamples",w.subsample_count,function(P){this._procEntryField(P,"subsample_size","uint",1===this.version?32:16),this._procEntryField(P,"subsample_priority","uint",8),this._procEntryField(P,"discardable","uint",8),this._procEntryField(P,"codec_specific_parameters","uint",32)})})},I.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},I.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},I.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(w){this._procEntryField(w,"time","uint",1===this.version?64:32),this._procEntryField(w,"moof_offset","uint",1===this.version?64:32),this._procEntryField(w,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(w,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(w,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},I.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},I.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(w){256&this.flags&&this._procEntryField(w,"sample_duration","uint",32),512&this.flags&&this._procEntryField(w,"sample_size","uint",32),1024&this.flags&&this._procEntryField(w,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(w,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},I.prototype._boxProcessors["url "]=I.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},I.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},I.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},I.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},I.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(Ie,k,m){function O(b){return Object.prototype.toString.call(b)}k.isArray=function M(b){return Array.isArray?Array.isArray(b):"[object Array]"===O(b)},k.isBoolean=function T(b){return"boolean"==typeof b},k.isNull=function I(b){return null===b},k.isNullOrUndefined=function w(b){return null==b},k.isNumber=function P(b){return"number"==typeof b},k.isString=function R(b){return"string"==typeof b},k.isSymbol=function D(b){return"symbol"==typeof b},k.isUndefined=function c(b){return void 0===b},k.isRegExp=function l(b){return"[object RegExp]"===O(b)},k.isObject=function d(b){return"object"==typeof b&&null!==b},k.isDate=function f(b){return"[object Date]"===O(b)},k.isError=function _(b){return"[object Error]"===O(b)||b instanceof Error},k.isFunction=function N(b){return"function"==typeof b},k.isPrimitive=function S(b){return null===b||"boolean"==typeof b||"number"==typeof b||"string"==typeof b||"symbol"==typeof b||typeof b>"u"},k.isBuffer=m(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(Ie,k,m){"use strict";Ie.exports=m(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(Ie,k,m){(function(M,T){var w;w=function(){"use strict";function w(ue){return"function"==typeof ue}var R=Array.isArray?Array.isArray:function(ue){return"[object Array]"===Object.prototype.toString.call(ue)},D=0,c=void 0,l=void 0,d=function(be,Re){L[D]=be,L[D+1]=Re,2===(D+=2)&&(l?l(K):Z())};var N=typeof window<"u"?window:void 0,S=N||{},O=S.MutationObserver||S.WebKitMutationObserver,b=typeof self>"u"&&typeof M<"u"&&"[object process]"==={}.toString.call(M),v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function E(){var ue=setTimeout;return function(){return ue(K,1)}}var L=new Array(1e3);function K(){for(var ue=0;ue<D;ue+=2)(0,L[ue])(L[ue+1]),L[ue]=void 0,L[ue+1]=void 0;D=0}var Z=void 0;function le(ue,be){var Re=this,Pe=new this.constructor(x);void 0===Pe[W]&&re(Pe);var we=Re._state;if(we){var je=arguments[we-1];d(function(){return ne(we,Pe,je,Re._result)})}else Se(Re,Pe,ue,be);return Pe}function H(ue){if(ue&&"object"==typeof ue&&ue.constructor===this)return ue;var Re=new this(x);return he(Re,ue),Re}Z=b?function p(){return function(){return M.nextTick(K)}}():O?function g(){var ue=0,be=new O(K),Re=document.createTextNode("");return be.observe(Re,{characterData:!0}),function(){Re.data=ue=++ue%2}}():v?function A(){var ue=new MessageChannel;return ue.port1.onmessage=K,function(){return ue.port2.postMessage(0)}}():void 0===N?function ee(){try{var ue=Function("return this")().require("vertx");return c=ue.runOnLoop||ue.runOnContext,function y(){return typeof c<"u"?function(){c(K)}:E()}()}catch{return E()}}():E();var W=Math.random().toString(36).substring(2);function x(){}var Y=void 0;function pe(ue,be,Re){be.constructor===ue.constructor&&Re===le&&be.constructor.resolve===H?function ae(ue,be){1===be._state?ve(ue,be._result):2===be._state?se(ue,be._result):Se(be,void 0,function(Re){return he(ue,Re)},function(Re){return se(ue,Re)})}(ue,be):void 0===Re?ve(ue,be):w(Re)?function de(ue,be,Re){d(function(Pe){var we=!1,je=function J(ue,be,Re,Pe){try{ue.call(be,Re,Pe)}catch(we){return we}}(Re,be,function(Ce){we||(we=!0,be!==Ce?he(Pe,Ce):ve(Pe,Ce))},function(Ce){we||(we=!0,se(Pe,Ce))});!we&&je&&(we=!0,se(Pe,je))},ue)}(ue,be,Re):ve(ue,be)}function he(ue,be){if(ue===be)se(ue,function oe(){return new TypeError("You cannot resolve a promise with itself")}());else if(function I(ue){var be=typeof ue;return null!==ue&&("object"===be||"function"===be)}(be)){var Re=void 0;try{Re=be.then}catch(Pe){return void se(ue,Pe)}pe(ue,be,Re)}else ve(ue,be)}function fe(ue){ue._onerror&&ue._onerror(ue._result),_e(ue)}function ve(ue,be){ue._state===Y&&(ue._result=be,ue._state=1,0!==ue._subscribers.length&&d(_e,ue))}function se(ue,be){ue._state===Y&&(ue._state=2,ue._result=be,d(fe,ue))}function Se(ue,be,Re,Pe){var we=ue._subscribers,je=we.length;ue._onerror=null,we[je]=be,we[je+1]=Re,we[je+2]=Pe,0===je&&ue._state&&d(_e,ue)}function _e(ue){var be=ue._subscribers,Re=ue._state;if(0!==be.length){for(var Pe=void 0,we=void 0,je=ue._result,Ce=0;Ce<be.length;Ce+=3)we=be[Ce+Re],(Pe=be[Ce])?ne(Re,Pe,we,je):we(je);ue._subscribers.length=0}}function ne(ue,be,Re,Pe){var we=w(Re),je=void 0,Ce=void 0,Oe=!0;if(we){try{je=Re(Pe)}catch(ze){Oe=!1,Ce=ze}if(be===je)return void se(be,function ye(){return new TypeError("A promises callback cannot return that same promise.")}())}else je=Pe;be._state!==Y||(we&&Oe?he(be,je):!1===Oe?se(be,Ce):1===ue?ve(be,je):2===ue&&se(be,je))}var F=0;function re(ue){ue[W]=F++,ue._state=void 0,ue._result=void 0,ue._subscribers=[]}var te=function(){function ue(be,Re){this._instanceConstructor=be,this.promise=new be(x),this.promise[W]||re(this.promise),R(Re)?(this.length=Re.length,this._remaining=Re.length,this._result=new Array(this.length),0===this.length?ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(Re),0===this._remaining&&ve(this.promise,this._result))):se(this.promise,function U(){return new Error("Array Methods must be provided an Array")}())}return ue.prototype._enumerate=function(Re){for(var Pe=0;this._state===Y&&Pe<Re.length;Pe++)this._eachEntry(Re[Pe],Pe)},ue.prototype._eachEntry=function(Re,Pe){var we=this._instanceConstructor,je=we.resolve;if(je===H){var Ce=void 0,Oe=void 0,ze=!1;try{Ce=Re.then}catch(Ye){ze=!0,Oe=Ye}if(Ce===le&&Re._state!==Y)this._settledAt(Re._state,Pe,Re._result);else if("function"!=typeof Ce)this._remaining--,this._result[Pe]=Re;else if(we===$){var Le=new we(x);ze?se(Le,Oe):pe(Le,Re,Ce),this._willSettleAt(Le,Pe)}else this._willSettleAt(new we(function(Ye){return Ye(Re)}),Pe)}else this._willSettleAt(je(Re),Pe)},ue.prototype._settledAt=function(Re,Pe,we){var je=this.promise;je._state===Y&&(this._remaining--,2===Re?se(je,we):this._result[Pe]=we),0===this._remaining&&ve(je,this._result)},ue.prototype._willSettleAt=function(Re,Pe){var we=this;Se(Re,void 0,function(je){return we._settledAt(1,Pe,je)},function(je){return we._settledAt(2,Pe,je)})},ue}();var $=function(){function ue(be){this[W]=function V(){return F++}(),this._result=this._state=void 0,this._subscribers=[],x!==be&&("function"!=typeof be&&function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ue?function X(ue,be){try{be(function(Pe){he(ue,Pe)},function(Pe){se(ue,Pe)})}catch(Re){se(ue,Re)}}(this,be):function j(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ue.prototype.catch=function(Re){return this.then(null,Re)},ue.prototype.finally=function(Re){var we=this.constructor;return w(Re)?this.then(function(je){return we.resolve(Re()).then(function(){return je})},function(je){return we.resolve(Re()).then(function(){throw je})}):this.then(Re,Re)},ue}();return $.prototype.then=le,$.all=function me(ue){return new te(this,ue).promise},$.race=function Ee(ue){var be=this;return R(ue)?new be(function(Re,Pe){for(var we=ue.length,je=0;je<we;je++)be.resolve(ue[je]).then(Re,Pe)}):new be(function(Re,Pe){return Pe(new TypeError("You must pass an array to race."))})},$.resolve=H,$.reject=function q(ue){var Re=new this(x);return se(Re,ue),Re},$._setScheduler=function f(ue){l=ue},$._setAsap=function _(ue){d=ue},$._asap=d,$.polyfill=function ce(){var ue=void 0;if(typeof T<"u")ue=T;else if(typeof self<"u")ue=self;else try{ue=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var be=ue.Promise;if(be){var Re=null;try{Re=Object.prototype.toString.call(be.resolve())}catch{}if("[object Promise]"===Re&&!be.cast)return}ue.Promise=$},$.Promise=$,$},Ie.exports=w()}).call(this,m(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),m(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(Ie,k,m){"use strict";var I,M="object"==typeof Reflect?Reflect:null,T=M&&"function"==typeof M.apply?M.apply:function(E,L,K){return Function.prototype.apply.call(E,L,K)};I=M&&"function"==typeof M.ownKeys?M.ownKeys:Object.getOwnPropertySymbols?function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:function(E){return Object.getOwnPropertyNames(E)};var P=Number.isNaN||function(E){return E!=E};function R(){R.init.call(this)}Ie.exports=R,Ie.exports.once=function p(A,E){return new Promise(function(L,K){function ee(le){A.removeListener(E,Z),K(le)}function Z(){"function"==typeof A.removeListener&&A.removeListener("error",ee),L([].slice.call(arguments))}g(A,E,Z,{once:!0}),"error"!==E&&function y(A,E,L){"function"==typeof A.on&&g(A,"error",E,L)}(A,ee,{once:!0})})},R.EventEmitter=R,R.prototype._events=void 0,R.prototype._eventsCount=0,R.prototype._maxListeners=void 0;var D=10;function c(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function l(A){return void 0===A._maxListeners?R.defaultMaxListeners:A._maxListeners}function d(A,E,L,K){var ee,Z,le;if(c(L),void 0===(Z=A._events)?(Z=A._events=Object.create(null),A._eventsCount=0):(void 0!==Z.newListener&&(A.emit("newListener",E,L.listener?L.listener:L),Z=A._events),le=Z[E]),void 0===le)le=Z[E]=L,++A._eventsCount;else if("function"==typeof le?le=Z[E]=K?[L,le]:[le,L]:K?le.unshift(L):le.push(L),(ee=l(A))>0&&le.length>ee&&!le.warned){le.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=A,H.type=E,H.count=le.length,function w(A){console&&console.warn&&console.warn(A)}(H)}return A}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(A,E,L){var K={fired:!1,wrapFn:void 0,target:A,type:E,listener:L},ee=f.bind(K);return ee.listener=L,K.wrapFn=ee,ee}function N(A,E,L){var K=A._events;if(void 0===K)return[];var ee=K[E];return void 0===ee?[]:"function"==typeof ee?L?[ee.listener||ee]:[ee]:L?function v(A){for(var E=new Array(A.length),L=0;L<E.length;++L)E[L]=A[L].listener||A[L];return E}(ee):O(ee,ee.length)}function S(A){var E=this._events;if(void 0!==E){var L=E[A];if("function"==typeof L)return 1;if(void 0!==L)return L.length}return 0}function O(A,E){for(var L=new Array(E),K=0;K<E;++K)L[K]=A[K];return L}function g(A,E,L,K){if("function"==typeof A.on)K.once?A.once(E,L):A.on(E,L);else{if("function"!=typeof A.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A);A.addEventListener(E,function ee(Z){K.once&&A.removeEventListener(E,ee),L(Z)})}}Object.defineProperty(R,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(A){if("number"!=typeof A||A<0||P(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");D=A}}),R.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},R.prototype.setMaxListeners=function(E){if("number"!=typeof E||E<0||P(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this},R.prototype.getMaxListeners=function(){return l(this)},R.prototype.emit=function(E){for(var L=[],K=1;K<arguments.length;K++)L.push(arguments[K]);var ee="error"===E,Z=this._events;if(void 0!==Z)ee=ee&&void 0===Z.error;else if(!ee)return!1;if(ee){var le;if(L.length>0&&(le=L[0]),le instanceof Error)throw le;var H=new Error("Unhandled error."+(le?" ("+le.message+")":""));throw H.context=le,H}var W=Z[E];if(void 0===W)return!1;if("function"==typeof W)T(W,this,L);else{var x=W.length,Y=O(W,x);for(K=0;K<x;++K)T(Y[K],this,L)}return!0},R.prototype.on=R.prototype.addListener=function(E,L){return d(this,E,L,!1)},R.prototype.prependListener=function(E,L){return d(this,E,L,!0)},R.prototype.once=function(E,L){return c(L),this.on(E,_(this,E,L)),this},R.prototype.prependOnceListener=function(E,L){return c(L),this.prependListener(E,_(this,E,L)),this},R.prototype.off=R.prototype.removeListener=function(E,L){var K,ee,Z,le,H;if(c(L),void 0===(ee=this._events))return this;if(void 0===(K=ee[E]))return this;if(K===L||K.listener===L)0==--this._eventsCount?this._events=Object.create(null):(delete ee[E],ee.removeListener&&this.emit("removeListener",E,K.listener||L));else if("function"!=typeof K){for(Z=-1,le=K.length-1;le>=0;le--)if(K[le]===L||K[le].listener===L){H=K[le].listener,Z=le;break}if(Z<0)return this;0===Z?K.shift():function b(A,E){for(;E+1<A.length;E++)A[E]=A[E+1];A.pop()}(K,Z),1===K.length&&(ee[E]=K[0]),void 0!==ee.removeListener&&this.emit("removeListener",E,H||L)}return this},R.prototype.removeAllListeners=function(E){var L,K,ee;if(void 0===(K=this._events))return this;if(void 0===K.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==K[E]&&(0==--this._eventsCount?this._events=Object.create(null):delete K[E]),this;if(0===arguments.length){var le,Z=Object.keys(K);for(ee=0;ee<Z.length;++ee)"removeListener"!==(le=Z[ee])&&this.removeAllListeners(le);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(L=K[E]))this.removeListener(E,L);else if(void 0!==L)for(ee=L.length-1;ee>=0;ee--)this.removeListener(E,L[ee]);return this},R.prototype.listeners=function(E){return N(this,E,!0)},R.prototype.rawListeners=function(E){return N(this,E,!1)},R.listenerCount=function(A,E){return"function"==typeof A.listenerCount?A.listenerCount(E):S.call(A,E)},R.prototype.listenerCount=S,R.prototype.eventNames=function(){return this._eventsCount>0?I(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ie,k,m){"use strict";var M=Array.isArray,T=Object.keys,I=Object.prototype.hasOwnProperty;Ie.exports=function w(P,R){if(P===R)return!0;if(P&&R&&"object"==typeof P&&"object"==typeof R){var l,d,f,D=M(P),c=M(R);if(D&&c){if((d=P.length)!=R.length)return!1;for(l=d;0!=l--;)if(!w(P[l],R[l]))return!1;return!0}if(D!=c)return!1;var _=P instanceof Date,N=R instanceof Date;if(_!=N)return!1;if(_&&N)return P.getTime()==R.getTime();var S=P instanceof RegExp,O=R instanceof RegExp;if(S!=O)return!1;if(S&&O)return P.toString()==R.toString();var b=T(P);if((d=b.length)!==T(R).length)return!1;for(l=d;0!=l--;)if(!I.call(R,b[l]))return!1;for(l=d;0!=l--;)if(!w(P[f=b[l]],R[f]))return!1;return!0}return P!=P&&R!=R}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(Ie,k){k.read=function(m,M,T,I,w){var P,R,D=8*w-I-1,c=(1<<D)-1,l=c>>1,d=-7,f=T?w-1:0,_=T?-1:1,N=m[M+f];for(f+=_,P=N&(1<<-d)-1,N>>=-d,d+=D;d>0;P=256*P+m[M+f],f+=_,d-=8);for(R=P&(1<<-d)-1,P>>=-d,d+=I;d>0;R=256*R+m[M+f],f+=_,d-=8);if(0===P)P=1-l;else{if(P===c)return R?NaN:1/0*(N?-1:1);R+=Math.pow(2,I),P-=l}return(N?-1:1)*R*Math.pow(2,P-I)},k.write=function(m,M,T,I,w,P){var R,D,c,l=8*P-w-1,d=(1<<l)-1,f=d>>1,_=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,N=I?0:P-1,S=I?1:-1,O=M<0||0===M&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(D=isNaN(M)?1:0,R=d):(R=Math.floor(Math.log(M)/Math.LN2),M*(c=Math.pow(2,-R))<1&&(R--,c*=2),(M+=R+f>=1?_/c:_*Math.pow(2,1-f))*c>=2&&(R++,c/=2),R+f>=d?(D=0,R=d):R+f>=1?(D=(M*c-1)*Math.pow(2,w),R+=f):(D=M*Math.pow(2,f-1)*Math.pow(2,w),R=0));w>=8;m[T+N]=255&D,N+=S,D/=256,w-=8);for(R=R<<w|D,l+=w;l>0;m[T+N]=255&R,N+=S,R/=256,l-=8);m[T+N-S]|=128*O}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(Ie,k,m){!function(M,T,I,w,P){function R(U){if("contents"in U)for(var te=("styleAttrs"in U?U.styleAttrs[w.byName.ruby.qname]:null),me="span"===U.kind&&("container"===te||"textContainer"===te||"baseContainer"===te),Ee=U.contents.length-1;Ee>=0;Ee--)!me||"styleAttrs"in U.contents[Ee]&&w.byName.ruby.qname in U.contents[Ee].styleAttrs?R(U.contents[Ee]):delete U.contents[Ee]}function D(U,te,me,Ee){var q=Ee&&"seq"===Ee.timeContainer,z=0;Ee&&(z=q&&me?me.end:Ee.begin),te.begin=te.explicit_begin?te.explicit_begin+z:z;var j=te.begin,$=null;if("sets"in te)for(var ce=0;ce<te.sets.length;ce++)D(U,te.sets[ce],$,te),j="seq"===te.timeContainer?te.sets[ce].end:Math.max(j,te.sets[ce].end),$=te.sets[ce];if("contents"in te){if("contents"in te)for(var ue=0;ue<te.contents.length;ue++)D(U,te.contents[ue],$,te),j="seq"===te.timeContainer?te.contents[ue].end:Math.max(j,te.contents[ue].end),$=te.contents[ue]}else j=q?te.begin:Number.POSITIVE_INFINITY;te.end=null!==te.explicit_end&&null!==te.explicit_dur?Math.min(te.begin+te.explicit_dur,z+te.explicit_end):null===te.explicit_end&&null!==te.explicit_dur?te.begin+te.explicit_dur:null!==te.explicit_end&&null===te.explicit_dur?z+te.explicit_end:j,delete te.explicit_begin,delete te.explicit_dur,delete te.explicit_end,U._registerEvent(te)}function c(U){this.node=U}function l(){this.events=[],this.head=new d,this.body=null}function d(){this.styling=new f,this.layout=new S}function f(){this.styles={},this.initials={}}function _(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function N(){this.styleAttrs=null}function S(){this.regions={}}function O(U,te){b.call(this,"image"),this.src=U,this.type=te}function b(U){this.kind=U}function v(U){this.id=U}function p(U){this.regionID=U}function y(U){this.styleAttrs=U}function g(U){this.sets=U}function A(U){this.contents=U}function E(U,te,me){this.explicit_begin=U,this.explicit_end=te,this.explicit_dur=me}function L(){b.call(this,"body")}function K(){b.call(this,"div")}function ee(){b.call(this,"p")}function Z(){b.call(this,"span")}function le(){b.call(this,"span")}function H(){b.call(this,"br")}function W(){}function x(){}function Y(U){return U&&"xml:id"in U.attributes&&U.attributes["xml:id"].value||null}function oe(U){return U&&"style"in U.attributes?U.attributes.style.value.split(" "):[]}function ye(U,te){var me={};if(null!==U)for(var Ee in U.attributes){var q=U.attributes[Ee].uri+" "+U.attributes[Ee].local,z=w.byQName[q];if(void 0!==z){var j=z.parse(U.attributes[Ee].value);null!==j?(me[q]=j,z===w.byName.zIndex&&X(te,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):F(te,"Cannot parse styling attribute "+q+" --\x3e "+U.attributes[Ee].value)}}return me}function J(U,te,me){for(var Ee in U.attributes)if(U.attributes[Ee].uri===te&&U.attributes[Ee].local===me)return U.attributes[Ee].value;return null}function fe(U,te,me){var Re,Pe=null;return null!==(Re=/^(\d+(?:\.\d+)?)f$/.exec(me))?null!==te&&(Pe=parseFloat(Re[1])/te):null!==(Re=/^(\d+(?:\.\d+)?)t$/.exec(me))?null!==U&&(Pe=parseFloat(Re[1])/U):null!==(Re=/^(\d+(?:\.\d+)?)ms$/.exec(me))?Pe=parseFloat(Re[1])/1e3:null!==(Re=/^(\d+(?:\.\d+)?)s$/.exec(me))?Pe=parseFloat(Re[1]):null!==(Re=/^(\d+(?:\.\d+)?)h$/.exec(me))?Pe=3600*parseFloat(Re[1]):null!==(Re=/^(\d+(?:\.\d+)?)m$/.exec(me))?Pe=60*parseFloat(Re[1]):null!==(Re=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(me))?Pe=3600*parseInt(Re[1])+60*parseInt(Re[2])+parseFloat(Re[3]):null!==(Re=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(me))&&null!==te&&(Pe=3600*parseInt(Re[1])+60*parseInt(Re[2])+parseInt(Re[3])+(null===Re[4]?0:parseInt(Re[4])/te)),Pe}function se(U,te,me){for(;te.styleRefs.length>0;){var Ee=te.styleRefs.pop();Ee in U.styles?(se(U,U.styles[Ee],me),_e(U.styles[Ee].styleAttrs,te.styleAttrs)):F(me,"Non-existant style id referenced")}}function Se(U,te,me,Ee){for(var q=te.length-1;q>=0;q--){var z=te[q];z in U.styles?_e(U.styles[z].styleAttrs,me):F(Ee,"Non-existant style id referenced")}}function _e(U,te){for(var me in U)U.hasOwnProperty(me)&&(me in te||(te[me]=U[me]))}function X(U,te){if(U&&U.warn&&U.warn(te))throw te}function F(U,te){if(U&&U.error&&U.error(te))throw te}function V(U,te){throw U&&U.fatal&&U.fatal(te),te}function re(U,te){for(var q,me=0,Ee=U.length-1;me<=Ee;){var z=U[q=Math.floor((me+Ee)/2)];if(z<te)me=q+1;else{if(!(z>te))return{found:!0,index:q};Ee=q-1}}return{found:!1,index:me}}M.fromXML=function(U,te,me){var Ee=T.parser(!0,{xmlns:!0}),q=[],z=[],j=[],$=0,ce=null;Ee.onclosetag=function(we){if(q[0]instanceof W)null!==ce.head&&null!==ce.head.styling&&Se(ce.head.styling,q[0].styleRefs,q[0].styleAttrs,te),delete q[0].styleRefs;else if(q[0]instanceof f)for(var je in q[0].styles)q[0].styles.hasOwnProperty(je)&&se(q[0],q[0].styles[je],te);else if(q[0]instanceof ee||q[0]instanceof Z){if(q[0].contents.length>1){var Oe,Ce=[q[0].contents[0]];for(Oe=1;Oe<q[0].contents.length;Oe++)q[0].contents[Oe]instanceof le&&Ce[Ce.length-1]instanceof le?Ce[Ce.length-1].text+=q[0].contents[Oe].text:Ce.push(q[0].contents[Oe]);q[0].contents=Ce}q[0]instanceof Z&&1===q[0].contents.length&&q[0].contents[0]instanceof le&&(q[0].text=q[0].contents[0].text,delete q[0].contents)}else q[0]instanceof c&&(q[0].node.uri===I.ns_tt&&"metadata"===q[0].node.local?$--:$>0&&me&&"onCloseTag"in me&&me.onCloseTag());j.shift(),z.shift(),q.shift()},Ee.ontext=function(we){if(void 0!==q[0])if(q[0]instanceof Z||q[0]instanceof ee){if(q[0]instanceof Z){var je=q[0].styleAttrs[w.byName.ruby.qname];if("container"===je||"textContainer"===je||"baseContainer"===je)return}var Ce=new le;Ce.initFromText(ce,q[0],we,z[0],j[0],te),q[0].contents.push(Ce)}else q[0]instanceof c&&$>0&&me&&"onText"in me&&me.onText(we)},Ee.onopentag=function(we){var je=we.attributes["xml:space"];j.unshift(je?je.value:0===j.length?"default":j[0]);var Ce=we.attributes["xml:lang"];if(z.unshift(Ce?Ce.value:0===z.length?"":z[0]),we.uri===I.ns_tt)if("tt"===we.local)null!==ce&&V(te,"Two <tt> elements at ("+this.line+","+this.column+")"),(ce=new l).initFromNode(we,z[0],te),q.unshift(ce);else if("head"===we.local)q[0]instanceof l||V(te,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),q.unshift(ce.head);else if("styling"===we.local)q[0]instanceof d||V(te,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),q.unshift(ce.head.styling);else if("style"===we.local){var Oe;q[0]instanceof f?((Oe=new _).initFromNode(we,te),Oe.id?ce.head.styling.styles[Oe.id]=Oe:F(te,"<style> element missing @id attribute"),q.unshift(Oe)):q[0]instanceof W?((Oe=new _).initFromNode(we,te),_e(Oe.styleAttrs,q[0].styleAttrs),q.unshift(Oe)):V(te,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===we.local){var ze;if(q[0]instanceof f){for(var Le in(ze=new N).initFromNode(we,te),ze.styleAttrs)ze.styleAttrs.hasOwnProperty(Le)&&(ce.head.styling.initials[Le]=ze.styleAttrs[Le]);q.unshift(ze)}else V(te,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===we.local)q[0]instanceof d||V(te,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),q.unshift(ce.head.layout);else if("region"===we.local){q[0]instanceof S||V(te,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Ye=new W;Ye.initFromNode(ce,we,z[0],te),!Ye.id||Ye.id in ce.head.layout.regions?F(te,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):ce.head.layout.regions[Ye.id]=Ye,q.unshift(Ye)}else if("body"===we.local){q[0]instanceof l||V(te,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==ce.body&&V(te,"Second <body> element at "+this.line+","+this.column+")");var et=new L;et.initFromNode(ce,we,z[0],te),ce.body=et,q.unshift(et)}else if("div"===we.local){q[0]instanceof K||q[0]instanceof L||V(te,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var rt=new K;rt.initFromNode(ce,q[0],we,z[0],te);var it=rt.styleAttrs[w.byName.backgroundImage.qname];it&&(rt.contents.push(new O(it)),delete rt.styleAttrs[w.byName.backgroundImage.qname]),q[0].contents.push(rt),q.unshift(rt)}else if("image"===we.local){q[0]instanceof K||V(te,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var ht=new O;ht.initFromNode(ce,q[0],we,z[0],te),q[0].contents.push(ht),q.unshift(ht)}else if("p"===we.local){q[0]instanceof K||V(te,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Dt=new ee;Dt.initFromNode(ce,q[0],we,z[0],te),q[0].contents.push(Dt),q.unshift(Dt)}else if("span"===we.local){q[0]instanceof Z||q[0]instanceof ee||V(te,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Ht=new Z;Ht.initFromNode(ce,q[0],we,z[0],j[0],te),q[0].contents.push(Ht),q.unshift(Ht)}else if("br"===we.local){q[0]instanceof Z||q[0]instanceof ee||V(te,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var jt=new H;jt.initFromNode(ce,q[0],we,z[0],te),q[0].contents.push(jt),q.unshift(jt)}else if("set"===we.local){q[0]instanceof Z||q[0]instanceof ee||q[0]instanceof K||q[0]instanceof L||q[0]instanceof W||q[0]instanceof H||V(te,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Yt=new x;Yt.initFromNode(ce,q[0],we,te),q[0].sets.push(Yt),q.unshift(Yt)}else q.unshift(new c(we));else q.unshift(new c(we));if(q[0]instanceof c)if(we.uri===I.ns_tt&&"metadata"===we.local)$++;else if($>0&&me&&"onOpenTag"in me){var Zt=[];for(var De in we.attributes)Zt[we.attributes[De].uri+" "+we.attributes[De].local]={uri:we.attributes[De].uri,local:we.attributes[De].local,value:we.attributes[De].value};me.onOpenTag(we.uri,we.local,Zt)}},Ee.write(U).close(),delete ce.head.styling.styles;var ue=!1;for(var be in ce.head.layout.regions)if(ce.head.layout.regions.hasOwnProperty(be)){ue=!0;break}if(!ue){var Re=W.prototype.createDefaultRegion(ce.lang);ce.head.layout.regions[Re.id]=Re}for(var Pe in ce.head.layout.regions)ce.head.layout.regions.hasOwnProperty(Pe)&&D(ce,ce.head.layout.regions[Pe],null,null);return ce.body&&D(ce,ce.body,null,null),ce.body&&R(ce.body),ce},l.prototype.initFromNode=function(U,te,me){var Ee=function ae(U,te){var me=J(U,I.ns_ttp,"cellResolution"),Ee=15,q=32;if(null!==me){var j=/(\d+) (\d+)/.exec(me);null!==j?(q=parseInt(j[1]),Ee=parseInt(j[2])):X(te,"Malformed cellResolution value (using initial value instead)")}return{w:q,h:Ee}}(U,me);this.cellLength={h:new P.ComputedLength(0,1/Ee.h),w:new P.ComputedLength(1/Ee.w,0)};var q=function pe(U,te){var q,me=J(U,I.ns_ttp,"frameRate"),Ee=30;null!==me&&(null!==(q=/(\d+)/.exec(me))?Ee=parseInt(q[1]):X(te,"Malformed frame rate attribute (using initial value instead)"));var j=J(U,I.ns_ttp,"frameRateMultiplier"),$=1;null!==j&&(null!==(q=/(\d+) (\d+)/.exec(j))?$=parseInt(q[1])/parseInt(q[2]):X(te,"Malformed frame rate multiplier attribute (using initial value instead)"));var ue=$*Ee,be=1,Re=J(U,I.ns_ttp,"tickRate");return null===Re?null!==me&&(be=ue):null!==(q=/(\d+)/.exec(Re))?be=parseInt(q[1]):X(te,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:ue,tickRate:be}}(U,me);this.effectiveFrameRate=q.effectiveFrameRate,this.tickRate=q.tickRate,this.aspectRatio=function de(U,te){var me=J(U,I.ns_ittp,"aspectRatio");null===me&&(me=J(U,I.ns_ttp,"displayAspectRatio"));var Ee=null;if(null!==me){var z=/(\d+)\s+(\d+)/.exec(me);if(null!==z){var j=parseInt(z[1]),$=parseInt(z[2]);0!==j&&0!==$?Ee=j/$:F(te,"Illegal aspectRatio values (ignoring)")}else F(te,"Malformed aspectRatio attribute (ignoring)")}return Ee}(U,me);var z=J(U,I.ns_ttp,"timeBase");null!==z&&"media"!==z&&V(me,"Unsupported time base");var j=function he(U,te){var me=J(U,I.ns_tts,"extent");if(null===me)return null;var Ee=me.split(" ");if(2!==Ee.length)return X(te,"Malformed extent (ignoring)"),null;var q=P.parseLength(Ee[0]),z=P.parseLength(Ee[1]);return z&&q?{h:z,w:q}:(X(te,"Malformed extent values (ignoring)"),null)}(U,me);null===j?this.pxLength={h:null,w:null}:(("px"!==j.h.unit||"px"!==j.w.unit)&&V(me,"Extent on TT must be in px or absent"),this.pxLength={h:new P.ComputedLength(0,1/j.h.value),w:new P.ComputedLength(1/j.w.value,0)}),this.dimensions={h:new P.ComputedLength(0,1),w:new P.ComputedLength(1,0)},this.lang=te},l.prototype._registerEvent=function(U){if(!(U.end<=U.begin)){var te=re(this.events,U.begin);if(te.found||this.events.splice(te.index,0,U.begin),U.end!==Number.POSITIVE_INFINITY){var me=re(this.events,U.end);me.found||this.events.splice(me.index,0,U.end)}}},l.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},l.prototype.getMediaTimeEvents=function(){return this.events},_.prototype.initFromNode=function(U,te){this.id=Y(U),this.styleAttrs=ye(U,te),this.styleRefs=oe(U)},N.prototype.initFromNode=function(U,te){for(var me in this.styleAttrs={},U.attributes)U.attributes[me].uri!==I.ns_itts&&U.attributes[me].uri!==I.ns_ebutts&&U.attributes[me].uri!==I.ns_tts||(this.styleAttrs[U.attributes[me].uri+" "+U.attributes[me].local]=U.attributes[me].value)},O.prototype.initFromNode=function(U,te,me,Ee,q){this.src="src"in me.attributes?me.attributes.src.value:null,this.src||F(q,"Invalid image@src attribute"),this.type="type"in me.attributes?me.attributes.type.value:null,this.type||F(q,"Invalid image@type attribute"),y.prototype.initFromNode.call(this,U,te,me,q),E.prototype.initFromNode.call(this,U,te,me,q),g.prototype.initFromNode.call(this,U,te,me,q),p.prototype.initFromNode.call(this,U,te,me,q),this.lang=Ee},v.prototype.initFromNode=function(U,te,me,Ee){this.id=Y(me)},p.prototype.initFromNode=function(U,te,me,Ee){this.regionID=function G(U){return U&&"region"in U.attributes?U.attributes.region.value:""}(me)},y.prototype.initFromNode=function(U,te,me,Ee){this.styleAttrs=ye(me,Ee),null!==U.head&&null!==U.head.styling&&Se(U.head.styling,oe(me),this.styleAttrs,Ee)},g.prototype.initFromNode=function(U,te,me,Ee){this.sets=[]},A.prototype.initFromNode=function(U,te,me,Ee){this.contents=[]},E.prototype.initFromNode=function(U,te,me,Ee){var q=function ve(U,te,me,Ee){var q=null;me&&"begin"in me.attributes&&null===(q=fe(U.tickRate,U.effectiveFrameRate,me.attributes.begin.value))&&X(Ee,"Malformed begin value "+me.attributes.begin.value+" (using 0)");var z=null;me&&"dur"in me.attributes&&null===(z=fe(U.tickRate,U.effectiveFrameRate,me.attributes.dur.value))&&X(Ee,"Malformed dur value "+me.attributes.dur.value+" (ignoring)");var j=null;return me&&"end"in me.attributes&&null===(j=fe(U.tickRate,U.effectiveFrameRate,me.attributes.end.value))&&X(Ee,"Malformed end value (ignoring)"),{explicit_begin:q,explicit_end:j,explicit_dur:z}}(U,0,me,Ee);this.explicit_begin=q.explicit_begin,this.explicit_end=q.explicit_end,this.explicit_dur=q.explicit_dur,this.timeContainer=function ie(U,te){var me=U&&"timeContainer"in U.attributes?U.attributes.timeContainer.value:null;return me&&"par"!==me?"seq"===me?"seq":(F(te,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(me,Ee)},L.prototype.initFromNode=function(U,te,me,Ee){y.prototype.initFromNode.call(this,U,null,te,Ee),E.prototype.initFromNode.call(this,U,null,te,Ee),g.prototype.initFromNode.call(this,U,null,te,Ee),p.prototype.initFromNode.call(this,U,null,te,Ee),A.prototype.initFromNode.call(this,U,null,te,Ee),this.lang=me},K.prototype.initFromNode=function(U,te,me,Ee,q){y.prototype.initFromNode.call(this,U,te,me,q),E.prototype.initFromNode.call(this,U,te,me,q),g.prototype.initFromNode.call(this,U,te,me,q),p.prototype.initFromNode.call(this,U,te,me,q),A.prototype.initFromNode.call(this,U,te,me,q),this.lang=Ee},ee.prototype.initFromNode=function(U,te,me,Ee,q){y.prototype.initFromNode.call(this,U,te,me,q),E.prototype.initFromNode.call(this,U,te,me,q),g.prototype.initFromNode.call(this,U,te,me,q),p.prototype.initFromNode.call(this,U,te,me,q),A.prototype.initFromNode.call(this,U,te,me,q),this.lang=Ee},Z.prototype.initFromNode=function(U,te,me,Ee,q,z){y.prototype.initFromNode.call(this,U,te,me,z),E.prototype.initFromNode.call(this,U,te,me,z),g.prototype.initFromNode.call(this,U,te,me,z),p.prototype.initFromNode.call(this,U,te,me,z),A.prototype.initFromNode.call(this,U,te,me,z),this.space=q,this.lang=Ee},le.prototype.initFromText=function(U,te,me,Ee,q,z){E.prototype.initFromNode.call(this,U,te,null,z),this.text=me,this.space=q,this.lang=Ee},H.prototype.initFromNode=function(U,te,me,Ee,q){p.prototype.initFromNode.call(this,U,te,me,q),E.prototype.initFromNode.call(this,U,te,me,q),this.lang=Ee},W.prototype.createDefaultRegion=function(U){var te=new W;return v.call(te,""),y.call(te,{}),g.call(te,[]),E.call(te,0,Number.POSITIVE_INFINITY,null),this.lang=U,te},W.prototype.initFromNode=function(U,te,me,Ee){v.prototype.initFromNode.call(this,U,null,te,Ee),E.prototype.initFromNode.call(this,U,null,te,Ee),g.prototype.initFromNode.call(this,U,null,te,Ee),this.styleAttrs=ye(te,Ee),this.styleRefs=oe(te),this.lang=me},x.prototype.initFromNode=function(U,te,me,Ee){E.prototype.initFromNode.call(this,U,te,me,Ee);var q=ye(me,Ee);for(var z in this.qname=null,this.value=null,q)if(q.hasOwnProperty(z)){if(this.qname){F(Ee,"More than one style specified on set");break}this.qname=z,this.value=q[z]}}}(k,typeof sax>"u"?m(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?m(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?m(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?m(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(Ie,k,m){!function(M,T,I){function w(H,W,x,Y){var G;if("region"===x.kind)(G=document.createElement("div")).style.position="absolute";else if("body"===x.kind)G=document.createElement("div");else if("div"===x.kind)G=document.createElement("div");else if("image"===x.kind){if(G=document.createElement("img"),null!==H.imgResolver&&null!==x.src){var ie=H.imgResolver(x.src,G);ie&&(G.src=ie),G.height=H.regionH,G.width=H.regionW}}else if("p"===x.kind)G=document.createElement("p");else if("span"===x.kind)if("container"===x.styleAttrs[I.byName.ruby.qname])G=document.createElement("ruby"),H.ruby=!0;else if("base"===x.styleAttrs[I.byName.ruby.qname])G=document.createElement("rb");else if("text"===x.styleAttrs[I.byName.ruby.qname])G=document.createElement("rt");else if("baseContainer"===x.styleAttrs[I.byName.ruby.qname])G=document.createElement("rbc");else if("textContainer"===x.styleAttrs[I.byName.ruby.qname])G=document.createElement("rtc");else{if("delimiter"===x.styleAttrs[I.byName.ruby.qname])return;G=document.createElement("span")}else"br"===x.kind&&(G=document.createElement("br"));if(G){if(x.lang&&("region"===x.kind||x.lang!==Y.lang)&&(G.lang=x.lang),W.appendChild(G),G.style.margin="0","region"===x.kind){var oe=x.styleAttrs[I.byName.writingMode.qname];"lrtb"===oe||"lr"===oe?(H.ipd="lr",H.bpd="tb"):"rltb"===oe||"rl"===oe?(H.ipd="rl",H.bpd="tb"):"tblr"===oe?(H.ipd="tb",H.bpd="lr"):("tbrl"===oe||"tb"===oe)&&(H.ipd="tb",H.bpd="rl")}else"p"===x.kind&&"tb"===H.bpd&&(H.ipd="ltr"===x.styleAttrs[I.byName.direction.qname]?"lr":"rl");for(var J=0;J<g.length;J++){var de=g[J],ae=x.styleAttrs[de.qname];void 0!==ae&&null!==de.map&&de.map(H,G,x,ae)}var pe=G,he=x.styleAttrs[I.byName.linePadding.qname];if(he&&!he.isZero()){var fe=he.toUsedLength(H.w,H.h);if(fe>0){var ve=Math.ceil(fe)+"px";"tb"===H.bpd?(pe.style.paddingLeft=ve,pe.style.paddingRight=ve):(pe.style.paddingTop=ve,pe.style.paddingBottom=ve),H.lp=he}}var se=x.styleAttrs[I.byName.multiRowAlign.qname];if(se&&"auto"!==se){var Se=document.createElement("span");Se.style.display="inline-block",Se.style.textAlign=se,G.appendChild(Se),pe=Se,H.mra=se}var _e=x.styleAttrs[I.byName.rubyReserve.qname];if(_e&&"none"!==_e[0]&&(H.rubyReserve=_e),x.styleAttrs[I.byName.fillLineGap.qname]&&(H.flg=!0),"span"===x.kind&&x.text){var ne=x.styleAttrs[I.byName.textEmphasis.qname];if(ne&&"none"!==ne.style&&(H.textEmphasis=!0),I.byName.textCombine.qname in x.styleAttrs&&"all"===x.styleAttrs[I.byName.textCombine.qname])G.textContent=x.text,ne&&p(H,G,0,ne);else for(var X="",F=0;F<x.text.length;F++){X+=x.text.charAt(F);var V=x.text.charCodeAt(F);if(V<55296||V>56319||F===x.text.length-1){var re=document.createElement("span");re.textContent=X,ne&&p(H,re,0,ne),G.appendChild(re),X="",re._isd_element=x}}}if("contents"in x)for(var U=0;U<x.contents.length;U++)w(H,pe,x.contents[U],x);var te=[];if("p"===x.kind&&(b(H,pe,te,null),H.rubyReserve&&(function _(H,W){for(var x=0;x<H.length;x++){var Y=document.createElement("ruby"),G=document.createElement("rb");G.textContent="\u200b",Y.appendChild(G);var ie,oe,ye=W.rubyReserve[1].toUsedLength(W.w,W.h)+"px";"both"===W.rubyReserve[0]||"outside"===W.rubyReserve[0]&&1==H.length?((ie=document.createElement("rtc")).style[K]=L?"after":"under",ie.textContent="\u200b",ie.style.fontSize=ye,(oe=document.createElement("rtc")).style[K]=L?"before":"over",oe.textContent="\u200b",oe.style.fontSize=ye,Y.appendChild(ie),Y.appendChild(oe)):((ie=document.createElement("rtc")).textContent="\u200b",ie.style.fontSize=ye,ie.style[K]="after"===W.rubyReserve[0]||"outside"===W.rubyReserve[0]&&x>0?L?"after":"tb"===W.bpd||"rl"===W.bpd?"under":"over":L?"before":"tb"===W.bpd||"rl"===W.bpd?"over":"under",Y.appendChild(ie));for(var de=null,ae=0;ae<H[x].rbc.length;ae++)if("ruby"===H[x].rbc[ae].localName){de=H[x].rbc[ae];for(var pe=0;pe<de.style.length;pe++)Y.style.setProperty(de.style.item(pe),de.style.getPropertyValue(de.style.item(pe)));break}(de=de||H[x].elements[0].node).parentElement.insertBefore(Y,de)}}(te,H),H.rubyReserve=null),(H.ruby||H.rubyReserve)&&(function f(H,W){for(var x=0;x<H.length;x++)for(var Y=0;Y<H[x].rbc.length;Y++)H[x].rbc[Y].style[K]||(H[x].rbc[Y].style[K]=L?0===x?"before":"after":"tb"===W.bpd||"rl"===W.bpd?0===x?"over":"under":0===x?"under":"over")}(te,H),H.ruby=null),H.textEmphasis&&(function d(H,W){for(var x=0;x<H.length;x++)for(var Y=0;Y<H[x].te.length;Y++)H[x].te[Y].style[Z]&&"none"!==H[x].te[Y].style[Z]||(H[x].te[Y].style[Z]="tb"===W.bpd?0===x?"left over":"left under":"rl"===W.bpd?0===x?"right under":"left under":0===x?"left under":"right under")}(te,H),H.textEmphasis=null),H.mra&&(function l(H){for(var W=0;W<H.length-1;W++){var x=H[W].elements.length;if(0!==x&&!1===H[W].br){var Y=document.createElement("br"),G=H[W].elements[x-1].node;G.parentElement.insertBefore(Y,G.nextSibling)}}}(te),H.mra=null),H.lp&&(function c(H,W,x){if(null!==H)for(var Y=0;Y<H.length;Y++){var G=H[Y].elements.length,ie=Math.ceil(W)+"px",oe="-"+Math.ceil(W)+"px";if(0!==G){var ye=H[Y].elements[H[Y].start_elem],J=H[Y].elements[H[Y].end_elem];if(ye===J&&(elementBoundingRect=ye.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===x.ipd?(ye.node.style.marginLeft=oe,ye.node.style.paddingLeft=ie):"rl"===x.ipd?(ye.node.style.paddingRight=ie,ye.node.style.marginRight=oe):"tb"===x.ipd&&(ye.node.style.paddingTop=ie,ye.node.style.marginTop=oe),"lr"===x.ipd?(J.node.style.marginRight=oe,J.node.style.paddingRight=ie):"rl"===x.ipd?(J.node.style.paddingLeft=ie,J.node.style.marginLeft=oe):"tb"===x.ipd&&(J.node.style.paddingBottom=ie,J.node.style.marginBottom=oe)}}}(te,H.lp.toUsedLength(H.w,H.h),H),H.lp=null),function P(H){for(var W=0;W<H.length;W++)for(var x=H[W],Y=1;Y<x.elements.length;)D(x.elements[Y-1].node,x.elements[Y].node)?x.elements.splice(Y,1):Y++;for(var oe,ye,J=[],de=0;de<H.length;de++)for(var ae=0;ae<H[de].elements.length;ae++)(ye=R(oe=H[de].elements[ae].node,J,!1))&&(oe.style.backgroundColor=ye);for(var pe=0;pe<J.length;pe++)J[pe].style.backgroundColor=""}(te),H.flg)){var me=O(pe.getBoundingClientRect(),H);(function N(H,W,x,Y,G){for(var ie=Math.sign(x-W),oe=0;oe<=H.length;oe++){var ye,J,de,ae;if(ye=0===oe?Math.round(W):oe===H.length?Math.round(x):Math.round((H[oe-1].after+H[oe].before)/2),oe>0&&H[oe-1])for(de=0;de<H[oe-1].elements.length;de++)J=ie*(ye-(ae=H[oe-1].elements[de]).after)+"px","lr"===Y.bpd?ae.node.style.paddingRight=J:"rl"===Y.bpd?ae.node.style.paddingLeft=J:"tb"===Y.bpd&&(ae.node.style.paddingBottom=J);if(oe<H.length)for(de=0;de<H[oe].elements.length;de++)J=ie*((ae=H[oe].elements[de]).before-ye)+"px","lr"===Y.bpd?ae.node.style.paddingLeft=J:"rl"===Y.bpd?ae.node.style.paddingRight=J:"tb"===Y.bpd&&(ae.node.style.paddingTop=J)}})(te,me.before,me.after,H),H.flg=null}if("region"===x.kind&&"tb"===H.bpd&&H.enableRollUp&&x.contents.length>0&&"after"===x.styleAttrs[I.byName.displayAlign.qname]){b(H,pe,te,null);var q=new S(""===x.id?"_":x.id,te);if(H.currentISDState[q.id]=q,H.previousISDState&&q.id in H.previousISDState&&H.previousISDState[q.id].plist.length>0&&q.plist.length>1&&q.plist[q.plist.length-2].text===H.previousISDState[q.id].plist[H.previousISDState[q.id].plist.length-1].text){var z=G.firstElementChild,j=q.plist[q.plist.length-1].after-q.plist[q.plist.length-1].before;z.style.bottom="-"+j+"px",z.style.transition="transform 0.4s",z.style.position="relative",z.style.transform="translateY(-"+j+"px)"}}}else!function le(H,W){if(H&&H.error&&H.error(W))throw W}(H.errorHandler,"Error processing ISD element kind: "+x.kind)}function R(H,W,x){return H.style.backgroundColor?(x&&!W.includes(H)&&W.push(H),H.style.backgroundColor):"SPAN"===H.parentElement.nodeName?R(H.parentElement,W,!0):void 0}function D(H,W){if("SPAN"===H.tagName&&"SPAN"===W.tagName&&H._isd_element===W._isd_element){H.textContent+=W.textContent;for(var x=0;x<W.style.length;x++){var Y=W.style[x];(Y.indexOf("border")>=0||Y.indexOf("padding")>=0||Y.indexOf("margin")>=0)&&(H.style[Y]=W.style[Y])}return W.parentElement.removeChild(W),!0}return!1}function S(H,W){this.id=H,this.plist=W}function O(H,W){var x={before:null,after:null,start:null,end:null};return"tb"===W.bpd?(x.before=H.top,x.after=H.bottom,"lr"===W.ipd?(x.start=H.left,x.end=H.right):(x.start=H.right,x.end=H.left)):"lr"===W.bpd?(x.before=H.left,x.after=H.right,x.start=H.top,x.end=H.bottom):"rl"===W.bpd&&(x.before=H.right,x.after=H.left,x.start=H.top,x.end=H.bottom),x}function b(H,W,x,Y){if("rt"!==W.localName&&"rtc"!==W.localName){var G=W.style.backgroundColor||Y;if(0===W.childElementCount)if("span"===W.localName||"rb"===W.localName){var oe=O(W.getBoundingClientRect(),H);if(0!==x.length&&function v(H,W,x,Y){return W<Y&&H>x||Y<=W&&x>=H}(oe.before,oe.after,x[x.length-1].before,x[x.length-1].after)){var ye=Math.sign(oe.after-oe.before),J=Math.sign(oe.end-oe.start);ye*(oe.before-x[x.length-1].before)<0&&(x[x.length-1].before=oe.before),ye*(oe.after-x[x.length-1].after)>0&&(x[x.length-1].after=oe.after),J*(oe.start-x[x.length-1].start)<0&&(x[x.length-1].start=oe.start,x[x.length-1].start_elem=x[x.length-1].elements.length),J*(oe.end-x[x.length-1].end)>0&&(x[x.length-1].end=oe.end,x[x.length-1].end_elem=x[x.length-1].elements.length)}else x.push({before:oe.before,after:oe.after,start:oe.start,end:oe.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});x[x.length-1].text+=W.textContent,x[x.length-1].elements.push({node:W,bgcolor:G,before:oe.before,after:oe.after})}else"br"===W.localName&&0!==x.length&&(x[x.length-1].br=!0);else for(var de=W.firstChild;de;)de.nodeType===Node.ELEMENT_NODE&&(b(H,de,x,G),"ruby"===de.localName||"rtc"===de.localName?x.length>0&&x[x.length-1].rbc.push(de):"span"===de.localName&&de.style[ee]&&"none"!==de.style[ee]&&x.length>0&&x[x.length-1].te.push(de)),de=de.nextSibling}}function p(H,W,x,Y){"none"!==Y.style&&(W.style[ee]="auto"===Y.style?"filled":Y.style+" "+Y.symbol,"before"===Y.position||"after"===Y.position)&&(W.style[Z]="tb"===H.bpd?"before"===Y.position?"left over":"left under":"rl"===H.bpd?"before"===Y.position?"right under":"left under":"before"===Y.position?"left under":"right under")}function y(H,W){this.qname=H,this.map=W}M.render=function(H,W,x,Y,G,ie,oe,ye,J){var de=Y||W.clientHeight,ae=G||W.clientWidth;if(null!==H.aspectRatio){var pe=de*H.aspectRatio;pe>ae?de=Math.round(ae/H.aspectRatio):ae=pe}var he=document.createElement("div");he.style.position="relative",he.style.width=ae+"px",he.style.height=de+"px",he.style.margin="auto",he.style.top=0,he.style.bottom=0,he.style.left=0,he.style.right=0,he.style.zIndex=0;var fe={h:de,w:ae,regionH:null,regionW:null,imgResolver:x,displayForcedOnlyMode:ie||!1,isd:H,errorHandler:oe,previousISDState:ye,enableRollUp:J||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(W.appendChild(he),"contents"in H)for(var ve=0;ve<H.contents.length;ve++)w(fe,he,H.contents[ve],H);return fe.currentISDState};for(var g=[new y("http://www.w3.org/ns/ttml#styling backgroundColor",function(H,W,x,Y){0!==Y[3]&&(W.style.backgroundColor="rgba("+Y[0].toString()+","+Y[1].toString()+","+Y[2].toString()+","+(Y[3]/255).toString()+")")}),new y("http://www.w3.org/ns/ttml#styling color",function(H,W,x,Y){W.style.color="rgba("+Y[0].toString()+","+Y[1].toString()+","+Y[2].toString()+","+(Y[3]/255).toString()+")"}),new y("http://www.w3.org/ns/ttml#styling direction",function(H,W,x,Y){W.style.direction=Y}),new y("http://www.w3.org/ns/ttml#styling display",function(H,W,x,Y){}),new y("http://www.w3.org/ns/ttml#styling displayAlign",function(H,W,x,Y){W.style.display="flex",W.style.flexDirection="column","before"===Y?W.style.justifyContent="flex-start":"center"===Y?W.style.justifyContent="center":"after"===Y&&(W.style.justifyContent="flex-end")}),new y("http://www.w3.org/ns/ttml#styling extent",function(H,W,x,Y){H.regionH=Y.h.toUsedLength(H.w,H.h),H.regionW=Y.w.toUsedLength(H.w,H.h);var G=0,ie=0,oe=x.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];oe&&(G=oe[0].toUsedLength(H.w,H.h)+oe[2].toUsedLength(H.w,H.h),ie=oe[1].toUsedLength(H.w,H.h)+oe[3].toUsedLength(H.w,H.h)),W.style.height=H.regionH-G+"px",W.style.width=H.regionW-ie+"px"}),new y("http://www.w3.org/ns/ttml#styling fontFamily",function(H,W,x,Y){for(var G=[],ie=0;ie<Y.length;ie++)"monospaceSerif"===Y[ie]?(G.push("Courier New"),G.push('"Liberation Mono"'),G.push("Courier"),G.push("monospace")):"proportionalSansSerif"===Y[ie]?(G.push("Arial"),G.push("Helvetica"),G.push('"Liberation Sans"'),G.push("sans-serif")):"monospace"===Y[ie]?G.push("monospace"):"sansSerif"===Y[ie]?G.push("sans-serif"):"serif"===Y[ie]?G.push("serif"):"monospaceSansSerif"===Y[ie]?(G.push("Consolas"),G.push("monospace")):G.push("proportionalSerif"===Y[ie]?"serif":Y[ie]);if(G.length>0){for(var oe=[G[0]],ye=1;ye<G.length;ye++)-1==oe.indexOf(G[ye])&&oe.push(G[ye]);G=oe}W.style.fontFamily=G.join(",")}),new y("http://www.w3.org/ns/ttml#styling shear",function(H,W,x,Y){if(0!==Y){var G=-.9*Y;W.style.transform="tb"===H.bpd?"skewX("+G+"deg)":"skewY("+G+"deg)"}}),new y("http://www.w3.org/ns/ttml#styling fontSize",function(H,W,x,Y){W.style.fontSize=Y.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling fontStyle",function(H,W,x,Y){W.style.fontStyle=Y}),new y("http://www.w3.org/ns/ttml#styling fontWeight",function(H,W,x,Y){W.style.fontWeight=Y}),new y("http://www.w3.org/ns/ttml#styling lineHeight",function(H,W,x,Y){W.style.lineHeight="normal"===Y?"normal":Y.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling opacity",function(H,W,x,Y){W.style.opacity=Y}),new y("http://www.w3.org/ns/ttml#styling origin",function(H,W,x,Y){W.style.top=Y.h.toUsedLength(H.w,H.h)+"px",W.style.left=Y.w.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling overflow",function(H,W,x,Y){W.style.overflow=Y}),new y("http://www.w3.org/ns/ttml#styling padding",function(H,W,x,Y){var G=[];G[0]=Y[0].toUsedLength(H.w,H.h)+"px",G[1]=Y[3].toUsedLength(H.w,H.h)+"px",G[2]=Y[2].toUsedLength(H.w,H.h)+"px",G[3]=Y[1].toUsedLength(H.w,H.h)+"px",W.style.padding=G.join(" ")}),new y("http://www.w3.org/ns/ttml#styling position",function(H,W,x,Y){W.style.top=Y.h.toUsedLength(H.w,H.h)+"px",W.style.left=Y.w.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling rubyAlign",function(H,W,x,Y){W.style.rubyAlign="spaceAround"===Y?"space-around":"center"}),new y("http://www.w3.org/ns/ttml#styling rubyPosition",function(H,W,x,Y){"before"!==Y&&"after"!==Y||(W.parentElement.style[K]=L?Y:"tb"===H.bpd||"rl"===H.bpd?"before"===Y?"over":"under":"before"===Y?"under":"over")}),new y("http://www.w3.org/ns/ttml#styling showBackground",null),new y("http://www.w3.org/ns/ttml#styling textAlign",function(H,W,x,Y){W.style.textAlign="start"===Y?"rl"===H.ipd?"right":"left":"end"===Y?"rl"===H.ipd?"left":"right":Y}),new y("http://www.w3.org/ns/ttml#styling textDecoration",function(H,W,x,Y){W.style.textDecoration=Y.join(" ").replace("lineThrough","line-through")}),new y("http://www.w3.org/ns/ttml#styling textOutline",function(H,W,x,Y){}),new y("http://www.w3.org/ns/ttml#styling textShadow",function(H,W,x,Y){var G=x.styleAttrs[I.byName.textOutline.qname];if("none"===Y&&"none"===G)W.style.textShadow="";else{var ie=[];if("none"!==G){var oe="rgba("+G.color[0].toString()+","+G.color[1].toString()+","+G.color[2].toString()+","+(G.color[3]/255).toString()+")";ie.push("1px 1px 1px "+oe),ie.push("-1px 1px 1px "+oe),ie.push("1px -1px 1px "+oe),ie.push("-1px -1px 1px "+oe)}if("none"!==Y)for(var ye=0;ye<Y.length;ye++)ie.push(Y[ye].x_off.toUsedLength(H.w,H.h)+"px "+Y[ye].y_off.toUsedLength(H.w,H.h)+"px "+Y[ye].b_radius.toUsedLength(H.w,H.h)+"px rgba("+Y[ye].color[0].toString()+","+Y[ye].color[1].toString()+","+Y[ye].color[2].toString()+","+(Y[ye].color[3]/255).toString()+")");W.style.textShadow=ie.join(",")}}),new y("http://www.w3.org/ns/ttml#styling textCombine",function(H,W,x,Y){W.style.textCombineUpright=Y}),new y("http://www.w3.org/ns/ttml#styling textEmphasis",function(H,W,x,Y){}),new y("http://www.w3.org/ns/ttml#styling unicodeBidi",function(H,W,x,Y){W.style.unicodeBidi="bidiOverride"===Y?"bidi-override":Y}),new y("http://www.w3.org/ns/ttml#styling visibility",function(H,W,x,Y){W.style.visibility=Y}),new y("http://www.w3.org/ns/ttml#styling wrapOption",function(H,W,x,Y){W.style.whiteSpace="wrap"===Y?"preserve"===x.space?"pre-wrap":"normal":"preserve"===x.space?"pre":"noWrap"}),new y("http://www.w3.org/ns/ttml#styling writingMode",function(H,W,x,Y){"lrtb"===Y||"lr"===Y||"rltb"===Y||"rl"===Y?W.style.writingMode="horizontal-tb":"tblr"===Y?W.style.writingMode="vertical-lr":("tbrl"===Y||"tb"===Y)&&(W.style.writingMode="vertical-rl")}),new y("http://www.w3.org/ns/ttml#styling zIndex",function(H,W,x,Y){W.style.zIndex=Y}),new y("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(H,W,x,Y){H.displayForcedOnlyMode&&!1===Y&&(W.style.visibility="hidden")})],A={},E=0;E<g.length;E++)A[g[E].qname]=g[E];var L="webkitRubyPosition"in window.getComputedStyle(document.documentElement),K=L?"webkitRubyPosition":"rubyPosition",ee="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",Z="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(k,typeof imscNames>"u"?m(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?m(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?m(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(Ie,k,m){!function(M,T,I,w){M.generateISD=function(b,v,p){var A,y=new d(b),g={},E={},L=b.head.styling.initials[I.byName.showBackground.qname],K=b.head.styling.initials[I.byName.backgroundColor.qname];for(var ee in b.head.layout.regions)if(b.head.layout.regions.hasOwnProperty(ee)){var Z=b.head.layout.regions[ee],le=Z.styleAttrs[I.byName.showBackground.qname]||L;E[Z.id]=("always"===le||void 0===le)&&void 0!==(Z.styleAttrs[I.byName.backgroundColor.qname]||K)&&!(v<Z.begin||v>=Z.end)}for(var x in b.body&&b.body.regionID&&(E[b.body.regionID]=!0),A=null!==b.body?function W(G,ie){if(ie.contents){var ye={};for(var J in ie)ie.hasOwnProperty(J)&&(ye[J]=ie[J]);return ye.contents=[],ie.contents.filter(function oe(de){return!(G<de.begin||G>=de.end)}).forEach(function(de){var ae=W(G,de);ae.regionID&&(E[ae.regionID]=!0),null!==ae&&ye.contents.push(ae)}),ye}return ie}(v,b.body):null,void 0!==E[""]&&(E[""]=!0),E)if(E[x]){var Y=R(b,v,b.head.layout.regions[x],A,null,"",b.head.layout.regions[x],p,g);null!==Y&&y.contents.push(Y.element)}return y};var P=[I.byName.color.qname,I.byName.textCombine.qname,I.byName.textDecoration.qname,I.byName.textEmphasis.qname,I.byName.textOutline.qname,I.byName.textShadow.qname];function R(b,v,p,y,g,A,E,L,K){if(v<E.begin||v>=E.end)return null;var ee="regionID"in E&&""!==E.regionID?E.regionID:A;if(null!==g&&ee!==p.id&&(!("contents"in E)||"contents"in E&&0===E.contents.length||""!==ee))return null;var Z=new f(E);if("sets"in E)for(var le=0;le<E.sets.length;le++)v<E.sets[le].begin||v>=E.sets[le].end||(Z.styleAttrs[E.sets[le].qname]=E.sets[le].value);var H={};for(var W in Z.styleAttrs)if(Z.styleAttrs.hasOwnProperty(W)&&(H[W]=!0,"region"===Z.kind&&W===I.byName.writingMode.qname&&!(I.byName.direction.qname in Z.styleAttrs))){var x=Z.styleAttrs[W];"lrtb"===x||"lr"===x?Z.styleAttrs[I.byName.direction.qname]="ltr":("rltb"===x||"rl"===x)&&(Z.styleAttrs[I.byName.direction.qname]="rtl")}if(null!==g)for(var Y=0;Y<I.all.length;Y++){var G=I.all[Y];if(G.qname===I.byName.textDecoration.qname){var ie=g.styleAttrs[G.qname],oe=Z.styleAttrs[G.qname],ye=[];void 0===oe?ye=ie:-1===oe.indexOf("none")?((-1===oe.indexOf("noUnderline")&&-1!==ie.indexOf("underline")||-1!==oe.indexOf("underline"))&&ye.push("underline"),(-1===oe.indexOf("noLineThrough")&&-1!==ie.indexOf("lineThrough")||-1!==oe.indexOf("lineThrough"))&&ye.push("lineThrough"),(-1===oe.indexOf("noOverline")&&-1!==ie.indexOf("overline")||-1!==oe.indexOf("overline"))&&ye.push("overline")):ye.push("none"),Z.styleAttrs[G.qname]=ye}else if(G.qname!==I.byName.fontSize.qname||G.qname in Z.styleAttrs||"span"!==Z.kind||"textContainer"!==Z.styleAttrs[I.byName.ruby.qname])if(G.qname!==I.byName.fontSize.qname||G.qname in Z.styleAttrs||"span"!==Z.kind||"text"!==Z.styleAttrs[I.byName.ruby.qname])G.inherit&&G.qname in g.styleAttrs&&!(G.qname in Z.styleAttrs)&&(Z.styleAttrs[G.qname]=g.styleAttrs[G.qname]);else{var de=g.styleAttrs[I.byName.fontSize.qname];Z.styleAttrs[G.qname]="textContainer"===g.styleAttrs[I.byName.ruby.qname]?de:new w.ComputedLength(.5*de.rw,.5*de.rh)}else{var J=g.styleAttrs[I.byName.fontSize.qname];Z.styleAttrs[G.qname]=new w.ComputedLength(.5*J.rw,.5*J.rh)}}for(var ae=0;ae<I.all.length;ae++){var pe=I.all[ae];if(!(pe.qname in Z.styleAttrs||pe.qname===I.byName.position.qname&&I.byName.origin.qname in Z.styleAttrs||pe.qname===I.byName.origin.qname&&I.byName.position.qname in Z.styleAttrs)){var he=b.head.styling.initials[pe.qname]||pe.initial;if(null!==he&&("region"===Z.kind||!1===pe.inherit&&null!==he)){var fe=pe.parse(he);null!==fe?(Z.styleAttrs[pe.qname]=fe,H[pe.qname]=!0):S(L,"Invalid initial value for '"+pe.qname+"' on element '"+Z.kind)}}}for(var ve=0;ve<I.all.length;ve++){var se=I.all[ve];if(se.qname in H&&null!==se.compute){var Se=se.compute(b,g,Z,Z.styleAttrs[se.qname],K);null!==Se?Z.styleAttrs[se.qname]=Se:(Z.styleAttrs[se.qname]=se.compute(b,g,Z,se.parse(se.initial),K),S(L,"Style '"+se.qname+"' on element '"+Z.kind+"' cannot be computed"))}}if("none"===Z.styleAttrs[I.byName.display.qname])return null;var _e=null;null===g?_e=null===y?[]:[y]:"contents"in E&&(_e=E.contents);for(var ne=0;null!==_e&&ne<_e.length;ne++){var X=R(b,v,p,y,Z,ee,_e[ne],L,K);null!==X&&Z.contents.push(X.element)}for(var F in Z.styleAttrs)if(Z.styleAttrs.hasOwnProperty(F)){var V=!1;if("span"===Z.kind){var re=Z.styleAttrs[I.byName.ruby.qname];(V=("container"===re||"textContainer"===re||"baseContainer"===re)&&-1!==P.indexOf(F))||(V="container"!==re&&F===I.byName.rubyAlign.qname),V||(V=!("textContainer"===re||"text"===re)&&F===I.byName.rubyPosition.qname)}if(!V){var U=I.byQName[F];"applies"in U&&(V=-1===U.applies.indexOf(Z.kind))}V&&delete Z.styleAttrs[F]}var te=Z.styleAttrs[I.byName.ruby.qname];if("p"===Z.kind||"span"===Z.kind&&("textContainer"===te||"text"===te)){var me=[];c(Z,me),function D(b){function v(E){return"br"===E.kind||/[\r\n\t ]$/.test(E.text)}function p(E){return"br"===E.kind||"preserve"===E.space&&/^[\r\n]/.test(E.text)}for(var y,g=0;g<b.length;)if("br"!==(y=b[g]).kind&&"preserve"!==y.space){var A=y.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(A)&&(0===g||v(b[g-1]))&&(A=A.substring(1)),y.text=A,0===A.length?b.splice(g,1):g++}else g++;for(g=0;g<b.length;g++)"br"!==(y=b[g]).kind&&"preserve"!==y.space?/[ ]$/.test(y.text)&&(g===b.length-1||p(b[g+1]))&&(y.text=y.text.slice(0,-1)):g++}(me),l(Z)}return"div"===Z.kind&&I.byName.backgroundImage.qname in Z.styleAttrs||"br"===Z.kind||"image"===Z.kind||"contents"in Z&&Z.contents.length>0||"span"===Z.kind&&null!==Z.text||"region"===Z.kind&&"always"===Z.styleAttrs[I.byName.showBackground.qname]?{region_id:ee,element:Z}:null}function c(b,v){if("contents"in b)for(var p=0;p<b.contents.length;p++){var y=b.contents[p],g=y.styleAttrs[I.byName.ruby.qname];"span"===y.kind&&("textContainer"===g||"text"===g)||("contents"in y?c(y,v):("span"===y.kind&&0!==y.text.length||"br"===y.kind)&&v.push(y))}}function l(b){if("br"===b.kind)return!1;if("text"in b)return 0===b.text.length;if("contents"in b){for(var v=b.contents.length;v--;)l(b.contents[v])&&b.contents.splice(v,1);return 0===b.contents.length}}function d(b){this.contents=[],this.aspectRatio=b.aspectRatio,this.lang=b.lang}function f(b){for(var v in this.kind=b.kind||"region",this.lang=b.lang,b.id&&(this.id=b.id),this.styleAttrs={},b.styleAttrs)b.styleAttrs.hasOwnProperty(v)&&(this.styleAttrs[v]=b.styleAttrs[v]);"src"in b&&(this.src=b.src),"type"in b&&(this.type=b.type),"text"in b?this.text=b.text:("region"===this.kind||"contents"in b)&&(this.contents=[]),"space"in b&&(this.space=b.space)}function S(b,v){if(b&&b.error&&b.error(v))throw v}}(k,typeof imscNames>"u"?m(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?m(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?m(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(Ie,k,m){k.generateISD=m(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,k.fromXML=m(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,k.renderHTML=m(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(Ie,k,m){var M;(M=k).ns_tt="http://www.w3.org/ns/ttml",M.ns_tts="http://www.w3.org/ns/ttml#styling",M.ns_ttp="http://www.w3.org/ns/ttml#parameter",M.ns_xml="http://www.w3.org/XML/1998/namespace",M.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",M.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",M.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",M.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(Ie,k,m){!function(M,T,I){function w(D,c,l,d,f,_,N,S){this.name=c,this.ns=D,this.qname=D+" "+c,this.inherit=f,this.animatable=_,this.initial=l,this.applies=d,this.parse=N,this.compute=S}for(var P in M.all=[new w(T.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,I.parseColor,null),new w(T.ns_tts,"color","white",["span"],!0,!0,I.parseColor,null),new w(T.ns_tts,"direction","ltr",["p","span"],!0,!0,function(D){return D},null),new w(T.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(D){return D},null),new w(T.ns_tts,"displayAlign","before",["region"],!1,!0,function(D){return D},null),new w(T.ns_tts,"extent","auto",["tt","region"],!1,!0,function(D){if("auto"===D)return D;var c=D.split(" ");if(2!==c.length)return null;var l=I.parseLength(c[0]),d=I.parseLength(c[1]);return d&&l?{h:d,w:l}:null},function(D,c,l,d,f){var _,N;if("auto"===d)_=new I.ComputedLength(0,1);else if(null===(_=I.toComputedLength(d.h.value,d.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===d)N=new I.ComputedLength(1,0);else if(null===(N=I.toComputedLength(d.w.value,d.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:_,w:N}}),new w(T.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(D){for(var c=D.split(","),l=[],d=0;d<c.length;d++)"'"!==c[d].charAt(0)&&'"'!==c[d].charAt(0)&&"default"===c[d]?l.push("monospaceSerif"):l.push(c[d]);return l},null),new w(T.ns_tts,"shear","0%",["p"],!0,!0,I.parseLength,function(D,c,l,d){return"%"!==d.unit?null:Math.abs(d.value)>100?100*Math.sign(d.value):d.value}),new w(T.ns_tts,"fontSize","1c",["span","p"],!0,!0,I.parseLength,function(D,c,l,d,f){return I.toComputedLength(d.value,d.unit,null!==c?c.styleAttrs[M.byName.fontSize.qname]:D.cellLength.h,null!==c?c.styleAttrs[M.byName.fontSize.qname]:D.cellLength.h,D.cellLength.h,D.pxLength.h)}),new w(T.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(D){return D},null),new w(T.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(D){return D},null),new w(T.ns_tts,"lineHeight","normal",["p"],!0,!0,function(D){return"normal"===D?D:I.parseLength(D)},function(D,c,l,d,f){var _;if("normal"===d)_=d;else if(null===(_=I.toComputedLength(d.value,d.unit,l.styleAttrs[M.byName.fontSize.qname],l.styleAttrs[M.byName.fontSize.qname],D.cellLength.h,D.pxLength.h)))return null;return _}),new w(T.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new w(T.ns_tts,"origin","auto",["region"],!1,!0,function(D){if("auto"===D)return D;var c=D.split(" ");if(2!==c.length)return null;var l=I.parseLength(c[0]),d=I.parseLength(c[1]);return d&&l?{h:d,w:l}:null},function(D,c,l,d,f){var _,N;if("auto"===d)_=new I.ComputedLength(0,0);else if(null===(_=I.toComputedLength(d.h.value,d.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===d)N=new I.ComputedLength(0,0);else if(null===(N=I.toComputedLength(d.w.value,d.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:_,w:N}}),new w(T.ns_tts,"overflow","hidden",["region"],!1,!0,function(D){return D},null),new w(T.ns_tts,"padding","0px",["region"],!1,!0,function(D){var c=D.split(" ");if(c.length>4)return null;for(var l=[],d=0;d<c.length;d++){var f=I.parseLength(c[d]);if(!f)return null;l.push(f)}return l},function(D,c,l,d,f){var _;if(1===d.length)_=[d[0],d[0],d[0],d[0]];else if(2===d.length)_=[d[0],d[1],d[0],d[1]];else if(3===d.length)_=[d[0],d[1],d[2],d[1]];else{if(4!==d.length)return null;_=[d[0],d[1],d[2],d[3]]}var N=l.styleAttrs[M.byName.writingMode.qname];if("lrtb"===N||"lr"===N)_=[_[0],_[3],_[2],_[1]];else if("rltb"===N||"rl"===N)_=[_[0],_[1],_[2],_[3]];else if("tblr"===N)_=[_[3],_[0],_[1],_[2]];else{if("tbrl"!==N&&"tb"!==N)return null;_=[_[3],_[2],_[1],_[0]]}for(var S=[],O=0;O<_.length;O++)if(0===_[O].value)S[O]=new I.ComputedLength(0,0);else if(S[O]=I.toComputedLength(_[O].value,_[O].unit,l.styleAttrs[M.byName.fontSize.qname],0===O||2===O?l.styleAttrs[M.byName.extent.qname].h:l.styleAttrs[M.byName.extent.qname].w,0===O||2===O?D.cellLength.h:D.cellLength.w,0===O||2===O?D.pxLength.h:D.pxLength.w),null===S[O])return null;return S}),new w(T.ns_tts,"position","top left",["region"],!1,!0,function(D){return I.parsePosition(D)},function(D,c,l,d){var f,_;return null===(f=I.toComputedLength(d.v.offset.value,d.v.offset.unit,null,new I.ComputedLength(-l.styleAttrs[M.byName.extent.qname].h.rw,D.dimensions.h.rh-l.styleAttrs[M.byName.extent.qname].h.rh),null,D.pxLength.h))||("bottom"===d.v.edge&&(f=new I.ComputedLength(-f.rw-l.styleAttrs[M.byName.extent.qname].h.rw,D.dimensions.h.rh-f.rh-l.styleAttrs[M.byName.extent.qname].h.rh)),_=I.toComputedLength(d.h.offset.value,d.h.offset.unit,null,new I.ComputedLength(D.dimensions.w.rw-l.styleAttrs[M.byName.extent.qname].w.rw,-l.styleAttrs[M.byName.extent.qname].w.rh),null,D.pxLength.w),null===f)?null:("right"===d.h.edge&&(_=new I.ComputedLength(D.dimensions.w.rw-_.rw-l.styleAttrs[M.byName.extent.qname].w.rw,-_.rh-l.styleAttrs[M.byName.extent.qname].w.rh)),{h:f,w:_})}),new w(T.ns_tts,"ruby","none",["span"],!1,!0,function(D){return D},null),new w(T.ns_tts,"rubyAlign","center",["span"],!0,!0,function(D){return"center"===D||"spaceAround"===D?D:null},null),new w(T.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(D){return D},null),new w(T.ns_tts,"rubyReserve","none",["p"],!0,!0,function(D){var c=D.split(" "),l=[null,null];if(0===c.length||c.length>2)return null;if("none"!==c[0]&&"both"!==c[0]&&"after"!==c[0]&&"before"!==c[0]&&"outside"!==c[0])return null;if(l[0]=c[0],2===c.length&&"none"!==c[0]){var d=I.parseLength(c[1]);if(!d)return null;l[1]=d}return l},function(D,c,l,d,f){if("none"===d[0])return d;var _;return null===(_=null===d[1]?new I.ComputedLength(.5*l.styleAttrs[M.byName.fontSize.qname].rw,.5*l.styleAttrs[M.byName.fontSize.qname].rh):I.toComputedLength(d[1].value,d[1].unit,l.styleAttrs[M.byName.fontSize.qname],l.styleAttrs[M.byName.fontSize.qname],D.cellLength.h,D.pxLength.h))?null:[d[0],_]}),new w(T.ns_tts,"showBackground","always",["region"],!1,!0,function(D){return D},null),new w(T.ns_tts,"textAlign","start",["p"],!0,!0,function(D){return D},function(D,c,l,d,f){return"left"===d?"start":"right"===d?"end":d}),new w(T.ns_tts,"textCombine","none",["span"],!0,!0,function(D){return"none"===D||"all"===D?D:null},null),new w(T.ns_tts,"textDecoration","none",["span"],!0,!0,function(D){return D.split(" ")},null),new w(T.ns_tts,"textEmphasis","none",["span"],!0,!0,function(D){for(var c=D.split(" "),l={style:null,symbol:null,color:null,position:null},d=0;d<c.length;d++)if("none"===c[d]||"auto"===c[d])l.style=c[d];else if("filled"===c[d]||"open"===c[d])l.style=c[d];else if("circle"===c[d]||"dot"===c[d]||"sesame"===c[d])l.symbol=c[d];else if("current"===c[d])l.color=c[d];else if("outside"===c[d]||"before"===c[d]||"after"===c[d])l.position=c[d];else if(l.color=I.parseColor(c[d]),null===l.color)return null;return null==l.style&&null==l.symbol?l.style="auto":(l.symbol=l.symbol||"circle",l.style=l.style||"filled"),l.position=l.position||"outside",l.color=l.color||"current",l},null),new w(T.ns_tts,"textOutline","none",["span"],!0,!0,function(D){if("none"===D)return D;var c={},l=D.split(" ");if(0===l.length||l.length>2)return null;var d=I.parseColor(l[0]);if(c.color=d,null!==d&&l.shift(),1!==l.length)return null;var f=I.parseLength(l[0]);return f?(c.thickness=f,c):null},function(D,c,l,d,f){if("none"===d)return d;var _={};return _.color=null===d.color?l.styleAttrs[M.byName.color.qname]:d.color,_.thickness=I.toComputedLength(d.thickness.value,d.thickness.unit,l.styleAttrs[M.byName.fontSize.qname],l.styleAttrs[M.byName.fontSize.qname],D.cellLength.h,D.pxLength.h),null===_.thickness?null:_}),new w(T.ns_tts,"textShadow","none",["span"],!0,!0,I.parseTextShadow,function(D,c,l,d){if("none"===d)return d;for(var f=[],_=0;_<d.length;_++){var N={};if(N.x_off=I.toComputedLength(d[_][0].value,d[_][0].unit,null,l.styleAttrs[M.byName.fontSize.qname],null,D.pxLength.w),null===N.x_off||(N.y_off=I.toComputedLength(d[_][1].value,d[_][1].unit,null,l.styleAttrs[M.byName.fontSize.qname],null,D.pxLength.h),null===N.y_off))return null;if(null===d[_][2])N.b_radius=0;else if(N.b_radius=I.toComputedLength(d[_][2].value,d[_][2].unit,null,l.styleAttrs[M.byName.fontSize.qname],null,D.pxLength.h),null===N.b_radius)return null;N.color=null===d[_][3]?l.styleAttrs[M.byName.color.qname]:d[_][3],f.push(N)}return f}),new w(T.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(D){return D},null),new w(T.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(D){return D},null),new w(T.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(D){return D},null),new w(T.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(D){return D},null),new w(T.ns_tts,"zIndex","auto",["region"],!1,!0,function(D){var c;return"auto"===D?c=D:(c=parseInt(D),isNaN(c)&&(c=null)),c},null),new w(T.ns_ebutts,"linePadding","0c",["p"],!0,!1,I.parseLength,function(D,c,l,d,f){return I.toComputedLength(d.value,d.unit,null,null,D.cellLength.w,null)}),new w(T.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(D){return D},null),new w(T.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(D){return D},null),new w(T.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(D){return"true"===D},null),new w(T.ns_itts,"fillLineGap","false",["p"],!0,!0,function(D){return"true"===D},null)],M.byQName={},M.all)M.byQName[M.all[P].qname]=M.all[P];for(var R in M.byName={},M.all)M.byName[M.all[R].name]=M.all[R]}(k,typeof imscNames>"u"?m(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?m(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(Ie,k,m){!function(M){var T=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,I=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,w=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,P={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};M.parseColor=function(D){var c,l=null,d=P[D.toLowerCase()];return void 0!==d?l=d:null!==(c=T.exec(D))?l=[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),void 0!==c[4]?parseInt(c[4],16):255]:null!==(c=I.exec(D))?l=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),255]:null!==(c=w.exec(D))&&(l=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),parseInt(c[4])]),l};var R=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;M.parseLength=function(D){var c,l=null;return null!==(c=R.exec(D))&&(l={value:parseFloat(c[1]),unit:c[2]}),l},M.parseTextShadow=function(D){for(var c=D.match(/([^\(,\)]|\([^\)]+\))+/g),l=[],d=0;d<c.length;d++){var f=c[d].split(" ");if(1===f.length&&"none"===f[0])return"none";if(f.length>1&&f.length<5){var _=[null,null,null,null],N=M.parseLength(f.shift());if(null===N||(_[0]=N,null===(N=M.parseLength(f.shift()))))return null;if(_[1]=N,0===f.length){l.push(_);continue}if(null!==(N=M.parseLength(f[0]))&&(_[2]=N,f.shift()),0===f.length){l.push(_);continue}var S=M.parseColor(f[0]);if(null===S)return null;_[3]=S,l.push(_)}}return l},M.parsePosition=function(D){var c=D.split(" "),l=function(b){return"center"===b||"left"===b||"top"===b||"bottom"===b||"right"===b};if(c.length>4)return null;for(var d=0;d<c.length;d++)if(!l(c[d])){var f=M.parseLength(c[d]);if(null===f)return null;c[d]=f}for(var _={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},N=0;N<c.length;){var S=c[N++];if(l(S)){var O={value:0,unit:"%"};2!==c.length&&N<c.length&&!l(c[N])&&(O=c[N++]),"right"===S?(_.h.edge=S,_.h.offset=O):"bottom"===S?(_.v.edge=S,_.v.offset=O):"left"===S?_.h.offset=O:"top"===S&&(_.v.offset=O)}else{if(1!==c.length&&2!==c.length)return null;1===N?_.h.offset=S:_.v.offset=S}}return _},M.ComputedLength=function(D,c){this.rw=D,this.rh=c},M.ComputedLength.prototype.toUsedLength=function(D,c){return D*this.rw+c*this.rh},M.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},M.toComputedLength=function(D,c,l,d,f,_){return"%"===c&&d?new M.ComputedLength(d.rw*D/100,d.rh*D/100):"em"===c&&l?new M.ComputedLength(l.rw*D,l.rh*D):"c"===c&&f?new M.ComputedLength(D*f.rw,D*f.rh):"px"===c&&_?new M.ComputedLength(D*_.rw,D*_.rh):"rh"===c?new M.ComputedLength(0,D/100):"rw"===c?new M.ComputedLength(D/100,0):null}}(k)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(Ie,k){Ie.exports="function"==typeof Object.create?function(M,T){T&&(M.super_=T,M.prototype=Object.create(T.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}))}:function(M,T){if(T){M.super_=T;var I=function(){};I.prototype=T.prototype,M.prototype=new I,M.prototype.constructor=M}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ie,k,m){"use strict";Ie.exports=function M(T){var I="string"==typeof T?T.charCodeAt(0):T;return I>=97&&I<=122||I>=65&&I<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";var M=m(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),T=m(
/*! is-decimal */
"./node_modules/is-decimal/index.js");Ie.exports=function I(w){return M(w)||T(w)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(Ie,k,m){"use strict";Ie.exports=function M(T){var I="string"==typeof T?T.charCodeAt(0):T;return I>=48&&I<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(Ie,k){var m={}.toString;Ie.exports=Array.isArray||function(M){return"[object Array]"==m.call(M)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ie,k,m){(function(M){function T(R,D){for(var c=0,l=R.length-1;l>=0;l--){var d=R[l];"."===d?R.splice(l,1):".."===d?(R.splice(l,1),c++):c&&(R.splice(l,1),c--)}if(D)for(;c--;c)R.unshift("..");return R}function w(R,D){if(R.filter)return R.filter(D);for(var c=[],l=0;l<R.length;l++)D(R[l],l,R)&&c.push(R[l]);return c}k.resolve=function(){for(var R="",D=!1,c=arguments.length-1;c>=-1&&!D;c--){var l=c>=0?arguments[c]:M.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(R=l+"/"+R,D="/"===l.charAt(0))}return(D?"/":"")+(R=T(w(R.split("/"),function(d){return!!d}),!D).join("/"))||"."},k.normalize=function(R){var D=k.isAbsolute(R),c="/"===P(R,-1);return!(R=T(w(R.split("/"),function(l){return!!l}),!D).join("/"))&&!D&&(R="."),R&&c&&(R+="/"),(D?"/":"")+R},k.isAbsolute=function(R){return"/"===R.charAt(0)},k.join=function(){var R=Array.prototype.slice.call(arguments,0);return k.normalize(w(R,function(D,c){if("string"!=typeof D)throw new TypeError("Arguments to path.join must be strings");return D}).join("/"))},k.relative=function(R,D){function c(O){for(var b=0;b<O.length&&""===O[b];b++);for(var v=O.length-1;v>=0&&""===O[v];v--);return b>v?[]:O.slice(b,v-b+1)}R=k.resolve(R).substr(1),D=k.resolve(D).substr(1);for(var l=c(R.split("/")),d=c(D.split("/")),f=Math.min(l.length,d.length),_=f,N=0;N<f;N++)if(l[N]!==d[N]){_=N;break}var S=[];for(N=_;N<l.length;N++)S.push("..");return(S=S.concat(d.slice(_))).join("/")},k.sep="/",k.delimiter=":",k.dirname=function(R){if("string"!=typeof R&&(R+=""),0===R.length)return".";for(var D=R.charCodeAt(0),c=47===D,l=-1,d=!0,f=R.length-1;f>=1;--f)if(47===(D=R.charCodeAt(f))){if(!d){l=f;break}}else d=!1;return-1===l?c?"/":".":c&&1===l?"/":R.slice(0,l)},k.basename=function(R,D){var c=function I(R){"string"!=typeof R&&(R+="");var d,D=0,c=-1,l=!0;for(d=R.length-1;d>=0;--d)if(47===R.charCodeAt(d)){if(!l){D=d+1;break}}else-1===c&&(l=!1,c=d+1);return-1===c?"":R.slice(D,c)}(R);return D&&c.substr(-1*D.length)===D&&(c=c.substr(0,c.length-D.length)),c},k.extname=function(R){"string"!=typeof R&&(R+="");for(var D=-1,c=0,l=-1,d=!0,f=0,_=R.length-1;_>=0;--_){var N=R.charCodeAt(_);if(47!==N)-1===l&&(d=!1,l=_+1),46===N?-1===D?D=_:1!==f&&(f=1):-1!==D&&(f=-1);else if(!d){c=_+1;break}}return-1===D||-1===l||0===f||1===f&&D===l-1&&D===c+1?"":R.slice(D,l)};var P=function(R,D,c){return R.substr(D,c)}}).call(this,m(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";(function(M){Ie.exports=typeof M>"u"||!M.version||0===M.version.indexOf("v0.")||0===M.version.indexOf("v1.")&&0!==M.version.indexOf("v1.8.")?{nextTick:function T(I,w,P,R){if("function"!=typeof I)throw new TypeError('"callback" argument must be a function');var c,l,D=arguments.length;switch(D){case 0:case 1:return M.nextTick(I);case 2:return M.nextTick(function(){I.call(null,w)});case 3:return M.nextTick(function(){I.call(null,w,P)});case 4:return M.nextTick(function(){I.call(null,w,P,R)});default:for(c=new Array(D-1),l=0;l<c.length;)c[l++]=arguments[l];return M.nextTick(function(){I.apply(null,c)})}}}:M}).call(this,m(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(Ie,k){var M,T,m=Ie.exports={};function I(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}function P(O){if(M===setTimeout)return setTimeout(O,0);if((M===I||!M)&&setTimeout)return M=setTimeout,setTimeout(O,0);try{return M(O,0)}catch{try{return M.call(null,O,0)}catch{return M.call(this,O,0)}}}!function(){try{M="function"==typeof setTimeout?setTimeout:I}catch{M=I}try{T="function"==typeof clearTimeout?clearTimeout:w}catch{T=w}}();var l,D=[],c=!1,d=-1;function f(){!c||!l||(c=!1,l.length?D=l.concat(D):d=-1,D.length&&_())}function _(){if(!c){var O=P(f);c=!0;for(var b=D.length;b;){for(l=D,D=[];++d<b;)l&&l[d].run();d=-1,b=D.length}l=null,c=!1,function R(O){if(T===clearTimeout)return clearTimeout(O);if((T===w||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(O);try{return T(O)}catch{try{return T.call(null,O)}catch{return T.call(this,O)}}}(O)}}function N(O,b){this.fun=O,this.array=b}function S(){}m.nextTick=function(O){var b=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)b[v-1]=arguments[v];D.push(new N(O,b)),1===D.length&&!c&&P(_)},N.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=S,m.addListener=S,m.once=S,m.off=S,m.removeListener=S,m.removeAllListeners=S,m.emit=S,m.prependListener=S,m.prependOnceListener=S,m.listeners=function(O){return[]},m.binding=function(O){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(O){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(Ie,k,m){Ie.exports=m(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";var M=m(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),T=Object.keys||function(_){var N=[];for(var S in _)N.push(S);return N};Ie.exports=l;var I=Object.create(m(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));I.inherits=m(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var w=m(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),P=m(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");I.inherits(l,w);for(var R=T(P.prototype),D=0;D<R.length;D++){var c=R[D];l.prototype[c]||(l.prototype[c]=P.prototype[c])}function l(_){if(!(this instanceof l))return new l(_);w.call(this,_),P.call(this,_),_&&!1===_.readable&&(this.readable=!1),_&&!1===_.writable&&(this.writable=!1),this.allowHalfOpen=!0,_&&!1===_.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||M.nextTick(f,this)}function f(_){_.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(_){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),l.prototype._destroy=function(_,N){this.push(null),this.end(),M.nextTick(N,_)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";Ie.exports=I;var M=m(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),T=Object.create(m(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function I(w){if(!(this instanceof I))return new I(w);M.call(this,w)}T.inherits=m(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),T.inherits(I,M),I.prototype._transform=function(w,P,R){R(null,w)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";(function(M,T){var I=m(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");Ie.exports=E;var P,w=m(
/*! isarray */
"./node_modules/isarray/index.js");E.ReadableState=A,m(
/*! events */
"./node_modules/events/events.js");var D=function(X,F){return X.listeners(F).length},c=m(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),l=m(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,d=M.Uint8Array||function(){};var N=Object.create(m(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));N.inherits=m(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var S=m(
/*! util */
0),O=void 0;O=S&&S.debuglog?S.debuglog("stream"):function(){};var p,b=m(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),v=m(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");N.inherits(E,c);var y=["error","close","destroy","pause","resume"];function A(X,F){var V=F instanceof(P=P||m(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(X=X||{}).objectMode,V&&(this.objectMode=this.objectMode||!!X.readableObjectMode);var re=X.highWaterMark,U=X.readableHighWaterMark;this.highWaterMark=re||0===re?re:V&&(U||0===U)?U:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(p||(p=m(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new p(X.encoding),this.encoding=X.encoding)}function E(X){if(P=P||m(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof E))return new E(X);this._readableState=new A(X,this),this.readable=!0,X&&("function"==typeof X.read&&(this._read=X.read),"function"==typeof X.destroy&&(this._destroy=X.destroy)),c.call(this)}function L(X,F,V,re,U){var me,te=X._readableState;return null===F?(te.reading=!1,function x(X,F){if(!F.ended){if(F.decoder){var V=F.decoder.end();V&&V.length&&(F.buffer.push(V),F.length+=F.objectMode?1:V.length)}F.ended=!0,Y(X)}}(X,te)):(U||(me=function ee(X,F){var V;return!function _(X){return l.isBuffer(X)||X instanceof d}(F)&&"string"!=typeof F&&void 0!==F&&!X.objectMode&&(V=new TypeError("Invalid non-string/buffer chunk")),V}(te,F)),me?X.emit("error",me):te.objectMode||F&&F.length>0?("string"!=typeof F&&!te.objectMode&&Object.getPrototypeOf(F)!==l.prototype&&(F=function f(X){return l.from(X)}(F)),re?te.endEmitted?X.emit("error",new Error("stream.unshift() after end event")):K(X,te,F,!0):te.ended?X.emit("error",new Error("stream.push() after EOF")):(te.reading=!1,te.decoder&&!V?(F=te.decoder.write(F),te.objectMode||0!==F.length?K(X,te,F,!1):ie(X,te)):K(X,te,F,!1))):re||(te.reading=!1)),function Z(X){return!X.ended&&(X.needReadable||X.length<X.highWaterMark||0===X.length)}(te)}function K(X,F,V,re){F.flowing&&0===F.length&&!F.sync?(X.emit("data",V),X.read(0)):(F.length+=F.objectMode?1:V.length,re?F.buffer.unshift(V):F.buffer.push(V),F.needReadable&&Y(X)),ie(X,F)}Object.defineProperty(E.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(X,F){this.push(null),F(X)},E.prototype.push=function(X,F){var re,V=this._readableState;return V.objectMode?re=!0:"string"==typeof X&&((F=F||V.defaultEncoding)!==V.encoding&&(X=l.from(X,F),F=""),re=!0),L(this,X,F,!1,re)},E.prototype.unshift=function(X){return L(this,X,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(X){return p||(p=m(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new p(X),this._readableState.encoding=X,this};function W(X,F){return X<=0||0===F.length&&F.ended?0:F.objectMode?1:X!=X?F.flowing&&F.length?F.buffer.head.data.length:F.length:(X>F.highWaterMark&&(F.highWaterMark=function H(X){return X>=8388608?X=8388608:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}(X)),X<=F.length?X:F.ended?F.length:(F.needReadable=!0,0))}function Y(X){var F=X._readableState;F.needReadable=!1,F.emittedReadable||(O("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?I.nextTick(G,X):G(X))}function G(X){O("emit readable"),X.emit("readable"),pe(X)}function ie(X,F){F.readingMore||(F.readingMore=!0,I.nextTick(oe,X,F))}function oe(X,F){for(var V=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(O("maybeReadMore read 0"),X.read(0),V!==F.length);)V=F.length;F.readingMore=!1}function J(X){O("readable nexttick read 0"),X.read(0)}function ae(X,F){F.reading||(O("resume read 0"),X.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,X.emit("resume"),pe(X),F.flowing&&!F.reading&&X.read(0)}function pe(X){var F=X._readableState;for(O("flow",F.flowing);F.flowing&&null!==X.read(););}function he(X,F){return 0===F.length?null:(F.objectMode?V=F.buffer.shift():!X||X>=F.length?(V=F.decoder?F.buffer.join(""):1===F.buffer.length?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):V=function fe(X,F,V){var re;return X<F.head.data.length?(re=F.head.data.slice(0,X),F.head.data=F.head.data.slice(X)):re=X===F.head.data.length?F.shift():V?function ve(X,F){var V=F.head,re=1,U=V.data;for(X-=U.length;V=V.next;){var te=V.data,me=X>te.length?te.length:X;if(U+=me===te.length?te:te.slice(0,X),0==(X-=me)){me===te.length?(++re,F.head=V.next?V.next:F.tail=null):(F.head=V,V.data=te.slice(me));break}++re}return F.length-=re,U}(X,F):function se(X,F){var V=l.allocUnsafe(X),re=F.head,U=1;for(re.data.copy(V),X-=re.data.length;re=re.next;){var te=re.data,me=X>te.length?te.length:X;if(te.copy(V,V.length-X,0,me),0==(X-=me)){me===te.length?(++U,F.head=re.next?re.next:F.tail=null):(F.head=re,re.data=te.slice(me));break}++U}return F.length-=U,V}(X,F),re}(X,F.buffer,F.decoder),V);var V}function Se(X){var F=X._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,I.nextTick(_e,F,X))}function _e(X,F){!X.endEmitted&&0===X.length&&(X.endEmitted=!0,F.readable=!1,F.emit("end"))}function ne(X,F){for(var V=0,re=X.length;V<re;V++)if(X[V]===F)return V;return-1}E.prototype.read=function(X){O("read",X),X=parseInt(X,10);var F=this._readableState,V=X;if(0!==X&&(F.emittedReadable=!1),0===X&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return O("read: emitReadable",F.length,F.ended),0===F.length&&F.ended?Se(this):Y(this),null;if(0===(X=W(X,F))&&F.ended)return 0===F.length&&Se(this),null;var U,re=F.needReadable;return O("need readable",re),(0===F.length||F.length-X<F.highWaterMark)&&O("length less than watermark",re=!0),F.ended||F.reading?O("reading or ended",re=!1):re&&(O("do read"),F.reading=!0,F.sync=!0,0===F.length&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(X=W(V,F))),null===(U=X>0?he(X,F):null)?(F.needReadable=!0,X=0):F.length-=X,0===F.length&&(F.ended||(F.needReadable=!0),V!==X&&F.ended&&Se(this)),null!==U&&this.emit("data",U),U},E.prototype._read=function(X){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(X,F){var V=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=X;break;case 1:re.pipes=[re.pipes,X];break;default:re.pipes.push(X)}re.pipesCount+=1,O("pipe count=%d opts=%j",re.pipesCount,F);var te=F&&!1===F.end||X===T.stdout||X===T.stderr?Pe:Ee;function me(we,je){O("onunpipe"),we===V&&je&&!1===je.hasUnpiped&&(je.hasUnpiped=!0,function j(){O("cleanup"),X.removeListener("close",be),X.removeListener("finish",Re),X.removeListener("drain",q),X.removeListener("error",ue),X.removeListener("unpipe",me),V.removeListener("end",Ee),V.removeListener("end",Pe),V.removeListener("data",ce),z=!0,re.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&q()}())}function Ee(){O("onend"),X.end()}re.endEmitted?I.nextTick(te):V.once("end",te),X.on("unpipe",me);var q=function ye(X){return function(){var F=X._readableState;O("pipeOnDrain",F.awaitDrain),F.awaitDrain&&F.awaitDrain--,0===F.awaitDrain&&D(X,"data")&&(F.flowing=!0,pe(X))}}(V);X.on("drain",q);var z=!1;var $=!1;function ce(we){O("ondata"),$=!1,!1===X.write(we)&&!$&&((1===re.pipesCount&&re.pipes===X||re.pipesCount>1&&-1!==ne(re.pipes,X))&&!z&&(O("false write response, pause",V._readableState.awaitDrain),V._readableState.awaitDrain++,$=!0),V.pause())}function ue(we){O("onerror",we),Pe(),X.removeListener("error",ue),0===D(X,"error")&&X.emit("error",we)}function be(){X.removeListener("finish",Re),Pe()}function Re(){O("onfinish"),X.removeListener("close",be),Pe()}function Pe(){O("unpipe"),V.unpipe(X)}return V.on("data",ce),function g(X,F,V){if("function"==typeof X.prependListener)return X.prependListener(F,V);X._events&&X._events[F]?w(X._events[F])?X._events[F].unshift(V):X._events[F]=[V,X._events[F]]:X.on(F,V)}(X,"error",ue),X.once("close",be),X.once("finish",Re),X.emit("pipe",V),re.flowing||(O("pipe resume"),V.resume()),X},E.prototype.unpipe=function(X){var F=this._readableState,V={hasUnpiped:!1};if(0===F.pipesCount)return this;if(1===F.pipesCount)return X&&X!==F.pipes||(X||(X=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,X&&X.emit("unpipe",this,V)),this;if(!X){var re=F.pipes,U=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var te=0;te<U;te++)re[te].emit("unpipe",this,V);return this}var me=ne(F.pipes,X);return-1===me||(F.pipes.splice(me,1),F.pipesCount-=1,1===F.pipesCount&&(F.pipes=F.pipes[0]),X.emit("unpipe",this,V)),this},E.prototype.addListener=E.prototype.on=function(X,F){var V=c.prototype.on.call(this,X,F);if("data"===X)!1!==this._readableState.flowing&&this.resume();else if("readable"===X){var re=this._readableState;!re.endEmitted&&!re.readableListening&&(re.readableListening=re.needReadable=!0,re.emittedReadable=!1,re.reading?re.length&&Y(this):I.nextTick(J,this))}return V},E.prototype.resume=function(){var X=this._readableState;return X.flowing||(O("resume"),X.flowing=!0,function de(X,F){F.resumeScheduled||(F.resumeScheduled=!0,I.nextTick(ae,X,F))}(this,X)),this},E.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this},E.prototype.wrap=function(X){var F=this,V=this._readableState,re=!1;for(var U in X.on("end",function(){if(O("wrapped end"),V.decoder&&!V.ended){var me=V.decoder.end();me&&me.length&&F.push(me)}F.push(null)}),X.on("data",function(me){O("wrapped data"),V.decoder&&(me=V.decoder.write(me)),V.objectMode&&null==me||!(V.objectMode||me&&me.length)||F.push(me)||(re=!0,X.pause())}),X)void 0===this[U]&&"function"==typeof X[U]&&(this[U]=function(me){return function(){return X[me].apply(X,arguments)}}(U));for(var te=0;te<y.length;te++)X.on(y[te],this.emit.bind(this,y[te]));return this._read=function(me){O("wrapped _read",me),re&&(re=!1,X.resume())},this},Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),E._fromList=he}).call(this,m(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),m(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";Ie.exports=w;var M=m(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),T=Object.create(m(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function I(D,c){var l=this._transformState;l.transforming=!1;var d=l.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,null!=c&&this.push(c),d(D);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function w(D){if(!(this instanceof w))return new w(D);M.call(this,D),this._transformState={afterTransform:I.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",P)}function P(){var D=this;"function"==typeof this._flush?this._flush(function(c,l){R(D,c,l)}):R(this,null,null)}function R(D,c,l){if(c)return D.emit("error",c);if(null!=l&&D.push(l),D._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(D._transformState.transforming)throw new Error("Calling transform done when still transforming");return D.push(null)}T.inherits=m(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),T.inherits(w,M),w.prototype.push=function(D,c){return this._transformState.needTransform=!1,M.prototype.push.call(this,D,c)},w.prototype._transform=function(D,c,l){throw new Error("_transform() is not implemented")},w.prototype._write=function(D,c,l){var d=this._transformState;if(d.writecb=l,d.writechunk=D,d.writeencoding=c,!d.transforming){var f=this._readableState;(d.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},w.prototype._read=function(D){var c=this._transformState;null!==c.writechunk&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},w.prototype._destroy=function(D,c){var l=this;M.prototype._destroy.call(this,D,function(d){c(d),l.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";(function(M,T,I){var w=m(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function R(ae){var pe=this;this.next=null,this.entry=null,this.finish=function(){!function de(ae,pe,he){var fe=ae.entry;for(ae.entry=null;fe;){var ve=fe.callback;pe.pendingcb--,ve(he),fe=fe.next}pe.corkedRequestsFree?pe.corkedRequestsFree.next=ae:pe.corkedRequestsFree=ae}(pe,ae)}}Ie.exports=g;var c,D=!M.browser&&["v0.10","v0.9."].indexOf(M.version.slice(0,5))>-1?T:w.nextTick;g.WritableState=p;var l=Object.create(m(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));l.inherits=m(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var d={deprecate:m(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},f=m(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),_=m(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,N=I.Uint8Array||function(){};var y,b=m(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function v(){}function p(ae,pe){c=c||m(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var he=pe instanceof c;this.objectMode=!!(ae=ae||{}).objectMode,he&&(this.objectMode=this.objectMode||!!ae.writableObjectMode);var fe=ae.highWaterMark,ve=ae.writableHighWaterMark;this.highWaterMark=fe||0===fe?fe:he&&(ve||0===ve)?ve:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ae.decodeStrings),this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){!function H(ae,pe){var he=ae._writableState,fe=he.sync,ve=he.writecb;if(function le(ae){ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0}(he),pe)!function Z(ae,pe,he,fe,ve){--pe.pendingcb,he?(w.nextTick(ve,fe),w.nextTick(ye,ae,pe),ae._writableState.errorEmitted=!0,ae.emit("error",fe)):(ve(fe),ae._writableState.errorEmitted=!0,ae.emit("error",fe),ye(ae,pe))}(ae,he,fe,pe,ve);else{var se=G(he);!se&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&Y(ae,he),fe?D(W,ae,he,se,ve):W(ae,he,se,ve)}}(pe,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new R(this)}function g(ae){if(c=c||m(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(y.call(g,this)||this instanceof c))return new g(ae);this._writableState=new p(ae,this),this.writable=!0,ae&&("function"==typeof ae.write&&(this._write=ae.write),"function"==typeof ae.writev&&(this._writev=ae.writev),"function"==typeof ae.destroy&&(this._destroy=ae.destroy),"function"==typeof ae.final&&(this._final=ae.final)),f.call(this)}function K(ae,pe,he,fe,ve,se){if(!he){var Se=function L(ae,pe,he){return!ae.objectMode&&!1!==ae.decodeStrings&&"string"==typeof pe&&(pe=_.from(pe,he)),pe}(pe,fe,ve);fe!==Se&&(he=!0,ve="buffer",fe=Se)}var _e=pe.objectMode?1:fe.length;pe.length+=_e;var ne=pe.length<pe.highWaterMark;if(ne||(pe.needDrain=!0),pe.writing||pe.corked){var X=pe.lastBufferedRequest;pe.lastBufferedRequest={chunk:fe,encoding:ve,isBuf:he,callback:se,next:null},X?X.next=pe.lastBufferedRequest:pe.bufferedRequest=pe.lastBufferedRequest,pe.bufferedRequestCount+=1}else ee(ae,pe,!1,_e,fe,ve,se);return ne}function ee(ae,pe,he,fe,ve,se,Se){pe.writelen=fe,pe.writecb=Se,pe.writing=!0,pe.sync=!0,he?ae._writev(ve,pe.onwrite):ae._write(ve,se,pe.onwrite),pe.sync=!1}function W(ae,pe,he,fe){he||function x(ae,pe){0===pe.length&&pe.needDrain&&(pe.needDrain=!1,ae.emit("drain"))}(ae,pe),pe.pendingcb--,fe(),ye(ae,pe)}function Y(ae,pe){pe.bufferProcessing=!0;var he=pe.bufferedRequest;if(ae._writev&&he&&he.next){var ve=new Array(pe.bufferedRequestCount),se=pe.corkedRequestsFree;se.entry=he;for(var Se=0,_e=!0;he;)ve[Se]=he,he.isBuf||(_e=!1),he=he.next,Se+=1;ve.allBuffers=_e,ee(ae,pe,!0,pe.length,ve,"",se.finish),pe.pendingcb++,pe.lastBufferedRequest=null,se.next?(pe.corkedRequestsFree=se.next,se.next=null):pe.corkedRequestsFree=new R(pe),pe.bufferedRequestCount=0}else{for(;he;){var ne=he.chunk;if(ee(ae,pe,!1,pe.objectMode?1:ne.length,ne,he.encoding,he.callback),he=he.next,pe.bufferedRequestCount--,pe.writing)break}null===he&&(pe.lastBufferedRequest=null)}pe.bufferedRequest=he,pe.bufferProcessing=!1}function G(ae){return ae.ending&&0===ae.length&&null===ae.bufferedRequest&&!ae.finished&&!ae.writing}function ie(ae,pe){ae._final(function(he){pe.pendingcb--,he&&ae.emit("error",he),pe.prefinished=!0,ae.emit("prefinish"),ye(ae,pe)})}function ye(ae,pe){var he=G(pe);return he&&(function oe(ae,pe){!pe.prefinished&&!pe.finalCalled&&("function"==typeof ae._final?(pe.pendingcb++,pe.finalCalled=!0,w.nextTick(ie,ae,pe)):(pe.prefinished=!0,ae.emit("prefinish")))}(ae,pe),0===pe.pendingcb&&(pe.finished=!0,ae.emit("finish"))),he}l.inherits(g,f),p.prototype.getBuffer=function(){for(var pe=this.bufferedRequest,he=[];pe;)he.push(pe),pe=pe.next;return he},function(){try{Object.defineProperty(p.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(ae){return!!y.call(this,ae)||this===g&&ae&&ae._writableState instanceof p}})):y=function(ae){return ae instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(ae,pe,he){var fe=this._writableState,ve=!1,se=!fe.objectMode&&function O(ae){return _.isBuffer(ae)||ae instanceof N}(ae);return se&&!_.isBuffer(ae)&&(ae=function S(ae){return _.from(ae)}(ae)),"function"==typeof pe&&(he=pe,pe=null),se?pe="buffer":pe||(pe=fe.defaultEncoding),"function"!=typeof he&&(he=v),fe.ended?function A(ae,pe){var he=new Error("write after end");ae.emit("error",he),w.nextTick(pe,he)}(this,he):(se||function E(ae,pe,he,fe){var ve=!0,se=!1;return null===he?se=new TypeError("May not write null values to stream"):"string"!=typeof he&&void 0!==he&&!pe.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se&&(ae.emit("error",se),w.nextTick(fe,se),ve=!1),ve}(this,fe,ae,he))&&(fe.pendingcb++,ve=K(this,fe,se,ae,pe,he)),ve},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,!ae.writing&&!ae.corked&&!ae.finished&&!ae.bufferProcessing&&ae.bufferedRequest&&Y(this,ae))},g.prototype.setDefaultEncoding=function(pe){if("string"==typeof pe&&(pe=pe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((pe+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+pe);return this._writableState.defaultEncoding=pe,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(ae,pe,he){he(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(ae,pe,he){var fe=this._writableState;"function"==typeof ae?(he=ae,ae=null,pe=null):"function"==typeof pe&&(he=pe,pe=null),null!=ae&&this.write(ae,pe),fe.corked&&(fe.corked=1,this.uncork()),!fe.ending&&!fe.finished&&function J(ae,pe,he){pe.ending=!0,ye(ae,pe),he&&(pe.finished?w.nextTick(he):ae.once("finish",he)),pe.ended=!0,ae.writable=!1}(this,fe,he)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),g.prototype.destroy=b.destroy,g.prototype._undestroy=b.undestroy,g.prototype._destroy=function(ae,pe){this.end(),pe(ae)}}).call(this,m(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),m(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,m(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";var T=m(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,I=m(
/*! util */
1);function w(P,R,D){P.copy(R,D)}Ie.exports=function(){function P(){(function M(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")})(this,P),this.head=null,this.tail=null,this.length=0}return P.prototype.push=function(D){var c={data:D,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},P.prototype.unshift=function(D){var c={data:D,next:this.head};0===this.length&&(this.tail=c),this.head=c,++this.length},P.prototype.shift=function(){if(0!==this.length){var D=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,D}},P.prototype.clear=function(){this.head=this.tail=null,this.length=0},P.prototype.join=function(D){if(0===this.length)return"";for(var c=this.head,l=""+c.data;c=c.next;)l+=D+c.data;return l},P.prototype.concat=function(D){if(0===this.length)return T.alloc(0);if(1===this.length)return this.head.data;for(var c=T.allocUnsafe(D>>>0),l=this.head,d=0;l;)w(l.data,c,d),d+=l.data.length,l=l.next;return c},P}(),I&&I.inspect&&I.inspect.custom&&(Ie.exports.prototype[I.inspect.custom]=function(){var P=I.inspect({length:this.length});return this.constructor.name+" "+P})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";var M=m(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function w(P,R){P.emit("error",R)}Ie.exports={destroy:function T(P,R){var D=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(R?R(P):P&&(!this._writableState||!this._writableState.errorEmitted)&&M.nextTick(w,this,P),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(d){!R&&d?(M.nextTick(w,D,d),D._writableState&&(D._writableState.errorEmitted=!0)):R&&R(d)}),this)},undestroy:function I(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(Ie,k,m){Ie.exports=m(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(Ie,k,m){var M=m(
/*! buffer */
"./node_modules/buffer/index.js"),T=M.Buffer;function I(P,R){for(var D in P)R[D]=P[D]}function w(P,R,D){return T(P,R,D)}T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?Ie.exports=M:(I(M,k),k.Buffer=w),I(T,w),w.from=function(P,R,D){if("number"==typeof P)throw new TypeError("Argument must not be a number");return T(P,R,D)},w.alloc=function(P,R,D){if("number"!=typeof P)throw new TypeError("Argument must be a number");var c=T(P);return void 0!==R?"string"==typeof D?c.fill(R,D):c.fill(R):c.fill(0),c},w.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return T(P)},w.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return M.SlowBuffer(P)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(Ie,k,m){Ie.exports=m(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Ie,k,m){(k=Ie.exports=m(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=k,k.Readable=k,k.Writable=m(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),k.Duplex=m(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),k.Transform=m(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),k.PassThrough=m(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(Ie,k,m){Ie.exports=m(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Ie,k,m){Ie.exports=m(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(Ie,k,m){var M=m(
/*! buffer */
"./node_modules/buffer/index.js"),T=M.Buffer;function I(P,R){for(var D in P)R[D]=P[D]}function w(P,R,D){return T(P,R,D)}T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?Ie.exports=M:(I(M,k),k.Buffer=w),w.prototype=Object.create(T.prototype),I(T,w),w.from=function(P,R,D){if("number"==typeof P)throw new TypeError("Argument must not be a number");return T(P,R,D)},w.alloc=function(P,R,D){if("number"!=typeof P)throw new TypeError("Argument must be a number");var c=T(P);return void 0!==R?"string"==typeof D?c.fill(R,D):c.fill(R):c.fill(0),c},w.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return T(P)},w.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return M.SlowBuffer(P)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(Ie,k,m){(function(M){!function(T){T.parser=function(F,V){return new w(F,V)},T.SAXParser=w,T.SAXStream=f,T.createStream=function d(F,V){return new f(F,V)},T.MAX_BUFFER_LENGTH=65536;var c,I=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function w(F,V){if(!(this instanceof w))return new w(F,V);var re=this;(function R(F){for(var V=0,re=I.length;V<re;V++)F[I[V]]=""})(re),re.q=re.c="",re.bufferCheckPosition=T.MAX_BUFFER_LENGTH,re.opt=V||{},re.opt.lowercase=re.opt.lowercase||re.opt.lowercasetags,re.looseCase=re.opt.lowercase?"toLowerCase":"toUpperCase",re.tags=[],re.closed=re.closedRoot=re.sawRoot=!1,re.tag=re.error=null,re.strict=!!F,re.noscript=!(!F&&!re.opt.noscript),re.state=x.BEGIN,re.strictEntities=re.opt.strictEntities,re.ENTITIES=Object.create(re.strictEntities?T.XML_ENTITIES:T.ENTITIES),re.attribList=[],re.opt.xmlns&&(re.ns=Object.create(A)),re.trackPosition=!1!==re.opt.position,re.trackPosition&&(re.position=re.line=re.column=0),G(re,"onready")}T.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(F){function V(){}return V.prototype=F,new V}),Object.keys||(Object.keys=function(F){var V=[];for(var re in F)F.hasOwnProperty(re)&&V.push(re);return V}),w.prototype={end:function(){de(this)},write:function X(F){var V=this;if(this.error)throw this.error;if(V.closed)return J(V,"Cannot write after close. Assign an onready handler.");if(null===F)return de(V);"object"==typeof F&&(F=F.toString());for(var re=0,U="";U=ne(F,re++),V.c=U,U;)switch(V.trackPosition&&(V.position++,"\n"===U?(V.line++,V.column=0):V.column++),V.state){case x.BEGIN:if(V.state=x.BEGIN_WHITESPACE,"\ufeff"===U)continue;_e(V,U);continue;case x.BEGIN_WHITESPACE:_e(V,U);continue;case x.TEXT:if(V.sawRoot&&!V.closedRoot){for(var te=re-1;U&&"<"!==U&&"&"!==U;)(U=ne(F,re++))&&V.trackPosition&&(V.position++,"\n"===U?(V.line++,V.column=0):V.column++);V.textNode+=F.substring(te,re-1)}"<"!==U||V.sawRoot&&V.closedRoot&&!V.strict?(W(_,U)&&(!V.sawRoot||V.closedRoot)&&ae(V,"Text data outside of root node."),"&"===U?V.state=x.TEXT_ENTITY:V.textNode+=U):(V.state=x.OPEN_WAKA,V.startTagPosition=V.position);continue;case x.SCRIPT:"<"===U?V.state=x.SCRIPT_ENDING:V.script+=U;continue;case x.SCRIPT_ENDING:"/"===U?V.state=x.CLOSE_TAG:(V.script+="<"+U,V.state=x.SCRIPT);continue;case x.OPEN_WAKA:"!"===U?(V.state=x.SGML_DECL,V.sgmlDecl=""):H(_,U)||(H(E,U)?(V.state=x.OPEN_TAG,V.tagName=U):"/"===U?(V.state=x.CLOSE_TAG,V.tagName=""):"?"===U?(V.state=x.PROC_INST,V.procInstName=V.procInstBody=""):(ae(V,"Unencoded <"),V.startTagPosition+1<V.position&&(U=new Array(V.position-V.startTagPosition).join(" ")+U),V.textNode+="<"+U,V.state=x.TEXT));continue;case x.SGML_DECL:"[CDATA["===(V.sgmlDecl+U).toUpperCase()?(ie(V,"onopencdata"),V.state=x.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+U==="--"?(V.state=x.COMMENT,V.comment="",V.sgmlDecl=""):"DOCTYPE"===(V.sgmlDecl+U).toUpperCase()?(V.state=x.DOCTYPE,(V.doctype||V.sawRoot)&&ae(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):">"===U?(ie(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=x.TEXT):(H(O,U)&&(V.state=x.SGML_DECL_QUOTED),V.sgmlDecl+=U);continue;case x.SGML_DECL_QUOTED:U===V.q&&(V.state=x.SGML_DECL,V.q=""),V.sgmlDecl+=U;continue;case x.DOCTYPE:">"===U?(V.state=x.TEXT,ie(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=U,"["===U?V.state=x.DOCTYPE_DTD:H(O,U)&&(V.state=x.DOCTYPE_QUOTED,V.q=U));continue;case x.DOCTYPE_QUOTED:V.doctype+=U,U===V.q&&(V.q="",V.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:V.doctype+=U,"]"===U?V.state=x.DOCTYPE:H(O,U)&&(V.state=x.DOCTYPE_DTD_QUOTED,V.q=U);continue;case x.DOCTYPE_DTD_QUOTED:V.doctype+=U,U===V.q&&(V.state=x.DOCTYPE_DTD,V.q="");continue;case x.COMMENT:"-"===U?V.state=x.COMMENT_ENDING:V.comment+=U;continue;case x.COMMENT_ENDING:"-"===U?(V.state=x.COMMENT_ENDED,V.comment=ye(V.opt,V.comment),V.comment&&ie(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+U,V.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==U?(ae(V,"Malformed comment"),V.comment+="--"+U,V.state=x.COMMENT):V.state=x.TEXT;continue;case x.CDATA:"]"===U?V.state=x.CDATA_ENDING:V.cdata+=U;continue;case x.CDATA_ENDING:"]"===U?V.state=x.CDATA_ENDING_2:(V.cdata+="]"+U,V.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===U?(V.cdata&&ie(V,"oncdata",V.cdata),ie(V,"onclosecdata"),V.cdata="",V.state=x.TEXT):"]"===U?V.cdata+="]":(V.cdata+="]]"+U,V.state=x.CDATA);continue;case x.PROC_INST:"?"===U?V.state=x.PROC_INST_ENDING:H(_,U)?V.state=x.PROC_INST_BODY:V.procInstName+=U;continue;case x.PROC_INST_BODY:if(!V.procInstBody&&H(_,U))continue;"?"===U?V.state=x.PROC_INST_ENDING:V.procInstBody+=U;continue;case x.PROC_INST_ENDING:">"===U?(ie(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=x.TEXT):(V.procInstBody+="?"+U,V.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:H(L,U)?V.tagName+=U:(pe(V),">"===U?ve(V):"/"===U?V.state=x.OPEN_TAG_SLASH:(W(_,U)&&ae(V,"Invalid character in tag name"),V.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===U?(ve(V,!0),se(V)):(ae(V,"Forward-slash in opening tag not followed by >"),V.state=x.ATTRIB);continue;case x.ATTRIB:if(H(_,U))continue;">"===U?ve(V):"/"===U?V.state=x.OPEN_TAG_SLASH:H(E,U)?(V.attribName=U,V.attribValue="",V.state=x.ATTRIB_NAME):ae(V,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===U?V.state=x.ATTRIB_VALUE:">"===U?(ae(V,"Attribute without value"),V.attribValue=V.attribName,fe(V),ve(V)):H(_,U)?V.state=x.ATTRIB_NAME_SAW_WHITE:H(L,U)?V.attribName+=U:ae(V,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===U)V.state=x.ATTRIB_VALUE;else{if(H(_,U))continue;ae(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",ie(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",">"===U?ve(V):H(E,U)?(V.attribName=U,V.state=x.ATTRIB_NAME):(ae(V,"Invalid attribute name"),V.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(H(_,U))continue;H(O,U)?(V.q=U,V.state=x.ATTRIB_VALUE_QUOTED):(ae(V,"Unquoted attribute value"),V.state=x.ATTRIB_VALUE_UNQUOTED,V.attribValue=U);continue;case x.ATTRIB_VALUE_QUOTED:if(U!==V.q){"&"===U?V.state=x.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=U;continue}fe(V),V.q="",V.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:H(_,U)?V.state=x.ATTRIB:">"===U?ve(V):"/"===U?V.state=x.OPEN_TAG_SLASH:H(E,U)?(ae(V,"No whitespace between attributes"),V.attribName=U,V.attribValue="",V.state=x.ATTRIB_NAME):ae(V,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(W(b,U)){"&"===U?V.state=x.ATTRIB_VALUE_ENTITY_U:V.attribValue+=U;continue}fe(V),">"===U?ve(V):V.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(V.tagName)">"===U?se(V):H(L,U)?V.tagName+=U:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=x.SCRIPT):(W(_,U)&&ae(V,"Invalid tagname in closing tag"),V.state=x.CLOSE_TAG_SAW_WHITE);else{if(H(_,U))continue;W(E,U)?V.script?(V.script+="</"+U,V.state=x.SCRIPT):ae(V,"Invalid tagname in closing tag."):V.tagName=U}continue;case x.CLOSE_TAG_SAW_WHITE:if(H(_,U))continue;">"===U?se(V):ae(V,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var Ee,q;switch(V.state){case x.TEXT_ENTITY:Ee=x.TEXT,q="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:Ee=x.ATTRIB_VALUE_QUOTED,q="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:Ee=x.ATTRIB_VALUE_UNQUOTED,q="attribValue"}";"===U?(V[q]+=Se(V),V.entity="",V.state=Ee):H(V.entity.length?ee:K,U)?V.entity+=U:(ae(V,"Invalid character in entity name"),V[q]+="&"+V.entity+U,V.entity="",V.state=Ee);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&function P(F){for(var V=Math.max(T.MAX_BUFFER_LENGTH,10),re=0,U=0,te=I.length;U<te;U++){var me=F[I[U]].length;if(me>V)switch(I[U]){case"textNode":oe(F);break;case"cdata":ie(F,"oncdata",F.cdata),F.cdata="";break;case"script":ie(F,"onscript",F.script),F.script="";break;default:J(F,"Max buffer length exceeded: "+I[U])}re=Math.max(re,me)}F.bufferCheckPosition=T.MAX_BUFFER_LENGTH-re+F.position}(V),V},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function D(F){oe(F),""!==F.cdata&&(ie(F,"oncdata",F.cdata),F.cdata=""),""!==F.script&&(ie(F,"onscript",F.script),F.script="")}(this)}};try{c=m(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{c=function(){}}var l=T.EVENTS.filter(function(F){return"error"!==F&&"end"!==F});function f(F,V){if(!(this instanceof f))return new f(F,V);c.apply(this),this._parser=new w(F,V),this.writable=!0,this.readable=!0;var re=this;this._parser.onend=function(){re.emit("end")},this._parser.onerror=function(U){re.emit("error",U),re._parser.error=null},this._decoder=null,l.forEach(function(U){Object.defineProperty(re,"on"+U,{get:function(){return re._parser["on"+U]},set:function(te){if(!te)return re.removeAllListeners(U),re._parser["on"+U]=te,te;re.on(U,te)},enumerable:!0,configurable:!1})})}(f.prototype=Object.create(c.prototype,{constructor:{value:f}})).write=function(F){if("function"==typeof M&&"function"==typeof M.isBuffer&&M.isBuffer(F)){if(!this._decoder){var V=m(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new V("utf8")}F=this._decoder.write(F)}return this._parser.write(F.toString()),this.emit("data",F),!0},f.prototype.end=function(F){return F&&F.length&&this.write(F),this._parser.end(),!0},f.prototype.on=function(F,V){var re=this;return!re._parser["on"+F]&&-1!==l.indexOf(F)&&(re._parser["on"+F]=function(){var U=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,F),re.emit.apply(re,U)}),c.prototype.on.call(re,F,V)};var _="\r\n\t ",N="0124356789",S="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",O="'\"",b=_+">",y="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",A={xml:y,xmlns:g};_=Z(_),N=Z(N),S=Z(S);var E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,K=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ee=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function Z(F){return F.split("").reduce(function(V,re){return V[re]=!0,V},{})}function H(F,V){return function le(F){return"[object RegExp]"===Object.prototype.toString.call(F)}(F)?!!V.match(F):F[V]}function W(F,V){return!H(F,V)}O=Z(O),b=Z(b);var F,V,re,x=0;for(var Y in T.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},T.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(T.ENTITIES).forEach(function(F){var V=T.ENTITIES[F],re="number"==typeof V?String.fromCharCode(V):V;T.ENTITIES[F]=re}),T.STATE)T.STATE[T.STATE[Y]]=Y;function G(F,V,re){F[V]&&F[V](re)}function ie(F,V,re){F.textNode&&oe(F),G(F,V,re)}function oe(F){F.textNode=ye(F.opt,F.textNode),F.textNode&&G(F,"ontext",F.textNode),F.textNode=""}function ye(F,V){return F.trim&&(V=V.trim()),F.normalize&&(V=V.replace(/\s+/g," ")),V}function J(F,V){return oe(F),F.trackPosition&&(V+="\nLine: "+F.line+"\nColumn: "+F.column+"\nChar: "+F.c),V=new Error(V),F.error=V,G(F,"onerror",V),F}function de(F){return F.sawRoot&&!F.closedRoot&&ae(F,"Unclosed root tag"),F.state!==x.BEGIN&&F.state!==x.BEGIN_WHITESPACE&&F.state!==x.TEXT&&J(F,"Unexpected end"),oe(F),F.c="",F.closed=!0,G(F,"onend"),w.call(F,F.strict,F.opt),F}function ae(F,V){if("object"!=typeof F||!(F instanceof w))throw new Error("bad call to strictFail");F.strict&&J(F,V)}function pe(F){F.strict||(F.tagName=F.tagName[F.looseCase]());var V=F.tags[F.tags.length-1]||F,re=F.tag={name:F.tagName,attributes:{}};F.opt.xmlns&&(re.ns=V.ns),F.attribList.length=0,ie(F,"onopentagstart",re)}function he(F,V){var U=F.indexOf(":")<0?["",F]:F.split(":"),te=U[0],me=U[1];return V&&"xmlns"===F&&(te="xmlns",me=""),{prefix:te,local:me}}function fe(F){if(F.strict||(F.attribName=F.attribName[F.looseCase]()),-1!==F.attribList.indexOf(F.attribName)||F.tag.attributes.hasOwnProperty(F.attribName))F.attribName=F.attribValue="";else{if(F.opt.xmlns){var V=he(F.attribName,!0),U=V.local;if("xmlns"===V.prefix)if("xml"===U&&F.attribValue!==y)ae(F,"xml: prefix must be bound to "+y+"\nActual: "+F.attribValue);else if("xmlns"===U&&F.attribValue!==g)ae(F,"xmlns: prefix must be bound to "+g+"\nActual: "+F.attribValue);else{var te=F.tag,me=F.tags[F.tags.length-1]||F;te.ns===me.ns&&(te.ns=Object.create(me.ns)),te.ns[U]=F.attribValue}F.attribList.push([F.attribName,F.attribValue])}else F.tag.attributes[F.attribName]=F.attribValue,ie(F,"onattribute",{name:F.attribName,value:F.attribValue});F.attribName=F.attribValue=""}}function ve(F,V){if(F.opt.xmlns){var re=F.tag,U=he(F.tagName);re.prefix=U.prefix,re.local=U.local,re.uri=re.ns[U.prefix]||"",re.prefix&&!re.uri&&(ae(F,"Unbound namespace prefix: "+JSON.stringify(F.tagName)),re.uri=U.prefix),re.ns&&(F.tags[F.tags.length-1]||F).ns!==re.ns&&Object.keys(re.ns).forEach(function(Pe){ie(F,"onopennamespace",{prefix:Pe,uri:re.ns[Pe]})});for(var me=0,Ee=F.attribList.length;me<Ee;me++){var q=F.attribList[me],z=q[0],j=q[1],$=he(z,!0),ce=$.prefix,be=""===ce?"":re.ns[ce]||"",Re={name:z,value:j,prefix:ce,local:$.local,uri:be};ce&&"xmlns"!==ce&&!be&&(ae(F,"Unbound namespace prefix: "+JSON.stringify(ce)),Re.uri=ce),F.tag.attributes[z]=Re,ie(F,"onattribute",Re)}F.attribList.length=0}F.tag.isSelfClosing=!!V,F.sawRoot=!0,F.tags.push(F.tag),ie(F,"onopentag",F.tag),V||(F.state=F.noscript||"script"!==F.tagName.toLowerCase()?x.TEXT:x.SCRIPT,F.tag=null,F.tagName=""),F.attribName=F.attribValue="",F.attribList.length=0}function se(F){if(!F.tagName)return ae(F,"Weird empty close tag."),F.textNode+="</>",void(F.state=x.TEXT);if(F.script){if("script"!==F.tagName)return F.script+="</"+F.tagName+">",F.tagName="",void(F.state=x.SCRIPT);ie(F,"onscript",F.script),F.script=""}var V=F.tags.length,re=F.tagName;F.strict||(re=re[F.looseCase]());for(var U=re;V--&&F.tags[V].name!==U;)ae(F,"Unexpected close tag");if(V<0)return ae(F,"Unmatched closing tag: "+F.tagName),F.textNode+="</"+F.tagName+">",void(F.state=x.TEXT);F.tagName=re;for(var me=F.tags.length;me-- >V;){var Ee=F.tag=F.tags.pop();F.tagName=F.tag.name,ie(F,"onclosetag",F.tagName);var q={};for(var z in Ee.ns)q[z]=Ee.ns[z];F.opt.xmlns&&Ee.ns!==(F.tags[F.tags.length-1]||F).ns&&Object.keys(Ee.ns).forEach(function($){ie(F,"onclosenamespace",{prefix:$,uri:Ee.ns[$]})})}0===V&&(F.closedRoot=!0),F.tagName=F.attribValue=F.attribName="",F.attribList.length=0,F.state=x.TEXT}function Se(F){var U,V=F.entity,re=V.toLowerCase(),te="";return F.ENTITIES[V]?F.ENTITIES[V]:F.ENTITIES[re]?F.ENTITIES[re]:("#"===(V=re).charAt(0)&&("x"===V.charAt(1)?(V=V.slice(2),te=(U=parseInt(V,16)).toString(16)):(V=V.slice(1),te=(U=parseInt(V,10)).toString(10))),V=V.replace(/^0+/,""),te.toLowerCase()!==V?(ae(F,"Invalid character entity"),"&"+F.entity+";"):String.fromCodePoint(U))}function _e(F,V){"<"===V?(F.state=x.OPEN_WAKA,F.startTagPosition=F.position):W(_,V)&&(ae(F,"Non-whitespace before first tag."),F.textNode=V,F.state=x.TEXT)}function ne(F,V){var re="";return V<F.length&&(re=F.charAt(V)),re}x=T.STATE,String.fromCodePoint||(F=String.fromCharCode,V=Math.floor,re=function(){var U=16384,te=[],q=-1,z=arguments.length;if(!z)return"";for(var j="";++q<z;){var $=Number(arguments[q]);if(!isFinite($)||$<0||$>1114111||V($)!==$)throw RangeError("Invalid code point: "+$);$<=65535?te.push($):te.push(55296+(($-=65536)>>10),$%1024+56320),(q+1===z||te.length>U)&&(j+=F.apply(null,te),te.length=0)}return j},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:re,configurable:!0,writable:!0}):String.fromCodePoint=re)}(k)}).call(this,m(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(Ie,k,m){(function(M,T){!function(I,w){"use strict";if(!I.setImmediate){var l,P=1,R={},D=!1,c=I.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(I);g=g&&g.setTimeout?g:I,"[object process]"==={}.toString.call(I.process)?function S(){l=function(A){T.nextTick(function(){N(A)})}}():function O(){if(I.postMessage&&!I.importScripts){var A=!0,E=I.onmessage;return I.onmessage=function(){A=!1},I.postMessage("","*"),I.onmessage=E,A}}()?function b(){var A="setImmediate$"+Math.random()+"$",E=function(L){L.source===I&&"string"==typeof L.data&&0===L.data.indexOf(A)&&N(+L.data.slice(A.length))};I.addEventListener?I.addEventListener("message",E,!1):I.attachEvent("onmessage",E),l=function(L){I.postMessage(A+L,"*")}}():I.MessageChannel?function v(){var A=new MessageChannel;A.port1.onmessage=function(E){N(E.data)},l=function(E){A.port2.postMessage(E)}}():c&&"onreadystatechange"in c.createElement("script")?function p(){var A=c.documentElement;l=function(E){var L=c.createElement("script");L.onreadystatechange=function(){N(E),L.onreadystatechange=null,A.removeChild(L),L=null},A.appendChild(L)}}():function y(){l=function(A){setTimeout(N,0,A)}}(),g.setImmediate=function d(A){"function"!=typeof A&&(A=new Function(""+A));for(var E=new Array(arguments.length-1),L=0;L<E.length;L++)E[L]=arguments[L+1];return R[P]={callback:A,args:E},l(P),P++},g.clearImmediate=f}function f(A){delete R[A]}function N(A){if(D)setTimeout(N,0,A);else{var E=R[A];if(E){D=!0;try{!function _(A){var E=A.callback,L=A.args;switch(L.length){case 0:E();break;case 1:E(L[0]);break;case 2:E(L[0],L[1]);break;case 3:E(L[0],L[1],L[2]);break;default:E.apply(void 0,L)}}(E)}finally{f(A),D=!1}}}}}(typeof self>"u"?typeof M>"u"?this:M:self)}).call(this,m(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),m(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Ie,k,m){Ie.exports=I;var M=m(
/*! events */
"./node_modules/events/events.js").EventEmitter;function I(){M.call(this)}m(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(I,M),I.Readable=m(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),I.Writable=m(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),I.Duplex=m(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),I.Transform=m(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),I.PassThrough=m(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),I.Stream=I,I.prototype.pipe=function(w,P){var R=this;function D(S){w.writable&&!1===w.write(S)&&R.pause&&R.pause()}function c(){R.readable&&R.resume&&R.resume()}R.on("data",D),w.on("drain",c),!w._isStdio&&(!P||!1!==P.end)&&(R.on("end",d),R.on("close",f));var l=!1;function d(){l||(l=!0,w.end())}function f(){l||(l=!0,"function"==typeof w.destroy&&w.destroy())}function _(S){if(N(),0===M.listenerCount(this,"error"))throw S}function N(){R.removeListener("data",D),w.removeListener("drain",c),R.removeListener("end",d),R.removeListener("close",f),R.removeListener("error",_),w.removeListener("error",_),R.removeListener("end",N),R.removeListener("close",N),w.removeListener("close",N)}return R.on("error",_),w.on("error",_),R.on("end",N),R.on("close",N),w.on("close",N),w.emit("pipe",R),w}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(Ie,k,m){"use strict";var M=m(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,T=M.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(p){var y;switch(this.encoding=function w(p){var y=function I(p){if(!p)return"utf8";for(var y;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(y)return;p=(""+p).toLowerCase(),y=!0}}(p);if("string"!=typeof y&&(M.isEncoding===T||!T(p)))throw new Error("Unknown encoding: "+p);return y||p}(p),this.encoding){case"utf16le":this.text=_,this.end=N,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=S,this.end=O,y=3;break;default:return this.write=b,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(y)}function R(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function l(p){var y=this.lastTotal-this.lastNeed,g=function c(p,y,g){if(128!=(192&y[0]))return p.lastNeed=0,"\ufffd";if(p.lastNeed>1&&y.length>1){if(128!=(192&y[1]))return p.lastNeed=1,"\ufffd";if(p.lastNeed>2&&y.length>2&&128!=(192&y[2]))return p.lastNeed=2,"\ufffd"}}(this,p);return void 0!==g?g:this.lastNeed<=p.length?(p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,y,0,p.length),void(this.lastNeed-=p.length))}function _(p,y){if((p.length-y)%2==0){var g=p.toString("utf16le",y);if(g){var A=g.charCodeAt(g.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function N(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):y}function S(p,y){var g=(p.length-y)%3;return 0===g?p.toString("base64",y):(this.lastNeed=3-g,this.lastTotal=3,1===g?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-g))}function O(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function b(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}k.StringDecoder=P,P.prototype.write=function(p){if(0===p.length)return"";var y,g;if(this.lastNeed){if(void 0===(y=this.fillLast(p)))return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<p.length?y?y+this.text(p,g):this.text(p,g):y||""},P.prototype.end=function f(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"\ufffd":y},P.prototype.text=function d(p,y){var g=function D(p,y,g){var A=y.length-1;if(A<g)return 0;var E=R(y[A]);return E>=0?(E>0&&(p.lastNeed=E-1),E):--A<g||-2===E?0:(E=R(y[A]))>=0?(E>0&&(p.lastNeed=E-2),E):--A<g||-2===E?0:(E=R(y[A]))>=0?(E>0&&(2===E?E=0:p.lastNeed=E-3),E):0}(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=g;var A=p.length-(g-this.lastNeed);return p.copy(this.lastChar,0,A),p.toString("utf8",y,A)},P.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(Ie,k,m){(function(M){var T=typeof M<"u"&&M||typeof self<"u"&&self||window,I=Function.prototype.apply;function w(P,R){this._id=P,this._clearFn=R}k.setTimeout=function(){return new w(I.call(setTimeout,T,arguments),clearTimeout)},k.setInterval=function(){return new w(I.call(setInterval,T,arguments),clearInterval)},k.clearTimeout=k.clearInterval=function(P){P&&P.close()},w.prototype.unref=w.prototype.ref=function(){},w.prototype.close=function(){this._clearFn.call(T,this._id)},k.enroll=function(P,R){clearTimeout(P._idleTimeoutId),P._idleTimeout=R},k.unenroll=function(P){clearTimeout(P._idleTimeoutId),P._idleTimeout=-1},k._unrefActive=k.active=function(P){clearTimeout(P._idleTimeoutId);var R=P._idleTimeout;R>=0&&(P._idleTimeoutId=setTimeout(function(){P._onTimeout&&P._onTimeout()},R))},m(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),k.setImmediate=typeof self<"u"&&self.setImmediate||typeof M<"u"&&M.setImmediate||this&&this.setImmediate,k.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof M<"u"&&M.clearImmediate||this&&this.clearImmediate}).call(this,m(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(Ie,k,m){var M;!function(T,I){"use strict";var D="function",c="undefined",l="object",d="string",_="model",N="name",S="type",O="vendor",b="version",v="architecture",p="console",y="mobile",g="tablet",A="smarttv",E="wearable",L="embedded",ee="Amazon",Z="Apple",H="BlackBerry",W="Browser",x="Chrome",G="Firefox",ie="Google",J="Microsoft",de="Motorola",ae="Opera",pe="Samsung",fe="Sony",ve="Xiaomi",se="Zebra",Se="Facebook",ne=function(ce){for(var ue={},be=0;be<ce.length;be++)ue[ce[be].toUpperCase()]=ce[be];return ue},X=function(ce,ue){return typeof ce===d&&-1!==F(ue).indexOf(F(ce))},F=function(ce){return ce.toLowerCase()},re=function(ce,ue){if(typeof ce===d)return ce=ce.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof ue===c?ce:ce.substring(0,350)},U=function(ce,ue){for(var Re,Pe,we,je,Ce,Oe,be=0;be<ue.length&&!Ce;){var ze=ue[be],Le=ue[be+1];for(Re=Pe=0;Re<ze.length&&!Ce;)if(Ce=ze[Re++].exec(ce))for(we=0;we<Le.length;we++)Oe=Ce[++Pe],typeof(je=Le[we])===l&&je.length>0?2===je.length?this[je[0]]=typeof je[1]==D?je[1].call(this,Oe):je[1]:3===je.length?this[je[0]]=typeof je[1]!==D||je[1].exec&&je[1].test?Oe?Oe.replace(je[1],je[2]):I:Oe?je[1].call(this,Oe,je[2]):I:4===je.length&&(this[je[0]]=Oe?je[3].call(this,Oe.replace(je[1],je[2])):I):this[je]=Oe||I;be+=2}},te=function(ce,ue){for(var be in ue)if(typeof ue[be]===l&&ue[be].length>0){for(var Re=0;Re<ue[be].length;Re++)if(X(ue[be][Re],ce))return"?"===be?I:be}else if(X(ue[be],ce))return"?"===be?I:be;return ce},Ee={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[N,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[N,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[N,b],[/opios[\/ ]+([\w\.]+)/i],[b,[N,ae+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[N,ae]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[N,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[N,"UC"+W]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[N,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[N,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[N,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[N,"IE"]],[/yabrowser\/([\w\.]+)/i],[b,[N,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[N,/(.+)/,"$1 Secure "+W],b],[/\bfocus\/([\w\.]+)/i],[b,[N,G+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[N,ae+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[N,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[N,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[N,ae+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[N,"MIUI "+W]],[/fxios\/([-\w\.]+)/i],[b,[N,G]],[/\bqihu|(qi?ho?o?|360)browser/i],[[N,"360 "+W]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[N,/(.+)/,"$1 "+W],b],[/(comodo_dragon)\/([\w\.]+)/i],[[N,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[N,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[N],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[N,Se],b],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[N,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[N,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[N,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[N,x+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[N,"Android "+W]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[N,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[N,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,N],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[N,[b,te,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[N,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[N,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[N,G+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[N,b]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,F]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[_,[O,pe],[S,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[_,[O,pe],[S,y]],[/\((ip(?:hone|od)[\w ]*);/i],[_,[O,Z],[S,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[_,[O,Z],[S,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[_,[O,"Huawei"],[S,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[_,[O,"Huawei"],[S,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[_,/_/g," "],[O,ve],[S,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[_,/_/g," "],[O,ve],[S,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[_,[O,"OPPO"],[S,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[_,[O,"Vivo"],[S,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[_,[O,"Realme"],[S,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[_,[O,de],[S,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[_,[O,de],[S,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[_,[O,"LG"],[S,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[_,[O,"LG"],[S,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[_,[O,"Lenovo"],[S,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[_,/_/g," "],[O,"Nokia"],[S,y]],[/(pixel c)\b/i],[_,[O,ie],[S,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[_,[O,ie],[S,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[_,[O,fe],[S,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[_,"Xperia Tablet"],[O,fe],[S,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[_,[O,"OnePlus"],[S,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[_,[O,ee],[S,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[_,/(.+)/g,"Fire Phone $1"],[O,ee],[S,y]],[/(playbook);[-\w\),; ]+(rim)/i],[_,O,[S,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[_,[O,H],[S,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[_,[O,"ASUS"],[S,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[_,[O,"ASUS"],[S,y]],[/(nexus 9)/i],[_,[O,"HTC"],[S,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[O,[_,/_/g," "],[S,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[_,[O,"Acer"],[S,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[_,[O,"Meizu"],[S,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[_,[O,"Sharp"],[S,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[O,_,[S,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[O,_,[S,g]],[/(surface duo)/i],[_,[O,J],[S,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[_,[O,"Fairphone"],[S,y]],[/(u304aa)/i],[_,[O,"AT&T"],[S,y]],[/\bsie-(\w*)/i],[_,[O,"Siemens"],[S,y]],[/\b(rct\w+) b/i],[_,[O,"RCA"],[S,g]],[/\b(venue[\d ]{2,7}) b/i],[_,[O,"Dell"],[S,g]],[/\b(q(?:mv|ta)\w+) b/i],[_,[O,"Verizon"],[S,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[_,[O,"Barnes & Noble"],[S,g]],[/\b(tm\d{3}\w+) b/i],[_,[O,"NuVision"],[S,g]],[/\b(k88) b/i],[_,[O,"ZTE"],[S,g]],[/\b(nx\d{3}j) b/i],[_,[O,"ZTE"],[S,y]],[/\b(gen\d{3}) b.+49h/i],[_,[O,"Swiss"],[S,y]],[/\b(zur\d{3}) b/i],[_,[O,"Swiss"],[S,g]],[/\b((zeki)?tb.*\b) b/i],[_,[O,"Zeki"],[S,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[O,"Dragon Touch"],_,[S,g]],[/\b(ns-?\w{0,9}) b/i],[_,[O,"Insignia"],[S,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[_,[O,"NextBook"],[S,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[O,"Voice"],_,[S,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[O,"LvTel"],_,[S,y]],[/\b(ph-1) /i],[_,[O,"Essential"],[S,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[_,[O,"Envizen"],[S,g]],[/\b(trio[-\w\. ]+) b/i],[_,[O,"MachSpeed"],[S,g]],[/\btu_(1491) b/i],[_,[O,"Rotor"],[S,g]],[/(shield[\w ]+) b/i],[_,[O,"Nvidia"],[S,g]],[/(sprint) (\w+)/i],[O,_,[S,y]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[O,J],[S,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[_,[O,se],[S,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[_,[O,se],[S,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[O,_,[S,p]],[/droid.+; (shield) bui/i],[_,[O,"Nvidia"],[S,p]],[/(playstation [345portablevi]+)/i],[_,[O,fe],[S,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[_,[O,J],[S,p]],[/smart-tv.+(samsung)/i],[O,[S,A]],[/hbbtv.+maple;(\d+)/i],[[_,/^/,"SmartTV"],[O,pe],[S,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[O,"LG"],[S,A]],[/(apple) ?tv/i],[O,[_,Z+" TV"],[S,A]],[/crkey/i],[[_,x+"cast"],[O,ie],[S,A]],[/droid.+aft(\w)( bui|\))/i],[_,[O,ee],[S,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[_,[O,"Sharp"],[S,A]],[/(bravia[\w ]+)( bui|\))/i],[_,[O,fe],[S,A]],[/(mitv-\w{5}) bui/i],[_,[O,ve],[S,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[O,re],[_,re],[S,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[S,A]],[/((pebble))app/i],[O,_,[S,E]],[/droid.+; (glass) \d/i],[_,[O,ie],[S,E]],[/droid.+; (wt63?0{2,3})\)/i],[_,[O,se],[S,E]],[/(quest( 2)?)/i],[_,[O,Se],[S,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[O,[S,L]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[_,[S,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[_,[S,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[S,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[S,y]],[/(android[-\w\. ]{0,9});.+buil/i],[_,[O,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[N,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[N,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[N,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,N]],os:[[/microsoft (windows) (vista|xp)/i],[N,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[N,[b,te,Ee]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[N,"Windows"],[b,te,Ee]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[N,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[N,"Mac OS"],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,N],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[N,b],[/\(bb(10);/i],[b,[N,H]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[N,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[N,G+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[N,"webOS"]],[/crkey\/([\d\.]+)/i],[b,[N,x+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[N,"Chromium OS"],b],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[N,b],[/(sunos) ?([\w\.\d]*)/i],[[N,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[N,b]]},z=function(ce,ue){if(typeof ce===l&&(ue=ce,ce=I),!(this instanceof z))return new z(ce,ue).getResult();var be=ce||(typeof T!==c&&T.navigator&&T.navigator.userAgent?T.navigator.userAgent:""),Re=ue?function(ce,ue){var be={};for(var Re in ce)be[Re]=ue[Re]&&ue[Re].length%2==0?ue[Re].concat(ce[Re]):ce[Re];return be}(q,ue):q;return this.getBrowser=function(){var Pe={};return Pe[N]=I,Pe[b]=I,U.call(Pe,be,Re.browser),Pe.major=function(ce){return typeof ce===d?ce.replace(/[^\d\.]/g,"").split(".")[0]:I}(Pe.version),Pe},this.getCPU=function(){var Pe={};return Pe[v]=I,U.call(Pe,be,Re.cpu),Pe},this.getDevice=function(){var Pe={};return Pe[O]=I,Pe[_]=I,Pe[S]=I,U.call(Pe,be,Re.device),Pe},this.getEngine=function(){var Pe={};return Pe[N]=I,Pe[b]=I,U.call(Pe,be,Re.engine),Pe},this.getOS=function(){var Pe={};return Pe[N]=I,Pe[b]=I,U.call(Pe,be,Re.os),Pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return be},this.setUA=function(Pe){return be=typeof Pe===d&&Pe.length>350?re(Pe,350):Pe,this},this.setUA(be),this};z.VERSION="1.0.32",z.BROWSER=ne([N,b,"major"]),z.CPU=ne([v]),z.DEVICE=ne([_,O,S,p,y,A,g,E,L]),z.ENGINE=z.OS=ne([N,b]),typeof k!==c?(typeof Ie!==c&&Ie.exports&&(k=Ie.exports=z),k.UAParser=z):m(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(M=function(){return z}.call(k,m,k,Ie))!==I&&(Ie.exports=M):typeof T!==c&&(T.UAParser=z);var j=typeof T!==c&&(T.jQuery||T.Zepto);if(j&&!j.ua){var $=new z;j.ua=$.getResult(),j.ua.get=function(){return $.getUA()},j.ua.set=function(ce){$.setUA(ce);var ue=$.getResult();for(var be in ue)j.ua[be]=ue[be]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(Ie,k,m){(function(M){function I(w){try{if(!M.localStorage)return!1}catch{return!1}var P=M.localStorage[w];return null!=P&&"true"===String(P).toLowerCase()}Ie.exports=function T(w,P){if(I("noDeprecation"))return w;var R=!1;return function D(){if(!R){if(I("throwDeprecation"))throw new Error(P);I("traceDeprecation")?console.trace(P):console.warn(P),R=!0}return w.apply(this,arguments)}}}).call(this,m(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(Ie,k){(function(m){Ie.exports=m}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(Ie,k){var m;m=function(){return this}();try{m=m||new Function("return this")()}catch{"object"==typeof window&&(m=window)}Ie.exports=m},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./EventBus */
"./src/core/EventBus.js"),T=m(
/*! ./events/Events */
"./src/core/events/Events.js"),I=m(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),P=1,R=2,D=3,c=4,l=5;function d(_){_=_||{};var v,p,y,g,N=this.context,S=Object(M.default)(N).getInstance(),O=_.settings,b=[];function E(G){return G&&G.bind?G.bind(window.console):window.console.log.bind(window.console)}function Z(){for(var G=arguments.length,ie=new Array(G),oe=0;oe<G;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[P,this].concat(ie))}function le(){for(var G=arguments.length,ie=new Array(G),oe=0;oe<G;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[R,this].concat(ie))}function H(){for(var G=arguments.length,ie=new Array(G),oe=0;oe<G;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[D,this].concat(ie))}function W(){for(var G=arguments.length,ie=new Array(G),oe=0;oe<G;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[c,this].concat(ie))}function x(){for(var G=arguments.length,ie=new Array(G),oe=0;oe<G;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[l,this].concat(ie))}function Y(G,ie){var oe="",ye=null;p&&(ye=(new Date).getTime(),oe+="["+(ye-g)+"]"),y&&ie&&ie.getClassName&&(oe+="["+ie.getClassName()+"]",ie.getType&&(oe+="["+ie.getType()+"]")),oe.length>0&&(oe+=" ");for(var J=arguments.length,de=new Array(J>2?J-2:0),ae=2;ae<J;ae++)de[ae-2]=arguments[ae];Array.apply(null,de).forEach(function(pe){oe+=pe+" "}),b[G]&&O.get().debug.logLevel>=G&&b[G](oe),O&&O.get().debug.dispatchEvent&&S.trigger(T.default.LOG,{message:oe,level:G})}return v={getLogger:function L(G){return{fatal:Z.bind(G),error:le.bind(G),warn:H.bind(G),info:W.bind(G),debug:x.bind(G)}},setLogTimestampVisible:function K(G){p=G},setCalleeNameVisible:function ee(G){y=G}},function A(){p=!0,y=!0,g=(new Date).getTime(),typeof window<"u"&&window.console&&(b[P]=E(window.console.error),b[R]=E(window.console.error),b[D]=E(window.console.warn),b[c]=E(window.console.info),b[l]=E(window.console.debug))}(),v}d.__dashjs_factory_name="Debug";var f=I.default.getSingletonFactory(d);f.LOG_LEVEL_NONE=0,f.LOG_LEVEL_FATAL=P,f.LOG_LEVEL_ERROR=R,f.LOG_LEVEL_WARNING=D,f.LOG_LEVEL_INFO=c,f.LOG_LEVEL_DEBUG=l,I.default.updateSingletonFactory(d.__dashjs_factory_name,f),k.default=f},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function P(){var D={};function f(S,O,b){var v=-1;return D[S]&&D[S].some(function(p,y){if(p&&p.callback===O&&(!b||b===p.scope))return v=y,!0}),v}return{on:function c(S,O,b){var v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!S)throw new Error("event type cannot be null or undefined");if(!O||"function"!=typeof O)throw new Error("listener must be a function: "+O);var p=v.priority||0;if(!(f(S,O,b)>=0)){D[S]=D[S]||[];var y={callback:O,scope:b,priority:p};b&&b.getStreamId&&(y.streamId=b.getStreamId()),b&&b.getType&&(y.mediaType=b.getType()),v&&v.mode&&(y.mode=v.mode),D[S].some(function(A,E){if(A&&p>A.priority)return D[S].splice(E,0,y),!0})||D[S].push(y)}},off:function l(S,O,b){if(S&&O&&D[S]){var v=f(S,O,b);v<0||(D[S][v]=null)}},trigger:function d(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(S&&D[S]){if((O=O||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");O.type=S,b.streamId&&(O.streamId=b.streamId),b.mediaType&&(O.mediaType=b.mediaType),D[S].filter(function(v){return!(!v||b.streamId&&v.streamId&&v.streamId!==b.streamId||b.mediaType&&v.mediaType&&v.mediaType!==b.mediaType||b.mode&&v.mode&&v.mode!==b.mode||!v.mode&&b.mode&&b.mode===T.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(v){return v&&v.callback.call(v.scope,O)})}},reset:function _(){D={}}}}P.__dashjs_factory_name="EventBus";var R=M.default.getSingletonFactory(P);R.EVENT_PRIORITY_LOW=0,R.EVENT_PRIORITY_HIGH=5e3,M.default.updateSingletonFactory(P.__dashjs_factory_name,R),k.default=R},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=function(){var T,I=[],w={},P={};function D(y,g){for(var A in I){var E=I[A];if(E.context===y&&E.name===g)return E.instance}return null}function d(y,g){return g[y]}function f(y,g,A){y in A&&(A[y]=g)}function p(y,g,A){var E,L=y.__dashjs_factory_name,K=g[L];if(K){var ee=K.instance;if(!K.override)return ee.apply({context:g,factory:T},A);for(var Z in E=y.apply({context:g},A),ee=ee.apply({context:g,factory:T,parent:E},A))E.hasOwnProperty(Z)&&(E[Z]=ee[Z])}else E=y.apply({context:g},A);return E.getClassName=function(){return L},E}return T={extend:function R(y,g,A,E){!E[y]&&g&&(E[y]={instance:g,override:A})},getSingletonInstance:D,setSingletonInstance:function c(y,g,A){for(var E in I){var L=I[E];if(L.context===y&&L.name===g)return void(I[E].instance=A)}I.push({name:g,context:y,instance:A})},deleteSingletonInstances:function l(y){I=I.filter(function(g){return g.context!==y})},getSingletonFactory:function v(y){var g=d(y.__dashjs_factory_name,w);return g||(g=function(E){var L;return void 0===E&&(E={}),{getInstance:function(){return L||(L=D(E,y.__dashjs_factory_name)),L||(L=p(y,E,arguments),I.push({name:y.__dashjs_factory_name,context:E,instance:L})),L}}},w[y.__dashjs_factory_name]=g),g},getSingletonFactoryByName:function b(y){return d(y,w)},updateSingletonFactory:function O(y,g){f(y,g,w)},getClassFactory:function S(y){var g=d(y.__dashjs_factory_name,P);return g||(g=function(E){return void 0===E&&(E={}),{create:function(){return p(y,E,arguments)}}},P[y.__dashjs_factory_name]=g),g},getClassFactoryByName:function N(y){return d(y,P)},updateClassFactory:function _(y,g){f(y,g,P)}}}();k.default=M},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ./Utils.js */
"./src/core/Utils.js"),I=m(
/*! ../core/Debug */
"./src/core/Debug.js"),w=m(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),P=m(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),R=m(
/*! ./EventBus */
"./src/core/EventBus.js"),D=m(
/*! ./events/Events */
"./src/core/events/Events.js");function c(S){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(S)}function l(S,O,b){return(O=function d(S){var O=function f(S,O){if("object"!==c(S)||null===S)return S;var b=S[Symbol.toPrimitive];if(void 0!==b){var v=b.call(S,O||"default");if("object"!==c(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(S)}(S,"string");return"symbol"===c(O)?O:String(O)}(O))in S?Object.defineProperty(S,O,{value:b,enumerable:!0,configurable:!0,writable:!0}):S[O]=b,S}function _(){var S,O,v=this.context,p=Object(R.default)(v).getInstance(),y={"streaming.delay.liveDelay":D.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":D.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},g={debug:{logLevel:I.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:w.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:w.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:w.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:w.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(S={},l(S,P.HTTPRequest.MPD_TYPE,500),l(S,P.HTTPRequest.XLINK_EXPANSION_TYPE,500),l(S,P.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.INIT_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.LICENSE,1e3),l(S,P.HTTPRequest.OTHER_TYPE,1e3),l(S,"lowLatencyReductionFactor",10),S),retryAttempts:(O={},l(O,P.HTTPRequest.MPD_TYPE,3),l(O,P.HTTPRequest.XLINK_EXPANSION_TYPE,1),l(O,P.HTTPRequest.MEDIA_SEGMENT_TYPE,3),l(O,P.HTTPRequest.INIT_SEGMENT_TYPE,3),l(O,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),l(O,P.HTTPRequest.INDEX_SEGMENT_TYPE,3),l(O,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),l(O,P.HTTPRequest.LICENSE,3),l(O,P.HTTPRequest.OTHER_TYPE,3),l(O,"lowLatencyMultiplyFactor",5),O),abr:{movingAverageMethod:w.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:w.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:w.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},A=T.default.clone(g);function E(Z,le,H){for(var W in Z)Z.hasOwnProperty(W)&&(le.hasOwnProperty(W)?"object"!==c(Z[W])||Z[W]instanceof Array||null===Z[W]?(le[W]=T.default.clone(Z[W]),y[H+W]&&p.trigger(y[H+W])):E(Z[W],le[W],H.slice()+W+"."):console.error("Settings parameter "+H+W+" is not supported"))}return{get:function L(){return A},update:function K(Z){"object"===c(Z)&&E(Z,A,"")},reset:function ee(){A=T.default.clone(g)}}}_.__dashjs_factory_name="Settings";var N=M.default.getSingletonFactory(_);k.default=N},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),T=m.n(M),I=m(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function P(_){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(_)}function D(_,N){for(var S=0;S<N.length;S++){var O=N[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,l(O.key),O)}}function l(_){var N=function d(_,N){if("object"!==P(_)||null===_)return _;var S=_[Symbol.toPrimitive];if(void 0!==S){var O=S.call(_,N||"default");if("object"!==P(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(_)}(_,"string");return"symbol"===P(N)?N:String(N)}var f=function(){function _(){!function R(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}(this,_)}return function c(_,N,S){return N&&D(_.prototype,N),S&&D(_,S),Object.defineProperty(_,"prototype",{writable:!1}),_}(_,null,[{key:"mixin",value:function(S,O,b){var v,p={};if(S)for(var y in O)O.hasOwnProperty(y)&&(v=O[y],(!(y in S)||S[y]!==v&&(!(y in p)||p[y]!==v))&&(S[y]="object"===P(S[y])&&null!==S[y]?_.mixin(S[y],v,b):b(v)));return S}},{key:"clone",value:function(S){if(!S||"object"!==P(S))return S;var O;if(S instanceof Array){O=[];for(var b=0,v=S.length;b<v;++b)b in S&&O.push(_.clone(S[b]))}else O={};return _.mixin(O,S,_.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(S,O){try{if(!O||0===O.length)return S;var b=new URL(S);return O.forEach(function(v){v.key&&v.value&&b.searchParams.set(v.key,v.value)}),b.href}catch{return S}}},{key:"parseHttpHeaders",value:function(S){var O={};if(!S)return O;for(var b=S.trim().split("\r\n"),v=0,p=b.length;v<p;v++){var y=b[v],g=y.indexOf(": ");g>0&&(O[y.substring(0,g)]=y.substring(g+2))}return O}},{key:"generateUuid",value:function(){var S=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var v=(S+16*Math.random())%16|0;return S=Math.floor(S/16),("x"==b?v:3&v|8).toString(16)})}},{key:"generateHashCode",value:function(S){var O=0;if(0===S.length)return O;for(var b=0;b<S.length;b++)O=(O<<5)-O+S.charCodeAt(b),O|=0;return O}},{key:"getRelativeUrl",value:function(S,O){try{var b=new URL(S),v=new URL(O);if(b.protocol=v.protocol,b.origin!==v.origin)return O;var p=T.a.relative(b.pathname.substr(0,b.pathname.lastIndexOf("/")),v.pathname.substr(0,v.pathname.lastIndexOf("/"))),y=0===p.length?1:0;return p+=v.pathname.substr(v.pathname.lastIndexOf("/")+y,v.pathname.length-1),v.pathname.length<p.length?v.pathname:p}catch{return O}}},{key:"parseUserAgent",value:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var O=null===S&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(I.UAParser)(O)}catch{return{}}}}]),_}();k.default=f},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(Ie,k,m){"use strict";m.r(k),m.d(k,"getVersionString",function(){return T});function T(){return"4.5.2"}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(k);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,g.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,g.SEGMENT_BASE_LOADER_ERROR_CODE=15,g.TIME_SYNC_FAILED_ERROR_CODE=16,g.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,g.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,g.APPEND_ERROR_CODE=20,g.REMOVE_ERROR_CODE=21,g.DATA_UPDATE_FAILED_ERROR_CODE=22,g.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,g.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,g.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,g.DOWNLOAD_ERROR_ID_SIDX_CODE=26,g.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,g.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,g.DOWNLOAD_ERROR_ID_XLINK_CODE=29,g.MANIFEST_ERROR_ID_PARSE_CODE=31,g.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,g.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,g.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,g.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",g.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",g.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",g.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",g.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",g.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",g.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",g.APPEND_ERROR_MESSAGE="chunk is not defined",g.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",g.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",g.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",g.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",g.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",g.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));k.default=b},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=function(){function c(){!function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c)}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"extend",value:function(d,f){if(d){var _=!!f&&f.override,N=!!f&&f.publicOnly;for(var S in d)!d.hasOwnProperty(S)||this[S]&&!_||N&&-1===d[S].indexOf("public_")||(this[S]=d[S])}}}]),c}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function I(b,v){for(var p=0;p<v.length;p++){var y=v[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,P(y.key),y)}}function P(b){var v=function R(b,v){if("object"!==T(b)||null===b)return b;var p=b[Symbol.toPrimitive];if(void 0!==p){var y=p.call(b,v||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(b)}(b,"string");return"symbol"===T(v)?v:String(v)}function c(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&l(b,v)}function l(b,v){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y})(b,v)}function d(b){var v=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=S(b);if(v){var A=S(this).constructor;g=Reflect.construct(y,arguments,A)}else g=y.apply(this,arguments);return f(this,g)}}function f(b,v){if(v&&("object"===T(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}function S(b){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}k.default=function(b){c(p,b);var v=d(p);function p(){var y;return function D(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p),(y=v.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",y.BUFFERING_COMPLETED="bufferingCompleted",y.BUFFER_CLEARED="bufferCleared",y.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",y.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",y.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",y.CURRENT_TRACK_CHANGED="currentTrackChanged",y.DATA_UPDATE_COMPLETED="dataUpdateCompleted",y.INBAND_EVENTS="inbandEvents",y.INITIAL_STREAM_SWITCH="initialStreamSwitch",y.INIT_FRAGMENT_LOADED="initFragmentLoaded",y.INIT_FRAGMENT_NEEDED="initFragmentNeeded",y.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",y.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",y.LOADING_COMPLETED="loadingCompleted",y.LOADING_PROGRESS="loadingProgress",y.LOADING_DATA_PROGRESS="loadingDataProgress",y.LOADING_ABANDONED="loadingAborted",y.MANIFEST_UPDATED="manifestUpdated",y.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",y.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",y.QUOTA_EXCEEDED="quotaExceeded",y.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",y.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",y.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",y.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",y.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",y.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",y.SOURCE_BUFFER_ERROR="sourceBufferError",y.STREAMS_COMPOSED="streamsComposed",y.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",y.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",y.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",y.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",y.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",y.URL_RESOLUTION_FAILED="urlResolutionFailed",y.VIDEO_CHUNK_RECEIVED="videoChunkReceived",y.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",y.XLINK_ELEMENT_LOADED="xlinkElementLoaded",y.XLINK_READY="xlinkReady",y.SEEK_TARGET="seekTarget",y.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",y.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",y.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",y.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",y.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",y}return function w(b,v,p){return v&&I(b.prototype,v),p&&I(b,p),Object.defineProperty(b,"prototype",{writable:!1}),b}(p)}(M.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(k);var O=function(v){c(y,v);var p=d(y);function y(){return D(this,y),p.apply(this,arguments)}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),b=new O;k.default=b},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=function(){function c(){!function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c)}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"extend",value:function(d,f){if(d){var _=!!f&&f.override,N=!!f&&f.publicOnly;for(var S in d)!d.hasOwnProperty(S)||this[S]&&!_||N&&-1===d[S].indexOf("public_")||(this[S]=d[S])}}}]),c}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),T=m(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),I=m(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),w=m(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),P=m(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),R=m(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),D=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),c=m(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),l=m(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),d=m(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),f=m.n(d);function _(){var N,S,O,b,v,p,y,g=this.context;function Z(De){return S.getRolesForAdaptation(De).filter(function(Te){return Te.value===M.default.MAIN})[0]}function le(De,Te,Ne){var Ge=S.getAdaptationsForType(b[0].mpd.manifest,De,Te);if(!Ge||0===Ge.length)return null;if(Ge.length>1&&Ne){var ot=x(Ne,Te);if(v[Ne.id]&&v[Ne.id][Te])for(var Ze=0,lt=Ge.length;Ze<lt;Ze++)if(H(v[Ne.id][Te],ot[Ze]))return Ge[Ze];for(var _t=0,pt=Ge.length;_t<pt;_t++)if(Z(Ge[_t]))return Ge[_t]}return Ge[0]}function H(De,Te){if(!De||!Te)return!1;var Ne=De.id===Te.id,Ge=De.codec===Te.codec,ot=De.viewpoint===Te.viewpoint,Ze=De.lang===Te.lang,lt=De.roles.toString()===Te.roles.toString(),_t=De.accessibility.toString()===Te.accessibility.toString(),pt=De.audioChannelConfiguration.toString()===Te.audioChannelConfiguration.toString();return Ne&&Ge&&ot&&Ze&&lt&&_t&&pt}function W(De,Te,Ne,Ge,ot,Ze){var pt,Be,Je,ct,gt,lt=[];if(!Ge||0===Ge.length)return[];var At=S.getAdaptationsForPeriod(Te);for(Je=0,gt=Ge.length;Je<gt;Je++)if(pt=Ye(At[Be=S.getIndexForAdaptation(Ge[Je],De,Ne.index)]),Ze){var Ot=pt.accessibility.length;for(ct=0;ct<Ot;ct++)if(pt){var Nt=pt.accessibility[ct];if(0===Nt.indexOf("cea-608:")){var en=Nt.substring(8).split(";");if("CC"===en[0].substring(0,2))for(ct=0;ct<en.length;ct++)pt||(pt=Ye.call(this,At[Be])),et(pt,en[ct].substring(0,3),en[ct].substring(4)),lt.push(pt),pt=null;else for(ct=0;ct<en.length;ct++)pt||(pt=Ye.call(this,At[Be])),et(pt,"CC"+(ct+1),en[ct]),lt.push(pt),pt=null}else 0===Nt.indexOf("cea-608")&&(et(pt,p.CC1,"eng"),lt.push(pt),pt=null)}}else ot===p.IMAGE?(rt(pt),lt.push(pt),pt=null):pt&&lt.push(pt);return lt}function x(De,Te,Ne){var Ge=b,ot=Ne,Ze=[];if(ot)Dt(),Ge=X(ot);else{if(!(b.length>0))return Ze;ot=b[0].mpd.manifest}var lt=Le(De,Ge),_t=S.getAdaptationsForType(ot,De?De.index:null,Te);return Ze=W(ot,lt,De,_t,Te),Te===p.TEXT&&(_t=S.getAdaptationsForType(ot,De?De.index:null,p.VIDEO),Ze=Ze.concat(W(ot,lt,De,_t,Te,!0))),Ze}function X(De){var Te=F(De);return S.getRegularPeriods(Te)}function F(De){var Te=Oe(De);return S.getMpd(Te)}function we(){b=[],v={}}function Oe(De){return De||(b.length>0?b[0].mpd.manifest:null)}function ze(De){try{var Te=Le(De.streamInfo,b),Ne=S.getAdaptationsForPeriod(Te);return De&&De.streamInfo&&void 0!==De.streamInfo.id&&Ne?Ne[De.index]:null}catch{return null}}function Le(De,Te){for(var Ne=Te.length,Ge=0;Ge<Ne;Ge++){var ot=Te[Ge];if(De&&De.id===ot.id)return ot}return null}function Ye(De){if(!De)return null;var Ge,Te=new I.default,Ne=De.period.mpd.manifest.Period_asArray[De.period.index].AdaptationSet_asArray[De.index];if(Te.id=De.id,Te.index=De.index,Te.type=De.type,Te.streamInfo=it(De.period),Te.representationCount=S.getRepresentationCount(Ne),Te.labels=S.getLabelsForAdaptation(Ne),Te.lang=S.getLanguageForAdaptation(Ne),Ge=S.getViewpointForAdaptation(Ne),Te.viewpoint=Ge?Ge.value:void 0,Te.accessibility=S.getAccessibilityForAdaptation(Ne).map(function(lt){var _t=lt.value,pt=_t;return lt.schemeIdUri&&lt.schemeIdUri.search("cea-608")>=0&&typeof y<"u"&&(pt=_t?"cea-608:"+_t:"cea-608",Te.embeddedCaptions=!0),pt}),Te.audioChannelConfiguration=S.getAudioChannelConfigurationForAdaptation(Ne).map(function(lt){return lt.value}),0===Te.audioChannelConfiguration.length&&Array.isArray(Ne.Representation_asArray)&&Ne.Representation_asArray.length>0&&(Te.audioChannelConfiguration=S.getAudioChannelConfigurationForRepresentation(Ne.Representation_asArray[0]).map(function(lt){return lt.value})),Te.roles=S.getRolesForAdaptation(Ne).map(function(lt){return lt.value}),Te.codec=S.getCodec(Ne),Te.mimeType=S.getMimeType(Ne),Te.contentProtection=S.getContentProtectionData(Ne),Te.bitrateList=S.getBitrateListForAdaptation(Ne),Te.selectionPriority=S.getSelectionPriority(Ne),Te.contentProtection){var ot=Te.contentProtection.map(function(lt){return S.getKID(lt)}).filter(function(lt){return null!==lt});if(ot.length){var Ze=ot[0];Te.contentProtection.forEach(function(lt){lt.keyId=Ze})}}return Te.isText=S.getIsText(Ne),Te.supplementalProperties=S.getSupplementalProperties(Ne),Te.isFragmented=S.getIsFragmented(Ne),Te.isEmbedded=!1,Te}function et(De,Te,Ne){De.id=Te,De.index=100+parseInt(Te.substring(2,3)),De.type=p.TEXT,De.codec="cea-608-in-SEI",De.isEmbedded=!0,De.isFragmented=!1,De.lang=f()(Ne),De.roles=["caption"]}function rt(De){De.type=p.IMAGE}function it(De){var Te=new w.default;return Te.id=De.id,Te.index=De.index,Te.start=De.start,Te.duration=De.duration,Te.manifestInfo=function ht(De){var Te=new P.default;return Te.dvrWindowSize=De.timeShiftBufferDepth,Te.loadedTime=De.manifest.loadedTime,Te.availableFrom=De.availabilityStartTime,Te.minBufferTime=De.manifest.minBufferTime,Te.maxFragmentDuration=De.maxSegmentDuration,Te.duration=S.getDuration(De.manifest),Te.isDynamic=S.getIsDynamic(De.manifest),Te.serviceDescriptions=S.getServiceDescriptions(De.manifest),Te.protocol=De.manifest.protocol,Te}(De.mpd),Te.isLast=1===De.mpd.manifest.Period_asArray.length||Math.abs(Te.start+Te.duration-Te.manifestInfo.duration)<1,Te}function Dt(){if(!p)throw new Error("setConfig function has to be called previously")}function Ht(De){return b.length>0?b[0].mpd.manifest.Period_asArray[De]:null}function Yt(De,Te,Ne){var ot,Ze,lt,_t,pt;if(De)for(ot=De.AdaptationSet_asArray,_t=0;_t<ot.length;_t+=1)for(lt=ot[_t].Representation_asArray,pt=0;pt<lt.length;pt+=1)if(Te===(Ze=lt[pt]).id)return Ne?pt:Ze;return null}return N={getBandwidthForRepresentation:function ce(De,Te){var Ne;return(Ne=Yt(Ht(Te),De))?Ne.bandwidth:null},getIndexForRepresentation:function ue(De,Te){return function jt(De,Te){var Ne=Yt(De,Te,!0);return null!==Ne?Ne:-1}(Ht(Te),De)},getMaxIndexForBufferType:function be(De,Te){return function Zt(De,Te){var Ne,Ge,ot,Ze;if(!De||!Te)return-1;for(Ge=De.AdaptationSet_asArray,Ze=0;Ze<Ge.length;Ze+=1)if(ot=(Ne=Ge[Ze]).Representation_asArray,S.getIsTypeOf(Ne,Te))return ot.length;return-1}(Ht(Te),De)},convertRepresentationToRepresentationInfo:function K(De){if(De){var Te=new T.default,Ge=S.getRepresentationFor(De.index,De.adaptation.period.mpd.manifest.Period_asArray[De.adaptation.period.index].AdaptationSet_asArray[De.adaptation.index]);return Te.id=De.id,Te.quality=De.index,Te.bandwidth=S.getBandwidth(Ge),Te.fragmentDuration=De.segmentDuration||(De.segments&&De.segments.length>0?De.segments[0].duration:NaN),Te.MSETimeOffset=De.MSETimeOffset,Te.mediaInfo=Ye(De.adaptation),Te}return null},getStreamsInfo:function G(De,Te){var Ne=[],Ge=b;if(De&&(Dt(),Ge=X(De)),Ge.length>0){(!Te||Te>Ge.length)&&(Te=Ge.length);for(var ot=0;ot<Te;ot++)Ne.push(it(Ge[ot]))}return Ne},getMediaInfoForType:function ee(De,Te){if(0===b.length||!De)return null;var Ne=Le(De,b);if(!Ne)return null;var Ge=S.getAdaptationsForPeriod(Ne),ot=le(De.index,Te,De);return ot?Ye(Ge[S.getIndexForAdaptation(ot,b[0].mpd.manifest,De.index)]):null},getAllMediaInfoForType:x,getAdaptationForType:le,getRealAdaptation:function ie(De,Te){var Ne,Ge,ot=Le(De,b);return Ne=Te?Te.id:null,b.length>0&&ot&&(Ge=Ne?S.getAdaptationForId(Ne,b[0].mpd.manifest,ot.index):S.getAdaptationForIndex(Te?Te.index:null,b[0].mpd.manifest,ot.index)),Ge},getProducerReferenceTimes:function oe(De,Te){var Ne,Ge,ot=Le(De,b);return Ne=Te?Te.id:null,b.length>0&&ot&&(Ge=Ne?S.getAdaptationForId(Ne,b[0].mpd.manifest,ot.index):S.getAdaptationForIndex(Te?Te.index:null,b[0].mpd.manifest,ot.index)),Ge?S.getProducerReferenceTimesForAdaptation(Ge):[]},getRealPeriodByIndex:function J(De){return S.getRealPeriodForIndex(De,b[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function ye(De){try{return S.getEssentialPropertiesForRepresentation(De)}catch{return[]}},getVoRepresentations:function de(De){var Ne=ze(De);return S.getRepresentationsForAdaptation(Ne)},getEventsFor:function pe(De,Te,Ne){var Ge=[];if(b.length>0){var ot=b[0].mpd.manifest;if(De instanceof w.default){var Ze=Le(De,b);Ge=S.getEventsForPeriod(Ze)}else if(De instanceof I.default){var lt=Le(Ne,b);Ge=S.getEventStreamForAdaptationSet(ot,ze(De),lt)}else if(De instanceof T.default){var _t=Le(Ne,b);Ge=S.getEventStreamForRepresentation(ot,Te,_t)}}return Ge},getEvent:function ae(De,Te,Ne,Ge){try{if(!De||!Te||isNaN(Ne)||!Ge)return null;var ot=De.scheme_id_uri,Ze=De.value;if(!Te[ot+"/"+Ze])return null;var gt,lt=new R.default,_t=De.timescale||1,pt=Ge.adaptation.period.start,Be=Te[ot+"/"+Ze],Je=isNaN(Ge.presentationTimeOffset)?isNaN(Be.presentationTimeOffset)?0:Be.presentationTimeOffset:Ge.presentationTimeOffset,ct=De.presentation_time_delta/_t;gt=0===De.version?pt+Ne-Je+ct:pt-Je+ct;var At=De.event_duration/_t,Ot=De.id,Nt=De.message_data;return lt.eventStream=Be,lt.eventStream.value=Ze,lt.eventStream.timescale=_t,lt.duration=At,lt.id=Ot,lt.calculatedPresentationTime=gt,lt.messageData=Nt,lt.presentationTimeDelta=ct,lt}catch{return null}},getMpd:F,setConfig:function L(De){De&&(De.constants&&(p=De.constants),De.cea608parser&&(y=De.cea608parser),De.errHandler&&S.setConfig({errHandler:De.errHandler}),De.BASE64&&S.setConfig({BASE64:De.BASE64}))},updatePeriods:function Y(De){if(!De)return null;Dt(),b=X(De)},getIsTextTrack:function fe(De){return S.getIsText(De)},getUTCTimingSources:function ve(){var De=Oe();return S.getUTCTimingSources(De)},getSuggestedPresentationDelay:function se(){return S.getSuggestedPresentationDelay(b.length>0?b[0].mpd:null)},getAvailabilityStartTime:function Se(De){var Te=F(De);return S.getAvailabilityStartTime(Te)},getIsTypeOf:function Pe(De,Te){return S.getIsTypeOf(De,Te)},getIsDynamic:function _e(De){var Te=Oe(De);return S.getIsDynamic(Te)},getDuration:function ne(De){var Te=Oe(De);return S.getDuration(Te)},getRegularPeriods:X,getContentSteering:function V(De){return S.getContentSteering(De)},getLocation:function re(De){return S.getLocation(De)},getPatchLocation:function me(De){var Te=S.getPatchLocation(De),Ne=S.getPublishTime(De);if(!Te||!Ne)return null;if(Te.hasOwnProperty("ttl")&&Ne){var Ge=1e3*parseFloat(Te.ttl);if(Ne.getTime()+Ge<=(new Date).getTime())return null}return Te.__text},getManifestUpdatePeriod:function U(De){return S.getManifestUpdatePeriod(De,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function te(De){return S.getPublishTime(De)},getIsDVB:function Ee(De){return S.hasProfile(De,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function q(De){return O.getIsPatch(De)},getBaseURLsFromElement:function z(De){return S.getBaseURLsFromElement(De)},getRepresentationSortFunction:function j(){return S.getRepresentationSortFunction()},getCodec:function $(De,Te,Ne){return S.getCodec(De,Te,Ne)},getPeriodById:function Re(De){if(!De||0===b.length)return null;var Te=b.filter(function(Ne){return Ne.id===De});return Te&&Te.length>0?Te[0]:null},setCurrentMediaInfo:function he(De,Te,Ne){v[De]=v[De]||{},v[De][Te]=v[De][Te]||{},v[De][Te]=Ne},isPatchValid:function je(De,Te){var Ne=S.getId(De),Ge=O.getMpdId(Te),ot=S.getPublishTime(De),Ze=O.getPublishTime(Te),lt=O.getOriginalPublishTime(Te);return!!(Ne&&Ge&&Ne==Ge&&ot&&lt&&ot.getTime()==lt.getTime()&&Ze&&ot.getTime()<Ze.getTime())},applyPatchToManifest:function Ce(De,Te){O.getPatchOperations(Te).forEach(function(Ne){var Ge=Ne.getMpdTarget(De);if(null!==Ge){var ot=Ge.name,Ze=Ge.target,lt=Ge.leaf;if(Ne.xpath.findsAttribute()){switch(Ne.action){case"add":case"replace":Ze[ot]=Ne.value;break;case"remove":delete Ze[ot]}return}var _t=(Ze[ot+"_asArray"]||[]).indexOf(lt),pt="prepend"===Ne.position||"before"===Ne.position;if(("remove"===Ne.action||"replace"===Ne.action)&&(delete Ze[ot],-1!=_t)){var Be=Ze[ot+"_asArray"];Be.splice(_t,1),Be.length>1?Ze[ot]=Be:1==Be.length?Ze[ot]=Be[0]:delete Ze[ot+"_asArray"]}("add"===Ne.action||"replace"===Ne.action)&&Object.keys(Ne.value).forEach(function(Je){var ct=Ne.value[Je],gt=Ze[Je+"_asArray"]||[];0===gt.length&&Ze[Je]&&gt.push(Ze[Je]),0===gt.length?gt=ct:gt.splice.apply(gt,[Je==ot&&-1!=_t?_t+(pt?0:1)+("replace"==Ne.action?-1:0):pt?0:gt.length,0].concat(ct)),Ze[Je+"_asArray"]=gt,Ze[Je]=1==gt.length?gt[0]:gt})}})},areMediaInfosEqual:H,reset:we},function E(){S=Object(c.default)(g).getInstance(),O=Object(l.default)(g).getInstance(),we()}(),N}_.__dashjs_factory_name="DashAdapter",k.default=D.default.getSingletonFactory(_)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),T=m(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=m(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),R=m(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function l(d){var y,g,A,E,L,f=(d=d||{}).eventBus,_=d.debug,N=d.urlUtils,S=d.type,O=d.streamInfo,b=d.segmentsController,v=d.timelineConverter,p=d.baseURLController;function le(){return S}function W(){A=null}function Y(ve,se,Se){var ne,X,_e=p.resolve(Se.path);return _e&&se!==_e.url&&N.isRelative(se)?(ne=_e.url,X=_e.serviceLocation,se&&(ne=N.resolve(se,ne))):ne=se,!N.isRelative(ne)&&(ve.url=ne,ve.serviceLocation=X,!0)}function oe(ve,se){if(null==se)return null;var Se=new M.default,_e=se.representation,ne=_e.adaptation.period.mpd.manifest.Period_asArray[_e.adaptation.period.index].AdaptationSet_asArray[_e.adaptation.index].Representation_asArray[_e.index].bandwidth,X=se.media;return X=Object(P.replaceTokenForTemplate)(X,"Number",se.replacementNumber),X=Object(P.replaceTokenForTemplate)(X,"Time",se.replacementTime),X=Object(P.replaceTokenForTemplate)(X,"Bandwidth",ne),X=Object(P.replaceIDForTemplate)(X,_e.id),X=Object(P.unescapeDollarsInTemplate)(X),Se.mediaType=le(),Se.type=T.HTTPRequest.MEDIA_SEGMENT_TYPE,Se.range=se.mediaRange,Se.startTime=se.presentationStartTime,Se.mediaStartTime=se.mediaStartTime,Se.duration=se.duration,Se.timescale=_e.timescale,Se.availabilityStartTime=se.availabilityStartTime,Se.availabilityEndTime=se.availabilityEndTime,Se.availabilityTimeComplete=_e.availabilityTimeComplete,Se.wallStartTime=se.wallStartTime,Se.quality=_e.index,Se.index=se.index,Se.mediaInfo=ve,Se.adaptationIndex=_e.adaptation.index,Se.representationId=_e.id,Y(Se,X,_e)?Se:void 0}function J(ve,se,Se){var _e=null;if(!se||!se.segmentInfoType)return _e;var ne=b.getSegmentByTime(se,Se);return ne&&(A=ne,g.debug("Index for time "+Se+" is "+ne.index),_e=oe(ve,ne)),_e}function fe(){g.debug("Dynamic stream complete"),L=!0}return y={initialize:function ee(ve){E=ve,L=!1,b.initialize(ve)},getStreamId:function Z(){return O.id},getType:le,getStreamInfo:function H(){return O},getInitRequest:function G(ve,se){return se?function ie(ve,se,Se){var _e=new M.default,ne=se.adaptation.period,X=ne.start;if(_e.mediaType=Se,_e.type=T.HTTPRequest.INIT_SEGMENT_TYPE,_e.range=se.range,_e.availabilityStartTime=v.calcAvailabilityStartTimeFromPresentationTime(X,se,E),_e.availabilityEndTime=v.calcAvailabilityEndTimeFromPresentationTime(X+ne.duration,se,E),_e.quality=se.index,_e.mediaInfo=ve,_e.representationId=se.id,Y(_e,se.initialization,se))return _e.url=Object(P.replaceTokenForTemplate)(_e.url,"Bandwidth",se.bandwidth),_e}(ve,se,le()):null},getSegmentRequestForTime:J,getCurrentIndex:function he(){return A?A.index:-1},getNextSegmentRequest:function ae(ve,se){var Se=null;if(!se||!se.segmentInfoType)return null;var _e=A?A.index+1:0,ne=b.getSegmentByIndex(se,_e,A?A.mediaStartTime:-1);if(ne)Se=oe(ve,ne),A=ne;else{if(E&&!L)return g.debug(le()+" No segment found at index: "+_e+". Wait for next loop"),null;L=!0}return Se},isLastSegmentRequested:function ye(ve,se){if(!ve||!A)return!1;if(L)return!0;if(!isFinite(ve.adaptation.period.duration)||A.presentationStartTime+A.duration>se)return!1;if(ve.mediaFinishedInformation&&!isNaN(ve.mediaFinishedInformation.numberOfSegments)&&!isNaN(A.index)&&A.index>=ve.mediaFinishedInformation.numberOfSegments-1){if(!E||ve.segmentInfoType===R.default.SEGMENT_TEMPLATE)return!0;if(E&&ve.segmentInfoType===R.default.SEGMENT_LIST&&ve.adaptation.period.nextPeriodId)return!0}return!!(E&&ve.adaptation.period.nextPeriodId&&ve.segmentInfoType===R.default.SEGMENT_TIMELINE&&ve.mediaFinishedInformation&&!isNaN(ve.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&A&&!isNaN(A.mediaStartTime)&&!isNaN(A.duration)&&A.mediaStartTime+A.duration>=ve.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function x(){W(),f.off(w.default.DYNAMIC_TO_STATIC,fe,y)},getNextSegmentRequestIdempotent:function de(ve,se){var ne=b.getSegmentByIndex(se,A?A.index+1:0,A?A.mediaStartTime:-1);return ne?oe(ve,ne):null},getValidTimeAheadOfTargetTime:function pe(ve,se,Se,_e){try{if(isNaN(ve)||!se||!Se)return NaN;if(ve<0&&(ve=0),isNaN(_e)&&(_e=.5),J(se,Se,ve))return ve;if(Se.adaptation.period.start+Se.adaptation.period.duration<ve)return NaN;for(var ne=isFinite(Se.adaptation.period.duration)?Se.adaptation.period.start+Se.adaptation.period.duration:ve+30,X=Math.min(ve+_e,ne),F=NaN,V=null;X<=ne;){var re=null;if(X<=ne&&(re=J(se,Se,X)),re){F=X,V=re;break}X+=_e}if(V){var U=V.startTime+V.duration;return ve>V.startTime&&U-ve>_e?ve:!isNaN(V.startTime)&&ve<V.startTime&&F>V.startTime?V.startTime+.001:Math.min(U-_e,F)}return F}catch{return NaN}}},function K(){g=_.getLogger(y),W(),f.on(w.default.DYNAMIC_TO_STATIC,fe,y)}(),y}l.__dashjs_factory_name="DashHandler",k.default=I.default.getClassFactory(l)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),P=m(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),R=m(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),D=m(
/*! ../core/Utils */
"./src/core/Utils.js"),c=m(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function l(d){var _,N,S,O,f=this.context,b=(d=d||{}).metricsModel;function Z(re){var U=b.getMetricsFor(re,!0);if(!U)return null;var Ee,te=U.HttpList,me=null;if(!te||te.length<=0)return null;for(Ee=te.length-1;Ee>=0;){if(te[Ee].responsecode){me=te[Ee];break}Ee--}return me}function le(re){var U=b.getMetricsFor(re,!0);return U&&U.HttpList?U.HttpList:[]}function W(re,U){if(!re)return null;var te=re[U];return te&&0!==te.length?te[te.length-1]:null}return _={getCurrentRepresentationSwitch:function y(re){return W(b.getMetricsFor(re,!0),w.default.TRACK_SWITCH)},getCurrentBufferState:function A(re){return W(b.getMetricsFor(re,!0),w.default.BUFFER_STATE)},getCurrentBufferLevel:function E(re){var te=W(b.getMetricsFor(re,!0),w.default.BUFFER_LEVEL);return te?P.default.round10(te.level/1e3,-3):0},getCurrentHttpRequest:Z,getHttpRequests:le,getCurrentDroppedFrames:function x(){return W(b.getMetricsFor(M.default.VIDEO,!0),w.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function G(re){return W(b.getMetricsFor(re,!0),w.default.SCHEDULING_INFO)},getCurrentDVRInfo:function he(re){return W(re?b.getMetricsFor(re,!0):b.getMetricsFor(M.default.VIDEO,!0)||b.getMetricsFor(M.default.AUDIO,!0),w.default.DVR_INFO)},getCurrentManifestUpdate:function oe(){return W(b.getMetricsFor(M.default.STREAM),w.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function se(re,U){if(!U)return null;var te={},me=Z(re);me&&(te=D.default.parseHttpHeaders(me._responseHeaders));var Ee=te[U.toLowerCase()];return void 0===Ee?null:Ee},getLatestMPDRequestHeaderValueByID:function ve(re){if(!re)return null;var te,me,Ee,U={};for(Ee=(te=le(M.default.STREAM)).length-1;Ee>=0;Ee--)if((me=te[Ee]).type===T.HTTPRequest.MPD_TYPE){U=D.default.parseHttpHeaders(me._responseHeaders);break}var q=U[re.toLowerCase()];return void 0===q?null:q},addRepresentationSwitch:function g(re,U,te,me,Ee){b.addRepresentationSwitch(re,U,te,me,Ee)},addDVRInfo:function fe(re,U,te,me){b.addDVRInfo(re,U,te,me)},updateManifestUpdateInfo:function ye(re){var U=this.getCurrentManifestUpdate();b.updateManifestUpdateInfo(U,re)},addManifestUpdateStreamInfo:function J(re){if(re){var U=this.getCurrentManifestUpdate();b.addManifestUpdateStreamInfo(U,re.id,re.index,re.start,re.duration)}},addManifestUpdateRepresentationInfo:function pe(re,U){if(re){var te=this.getCurrentManifestUpdate();b.addManifestUpdateRepresentationInfo(te,re.id,re.index,re.streamIndex,U,re.presentationTimeOffset,re.startNumber,re.fragmentInfoType)}},addManifestUpdate:function de(re){b.addManifestUpdate(M.default.STREAM,re.type,re.requestStartDate,re.requestEndDate)},addHttpRequest:function ae(re,U,te,me,Ee){b.addHttpRequest(re.mediaType,null,re.type,re.url,re.quality,U,re.serviceLocation||null,re.range||null,re.requestStartDate,re.firstByteDate,re.requestEndDate,te,re.duration,me,Ee,re.fileLoaderType)},addSchedulingInfo:function ie(re,U){b.addSchedulingInfo(re.mediaType,new Date,re.type,re.startTime,re.availabilityStartTime,re.duration,re.quality,re.range,U)},addRequestsQueue:function H(re,U,te){b.addRequestsQueue(re,U,te)},addBufferLevel:function L(re,U,te){b.addBufferLevel(re,U,te)},addBufferState:function K(re,U,te){b.addBufferState(re,U,te)},addDroppedFrames:function Y(re){b.addDroppedFrames(M.default.VIDEO,re)},addPlayList:function Se(){O&&(b.addPlayList(O),O=null)},addDVBErrors:function V(re){b.addDVBErrors(re)},createPlaylistMetrics:function _e(re,U){(O=new c.PlayList).start=new Date,O.mstart=re,O.starttype=U},createPlaylistTraceMetrics:function ne(re,U,te){!0===N&&(N=!1,(S=new c.PlayListTrace).representationid=re,S.start=new Date,S.mstart=U,S.playbackspeed=null!==te?te.toString():null)},updatePlayListTraceMetrics:function X(re){if(S)for(var U in S)S[U]=re[U]},pushPlayListTraceMetrics:function F(re,U){if(!1===N&&O&&S&&S.start){var te=S.start,me=re.getTime()-te.getTime();S.duration=me,S.stopreason=U,O.trace.push(S),N=!0}},clearAllCurrentMetrics:function ee(){b.clearAllCurrentMetrics()}},function v(){b=b||Object(R.default)(f).getInstance({settings:d.settings}),function p(){N=!0,S=null,O=null}()}(),_}l.__dashjs_factory_name="DashMetrics",k.default=I.default.getSingletonFactory(l)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),T=m(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),I=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),P=m(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function R(){var c,l,d,f,_,N,S,O,b,v,p,y,g,D=this.context;function ee(G,ie,oe,ye){var J=null,de=G?g.resolve(G.path):null,ae=ye||{init:!0,url:de?de.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ie};l.debug("Start searching for initialization.");var pe=Y(ae);O.load({request:pe,success:function(se){if(ae.bytesLoaded=ae.range.end,!(J=f.findInitRange(se)))return ae.range.end=ae.bytesLoaded+ae.bytesToLoad,ee(G,ie,oe,ae);G.range=J,oe(G)},error:function(){oe(G)}}),l.debug("Perform init search: "+ae.url)}function le(G,ie,oe,ye,J,de){if(oe&&(void 0===oe.start||void 0===oe.end)){var ae=oe?oe.toString().split("-"):null;oe=ae?{start:parseFloat(ae[0]),end:parseFloat(ae[1])}:null}J=J||H;var pe=null,he=null,fe=!!oe,ve=G?g.resolve(G.path):null,se={init:!1,url:ve?ve.url:void 0,range:fe?oe:{start:0,end:1500},searching:!fe,bytesLoaded:de?de.bytesLoaded:0,bytesToLoad:1500,mediaType:ie},Se=Y(se);O.load({request:Se,success:function(F){var V=se.bytesToLoad,re=F.byteLength;if(se.bytesLoaded=se.range.end-se.range.start,pe=f.parse(F),(he=pe.getBox("sidx"))&&he.isComplete){var me,Ee,te=he.references;if(null!=te&&te.length>0&&(me=1===te[0].reference_type),me){l.debug("Initiate multiple SIDX load."),se.range.end=se.range.start+he.size;var q,z,j,$,ue=[],be=0,Re=(he.offset||se.range.start)+he.size,Pe=function(je){je?(ue=ue.concat(je),++be>=z&&(ue.sort(function(Ce,Oe){return Ce.startTime-Oe.startTime<0?-1:0}),J(ue,G,ye))):J(null,G,ye)};for(q=0,z=te.length;q<z;q++)j=Re,$=Re+te[q].referenced_size-1,Re+=te[q].referenced_size,le(G,ie,{start:j,end:$},ye,Pe,se)}else l.debug("Parsing segments from SIDX. representation "+ie+" - id: "+G.id+" for range : "+se.range.start+" - "+se.range.end),Ee=function x(G,ie){for(var he,ve,se,oe=G.references,ye=oe.length,J=G.timescale,de=G.earliest_presentation_time,ae=ie.range.start+G.offset+G.first_offset+G.size,pe=[],Se=0;Se<ye;Se++)ve=oe[Se].subsegment_duration,se=oe[Se].referenced_size,(he=new M.default).duration=ve,he.startTime=de,he.timescale=J,he.mediaRange=ae+"-"+(ae+se-1),pe.push(he),de+=ve,ae+=se;return pe}(he,se),J(Ee,G,ye)}else{if(he)se.range.start=he.offset||se.range.start,se.range.end=se.range.start+(he.size||V);else{if(re<se.bytesLoaded)return void J(null,G,ye);var U=pe.getLastBox();U&&U.size?(se.range.start=U.offset+U.size,se.range.end=se.range.start+V):se.range.end+=V}le(G,ie,se.range,ye,null,se)}},error:function(){J(null,G,ye)}}),l.debug("Perform SIDX load for type ".concat(ie," : ").concat(se.url," with range ").concat(se.range.start," - ").concat(se.range.end))}function H(G,ie,oe){oe({segments:G,representation:ie,error:G?void 0:new T.default(b.SEGMENT_BASE_LOADER_ERROR_CODE,b.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Y(G){if(G.url){var ie=new w.default;return ie.setInfo(G),ie}}return c={setConfig:function L(G){G.baseURLController&&(g=G.baseURLController),G.dashMetrics&&(N=G.dashMetrics),G.mediaPlayerModel&&(S=G.mediaPlayerModel),G.errHandler&&(d=G.errHandler),G.boxParser&&(f=G.boxParser),G.debug&&(l=G.debug.getLogger(c)),G.requestModifier&&(_=G.requestModifier),G.errors&&(b=G.errors),G.urlUtils&&(y=G.urlUtils),G.constants&&(v=G.constants),G.dashConstants&&(p=G.dashConstants)},initialize:function E(){O=Object(P.default)(D).create({errHandler:d,dashMetrics:N,mediaPlayerModel:S,requestModifier:_,boxParser:f,errors:b,urlUtils:y,constants:v,dashConstants:p})},loadInitialization:function K(G,ie){return new Promise(function(oe){ee(G,ie,oe)})},loadSegments:function Z(G,ie,oe){return new Promise(function(ye){le(G,ie,oe,ye)})},reset:function W(){O&&(O.abort(),O=null)}}}R.__dashjs_factory_name="SegmentBaseLoader",k.default=I.default.getSingletonFactory(R)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),T=m(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),P=m(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),R=m(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),D=m(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function c(){var d,f,_,N,S,O,b,v,p,y,l=this.context;function K(x,Y,G,ie){var ye,J,de,ae,pe;for(J=[],ae=0,pe=(ye=function L(x){var ie,oe,Y=[],G=Object(M.default)(l).create({data:x});for(G.consumeTagAndSize(_.Segment.Cues);G.moreData()&&G.consumeTagAndSize(_.Segment.Cues.CuePoint,!0);){for((ie={}).CueTime=G.parseTag(_.Segment.Cues.CuePoint.CueTime),ie.CueTracks=[];G.moreData()&&G.consumeTag(_.Segment.Cues.CuePoint.CueTrackPositions,!0);){var ye=G.getMatroskaCodedNum(),J=G.getPos();if((oe={}).Track=G.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===oe.Track)throw new Error("Cue track cannot be 0");oe.ClusterPosition=G.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ie.CueTracks.push(oe),G.setPos(J+ye)}if(0===ie.CueTracks.length)throw new Error("Mandatory cuetrack not found");Y.push(ie)}if(0===Y.length)throw new Error("mandatory cuepoint not found");return Y}(x)).length;ae<pe;ae+=1)(de=new w.default).duration=ae<ye.length-1?ye[ae+1].CueTime-ye[ae].CueTime:ie-ye[ae].CueTime,de.startTime=ye[ae].CueTime,de.timescale=1e3,de.mediaRange=ye[ae].CueTracks[0].ClusterPosition+Y+"-"+(ae<ye.length-1?ye[ae+1].CueTracks[0].ClusterPosition+Y-1:G-1),J.push(de);return f.debug("Parsed cues: "+J.length+" cues."),J}function H(x){var Y=new P.default;return Y.setInfo(x),Y}return d={setConfig:function E(x){if(!(x.baseURLController&&x.dashMetrics&&x.mediaPlayerModel&&x.errHandler))throw new Error(T.default.MISSING_CONFIG_ERROR);y=x.baseURLController,O=x.dashMetrics,b=x.mediaPlayerModel,N=x.errHandler,p=x.errors,f=x.debug.getLogger(d),S=x.requestModifier},initialize:function A(){v=Object(R.default)(l).create({errHandler:N,dashMetrics:O,mediaPlayerModel:b,requestModifier:S,errors:p})},loadInitialization:function Z(x,Y){return new Promise(function(G){var ie=null,oe=x?y.resolve(x.path):null,ye=x?x.range.split("-"):null,J={range:{start:ye?parseFloat(ye[0]):null,end:ye?parseFloat(ye[1]):null},request:ie,url:oe?oe.url:void 0,init:!0,mediaType:Y};f.info("Start loading initialization."),ie=H(J),v.load({request:ie,success:function(){G(x)},error:function(){G(x)}}),f.debug("Perform init load: "+J.url)})},loadSegments:function le(x,Y,G){return new Promise(function(ie){var oe=null,ye=x?y.resolve(x.path):null,J=ye?ye.url:void 0;oe=H({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:oe,url:J,init:!1,mediaType:Y}),f.debug("Parsing ebml header"),v.load({request:oe,success:function(ve){!function ee(x,Y,G,ie){if(x&&0!==x.byteLength){var ye,J,de,ae,oe=Object(M.default)(l).create({data:x}),pe=G?G.split("-"):null,he=null,fe={url:Y,range:{start:pe?parseFloat(pe[0]):null,end:pe?parseFloat(pe[1]):null},request:he};for(f.debug("Parse EBML header: "+fe.url),oe.skipOverElement(_.EBML),oe.consumeTag(_.Segment),de=oe.getMatroskaCodedNum(),de+=oe.getPos(),ae=oe.getPos();oe.moreData()&&!oe.consumeTagAndSize(_.Segment.Info,!0);)if(!(oe.skipOverElement(_.Segment.SeekHead,!0)||oe.skipOverElement(_.Segment.Tracks,!0)||oe.skipOverElement(_.Segment.Cues,!0)||oe.skipOverElement(_.Void,!0)))throw new Error("no valid top level element found");for(;void 0===ye;){var ve=oe.getMatroskaCodedNum(!0),se=oe.getMatroskaCodedNum();ve===_.Segment.Info.Duration.tag?ye=oe[_.Segment.Info.Duration.parse](se):oe.setPos(oe.getPos()+se)}he=H(fe),v.load({request:he,success:function(X){J=K(X,ae,de,ye),ie(J)},error:function(){f.error("Download Error: Cues "+fe.url),ie(null)}}),f.debug("Perform cues load: "+fe.url+" bytes="+fe.range.start+"-"+fe.range.end)}else ie(null)}(ve,J,G,function(se){ie({segments:se,representation:x,error:se?void 0:new D.default(p.SEGMENT_BASE_LOADER_ERROR_CODE,p.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ie({representation:x,error:new D.default(p.SEGMENT_BASE_LOADER_ERROR_CODE,p.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function W(){v&&(v.abort(),v=null)}},function g(){_={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),d}c.__dashjs_factory_name="WebmSegmentBaseLoader",k.default=I.default.getSingletonFactory(c)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(k);var c=new(function(){function l(){(function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),l}());k.default=c},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=m(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),w=m(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=m(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),R=m(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),D=m(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),c=m(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),l=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),f=m(
/*! ../../core/Utils */
"./src/core/Utils.js"),_=m(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),N_THROUGHPUT="_DASH_throughput",N_PATHWAY="_DASH_pathway",N_URL="url";function S(){var v,p,y,g,A,E,L,K,ee,Z,le,H,W,x,Y,O=this.context,b=Object(_.default)(O).getInstance();function ye(F){F&&F.toStreamInfo&&(g=F.toStreamInfo)}function J(F){F&&F.request&&F.request.serviceLocation&&(A=F.request.serviceLocation)}function de(){var F=le.getValue();return Y.getContentSteering(F)}function pe(){return new Promise(function(F){try{var V=de();if(!V||!V.serverUrl)return void F();var re=function he(F){var V=F.proxyServerUrl?F.proxyServerUrl:F.serverUrl;y&&y.reloadUri&&(V=b.isRelative(y.reloadUri)?b.resolve(y.reloadUri,F.serverUrl):y.reloadUri);var re=[];if(g){var U=Y.getIsDynamic(),te=Y.getAllMediaInfoForType(g,d.default.VIDEO).length>0?d.default.VIDEO:d.default.AUDIO,me=W.getThroughputHistory(),Ee=me?me.getAverageThroughput(te,U):NaN;isNaN(Ee)||re.push({key:N_THROUGHPUT,value:1e3*Ee})}return A&&re.push({key:N_PATHWAY,value:A}),F.proxyServerUrl&&F.proxyServerUrl===V&&F.serverUrl&&re.push({key:N_URL,value:encodeURI(F.serverUrl)}),f.default.addAditionalQueryParameterToUrl(V,re)}(V),U=new P.default(re);L.load({request:U,success:function(me){(function fe(F){!F||!F[D.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(F[D.default.CONTENT_STEERING_RESPONSE.VERSION])||((y=new R.default).version=F[D.default.CONTENT_STEERING_RESPONSE.VERSION],F[D.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(F[D.default.CONTENT_STEERING_RESPONSE.TTL])&&(y.ttl=F[D.default.CONTENT_STEERING_RESPONSE.TTL]),F[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(y.reloadUri=F[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),F[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(y.serviceLocationPriority=F[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),ve())})(me),x.trigger(c.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:y,url:re}),F()},error:function(me){(function Se(F){p.warn("Error fetching data from content steering server",F),ve()})(me),F(me)}})}catch(te){F(te)}})}function ve(){y&&y.ttl&&!isNaN(y.ttl)&&(E&&clearTimeout(E),E=setTimeout(function(){pe()},1e3*y.ttl))}function se(){E&&clearTimeout(E),E=null}function X(){y=null,g=null,A=null,se()}return v={reset:function ne(){X(),x.off(c.default.PERIOD_SWITCH_COMPLETED,ye,v),x.off(l.default.FRAGMENT_LOADING_STARTED,J,v)},setConfig:function ie(F){F&&(F.adapter&&(Y=F.adapter),F.errHandler&&(K=F.errHandler),F.dashMetrics&&(ee=F.dashMetrics),F.mediaPlayerModel&&(Z=F.mediaPlayerModel),F.requestModifier&&(H=F.requestModifier),F.manifestModel&&(le=F.manifestModel),F.abrController&&(W=F.abrController),F.eventBus&&(x=F.eventBus))},loadSteeringData:pe,getCurrentSteeringResponseData:function _e(){return y},shouldQueryBeforeStart:function ae(){var F=de();return F&&F.queryBeforeStart},getSteeringDataFromManifest:de,stopSteeringRequestTimer:se,initialize:function oe(){L=Object(I.default)(O).create({errHandler:K,dashMetrics:ee,mediaPlayerModel:Z,requestModifier:H,errors:w.default}),x.on(c.default.PERIOD_SWITCH_COMPLETED,ye,v),x.on(l.default.FRAGMENT_LOADING_STARTED,J,v)}},function G(){p=Object(T.default)(O).getInstance().getLogger(v),X()}(),v}S.__dashjs_factory_name="ContentSteeringController",k.default=M.default.getSingletonFactory(S)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=m(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),w=m(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function P(R){var p,y,g,A,E,D=(R=R||{}).eventBus,c=R.events,l=R.abrController,d=R.dashMetrics,f=R.playbackController,_=R.timelineConverter,N=R.type,S=R.streamInfo,O=R.dashConstants,b=R.segmentsController,v=R.isDynamic;function ee(){return N}function Z(){if(!(l&&d&&f&&_))throw new Error(M.default.MISSING_CONFIG_ERROR)}function H(){return g}function W(){return E}function x(){y=null,g=!0,A=[]}function ie(ne){return new Promise(function(X,F){var V=ne.hasInitialization(),re=ne.hasSegments(),U=[];U.push(b.updateInitData(ne,V)),U.push(b.updateSegmentData(ne,re)),Promise.all(U).then(function(te){te[0]&&!te[0].error&&(ne=function ye(ne,X){return X&&!X.error&&X.representation?X.representation:ne}(ne,te[0])),te[1]&&!te[1].error&&(ne=function J(ne,X){if(X&&!X.error){var U,te,me,Ee,F=X.segments,V=[],re=0;for(U=0,te=F?F.length:0;U<te;U++)me=F[U],(Ee=Object(w.getTimeBasedSegment)(_,v,ne,me.startTime,me.duration,me.timescale,me.media,me.mediaRange,re))&&(V.push(Ee),Ee=null,re++);return V.length>0&&(ne.segments=V),ne}}(ne,te[1])),function oe(ne){ne.mediaFinishedInformation=b.getMediaFinishedInformation(ne)}(ne),function ve(ne){if(H()){var V,X=d.getCurrentManifestUpdate(),F=!1;if(X){for(var U=0;U<X.representationInfo.length;U++)if((V=X.representationInfo[U]).index===ne.index&&V.mediaType===ee()){F=!0;break}F||d.addManifestUpdateRepresentationInfo(ne,ee())}if(function he(){for(var ne=0,X=A.length;ne<X;ne++){var F=A[ne].segmentInfoType;if(!A[ne].hasInitialization()||(F===O.SEGMENT_BASE||F===O.BASE_URL)&&!A[ne].segments)return!1}return!0}()){l.setPlaybackQuality(N,S,function pe(ne){return A.indexOf(ne)}(E));var te=d.getCurrentDVRInfo(N);te&&d.updateManifestUpdateInfo({latency:te.range.end-f.getTime()}),d.getCurrentRepresentationSwitch(W().adaptation.type)||de(),fe()}}}(ne),X()}).catch(function(te){F(te)})})}function de(){Z();var ne=new Date,X=W(),F=1e3*f.getTime();X&&d.addRepresentationSwitch(X.adaptation.type,ne,F,X.id),D.trigger(I.default.REPRESENTATION_SWITCH,{mediaType:N,streamId:S.id,currentRepresentation:X,numberOfRepresentations:A.length},{streamId:S.id,mediaType:N})}function ae(ne){return null==ne||ne>=A.length?null:A[ne]}function fe(ne){g=!1,D.trigger(c.DATA_UPDATE_COMPLETED,{data:y,currentRepresentation:E,error:ne},{streamId:S.id,mediaType:N})}function Se(ne){E=ne}function _e(ne){if(ne.newDuration){var X=W();X&&X.adaptation.period&&(X.adaptation.period.duration=ne.newDuration)}}return p={getStreamId:function K(){return S.id},getType:ee,getData:function le(){return y},isUpdating:H,updateData:function G(ne,X,F,V,re){if(Z(),g=!0,A=X,Se(ae(re)),y=ne,F!==M.default.VIDEO&&F!==M.default.AUDIO&&(F!==M.default.TEXT||!V))return fe(),Promise.resolve();for(var te=[],me=0,Ee=A.length;me<Ee;me++)te.push(ie(A[me]));return Promise.all(te)},getCurrentRepresentation:W,getRepresentationForQuality:ae,prepareQualityChange:function se(ne){Se(ae(ne)),de()},reset:function Y(){D.off(I.default.MANIFEST_VALIDITY_CHANGED,_e,p),x()}},function L(){x(),D.on(I.default.MANIFEST_VALIDITY_CHANGED,_e,p)}(),p}P.__dashjs_factory_name="RepresentationController",k.default=T.default.getClassFactory(P)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),I=m(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function w(R){var p,y,g,D=this.context,c=(R=R||{}).eventBus,l=R.events,d=R.dashMetrics,f=R.mediaPlayerModel,_=R.errHandler,N=R.baseURLController,S=R.debug,O=R.boxParser,b=R.requestModifier,v=R.errors;function E(le){return"webm"===(le?le.split("/")[1]:"").toLowerCase()}return p={initialize:function L(){y.initialize(),g.initialize()},getSegmentBaseInitSegment:function K(le){return E(le.representation.mimeType)?g.loadInitialization(le.representation,le.mediaType):y.loadInitialization(le.representation,le.mediaType)},getSegmentList:function ee(le){return E(le.mimeType)?g.loadSegments(le.representation,le.mediaType,le.representation?le.representation.indexRange:null):y.loadSegments(le.representation,le.mediaType,le.representation?le.representation.indexRange:null)},reset:function Z(){y.reset(),g.reset()}},function A(){y=Object(T.default)(D).getInstance(),g=Object(I.default)(D).getInstance(),y.setConfig({baseURLController:N,dashMetrics:d,mediaPlayerModel:f,errHandler:_,eventBus:c,events:l,errors:v,debug:S,boxParser:O,requestModifier:b}),g.setConfig({baseURLController:N,dashMetrics:d,mediaPlayerModel:f,errHandler:_,eventBus:c,events:l,errors:v,debug:S,requestModifier:b})}(),p}w.__dashjs_factory_name="SegmentBaseController";var P=M.default.getSingletonFactory(w);k.default=P},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),I=m(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),w=m(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),P=m(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function R(c){var N,S,l=this.context,d=(c=c||{}).dashConstants,f=c.type,_=c.segmentBaseController;function y(L){return L?L.segments?S[d.SEGMENT_BASE]:S[L.segmentInfoType]:null}return N={initialize:function b(L){S[d.SEGMENT_TIMELINE]=Object(T.default)(l).create(c,L),S[d.SEGMENT_TEMPLATE]=Object(I.default)(l).create(c,L),S[d.SEGMENT_LIST]=Object(w.default)(l).create(c,L),S[d.SEGMENT_BASE]=Object(P.default)(l).create(c,L)},updateInitData:function v(L,K){return K?Promise.resolve():_.getSegmentBaseInitSegment({representation:L,mediaType:f})},updateSegmentData:function p(L,K){return K?Promise.resolve():_.getSegmentList({mimeType:L.mimeType,representation:L,mediaType:f})},getSegmentByIndex:function g(L,K,ee){var Z=y(L);return Z?Z.getSegmentByIndex(L,K,ee):null},getSegmentByTime:function A(L,K){var ee=y(L);return ee?ee.getSegmentByTime(L,K):null},getMediaFinishedInformation:function E(L){var K=y(L);return K?K.getMediaFinishedInformation(L):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function O(){S={}}(),N}R.__dashjs_factory_name="SegmentsController";var D=M.default.getClassFactory(R);k.default=D},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),w=m(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=[I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],R_VIDEO="video",R_AUDIO="audio",R_ANY="any",R_ALL="all";function D(){var l,d,f,_,N,c=this.context;function v(){d={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},f=[]}function Z(x,Y,G){try{d[x][Y]=G/1e3}catch(ie){_.error(ie)}}return l={getServiceDescriptionSettings:function p(){return d},getProducerReferenceTimeOffsets:function le(){return f},calculateProducerReferenceTimeOffsets:function H(x){try{var Y=[];if(x&&x.length>0){var G=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT],ie=N.getAvailabilityStartTime()/1e3;x.forEach(function(oe){var ye=G.reduce(function(J,de){return J.concat(N.getAllMediaInfoForType(oe,de))},[]).reduce(function(J,de){return N.getProducerReferenceTimes(oe,de).forEach(function(pe){var he=N.getVoRepresentations(de);if(he&&he.length>0&&he[0].adaptation&&he[0].segmentInfoType===w.default.SEGMENT_TEMPLATE){var fe=he[0],se=new Date(pe[w.default.WALL_CLOCK_TIME]).getTime()/1e3;J.push({id:pe[w.default.ID],to:ie-(se-(pe[w.default.PRESENTATION_TIME]/fe[w.default.TIMESCALE]-fe[w.default.PRESENTATION_TIME_OFFSET]+oe.start))})}}),J},[]);Y=Y.concat(ye)})}f=Y}catch(oe){_.error(oe),f=[]}},applyServiceDescription:function y(x){if(x&&x.serviceDescriptions){var Y=x.serviceDescriptions.filter(function(oe){return P.includes(oe.schemeIdUri)}),G=x.serviceDescriptions.filter(function(oe){return null==oe.schemeIdUri}),ie=Y.length>0?Y[Y.length-1]:G[G.length-1];ie&&(ie.latency&&ie.latency.target>0&&function g(x){var Y;if(Y=x.schemeIdUri===I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function E(x){return{liveDelay:x.latency.target/1e3,maxDrift:!isNaN(x.latency.max)&&x.latency.max>x.latency.target?(x.latency.max-x.latency.target+500)/1e3:NaN,referenceId:x.latency.referenceId||NaN}}(x):function A(x){return{liveDelay:x.latency.target/1e3,maxDrift:!isNaN(x.latency.max)&&x.latency.max>x.latency.target?(x.latency.max-x.latency.target+500)/1e3:NaN,referenceId:x.latency.referenceId||NaN}}(x),f.length>0){var G=function W(x){var G,Y=0,ie=f.filter(function(oe){return oe.id===x.referenceId});return 0===ie.length?(Y=f.length>0?f[0].to:0,G=f[0].id||NaN):(Y=ie[0].to||0,G=ie[0].id||NaN),{to:Y,id:G}}(Y),ie=G.to,oe=G.id;d.liveDelay=Y.liveDelay-ie,d.liveCatchup.maxDrift=Y.maxDrift,_.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ie," from ProducerReferenceTime element with id ").concat(oe,".\n                Live Delay: ").concat(Y.liveDelay-ie,", Live catchup max drift: ").concat(Y.maxDrift,"\n            "))}else d.liveDelay=Y.liveDelay,d.liveCatchup.maxDrift=Y.maxDrift,_.debug("Found latency properties coming from service description: Live Delay: ".concat(Y.liveDelay,", Live catchup max drift: ").concat(Y.maxDrift))}(ie),ie.playbackRate&&function L(x){var Y=x.playbackRate.min?Math.round(1e3*(x.playbackRate.min-1))/1e3:NaN,G=x.playbackRate.max?Math.round(1e3*(x.playbackRate.max-1))/1e3:NaN;d.liveCatchup.playbackRate.min=Y,d.liveCatchup.playbackRate.max=G,_.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(Y)),_.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(G))}(ie),ie.operatingBandwidth&&function ee(x){if(x&&x.operatingBandwidth&&x.operatingBandwidth.mediaType&&x.operatingBandwidth.mediaType!==R_ALL){var Y={};Y.minBandwidth=x.operatingBandwidth.min,Y.maxBandwidth=x.operatingBandwidth.max,Y.targetBandwidth=x.operatingBandwidth.target;var G=[];x.operatingBandwidth.mediaType===R_VIDEO||x.operatingBandwidth.mediaType===R_AUDIO?G.push(x.operatingBandwidth.mediaType):x.operatingBandwidth.mediaType===R_ANY&&(G.push(R_AUDIO),G.push(R_VIDEO)),G.forEach(function(ie){isNaN(Y.minBandwidth)||Z("minBitrate",ie,Y.minBandwidth),isNaN(Y.maxBandwidth)||Z("maxBitrate",ie,Y.maxBandwidth),isNaN(Y.targetBandwidth)||Z("initialBitrate",ie,Y.targetBandwidth)})}}(ie))}},reset:function b(){v()},setConfig:function O(x){x&&x.adapter&&(N=x.adapter)}},function S(){_=Object(T.default)(c).getInstance().getLogger(l),v()}(),l}D.__dashjs_factory_name="ServiceDescriptionController",k.default=M.default.getSingletonFactory(D)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=m(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),w=m(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),P=m(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),R=m(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),D=m(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),c=m(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),l=m(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),d=m(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),f=m(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),_=m(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),N=m(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),S=m(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),O=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),v=m(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),p=m(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),y=m(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function g(H,W){var x=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!x){if(Array.isArray(H)||(x=L(H))||W&&H&&"number"==typeof H.length){x&&(H=x);var Y=0,G=function(){};return{s:G,n:function(){return Y>=H.length?{done:!0}:{done:!1,value:H[Y++]}},e:function(de){throw de},f:G}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ye,ie=!0,oe=!1;return{s:function(){x=x.call(H)},n:function(){var de=x.next();return ie=de.done,de},e:function(de){oe=!0,ye=de},f:function(){try{!ie&&null!=x.return&&x.return()}finally{if(oe)throw ye}}}}function A(H){return function ee(H){if(Array.isArray(H))return Z(H)}(H)||function K(H){if(typeof Symbol<"u"&&null!=H[Symbol.iterator]||null!=H["@@iterator"])return Array.from(H)}(H)||L(H)||function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(H,W){if(H){if("string"==typeof H)return Z(H,W);var x=Object.prototype.toString.call(H).slice(8,-1);if("Object"===x&&H.constructor&&(x=H.constructor.name),"Map"===x||"Set"===x)return Array.from(H);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Z(H,W)}}function Z(H,W){(null==W||W>H.length)&&(W=H.length);for(var x=0,Y=new Array(W);x<W;x++)Y[x]=H[x];return Y}function le(){var H,W,x,Y,G=this.context,ie=Object(S.default)(G).getInstance(),oe=Number.isInteger||function(Ae){return"number"==typeof Ae&&isFinite(Ae)&&Math.floor(Ae)===Ae};function J(Ae,tt){if(!Ae)throw new Error("adaptation is not defined");if(!tt)throw new Error("type is not defined");if(Ae.Representation_asArray&&Ae.Representation_asArray.length){var Ct=ht(Ae.Representation_asArray[0]);if(Ct&&Ct.length>0&&y.THUMBNAILS_SCHEME_ID_URIS.indexOf(Ct[0].schemeIdUri)>=0)return tt===M.default.IMAGE}if(Ae.ContentComponent_asArray&&Ae.ContentComponent_asArray.length>0){if(Ae.ContentComponent_asArray.length>1)return tt===M.default.MUXED;if(Ae.ContentComponent_asArray[0].contentType===tt)return!0}var Ue=tt===M.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(tt);if(Ae.Representation_asArray&&Ae.Representation_asArray.length&&Ue.test(Ae.Representation_asArray[0].codecs))return!0;if(Ae.hasOwnProperty(T.default.MIME_TYPE))return Ue.test(Ae.mimeType);if(Ae.Representation_asArray)for(var at,Mt=0;Mt<Ae.Representation_asArray.length;Mt++)if((at=Ae.Representation_asArray[Mt]).hasOwnProperty(T.default.MIME_TYPE))return Ue.test(at.mimeType);return!1}function de(Ae){if(!Ae)throw new Error("adaptation is not defined");if(Ae.hasOwnProperty(T.default.SEGMENT_TEMPLATE)||Ae.hasOwnProperty(T.default.SEGMENT_TIMELINE)||Ae.hasOwnProperty(T.default.SEGMENT_LIST)||Ae.hasOwnProperty(T.default.SEGMENT_BASE))return!0;if(Ae.Representation_asArray&&Ae.Representation_asArray.length>0){var tt=Ae.Representation_asArray[0];if(tt.hasOwnProperty(T.default.SEGMENT_TEMPLATE)||tt.hasOwnProperty(T.default.SEGMENT_TIMELINE)||tt.hasOwnProperty(T.default.SEGMENT_LIST)||tt.hasOwnProperty(T.default.SEGMENT_BASE))return!0}return!1}function ae(Ae){return J(Ae,M.default.AUDIO)}function pe(Ae){return J(Ae,M.default.VIDEO)}function he(Ae){return J(Ae,M.default.TEXT)}function fe(Ae){return J(Ae,M.default.MUXED)}function ve(Ae){return J(Ae,M.default.IMAGE)}function re(){return function(Ae,tt){return Ae.bandwidth-tt.bandwidth}}function U(Ae){return Ae&&Array.isArray(Ae.Representation_asArray)&&Ae.Representation_asArray.sort(function(Ae,tt){return Ae.bandwidth-tt.bandwidth}),Ae}function te(Ae,tt){return Ae&&Ae.Period_asArray&&oe(tt)&&Ae.Period_asArray[tt]?Ae.Period_asArray[tt].AdaptationSet_asArray:[]}function me(Ae){return Ae&&Ae.Period_asArray?Ae.Period_asArray:[]}function we(Ae){var tt=!1;return Ae&&Ae.hasOwnProperty("type")&&(tt=Ae.type===T.default.DYNAMIC),tt}function ht(Ae){return Ae&&Ae.EssentialProperty_asArray&&Ae.EssentialProperty_asArray.length?Ae.EssentialProperty_asArray.map(function(tt){return{schemeIdUri:tt.schemeIdUri,value:tt.value}}):null}function Yt(Ae){if(!Ae||!Ae.S_asArray)return NaN;var tt=Ae.S_asArray[0],Ct=Ae.S_asArray[1];return tt.hasOwnProperty("d")?tt.d:Ct.t-tt.t}function Zt(Ae){return Ae.adaptation.period.start-Ae.presentationTimeOffset}function Ne(Ae,tt){if(!Ae)throw new Error("Period cannot be null or undefined");var Ct=P.default.DEFAULT_ID+"_"+tt;return Ae.hasOwnProperty(T.default.ID)&&Ae.id.length>0&&"__proto__"!==Ae.id&&(Ct=Ae.id),Ct}function _t(Ae,tt,Ct){var qe,Ue=[];if(!Ae)return Ue;for(qe=0;qe<Ae.length;qe++){var at=new d.default;if(at.timescale=1,at.representation=tt,!Ae[qe].hasOwnProperty(M.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");at.schemeIdUri=Ae[qe].schemeIdUri,Ae[qe].hasOwnProperty(T.default.TIMESCALE)&&(at.timescale=Ae[qe].timescale),Ae[qe].hasOwnProperty(T.default.VALUE)&&(at.value=Ae[qe].value),Ue.push(at),at.period=Ct}return Ue}function ct(Ae){var tt=[],Ue=!1;return(Ae.BaseURL_asArray||[Ae.baseUri]).some(function(qe){if(qe){var at=new l.default,Mt=qe.__text||qe;return ie.isRelative(Mt)&&(Ue=!0,Ae.baseUri&&(Mt=ie.resolve(Mt,Ae.baseUri))),at.url=Mt,at.serviceLocation=qe.hasOwnProperty(T.default.SERVICE_LOCATION)&&qe.serviceLocation.length?qe.serviceLocation:Mt,qe.hasOwnProperty(T.default.DVB_PRIORITY)&&(at.dvb_priority=qe[T.default.DVB_PRIORITY]),qe.hasOwnProperty(T.default.DVB_WEIGHT)&&(at.dvb_weight=qe[T.default.DVB_WEIGHT]),qe.hasOwnProperty(T.default.AVAILABILITY_TIME_OFFSET)&&(at.availabilityTimeOffset=qe[T.default.AVAILABILITY_TIME_OFFSET]),qe.hasOwnProperty(T.default.AVAILABILITY_TIME_COMPLETE)&&(at.availabilityTimeComplete="false"!==qe[T.default.AVAILABILITY_TIME_COMPLETE]),tt.push(at),Ue}}),tt}return H={getIsTypeOf:J,getIsText:he,getIsFragmented:de,getProducerReferenceTimesForAdaptation:function se(Ae){var tt=Ae&&Ae.hasOwnProperty(T.default.PRODUCERREFERENCETIME_ASARRAY)?Ae[T.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Ae&&Ae.hasOwnProperty(T.default.REPRESENTATION_ASARRAY)?Ae[T.default.REPRESENTATION_ASARRAY]:[]).forEach(function(qe){qe.hasOwnProperty(T.default.PRODUCERREFERENCETIME_ASARRAY)&&tt.push.apply(tt,A(qe[T.default.PRODUCERREFERENCETIME_ASARRAY]))});var Ue=[];return tt.forEach(function(qe){var at=new f.default;qe.hasOwnProperty(T.default.ID)&&(at[T.default.ID]=qe[T.default.ID],qe.hasOwnProperty(T.default.WALL_CLOCK_TIME)&&(at[T.default.WALL_CLOCK_TIME]=qe[T.default.WALL_CLOCK_TIME],qe.hasOwnProperty(T.default.PRESENTATION_TIME)&&(at[T.default.PRESENTATION_TIME]=qe[T.default.PRESENTATION_TIME],Ue.push(at))))}),Ue},getLanguageForAdaptation:function Se(Ae){var tt="";return Ae&&Ae.hasOwnProperty(T.default.LANG)&&(tt=Ae.lang),tt},getViewpointForAdaptation:function _e(Ae){return Ae&&Ae.hasOwnProperty(T.default.VIEWPOINT)?Ae.Viewpoint:null},getRolesForAdaptation:function ne(Ae){return Ae&&Ae.hasOwnProperty(T.default.ROLE_ASARRAY)?Ae.Role_asArray:[]},getAccessibilityForAdaptation:function X(Ae){return Ae&&Ae.hasOwnProperty(T.default.ACCESSIBILITY_ASARRAY)?Ae.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function F(Ae){return Ae&&Ae.hasOwnProperty(T.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Ae.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function V(Ae){return Ae&&Ae.hasOwnProperty(T.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Ae.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function z(Ae,tt,Ct){var Ue=te(tt,Ct);return Ue.length>0&&oe(Ae)?Ue[Ae]:null},getIndexForAdaptation:function j(Ae,tt,Ct){if(!Ae)return-1;for(var Ue=te(tt,Ct),qe=0;qe<Ue.length;qe++)if(Object(N.default)(G).getInstance().areEqual(Ue[qe],Ae))return qe;return-1},getAdaptationForId:function q(Ae,tt,Ct){var qe,at,Ue=te(tt,Ct);for(qe=0,at=Ue.length;qe<at;qe++)if(Ue[qe].hasOwnProperty(T.default.ID)&&Ue[qe].id===Ae)return Ue[qe];return null},getAdaptationsForType:function $(Ae,tt,Ct){var qe,at,Ue=te(Ae,tt),Mt=[];for(qe=0,at=Ue.length;qe<at;qe++)J(Ue[qe],Ct)&&Mt.push(U(Ue[qe]));return Mt},getRealPeriods:me,getRealPeriodForIndex:function Ee(Ae,tt){var Ct=me(tt);return Ct.length>0&&oe(Ae)?Ct[Ae]:null},getCodec:function ce(Ae,tt,Ct){var Ue=null;if(Ae&&Ae.Representation_asArray&&Ae.Representation_asArray.length>0){var qe=oe(tt)&&tt>=0&&tt<Ae.Representation_asArray.length?Ae.Representation_asArray[tt]:Ae.Representation_asArray[0];qe&&(Ue=qe.mimeType+';codecs="'+qe.codecs+'"',Ct&&void 0!==qe.width&&(Ue+=';width="'+qe.width+'";height="'+qe.height+'"'))}return Ue&&(Ue=Ue.replace(/\sprofiles=[^;]*/g,"")),Ue},getSelectionPriority:function it(Ae){try{var tt=Ae&&typeof Ae.selectionPriority<"u"?parseInt(Ae.selectionPriority):1;return isNaN(tt)?1:tt}catch{return 1}},getMimeType:function ue(Ae){return Ae&&Ae.Representation_asArray&&Ae.Representation_asArray.length>0?Ae.Representation_asArray[0].mimeType:null},getKID:function be(Ae){return Ae&&Ae.hasOwnProperty(T.default.CENC_DEFAULT_KID)?Ae[T.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Re(Ae){if(!Ae||!Array.isArray(Ae.Label_asArray))return[];for(var tt=[],Ct=0;Ct<Ae.Label_asArray.length;Ct++)tt.push({lang:Ae.Label_asArray[Ct].lang,text:Ae.Label_asArray[Ct].__text||Ae.Label_asArray[Ct]});return tt},getContentProtectionData:function Pe(Ae){return Ae&&Ae.hasOwnProperty(T.default.CONTENTPROTECTION_ASARRAY)&&0!==Ae.ContentProtection_asArray.length?Ae.ContentProtection_asArray:null},getIsDynamic:we,getId:function je(Ae){return Ae&&Ae[T.default.ID]||null},hasProfile:function Ce(Ae,tt){var Ct=!1;return Ae&&Ae.profiles&&Ae.profiles.length>0&&(Ct=-1!==Ae.profiles.indexOf(tt)),Ct},getDuration:function Oe(Ae){return Ae&&Ae.hasOwnProperty(T.default.MEDIA_PRESENTATION_DURATION)?Ae.mediaPresentationDuration:Ae&&"dynamic"==Ae.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function ze(Ae){return Ae&&Ae.bandwidth?Ae.bandwidth:NaN},getManifestUpdatePeriod:function Le(Ae){var tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Ct=NaN;return Ae&&Ae.hasOwnProperty(T.default.MINIMUM_UPDATE_PERIOD)&&(Ct=Ae.minimumUpdatePeriod),isNaN(Ct)?Ct:Math.max(Ct-tt,1)},getPublishTime:function Ye(Ae){return Ae&&Ae.hasOwnProperty(T.default.PUBLISH_TIME)?new Date(Ae[T.default.PUBLISH_TIME]):null},getRepresentationCount:function et(Ae){return Ae&&Array.isArray(Ae.Representation_asArray)?Ae.Representation_asArray.length:0},getBitrateListForAdaptation:function rt(Ae){var tt=U(Ae);return(tt&&Array.isArray(tt.Representation_asArray)?tt.Representation_asArray:[]).map(function(Ue){return{bandwidth:Ue.bandwidth,width:Ue.width||0,height:Ue.height||0,scanType:Ue.scanType||null,id:Ue.id||null}})},getRepresentationFor:function Dt(Ae,tt){return tt&&tt.Representation_asArray&&tt.Representation_asArray.length>0&&oe(Ae)?tt.Representation_asArray[Ae]:null},getRepresentationsForAdaptation:function jt(Ae){var Ue,qe,tt=[],Ct=function Ht(Ae){if(Ae&&Ae.period&&oe(Ae.period.index)){var tt=Ae.period.mpd.manifest.Period_asArray[Ae.period.index];if(tt&&tt.AdaptationSet_asArray&&oe(Ae.index))return U(tt.AdaptationSet_asArray[Ae.index])}}(Ae);if(Ct&&Ct.Representation_asArray){if(Ae&&Ae.period&&oe(Ae.period.index)){var at=ct(Ae.period.mpd.manifest);at&&(qe=at[0])}for(var Mt=0,sn=Ct.Representation_asArray.length;Mt<sn;++Mt){var $t=Ct.Representation_asArray[Mt],He=new I.default;if(He.index=Mt,He.adaptation=Ae,$t.hasOwnProperty(T.default.ID)&&(He.id=$t.id),$t.hasOwnProperty(T.default.CODECS)&&(He.codecs=$t.codecs),$t.hasOwnProperty(T.default.MIME_TYPE)&&(He.mimeType=$t[T.default.MIME_TYPE]),$t.hasOwnProperty(T.default.CODEC_PRIVATE_DATA)&&(He.codecPrivateData=$t.codecPrivateData),$t.hasOwnProperty(T.default.BANDWITH)&&(He.bandwidth=$t.bandwidth),$t.hasOwnProperty(T.default.WIDTH)&&(He.width=$t.width),$t.hasOwnProperty(T.default.HEIGHT)&&(He.height=$t.height),$t.hasOwnProperty(T.default.SCAN_TYPE)&&(He.scanType=$t.scanType),$t.hasOwnProperty(T.default.MAX_PLAYOUT_RATE)&&(He.maxPlayoutRate=$t.maxPlayoutRate),$t.hasOwnProperty(T.default.SEGMENT_BASE)?(Ue=$t.SegmentBase,He.segmentInfoType=T.default.SEGMENT_BASE):$t.hasOwnProperty(T.default.SEGMENT_LIST)?He.segmentInfoType=(Ue=$t.SegmentList).hasOwnProperty(T.default.SEGMENT_TIMELINE)?T.default.SEGMENT_TIMELINE:T.default.SEGMENT_LIST:$t.hasOwnProperty(T.default.SEGMENT_TEMPLATE)?(He.segmentInfoType=(Ue=$t.SegmentTemplate).hasOwnProperty(T.default.SEGMENT_TIMELINE)?T.default.SEGMENT_TIMELINE:T.default.SEGMENT_TEMPLATE,Ue.hasOwnProperty(T.default.INITIALIZATION_MINUS)&&(He.initialization=Ue.initialization.split("$Bandwidth$").join($t.bandwidth).split("$RepresentationID$").join($t.id))):He.segmentInfoType=T.default.BASE_URL,He.essentialProperties=ht($t),Ue){if(Ue.hasOwnProperty(T.default.INITIALIZATION)){var ke=Ue.Initialization;ke.hasOwnProperty(T.default.SOURCE_URL)&&(He.initialization=ke.sourceURL),ke.hasOwnProperty(T.default.RANGE)&&(He.range=ke.range)}else he(Ct)&&de(Ct)&&Ct.mimeType&&-1===Ct.mimeType.indexOf("application/mp4")&&(He.range=0);Ue.hasOwnProperty(T.default.TIMESCALE)&&(He.timescale=Ue.timescale),Ue.hasOwnProperty(T.default.DURATION)?He.segmentDuration=Ue.duration/He.timescale:$t.hasOwnProperty(T.default.SEGMENT_TEMPLATE)&&(Ue=$t.SegmentTemplate).hasOwnProperty(T.default.SEGMENT_TIMELINE)&&(He.segmentDuration=Yt(Ue.SegmentTimeline)/He.timescale),Ue.hasOwnProperty(T.default.MEDIA)&&(He.media=Ue.media),Ue.hasOwnProperty(T.default.START_NUMBER)&&(He.startNumber=Ue.startNumber),Ue.hasOwnProperty(T.default.INDEX_RANGE)&&(He.indexRange=Ue.indexRange),Ue.hasOwnProperty(T.default.PRESENTATION_TIME_OFFSET)&&(He.presentationTimeOffset=Ue.presentationTimeOffset/He.timescale),Ue.hasOwnProperty(T.default.AVAILABILITY_TIME_OFFSET)?He.availabilityTimeOffset=Ue.availabilityTimeOffset:qe&&void 0!==qe.availabilityTimeOffset&&(He.availabilityTimeOffset=qe.availabilityTimeOffset),Ue.hasOwnProperty(T.default.AVAILABILITY_TIME_COMPLETE)?He.availabilityTimeComplete="false"!==Ue.availabilityTimeComplete:qe&&void 0!==qe.availabilityTimeComplete&&(He.availabilityTimeComplete=qe.availabilityTimeComplete)}He.MSETimeOffset=Zt(He),He.path=[Ae.period.index,Ae.index,Mt],tt.push(He)}}return tt},getAdaptationsForPeriod:function De(Ae){var Ue,qe,at,tt=Ae&&oe(Ae.index)?Ae.mpd.manifest.Period_asArray[Ae.index]:null,Ct=[];if(tt&&tt.AdaptationSet_asArray)for(at=0;at<tt.AdaptationSet_asArray.length;at++)qe=tt.AdaptationSet_asArray[at],Ue=new w.default,qe.hasOwnProperty(T.default.ID)&&(Ue.id=qe.id),Ue.index=at,Ue.period=Ae,fe(qe)?Ue.type=M.default.MUXED:ae(qe)?Ue.type=M.default.AUDIO:pe(qe)?Ue.type=M.default.VIDEO:he(qe)?Ue.type=M.default.TEXT:ve(qe)?Ue.type=M.default.IMAGE:W.warn("Unknown Adaptation stream type"),Ct.push(Ue);return Ct},getRegularPeriods:function Te(Ae){var sn,$t,tt=!!Ae&&we(Ae.manifest),Ct=[],Ue=null,qe=null,at=null,Mt=null;for($t=0,sn=Ae&&Ae.manifest&&Ae.manifest.Period_asArray?Ae.manifest.Period_asArray.length:0;$t<sn;$t++)(qe=Ae.manifest.Period_asArray[$t]).hasOwnProperty(T.default.START)?(Mt=new P.default).start=qe.start:null!==Ue&&Ue.hasOwnProperty(T.default.DURATION)&&null!==at?(Mt=new P.default).start=parseFloat((at.start+at.duration).toFixed(5)):0===$t&&!tt&&((Mt=new P.default).start=0),null!==at&&isNaN(at.duration)&&(null!==Mt?at.duration=parseFloat((Mt.start-at.start).toFixed(5)):W.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Mt&&(Mt.id=Ne(qe,$t),Mt.index=$t,Mt.mpd=Ae,qe.hasOwnProperty(T.default.DURATION)&&(Mt.duration=qe.duration),at&&(at.nextPeriodId=Mt.id),Ct.push(Mt),Ue=qe,at=Mt),qe=null,Mt=null;return 0===Ct.length||null!==at&&isNaN(at.duration)&&(at.duration=parseFloat((function Ze(Ae){!function ot(){if(!x||!x.hasOwnProperty("error"))throw new Error(M.default.MISSING_CONFIG_ERROR)}();var Ct,tt=we(Ae.mpd.manifest);return Ae.mpd.manifest.mediaPresentationDuration?Ct=Ae.mpd.manifest.mediaPresentationDuration:Ae.duration?Ct=Ae.duration:tt?Ct=Number.POSITIVE_INFINITY:x.error(new v.default(p.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Ae)),Ct}(at)-at.start).toFixed(5))),Ct},getMpd:function Ge(Ae){var tt=new R.default;return Ae&&(tt.manifest=Ae,Ae.hasOwnProperty(T.default.AVAILABILITY_START_TIME)?tt.availabilityStartTime=new Date(Ae.availabilityStartTime.getTime()):Ae.loadedTime&&(tt.availabilityStartTime=new Date(Ae.loadedTime.getTime())),Ae.hasOwnProperty(T.default.AVAILABILITY_END_TIME)&&(tt.availabilityEndTime=new Date(Ae.availabilityEndTime.getTime())),Ae.hasOwnProperty(T.default.MINIMUM_UPDATE_PERIOD)&&(tt.minimumUpdatePeriod=Ae.minimumUpdatePeriod),Ae.hasOwnProperty(T.default.MEDIA_PRESENTATION_DURATION)&&(tt.mediaPresentationDuration=Ae.mediaPresentationDuration),Ae.hasOwnProperty(T.default.SUGGESTED_PRESENTATION_DELAY)&&(tt.suggestedPresentationDelay=Ae.suggestedPresentationDelay),Ae.hasOwnProperty(T.default.TIMESHIFT_BUFFER_DEPTH)&&(tt.timeShiftBufferDepth=Ae.timeShiftBufferDepth),Ae.hasOwnProperty(T.default.MAX_SEGMENT_DURATION)&&(tt.maxSegmentDuration=Ae.maxSegmentDuration),Ae.hasOwnProperty(T.default.PUBLISH_TIME)&&(tt.publishTime=new Date(Ae.publishTime))),tt},getEventsForPeriod:function lt(Ae){var at,Mt,tt=Ae&&Ae.mpd&&Ae.mpd.manifest?Ae.mpd.manifest:null,Ct=tt?tt.Period_asArray:null,Ue=Ct&&Ae&&oe(Ae.index)?Ct[Ae.index].EventStream_asArray:null,qe=[];if(Ue)for(at=0;at<Ue.length;at++){var sn=new d.default;if(sn.period=Ae,sn.timescale=1,!Ue[at].hasOwnProperty(M.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(sn.schemeIdUri=Ue[at][M.default.SCHEME_ID_URI],Ue[at].hasOwnProperty(T.default.TIMESCALE)&&(sn.timescale=Ue[at][T.default.TIMESCALE]),Ue[at].hasOwnProperty(T.default.VALUE)&&(sn.value=Ue[at][T.default.VALUE]),Ue[at].hasOwnProperty(T.default.PRESENTATION_TIME_OFFSET)&&(sn.presentationTimeOffset=Ue[at][T.default.PRESENTATION_TIME_OFFSET]),Mt=0;Ue[at].Event_asArray&&Mt<Ue[at].Event_asArray.length;Mt++){var $t=Ue[at].Event_asArray[Mt],He=new c.default;He.presentationTime=0,He.eventStream=sn,$t.hasOwnProperty(T.default.PRESENTATION_TIME)&&(He.presentationTime=$t.presentationTime),He.calculatedPresentationTime=He.presentationTime/sn.timescale+Ae.start-(sn.presentationTimeOffset?sn.presentationTimeOffset/sn.timescale:0),$t.hasOwnProperty(T.default.DURATION)&&(He.duration=$t.duration/sn.timescale),He.id=$t.hasOwnProperty(T.default.ID)?$t.id:null,He.messageData=$t.Signal&&$t.Signal.Binary?Y.decodeArray($t.Signal.Binary.toString()):$t.messageData||$t.__cdata||$t.__text,qe.push(He)}}return qe},getEssentialPropertiesForRepresentation:ht,getEventStreamForAdaptationSet:function pt(Ae,tt,Ct){var Ue,qe,at;return Ae&&Ae.Period_asArray&&tt&&tt.period&&oe(tt.period.index)&&(qe=Ae.Period_asArray[tt.period.index])&&qe.AdaptationSet_asArray&&oe(tt.index)&&(at=qe.AdaptationSet_asArray[tt.index])&&(Ue=at.InbandEventStream_asArray),_t(Ue,null,Ct)},getEventStreamForRepresentation:function Be(Ae,tt,Ct){var Ue,qe,at,Mt;return Ae&&Ae.Period_asArray&&tt&&tt.adaptation&&tt.adaptation.period&&oe(tt.adaptation.period.index)&&(qe=Ae.Period_asArray[tt.adaptation.period.index])&&qe.AdaptationSet_asArray&&oe(tt.adaptation.index)&&(at=qe.AdaptationSet_asArray[tt.adaptation.index])&&at.Representation_asArray&&oe(tt.index)&&(Mt=at.Representation_asArray[tt.index])&&(Ue=Mt.InbandEventStream_asArray),_t(Ue,tt,Ct)},getUTCTimingSources:function Je(Ae){var tt=we(Ae),Ct=!!Ae&&Ae.hasOwnProperty(T.default.AVAILABILITY_START_TIME),Ue=Ae?Ae.UTCTiming_asArray:null,qe=[];return(tt||Ct)&&Ue&&Ue.forEach(function(at){var Mt=new D.default;at.hasOwnProperty(M.default.SCHEME_ID_URI)&&(Mt.schemeIdUri=at.schemeIdUri,at.hasOwnProperty(T.default.VALUE)&&(Mt.value=at.value.toString(),qe.push(Mt)))}),qe},getBaseURLsFromElement:ct,getRepresentationSortFunction:re,getContentSteering:function gt(Ae){if(Ae&&Ae.hasOwnProperty(T.default.CONTENT_STEERING_AS_ARRAY)){var tt=Ae[T.default.CONTENT_STEERING_AS_ARRAY][0],Ct=new _.default;return Ct.serverUrl=tt.__text,tt.hasOwnProperty(T.default.DEFAULT_SERVICE_LOCATION)&&(Ct.defaultServiceLocation=tt[T.default.DEFAULT_SERVICE_LOCATION]),tt.hasOwnProperty(T.default.QUERY_BEFORE_START)&&(Ct.queryBeforeStart="true"===tt[T.default.QUERY_BEFORE_START].toLowerCase()),tt.hasOwnProperty(T.default.PROXY_SERVER_URL)&&(Ct.proxyServerUrl=tt[T.default.PROXY_SERVER_URL]),Ct}},getLocation:function At(Ae){if(Ae&&Ae.hasOwnProperty(M.default.LOCATION))return Ae.Location=Ae.Location_asArray[0],Ae.Location},getPatchLocation:function Ot(Ae){if(Ae&&Ae.hasOwnProperty(T.default.PATCH_LOCATION))return Ae.PatchLocation=Ae.PatchLocation_asArray[0],Ae.PatchLocation},getSuggestedPresentationDelay:function Nt(Ae){return Ae&&Ae.hasOwnProperty(T.default.SUGGESTED_PRESENTATION_DELAY)?Ae.suggestedPresentationDelay:null},getAvailabilityStartTime:function un(Ae){return Ae&&Ae.hasOwnProperty(T.default.AVAILABILITY_START_TIME)&&null!==Ae.availabilityStartTime?Ae.availabilityStartTime.getTime():null},getServiceDescriptions:function en(Ae){var tt=[];if(Ae&&Ae.hasOwnProperty(T.default.SERVICE_DESCRIPTION)){var Ue,Ct=g(Ae.ServiceDescription_asArray);try{for(Ct.s();!(Ue=Ct.n()).done;){var qe=Ue.value,at=null,Mt=null,sn=null,$t=null,He=null,ke=null;for(var Qe in qe)qe.hasOwnProperty(Qe)&&(Qe===T.default.ID?at=qe[Qe]:Qe===T.default.SERVICE_DESCRIPTION_SCOPE?Mt=qe[Qe].schemeIdUri:Qe===T.default.SERVICE_DESCRIPTION_LATENCY?sn={target:parseInt(qe[Qe].target),max:parseInt(qe[Qe].max),min:parseInt(qe[Qe].min),referenceId:parseInt(qe[Qe].referenceId)}:Qe===T.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?$t={max:parseFloat(qe[Qe].max),min:parseFloat(qe[Qe].min)}:Qe===T.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?He={mediaType:qe[Qe].mediaType,max:parseInt(qe[Qe].max),min:parseInt(qe[Qe].min),target:parseInt(qe[Qe].target),type:qe[Qe].type,maxQualityDifference:parseInt(qe[Qe].maxQualityDifference)}:Qe===T.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(ke={mediaType:qe[Qe].mediaType,max:parseInt(qe[Qe].max),min:parseInt(qe[Qe].min),target:parseInt(qe[Qe].target)}));tt.push({id:at,schemeIdUri:Mt,latency:sn,playbackRate:$t,operatingQuality:He,operatingBandwidth:ke})}}catch(ut){Ct.e(ut)}finally{Ct.f()}}return tt},getSupplementalProperties:function Gn(Ae){var tt={};if(Ae&&Ae.hasOwnProperty(T.default.SUPPLEMENTAL_PROPERTY)){var Ue,Ct=g(Ae.SupplementalProperty_asArray);try{for(Ct.s();!(Ue=Ct.n()).done;){var qe=Ue.value;qe.hasOwnProperty(M.default.SCHEME_ID_URI)&&qe.hasOwnProperty(T.default.VALUE)&&(tt[qe[M.default.SCHEME_ID_URI]]=qe[T.default.VALUE])}}catch(at){Ct.e(at)}finally{Ct.f()}}return tt},setConfig:function _r(Ae){Ae&&(Ae.errHandler&&(x=Ae.errHandler),Ae.BASE64&&(Y=Ae.BASE64))}},function ye(){W=Object(b.default)(G).getInstance().getLogger(H)}(),H}le.__dashjs_factory_name="DashManifestModel",k.default=O.default.getSingletonFactory(le)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=m(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),P=m(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function R(){var D,c,l=this.context;return D={getIsPatch:function f(b){return b&&b.hasOwnProperty(M.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function _(b){return b&&b.hasOwnProperty(M.default.PUBLISH_TIME)?new Date(b[M.default.PUBLISH_TIME]):null},getOriginalPublishTime:function N(b){return b&&b.hasOwnProperty(M.default.ORIGINAL_PUBLISH_TIME)?new Date(b[M.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function S(b){return b&&b[M.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function O(b){return b?(b.__children||[]).map(function(v){var p=Object.keys(v)[0];if("add"!==p&&"remove"!==p&&"replace"!==p)return c.warn("Ignoring node of invalid action: ".concat(p)),null;var y=v[p],g=y.sel;if("add"===p&&y.type){if(!y.type.startsWith("@"))return c.warn("Ignoring add action for prefixed namespace declaration: ".concat(y.type,"=").concat(y.__text)),null;g="".concat(g,"/").concat(y.type)}var A=new w.default(g);if(!A.isValid())return c.warn("Ignoring action with invalid selector: ".concat(p," - ").concat(g)),null;var E=null;A.findsAttribute()?E=y.__text||"":"remove"!==p&&(E=y.__children.reduce(function(K,ee){var Z=Object.keys(ee)[0];return"#text"!==Z&&(K[Z]=K[Z]||[],K[Z].push(ee[Z])),K},{}));var L=new P.default(p,A,E);return"add"===p&&(L.position=y.pos),L}).filter(function(v){return!!v}):[]}},function d(){c=Object(I.default)(l).getInstance().getLogger(D)}(),D}R.__dashjs_factory_name="PatchManifestModel",k.default=T.default.getSingletonFactory(R)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),I=m(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),w=m(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),P=m(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),R=m(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),D=m(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),c=m(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),l=m(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),d=m(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function f(_){var O,b,v,p,y,N=this.context,S=(_=_||{}).debug;return O={parse:function L(K){var ee,Z=window.performance.now();if(!(ee=p.xml_str2json(K)))throw new Error("parsing the manifest failed");var le=window.performance.now();ee.Patch?((ee=ee.Patch).add_asArray&&ee.add_asArray.forEach(function(W){return y.run(W)}),ee.replace_asArray&&ee.replace_asArray.forEach(function(W){return y.run(W)})):y.run(ee=ee.MPD);var H=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(le-Z).toPrecision(3)+"ms, objectiron: "+(H-le).toPrecision(3)+"ms, total: "+((H-Z)/1e3).toPrecision(3)+"s)"),ee.protocol="DASH",ee},getMatchers:function A(){return v},getIron:function E(){return y}},function g(){b=S.getLogger(O),v=[new P.default,new R.default,new D.default,new c.default,new w.default],p=new I.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:v}),y=Object(T.default)(N).create({adaptationset:new l.default,period:new d.default})}(),O}f.__dashjs_factory_name="DashParser",k.default=M.default.getClassFactory(f)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=function(){function c(l){!function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c);var _;this._name=l,this._merge=(_=l)&&_.length&&_.charAt(0)===_.charAt(0).toUpperCase()}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),c}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function w(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,R(_.key),_)}}function R(l){var d=function D(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}k.default=function(){function l(d,f,_){var N=this;(function I(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this._name=d||"",this._properties=[],this._children=_||[],Array.isArray(f)&&f.forEach(function(S){N._properties.push(new M.default(S))})}return function P(l,d,f){return d&&w(l.prototype,d),f&&w(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),l}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),T=m(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function I(v){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function w(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,R(g.key),g)}}function R(v){var p=function D(v,p){if("object"!==I(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==I(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===I(p)?p:String(p)}function l(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&d(v,p)}function d(v,p){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=O(v);if(p){var E=O(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return _(this,A)}}function _(v,p){if(p&&("object"===I(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function N(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function O(v){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}k.default=function(v){l(y,v);var p=f(y);function y(){!function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y);var g=[T.default.PROFILES,T.default.WIDTH,T.default.HEIGHT,T.default.SAR,T.default.FRAMERATE,T.default.AUDIO_SAMPLING_RATE,T.default.MIME_TYPE,T.default.SEGMENT_PROFILES,T.default.CODECS,T.default.MAXIMUM_SAP_PERIOD,T.default.START_WITH_SAP,T.default.MAX_PLAYOUT_RATE,T.default.CODING_DEPENDENCY,T.default.SCAN_TYPE,T.default.FRAME_PACKING,T.default.AUDIO_CHANNEL_CONFIGURATION,T.default.CONTENT_PROTECTION,T.default.ESSENTIAL_PROPERTY,T.default.SUPPLEMENTAL_PROPERTY,T.default.INBAND_EVENT_STREAM];return p.call(this,T.default.ADAPTATION_SET,g,[new M.default(T.default.REPRESENTATION,g,[new M.default(T.default.SUB_REPRESENTATION,g)])])}return function P(v,p,y){return p&&w(v.prototype,p),y&&w(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(M.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),T=m(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function I(v){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function w(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,R(g.key),g)}}function R(v){var p=function D(v,p){if("object"!==I(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==I(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===I(p)?p:String(p)}function l(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&d(v,p)}function d(v,p){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=O(v);if(p){var E=O(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return _(this,A)}}function _(v,p){if(p&&("object"===I(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function N(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function O(v){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}k.default=function(v){l(y,v);var p=f(y);function y(){!function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y);var g=[T.default.SEGMENT_BASE,T.default.SEGMENT_TEMPLATE,T.default.SEGMENT_LIST];return p.call(this,T.default.PERIOD,g,[new M.default(T.default.ADAPTATION_SET,g,[new M.default(T.default.REPRESENTATION,g)])])}return function P(v,p,y){return p&&w(v.prototype,p),y&&w(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(M.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=function(){function c(l,d){(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this._test=l,this._converter=d}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),c}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function T(g){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(g)}function I(g,A){for(var E=0;E<A.length;E++){var L=A[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(g,P(L.key),L)}}function P(g){var A=function R(g,A){if("object"!==T(g)||null===g)return g;var E=g[Symbol.toPrimitive];if(void 0!==E){var L=E.call(g,A||"default");if("object"!==T(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(g)}(g,"string");return"symbol"===T(A)?A:String(A)}function c(g,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(A&&A.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),A&&l(g,A)}function l(g,A){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,K){return L.__proto__=K,L})(g,A)}function d(g){var A=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var K,L=S(g);if(A){var ee=S(this).constructor;K=Reflect.construct(L,arguments,ee)}else K=L.apply(this,arguments);return f(this,K)}}function f(g,A){if(A&&("object"===T(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function _(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(g)}function S(g){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(g)}var p=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;k.default=function(g){c(E,g);var A=d(E);function E(){return function D(g,A){if(!(g instanceof A))throw new TypeError("Cannot call a class as a function")}(this,E),A.call(this,function(L){return p.test(L.value)},function(L){var ee,K=p.exec(L);if(ee=Date.UTC(parseInt(K[1],10),parseInt(K[2],10)-1,parseInt(K[3],10),parseInt(K[4],10),parseInt(K[5],10),K[6]&&parseInt(K[6],10)||0,K[7]&&1e3*parseFloat(K[7])||0),K[9]&&K[10]){var Z=60*parseInt(K[9],10)+parseInt(K[10],10);ee+=("+"===K[8]?-1:1)*Z*60*1e3}return new Date(ee)})}return function w(g,A,E){return A&&I(g.prototype,A),E&&I(g,E),Object.defineProperty(g,"prototype",{writable:!1}),g}(E)}(M.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),T=m(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=m(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function w(K){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(K)}function P(K,ee){for(var Z=0;Z<ee.length;Z++){var le=ee[Z];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(K,D(le.key),le)}}function D(K){var ee=function c(K,ee){if("object"!==w(K)||null===K)return K;var Z=K[Symbol.toPrimitive];if(void 0!==Z){var le=Z.call(K,ee||"default");if("object"!==w(le))return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(K)}(K,"string");return"symbol"===w(ee)?ee:String(ee)}function d(K,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(ee&&ee.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Object.defineProperty(K,"prototype",{writable:!1}),ee&&f(K,ee)}function f(K,ee){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,H){return le.__proto__=H,le})(K,ee)}function _(K){var ee=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,le=b(K);if(ee){var W=b(this).constructor;H=Reflect.construct(le,arguments,W)}else H=le.apply(this,arguments);return N(this,H)}}function N(K,ee){if(ee&&("object"===w(ee)||"function"==typeof ee))return ee;if(void 0!==ee)throw new TypeError("Derived constructors may only return object or undefined");return function S(K){if(void 0===K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}(K)}function b(K){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)})(K)}var v=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;k.default=function(K){d(Z,K);var ee=_(Z);function Z(){return function l(K,ee){if(!(K instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Z),ee.call(this,function(le){for(var H=[I.default.MIN_BUFFER_TIME,I.default.MEDIA_PRESENTATION_DURATION,I.default.MINIMUM_UPDATE_PERIOD,I.default.TIMESHIFT_BUFFER_DEPTH,I.default.MAX_SEGMENT_DURATION,I.default.MAX_SUBSEGMENT_DURATION,I.default.SUGGESTED_PRESENTATION_DELAY,I.default.START,T.default.START_TIME,I.default.DURATION],W=H.length,x=0;x<W;x++)if(le.nodeName===H[x])return v.test(le.value);return!1},function(le){var H=v.exec(le),W=31536e3*parseFloat(H[3]||0)+2592e3*parseFloat(H[5]||0)+86400*parseFloat(H[7]||0)+3600*parseFloat(H[9]||0)+60*parseFloat(H[11]||0)+parseFloat(H[13]||0);return void 0!==H[1]&&(W=-W),W})}return function R(K,ee,Z){return ee&&P(K.prototype,ee),Z&&P(K,Z),Object.defineProperty(K,"prototype",{writable:!1}),K}(Z)}(M.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),T=m(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=m(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),w=m.n(I);function P(g){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(g)}function R(g,A,E){return(A=l(A))in g?Object.defineProperty(g,A,{value:E,enumerable:!0,configurable:!0,writable:!0}):g[A]=E,g}function D(g,A){for(var E=0;E<A.length;E++){var L=A[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(g,l(L.key),L)}}function l(g){var A=function d(g,A){if("object"!==P(g)||null===g)return g;var E=g[Symbol.toPrimitive];if(void 0!==E){var L=E.call(g,A||"default");if("object"!==P(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(g)}(g,"string");return"symbol"===P(A)?A:String(A)}function _(g,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(A&&A.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),A&&N(g,A)}function N(g,A){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,K){return L.__proto__=K,L})(g,A)}function S(g){var A=function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var K,L=p(g);if(A){var ee=p(this).constructor;K=Reflect.construct(L,arguments,ee)}else K=L.apply(this,arguments);return O(this,K)}}function O(g,A){if(A&&("object"===P(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function b(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(g)}function p(g){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(g)}k.default=function(g){_(E,g);var A=S(E);function E(){return function f(g,A){if(!(g instanceof A))throw new TypeError("Cannot call a class as a function")}(this,E),A.call(this,function(L,K){var ee,Z=(R(ee={},T.default.ADAPTATION_SET,[T.default.LANG]),R(ee,T.default.REPRESENTATION,[T.default.LANG]),R(ee,T.default.CONTENT_COMPONENT,[T.default.LANG]),R(ee,T.default.LABEL,[T.default.LANG]),R(ee,T.default.GROUP_LABEL,[T.default.LANG]),ee);if(Z.hasOwnProperty(K)){var le=Z[K];return void 0!==le&&le.indexOf(L.name)>=0}return!1},function(L){var K=w()(L);return void 0!==K?K:String(L)})}return function c(g,A,E){return A&&D(g.prototype,A),E&&D(g,E),Object.defineProperty(g,"prototype",{writable:!1}),g}(E)}(M.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}var O=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;k.default=function(v){c(y,v);var p=d(y);function y(){return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),p.call(this,function(g){return O.test(g.value)},function(g){return parseFloat(g)})}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(M.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),T=m(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function I(p){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function w(p,y,g){return(y=D(y))in p?Object.defineProperty(p,y,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[y]=g,p}function P(p,y){for(var g=0;g<y.length;g++){var A=y[g];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,D(A.key),A)}}function D(p){var y=function c(p,y){if("object"!==I(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var A=g.call(p,y||"default");if("object"!==I(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(p)}(p,"string");return"symbol"===I(y)?y:String(y)}function d(p,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),y&&f(p,y)}function f(p,y){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,E){return A.__proto__=E,A})(p,y)}function _(p){var y=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,A=b(p);if(y){var L=b(this).constructor;E=Reflect.construct(A,arguments,L)}else E=A.apply(this,arguments);return N(this,E)}}function N(p,y){if(y&&("object"===I(y)||"function"==typeof y))return y;if(void 0!==y)throw new TypeError("Derived constructors may only return object or undefined");return function S(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(p)}function b(p){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)})(p)}k.default=function(p){d(g,p);var y=_(g);function g(){return function l(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}(this,g),y.call(this,function(A,E){var L,K=(w(L={},T.default.MPD,[T.default.ID,T.default.PROFILES]),w(L,T.default.PERIOD,[T.default.ID]),w(L,T.default.BASE_URL,[T.default.SERVICE_LOCATION,T.default.BYTE_RANGE]),w(L,T.default.SEGMENT_BASE,[T.default.INDEX_RANGE]),w(L,T.default.INITIALIZATION,[T.default.RANGE]),w(L,T.default.REPRESENTATION_INDEX,[T.default.RANGE]),w(L,T.default.SEGMENT_LIST,[T.default.INDEX_RANGE]),w(L,T.default.BITSTREAM_SWITCHING,[T.default.RANGE]),w(L,T.default.SEGMENT_URL,[T.default.MEDIA_RANGE,T.default.INDEX_RANGE]),w(L,T.default.SEGMENT_TEMPLATE,[T.default.INDEX_RANGE,T.default.MEDIA,T.default.INDEX,T.default.INITIALIZATION_MINUS,T.default.BITSTREAM_SWITCHING_MINUS]),w(L,T.default.ASSET_IDENTIFIER,[T.default.VALUE,T.default.ID]),w(L,T.default.EVENT_STREAM,[T.default.VALUE]),w(L,T.default.ADAPTATION_SET,[T.default.PROFILES,T.default.MIME_TYPE,T.default.SEGMENT_PROFILES,T.default.CODECS,T.default.CONTENT_TYPE]),w(L,T.default.FRAME_PACKING,[T.default.VALUE,T.default.ID]),w(L,T.default.AUDIO_CHANNEL_CONFIGURATION,[T.default.VALUE,T.default.ID]),w(L,T.default.CONTENT_PROTECTION,[T.default.VALUE,T.default.ID]),w(L,T.default.ESSENTIAL_PROPERTY,[T.default.VALUE,T.default.ID]),w(L,T.default.SUPPLEMENTAL_PROPERTY,[T.default.VALUE,T.default.ID]),w(L,T.default.INBAND_EVENT_STREAM,[T.default.VALUE,T.default.ID]),w(L,T.default.ACCESSIBILITY,[T.default.VALUE,T.default.ID]),w(L,T.default.ROLE,[T.default.VALUE,T.default.ID]),w(L,T.default.RATING,[T.default.VALUE,T.default.ID]),w(L,T.default.VIEWPOINT,[T.default.VALUE,T.default.ID]),w(L,T.default.CONTENT_COMPONENT,[T.default.CONTENT_TYPE]),w(L,T.default.REPRESENTATION,[T.default.ID,T.default.DEPENDENCY_ID,T.default.MEDIA_STREAM_STRUCTURE_ID]),w(L,T.default.SUBSET,[T.default.ID]),w(L,T.default.METRICS,[T.default.METRICS_MINUS]),w(L,T.default.REPORTING,[T.default.VALUE,T.default.ID]),L);if(K.hasOwnProperty(E)){var ee=K[E];return void 0!==ee&&ee.indexOf(A.name)>=0}return!1},function(A){return String(A)})}return function R(p,y,g){return y&&P(p.prototype,y),g&&P(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(g)}(M.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(P){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(P)}function I(P){function R(d,f){for(var _ in d)f.hasOwnProperty(_)||(f[_]=d[_])}function D(d,f,_){for(var N=0,S=d.length;N<S;++N){var O=d[N];if(f[O.name])if(_[O.name]){if(O.merge){var b=f[O.name],v=_[O.name];"object"===T(b)&&"object"===T(v)?R(b,v):_[O.name]=b+v}}else _[O.name]=f[O.name]}}function c(d,f){for(var _=0,N=d.children.length;_<N;++_){var S=d.children[_],O=f[S.name+"_asArray"];if(O)for(var b=0,v=O.length;b<v;++b){var p=O[b];D(d.properties,f,p),c(S,p)}}}return{run:function l(d){if(null===d||"object"!==T(d))return d;if(d.Period_asArray&&"period"in P)for(var f=P.period,_=d.Period_asArray,N=0,S=_.length;N<S;++N){var O=_[N];if(c(f,O),"adaptationset"in P){var b=O.AdaptationSet_asArray;if(b)for(var v=P.adaptationset,p=0,y=b.length;p<y;++p)c(v,b[p])}}return d}}}I.__dashjs_factory_name="ObjectIron";var w=M.default.getClassFactory(I);k.default=w},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=m(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function w(R,D){var c=(R=R||{}).timelineConverter;function d(){if(!c||!c.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function _(S,O){if(d(),!S)return null;var b=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentList,v=b.SegmentURL_asArray.length,p=S&&!isNaN(S.startNumber)?S.startNumber:1,y=Math.max(p-1,0),g=Math.max(O-y,0),A=null;if(g<v){var E=b.SegmentURL_asArray[g];(A=Object(I.getIndexBasedSegment)(c,D,S,O))&&(A.replacementTime=(p+O-1)*S.segmentDuration,A.media=E.media?E.media:"",A.mediaRange=E.mediaRange,A.indexRange=E.indexRange)}return A}return{getSegmentByIndex:_,getSegmentByTime:function N(S,O){if(d(),!S)return null;var b=S.segmentDuration;if(isNaN(b))return null;var v=c.calcPeriodRelativeTimeFromMpdRelativeTime(S,O);return _(S,Math.floor(v/b))},getMediaFinishedInformation:function f(S){var O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!S)return O;var b=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentList,v=S&&!isNaN(S.startNumber)?S.startNumber:1,p=Math.max(v-1,0);return O.numberOfSegments=p+b.SegmentURL_asArray.length,O}}}w.__dashjs_factory_name="ListSegmentsGetter";var P=M.default.getClassFactory(w);k.default=P},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(k),m.d(k,"default",function(){return D});var D=function(){function l(){!function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,l)}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,null,[{key:"round10",value:function(f,_){return function c(l,d,f){return typeof f>"u"||0==+f?Math[l](d):(f=+f,null===(d=+d)||isNaN(d)||"number"!=typeof f||f%1!=0?NaN:(d=d.toString().split("e"),+((d=(d=Math[l](+(d[0]+"e"+(d[1]?+d[1]-f:-f)))).toString().split("e"))[0]+"e"+(d[1]?+d[1]+f:f))))}("round",f,_)}}]),l}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function I(P){var R=(P=P||{}).timelineConverter;function c(){if(!R||!R.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function d(N,S){if(c(),!N)return null;var b,O=N.segments?N.segments.length:-1;if(S<O&&(b=N.segments[S])&&b.index===S)return b;for(var v=0;v<O;v++)if((b=N.segments[v])&&b.index===S)return b;return null}return{getSegmentByIndex:d,getSegmentByTime:function f(N,S){return c(),d(N,function _(N,S){if(!N)return-1;var p,y,g,A,E,O=N.segments,b=O?O.length:null,v=-1;if(O&&b>0)for(E=0;E<b;E++)if(S+(p=(A=(y=O[E]).duration)/2)>=(g=y.presentationStartTime)&&S-p<g+A){v=y.index;break}return v}(N,S))},getMediaFinishedInformation:function l(N){var S={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!N||!N.segments||(S.numberOfSegments=N.segments.length),S}}}I.__dashjs_factory_name="SegmentBaseGetter";var w=M.default.getClassFactory(I);k.default=w},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(Ie,k,m){"use strict";m.r(k),m.d(k,"unescapeDollarsInTemplate",function(){return w}),m.d(k,"replaceIDForTemplate",function(){return P}),m.d(k,"replaceTokenForTemplate",function(){return R}),m.d(k,"getIndexBasedSegment",function(){return l}),m.d(k,"getTimeBasedSegment",function(){return d});var M=m(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function T(f,_){for(;f.length<_;)f="0"+f;return f}function w(f){return f&&f.split("$$").join("$")}function P(f,_){if(!_||!f||-1===f.indexOf("$RepresentationID$"))return f;var N=_.toString();return f.split("$RepresentationID$").join(N)}function R(f,_,N){var O,b,v,p,y,g,A=_.length,E="%0".length;if(!f)return f;for(;;){if((O=f.indexOf("$"+_))<0||(b=f.indexOf("$",O+A))<0)return f;if((v=f.indexOf("%0",O+A))>O&&v<b)switch(p=f.charAt(b-1),y=parseInt(f.substring(v+E,b-1),10),p){case"d":case"i":case"u":g=T(N.toString(),y);break;case"x":g=T(N.toString(16),y);break;case"X":g=T(N.toString(16),y).toUpperCase();break;case"o":g=T(N.toString(8),y);break;default:return f}else g=N;f=f.substring(0,O)+g+f.substring(b+1)}}function D(f,_,N,S,O,b,v,p){var y=new M.default;return y.representation=f,y.duration=_,y.presentationStartTime=N,y.mediaStartTime=S,y.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(b,f,v),y.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(b+_,f,v),y.wallStartTime=O.calcWallTimeForSegment(y,v),y.replacementNumber=function I(f,_){return f.representation.startNumber+_}(y,p),y.index=p,y}function c(f,_,N,S){var O=_.adaptation.period;if(isFinite(O.duration)&&O.start+O.duration<=N.presentationStartTime)return!1;if(S){if("INF"===_.availabilityTimeOffset)return!0;var b=f.getClientReferenceTime();return N.availabilityStartTime.getTime()<=b&&(!isFinite(N.availabilityEndTime)||N.availabilityEndTime.getTime()>=b)}return!0}function l(f,_,N,S){var O,b,v;O=N.segmentDuration,isNaN(O)&&(O=N.adaptation.period.duration),b=parseFloat((N.adaptation.period.start+S*O).toFixed(5)),v=parseFloat((b+O).toFixed(5));var y=D(N,O,b,f.calcMediaTimeFromPresentationTime(b,N),f,v,_,S);return c(f,N,y,_)?y:null}function d(f,_,N,S,O,b,v,p,y,g){var L,ee,A=S/b,E=O/b;return L=f.calcPresentationTimeFromMediaTime(A,N),c(f,N,ee=D(N,E,L,A,f,L+E,_,y),_)?(ee.replacementTime=g||S,v=R(v,"Number",ee.replacementNumber),v=R(v,"Time",ee.replacementTime),ee.media=v,ee.mediaRange=p,ee):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=m(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function w(R,D){var c=(R=R||{}).timelineConverter;function d(){if(!c||!c.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function _(S,O){if(d(),!S)return null;var b=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentTemplate;O=Math.max(O,0);var v=Object(I.getIndexBasedSegment)(c,D,S,O);if(v){v.replacementTime=Math.round((O-1)*S.segmentDuration*S.timescale,10);var p=b.media;p=Object(I.replaceTokenForTemplate)(p,"Number",v.replacementNumber),p=Object(I.replaceTokenForTemplate)(p,"Time",v.replacementTime),v.media=p}return v}return{getSegmentByIndex:_,getSegmentByTime:function N(S,O){if(d(),!S)return null;var b=S.segmentDuration;if(isNaN(b))return null;var v=c.calcPeriodRelativeTimeFromMpdRelativeTime(S,O);return _(S,Math.floor(v/b))},getMediaFinishedInformation:function f(S){var O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!S)return O;var b=S.segmentDuration;return O.numberOfSegments=isNaN(b)?1:Math.ceil(S.adaptation.period.duration/b),O}}}w.__dashjs_factory_name="TemplateSegmentsGetter";var P=M.default.getClassFactory(w);k.default=P},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=m(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),R=m(
/*! ../../core/Settings */
"./src/core/Settings.js"),D=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),c=m(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),l=m(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function d(){var S,O,b,v,f=this.context,_=Object(M.default)(f).getInstance(),N=Object(R.default)(f).getInstance();function A(fe){v=fe}function L(fe,ve,se,Se){var _e,ne=ve.adaptation.period.mpd,X=ne.availabilityStartTime;if(Se)_e=se&&ne.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(X.getTime()+1e3*(fe+ne.timeShiftBufferDepth)):ne.availabilityEndTime;else if(se){var F=ve.availabilityTimeOffset;_e=new Date(X.getTime()+1e3*(fe-F))}else _e=X;return _e}function Z(fe,ve){return(fe.getTime()-ve.mpd.availabilityStartTime.getTime()+1e3*v)/1e3}function le(fe,ve){return fe+(ve.adaptation.period.start-ve.presentationTimeOffset)}function ie(fe){var ve={start:NaN,end:NaN},se=fe[0].getAdapter().getRegularPeriods()[0],Se=Z(new Date,se);if(!fe||0===fe.length)return{range:ve,now:Se};fe.forEach(function(ne){var X=ne.getAdapter(),F=X.getMediaInfoForType(ne.getStreamInfo(),D.default.VIDEO)||X.getMediaInfoForType(ne.getStreamInfo(),D.default.AUDIO),re=X.getVoRepresentations(F)[0],U={start:NaN,end:NaN};if(re)if(re.segmentInfoType===w.default.SEGMENT_TIMELINE)U=function J(fe){var V,re,U,te,se=O.getRepresentationFor(fe.index,fe.adaptation.period.mpd.manifest.Period_asArray[fe.adaptation.period.index].AdaptationSet_asArray[fe.adaptation.index]),_e=se.SegmentTemplate.timescale,ne=se.SegmentTemplate.SegmentTimeline.S_asArray,X={start:0,end:0},F=0;for(X.start=le(ne[0].t/_e,fe),U=0,te=ne.length;U<te;U++)re=0,(V=ne[U]).hasOwnProperty("r")&&(re=V.r),F+=V.d*(1+re);return X.end=le((ne[0].t+F)/_e,fe),X}(re);else{var te=re.adaptation.period;U.start=te.start,U.end=Math.max(Se,te.start+te.duration)}!isNaN(U.start)&&(isNaN(ve.start)||ve.start>U.start)&&(ve.start=U.start),!isNaN(U.end)&&(isNaN(ve.end)||ve.end<U.end)&&(ve.end=U.end)}),ve.end=Math.min(Se,ve.end);var _e=ye(fe,ve.end,!0);return ve.end=isNaN(_e)?ve.end:_e,ve.start=se&&se.mpd&&se.mpd.timeShiftBufferDepth&&!isNaN(se.mpd.timeShiftBufferDepth)&&!isNaN(ve.end)?Math.max(ve.end-se.mpd.timeShiftBufferDepth,ve.start):ve.start,ve.start=ye(fe,ve.start),{range:ve,now:Se}}function oe(fe,ve){b=fe-ve.end}function ye(fe,ve){var se=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var Se=0,_e=!1,ne=NaN;!_e&&Se<fe.length;){var X=fe[Se].getStreamInfo();X.start<=ve&&(!isFinite(X.duration)||X.start+X.duration>=ve)?(ne=ve,_e=!0):!se&&X.start>ve&&(isNaN(ne)||X.start<ne)?ne=X.start:se&&X.start+X.duration<ve&&(isNaN(ne)||X.start+X.duration>ne)&&(ne=X.start+X.duration),Se+=1}return ne}catch{return ve}}function ae(fe){void 0!==fe.offset&&!isNaN(fe.offset)&&A(fe.offset/1e3)}function pe(){v=0,b=0}function he(){_.off(T.default.UPDATE_TIME_SYNC_OFFSET,ae,this),pe()}return S={initialize:function y(){pe(),_.on(T.default.UPDATE_TIME_SYNC_OFFSET,ae,this)},getClientTimeOffset:function g(){return v},setClientTimeOffset:A,getClientReferenceTime:function E(){return Date.now()-1e3*b+1e3*v},calcAvailabilityStartTimeFromPresentationTime:function K(fe,ve,se){return L(fe,ve,se)},calcAvailabilityEndTimeFromPresentationTime:function ee(fe,ve,se){return L(fe,ve,se,!0)},calcPresentationTimeFromWallTime:Z,calcPresentationTimeFromMediaTime:le,calcPeriodRelativeTimeFromMpdRelativeTime:function de(fe,ve){return ve-fe.adaptation.period.start},calcMediaTimeFromPresentationTime:function H(fe,ve){return fe-ve.adaptation.period.start+ve.presentationTimeOffset},calcWallTimeForSegment:function W(fe,ve){var Se,_e;return ve&&(Se=fe.presentationStartTime+fe.representation.adaptation.period.mpd.suggestedPresentationDelay,_e=new Date(fe.availabilityStartTime.getTime()+1e3*Se)),_e},calcTimeShiftBufferWindow:function x(fe,ve){if(!ve)return function Y(fe){var ve={start:NaN,end:NaN},se=0,Se=NaN;return fe.forEach(function(_e){var ne=_e.getStreamInfo();se+=ne.duration,(isNaN(Se)||ne.start<Se)&&(Se=ne.start)}),ve.start=Se,ve.end=Se+se,ve}(fe);if(N.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var se=ie(fe);return oe(se.now,se.range),se.range}return function G(fe){var ve={start:NaN,end:NaN};if(!fe||0===fe.length)return ve;var se=fe[0].getAdapter().getRegularPeriods()[0],Se=Z(new Date,se),_e=se.mpd.timeShiftBufferDepth,ne=isNaN(_e)?0:Se-_e;if(ve.start=ye(fe,ne),ve.end=!isNaN(ve.start)&&Se<ve.start?Se:ye(fe,Se,!0),!isNaN(_e)&&ve.end<Se-_e&&(ve.end=NaN),N.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var X=ie(fe);if(X.range.end<ve.start)return _.trigger(c.default.CONFORMANCE_VIOLATION,{level:l.default.LEVELS.WARNING,event:l.default.EVENTS.INVALID_DVR_WINDOW}),oe(X.now,X.range),X.range}return ve}(fe)},reset:he},function p(){O=Object(P.default)(f).getInstance(),he()}(),S}d.__dashjs_factory_name="TimelineConverter",k.default=I.default.getSingletonFactory(d)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=m(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function w(R,D){var c=(R=R||{}).timelineConverter,l=R.dashMetrics;function f(){if(!c)throw new Error(T.default.MISSING_CONFIG_ERROR)}function N(p,y){var ee,Z,le,H,W,x,Y,g=p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentTemplate||p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentList,E=g.SegmentURL_asArray,L=0,K=-1;Y=p.timescale;var G=!1;for(le=0,H=(ee=g.SegmentTimeline.S_asArray).length;le<H&&!G;le++)for(x=0,(Z=ee[le]).hasOwnProperty("r")&&(x=Z.r),Z.hasOwnProperty("t")&&(L=Z.t),x<0&&(x=S(p,ee[le+1],Z,Y,L/Y)),W=0;W<=x&&!G;W++)(G=y(L,g,E,Z,Y,++K,le))&&(p.segmentDuration=Z.d/Y),L+=Z.d}function S(p,y,g,A,E){var L;if(y&&y.hasOwnProperty("t"))L=y.t/A;else try{var K=0;if(isNaN(p.adaptation.period.start)||isNaN(p.adaptation.period.duration)||!isFinite(p.adaptation.period.duration)){var ee=l.getCurrentDVRInfo();K=isNaN(ee.end)?0:ee.end}else K=p.adaptation.period.start+p.adaptation.period.duration;L=c.calcMediaTimeFromPresentationTime(K,p),p.segmentDuration=g.d/A}catch{L=0}return Math.max(Math.ceil((L-E)/(g.d/A))-1,0)}return{getSegmentByIndex:function O(p,y,g){if(f(),!p)return null;var A=null,E=!1;return N(p,function(L,K,ee,Z,le,H,W){if(E||g<0){var x=K.media,Y=Z.mediaRange;return ee&&(x=ee[W].media||"",Y=ee[W].mediaRange),A=Object(I.getTimeBasedSegment)(c,D,p,L,Z.d,le,x,Y,H,Z.tManifest),!0}return L>=g*le-.5*Z.d&&(E=!0),!1}),A},getSegmentByTime:function b(p,y){if(f(),!p)return null;void 0===y&&(y=null);var g=null,A=c.calcMediaTimeFromPresentationTime(y,p);return N(p,function(E,L,K,ee,Z,le,H){var W=function v(p){return parseFloat(p.toPrecision(15))}(A*Z);if(W<E+ee.d&&W>=E){var x=L.media,Y=ee.mediaRange;return K&&(x=K[H].media||"",Y=K[H].mediaRange),g=Object(I.getTimeBasedSegment)(c,D,p,E,ee.d,Z,x,Y,le,ee.tManifest),!0}return!1}),g},getMediaFinishedInformation:function _(p){if(!p)return 0;var K,ee,Z,le,H,W,x,A=0,E=0,L=0;for(x=p.timescale,le=(K=(p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentTemplate||p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentList).SegmentTimeline.S_asArray).length,Z=0;Z<le;Z++)for(W=0,(ee=K[Z]).hasOwnProperty("r")&&(W=ee.r),ee.hasOwnProperty("t")&&(E=(A=ee.t)/x),W<0&&(W=S(p,K[Z+1],ee,x,E)),H=0;H<=W;H++)L++,E=(A+=ee.d)/x;return{numberOfSegments:L,mediaTimeOfLastSignaledSegment:E}}}}w.__dashjs_factory_name="TimelineSegmentsGetter";var P=M.default.getClassFactory(w);k.default=P},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(d){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function T(d,f){for(var _=0;_<f.length;_++){var N=f[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(d,w(N.key),N)}}function I(d,f,_){return f&&T(d.prototype,f),_&&T(d,_),Object.defineProperty(d,"prototype",{writable:!1}),d}function w(d){var f=function P(d,f){if("object"!==M(d)||null===d)return d;var _=d[Symbol.toPrimitive];if(void 0!==_){var N=_.call(d,f||"default");if("object"!==M(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(d)}(d,"string");return"symbol"===M(f)?f:String(f)}m.r(k);var l=I(function d(f,_,N,S){(function R(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,d),this.url=f||"",this.serviceLocation=_||f||"",this.dvb_priority=N||1,this.dvb_weight=S||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});l.DEFAULT_DVB_PRIORITY=1,l.DEFAULT_DVB_WEIGHT=1,k.default=l},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function P(l){var d=function R(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}k.default=w(function l(d){(function D(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.url=d||null,this.type=M.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=function(){function c(l,d,f){(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.action=l,this.xpath=d,this.value=f,this.position=null}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"getMpdTarget",value:function(d){return this.xpath.getMpdTarget(d,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),c}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k);var D=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});D.DEFAULT_ID="defaultId",k.default=D},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function w(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,R(_.key),_)}}function R(l){var d=function D(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}k.default=function(){function l(){(function I(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function P(l,d,f){return d&&w(l.prototype,d),f&&w(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==M.default.BASE_URL&&this.segmentInfoType!==M.default.SEGMENT_BASE&&!this.indexRange}}]),l}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=function(){function c(l){var d=this;(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.valid="/"==l[0],this.path=l.split("/").filter(function(f){return 0!==f.length}).map(function(f){var _={name:f},N=f.indexOf("[");if(-1!=N){_.name=f.substring(0,N);var S=f.substring(N+1,f.length-1);d.valid=d.valid&&-1==S.indexOf("[");var O=S.indexOf("=");-1!=O?(_.attribute={name:S.substring(1,O),value:S.substring(O+1)},-1!=["'",'"'].indexOf(_.attribute.value[0])&&(_.attribute.value=_.attribute.value.substring(1,_.attribute.value.length-1))):_.position=parseInt(S,10)-1}return _})}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(d,f){for(var _=null,N=d,S=1,O="MPD";S<this.path.length&&null!==N;){_=N;var b=this.path[S];if(O=b.name,S!==this.path.length-1||!O.startsWith("@")){var v=_[O+"_asArray"]||[];0===v.length&&_[O]&&v.push(_[O]),b.position?N=v[b.position]||null:b.attribute?function(){var p=b.attribute;N=v.filter(function(y){return y[p.name]==p.value})[0]||null}():N=v[0]||null}S++}return null===N?null:O.startsWith("@")?{name:O.substring(1),leaf:N,target:N}:{name:O,leaf:N,target:f?_:N}}}]),c}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),I=m(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),w=m(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),P=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function R(D){var S,O,c=this.context,l=(D=D||{}).eventBus,d=D.events,f=D.urlUtils,_=D.errors,N=D.streamId;return S={checkForExistence:function v(A){var E=function(ee){l.trigger(d.CHECK_FOR_EXISTENCE_COMPLETED,{request:A,exists:ee})};if(A){var L=new I.default(A.url);O.load({request:L,success:function(){E(!0)},error:function(){E(!1)}})}else E(!1)},load:function p(A){var E=function(K,ee){l.trigger(d.LOADING_COMPLETED,{request:A,response:K||null,error:ee||null,sender:S})};A?O.load({request:A,progress:function(K){l.trigger(d.LOADING_PROGRESS,{request:A,stream:K.stream,streamId:N}),K.data&&l.trigger(d.LOADING_DATA_PROGRESS,{request:A,response:K.data||null,error:null,sender:S})},success:function(K){E(K)},error:function(K,ee,Z){E(void 0,new w.default(_.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,Z,ee))},abort:function(K){K&&l.trigger(d.LOADING_ABANDONED,{mediaType:K.mediaType,request:K,sender:S})}}):E(void 0,new w.default(_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function y(){O&&O.abort()},reset:function g(){O&&(O.abort(),O=null)}},function b(){O=Object(T.default)(c).create({errHandler:D.errHandler,errors:_,dashMetrics:D.dashMetrics,mediaPlayerModel:D.mediaPlayerModel,requestModifier:D.requestModifier,urlUtils:f,constants:M.default,boxParser:D.boxParser,dashConstants:D.dashConstants,requestTimeout:D.settings.get().streaming.fragmentRequestTimeout})}(),S}R.__dashjs_factory_name="FragmentLoader",k.default=P.default.getClassFactory(R)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=m(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),w=m(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),P=m(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),R=m(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),D=m(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),c=m(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),l=m(
/*! ../core/EventBus */
"./src/core/EventBus.js"),d=m(
/*! ../core/events/Events */
"./src/core/events/Events.js"),f=m(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),_=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),N=m(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function S(b){var E,L,K,ee,Z,v=this.context,p=(b=b||{}).debug,y=b.settings,g=Object(l.default)(v).getInstance(),A=Object(P.default)(v).getInstance(),le=b.mssHandler,H=b.errHandler;function x(oe){g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:oe.manifest})}return E={load:function G(oe){var ye=new R.default(oe,c.HTTPRequest.MPD_TYPE);K.load({request:ye,success:function(de,ae,pe){if(ee){var he,fe,ve;if(pe&&pe!==oe?(fe=A.parseBaseUrl(pe),he=pe):(A.isRelative(oe)&&(oe=A.resolve(oe,window.location.href)),fe=A.parseBaseUrl(oe)),"No Content"==ae)return void g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===Z&&(Z=function Y(oe){var ye=null;return oe.indexOf("SmoothStreamingMedia")>-1?(le&&(ye=le.createMssParser(),le.registerEvents()),ye):oe.indexOf("MPD")>-1||oe.indexOf("Patch")>-1?Object(N.default)(v).create({debug:p}):ye}(de)),null===Z)return void g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(oe))});ee.setMatchers(Z.getMatchers()),ee.setIron(Z.getIron());try{ve=Z.parse(de)}catch{return void g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(oe))})}if(ve){if(ve.url=he||oe,ve.originalUrl||(ve.originalUrl=ve.url),ve.hasOwnProperty(M.default.LOCATION)&&(fe=A.parseBaseUrl(ve.Location_asArray[0]),L.debug("BaseURI set by Location to: "+fe)),y&&y.get().streaming.enableManifestDurationMismatchFix&&ve.mediaPresentationDuration&&ve.Period_asArray.length>1){var se=ve.Period_asArray.reduce(function(Se,_e){return Se+_e.duration},0);!isNaN(se)&&ve.mediaPresentationDuration>se&&(L.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),ve.mediaPresentationDuration=se)}ve.baseUri=fe,ve.loadedTime=new Date,ee.resolveManifestOnLoad(ve),g.trigger(d.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:de})}else g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(oe))})}},error:function(de,ae,pe){g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(f.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(oe,", ").concat(pe))})}})},reset:function ie(){g.off(d.default.XLINK_READY,x,E),le&&le.reset(),ee&&(ee.reset(),ee=null),K&&(K.abort(),K=null)}},function W(){L=p.getLogger(E),g.on(d.default.XLINK_READY,x,E),K=Object(w.default)(v).create({errHandler:b.errHandler,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier,urlUtils:A,constants:M.default,dashConstants:T.default,errors:f.default,requestTimeout:b.settings.get().streaming.manifestRequestTimeout}),ee=Object(I.default)(v).create({errHandler:H,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier,settings:b.settings}),Z=null}(),E}S.__dashjs_factory_name="ManifestLoader";var O=_.default.getClassFactory(S);k.default=O},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../core/EventBus */
"./src/core/EventBus.js"),T=m(
/*! ../core/events/Events */
"./src/core/events/Events.js"),I=m(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),w=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=m(
/*! ../core/Debug */
"./src/core/Debug.js"),R=m(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),D=m(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),c=m(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function l(){var N,S,O,b,v,p,y,g,A,E,L,K,d=this.context,f=Object(M.default)(d).getInstance(),_=Object(c.default)(d).getInstance();function W(){O=NaN,y=!1,v=!0,p=!1,Y()}function Y(){null!==b&&(clearTimeout(b),b=null)}function G(fe){Y(),!p&&(isNaN(fe)&&!isNaN(O)&&(fe=1e3*O),isNaN(fe)||(S.debug("Refresh manifest in "+fe+" milliseconds."),b=setTimeout(ye,fe)))}function ie(){var fe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y=!0;var ve=A.getValue(),se=ve.url,Se=E.getPatchLocation(ve),_e=E.getLocation(ve);Se&&!fe?se=Se:_e&&(se=_e),_.isRelative(se)&&(se=_.resolve(se,ve.url)),g.load(se)}function oe(fe){if(fe){if(E.getIsPatch(fe)){var ve=fe;fe=A.getValue();var se=E.isPatchValid(fe,ve),Se=se;if(se){var _e=E.getPublishTime(fe);Se=E.applyPatchToManifest(fe,ve);var ne=E.getPublishTime(fe);Se=_e.getTime()!=ne.getTime()}if(!Se)return S.debug("Patch provided is invalid, performing full manifest refresh"),void ie(!0);fe.loadedTime=new Date}}else(fe=A.getValue()).loadedTime=new Date;if(A.getValue()&&A.getValue().type===D.default.DYNAMIC&&fe.type===D.default.STATIC)return f.trigger(T.default.DYNAMIC_TO_STATIC),y=!1,void(p=!0);A.setValue(fe);var X=new Date,F=(X.getTime()-fe.loadedTime.getTime())/1e3;1e3*(O=E.getManifestUpdatePeriod(fe,F))>2147483647&&(O=2147483.647),f.trigger(T.default.MANIFEST_UPDATED,{manifest:fe}),S.info("Manifest has been refreshed at "+X+"["+X.getTime()/1e3+"] "),v||G()}function ye(){if(!v){if(y)return void G(K.get().streaming.manifestUpdateRetryInterval);ie()}}function J(fe){fe.error?fe.error.code===R.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&L.error(fe.error):oe(fe.manifest)}function de(){v=!1,G()}function ae(){(v=!K.get().streaming.scheduling.scheduleWhilePaused)&&Y()}function pe(){y=!1}return N={initialize:function le(){W(),f.on(T.default.STREAMS_COMPOSED,pe,this),f.on(I.default.PLAYBACK_STARTED,de,this),f.on(I.default.PLAYBACK_PAUSED,ae,this),f.on(T.default.INTERNAL_MANIFEST_LOADED,J,this)},setManifest:function H(fe){oe(fe)},refreshManifest:ie,getIsUpdating:function he(){return y},setConfig:function Z(fe){fe&&(fe.manifestModel&&(A=fe.manifestModel),fe.adapter&&(E=fe.adapter),fe.manifestLoader&&(g=fe.manifestLoader),fe.errHandler&&(L=fe.errHandler),fe.settings&&(K=fe.settings))},reset:function x(){f.off(I.default.PLAYBACK_STARTED,de,this),f.off(I.default.PLAYBACK_PAUSED,ae,this),f.off(T.default.STREAMS_COMPOSED,pe,this),f.off(T.default.INTERNAL_MANIFEST_LOADED,J,this),W()}},function ee(){S=Object(P.default)(d).getInstance().getLogger(N)}(),N}l.__dashjs_factory_name="ManifestUpdater",k.default=w.default.getClassFactory(l)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),T=m.n(M),I=m(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),w=m(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),P=m(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),R=m(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),D=m(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),c=m(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),l=m(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),d=m(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),f=m(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),_=m(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),N=m(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),S=m(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),O=m(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),b=m(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),v=m(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),p=m(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),y=m(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),g=m(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),A=m(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),E=m(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),L=m(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),K=m(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),ee=m(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),Z=m(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),le=m(
/*! ./../core/Debug */
"./src/core/Debug.js"),H=m(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),W=m(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),x=m(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),Y=m(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),G=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),ie=m(
/*! ../core/Settings */
"./src/core/Settings.js"),oe=m(
/*! ../core/Version */
"./src/core/Version.js"),ye=m(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),J=m(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),de=m(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),ae=m(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),pe=m(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),he=m(
/*! ../../externals/base64 */
"./externals/base64.js"),fe=m.n(he),ve=m(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),se=m.n(ve),Se=m(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),_e=m(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),ne=m(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),X=m(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),F=m(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),V=m(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),re=m(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function U(){var Re,Pe,we,je,Ce,Oe,ze,Le,Ye,et,rt,it,ht,Dt,Ht,jt,Yt,Zt,De,Te,Ne,Ge,ot,Ze,lt,_t,pt,Be,Je,ct,gt,At,Ot,Nt,un,en,Gn,me="You must first call initialize() and set a source before calling this method",Ee="You must first call initialize() and set a valid source and view before calling this method",q="You must first call attachView() to set the video element before calling this method",j="MediaPlayer not initialized!",$=this.context,ce=Object(W.default)($).getInstance(),ue=Object(ie.default)($).getInstance(),be=Object(le.default)($).getInstance({settings:ue});function Ct(){sl(null),dn(null),je=null,ht&&(ht.reset(),ht=null),Dt&&(Dt.reset(),Dt=null),De&&De.reset(),ue.reset(),jt&&(jt.reset(),jt=null)}function qe(){return!!we&&!!Nt.getElement()}function sn(){return Object(oe.getVersionString)()}function Qe(){if(!ze)throw Ee;return pt.isPaused()}function Ke(){if(!ze)throw Ee;return pt.getIsDynamic()}function fi($e){var Rt=Ze&&Ze.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,tn=gt.getCurrentDVRInfo(Rt);if(!tn)return 0;var Hn=pt.getOriginalLiveDelay(),$n=tn.range.start+$e;return $n>tn.range.end-Hn&&($n=tn.range.end-Hn),$n}function na($e){if(!ze)throw Ee;var Rt=mr().currentTime;if(void 0!==$e)Rt=Ze.getTimeRelativeToStreamId(Rt,$e);else if(pt.getIsDynamic()){var tn=Ze&&Ze.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,Hn=gt.getCurrentDVRInfo(tn);Rt=null===Hn||0===Rt?0:Math.max(0,Rt-Hn.range.start)}return Rt}function _o(){if(!ze)throw Ee;var $e=mr().duration;if(pt.getIsDynamic()){var Rt=Ze&&Ze.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,tn=gt.getCurrentDVRInfo(Rt);$e=tn?tn.range.end-tn.range.start:0}return $e}function La($e){Object(_e.checkParameterType)($e,"boolean"),Le=$e}function rl(){De.restoreDefaultUTCTimingSources()}function ft(){return gt}function mr(){if(!Nt.getElement())throw q;return Nt.getElement()}function dn($e){if(!Ce)throw j;Nt.setElement($e),$e&&(mi(),function db(){if(!Dt){var $e=dashjs.MetricsReporting;if("function"==typeof $e){var Rt=$e($).create();Dt=Rt.createMetricsReporting({debug:be,eventBus:ce,mediaElement:mr(),adapter:Yt,dashMetrics:gt,mediaPlayerModel:Zt,events:x.default,constants:I.default,metricsConstants:P.default})}}}(),function fb(){if(!Ht){var $e=dashjs.MssHandler;"function"==typeof $e&&(H.default.extend($e.errors),Ht=$e($).create({eventBus:ce,mediaPlayerModel:Zt,dashMetrics:gt,manifestModel:At,playbackController:pt,streamController:Ze,protectionController:ht,baseURLController:Ne,errHandler:Te,events:x.default,constants:I.default,debug:be,initSegmentType:pe.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:fe.a,ISOBoxer:se.a,settings:ue}))}}(),Ze&&Ze.switchToVideoElement()),ze&&_f(),Un()}function Bu($e){if(!Oe)throw me;var Rt=Ze.getActiveStreamInfo();return Rt?it.getTracksFor($e,Rt.id):[]}function sl($e){var Rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!Ce)throw j;"string"==typeof $e&&un.initialize($e),(null==Rt||isNaN(Rt))&&(Rt=NaN),Rt=Math.max(0,Rt),we=$e,(Oe||ze)&&_f(),qe()&&Un(Rt)}function oa(){if(!Oe)throw me;var $e=Ze.getActiveStreamInfo();return $e?Ze.getStreamById($e.id):null}function _f(){ze=!1,Oe=!1,Yt.reset(),Ze.reset(),_t.reset(),ct.reset(),pt.reset(),Be.reset(),Je.reset(),Ye.reset(),it.reset(),Gn.reset(),ht&&(ue.get().streaming.protection.keepProtectionMediaKeys?ht.stop():(ht.reset(),ht=null,mi())),lt.reset(),Ot.reset()}function jp(){var $e=ro();Ze||(Ze=Object(D.default)($).getInstance()),lt||(lt=Object(V.default)($).create({errHandler:Te,manifestModel:At,adapter:Yt,mediaController:it,videoModel:Nt,settings:ue})),ot.setConfig({capabilities:Ge,customParametersModel:De,adapter:Yt,settings:ue,manifestModel:At,errHandler:Te}),Ze.setConfig({capabilities:Ge,capabilitiesFilter:ot,manifestLoader:$e,manifestModel:At,mediaPlayerModel:Zt,customParametersModel:De,protectionController:ht,textController:lt,adapter:Yt,dashMetrics:gt,errHandler:Te,timelineConverter:rt,videoModel:Nt,playbackController:pt,serviceDescriptionController:Be,contentSteeringController:Je,abrController:Ye,mediaController:it,settings:ue,baseURLController:Ne,uriFragmentModel:un,segmentBaseController:Gn}),_t.setConfig({settings:ue,playbackController:pt,streamController:Ze,videoModel:Nt,timelineConverter:rt,adapter:Yt}),pt.setConfig({streamController:Ze,serviceDescriptionController:Be,dashMetrics:gt,adapter:Yt,videoModel:Nt,timelineConverter:rt,settings:ue}),ct.setConfig({streamController:Ze,playbackController:pt,mediaPlayerModel:Zt,videoModel:Nt,settings:ue}),Ye.setConfig({streamController:Ze,domStorage:en,mediaPlayerModel:Zt,customParametersModel:De,dashMetrics:gt,adapter:Yt,videoModel:Nt,settings:ue}),Ot.setConfig({abrController:Ye,dashMetrics:gt,playbackController:pt}),Je.setConfig({adapter:Yt,errHandler:Te,dashMetrics:gt,mediaPlayerModel:Zt,manifestModel:At,abrController:Ye,eventBus:ce,requestModifier:Object(p.default)($).getInstance()}),Ye.initialize(),Ze.initialize(Le,je),lt.initialize(),_t.initialize(),ct.initialize(),Ot.initialize(),Je.initialize(),Gn.initialize()}function ro(){return Object(S.default)($).create({debug:be,errHandler:Te,dashMetrics:gt,mediaPlayerModel:Zt,requestModifier:Object(p.default)($).getInstance(),mssHandler:Ht,settings:ue})}function mi(){if(ht)return ht;var $e=dashjs.Protection;if("function"==typeof $e){var Rt=$e($).create();return x.default.extend($e.events),Y.default.extend($e.events,{publicOnly:!0}),H.default.extend($e.errors),Ge||(Ge=Object(b.default)($).getInstance()),ht=Rt.createProtectionSystem({debug:be,errHandler:Te,videoModel:Nt,customParametersModel:De,capabilities:Ge,eventBus:ce,events:x.default,BASE64:fe.a,constants:I.default,cmcdModel:Ot,settings:ue})}return null}function wi(){if(!Ce)throw j;if(jt)return jt;var $e=dashjs.OfflineController;if("function"==typeof $e){x.default.extend($e.events),Y.default.extend($e.events,{publicOnly:!0}),H.default.extend($e.errors);var Rt=ro(),tn=Object(ne.default)($).create();return tn.setConfig({manifestModel:At,adapter:Yt,manifestLoader:Rt,errHandler:Te}),jt=$e($).create({debug:be,manifestUpdater:tn,baseURLController:Ne,manifestLoader:Rt,manifestModel:At,mediaPlayerModel:Zt,abrController:Ye,playbackController:pt,adapter:Yt,errHandler:Te,dashMetrics:gt,timelineConverter:rt,segmentBaseController:Gn,schemeLoaderFactory:et,eventBus:ce,events:x.default,errors:H.default,constants:I.default,settings:ue,dashConstants:w.default,urlUtils:Object(X.default)($).getInstance()})}return null}function io($e){var Rt=Ze&&Ze.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,tn=gt.getCurrentDVRInfo(Rt);return tn?$e+(tn.manifestInfo.availableFrom.getTime()/1e3+tn.range.start):0}function Un(){var $e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;jt&&jt.resetRecords(),!Oe&&we&&(Oe=!0,Pe.info("Streaming Initialized"),jp(),"string"==typeof we?Ze.load(we,$e):Ze.loadWithManifest(we,$e)),!ze&&qe()&&(ze=!0,Pe.info("Playback Initialized"))}return Re={initialize:function tt($e,Rt,tn){var Hn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;Ge||(Ge=Object(b.default)($).getInstance()).setConfig({settings:ue}),Te||(Te=Object(O.default)($).getInstance()),Ge.supportsMediaSource()?(Ce||(Ce=!0,rt=Object(ae.default)($).getInstance(),Ye||(Ye=Object(E.default)($).getInstance()).setConfig({settings:ue}),et||(et=Object(L.default)($).getInstance()),pt||(pt=Object(R.default)($).getInstance()),it||(it=Object(_.default)($).getInstance()),Ze||(Ze=Object(D.default)($).getInstance()),_t||(_t=Object(c.default)($).getInstance()),ct||(ct=Object(l.default)($).getInstance()),Be||(Be=Object(d.default)($).getInstance()),Je||(Je=Object(f.default)($).getInstance()),ot||(ot=Object(v.default)($).getInstance()),Yt=Object(J.default)($).getInstance(),At=Object(g.default)($).getInstance(),Ot=Object(ee.default)($).getInstance(),gt=Object(de.default)($).getInstance({settings:ue}),en=Object(Z.default)($).getInstance({settings:ue}),Yt.setConfig({constants:I.default,cea608parser:T.a,errHandler:Te,BASE64:fe.a}),Ne||(Ne=Object(N.default)($).create()),Ne.setConfig({adapter:Yt}),Be.setConfig({adapter:Yt}),Gn||(Gn=Object(ye.default)($).getInstance({dashMetrics:gt,mediaPlayerModel:Zt,errHandler:Te,baseURLController:Ne,events:x.default,eventBus:ce,debug:be,boxParser:Object(F.default)($).getInstance(),requestModifier:Object(p.default)($).getInstance(),errors:H.default})),it.setConfig({domStorage:en,settings:ue,customParametersModel:De}),Zt.setConfig({playbackController:pt,serviceDescriptionController:Be}),rl(),La(void 0===tn||tn),wi()),$e&&dn($e),Rt&&sl(Rt,Hn),Pe.info("[dash.js "+sn()+"] MediaPlayer has been initialized")):Te.error(new Se.default(H.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,H.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Ae($e){$e&&($e.capabilities&&(Ge=$e.capabilities),$e.capabilitiesFilter&&(ot=$e.capabilitiesFilter),$e.streamController&&(Ze=$e.streamController),$e.textController&&(lt=$e.textController),$e.gapController&&(_t=$e.gapController),$e.playbackController&&(pt=$e.playbackController),$e.serviceDescriptionController&&(Be=$e.serviceDescriptionController),$e.contentSteeringController&&(Je=$e.contentSteeringController),$e.catchupController&&(ct=$e.catchupController),$e.mediaPlayerModel&&(Zt=$e.mediaPlayerModel),$e.customParametersModel&&(De=$e.customParametersModel),$e.abrController&&(Ye=$e.abrController),$e.schemeLoaderFactory&&(et=$e.schemeLoaderFactory),$e.mediaController&&(it=$e.mediaController),$e.settings&&(ue=$e.settings))},on:function at($e,Rt,tn,Hn){ce.on($e,Rt,tn,Hn)},off:function Mt($e,Rt,tn){ce.off($e,Rt,tn)},extend:function yn($e,Rt,tn){G.default.extend($e,Rt,tn,$)},attachView:dn,attachSource:sl,isReady:qe,play:function He(){if(!ze)throw Ee;(!Le||Qe()&&ze)&&pt.play(!0)},isPaused:Qe,pause:function ke(){if(!ze)throw Ee;pt.pause()},isSeeking:function Pt(){if(!ze)throw Ee;return pt.isSeeking()},isDynamic:Ke,getLowLatencyModeEnabled:function It(){if(!ze)throw Ee;return pt.getLowLatencyModeEnabled()},seek:function ut($e){if(!ze)throw Ee;if(Object(_e.checkParameterType)($e,"number"),isNaN($e))throw I.default.BAD_ARGUMENT_ERROR;$e<0&&($e=0);var Rt=pt.getIsDynamic()?fi($e):$e,tn=mr();!pt.getIsDynamic()&&tn.duration&&(Rt=Math.min(tn.duration,Rt)),pt.seek(Rt,!1,!1,!0)},seekToOriginalLive:function Lt(){!ze||!Ke()||pt.seekToOriginalLive()},setPlaybackRate:function Vt($e){mr().playbackRate=$e},getPlaybackRate:function kt(){return mr().playbackRate},setMute:function In($e){Object(_e.checkParameterType)($e,"boolean"),mr().muted=$e},isMuted:function cn(){return mr().muted},setVolume:function Yn($e){if("number"!=typeof $e||isNaN($e)||$e<0||$e>1)throw I.default.BAD_ARGUMENT_ERROR;mr().volume=$e},getVolume:function qn(){return mr().volume},time:na,duration:_o,timeAsUTC:function yt(){if(!ze)throw Ee;return na()<0?NaN:io(na())},durationAsUTC:function ki(){if(!ze)throw Ee;return io(_o())},getActiveStream:oa,getDVRWindowSize:function on(){var $e=Ze&&Ze.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,Rt=gt.getCurrentDVRInfo($e);return Rt?Rt.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:fi,getTargetLiveDelay:function Ai(){if(!ze)throw Ee;return pt.getOriginalLiveDelay()},convertToTimeCode:function gf($e){$e=Math.max($e,0);var Rt=Math.floor($e/3600),tn=Math.floor($e%3600/60),Hn=Math.floor($e%3600%60);return(0===Rt?"":Rt<10?"0"+Rt.toString()+":":Rt.toString()+":")+(tn<10?"0"+tn.toString():tn.toString())+":"+(Hn<10?"0"+Hn.toString():Hn.toString())},formatUTC:function st($e,Rt,tn){var Hn=arguments.length>3&&void 0!==arguments[3]&&arguments[3],$n=new Date(1e3*$e),vo=$n.toLocaleDateString(Rt),ja=$n.toLocaleTimeString(Rt,{hour12:tn});return Hn?ja+" "+vo:ja},getVersion:sn,getDebug:function $t(){return be},getBufferLength:function xn($e){var Rt=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT];if($e)return-1!==Rt.indexOf($e)?ft().getCurrentBufferLevel($e)||NaN:(Pe.warn("getBufferLength requested for invalid type"),NaN);var tn=Rt.map(function($n){return Bu($n).length>0?ft().getCurrentBufferLevel($n):Number.MAX_VALUE}).reduce(function($n,vo){return Math.min($n,vo)});return tn===Number.MAX_VALUE?NaN:tn},getTTMLRenderingDiv:function hi(){return Nt?Nt.getTTMLRenderingDiv():null},getVideoElement:mr,getSource:function Fp(){if(!we)throw"You must first call attachSource() with a valid source before calling this method";return we},updateSource:function Bp($e){Ze.load(we=$e)},getCurrentLiveLatency:function $r(){if(!Ce)throw j;return ze?pt.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function mn($e){if(!Oe)throw me;return Ye.getTopBitrateInfoFor($e)},setAutoPlay:La,getAutoPlay:function ra(){return Le},getDashMetrics:ft,getQualityFor:function Fn($e){if(!Oe)throw me;if($e===I.default.IMAGE){var Rt=oa();if(!Rt)return-1;var tn=Rt.getThumbnailController();return tn?tn.getCurrentTrackIndex():-1}return Ye.getQualityFor($e)},setQualityFor:function nl($e,Rt){var tn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Oe)throw me;if($e===I.default.IMAGE){var Hn=oa();if(!Hn)return;var $n=Hn.getThumbnailController();$n&&$n.setTrackByIndex(Rt)}Ye.setPlaybackQuality($e,Ze.getActiveStreamInfo(),Rt,{forceReplace:tn})},updatePortalSize:function ls(){Ye.setElementSize(),Ye.setWindowResizeEventCalled(!0)},enableText:function Tt($e){var Rt=Ze.getActiveStreamInfo();return!(!Rt||!lt)&&lt.enableText(Rt.id,$e)},enableForcedTextStreaming:function an($e){return!(!Ze.getActiveStreamInfo()||!lt)&&lt.enableForcedTextStreaming($e)},isTextEnabled:function gn(){var $e=Ze.getActiveStreamInfo();return!(!$e||!lt)&&lt.isTextEnabled($e)},setTextTrack:function An($e){if(!ze)throw Ee;var Rt=Ze.getActiveStreamInfo();!Rt||!lt||lt.setTextTrack(Rt.id,$e)},getBitrateInfoListFor:function Pp($e){if(!Oe)throw me;var Rt=oa();return Rt?Rt.getBitrateListFor($e):[]},getStreamsFromManifest:function Op($e){if(!Oe)throw me;return Yt.getStreamsInfo($e)},getTracksFor:Bu,getTracksForTypeFromManifest:function ol($e,Rt,tn){if(!Oe)throw me;return(tn=tn||Yt.getStreamsInfo(Rt,1)[0])?Yt.getAllMediaInfoForType(tn,$e,Rt):[]},getCurrentTrackFor:function ku($e){if(!Oe)throw me;var Rt=Ze.getActiveStreamInfo();return it.getCurrentTrackFor($e,Rt.id)},setInitialMediaSettingsFor:function mf($e,Rt){if(!Ce)throw j;it.setInitialSettings($e,Rt)},getInitialMediaSettingsFor:function xp($e){if(!Ce)throw j;return it.getInitialSettings($e)},setCurrentTrack:function hn($e){if(!Oe)throw me;it.setTrack($e)},addABRCustomRule:function ia($e,Rt,tn){De.addAbrCustomRule($e,Rt,tn)},removeABRCustomRule:function Nu($e){De.removeAbrCustomRule($e)},removeAllABRCustomRule:function df(){De.removeAllAbrCustomRule()},getABRCustomRules:function Ii(){return De.getAbrCustomRules()},getAverageThroughput:function Fa($e){var Rt=Ye.getThroughputHistory(),tn=pt.getIsDynamic();return Rt?Rt.getAverageThroughput($e,tn):0},retrieveManifest:function Lp($e,Rt){var tn=ro(),Hn=this;ce.on(x.default.INTERNAL_MANIFEST_LOADED,function vo(ja){ja.error?Rt(null,ja.error):Rt(ja.manifest),ce.off(x.default.INTERNAL_MANIFEST_LOADED,vo,Hn),tn.reset()},Hn),un.initialize($e),tn.load($e)},addUTCTimingSource:function Lu($e,Rt){De.addUTCTimingSource($e,Rt)},removeUTCTimingSource:function ff($e,Rt){De.removeUTCTimingSource($e,Rt)},clearDefaultUTCTimingSources:function hf(){De.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:rl,setXHRWithCredentialsForType:function Fu($e,Rt){De.setXHRWithCredentialsForType($e,Rt)},getXHRWithCredentialsForType:function Ba($e){return De.getXHRWithCredentialsForType($e)},getProtectionController:function cb(){return mi()},attachProtectionController:function us($e){ht=$e},setProtectionData:function ju($e){je=$e,Ze&&Ze.setProtectionData(je)},registerLicenseRequestFilter:function sb($e){De.registerLicenseRequestFilter($e)},registerLicenseResponseFilter:function rr($e){De.registerLicenseResponseFilter($e)},unregisterLicenseRequestFilter:function lb($e){De.unregisterLicenseRequestFilter($e)},unregisterLicenseResponseFilter:function ub($e){De.unregisterLicenseResponseFilter($e)},registerCustomCapabilitiesFilter:function Uu($e){De.registerCustomCapabilitiesFilter($e)},unregisterCustomCapabilitiesFilter:function Np($e){De.unregisterCustomCapabilitiesFilter($e)},setCustomInitialTrackSelectionFunction:function Ri($e){De.setCustomInitialTrackSelectionFunction($e)},resetCustomInitialTrackSelectionFunction:function pf(){De.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function il($e){if(!Nt.getElement())throw q;Nt.setTTMLRenderingDiv($e)},attachVttRenderingDiv:function ka($e){if(!Nt.getElement())throw q;Nt.setVttRenderingDiv($e)},getCurrentTextTrackIndex:function vt(){var Rt=Ze.getActiveStreamInfo();if(Rt&&lt)return lt.getCurrentTrackIdx(Rt.id)},provideThumbnail:function al($e,Rt){if("function"==typeof Rt){if($e<0)return void Rt(null);var tn=pt.getIsDynamic()?fi($e):$e,Hn=Ze.getStreamForTime(tn);if(null===Hn)return void Rt(null);var $n=Hn.getThumbnailController();return $n?$n.provide(tn,Rt):void Rt(null)}},getDashAdapter:function Vu(){return Yt},getOfflineController:function We(){return wi()},triggerSteeringRequest:function ds(){if(Je)return Je.loadSteeringData()},getCurrentSteeringResponseData:function Up(){if(Je)return Je.getCurrentSteeringResponseData()},getSettings:function cs(){return ue.get()},updateSettings:function Ua($e){ue.update($e)},resetSettings:function kp(){ue.reset()},reset:Ct,destroy:function Ue(){Ct(),G.default.deleteSingletonInstances($)}},function _r(){Pe=be.getLogger(Re),Ce=!1,ze=!1,Oe=!1,Le=!0,ht=null,jt=null,je=null,Yt=null,Gn=null,x.default.extend(Y.default),Zt=Object(A.default)($).getInstance(),De=Object(re.default)($).getInstance(),Nt=Object(K.default)($).getInstance(),un=Object(y.default)($).getInstance()}(),Re}U.__dashjs_factory_name="MediaPlayer";var te=G.default.getClassFactory(U);te.events=Y.default,te.errors=H.default,G.default.updateClassFactory(U.__dashjs_factory_name,te),k.default=te},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(k);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).AST_IN_FUTURE="astInFuture",g.BUFFER_EMPTY="bufferStalled",g.BUFFER_LOADED="bufferLoaded",g.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",g.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",g.DYNAMIC_TO_STATIC="dynamicToStatic",g.ERROR="error",g.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",g.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",g.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",g.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",g.LOG="log",g.MANIFEST_LOADED="manifestLoaded",g.METRICS_CHANGED="metricsChanged",g.METRIC_CHANGED="metricChanged",g.METRIC_ADDED="metricAdded",g.METRIC_UPDATED="metricUpdated",g.PERIOD_SWITCH_STARTED="periodSwitchStarted",g.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",g.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",g.QUALITY_CHANGE_RENDERED="qualityChangeRendered",g.TRACK_CHANGE_RENDERED="trackChangeRendered",g.STREAM_INITIALIZING="streamInitializing",g.STREAM_UPDATED="streamUpdated",g.STREAM_ACTIVATED="streamActivated",g.STREAM_DEACTIVATED="streamDeactivated",g.STREAM_INITIALIZED="streamInitialized",g.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",g.TEXT_TRACKS_ADDED="allTextTracksAdded",g.TEXT_TRACK_ADDED="textTrackAdded",g.TTML_PARSED="ttmlParsed",g.TTML_TO_PARSE="ttmlToParse",g.CAPTION_RENDERED="captionRendered",g.CAPTION_CONTAINER_RESIZE="captionContainerResize",g.CAN_PLAY="canPlay",g.CAN_PLAY_THROUGH="canPlayThrough",g.PLAYBACK_ENDED="playbackEnded",g.PLAYBACK_ERROR="playbackError",g.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",g.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",g.PLAYBACK_LOADED_DATA="playbackLoadedData",g.PLAYBACK_PAUSED="playbackPaused",g.PLAYBACK_PLAYING="playbackPlaying",g.PLAYBACK_PROGRESS="playbackProgress",g.PLAYBACK_RATE_CHANGED="playbackRateChanged",g.PLAYBACK_SEEKED="playbackSeeked",g.PLAYBACK_SEEKING="playbackSeeking",g.PLAYBACK_STALLED="playbackStalled",g.PLAYBACK_STARTED="playbackStarted",g.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",g.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",g.PLAYBACK_WAITING="playbackWaiting",g.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",g.EVENT_MODE_ON_START="eventModeOnStart",g.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",g.CONFORMANCE_VIOLATION="conformanceViolation",g.REPRESENTATION_SWITCH="representationSwitch",g.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",g.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));k.default=b},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var w,I=function T(){var l,c="application/dash+xml";function d(N,S,O){if(!N||!/^VIDEO$/i.test(N.nodeName))return null;if(N._dashjs_player)return N._dashjs_player;var b,v=N.id||N.name||"video element";if(!(S=S||[].slice.call(N.querySelectorAll("source")).filter(function(p){return p.type==c})[0])&&N.src)(S=document.createElement("source")).src=N.src;else if(!S&&!N.src)return null;return O=O||{},(b=Object(M.default)(O).create()).initialize(N,S.src,N.autoplay),l||(l=b.getDebug().getLogger()),l.debug("Converted "+v+" to dash.js player and added content: "+S.src),N._dashjs_player=b,b}function _(N){return/^VIDEO$/i.test(N.nodeName)?N:_(N.parentNode)}return{create:d,createAll:function f(N,S){var O=[];N=N||"[data-dashjs-player]";for(var b=(S=S||document).querySelectorAll(N),v=0;v<b.length;v++){var p=d(b[v],null);O.push(p)}for(var y=S.querySelectorAll('source[type="'+c+'"]'),g=0;g<y.length;g++){var E=d(_(y[g]),null);O.push(E)}return O}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?I.createAll():w=window.setInterval(function R(){window.dashjs&&(window.clearInterval(w),I.createAll())},500):window.addEventListener("load",function P(){window.removeEventListener("load",P),I.createAll()})),k.default=I},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../core/Debug */
"./src/core/Debug.js"),T=m(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),I=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),P=m(
/*! ../core/Settings */
"./src/core/Settings.js"),R=m(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),D=m(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),c=m(
/*! ../core/events/Events */
"./src/core/events/Events.js");function _(S){var y,g,A,E,L,K,O=this.context,b=Object(P.default)(O).getInstance(),v=S.textController,p=S.eventBus,ee=[],Z=[],le=!1,H=S.mediaSource,W=null;function G(Ee){return new Promise(function(q){me(function(){E.changeType&&E.changeType(Ee),q()})})}function ye(Ee){return E=v.getTextSourceBuffer(Ee),Promise.resolve()}function J(){if("function"==typeof E.addEventListener)try{E.addEventListener("updateend",re,!1),E.addEventListener("error",U,!1),E.addEventListener("abort",U,!1)}catch{K=setInterval(re,50)}else K=setInterval(re,50)}function pe(Ee){return new Promise(function(q){E&&b.get().streaming.buffer.useAppendWindow?me(function(){try{if(!E)return void q();var z=H.duration,j=0;Ee&&!isNaN(Ee.start)&&!isNaN(Ee.duration)&&isFinite(Ee.duration)&&(z=Ee.start+Ee.duration),Ee&&!isNaN(Ee.start)&&(j=Ee.start),(E.appendWindowEnd!==z||E.appendWindowStart!==j)&&(E.appendWindowStart=0,E.appendWindowEnd=z+.01,E.appendWindowStart=Math.max(j-.1,0),A.debug("Updated append window for ".concat(L.type,". Set start to ").concat(E.appendWindowStart," and end to ").concat(E.appendWindowEnd))),q()}catch{A.warn("Failed to set append window"),q()}}):q()})}function he(Ee){return new Promise(function(q){E?me(function(){try{E.timestampOffset!==Ee&&!isNaN(Ee)&&(E.timestampOffset=Ee,A.debug("Set MSE timestamp offset to ".concat(Ee))),q()}catch{q()}}):q()})}function X(){if(!le&&Z.length>0){le=!0;var Ee=Z[0];Z.splice(0,1);var q=function(){le=!1,Z.length>0&&X.call(this),Ee&&Ee.data&&Ee.data.segmentType&&Ee.data.segmentType!==D.HTTPRequest.INIT_SEGMENT_TYPE&&delete Ee.data.bytes,Ee.promise.resolve({chunk:Ee.data})};try{W=Ee.request,0===Ee.data.bytes.byteLength?q.call(this):(E.appendBuffer?E.appendBuffer(Ee.data.bytes):E.append(Ee.data.bytes,Ee.data),me(q.bind(this)))}catch(z){A.fatal('SourceBuffer append failed "'+z+'"'),Z.length>0?X():le=!1,delete Ee.data.bytes,Ee.promise.reject({chunk:Ee.data,error:new T.default(z.code,z.message)})}}}function V(){ee.length>0&&!E.updating&&(ee.shift()(),V())}function re(){E.updating||V()}function U(Ee){!function te(Ee,q){p.trigger(Ee,q||{},{streamId:L.streamInfo.id,mediaType:g})}(c.default.SOURCE_BUFFER_ERROR,{error:Ee.target||{},lastRequestAppended:W})}function me(Ee){ee.push(Ee),E.updating||V()}return y={getType:function de(){return g},getAllBufferRanges:function se(){try{return E.buffered}catch(Ee){return A.error("getAllBufferRanges exception: "+Ee.message),null}},getBuffer:function ve(){return E},append:function Se(Ee){var q=this,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(j,$){Ee?(Z.push({data:Ee,promise:{resolve:j,reject:$},request:z}),me(X.bind(q))):$({chunk:Ee,error:new T.default(w.default.APPEND_ERROR_CODE,w.default.APPEND_ERROR_MESSAGE)})})},remove:function ne(Ee){return new Promise(function(q,z){var j=Ee.start,$=Ee.end;j>=0&&$>j?me(function(){try{E.remove(j,$),me(function(){q({from:j,to:$,unintended:!1}),Ee.resolve&&Ee.resolve()})}catch(ce){z({from:j,to:$,unintended:!1,error:new T.default(w.default.REMOVE_ERROR_CODE,w.default.REMOVE_ERROR_MESSAGE)}),Ee.reject&&Ee.reject(ce)}}):q()})},abort:function F(){return new Promise(function(Ee){try{Z=[],"open"===H.readyState?me(function(){try{E&&E.abort(),Ee()}catch{Ee()}}):(E&&E.setTextTrack&&"ended"===H.readyState&&E.abort(),Ee())}catch{Ee()}})},reset:function fe(){if(E){try{ee=[],function ae(){try{"function"==typeof E.removeEventListener&&(E.removeEventListener("updateend",re,!1),E.removeEventListener("error",U,!1),E.removeEventListener("abort",U,!1)),clearInterval(K)}catch(Ee){A.error(Ee)}}(),le=!1,Z=[],(!E.getClassName||"TextSourceBuffer"!==E.getClassName())&&(A.debug("Removing sourcebuffer from media source"),H.removeSourceBuffer(E))}catch{}E=null}W=null},updateTimestampOffset:he,initializeForStreamSwitch:function Y(Ee,q,z){g=(L=Ee).type;var j=L.codec;(function ie(Ee){E=Ee.getBuffer()})(z),J();var $=[];return $.push(function _e(){return new Promise(function(Ee){me(function(){var q=E.appendWindowStart,z=E.appendWindowEnd;E&&(E.abort(),E.appendWindowStart=q,E.appendWindowEnd=z),Ee()})})}()),$.push(pe(L.streamInfo)),$.push(G(j)),q&&void 0!==q.MSETimeOffset&&$.push(he(q.MSETimeOffset)),Promise.all($)},initializeForFirstUse:function oe(Ee,q,z){g=(L=q).type;var j=L.codec;try{if(j.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return ye(Ee);E=H.addSourceBuffer(j),J();var $=[];return $.push(pe(L.streamInfo)),z&&void 0!==z.MSETimeOffset&&$.push(he(z.MSETimeOffset)),Promise.all($)}catch(ce){return L.type==R.default.TEXT&&!L.isFragmented||-1!==j.indexOf('codecs="stpp')||-1!==j.indexOf('codecs="vtt')?ye(Ee):Promise.reject(ce)}},updateAppendWindow:pe,changeType:G},function x(){A=Object(M.default)(O).getInstance().getLogger(y)}(),y}_.__dashjs_factory_name="SourceBufferSink";var N=I.default.getClassFactory(_);k.default=N},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=m(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),w=m(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),P=m(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),R=m(
/*! ../core/EventBus */
"./src/core/EventBus.js"),D=m(
/*! ../core/events/Events */
"./src/core/events/Events.js"),c=m(
/*! ../core/Debug */
"./src/core/Debug.js"),l=m(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),d=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=m(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),_=m(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),N=m(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),S=m(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),O=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT,M.default.MUXED,M.default.IMAGE];function b(v){v=v||{};var ae,pe,he,fe,ve,se,Se,_e,ne,X,F,V,re,U,te,me,Ee,q,p=this.context,y=Object(R.default)(p).getInstance(),g=Object(N.default)(p).getInstance(),A=v.manifestModel,E=v.mediaPlayerModel,L=v.dashMetrics,K=v.manifestUpdater,ee=v.adapter,Z=v.timelineConverter,le=v.capabilities,H=v.errHandler,W=v.abrController,x=v.playbackController,Y=v.eventController,G=v.mediaController,ie=v.protectionController,oe=v.textController,ye=v.videoModel,J=v.streamInfo,de=v.settings;function Ce(ke,Qe){return new Promise(function(ut,Lt){Ze(),X=!0,Je();var Pt=ye.getElement();O.forEach(function(Ke){(Ke!==M.default.VIDEO||!Pt||Pt&&/^VIDEO$/i.test(Pt.nodeName))&&function Oe(ke,Qe){var Ke,ut=ee.getAllMediaInfoForType(J,ke),Lt=[],Pt=null;if(ut&&0!==ut.length){ke===M.default.VIDEO&&(Se=!0),ke===M.default.AUDIO&&(_e=!0);for(var It=0,Vt=ut.length;It<Vt;It++)Pt=ut[It],ke===M.default.TEXT&&Pt.isEmbedded&&(oe.addEmbeddedTrack(J,Pt),Lt.push(Pt)),ze(Pt)&&G.addTrack(Pt);if(Lt.length>0&&(G.setInitialMediaSettingsForType(ke,J),oe.addMediaInfosToBuffer(J,ke,Lt)),0!==(ut=ut.filter(function(In){return!In.isEmbedded})).length){if(ke===M.default.IMAGE)return void(V=Object(P.default)(p).create({streamInfo:J,adapter:ee,baseURLController:v.baseURLController,timelineConverter:v.timelineConverter,debug:me,eventBus:y,events:D.default,dashConstants:T.default,dashMetrics:v.dashMetrics,segmentBaseController:v.segmentBaseController})).initialize();y.trigger(D.default.STREAM_INITIALIZING,{streamInfo:J,mediaInfo:Pt}),G.setInitialMediaSettingsForType(ke,J);var kt=function Le(ke,Qe){var ut=ke&&ke.length>0?ke[0]:null,Lt=F.getModel(ut?ut.type:null),Pt=ut?ut.type:null,Ke=ut?ut.mimeType:null,It=ut?ut.isFragmented:null,Vt=Object(I.default)(p).create({streamInfo:J,type:Pt,mimeType:Ke,timelineConverter:Z,adapter:ee,manifestModel:A,mediaPlayerModel:E,fragmentModel:Lt,dashMetrics:v.dashMetrics,baseURLController:v.baseURLController,segmentBaseController:v.segmentBaseController,abrController:W,playbackController:x,mediaController:G,textController:oe,errHandler:H,settings:de,boxParser:te,segmentBlacklistController:re});Vt.initialize(Qe,Se,It),he.push(Vt);for(var kt=0;kt<ke.length;kt++)Vt.addMediaInfo(ke[kt]);return Pt===M.default.TEXT&&oe.addMediaInfosToBuffer(J,Pt,ke,Lt),Vt}(ut,Qe);(Ke=G.getCurrentTrackFor(ke,J.id))&&(W.updateTopQualityIndex(Ke),kt.selectMediaInfo(ke===M.default.TEXT&&Ke.isEmbedded?ut[0]:Ke))}}else pe.info("No "+ke+" data.")}(Ke,ke)}),function Ye(ke){return new Promise(function(Qe){var ut={},Lt=he.map(function(Pt){return Pt.createBufferSinks(ke)});Promise.all(Lt).then(function(Pt){Pt.forEach(function(Ke){Ke&&(ut[Ke.getType()]=Ke)}),Qe(ut)}).catch(function(){Qe(ut)})})}(Qe).then(function(Ke){if(X=!1,0===he.length){var It="No streams to play.";H.error(new f.default(l.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,It,A.getValue())),pe.fatal(It)}else ct();oe.createTracks(J),ut(Ke)}).catch(function(Ke){Lt(Ke)})})}function ze(ke){var Qe=ke?ke.type:null;return Qe===M.default.MUXED?(pe.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),H.error(new f.default(l.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",A.getValue())),!1):!(Qe!==M.default.TEXT&&Qe!==M.default.IMAGE&&ke.contentProtection&&!le.supportsEncryptedMedia()&&(H.error(new f.default(l.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,l.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function et(ke){for(var Qe=he?he.length:0,Lt=0;Lt<Qe;Lt++){var Pt=he[Lt].getFragmentModel();Pt.abortRequests(),Pt.resetInitialSettings(),he[Lt].reset(false,ke)}oe&&oe.deactivateStream(J),he=[],ve=!1,se=!1,Mt(!1),Yt(!1),y.trigger(D.default.STREAM_DEACTIVATED,{streamInfo:J})}function ht(ke){et(ke),fe=!1,Se=!1,_e=!1,ne={},X=!1,Ee=!1,q=[]}function Yt(ke){Ee=ke}function Zt(){return J?J.start:NaN}function De(){return J?J.id:null}function Te(){return J}function Ze(){if(!ye||!W)throw new Error(M.default.MISSING_CONFIG_ERROR)}function _t(ke){ke.error&&(H.error(ke.error),pe.fatal(ke.error.message))}function Je(){if(Y){var ke=ee.getEventsFor(J);ke&&ke.length>0&&Y.addInlineEvents(ke,J.id)}}function ct(){for(var ke=he.length,ut=ne.audio||ne.video?new f.default(l.default.DATA_UPDATE_FAILED_ERROR_CODE,l.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Lt=0;Lt<ke;Lt++)if(he[Lt].isUpdating()||X)return;if(ie){ie.clearMediaInfoArray();for(var Pt=0;Pt<ke&&he[Pt];Pt++){var Ke=he[Pt].getType(),It=he[Pt].getMediaInfo();if(Ke===M.default.AUDIO||Ke===M.default.VIDEO||Ke===M.default.TEXT&&It.isFragmented){var Vt=he[Pt].getMediaInfo();Vt&&ie.initializeForMedia(Vt)}}ie.handleKeySystemFromManifest()}ut?H.error(ut):fe||(fe=!0,ye.waitForReadyState(M.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){y.trigger(D.default.STREAM_INITIALIZED,{streamInfo:J})}))}function At(){var ke=Gn(),Qe=ke.length;if(0!==Qe){for(var ut=0;ut<Qe;ut++)if(!ke[ut].isBufferingCompleted()&&(ke[ut].getType()===M.default.AUDIO||ke[ut].getType()===M.default.VIDEO))return void pe.debug("onBufferingCompleted - One streamProcessor has finished but",ke[ut].getType(),"one is not buffering completed");pe.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),se=!0,y.trigger(D.default.STREAM_BUFFERING_COMPLETED,{streamInfo:J},{streamInfo:J})}else pe.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Ot(ke){ne[ke.mediaType]=ke.error,ct()}function Nt(ke){Y&&Y.addInbandEvents(ke.events,J.id)}function un(ke){return ke&&ke.type?en(ke.type):null}function en(ke){return ke?Gn().filter(function(ut){return ut.getType()===ke})[0]:null}function Gn(){for(var Qe,ut,ke=[],Lt=0;Lt<he.length;Lt++)((Qe=(ut=he[Lt]).getType())===M.default.AUDIO||Qe===M.default.VIDEO||Qe===M.default.TEXT)&&ke.push(ut);return ke}function Ue(ke,Qe){var ut=Te(),Lt=Qe.getStreamInfo();if(!Lt||!ut)return!0;var Pt=ee.getAdaptationForType(Lt.index,ke,Lt),Ke=ee.getAdaptationForType(ut.index,ke,ut);return Pt&&Ke?!(!qe(Ke)&&qe(Pt)):!Pt&&!Ke}function qe(ke){return!!ke&&!!(ke.ContentProtection||ke.Representation&&ke.Representation.length>0&&ke.Representation[0].ContentProtection)}function at(ke,Qe){var ut=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!ke||!ke.hasOwnProperty("getStreamInfo"))return!1;var Lt=ke.getStreamInfo(),Pt=ut?ut.getStreamInfo():Te();if(!Lt||!Pt)return!1;var Ke=ee.getAdaptationForType(Lt.index,Qe,Lt),It=ee.getAdaptationForType(Pt.index,Qe,Pt);if(!Ke||!It)return!Ke&&!It;var Vt=Ke&&It&&Ke.mimeType===It.mimeType,kt=It.Representation_asArray.map(function(qn){return qn.codecs}),In=Ke.Representation_asArray.map(function(qn){return qn.codecs}),cn=In.some(function(qn){return kt.indexOf(qn)>-1}),Yn=In.some(function(qn){return kt.some(function(xn){return le.codecRootCompatibleWithCodec(xn,qn)})});return cn||Yn&&Vt}function Mt(ke){U=ke}function sn(){return U}return ae={initialize:function j(){(function $(){y.on(D.default.BUFFERING_COMPLETED,At,ae),y.on(D.default.DATA_UPDATE_COMPLETED,Ot,ae),y.on(D.default.INBAND_EVENTS,Nt,ae)})(),function ue(){ie&&(y.on(D.default.KEY_ERROR,_t,ae),y.on(D.default.SERVER_CERTIFICATE_UPDATED,_t,ae),y.on(D.default.LICENSE_REQUEST_COMPLETE,_t,ae),y.on(D.default.KEY_SYSTEM_SELECTED,_t,ae),y.on(D.default.KEY_SESSION_CREATED,_t,ae),y.on(D.default.KEY_STATUSES_CHANGED,_t,ae))}(),oe.initializeForStream(J),y.trigger(D.default.STREAM_UPDATED,{streamInfo:J})},getStreamId:function Re(){return J?J.id:null},activate:function Pe(ke,Qe){return new Promise(function(ut,Lt){if(!ve)return sn()?(ve=!0,y.trigger(D.default.STREAM_ACTIVATED,{streamInfo:J}),void ut(Qe)):void function we(ke,Qe){return Ce(ke,Qe)}(ke,Qe).then(function(Pt){ve=!0,y.trigger(D.default.STREAM_ACTIVATED,{streamInfo:J}),ut(Pt)}).catch(function(Pt){Lt(Pt)});ut(Qe)})},deactivate:et,getIsActive:function rt(){return ve},getDuration:function Ht(){return J?J.duration:NaN},getStartTime:Zt,getId:De,getStreamInfo:Te,getHasAudioTrack:function Ne(){return _e},getHasVideoTrack:function Ge(){return Se},startPreloading:function je(ke,Qe){return new Promise(function(ut,Lt){sn()?Lt():(pe.info("[startPreloading] Preloading next stream with id ".concat(De())),Mt(!0),Ce(ke,Qe).then(function(){for(var Pt=0;Pt<he.length&&he[Pt];Pt++)he[Pt].setExplicitBufferingTime(Zt()),he[Pt].getScheduleController().startScheduleTimer();ut()}).catch(function(){Mt(!1),Lt()}))})},getThumbnailController:function ot(){return V},getBitrateListFor:function lt(ke){if(Ze(),ke===M.default.IMAGE)return V?V.getBitrateList():[];var Qe=function gt(ke){for(var Qe=null,ut=0;ut<he.length;ut++)if((Qe=he[ut]).getType()===ke)return Qe.getMediaInfo();return null}(ke);return W.getBitrateList(Qe)},updateData:function Ae(ke){return new Promise(function(Qe){X=!0,J=ke,Y&&Je();for(var ut=[],Lt=0,Pt=he.length;Lt<Pt;Lt++){var Ke=he[Lt],It=Ke.getMediaInfo();ut.push(Ke.updateStreamInfo(J));var Vt=ee.getAllMediaInfoForType(J,Ke.getType());if(Vt){Ke.clearMediaInfoArray();for(var kt=0;kt<Vt.length;kt++){var In=Vt[kt];Ke.addMediaInfo(Vt[kt]),ee.areMediaInfosEqual(It,In)&&(W.updateTopQualityIndex(In),ut.push(Ke.selectMediaInfo(In)))}}}Promise.all(ut).then(function(){for(ut=[];q.length>0;){var cn=q.pop(),Yn=cn.newMediaInfo,qn=un(cn.oldMediaInfo);if(!qn)return;ut.push(qn.prepareTrackSwitch()),qn.selectMediaInfo(Yn)}return Promise.all(ut)}).then(function(){X=!1,ct(),y.trigger(D.default.STREAM_UPDATED,{streamInfo:J}),Qe()})})},reset:function Dt(ke){F&&(F.reset(),F=null),W&&J&&W.clearDataForStream(J.id),re&&(re.reset(),re=null),ht(ke),J=null,function ce(){y.off(D.default.DATA_UPDATE_COMPLETED,Ot,ae),y.off(D.default.BUFFERING_COMPLETED,At,ae),y.off(D.default.INBAND_EVENTS,Nt,ae)}(),function be(){ie&&(y.off(D.default.KEY_ERROR,_t,ae),y.off(D.default.SERVER_CERTIFICATE_UPDATED,_t,ae),y.off(D.default.LICENSE_REQUEST_COMPLETE,_t,ae),y.off(D.default.KEY_SYSTEM_SELECTED,_t,ae),y.off(D.default.KEY_SESSION_CREATED,_t,ae),y.off(D.default.KEY_STATUSES_CHANGED,_t,ae))}()},getProcessors:Gn,setMediaSource:function it(ke){for(var Qe=0;Qe<he.length;)ze(he[Qe].getMediaInfo())?(he[Qe].setMediaSource(ke),Qe++):(he[Qe].reset(),he.splice(Qe,1));if(0===he.length){var ut="No streams to play.";H.error(new f.default(l.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ut+"nostreams",A.getValue())),pe.fatal(ut)}},isMediaCodecCompatible:function tt(ke){var Qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return at(ke,M.default.VIDEO,Qe)&&at(ke,M.default.AUDIO,Qe)},isProtectionCompatible:function Ct(ke){return!ke||Ue(M.default.VIDEO,ke)&&Ue(M.default.AUDIO,ke)},getPreloaded:sn,getIsEndedEventSignaled:function jt(){return Ee},setIsEndedEventSignaled:Yt,getAdapter:function He(){return ee},getHasFinishedBuffering:function $t(){return se},setPreloaded:Mt,startScheduleControllers:function _r(){for(var ke=he.length,Qe=0;Qe<ke&&he[Qe];Qe++)he[Qe].getScheduleController().startScheduleTimer()},prepareTrackChange:function pt(ke){if(ve&&J){se=!1;var Qe=ke.newMediaInfo,ut=A.getValue();ee.setCurrentMediaInfo(J.id,Qe.type,Qe);var Lt=un(Qe);if(Lt){var Pt=x.getTime();pe.info("Stream -  Process track changed at current time "+Pt),ut.refreshManifestOnSwitchTrack?(q.push(ke),K.getIsUpdating()||(pe.debug("Stream -  Refreshing manifest for switch track"),K.refreshManifest())):Lt.selectMediaInfo(Qe).then(function(){(Qe.type===M.default.VIDEO||Qe.type===M.default.AUDIO)&&W.updateTopQualityIndex(Qe),Lt.prepareTrackSwitch()})}}},prepareQualityChange:function Be(ke){var Qe=en(ke.mediaType);Qe&&Qe.prepareQualityChange(ke)}},function z(){try{me=Object(c.default)(p).getInstance(),pe=me.getLogger(ae),ht(),te=Object(_.default)(p).getInstance(),re=Object(S.default)(p).create({updateEventName:D.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:D.default.SEGMENT_LOCATION_BLACKLIST_ADD}),F=Object(w.default)(p).create({streamInfo:J,mediaPlayerModel:E,dashMetrics:L,errHandler:H,settings:de,boxParser:te,dashConstants:T.default,urlUtils:g})}catch(ke){throw ke}}(),ae}b.__dashjs_factory_name="Stream",k.default=d.default.getClassFactory(b)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=m(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=m(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),P=m(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),R=m(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),D=m(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),c=m(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),l=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=m(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),f=m(
/*! ../core/EventBus */
"./src/core/EventBus.js"),_=m(
/*! ../core/events/Events */
"./src/core/events/Events.js"),N=m(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),S=m(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),O=m(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=m(
/*! ../core/Debug */
"./src/core/Debug.js"),v=m(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),p=m(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),y=m(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),g=m(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),A=m(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),E=m(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function L(K){K=K||{};var Se,_e,ne,X,F,V,re,U,te,me,Ee,q,z,ee=this.context,Z=Object(f.default)(ee).getInstance(),le=K.streamInfo,H=K.type,W=K.errHandler,x=K.mimeType,Y=K.timelineConverter,G=K.adapter,ie=K.manifestModel,oe=K.mediaPlayerModel,ye=K.fragmentModel,J=K.abrController,de=K.playbackController,ae=K.mediaController,pe=K.textController,he=K.dashMetrics,fe=K.settings,ve=K.boxParser,se=K.segmentBlacklistController;function ce(){return le.id}function ue(){return H}function be(){return G.getIsTextTrack(U.getData())}function Re(){F=[],X=null,z=0,te=!1,me=!1}function Oe(Ke){var It=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ke.sender){if(de.getIsManifestUpdateInProgress())return void it();if((!be()||pe.isTextEnabled())&&V&&Ke.representationId&&!V.appendInitSegmentFromCache(Ke.representationId)){var Vt=U.getCurrentRepresentation();if(0===Vt.range)return void ze();var kt=Ee?Ee.getInitRequest(X,Vt):null;kt?ye.executeRequest(kt):It&&(re.setInitSegmentRequired(!0),it())}}}function ze(Ke){var It=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(de.getIsManifestUpdateInProgress()||V.getIsPruningInProgress())it();else{var Vt=rt();Vt?(te=!1,Le(Vt)):Ye(It)}}function Le(Ke){isNaN(Ke.startTime+Ke.duration)||(z=Ke.startTime+Ke.duration),Ke.delayLoadingTime=(new Date).getTime()+re.getTimeToLoadDelay(),re.setTimeToLoadDelay(0),function et(Ke){var It=Ke.url;return Ke.range&&(It=It.concat("_",Ke.range)),se.contains(It)}(Ke)?(_e.warn("Fragment request url ".concat(Ke.url," for stream id ").concat(le.id," and media type ").concat(H," is on the ignore list and will be skipped")),it()):(_e.debug("Next fragment request url for stream id ".concat(le.id," and media type ").concat(H," is ").concat(Ke.url)),ye.executeRequest(Ke))}function Ye(Ke){var Vt,It=U.getCurrentRepresentation();if(!fe.get().streaming.gaps.enableSeekFix||!te&&0!==de.getTime()||(ne?ne&&It.segmentInfoType===T.default.SEGMENT_TIMELINE&&(Vt=Ee.getValidTimeAheadOfTargetTime(z,X,It,fe.get().streaming.gaps.threshold)):Vt=Ee.getValidTimeAheadOfTargetTime(z,X,It,fe.get().streaming.gaps.threshold),isNaN(Vt)||Vt===z)){if(Ee.isLastSegmentRequested(It,z)){var In=Ee.getCurrentIndex();return _e.debug("Segment requesting for stream ".concat(le.id," has finished")),Z.trigger(_.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:In},{streamId:le.id,mediaType:H}),V.segmentRequestingCompleted(In),void re.clearScheduleTimer()}Ke&&it()}else de.isSeeking()||0===de.getTime()?(_e.warn("Adjusting playback time ".concat(Vt," because of gap in the manifest. Seeking by ").concat(Vt-z)),de.seek(Vt,!1,!1)):(_e.warn("Adjusting buffering time ".concat(Vt," because of gap in the manifest. Adjusting time by ").concat(Vt-z)),Lt(Vt),Ke&&it())}function rt(){var It,Ke=tt();if(isNaN(z)||ue()===M.default.TEXT&&!pe.isTextEnabled())return null;var Vt=te;if(Ee){var kt=U&&Ke?U.getRepresentationForQuality(Ke.quality):null;It=Vt?Ee.getSegmentRequestForTime(X,kt,z):Ee.getNextSegmentRequest(X,kt)}return It}function it(){re.startScheduleTimer(de.getLowLatencyModeEnabled()?fe.get().streaming.scheduling.lowLatencyTimeout:fe.get().streaming.scheduling.defaultTimeout)}function ht(Ke){Ke.error||(re.setCurrentRepresentation(G.convertRepresentationToRepresentationInfo(Ke.currentRepresentation)),V.getIsBufferingCompleted()||V.updateBufferTimestampOffset(Ke.currentRepresentation))}function Dt(Ke){he.addBufferState(H,Ke.state,re.getBufferTarget()),Ke.state===I.default.BUFFER_EMPTY&&!de.isSeeking()&&(_e.info("Buffer is empty! Stalling!"),he.pushPlayListTraceMetrics(new Date,g.PlayListTrace.REBUFFERING_REASON))}function Ht(Ke){ye.syncExecutedRequestsWithBufferedRange(V.getBuffer().getAllBufferRanges(),le.duration),Ke.quotaExceeded&&Ke.from>de.getTime()&&Lt(Ke.from),Ke.hasEnoughSpaceToAppend&&Ke.quotaExceeded&&re.startScheduleTimer()}function jt(Ke){if(Ke&&Ke.lastRequestAppended&&Ke.lastRequestAppended.url){var It=Ke.lastRequestAppended.url;Ke.lastRequestAppended.range&&(It=It.concat("_",Ke.lastRequestAppended.range)),_e.warn("Blacklisting segment with url ".concat(It)),se.add(It)}}function Te(){ke(),me=!1}function Ne(Ke){_e.info("onFragmentLoadingAbandoned request: "+Ke.request.url+" has been aborted"),!de.isSeeking()&&!re.getSwitchStrack()&&!me&&(_e.info("onFragmentLoadingAbandoned request: "+Ke.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ke.request&&Ke.request.isInitializationRequest()?re.setInitSegmentRequired(!0):Lt(Ke.request.startTime+Ke.request.duration/2),re.startScheduleTimer(0))}function Ge(Ke){_e.info("OnFragmentLoadingCompleted for stream id "+le.id+" and media type "+H+" - Url:",Ke.request?Ke.request.url:"undefined",Ke.request.range?", Range:"+Ke.request.range:""),be()&&re.startScheduleTimer(0),Ke.error&&Ke.request.serviceLocation&&function ot(Ke){_e.info("Fragment loading completed with an error"),Ke&&Ke.request&&Ke.request.type&&(Ke.request.type===E.HTTPRequest.INIT_SEGMENT_TYPE?Oe({representationId:Ke.request.representationId,sender:{}},!1):Ke.request.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Lt(Ke.request.startTime+Ke.request.duration/2),ze({},!1)))}(Ke)}function Ze(){Lt(de.getTime()),Ae().startScheduleTimer()}function lt(Ke){var It=Ke.currentTrackInfo;if(It){var Vt=F.find(function(kt){return kt.index===It.index&&kt.lang===It.lang});Vt&&Ot(Vt).then(function(){V.setIsBufferingCompleted(!1),Lt(de.getTime()),re.setInitSegmentRequired(!0),re.startScheduleTimer()})}}function _t(Ke){Lt(Ke.quotaExceededTime),re.clearScheduleTimer()}function Be(){return V?V.getBuffer():null}function Ot(Ke){Ke!==X&&(!Ke||!X||Ke.type===X.type)&&(X=Ke);var It=G.getRealAdaptation(le,X),Vt=G.getVoRepresentations(X);if(U){var Yn,kt=U.getData(),In=J.getMaxAllowedIndexFor(H,le.id),cn=J.getMinAllowedIndexFor(H,le.id),xn=null;return null!==kt&&kt.id===It.id||H===M.default.TEXT?Yn=J.getQualityFor(H,le.id):(xn=J.getThroughputHistory().getAverageThroughput(H,ne)||J.getInitialBitrateFor(H,le.id),Yn=J.getQualityForBitrate(X,xn,le.id)),void 0!==cn&&Yn<cn&&(Yn=cn),Yn>In&&(Yn=In),U.updateData(It,Vt,H,X.isFragmented,Yn)}return Promise.resolve()}function Ae(){return re}function tt(Ke){var It;return void 0!==Ke?(Object(d.checkInteger)(Ke),It=U?U.getRepresentationForQuality(Ke):null):It=U?U.getCurrentRepresentation():null,G.convertRepresentationToRepresentationInfo(It)}function Ct(){return!!V&&V.getIsBufferingCompleted()}function at(Ke){var It=Ke.chunk,Vt=It.bytes,kt=It.quality,In=tt(kt),cn=U&&In?U.getRepresentationForQuality(In.quality):null;if(In&&cn){var Yn=G.getEventsFor(In.mediaInfo,null,le),qn=G.getEventsFor(In,cn,le);if(Yn&&Yn.length>0||qn&&qn.length>0){var on=function Mt(Ke,It,Vt,kt){try{for(var In={},cn=[],Yn=Vt.concat(kt),qn=0,xn=Yn.length;qn<xn;qn++)In[Yn[qn].schemeIdUri+"/"+Yn[qn].value]=Yn[qn];var on=Object(y.default)(ee).getInstance().parse(Ke),fi=on.getBoxes("emsg");if(!fi||0===fi.length)return cn;for(var Ai=on.getBox("sidx"),na=!Ai||isNaN(Ai.earliest_presentation_time)||isNaN(Ai.timescale)?It&&!isNaN(It.mediaStartTime)?It.mediaStartTime:0:Ai.earliest_presentation_time/Ai.timescale,_o=Math.max(na,0),yt=U.getCurrentRepresentation(),ki=0,mn=fi.length;ki<mn;ki++){var Fn=G.getEvent(fi[ki],In,_o,yt);Fn&&cn.push(Fn)}return cn}catch{return[]}}(Vt,ye.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,quality:kt,index:It.index})[0],Yn,qn);Z.trigger(_.default.INBAND_EVENTS,{events:on},{streamId:le.id})}}}function He(){var Ke=de.getTime();fe.get().streaming.buffer.flushBufferAtTrackSwitch&&de.seek(Ke+.001,!1,!0),Lt(Ke),V.setSeekTarget(Ke),re.startScheduleTimer()}function ke(){var Ke=de.getTime(),It=V.getContinuousBufferTimeForTargetTime(Ke);Lt(isNaN(It)?Ke:It),re.startScheduleTimer()}function ut(Ke){Ke&&!isNaN(Ke.time)&&(Lt(Ke.time),V.setSeekTarget(Ke.time))}function Lt(Ke){z=Ke,te=!0}return Se={initialize:function $(Ke,It,Vt){q=Object(A.default)(ee).create({events:_.default,eventBus:Z,streamInfo:le,timelineConverter:Y,dashConstants:T.default,segmentBaseController:K.segmentBaseController,type:H}),(Ee=Object(N.default)(ee).create({streamInfo:le,type:H,timelineConverter:Y,dashMetrics:he,mediaPlayerModel:oe,baseURLController:K.baseURLController,errHandler:W,segmentsController:q,settings:fe,boxParser:ve,events:_.default,eventBus:Z,errors:S.default,debug:Object(b.default)(ee).getInstance(),requestModifier:Object(v.default)(ee).getInstance(),dashConstants:T.default,constants:M.default,urlUtils:Object(p.default)(ee).getInstance()})).initialize(ne=le.manifestInfo.isDynamic),J.registerStreamType(H,Se),U=Object(c.default)(ee).create({streamInfo:le,type:H,abrController:J,dashMetrics:he,playbackController:de,timelineConverter:Y,dashConstants:T.default,events:_.default,eventBus:Z,errors:S.default,isDynamic:ne,segmentsController:q}),(V=function Qe(Ke,It){return Ke?Ke!==M.default.TEXT||It?Object(P.default)(ee).create({streamInfo:le,type:Ke,mediaPlayerModel:oe,manifestModel:ie,fragmentModel:ye,errHandler:W,mediaController:ae,representationController:U,adapter:G,textController:pe,abrController:J,playbackController:de,settings:fe}):Object(R.default)(ee).create({streamInfo:le,type:Ke,mimeType:x,fragmentModel:ye,textController:pe,errHandler:W,settings:fe}):(W.error(new O.default(S.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,S.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(H,Vt))&&V.initialize(Ke),(re=Object(D.default)(ee).create({streamInfo:le,type:H,mimeType:x,adapter:G,dashMetrics:he,mediaPlayerModel:oe,fragmentModel:ye,abrController:J,playbackController:de,textController:pe,mediaController:ae,bufferController:V,settings:fe})).initialize(It),z=0,te=!1},getStreamId:ce,getType:ue,isUpdating:function we(){return!!U&&U.isUpdating()},getBufferController:function Je(){return V},getFragmentModel:function ct(){return ye},getScheduleController:Ae,getRepresentationController:function pt(){return U},getRepresentationInfo:tt,getBufferLevel:function Ue(){return V?V.getBufferLevel():0},isBufferingCompleted:Ct,createBufferSinks:function sn(Ke){var It=Be();return It?Promise.resolve(It):V?V.createBufferSink(X,Ke):Promise.resolve(null)},updateStreamInfo:function gt(Ke){return le=Ke,Ct()?Promise.resolve():V.updateAppendWindow()},getStreamInfo:function At(){return le},selectMediaInfo:Ot,clearMediaInfoArray:function un(){F=[]},addMediaInfo:function Nt(Ke){-1===F.indexOf(Ke)&&F.push(Ke)},prepareTrackSwitch:function $t(){return new Promise(function(Ke){_e.debug("Preparing track switch for type ".concat(H));var It=H===M.default.TEXT||fe.get().streaming.trackSwitchMode[H]===M.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&de.getTimeToStreamEnd(le)>fe.get().streaming.buffer.stallThreshold;if(V.getIsBufferingCompleted()&&!It)return V.prepareForNonReplacementTrackSwitch(X.codec).then(function(){Z.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:le.id,mediaType:H})}).catch(function(){Z.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:le.id,mediaType:H})}),void Ke();re.clearScheduleTimer(),re.setSwitchTrack(!0),It?(Z.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:H,streamId:le.id},{mediaType:H,streamId:le.id}),ye.abortRequests(),V.prepareForReplacementTrackSwitch(X.codec).then(function(){var Vt=tt();return V.updateBufferTimestampOffset(Vt)}).then(function(){He(),Ke()}).catch(function(){He(),Ke()})):V.prepareForNonReplacementTrackSwitch(X.codec).then(function(){ke(),Ke()}).catch(function(){ke(),Ke()})})},prepareQualityChange:function Yt(Ke){_e.debug("Preparing quality switch for type ".concat(H));var It=Ke.newQuality;me=!0,re.clearScheduleTimer();var Vt=tt(It);re.setCurrentRepresentation(Vt),U.prepareQualityChange(It),ye.abortRequests(),V.updateBufferTimestampOffset(Vt).then(function(){Ke.reason&&Ke.reason.forceReplace?function Zt(){Z.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:H,streamId:le.id},{mediaType:H,streamId:le.id}),V.prepareForReplacementQualitySwitch().then(function(){He(),me=!1}).catch(function(){He(),me=!1})}():fe.get().streaming.buffer.fastSwitchEnabled?function De(Ke){var It=de.getTime(),Vt=1.5*(isNaN(Ke.fragmentDuration)?1:Ke.fragmentDuration),kt=ye.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:It+Vt,threshold:0})[0];if(kt&&!be()){var In=V.getBufferLevel(),cn=J.getAbandonmentStateFor(le.id,H);kt.quality<Ke.quality&&In>=Vt&&cn!==I.default.ABANDON_LOAD?(Lt(It+Vt),re.setCheckPlaybackQuality(!1),re.startScheduleTimer()):Te()}else re.startScheduleTimer();me=!1}(Vt):Te(),he.pushPlayListTraceMetrics(new Date,g.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),he.createPlaylistTraceMetrics(Vt.id,1e3*de.getTime(),de.getPlaybackRate())})},getMediaInfo:function en(){return X},getMediaSource:function Gn(){return V.getMediaSource()},setMediaSource:function _r(Ke){V.setMediaSource(Ke)},getBuffer:Be,setExplicitBufferingTime:Lt,finalisePlayList:function Pt(Ke,It){he.pushPlayListTraceMetrics(Ke,It)},probeNextRequest:function qe(){var Ke=tt(),It=U&&Ke?U.getRepresentationForQuality(Ke.quality):null;return Ee.getNextSegmentRequestIdempotent(X,It)},prepareInnerPeriodPlaybackSeeking:function je(Ke){return new Promise(function(It){if(V.hasBufferAtTime(Ke.seekTime))return V.pruneBuffer(),void It();re.clearScheduleTimer(),ye.abortRequests(),V.prepareForPlaybackSeek().then(function(){var kt=V.getAllRangesWithSafetyFactor(Ke.seekTime);return V.clearBuffers(kt)}).then(function(){var kt=V.getContinuousBufferTimeForTargetTime(Ke.seekTime);if(!isNaN(kt)&&!isNaN(le.duration)&&isFinite(le.duration)&&kt>=le.start+le.duration)V.setIsBufferingCompleted(!0),It();else{var In=isNaN(kt)?Ke.seekTime:kt;Lt(In),V.setSeekTarget(In);var cn=[];cn.push(V.updateAppendWindow());var Yn=tt();cn.push(V.updateBufferTimestampOffset(Yn)),Promise.all(cn).then(function(){re.setInitSegmentRequired(!0),re.setCheckPlaybackQuality(!1),re.startScheduleTimer(),It()})}}).catch(function(kt){_e.error(kt)})})},prepareOuterPeriodPlaybackSeeking:function Ce(){return new Promise(function(Ke,It){try{re.clearScheduleTimer(),ye.abortRequests(),V.prepareForPlaybackSeek().then(function(){return V.pruneAllSafely()}).then(function(){Ke()})}catch(Vt){It(Vt)}})},reset:function Pe(Ke,It){Ee&&Ee.reset(),V&&(V.reset(Ke,It),V=null),re&&(re.reset(),re=null),U&&(U.reset(),U=null),q&&(q=null),J&&J.unRegisterStreamType(ce(),H),Z.off(_.default.DATA_UPDATE_COMPLETED,ht,Se),Z.off(_.default.INIT_FRAGMENT_NEEDED,Oe,Se),Z.off(_.default.MEDIA_FRAGMENT_NEEDED,ze,Se),Z.off(_.default.MEDIA_FRAGMENT_LOADED,at,Se),Z.off(_.default.BUFFER_LEVEL_STATE_CHANGED,Dt,Se),Z.off(_.default.BUFFER_CLEARED,Ht,Se),Z.off(_.default.SEEK_TARGET,ut,Se),Z.off(_.default.FRAGMENT_LOADING_ABANDONED,Ne,Se),Z.off(_.default.FRAGMENT_LOADING_COMPLETED,Ge,Se),Z.off(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ze,Se),Z.off(_.default.SET_NON_FRAGMENTED_TEXT,lt,Se),Z.off(_.default.QUOTA_EXCEEDED,_t,Se),Z.off(_.default.SOURCE_BUFFER_ERROR,jt,Se),Re(),H=null,le=null}},function j(){_e=Object(b.default)(ee).getInstance().getLogger(Se),Re(),Z.on(_.default.DATA_UPDATE_COMPLETED,ht,Se,{priority:f.default.EVENT_PRIORITY_HIGH}),Z.on(_.default.INIT_FRAGMENT_NEEDED,Oe,Se),Z.on(_.default.MEDIA_FRAGMENT_NEEDED,ze,Se),Z.on(_.default.MEDIA_FRAGMENT_LOADED,at,Se),Z.on(_.default.BUFFER_LEVEL_STATE_CHANGED,Dt,Se),Z.on(_.default.BUFFER_CLEARED,Ht,Se),Z.on(_.default.SEEK_TARGET,ut,Se),Z.on(_.default.FRAGMENT_LOADING_ABANDONED,Ne,Se),Z.on(_.default.FRAGMENT_LOADING_COMPLETED,Ge,Se),Z.on(_.default.QUOTA_EXCEEDED,_t,Se),Z.on(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ze,Se),Z.on(_.default.SET_NON_FRAGMENTED_TEXT,lt,Se),Z.on(_.default.SOURCE_BUFFER_ERROR,jt,Se)}(),Se}L.__dashjs_factory_name="StreamProcessor",k.default=l.default.getClassFactory(L)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),T=m(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),I=m(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=m(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),P=m(
/*! ../core/EventBus */
"./src/core/EventBus.js"),R=m(
/*! ../core/events/Events */
"./src/core/events/Events.js"),D=m(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),c=m(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function l(d){d=d||{};var _=this.context,N=Object(P.default)(_).getInstance(),S=Object(T.default)(_).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,requestModifier:d.requestModifier,errors:c.default});return{load:function b(p,y,g){var A=function(K,ee){y.resolved=!0,y.resolvedContent=K||null,N.trigger(R.default.XLINK_ELEMENT_LOADED,{element:y,resolveObject:g,error:K||ee?null:new M.default(c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+p)})};if("urn:mpeg:dash:resolve-to-zero:2013"===p)A(null,!0);else{var E=new w.default(p,I.HTTPRequest.XLINK_EXPANSION_TYPE);S.load({request:E,success:function(K){A(K)},error:function(){A(null)}})}},reset:function v(){S&&(S.abort(),S=null)}}}l.__dashjs_factory_name="XlinkLoader",k.default=D.default.getClassFactory(l)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k),k.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(k);var c=new(function(){function l(){(function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),l}());k.default=c},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(k);var c=new(function(){function l(){(function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),l}());k.default=c},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(k);var c=new(function(){function l(){(function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),l}());k.default=c},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),T=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),I=m(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),w=m(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),P=m(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),R=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),c=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),l=m(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),d=m(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),f=m(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),_=m(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),N=m(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),S=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),O=m(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),b=m(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),v=m(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function A(){var Z,le,H,W,x,Y,G,ie,oe,ye,J,de,ae,pe,he,fe,ve,se,Se,_e,ne,X,F,V,re,U,L=this.context,K=Object(S.default)(L).getInstance(),ee=Object(R.default)(L).getInstance();function j(){x={},Y={},ie={},G={},Se={},X={},F={},V={},void 0===ye&&(ye=!1),_e&&_e.reset(),se=void 0,_e=void 0,ne=void 0,clearTimeout(oe),oe=null}function be(Be){var Je=Be.request.mediaType,ct=Be.streamId;if(Je&&ct&&G[ct]&&U.get().streaming.abr.autoSwitchBitrate[Je]){var gt=G[ct][Je];if(gt){var At=Object(l.default)(L).create({abrController:Z,streamProcessor:gt,currentRequest:Be.request,useBufferOccupancyABR:X[Je],useL2AABR:F[Je],useLoLPABR:V[Je],videoModel:pe}),Ot=H.shouldAbandonFragment(At,ct);Ot.quality>d.default.NO_CHANGE&&gt.getFragmentModel().getRequests({state:P.default.FRAGMENT_MODEL_LOADING,index:Be.request.index})[0]&&(ie[ct][Je].state=I.default.ABANDON_LOAD,Se[ct][Je].reset(),Se[ct][Je].push({oldValue:ht(Je,ct),newValue:Ot.quality,confidence:1,reason:Ot.reason}),Dt(Je,W.getActiveStreamInfo(),Ot.quality,Ot.reason),clearTimeout(oe),oe=setTimeout(function(){ie[ct][Je].state=I.default.ALLOW_LOAD,oe=null},U.get().streaming.abandonLoadTimeout))}}}function Re(Be){Be.mediaType===T.default.VIDEO&&(void 0!==se&&_e.push(Be.streamId,se,pe.getPlaybackQuality()),se=Be.newQuality)}function Pe(Be){Be.metric===I.default.HTTP_REQUEST&&Be.value&&Be.value.type===O.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Be.mediaType===T.default.AUDIO||Be.mediaType===T.default.VIDEO)&&ne.push(Be.mediaType,Be.value,U.get().streaming.abr.useDeadTimeLatency),Be.metric===I.default.BUFFER_LEVEL&&(Be.mediaType===T.default.AUDIO||Be.mediaType===T.default.VIDEO)&&function Te(Be,Je){U.get().streaming.abr.ABRStrategy===T.default.ABR_STRATEGY_DYNAMIC&&function Ne(Be,Je){try{var ct=he.getStableBufferTime(),Ot=X[Be],Nt=Je>(Ot?.5*ct:ct);X[Be]=Nt,Nt!==Ot&&le.info(Nt?"["+Be+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Je.toFixed(3)+").":"["+Be+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Je.toFixed(3)+").")}catch(un){le.error(un)}}(Be,Je)}(Be.mediaType,.001*Be.value.level)}function we(Be,Je){try{return x[Je]=x[Je]||{},x[Je].hasOwnProperty(Be)||(x[Je][Be]=0),function Ye(Be,Je,ct){if(Je!==T.default.VIDEO||!U.get().streaming.abr.limitBitrateByPortal||!G[ct]||!G[ct][Je])return Be;ye||_t();var gt=G[ct][Je].getStreamInfo(),At=ae.getAdaptationForType(gt.index,Je,gt).Representation_asArray,Ot=Be;if(J>0&&de>0){for(;Ot>0&&At[Ot]&&J<At[Ot].width&&J-At[Ot-1].width<At[Ot].width-J;)Ot-=1;for(;Ot<At.length-1&&At[Ot].width===At[Ot+1].width;)Ot+=1}return Ot}(function Le(Be,Je,ct){var gt=x[ct][Je],At=U.get().streaming.abr.maxRepresentationRatio[Je];return isNaN(At)||At>=1||At<0?Be:Math.min(Be,Math.round(gt*At))}(function ze(Be,Je){var ct=x[Je][Be],gt=ct;if(!G[Je]||!G[Je][Be])return gt;var At=je(Be,Je);void 0!==At&&(gt=Math.max(ct,At));var Ot=function Ce(Be,Je){try{var ct=he.getAbrBitrateParameter("maxBitrate",Be);return ct>-1?Zt(G[Je][Be].getMediaInfo(),ct,Je):void 0}catch{return}}(Be,Je);return void 0!==Ot&&(gt=Math.min(gt,Ot)),gt}(Be,Je),Be,Je),Be,Je)}catch{return}}function je(Be,Je){try{return function Oe(Be,Je){try{var ct=he.getAbrBitrateParameter("minBitrate",Be);if(ct>-1){var gt=G[Je][Be].getMediaInfo(),At=De(gt),Ot=Zt(gt,ct,Je);return At[Ot]&&Ot<At.length-1&&At[Ot].bitrate<1e3*ct&&Ot++,Ot}return}catch{return}}(Be,Je)}catch{return}}function ht(Be){var Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Je||(Je=W.getActiveStreamInfo().id),Be&&G[Je]&&G[Je][Be]&&Je?(Y[Je]=Y[Je]||{},Y[Je].hasOwnProperty(Be)||(Y[Je][Be]=0),Y[Je][Be]):0}catch{return 0}}function Dt(Be,Je,ct){var gt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Je&&Je.id&&Be){var At=Je.id,Ot=ht(Be,At);Object(b.checkInteger)(ct);var Nt=we(Be,At);ct!==Ot&&ct>=0&&ct<=Nt&&jt(Be,Ot,ct,Nt,gt,At)}}function jt(Be,Je,ct,gt,At,Ot){if(Be&&G[Ot]&&G[Ot][Be]){var Nt=G[Ot][Be].getStreamInfo(),un=Nt&&Nt.manifestInfo&&Nt.manifestInfo.isDynamic,en=re.getCurrentBufferLevel(Be);le.info("Stream ID: "+Ot+" ["+Be+"] switch from "+Je+" to "+ct+"/"+gt+" (buffer: "+en+") "+(At?JSON.stringify(At):".")),Y[Ot]=Y[Ot]||{},Y[Ot][Be]=ct;var Gn=function Yt(Be,Je,ct){if(Je&&G&&G[Be]&&G[Be][Je]){var gt=De(G[Be][Je].getMediaInfo());return gt[ct]?gt[ct]:null}return null}(Ot,Be,ct);ee.trigger(D.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Je,newQuality:ct,reason:At,streamInfo:Nt,bitrateInfo:Gn,maxIdx:gt,mediaType:Be},{streamId:Nt.id,mediaType:Be});var _r=ne.getAverageThroughput(Be,un);isNaN(_r)||ve.setSavedBitrateSettings(Be,_r)}}function Zt(Be,Je,ct){var gt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,At=Be&&Be.type?G[ct][Be.type].getRepresentationInfo():null;if(U.get().streaming.abr.useDeadTimeLatency&&gt&&At&&At.fragmentDuration){var Ot=At.fragmentDuration;if((gt/=1e3)>Ot)return 0;Je*=1-gt/Ot}for(var un=De(Be),en=un.length-1;en>=0;en--)if(1e3*Je>=un[en].bitrate)return en;return 0}function De(Be){var Je=[];if(!Be||!Be.bitrateList)return Je;for(var At,ct=Be.bitrateList,gt=Be.type,Ot=0,Nt=ct.length;Ot<Nt;Ot++)(At=new w.default).mediaType=gt,At.qualityIndex=Ot,At.bitrate=ct[Ot].bandwidth,At.width=ct[Ot].width,At.height=ct[Ot].height,At.scanType=ct[Ot].scanType,Je.push(At);return Je}function _t(){if(pe){var Je=U.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;J=pe.getClientWidth()*Je,de=pe.getClientHeight()*Je}}return Z={initialize:function me(){_e=Object(_.default)(L).create(),ne=Object(N.default)(L).create({settings:U}),(H=Object(M.default)(L).create({dashMetrics:re,customParametersModel:fe,mediaPlayerModel:he,settings:U})).initialize(),ee.on(v.default.QUALITY_CHANGE_RENDERED,Re,Z),ee.on(v.default.METRIC_ADDED,Pe,Z),ee.on(D.default.LOADING_PROGRESS,be,Z)},isPlayingAtTopQuality:function Ze(Be){var Je=Be?Be.id:null,ct=ht(T.default.AUDIO,Je),gt=ht(T.default.VIDEO,Je);return ct===we(T.default.AUDIO,Je)&&gt===we(T.default.VIDEO,Je)},updateTopQualityIndex:function ot(Be){var Je=Be.type,ct=Be.streamInfo.id,gt=Be.representationCount-1;return x[ct]=x[ct]||{},x[ct][Je]=gt,gt},clearDataForStream:function pt(Be){_e&&_e.clearForStream(Be),G[Be]&&delete G[Be],Se[Be]&&delete Se[Be],ie[Be]&&delete ie[Be]},getThroughputHistory:function Ge(){return ne},getBitrateList:De,getQualityForBitrate:Zt,getTopBitrateInfoFor:function et(Be){var Je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Je||(Je=W.getActiveStreamInfo().id),Be&&G&&G[Je]&&G[Je][Be]){var ct=we(Be,Je),gt=De(G[Je][Be].getMediaInfo());return gt[ct]?gt[ct]:null}return null},getMinAllowedIndexFor:je,getMaxAllowedIndexFor:we,getInitialBitrateFor:function rt(Be,Je){if(function ue(){if(!ve||!ve.hasOwnProperty("getSavedBitrateSettings"))throw new Error(T.default.MISSING_CONFIG_ERROR)}(),Be===T.default.TEXT)return NaN;var ct=ve.getSavedBitrateSettings(Be),gt=he.getAbrBitrateParameter("initialBitrate",Be),At=U.get().streaming.abr.initialRepresentationRatio[Be];if(-1===gt)if(At>-1){var Ot=G[Je][Be].getStreamInfo(),Nt=ae.getAdaptationForType(Ot.index,Be,Ot).Representation_asArray;gt=Array.isArray(Nt)?Nt[Math.max(Math.round(Nt.length*At)-1,0)].bandwidth/1e3:0}else gt=isNaN(ct)?Be===T.default.VIDEO?1e3:100:ct;return gt},getQualityFor:ht,getAbandonmentStateFor:function Ht(Be,Je){return ie[Be]&&ie[Be][Je]?ie[Be][Je].state:null},setPlaybackQuality:Dt,checkPlaybackQuality:function it(Be,Je){try{if(!(Be&&G&&G[Je]&&G[Je][Be]))return!1;if(_e){var ct=pe.getPlaybackQuality();ct&&_e.push(Je,se,ct)}if(!U.get().streaming.abr.autoSwitchBitrate[Be])return!1;var gt=ht(Be,Je),At=Object(l.default)(L).create({abrController:Z,switchHistory:Se[Je][Be],droppedFramesHistory:_e,streamProcessor:G[Je][Be],currentValue:gt,useBufferOccupancyABR:X[Be],useL2AABR:F[Be],useLoLPABR:V[Be],videoModel:pe}),Ot=je(Be,Je),Nt=we(Be,Je),un=H.getMaxQuality(At),en=un.quality;return void 0!==Ot&&(en>d.default.NO_CHANGE?en:gt)<Ot&&(en=Ot),en>Nt&&(en=Nt),Se[Je][Be].push({oldValue:gt,newValue:en}),en>d.default.NO_CHANGE&&en!==gt&&(ie[Je][Be].state===I.default.ALLOW_LOAD||en<gt)&&(jt(Be,gt,en,Nt,un.reason,Je),!0)}catch{return!1}},setElementSize:_t,setWindowResizeEventCalled:function lt(Be){ye=Be},registerStreamType:function Ee(Be,Je){var ct=Je.getStreamInfo().id;G[ct]||(G[ct]={}),Se[ct]||(Se[ct]={}),ie[ct]||(ie[ct]={}),Se[ct][Be]=Object(f.default)(L).create(),G[ct][Be]=Je,ie[ct][Be]={},ie[ct][Be].state=I.default.ALLOW_LOAD,function q(Be){var Je=U.get().streaming.abr.ABRStrategy;Je===T.default.ABR_STRATEGY_L2A?(X[Be]=!1,V[Be]=!1,F[Be]=!0):Je===T.default.ABR_STRATEGY_LoLP?(X[Be]=!1,V[Be]=!0,F[Be]=!1):Je===T.default.ABR_STRATEGY_BOLA?(X[Be]=!0,V[Be]=!1,F[Be]=!1):Je===T.default.ABR_STRATEGY_THROUGHPUT?(X[Be]=!1,V[Be]=!1,F[Be]=!1):Je===T.default.ABR_STRATEGY_DYNAMIC&&(X[Be]=!(!X||!X[Be])&&X[Be],V[Be]=!1,F[Be]=!1)}(Be),Be===T.default.VIDEO&&_t()},unRegisterStreamType:function z(Be,Je){try{G[Be]&&G[Be][Je]&&delete G[Be][Je],Se[Be]&&Se[Be][Je]&&delete Se[Be][Je],ie[Be]&&ie[Be][Je]&&delete ie[Be][Je]}catch{}},setConfig:function ce(Be){Be&&(Be.streamController&&(W=Be.streamController),Be.domStorage&&(ve=Be.domStorage),Be.mediaPlayerModel&&(he=Be.mediaPlayerModel),Be.customParametersModel&&(fe=Be.customParametersModel),Be.dashMetrics&&(re=Be.dashMetrics),Be.adapter&&(ae=Be.adapter),Be.videoModel&&(pe=Be.videoModel),Be.settings&&(U=Be.settings))},reset:function $(){j(),ee.off(D.default.LOADING_PROGRESS,be,Z),ee.off(v.default.QUALITY_CHANGE_RENDERED,Re,Z),ee.off(v.default.METRIC_ADDED,Pe,Z),H&&H.reset()}},function te(){le=K.getLogger(Z),j()}(),Z}A.__dashjs_factory_name="AbrController";var E=c.default.getSingletonFactory(A);E.QUALITY_DEFAULT=0,c.default.updateSingletonFactory(A.__dashjs_factory_name,E),k.default=E},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),T=m(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),I=m(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),w=m(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),P=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function c(){var l,d,S,O,f=this.context,_=Object(R.default)(f).getInstance(),N=Object(I.default)(f).getInstance();function b(L){S.invalidateSelectedIndexes(L.entry)}return l={reset:function A(){S.reset(),O.reset()},initialize:function E(L){S.setConfig({adapter:d}),function y(L){S.update(L),O.chooseSelector(d.getIsDVB(L))}(L)},resolve:function g(L){var ee=S.getForPath(L).reduce(function(Z,le){var H=O.select(le);return H?(N.isRelative(H.url)?Z.url=N.resolve(H.url,Z.url):(Z.url=H.url,Z.serviceLocation=H.serviceLocation),Z.availabilityTimeOffset=H.availabilityTimeOffset,Z.availabilityTimeComplete=H.availabilityTimeComplete,Z):new w.default},new w.default);if(!N.isRelative(ee.url))return ee},setConfig:function p(L){L.baseURLTreeModel&&(S=L.baseURLTreeModel),L.baseURLSelector&&(O=L.baseURLSelector),L.adapter&&(d=L.adapter)}},function v(){S=Object(M.default)(f).create(),O=Object(T.default)(f).create(),_.on(D.default.SERVICE_LOCATION_BLACKLIST_CHANGED,b,l)}(),l}c.__dashjs_factory_name="BaseURLController",k.default=P.default.getClassFactory(c)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function I(w){w=w||{};var P,R=[],D=Object(T.default)(this.context).getInstance(),c=w.updateEventName,l=w.addBlacklistEventName;function f(O){-1===R.indexOf(O)&&(R.push(O),D.trigger(c,{entry:O}))}function _(O){f(O.entry)}return P={add:f,contains:function d(O){return!!(R.length&&O&&O.length)&&-1!==R.indexOf(O)},reset:function S(){R=[]}},function N(){l&&D.on(l,_,P)}(),P}I.__dashjs_factory_name="BlackListController",k.default=M.default.getClassFactory(I)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=m(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),w=m(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),P=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),c=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),l=m(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),d=m(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),f=m(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),_=m(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),N=m(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),O=.01,v="BufferController";function p(y){y=y||{};var G,ie,oe,ye,J,de,ae,pe,he,fe,ve,se,Se,_e,ne,X,F,V,g=this.context,A=Object(P.default)(g).getInstance(),E=y.errHandler,L=y.fragmentModel,K=y.representationController,ee=y.adapter,Z=y.textController,le=y.abrController,H=y.playbackController,W=y.streamInfo,x=y.type,Y=y.settings;function q(He){de=He}function z(He){return ee.convertRepresentationToRepresentationInfo(K.getRepresentationForQuality(He))}function $(He,ke,Qe){var ut=z(Qe);return ke&&ke[x]&&(x===M.default.VIDEO||x===M.default.AUDIO)?he.initializeForStreamSwitch(He,ut,ke[x]):he.initializeForFirstUse(W,He,ut)}function ce(He){Y.get().streaming.cacheInitSegments&&(ie.info("Init fragment finished loading saving to",x+"'s init cache"),ne.save(He.chunk)),ie.debug("Append Init fragment",x," with representationId:",He.chunk.representationId," and quality:",He.chunk.quality,", data size:",He.chunk.bytes.byteLength),Re(He.chunk)}function be(He){Re(He.chunk,He.request)}function Re(He){he.append(He,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Qe){we(Qe)}).catch(function(Qe){we(Qe)}),He.mediaInfo.type===M.default.VIDEO&&Mt(R.default.VIDEO_CHUNK_RECEIVED,{chunk:He})}function Pe(He){if(He&&He.length>0)for(var ke=0,Qe=He.length;ke<Qe;ke++)ie.debug("Buffered range: "+He.start(ke)+" - "+He.end(ke)+", currentTime = ",H.getTime())}function we(He){if(He.error)return 22===He.error.code&&function Ce(){if(_e=!0,J=.8*Ct(),ie.warn("Quota exceeded, Critical Buffer: "+J),J>0){var He=Math.max(.2*J,1),ke=J-He,Qe=Math.min(Y.get().streaming.buffer.bufferTimeAtTopQuality,.9*ke),ut=Math.min(Y.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*ke),Lt={streaming:{buffer:{bufferToKeep:parseFloat(He.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Qe.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(ut.toFixed(5))}}};Y.update(Lt)}}(),void((22===He.error.code||!qe())&&(ie.warn("Clearing playback buffer to overcome quota exceed situation"),Mt(R.default.QUOTA_EXCEEDED,{criticalBufferLevel:J,quotaExceededTime:He.chunk.start}),_t(lt())));if(he&&(Te(),_e=!1,(ve=He.chunk)&&ve.endFragment)){ve&&!isNaN(ve.index)&&(ae=Math.max(ve.index,ae),Ne());var ke=he.getAllBufferRanges();ve.segmentType===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Pe(ke),Dt(),function je(){if(!isNaN(V)){if(x!==M.default.AUDIO&&x!==M.default.VIDEO)return void(V=NaN);var He=H.getTime(),ke=Zt(He,0),Qe=Zt(V,0);if(ke&&Qe&&ke.start===Qe.start)return void(V=NaN);var ut=K.getCurrentRepresentation().segmentDuration,Lt=Zt(V,ut);Lt&&(Y.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(He-V)>ut?V<=Lt.end&&H.seek(Math.max(V,Lt.start),!1,!0):He<Lt.start&&H.seek(Lt.start,!1,!0))}}()),ve&&Mt(R.default.BYTES_APPENDED_END_FRAGMENT,{quality:ve.quality,startTime:ve.start,index:ve.index,bufferedRanges:ke,segmentType:ve.segmentType,mediaType:x})}}function et(){return new Promise(function(He,ke){var Qe=rt();if(!Qe||0===Qe.length)return Dt(),void He();_t(Qe).then(function(){He()}).catch(function(ut){ke(ut)})})}function rt(He){var ke=[],Qe=he.getAllBufferRanges();if(!Qe||0===Qe.length)return ke;if(!He&&0!==He||isNaN(He))ke.push({start:Qe.start(0),end:Qe.end(Qe.length-1)+.5});else{var ut=function it(He,ke){var Qe=Y.get().streaming.buffer.bufferToKeep,ut=ke.start(0);if(He-ut>Qe){var Pt=Math.max(0,He-Qe),Ke=L.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:He,threshold:O})[0];if(Ke&&(Pt=Math.min(Ke.startTime,Pt)),Pt>0)return{start:ut,end:Pt}}return null}(He,Qe),Lt=function ht(He,ke){var Qe=ke.end(ke.length-1)+.5,ut=Ue(He),Pt=W.manifestInfo.duration>=Y.get().streaming.buffer.longFormContentDurationThreshold?Y.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Y.get().streaming.buffer.bufferTimeAtTopQuality,Ke=isNaN(ut)?He:Math.min(ut,He+Pt);if(Ke>=ke.end(ke.length-1))return null;var It=L.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:He,threshold:O})[0];if(It&&(Ke=Math.max(It.startTime+It.duration,Ke)),Y.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var kt=0;kt<ke.length;kt++)if(ke.start(kt)<=He&&He<=ke.end(kt)&&ke.start(kt)<=Ke&&Ke<=ke.end(kt)){var In=Ke;Ke=kt+1<ke.length?ke.start(kt+1):ke.end(kt)+1,ie.debug("Buffered range ["+ke.start(kt)+", "+ke.end(kt)+"] overlaps with targetTime "+He+" and range to be pruned ["+In+", "+Qe+"], using ["+Ke+", "+Qe+"] instead"+(Ke<Qe?"":" (no actual pruning)"));break}return Ke<ke.end(ke.length-1)?{start:Ke,end:Qe}:null}(He,Qe);ut&&ke.push(ut),Lt&&ke.push(Lt)}return ke}function Dt(){(!F||x===M.default.TEXT&&Z.isTextEnabled())&&Te()}function Ht(){Ge()}function jt(){Ge(),V=NaN}function Zt(He,ke){var Vt,kt,Qe=he.getAllBufferRanges(),ut=0,Lt=0,Pt=null,Ke=null,It=0,In=isNaN(ke)?.15:ke;if(null!=Qe){for(kt=0,Vt=Qe.length;kt<Vt;kt++)if(ut=Qe.start(kt),Lt=Qe.end(kt),null===Pt)It=Math.abs(ut-He),(He>=ut&&He<Lt||It<=In)&&(Pt=ut,Ke=Lt);else{if(!((It=ut-Ke)<=In))break;Ke=Lt}if(null!==Pt)return{start:Pt,end:Ke}}return null}function Te(){if(H){var He=Y.get().streaming.gaps.jumpGaps&&!isNaN(Y.get().streaming.gaps.smallGapLimit)?Y.get().streaming.gaps.smallGapLimit:NaN;ye=Math.max(function De(He,ke){var Qe;return Y.get().streaming.gaps.jumpGaps&&(ke=Y.get().streaming.gaps.smallGapLimit),null===(Qe=Zt(He,ke))?0:Qe.end-He}(H.getTime()||0,He),0),Mt(R.default.BUFFER_LEVEL_UPDATED,{mediaType:x,bufferLevel:ye}),Ge()}}function Ne(){var He=ae>=pe-1,ke=H.getTimeToStreamEnd(W)-ye<1e-5;(He||ke)&&!oe&&(Ae(!0),ie.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(W.id," and type ").concat(x)))}function Ge(){x!==M.default.AUDIO&&x!==M.default.VIDEO||((!H.getLowLatencyModeEnabled()&&ye<Y.get().streaming.buffer.stallThreshold||0===ye)&&!oe?ot(T.default.BUFFER_EMPTY):(oe||ye>=Y.get().streaming.buffer.stallThreshold||H.getLowLatencyModeEnabled()&&ye>0)&&ot(T.default.BUFFER_LOADED))}function ot(He){fe===He||He===T.default.BUFFER_EMPTY&&0===H.getTime()||x===M.default.TEXT&&!Z.isTextEnabled()||(fe=He,Mt(R.default.BUFFER_LEVEL_STATE_CHANGED,{state:He}),Mt(He===T.default.BUFFER_LOADED?R.default.BUFFER_LOADED:R.default.BUFFER_EMPTY),ie.debug(He===T.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Ze(){!he||x===M.default.TEXT||oe||_t(lt())}function lt(){var He=[],ke=he.getAllBufferRanges();if(!ke||0===ke.length)return He;var Qe=H.getTime(),ut=Math.max(0,Qe-Y.get().streaming.buffer.bufferToKeep),Lt=L.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:Qe,threshold:O})[0];if(Lt)ut=Math.min(Lt.startTime,ut);else if(0===Qe&&H.getIsDynamic())return[];if(ke.start(0)<=ut){for(var Pt={start:0,end:ut},Ke=0;Ke<ke.length&&ke.end(Ke)<=ut;Ke++)Pt.end=ke.end(Ke);Pt.start<Pt.end&&He.push(Pt)}return He}function _t(He){return new Promise(function(ke,Qe){if(He&&he&&0!==He.length){var ut=[];He.forEach(function(Lt){ut.push(function pt(He){return new Promise(function(ke,Qe){He.resolve=ke,He.reject=Qe,X.push(He)})}(Lt))}),Se||Be(),Promise.all(ut).then(function(){ke()}).catch(function(Lt){Qe(Lt)})}else ke()})}function Be(){try{if(0===X.length||!he)return ie.debug("Nothing to prune, halt pruning"),X=[],void(Se=!1);var He=he.getBuffer();if(!He||!He.buffered||0===He.buffered.length)return ie.debug("SourceBuffer is empty (or does not exist), halt pruning"),X=[],void(Se=!1);var ke=X.shift();ie.debug("".concat(x,": Removing buffer from: ").concat(ke.start," to ").concat(ke.end)),Se=!0,H.getTime()<ke.end&&Ae(!1),he.remove(ke).then(function(ut){Je(ut)}).catch(function(ut){Je(ut)})}catch{Se=!1}}function Je(He){ie.debug("onRemoved buffer from:",He.from,"to",He.to),Pe(he.getAllBufferRanges()),0===X.length&&(Se=!1,Te()),He.unintended&&(ie.warn("Detected unintended removal from:",He.from,"to",He.to,"setting streamprocessor time to",He.from),Mt(R.default.SEEK_TARGET,{time:He.from})),Se?Be():(F?F=!1:Te(),Mt(R.default.BUFFER_CLEARED,{from:He.from,to:He.to,unintended:He.unintended,hasEnoughSpaceToAppend:qe(),quotaExceeded:_e}))}function ct(He){return new Promise(function(ke){He&&void 0!==He.MSETimeOffset&&he&&he.updateTimestampOffset?he.updateTimestampOffset(He.MSETimeOffset).then(function(){ke()}).catch(function(){ke()}):ke()})}function gt(){return he&&!oe?he.updateAppendWindow(W):Promise.resolve()}function Ot(){++se*(Y.get().streaming.wallclockTimeUpdateInterval/1e3)>=Y.get().streaming.buffer.bufferPruningInterval&&(se=0,Ze())}function Nt(){Ge()}function Ae(He){oe!==He&&((oe=He)?Mt(R.default.BUFFERING_COMPLETED):pe=Number.POSITIVE_INFINITY)}function Ct(){try{var Qe,ut,He=he.getAllBufferRanges(),ke=0;if(!He)return ke;for(ut=0,Qe=He.length;ut<Qe;ut++)ke+=He.end(ut)-He.start(ut);return ke}catch{return 0}}function Ue(He){try{var ke=He,Qe=he.getAllBufferRanges();if(!Qe||0===Qe.length)return NaN;for(var ut=0;ke===He&&ut<Qe.length;){var Lt=Qe.start(ut),Pt=Qe.end(ut);ke>=Lt&&ke<=Pt&&(ke=Pt),ut+=1}return ke===He?NaN:ke}catch{}}function qe(){var He=Ct();return isNaN(He)||He<J}function Mt(He,ke){A.trigger(He,ke||{},{streamId:W.id,mediaType:x})}function sn(He,ke){if(J=Number.POSITIVE_INFINITY,fe=void 0,pe=Number.POSITIVE_INFINITY,ae=0,ve=null,oe=!1,Se=!1,_e=!1,ye=0,se=0,X=[],V=NaN,he){var Qe=he;he=null,!He&&!ke&&Qe.abort().then(function(){Qe.reset(ke),Qe=null})}F=!1}return G={initialize:function U(He){q(He),A.on(R.default.INIT_FRAGMENT_LOADED,ce,G),A.on(R.default.MEDIA_FRAGMENT_LOADED,be,G),A.on(R.default.WALLCLOCK_TIME_UPDATED,Ot,G),A.on(N.default.PLAYBACK_PLAYING,jt,G),A.on(N.default.PLAYBACK_PROGRESS,Dt,G),A.on(N.default.PLAYBACK_TIME_UPDATED,Dt,G),A.on(N.default.PLAYBACK_RATE_CHANGED,Nt,G),A.on(N.default.PLAYBACK_STALLED,Ht,G)},getStreamId:function te(){return W.id},getType:function me(){return x},getBufferControllerType:function Ee(){return v},createBufferSink:function j(He){var ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Qe,ut){if(ne&&He&&de){var Lt=le.getQualityFor(x,W.id);he=Object(w.default)(g).create({mediaSource:de,textController:Z,eventBus:A}),$(He,ke,Lt).then(function(){return ct(z(Lt))}).then(function(){Qe(he)}).catch(function(Pt){ie.fatal("Caught error on create SourceBuffer: "+Pt),E.error(new d.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+x)),ut(Pt)})}else Qe(null)})},getBuffer:function un(){return he},getBufferLevel:function en(){return ye},getRangeAt:Zt,hasBufferAtTime:function Yt(He){try{var ke=he.getAllBufferRanges();if(!ke||0===ke.length)return!1;for(var Qe=0;Qe<ke.length;){var ut=ke.start(Qe),Lt=ke.end(Qe);if(He>=ut&&He<=Lt)return!0;Qe+=1}return!1}catch(Pt){return ie.error(Pt),!1}},pruneBuffer:Ze,setMediaSource:q,getMediaSource:function Gn(){return de},appendInitSegmentFromCache:function ue(He){var ke=ne.extract(W.id,He);return!!ke&&(ie.info("Append Init fragment",x," with representationId:",ke.representationId," and quality:",ke.quality,", data size:",ke.bytes.byteLength),Re(ke),!0)},getIsBufferingCompleted:function _r(){return oe},setIsBufferingCompleted:Ae,getIsPruningInProgress:function tt(){return Se},reset:function $t(He,ke){A.off(R.default.INIT_FRAGMENT_LOADED,ce,this),A.off(R.default.MEDIA_FRAGMENT_LOADED,be,this),A.off(R.default.WALLCLOCK_TIME_UPDATED,Ot,this),A.off(N.default.PLAYBACK_PLAYING,jt,this),A.off(N.default.PLAYBACK_PROGRESS,Dt,this),A.off(N.default.PLAYBACK_TIME_UPDATED,Dt,this),A.off(N.default.PLAYBACK_RATE_CHANGED,Nt,this),A.off(N.default.PLAYBACK_STALLED,Ht,this),sn(He,ke)},prepareForPlaybackSeek:function Oe(){return oe&&Ae(!1),he.abort()},prepareForReplacementTrackSwitch:function ze(He){return new Promise(function(ke,Qe){he.abort().then(function(){return gt()}).then(function(){return Y.get().streaming.buffer.useChangeTypeForTrackSwitch?he.changeType(He):Promise.resolve()}).then(function(){return et()}).then(function(){Ae(!1),ke()}).catch(function(ut){Qe(ut)})})},prepareForNonReplacementTrackSwitch:function Ye(He){return new Promise(function(ke,Qe){gt().then(function(){return Y.get().streaming.buffer.useChangeTypeForTrackSwitch?he.changeType(He):Promise.resolve()}).then(function(){ke()}).catch(function(ut){Qe(ut)})})},prepareForReplacementQualitySwitch:function Le(){return new Promise(function(He,ke){he.abort().then(function(){return gt()}).then(function(){return et()}).then(function(){Ae(!1),He()}).catch(function(Qe){ke(Qe)})})},updateAppendWindow:gt,getAllRangesWithSafetyFactor:rt,getContinuousBufferTimeForTargetTime:Ue,clearBuffers:_t,pruneAllSafely:et,updateBufferTimestampOffset:ct,setSeekTarget:function at(He){V=He},segmentRequestingCompleted:function At(He){isNaN(He)||(pe=He,Ne())}},function re(){ie=Object(c.default)(g).getInstance().getLogger(G),ne=Object(l.default)(g).getInstance(),sn()}(),G}p.__dashjs_factory_name=v,k.default=D.default.getClassFactory(p)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),P=m(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),R=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=m(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),c=m(
/*! ../../core/Utils */
"./src/core/Utils.js");function l(){var _,N,S,O,b,v,p,y,g,A,d=this.context,f=Object(I.default)(d).getInstance();function H(){N=!1;var se=c.default.parseUserAgent();S=se&&se.browser&&se.browser.name&&"safari"===se.browser.name.toLowerCase()}function W(){N=!1}function x(se){if(se.streamId===v.getActiveStreamInfo().id&&g){var Se=p.getLiveDelay();p.getBufferLevel()>Se/2&&(g=!1)}}function Y(se){se.streamId===v.getActiveStreamInfo().id&&(g=se.state===D.default.BUFFER_EMPTY)}function G(){y.getCatchupModeEnabled()||O.setPlaybackRate(1)}function ie(){p.getIsDynamic()&&y.getCatchupModeEnabled()&&(y.getCatchupPlaybackRates().max>0||y.getCatchupPlaybackRates().min<0)&&!p.isPaused()&&!p.isSeeking()&&function J(){try{return!(!p.getTime()>0||N)&&(de()===w.default.LIVE_CATCHUP_MODE_LOLP?function pe(se,Se){try{return Math.abs(ye())>0||se<Se}catch{return!1}}(p.getBufferLevel(),b.get().streaming.liveCatchup.playbackBufferMin):function ae(){try{return Math.abs(ye())>0}catch{return!1}}())}catch{return!1}}()&&function oe(){if(!N&&O){var se,Se=O.getPlaybackRate(),_e=y.getCatchupPlaybackRates(),ne=p.getBufferLevel(),X=ye(),F=y.getCatchupMaxDrift();if(!isNaN(F)&&F>0&&X>F)A.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),N=!0,p.seekToCurrentLive(!0,!1);else{var V=p.getCurrentLiveLatency(),re=p.getLiveDelay();se=de()===w.default.LIVE_CATCHUP_MODE_LOLP?function fe(se,Se,_e,ne,X){var F;if(X<ne){var V=Math.abs(se.min),te=2*V/(1+Math.pow(Math.E,-5*(X-ne)));A.debug("[LoL+ playback control_buffer-based] bufferLevel: "+X+", newRate: "+(F=1-V+te))}else{var me=se.max,Ee=.02;F=Math.abs(Se-_e)<=Ee*_e?1:1-me+2*me/(1+Math.pow(Math.E,-5*(Se-_e))),A.debug("[LoL+ playback control_latency-based] latency: "+Se+", newRate: "+F)}return F}(_e,V,re,b.get().streaming.liveCatchup.playbackBufferMin,ne):function he(se,Se,_e,ne){if(g)return 1;var X=Se-_e,F=X<0?Math.abs(se.min):se.max,U=1-F+2*F/(1+Math.pow(Math.E,-5*X));return p.getPlaybackStalled()&&ne<=_e/2&&X>0&&(U=1),U}(_e,V,re,ne);var te=S?.25:.02/(.5/_e.max);se&&Math.abs(Se-se)>=te&&(A.debug("[CatchupController]: Setting playback rate to ".concat(se)),O.setPlaybackRate(se))}}}()}function ye(){return p.getCurrentLiveLatency()-p.getLiveDelay()}function de(){var se=b.get().streaming.liveCatchup.playbackBufferMin;return b.get().streaming.liveCatchup.mode!==w.default.LIVE_CATCHUP_MODE_LOLP||null===se||isNaN(se)?w.default.LIVE_CATCHUP_MODE_DEFAULT:w.default.LIVE_CATCHUP_MODE_LOLP}function ve(){y.getCatchupPlaybackRates(!0)}return _={reset:function le(){(function ee(){f.off(P.default.BUFFER_LEVEL_UPDATED,x,_),f.off(P.default.BUFFER_LEVEL_STATE_CHANGED,Y,_),f.off(P.default.PLAYBACK_PROGRESS,ie,_),f.off(P.default.PLAYBACK_TIME_UPDATED,ie,_),f.off(P.default.PLAYBACK_SEEKED,ie,_),f.off(R.default.SETTING_UPDATED_CATCHUP_ENABLED,G,_),f.off(R.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ve,_),f.off(R.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ve,_),f.off(P.default.STREAM_INITIALIZED,ve,_)})(),H(),O.setPlaybackRate(1,!0)},setConfig:function L(se){se&&(se.settings&&(b=se.settings),se.videoModel&&(O=se.videoModel),se.streamController&&(v=se.streamController),se.playbackController&&(p=se.playbackController),se.mediaPlayerModel&&(y=se.mediaPlayerModel))},initialize:function E(){(function K(){f.on(P.default.BUFFER_LEVEL_UPDATED,x,_),f.on(P.default.BUFFER_LEVEL_STATE_CHANGED,Y,_),f.on(P.default.PLAYBACK_PROGRESS,ie,_),f.on(P.default.PLAYBACK_TIME_UPDATED,ie,_),f.on(P.default.PLAYBACK_SEEKED,W,_),f.on(R.default.SETTING_UPDATED_CATCHUP_ENABLED,G,_),f.on(R.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,ve,_),f.on(R.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,ve,_),f.on(P.default.STREAM_INITIALIZED,ve,_)})(),ve()}},function Z(){A=Object(T.default)(d).getInstance().getLogger(_),H()}(),_}l.__dashjs_factory_name="CatchupController",k.default=M.default.getSingletonFactory(l)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=m(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=m(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function R(){var O,b,v,p,y,g,A,E,L,K,ee,D="urn:mpeg:dash:event:2012",__DISCARDED="discarded",__UPDATED="updated",__ADDED="added",N=this.context,S=Object(I.default)(N).getInstance();function le(){if(!A||!E)throw new Error("setConfig function has to be called previously")}function H(){ee=!1,v={},p={},y=null,K=!1,g=Date.now()/1e3}function W(){try{null!==y&&ee&&(clearInterval(y),y=null,ee=!1,function ae(){try{pe(p),pe(v)}catch(U){b.error(U)}}())}catch(U){throw U}}function Y(){try{if(!K){K=!0;var U=E.getTime(),te=U-g;te=g>0?Math.max(0,te):0,G(p,te,U),G(v,te,U),ie(p),ie(v),g=U,K=!1}}catch(me){K=!1,b.error(me)}}function G(U,te,me){try{he(U,function(z){if(void 0!==z){var j=isNaN(z.duration)?0:z.duration;z.calculatedPresentationTime<=me&&z.calculatedPresentationTime+te+j>=me?se(z,w.default.EVENT_MODE_ON_START):(fe(me,j+te,z.calculatedPresentationTime)||function ve(U){try{return U.calculatedPresentationTime>U.eventStream.period.start+U.eventStream.period.duration}catch(me){return b.error(me),!1}}(z))&&(b.debug("Removing event ".concat(z.id," from period ").concat(z.eventStream.period.id," as it is expired or invalid")),function Se(U,te){try{var me=te.eventStream.schemeIdUri,Ee=te.eventStream.period.id,q=te.eventStream.value,z=te.id;U[Ee][me]=U[Ee][me].filter(function(j){return q&&j.eventStream.value&&j.eventStream.value!==q||j.id!==z}),0===U[Ee][me].length&&delete U[Ee][me]}catch(j){b.error(j)}}(U,z))}})}catch(q){b.error(q)}}function ie(U){try{for(var te in U)U.hasOwnProperty(te)&&0===Object.keys(U[te]).length&&delete U[te]}catch(me){b.error(me)}}function J(U,te){var me=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Ee=U.eventStream.schemeIdUri,q=U.eventStream.value,z=U.id,j=__DISCARDED;te[Ee]||(te[Ee]=[]);var $=te[Ee].findIndex(function(ue){return(!q||ue.eventStream.value&&ue.eventStream.value===q)&&ue.id===z});if(-1===$)te[Ee].push(U),U.triggeredReceivedEvent=!1,U.triggeredStartEvent=!1,j=__ADDED;else if(me){var ce=te[Ee][$];U.triggeredReceivedEvent=ce.triggeredReceivedEvent,U.triggeredStartEvent=ce.triggeredStartEvent,te[Ee][$]=U,j=__UPDATED}return j}function de(U){try{1==U.eventStream.value&&S.trigger(w.default.MANIFEST_VALIDITY_CHANGED,{id:U.id,validUntil:U.calculatedPresentationTime,newDuration:4294967295==U.calculatedPresentationTime?NaN:U.calculatedPresentationTime+U.duration,newManifestValidAfter:NaN},{mode:w.default.EVENT_MODE_ON_START})}catch(Ee){b.error(Ee)}}function pe(U){try{var te=E.getTime();he(U,function(q){var z=q.eventStream&&q.eventStream.period&&!isNaN(q.eventStream.period.duration)?q.eventStream.period.duration:NaN,j=q.eventStream&&q.eventStream.period&&!isNaN(q.eventStream.period.start)?q.eventStream.period.start:NaN;isNaN(z)||isNaN(j)||Math.abs(q.calculatedPresentationTime-te)<300&&se(q,w.default.EVENT_MODE_ON_START)})}catch(Ee){b.error(Ee)}}function he(U,te){try{if(U)for(var me=Object.keys(U),Ee=0;Ee<me.length;Ee++)for(var q=U[me[Ee]],z=Object.keys(q),j=0;j<z.length;j++)q[z[j]].forEach(function(ce){void 0!==ce&&te(ce)})}catch(ce){b.error(ce)}}function fe(U,te,me){try{return U-te>me}catch(Ee){return b.error(Ee),!1}}function se(U,te){try{var me=E.getTime(),Ee=U.id;if(te===w.default.EVENT_MODE_ON_RECEIVE&&!U.triggeredReceivedEvent)return b.debug("Received event ".concat(Ee)),U.triggeredReceivedEvent=!0,void S.trigger(U.eventStream.schemeIdUri,{event:U},{mode:te});U.triggeredStartEvent||(U.eventStream.schemeIdUri===D&&1==U.eventStream.value?(0!==U.duration||0!==U.presentationTimeDelta)&&(b.debug("Starting manifest refresh event ".concat(Ee," at ").concat(me)),function _e(){try{le(),A.refreshManifest()}catch(U){b.error(U)}}()):"urn:mpeg:dash:event:callback:2015"===U.eventStream.schemeIdUri&&1==U.eventStream.value?(b.debug("Starting callback event ".concat(Ee," at ").concat(me)),function ne(U){try{Object(P.default)(N).create({}).load({method:"get",url:U,request:{responseType:"arraybuffer"}})}catch(me){b.error(me)}}(U.messageData)):(b.debug("Starting event ".concat(Ee," from period ").concat(U.eventStream.period.id," at ").concat(me)),S.trigger(U.eventStream.schemeIdUri,{event:U},{mode:te})),U.triggeredStartEvent=!0)}catch(q){b.error(q)}}return O={addInlineEvents:function oe(U,te){try{if(le(),v[te]||(v[te]={}),U)for(var me=0;me<U.length;me++){var Ee=U[me];if(!fe(E.getTime(),isNaN(Ee.duration)?0:Ee.duration,Ee.calculatedPresentationTime)){var j=J(Ee,v[te],!0);j===__ADDED?(b.debug("Added inline event with id ".concat(Ee.id," from period ").concat(te)),se(Ee,w.default.EVENT_MODE_ON_RECEIVE)):j===__UPDATED&&b.debug("Updated inline event with id ".concat(Ee.id," from period ").concat(te))}}}catch($){throw $}},addInbandEvents:function ye(U,te){try{le(),p[te]||(p[te]={});for(var me=0;me<U.length;me++){var Ee=U[me];fe(E.getTime(),isNaN(Ee.duration)?0:Ee.duration,Ee.calculatedPresentationTime)||(J(Ee,p[te],!1)===__ADDED?(Ee.eventStream.schemeIdUri===D&&de(Ee),b.debug("Added inband event with id ".concat(Ee.id," from period ").concat(te)),se(Ee,w.default.EVENT_MODE_ON_RECEIVE)):b.debug("Inband event with scheme_id_uri ".concat(Ee.eventStream.schemeIdUri,", value ").concat(Ee.eventStream.value,", period id ").concat(te," and event id ").concat(Ee.id," was ignored because it has been added before.")))}Y()}catch($){throw $}},getInbandEvents:function V(){return p},getInlineEvents:function F(){return v},start:function x(){try{le(),b.debug("Start Event Controller");var U=L.get().streaming.eventControllerRefreshDelay;!ee&&!isNaN(U)&&(ee=!0,y=setInterval(Y,U))}catch(te){throw te}},setConfig:function X(U){try{if(!U)return;U.manifestUpdater&&(A=U.manifestUpdater),U.playbackController&&(E=U.playbackController),U.settings&&(L=U.settings)}catch(te){throw te}},reset:function re(){W(),H()}},function Z(){b=Object(T.default)(N).getInstance().getLogger(O),H()}(),O}R.__dashjs_factory_name="EventController",k.default=M.default.getSingletonFactory(R)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),I=m(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),w=m(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),P=m(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),R=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),D=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),c=m(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),l=m(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),d=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=m(
/*! ../../core/Debug */
"./src/core/Debug.js");function _(N){N=N||{};var A,E,L,S=this.context,O=Object(R.default)(S).getInstance(),b=N.errHandler,v=N.mediaPlayerModel,p=N.dashMetrics,y=Object(f.default)(S).getInstance(),g=N.streamInfo;function ee(){return g.id}function le(){for(var Y in L)L[Y].reset();L={}}function x(Y){if(Y.sender){var G=Y.request,ie=Y.response,oe=G.isInitializationRequest(),ye=G.mediaInfo.streamInfo;if(Y.error&&(G.mediaType===M.default.AUDIO||G.mediaType===M.default.VIDEO||G.mediaType===M.default.TEXT&&G.mediaInfo.isFragmented)&&O.trigger(D.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:Y.request.serviceLocation}),!ie||!ye)return void E.warn("No "+G.mediaType+" bytes to push or stream is inactive.");var J=function W(Y,G,ie,oe){var ye=new T.default;return ye.streamId=ie,ye.mediaInfo=G.mediaInfo,ye.segmentType=G.type,ye.start=G.startTime,ye.duration=G.duration,ye.end=ye.start+ye.duration,ye.bytes=Y,ye.index=G.index,ye.quality=G.quality,ye.representationId=G.representationId,ye.endFragment=oe,ye}(ie,G,g.id,Y.type!==D.default.FRAGMENT_LOADING_PROGRESS);O.trigger(oe?D.default.INIT_FRAGMENT_LOADED:D.default.MEDIA_FRAGMENT_LOADED,{chunk:J,request:G},{streamId:ye.id,mediaType:G.mediaType})}}return A={getStreamId:ee,getModel:function Z(Y){var G=L[Y];return G||(G=Object(I.default)(S).create({streamInfo:g,type:Y,dashMetrics:p,fragmentLoader:Object(w.default)(S).create({dashMetrics:p,mediaPlayerModel:v,errHandler:b,requestModifier:Object(P.default)(S).getInstance(),settings:N.settings,boxParser:N.boxParser,eventBus:O,events:D.default,errors:l.default,dashConstants:N.dashConstants,urlUtils:N.urlUtils,streamId:ee()}),debug:y,eventBus:O,events:D.default}),L[Y]=G),G},reset:function H(){O.off(c.default.FRAGMENT_LOADING_COMPLETED,x,this),O.off(c.default.FRAGMENT_LOADING_PROGRESS,x,this),le()}},function K(){E=y.getLogger(A),le(),O.on(c.default.FRAGMENT_LOADING_COMPLETED,x,A),O.on(c.default.FRAGMENT_LOADING_PROGRESS,x,A)}(),A}_.__dashjs_factory_name="FragmentController",k.default=d.default.getClassFactory(_)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function l(){var _,N,S,O,b,v,p,y,g,A,E,L,d=this.context,f=Object(w.default)(d).getInstance();function Z(){(function fe(){L.debug("Stopping the gap controller"),b&&(clearInterval(b),b=null)})(),function x(){f.off(I.default.WALLCLOCK_TIME_UPDATED,ye,this),f.off(I.default.INITIAL_STREAM_SWITCH,oe,this),f.off(I.default.PLAYBACK_SEEKING,Y,this),f.off(I.default.BUFFER_REPLACEMENT_STARTED,G,_),f.off(I.default.TRACK_CHANGE_RENDERED,ie,_)}(),function le(){b=null,v=NaN,O=0,A=null,E={}}()}function Y(){A&&(clearTimeout(A),A=null)}function G(se){try{if(se.streamId!==y.getActiveStreamInfo().id||se.mediaType!==P.default.VIDEO&&se.mediaType!==P.default.AUDIO)return;se.streamId===y.getActiveStreamInfo().id&&(E[se.mediaType]=!0)}catch(Se){L.error(Se)}}function ie(se){!se||!se.mediaType||(E[se.mediaType]=!1)}function oe(){b||function he(){try{b||(L.debug("Starting the gap controller"),b=setInterval(function(){J()&&ve(p.getTime())},100))}catch{}}()}function ye(){if(J(S.get().streaming.gaps.enableSeekFix)&&++O>=10){var se=p.getTime();N===se?ve(se,!0):(N=se,v=NaN),O=0}}function J(){var se=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!y.getActiveStream())return!1;var Se=Object.keys(E).some(function(ne){return E[ne]}),_e=!!se&&de();return!Se&&S.get().streaming.gaps.jumpGaps&&y.getActiveStreamProcessors().length>0&&(!p.isSeeking()||_e)&&!p.isPaused()&&!y.getIsStreamSwitchInProgress()&&!y.getHasMediaOrInitialisationError()}function de(){var se=y.getActiveStream(),Se=parseFloat((se.getStartTime()+se.getDuration()).toFixed(5));return p.getTime()+S.get().streaming.gaps.threshold>=Se}function ae(se,Se){try{if(!se||se.length<=1&&Se>0)return NaN;for(var _e=NaN,ne=0;isNaN(_e)&&ne<se.length;){var X=ne>0?se.end(ne-1):0;Se<se.start(ne)&&X-Se<S.get().streaming.gaps.threshold&&(_e=ne),ne+=1}return _e}catch{return null}}function pe(se,Se){for(var _e=0,ne=se.length;_e<ne;_e++)if(Se>=se.start(_e)&&Se<=se.end(_e))return!0;return!1}function ve(se){var re,Se=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_e=S.get().streaming.gaps.enableStallFix,ne=S.get().streaming.gaps.stallSeek,X=S.get().streaming.gaps.smallGapLimit,F=S.get().streaming.gaps.jumpLargeGaps,V=g.getBufferRange(),U=NaN,te=!1;if(re=ae(V,se),!isNaN(re)){var me=V.start(re),Ee=me-se;Ee>0&&(Ee<=X||F)&&(U=me)}var q=p.getTimeToStreamEnd();if(isNaN(U)&&Se&&isFinite(q)&&!isNaN(q)&&q<X&&(U=parseFloat(p.getStreamEndTime().toFixed(5)),te=!0),_e&&isNaN(U)&&Se&&isNaN(re)&&pe(V,se)&&(0===ne?(L.warn("Toggle play pause to break stall"),g.pause(),g.play()):(L.warn("Jumping ".concat(ne,"s to break stall")),U=se+ne)),U>0&&v!==U&&U>se&&!A){var z=U-se;if(te){var j=y.getStreamForTime(U),$=j&&!!j.getPreloaded();L.warn("Jumping to end of stream because of gap from ".concat(se," to ").concat(U,". Gap duration: ").concat(z)),p.seek(U,!0,$)}else{var ce=p.getIsDynamic(),ue=re>0?V.end(re-1):se,be=ce?1e3*Math.max(0,z-.1):0;A=window.setTimeout(function(){p.seek(U,!0,!0),L.warn("Jumping gap occuring in period ".concat(y.getActiveStream().getStreamId()," starting at ").concat(ue," and ending at ").concat(U,". Jumping by: ").concat(U-ue)),A=null},be)}v=U}}return _={reset:Z,setConfig:function H(se){se&&(se.settings&&(S=se.settings),se.playbackController&&(p=se.playbackController),se.streamController&&(y=se.streamController),se.videoModel&&(g=se.videoModel))},initialize:function K(){!function W(){f.on(I.default.WALLCLOCK_TIME_UPDATED,ye,this),f.on(I.default.INITIAL_STREAM_SWITCH,oe,this),f.on(I.default.PLAYBACK_SEEKING,Y,this),f.on(I.default.BUFFER_REPLACEMENT_STARTED,G,_),f.on(I.default.TRACK_CHANGE_RENDERED,ie,_)}()}},function ee(){L=Object(T.default)(d).getInstance().getLogger(_),Z()}(),_}l.__dashjs_factory_name="GapController",k.default=M.default.getSingletonFactory(l)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=m(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),D=m.n(R),c=m(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function d(){var S,O,b,v,p,y,g,A,_=this.context,N=Object(I.default)(_).getInstance();function ee(j,$){return j&&b[$]&&b[$][j]?b[$][j].list:[]}function Z(j,$){return j&&b[$]&&b[$][j]?b[$][j].current:null}function H(j){var $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(j&&j.streamInfo){var ce=j.type,be=j.streamInfo.id,Re=Z(ce,be);if(b[be]&&b[be][ce]&&(b[be][ce].current=j,b[be][ce].current&&(ce!==M.default.TEXT&&!ie(j,Re)||ce===M.default.TEXT&&j.isFragmented)&&N.trigger(T.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Re,newMediaInfo:j,switchMode:v.get().streaming.trackSwitchMode[ce]},{streamId:be}),!$)){var Pe=J(j);if(!Pe||!b[be][ce].storeLastSettings)return;Pe.roles&&(Pe.role=Pe.roles[0],delete Pe.roles),Pe.accessibility&&(Pe.accessibility=Pe.accessibility[0]),Pe.audioChannelConfiguration&&(Pe.audioChannelConfiguration=Pe.audioChannelConfiguration[0]),y[ce]=Pe,A.setSavedMediaSettings(ce,Pe)}}}function W(j,$){!j||!$||(p[j]=$)}function x(j){return j?p[j]:null}function ie(j,$){if(!j&&!$)return!0;if(!j||!$)return!1;var ce=j.id===$.id,ue=j.viewpoint===$.viewpoint,be=j.lang===$.lang,Re=j.codec===$.codec,Pe=j.roles.toString()===$.roles.toString(),we=j.accessibility.toString()===$.accessibility.toString(),je=j.audioChannelConfiguration.toString()===$.audioChannelConfiguration.toString();return ce&&Re&&ue&&be&&Pe&&we&&je}function ye(){b={},y={},function _e(){p={audio:null,video:null,text:null}}()}function J(j){var $={lang:j.lang,viewpoint:j.viewpoint,roles:j.roles,accessibility:j.accessibility,audioChannelConfiguration:j.audioChannelConfiguration};return $.lang||$.viewpoint||$.role&&$.role.length>0||$.accessibility&&$.accessibility.length>0||$.audioChannelConfiguration&&$.audioChannelConfiguration.length>0?$:null}function de(j,$,ce){var ue=[];return j.forEach(function(be){$(ce,be)&&ue.push(be)}),0!==ue.length?ue:j}function ae(j,$){return!j.lang||j.lang instanceof RegExp?$.lang.match(j.lang):""!==$.lang&&Object(c.extendedFilter)($.lang,D()(j.lang)).length>0}function pe(j,$){return null==j.index||$.index===j.index}function he(j,$){return!j.viewpoint||j.viewpoint===$.viewpoint}function fe(j,$){var ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!j.role||!!$.roles.filter(function(be){return be===j.role})[0]||$.type===M.default.AUDIO&&ce}function ve(j,$){return j.accessibility?!!$.accessibility.filter(function(ue){return ue===j.accessibility})[0]:!$.accessibility.length}function se(j,$){return!j.audioChannelConfiguration||!!$.audioChannelConfiguration.filter(function(ue){return ue===j.audioChannelConfiguration})[0]}function X(j){var ue,$=0,ce=[];return j.forEach(function(be){(ue=Math.max.apply(Math,be.bitrateList.map(function(Re){return Re.bandwidth})))>$?($=ue,ce=[be]):ue===$&&ce.push(be)}),ce}function F(j){var ue,$=1/0,ce=[];return j.forEach(function(be){var Re=be.bitrateList.reduce(function(Pe,we){var je=Math.max(1,we.width*we.height);return Pe+we.bandwidth/je},0);(ue=Re/be.bitrateList.length)<$?($=ue,ce=[be]):ue===$&&ce.push(be)}),ce}function V(j){var ue,$=0,ce=[];return j.forEach(function(be){(ue=be.representationCount)>$?($=ue,ce=[be]):ue===$&&ce.push(be)}),ce}function re(j,$){if(j===M.default.TEXT)return $[0];var ue,ce=v.get().streaming.selectionModeForInitialTrack,be=g.getCustomInitialTrackSelectionFunction();if(be&&"function"==typeof be)ue=be($);else switch(ce){case M.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ue=function U(j){var $=function ne(j){var $=0,ce=[];return j.forEach(function(ue){isNaN(ue.selectionPriority)||(ue.selectionPriority>$?($=ue.selectionPriority,ce=[ue]):ue.selectionPriority===$&&ce.push(ue))}),ce}(j);return $.length>1&&($=X($)),$.length>1&&($=V($)),$}($);break;case M.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ue=function te(j){var $=X(j);return $.length>1&&($=V($)),$}($);break;case M.default.TRACK_SELECTION_MODE_FIRST_TRACK:ue=me($);break;case M.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ue=function Ee(j){var $=F(j);return $.length>1&&($=X($)),$}($);break;case M.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ue=function q(j){var $=V(j);return $.length>1&&($=X(j)),$}($);break;default:O.warn("Track selection mode ".concat(ce," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ue=me($)}return ue.length>0?ue[0]:$[0]}function me(j){return j[0]}return S={setInitialMediaSettingsForType:function L(j,$){var ce=y[j]||x(j),ue=ee(j,$.id),be=[];ce||W(j,ce=A.getSavedMediaSettings(j)),ue&&0!==ue.length&&(ce&&(be=de(be=Array.from(ue),ae,ce),be=de(be,pe,ce),be=de(be,he,ce),j===M.default.AUDIO&&y[j]||(be=de(be,fe,ce)),be=de(be,ve,ce),be=de(be,se,ce)),0===be.length?H(re(j,ue),!0):H(be.length>1?re(j,be):be[0]))},addTrack:function K(j){if(j){var $=j.type;if(function G(j){return j===M.default.AUDIO||j===M.default.VIDEO||j===M.default.TEXT||j===M.default.IMAGE}($)){var ce=j.streamInfo.id;b[ce]||(b[ce]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ue=b[ce][$].list,be=0,Re=ue.length;be<Re;++be)if(ie(ue[be],j))return;ue.push(j)}}},getTracksFor:ee,getCurrentTrackFor:Z,isCurrentTrack:function le(j){if(!j)return!1;var $=j.type,ce=j.streamInfo.id;return b[ce]&&b[ce][$]&&ie(b[ce][$].current,j)},setTrack:H,selectInitialTrack:re,setInitialSettings:W,getInitialSettings:x,getTracksWithHighestBitrate:X,getTracksWithHighestEfficiency:F,getTracksWithWidestRange:V,isTracksEqual:ie,matchSettings:function Se(j,$){var ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var ue=!1;if(j.lang){if(j.lang instanceof RegExp)ue=$.lang.match(j.lang);else if(""!==$.lang){var be=D()(j.lang);be&&(ue=Object(c.extendedFilter)($.lang,be).length>0)}}else ue=!0;var Re=null==j.index||$.index===j.index,Pe=!j.viewpoint||j.viewpoint===$.viewpoint,we=!j.role||!!$.roles.filter(function(Oe){return Oe===j.role})[0],je=!j.accessibility||!!$.accessibility.filter(function(Oe){return Oe===j.accessibility})[0],Ce=!j.audioChannelConfiguration||!!$.audioChannelConfiguration.filter(function(Oe){return Oe===j.audioChannelConfiguration})[0];return ue&&Re&&Pe&&(we||$.type===M.default.AUDIO&&ce)&&je&&Ce}catch(Oe){return!1}},matchSettingsLang:ae,matchSettingsIndex:pe,matchSettingsViewPoint:he,matchSettingsRole:fe,matchSettingsAccessibility:ve,matchSettingsAudioChannelConfig:se,saveTextSettingsDisabled:function Y(){A.setSavedMediaSettings(M.default.TEXT,null)},setConfig:function oe(j){j&&(j.domStorage&&(A=j.domStorage),j.settings&&(v=j.settings),j.customParametersModel&&(g=j.customParametersModel))},reset:ye},function E(){O=Object(P.default)(_).getInstance().getLogger(S),ye()}(),S}d.__dashjs_factory_name="MediaController";var f=w.default.getSingletonFactory(d);w.default.updateSingletonFactory(d.__dashjs_factory_name,f),k.default=f},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js");function I(){var w,P,R,D=this.context;return w={createMediaSource:function l(){var b="WebKitMediaSource"in window;return"MediaSource"in window?P=new MediaSource:b&&(P=new WebKitMediaSource),P},attachMediaSource:function d(b){var v=window.URL.createObjectURL(P);return b.setSource(v),v},detachMediaSource:function f(b){b.setSource(null)},setDuration:function _(b){!P||"open"!==P.readyState||null===b&&isNaN(b)||P.duration!==b&&(function O(b){for(var v=b.sourceBuffers,p=0;p<v.length;p++)if(v[p].updating)return!0;return!1}(P)?setTimeout(_.bind(null,b),50):(R.info("Set MediaSource duration:"+b),P.duration=b))},setSeekable:function N(b,v){P&&"function"==typeof P.setLiveSeekableRange&&"function"==typeof P.clearLiveSeekableRange&&"open"===P.readyState&&b>=0&&b<v&&(P.clearLiveSeekableRange(),P.setLiveSeekableRange(b,v))},signalEndOfStream:function S(b){if(b&&"open"===b.readyState){for(var v=b.sourceBuffers,p=0;p<v.length;p++)if(v[p].updating||0===v[p].buffered.length)return;R.info("call to mediaSource endOfStream"),b.endOfStream()}}},function c(){R=Object(T.default)(D).getInstance().getLogger(w)}(),w}I.__dashjs_factory_name="MediaSourceController",k.default=M.default.getSingletonFactory(I)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),R=m(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),D=m(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function l(){var _,N,S,O,b,v,p,y,g,A,E,L,K,ee,Z,le,W,x,Y,G,ie,oe,ye,d=this.context,f=Object(T.default)(d).getInstance();function de(){Se(),ee=!1,A=0,E=0,le=0,ie=!1,W=!1,oe=!1,x=NaN,p&&(f.off(I.default.DATA_UPDATE_COMPLETED,Ye,_),f.off(I.default.LOADING_PROGRESS,At,_),f.off(I.default.MANIFEST_UPDATED,Gn,_),f.off(I.default.STREAMS_COMPOSED,_r,_),f.off(R.default.PLAYBACK_ENDED,_t,_),f.off(R.default.STREAM_INITIALIZING,Nt,_),f.off(R.default.REPRESENTATION_SWITCH,un,_),f.off(R.default.BUFFER_LEVEL_STATE_CHANGED,it,_),Le(),function Ct(){p.removeEventListener("canplay",et),p.removeEventListener("canplaythrough",rt),p.removeEventListener("play",ht),p.removeEventListener("waiting",Dt),p.removeEventListener("playing",Ht),p.removeEventListener("pause",jt),p.removeEventListener("error",pt),p.removeEventListener("seeking",Yt),p.removeEventListener("seeked",Zt),p.removeEventListener("timeupdate",De),p.removeEventListener("progress",Te),p.removeEventListener("ratechange",Ne),p.removeEventListener("loadedmetadata",Ge),p.removeEventListener("loadeddata",ot),p.removeEventListener("stalled",Ot),p.removeEventListener("ended",Ze),p.removeEventListener("volumechange",lt)}()),g=null,p=null,L=null,K=null}function fe(){return parseFloat((ve(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-re()).toFixed(5))}function ve(Ue){var qe=Ue||L;return qe.start+qe.duration}function se(){var Ue=arguments.length>0&&void 0!==arguments[0]&&arguments[0];L&&p&&p.getElement()?(Ue&&K&&V(re()),p.play()):ee=!0}function Se(){L&&p&&p.pause()}function _e(Ue){var qe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],at=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Mt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];L&&p&&Ue!==(isNaN(x)?p.getTime():x)&&((Y=!0===at)||(x=Ue),N.info("Requesting seek to time: "+Ue+(Y?" (internal)":"")),K&&Mt&&V(Ue),p.setCurrentTime(Ue,qe))}function F(){if(L&&p&&K){var Ue=S&&S.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO,qe=b.getCurrentDVRInfo(Ue);return qe&&qe.range?qe.range.end:0}}function V(Ue){var qe=new Date(y.getClientReferenceTime()),at=v.getRegularPeriods()[0],Mt=y.calcPresentationTimeFromWallTime(qe,at);A=Mt-Ue}function re(){return L&&p?p.getTime():null}function U(){return L&&p?p.isPaused():null}function te(){return L&&p?p.isSeeking():null}function me(){return L&&p?p.isStalled():null}function Ee(){return L&&p?p.getPlaybackRate():null}function z(){return L&&p?p.getEnded():null}function j(){return K}function Ce(){var Ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!U()&&K&&0!==p.getReadyState()&&!te()&&!ie){Ue||(Ue=S.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO);var qe=re(),at=Oe(qe,Ue);!isNaN(at)&&at!==qe&&!te()&&(me()||G||1===p.getReadyState())&&(N.debug("UpdateCurrentTime: Seek to actual time: ".concat(at," from currentTime: ").concat(qe)),_e(at,!1,!1))}}function Oe(Ue,qe){var at=b.getCurrentDVRInfo(qe),Mt=at?at.range:null;return Mt?Ue>Mt.end?Math.max(Mt.end-A,Mt.start):Ue>0&&Ue+.25<Mt.start&&Math.abs(Ue-Mt.start)<31536e4?W?Math.max(Mt.end-A,Mt.start):Mt.start:Ue:NaN}function ze(){null===g&&(g=setInterval(function(){!function Be(){f.trigger(I.default.WALLCLOCK_TIME_UPDATED,{isDynamic:K,time:new Date}),j()&&(S.addDVRMetric(),U()?function Je(){var Ue=Date.now();(!Z||Ue>Z+500)&&(Z=Ue,De())}():Ce())}()},ye.get().streaming.wallclockTimeUpdateInterval))}function Le(){clearInterval(g),g=null}function Ye(Ue){var qe=v.convertRepresentationToRepresentationInfo(Ue.currentRepresentation),at=qe?qe.mediaInfo.streamInfo:null;null===at||L.id!==at.id||(L=at)}function et(){f.trigger(I.default.CAN_PLAY)}function rt(){f.trigger(I.default.CAN_PLAY_THROUGH)}function it(Ue){Ue.streamId===S.getActiveStreamInfo().id&&(G=Ue.state===D.default.BUFFER_EMPTY,ye.get().streaming.buffer.setStallState&&p.setStallState(Ue.mediaType,Ue.state===D.default.BUFFER_EMPTY))}function ht(){N.info("Native video element event: play"),Ce(),ze(),f.trigger(I.default.PLAYBACK_STARTED,{startTime:re()})}function Dt(){N.info("Native video element event: waiting"),f.trigger(I.default.PLAYBACK_WAITING,{playingTime:re()})}function Ht(){N.info("Native video element event: playing"),Y=!1,f.trigger(I.default.PLAYBACK_PLAYING,{playingTime:re()})}function jt(){N.info("Native video element event: pause"),f.trigger(I.default.PLAYBACK_PAUSED,{ended:z()})}function Yt(){if(!Y){var Ue=re();!isNaN(x)&&x!==Ue&&(Ue=x),x=NaN,N.info("Seeking to: "+Ue),ze(),f.trigger(I.default.PLAYBACK_SEEKING,{seekTime:Ue,streamId:L.id})}}function Zt(){N.info("Native video element event: seeked"),Y=!1,f.trigger(I.default.PLAYBACK_SEEKED)}function De(){L&&f.trigger(I.default.PLAYBACK_TIME_UPDATED,{timeToEnd:fe(),time:re(),streamId:L.id})}function Te(){f.trigger(I.default.PLAYBACK_PROGRESS,{streamId:L.id})}function Ne(){var Ue=Ee();N.info("Native video element event: ratechange: ",Ue),f.trigger(I.default.PLAYBACK_RATE_CHANGED,{playbackRate:Ue})}function Ge(){N.info("Native video element event: loadedmetadata"),f.trigger(I.default.PLAYBACK_METADATA_LOADED),ze()}function ot(){N.info("Native video element event: loadeddata"),f.trigger(I.default.PLAYBACK_LOADED_DATA)}function Ze(){N.info("Native video element event: ended"),Se(),Le();var Ue=S?S.getActiveStreamInfo():null;Ue&&f.trigger(I.default.PLAYBACK_ENDED,{isLast:Ue.isLast})}function lt(){f.trigger(I.default.PLAYBACK_VOLUME_CHANGED)}function _t(Ue){if(g&&Ue.isLast){N.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var qe=Ue.seekTime?Ue.seekTime:ve();p.setCurrentTime(qe),Se(),Le()}}function pt(Ue){f.trigger(I.default.PLAYBACK_ERROR,{error:(Ue.target||Ue.srcElement).error})}function At(Ue){if(!1===Ue.stream&&W&&!isNaN(Ue.request.duration)){var qe=1.2*Ue.request.duration;qe>A&&(N.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",qe.toFixed(2)),A=qe,E=qe)}}function Ot(Ue){f.trigger(I.default.PLAYBACK_STALLED,{e:Ue})}function Nt(Ue){!function Ae(Ue){Ue&&Ue.supplementalProperties&&"true"===Ue.supplementalProperties[M.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(N.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),W=!0)}(Ue.mediaInfo)}function un(Ue){var qe=S.getActiveStreamInfo();!Ue||!qe||!Ue.currentRepresentation||!Ue.streamId||Ue.streamId!==qe.id||!Ue.mediaType||Ue.mediaType!==M.default.VIDEO&&Ue.mediaType!==M.default.AUDIO||(W=!Ue.currentRepresentation.availabilityTimeComplete)&&!oe&&(oe=!0)}function Gn(){ie=!0}function _r(){ie=!1}return _={initialize:function ae(Ue,qe){L=Ue,!0!==qe&&function pe(){(function tt(){p.addEventListener("canplay",et),p.addEventListener("canplaythrough",rt),p.addEventListener("play",ht),p.addEventListener("waiting",Dt),p.addEventListener("playing",Ht),p.addEventListener("pause",jt),p.addEventListener("error",pt),p.addEventListener("seeking",Yt),p.addEventListener("seeked",Zt),p.addEventListener("timeupdate",De),p.addEventListener("progress",Te),p.addEventListener("ratechange",Ne),p.addEventListener("loadedmetadata",Ge),p.addEventListener("loadeddata",ot),p.addEventListener("stalled",Ot),p.addEventListener("ended",Ze),p.addEventListener("volumechange",lt)})(),K=L.manifestInfo.isDynamic,G=!1,Y=!1,f.on(I.default.DATA_UPDATE_COMPLETED,Ye,_),f.on(I.default.LOADING_PROGRESS,At,_),f.on(I.default.MANIFEST_UPDATED,Gn,_),f.on(I.default.STREAMS_COMPOSED,_r,_),f.on(R.default.PLAYBACK_ENDED,_t,_,{priority:T.default.EVENT_PRIORITY_HIGH}),f.on(R.default.STREAM_INITIALIZING,Nt,_),f.on(R.default.REPRESENTATION_SWITCH,un,_),f.on(R.default.BUFFER_LEVEL_STATE_CHANGED,it,_),ee&&(ee=!1,se())}()},setConfig:function je(Ue){Ue&&(Ue.streamController&&(S=Ue.streamController),Ue.serviceDescriptionController&&(O=Ue.serviceDescriptionController),Ue.dashMetrics&&(b=Ue.dashMetrics),Ue.adapter&&(v=Ue.adapter),Ue.videoModel&&(p=Ue.videoModel),Ue.timelineConverter&&(y=Ue.timelineConverter),Ue.settings&&(ye=Ue.settings))},getTimeToStreamEnd:fe,getBufferLevel:function ct(){var Ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,qe=null;return S.getActiveStreamProcessors().forEach(function(at){if(!Ue||0===Ue.length||-1===Ue.indexOf(at.getType())){var Mt=at.getBufferLevel();qe=null===qe?Mt:Math.min(qe,Mt)}}),qe},getPlaybackStalled:function he(){return G},getTime:re,getLowLatencyModeEnabled:function gt(){return W},getInitialCatchupModeActivated:function en(){return oe},getIsManifestUpdateInProgress:function ce(){return ie},getPlaybackRate:Ee,getPlayedRanges:function q(){return L&&p?p.getPlayedRanges():null},getEnded:z,getIsDynamic:j,getStreamController:function $(){return S},computeAndSetLiveDelay:function we(Ue,qe){var at,Mt,sn,ke=!isNaN(Ue)&&isFinite(Ue)?Ue:NaN,Qe=v.getSuggestedPresentationDelay(),ut=O.getServiceDescriptionSettings();return at=isNaN(ye.get().streaming.delay.liveDelay)?null===ye.get().streaming.delay.liveDelayFragmentCount||isNaN(ye.get().streaming.delay.liveDelayFragmentCount)||isNaN(ke)?ut&&!isNaN(ut.liveDelay)&&ut.liveDelay>0?ut.liveDelay:!0===ye.get().streaming.delay.useSuggestedPresentationDelay&&null!==Qe&&!isNaN(Qe)&&Qe>0?Qe:isNaN(ke)?qe&&!isNaN(qe.minBufferTime)?4*qe.minBufferTime:4*L.manifestInfo.minBufferTime:4*ke:ke*ye.get().streaming.delay.liveDelayFragmentCount:ye.get().streaming.delay.liveDelay,null!==(sn=v.getAvailabilityStartTime())&&(le=sn),Mt=qe&&qe.dvrWindowSize>0?Math.min(at,qe.dvrWindowSize):at,A=Mt,E=Mt,Mt},getLiveDelay:function be(){return A},getOriginalLiveDelay:function Re(){return E},getCurrentLiveLatency:function Pe(){if(!K||isNaN(le))return NaN;var Ue=re();if(isNaN(Ue)||0===Ue)return 0;var qe=(new Date).getTime()+1e3*y.getClientTimeOffset();return Math.max(((qe-le-1e3*Ue)/1e3).toFixed(3),0)},play:se,isPaused:U,isStalled:me,pause:Se,isSeeking:te,getStreamEndTime:ve,seek:_e,seekToOriginalLive:function ne(){var Ue=arguments.length>0&&void 0!==arguments[0]&&arguments[0],qe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],at=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Mt=F();0!==Mt&&_e(Mt-(A=E),Ue,qe,at)},seekToCurrentLive:function X(){var Ue=arguments.length>0&&void 0!==arguments[0]&&arguments[0],qe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],at=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Mt=F();0!==Mt&&_e(Mt-A,Ue,qe,at)},reset:de,updateCurrentTime:Ce,getAvailabilityStartTime:function ue(){return le}},function J(){N=Object(P.default)(d).getInstance().getLogger(_),de()}(),_}l.__dashjs_factory_name="PlaybackController",k.default=w.default.getSingletonFactory(l)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),I=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),P=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=m(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),c=m(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function l(d){d=d||{};var E,L,K,ee,Z,le,H,W,x,Y,G,ie,oe,f=this.context,_=Object(I.default)(f).getInstance(),N=d.dashMetrics,S=d.mediaPlayerModel,O=d.fragmentModel,b=d.abrController,v=d.playbackController,p=d.textController,y=d.type,g=d.bufferController,A=d.settings;function he(Oe){if(!g.getIsBufferingCompleted()){fe();var ze=isNaN(Oe)?0:Oe;le=setTimeout(se,ze)}}function fe(){le&&(clearTimeout(le),le=null)}function se(){try{if(function _e(){try{return y===M.default.TEXT&&!p.isTextEnabled()||v.isPaused()&&(!v.getStreamController().getInitialPlayback()||!v.getStreamController().getAutoPlay())&&!A.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void fe();if(function ne(){try{return ee&&(isNaN(Y)||G||function ve(){var ze=b.getMaxAllowedIndexFor(y,L.id);return!(!isNaN(x)&&x==ze||(K.info("Top quality "+y+" index has changed from "+x+" to "+ze),x=ze,0))}()||function X(){return!y||!ee||N.getCurrentBufferLevel(y)<F()}())}catch{return!1}}()){var Oe=!1;oe&&(Oe=b.checkPlaybackQuality(y,L.id)),Oe||function Se(){ie||ee.quality!==Y||G?(G?(K.debug("Switch track for "+y+", representation id = "+ee.id),G=!1):K.debug("Quality has changed, get init request for representationid = "+ee.id),_.trigger(w.default.INIT_FRAGMENT_NEEDED,{representationId:ee.id,sender:E},{streamId:L.id,mediaType:y}),oe=!1,ie=!1):(K.debug("Media segment needed for ".concat(y," and stream id ").concat(L.id)),_.trigger(w.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:L.id,mediaType:y}),oe=!0)}()}else he(v.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}catch{he(v.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}}function F(){var Oe=NaN;return!y||!ee||(Oe=y===M.default.TEXT?function V(){try{if(p.isTextEnabled()){if(isNaN(ee.fragmentDuration)){var Oe=N.getCurrentSchedulingInfo(D.default.SCHEDULING_INFO);return Oe?Oe.duration:0}return ee.fragmentDuration}return 0}catch{return 0}}():y===M.default.AUDIO&&H?function re(){try{var Oe=N.getCurrentBufferLevel(M.default.VIDEO);return isNaN(ee.fragmentDuration)?Oe+1:Math.max(Oe+1,ee.fragmentDuration)}catch{return 0}}():function U(){try{var Oe=ee.mediaInfo.streamInfo;return b.isPlayingAtTopQuality(Oe)?Oe.manifestInfo.duration>=A.get().streaming.buffer.longFormContentDurationThreshold?A.get().streaming.buffer.bufferTimeAtTopQualityLongForm:A.get().streaming.buffer.bufferTimeAtTopQuality:S.getStableBufferTime()}catch{return S.getStableBufferTime()}}()),Oe}function Ee(){q(!0)}function q(Oe){if(v&&O){var ze=O.getRequests({state:T.default.FRAGMENT_MODEL_EXECUTED,time:v.getTime(),threshold:0})[0];ze&&v.getTime()>=ze.startTime&&((!W.mediaInfo||ze.mediaInfo.type===W.mediaInfo.type&&ze.mediaInfo.id!==W.mediaInfo.id)&&Oe&&_.trigger(w.default.TRACK_CHANGE_RENDERED,{mediaType:y,oldMediaInfo:W.mediaInfo,newMediaInfo:ze.mediaInfo,streamId:L.id}),(ze.quality!==W.quality||ze.adaptationIndex!==W.adaptationIndex)&&Oe&&(K.debug("Quality change rendered for streamId ".concat(L.id," and type ").concat(y)),_.trigger(w.default.QUALITY_CHANGE_RENDERED,{mediaType:y,oldQuality:W.quality,newQuality:ze.quality,streamId:L.id})),W={mediaInfo:ze.mediaInfo,quality:ze.quality,adaptationIndex:ze.adaptationIndex})}}function z(Oe){K.debug("Appended bytes for ".concat(Oe.mediaType," and stream id ").concat(L.id)),(isNaN(Oe.index)||isNaN(Y))&&(Y=Oe.quality,K.info("["+y+"] lastInitializedRepresentationInfo changed to "+Oe.quality)),he(0)}function j(){O.abortRequests(),fe()}function $(){A.get().streaming.scheduling.scheduleWhilePaused||he()}function ce(Oe){N.updatePlayListTraceMetrics({playbackspeed:Oe.playbackRate.toString()})}function we(){oe=!0,Z=0,Y=NaN,W={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},x=NaN,G=!1,ie=!1}return E={initialize:function J(Oe){H=Oe,_.on(w.default.BYTES_APPENDED_END_FRAGMENT,z,E),_.on(w.default.URL_RESOLUTION_FAILED,j,E),_.on(c.default.PLAYBACK_STARTED,$,E),_.on(c.default.PLAYBACK_RATE_CHANGED,ce,E),_.on(c.default.PLAYBACK_TIME_UPDATED,Ee,E)},getType:function de(){return y},getStreamId:function ae(){return L.id},setCurrentRepresentation:function pe(Oe){ee=Oe},setTimeToLoadDelay:function ue(Oe){Z=Oe},getTimeToLoadDelay:function be(){return Z},setSwitchTrack:function te(Oe){G=Oe},getSwitchStrack:function me(){return G},startScheduleTimer:he,clearScheduleTimer:fe,reset:function je(){_.off(w.default.BYTES_APPENDED_END_FRAGMENT,z,E),_.off(w.default.URL_RESOLUTION_FAILED,j,E),_.off(c.default.PLAYBACK_STARTED,$,E),_.off(c.default.PLAYBACK_RATE_CHANGED,ce,E),_.off(c.default.PLAYBACK_TIME_UPDATED,Ee,E),fe(),q(!1),we(),L=null},getBufferTarget:F,getPlaybackController:function Ce(){return v},setCheckPlaybackQuality:function Re(Oe){oe=Oe},setInitSegmentRequired:function Pe(Oe){ie=Oe}},function ye(){K=Object(R.default)(f).getInstance().getLogger(E),we(),L=d.streamInfo}(),E}l.__dashjs_factory_name="ScheduleController",k.default=P.default.getClassFactory(l)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=m(
/*! ../Stream */
"./src/streaming/Stream.js"),w=m(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),P=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),R=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),D=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),c=m(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),l=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),d=m(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),f=m(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),_=m(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),N=m(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),S=m(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),O=m(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=m(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),v=m(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),p=m(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function y(H){return function L(H){if(Array.isArray(H))return K(H)}(H)||function E(H){if(typeof Symbol<"u"&&null!=H[Symbol.iterator]||null!=H["@@iterator"])return Array.from(H)}(H)||function A(H,W){if(H){if("string"==typeof H)return K(H,W);var x=Object.prototype.toString.call(H).slice(8,-1);if("Object"===x&&H.constructor&&(x=H.constructor.name),"Map"===x||"Set"===x)return Array.from(H);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return K(H,W)}}(H)||function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(H,W){(null==W||W>H.length)&&(W=H.length);for(var x=0,Y=new Array(W);x<W;x++)Y[x]=H[x];return Y}function le(){var x,Y,G,ie,oe,ye,J,de,ae,pe,he,fe,ve,se,Se,_e,ne,X,F,V,re,U,te,me,Ee,q,z,j,$,ce,ue,be,Re,Pe,we,je,Ce,Oe,ze,Le,Ye,et,rt,it,ht,Dt,Ht,jt,Yt,H=this.context,W=Object(P.default)(H).getInstance();function Ge(){if(!(ye&&ye.hasOwnProperty("load")&&U&&U.hasOwnProperty("initialize")&&U.hasOwnProperty("reset")&&U.hasOwnProperty("getClientTimeOffset")&&J&&re&&ae&&Pe))throw new Error(M.default.MISSING_CONFIG_ERROR)}function ot(){if(!oe||!oe.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function _t(){!function Be(){try{var We=de.getStreamsInfo();if(!me&&0===We.length)throw new Error("There are no periods in the MPD");me&&We.length>0&&ae.updateManifestUpdateInfo({currentTime:Pe.getTime(),buffered:Re.getBufferRange(),presentationStartTime:We[0].start,clientTimeOffset:U.getClientTimeOffset()}),te.length>0&&function _o(We){0!==We.length?te=te.filter(function(ft){var an=We.filter(function(gn){return gn.id===ft.getId()}).length>0||ft.getId()===me.getId();return an||(Y.debug("Removing stream ".concat(ft.getId())),ft.reset(!0)),an}):Y.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(We);for(var ft=[],Tt=0,an=We.length;Tt<an;Tt++){var gn=We[Tt];ft.push(Je(gn)),ae.addManifestUpdateStreamInfo(gn)}Promise.all(ft).then(function(){return ht.get().streaming.applyContentSteering&&!me&&fe.shouldQueryBeforeStart()?fe.loadSteeringData():Promise.resolve()}).then(function(){me||ct(We),W.trigger(R.default.STREAMS_COMPOSED),ut()}).catch(function(An){throw An})}catch(An){re.error(new O.default(b.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,An.message+" nostreamscomposed",J.getValue())),ue=!0,Fa()}}()}function pt(){Dt=!0}function Je(We){var ft=Ii(We.id);return ft?ft.updateData(We):(ft=Object(I.default)(H).create({manifestModel:J,mediaPlayerModel:je,dashMetrics:ae,manifestUpdater:oe,adapter:de,timelineConverter:U,capabilities:G,capabilitiesFilter:ie,errHandler:re,baseURLController:ve,segmentBaseController:se,textController:q,abrController:_e,playbackController:Pe,eventController:X,mediaController:ne,protectionController:Ee,videoModel:Re,streamInfo:We,settings:ht}),te.push(ft),ft.initialize(),Promise.resolve())}function ct(We){qe();var ft=ae.getCurrentDVRInfo().range;if(ft.end<ft.start){Ht&&clearTimeout(Ht);var Tt=Math.min(1e3*(-1*(ft.end-ft.start)+2),2147483647);return Y.debug("Waiting for ".concat(Tt," ms before playback can start")),W.trigger(R.default.AST_IN_FUTURE,{delay:Tt}),void(Ht=setTimeout(function(){ct(We)},Tt))}ht.get().streaming.applyProducerReferenceTime&&we.calculateProducerReferenceTimeOffsets(We);var an=We[0].manifestInfo;if(ht.get().streaming.applyServiceDescription&&we.applyServiceDescription(an),de.getIsDynamic()){var gn=yt(We,an);Pe.computeAndSetLiveDelay(gn,an)}var An=function on(){var We;if(de.getIsDynamic()){var Tt=ae.getCurrentDVRInfo();We=(Tt&&Tt.range?Tt.range.end:0)-Pe.getOriginalLiveDelay();var gn=Tt?Tt.range:null;if(gn){if(isNaN(jt)&&-1===jt.toString().indexOf("posix:")){var vt=fi(!0);isNaN(vt)||(Y.info("Start time from URI parameters: ".concat(vt)),We=Math.min(We,vt))}else{Y.info("Start time provided by the app: ".concat(jt));var An=Ai(!0,jt);isNaN(An)||(We=Math.min(We,An))}var mr=ht.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;We=Math.max(We,gn.start+mr)}}else if(We=Ba()[0].getStreamInfo().start,isNaN(jt)){var ka=fi(!1);isNaN(ka)||(Y.info("Start time from URI parameters: ".concat(ka)),We=Math.max(We,ka))}else{Y.info("Start time provided by the app: ".concat(jt));var il=Ai(!1,jt);isNaN(il)||(We=Math.max(We,il))}return We}(),vt=Ue(An),mr=null!==vt?vt:te[0];W.trigger(R.default.INITIAL_STREAM_SWITCH,{startTime:An}),gt(mr,null,An),function Lt(){Ye||(Ye=setInterval(function(){!$&&Pe.getTimeToStreamEnd()<=0&&!Pe.isSeeking()&&W.trigger(R.default.PLAYBACK_ENDED,{isLast:ia().isLast})},200))}()}function gt(We,ft,Tt){try{if($||!We||ft===We&&We.getIsActive())return;$=!0,W.trigger(R.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:ft?ft.getStreamInfo():null,toStreamInfo:We.getStreamInfo()});var an=!1;me=We,ft&&(an=tt(We,ft),ft.deactivate(an)),Tt=isNaN(Tt)?!an&&ft?We.getStreamInfo().start:NaN:Tt,Y.info("Switch to stream ".concat(We.getId(),". Seektime is ").concat(Tt,", current playback time is ").concat(Pe.getTime(),". Seamless period switch is set to ").concat(an)),rt=rt.filter(function(gn){return gn.getId()!==me.getId()}),Pe.initialize(ia(),!!ft),Re.getElement()&&At(Tt,an)}catch{$=!1}}function At(We,ft){var Tt;function an(){if(be&&"open"===be.readyState){Y.debug("MediaSource is open!"),window.URL.revokeObjectURL(Tt),be.removeEventListener("sourceopen",an),be.removeEventListener("webkitsourceopen",an),cn();var An=ae.getCurrentDVRInfo();pe.setSeekable(An.range.start,An.range.end),Ot(We,ft)}}function gn(){be.addEventListener("sourceopen",an,!1),be.addEventListener("webkitsourceopen",an,!1),Tt=pe.attachMediaSource(Re),Y.debug("MediaSource attached to element.  Waiting on open...")}be?ft?Ot(We,ft):(pe.detachMediaSource(Re),gn()):(be=pe.createMediaSource(),gn())}function Ot(We,ft){me.activate(be,ft?et:void 0,We).then(function(Tt){if(Tt){var an=Object.keys(Tt);an.length>0&&Tt[an[0]].getBuffer().changeType&&(it=!0),et=Tt}isNaN(We)||(W.trigger(R.default.SEEK_TARGET,{time:We},{streamId:me.getId()}),Pe.seek(We,!1,!0),me.startScheduleControllers()),$=!1,W.trigger(R.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:ia()})})}function Nt(We){var Tt=Ue(We.seekTime);Tt&&Tt!==me?Tt&&Tt!==me&&(un(),function _r(We,ft){var Tt=We&&!isNaN(We.seekTime)?We.seekTime:NaN,gn=me.getProcessors().map(function(An){return An.prepareOuterPeriodPlaybackSeeking(We)});Promise.all(gn).then(function(){gt(ft,me,Tt)}).catch(function(An){re.error(An)})}(We,Tt)):(un(),function Gn(We){me.getProcessors().forEach(function(Tt){return Tt.prepareInnerPeriodPlaybackSeeking(We)}),ls(c.PlayListTrace.USER_REQUEST_STOP_REASON)}(We)),La(c.PlayList.SEEK_START_REASON)}function un(){en()}function en(){rt&&rt.length>0&&(rt.forEach(function(We){We.deactivate(!0)}),rt=[])}function Ae(We){We.newMediaInfo.streamInfo.id===me.getId()&&(en(),me.prepareTrackChange(We))}function tt(We,ft){try{return ht.get().streaming.buffer.reuseExistingSourceBuffers&&(ft.isProtectionCompatible(We)||Dt)&&(it||ft.isMediaCodecCompatible(We,ft))}catch{return!1}}function Ct(We){var ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;be&&!We.getPreloaded()&&tt(We,ft)&&We.startPreloading(be,et).then(function(){rt.push(We)})}function Ue(We){if(isNaN(We))return null;for(var ft=te.length,Tt=0;Tt<ft;Tt++){var an=te[Tt];if(We<parseFloat((an.getStartTime()+an.getDuration()).toFixed(5)))return an}return null}function qe(){try{var We=de.getIsDynamic(),Tt=de.getStreamsInfo()[0].manifestInfo,an=Pe.getTime(),gn=U.calcTimeShiftBufferWindow(te,We),An=It();if(typeof gn.start>"u"||typeof gn.end>"u")return;An&&0!==An.length?An.forEach(function(vt){ae.addDVRInfo(vt.getType(),an,Tt,gn)}):ae.addDVRInfo(M.default.VIDEO,an,Tt,gn)}catch{}}function at(We){if(ze&&j){var ft=je.getInitialBufferLevel(),Tt=[M.default.TEXT];(isNaN(ft)||ft<=Pe.getBufferLevel(Tt)||de.getIsDynamic()&&ft>Pe.getLiveDelay())&&(ze=!1,La(c.PlayList.INITIAL_PLAYOUT_START_REASON),Pe.play())}We&&We.mediaType&&ae.addBufferLevel(We.mediaType,new Date,1e3*We.bufferLevel)}function Mt(We){We.streamInfo.id===me.getId()&&We.reason&&We.reason.forceReplace&&en(),Ii(We.streamInfo.id).prepareQualityChange(We)}function sn(){if(de.getIsDynamic()&&0!==Pe.getOriginalLiveDelay()&&me){var We=de.getStreamsInfo();if(We.length>0){var ft=We[0].manifestInfo,Tt=yt(We,ft);Pe.computeAndSetLiveDelay(Tt,ft)}}}function $t(){if(mn()){var We=Re.getPlaybackQuality();We&&ae.addDroppedFrames(We)}}function He(){Y.debug("[onPlaybackStarted]"),!ze&&Oe&&La(c.PlayList.RESUME_FROM_PAUSE_START_REASON),ze&&(ze=!1),Le&&(Le=!1,ht.get().streaming.applyContentSteering&&!fe.shouldQueryBeforeStart()&&fe.loadSteeringData()),Oe=!1}function ke(We){Y.debug("[onPlaybackPaused]"),We.ended||(Oe=!0,ls(c.PlayListTrace.USER_REQUEST_STOP_REASON))}function Qe(We){Y.debug("Stream with id ".concat(We.streamInfo.id," finished buffering")),be&&We.streamInfo.isLast?(Y.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),pe.signalEndOfStream(be)):ut()}function ut(){if(me&&me.getHasFinishedBuffering())for(var We=function In(){var We=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var ft=We||me||null;if(ft){var Tt=ft.getStreamInfo();return te.filter(function(an){var gn=an.getStreamInfo();return gn.start>Tt.start&&Tt.id!==gn.id})}}catch{return[]}}(me),ft=0;ft<We.length;){var Tt=We[ft],an=0===ft?me:We[ft-1];!Tt.getPreloaded()&&an.getHasFinishedBuffering()&&be&&Ct(Tt,an),ft+=1}}function Pt(){Ye&&(clearInterval(Ye),Ye=null)}function It(){return me?me.getProcessors():[]}function Vt(We){if(me&&!me.getIsEndedEventSignaled()){me.setIsEndedEventSignaled(!0);var ft=function kt(){var ft=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||me||null;if(!ft)return null;for(var Tt=ft.getStreamInfo(),an=Tt.start,gn=0,An=-1,vt=NaN;gn<te.length;){var dn=te[gn].getStreamInfo(),hi=dn.start-an;hi>0&&(isNaN(vt)||hi<vt)&&Tt.id!==dn.id&&(vt=hi,An=gn),gn+=1}return An>=0?te[An]:null}();ft?(Y.debug("StreamController onEnded, found next stream with id ".concat(ft.getStreamInfo().id,". Switching from ").concat(me.getStreamInfo().id," to ").concat(ft.getStreamInfo().id)),gt(ft,me,NaN)):(Y.debug("StreamController no next stream found"),me.setIsEndedEventSignaled(!1)),ls(ft?c.PlayListTrace.END_OF_PERIOD_STOP_REASON:c.PlayListTrace.END_OF_CONTENT_STOP_REASON)}We&&We.isLast&&(Pt(),fe.stopSteeringRequestTimer())}function cn(We){var ft=We||ia().manifestInfo.duration;pe.setDuration(ft)}function fi(We){var ft=Se.getURIFragmentData();if(!ft||!ft.t)return NaN;var an=Ba()[0].getStreamInfo().start;return ft.t=ft.t.split(",")[0],na(We,ft.t,an)}function Ai(We,ft){var Tt=0;return We||(Tt=Ba()[0].getStreamInfo().start),na(We,ft,Tt)}function na(We,ft,Tt){var an=de.getRegularPeriods()[0],gn=ft.toString(),An=-1!==gn.indexOf("posix:")?"now"===gn.substring(6)?Date.now()/1e3:parseFloat(gn.substring(6)):NaN;return We&&!isNaN(An)?U.calcPresentationTimeFromWallTime(new Date(1e3*An),an):parseFloat(gn)+Tt}function yt(We,ft){try{var Tt=NaN;if(ft&&!isNaN(ft.maxFragmentDuration)&&isFinite(ft.maxFragmentDuration))return ft.maxFragmentDuration;if(We&&1===We.length){var an=We[0],An=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT].reduce(function(vt,mr){var dn=de.getMediaInfoForType(an,mr);return dn&&!1!==dn.isFragmented&&vt.push(dn),vt},[]).reduce(function(vt,mr){var dn=de.getVoRepresentations(mr);return dn&&dn.length>0&&dn.forEach(function(hi){hi&&vt.push(hi)}),vt},[]).reduce(function(vt,mr){var dn=de.convertRepresentationToRepresentationInfo(mr);return dn&&dn.fragmentDuration&&!isNaN(dn.fragmentDuration)&&vt.push(dn.fragmentDuration),vt},[]);Tt=Math.max.apply(Math,y(An))}return isFinite(Tt)?Tt:NaN}catch{return NaN}}function ki(We){if(We.error)ue=!0,Fa();else{Y.info("Manifest updated... updating data system wide.");var ft=We.manifest;de.updatePeriods(ft);var Tt=de.getUTCTimingSources();de.getIsDynamic()&&(!Tt||0===Tt.length)&&W.trigger(_.default.CONFORMANCE_VIOLATION,{level:p.default.LEVELS.WARNING,event:p.default.EVENTS.NO_UTC_TIMING_ELEMENT});var an=de.getIsDynamic()?Tt.concat(Ce.getUTCTimingSources()):Tt,gn=V.isHTTPS(We.manifest.url);an.forEach(function(An){An.value.replace(/.*?:\/\//g,"")===ht.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(An.value=An.value.replace(gn?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),gn?"https://":"http://"),Y.debug("Matching default timing source protocol to manifest protocol: ",An.value))}),ie.filterUnsupportedFeatures(ft).then(function(){ve.initialize(ft),he.attemptSync(an,de.getIsDynamic())})}}function mn(){return!!me&&me.getHasVideoTrack()}function Fn(){return!!me&&me.getHasAudioTrack()}function ls(We,ft){ft=ft||new Date,It().forEach(function(Tt){Tt.finalisePlayList(ft,We)}),ae.addPlayList()}function La(We){ae.createPlaylistMetrics(1e3*Pe.getTime(),We)}function ra(We){if(We.error){var ft="";switch(We.error.code){case 1:ft="MEDIA_ERR_ABORTED";break;case 2:ft="MEDIA_ERR_NETWORK";break;case 3:ft="MEDIA_ERR_DECODE",Yt.counts.mediaErrorDecode+=1;break;case 4:ft="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:ft="MEDIA_ERR_ENCRYPTED";break;default:ft="UNKNOWN"}if("MEDIA_ERR_DECODE"===ft&&ht.get().errors.recoverAttempts.mediaErrorDecode>=Yt.counts.mediaErrorDecode)return void function $r(){Y.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var We=Pe.getTime();me.deactivate(!1),Y.warn("MediaSource has been resetted. Resuming playback from time ".concat(We)),At(We,!1)}();ce=!0,We.error.message&&(ft+=" ("+We.error.message+")"),We.error.msExtendedCode&&(ft+=" (0x"+(We.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),Y.fatal("Video Element Error: "+ft),We.error&&Y.fatal(We.error),re.error(new O.default(We.error.code,ft)),Fa()}}function ia(){return me?me.getStreamInfo():null}function Ii(We){for(var ft=0,Tt=te.length;ft<Tt;ft++)if(te[ft].getId()===We)return te[ft];return null}function Lu(We){isNaN(We.newDuration)||cn(We.newDuration)}function rl(){te=[],jt=NaN,Ee=null,$=!1,me=null,ce=!1,ue=!1,ze=!0,Le=!0,Oe=!1,j=!0,Ye=null,Dt=!1,it=!1,rt=[],Ht=null,Yt={counts:{mediaErrorDecode:0}}}function Fa(){Ge(),he.reset(),ls(ce||ue?c.PlayListTrace.FAILURE_STOP_REASON:c.PlayListTrace.USER_REQUEST_STOP_REASON);for(var We=0,ft=te?te.length:0;We<ft;We++)te[We].reset(ce);(function Ne(){W.off(_.default.PLAYBACK_TIME_UPDATED,$t,x),W.off(_.default.PLAYBACK_SEEKING,Nt,x),W.off(_.default.PLAYBACK_ERROR,ra,x),W.off(_.default.PLAYBACK_STARTED,He,x),W.off(_.default.PLAYBACK_PAUSED,ke,x),W.off(_.default.PLAYBACK_ENDED,Vt,x),W.off(_.default.METRIC_ADDED,Fu,x),W.off(_.default.MANIFEST_VALIDITY_CHANGED,Lu,x),W.off(_.default.BUFFER_LEVEL_UPDATED,at,x),W.off(_.default.QUALITY_CHANGE_REQUESTED,Mt,x),R.default.KEY_SESSION_UPDATED&&W.off(R.default.KEY_SESSION_UPDATED,pt,x),W.off(R.default.MANIFEST_UPDATED,ki,x),W.off(R.default.STREAM_BUFFERING_COMPLETED,Qe,x),W.off(R.default.TIME_SYNCHRONIZATION_COMPLETED,_t,x),W.off(R.default.CURRENT_TRACK_CHANGED,Ae,x),W.off(R.default.SETTING_UPDATED_LIVE_DELAY,sn,x),W.off(R.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,sn,x)})(),ve.reset(),oe.reset(),X.reset(),ae.clearAllCurrentMetrics(),J.setValue(null),ye.reset(),U.reset(),F.reset(),be&&(pe.detachMediaSource(Re),be=null),Re=null,Ee&&(Ee=null,z=null,J.getValue()&&W.trigger(R.default.PROTECTION_DESTROYED,{data:J.getValue().url})),Pt(),W.trigger(R.default.STREAM_TEARDOWN_COMPLETE),rl()}function Fu(We){if(We.metric===T.default.DVR_INFO){var ft=Fn()?M.default.AUDIO:M.default.VIDEO;We.mediaType===ft&&pe.setSeekable(We.value.range.start,We.value.range.end)}}function Ba(){return te}return x={initialize:function De(We,ft){Ge(),j=We,z=ft,U.initialize(),(oe=Object(w.default)(H).create()).setConfig({manifestModel:J,adapter:de,manifestLoader:ye,errHandler:re,settings:ht}),oe.initialize(),(X=Object(v.default)(H).getInstance()).setConfig({manifestUpdater:oe,playbackController:Pe,settings:ht}),X.start(),he.setConfig({dashMetrics:ae,baseURLController:ve,errHandler:re,settings:ht}),he.initialize(),Ee&&(W.trigger(R.default.PROTECTION_CREATED,{controller:Ee}),Ee.setMediaElement(Re.getElement()),z&&Ee.setProtectionData(z)),function Te(){W.on(_.default.PLAYBACK_TIME_UPDATED,$t,x),W.on(_.default.PLAYBACK_SEEKING,Nt,x),W.on(_.default.PLAYBACK_ERROR,ra,x),W.on(_.default.PLAYBACK_STARTED,He,x),W.on(_.default.PLAYBACK_PAUSED,ke,x),W.on(_.default.PLAYBACK_ENDED,Vt,x),W.on(_.default.METRIC_ADDED,Fu,x),W.on(_.default.MANIFEST_VALIDITY_CHANGED,Lu,x),W.on(_.default.BUFFER_LEVEL_UPDATED,at,x),W.on(_.default.QUALITY_CHANGE_REQUESTED,Mt,x),R.default.KEY_SESSION_UPDATED&&W.on(R.default.KEY_SESSION_UPDATED,pt,x),W.on(R.default.MANIFEST_UPDATED,ki,x),W.on(R.default.STREAM_BUFFERING_COMPLETED,Qe,x),W.on(R.default.TIME_SYNCHRONIZATION_COMPLETED,_t,x),W.on(R.default.CURRENT_TRACK_CHANGED,Ae,x),W.on(R.default.SETTING_UPDATED_LIVE_DELAY,sn,x),W.on(R.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,sn,x)}()},getActiveStreamInfo:ia,addDVRMetric:qe,hasVideoTrack:mn,hasAudioTrack:Fn,getStreamById:Ii,getStreamForTime:Ue,getTimeRelativeToStreamId:function Ke(We,ft){for(var Tt=null,an=0,gn=0,An=null,vt=0;vt<te.length;vt++){if(gn=(Tt=te[vt]).getStartTime(),An=Tt.getDuration(),Number.isFinite(gn)&&(an=gn),Tt.getId()===ft)return We-an;Number.isFinite(An)&&(an+=An)}return null},load:function Ze(We){var ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Ge(),jt=ft,ye.load(We)},loadWithManifest:function lt(We){var ft=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;ot(),jt=ft,oe.setManifest(We)},getActiveStreamProcessors:It,setConfig:function ff(We){We&&(We.capabilities&&(G=We.capabilities),We.capabilitiesFilter&&(ie=We.capabilitiesFilter),We.manifestLoader&&(ye=We.manifestLoader),We.manifestModel&&(J=We.manifestModel),We.mediaPlayerModel&&(je=We.mediaPlayerModel),We.customParametersModel&&(Ce=We.customParametersModel),We.protectionController&&(Ee=We.protectionController),We.adapter&&(de=We.adapter),We.dashMetrics&&(ae=We.dashMetrics),We.errHandler&&(re=We.errHandler),We.timelineConverter&&(U=We.timelineConverter),We.videoModel&&(Re=We.videoModel),We.playbackController&&(Pe=We.playbackController),We.serviceDescriptionController&&(we=We.serviceDescriptionController),We.contentSteeringController&&(fe=We.contentSteeringController),We.textController&&(q=We.textController),We.abrController&&(_e=We.abrController),We.mediaController&&(ne=We.mediaController),We.settings&&(ht=We.settings),We.baseURLController&&(ve=We.baseURLController),We.uriFragmentModel&&(Se=We.uriFragmentModel),We.segmentBaseController&&(se=We.segmentBaseController))},setProtectionData:function hf(We){z=We,Ee&&Ee.setProtectionData(z)},getIsStreamSwitchInProgress:function Nu(){return $},switchToVideoElement:function nl(We){me&&(Pe.initialize(ia()),At(We,!1))},getHasMediaOrInitialisationError:function df(){return ce||ue},getStreams:Ba,getActiveStream:function Yn(){return me},getInitialPlayback:function qn(){return ze},getAutoPlay:function xn(){return j},reset:Fa},function Zt(){Y=Object(l.default)(H).getInstance().getLogger(x),he=Object(N.default)(H).getInstance(),pe=Object(S.default)(H).getInstance(),F=Object(d.default)(H).getInstance(),V=Object(f.default)(H).getInstance(),rl()}(),x}le.__dashjs_factory_name="StreamController",k.default=D.default.getSingletonFactory(le)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),T=m(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=m(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),w=m(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),P=m(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),R=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),c=m(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function v(){var E,L,K,ee,Z,le,H,W,x,Y,G,ie,oe,ye,J,de,y=this.context,g=Object(I.default)(y).getInstance(),A=Object(c.default)(y).getInstance();function he(){W=[],x=[],Y=null,G=null,oe=null,ie=NaN,K=!1,ee=!1,ye=Z.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function se(){!Z.get().streaming.utcSynchronization.enabled||K||ee||!oe||!oe.value||!oe.schemeIdUri||isNaN(ie)||isNaN(Z.get().streaming.utcSynchronization.backgroundAttempts)||G&&(Date.now()-G)/1e3<30||(W=[],ee=!0,Se(isNaN(Z.get().streaming.utcSynchronization.backgroundAttempts)?2:Z.get().streaming.utcSynchronization.backgroundAttempts))}function Se(Pe){try{if(Pe<=0)return void ue();var we=Date.now();le[oe.schemeIdUri](oe.value,function(je){var Ce=Date.now(),Oe=ne(we,Ce,je);W.push(Oe),Se(Pe-1)},function(){ue()})}catch{ue()}}function _e(){var we=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!x||0===x.length||we>=x.length)F();else{var je=x[we];if(je)if(le.hasOwnProperty(je.schemeIdUri)){var Ce=(new Date).getTime();le[je.schemeIdUri](je.value,function(Oe){var ze=(new Date).getTime(),Le=ne(Ce,ze,Oe);oe=je,F(Le)},function(){_e(we+1)})}else _e(we+1);else F()}}function ne(Pe,we,je){return je-(we-(we-Pe)/2)}function F(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,we=isNaN(Pe);we&&Z.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?j():$(we,Pe)}function re(Pe){var we=Date.parse(Pe);return isNaN(we)&&(we=function V(Pe){var ze,Le,Ye=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Pe);return ze=Date.UTC(parseInt(Ye[1],10),parseInt(Ye[2],10)-1,parseInt(Ye[3],10),parseInt(Ye[4],10),parseInt(Ye[5],10),Ye[6]&&(parseInt(Ye[6],10)||0),Ye[7]&&1e3*parseFloat(Ye[7])||0),Ye[9]&&Ye[10]&&(Le=60*parseInt(Ye[9],10)+parseInt(Ye[10],10),ze+=("+"===Ye[8]?-1:1)*Le*60*1e3),new Date(ze).getTime()}(Pe)),we}function U(Pe){return Date.parse(Pe)}function te(Pe){return Date.parse(Pe)}function me(Pe,we,je){je()}function Ee(Pe,we,je){var Ce=re(Pe);isNaN(Ce)?je():we(Ce)}function q(Pe,we,je,Ce,Oe){var ze,Le,Ye=!1,et=new XMLHttpRequest,rt=Oe?T.HTTPRequest.HEAD:T.HTTPRequest.GET,it=we.match(/\S+/g);if(we=it.shift(),ze=function(){Ye||(Ye=!0,it.length?q(Pe,it.join(" "),je,Ce,Oe):Ce())},Le=function(){var Ht,jt;200===et.status&&(Ht=Oe?et.getResponseHeader("Date"):et.response,jt=Pe(Ht),isNaN(jt)||(je(jt),Ye=!0))},A.isRelative(we)){var ht=de.resolve();ht&&(we=A.resolve(we,ht.url))}et.open(rt,we),et.timeout=5e3,et.onload=Le,et.onloadend=ze,et.send()}function z(Pe,we,je){q(te,Pe,we,je,!0)}function j(){var Pe=H.getLatestMPDRequestHeaderValueByID("Date"),we=null!==Pe?new Date(Pe).getTime():Number.NaN;isNaN(we)?$(!0):$(!1,we-Date.now())}function $(Pe,we){if(!isNaN(ie)&&!isNaN(we)&&!Pe&&function ce(Pe){try{var Le,we=be(Pe),je=isNaN(ye)?30:ye,Ce=isNaN(Z.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:Z.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Oe=isNaN(Z.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:Z.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,ze=isNaN(Z.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:Z.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;we?(Le=Math.min(je*Ce,Oe),L.debug("Increasing timeBetweenSyncAttempts to ".concat(Le))):(Le=Math.max(je/Ce,ze),L.debug("Decreasing timeBetweenSyncAttempts to ".concat(Le))),ye=Le}catch{}}(we),!Pe&&!isNaN(we)){Y=Date.now(),K=!1;var je=isNaN(ie);ie=we,je&&se(),L.debug("Completed UTC sync. Setting client - server offset to ".concat(we))}Pe&&(oe=null,K=!1,J.error(new M.default(P.default.TIME_SYNC_FAILED_ERROR_CODE,P.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),g.trigger(w.default.UPDATE_TIME_SYNC_OFFSET,{offset:we}),g.trigger(w.default.TIME_SYNCHRONIZATION_COMPLETED)}function ue(){if(W&&0!==W.length){var Pe=W.reduce(function(we,je){return we+je},0)/W.length;be(Pe)?L.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(L.debug("Completed background UTC sync. Setting client - server offset to ".concat(Pe)),g.trigger(w.default.UPDATE_TIME_SYNC_OFFSET,{offset:ie=Pe})),ee=!1,G=Date.now()}}function be(Pe){try{if(isNaN(ie))return!0;var we=Z.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(Z.get().streaming.utcSynchronization.maximumAllowedDrift)?Z.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Pe>=ie-we&&Pe<=ie+we}catch{return!0}}return E={initialize:function fe(){he(),le={"urn:mpeg:dash:utc:http-head:2014":z,"urn:mpeg:dash:utc:http-xsdate:2014":q.bind(null,re),"urn:mpeg:dash:utc:http-iso:2014":q.bind(null,U),"urn:mpeg:dash:utc:direct:2014":Ee,"urn:mpeg:dash:utc:http-head:2012":z,"urn:mpeg:dash:utc:http-xsdate:2012":q.bind(null,re),"urn:mpeg:dash:utc:http-iso:2012":q.bind(null,U),"urn:mpeg:dash:utc:direct:2012":Ee,"urn:mpeg:dash:utc:http-ntp:2014":me,"urn:mpeg:dash:utc:ntp:2014":me,"urn:mpeg:dash:utc:sntp:2014":me}},attemptSync:function ve(Pe,we){if(x=Pe,!K){if(!function X(Pe){try{if(!Pe||!Z.get().streaming.utcSynchronization.enabled)return!1;var we=isNaN(ye)?30:ye;return!(Y&&we&&!isNaN(we))||(Date.now()-Y)/1e3>=we}catch{return!0}}(we))return void g.trigger(w.default.TIME_SYNCHRONIZATION_COMPLETED);K=!0,_e()}},setConfig:function pe(Pe){Pe&&(Pe.dashMetrics&&(H=Pe.dashMetrics),Pe.baseURLController&&(de=Pe.baseURLController),Pe.errHandler&&(J=Pe.errHandler),Pe.settings&&(Z=Pe.settings))},reset:function Re(){he(),g.off(w.default.ATTEMPT_BACKGROUND_SYNC,se,E)}},function ae(){L=Object(D.default)(y).getInstance().getLogger(E),g.on(w.default.ATTEMPT_BACKGROUND_SYNC,se,E)}(),E}v.__dashjs_factory_name="TimeSyncController";var p=R.default.getSingletonFactory(v);p.HTTP_TIMEOUT_MS=5e3,R.default.updateSingletonFactory(v.__dashjs_factory_name,p),k.default=p},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),T=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=m(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),R=m(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),D=m(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),c="onLoad";function f(_){_=_||{};var b,v,p,y,g,A,N=this.context,S=Object(T.default)(N).getInstance(),O=Object(R.default)(N).getInstance();function le(ye,J,de){var pe,he,ae={};ae.elements=ye,ae.type=J,ae.resolveType=de,0===ae.elements.length&&W(ae);for(var fe=0;fe<ae.elements.length;fe++)he=O.isHTTPURL((pe=ae.elements[fe]).url)?pe.url:pe.originalContent.BaseURL+pe.url,A.load(he,pe,ae)}function H(ye){var J,de,he="";if(de=ye.resolveObject,(J=ye.element).resolvedContent){var fe=0;0===J.resolvedContent.indexOf("<?xml")&&(fe=J.resolvedContent.indexOf("?>")+2),he=J.resolvedContent.substr(0,fe)+"<response>"+J.resolvedContent.substr(fe)+"</response>",J.resolvedContent=g.xml_str2json(he)}(function ie(ye){var J;for(J=0;J<ye.elements.length;J++)if(!1===ye.elements[J].resolved)return!1;return!0})(de)&&W(de)}function W(ye){var de,ae,J=[];if(function Y(ye){var de,ae,he,fe,ve,J=[];for(he=ye.elements.length-1;he>=0;he--){if(ae=(de=ye.elements[he]).type+"_asArray",de.resolvedContent){if(de.resolvedContent)for(fe=0;fe<de.resolvedContent[ae].length;fe++)J.push(de.resolvedContent[ae][fe])}else delete de.originalContent["xlink:actuate"],delete de.originalContent["xlink:href"],J.push(de.originalContent);for(de.parentElement[ae].splice(de.index,1),ve=0;ve<J.length;ve++)de.parentElement[ae].splice(de.index+ve,0,J[ve]);J=[]}ye.elements.length>0&&p.run(y)}(ye),"onActuate"===ye.resolveType&&S.trigger(I.default.XLINK_READY,{manifest:y}),ye.resolveType===c)switch(ye.type){case D.default.PERIOD:for(de=0;de<y[D.default.PERIOD+"_asArray"].length;de++)(ae=y[D.default.PERIOD+"_asArray"][de]).hasOwnProperty(D.default.ADAPTATION_SET+"_asArray")&&(J=J.concat(x(ae[D.default.ADAPTATION_SET+"_asArray"],ae,D.default.ADAPTATION_SET,c))),ae.hasOwnProperty(D.default.EVENT_STREAM+"_asArray")&&(J=J.concat(x(ae[D.default.EVENT_STREAM+"_asArray"],ae,D.default.EVENT_STREAM,c)));le(J,D.default.ADAPTATION_SET,c);break;case D.default.ADAPTATION_SET:S.trigger(I.default.XLINK_READY,{manifest:y})}}function x(ye,J,de,ae){var he,fe,ve,pe=[];for(fe=ye.length-1;fe>=0;fe--)(he=ye[fe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===he["xlink:href"]&&ye.splice(fe,1);for(fe=0;fe<ye.length;fe++)(he=ye[fe]).hasOwnProperty("xlink:href")&&he.hasOwnProperty("xlink:actuate")&&he["xlink:actuate"]===ae&&(ve=G(he["xlink:href"],J,de,fe,ae,he),pe.push(ve));return pe}function G(ye,J,de,ae,pe,he){return{url:ye,parentElement:J,type:de,index:ae,resolveType:pe,originalContent:he,resolvedContent:null,resolved:!1}}return b={resolveManifestOnLoad:function ee(ye){g=new P.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:v}),(y=ye).Period_asArray?le(x(y.Period_asArray,y,D.default.PERIOD,c),D.default.PERIOD,c):S.trigger(I.default.XLINK_READY,{manifest:y})},setMatchers:function L(ye){ye&&(v=ye)},setIron:function K(ye){ye&&(p=ye)},reset:function Z(){S.off(I.default.XLINK_ELEMENT_LOADED,H,b),A&&(A.reset(),A=null)}},function E(){S.on(I.default.XLINK_ELEMENT_LOADED,H,b),A=Object(M.default)(N).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings})}(),b}f.__dashjs_factory_name="XlinkController",k.default=w.default.getClassFactory(f)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),T=m(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),I=m(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),w=m(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),P=m(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function R(){var c=this.context;return{createMetricsReporting:function f(S){return Object(M.default)(c).getInstance({eventBus:S.eventBus,dashMetrics:S.dashMetrics,metricsConstants:S.metricsConstants,events:S.events}).initialise(),Object(I.default)(c).create(S)},getReportingFactory:function _(){return Object(P.default)(c).getInstance()},getMetricsHandlerFactory:function N(){return Object(w.default)(c).getInstance()}}}R.__dashjs_factory_name="MetricsReporting";var D=dashjs.FactoryMaker.getClassFactory(R);D.events=T.default,dashjs.FactoryMaker.updateClassFactory(R.__dashjs_factory_name,D),k.default=D},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(k);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",g.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",g.CMCD_DATA_GENERATED="cmcdDataGenerated",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));k.default=b},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),T=m(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),I=m(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function w(P){var R,D={},c=this.context,l=(P=P||{}).eventBus,d=P.events;function f(O){if(!O.error){var b=Object.keys(D);Object(T.default)(c).getInstance({adapter:P.adapter,constants:P.constants}).getMetrics(O.manifest).forEach(function(p){var y=JSON.stringify(p);if(D.hasOwnProperty(y))b.splice(y,1);else try{var g=Object(M.default)(c).create(P);g.initialize(p),D[y]=g}catch{}}),b.forEach(function(p){D[p].reset(),delete D[p]}),l.trigger(I.default.METRICS_INITIALISATION_COMPLETE)}}function _(){Object.keys(D).forEach(function(O){D[O].reset()}),D={}}return R={reset:function S(){l.off(d.MANIFEST_UPDATED,f,R),l.off(d.STREAM_TEARDOWN_COMPLETE,_,R)}},function N(){l.on(d.MANIFEST_UPDATED,f,R),l.on(d.STREAM_TEARDOWN_COMPLETE,_,R)}(),R}w.__dashjs_factory_name="MetricsCollectionController",k.default=dashjs.FactoryMaker.getClassFactory(w)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),T=m(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),I=m(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function w(P){P=P||{};var R,D,c,d=this.context;function _(){R&&R.reset(),D&&D.reset(),c&&c.reset()}return{initialize:function f(N){try{(c=Object(M.default)(d).create({mediaElement:P.mediaElement})).initialize(N.Range),(D=Object(T.default)(d).create({debug:P.debug,metricsConstants:P.metricsConstants,mediaPlayerModel:P.mediaPlayerModel})).initialize(N.Reporting,c),(R=Object(I.default)(d).create({debug:P.debug,eventBus:P.eventBus,metricsConstants:P.metricsConstants,events:P.events})).initialize(N.metrics,D)}catch(S){throw _(),S}},reset:_}}w.__dashjs_factory_name="MetricsController",k.default=dashjs.FactoryMaker.getClassFactory(w)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function T(I){var P,w=[],R=this.context,D=(I=I||{}).eventBus,c=I.events,l=Object(M.default)(R).getInstance({debug:I.debug,eventBus:I.eventBus,metricsConstants:I.metricsConstants});function d(N){w.forEach(function(S){S.handleNewMetric(N.metric,N.value,N.mediaType)})}return P={initialize:function f(N,S){N.split(",").forEach(function(O,b,v){var p;if(-1!==O.indexOf("(")&&-1===O.indexOf(")")){var y=v[b+1];y&&-1===y.indexOf("(")&&-1!==y.indexOf(")")&&(O+=","+y,delete v[b+1])}(p=l.create(O,S))&&w.push(p)}),D.on(c.METRIC_ADDED,d,P),D.on(c.METRIC_UPDATED,d,P)},reset:function _(){D.off(c.METRIC_ADDED,d,P),D.off(c.METRIC_UPDATED,d,P),w.forEach(function(N){return N.reset()}),w=[]}}}T.__dashjs_factory_name="MetricsHandlersController",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function T(I){var R,D,w=!1,P=this.context,c=(I=I||{}).mediaElement;return R={initialize:function l(N){N&&N.length&&(N.forEach(function(S){var O=S.starttime;D.add(O,O+S.duration)}),w=!!N[0]._useWallClockTime)},reset:function d(){D.clear()},isEnabled:function _(){var S,N=D.length;if(!N)return!0;S=w?(new Date).getTime()/1e3:c.currentTime;for(var O=0;O<N;O+=1){var b=D.start(O),v=D.end(O);if(b<=S&&S<v)return!0}return!1}},function f(){D=Object(M.default)(P).create()}(),R}T.__dashjs_factory_name="RangeController",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function T(I){var w=[],R=Object(M.default)(this.context).getInstance(I);return{initialize:function D(d,f){d.some(function(_){var N=R.create(_,f);if(N)return w.push(N),!0})},reset:function c(){w.forEach(function(d){return d.reset()}),w=[]},report:function l(d,f){w.forEach(function(_){return _.report(d,f)})}}}T.__dashjs_factory_name="ReportingController",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),T=m(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),I=m(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),w=m(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function P(R){var D,c=(R=R||{}).debug?R.debug.getLogger(D):{},l=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,d=this.context,f={BufferLevel:M.default,DVBErrors:T.default,HttpList:I.default,PlayList:w.default,RepSwitchList:w.default,TcpList:w.default};return{create:function _(O,b){var p,v=O.match(l);if(v){try{(p=f[v[1]](d).create({eventBus:R.eventBus,metricsConstants:R.metricsConstants})).initialize(v[1],b,v[3],v[5])}catch(y){p=null,c.error("MetricsHandlerFactory: Could not create handler for type ".concat(v[1]," with args ").concat(v[3],", ").concat(v[5]," (").concat(y.message,")"))}return p}},register:function N(O,b){f[O]=b},unregister:function S(O){delete f[O]}}}P.__dashjs_factory_name="MetricsHandlerFactory",k.default=dashjs.FactoryMaker.getSingletonFactory(P)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function T(I){I=I||{};var P,R,D,c,l,d=this.context,f=Object(M.default)(d).getInstance(),_=[],N=I.metricsConstants;function O(){var y=function S(){try{return Object.keys(_).map(function(y){return _[y]}).reduce(function(y,g){return y.level<g.level?y:g})}catch{return}}();y&&l!==y.t&&(l=y.t,P.report(D,y))}return{initialize:function b(y,g,A){g&&(R=f.validateN(A),P=g,D=f.reconstructFullMetricName(y,A),c=setInterval(O,R))},reset:function v(){clearInterval(c),c=null,R=0,P=null,l=null},handleNewMetric:function p(y,g,A){y===N.BUFFER_LEVEL&&(_[A]=g)}}}T.__dashjs_factory_name="BufferLevelHandler",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");k.default=dashjs.FactoryMaker.getClassFactory(function T(I){var P,R=(I=I||{}).eventBus,D=I.metricsConstants;function c(){R.off(M.default.METRICS_INITIALISATION_COMPLETE,c,this),R.trigger(M.default.BECAME_REPORTING_PLAYER)}return{initialize:function l(_,N){N&&(P=N,R.on(M.default.METRICS_INITIALISATION_COMPLETE,c,this))},reset:function d(){P=null},handleNewMetric:function f(_,N){_===D.DVB_ERRORS&&P&&P.report(_,N)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(){var I,w;return{initialize:function P(c,l){I=c,w=l},reset:function R(){w=null,I=void 0},handleNewMetric:function D(c,l){c===I&&w&&w.report(I,l)}}}m.r(k),M.__dashjs_factory_name="GenericMetricHandler",k.default=dashjs.FactoryMaker.getClassFactory(M)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function T(I){I=I||{};var P,R,D,c,l,d=[],f=Object(M.default)(this.context).getInstance(),_=I.metricsConstants;function N(){d.length&&P&&P.report(c,d),d=[]}return{initialize:function S(v,p,y,g){p&&(R=f.validateN(y),P=p,g&&g.length&&(D=g),c=f.reconstructFullMetricName(v,y,g),l=setInterval(N,R))},reset:function O(){clearInterval(l),l=null,R=null,D=null,d=[],P=null},handleNewMetric:function b(v,p){v===_.HTTP_REQUEST&&(!D||D===p.type)&&d.push(p)}}}T.__dashjs_factory_name="HttpListHandler",k.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function T(I){var R,w={"urn:dvb:dash:reporting:2014":M.default},P=this.context,D=(I=I||{}).debug?I.debug.getLogger(R):{},c=I.metricsConstants,l=I.mediaPlayerModel||{};return{create:function d(N,S){var O;try{(O=w[N.schemeIdUri](P).create({metricsConstants:c,mediaPlayerModel:l})).initialize(N,S)}catch(b){O=null,D.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(N.schemeIdUri," (").concat(b.message,")"))}return O},register:function f(N,S){w[N]=S},unregister:function _(N){delete w[N]}}}T.__dashjs_factory_name="ReportingFactory",k.default=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),T=m(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),I=m(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function w(P){var R,c,l,d,f,_,N,S,D=this.context,v=[],p=(P=P||{}).metricsConstants;function L(){f=!1,_=!1,N=null,S=null}return R={report:function A(ee,Z){Array.isArray(Z)||(Z=[Z]),_&&S.isEnabled()&&Z.forEach(function(le){var H=c.serialise(le);ee!==p.DVB_ERRORS&&(H="metricname=".concat(ee,"&").concat(H)),function g(ee,Z,le){var H=new XMLHttpRequest;H.withCredentials=l.getXHRWithCredentialsForType(p.HTTP_REQUEST_DVB_REPORTING_TYPE);var W=function(){var Y=v.indexOf(H);-1!==Y&&(v.splice(Y,1),H.status>=200&&H.status<300?Z&&Z():le&&le())};v.push(H);try{H.open("GET",ee),H.onloadend=W,H.onerror=W,H.send()}catch{H.onerror()}}(H="".concat(N,"?").concat(H),null,function(){_=!1})})},initialize:function E(ee,Z){var le;if(S=Z,!(N=ee.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");f||((le=ee.dvb_probability)&&(1e3===le||le/1e3>=d.random())&&(_=!0),f=!0)},reset:function K(){L()}},function y(){c=Object(M.default)(D).getInstance(),d=Object(T.default)(D).getInstance(),l=Object(I.default)(D).getInstance(),L()}(),R}w.__dashjs_factory_name="DVBReporting",k.default=dashjs.FactoryMaker.getClassFactory(w)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),T=m(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function I(w){var P,R,D=(w=w||{}).eventBus,c=w.dashMetrics,l=w.metricsConstants,d=w.events;function f(g){var A=new M.default;if(R){for(var E in g)g.hasOwnProperty(E)&&(A[E]=g[E]);A.mpdurl||(A.mpdurl=R.originalUrl||R.url),A.terror||(A.terror=new Date),c.addDVBErrors(A)}}function _(g){g.error||(R=g.manifest)}function N(g){f({errorcode:M.default.BASE_URL_CHANGED,servicelocation:g.entry})}function S(){f({errorcode:M.default.BECAME_REPORTER})}function b(g){g.metric===l.HTTP_REQUEST&&function O(g){(0===g.responsecode||null==g.responsecode||g.responsecode>=400||g.responsecode<100||g.responsecode>=600)&&f({errorcode:g.responsecode||M.default.CONNECTION_ERROR,url:g.url,terror:g.tresponse,servicelocation:g._serviceLocation})}(g.value)}function v(g){var E;switch(g.error?g.error.code:0){case MediaError.MEDIA_ERR_NETWORK:E=M.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:E=M.default.CORRUPT_MEDIA_OTHER;break;default:return}f({errorcode:E})}return P={initialise:function p(){D.on(d.MANIFEST_UPDATED,_,P),D.on(d.SERVICE_LOCATION_BLACKLIST_CHANGED,N,P),D.on(d.METRIC_ADDED,b,P),D.on(d.METRIC_UPDATED,b,P),D.on(d.PLAYBACK_ERROR,v,P),D.on(T.default.BECAME_REPORTING_PLAYER,S,P)},reset:function y(){D.off(d.MANIFEST_UPDATED,_,P),D.off(d.SERVICE_LOCATION_BLACKLIST_CHANGED,N,P),D.off(d.METRIC_ADDED,b,P),D.off(d.METRIC_UPDATED,b,P),D.off(d.PLAYBACK_ERROR,v,P),D.off(T.default.BECAME_REPORTING_PLAYER,S,P)}}}I.__dashjs_factory_name="DVBErrorsTranslator",k.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(){return{reconstructFullMetricName:function(I,w,P){var R=I;return w&&(R+="("+w,P&&P.length&&(R+=","+P),R+=")"),R},validateN:function(I){if(!I)throw new Error("missing n");if(isNaN(I))throw new Error("n is NaN");if(I<0)throw new Error("n must be positive");return I}}}m.r(k),M.__dashjs_factory_name="HandlerHelpers",k.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),T=m(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),I=m(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function w(P){var D=(P=P||{}).adapter,c=P.constants;return{getMetrics:function d(f){var _=[];return f&&f.Metrics_asArray&&f.Metrics_asArray.forEach(function(N){var S=new M.default,O=D.getIsDynamic(f);N.hasOwnProperty("metrics")&&(S.metrics=N.metrics,N.Range_asArray&&N.Range_asArray.forEach(function(b){var v=new T.default;v.starttime=function l(f,_,N){var S,O,b=0;return _?b=D.getAvailabilityStartTime(f)/1e3:(S=D.getRegularPeriods(f)).length&&(b=S[0].start),O=b,N&&N.hasOwnProperty(c.START_TIME)&&(O+=N.starttime),O}(f,O,b),v.duration=b.hasOwnProperty("duration")?b.duration:D.getDuration(f),v._useWallClockTime=O,S.Range.push(v)}),N.Reporting_asArray&&(N.Reporting_asArray.forEach(function(b){var v=new I.default;b.hasOwnProperty(c.SCHEME_ID_URI)&&(v.schemeIdUri=b.schemeIdUri,b.hasOwnProperty("value")&&(v.value=b.value),b.hasOwnProperty(c.DVB_REPORTING_URL)&&(v.dvb_reportingUrl=b[c.DVB_REPORTING_URL]),b.hasOwnProperty(c.DVB_PROBABILITY)&&(v.dvb_probability=b[c.DVB_PROBABILITY]),S.Reporting.push(v))}),_.push(S)))}),_}}}w.__dashjs_factory_name="ManifestParsing",k.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(){return{serialise:function T(I){var R,D,w=[],P=[];for(R in I)if(I.hasOwnProperty(R)&&0!==R.indexOf("_")){if(null==(D=I[R])&&(D=""),Array.isArray(D)){if(!D.length)continue;P=[],D.forEach(function(c){var l="Object"!==Object.prototype.toString.call(c).slice(8,-1);P.push(l?c:T(c))}),D=P.map(encodeURIComponent).join(",")}else"string"==typeof D?D=encodeURIComponent(D):D instanceof Date?D=D.toISOString():"number"==typeof D&&(D=Math.round(D));w.push(R+"="+D)}return w.join("&")}}}m.r(k),M.__dashjs_factory_name="MetricSerialiser",k.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(){var R,D,c,T=window.crypto||window.msCrypto,I=Uint32Array,w=Math.pow(2,8*I.BYTES_PER_ELEMENT)-1;function l(){T&&(R||(R=new I(10)),T.getRandomValues(R),D=0)}return c={random:function d(f,_){var N;return f||(f=0),_||(_=1),T?(D===R.length&&l(),N=R[D]/w,D+=1):N=Math.random(),N*(_-f)+f}},l(),c}m.r(k),M.__dashjs_factory_name="RNG",k.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k);var D=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});D.SSL_CONNECTION_FAILED_PREFIX="SSL",D.DNS_RESOLUTION_FAILED="C00",D.HOST_UNREACHABLE="C01",D.CONNECTION_REFUSED="C02",D.CONNECTION_ERROR="C03",D.CORRUPT_MEDIA_ISOBMFF="M00",D.CORRUPT_MEDIA_OTHER="M01",D.BASE_URL_CHANGED="F00",D.BECAME_REPORTER="S00",k.default=D},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function T(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,w(_.key),_)}}function I(l,d,f){return d&&T(l.prototype,d),f&&T(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function w(l){var d=function P(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(k);k.default=I(function l(){(function R(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(_){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(_)}function w(_,N){for(var S=0;S<N.length;S++){var O=N[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,R(O.key),O)}}function P(_,N,S){return N&&w(_.prototype,N),S&&w(_,S),Object.defineProperty(_,"prototype",{writable:!1}),_}function R(_){var N=function D(_,N){if("object"!==I(_)||null===_)return _;var S=_[Symbol.toPrimitive];if(void 0!==S){var O=S.call(_,N||"default");if("object"!==I(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(_)}(_,"string");return"symbol"===I(N)?N:String(N)}var l=NaN,d=P(function _(N,S){(function c(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")})(this,_),this.data={baseUrls:N||null,selectedIdx:S||l},this.children=[]});function f(){var _,N,S,O=this.context,b=Object(M.default)(O).getInstance();function g(le,H,W){var x=S.getBaseURLsFromElement(W);le[H]?b.areEqual(x,le[H].data.baseUrls)||(le[H].data.baseUrls=x,le[H].data.selectedIdx=l):le[H]=new d(x)}function A(le){!function y(){if(!S||!S.hasOwnProperty("getBaseURLsFromElement")||!S.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var H=S.getBaseURLsFromElement(le);b.areEqual(H,N.data.baseUrls)||(N.data.baseUrls=H,N.data.selectedIdx=l),le&&le.Period_asArray&&le.Period_asArray.forEach(function(W,x){g(N.children,x,W),W.AdaptationSet_asArray&&W.AdaptationSet_asArray.forEach(function(Y,G){g(N.children[x].children,G,Y),Y.Representation_asArray&&Y.Representation_asArray.sort(S.getRepresentationSortFunction()).forEach(function(ie,oe){g(N.children[x].children[G].children,oe,ie)})})})}function E(le,H){var W=H||N;le(W.data),W.children&&W.children.forEach(function(x){return E(le,x)})}function ee(){N=new d}return _={reset:ee,update:function K(le){A(le)},getForPath:function Z(le){var H=N,W=[H.data];return le&&le.forEach(function(x){(H=H.children[x])&&W.push(H.data)}),W.filter(function(x){return x.baseUrls.length})},invalidateSelectedIndexes:function L(le){E(function(H){isNaN(H.selectedIdx)||le===H.baseUrls[H.selectedIdx].serviceLocation&&(H.selectedIdx=l)})},setConfig:function p(le){le.adapter&&(S=le.adapter)}},function v(){ee()}(),_}f.__dashjs_factory_name="BaseURLTreeModel",k.default=T.default.getClassFactory(f)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=m(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),I=m(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),w=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=m(
/*! ../../core/Settings */
"./src/core/Settings.js"),R=m(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),D=m(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),c=m(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),l=m(
/*! ../../core/Utils */
"./src/core/Utils.js");function d(g,A){var E=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!E){if(Array.isArray(g)||(E=function f(g,A){if(g){if("string"==typeof g)return _(g,A);var E=Object.prototype.toString.call(g).slice(8,-1);if("Object"===E&&g.constructor&&(E=g.constructor.name),"Map"===E||"Set"===E)return Array.from(g);if("Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _(g,A)}}(g))||A&&g&&"number"==typeof g.length){E&&(g=E);var L=0,K=function(){};return{s:K,n:function(){return L>=g.length?{done:!0}:{done:!1,value:g[L++]}},e:function(W){throw W},f:K}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var le,ee=!0,Z=!1;return{s:function(){E=E.call(g)},n:function(){var W=E.next();return ee=W.done,W},e:function(W){Z=!0,le=W},f:function(){try{!ee&&null!=E.return&&E.return()}finally{if(Z)throw le}}}}function _(g,A){(null==A||A>g.length)&&(A=g.length);for(var E=0,L=new Array(A);E<A;E++)L[E]=g[E];return L}var O_MANIFEST="m",O_AUDIO="a",O_VIDEO="v",O_INIT="i",O_CAPTION="c",O_ISOBMFF_TEXT_TRACK="tt",O_ENCRYPTION_KEY="k",O_OTHER="o",b_DASH="d",b_MSS="s",v_VOD="v",v_LIVE="l";function y(){var g,A,E,L,K,ee,Z,le,H,W,x=this.context,Y=Object(M.default)(x).getInstance(),G=Object(P.default)(x).getInstance();function J(){E={pr:1,nor:null,st:null,sf:null,sid:"".concat(l.default.generateUuid()),cid:null},H={},le={},W={},ae()}function de(){ae()}function ae(){if(ee){var Ce=ee.getStreamController();if(Ce&&"function"==typeof Ce.getActiveStream){var Oe=Ce.getActiveStream();Oe&&(Z=Oe.getProcessors())}}}function fe(Ce,Oe){var Ye,ze={},Le=d(Oe);try{for(Le.s();!(Ye=Le.n()).done;){var et=Ye.value;Ce[et]&&(ze[et]=Ce[et])}}catch(rt){Le.e(rt)}finally{Le.f()}return ze}function se(Ce){var Oe=G.get().streaming.cmcd.enabledKeys;return Ce.filter(function(ze){return Oe.includes(ze)})}function Se(Ce){try{return Ce.type===D.HTTPRequest.MPD_TYPE?function ne(){var Ce=U();return Ce.ot=O_MANIFEST,Ce}():Ce.type===D.HTTPRequest.MEDIA_SEGMENT_TYPE?(function F(Ce){W.hasOwnProperty(Ce)||(W[Ce]=!1),le.hasOwnProperty(Ce)||(le[Ce]=!1),H.hasOwnProperty(Ce)||(H[Ce]=!1)}(Ce.mediaType),function X(Ce){var Ht,Oe=U(),ze=function te(Ce){try{return parseInt(Ce.mediaInfo.bitrateList[Ce.quality].bandwidth/1e3)}catch{return null}}(Ce),Le=function Ee(Ce){try{return isNaN(Ce.duration)?null:Math.round(1e3*Ce.duration)}catch{return null}}(Ce),Ye=function q(Ce){try{return 100*parseInt(L.getThroughputHistory().getSafeAverageThroughput(Ce)/100)}catch{return null}}(Ce.mediaType),et=function z(Ce){try{var Oe=E.pr,ze=K.getCurrentBufferLevel(Ce);return isNaN(Oe)||isNaN(ze)?null:100*parseInt(ze/Oe*10)}catch{return null}}(Ce.mediaType),rt=j(Ce.mediaType),it=function me(Ce){try{var Oe=L.getTopBitrateInfoFor(Ce);return Math.round(Oe.bitrate/1e3)}catch{return null}}(Ce.mediaType),ht=E.pr,Dt=function Pe(Ce){if(Z&&0!==Z.length){var ze,Oe=d(Z);try{for(Oe.s();!(ze=Oe.n()).done;){var Le=ze.value;if(Le.getType()===Ce)return Le.probeNextRequest()}}catch(Ye){Oe.e(Ye)}finally{Oe.f()}}}(Ce.mediaType);Ce.mediaType===R.default.VIDEO&&(Ht=O_VIDEO),Ce.mediaType===R.default.AUDIO&&(Ht=O_AUDIO),Ce.mediaType===R.default.TEXT&&(Ht="application/mp4"===Ce.mediaInfo.mimeType?O_ISOBMFF_TEXT_TRACK:O_CAPTION);var jt=G.get().streaming.cmcd.rtp;return jt||(jt=function we(Ce){var Oe=ee.getPlaybackRate();Oe||(Oe=1);var ze=Ce.quality,Ye=Ce.mediaInfo,et=Ce.duration,rt=j(Ce.mediaType);0===rt&&(rt=500);var Ht=Ye.bitrateList[ze].bandwidth*et/1e3/(rt/Oe/1e3),jt=G.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(G.get().streaming.cmcd.rtpSafetyFactor)?G.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Ht*jt/100)+1)}(Ce)),Oe.rtp=jt,Dt&&(Ce.url!==Dt.url?Oe.nor=encodeURIComponent(l.default.getRelativeUrl(Ce.url,Dt.url)):Dt.range&&(Oe.nrr=Dt.range)),ze&&(Oe.br=ze),Ht&&(Oe.ot=Ht),isNaN(Le)||(Oe.d=Le),isNaN(Ye)||(Oe.mtp=Ye),isNaN(et)||(Oe.dl=et),isNaN(rt)||(Oe.bl=rt),isNaN(it)||(Oe.tb=it),!isNaN(ht)&&1!==ht&&(Oe.pr=ht),H[Ce.mediaType]&&(Oe.bs=!0,H[Ce.mediaType]=!1),(le[Ce.mediaType]||!W[Ce.mediaType])&&(Oe.su=!0,le[Ce.mediaType]=!1,W[Ce.mediaType]=!0),Oe}(Ce)):Ce.type===D.HTTPRequest.INIT_SEGMENT_TYPE?function V(){var Ce=U();return Ce.ot=O_INIT,Ce.su=!0,Ce}():Ce.type===D.HTTPRequest.OTHER_TYPE||Ce.type===D.HTTPRequest.XLINK_EXPANSION_TYPE?function re(){var Ce=U();return Ce.ot=O_OTHER,Ce}():Ce.type===D.HTTPRequest.LICENSE?function _e(Ce){var Oe=U();return Oe.ot=O_ENCRYPTION_KEY,Oe}():null}catch{return null}}function U(){var Ce={},Oe=G.get().streaming.cmcd.cid?G.get().streaming.cmcd.cid:E.cid;return Ce.v=1,Ce.sid=G.get().streaming.cmcd.sid?G.get().streaming.cmcd.sid:E.sid,Ce.sid="".concat(Ce.sid),Oe&&(Ce.cid="".concat(Oe)),!isNaN(E.pr)&&1!==E.pr&&null!==E.pr&&(Ce.pr=E.pr),E.st&&(Ce.st=E.st),E.sf&&(Ce.sf=E.sf),Ce}function j(Ce){try{var Oe=K.getCurrentBufferLevel(Ce);return isNaN(Oe)?null:100*parseInt(10*Oe)}catch{return null}}function $(Ce){try{E.pr=Ce.playbackRate}catch{}}function ce(Ce){try{var Oe=g.getIsDynamic(Ce.data),Le=Ce.protocol&&"MSS"===Ce.protocol?b_MSS:b_DASH;E.st="".concat(Oe?v_LIVE:v_VOD),E.sf="".concat(Le)}catch{}}function ue(Ce){try{Ce.state&&Ce.mediaType&&Ce.state===T.default.BUFFER_EMPTY&&(H[Ce.mediaType]||(H[Ce.mediaType]=!0),le[Ce.mediaType]||(le[Ce.mediaType]=!0))}catch{}}function be(){for(var Ce in H)H.hasOwnProperty(Ce)&&(H[Ce]=!0);for(var Oe in le)le.hasOwnProperty(Oe)&&(le[Oe]=!0)}function Re(Ce){try{if(!Ce)return null;var Oe=Object.keys(Ce).sort(function(Ye,et){return Ye.localeCompare(et)}),ze=Oe.length,Le=Oe.reduce(function(Ye,et,rt){return"v"===et&&1===Ce[et]||(Ye+="string"==typeof Ce[et]&&"ot"!==et&&"sf"!==et&&"st"!==et?"".concat(et,"=").concat(JSON.stringify(Ce[et])):"".concat(et,"=").concat(Ce[et]),rt<ze-1&&(Ye+=",")),Ye},"");return(Le=Le.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return A={getQueryParameter:function pe(Ce){try{if(G.get().streaming.cmcd&&G.get().streaming.cmcd.enabled){var Oe=Se(Ce),Le=Re(function he(Ce){try{var Oe=G.get().streaming.cmcd.enabledKeys;return Object.keys(Ce).filter(function(ze){return Oe.includes(ze)}).reduce(function(ze,Le){return ze[Le]=Ce[Le],ze},{})}catch{return Ce}}(Oe));return Y.trigger(I.default.CMCD_DATA_GENERATED,{url:Ce.url,mediaType:Ce.mediaType,cmcdData:Oe,cmcdString:Le}),{key:"CMCD",value:Le}}return null}catch{return null}},getHeaderParameters:function ve(Ce){try{if(G.get().streaming.cmcd&&G.get().streaming.cmcd.enabled){var Oe=Se(Ce),ze=fe(Oe,se(["br","d","ot","tb"])),Le=fe(Oe,se(["bl","dl","mtp","nor","nrr","su"])),Ye=fe(Oe,se(["bs","rtp"])),et=fe(Oe,se(["cid","pr","sf","sid","st","v"])),rt={"CMCD-Object":Re(ze),"CMCD-Request":Re(Le),"CMCD-Status":Re(Ye),"CMCD-Session":Re(et)};return Y.trigger(I.default.CMCD_DATA_GENERATED,{url:Ce.url,mediaType:Ce.mediaType,cmcdData:Oe,headers:rt}),rt}return null}catch{return null}},setConfig:function ye(Ce){Ce&&(Ce.abrController&&(L=Ce.abrController),Ce.dashMetrics&&(K=Ce.dashMetrics),Ce.playbackController&&(ee=Ce.playbackController))},reset:function je(){Y.off(T.default.PLAYBACK_RATE_CHANGED,$,this),Y.off(T.default.MANIFEST_LOADED,ce,this),Y.off(T.default.BUFFER_LEVEL_STATE_CHANGED,ue,A),Y.off(T.default.PLAYBACK_SEEKED,be,A),J()},initialize:function oe(){Y.on(T.default.PLAYBACK_RATE_CHANGED,$,A),Y.on(T.default.MANIFEST_LOADED,ce,A),Y.on(T.default.BUFFER_LEVEL_STATE_CHANGED,ue,A),Y.on(T.default.PLAYBACK_SEEKED,be,A),Y.on(T.default.PERIOD_SWITCH_COMPLETED,de,A)}},function ie(){g=Object(c.default)(x).getInstance(),J()}(),A}y.__dashjs_factory_name="CmcdModel",k.default=w.default.getSingletonFactory(y)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=m(
/*! ../../core/Settings */
"./src/core/Settings.js"),w=m(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),P=m(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),R=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function c(){var l,d,f,_,N,S,O,b,v=this.context,p=Object(I.default)(v).getInstance();function g(){_=[],N=[],S=[],b=[],O=null,d=[]}function ye(F,V){var re=-1;F.some(function(U,te){if(U===V)return re=te,!0}),!(re<0)&&F.splice(re,1)}function J(F){var V;for(V=0;V<b.length;V++)if(b[V].rulename===F)return V;return-1}function fe(F,V){se(F,V);var re=new M.default;re.schemeIdUri=F,re.value=V,d.push(re)}function se(F,V){Object(w.checkParameterType)(F,"string"),Object(w.checkParameterType)(V,"string"),d.forEach(function(re,U){re.schemeIdUri===F&&re.value===V&&d.splice(U,1)})}return l={getCustomInitialTrackSelectionFunction:function ee(){return O},setCustomInitialTrackSelectionFunction:function L(F){O=F},resetCustomInitialTrackSelectionFunction:function K(){O=null},getLicenseResponseFilters:function le(){return N},getLicenseRequestFilters:function Z(){return _},getCustomCapabilitiesFilters:function G(){return S},registerCustomCapabilitiesFilter:function ie(F){S.push(F)},registerLicenseResponseFilter:function W(F){N.push(F)},registerLicenseRequestFilter:function H(F){_.push(F)},unregisterCustomCapabilitiesFilter:function oe(F){ye(S,F)},unregisterLicenseResponseFilter:function Y(F){ye(N,F)},unregisterLicenseRequestFilter:function x(F){ye(_,F)},addAbrCustomRule:function de(F,V,re){if("string"!=typeof F||F!==P.default.ABANDON_FRAGMENT_RULES&&F!==P.default.QUALITY_SWITCH_RULES||"string"!=typeof V)throw R.default.BAD_ARGUMENT_ERROR;var U=J(V);-1===U?b.push({type:F,rulename:V,rule:re}):(b[U].type=F,b[U].rule=re)},removeAllAbrCustomRule:function pe(){b=[]},removeAbrCustomRule:function ae(F){if(F){var V=J(F);-1!==V&&b.splice(V,1)}else b=[]},getAbrCustomRules:function he(){return b},addUTCTimingSource:fe,removeUTCTimingSource:se,getUTCTimingSources:function ve(){return d},clearDefaultUTCTimingSources:function Se(){d=[]},restoreDefaultUTCTimingSources:function _e(){var F=p.get().streaming.utcSynchronization.defaultTimingSource;fe(F.scheme,F.value)},setXHRWithCredentialsForType:function ne(F,V){F?f[F]=!!V:Object.keys(f).forEach(function(re){ne(re,V)})},getXHRWithCredentialsForType:function X(F){var V=f[F];return void 0===V?f.default:V},setConfig:function E(){},reset:function A(){g()}},function y(){f={default:false},g()}(),l}c.__dashjs_factory_name="CustomParametersModel",k.default=T.default.getSingletonFactory(c)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),I="loading",w="executed",R="failed";function D(l){var v,p,y,g,d=(l=l||{}).eventBus,f=l.events,_=l.dashMetrics,N=l.fragmentLoader,S=l.debug,O=l.streamInfo,b=l.type;function K(_e){var te;return!!_e&&(te=!1,y.some(function(me){if(function(U,te){return!isNaN(U.index)&&U.startTime===te.startTime&&U.adaptationIndex===te.adaptationIndex&&U.type===te.type}(_e,me)||function(U,te){return isNaN(U.index)&&isNaN(te.index)&&U.quality===te.quality}(_e,me)||function(U,te){return U.action===T.default.ACTION_COMPLETE&&U.action===te.action}(_e,me))return te=!0}),te)}function le(_e){return isNaN(_e.duration)?.25:Math.min(_e.duration/8,.5)}function H(_e){y=y.filter(function(ne){var X=le(ne);return isNaN(ne.startTime)||void 0!==_e&&ne.startTime>=_e-X})}function x(_e,ne){ne<=_e+.5||(y=y.filter(function(X){var F=le(X);return isNaN(X.startTime)||X.startTime>=ne-F||isNaN(X.duration)||X.startTime+X.duration<=_e+F}))}function ye(_e,ne,X){for(var V=_e.length-1;V>=0;V--){var re=_e[V],U=re.startTime,te=U+re.duration;if(X=isNaN(X)?le(re):X,!isNaN(U)&&!isNaN(te)&&ne+X>=U&&ne-X<te||isNaN(U)&&isNaN(ne))return re}return null}function ae(_e,ne){_.addSchedulingInfo(_e,ne),_.addRequestsQueue(_e.mediaType,g,y)}function pe(_e){_e.sender===N&&(g.splice(g.indexOf(_e.request),1),_e.response&&!_e.error&&y.push(_e.request),ae(_e.request,_e.error?R:w),d.trigger(f.FRAGMENT_LOADING_COMPLETED,{request:_e.request,response:_e.response,error:_e.error,sender:this},{streamId:O.id,mediaType:b}))}function he(_e){_e.sender===N&&d.trigger(f.FRAGMENT_LOADING_PROGRESS,{request:_e.request,response:_e.response,error:_e.error,sender:this},{streamId:O.id,mediaType:b})}function fe(_e){_e.sender===N&&d.trigger(f.FRAGMENT_LOADING_ABANDONED,{request:_e.request},{streamId:O.id,mediaType:b})}function ve(){y=[],g=[]}return v={getStreamId:function E(){return O.id},getType:function L(){return b},getRequests:function Z(_e){var X=[];return(_e?_e.state instanceof Array?_e.state:[_e.state]:[]).forEach(function(F){var V=function de(_e){var ne;switch(_e){case I:ne=g;break;case w:ne=y;break;default:ne=[]}return ne}(F);X=X.concat(function J(_e,ne){return ne.hasOwnProperty("time")?[ye(_e,ne.time,ne.threshold)]:_e.filter(function(X){for(var F in ne)if("state"!==F&&ne.hasOwnProperty(F)&&X[F]!=ne[F])return!1;return!0})}(V,_e))}),X},isFragmentLoaded:K,isFragmentLoadedOrPending:function ee(_e){var F,ne=!1,X=0;if(!(ne=K(_e)))for(X=0;X<g.length;X++)_e.url===(F=g[X]).url&&_e.startTime===F.startTime&&(ne=!0);return ne},removeExecutedRequestsBeforeTime:H,removeExecutedRequestsAfterTime:function W(_e){y=y.filter(function(ne){return isNaN(ne.startTime)||void 0!==_e&&ne.startTime<_e})},syncExecutedRequestsWithBufferedRange:function Y(_e,ne){if(_e&&0!==_e.length){for(var X=0,F=0,V=_e.length;F<V;F++)x(X,_e.start(F)),X=_e.end(F);ne>0&&x(X,ne)}else H()},abortRequests:function G(){p.debug("abort requests"),N.abort(),g=[]},executeRequest:function ie(_e){_e.action===T.default.ACTION_DOWNLOAD?(ae(_e,I),g.push(_e),function oe(_e){d.trigger(f.FRAGMENT_LOADING_STARTED,{request:_e},{streamId:O.id,mediaType:b}),N.load(_e)}(_e)):p.warn("Unknown request action.")},reset:function se(){d.off(f.LOADING_COMPLETED,pe,this),d.off(f.LOADING_DATA_PROGRESS,he,this),d.off(f.LOADING_ABANDONED,fe,this),N&&N.reset(),ve()},resetInitialSettings:ve,addExecutedRequest:function Se(_e){y.push(_e)}},function A(){p=S.getLogger(v),ve(),d.on(f.LOADING_COMPLETED,pe,v),d.on(f.LOADING_DATA_PROGRESS,he,v),d.on(f.LOADING_ABANDONED,fe,v)}(),v}D.__dashjs_factory_name="FragmentModel";var c=M.default.getClassFactory(D);c.FRAGMENT_MODEL_LOADING=I,c.FRAGMENT_MODEL_EXECUTED=w,c.FRAGMENT_MODEL_CANCELED="canceled",c.FRAGMENT_MODEL_FAILED=R,M.default.updateClassFactory(D.__dashjs_factory_name,c),k.default=c},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(){var d,f,l=this.context,_={};function N(){f=Object(M.default)(l).getInstance().getLogger(d)}function S(y){for(var g={},A=0,E=0,L=0,K=0,ee=y.length,Z=0;Z<ee;++Z)A+=y[Z].chunkDownloadTimeRelativeMS,E+=y[Z].bufferLevel,L+=y[Z].chunkDownloadTimeRelativeMS*y[Z].bufferLevel,K+=y[Z].chunkDownloadTimeRelativeMS*y[Z].chunkDownloadTimeRelativeMS;return g.m=(L-A*E/ee)/(K-A*A/ee),g.b=E/ee-g.m*A/ee,function(le){return g.m*le+g.b}}function O(y){var A,g=!0,E=y.reduce(function(L,K){return L+K.bufferLevelAtSegmentEnd},0)/y.length;return y.forEach(function(L){Math.abs(L.bufferLevelAtSegmentEnd/L.bufferLevelAtSegmentStart)<.95&&(g=!1),L.bufferLevelAtSegmentEnd/E<.8&&(g=!1),A?A>L.bitrate&&(g=!1):A=L.bitrate}),g}return d={setup:N,addMeasurement:function p(y,g,A,E,L){y&&y.mediaType&&!_[y.mediaType]&&(_[y.mediaType]=[]);var K=y.mediaInfo.bitrateList.find(function(ee){return ee.id===y.representationId});_[y.mediaType].push({index:y.index,repId:y.representationId,mediaType:y.mediaType,requestTimeMS:E,adjustedAvailabilityStartTimeMS:y.availabilityStartTime.getTime(),segDurationMS:1e3*y.duration,chunksDurationMS:A.reduce(function(ee,Z){return ee+Z.chunkDownloadDurationMS},0),segmentBytes:A.reduce(function(ee,Z){return ee+Z.chunkBytes},0),bitrate:K&&K.bandwidth,bitrateList:y.mediaInfo.bitrateList,chunkMeasurements:A,fetchDownloadDurationMS:g,throughputCapacityDelayMS:L,getEstimatedBufferLevel:S(A.slice(1))}),_[y.mediaType].length>10&&_[y.mediaType].shift()},getThroughputCapacityDelayMS:function v(y,g){var A=_[y.mediaType]&&_[y.mediaType].slice(-3);return!A||A.length<3||!O(A)?0:g/4>250?250:g/4},getEstimatedDownloadDurationMS:function b(y){var g=_[y.mediaType].slice(-1).pop(),A=_[y.mediaType].slice(-3),E=g.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;g.bufferLevelAtSegmentStart=g.getEstimatedBufferLevel(E/2),g.bufferLevelAtSegmentEnd=g.getEstimatedBufferLevel(E);var L=O(A),K=L?.6:.8;if(g.isBufferStable&&1.05*g.segDurationMS<g.fetchDownloadDurationMS)return g.fetchDownloadDurationMS;if(!L||g.segDurationMS<g.fetchDownloadDurationMS||g.adjustedAvailabilityStartTimeMS<=g.requestTimeMS+g.throughputCapacityDelayMS-g.segDurationMS)return.8*g.fetchDownloadDurationMS;for(var ee=g.requestTimeMS+g.throughputCapacityDelayMS-g.adjustedAvailabilityStartTimeMS,Z=0,le=0,H=0,W=0;W<g.chunkMeasurements.length;W++){var x=g.chunkMeasurements[W];if(ee<le+x.chunkDownloadDurationMS)break;le+=x.chunkDownloadDurationMS,Z+=x.chunkBytes,H++}if(ee<0&&f.warn("request time was before adjusted availibitly start time"),Z&&le&&H>.2*g.chunkMeasurements.length){var G=g.segmentBytes/(Z/le);return g.fetchDownloadDurationMS<G?g.fetchDownloadDurationMS*K:G*K}var ie=g.bitrate;return g.bitrateList.some(function(oe){if(oe.bandwidth>g.bitrate)return ie=oe.bandwidth,!0}),ie===g.bitrate?g.fetchDownloadDurationMS*K:K*g.segmentBytes*8*1e3/ie}},N(),d}I.__dashjs_factory_name="LowLatencyThroughputModel",k.default=T.default.getSingletonFactory(I)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var c,P=this.context,R=Object(M.default)(P).getInstance();return{getValue:function l(){return c},setValue:function d(f){c=f,f&&R.trigger(T.default.MANIFEST_LOADED,{data:f})}}}w.__dashjs_factory_name="ManifestModel",k.default=I.default.getSingletonFactory(w)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=m(
/*! ../../core/Settings */
"./src/core/Settings.js"),f=-.5;function N(){var S,O,b,v,p=this.context,y=Object(I.default)(p).getInstance();function E(ie,oe){return isNaN(ie)?0:ie>0?(oe&&O.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie<f?(oe&&O.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(f,": ").concat(-50,"% playback speed.")),f):ie}function L(ie,oe){return isNaN(ie)?0:ie<0?(oe&&O.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie>1?(oe&&O.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ie}function W(){var ie=y.get().streaming.buffer.stableBufferTime>0?y.get().streaming.buffer.stableBufferTime:y.get().streaming.buffer.fastSwitchEnabled?20:12,oe=b.getLiveDelay();return!isNaN(oe)&&oe>0?Math.min(ie,oe):ie}return S={getCatchupMaxDrift:function K(){if(!isNaN(y.get().streaming.liveCatchup.maxDrift)&&y.get().streaming.liveCatchup.maxDrift>0)return y.get().streaming.liveCatchup.maxDrift;var ie=v.getServiceDescriptionSettings();return ie&&ie.liveCatchup&&!isNaN(ie.liveCatchup.maxDrift)&&ie.liveCatchup.maxDrift>0?ie.liveCatchup.maxDrift:12},getCatchupModeEnabled:function Z(){return null!==y.get().streaming.liveCatchup.enabled?y.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:W,getInitialBufferLevel:function H(){var ie=y.get().streaming.buffer.initialBufferLevel;return isNaN(ie)||ie<0?0:Math.min(W(),ie)},getRetryAttemptsForType:function x(ie){var oe=isNaN(y.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:y.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?y.get().streaming.retryAttempts[ie]*oe:y.get().streaming.retryAttempts[ie]},getRetryIntervalsForType:function Y(ie){var oe=isNaN(y.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:y.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?y.get().streaming.retryIntervals[ie]/oe:y.get().streaming.retryIntervals[ie]},getCatchupPlaybackRates:function ee(ie){var oe=y.get().streaming.liveCatchup.playbackRate;if(!isNaN(oe.min)||!isNaN(oe.max))return{min:E(oe.min,ie),max:L(oe.max,ie)};var ye=v.getServiceDescriptionSettings();if(ye&&ye.liveCatchup&&(!isNaN(ye.liveCatchup.playbackRate.min)||!isNaN(ye.liveCatchup.playbackRate.max))){var J=ye.liveCatchup.playbackRate;return{min:E(J.min,ie),max:L(J.max,ie)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function le(ie,oe){try{var ye=y.get().streaming.abr[ie][oe];if(!isNaN(ye)&&-1!==ye)return ye;var J=v.getServiceDescriptionSettings();return J&&J[ie]&&!isNaN(J[ie][oe])?J[ie][oe]:-1}catch{return-1}},setConfig:function A(ie){ie.playbackController&&(b=ie.playbackController),ie.serviceDescriptionController&&(v=ie.serviceDescriptionController)},reset:function G(){}},function g(){O=Object(M.default)(p).getInstance().getLogger(S)}(),S}N.__dashjs_factory_name="MediaPlayerModel",k.default=T.default.getSingletonFactory(N)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=m(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),w=m(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=m(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),R=m(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),D=m(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),c=m(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),l=m(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),d=m(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),f=m(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),_=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),N=m(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),S=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(v){var A,E,p=(v=v||{}).settings,y=this.context,g=Object(_.default)(y).getInstance();function K(){g.trigger(S.default.METRICS_CHANGED)}function ee(F){g.trigger(S.default.METRIC_CHANGED,{mediaType:F}),K()}function Z(F,V,re){g.trigger(S.default.METRIC_UPDATED,{mediaType:F,metric:V,value:re}),ee(F)}function le(F,V,re){g.trigger(S.default.METRIC_ADDED,{mediaType:F,metric:V,value:re}),ee(F)}function x(F,V){var re=null;return F&&(E.hasOwnProperty(F)?re=E[F]:V||(re=new I.default,E[F]=re)),re}function Y(F,V,re){var U=x(F);null!==U&&(U[V].push(re),U[V].length>p.get().streaming.metrics.maxListDepth&&U[V].shift())}function ye(F,V,re){Y(F,V,re),le(F,V,re)}return A={clearCurrentMetricsForType:function H(F){delete E[F],ee(F)},clearAllCurrentMetrics:function W(){E={},K()},getMetricsFor:x,addHttpRequest:function ie(F,V,re,U,te,me,Ee,q,z,j,$,ce,ue,be,Re,Pe){var we=new w.HTTPRequest;me&&me!==U&&(ie(F,null,re,U,te,null,null,q,z,null,null,null,ue,null,null,Pe),we.actualurl=me),we.tcpid=V,we.type=re,we.url=U,we.range=q,we.trequest=z,we.tresponse=j,we.responsecode=ce,we._tfinish=$,we._stream=F,we._mediaduration=ue,we._quality=te,we._responseHeaders=be,we._serviceLocation=Ee,we._fileLoaderType=Pe,Re?Re.forEach(function(je){!function G(F,V,re,U){var te=new w.HTTPRequestTrace;return te.s=V,te.d=re,te.b=U,F.trace.push(te),F.interval||(F.interval=0),F.interval+=re,te}(we,je.s,je.d,je.b)}):(delete we.interval,delete we.trace),ye(F,T.default.HTTP_REQUEST,we)},addRepresentationSwitch:function oe(F,V,re,U,te){var me=new P.default;me.t=V,me.mt=re,me.to=U,te?me.lto=te:delete me.lto,ye(F,T.default.TRACK_SWITCH,me)},addBufferLevel:function J(F,V,re){var U=new R.default;U.t=V,U.level=re,ye(F,T.default.BUFFER_LEVEL,U)},addBufferState:function de(F,V,re){var U=new D.default;U.target=re,U.state=V,ye(F,T.default.BUFFER_STATE,U)},addDVRInfo:function ae(F,V,re,U){var te=new c.default;te.time=V,te.range=U,te.manifestInfo=re,ye(F,T.default.DVR_INFO,te)},addDroppedFrames:function pe(F,V){var re=new l.default,U=x(F).DroppedFrames;V&&(re.time=V.creationTime,re.droppedFrames=V.droppedVideoFrames,!(U.length>0&&U[U.length-1]==re)&&ye(F,T.default.DROPPED_FRAMES,re))},addSchedulingInfo:function he(F,V,re,U,te,me,Ee,q,z){var j=new f.default;j.mediaType=F,j.t=V,j.type=re,j.startTime=U,j.availabilityStartTime=te,j.duration=me,j.quality=Ee,j.range=q,j.state=z,ye(F,T.default.SCHEDULING_INFO,j)},addRequestsQueue:function fe(F,V,re){var U=new N.default;U.loadingRequests=V,U.executedRequests=re,x(F).RequestsQueue=U,le(F,T.default.REQUESTS_QUEUE,U)},addManifestUpdate:function ve(F,V,re,U,te,me,Ee,q,z,j){var $=new d.ManifestUpdate;$.mediaType=F,$.type=V,$.requestTime=re,$.fetchTime=U,$.availabilityStartTime=te,$.presentationStartTime=me,$.clientTimeOffset=Ee,$.currentTime=q,$.buffered=z,$.latency=j,Y(M.default.STREAM,T.default.MANIFEST_UPDATE,$),le(F,T.default.MANIFEST_UPDATE,$)},updateManifestUpdateInfo:function se(F,V){if(F){for(var re in V)F[re]=V[re];Z(F.mediaType,T.default.MANIFEST_UPDATE,F)}},addManifestUpdateStreamInfo:function Se(F,V,re,U,te){if(F){var me=new d.ManifestUpdateStreamInfo;me.id=V,me.index=re,me.start=U,me.duration=te,F.streamInfo.push(me),Z(F.mediaType,T.default.MANIFEST_UPDATE_STREAM_INFO,F)}},addManifestUpdateRepresentationInfo:function _e(F,V,re,U,te,me,Ee,q){if(F&&F.representationInfo){var z=new d.ManifestUpdateRepresentationInfo;z.id=V,z.index=re,z.streamIndex=U,z.mediaType=te,z.startNumber=Ee,z.fragmentInfoType=q,z.presentationTimeOffset=me,F.representationInfo.push(z),Z(F.mediaType,T.default.MANIFEST_UPDATE_TRACK_INFO,F)}},addPlayList:function ne(F){F.trace&&Array.isArray(F.trace)?F.trace.forEach(function(V){V.hasOwnProperty("subreplevel")&&!V.subreplevel&&delete V.subreplevel}):delete F.trace,ye(M.default.STREAM,T.default.PLAY_LIST,F)},addDVBErrors:function X(F){ye(M.default.STREAM,T.default.DVB_ERRORS,F)}},function L(){E={}}(),A}b.__dashjs_factory_name="MetricsModel",k.default=O.default.getSingletonFactory(b)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(){var P;return{initialize:function R(c){if(P=new M.default,!c)return null;var l=c.indexOf("#");if(-1!==l)for(var d=c.substr(l+1).split("&"),f=0,_=d.length;f<_;++f){var N=d[f],S=N.indexOf("=");if(-1!==S){var O=N.substring(0,S);P.hasOwnProperty(O)&&(P[O]=N.substr(S+1))}}},getURIFragmentData:function D(){return P}}}I.__dashjs_factory_name="URIFragmentModel",k.default=T.default.getSingletonFactory(I)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),P=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),R=new Map([[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function D(){var c,l,d,f,_,N,b=this.context,v=Object(T.default)(b).getInstance(),p=[];function E(){d&&(d.playbackRate=1,d.removeEventListener("canplay",E))}function ye(){return p.length>0}function pe(){if(d&&ye()&&0===d.playbackRate){var Ce=document.createEvent("Event");Ce.initEvent("waiting",!0,!1),d.dispatchEvent(Ce)}}function V(Ce,Oe){d&&d.addEventListener(Ce,Oe)}function re(Ce,Oe){d&&d.removeEventListener(Ce,Oe)}function U(){return d?d.readyState:NaN}function te(){return d?d.buffered:null}function ue(Ce,Oe,ze,Le,Ye){if(d)for(var et=0;et<d.textTracks.length;et++)if(d.textTracks[et].kind===Ce&&(!Oe||d.textTracks[et].label==Oe)&&d.textTracks[et].language===ze&&d.textTracks[et].isTTML===Le&&d.textTracks[et].isEmbedded===Ye)return d.textTracks[et];return null}function we(Ce,Oe){Ce===P.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||U()>=Ce?Oe():function je(Ce,Oe){V(Ce,function Le(){re(Ce,Le),Oe(Ce)})}(R.get(Ce),Oe)}return c={initialize:function g(){v.on(I.default.PLAYBACK_PLAYING,pe,this)},setCurrentTime:function K(Ce,Oe){f=Ce,we(P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(d){if(d.currentTime===f)return void(f=NaN);try{f=Oe?function ee(Ce){var Oe=te(),ze=Ce,Le=9999999999;if(Oe)for(var Ye=0;Ye<Oe.length;Ye++){var et=Oe.start(Ye),rt=Oe.end(Ye),it=Math.abs(et-Ce),ht=Math.abs(rt-Ce);if(Ce>=et&&Ce<=rt)return Ce;it<Le&&(Le=it,ze=et),ht<Le&&(Le=ht,ze=rt)}return ze}(f):f,d.currentTime=f,f=NaN}catch(ze){0===d.readyState&&ze.code===ze.INVALID_STATE_ERR&&setTimeout(function(){d.currentTime=f,f=NaN},400)}}})},play:function fe(){if(d){d.autoplay=!0;var Ce=d.play();Ce&&Ce.catch&&typeof Promise<"u"&&Ce.catch(function(Oe){"NotAllowedError"===Oe.name&&v.trigger(I.default.PLAYBACK_NOT_ALLOWED),l.warn("Caught pending play exception - continuing (".concat(Oe,")"))})}},isPaused:function ve(){return d?d.paused:null},pause:function se(){d&&(d.pause(),d.autoplay=!1)},isStalled:ye,isSeeking:function Se(){return d?d.seeking||!isNaN(f):null},getTime:function _e(){return d?isNaN(f)?d.currentTime:f:null},getPlaybackRate:function ne(){return d?d.playbackRate:null},setPlaybackRate:function L(Ce){d&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&d.readyState<=2&&Ce>0?d.addEventListener("canplay",E):d.playbackRate=Ce)},getPlayedRanges:function X(){return d?d.played:null},getEnded:function F(){return d?d.ended:null},setStallState:function oe(Ce,Oe){!function ae(Ce,Oe){Oe?function J(Ce){null===Ce||!d||d.seeking||-1!==p.indexOf(Ce)||p.push(Ce)}(Ce):function de(Ce){var Oe=p.indexOf(Ce);null!==Ce&&-1!==Oe&&p.splice(Oe,1)}(Ce)}(Ce,Oe)},getElement:function Z(){return d},setElement:function le(Ce){if(!(null==Ce||Ce&&/^(VIDEO|AUDIO)$/i.test(Ce.nodeName)))throw"element is not video or audio DOM type!";(d=Ce)&&(d.preload="auto")},setSource:function H(Ce){d&&(Ce?d.src=Ce:(d.removeAttribute("src"),d.load()))},getSource:function W(){return d?d.src:null},getTTMLRenderingDiv:function x(){return _},setTTMLRenderingDiv:function G(Ce){(_=Ce).style.position="absolute",_.style.display="flex",_.style.overflow="hidden",_.style.pointerEvents="none",_.style.top=0,_.style.left=0},getVttRenderingDiv:function Y(){return N},setVttRenderingDiv:function ie(Ce){N=Ce},getPlaybackQuality:function he(){if(!d)return null;var Ce="webkitDroppedFrameCount"in d&&"webkitDecodedFrameCount"in d,ze=null;return"getVideoPlaybackQuality"in d?ze=d.getVideoPlaybackQuality():Ce&&(ze={droppedVideoFrames:d.webkitDroppedFrameCount,totalVideoFrames:d.webkitDroppedFrameCount+d.webkitDecodedFrameCount,creationTime:new Date}),ze},addEventListener:V,removeEventListener:re,getReadyState:U,getBufferRange:te,getClientWidth:function me(){return d?d.clientWidth:NaN},getClientHeight:function Ee(){return d?d.clientHeight:NaN},getTextTracks:function ce(){return d?d.textTracks:[]},getTextTrack:ue,addTextTrack:function be(Ce,Oe,ze,Le,Ye){if(!d)return null;var et=ue(Ce,Oe,ze,Le,Ye);return et||((et=d.addTextTrack(Ce,Oe,ze)).isEmbedded=Ye,et.isTTML=Le),et},appendChild:function Re(Ce){d&&(d.appendChild(Ce),void 0!==Ce.isTTML&&(d.textTracks[d.textTracks.length-1].isTTML=Ce.isTTML,d.textTracks[d.textTracks.length-1].isEmbedded=Ce.isEmbedded))},removeChild:function Pe(Ce){d&&d.removeChild(Ce)},getVideoWidth:function q(){return d?d.videoWidth:NaN},getVideoHeight:function z(){return d?d.videoHeight:NaN},getVideoRelativeOffsetTop:function j(){var Ce=d.parentNode.host||d.parentNode;return Ce?d.getBoundingClientRect().top-Ce.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function $(){var Ce=d.parentNode.host||d.parentNode;return Ce?d.getBoundingClientRect().left-Ce.getBoundingClientRect().left:NaN},waitForReadyState:we,reset:function A(){v.off(I.default.PLAYBACK_PLAYING,pe,this)}},function y(){l=Object(w.default)(b).getInstance().getLogger(c),f=NaN}(),c}D.__dashjs_factory_name="VideoModel",k.default=M.default.getSingletonFactory(D)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Settings */
"./src/core/Settings.js"),I=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=m(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function P(S,O){return function c(S){if(Array.isArray(S))return S}(S)||function D(S,O){var b=null==S?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(null!=b){var v,p,y,g,A=[],E=!0,L=!1;try{if(y=(b=b.call(S)).next,0===O){if(Object(b)!==b)return;E=!1}else for(;!(E=(v=y.call(b)).done)&&(A.push(v.value),A.length!==O);E=!0);}catch(K){L=!0,p=K}finally{try{if(!E&&null!=b.return&&(g=b.return(),Object(g)!==g))return}finally{if(L)throw p}}return A}}(S,O)||d(S,O)||function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(S,O){if(S){if("string"==typeof S)return f(S,O);var b=Object.prototype.toString.call(S).slice(8,-1);if("Object"===b&&S.constructor&&(b=S.constructor.name),"Map"===b||"Set"===b)return Array.from(S);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return f(S,O)}}function f(S,O){(null==O||O>S.length)&&(O=S.length);for(var b=0,v=new Array(O);b<O;b++)v[b]=S[b];return v}function _(S){var A,O=this.context,b=(S=S||{}).requestModifier,v=S.lowLatencyThroughputModel,p=S.boxParser,y=Object(T.default)(O).getInstance();function K(x){var J,Y=new Date,G=x.request,ie=new Headers;if(G.range&&ie.append("Range","bytes="+G.range),x.headers)for(var oe in x.headers){var ye=x.headers[oe];ye&&ie.append(oe,ye)}G.requestStartDate||(G.requestStartDate=Y),b&&b.modifyRequestHeader&&b.modifyRequestHeader({setRequestHeader:function(ve,se){ie.append(ve,se)}},{url:x.url}),"function"==typeof window.AbortController&&(J=new AbortController,x.abortController=J,J.signal.onabort=x.onabort);var de={method:x.method,headers:ie,credentials:x.withCredentials?"include":void 0,signal:J?J.signal:void 0},ae=y.get().streaming.abr.fetchThroughputCalculationMode,pe=Date.now(),he=0;new Promise(function(fe){if(ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&v&&(he=v.getThroughputCapacityDelayMS(G,1e3*A.getCurrentBufferLevel(G.mediaType))))return setTimeout(fe,he);fe()}).then(function(){var fe=Date.now();fetch(x.url,de).then(function(ve){x.response||(x.response={}),x.response.status=ve.status,x.response.statusText=ve.statusText,x.response.responseURL=ve.url,ve.ok||x.onerror();var _e,se="",Se=function l(S,O){var b=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!b){if(Array.isArray(S)||(b=d(S))||O&&S&&"number"==typeof S.length){b&&(S=b);var v=0,p=function(){};return{s:p,n:function(){return v>=S.length?{done:!0}:{done:!1,value:S[v++]}},e:function(L){throw L},f:p}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A,y=!0,g=!1;return{s:function(){b=b.call(S)},n:function(){var L=b.next();return y=L.done,L},e:function(L){g=!0,A=L},f:function(){try{!y&&null!=b.return&&b.return()}finally{if(g)throw A}}}}(ve.headers.keys());try{for(Se.s();!(_e=Se.n()).done;){var ne=_e.value;se+=ne+": "+ve.headers.get(ne)+"\r\n"}}catch(we){Se.e(we)}finally{Se.f()}if(x.response.responseHeaders=se,!ve.body)return ve.arrayBuffer().then(function(we){x.response.response=we,x.progress({loaded:we.byteLength,total:we.byteLength,stream:!1}),x.onload(),x.onend()});var Ce,Oe,X=parseInt(ve.headers.get("Content-Length"),10),F=0,V=!1,re=new Uint8Array,U=0;if(ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&v){var me=fe,Ee=0,z=P(ve.body.tee(),2),$=z[1];Ce=z[0].getReader(),Oe=[],Ce.read().then(function ze(Le){var Ye=Le.value,et=Le.done;if(Ee=Date.now(),Ye&&Ye.length){var rt=Ee-me,it=Ye.length;Oe.push({chunkDownloadTimeRelativeMS:Ee-fe,chunkDownloadDurationMS:rt,chunkBytes:it,kbps:Math.round(8*it/(rt/1e3)),bufferLevel:A.getCurrentBufferLevel(G.mediaType)})}if(et){var ht=Ee-fe,Dt=Oe.reduce(function(Ht,jt){return Ht+jt.chunkBytes},0);return v.addMeasurement(G,ht,Oe,pe,he,se),void x.progress({loaded:Dt,total:Dt,lengthComputable:!0,time:v.getEstimatedDownloadDurationMS(G),stream:!0})}return me=Date.now(),Ce.read().then(ze)}),x.reader=$.getReader()}else x.reader=ve.body.getReader();var ce=[],ue=[],be=[],Re=!0;ee(x,function we(je){var Ce=je.value;if(je.done){if(re){if(ae!==I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var ze=null,Le=null;ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(ze=function W(x,Y){try{var G,ie;G=x.filter(function(fe,ve){return ve<x.length-1}),ie=Y.filter(function(fe,ve){return ve<Y.length-1});var oe=[];if(G.length>1){for(var ye=0,J=0,de=0;de<G.length;de++)if(G[de]&&ie[de]){var ae=ie[de].ts-G[de].ts;if(ae>1)oe.push(8*ie[de].bytes/ae);else{0===J&&(J=G[de].ts);var pe=ie[de].ts-J;pe>1?(oe.push(8*ye/pe),ye=0,J=0):ye+=ie[de].bytes}}if(oe.length>0)return oe.reduce(function(fe,ve){return fe+ve},0)/oe.length}return null}catch{return null}}(ue,be))&&(Le=8*F/ze):ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Le=H(ce,F)),x.progress({loaded:F,total:isNaN(X)?F:X,lengthComputable:!0,time:Le,stream:!0})}x.response.response=re.buffer}return x.onload(),void x.onend()}if(Ce&&Ce.length>0){re=function Z(x,Y){if(0===x.length)return Y;var G=new Uint8Array(x.length+Y.length);return G.set(x),G.set(Y,x.length),G}(re,Ce),F+=Ce.length,ce.push({ts:Date.now(),bytes:Ce.length}),ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Re&&p.findLastTopIsoBoxCompleted(["moof"],re,U).found&&(Re=!1,ue.push({ts:performance.now(),bytes:Ce.length}));var et=p.findLastTopIsoBoxCompleted(["moov","mdat"],re,U);if(et.found){var it,rt=et.lastCompletedOffset+et.size;ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Re&&(Re=!0,be.push({ts:performance.now(),bytes:re.length})),rt===re.length?(it=re,re=new Uint8Array):(it=new Uint8Array(re.subarray(0,rt)),re=re.subarray(rt)),x.progress({data:it.buffer,lengthComputable:!1,noTrace:!0}),U=0}else U=et.lastCompletedOffset,V||(x.progress({lengthComputable:!1,noTrace:!0}),V=!0)}ee(x,we)})}).catch(function(ve){x.onerror&&x.onerror(ve)})})}function ee(x,Y){x.reader.read().then(Y).catch(function(G){x.onerror&&200===x.response.status&&x.onerror(G)})}function H(x,Y){try{if((x=x.filter(function(oe){return oe.bytes>Y/4/x.length})).length>1){var G=0,ie=(x[x.length-1].ts-x[0].ts)/x.length;return x.forEach(function(oe,ye){var J=x[ye+1];if(J){var de=J.ts-oe.ts;G+=de<ie?de:0}}),G}return null}catch{return null}}return{load:function L(x){b&&b.modifyRequest?Object(w.modifyRequest)(x,b).then(function(){return K(x)}):K(x)},abort:function le(x){if(x.abortController)x.abortController.abort();else if(x.reader)try{x.reader.cancel(),x.onabort()}catch{}},calculateDownloadedTime:H,setup:function E(x){A=x.dashMetrics}}}_.__dashjs_factory_name="FetchLoader";var N=M.default.getClassFactory(_);k.default=N},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),T=m(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),I=m(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),w=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),P=m(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),R=m(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),D=m(
/*! ../../core/Utils */
"./src/core/Utils.js"),c=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),l=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),d=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),f=m(
/*! ../../core/Settings */
"./src/core/Settings.js"),_=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),N=m(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),S=m(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function O(A){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(A)}function b(A,E,L){return(E=function v(A){var E=function p(A,E){if("object"!==O(A)||null===A)return A;var L=A[Symbol.toPrimitive];if(void 0!==L){var K=L.call(A,E||"default");if("object"!==O(K))return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(A)}(A,"string");return"symbol"===O(E)?E:String(E)}(E))in A?Object.defineProperty(A,E,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[E]=L,A}function y(A){var G,ie,oe,ye,J,de,ae,pe,he,E=this.context,L=(A=A||{}).errHandler,K=A.dashMetrics,ee=A.mediaPlayerModel,Z=A.requestModifier,le=A.boxParser,H=A.errors,W=A.requestTimeout||0,x=Object(l.default)(E).getInstance(),Y=Object(f.default)(E).getInstance();function ve(ne,X){var z,F=ne.request,V=[],re=!0,U=!0,te=new Date,me=te,Ee=0,q=null;if(!Z||!K||!L)throw new Error("config object is not correct or missing");var Pe,j=function(it){if(U=!1,F.requestStartDate=te,F.requestEndDate=new Date,F.firstByteDate=F.firstByteDate||te,F.fileLoaderType=q,!F.checkExistenceOnly){var ht=z.response?z.response.responseURL:null,Dt=z.response?z.response.status:null,Ht=z.response&&z.response.getAllResponseHeaders?z.response.getAllResponseHeaders():z.response?z.response.responseHeaders:[];K.addHttpRequest(F,ht,Dt,Ht,it?V:null),F.type===I.HTTPRequest.MPD_TYPE&&K.addManifestUpdate(F)}},$=function(){if(-1!==ie.indexOf(z)&&(ie.splice(ie.indexOf(z),1),U))if(j(!1),X>0){try{Y.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&F.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE&&ee.getRetryAttemptsForType(I.HTTPRequest.MEDIA_SEGMENT_TYPE)===X&&x.trigger(d.default.ATTEMPT_BACKGROUND_SYNC)}catch{}X--;var ht={config:ne};ye.push(ht),ht.timeout=setTimeout(function(){-1!==ye.indexOf(ht)&&(ye.splice(ye.indexOf(ht),1),ve(ne,X))},ee.getRetryIntervalsForType(F.type))}else{if(F.type===I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;L.error(new P.default(J[F.type],F.url+" is not available",{request:F,response:z.response})),ne.error&&ne.error(F,"error",z.response.statusText),ne.complete&&ne.complete(F,z.response.statusText)}};F.hasOwnProperty("availabilityTimeComplete")&&!1===F.availabilityTimeComplete&&window.fetch&&"arraybuffer"===F.responseType&&F.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE?((Pe=Object(T.default)(E).create({requestModifier:Z,lowLatencyThroughputModel:pe,boxParser:le})).setup({dashMetrics:K}),q=_.default.FILE_LOADER_TYPES.FETCH):(Pe=Object(M.default)(E).create({requestModifier:Z}),q=_.default.FILE_LOADER_TYPES.XHR);var we=null,je=Z.modifyRequestURL?Z.modifyRequestURL(F.url):F.url;if(Y.get().streaming.cmcd&&Y.get().streaming.cmcd.enabled){var Ce=Y.get().streaming.cmcd.mode;if(Ce===_.default.CMCD_MODE_QUERY){var Oe=function se(ne){try{var X=[],F=de.getQueryParameter(ne);return F&&X.push(F),X}catch{return[]}}(F);je=D.default.addAditionalQueryParameterToUrl(je,Oe)}else Ce===_.default.CMCD_MODE_HEADER&&(we=de.getHeaderParameters(F))}F.url=je;var ze=F.checkExistenceOnly?I.HTTPRequest.HEAD:I.HTTPRequest.GET,Le=ae.getXHRWithCredentialsForType(F.type);z={url:je,method:ze,withCredentials:Le,request:F,onload:function(){z.response.status>=200&&z.response.status<=299&&(j(!0),ne.success&&ne.success(z.response.response,z.response.statusText,z.response.responseURL),ne.complete&&ne.complete(F,z.response.statusText))},onend:$,onerror:$,progress:function(it){var ht=new Date;re&&(re=!1,(!it.lengthComputable||it.lengthComputable&&it.total!==it.loaded)&&(F.firstByteDate=ht)),it.lengthComputable&&(F.bytesLoaded=it.loaded,F.bytesTotal=it.total),it.noTrace||(V.push({s:me,d:it.time?it.time:ht.getTime()-me.getTime(),b:[it.loaded?it.loaded-Ee:0]}),me=ht,Ee=it.loaded),ne.progress&&it&&ne.progress(it)},onabort:function(){ne.abort&&ne.abort(F)},ontimeout:function(it){var ht;ht=it.lengthComputable?"Request timeout: loaded: "+it.loaded+", out of: "+it.total+" : "+(it.loaded/it.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",he.warn(ht)},loader:Pe,timeout:W,headers:we};var Ye=(new Date).getTime();if(isNaN(F.delayLoadingTime)||Ye>=F.delayLoadingTime)ie.push(z),Pe.load(z);else{var et={httpRequest:z};oe.push(et),et.delayTimeout=setTimeout(function(){if(-1!==oe.indexOf(et)){oe.splice(oe.indexOf(et),1);try{te=new Date,me=te,ie.push(et.httpRequest),Pe.load(et.httpRequest)}catch{et.httpRequest.onerror()}}},F.delayLoadingTime-Ye)}}return G={load:function Se(ne){ne.request?ve(ne,ee.getRetryAttemptsForType(ne.request.type)):ne.error&&ne.error(ne.request,"error")},abort:function _e(){ye.forEach(function(ne){clearTimeout(ne.timeout),ne.config.request&&ne.config.abort&&ne.config.abort(ne.config.request)}),ye=[],oe.forEach(function(ne){return clearTimeout(ne.delayTimeout)}),oe=[],ie.forEach(function(ne){ne.request.type!==I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(ne.onloadend=ne.onerror=ne.onprogress=void 0,ne.loader.abort(ne))}),ie=[]}},function fe(){var ne;he=Object(c.default)(E).getInstance().getLogger(G),ie=[],oe=[],ye=[],de=Object(R.default)(E).getInstance(),pe=Object(N.default)(E).getInstance(),ae=Object(S.default)(E).getInstance(),b(ne={},I.HTTPRequest.MPD_TYPE,H.DOWNLOAD_ERROR_ID_MANIFEST_CODE),b(ne,I.HTTPRequest.XLINK_EXPANSION_TYPE,H.DOWNLOAD_ERROR_ID_XLINK_CODE),b(ne,I.HTTPRequest.INIT_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),b(ne,I.HTTPRequest.MEDIA_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),b(ne,I.HTTPRequest.INDEX_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),b(ne,I.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),b(ne,I.HTTPRequest.OTHER_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),J=ne}(),G}y.__dashjs_factory_name="HTTPLoader";var g=w.default.getClassFactory(y);k.default=g},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function I(){var R;function l(){R={}}function f(){l()}return function _(){f()}(),{getLoader:function d(N){for(var S in R)if(R.hasOwnProperty(S)&&N.startsWith(S))return R[S];return T.default},registerLoader:function D(N,S){R[N]=S},unregisterLoader:function c(N){R[N]&&delete R[N]},unregisterAllLoader:l,reset:f}}I.__dashjs_factory_name="SchemeLoaderFactory";var w=M.default.getSingletonFactory(I);k.default=w},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function I(P){P=P||{};var c,l,R=this.context;return c=Object(T.default)(R).getInstance(),{load:function d(_){if(!l){var N=c.getLoader(_&&_.request?_.request.url:null);l=N(R).create({errHandler:P.errHandler,mediaPlayerModel:P.mediaPlayerModel,requestModifier:P.requestModifier,dashMetrics:P.dashMetrics,boxParser:P.boxParser?P.boxParser:null,constants:P.constants?P.constants:null,dashConstants:P.dashConstants?P.dashConstants:null,urlUtils:P.urlUtils?P.urlUtils:null,requestTimeout:isNaN(P.requestTimeout)?0:P.requestTimeout,errors:P.errors})}l.load(_)},abort:function f(){l&&l.abort()}}}I.__dashjs_factory_name="URLLoader";var w=M.default.getClassFactory(I);k.default=w},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function I(P){var R=(P=P||{}).requestModifier;function l(f){var _=new Date,N=f.request,S=new XMLHttpRequest;if(S.open(f.method,f.url,!0),N.responseType&&(S.responseType=N.responseType),N.range&&S.setRequestHeader("Range","bytes="+N.range),N.requestStartDate||(N.requestStartDate=_),R&&R.modifyRequestHeader&&(S=R.modifyRequestHeader(S,{url:f.url})),f.headers)for(var O in f.headers){var b=f.headers[O];b&&S.setRequestHeader(O,b)}S.withCredentials=f.withCredentials,S.onload=f.onload,S.onloadend=f.onend,S.onerror=f.onerror,S.onprogress=f.progress,S.onabort=f.onabort,S.ontimeout=f.ontimeout,S.timeout=f.timeout,S.send(),f.response=S}return{load:function c(f){R&&R.modifyRequest?Object(T.modifyRequest)(f,R).then(function(){return l(f)}):l(f)},abort:function d(f){var _=f.response;_.onloadend=_.onerror=_.onprogress=void 0,_.abort()}}}I.__dashjs_factory_name="XHRLoader";var w=M.default.getClassFactory(I);k.default=w},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(k);var D={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};k.default=function(){function l(){!function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,l)}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,null,[{key:"findCencContentProtection",value:function(f){for(var _=null,N=0;N<f.length;++N){var S=f[N];"urn:mpeg:dash:mp4protection:2011"===S.schemeIdUri.toLowerCase()&&("cenc"===S.value.toLowerCase()||"cbcs"===S.value.toLowerCase())&&(_=S)}return _}},{key:"getPSSHData",value:function(f){var _=8,N=new DataView(f),S=N.getUint8(_);return _+=20,S>0&&(_+=4+16*N.getUint32(_)),f.slice(_+=4)}},{key:"getPSSHForKeySystem",value:function(f,_){var N=l.parsePSSHList(_);return f&&N.hasOwnProperty(f.uuid.toLowerCase())?N[f.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(f,_){return"pssh"in f?(f.pssh.__text=f.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),_.decodeArray(f.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(f){if(null==f)return[];for(var _=new DataView(f.buffer||f),S={},O=0;;){var v,p=void 0,y=void 0,g=O;if(O>=_.buffer.byteLength)break;if(v=O+_.getUint32(O),1886614376===_.getUint32(O+=4))if(0===(p=_.getUint8(O+=4))||1===p){O++,O+=3,y="";var A=void 0,E=void 0;for(A=0;A<4;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=4,y+="-",A=0;A<2;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=2,y+="-",A=0;A<2;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=2,y+="-",A=0;A<2;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=2,y+="-",A=0;A<6;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;O+=6,O+=4,S[y=y.toLowerCase()]=_.buffer.slice(g,v),O=v}else O=v;else O=v}return S}},{key:"getLicenseServerUrlFromMediaInfo",value:function(f,_){try{if(!f||0===f.length)return null;for(var N=0,S=null;N<f.length&&!S;){var O=f[N];if(O&&O.contentProtection&&O.contentProtection.length>0){var b=O.contentProtection.filter(function(L){return L.schemeIdUri&&L.schemeIdUri===_});if(b&&b.length>0)for(var v=0;v<b.length&&!S;){for(var p=b[v],y=0;y<D.attributes.length&&!S;){for(var g=0,A=D.attributes[y];g<D.prefixes.length&&!S;)p[A]&&p[A].__prefix&&p[A].__prefix===D.prefixes[g]&&p[A].__text&&(S=p[A].__text),g+=1;y+=1}v+=1}}N+=1}return S}catch{return null}}}]),l}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),T=m(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),I=m(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),w=m(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=m(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),R=m(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),D=m(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),c=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],l=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function d(){var _,N=this.context;function b(v,p){for(var y=0;y<p.length;y++){var g=p[y];if("function"==typeof v[g[Object.keys(g)[0]]])return g}return null}return _={createProtectionSystem:function S(v){var p=null,y=Object(T.default)(N).getInstance();y.setConfig({debug:v.debug,BASE64:v.BASE64,settings:v.settings}),y.initialize();var g=function O(v){var p=v.debug,y=p.getLogger(_),g=v.eventBus,A=v.errHandler,E=v.videoModel?v.videoModel.getElement():null;return E&&void 0===E.onencrypted||E&&void 0===E.mediaKeys?b(E,l)?(y.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(R.default)(N).create({debug:p,eventBus:g,events:v.events,api:b(E,l)})):b(E,c)?(y.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(D.default)(N).create({debug:p,eventBus:g,errHandler:A,events:v.events,api:b(E,c)})):(y.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(y.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(P.default)(N).create({debug:p,eventBus:g,events:v.events}))}(v);return!p&&g&&(p=Object(M.default)(N).create({protectionModel:g,protectionKeyController:y,eventBus:v.eventBus,debug:v.debug,events:v.events,BASE64:v.BASE64,constants:v.constants,cmcdModel:v.cmcdModel,customParametersModel:v.customParametersModel,settings:v.settings}),v.capabilities.setEncryptedMediaSupported(!0)),p}}}d.__dashjs_factory_name="Protection";var f=dashjs.FactoryMaker.getClassFactory(d);f.events=I.default,f.errors=w.default,dashjs.FactoryMaker.updateClassFactory(d.__dashjs_factory_name,f),k.default=f},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(k);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",g.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",g.KEY_ADDED="public_keyAdded",g.KEY_ERROR="public_keyError",g.KEY_MESSAGE="public_keyMessage",g.KEY_SESSION_CLOSED="public_keySessionClosed",g.KEY_SESSION_CREATED="public_keySessionCreated",g.KEY_SESSION_REMOVED="public_keySessionRemoved",g.KEY_STATUSES_CHANGED="public_keyStatusesChanged",g.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",g.KEY_SYSTEM_SELECTED="public_keySystemSelected",g.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",g.LICENSE_REQUEST_SENDING="public_licenseRequestSending",g.NEED_KEY="needkey",g.PROTECTION_CREATED="public_protectioncreated",g.PROTECTION_DESTROYED="public_protectiondestroyed",g.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",g.TEARDOWN_COMPLETE="protectionTeardownComplete",g.VIDEO_ELEMENT_SELECTED="videoElementSelected",g.KEY_SESSION_UPDATED="public_keySessionUpdated",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));k.default=b},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),T=m(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),I=m(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),w=m(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=m(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),R=m(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),D=m(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),c=m(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),l=m(
/*! ../../../core/Utils */
"./src/core/Utils.js"),d=m(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),f=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function _(y){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(y)}function p(y){var Y,G,ie,oe,ye,J,de,ae,pe,he,fe,g=(y=y||{}).protectionKeyController,A=y.protectionModel,E=y.eventBus,L=y.events,K=y.debug,ee=y.BASE64,Z=y.constants,le=[],H=y.cmcdModel,W=y.settings,x=y.customParametersModel;function se(){if(!(E&&E.hasOwnProperty("on")&&g&&g.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function X(Te,Ne){ae||pe?ae&&V():function F(Te,Ne){if(!pe){pe=!0;var lt,Ge=[];Te=Te.sort(function(_t,pt){return(ye&&ye[_t.ks.systemString]&&ye[_t.ks.systemString].priority>=0?ye[_t.ks.systemString].priority:Te.length)-(ye&&ye[pt.ks.systemString]&&ye[pt.ks.systemString].priority>=0?ye[pt.ks.systemString].priority:Te.length)});for(var ot=0;ot<Te.length;ot++){var Ze=Oe(Te[ot]);Ge.push({ks:Te[ot].ks,configs:[Ze],protData:Te[ot].protData})}A.requestKeySystemAccess(Ge).then(function(_t){return G.info("DRM: KeySystem Access Granted for system string ("+((lt=_t.data).mksa&&lt.mksa.selectedSystemString?lt.mksa.selectedSystemString:lt.keySystem.systemString)+")!  Selecting key system..."),A.selectKeySystem(lt)}).then(function(_t){if(ae=_t,pe=!1,A){E.trigger(L.KEY_SYSTEM_SELECTED,{data:lt});var pt=me(ae);pt&&pt.serverCertificate&&pt.serverCertificate.length>0&&A.setServerCertificate(ee.decodeArray(pt.serverCertificate).buffer),V()}}).catch(function(_t){ae=null,pe=!1,Ne||E.trigger(L.KEY_SYSTEM_SELECTED,{data:null,error:new P.default(w.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,w.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+_t.error)})})}}(Te,Ne)}function V(){for(var Te,Ne=0;Ne<ie.length;Ne++)for(Te=0;Te<ie[Ne].length;Te++)if(ae===ie[Ne][Te].ks){re(ie[Ne][Te]);break}ie=[]}function re(Te){if(g.isClearKey(ae)&&Te.protData&&Te.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Te.protData.clearkeys).length){var Ne={kids:Object.keys(Te.protData.clearkeys)};Te.initData=(new TextEncoder).encode(JSON.stringify(Ne))}Te.sessionId?U(Te):null!==Te.initData&&te(Te)}function U(Te){se(),A.loadKeySession(Te)}function te(Te){var Ne=M.default.getPSSHForKeySystem(ae,Te?Te.initData:null);if(Ne){if(function z(Te){if(!Te)return!1;try{for(var Ne=A.getSessions(),Ge=0;Ge<Ne.length;Ge++)if(Ne[Ge].getKeyId()===Te)return!0;return!1}catch{return!1}}(Te.keyId)||j(Ne))return;try{Te.initData=Ne,A.createKeySession(Te)}catch(Ge){E.trigger(L.KEY_SESSION_CREATED,{data:null,error:new P.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+Ge.message)})}}else Te&&Te.initData?A.createKeySession(Te):E.trigger(L.KEY_SESSION_CREATED,{data:null,error:new P.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(ae?ae.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function me(Te){if(Te){var Ne=Te.systemString;if(ye)return Ne in ye?ye[Ne]:null}return null}function j(Te){if(!Te)return!1;try{for(var Ne=A.getAllInitData(),Ge=0;Ge<Ne.length;Ge++)if(g.initDataEquals(Te,Ne[Ge]))return G.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function be(Te){se(),Te?(A.setMediaElement(Te),E.on(L.NEED_KEY,Yt,Y)):null===Te&&(A.setMediaElement(Te),E.off(L.NEED_KEY,Yt,Y))}function Oe(Te){var Ne=Te.protData,Ge=[],ot=[],Ze=Ne&&Ne.audioRobustness&&Ne.audioRobustness.length>0?Ne.audioRobustness:de,lt=Ne&&Ne.videoRobustness&&Ne.videoRobustness.length>0?Ne.videoRobustness:de,_t=Te.sessionType,pt=Ne&&Ne.distinctiveIdentifier?Ne.distinctiveIdentifier:"optional",Be=Ne&&Ne.persistentState?Ne.persistentState:"temporary"===_t?"optional":"required";return oe.forEach(function(Je){Je.type===Z.AUDIO?Ge.push(new T.default(Je.codec,Ze)):Je.type===Z.VIDEO&&ot.push(new T.default(Je.codec,lt))}),new I.default(Ge,ot,pt,Be,[_t])}function ze(Te){Te.error?E.trigger(L.KEY_STATUSES_CHANGED,{data:null,error:Te.error}):G.debug("DRM: key status = "+Te.status)}function Le(Te){G.debug("DRM: onKeyMessage");var Ne=Te.data;E.trigger(L.KEY_MESSAGE,{data:Ne});var Ge=Ne.messageType?Ne.messageType:"license-request",ot=Ne.message,Ze=Ne.sessionToken,lt=me(ae),_t=g.getLicenseServerModelInstance(ae,lt,Ge),pt={sessionToken:Ze,messageType:Ge};if(ot&&0!==ot.byteLength){if(!_t)return G.debug("DRM: License server request not required for this message (type = "+Te.data.messageType+").  Session ID = "+Ze.getSessionId()),void Ye(pt);if(g.isClearKey(ae)){var Be=g.processClearKeyLicenseRequest(ae,lt,ot);if(Be&&Be.keyPairs&&Be.keyPairs.length>0)return G.debug("DRM: ClearKey license request handled by application!"),Ye(pt),void A.updateKeySession(Ze,Be)}!function et(Te,Ne,Ge){var ot=Te.sessionToken,Ze=Te.messageType?Te.messageType:"license-request",lt={sessionToken:ot,messageType:Ze},_t=ae?ae.systemString:null,pt=function ht(Te,Ne,Ge,ot,Ze){var lt=null,_t=ot.message;if(Te&&Te.serverURL){var pt=Te.serverURL;"string"==typeof pt&&""!==pt?lt=pt:"object"===_(pt)&&pt.hasOwnProperty(Ne)&&(lt=pt[Ne])}else if(Te&&Te.laURL&&""!==Te.laURL)lt=Te.laURL;else if(!(lt=M.default.getLicenseServerUrlFromMediaInfo(oe,ae.schemeIdURI))&&!g.isClearKey(ae)){var Be=M.default.getPSSHData(Ge.initData);(lt=ae.getLicenseServerURLFromInitData(Be))||(lt=ot.laURL)}return Ze.getServerURLFromMessage(lt,_t,Ne)}(Ge,Ze,ot,Te,Ne);if(pt){var Be={},Je=!1;Ge&&Dt(Be,Ge.httpRequestHeaders);var ct=Te.message;Dt(Be,ae.getRequestHeadersFromMessage(ct)),Object.keys(Be).forEach(function(qe){"authorization"===qe.toLowerCase()&&(Je=!0)}),Ge&&"boolean"==typeof Ge.withCredentials&&(Je=Ge.withCredentials);var At=function(at){if(A)if(at.status>=200&&at.status<=299){var Mt=l.default.parseHttpHeaders(at.getAllResponseHeaders?at.getAllResponseHeaders():null),sn=new D.default(at.responseURL,Mt,at.response);jt(x.getLicenseResponseFilters(),sn).then(function(){var He=Ne.getLicenseMessage(sn.data,_t,Ze);null!==He?(Ye(lt),A.updateKeySession(ot,He)):Ht(at,lt,_t,Ze,Ne)})}else Ht(at,lt,_t,Ze,Ne)},Ot=function(at){Ye(lt,new P.default(w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+_t+' update, XHR aborted. status is "'+at.statusText+'" ('+at.status+"), readyState is "+at.readyState))},Nt=function(at){Ye(lt,new P.default(w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+_t+' update, XHR error. status is "'+at.statusText+'" ('+at.status+"), readyState is "+at.readyState))},un=ae.getLicenseRequestFromMessage(ct),en=Ne.getHTTPMethod(Ze),Gn=Ne.getResponseType(_t,Ze),_r=Ge&&!isNaN(Ge.httpTimeout)?Ge.httpTimeout:8e3,Ae=ot.getSessionId()||null,tt=new R.default(pt,en,Gn,Be,Je,Ze,Ae,un),Ct=isNaN(W.get().streaming.retryAttempts[c.HTTPRequest.LICENSE])?3:W.get().streaming.retryAttempts[c.HTTPRequest.LICENSE];jt(x.getLicenseRequestFilters(),tt).then(function(){rt(tt,Ct,_r,At,Ot,Nt)})}else Ye(lt,new P.default(w.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Ne,_t,lt)}else Ye(pt,new P.default(w.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Ye(Te,Ne){E.trigger(L.LICENSE_REQUEST_COMPLETE,{data:Te,error:Ne})}function rt(Te,Ne,Ge,ot,Ze,lt){var _t=new XMLHttpRequest;if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled&&W.get().streaming.cmcd.mode===d.default.CMCD_MODE_QUERY){var Be=H.getQueryParameter({url:Te.url,type:c.HTTPRequest.LICENSE});Be&&(Te.url=l.default.addAditionalQueryParameterToUrl(Te.url,[Be]))}for(var Je in _t.open(Te.method,Te.url,!0),_t.responseType=Te.responseType,_t.withCredentials=Te.withCredentials,Ge>0&&(_t.timeout=Ge),Te.headers)_t.setRequestHeader(Je,Te.headers[Je]);if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled&&W.get().streaming.cmcd.mode===d.default.CMCD_MODE_HEADER){var gt=H.getHeaderParameters({url:Te.url,type:c.HTTPRequest.LICENSE});if(gt)for(var At in gt){var Ot=gt[At];Ot&&_t.setRequestHeader(At,Ot)}}var Nt=function(){Ne--;var en=isNaN(W.get().streaming.retryIntervals[c.HTTPRequest.LICENSE])?1e3:W.get().streaming.retryIntervals[c.HTTPRequest.LICENSE];fe=setTimeout(function(){rt(Te,Ne,Ge,ot,Ze,lt)},en)};_t.onload=function(){he=null,this.status>=200&&this.status<=299||Ne<=0?ot(this):(G.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Ne),Nt())},_t.ontimeout=_t.onerror=function(){he=null,Ne<=0?lt(this):(G.warn("License request network request failed . Retrying it... Pending retries: "+Ne),Nt())},_t.onabort=function(){Ze(this)},E.trigger(L.LICENSE_REQUEST_SENDING,{url:Te.url,headers:Te.headers,payload:Te.data,sessionId:Te.sessionId}),he=_t,_t.send(Te.data)}function it(){he&&(he.onloadend=he.onerror=he.onprogress=void 0,he.abort(),he=null),fe&&(clearTimeout(fe),fe=null)}function Dt(Te,Ne){if(Ne)for(var Ge in Ne)Te[Ge]=Ne[Ge]}function Ht(Te,Ne,Ge,ot,Ze){var lt="NONE",_t=null;Te.response&&(lt=Ze.getErrorResponse(Te.response,Ge,ot),_t={serverResponse:Te.response||null,responseCode:Te.status||null,responseText:Te.statusText||null}),Ye(Ne,new P.default(w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ge+' update, XHR complete. status is "'+Te.statusText+'" ('+Te.status+"), readyState is "+Te.readyState+".  Response is "+lt,_t))}function jt(Te,Ne){return Te?Te.reduce(function(Ge,ot){return Ge.then(function(){return ot(Ne)})},Promise.resolve()):Promise.resolve()}function Yt(Te,Ne){if(!W.get().streaming.protection.ignoreEmeEncryptedEvent){if(G.debug("DRM: onNeedKey"),"cenc"!==Te.key.initDataType)return void G.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Te.key.initDataType);if(0===oe.length&&(G.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Ne=typeof Ne>"u"?1:Ne+1)<5))return void le.push(setTimeout(function(){Yt(Te,Ne)},500));var Ge=Te.key.initData;if(ArrayBuffer.isView(Ge)&&(Ge=Ge.buffer),ae){var ot=M.default.getPSSHForKeySystem(ae,Ge);if(ot&&j(ot))return}G.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Ge)));var Ze=g.getSupportedKeySystemsFromSegmentPssh(Ge,ye,J);if(0===Ze.length)return void G.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function ne(Te){ie.push(Te),X(Te,!1)}(Ze)}}return Y={initializeForMedia:function Se(Te){if(!Te)throw new Error("mediaInfo can not be null or undefined");se(),oe.push(Te)},clearMediaInfoArray:function Ee(){oe=[]},handleKeySystemFromManifest:function _e(){if(oe&&0!==oe.length){var Te=[];oe.forEach(function(Ne){var Ge=g.getSupportedKeySystemsFromContentProtection(Ne.contentProtection,ye,J);Ge.length>0&&(0===Te.length&&(Te=Ge),ie.push(Ge))}),Te&&Te.length>0&&X(Te,!0)}},createKeySession:te,loadKeySession:U,removeKeySession:function $(Te){se(),A.removeKeySession(Te)},closeKeySession:function ce(Te){se(),A.closeKeySession(Te)},setServerCertificate:function ue(Te){se(),A.setServerCertificate(Te)},setMediaElement:be,setSessionType:function Re(Te){J=Te},setRobustnessLevel:function Pe(Te){de=Te},setProtectionData:function we(Te){ye=Te,g.setProtectionData(Te)},getSupportedKeySystemsFromContentProtection:function q(Te){return se(),g.getSupportedKeySystemsFromContentProtection(Te,ye,J)},getKeySystems:function Zt(){return g?g.getKeySystems():[]},setKeySystems:function De(Te){g&&g.setKeySystems(Te)},stop:function je(){it(),A&&A.stop()},reset:function Ce(){E.off(L.INTERNAL_KEY_MESSAGE,Le,Y),E.off(L.INTERNAL_KEY_STATUS_CHANGED,ze,Y),se(),it(),be(null),ae=null,pe=!1,A&&(A.reset(),A=null),le.forEach(function(Te){return clearTimeout(Te)}),le=[],oe=[],ie=[]}},function ve(){G=K.getLogger(Y),ie=[],oe=[],J="temporary",de="",he=null,fe=null,E.on(L.INTERNAL_KEY_MESSAGE,Le,Y),E.on(L.INTERNAL_KEY_STATUS_CHANGED,ze,Y)}(),Y}p.__dashjs_factory_name="ProtectionController",k.default=f.default.getClassFactory(p)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),T=m(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),I=m(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),w=m(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),P=m(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),R=m(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),D=m(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),c=m(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),l=m(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),d=m(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function f(){var N,S,O,b,v,p,y,g,_=this.context;function ie(J,de){return de&&J in de?de[J]:null}function oe(J,de){return J&&J.sessionId?J.sessionId:de&&de.sessionId?de.sessionId:null}function ye(J,de){return J&&J.sessionType?J.sessionType:de}return N={initialize:function E(){var J;b=[],J=Object(P.default)(_).getInstance({BASE64:v,settings:p}),b.push(J),J=Object(w.default)(_).getInstance({BASE64:v}),b.push(J),J=Object(T.default)(_).getInstance({BASE64:v}),b.push(J),y=J,J=Object(I.default)(_).getInstance({BASE64:v,debug:S}),b.push(J),g=J},setProtectionData:function G(J){for(var ae=0;ae<b.length;ae++){var pe=b[ae];pe.hasOwnProperty("init")&&pe.init((fe=pe.systemString,ve=void 0,ve=null,J&&(ve=fe in J?J[fe]:null),ve))}var fe,ve},isClearKey:function Z(J){return J===y||J===g},initDataEquals:function le(J,de){if(J.byteLength===de.byteLength){for(var ae=new Uint8Array(J),pe=new Uint8Array(de),he=0;he<ae.length;he++)if(ae[he]!==pe[he])return!1;return!0}return!1},getKeySystems:function L(){return b},setKeySystems:function K(J){b=J},getKeySystemBySystemString:function ee(J){for(var de=0;de<b.length;de++)if(b[de].systemString===J)return b[de];return null},getSupportedKeySystemsFromContentProtection:function H(J,de,ae){var pe,he,fe,ve,se=[];if(J){var Se=M.default.findCencContentProtection(J);for(fe=0;fe<b.length;++fe){var _e=ie((he=b[fe]).systemString,de);for(ve=0;ve<J.length;++ve)if((pe=J[ve]).schemeIdUri.toLowerCase()===he.schemeIdURI){var ne=he.getInitData(pe,Se);se.push({ks:b[fe],keyId:pe.keyId,initData:ne,protData:_e,cdmData:he.getCDMData(_e?_e.cdmData:null),sessionId:oe(_e,pe),sessionType:ye(_e,ae)})}}}return se},getSupportedKeySystemsFromSegmentPssh:function W(J,de,ae){for(var fe,pe=[],he=M.default.parsePSSHList(J),se=0;se<b.length;++se){var Se=ie((fe=b[se]).systemString,de);fe.uuid in he&&pe.push({ks:fe,initData:he[fe.uuid],protData:Se,cdmData:fe.getCDMData(Se?Se.cdmData:null),sessionId:oe(Se),sessionType:ye(Se,ae)})}return pe},getLicenseServerModelInstance:function x(J,de,ae){if("license-release"===ae||"individualization-request"===ae)return null;var pe=null;return de&&de.hasOwnProperty("drmtoday")?pe=Object(R.default)(_).getInstance({BASE64:v}):J.systemString===d.default.WIDEVINE_KEYSTEM_STRING?pe=Object(c.default)(_).getInstance():J.systemString===d.default.PLAYREADY_KEYSTEM_STRING?pe=Object(D.default)(_).getInstance():J.systemString===d.default.CLEARKEY_KEYSTEM_STRING&&(pe=Object(l.default)(_).getInstance()),pe},processClearKeyLicenseRequest:function Y(J,de,ae){try{return J.getClearKeysFromProtectionData(de,ae)}catch{return O.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function A(J){J&&(J.debug&&(O=(S=J.debug).getLogger(N)),J.BASE64&&(v=J.BASE64),J.settings&&(p=J.settings))}}}f.__dashjs_factory_name="ProtectionKeyController",k.default=dashjs.FactoryMaker.getSingletonFactory(f)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),T=m(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),I=m(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),w=m(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),P="e2719d58-a985-b3c9-781a-b030af78d30e",R=w.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+P;function c(l){var f=(l=l||{}).BASE64;function S(y){try{var g=y.replace(/-/g,"");return(g=btoa(g.match(/\w{2}/g).map(function(A){return String.fromCharCode(parseInt(A,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:P,schemeIdURI:D,systemString:R,getInitData:function N(y,g){try{var A=I.default.parseInitDataFromContentProtection(y,f);if(!A&&g){var L={kids:[S(g["cenc:default_KID"])]};A=(new TextEncoder).encode(JSON.stringify(L))}return A}catch{return null}},getRequestHeadersFromMessage:function O(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function b(y){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(y))))},getLicenseServerURLFromInitData:function v(){return null},getCDMData:function p(){return null},getClearKeysFromProtectionData:function _(y,g){var A=null;if(y){for(var E=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g))),L=[],K=0;K<E.kids.length;K++){var ee=E.kids[K],Z=y.clearkeys&&y.clearkeys.hasOwnProperty(ee)?y.clearkeys[ee]:null;if(!Z)throw new Error("DRM: ClearKey keyID ("+ee+") is not known!");L.push(new M.default(ee,Z))}A=new T.default(L)}return A}}}c.__dashjs_factory_name="KeySystemClearKey",k.default=dashjs.FactoryMaker.getSingletonFactory(c)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),T=m(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),I="9a04f079-9840-4286-ab92-e65be0885f95",w=T.default.PLAYREADY_KEYSTEM_STRING,P="urn:uuid:"+I;function D(c){var d="utf-16",f=(c=c||{}).BASE64,_=c.settings;function N(){if(!f||!f.hasOwnProperty("decodeArray")||!f.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:I,schemeIdURI:P,systemString:w,getInitData:function v(g){var ee,Z,le,H,W,A=new Uint8Array([112,115,115,104,0,0,0,0]),E=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),L=0,K=null;if(N(),!g)return null;if("pssh"in g)return M.default.parseInitDataFromContentProtection(g,f);if("pro"in g)K=f.decodeArray(g.pro.__text);else{if(!("prheader"in g))return null;K=f.decodeArray(g.prheader.__text)}return Z=4+A.length+E.length+4+(ee=K.length),le=new ArrayBuffer(Z),H=new Uint8Array(le),(W=new DataView(le)).setUint32(L,Z),H.set(A,L+=4),H.set(E,L+=A.length),W.setUint32(L+=E.length,ee),H.set(K,L+=4),L+=ee,H.buffer},getRequestHeadersFromMessage:function S(g){var A,E,L={},K=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&g&&g.byteLength%2==1)return L["Content-Type"]="text/xml; charset=utf-8",L;var ee="utf-16"===d?new Uint16Array(g):new Uint8Array(g);A=String.fromCharCode.apply(null,ee);for(var Z=(E=K.parseFromString(A,"application/xml")).getElementsByTagName("name"),le=E.getElementsByTagName("value"),H=0;H<Z.length;H++)L[Z[H].childNodes[0].nodeValue]=le[H].childNodes[0].nodeValue;return L.hasOwnProperty("Content")&&(L["Content-Type"]=L.Content,delete L.Content),L.hasOwnProperty("Content-Type")||(L["Content-Type"]="text/xml; charset=utf-8"),L},getLicenseRequestFromMessage:function O(g){var A=null,E=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&g&&g.byteLength%2==1)return g;var L="utf-16"===d?new Uint16Array(g):new Uint8Array(g);N();var K=String.fromCharCode.apply(null,L),ee=E.parseFromString(K,"application/xml");if(!ee.getElementsByTagName("PlayReadyKeyMessage")[0])return g;var Z=ee.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Z&&(A=f.decode(Z)),A},getLicenseServerURLFromInitData:function b(g){if(g)for(var A=new DataView(g),E=A.getUint16(4,!0),L=6,K=new DOMParser,ee=0;ee<E;ee++){var Z=A.getUint16(L,!0),le=A.getUint16(L+=2,!0);if(L+=2,1===Z){var H=g.slice(L,L+le),W=String.fromCharCode.apply(null,new Uint16Array(H)),x=K.parseFromString(W,"application/xml");if(x.getElementsByTagName("LA_URL")[0]){var Y=x.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Y)return Y}if(x.getElementsByTagName("LUI_URL")[0]){var G=x.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(G)return G}}else L+=le}return null},getCDMData:function y(g){var A,E,L,K;if(N(),!g)return null;for(A=[],K=0;K<g.length;++K)A.push(g.charCodeAt(K)),A.push(0);for(A=String.fromCharCode.apply(null,A),A=f.encode(A),E='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",A),L=[],K=0;K<E.length;++K)L.push(E.charCodeAt(K)),L.push(0);return new Uint8Array(L).buffer},setPlayReadyMessageFormat:function p(g){if("utf-8"!==g&&"utf-16"!==g)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');d=g}}}D.__dashjs_factory_name="KeySystemPlayReady",k.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),T=m(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),I=m(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),w=m(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),P="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",R=w.default.CLEARKEY_KEYSTEM_STRING,D="urn:uuid:"+P;function c(l){var d,f=l.BASE64,_=l.debug.getLogger(d);return{uuid:P,schemeIdURI:D,systemString:R,getInitData:function S(y){return I.default.parseInitDataFromContentProtection(y,f)},getRequestHeadersFromMessage:function O(){return null},getLicenseRequestFromMessage:function b(y){return new Uint8Array(y)},getLicenseServerURLFromInitData:function v(){return null},getCDMData:function p(){return null},getClearKeysFromProtectionData:function N(y,g){var A=null;if(y){for(var E=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g))),L=[],K=0;K<E.kids.length;K++){var ee=E.kids[K],Z=y.clearkeys&&y.clearkeys.hasOwnProperty(ee)?y.clearkeys[ee]:null;if(!Z)throw new Error("DRM: ClearKey keyID ("+ee+") is not known!");L.push(new M.default(ee,Z))}A=new T.default(L),_.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return A}}}c.__dashjs_factory_name="KeySystemW3CClearKey",k.default=dashjs.FactoryMaker.getSingletonFactory(c)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),T=m(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),I="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",w=T.default.WIDEVINE_KEYSTEM_STRING,P="urn:uuid:"+I;function R(D){var l=(D=D||{}).BASE64;return{uuid:I,schemeIdURI:P,systemString:w,getInitData:function d(O){return M.default.parseInitDataFromContentProtection(O,l)},getRequestHeadersFromMessage:function f(){return null},getLicenseRequestFromMessage:function _(O){return new Uint8Array(O)},getLicenseServerURLFromInitData:function N(){return null},getCDMData:function S(){return null}}}R.__dashjs_factory_name="KeySystemWidevine",k.default=dashjs.FactoryMaker.getSingletonFactory(R)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(k);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).MEDIA_KEYERR_CODE=100,g.MEDIA_KEYERR_UNKNOWN_CODE=101,g.MEDIA_KEYERR_CLIENT_CODE=102,g.MEDIA_KEYERR_SERVICE_CODE=103,g.MEDIA_KEYERR_OUTPUT_CODE=104,g.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,g.MEDIA_KEYERR_DOMAIN_CODE=106,g.MEDIA_KEY_MESSAGE_ERROR_CODE=107,g.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,g.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,g.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,g.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,g.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,g.KEY_SESSION_CREATED_ERROR_CODE=113,g.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,g.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",g.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",g.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",g.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",g.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",g.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",g.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",g.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",g.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",g.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",g.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",g.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",g.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",g.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));k.default=b},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),T=m(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),I=m(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=m(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),P=m(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),R=m(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=m(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function c(l){var b,v,p,y,g,A,E,L,K,d=this.context,f=(l=l||{}).eventBus,_=l.events,N=l.debug,S=l.api,O=l.errHandler;function Z(){p&&he();for(var fe=0;fe<E.length;fe++)oe(E[fe]);f.trigger(_.TEARDOWN_COMPLETE)}function oe(fe){try{p[S.cancelKeyRequest](y.systemString,fe.sessionId)}catch(ve){f.trigger(_.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+fe.sessionId+") "+ve.message})}}function pe(fe,ve){if(!ve||!fe)return null;for(var se=fe.length,Se=0;Se<se;Se++)if(fe[Se].sessionId==ve)return fe[Se];return null}function he(){p.removeEventListener(S.keyerror,K),p.removeEventListener(S.needkey,K),p.removeEventListener(S.keymessage,K),p.removeEventListener(S.keyadded,K)}return b={getAllInitData:function le(){for(var fe=[],ve=0;ve<A.length;ve++)fe.push(A[ve].initData);for(var se=0;se<E.length;se++)fe.push(E[se].initData);return fe},getSessions:function H(){return E.concat(A)},requestKeySystemAccess:function W(fe){return new Promise(function(ve,se){var Se=p;Se||(Se=document.createElement("video"));for(var _e=!1,ne=0;ne<fe.length;ne++)for(var X=fe[ne].ks.systemString,F=fe[ne].configs,V=null,re=null,U=0;U<F.length;U++){var te=F[U].videoCapabilities;if(te&&0!==te.length){re=[];for(var me=0;me<te.length;me++)""!==Se.canPlayType(te[me].contentType,X)&&re.push(te[me])}if(re&&(!re||0!==re.length)){_e=!0;var Ee=new P.default(V,re),q=g.getKeySystemBySystemString(X),z=new R.default(q,Ee);f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:z}),ve({data:z});break}}if(!_e){var j="Key system access denied! -- No valid audio/video content configurations detected!";f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:j}),se({error:j})}})},selectKeySystem:function x(fe){return y=fe.keySystem,Promise.resolve(y)},setMediaElement:function Y(fe){if(p!==fe){if(p){he();for(var ve=0;ve<E.length;ve++)oe(E[ve]);E=[]}(p=fe)&&(p.addEventListener(S.keyerror,K),p.addEventListener(S.needkey,K),p.addEventListener(S.keymessage,K),p.addEventListener(S.keyadded,K),f.trigger(_.VIDEO_ELEMENT_SELECTED))}},createKeySession:function G(fe){if(!y)throw new Error("Can not create sessions until you have selected a key system");if(L||0===E.length){var ve={sessionId:null,keyId:fe.keyId,initData:fe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return A.push(ve),p[S.generateKeyRequest](y.systemString,new Uint8Array(fe.initData)),ve}throw new Error("Multiple sessions not allowed!")},updateKeySession:function ie(fe,ve){var se=fe.sessionId;if(g.isClearKey(y))for(var Se=0;Se<ve.keyPairs.length;Se++)p[S.addKey](y.systemString,ve.keyPairs[Se].key,ve.keyPairs[Se].keyID,se);else p[S.addKey](y.systemString,new Uint8Array(ve),new Uint8Array(fe.initData),se);f.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:oe,setServerCertificate:function ye(){},loadKeySession:function J(){},removeKeySession:function de(){},stop:Z,reset:Z},function ee(){v=N.getLogger(b),p=null,y=null,A=[],E=[],g=Object(M.default)(d).getInstance(),K=function ae(){return{handleEvent:function(ve){var se=null;switch(ve.type){case S.needkey:var Se=ArrayBuffer.isView(ve.initData)?ve.initData.buffer:ve.initData;f.trigger(_.NEED_KEY,{key:new T.default(Se,"cenc")});break;case S.keyerror:if((se=pe(E,ve.sessionId))||(se=pe(A,ve.sessionId)),se){var _e=D.default.MEDIA_KEYERR_CODE,ne="";switch(ve.errorCode.code){case 1:_e=D.default.MEDIA_KEYERR_UNKNOWN_CODE,ne+="MEDIA_KEYERR_UNKNOWN - "+D.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:_e=D.default.MEDIA_KEYERR_CLIENT_CODE,ne+="MEDIA_KEYERR_CLIENT - "+D.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:_e=D.default.MEDIA_KEYERR_SERVICE_CODE,ne+="MEDIA_KEYERR_SERVICE - "+D.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:_e=D.default.MEDIA_KEYERR_OUTPUT_CODE,ne+="MEDIA_KEYERR_OUTPUT - "+D.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:_e=D.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,ne+="MEDIA_KEYERR_HARDWARECHANGE - "+D.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:_e=D.default.MEDIA_KEYERR_DOMAIN_CODE,ne+="MEDIA_KEYERR_DOMAIN - "+D.default.MEDIA_KEYERR_DOMAIN_MESSAGE}f.trigger(_.KEY_ERROR,{error:new I.default(_e,ne+="  System Code = "+ve.systemCode,se)})}else v.error("No session token found for key error");break;case S.keyadded:(se=pe(E,ve.sessionId))||(se=pe(A,ve.sessionId)),se?(v.debug("DRM: Key added."),f.trigger(_.KEY_ADDED,{data:se})):v.debug("No session token found for key added");break;case S.keymessage:if((L=null!=ve.sessionId)?!(se=pe(E,ve.sessionId))&&A.length>0&&(se=A.shift(),E.push(se),se.sessionId=ve.sessionId,f.trigger(_.KEY_SESSION_CREATED,{data:se})):A.length>0&&(se=A.shift(),E.push(se),0!==A.length&&O.error(new I.default(D.default.MEDIA_KEY_MESSAGE_ERROR_CODE,D.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),se){var X=ArrayBuffer.isView(ve.message)?ve.message.buffer:ve.message;se.keyMessage=X,f.trigger(_.INTERNAL_KEY_MESSAGE,{data:new w.default(se,X,ve.defaultURL)})}else v.warn("No session token found for key message")}}}}()}(),b}c.__dashjs_factory_name="ProtectionModel_01b",k.default=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),T=m(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),I=m(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),w=m(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),P=m(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),R=m(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),D=m(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),c={};function l(d){var O,b,v,p,y,g,A,E,f=this.context,_=(d=d||{}).eventBus,N=d.events,S=d.debug;function W(_e,ne,X,F){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var V="Insecure origins are not allowed";return _.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{error:V}),void F({error:V})}var te=_e[ne].ks,me=te.systemString;(function x(_e,ne){return new Promise(function(X,F){Y(_e,ne,0,X,F)})})((_e[ne].protData&&_e[ne].protData.systemStringPriority?_e[ne].protData.systemStringPriority:null)||(c[me]?c[me]:[me]),_e[ne].configs).then(function(q){var z="function"==typeof q.getConfiguration?q.getConfiguration():null,j=new R.default(te,z);j.mksa=q,_.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{data:j}),X({data:j})}).catch(function(q){if(ne+1<_e.length)W(_e,ne+1,X,F);else{var z="Key system access denied! ";_.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{error:z+q.message}),F({error:z+q.message})}})}function Y(_e,ne,X,F,V){var re=_e[X];b.debug("Requesting key system access for system string ".concat(re)),navigator.requestMediaKeySystemAccess(re,ne).then(function(U){U.selectedSystemString=re,F(U)}).catch(function(U){X+1<_e.length?Y(_e,ne,X+1,F,V):V(U)})}function he(_e){var ne=_e.session;return ne.removeEventListener("keystatuseschange",_e),ne.removeEventListener("message",_e),ne.close()}function ve(_e){for(var ne=0;ne<g.length;ne++)if(g[ne]===_e){g.splice(ne,1);break}}function se(_e){var ne,X;return _e&&_e.length>0&&(_e[0]&&("string"==typeof _e[0]?ne=_e[0]:X=_e[0]),_e[1]&&("string"==typeof _e[1]?ne=_e[1]:X=_e[1])),{status:ne,keyId:X}}function Se(_e,ne){var X={session:_e,keyId:ne.keyId,initData:ne.initData,sessionId:ne.sessionId,sessionType:ne.sessionType,handleEvent:function(V){switch(V.type){case"keystatuseschange":_.trigger(N.KEY_STATUSES_CHANGED,{data:this}),V.target.keyStatuses.forEach(function(){var U=se(arguments);_.trigger(N.INTERNAL_KEY_STATUS_CHANGED,"expired"===U.status?{error:new w.default(I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:U)});break;case"message":var re=ArrayBuffer.isView(V.message)?V.message.buffer:V.message;_.trigger(N.INTERNAL_KEY_MESSAGE,{data:new P.default(this,re,void 0,V.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return _e.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return _e.expiration},getKeyStatuses:function(){return _e.keyStatuses},getUsable:function(){var V=!1;return _e.keyStatuses.forEach(function(){"usable"===se(arguments).status&&(V=!0)}),V}};return _e.addEventListener("keystatuseschange",X),_e.addEventListener("message",X),_e.closed.then(function(){ve(X),b.debug("DRM: Session closed.  SessionID = "+X.getSessionId()),_.trigger(N.KEY_SESSION_CLOSED,{data:X.getSessionId()})}),g.push(X),X}return O={getAllInitData:function Z(){for(var _e=[],ne=0;ne<g.length;ne++)g[ne].initData&&_e.push(g[ne].initData);return _e},getSessions:function le(){return g},requestKeySystemAccess:function H(_e){return new Promise(function(ne,X){W(_e,0,ne,X)})},selectKeySystem:function G(_e){return new Promise(function(ne,X){_e.mksa.createMediaKeys().then(function(F){return v=_e.keySystem,y=F,p?p.setMediaKeys(y):Promise.resolve()}).then(function(){ne(v)}).catch(function(){X({error:"Error selecting keys system ("+_e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function ie(_e){p!==_e&&(p&&(p.removeEventListener("encrypted",A),p.setMediaKeys&&p.setMediaKeys(null)),(p=_e)&&(p.addEventListener("encrypted",A),p.setMediaKeys&&y&&p.setMediaKeys(y)))},setServerCertificate:function oe(_e){if(!v||!y)throw new Error("Can not set server certificate until you have selected a key system");y.setServerCertificate(_e).then(function(){b.info("DRM: License server certificate successfully updated."),_.trigger(N.SERVER_CERTIFICATE_UPDATED)}).catch(function(ne){_.trigger(N.SERVER_CERTIFICATE_UPDATED,{error:new w.default(I.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,I.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+ne.name)})})},createKeySession:function ye(_e){if(!v||!y)throw new Error("Can not create sessions until you have selected a key system");var ne=y.createSession(_e.sessionType),X=Se(ne,_e);ne.generateRequest(v.systemString===D.default.CLEARKEY_KEYSTEM_STRING&&(_e.initData||_e.protData&&_e.protData.clearkeys)?D.default.INITIALIZATION_DATA_TYPE_KEYIDS:D.default.INITIALIZATION_DATA_TYPE_CENC,_e.initData).then(function(){b.debug("DRM: Session created.  SessionID = "+X.getSessionId()),_.trigger(N.KEY_SESSION_CREATED,{data:X})}).catch(function(V){ve(X),_.trigger(N.KEY_SESSION_CREATED,{data:null,error:new w.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+V.name)})})},updateKeySession:function J(_e,ne){var X=_e.session;E.isClearKey(v)&&(ne=ne.toJWK()),X.update(ne).then(function(){_.trigger(N.KEY_SESSION_UPDATED)}).catch(function(F){_.trigger(N.KEY_ERROR,{error:new w.default(I.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+F.name,_e)})})},loadKeySession:function de(_e){if(!v||!y)throw new Error("Can not load sessions until you have selected a key system");for(var ne=_e.sessionId,X=0;X<g.length;X++)if(ne===g[X].sessionId)return void b.warn("DRM: Ignoring session ID because we have already seen it!");var F=y.createSession(_e.sessionType),V=Se(F,_e);F.load(ne).then(function(re){re?(b.debug("DRM: Session loaded.  SessionID = "+V.getSessionId()),_.trigger(N.KEY_SESSION_CREATED,{data:V})):(ve(V),_.trigger(N.KEY_SESSION_CREATED,{data:null,error:new w.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+ne+")")}))}).catch(function(re){ve(V),_.trigger(N.KEY_SESSION_CREATED,{data:null,error:new w.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+ne+")! "+re.name)})})},removeKeySession:function ae(_e){_e.session.remove().then(function(){b.debug("DRM: Session removed.  SessionID = "+_e.getSessionId()),_.trigger(N.KEY_SESSION_REMOVED,{data:_e.getSessionId()})},function(X){_.trigger(N.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+_e.getSessionId()+"). "+X.name})})},closeKeySession:function pe(_e){he(_e).catch(function(ne){ve(_e),_.trigger(N.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+_e.getSessionId()+") "+ne.name})})},stop:function ee(){for(var _e,ne=0;ne<g.length;ne++)(_e=g[ne]).getUsable()||he(_e).catch(function(){ve(_e)})},reset:function K(){var ne,_e=g.length;0!==_e?function(){for(var X=function(re){ve(re),0===g.length&&(p?(p.removeEventListener("encrypted",A),p.setMediaKeys(null).then(function(){_.trigger(N.TEARDOWN_COMPLETE)})):_.trigger(N.TEARDOWN_COMPLETE))},F=0;F<_e;F++)!function(V){ne.session.closed.then(function(){X(V)}),he(ne).catch(function(){X(V)})}(ne=g[F])}():_.trigger(N.TEARDOWN_COMPLETE)}},function L(){b=S.getLogger(O),v=null,p=null,y=null,g=[],E=Object(M.default)(f).getInstance(),A=function fe(){return{handleEvent:function(ne){if("encrypted"===ne.type&&ne.initData){var X=ArrayBuffer.isView(ne.initData)?ne.initData.buffer:ne.initData;_.trigger(N.NEED_KEY,{key:new T.default(X,ne.initDataType)})}}}}()}(),O}c[D.default.PLAYREADY_KEYSTEM_STRING]=[D.default.PLAYREADY_KEYSTEM_STRING,D.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],c[D.default.WIDEVINE_KEYSTEM_STRING]=[D.default.WIDEVINE_KEYSTEM_STRING],c[D.default.CLEARKEY_KEYSTEM_STRING]=[D.default.CLEARKEY_KEYSTEM_STRING],l.__dashjs_factory_name="ProtectionModel_21Jan2015",k.default=dashjs.FactoryMaker.getClassFactory(l)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),T=m(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),I=m(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),w=m(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),P=m(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),R=m(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),D=m(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function c(l){var O,b,v,p,y,g,A,E,L,d=this.context,f=(l=l||{}).eventBus,_=l.events,N=l.debug,S=l.api;function ee(){try{for(var he=0;he<A.length;he++)ie(A[he]);v&&v.removeEventListener(S.needkey,E),f.trigger(_.TEARDOWN_COMPLETE)}catch(fe){f.trigger(_.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+fe.message})}}function ie(he){var fe=he.session;fe.removeEventListener(S.error,he),fe.removeEventListener(S.message,he),fe.removeEventListener(S.ready,he),fe.removeEventListener(S.close,he);for(var ve=0;ve<A.length;ve++)if(A[ve]===he){A.splice(ve,1);break}fe[S.release]()}function ae(){var he=null,fe=function(){v.removeEventListener("loadedmetadata",he),v[S.setMediaKeys](y),f.trigger(_.VIDEO_ELEMENT_SELECTED)};v.readyState>=1?fe():(he=fe.bind(this),v.addEventListener("loadedmetadata",he))}return O={getAllInitData:function Z(){for(var he=[],fe=0;fe<A.length;fe++)he.push(A[fe].initData);return he},getSessions:function le(){return A},requestKeySystemAccess:function H(he){return new Promise(function(fe,ve){for(var se=!1,Se=0;Se<he.length;Se++)for(var _e=he[Se].ks.systemString,ne=he[Se].configs,X=null,F=null,V=0;V<ne.length;V++){var re=ne[V].audioCapabilities,U=ne[V].videoCapabilities;if(re&&0!==re.length){X=[];for(var te=0;te<re.length;te++)window[S.MediaKeys].isTypeSupported(_e,re[te].contentType)&&X.push(re[te])}if(U&&0!==U.length){F=[];for(var me=0;me<U.length;me++)window[S.MediaKeys].isTypeSupported(_e,U[me].contentType)&&F.push(U[me])}if(!(!X&&!F||X&&0===X.length||F&&0===F.length)){se=!0;var Ee=new R.default(X,F),q=L.getKeySystemBySystemString(_e),z=new D.default(q,Ee);f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:z}),fe({data:z});break}}if(!se){var j="Key system access denied! -- No valid audio/video content configurations detected!";f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:j}),ve({error:j})}})},selectKeySystem:function W(he){return new Promise(function(fe,ve){try{y=he.mediaKeys=new window[S.MediaKeys](he.keySystem.systemString),p=he.keySystem,g=he,v&&ae(),fe(p)}catch{ve({error:"Error selecting keys system ("+p.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function x(he){v!==he&&(v&&v.removeEventListener(S.needkey,E),(v=he)&&(v.addEventListener(S.needkey,E),y&&ae()))},createKeySession:function Y(he){if(!p||!y||!g)throw new Error("Can not create sessions until you have selected a key system");var fe=null;if(g.ksConfiguration.videoCapabilities&&g.ksConfiguration.videoCapabilities.length>0&&(fe=g.ksConfiguration.videoCapabilities[0]),null===fe&&g.ksConfiguration.audioCapabilities&&g.ksConfiguration.audioCapabilities.length>0&&(fe=g.ksConfiguration.audioCapabilities[0]),null===fe)throw new Error("Can not create sessions for unknown content types.");var se=y.createSession(fe.contentType,new Uint8Array(he.initData),he.cdmData?new Uint8Array(he.cdmData):null),Se=function pe(he,fe){return{session:he,keyId:fe.keyId,initData:fe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(se){switch(se.type){case S.error:f.trigger(_.KEY_ERROR,{error:new I.default(w.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case S.message:var _e=ArrayBuffer.isView(se.message)?se.message.buffer:se.message;f.trigger(_.INTERNAL_KEY_MESSAGE,{data:new P.default(this,_e,se.destinationURL)});break;case S.ready:b.debug("DRM: Key added."),f.trigger(_.KEY_ADDED);break;case S.close:b.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),f.trigger(_.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(se,he);se.addEventListener(S.error,Se),se.addEventListener(S.message,Se),se.addEventListener(S.ready,Se),se.addEventListener(S.close,Se),A.push(Se),b.debug("DRM: Session created.  SessionID = "+Se.getSessionId()),f.trigger(_.KEY_SESSION_CREATED,{data:Se})},updateKeySession:function G(he,fe){var ve=he.session;L.isClearKey(p)?ve.update(new Uint8Array(fe.toJWK())):ve.update(new Uint8Array(fe)),f.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:ie,setServerCertificate:function oe(){},loadKeySession:function ye(){},removeKeySession:function J(){},stop:ee,reset:ee},function K(){b=N.getLogger(O),v=null,p=null,y=null,g=null,A=[],L=Object(M.default)(d).getInstance(),E=function de(){return{handleEvent:function(fe){if(fe.type===S.needkey&&fe.initData){var ve=ArrayBuffer.isView(fe.initData)?fe.initData.buffer:fe.initData;f.trigger(_.NEED_KEY,{key:new T.default(ve,"cenc")})}}}}()}(),O}c.__dashjs_factory_name="ProtectionModel_3Feb2014",k.default=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),T=m(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function I(){return{getServerURLFromMessage:function P(d){return d},getHTTPMethod:function R(){return"POST"},getResponseType:function D(){return"json"},getLicenseMessage:function c(d){if(!d.hasOwnProperty("keys"))return null;for(var f=[],_=0;_<d.keys.length;_++){var N=d.keys[_],S=N.kid.replace(/=/g,""),O=N.k.replace(/=/g,"");f.push(new M.default(S,O))}return new T.default(f)},getErrorResponse:function l(d){return String.fromCharCode.apply(null,new Uint8Array(d))}}}I.__dashjs_factory_name="ClearKey",k.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function T(I){var w=(I=I||{}).BASE64,P={};return P[M.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(S){return w.decodeArray(S.license)},getErrorResponse:function(S){return S}},P[M.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(S){return S},getErrorResponse:function(S){return String.fromCharCode.apply(null,new Uint8Array(S))}},{getServerURLFromMessage:function c(N){return N},getHTTPMethod:function l(){return"POST"},getResponseType:function d(N){return P[N].responseType},getLicenseMessage:function f(N,S){return function D(){if(!w||!w.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),P[S].getLicenseMessage(N)},getErrorResponse:function _(N,S){return P[S].getErrorResponse(N)}}}T.__dashjs_factory_name="DRMToday",k.default=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(){var I="http://schemas.xmlsoap.org/soap/envelope/";function w(_){var N=String.fromCharCode.apply(null,new Uint8Array(_));return decodeURIComponent(escape(N))}function P(_){if(window.DOMParser){var N=w(_),O=(new window.DOMParser).parseFromString(N,"text/xml"),b=O?O.getElementsByTagNameNS(I,"Envelope")[0]:null,v=b?b.getElementsByTagNameNS(I,"Body")[0]:null;if(v&&v.getElementsByTagNameNS(I,"Fault")[0])return null}return _}function R(_){var N="",S="",O="",b=-1,v=-1;if(window.DOMParser){var p=w(_),g=(new window.DOMParser).parseFromString(p,"text/xml"),A=g?g.getElementsByTagNameNS(I,"Envelope")[0]:null,E=A?A.getElementsByTagNameNS(I,"Body")[0]:null,L=E?E.getElementsByTagNameNS(I,"Fault")[0]:null,K=L?L.getElementsByTagName("detail")[0]:null,ee=K?K.getElementsByTagName("Exception")[0]:null,Z=null;if(null===L)return p;N=(Z=L.getElementsByTagName("faultstring")[0].firstChild)?Z.nodeValue:null,null!==ee&&(S=(Z=ee.getElementsByTagName("StatusCode")[0])?Z.firstChild.nodeValue:null,b=(O=(Z=ee.getElementsByTagName("Message")[0])?Z.firstChild.nodeValue:null)?O.lastIndexOf("[")+1:-1,v=O?O.indexOf("]"):-1,O=O?O.substring(b,v):"")}var le="code: ".concat(S,", name: ").concat(N);return O&&(le+=", message: ".concat(O)),le}return{getServerURLFromMessage:function D(_){return _},getHTTPMethod:function c(){return"POST"},getResponseType:function l(){return"arraybuffer"},getLicenseMessage:function d(_){return P.call(this,_)},getErrorResponse:function f(_){return R.call(this,_)}}}m.r(k),M.__dashjs_factory_name="PlayReady",k.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(){return{getServerURLFromMessage:function I(c){return c},getHTTPMethod:function w(){return"POST"},getResponseType:function P(){return"arraybuffer"},getLicenseMessage:function R(c){return c},getErrorResponse:function D(c){return String.fromCharCode.apply(null,new Uint8Array(c))}}}m.r(k),M.__dashjs_factory_name="Widevine",k.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=function(){function c(l,d){if(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c),d&&"persistent"!==d&&"temporary"!==d)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=l,this.type=d}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"toJWK",value:function(){var d,f=this.keyPairs.length,_={keys:[]};for(d=0;d<f;d++)_.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[d].keyID,k:this.keyPairs[d].key});this.type&&(_.type=this.type);var S=JSON.stringify(_),O=S.length,b=new ArrayBuffer(O),v=new Uint8Array(b);for(d=0;d<O;d++)v[d]=S.charCodeAt(d);return b}}]),c}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d,f,_){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.sessionToken=l,this.message=d,this.defaultURL=f,this.messageType=_||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.keyID=l,this.key=d})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.keySystem=l,this.ksConfiguration=d})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d,f,_,N){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.initDataTypes=["cenc"],l&&l.length&&(this.audioCapabilities=l),d&&d.length&&(this.videoCapabilities=d),this.distinctiveIdentifier=f,this.persistentState=_,this.sessionTypes=N})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d,f,_,N,S,O,b){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=l,this.method=d,this.responseType=f,this.headers=_,this.withCredentials=N,this.messageType=S,this.sessionId=O,this.data=b})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d,f){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=l,this.headers=d,this.data=f})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.contentType=l,this.robustness=d})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.initData=l,this.initDataType=d})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(){var w={},P={},R={};return{push:function D(f,_,N){if(_){w[f]||(w[f]=[],P[f]=0,R[f]=0);var S=N&&N.droppedVideoFrames?N.droppedVideoFrames:0,O=N&&N.totalVideoFrames?N.totalVideoFrames:0,b=S-P[f];P[f]=S;var v=O-R[f];R[f]=O;var p=w[f];isNaN(_)||(p[_]?(p[_].droppedVideoFrames+=b,p[_].totalVideoFrames+=v):p[_]={droppedVideoFrames:b,totalVideoFrames:v})}},getFrameHistory:function c(f){return w[f]},clearForStream:function l(f){try{delete w[f],delete P[f],delete R[f]}catch{}},reset:function d(){w={},P={},R={}}}}T.__dashjs_factory_name="DroppedFramesHistory";var I=M.default.getClassFactory(T);k.default=I},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(I){var P=(I=I||{}).abrController,R=I.switchHistory,D=I.droppedFramesHistory,c=I.currentRequest,l=I.useBufferOccupancyABR,d=I.useL2AABR,f=I.useLoLPABR,_=I.streamProcessor?I.streamProcessor.getScheduleController():null,N=I.streamProcessor?I.streamProcessor.getRepresentationInfo():null,S=I.videoModel?I.videoModel:null;function v(){return N?N.mediaInfo:null}return{getMediaType:function O(){var H=v();return H?H.type:null},getMediaInfo:v,getDroppedFramesHistory:function L(){return D},getCurrentRequest:function K(){return c},getSwitchHistory:function A(){return R},getStreamInfo:function b(){var H=v();return H?H.streamInfo:null},getScheduleController:function y(){return _},getAbrController:function g(){return P},getRepresentationInfo:function p(){return N},useBufferOccupancyABR:function ee(){return l},useL2AABR:function Z(){return d},useLoLPABR:function le(){return f},getVideoModel:function E(){return S}}}T.__dashjs_factory_name="RulesContext",k.default=M.default.getClassFactory(T)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I={DEFAULT:.5,STRONG:1,WEAK:0};function w(R,D,c){return{quality:void 0===R?-1:R,reason:void 0===D?null:D,priority:function N(S){var O=I.DEFAULT;return(S===I.DEFAULT||S===I.STRONG||S===I.WEAK)&&(O=S),O}(c)}}w.__dashjs_factory_name="SwitchRequest";var P=M.default.getClassFactory(w);P.NO_CHANGE=-1,P.PRIORITY=I,M.default.updateClassFactory(w.__dashjs_factory_name,P),k.default=P},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function w(){var R=[],D=[];return{push:function c(f){f.newValue===T.default.NO_CHANGE&&(f.newValue=f.oldValue),R[f.oldValue]||(R[f.oldValue]={noDrops:0,drops:0,dropSize:0});var _=f.newValue-f.oldValue,N=_<0?1:0,S=N?-_:0,O=N?0:1;if(R[f.oldValue].drops+=N,R[f.oldValue].dropSize+=S,R[f.oldValue].noDrops+=O,D.push({idx:f.oldValue,noDrop:O,drop:N,dropSize:S}),D.length>8){var b=D.shift();R[b.idx].drops-=b.drop,R[b.idx].dropSize-=b.dropSize,R[b.idx].noDrops-=b.noDrop}},getSwitchRequests:function l(){return R},reset:function d(){R=[],D=[]}}}w.__dashjs_factory_name="SwitchRequestHistory";var P=M.default.getClassFactory(w);k.default=P},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(w){var b,v,p,y,g,O=(w=w||{}).settings;function K(J,de,ae,pe){var he=Math.pow(.5,ae/pe.fast);J.fastEstimate=(1-he)*de+he*J.fastEstimate;var fe=Math.pow(.5,ae/pe.slow);J.slowEstimate=(1-fe)*de+fe*J.slowEstimate,J.totalWeight+=ae}function Z(J,de,ae){return O.get().streaming.abr.movingAverageMethod!==M.default.MOVING_AVERAGE_SLIDING_WINDOW?function H(J,de){var ae=J?g.throughputHalfLife:g.latencyHalfLife,pe=J?p[de]:y[de];if(!pe||pe.totalWeight<=0)return NaN;var he=pe.fastEstimate/(1-Math.pow(.5,pe.totalWeight/ae.fast)),fe=pe.slowEstimate/(1-Math.pow(.5,pe.totalWeight/ae.slow));return J?Math.min(he,fe):Math.max(he,fe)}(J,de):function le(J,de,ae){var pe=function ee(J,de,ae){var pe,he;if(J?(pe=b[de],he=ae?3:4):(pe=v[de],he=4),pe){if(he>=pe.length)he=pe.length;else if(J)for(var fe=1;fe<he;++fe){var ve=pe[pe.length-fe]/pe[pe.length-fe-1];if((ve>=1.3||ve<=1/1.3)&&(he+=1)===pe.length)break}}else he=0;return he}(J,de,ae),fe=(J?b:v)[de];return 0!==pe&&fe&&0!==fe.length?(fe=fe.slice(-pe)).reduce(function(ve,se){return ve+se})/fe.length:NaN}(J,de,ae)}function W(J,de){return Z(!0,J,de)}function G(J){b[J]=b[J]||[],v[J]=v[J]||[],p[J]=p[J]||{fastEstimate:0,slowEstimate:0,totalWeight:0},y[J]=y[J]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function oe(){b={},v={},p={},y={}}var ye={push:function L(J,de,ae){if(de.trace&&de.trace.length){var ve,pe=de.tresponse.getTime()-de.trequest.getTime()||1,he=de._tfinish.getTime()-de.tresponse.getTime()||1,fe=de.trace.reduce(function(Se,_e){return Se+_e.b[0]},0),se=0;if(0!==(ve=de._fileLoaderType&&de._fileLoaderType===M.default.FILE_LOADER_TYPES.FETCH?de.trace.reduce(function(Se,_e){return Se+_e.d},0):ae?he:pe+he)&&(se=Math.round(8*fe/ve)),G(J),function E(J,de,ae){return J===M.default.VIDEO?ae<O.get().streaming.cacheLoadThresholds[M.default.VIDEO]:J===M.default.AUDIO?ae<O.get().streaming.cacheLoadThresholds[M.default.AUDIO]:void 0}(J,0,he)){if(b[J].length>0&&!b[J].hasCachedEntries)return;b[J].hasCachedEntries=!0}else b[J]&&b[J].hasCachedEntries&&function ie(J){delete b[J],delete v[J],delete p[J],delete y[J],G(J)}(J);b[J].push(se),b[J].length>20&&b[J].shift(),v[J].push(pe),v[J].length>20&&v[J].shift(),K(p[J],se,.001*he,g.throughputHalfLife),K(y[J],pe,1,g.latencyHalfLife)}},getAverageThroughput:W,getSafeAverageThroughput:function x(J,de){var ae=W(J,de);return isNaN(ae)||(ae*=O.get().streaming.abr.bandwidthSafetyFactor),ae},getAverageLatency:function Y(J){return Z(!1,J)},reset:oe};return function A(){g={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},oe()}(),ye}I.__dashjs_factory_name="ThroughputHistory",k.default=T.default.getClassFactory(I)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),T=m(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),I=m(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),w=m(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),P=m(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),R=m(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),D=m(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),c=m(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),l=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),d=m(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),f=m(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),_="qualitySwitchRules",N="abandonFragmentRules";function S(b){var L,K,v=this.context,p=(b=b||{}).mediaPlayerModel,y=b.customParametersModel,g=b.dashMetrics,A=b.settings;function Z(G){return G.filter(function(ie){return ie.quality>d.default.NO_CHANGE})}function le(G){var ye,J,de,ae,pe,ie={},oe=null;if(0!==G.length){for(ie[d.default.PRIORITY.STRONG]={quality:d.default.NO_CHANGE,reason:null},ie[d.default.PRIORITY.WEAK]={quality:d.default.NO_CHANGE,reason:null},ie[d.default.PRIORITY.DEFAULT]={quality:d.default.NO_CHANGE,reason:null},ye=0,J=G.length;ye<J;ye+=1)(de=G[ye]).quality!==d.default.NO_CHANGE&&(ie[de.priority].quality===d.default.NO_CHANGE||ie[de.priority].quality>de.quality)&&(ie[de.priority].quality=de.quality,ie[de.priority].reason=de.reason||null);return ie[d.default.PRIORITY.WEAK].quality!==d.default.NO_CHANGE&&(oe=ie[d.default.PRIORITY.WEAK]),ie[d.default.PRIORITY.DEFAULT].quality!==d.default.NO_CHANGE&&(oe=ie[d.default.PRIORITY.DEFAULT]),ie[d.default.PRIORITY.STRONG].quality!==d.default.NO_CHANGE&&(oe=ie[d.default.PRIORITY.STRONG]),oe&&(ae=oe.quality,pe=oe.reason),Object(d.default)(v).create(ae,pe)}}return{initialize:function ee(){L=[],K=[],A.get().streaming.abr.useDefaultABRRules&&(A.get().streaming.abr.ABRStrategy===f.default.ABR_STRATEGY_L2A?L.push(Object(D.default)(v).create({dashMetrics:g,settings:A})):A.get().streaming.abr.ABRStrategy===f.default.ABR_STRATEGY_LoLP?L.push(Object(c.default)(v).create({dashMetrics:g})):(L.push(Object(R.default)(v).create({dashMetrics:g,mediaPlayerModel:p,settings:A})),L.push(Object(M.default)(v).create({dashMetrics:g})),A.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&L.push(Object(T.default)(v).create({dashMetrics:g,settings:A})),A.get().streaming.abr.additionalAbrRules.switchHistoryRule&&L.push(Object(P.default)(v).create()),A.get().streaming.abr.additionalAbrRules.droppedFramesRule&&L.push(Object(w.default)(v).create()),A.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&K.push(Object(I.default)(v).create({dashMetrics:g,mediaPlayerModel:p,settings:A})))),y.getAbrCustomRules().forEach(function(ie){ie.type===_&&L.push(ie.rule(v).create()),ie.type===N&&K.push(ie.rule(v).create())})},reset:function x(){[L,K].forEach(function(G){G&&G.length&&G.forEach(function(ie){return ie.reset&&ie.reset()})}),L=[],K=[]},getMaxQuality:function H(G){return le(Z(L.map(function(J){return J.getMaxIndex(G)})))||Object(d.default)(v).create()},getMinSwitchRequest:le,shouldAbandonFragment:function W(G,ie){return le(Z(K.map(function(de){return de.shouldAbandon(G,ie)})))||Object(d.default)(v).create()},getQualitySwitchRules:function Y(){return L}}}S.__dashjs_factory_name="ABRRulesCollection";var O=l.default.getClassFactory(S);O.QUALITY_SWITCH_RULES=_,O.ABANDON_FRAGMENT_RULES=N,l.default.updateSingletonFactory(S.__dashjs_factory_name,O),k.default=O},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),T=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=m(
/*! ../../../core/Debug */
"./src/core/Debug.js");function w(P){var N,S,O,b,v,l=this.context,d=(P=P||{}).mediaPlayerModel,f=P.dashMetrics,_=P.settings;function E(){O={},b={},v=[]}return N={shouldAbandon:function A(L){var K=Object(M.default)(l).create(M.default.NO_CHANGE,{name:w.__dashjs_factory_name});if(!(L&&L.hasOwnProperty("getMediaInfo")&&L.hasOwnProperty("getMediaType")&&L.hasOwnProperty("getCurrentRequest")&&L.hasOwnProperty("getRepresentationInfo")&&L.hasOwnProperty("getAbrController")))return K;var ee=L.getMediaInfo(),Z=L.getMediaType(),le=L.getStreamInfo(),H=le?le.id:null,W=L.getCurrentRequest();if(!isNaN(W.index)){!function y(L,K){O[L]=O[L]||{},O[L][K]=O[L][K]||{}}(Z,W.index);var x=d.getStableBufferTime();if(f.getCurrentBufferLevel(Z)>x)return K;var G=O[Z][W.index];if(null===G||null===W.firstByteDate||b.hasOwnProperty(G.id))return K;if(void 0===G.firstByteTime&&(v[Z]=[],G.firstByteTime=W.firstByteDate.getTime(),G.segmentDuration=W.duration,G.bytesTotal=W.bytesTotal,G.id=W.index),G.bytesLoaded=W.bytesLoaded,G.elapsedTime=(new Date).getTime()-G.firstByteTime,G.bytesLoaded>0&&G.elapsedTime>0&&function g(L,K){v[L]=v[L]||[],v[L].push(K)}(Z,Math.round(8*G.bytesLoaded/G.elapsedTime)),v[Z].length>=5&&G.elapsedTime>500&&G.bytesLoaded<G.bytesTotal){var ie=v[Z].reduce(function(fe,ve){return fe+ve},0);if(G.measuredBandwidthInKbps=Math.round(ie/v[Z].length),G.estimatedTimeOfDownload=+(8*G.bytesTotal/G.measuredBandwidthInKbps/1e3).toFixed(2),G.estimatedTimeOfDownload<1.8*G.segmentDuration||0===L.getRepresentationInfo().quality)return K;if(!b.hasOwnProperty(G.id)){var oe=L.getAbrController(),ye=G.bytesTotal-G.bytesLoaded,J=oe.getBitrateList(ee),de=oe.getQualityForBitrate(ee,G.measuredBandwidthInKbps*_.get().streaming.abr.bandwidthSafetyFactor,H),ae=oe.getMinAllowedIndexFor(Z,H),pe=void 0!==ae?Math.max(ae,de):de;ye>G.bytesTotal*J[pe].bitrate/J[oe.getQualityFor(Z,H)].bitrate&&(K.quality=pe,K.reason.throughput=G.measuredBandwidthInKbps,K.reason.fragmentID=G.id,b[G.id]=G,S.debug("["+Z+"] frag id",G.id," is asking to abandon and switch to quality to ",pe," measured bandwidth was",G.measuredBandwidthInKbps),delete O[Z][G.id])}}else G.bytesLoaded===G.bytesTotal&&delete O[Z][G.id]}return K},reset:E},function p(){S=Object(I.default)(l).getInstance().getLogger(N),E()}(),N}w.__dashjs_factory_name="AbandonRequestsRule",k.default=T.default.getClassFactory(w)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),T=m(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=m(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),R=m(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=m(
/*! ../../../core/Debug */
"./src/core/Debug.js"),c=m(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),l=m(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),N=10;function b(v){var E,L,K,p=this.context,y=(v=v||{}).dashMetrics,g=v.mediaPlayerModel,A=Object(P.default)(p).getInstance();function le(ne,X,F){var V=F.reduce(function(me,Ee,q){return Ee>F[me]?q:me},0);if(0===V)return null;var re=Math.max(ne,N+2*X.length),U=(F[V]-1)/(re/N-1);return{gp:U,Vp:N/U}}function H(ne){var X={},V=ne.getMediaInfo().bitrateList.map(function(me){return me.bandwidth}),re=function Z(ne){return ne.map(function(X){return Math.log(X)})}(V);re=re.map(function(me){return me-re[0]+1});var U=g.getStableBufferTime(),te=le(U,V,re);return te?(X.state=1,X.bitrates=V,X.utilities=re,X.stableBufferTime=U,X.Vp=te.Vp,X.gp=te.gp,X.lastQuality=0,W(X)):X.state=0,X}function W(ne){ne.placeholderBuffer=0,ne.mostAdvancedSegmentStart=NaN,ne.lastSegmentWasReplacement=!1,ne.lastSegmentStart=NaN,ne.lastSegmentDurationS=NaN,ne.lastSegmentRequestTimeMs=NaN,ne.lastSegmentFinishTimeMs=NaN}function x(ne,X){var F=g.getStableBufferTime();if(ne.stableBufferTime!==F){var V=le(F,ne.bitrates,ne.utilities);if(V.Vp!==ne.Vp||V.gp!==ne.gp){var re=y.getCurrentBufferLevel(X),U=re+ne.placeholderBuffer;U-=N,U*=V.Vp/ne.Vp,U+=N,ne.stableBufferTime=F,ne.Vp=V.Vp,ne.gp=V.gp,ne.placeholderBuffer=Math.max(0,U-re)}}}function ie(ne,X){return ne.Vp*(ne.utilities[X]+ne.gp)}function oe(ne,X){for(var F=ne.bitrates[X],V=ne.utilities[X],re=0,U=X-1;U>=0;--U)if(ne.utilities[U]<ne.utilities[X]){var te=ne.bitrates[U];re=Math.max(re,ne.Vp*(ne.gp+(F*ne.utilities[U]-te*V)/(F-te)))}return re}function J(ne){var F=ne.mediaType===l.default.AUDIO?[l.default.AUDIO]:K;for(var V in F)K.hasOwnProperty(V)&&2===K[V].state&&(K[V].placeholderBuffer=0)}function de(){for(var ne in K)if(K.hasOwnProperty(ne)){var X=K[ne];0!==X.state&&(X.state=1,W(X))}}function ae(ne){if(ne&&ne.chunk&&ne.chunk.mediaInfo){var X=K[ne.chunk.mediaInfo.type];if(X&&0!==X.state){var F=ne.chunk.start;isNaN(X.mostAdvancedSegmentStart)||F>X.mostAdvancedSegmentStart?(X.mostAdvancedSegmentStart=F,X.lastSegmentWasReplacement=!1):X.lastSegmentWasReplacement=!0,X.lastSegmentStart=F,X.lastSegmentDurationS=ne.chunk.duration,X.lastQuality=ne.chunk.quality,he(X,ne.chunk.mediaInfo.type)}}}function pe(ne){if(ne&&ne.metric===M.default.HTTP_REQUEST&&ne.value&&ne.value.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&ne.value.trace&&ne.value.trace.length){var X=K[ne.mediaType];X&&0!==X.state&&(X.lastSegmentRequestTimeMs=ne.value.trequest.getTime(),X.lastSegmentFinishTimeMs=ne.value._tfinish.getTime(),he(X,ne.mediaType))}}function he(ne,X){if(!isNaN(ne.lastSegmentStart)&&!isNaN(ne.lastSegmentRequestTimeMs)&&!isNaN(ne.placeholderBuffer)){if(ne.placeholderBuffer*=.99,!isNaN(ne.lastSegmentFinishTimeMs)){var V=y.getCurrentBufferLevel(X)+.001*(ne.lastSegmentFinishTimeMs-ne.lastSegmentRequestTimeMs),re=ie(ne,ne.lastQuality),U=Math.max(0,re-V);ne.placeholderBuffer=Math.min(U,ne.placeholderBuffer)}ne.lastSegmentWasReplacement&&!isNaN(ne.lastSegmentDurationS)&&(ne.placeholderBuffer+=ne.lastSegmentDurationS),ne.lastSegmentStart=NaN,ne.lastSegmentRequestTimeMs=NaN}}function fe(ne){if(ne){var X=K[ne.mediaType];X&&0!==X.state&&(X.abrQuality=ne.newQuality)}}function ve(ne){if(ne){var X=K[ne.mediaType];if(X&&0!==X.state){var V,F=y.getCurrentBufferLevel(ne.mediaType);V=X.abrQuality>0?oe(X,X.abrQuality):N;var re=Math.max(0,V-F);X.placeholderBuffer=Math.min(X.placeholderBuffer,re)}}}function Se(){K={}}return E={getMaxIndex:function se(ne){var X=Object(T.default)(p).create();if(!(ne&&ne.hasOwnProperty("getMediaInfo")&&ne.hasOwnProperty("getMediaType")&&ne.hasOwnProperty("getScheduleController")&&ne.hasOwnProperty("getStreamInfo")&&ne.hasOwnProperty("getAbrController")&&ne.hasOwnProperty("useBufferOccupancyABR")))return X;var F=ne.getMediaInfo(),V=ne.getMediaType(),re=ne.getScheduleController(),U=ne.getStreamInfo(),te=ne.getAbrController(),me=te.getThroughputHistory(),Ee=U?U.id:null,q=U&&U.manifestInfo&&U.manifestInfo.isDynamic,z=ne.useBufferOccupancyABR();if(X.reason=X.reason||{},!z)return X;re.setTimeToLoadDelay(0);var j=function Y(ne){var X=ne.getMediaType(),F=K[X];return F?0!==F.state&&x(F,X):(F=H(ne),K[X]=F),F}(ne);if(0===j.state)return X;var Re,$=y.getCurrentBufferLevel(V),ce=me.getAverageThroughput(V,q),ue=me.getSafeAverageThroughput(V,q),be=me.getAverageLatency(V);if(X.reason.state=j.state,X.reason.throughput=ce,X.reason.latency=be,isNaN(ce))return X;switch(j.state){case 1:Re=te.getQualityForBitrate(F,ue,Ee,be),X.quality=Re,X.reason.throughput=ue,j.placeholderBuffer=Math.max(0,oe(j,Re)-$),j.lastQuality=Re,!isNaN(j.lastSegmentDurationS)&&$>=j.lastSegmentDurationS&&(j.state=2);break;case 2:(function ye(ne,X){var F=Date.now();isNaN(ne.lastSegmentFinishTimeMs)?isNaN(ne.lastCallTimeMs)||(ne.placeholderBuffer+=Math.max(0,.001*(F-ne.lastCallTimeMs))):ne.placeholderBuffer+=Math.max(0,.001*(F-ne.lastSegmentFinishTimeMs)),ne.lastCallTimeMs=F,ne.lastSegmentStart=NaN,ne.lastSegmentRequestTimeMs=NaN,ne.lastSegmentFinishTimeMs=NaN,x(ne,X)})(j,V),Re=function G(ne,X){for(var F=ne.bitrates.length,V=NaN,re=NaN,U=0;U<F;++U){var te=(ne.Vp*(ne.utilities[U]+ne.gp)-X)/ne.bitrates[U];(isNaN(re)||te>=re)&&(re=te,V=U)}return V}(j,$+j.placeholderBuffer);var Pe=te.getQualityForBitrate(F,ue,Ee,be);Re>j.lastQuality&&Re>Pe&&(Re=Math.max(Pe,j.lastQuality));var we=Math.max(0,$+j.placeholderBuffer-ie(j,Re));we<=j.placeholderBuffer?(j.placeholderBuffer-=we,we=0):(we-=j.placeholderBuffer,j.placeholderBuffer=0,Re<te.getMaxAllowedIndexFor(V,Ee)?re.setTimeToLoadDelay(1e3*we):we=0),X.quality=Re,X.reason.throughput=ce,X.reason.latency=be,X.reason.bufferLevel=$,X.reason.placeholderBuffer=j.placeholderBuffer,X.reason.delay=we,j.lastQuality=Re;break;default:L.debug("BOLA ABR rule invoked in bad state."),X.quality=te.getQualityForBitrate(F,ue,Ee,be),X.reason.state=j.state,X.reason.throughput=ue,X.reason.latency=be,j.state=1,W(j)}return X},reset:function _e(){Se(),A.off(c.default.BUFFER_EMPTY,J,E),A.off(c.default.PLAYBACK_SEEKING,de,E),A.off(c.default.METRIC_ADDED,pe,E),A.off(c.default.QUALITY_CHANGE_REQUESTED,fe,E),A.off(c.default.FRAGMENT_LOADING_ABANDONED,ve,E),A.off(R.default.MEDIA_FRAGMENT_LOADED,ae,E)}},function ee(){L=Object(D.default)(p).getInstance().getLogger(E),Se(),A.on(c.default.BUFFER_EMPTY,J,E),A.on(c.default.PLAYBACK_SEEKING,de,E),A.on(c.default.METRIC_ADDED,pe,E),A.on(c.default.QUALITY_CHANGE_REQUESTED,fe,E),A.on(c.default.FRAGMENT_LOADING_ABANDONED,ve,E),A.on(R.default.MEDIA_FRAGMENT_LOADED,ae,E)}(),E}b.__dashjs_factory_name="BolaRule",k.default=I.default.getClassFactory(b)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=m(
/*! ../../../core/Debug */
"./src/core/Debug.js");function w(){var R,D,P=this.context;return R={getMaxIndex:function f(_){var N=Object(T.default)(P).create();if(!_||!_.hasOwnProperty("getDroppedFramesHistory"))return N;var S=_.getDroppedFramesHistory(),O=_.getStreamInfo().id;if(S){var b=S.getFrameHistory(O);if(!b||0===b.length)return N;for(var v=0,p=0,y=T.default.NO_CHANGE,g=1;g<b.length;g++)if(b[g]&&(v=b[g].droppedVideoFrames,(p=b[g].totalVideoFrames)>375&&v/p>.15)){D.debug("index: "+(y=g-1)+" Dropped Frames: "+v+" Total Frames: "+p);break}return Object(T.default)(P).create(y,{droppedFrames:v})}return N}},function d(){D=Object(I.default)(P).getInstance().getLogger(R)}(),R}w.__dashjs_factory_name="DroppedFramesRule",k.default=M.default.getClassFactory(w)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),T=m(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),I=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../../../core/Debug */
"./src/core/Debug.js"),P=m(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),R=m(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),D=m(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),c=m(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function l(d){d=d||{};var b,v,p,N=this.context,S=Object(M.default)(N).getInstance(),O=d.dashMetrics;function L(){(p={})[R.default.VIDEO]={ignoreCount:2},p[R.default.AUDIO]={ignoreCount:2}}function K(){L()}function ee(le){!isNaN(le.startTime)&&(le.mediaType===R.default.AUDIO||le.mediaType===R.default.VIDEO)&&p[le.mediaType].ignoreCount>0&&p[le.mediaType].ignoreCount--}return b={getMaxIndex:function A(le){var H=Object(P.default)(N).create();if(!le||!le.hasOwnProperty("getMediaType"))return H;!function g(){if(!O||!O.hasOwnProperty("getCurrentBufferLevel")||!O.hasOwnProperty("getCurrentBufferState"))throw new Error(R.default.MISSING_CONFIG_ERROR)}();var W=le.getMediaType(),x=O.getCurrentBufferState(W),G=le.getRepresentationInfo().fragmentDuration,ie=le.getStreamInfo(),oe=ie?ie.id:null,ye=le.getScheduleController(),J=ie&&ie.manifestInfo&&ie.manifestInfo.isDynamic;if(function E(le,H){return!le&&p[H].ignoreCount>0}(ye.getPlaybackController().getLowLatencyModeEnabled(),W)||!G)return H;if(x&&x.state===D.default.BUFFER_EMPTY)v.debug("["+W+"] Switch to index 0; buffer is empty."),H.quality=0,H.reason="InsufficientBufferRule: Buffer is empty";else{var pe=le.getMediaInfo(),he=le.getAbrController(),fe=he.getThroughputHistory(),ve=O.getCurrentBufferLevel(W),se=fe.getAverageThroughput(W,J),Se=fe.getAverageLatency(W);H.quality=he.getQualityForBitrate(pe,se*(ve/G)*.5,oe,Se),H.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return H},reset:function Z(){L(),S.off(c.default.PLAYBACK_SEEKING,K,b),S.off(T.default.BYTES_APPENDED_END_FRAGMENT,ee,b)}},function y(){v=Object(w.default)(N).getInstance().getLogger(b),L(),S.on(c.default.PLAYBACK_SEEKING,K,b),S.on(T.default.BYTES_APPENDED_END_FRAGMENT,ee,b)}(),b}l.__dashjs_factory_name="InsufficientBufferRule",k.default=I.default.getClassFactory(l)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),T=m(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),P=m(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),R=m(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),D=m(
/*! ../../../core/Debug */
"./src/core/Debug.js"),c=m(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function _(N){var v,p,y,g,S=this.context,O=(N=N||{}).dashMetrics,b=Object(P.default)(S).getInstance();function E(J){var de={},ae=J.getMediaInfo(),pe=ae.bitrateList.map(function(he){return he.bandwidth/1e3});return de.state=1,de.bitrates=pe,de.lastQuality=0,function L(J){!J||!J.type||(y[J.type]={},y[J.type].w=[],y[J.type].prev_w=[],y[J.type].Q=0,y[J.type].segment_request_start_s=0,y[J.type].segment_download_finish_s=0,y[J.type].B_target=1.5)}(ae),K(de),de}function K(J){J.placeholderBuffer=0,J.mostAdvancedSegmentStart=NaN,J.lastSegmentWasReplacement=!1,J.lastSegmentStart=NaN,J.lastSegmentDurationS=NaN,J.lastSegmentRequestTimeMs=NaN,J.lastSegmentFinishTimeMs=NaN}function Z(){for(var J in p)if(p.hasOwnProperty(J)){var de=p[J];0!==de.state&&(de.state=1,K(de))}}function le(J){if(J&&J.chunk&&J.chunk.mediaInfo){var de=p[J.chunk.mediaInfo.type],ae=y[J.chunk.mediaInfo.type];if(de&&0!==de.state){var pe=J.chunk.start;isNaN(de.mostAdvancedSegmentStart)||pe>de.mostAdvancedSegmentStart?(de.mostAdvancedSegmentStart=pe,de.lastSegmentWasReplacement=!1):de.lastSegmentWasReplacement=!0,de.lastSegmentStart=pe,de.lastSegmentDurationS=J.chunk.duration,de.lastQuality=J.chunk.quality,W(de,ae)}}}function H(J){if(J&&J.metric===M.default.HTTP_REQUEST&&J.value&&J.value.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&J.value.trace&&J.value.trace.length){var de=p[J.mediaType],ae=y[J.mediaType];de&&0!==de.state&&(de.lastSegmentRequestTimeMs=J.value.trequest.getTime(),de.lastSegmentFinishTimeMs=J.value._tfinish.getTime(),W(de,ae))}}function W(J,de){!isNaN(J.lastSegmentStart)&&!isNaN(J.lastSegmentRequestTimeMs)&&(de.segment_request_start_s=.001*J.lastSegmentRequestTimeMs,de.segment_download_finish_s=.001*J.lastSegmentFinishTimeMs,J.lastSegmentStart=NaN,J.lastSegmentRequestTimeMs=NaN)}function x(J){if(J&&J.mediaType){var de=p[J.mediaType];de&&0!==de.state&&(de.abrQuality=J.newQuality)}}function Y(J,de){if(J.length!==de.length)return-1;for(var ae=0,pe=0;pe<J.length;pe++)ae+=J[pe]*de[pe];return ae}function oe(){p={},y={}}return v={getMaxIndex:function ie(J){var j,de=Object(T.default)(S).create(),pe=Math.pow(4,.99),he=Math.max(Math.pow(4,1),pe*Math.sqrt(4)),fe=J.getMediaInfo(),ve=J.getMediaType(),se=fe.bitrateList.map(function(rt){return rt.bandwidth}),Se=se.length,_e=J.getScheduleController(),ne=J.getStreamInfo(),X=J.getAbrController(),F=X.getThroughputHistory(),V=ne&&ne.manifestInfo&&ne.manifestInfo.isDynamic,re=J.useL2AABR(),U=O.getCurrentBufferLevel(ve,!0),te=F.getSafeAverageThroughput(ve,V),me=F.getAverageThroughput(ve,V),q=F.getAverageLatency(ve),$=J.getVideoModel().getPlaybackRate();if(!(J&&J.hasOwnProperty("getMediaInfo")&&J.hasOwnProperty("getMediaType")&&J.hasOwnProperty("getScheduleController")&&J.hasOwnProperty("getStreamInfo")&&J.hasOwnProperty("getAbrController")&&J.hasOwnProperty("useL2AABR")&&(de.reason=de.reason||{},re&&ve!==c.default.AUDIO)))return de;_e.setTimeToLoadDelay(0);var ce=function ee(J){var de=J.getMediaType(),ae=p[de];return ae||(ae=E(J),p[de]=ae),ae}(J);if(0===ce.state)return de;var ue=y[ve];if(!ue||(de.reason.state=ce.state,de.reason.throughput=me,de.reason.latency=q,isNaN(me)))return de;switch(ce.state){case 1:if(j=X.getQualityForBitrate(fe,te,ne.id,q),de.quality=j,de.reason.throughput=te,ce.lastQuality=j,!isNaN(ce.lastSegmentDurationS)&&U>=ue.B_target){ce.state=2,ue.Q=pe;for(var be=0;be<Se;++be)ue.prev_w[be]=be===ce.lastQuality?1:0}break;case 2:var Re=[],Pe=O.getCurrentHttpRequest(ve).trace.reduce(function(rt,it){return rt+it.d},0),we=O.getCurrentHttpRequest(ve).trace.reduce(function(rt,it){return rt+it.b[0]},0),je=Math.round(8*we/Pe);je<1&&(je=1);for(var Ce=ce.lastSegmentDurationS,Oe=1,ze=0;ze<Se;++ze)se[ze]=se[ze]/1e3,$*se[ze]>je&&(Oe=-1),ue.w[ze]=ue.prev_w[ze]+Oe*(Ce/(2*he))*((ue.Q+pe)*($*se[ze]/je));ue.w=function G(J){for(var de=J.length,ae=!1,pe=[],he=0;he<de;++he)pe[he]=J[he];for(var fe=J.sort(function(X,F){return F-X}),ve=0,se=0,Se=[],_e=0;_e<de-1;++_e)if((se=((ve+=fe[_e])-1)/(_e+1))>=fe[_e+1]){ae=!0;break}ae||(se=(ve+fe[de-1]-1)/de);for(var ne=0;ne<de;++ne)Se[ne]=Math.max(pe[ne]-se,0);return Se}(ue.w);for(var Le=0;Le<Se;++Le)Re[Le]=ue.w[Le]-ue.prev_w[Le],ue.prev_w[Le]=ue.w[Le];ue.Q=Math.max(0,ue.Q-Ce+Ce*$*((Y(se,ue.prev_w)+Y(se,Re))/je));for(var Ye=[],et=0;et<Se;++et)Ye[et]=Math.abs(se[et]-Y(ue.w,se));(j=Ye.indexOf(Math.min.apply(Math,Ye)))>ce.lastQuality&&se[ce.lastQuality+1]<=je&&(j=ce.lastQuality+1),se[j]>=je&&(ue.Q=2*Math.max(pe,ue.Q)),de.quality=j,de.reason.throughput=me,de.reason.latency=q,de.reason.bufferLevel=U,ce.lastQuality=de.quality;break;default:g.debug("L2A ABR rule invoked in bad state."),de.quality=X.getQualityForBitrate(fe,te,ne.id,q),de.reason.state=ce.state,de.reason.throughput=te,de.reason.latency=q,ce.state=1,K(ce)}return de},reset:function ye(){oe(),b.off(R.default.PLAYBACK_SEEKING,Z,v),b.off(R.default.MEDIA_FRAGMENT_LOADED,le,v),b.off(R.default.METRIC_ADDED,H,v),b.off(R.default.QUALITY_CHANGE_REQUESTED,x,v)}},function A(){g=Object(D.default)(S).getInstance().getLogger(v),oe(),b.on(R.default.PLAYBACK_SEEKING,Z,v),b.on(R.default.MEDIA_FRAGMENT_LOADED,le,v),b.on(R.default.METRIC_ADDED,H,v),b.on(R.default.QUALITY_CHANGE_REQUESTED,x,v)}(),v}_.__dashjs_factory_name="L2ARule",k.default=I.default.getClassFactory(_)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../../core/Debug */
"./src/core/Debug.js"),I=m(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function w(){var R,D,P=this.context;return R={getMaxIndex:function f(_){for(var N=_?_.getSwitchHistory():null,S=N?N.getSwitchRequests():[],O=0,b=0,v=0,p=Object(I.default)(P).create(),y=0;y<S.length;y++)if(void 0!==S[y]&&(v+=S[y].dropSize,(O+=S[y].drops)+(b+=S[y].noDrops)>=6&&O/b>.075)){p.quality=y>0&&S[y].drops>0?y-1:y,p.reason={index:p.quality,drops:O,noDrops:b,dropSize:v},D.debug("Switch history rule index: "+p.quality+" samples: "+(O+b)+" drops: "+O);break}return p}},function d(){D=Object(T.default)(P).getInstance().getLogger(R)}(),R}w.__dashjs_factory_name="SwitchHistoryRule",k.default=M.default.getClassFactory(w)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=m(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),w=m(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function P(R){var D=this.context,c=(R=R||{}).dashMetrics;return{getMaxIndex:function _(S){var O=Object(T.default)(D).create();if(!(S&&S.hasOwnProperty("getMediaInfo")&&S.hasOwnProperty("getMediaType")&&S.hasOwnProperty("useBufferOccupancyABR")&&S.hasOwnProperty("getAbrController")&&S.hasOwnProperty("getScheduleController")))return O;!function f(){if(!c||!c.hasOwnProperty("getCurrentBufferState"))throw new Error(I.default.MISSING_CONFIG_ERROR)}();var b=S.getMediaInfo(),v=S.getMediaType(),p=c.getCurrentBufferState(v),y=S.getScheduleController(),g=S.getAbrController(),A=S.getStreamInfo(),E=A?A.id:null,L=A&&A.manifestInfo?A.manifestInfo.isDynamic:null,K=g.getThroughputHistory(),ee=K.getSafeAverageThroughput(v,L),Z=K.getAverageLatency(v),le=S.useBufferOccupancyABR();return isNaN(ee)||!p||le||g.getAbandonmentStateFor(E,v)!==w.default.ABANDON_LOAD&&(p.state===w.default.BUFFER_LOADED||L)&&(O.quality=g.getQualityForBitrate(b,ee,E,Z),y.setTimeToLoadDelay(0),O.reason={throughput:ee,latency:Z}),O},reset:function N(){}}}P.__dashjs_factory_name="ThroughputRule",k.default=M.default.getClassFactory(P)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),I_MANUAL="manual_weight_selection",I_RANDOM="random_weight_selection",I_DYNAMIC="dynamic_weight_selection";function w(){var R,D,c,l,d,f,_,N,S,P=this.context;function v(){c=null,l=1,d=100,f=0,_=null,N=null,S=I_DYNAMIC}function p(){var ie=0;if(c)for(var oe=0;oe<c.length;oe++){var ye=c[oe];ye.state.throughput>ie&&(ie=ye.state.throughput)}return ie}function g(ie,oe,ye){var J=ie.map(function(ae,pe){return ye[pe]*Math.pow(ae-oe[pe],2)}).reduce(function(ae,pe){return ae+pe});return(J<0?-1:1)*Math.sqrt(Math.abs(J))}function A(ie,oe){return g([ie.state.throughput,ie.state.latency,ie.state.rebuffer,ie.state.switch],[oe.state.throughput,oe.state.latency,oe.state.rebuffer,oe.state.switch],[1,1,1,1])}function E(ie,oe,ye){for(var J=0;J<oe.length;J++){var de=oe[J],pe=A(de,ie);L(de,ye,Math.exp(-1*Math.pow(pe,2)/(2*Math.pow(.1,2))))}}function L(ie,oe,ye){var J=ie.state,de=[.01,.01,.01,.01];J.throughput=J.throughput+(oe[0]-J.throughput)*de[0]*ye,J.latency=J.latency+(oe[1]-J.latency)*de[1]*ye,J.rebuffer=J.rebuffer+(oe[2]-J.rebuffer)*de[2]*ye,J.switch=J.switch+(oe[3]-J.switch)*de[3]*ye}return R={getNextQuality:function ee(ie,oe,ye,J,de,ae,pe){var he=ye,fe=J,ve=oe,se=function x(ie){if(!c){c=[];var oe=ie.bitrateList,ye=[];f=oe[0].bandwidth,oe.forEach(function(ae){ye.push(ae.bandwidth),ae.bandwidth<f&&(f=ae.bandwidth)}),l=function y(ie){var oe=ie.map(function(ye){return Math.pow(ye,2)}).reduce(function(ye,J){return ye+J});return Math.sqrt(oe)}(ye);for(var J=0;J<oe.length;J++)c.push({qualityIndex:J,bitrate:oe[J].bandwidth,state:{throughput:oe[J].bandwidth/l,latency:0,rebuffer:0,switch:0}});N=function G(ie){var oe=[],ye=function Y(ie){for(var oe=[],ye=0;ye<ie;ye++){var J=[Math.random()*p(),Math.random(),Math.random(),Math.random()];oe.push(J)}return oe}(Math.pow(ie.length,2));oe.push(ye[0]);for(var J=[1,1,1,1],de=1;de<ie.length;de++){for(var ae=null,pe=null,he=0;he<ye.length;he++){for(var fe=ye[he],ve=null,se=0;se<oe.length;se++){var Se=g(fe,oe[se],J);(null===ve||Se<ve)&&(ve=Se)}(null===pe||ve>pe)&&(ae=fe,pe=ve)}oe.push(ae)}for(var _e=null,ne=null,X=0;X<oe.length;X++){for(var F=0,V=0;V<oe.length;V++)X!==V&&(F+=g(oe[X],oe[V],J));(null===_e||F>_e)&&(_e=F,ne=X)}var re=[];for(re.push(oe[ne]),oe.splice(ne,1);oe.length>0;){for(var U=null,te=null,me=0;me<oe.length;me++){var Ee=g(re[0],oe[me],J);(null===U||Ee<U)&&(U=Ee,te=me)}re.push(oe[te]),oe.splice(te,1)}return re}(c)}return c}(ie),Se=oe/l;Se>1&&(Se=p()),ye/=d,D.debug("getNextQuality called throughput:".concat(Se," latency:").concat(ye," bufferSize:").concat(J," currentQualityIndex:").concat(ae," playbackRate:").concat(de));var V=se[ae],re=V.bitrate*pe.getSegmentDuration()/ve,U=Math.max(0,re-fe);if(fe-re<pe.getMinBuffer())return D.debug("Buffer is low for bitrate= ".concat(V.bitrate," downloadTime=").concat(re," currentBuffer=").concat(fe," rebuffer=").concat(U)),function K(ie,oe){var ye=0,J=ie;if(c)for(var de=0;de<c.length;de++){var ae=c[de];ae.bitrate<ie.bitrate&&ae.bitrate>ye&&oe>ae.bitrate&&(ye=ae.bitrate,J=ae)}return J}(V,ve).qualityIndex;switch(S){case I_MANUAL:!function Z(){_=[.4,.4,.4,.4]}();break;case I_RANDOM:!function le(ie){_=function W(ie,oe){for(var ye=[],J=Math.sqrt(2/ie),de=0;de<oe;de++)ye.push(Math.random()*J);return _=ye}(ie.length,4)}(se);break;default:!function H(ie,oe,ye,J,de,ae,pe){_||(_=N[N.length-1]);var he=ie.findWeightVector(oe,ye,J,de,ae,pe);null!==he&&-1!==he&&(_=he)}(pe,se,he,fe,U,ve,de)}for(var te=null,me=null,Ee=null,q=0;q<se.length;q++){var z=se[q],j=z.state,$=[j.throughput,j.latency,j.rebuffer,j.switch],ce=_.slice(),ue=pe.getNextBufferWithBitrate(z.bitrate,fe,ve),be=ue<pe.getMinBuffer();be&&D.debug("Buffer is low for bitrate=".concat(z.bitrate," downloadTime=").concat(re," currentBuffer=").concat(fe," nextBuffer=").concat(ue)),(z.bitrate>oe-1e4||be)&&z.bitrate!==f&&(ce[0]=100);var Re=g($,[Se,0,0,0],ce);(null===te||Re<te)&&(te=Re,me=z.qualityIndex,Ee=z)}var Pe=Math.abs(V.bitrate-Ee.bitrate)/l;return E(V,se,[Se,ye,U,Pe]),E(Ee,se,[Se,0,0,Pe]),me},reset:function b(){v()}},function O(){D=Object(T.default)(P).getInstance().getLogger(R),v()}(),R}w.__dashjs_factory_name="LearningAbrController",k.default=M.default.getClassFactory(w)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function I(){var w,P,R,D,c;function d(){P=null,R=null,D=null,c=null}function _(p,y,g,A){var E=new T.default;return E.type=p,E.weights.bitrateReward=y||1,E.weights.bitrateSwitchPenalty=1,E.weights.rebufferPenalty=g||1e3,E.weights.latencyPenalty=[],E.weights.latencyPenalty.push({threshold:1.1,penalty:.05*A}),E.weights.latencyPenalty.push({threshold:1e8,penalty:.1*g}),E.weights.playbackSpeedPenalty=A||200,E}function S(p,y,g,A,E){E.bitrateWSum+=E.weights.bitrateReward*p,E.lastBitrate&&(E.bitrateSwitchWSum+=E.weights.bitrateSwitchPenalty*Math.abs(p-E.lastBitrate)),E.lastBitrate=p,E.rebufferWSum+=E.weights.rebufferPenalty*y;for(var L=0;L<E.weights.latencyPenalty.length;L++){var K=E.weights.latencyPenalty[L];if(g<=K.threshold){E.latencyWSum+=K.penalty*g;break}}E.playbackSpeedWSum+=E.weights.playbackSpeedPenalty*Math.abs(1-A),E.totalQoe=E.bitrateWSum-E.bitrateSwitchWSum-E.rebufferWSum-E.latencyWSum-E.playbackSpeedWSum}return w={setupPerSegmentQoe:function f(p,y,g){P=_("segment",p,y,g),R=p,D=y,c=g},logSegmentMetrics:function N(p,y,g,A){P&&S(p,y,g,A,P)},getPerSegmentQoe:function O(){return P},calculateSingleUseQoe:function b(p,y,g,A){var E=null;return R&&D&&c&&(E=_("segment",R,D,c)),E?(S(p,y,g,A,E),E.totalQoe):0},reset:function v(){d()}},function l(){d()}(),w}I.__dashjs_factory_name="LoLpQoeEvaluator",k.default=M.default.getClassFactory(I)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),T=m(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=m(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),w=m(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),P=m(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),R=m(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),D=m(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),c=m(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function f(_){var O,b,v,p,N=(_=_||{}).dashMetrics,S=this.context;return b={getMaxIndex:function g(L){try{var K=Object(P.default)(S).create(),ee=L.getMediaInfo().type,Z=L.getAbrController(),le=L.getStreamInfo(),H=Z.getQualityFor(ee,le.id),W=L.getMediaInfo(),x=N.getCurrentBufferState(ee),Y=L.getScheduleController(),G=N.getCurrentBufferLevel(ee,!0),ie=le&&le.manifestInfo?le.manifestInfo.isDynamic:null,oe=Y.getPlaybackController(),ye=oe.getCurrentLiveLatency();if(!L.useLoLPABR()||ee===c.default.AUDIO)return K;ye||(ye=0);var J=oe.getPlaybackRate(),ae=Z.getThroughputHistory().getSafeAverageThroughput(ee,ie);if(O.debug("Throughput ".concat(Math.round(ae)," kbps")),isNaN(ae)||!x||Z.getAbandonmentStateFor(le.id,ee)===R.default.ABANDON_LOAD)return K;for(var pe=W.bitrateList,he=L.getRepresentationInfo().fragmentDuration,fe=pe[0].bandwidth/1e3,ve=pe[pe.length-1].bandwidth/1e3,se=0;se<pe.length;se++){var Se=pe[se].bandwidth/1e3;Se>ve?ve=Se:Se<fe&&(fe=Se)}var ne=pe[H].bandwidth/1e3,X=N.getCurrentHttpRequest(ee,!0),F=(X.tresponse.getTime()-X.trequest.getTime())/1e3,V=F>he?F-he:0;p.setupPerSegmentQoe(he,ve,fe),p.logSegmentMetrics(ne,V,ye,J);var re=Object(D.default)(S).create({targetLatency:1.5,bufferMin:.3,segmentDuration:he,qoeEvaluator:p});return K.quality=v.getNextQuality(W,1e3*ae,ye,G,J,H,re),K.reason={throughput:ae,latency:ye},K.priority=P.default.PRIORITY.STRONG,Y.setTimeToLoadDelay(0),K.quality!==H&&console.log("[TgcLearningRule]["+ee+"] requesting switch to index: ",K.quality,"Average throughput",Math.round(ae),"kbps"),K}catch(U){throw U}},reset:function E(){!function A(){v.reset(),p.reset()}()}},function y(){O=Object(M.default)(S).getInstance().getLogger(b),v=Object(I.default)(S).create(),p=Object(w.default)(S).create()}(),b}f.__dashjs_factory_name="LoLPRule",k.default=T.default.getClassFactory(f)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(I){var c,f,_,w=I.targetLatency,P=I.bufferMin,R=I.segmentDuration,D=I.qoeEvaluator;function y(){return R}function A(E,L){var K=y();return L>K?E-K:E+K-L}return c={getMinBuffer:function p(){return P},getSegmentDuration:y,getNextBufferWithBitrate:function g(E,L,K){return A(L,E*R/K)},getNextBuffer:A,findWeightVector:function O(E,L,K,ee,Z,le){var H=null,W=null,x=null,Y=Math.abs(L-_);return E.forEach(function(G){f.forEach(function(ie){var oe_latency=ie[1],oe_buffer=ie[2],ye=G.bitrate*R/Z,J=A(K,ye),de=Math.max(1e-5,ye-J),fe=D.calculateSingleUseQoe(G.bitrate,(0===oe_buffer?10:1/oe_buffer)*de,(0===oe_latency?10:1/oe_latency)*G.state.latency,le);(null===H||fe>H)&&function b(E,L,K){return!(E>w+K)&&L>=P}(L,J,Y)&&(H=fe,W=ie,x=G.bitrate)})}),null===W&&null===x&&(W=-1),_=L,W}},function N(){!function S(){f=function v(E,L){return function Z(le,H,W){if(W===H)return le;for(var x=le.length,Y=0;Y<x;Y++)for(var G=le.shift(),ie=0;ie<E.length;ie++)le.push(G.concat(E[ie]));return Z(le,H,W+1)}(E.map(function(Z){return[Z]}),L,1)}([.2,.4,.6,.8,1],4),_=0}()}(),c}T.__dashjs_factory_name="LoLpWeightSelector",k.default=M.default.getClassFactory(T)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(){var I=0;function P(_){for(var N="",S=0;S<_.length;++S)N+=_[S].uchar;return N.length-N.replace(/^\s+/,"").length}function R(_){return"left: "+3.125*_.x+"%; top: "+6.66*_.y1+"%; width: "+(100-3.125*_.x)+"%; height: "+6.66*Math.max(_.y2-1-_.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(_){return"red"===_?"rgb(255, 0, 0)":"green"===_?"rgb(0, 255, 0)":"blue"===_?"rgb(0, 0, 255)":"cyan"===_?"rgb(0, 255, 255)":"magenta"===_?"rgb(255, 0, 255)":"yellow"===_?"rgb(255, 255, 0)":"white"===_?"rgb(255, 255, 255)":"black"===_?"rgb(0, 0, 0)":_}function c(_,N){var S=_.videoHeight/15;return N?"font-size: "+S+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(N.foreground?D(N.foreground):"rgb(255, 255, 255)")+"; font-style: "+(N.italics?"italic":"normal")+"; text-decoration: "+(N.underline?"underline":"none")+"; white-space: pre; background-color: "+(N.background?D(N.background):"transparent")+";":"font-size: "+S+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function l(_){return _.replace(/^\s+/g,"")}function d(_){return _.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function f(_,N,S,O){var ee,Z,b=null,p=!1,y=-1,g={start:N,end:S,spans:[]},A="style_cea608_white_black",E={},L={},K=[];for(ee=0;ee<15;++ee){var le=O.rows[ee],H="",W=null;if(!1===le.isEmpty()){var x=P(le.chars);null===b&&(b={x,y1:ee,y2:ee+1,p:[]}),x!==y&&p&&(b.p.push(g),g={start:N,end:S,spans:[]},b.y2=ee,b.name="region_"+b.x+"_"+b.y1+"_"+b.y2,!1===E.hasOwnProperty(b.name)?(K.push(b),E[b.name]=b):E[b.name].p.contat(b.p),b={x,y1:ee,y2:ee+1,p:[]});for(var Y=0;Y<le.chars.length;++Y){var G=le.chars[Y],ie=G.penState;if(null===W||!ie.equals(W)){H.trim().length>0&&(g.spans.push({name:A,line:H,row:ee}),H="");var oe="style_cea608_"+ie.foreground+"_"+ie.background;ie.underline&&(oe+="_underline"),ie.italics&&(oe+="_italics"),L.hasOwnProperty(oe)||(L[oe]=JSON.parse(JSON.stringify(ie))),W=ie,A=oe}H+=G.uchar}H.trim().length>0&&g.spans.push({name:A,line:H,row:ee}),p=!0,y=x}else p=!1,y=-1,b&&(b.p.push(g),g={start:N,end:S,spans:[]},b.y2=ee,b.name="region_"+b.x+"_"+b.y1+"_"+b.y2,!1===E.hasOwnProperty(b.name)?(K.push(b),E[b.name]=b):E[b.name].p.contat(b.p),b=null)}b&&(b.p.push(g),b.y2=ee+1,b.name="region_"+b.x+"_"+b.y1+"_"+b.y2,!1===E.hasOwnProperty(b.name)?(K.push(b),E[b.name]=b):E[b.name].p.contat(b.p),b=null);var ye=[];for(ee=0;ee<K.length;++ee){var J=K[ee],de="sub_cea608_"+I++,ae=document.createElement("div");ae.id=de;var pe=R(J);ae.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+pe;var he=document.createElement("div");he.className="paragraph bodyStyle",he.style.cssText=c(_);var fe=document.createElement("div");fe.className="cueUniWrapper",fe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var ve=0;ve<J.p.length;++ve){var se=J.p[ve],Se=0;for(Z=0;Z<se.spans.length;++Z){var _e=se.spans[Z];if(_e.line.length>0){if(0!==Z&&Se!=_e.row){var ne=document.createElement("br");ne.className="lineBreak",fe.appendChild(ne)}var X=!1;Se===_e.row&&(X=!0),Se=_e.row;var F=L[_e.name],V=document.createElement("span");V.className="spanPadding "+_e.name+" customSpanColor",V.style.cssText=c(_,F),V.textContent=0!==Z&&X?Z===se.spans.length-1?d(_e.line):_e.line:se.spans.length>1&&Z<se.spans.length-1&&_e.row===se.spans[Z+1].row?l(_e.line):_e.line.trim(),fe.appendChild(V)}}}he.appendChild(fe),ae.appendChild(he);var re={bodyStyle:["%",90]};for(var U in L)L.hasOwnProperty(U)&&(re[U]=["%",90]);ye.push({type:"html",start:N,end:S,cueHTMLElement:ae,cueID:de,cellResolution:[32,15],isFromCEA608:!0,fontSize:re,lineHeight:{},linePadding:{}})}return ye}}}T.__dashjs_factory_name="EmbeddedTextHtmlRender",k.default=M.default.getSingletonFactory(T)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),P=m(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),R=m(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=m(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),c="NotFragmentedTextBufferController";function l(d){d=d||{};var v,p,y,g,A,E,f=this.context,_=Object(M.default)(f).getInstance(),N=d.textController,S=d.errHandler,O=d.streamInfo,b=d.type;function x(me){g=me}function ye(me){p!==me&&(p=me)&&function te(me,Ee){_.trigger(me,Ee||{},{streamId:O.id,mediaType:b})}(T.default.BUFFERING_COMPLETED)}function ae(me){!me.chunk.bytes||p||(E.save(me.chunk),A.append(me.chunk),ye(!0))}return v={initialize:function ee(me){x(me)},getStreamId:function le(){return O.id},getType:function H(){return b},getBufferControllerType:function K(){return c},createBufferSink:function Z(me){return new Promise(function(Ee,q){try{(A=Object(P.default)(f).create({mediaSource:g,textController:N,eventBus:_})).initializeForFirstUse(O,me),y||(A.getBuffer()&&"function"==typeof A.getBuffer().initialize&&A.getBuffer().initialize(),y=!0),Ee(A)}catch(z){S.error(new R.default(D.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,D.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+b)),q(z)}})},getBuffer:function W(){return A},getBufferLevel:function ie(){return 0},getRangeAt:function pe(){return null},pruneBuffer:function Se(){},hasBufferAtTime:function he(){return!0},getAllRangesWithSafetyFactor:function fe(){return[]},getContinuousBufferTimeForTargetTime:function ve(){return Number.POSITIVE_INFINITY},setMediaSource:x,getMediaSource:function Y(){return g},appendInitSegmentFromCache:function de(me){return null!==E.extract(O.id,me)},getIsBufferingCompleted:function oe(){return p},setIsBufferingCompleted:ye,getIsPruningInProgress:function G(){return!1},reset:function J(me){_.off(T.default.INIT_FRAGMENT_LOADED,ae,v),!me&&A&&(A.abort(),A.reset(),A=null)},clearBuffers:function se(){return Promise.resolve()},prepareForPlaybackSeek:function ne(){return Promise.resolve()},prepareForReplacementTrackSwitch:function X(){return p=!1,Promise.resolve()},setSeekTarget:function V(){},updateAppendWindow:function F(){return Promise.resolve()},pruneAllSafely:function U(){return Promise.resolve()},updateBufferTimestampOffset:function _e(){return Promise.resolve()},segmentRequestingCompleted:function re(){}},function L(){y=!1,g=null,p=!1,E=Object(w.default)(f).getInstance(),_.on(T.default.INIT_FRAGMENT_LOADED,ae,v)}(),v}l.__dashjs_factory_name=c,k.default=I.default.getClassFactory(l)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=m(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),w=m(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),P=m(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),R=m(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),D=m(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),c=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),l=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=m(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=m(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function _(N){var A,E,L,K,ee,Z,le,H,W,x,Y,G,S=this.context,O=N.adapter,b=N.errHandler,v=N.manifestModel,p=N.mediaController,y=N.videoModel,g=N.settings;function fe(Ee){var q=Ee.tracks,z=Ee.index,j=Ee.streamId;if(!1===g.get().streaming.text.defaultEnabled&&!_e()||G)X(j,-1);else{var ce=p.getCurrentTrackFor(M.default.TEXT,j);if(ce){var ue={lang:ce.lang,role:ce.roles[0],index:ce.index,codec:ce.codec,accessibility:ce.accessibility[0]};q.some(function(be,Re){if(p.matchSettings(ue,be))return X(j,Re),z=Re,!0})}W=!1}E[j].lastEnabledIndex=z,H.trigger(d.default.TEXT_TRACKS_ADDED,{enabled:_e(),index:z,tracks:q,streamId:j}),Y=!0}function ve(Ee){try{var q=Ee.streamId;if(!K[q]||isNaN(Ee.time))return;K[q].manualCueProcessing(Ee.time)}catch{}}function se(Ee){try{var q=Ee.streamId;if(!K[q])return;K[q].disableManualTracks()}catch{}}function _e(){var Ee=!0;return W&&!x&&(Ee=!1),Ee}function X(Ee,q){(W=-1===q)&&p&&p.saveTextSettingsDisabled();var z=re(Ee);if(z!==q&&K[Ee]){K[Ee].disableManualTracks(),K[Ee].setModeForTrackIdx(z,M.default.TEXT_HIDDEN),K[Ee].setCurrentTrackIdx(q),K[Ee].setModeForTrackIdx(q,M.default.TEXT_SHOWING);var j=K[Ee].getCurrentTrackInfo();j&&j.isFragmented&&!j.isEmbedded?function F(Ee,q,z){if(L[Ee])for(var $=L[Ee].getConfig().fragmentedTracks,ce=0;ce<$.length;ce++){var ue=$[ce];if(q.lang===ue.lang&&(ue.id?q.id===ue.id:q.index===ue.index)){var be=p.getCurrentTrackFor(M.default.TEXT,Ee);(ue.id?be.id!==ue.id:be.index!==ue.index)?(K[Ee].deleteCuesFromTrackIdx(z),L[Ee].setCurrentFragmentedTrackIdx(ce)):-1===z&&H.trigger(l.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:Ee,mediaType:M.default.TEXT})}}}(Ee,j,z):j&&!j.isFragmented&&function V(Ee,q){H.trigger(l.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:q},{streamId:Ee,mediaType:M.default.TEXT})}(Ee,j),p.setTrack(j)}}function re(Ee){return K[Ee].getCurrentTrackIdx()}function te(){L={},K={},E={},W=!0,Y=!1,G=!1}return A={deactivateStream:function U(Ee){if(Ee){var q=Ee.id;L[q]&&L[q].resetMediaInfos(),K[q]&&K[q].deleteAllTextTracks()}},initialize:function oe(){H.on(l.default.TEXT_TRACKS_QUEUE_INITIALIZED,fe,A),g.get().streaming.text.webvtt.customRenderingEnabled&&(H.on(l.default.PLAYBACK_TIME_UPDATED,ve,A),H.on(l.default.PLAYBACK_SEEKING,se,A))},initializeForStream:function ye(Ee){var q=Ee.id,z=Object(w.default)(S).create({videoModel:y,settings:g,streamInfo:Ee});z.initialize(),K[q]=z;var j=Object(I.default)(S).create({errHandler:b,adapter:O,manifestModel:v,mediaController:p,videoModel:y,textTracks:z,vttParser:ee,vttCustomRenderingParser:Z,ttmlParser:le,streamInfo:Ee,settings:g});j.initialize(),L[q]=j,E[q]={},E[q].lastEnabledIndex=-1},createTracks:function J(Ee){var q=Ee.id;K[q]&&K[q].createTracks()},getTextSourceBuffer:function ae(Ee){var q=Ee.id;if(L&&L[q])return L[q]},getAllTracksAreDisabled:function pe(){return W},addEmbeddedTrack:function he(Ee,q){var z=Ee.id;L[z]&&L[z].addEmbeddedTrack(q)},enableText:function Se(Ee,q){Object(f.checkParameterType)(q,"boolean"),_e()!==q&&(q&&X(Ee,E[Ee].lastEnabledIndex),q||(E[Ee].lastEnabledIndex=re(Ee),Y?X(Ee,-1):G=!0))},isTextEnabled:_e,setTextTrack:X,getCurrentTrackIdx:re,enableForcedTextStreaming:function ne(Ee){Object(f.checkParameterType)(Ee,"boolean"),x=Ee},addMediaInfosToBuffer:function de(Ee,q,z){var $=Ee.id;L[$]&&L[$].addMediaInfos(q,z,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function me(){te(),H.off(l.default.TEXT_TRACKS_QUEUE_INITIALIZED,fe,A),g.get().streaming.text.webvtt.customRenderingEnabled&&(H.off(l.default.PLAYBACK_TIME_UPDATED,ve,A),H.off(l.default.PLAYBACK_SEEKING,se,A)),Object.keys(L).forEach(function(Ee){L[Ee].resetEmbedded(),L[Ee].reset()})}},function ie(){x=!1,Y=!1,G=!1,ee=Object(P.default)(S).getInstance(),Z=Object(R.default)(S).getInstance(),le=Object(D.default)(S).getInstance(),H=Object(c.default)(S).getInstance(),te()}(),A}_.__dashjs_factory_name="TextController",k.default=T.default.getClassFactory(_)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=m(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),w=m(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),P=m(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),R=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),c=m(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),l=m(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),d=m.n(l),f=m(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),_=m.n(f),N=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),S=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),O=m(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=m(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function v(p){var G,ie,oe,ye,J,de,ae,pe,he,fe,ve,se,Se,_e,ne,X,y=p.errHandler,g=p.manifestModel,A=p.mediaController,E=p.videoModel,L=p.textTracks,K=p.vttParser,ee=p.vttCustomRenderingParser,Z=p.ttmlParser,le=p.streamInfo,H=p.settings,W=this.context,x=Object(N.default)(W).getInstance(),Y=!1;function U(){(function re(){de=null,pe=NaN,he=[],fe=null,ae=!1})(),J=[],ye=null}function Ee(De){var Te=new I.default;for(var Ge in De)Te[Ge]=De[Ge];Te.labels=De.labels,Te.defaultTrack=function Dt(De){var Te=!1;return se.length>1&&De.isEmbedded?Te=De.id&&De.id===M.default.CC1:1===se.length?De.id&&"string"==typeof De.id&&"CC"===De.id.substring(0,2)&&(Te=!0):0===se.length&&(Te=De.index===J[0].index),Te}(De),Te.isFragmented=De.isFragmented,Te.isEmbedded=!!De.isEmbedded,Te.isTTML=function Pe(De){return De.codec&&De.codec.search(M.default.STPP)>=0||De.mimeType&&De.mimeType.search(M.default.TTML)>=0}(De),Te.kind=function we(De,Te){var Ne=De.roles&&De.roles.length>0?Te[De.roles[0]]:Te.caption;return Ne===Te.caption||Ne===Te.subtitle?Ne:Te.caption}(De,{subtitle:"subtitles",caption:"captions"}),L.addTextTrack(Te)}function j(De){var Te=De.chunk;Te.mediaInfo.embeddedCaptions&&je(Te.bytes,Te)}function Re(De){ve=De}function je(De,Te){var Ne=Te.mediaInfo,Ge=Ne.type,Ze=Ne.codec||Ne.mimeType;Ze?-1!==Ne.codec.indexOf("application/mp4")?function Ce(De,Te,Ne){var Ge;if("InitializationSegment"===Te.segmentType)ae=!0,pe=oe.getMediaTimescaleFromMoov(De);else{if(!ae)return;(Ge=oe.getSamplesInfo(De).sampleList).length>0&&(fe=Ge[0].cts-Te.start*pe),Ne.search(M.default.STPP)>=0?function Oe(De,Te,Ne){var Ge,ot;for(ye=null!==ye?ye:Ht(Ne),Ge=0;Ge<Te.length;Ge++){var Ze=Te[Ge],lt=Ze.cts,_t=ht(),pt=_t+lt/pe;G.buffered.add(pt,pt+Ze.duration/pe);var Je=new DataView(De,Ze.offset,Ze.subSizes[0]),ct=d.a.Utils.dataViewToString(Je,M.default.UTF8),gt=[],At=Ze.offset+Ze.subSizes[0];for(ot=1;ot<Ze.subSizes.length;ot++){var Ot=new Uint8Array(De,At,Ze.subSizes[ot]),Nt=String.fromCharCode.apply(null,Ot);gt.push(Nt),At+=Ze.subSizes[ot]}try{var un=g.getValue(),Gn=ye.parse(ct,un.ttmlTimeIsRelative?lt/pe:0,lt/pe,(lt+Ze.duration)/pe,gt);L.addCaptions(ve,_t,Gn)}catch(_r){de.removeExecutedRequestsBeforeTime(),this.remove(),ie.error("TTML parser error: "+_r.message)}}}(De,Ge,Ne):function ze(De,Te){var Ne,Ge,ot,Ze=[];for(Ne=0;Ne<Te.length;Ne++){var lt=Te[Ne];lt.cts-=fe;var pt=ht()+lt.cts/pe;G.buffered.add(pt,pt+lt.duration/pe);var Je=De.slice(lt.offset,lt.offset+lt.size),ct=d.a.parseBuffer(Je);for(Ge=0;Ge<ct.boxes.length;Ge++){var gt=ct.boxes[Ge];if(ie.debug("VTT box1: "+gt.type),"vtte"!==gt.type&&"vttc"===gt.type)for(ie.debug("VTT vttc boxes.length = "+gt.boxes.length),ot=0;ot<gt.boxes.length;ot++){var At=gt.boxes[ot];if(ie.debug("VTT box2: "+At.type),"payl"===At.type){var Ot=At.cue_text;ie.debug("VTT cue_text = "+Ot);var Nt=lt.cts/pe,un=(lt.cts+lt.duration)/pe;Ze.push({start:Nt,end:un,data:Ot,styles:{}}),ie.debug("VTT "+Nt+"-"+un+" : "+Ot)}}}}Ze.length>0&&L.addCaptions(ve,0,Ze)}(De,Ge)}}(De,Te,Ze):Ge===M.default.VIDEO?function Ye(De,Te){var Ne,Ge;if(Te.segmentType===T.HTTPRequest.INIT_SEGMENT_TYPE)0===Se&&(Se=oe.getMediaTimescaleFromMoov(De));else if(Te.segmentType===T.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===Se)return void ie.warn("CEA-608: No timescale for embeddedTextTrack yet");var ot=(Ge=oe.getSamplesInfo(De)).lastSequenceNumber;if(!ne[0]&&!ne[1]&&function et(){for(var De,Te=0;Te<se.length;Te++){if(-1===(De=L.getTrackIdxForId(se[Te].id)))return void ie.warn("CEA-608: data before track is ready.");var Ne=rt(De);ne[Te]=new _.a.Cea608Parser(Te+1,{newCue:Ne},null)}}(),Se){if(null!==_e&&ot!==_e+Ge.numSequences)for(Ne=0;Ne<ne.length;Ne++)ne[Ne]&&ne[Ne].reset();for(var Ze=function it(De,Te){if(0===Te.length)return null;for(var Ne={splits:[],fields:[[],[]]},Ge=new DataView(De),ot=0;ot<Te.length;ot++)for(var Ze=Te[ot],lt=_.a.findCea608Nalus(Ge,Ze.offset,Ze.size),_t=null,pt=0,Be=0;Be<lt.length;Be++)for(var Je=_.a.extractCea608DataFromRange(Ge,lt[Be]),ct=0;ct<2;ct++)if(Je[ct].length>0){Ze.cts!==_t?pt=0:pt+=1;var gt=ht();Ne.fields[ct].push([Ze.cts+gt*Se,Je[ct],pt]),_t=Ze.cts}return Ne.fields.forEach(function(Ot){Ot.sort(function(Nt,un){return Nt[0]===un[0]?Nt[2]-un[2]:Nt[0]-un[0]})}),Ne}(De,Ge.sampleList),lt=0;lt<ne.length;lt++){var _t=Ze.fields[lt],pt=ne[lt];if(pt)for(Ne=0;Ne<_t.length;Ne++)pt.addData(_t[Ne][0]/Se,_t[Ne][1])}_e=ot}}}(De,Te):function Le(De,Te,Ne){var Ge,ot,Ze=new DataView(De,0,De.byteLength);ot=d.a.Utils.dataViewToString(Ze,M.default.UTF8);try{Ge=Ht(Ne).parse(ot,0),L.addCaptions(L.getCurrentTrackIdx(),0,Ge),G.buffered&&G.buffered.add(Te.start,Te.end)}catch(lt){y.error(new O.default(b.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,b.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+lt.message,ot))}}(De,Te,Ze):ie.error("No text type defined")}function rt(De){return function Te(Ne,Ge,ot){var Ze;(Ze=E.getTTMLRenderingDiv()?X.createHTMLCaptionsFromScreen(E.getElement(),Ne,Ge,ot):[{start:Ne,end:Ge,data:ot.getDisplayText(),styles:{}}])&&L.addCaptions(De,0,Ze)}}function ht(){return isNaN(G.timestampOffset)?0:G.timestampOffset}function Ht(De){var Te;return De.search(M.default.VTT)>=0?Te=H.get().streaming.text.webvtt.customRenderingEnabled&&ee?ee:K:(De.search(M.default.TTML)>=0||De.search(M.default.STPP)>=0)&&(Te=Z),Te}function Yt(De){se.forEach(function(Te){var Ne=L.getTrackIdxForId(Te.id);Ne>=0&&L.deleteCuesFromTrackIdx(Ne,De.from,De.to)})}return G={initialize:function te(){Y||function $(){se=[],ve=null,Se=0,ne=[],_e=null,Y=!0,X=Object(c.default)(W).getInstance(),x.on(S.default.VIDEO_CHUNK_RECEIVED,j,G),x.on(S.default.BUFFER_CLEARED,Yt,G)}()},addMediaInfos:function me(De,Te,Ne){if(J=J.concat(Te),De===M.default.TEXT&&Te[0].isFragmented&&!Te[0].isEmbedded){de=Ne,G.buffered=Object(P.default)(W).create(),he=A.getTracksFor(M.default.TEXT,le.id).filter(function(lt){return lt.isFragmented});for(var Ge=A.getCurrentTrackFor(M.default.TEXT,le.id),ot=0;ot<he.length;ot++)if(he[ot]===Ge){Re(ot);break}}for(var Ze=0;Ze<Te.length;Ze++)Ee(Te[Ze])},resetMediaInfos:function Zt(){J=[]},getStreamId:function V(){return le.id},append:je,abort:function q(){},addEmbeddedTrack:function ue(De){if(Y&&De)if(De.id===M.default.CC1||De.id===M.default.CC3){for(var Te=0;Te<se.length;Te++)if(se[Te].id===De.id)return;se.push(De)}else ie.warn("Embedded track "+De.id+" not supported!")},resetEmbedded:function ce(){x.off(S.default.VIDEO_CHUNK_RECEIVED,j,G),x.off(S.default.BUFFER_CLEARED,Yt,G),L&&L.deleteAllTextTracks(),Y=!1,se=[],ne=[null,null],_e=null},getConfig:function be(){return{fragmentModel:de,fragmentedTracks:he,videoModel:E}},setCurrentFragmentedTrackIdx:Re,remove:function jt(De,Te){void 0===De&&De===Te&&(De=G.buffered.start(0),Te=G.buffered.end(G.buffered.length-1)),G.buffered.remove(De,Te),L.deleteCuesFromTrackIdx(ve,De,Te)},reset:function z(){U(),J=[],oe=null}},function F(){ie=Object(D.default)(W).getInstance().getLogger(G),oe=Object(w.default)(W).getInstance(),U()}(),G}v.__dashjs_factory_name="TextSourceBuffer",k.default=R.default.getClassFactory(v)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=m(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),P=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),R=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),D=m(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function l(N,S){var O=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!O){if(Array.isArray(N)||(O=function d(N,S){if(N){if("string"==typeof N)return f(N,S);var O=Object.prototype.toString.call(N).slice(8,-1);if("Object"===O&&N.constructor&&(O=N.constructor.name),"Map"===O||"Set"===O)return Array.from(N);if("Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return f(N,S)}}(N))||S&&N&&"number"==typeof N.length){O&&(N=O);var b=0,v=function(){};return{s:v,n:function(){return b>=N.length?{done:!0}:{done:!1,value:N[b++]}},e:function(E){throw E},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,p=!0,y=!1;return{s:function(){O=O.call(N)},n:function(){var E=O.next();return p=E.done,E},e:function(E){y=!0,g=E},f:function(){try{!p&&null!=O.return&&O.return()}finally{if(y)throw g}}}}function f(N,S){(null==S||S>N.length)&&(S=N.length);for(var O=0,b=new Array(S);O<S;O++)b[O]=N[O];return b}function _(N){var y,g,A,E,L,K,ee,Z,le,H,W,x,Y,G,ie,oe,ye,J,S=this.context,O=Object(T.default)(S).getInstance(),b=N.videoModel,v=N.streamInfo,p=N.settings;function he(Le){return b.addTextTrack(Le.kind,void 0!==Le.id?Le.id:Le.lang,Le.lang,Le.isTTML,Le.isEmbedded)}function se(Le,Ye,et,rt,it,ht){var jt=0,Yt=0;Le/Ye>et/rt?jt=(Yt=Ye)/rt*et:Yt=(jt=Le)/et*rt;var Zt,De,Te=0,Ne=0;return jt/Yt>it?(Ne=Yt,Te=Yt*it):(Te=jt,Ne=jt/it),Zt=(Le-Te)/2,De=(Ye-Ne)/2,ht?{x:Zt+.1*Te,y:De+.1*Ne,w:.8*Te,h:.8*Ne}:{x:Zt,y:De,w:Te,h:Ne}}function Se(Le,Ye){var et=b.getClientWidth(),rt=b.getClientHeight(),it=b.getVideoWidth(),ht=b.getVideoHeight(),Dt=b.getVideoRelativeOffsetTop(),Ht=b.getVideoRelativeOffsetLeft();if(0!==it&&0!==ht){var jt=it/ht,Yt=!1;Le.isFromCEA608&&(jt=3.5/3,Yt=!0);var Zt=se.call(this,et,rt,it,ht,jt,Yt),De=Zt.w,Te=Zt.h,Ne=Zt.x,Ge=Zt.y;if(De!=le||Te!=H||Ne!=ee||Ge!=Z||Ye){if(ee=Ne+Ht,Z=Ge+Dt,le=De,H=Te,W){var ot=W.style;ot&&(ot.left=ee+"px",ot.top=Z+"px",ot.width=le+"px",ot.height=H+"px",ot.zIndex=G&&document[G]||ie?ye:null,O.trigger(w.default.CAPTION_CONTAINER_RESIZE))}var Ze=Le.activeCues;if(Ze)for(var lt=Ze.length,_t=0;_t<lt;++_t){var pt=Ze[_t];pt.scaleCue(pt)}}}}function _e(Le){var rt,it,ht,Dt,Ht;if(Le.cellResolution){var jt=[le/Le.cellResolution[0],H/Le.cellResolution[1]];if(Le.linePadding)for(rt in Le.linePadding)if(Le.linePadding.hasOwnProperty(rt)){it=(Le.linePadding[rt]*jt[0]).toString();for(var Zt=document.getElementsByClassName("spanPadding"),De=0;De<Zt.length;De++)Zt[De].style.cssText=Zt[De].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+it),Zt[De].style.cssText=Zt[De].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+it)}if(Le.fontSize){for(rt in Le.fontSize)if(Le.fontSize.hasOwnProperty(rt)){"%"===Le.fontSize[rt][0]?ht=Le.fontSize[rt][1]/100:"c"===Le.fontSize[rt][0]&&(ht=Le.fontSize[rt][1]),it=(ht*jt[1]).toString(),Ht="defaultFontSize"!==rt?document.getElementsByClassName(rt):document.getElementsByClassName("paragraph");for(var Te=0;Te<Ht.length;Te++)Ht[Te].style.cssText=Ht[Te].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+it)}if(Le.lineHeight)for(rt in Le.lineHeight)if(Le.lineHeight.hasOwnProperty(rt)){"%"===Le.lineHeight[rt][0]?Dt=Le.lineHeight[rt][1]/100:"c"===Le.fontSize[rt][0]&&(Dt=Le.lineHeight[rt][1]),it=(Dt*jt[1]).toString(),Ht=document.getElementsByClassName(rt);for(var Ne=0;Ne<Ht.length;Ne++)Ht[Ne].style.cssText=Ht[Ne].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+it)}}}if(Le.isd){var Ge=document.getElementById(Le.cueID);Ge&&W.removeChild(Ge),ne(Le)}}function ne(Le){if(W){var Ye=document.createElement("div");W.appendChild(Ye),oe=Object(D.renderHTML)(Le.isd,Ye,function(et){var rt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,it=/^#(.*)$/;if(rt.test(et)){var ht=rt.exec(et),Dt=parseInt(ht[4],10)-1;return"data:image/png;base64,"+btoa(Le.images[Dt])}if(it.test(et)){var Yt=it.exec(et);return"data:image/png;base64,"+Le.embeddedImages[Yt[1]]}return null},W.clientHeight,W.clientWidth,!1,function(et){g.info("renderCaption :",et)},oe,!0),Ye.id=Le.cueID,O.trigger(w.default.CAPTION_RENDERED,{captionDiv:Ye,currentTrackIdx:K})}}function X(Le,Ye,et){var rt=me(Le);if(rt&&Array.isArray(et)&&0!==et.length)for(var it=0;it<et.length;it++){var ht=void 0,Dt=et[it];rt.cellResolution=Dt.cellResolution,rt.isFromCEA608=Dt.isFromCEA608,!isNaN(Dt.start)&&!isNaN(Dt.end)&&(ht="html"===Dt.type&&W?F(Dt,Ye,rt):Dt.data?V(Dt,Ye,rt):null);try{ht?$(rt,ht)||(p.get().streaming.text.webvtt.customRenderingEnabled?(rt.manualCueList||(rt.manualCueList=[]),rt.manualCueList.push(ht)):rt.addCue(ht)):g.error("impossible to display subtitles.")}catch(Ht){throw ue(rt),rt.addCue(ht),Ht}}}function F(Le,Ye,et){var rt=this,it=new A(Le.start+Ye,Le.end+Ye,"");return it.cueHTMLElement=Le.cueHTMLElement,it.isd=Le.isd,it.images=Le.images,it.embeddedImages=Le.embeddedImages,it.cueID=Le.cueID,it.scaleCue=_e.bind(rt),it.cellResolution=Le.cellResolution,it.lineHeight=Le.lineHeight,it.linePadding=Le.linePadding,it.fontSize=Le.fontSize,W.style.left=ee+"px",W.style.top=Z+"px",W.style.width=le+"px",W.style.height=H+"px",it.onenter=function(){et.mode===M.default.TEXT_SHOWING&&(this.isd?(ne(this),g.debug("Cue enter id:"+this.cueID)):(W.appendChild(this.cueHTMLElement),_e.call(rt,this),O.trigger(w.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:K})))},it.onexit=function(){if(W)for(var ht=W.childNodes,Dt=0;Dt<ht.length;++Dt)ht[Dt].id===this.cueID&&(g.debug("Cue exit id:"+ht[Dt].id),W.removeChild(ht[Dt]),--Dt)},it}function V(Le,Ye,et){var rt=new A(Le.start-Ye,Le.end-Ye,Le.data);if(rt.cueID="".concat(rt.startTime,"_").concat(rt.endTime),rt.isActive=!1,Le.styles)try{void 0!==Le.styles.align&&"align"in rt&&(rt.align=Le.styles.align),void 0!==Le.styles.line&&"line"in rt&&(rt.line=Le.styles.line),void 0!==Le.styles.position&&"position"in rt&&(rt.position=Le.styles.position),void 0!==Le.styles.size&&"size"in rt&&(rt.size=Le.styles.size)}catch(it){g.error(it)}return rt.onenter=function(){et.mode===M.default.TEXT_SHOWING&&O.trigger(w.default.CAPTION_RENDERED,{currentTrackIdx:K})},rt}function te(){var rt,Ye=[],et=l(b.getTextTracks());try{for(et.s();!(rt=et.n()).done;){var it=rt.value;it.manualMode===M.default.TEXT_SHOWING&&Ye.push(it)}}catch(ht){et.e(ht)}finally{et.f()}return Ye}function me(Le){return Le>=0&&E[Le]?b.getTextTrack(E[Le].kind,E[Le].id,E[Le].lang,E[Le].isTTML,E[Le].isEmbedded):null}function z(Le){var Ye=this;if(Le!==K){var et=me(K=Le);j.call(this,et),Y&&(clearInterval(Y),Y=null),et&&"html"===et.renderingType&&(Se.call(this,et,!0),window.ResizeObserver?(J=new window.ResizeObserver(function(){Se.call(Ye,et,!0)})).observe(b.getElement()):Y=setInterval(Se.bind(this,et),500))}}function j(Le){Ce.call(this),Le&&"html"===Le.renderingType?we.call(this):je.call(this)}function $(Le,Ye){if(!Le.cues)return!1;for(var et=0;et<Le.cues.length;et++)if(Le.cues[et].startTime===Ye.startTime&&Le.cues[et].endTime===Ye.endTime)return!0;return!1}function ce(Le,Ye,et){var rt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Ye)||(rt?Le.startTime:Le.endTime)>=Ye)&&(isNaN(et)||(rt?Le.endTime:Le.startTime)<=et)}function ue(Le,Ye,et){var rt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Le.cues)for(var it=Le.cues,Dt=it.length-1;Dt>=0;Dt--)ce(it[Dt],Ye,et,rt)&&(it[Dt].onexit&&it[Dt].onexit(),Le.removeCue(it[Dt]))}function we(){var Le=document.getElementById("native-cue-style");if(!Le){(Le=document.createElement("style")).id="native-cue-style",document.head.appendChild(Le);var Ye=Le.sheet,et=b.getElement();try{et&&Ye.insertRule(et.id?"#"+et.id+"::cue {background: transparent}":0!==et.classList.length?"."+et.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(rt){g.info(""+rt.message)}}}function je(){var Le=document.getElementById("native-cue-style");Le&&document.head.removeChild(Le)}function Ce(){if(W)for(;W.firstChild;)W.removeChild(W.firstChild)}return y={initialize:function ae(){typeof window>"u"||typeof navigator>"u"||(A=window.VTTCue||window.TextTrackCue,E=[],L=[],K=-1,ee=0,Z=0,le=0,H=0,W=null,x=null,Y=null,ie=!1,ye=2147483647,oe=null,void 0!==document.fullscreenElement?G="fullscreenElement":void 0!==document.webkitIsFullScreen?G="webkitIsFullScreen":document.msFullscreenElement?G="msFullscreenElement":document.mozFullScreen&&(G="mozFullScreen"))},getStreamId:function pe(){return v.id},addTextTrack:function fe(Le){E.push(Le)},addCaptions:X,createTracks:function ve(){E.sort(function(Ht,jt){return Ht.index-jt.index}),W=b.getTTMLRenderingDiv(),x=b.getVttRenderingDiv();for(var Le=-1,Ye=0;Ye<E.length;Ye++){var et=he(E[Ye]);L.push(et),E[Ye].defaultTrack&&(et.default=!0,Le=Ye);var rt=me(Ye);rt&&(rt.mode=M.default.TEXT_SHOWING,rt.renderingType=W&&(E[Ye].isTTML||E[Ye].isEmbedded)?"html":"default"),X(Ye,0,E[Ye].captionData),O.trigger(w.default.TEXT_TRACK_ADDED)}if(z.call(this,Le),Le>=0){O.on(w.default.PLAYBACK_METADATA_LOADED,function Ht(){var jt=me(Le);jt&&"html"===jt.renderingType&&Se.call(this,jt,!0),O.off(w.default.PLAYBACK_METADATA_LOADED,Ht,this)},this);for(var ht=0;ht<E.length;ht++){var Dt=me(ht);Dt&&(Dt.mode=ht===Le?M.default.TEXT_SHOWING:M.default.TEXT_HIDDEN,Dt.manualMode=ht===Le?M.default.TEXT_SHOWING:M.default.TEXT_HIDDEN)}}O.trigger(I.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:K,tracks:E,streamId:v.id})},getCurrentTrackIdx:function Ee(){return K},setCurrentTrackIdx:z,getTrackIdxForId:function q(Le){for(var Ye=-1,et=0;et<E.length;et++)if(E[et].id===Le){Ye=et;break}return Ye},getCurrentTrackInfo:function ze(){return E[K]},setModeForTrackIdx:function Oe(Le,Ye){var et=me(Le);et&&et.mode!==Ye&&(et.mode=Ye),et&&et.manualMode!==Ye&&(et.manualMode=Ye)},deleteCuesFromTrackIdx:function be(Le,Ye,et){var rt=me(Le);rt&&ue(rt,Ye,et)},deleteAllTextTracks:function Re(){for(var Le=L?L.length:0,Ye=0;Ye<Le;Ye++){var et=me(Ye);et&&ue.call(this,et,v.start,v.start+v.duration,!1)}L=[],E=[],Y&&(clearInterval(Y),Y=null),J&&b&&(J.unobserve(b.getElement()),J=null),K=-1,Ce.call(this)},deleteTextTrack:function Pe(Le){b.removeChild(L[Le]),L.splice(Le,1)},manualCueProcessing:function re(Le){var Ye=te();if(Ye&&Ye.length>0){var rt=Ye[0].manualCueList;rt&&rt.length>0&&rt.forEach(function(it){if(it.startTime<=Le&&it.endTime>=Le&&!it.isActive)it.isActive=!0,WebVTT.processCues(window,[it],x,it.cueID);else if(it.isActive&&(it.startTime>Le||it.endTime<Le)&&(it.isActive=!1,x))for(var ht=x.childNodes,Dt=0;Dt<ht.length;++Dt)ht[Dt].id===it.cueID&&(x.removeChild(ht[Dt]),--Dt)})}},disableManualTracks:function U(){var Le=te();if(Le&&Le.length>0){var et=Le[0].manualCueList;et&&et.length>0&&et.forEach(function(rt){if(rt.isActive&&(rt.isActive=!1,x))for(var it=x.childNodes,ht=0;ht<it.length;++ht)it[ht].id===rt.cueID&&(x.removeChild(it[ht]),--ht)})}}},function de(){g=Object(R.default)(S).getInstance().getLogger(y)}(),y}_.__dashjs_factory_name="TextTracks",k.default=P.default.getClassFactory(_)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),I=m(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),w=m(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),P=m(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),R=m(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function D(c){var f,_,l=this.context,d=c.streamInfo;function p(E){_.setTrackByIndex(E)}function A(){_&&_.reset()}return f={getStreamId:function O(){return d.id},initialize:function S(){_.addTracks();var E=_.getTracks();E&&E.length>0&&p(0)},provide:function b(E,L){if("function"==typeof L){var Z,K=_.getCurrentTrack();if(!K||K.segmentDuration<=0||null==E)return void L(null);(Z=_.getThumbnailRequestForTime(E))&&(K.segmentDuration=Z.duration);var le=Math.floor(E%K.segmentDuration*K.tilesHor*K.tilesVert/K.segmentDuration),H=new I.default;if(H.width=Math.floor(K.widthPerTile),H.height=Math.floor(K.heightPerTile),H.x=Math.floor(le%K.tilesHor)*K.widthPerTile,H.y=Math.floor(le/K.tilesHor)*K.heightPerTile,"readThumbnail"in K)return K.readThumbnail(E,function(x){H.url=x,L(H)});if(Z)H.url=Z.url,K.segmentDuration=NaN;else{var W=Math.floor(E/K.segmentDuration);H.url=function v(E,L){var K=L+E.startNumber,ee=Object(R.replaceTokenForTemplate)(E.templateUrl,"Number",K);return ee=Object(R.replaceTokenForTemplate)(ee,"Time",(K-1)*E.segmentDuration*E.timescale),ee=Object(R.replaceTokenForTemplate)(ee,"Bandwidth",E.bandwidth),Object(R.unescapeDollarsInTemplate)(ee)}(K,W)}L(H)}},setTrackByIndex:p,getCurrentTrackIndex:function y(){return _.getCurrentTrackIndex()},getBitrateList:function g(){var E=_.getTracks(),L=0;return E.map(function(K){var ee=new P.default;return ee.mediaType=T.default.IMAGE,ee.qualityIndex=L++,ee.bitrate=K.bitrate,ee.width=K.width,ee.height=K.height,ee})},reset:A},function N(){A(),_=Object(w.default)(l).create({streamInfo:d,adapter:c.adapter,baseURLController:c.baseURLController,timelineConverter:c.timelineConverter,debug:c.debug,eventBus:c.eventBus,events:c.events,dashConstants:c.dashConstants,dashMetrics:c.dashMetrics,segmentBaseController:c.segmentBaseController})}(),f}D.__dashjs_factory_name="ThumbnailController",k.default=M.default.getClassFactory(D)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(Ie,k,m){"use strict";m.r(k),m.d(k,"THUMBNAILS_SCHEME_ID_URIS",function(){return f});var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),P=m(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),R=m(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),D=m(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),c=m(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),l=m(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),d=m(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),f=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function _(N){var K,ee,Z,le,H,W,x,Y,S=this.context,O=N.adapter,b=N.baseURLController,v=N.streamInfo,p=N.timelineConverter,y=N.debug,g=N.eventBus,A=N.events,E=N.dashConstants,L=Object(P.default)(S).getInstance();function oe(Se,_e){var ne=new w.default;ne.id=Se.id,ne.bitrate=Se.bandwidth,ne.width=Se.width,ne.height=Se.height,ne.tilesHor=1,ne.tilesVert=1,Se.essentialProperties&&Se.essentialProperties.forEach(function(X){if(f.indexOf(X.schemeIdUri)>=0&&X.value){var F=X.value.split("x");2===F.length&&!isNaN(F[0])&&!isNaN(F[1])&&(ne.tilesHor=parseInt(F[0],10),ne.tilesVert=parseInt(F[1],10))}}),_e?W.updateSegmentData(Se).then(function(X){!function ye(Se,_e,ne){var X=[],F=function J(Se,_e){var F,V,re,U,ne=[],X=0;for(F=0,V=Se.segments.length;F<V;F++)re=Se.segments[F],(U=Object(R.getTimeBasedSegment)(p,O.getIsDynamic(),_e,re.startTime,re.duration,re.timescale,re.media,re.mediaRange,X))&&(ne.push(U),U=null,X++);return ne}(ne,_e);_e.segments=F,Se.segmentDuration=_e.segments[0].duration,Se.readThumbnail=function(V,re){var U=null;X.some(function(te){if(te.start<=V&&te.end>V)return U=te.url,!0}),U?re(U):_e.segments.some(function(te){if(te.mediaStartTime<=V&&te.mediaStartTime+te.duration>V){var me=b.resolve(_e.path);return x.load({method:"get",url:me.url,request:{range:te.mediaRange,responseType:"arraybuffer"},onload:function(q){var z=Y.getSamplesInfo(q.target.response),j=new Blob([q.target.response.slice(z.sampleList[0].offset,z.sampleList[0].offset+z.sampleList[0].size)],{type:"image/jpeg"}),$=window.URL.createObjectURL(j);X.push({start:te.mediaStartTime,end:te.mediaStartTime+te.duration,url:$}),re&&re($)}}),!0}})}}(ne,Se,X)}):(ne.startNumber=Se.startNumber,ne.segmentDuration=Se.segmentDuration,ne.timescale=Se.timescale,ne.templateUrl=function de(Se){var _e=L.isRelative(Se.media)?L.resolve(Se.media,b.resolve(Se.path).url):Se.media;return _e?Object(R.replaceIDForTemplate)(_e,Se.id):""}(Se)),ne.tilesHor>0&&ne.tilesVert>0&&(ne.widthPerTile=ne.width/ne.tilesHor,ne.heightPerTile=ne.height/ne.tilesVert,ee.push(ne))}function se(){ee=[],le=-1,H=null}return K={getTracks:function ae(){return ee},addTracks:function ie(){if(v&&O&&(H=O.getMediaInfoForType(v,M.default.IMAGE))){var Se=O.getVoRepresentations(H);Se&&Se.length>0&&Se.forEach(function(_e){(_e.segmentInfoType===T.default.SEGMENT_TEMPLATE&&_e.segmentDuration>0&&_e.media||_e.segmentInfoType===T.default.SEGMENT_TIMELINE)&&oe(_e),_e.segmentInfoType===T.default.SEGMENT_BASE&&oe(_e,!0)}),ee.length>0&&ee.sort(function(_e,ne){return _e.bitrate-ne.bitrate})}},reset:se,setTrackByIndex:function fe(Se){!ee||0===ee.length||(Se>=ee.length&&(Se=ee.length-1),le=Se)},getCurrentTrack:function he(){return le<0?null:ee[le]},getCurrentTrackIndex:function pe(){return le},getThumbnailRequestForTime:function ve(Se){for(var _e,ne=O.getVoRepresentations(H),X=0;X<ne.length;X++)if(ee[le].id===ne[X].id){_e=ne[X];break}return Z.getSegmentRequestForTime(H,_e,Se)}},function G(){se(),x=Object(c.default)(S).create({}),Y=Object(D.default)(S).getInstance(),W=Object(d.default)(S).create({events:A,eventBus:g,streamInfo:v,timelineConverter:p,dashConstants:E,dashMetrics:N.dashMetrics,segmentBaseController:N.segmentBaseController,type:M.default.IMAGE}),(Z=Object(l.default)(S).create({streamInfo:v,type:M.default.IMAGE,timelineConverter:p,segmentsController:W,baseURLController:b,debug:y,eventBus:g,events:A,dashConstants:E,urlUtils:L})).initialize(!!O&&O.getIsDynamic())}(),K}_.__dashjs_factory_name="ThumbnailTracks",k.default=I.default.getClassFactory(_)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),T=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=m(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),P=m(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),R=m(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),D=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),c=m(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),l=m(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),d=m(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),f=m(
/*! ../../core/Settings */
"./src/core/Settings.js");function _(){var b,v,p,y,g,A,N=this.context,S=Object(T.default)(N).getInstance(),O=Object(f.default)(N).getInstance();function Z(){v.reset()}return b={chooseSelector:function K(le){Object(l.checkParameterType)(le,"boolean"),A=le?y:p},select:function ee(le){if(le){if(O.get().streaming.applyContentSteering){var H=g.selectBaseUrlIndex(le);!isNaN(H)&&-1!==H&&(le.selectedIdx=H)}if(!isNaN(le.selectedIdx))return le.baseUrls[le.selectedIdx];var W=A.select(le.baseUrls);return W?(le.selectedIdx=le.baseUrls.indexOf(W),W):(S.trigger(I.default.URL_RESOLUTION_FAILED,{error:new c.default(M.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,M.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(A===p&&Z()))}},reset:Z,setConfig:function L(le){le.selector&&(A=le.selector),le.contentSteeringSelector&&(g=le.contentSteeringSelector)}},function E(){v=Object(w.default)(N).create({updateEventName:I.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:I.default.SERVICE_LOCATION_BLACKLIST_ADD}),p=Object(R.default)(N).create({blacklistController:v}),y=Object(P.default)(N).create({blacklistController:v}),(g=Object(d.default)(N).create()).setConfig({blacklistController:v}),A=p}(),b}_.__dashjs_factory_name="BaseURLSelector",k.default=D.default.getClassFactory(_)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=m(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),I=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=m(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),P=m.n(w),R=m(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function D(){var c,l,d=this.context;function _(g){if(!g)return null;void 0===g.fileStart&&(g.fileStart=0);var A=P.a.parseBuffer(g),E=Object(T.default)(d).create();return E.setData(A),E}function b(g,A){return g[A+3]>>>0|g[A+2]<<8>>>0|g[A+1]<<16>>>0|g[A]<<24>>>0}function v(g,A){return String.fromCharCode(g[A++])+String.fromCharCode(g[A++])+String.fromCharCode(g[A++])+String.fromCharCode(g[A])}return l={parse:_,findLastTopIsoBoxCompleted:function N(g,A,E){if(void 0===E&&(E=0),!A||E+8>=A.byteLength)return new R.default(0,!1);for(var K,L=A instanceof ArrayBuffer?new Uint8Array(A):A,ee=0;E<L.byteLength;){var Z=b(L,E),le=v(L,E+4);if(0===Z)break;E+Z<=L.byteLength&&(g.indexOf(le)>=0?K=new R.default(E,!0,Z):ee=E+Z),E+=Z}return K||new R.default(ee,!1)},getMediaTimescaleFromMoov:function O(g){var A=_(g),E=A?A.getBox("mdhd"):void 0;return E?E.timescale:NaN},getSamplesInfo:function S(g){if(!g||0===g.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var K,Z,le,H,W,x,Y,G,ie,oe,ye,J,de,ae,pe,he,A=_(g),E=A.getBoxes("moof"),L=A.getBoxes("mfhd");pe=A.getBoxes("moof").length,ae=L[L.length-1].sequence_number,Z=0,W=[];var fe=-1,ve=-1;for(oe=0;oe<E.length;oe++){var se=E[oe],Se=se.getChildBoxes("traf");for(G=0;G<Se.length;G++){var _e=Se[G],ne=_e.getChildBox("tfhd"),X=_e.getChildBox("tfdt");H=X.baseMediaDecodeTime;var F=_e.getChildBoxes("trun"),V=_e.getChildBoxes("subs");for(ie=0;ie<F.length;ie++){var re=F[ie];for(Z=re.sample_count,de=(ne.base_data_offset||0)+(re.data_offset||0),Y=0;Y<Z;Y++){var U={dts:H,cts:H+(void 0!==(x=re.samples[Y]).sample_composition_time_offset?x.sample_composition_time_offset:0),duration:K=void 0!==x.sample_duration?x.sample_duration:ne.default_sample_duration,offset:se.offset+de,size:le=void 0!==x.sample_size?x.sample_size:ne.default_sample_size,subSizes:[le]};if(V)for(ye=0;ye<V.length;ye++){var te=V[ye];if(fe<te.entry_count-1&&Y>ve&&(fe++,ve+=te.entries[fe].sample_delta),Y==ve){U.subSizes=[];var me=te.entries[fe];for(J=0;J<me.subsample_count;J++)U.subSizes.push(me.subsamples[J].subsample_size)}}W.push(U),de+=le,H+=K}}he=H-X.baseMediaDecodeTime}}return{sampleList:W,lastSequenceNumber:ae,totalDuration:he,numSequences:pe}},findInitRange:function p(g){var A=null,K=_(g);if(!K)return A;var ee=K.getBox("ftyp"),Z=K.getBox("moov");return c.debug("Searching for initialization."),Z&&Z.isComplete&&c.debug("Found the initialization.  Range: "+(A=(ee?ee.offset:Z.offset)+"-"+(Z.offset+Z.size-1))),A},parsePayload:function y(g,A,E){if(void 0===E&&(E=0),!A||E+8>=A.byteLength)return new R.default(0,!1);for(var K,L=A instanceof ArrayBuffer?new Uint8Array(A):A,ee=0;E<L.byteLength;){var Z=b(L,E),le=v(L,E+4);if(0===Z)break;E+Z<=L.byteLength&&(g.indexOf(le)>=0?K=new R.default(E,!0,Z,le):ee=E+Z),E+=Z}return K||new R.default(ee,!1)}},function f(){c=Object(M.default)(d).getInstance().getLogger(l)}(),l}D.__dashjs_factory_name="BoxParser",k.default=I.default.getSingletonFactory(D)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(Ie,k,m){"use strict";m.r(k),m.d(k,"supportsMediaSource",function(){return P});var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),I=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function P(){var D="WebKitMediaSource"in window,c="MediaSource"in window;return D||c}function R(){var D,c,l;return D={setConfig:function f(g){g&&g.settings&&(c=g.settings)},supportsMediaSource:P,supportsEncryptedMedia:function _(){return l},supportsCodec:function S(g,A){return A!==I.default.AUDIO&&A!==I.default.VIDEO?Promise.resolve(!0):function O(g,A){return c.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(g.codec&&A===I.default.AUDIO||A===I.default.VIDEO&&g.codec&&g.width&&g.height&&g.bitrate&&g.framerate)}(g,A)?function v(g,A){return new Promise(function(E){if(g&&g.codec){var L={type:"media-source"};L[A]={},L[A].contentType=g.codec,L[A].width=g.width,L[A].height=g.height,L[A].bitrate=parseInt(g.bitrate),L[A].framerate=parseFloat(g.framerate),navigator.mediaCapabilities.decodingInfo(L).then(function(K){E(K.supported)}).catch(function(){E(!1)})}else E(!1)})}(g,A):function b(g){return new Promise(function(A){if(g&&g.codec){var E=g.codec;g.width&&g.height&&(E+=';width="'+g.width+'";height="'+g.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(E)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(E)?A(!0):A(!1)}else A(!1)})}(g)},setEncryptedMediaSupported:function N(g){l=g},supportsEssentialProperty:function p(g){try{return-1!==T.THUMBNAILS_SCHEME_ID_URIS.indexOf(g.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function y(g,A){for(var K,E=g.split(".")[0],L=0===A.indexOf(E),ee=0;ee<w.length;ee++)if(w[ee].codec===E){K=w[ee];break}return K?L||K.compatibleCodecs.some(function(Z){return 0===A.indexOf(Z)}):L}},function d(){l=!1}(),D}R.__dashjs_factory_name="Capabilities",k.default=M.default.getSingletonFactory(R)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),P=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function R(){var l,d,f,_,N,S,D=this.context,c=Object(w.default)(D).getInstance();function p(Z,le){if(!le||!le.Period_asArray||0===le.Period_asArray.length)return Promise.resolve();var H=[];return le.Period_asArray.forEach(function(W){H.push(function y(Z,le){return new Promise(function(H){if(Z&&Z.AdaptationSet_asArray&&0!==Z.AdaptationSet_asArray.length){var W=[];Z.AdaptationSet_asArray.forEach(function(x){d.getIsTypeOf(x,le)&&W.push(function g(Z,le){return new Promise(function(H){if(Z.Representation_asArray&&0!==Z.Representation_asArray.length){var W=[],x=[];Z.Representation_asArray.forEach(function(Y,G){var ie=d.getCodec(Z,G,!1),oe=function A(Z,le,H){switch(Z){case I.default.VIDEO:return function E(Z,le){return{codec:le,width:Z.width||null,height:Z.height||null,framerate:Z.frameRate||null,bitrate:Z.bandwidth||null}}(le,H);case I.default.AUDIO:return function L(Z,le){return{codec:le,bitrate:Z.bandwidth||null,samplerate:Z.audioSamplingRate||null}}(le,H);default:return null}}(le,Y,ie);x.push(oe),W.push(f.supportsCodec(oe,le))}),Promise.all(W).then(function(Y){Z.Representation_asArray=Z.Representation_asArray.filter(function(G,ie){return Y[ie]||S.debug("[Stream] Codec ".concat(x[ie].codec," not supported ")),Y[ie]}),H()}).catch(function(){H()})}else H()})}(x,le))}),Promise.all(W).then(function(){Z.AdaptationSet_asArray=Z.AdaptationSet_asArray.filter(function(x){var Y=x.Representation_asArray&&x.Representation_asArray.length>0;return Y||(c.trigger(P.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:x}),S.warn("AdaptationSet has been removed because of no supported Representation")),Y}),H()}).catch(function(){H()})}else H()})}(W,Z))}),Promise.all(H)}return l={setConfig:function b(Z){Z&&(Z.adapter&&(d=Z.adapter),Z.capabilities&&(f=Z.capabilities),Z.settings&&(_=Z.settings),Z.customParametersModel&&(N=Z.customParametersModel))},filterUnsupportedFeatures:function v(Z){return new Promise(function(le){var H=[];H.push(p(I.default.VIDEO,Z)),H.push(p(I.default.AUDIO,Z)),Promise.all(H).then(function(){_.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function K(Z){!Z||!Z.Period_asArray||0===Z.Period_asArray.length||Z.Period_asArray.forEach(function(le){le.AdaptationSet_asArray=le.AdaptationSet_asArray.filter(function(H){return!H.Representation_asArray||0===H.Representation_asArray.length||(H.Representation_asArray=H.Representation_asArray.filter(function(W){var x=d.getEssentialPropertiesForRepresentation(W);if(x&&x.length>0)for(var Y=0;Y<x.length;){if(!f.supportsEssentialProperty(x[Y]))return S.debug("[Stream] EssentialProperty not supported: "+x[Y].schemeIdUri),!1;Y+=1}return!0}),H.Representation_asArray&&H.Representation_asArray.length>0)})})}(Z),function ee(Z){var le=N.getCustomCapabilitiesFilters();!le||0===le.length||!Z||!Z.Period_asArray||0===Z.Period_asArray.length||Z.Period_asArray.forEach(function(H){H.AdaptationSet_asArray=H.AdaptationSet_asArray.filter(function(W){return!W.Representation_asArray||0===W.Representation_asArray.length||(W.Representation_asArray=W.Representation_asArray.filter(function(x){return!le.some(function(Y){return!Y(x)})}),W.Representation_asArray&&W.Representation_asArray.length>0)})})}(Z),le()}).catch(function(){le()})})}},function O(){S=Object(T.default)(D).getInstance().getLogger(l)}(),l}R.__dashjs_factory_name="CapabilitiesFilter",k.default=M.default.getSingletonFactory(R)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function I(){return{customTimeRangeArray:[],length:0,add:function R(_,N){var S=0;for(S=0;S<this.customTimeRangeArray.length&&_>this.customTimeRangeArray[S].start;S++);for(this.customTimeRangeArray.splice(S,0,{start:_,end:N}),S=0;S<this.customTimeRangeArray.length-1;S++)this.mergeRanges(S,S+1)&&S--;this.length=this.customTimeRangeArray.length},clear:function D(){this.customTimeRangeArray=[],this.length=0},remove:function c(_,N){for(var S=0;S<this.customTimeRangeArray.length;S++)if(_<=this.customTimeRangeArray[S].start&&N>=this.customTimeRangeArray[S].end)this.customTimeRangeArray.splice(S,1),S--;else{if(_>this.customTimeRangeArray[S].start&&N<this.customTimeRangeArray[S].end){this.customTimeRangeArray.splice(S+1,0,{start:N,end:this.customTimeRangeArray[S].end}),this.customTimeRangeArray[S].end=_;break}_>this.customTimeRangeArray[S].start&&_<this.customTimeRangeArray[S].end?this.customTimeRangeArray[S].end=_:N>this.customTimeRangeArray[S].start&&N<this.customTimeRangeArray[S].end&&(this.customTimeRangeArray[S].start=N)}this.length=this.customTimeRangeArray.length},mergeRanges:function l(_,N){var S=this.customTimeRangeArray[_],O=this.customTimeRangeArray[N];return S.start<=O.start&&O.start<=S.end&&S.end<=O.end?(S.end=O.end,this.customTimeRangeArray.splice(N,1),!0):O.start<=S.start&&S.start<=O.end&&O.end<=S.end?(S.start=O.start,this.customTimeRangeArray.splice(N,1),!0):O.start<=S.start&&S.start<=O.end&&S.end<=O.end?(this.customTimeRangeArray.splice(_,1),!0):S.start<=O.start&&O.start<=S.end&&O.end<=S.end&&(this.customTimeRangeArray.splice(N,1),!0)},start:function d(_){return Object(T.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].start},end:function f(_){return Object(T.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].end}}}I.__dashjs_factory_name="CustomTimeRanges",k.default=M.default.getClassFactory(I)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),w=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],P="dashjs_?_bitrate",R="dashjs_?_settings",D="localStorage",l="lastBitrate",d="lastMediaSettings";function f(N){var b,v,p,S=this.context,O=(N=N||{}).settings;function g(W){if(void 0!==p)return p;p=!1;var G;try{typeof window<"u"&&(G=window[W])}catch(ie){return v.warn("DOMStorage access denied: "+ie.message),p}if(!G||W!==D&&"sessionStorage"!==W)return p;try{G.setItem("1","1"),G.removeItem("1"),p=!0}catch(ie){v.warn("DOMStorage is supported, but cannot be used: "+ie.message)}return p}function E(){var W=6e5;return Math.round((new Date).getTime()/W)*W}function L(W,x){return g(W)&&O.get().streaming[x+"CachingInfo"].enabled}function K(){if(!O)throw new Error(I.default.MISSING_CONFIG_ERROR)}return b={getSavedBitrateSettings:function Z(W){if(K(),!O.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var x=NaN;if(L(D,l)){var Y=P.replace(/\?/,W);try{var G=JSON.parse(localStorage.getItem(Y))||{},ie=(new Date).getTime()-parseInt(G.timestamp,10)>=O.get().streaming.lastBitrateCachingInfo.ttl||!1,oe=parseFloat(G.bitrate);isNaN(oe)||ie?ie&&localStorage.removeItem(Y):(x=oe,v.debug("Last saved bitrate for "+W+" was "+oe))}catch{return null}}return x},setSavedBitrateSettings:function H(W,x){if(L(D,l)&&x){var Y=P.replace(/\?/,W);try{localStorage.setItem(Y,JSON.stringify({bitrate:x.toFixed(3),timestamp:E()}))}catch(G){v.error(G.message)}}},getSavedMediaSettings:function ee(W){if(K(),!O.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var x=null;if(L(D,d)){var Y=R.replace(/\?/,W);try{var G=JSON.parse(localStorage.getItem(Y))||{},ie=(new Date).getTime()-parseInt(G.timestamp,10)>=O.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;x=G.settings,ie&&(localStorage.removeItem(Y),x=null)}catch{return null}}return x},setSavedMediaSettings:function le(W,x){if(L(D,d)){var Y=R.replace(/\?/,W);try{localStorage.setItem(Y,JSON.stringify({settings:x,timestamp:E()}))}catch(G){v.error(G.message)}}}},function y(){v=Object(T.default)(S).getInstance().getLogger(b),function A(){g(D)&&w.forEach(function(W){var x=localStorage.getItem(W.oldKey);if(x){localStorage.removeItem(W.oldKey);try{localStorage.setItem(W.newKey,x)}catch(Y){v.error(Y.message)}}})}()}(),b}f.__dashjs_factory_name="DOMStorage";var _=M.default.getSingletonFactory(f);k.default=_},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(){var I,w=/^[a-z][a-z0-9+\-_.]*:/i,P=/^https?:\/\//i,R=/^https:\/\//i,D=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,c=function(L,K){try{return new window.URL(L,K).toString()}catch{return L}},l=function(L,K){var ee=f;if(!K||!O(L))return L;b(L)&&(ee=_),v(L)&&(ee=S);var Z=ee(K),le="/"!==Z.charAt(Z.length-1)&&"/"!==L.charAt(0)?"/":"";return[Z,L].join(le)};function f(E){var L=E.indexOf("/"),K=E.lastIndexOf("/");return-1!==L?K===L+1?E:(-1!==E.indexOf("?")&&(E=E.substring(0,E.indexOf("?"))),E.substring(0,K+1)):""}function _(E){var L=E.match(D);return L?L[1]:""}function S(E){var L=E.match(w);return L?L[0]:""}function O(E){return!w.test(E)}function b(E){return O(E)&&"/"===E.charAt(0)}function v(E){return 0===E.indexOf("//")}return function d(){try{new window.URL("x","http://y"),I=c}catch{}finally{I=I||l}}(),{parseBaseUrl:f,parseOrigin:_,parseScheme:S,isRelative:O,isPathAbsolute:b,isSchemeRelative:v,isHTTPURL:function p(E){return P.test(E)},isHTTPS:function y(E){return R.test(E)},removeHostname:function N(E){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(E)[2].substring(1)},resolve:function g(E,L){return I(E,L)}}}T.__dashjs_factory_name="DefaultURLUtils",k.default=M.default.getSingletonFactory(T)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(I){I=I||{};var w,P=new DataView(I.data),R=0;function l(v,p){var y=!0,g=0;if(void 0===p&&(p=!1),v.tag>16777215?(P.getUint32(R)!==v.tag&&(y=!1),g=4):v.tag>65535?(256*P.getUint16(R)+P.getUint8(R+2)!==v.tag&&(y=!1),g=3):v.tag>255?(P.getUint16(R)!==v.tag&&(y=!1),g=2):(P.getUint8(R)!==v.tag&&(y=!1),g=1),!y&&v.required&&!p)throw new Error("required tag not found");return y&&(R+=g),y}function N(v){var p=1,y=128,A=-1,E=0,L=P.getUint8(R),K=0;for(K=0;K<8;K+=1){if((L&y)===y){E=void 0===v?L&~y:L,A=K;break}y>>=1}for(K=0;K<A;K+=1,p+=1)E=E<<8|255&P.getUint8(R+p);return R+=p,E}return w={getPos:function D(){return R},setPos:function c(v){R=v},consumeTag:l,consumeTagAndSize:function d(v,p){var y=l(v,p);return y&&N(),y},parseTag:function f(v){var p;return l(v),p=N(),w[v.parse](p)},skipOverElement:function _(v,p){var g,y=l(v,p);return y&&(g=N(),R+=g),y},getMatroskaCodedNum:N,getMatroskaFloat:function S(v){var p;switch(v){case 4:p=P.getFloat32(R),R+=4;break;case 8:p=P.getFloat64(R),R+=8}return p},getMatroskaUint:function O(v){for(var p=0,y=0;y<v;y+=1)p<<=8,p|=255&P.getUint8(R+y);return R+=v,p},moreData:function b(){return R<P.byteLength}}}T.__dashjs_factory_name="EBMLParser",k.default=M.default.getClassFactory(T)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function w(){var R=this.context,D=Object(M.default)(R).getInstance();return{error:function c(l){D.trigger(T.default.ERROR,{error:l})}}}w.__dashjs_factory_name="ErrorHandler",k.default=I.default.getSingletonFactory(w)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(){var I={};return{save:function w(c){var l=c.streamId,d=c.representationId;I[l]=I[l]||{},I[l][d]=c},extract:function P(c,l){return I&&I[c]&&I[c][l]?I[c][l]:null},reset:function R(){I={}}}}T.__dashjs_factory_name="InitCache",k.default=M.default.getSingletonFactory(T)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),T=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(){var P;function D(f){var _=[];if(!f||!P||"function"!=typeof P.fetchAll)return _;for(var S,N=P.fetchAll(f),O=0,b=N.length;O<b;O++)(S=d(N[O]))&&_.push(S);return _}function d(f){if(!f)return null;var _=new M.default(f);return f.hasOwnProperty("_incomplete")&&(_.isComplete=!f._incomplete),_}return{getBox:function R(f){return f&&P&&P.boxes&&0!==P.boxes.length&&"function"==typeof P.fetch?d(P.fetch(f)):null},getBoxes:D,setData:function c(f){P=f},getLastBox:function l(){if(!P||!P.boxes||!P.boxes.length)return null;var _=D(P.boxes[P.boxes.length-1].type);return _.length>0?_[_.length-1]:null}}}I.__dashjs_factory_name="IsoFile",k.default=T.default.getClassFactory(I)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),I=m.n(T);function w(){return{areEqual:function R(D,c){return I()(D,c)}}}w.__dashjs_factory_name="ObjectUtils",k.default=M.default.getSingletonFactory(w)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(Ie,k,m){"use strict";m.r(k),m.d(k,"modifyRequest",function(){return T});var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(w,P){var R={url:w.url,method:w.method,headers:Object.assign({},w.headers),credentials:w.withCredentials?"include":void 0};return Promise.resolve(P.modifyRequest(R)).then(function(){return Object.assign(w,R,{withCredentials:"include"===R.credentials})})}function I(){return{modifyRequest:null,modifyRequestURL:function P(D){return D},modifyRequestHeader:function R(D,c){return D}}}I.__dashjs_factory_name="RequestModifier",k.default=M.default.getSingletonFactory(I)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(Ie,k,m){"use strict";m.r(k),m.d(k,"checkParameterType",function(){return I}),m.d(k,"checkInteger",function(){return w}),m.d(k,"checkRange",function(){return P}),m.d(k,"checkIsVideoOrAudioType",function(){return R});var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function T(D){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(D)}function I(D,c){if(T(D)!==c)throw M.default.BAD_ARGUMENT_ERROR}function w(D){if(null===D||isNaN(D)||D%1!=0)throw M.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function P(D,c,l){if(D<c||D>l)throw M.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function R(D){if("string"!=typeof D||D!==M.default.AUDIO&&D!==M.default.VIDEO)throw M.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=m(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),w=m(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),P=m(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),D=m(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),c=m(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function l(){var _,N,d=this.context,f=Object(I.default)(d).getInstance(),S=0;function b(){var p="cue_TTML_"+S;return S++,p}return _={parse:function v(p,y,g,A,E){var ee,Z,le,L="",K=[],H={},W={},x="",Y="",G={onOpenTag:function(de,ae,pe){if(pe[" imagetype"]&&!pe[" imageType"]&&(f.trigger(D.default.CONFORMANCE_VIOLATION,{level:c.default.LEVELS.ERROR,event:c.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),pe[" imageType"]=pe[" imagetype"]),"image"===ae&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===de||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===de)){if(!pe[" imageType"]||"PNG"!==pe[" imageType"].value)return void N.warn("smpte-tt imageType != PNG. Discarded");x=pe["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){x&&(W[x]=Y.trim()),Y="",x=""},onText:function(de){x&&(Y+=de)}};if(!p)throw L="no ttml data to parse",new Error(L);H.data=p,f.trigger(w.default.TTML_TO_PARSE,H);var ie=Object(P.fromXML)(H.data,function(J){L=J},G);f.trigger(w.default.TTML_PARSED,{ttmlString:H.data,ttmlDoc:ie});var oe=ie.getMediaTimeEvents();for(le=0;le<oe.length;le++){var ye=Object(P.generateISD)(ie,oe[le],function(J){L=J});ye.contents.some(function(J){return J.contents.length})&&(ee=oe[le]+y<g?g:oe[le]+y)<(Z=oe[le+1]+y>A?A:oe[le+1]+y)&&K.push({start:ee,end:Z,type:"html",cueID:b(),isd:ye,images:E,embeddedImages:W})}if(""!==L)throw N.error(L),new Error(L);return K}},function O(){N=Object(T.default)(d).getInstance().getLogger(_)}(),_}l.__dashjs_factory_name="TTMLParser",k.default=M.default.getSingletonFactory(l)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function I(){var R,D=[],c=this.context;function _(L,K,ee){var Z=function l(L){var K;for(K=0;K<D.length;K++)if(D[K].regex.test(L))return D[K].utils;return R}(ee||K);return Z&&"function"==typeof Z[L]?Z[L](K,ee):R[L](K,ee)}return function d(){R=Object(T.default)(c).getInstance()}(),{registerUrlRegex:function f(L,K){D.push({regex:L,utils:K})},parseBaseUrl:function N(L){return _("parseBaseUrl",L)},parseOrigin:function S(L){return _("parseOrigin",L)},parseScheme:function b(L){return _("parseScheme",L)},isRelative:function v(L){return _("isRelative",L)},isPathAbsolute:function p(L){return _("isPathAbsolute",L)},isSchemeRelative:function y(L){return _("isSchemeRelative",L)},isHTTPURL:function g(L){return _("isHTTPURL",L)},isHTTPS:function A(L){return _("isHTTPS",L)},removeHostname:function O(L){return _("removeHostname",L)},resolve:function E(L,K){return _("resolve",L,K)}}}I.__dashjs_factory_name="URLUtils";var w=M.default.getSingletonFactory(I);k.default=w},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../core/Debug */
"./src/core/Debug.js");function w(){var R,D,c,l,d,f,P=this.context;function S(p){var y=p.split(":"),g=y.length-1;return p=60*parseInt(y[g-1],10)+parseFloat(y[g]),2===g&&(p+=3600*parseInt(y[0],10)),p}function O(p){var y=p.split(l),g=y[1].split(f);return g.shift(),y[1]=g[0],g.shift(),{cuePoints:y,styles:b(g)}}function b(p){var y={};return p.forEach(function(g){if(g.split(/:/).length>1){var A=g.split(/:/)[1];A&&-1!=A.search(/%/)&&(A=parseInt(A.replace(/%/,""),10)),(g.match(/align/)||g.match(/A/))&&(y.align=A),(g.match(/line/)||g.match(/L/))&&(y.line=A),(g.match(/position/)||g.match(/P/))&&(y.position=A),(g.match(/size/)||g.match(/S/))&&(y.size=A)}}),y}function v(p,y){for(var L,g=y,A="",E="";""!==p[g]&&g<p.length;)g++;if((L=g-y)>1)for(var K=0;K<L;K++){if((E=p[y+K]).match(l)){A="";break}A+=E,K!==L-1&&(A+="\n")}else(E=p[y]).match(l)||(A=E);return A}return R={parse:function N(p){var g,A,y=[];if(!p)return y;g=(p=p.split(c)).length,A=-1;for(var E=0;E<g;E++){var L=p[E];if(L.length>0&&"WEBVTT"!==L&&L.match(l)){var K=O(L),ee=K.cuePoints,Z=K.styles,le=v(p,E+1),H=S(ee[0].replace(d,"")),W=S(ee[1].replace(d,""));!isNaN(H)&&!isNaN(W)&&H>=A&&W>H?""!==le?(A=H,y.push({start:H,end:W,data:le,styles:Z})):D.error("Skipping cue due to empty/malformed cue text"):D.error("Skipping cue due to incorrect cue timing")}}return y}},function _(){D=Object(T.default)(P).getInstance().getLogger(R),c=/(?:\r\n|\r|\n)/gm,l=/-->/,d=/(^[\s]+|[\s]+$)/g,f=/\s\b/g}(),R}w.__dashjs_factory_name="VTTParser",k.default=M.default.getSingletonFactory(w)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(){var I,w;return I={parse:function R(D){var c=[];return w.oncue=function(l){l.start=l.startTime,l.end=l.endTime,l.data=l.text,l.styles={align:l.align,line:l.line,position:l.position,size:l.size},c.push(l)},w.parse(D),c}},function P(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(w=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),I}T.__dashjs_factory_name="VttCustomRenderingParser",k.default=M.default.getSingletonFactory(T)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(I){var P=(I=I||{}).blacklistController;return{select:function R(D){var l,c=0;return D&&D.some(function(d,f){return c=f,!P.contains(d.serviceLocation)})&&(l=D[c]),l}}}T.__dashjs_factory_name="BasicSelector",k.default=M.default.getClassFactory(T)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=m(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function I(){var P,R,D,w=this.context;function f(){for(var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],S=0,O=NaN,b=function(){var y=_[S],g=N.findIndex(function(A){return A.serviceLocation&&A.serviceLocation===y});if(-1!==g&&!D.contains(N[g].serviceLocation))return O=g,"break";S+=1};S<_.length&&"break"!==b(););return O}return P={selectBaseUrlIndex:function d(_){var N=NaN;if(isNaN(_.selectedIdx)){var S=R.getSteeringDataFromManifest();S&&S.defaultServiceLocation&&(N=f([S.defaultServiceLocation],_.baseUrls))}var O=R.getCurrentSteeringResponseData();return _.baseUrls&&_.baseUrls.length&&O&&O.serviceLocationPriority&&O.serviceLocationPriority.length&&(N=f(O.serviceLocationPriority,_.baseUrls)),N},setConfig:function l(_){_.blacklistController&&(D=_.blacklistController),_.contentSteeringController&&(R=_.contentSteeringController)}},function c(){R=Object(T.default)(w).getInstance()}(),P}I.__dashjs_factory_name="ContentSteeringSelector",k.default=M.default.getClassFactory(I)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(I){var P=(I=I||{}).blacklistController;return{select:function c(l){return l&&function D(l){var O,b,_=0,N=[],S=0;if((b=l.sort(function(p,y){var g=p.dvb_priority-y.dvb_priority;return isNaN(g)?0:g}).filter(function(p,y,g){return!y||g[0].dvb_priority&&p.dvb_priority&&g[0].dvb_priority===p.dvb_priority})).length)return b.length>1&&(b.forEach(function(v){N.push(_+=v.dvb_weight)}),O=Math.floor(Math.random()*(_-1)),N.every(function(v,p){return S=p,!(O<v)})),b[S]}(function R(l){var d=[];return l.filter(function(S){return!P.contains(S.serviceLocation)||(S.dvb_priority&&d.push(S.dvb_priority),!1)}).filter(function(S){return!(d.length&&S.dvb_priority&&-1!==d.indexOf(S.dvb_priority))})}(l))}}}T.__dashjs_factory_name="DVBSelector",k.default=M.default.getClassFactory(T)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d,f){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.code=l||null,this.message=d||null,this.data=f||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function w(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,R(_.key),_)}}function R(l){var d=function D(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}var c=function(){function l(d){(function I(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.action=l.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=d||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function P(l,d,f){return d&&w(l.prototype,d),f&&w(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===M.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(f){this.type=f&&f.init?M.HTTPRequest.INIT_SEGMENT_TYPE:M.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=f&&f.url?f.url:null,this.range=f&&f.range?f.range.start+"-"+f.range.end:null,this.mediaType=f&&f.mediaType?f.mediaType:null}}]),l}();c.ACTION_DOWNLOAD="download",c.ACTION_COMPLETE="complete",k.default=c},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function I(b,v){for(var p=0;p<v.length;p++){var y=v[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,P(y.key),y)}}function P(b){var v=function R(b,v){if("object"!==T(b)||null===b)return b;var p=b[Symbol.toPrimitive];if(void 0!==p){var y=p.call(b,v||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(b)}(b,"string");return"symbol"===T(v)?v:String(v)}function c(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&l(b,v)}function l(b,v){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y})(b,v)}function d(b){var v=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=S(b);if(v){var A=S(this).constructor;g=Reflect.construct(y,arguments,A)}else g=y.apply(this,arguments);return f(this,g)}}function f(b,v){if(v&&("object"===T(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}function S(b){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}k.default=function(b){c(p,b);var v=d(p);function p(y){var g;return function D(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p),(g=v.call(this,y)).checkForExistenceOnly=!0,g}return function w(b,v,p){return v&&I(b.prototype,v),p&&I(b,p),Object.defineProperty(b,"prototype",{writable:!1}),b}(p)}(M.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=function(){function c(l){if(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c),this.offset=l._offset,this.type=l.type,this.size=l.size,this.boxes=[],l.boxes)for(var d=0;d<l.boxes.length;d++)this.boxes.push(new c(l.boxes[d]));switch(this.isComplete=!0,l.type){case"sidx":if(this.timescale=l.timescale,this.earliest_presentation_time=l.earliest_presentation_time,this.first_offset=l.first_offset,this.references=l.references,l.references){this.references=[];for(var f=0;f<l.references.length;f++)this.references.push({reference_type:l.references[f].reference_type,referenced_size:l.references[f].referenced_size,subsegment_duration:l.references[f].subsegment_duration})}break;case"emsg":this.id=l.id,this.version=1===l.version?1:0,this.value=l.value,this.timescale=l.timescale,this.scheme_id_uri=l.scheme_id_uri,this.presentation_time_delta=1===l.version?l.presentation_time:l.presentation_time_delta,this.event_duration=l.event_duration,this.message_data=l.message_data;break;case"mdhd":this.timescale=l.timescale;break;case"mfhd":this.sequence_number=l.sequence_number;break;case"subs":this.entry_count=l.entry_count,this.entries=l.entries;break;case"tfhd":this.base_data_offset=l.base_data_offset,this.sample_description_index=l.sample_description_index,this.default_sample_duration=l.default_sample_duration,this.default_sample_size=l.default_sample_size,this.default_sample_flags=l.default_sample_flags,this.flags=l.flags;break;case"tfdt":this.version=l.version,this.baseMediaDecodeTime=l.baseMediaDecodeTime,this.flags=l.flags;break;case"trun":if(this.sample_count=l.sample_count,this.first_sample_flags=l.first_sample_flags,this.data_offset=l.data_offset,this.flags=l.flags,this.samples=l.samples,l.samples){this.samples=[];for(var N=0,S=l.samples.length;N<S;N++)this.samples.push({sample_size:l.samples[N].sample_size,sample_duration:l.samples[N].sample_duration,sample_composition_time_offset:l.samples[N].sample_composition_time_offset})}}}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"getChildBox",value:function(d){for(var f=0;f<this.boxes.length;f++)if(this.boxes[f].type===d)return this.boxes[f]}},{key:"getChildBoxes",value:function(d){for(var f=[],_=0;_<this.boxes.length;_++)this.boxes[_].type===d&&f.push(this.boxes[_]);return f}}]),c}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(l,d,f){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.lastCompletedOffset=l,this.found=d,this.size=f})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=m(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function I(v){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function w(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,R(g.key),g)}}function R(v){var p=function D(v,p){if("object"!==I(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==I(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===I(p)?p:String(p)}function l(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&d(v,p)}function d(v,p){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=O(v);if(p){var E=O(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return _(this,A)}}function _(v,p){if(p&&("object"===I(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function N(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function O(v){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}k.default=function(v){l(y,v);var p=f(y);function y(g,A){var E;return function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(E=p.call(this)).url=g||null,E.type=A||null,E.mediaType=M.default.STREAM,E.responseType="",E}return function P(v,p,y){return p&&w(v.prototype,p),y&&w(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(T.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function I(b,v){for(var p=0;p<v.length;p++){var y=v[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,P(y.key),y)}}function P(b){var v=function R(b,v){if("object"!==T(b)||null===b)return b;var p=b[Symbol.toPrimitive];if(void 0!==p){var y=p.call(b,v||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(b)}(b,"string");return"symbol"===T(v)?v:String(v)}function c(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&l(b,v)}function l(b,v){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y})(b,v)}function d(b){var v=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=S(b);if(v){var A=S(this).constructor;g=Reflect.construct(y,arguments,A)}else g=y.apply(this,arguments);return f(this,g)}}function f(b,v){if(v&&("object"===T(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}function S(b){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}k.default=function(b){c(p,b);var v=d(p);function p(){var y;return function D(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p),(y=v.call(this)).captionData=null,y.label=null,y.defaultTrack=!1,y.kind=null,y.isFragmented=!1,y.isEmbedded=!1,y.isTTML=null,y}return function w(b,v,p){return v&&I(b.prototype,v),p&&I(b,p),Object.defineProperty(b,"prototype",{writable:!1}),b}(p)}(M.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";m.r(k);var M=m(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function P(l){var d=function R(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}k.default=w(function l(){(function D(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.target=null,this.state=M.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(Ie,k,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function T(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,w(_.key),_)}}function I(l,d,f){return d&&T(l.prototype,d),f&&T(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function w(l){var d=function P(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}function R(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}m.r(k),m.d(k,"HTTPRequest",function(){return D}),m.d(k,"HTTPRequestTrace",function(){return c});var D=I(function l(){R(this,l),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),c=I(function l(){R(this,l),this.s=null,this.d=null,this.b=[]});D.GET="GET",D.HEAD="HEAD",D.MPD_TYPE="MPD",D.XLINK_EXPANSION_TYPE="XLinkExpansion",D.INIT_SEGMENT_TYPE="InitializationSegment",D.INDEX_SEGMENT_TYPE="IndexSegment",D.MEDIA_SEGMENT_TYPE="MediaSegment",D.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",D.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",D.DVB_REPORTING_TYPE="DVBReporting",D.LICENSE="license",D.CONTENT_STEERING_TYPE="ContentSteering",D.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(Ie,k,m){"use strict";function M(d){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function T(d,f){for(var _=0;_<f.length;_++){var N=f[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(d,w(N.key),N)}}function I(d,f,_){return f&&T(d.prototype,f),_&&T(d,_),Object.defineProperty(d,"prototype",{writable:!1}),d}function w(d){var f=function P(d,f){if("object"!==M(d)||null===d)return d;var _=d[Symbol.toPrimitive];if(void 0!==_){var N=_.call(d,f||"default");if("object"!==M(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(d)}(d,"string");return"symbol"===M(f)?f:String(f)}function R(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}m.r(k),m.d(k,"ManifestUpdate",function(){return D}),m.d(k,"ManifestUpdateStreamInfo",function(){return c}),m.d(k,"ManifestUpdateRepresentationInfo",function(){return l});var D=I(function d(){R(this,d),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),c=I(function d(){R(this,d),this.id=null,this.index=null,this.start=null,this.duration=null}),l=I(function d(){R(this,d),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(Ie,k,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function T(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,w(_.key),_)}}function I(l,d,f){return d&&T(l.prototype,d),f&&T(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function w(l){var d=function P(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}function R(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}m.r(k),m.d(k,"PlayList",function(){return D}),m.d(k,"PlayListTrace",function(){return c});var D=I(function l(){R(this,l),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});D.INITIAL_PLAYOUT_START_REASON="initial_playout",D.SEEK_START_REASON="seek",D.RESUME_FROM_PAUSE_START_REASON="resume",D.METRICS_COLLECTION_START_REASON="metrics_collection_start";var c=I(function l(){R(this,l),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});c.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",c.REBUFFERING_REASON="rebuffering",c.USER_REQUEST_STOP_REASON="user_request",c.END_OF_PERIOD_STOP_REASON="end_of_period",c.END_OF_CONTENT_STOP_REASON="end_of_content",c.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",c.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ie,k,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(k),k.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Ie,k){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Ie,k){}}).default},37:()=>{var Na,Ie;Ie=Na||(Na={}),function(k){var m="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),M=T(Ie);function T(I,w){return function(P,R){"function"!=typeof I[P]&&Object.defineProperty(I,P,{configurable:!0,writable:!0,value:R}),w&&w(P,R)}}typeof m.Reflect>"u"?m.Reflect=Ie:M=T(m.Reflect,M),function(k){var m=Object.prototype.hasOwnProperty,M="function"==typeof Symbol,T=M&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",I=M&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",w="function"==typeof Object.create,P={__proto__:[]}instanceof Array,R=!w&&!P,D={create:w?function(){return j(Object.create(null))}:P?function(){return j({__proto__:null})}:function(){return j({})},has:R?function($,ce){return m.call($,ce)}:function($,ce){return ce in $},get:R?function($,ce){return m.call($,ce)?$[ce]:void 0}:function($,ce){return $[ce]}},c=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Ee(){var $={},ce=[],ue=function(){function we(je,Ce,Oe){this._index=0,this._keys=je,this._values=Ce,this._selector=Oe}return we.prototype["@@iterator"]=function(){return this},we.prototype[I]=function(){return this},we.prototype.next=function(){var je=this._index;if(je>=0&&je<this._keys.length){var Ce=this._selector(this._keys[je],this._values[je]);return je+1>=this._keys.length?(this._index=-1,this._keys=ce,this._values=ce):this._index++,{value:Ce,done:!1}}return{value:void 0,done:!0}},we.prototype.throw=function(je){throw this._index>=0&&(this._index=-1,this._keys=ce,this._values=ce),je},we.prototype.return=function(je){return this._index>=0&&(this._index=-1,this._keys=ce,this._values=ce),{value:je,done:!0}},we}();return function(){function we(){this._keys=[],this._values=[],this._cacheKey=$,this._cacheIndex=-2}return Object.defineProperty(we.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),we.prototype.has=function(je){return this._find(je,!1)>=0},we.prototype.get=function(je){var Ce=this._find(je,!1);return Ce>=0?this._values[Ce]:void 0},we.prototype.set=function(je,Ce){var Oe=this._find(je,!0);return this._values[Oe]=Ce,this},we.prototype.delete=function(je){var Ce=this._find(je,!1);if(Ce>=0){for(var Oe=this._keys.length,ze=Ce+1;ze<Oe;ze++)this._keys[ze-1]=this._keys[ze],this._values[ze-1]=this._values[ze];return this._keys.length--,this._values.length--,je===this._cacheKey&&(this._cacheKey=$,this._cacheIndex=-2),!0}return!1},we.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=$,this._cacheIndex=-2},we.prototype.keys=function(){return new ue(this._keys,this._values,be)},we.prototype.values=function(){return new ue(this._keys,this._values,Re)},we.prototype.entries=function(){return new ue(this._keys,this._values,Pe)},we.prototype["@@iterator"]=function(){return this.entries()},we.prototype[I]=function(){return this.entries()},we.prototype._find=function(je,Ce){return this._cacheKey!==je&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=je)),this._cacheIndex<0&&Ce&&(this._cacheIndex=this._keys.length,this._keys.push(je),this._values.push(void 0)),this._cacheIndex},we}();function be(we,je){return we}function Re(we,je){return je}function Pe(we,je){return[we,je]}}():Map,f=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function q(){return function(){function $(){this._map=new d}return Object.defineProperty($.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),$.prototype.has=function(ce){return this._map.has(ce)},$.prototype.add=function(ce){return this._map.set(ce,ce),this},$.prototype.delete=function(ce){return this._map.delete(ce)},$.prototype.clear=function(){this._map.clear()},$.prototype.keys=function(){return this._map.keys()},$.prototype.values=function(){return this._map.values()},$.prototype.entries=function(){return this._map.entries()},$.prototype["@@iterator"]=function(){return this.keys()},$.prototype[I]=function(){return this.keys()},$}()}():Set,N=new(l||"function"!=typeof WeakMap?function z(){var ce=D.create(),ue=be();return function(){function Ce(){this._key=be()}return Ce.prototype.has=function(Oe){var ze=Re(Oe,!1);return void 0!==ze&&D.has(ze,this._key)},Ce.prototype.get=function(Oe){var ze=Re(Oe,!1);return void 0!==ze?D.get(ze,this._key):void 0},Ce.prototype.set=function(Oe,ze){return Re(Oe,!0)[this._key]=ze,this},Ce.prototype.delete=function(Oe){var ze=Re(Oe,!1);return void 0!==ze&&delete ze[this._key]},Ce.prototype.clear=function(){this._key=be()},Ce}();function be(){var Ce;do{Ce="@@WeakMap@@"+je()}while(D.has(ce,Ce));return ce[Ce]=!0,Ce}function Re(Ce,Oe){if(!m.call(Ce,ue)){if(!Oe)return;Object.defineProperty(Ce,ue,{value:D.create()})}return Ce[ue]}function Pe(Ce,Oe){for(var ze=0;ze<Oe;++ze)Ce[ze]=255*Math.random()|0;return Ce}function je(){var Ce=function we(Ce){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(Ce)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(Ce)):Pe(new Uint8Array(Ce),Ce):Pe(new Array(Ce),Ce)}(16);Ce[6]=79&Ce[6]|64,Ce[8]=191&Ce[8]|128;for(var Oe="",ze=0;ze<16;++ze){var Le=Ce[ze];(4===ze||6===ze||8===ze)&&(Oe+="-"),Le<16&&(Oe+="0"),Oe+=Le.toString(16).toLowerCase()}return Oe}}():WeakMap);function Z($,ce,ue){var be=N.get($);if(ye(be)){if(!ue)return;be=new d,N.set($,be)}var Re=be.get(ce);if(ye(Re)){if(!ue)return;Re=new d,be.set(ce,Re)}return Re}function le($,ce,ue){if(H($,ce,ue))return!0;var Re=me(ce);return!J(Re)&&le($,Re,ue)}function H($,ce,ue){var be=Z(ce,ue,!1);return!ye(be)&&function fe($){return!!$}(be.has($))}function W($,ce,ue){if(H($,ce,ue))return x($,ce,ue);var Re=me(ce);return J(Re)?void 0:W($,Re,ue)}function x($,ce,ue){var be=Z(ce,ue,!1);if(!ye(be))return be.get($)}function Y($,ce,ue,be){Z(ue,be,!0).set($,ce)}function G($,ce){var ue=ie($,ce),be=me($);if(null===be)return ue;var Re=G(be,ce);if(Re.length<=0)return ue;if(ue.length<=0)return Re;for(var Pe=new f,we=[],je=0,Ce=ue;je<Ce.length;je++)Pe.has(Oe=Ce[je])||(Pe.add(Oe),we.push(Oe));for(var Le=0,Ye=Re;Le<Ye.length;Le++){var Oe;Pe.has(Oe=Ye[Le])||(Pe.add(Oe),we.push(Oe))}return we}function ie($,ce){var ue=[],be=Z($,ce,!1);if(ye(be))return ue;for(var Pe=function V($){var ce=F($,I);if(!_e(ce))throw new TypeError;var ue=ce.call($);if(!ae(ue))throw new TypeError;return ue}(be.keys()),we=0;;){var je=U(Pe);if(!je)return ue.length=we,ue;var Ce=re(je);try{ue[we]=Ce}catch(Oe){try{te(Pe)}finally{throw Oe}}we++}}function oe($){if(null===$)return 1;switch(typeof $){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===$?1:6;default:return 6}}function ye($){return void 0===$}function J($){return null===$}function ae($){return"object"==typeof $?null!==$:"function"==typeof $}function pe($,ce){switch(oe($)){case 0:case 1:case 2:case 3:case 4:case 5:return $}var ue=3===ce?"string":5===ce?"number":"default",be=F($,T);if(void 0!==be){var Re=be.call($,ue);if(ae(Re))throw new TypeError;return Re}return function he($,ce){if("string"===ce){var ue=$.toString;if(_e(ue)&&!ae(be=ue.call($)))return be;if(_e(Re=$.valueOf)&&!ae(be=Re.call($)))return be}else{var Re;if(_e(Re=$.valueOf)&&!ae(be=Re.call($)))return be;var be,Pe=$.toString;if(_e(Pe)&&!ae(be=Pe.call($)))return be}throw new TypeError}($,"default"===ue?"number":ue)}function se($){var ce=pe($,3);return function de($){return"symbol"==typeof $}(ce)?ce:function ve($){return""+$}(ce)}function Se($){return Array.isArray?Array.isArray($):$ instanceof Object?$ instanceof Array:"[object Array]"===Object.prototype.toString.call($)}function _e($){return"function"==typeof $}function ne($){return"function"==typeof $}function F($,ce){var ue=$[ce];if(null!=ue){if(!_e(ue))throw new TypeError;return ue}}function re($){return $.value}function U($){var ce=$.next();return!ce.done&&ce}function te($){var ce=$.return;ce&&ce.call($)}function me($){var ce=Object.getPrototypeOf($);if("function"!=typeof $||$===c||ce!==c)return ce;var ue=$.prototype,be=ue&&Object.getPrototypeOf(ue);if(null==be||be===Object.prototype)return ce;var Re=be.constructor;return"function"!=typeof Re||Re===$?ce:Re}function j($){return $.__=void 0,delete $.__,$}k("decorate",function S($,ce,ue,be){if(ye(ue)){if(!Se($))throw new TypeError;if(!ne(ce))throw new TypeError;return function K($,ce){for(var ue=$.length-1;ue>=0;--ue){var Re=(0,$[ue])(ce);if(!ye(Re)&&!J(Re)){if(!ne(Re))throw new TypeError;ce=Re}}return ce}($,ce)}if(!Se($))throw new TypeError;if(!ae(ce))throw new TypeError;if(!ae(be)&&!ye(be)&&!J(be))throw new TypeError;return J(be)&&(be=void 0),function ee($,ce,ue,be){for(var Re=$.length-1;Re>=0;--Re){var we=(0,$[Re])(ce,ue,be);if(!ye(we)&&!J(we)){if(!ae(we))throw new TypeError;be=we}}return be}($,ce,ue=se(ue),be)}),k("metadata",function O($,ce){return function ue(be,Re){if(!ae(be))throw new TypeError;if(!ye(Re)&&!function X($){switch(oe($)){case 3:case 4:return!0;default:return!1}}(Re))throw new TypeError;Y($,ce,be,Re)}}),k("defineMetadata",function b($,ce,ue,be){if(!ae(ue))throw new TypeError;return ye(be)||(be=se(be)),Y($,ce,ue,be)}),k("hasMetadata",function v($,ce,ue){if(!ae(ce))throw new TypeError;return ye(ue)||(ue=se(ue)),le($,ce,ue)}),k("hasOwnMetadata",function p($,ce,ue){if(!ae(ce))throw new TypeError;return ye(ue)||(ue=se(ue)),H($,ce,ue)}),k("getMetadata",function y($,ce,ue){if(!ae(ce))throw new TypeError;return ye(ue)||(ue=se(ue)),W($,ce,ue)}),k("getOwnMetadata",function g($,ce,ue){if(!ae(ce))throw new TypeError;return ye(ue)||(ue=se(ue)),x($,ce,ue)}),k("getMetadataKeys",function A($,ce){if(!ae($))throw new TypeError;return ye(ce)||(ce=se(ce)),G($,ce)}),k("getOwnMetadataKeys",function E($,ce){if(!ae($))throw new TypeError;return ye(ce)||(ce=se(ce)),ie($,ce)}),k("deleteMetadata",function L($,ce,ue){if(!ae(ce))throw new TypeError;ye(ue)||(ue=se(ue));var be=Z(ce,ue,!1);if(ye(be)||!be.delete($))return!1;if(be.size>0)return!0;var Re=N.get(ce);return Re.delete(ue),Re.size>0||N.delete(ce),!0})}(M)}()}},Na=>{Na(Na.s=629)}]);