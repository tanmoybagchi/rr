(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{83:($a,Wa,Oi)=>{"use strict";function Kn(t){return"function"==typeof t}function ns(t){const r=t(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const At=ns(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Ze(t,e){if(t){const r=t.indexOf(e);0<=r&&t.splice(r,1)}}class F{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const o of r)o.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(Kn(n))try{n()}catch(o){e=o instanceof At?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{f(o)}catch(l){e=e??[],l instanceof At?e=[...e,...l.errors]:e.push(l)}}if(e)throw new At(e)}}add(e){var r;if(e&&e!==this)if(this.closed)f(e);else{if(e instanceof F){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}_hasParent(e){const{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){const{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&Ze(r,e)}remove(e){const{_finalizers:r}=this;r&&Ze(r,e),e instanceof F&&e._removeParent(this)}}F.EMPTY=(()=>{const t=new F;return t.closed=!0,t})();const ye=F.EMPTY;function P(t){return t instanceof F||t&&"closed"in t&&Kn(t.remove)&&Kn(t.add)&&Kn(t.unsubscribe)}function f(t){Kn(t)?t():t.unsubscribe()}const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},O={setTimeout(t,e,...r){const{delegate:n}=O;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){const{delegate:e}=O;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function S(t){O.setTimeout(()=>{const{onUnhandledError:e}=h;if(!e)throw t;e(t)})}function g(){}const C=y("C",void 0,void 0);function y(t,e,r){return{kind:t,value:e,error:r}}let w=null;function q(t){if(h.useDeprecatedSynchronousErrorHandling){const e=!w;if(e&&(w={errorThrown:!1,error:null}),t(),e){const{errorThrown:r,error:n}=w;if(w=null,r)throw n}}else t()}class ne extends F{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,P(e)&&e.add(this)):this.destination=qe}static create(e,r,n){return new k(e,r,n)}next(e){this.isStopped?ce(function p(t){return y("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ce(function M(t){return y("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ce(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const J=Function.prototype.bind;function se(t,e){return J.call(t,e)}class H{constructor(e){this.partialObserver=e}next(e){const{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){K(n)}}error(e){const{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){K(n)}else K(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){K(r)}}}class k extends ne{constructor(e,r,n){let i;if(super(),Kn(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&h.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&se(e.next,o),error:e.error&&se(e.error,o),complete:e.complete&&se(e.complete,o)}):i=e}this.destination=new H(i)}}function K(t){h.useDeprecatedSynchronousErrorHandling?function W(t){h.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=t)}(t):S(t)}function ce(t,e){const{onStoppedNotification:r}=h;r&&O.setTimeout(()=>r(t,e))}const qe={closed:!0,next:g,error:function de(t){throw t},complete:g},ot="function"==typeof Symbol&&Symbol.observable||"@@observable";function pe(t){return t}function He(t){return 0===t.length?pe:1===t.length?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}let $e=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){const o=function rt(t){return t&&t instanceof ne||function je(t){return t&&Kn(t.next)&&Kn(t.error)&&Kn(t.complete)}(t)&&P(t)}(r)?r:new k(r,n,i);return q(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Ne(n))((i,o)=>{const l=new k({next:c=>{try{r(c)}catch(u){o(u),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[ot](){return this}pipe(...r){return He(r)(this)}toPromise(r){return new(r=Ne(r))((n,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>n(o))})}}return t.create=e=>new t(e),t})();function Ne(t){var e;return null!==(e=t??h.Promise)&&void 0!==e?e:Promise}const Rt=ns(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ut=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new ke(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Rt}next(r){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){q(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:i,observers:o}=this;return n||i?ye:(this.currentObservers=null,o.push(r),new F(()=>{this.currentObservers=null,Ze(o,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){const r=new $e;return r.source=this,r}}return t.create=(e,r)=>new ke(e,r),t})();class ke extends ut{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,e)}error(e){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,e)}complete(){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===r||r.call(e)}_subscribe(e){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(e))&&void 0!==n?n:ye}}class ht extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){const{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}}function kt(t){return Kn(t?.lift)}function We(t){return e=>{if(kt(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(t,e,r,n,i){return new Ce(t,e,r,n,i)}class Ce extends ne{constructor(e,r,n,i,o,l){super(e),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=r?function(c){try{r(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return We((r,n)=>{let i=0;r.subscribe(dt(n,o=>{n.next(t.call(e,o,i++))}))})}function Cn(t){return this instanceof Cn?(this.v=t,this):new Cn(t)}function jn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Qe(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(l){return new Promise(function(c,u){!function i(o,l,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},l)}(c,u,(l=t[o](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Zt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ut(t){return Kn(t?.then)}function Vt(t){return Kn(t[ot])}function lt(t){return Symbol.asyncIterator&&Kn(t?.[Symbol.asyncIterator])}function Nt(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xt=function vt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function en(t){return Kn(t?.[xt])}function nn(t){return function vn(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(t,e||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(he){n[he]&&(i[he]=function(we){return new Promise(function(Pe,Ue){o.push([he,we,Pe,Ue])>1||c(he,we)})})}function c(he,we){try{!function u(he){he.value instanceof Cn?Promise.resolve(he.value.v).then(d,T):B(o[0][2],he)}(n[he](we))}catch(Pe){B(o[0][3],Pe)}}function d(he){c("next",he)}function T(he){c("throw",he)}function B(he,we){he(we),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const r=t.getReader();try{for(;;){const{value:n,done:i}=yield Cn(r.read());if(i)return yield Cn(void 0);yield yield Cn(n)}}finally{r.releaseLock()}})}function bn(t){return Kn(t?.getReader)}function hn(t){if(t instanceof $e)return t;if(null!=t){if(Vt(t))return function an(t){return new $e(e=>{const r=t[ot]();if(Kn(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Zt(t))return function Bt(t){return new $e(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}(t);if(Ut(t))return function mn(t){return new $e(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,S)})}(t);if(lt(t))return Bn(t);if(en(t))return function pn(t){return new $e(e=>{for(const r of t)if(e.next(r),e.closed)return;e.complete()})}(t);if(bn(t))return function ir(t){return Bn(nn(t))}(t)}throw Nt(t)}function Bn(t){return new $e(e=>{(function kr(t,e){var r,n,i,o;return function tt(t,e,r,n){return new(r||(r=Promise))(function(o,l){function c(T){try{d(n.next(T))}catch(B){l(B)}}function u(T){try{d(n.throw(T))}catch(B){l(B)}}function d(T){T.done?o(T.value):function i(o){return o instanceof r?o:new r(function(l){l(o)})}(T.value).then(c,u)}d((n=n.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(r=jn(t);!(n=yield r.next()).done;)if(e.next(n.value),e.closed)return}catch(l){i={error:l}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(r=>e.error(r))})}function Rn(t,e,r,n=0,i=!1){const o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Lt(t,e,r=1/0){return Kn(e)?Lt((n,i)=>_e((o,l)=>e(n,o,i,l))(hn(t(n,i))),r):("number"==typeof e&&(r=e),We((n,i)=>function qt(t,e,r,n,i,o,l,c){const u=[];let d=0,T=0,B=!1;const he=()=>{B&&!u.length&&!d&&e.complete()},we=Ue=>d<n?Pe(Ue):u.push(Ue),Pe=Ue=>{o&&e.next(Ue),d++;let Et=!1;hn(r(Ue,T++)).subscribe(dt(e,Dt=>{i?.(Dt),o?we(Dt):e.next(Dt)},()=>{Et=!0},void 0,()=>{if(Et)try{for(d--;u.length&&d<n;){const Dt=u.shift();l?Rn(e,l,()=>Pe(Dt)):Pe(Dt)}he()}catch(Dt){e.error(Dt)}}))};return t.subscribe(dt(e,we,()=>{B=!0,he()})),()=>{c?.()}}(n,i,t,r)))}function rn(t=1/0){return Lt(pe,t)}const Pn=new $e(t=>t.complete());function xr(t){return t&&Kn(t.schedule)}function Di(t){return t[t.length-1]}function Ci(t){return Kn(Di(t))?t.pop():void 0}function Ur(t){return xr(Di(t))?t.pop():void 0}function ai(t,e=0){return We((r,n)=>{r.subscribe(dt(n,i=>Rn(n,t,()=>n.next(i),e),()=>Rn(n,t,()=>n.complete(),e),i=>Rn(n,t,()=>n.error(i),e)))})}function Bi(t,e=0){return We((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function Pl(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(r=>{Rn(r,e,()=>{const n=t[Symbol.asyncIterator]();Rn(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function xi(t,e){return e?function kl(t,e){if(null!=t){if(Vt(t))return function Sa(t,e){return hn(t).pipe(Bi(e),ai(e))}(t,e);if(Zt(t))return function Zo(t,e){return new $e(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}(t,e);if(Ut(t))return function ta(t,e){return hn(t).pipe(Bi(e),ai(e))}(t,e);if(lt(t))return Pl(t,e);if(en(t))return function no(t,e){return new $e(r=>{let n;return Rn(r,e,()=>{n=t[xt](),Rn(r,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(l){return void r.error(l)}o?r.complete():r.next(i)},0,!0)}),()=>Kn(n?.return)&&n.return()})}(t,e);if(bn(t))return function Vc(t,e){return Pl(nn(t),e)}(t,e)}throw Nt(t)}(t,e):hn(t)}function Ao(...t){const e=Ur(t),r=function yi(t,e){return"number"==typeof Di(t)?t.pop():e}(t,1/0),n=t;return n.length?1===n.length?hn(n[0]):rn(r)(xi(n,e)):Pn}function Jn(...t){return xi(t,Ur(t))}function Xt(t={}){const{connector:e=(()=>new ut),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return o=>{let l,c,u,d=0,T=!1,B=!1;const he=()=>{c?.unsubscribe(),c=void 0},we=()=>{he(),l=u=void 0,T=B=!1},Pe=()=>{const Ue=l;we(),Ue?.unsubscribe()};return We((Ue,Et)=>{d++,!B&&!T&&he();const Dt=u=u??e();Et.add(()=>{d--,0===d&&!B&&!T&&(c=On(Pe,i))}),Dt.subscribe(Et),!l&&d>0&&(l=new k({next:wt=>Dt.next(wt),error:wt=>{B=!0,he(),c=On(we,r,wt),Dt.error(wt)},complete:()=>{T=!0,he(),c=On(we,n),Dt.complete()}}),hn(Ue).subscribe(l))})(o)}}function On(t,e,...r){if(!0===e)return void t();if(!1===e)return;const n=new k({next:()=>{n.unsubscribe(),t()}});return hn(e(...r)).subscribe(n)}function Wn(t,e){return We((r,n)=>{let i=null,o=0,l=!1;const c=()=>l&&!i&&n.complete();r.subscribe(dt(n,u=>{i?.unsubscribe();let d=0;const T=o++;hn(t(u,T)).subscribe(i=dt(n,B=>n.next(e?e(u,B,T,d++):B),()=>{i=null,c()}))},()=>{l=!0,c()}))})}function di(t,e=pe){return t=t??ei,We((r,n)=>{let i,o=!0;r.subscribe(dt(n,l=>{const c=e(l);(o||!t(i,c))&&(o=!1,i=c,n.next(l))}))})}function ei(t,e){return t===e}function or(t){for(let e in t)if(t[e]===or)return e;throw Error("Could not find renamed property on target object.")}function Lr(t,e){for(const r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Rr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Rr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const r=e.indexOf("\n");return-1===r?e:e.substring(0,r)}function fi(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Gr=or({__forward_ref__:or});function Ar(t){return t.__forward_ref__=Ar,t.toString=function(){return Rr(this())},t}function Un(t){return rs(t)?t():t}function rs(t){return"function"==typeof t&&t.hasOwnProperty(Gr)&&t.__forward_ref__===Ar}function ho(t){return t&&!!t.\u0275providers}const ys="https://g.co/ng/security#xss";class zt extends Error{constructor(e,r){super(function bs(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,r)),this.code=e}}function sr(t){return"string"==typeof t?t:null==t?"":String(t)}function Aa(t,e){throw new zt(-201,!1)}function Ai(t,e){null==t&&function tr(t,e,r,n){throw new Error(`ASSERTION ERROR: ${t}`+(null==n?"":` [Expected=> ${r} ${n} ${e} <=Actual]`))}(e,t,null,"!=")}function gn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Xa(t){return vd(t,Ll)||vd(t,Nh)}function vd(t,e){return t.hasOwnProperty(e)?t[e]:null}function Zc(t){return t&&(t.hasOwnProperty(yd)||t.hasOwnProperty(Oh))?t[yd]:null}const Ll=or({\u0275prov:or}),yd=or({\u0275inj:or}),Nh=or({ngInjectableDef:or}),Oh=or({ngInjectorDef:or});var wr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(wr||{});let zc;function Ph(){return zc}function vo(t){const e=zc;return zc=t,e}function Fl(t,e,r){const n=Xa(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&wr.Optional?null:void 0!==e?e:void Aa(Rr(t))}const qr=globalThis,Bl={},qc="__NG_DI_FLAG__",Yc="ngTempTokenPath",Sd=/\n/gm,Ul="__source";let xa;function ra(t){const e=xa;return xa=t,e}function Fh(t,e=wr.Default){if(void 0===xa)throw new zt(-203,!1);return null===xa?Fl(t,void 0,e):xa.get(t,e&wr.Optional?null:void 0,e)}function Wt(t,e=wr.Default){return(Ph()||Fh)(Un(t),e)}function $t(t,e=wr.Default){return Wt(t,ia(e))}function ia(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $c(t){const e=[];for(let r=0;r<t.length;r++){const n=Un(t[r]);if(Array.isArray(n)){if(0===n.length)throw new zt(900,!1);let i,o=wr.Default;for(let l=0;l<n.length;l++){const c=n[l],u=o_(c);"number"==typeof u?-1===u?i=c.token:o|=u:i=c}e.push(Wt(i,o))}else e.push(Wt(n))}return e}function Vl(t,e){return t[qc]=e,t.prototype[qc]=e,t}function o_(t){return t[qc]}function Ir(t){return{toString:t}.toString()}var Ja=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ja||{}),zo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zo||{});const Io={},Vr=[],el=or({\u0275cmp:or}),Hl=or({\u0275dir:or}),Id=or({\u0275pipe:or}),Zl=or({\u0275mod:or}),ws=or({\u0275fac:or}),zl=or({__NG_ELEMENT_ID__:or}),Wc=or({__NG_ENV_ID__:or});function Kc(t,e,r){let n=t.length;for(;;){const i=t.indexOf(e,r);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}r=i+1}}function Dd(t,e,r){let n=0;for(;n<r.length;){const i=r[n];if("number"==typeof i){if(0!==i)break;n++;const o=r[n++],l=r[n++],c=r[n++];t.setAttribute(e,l,c,o)}else{const o=i,l=r[++n];xd(o)?t.setProperty(e,o,l):t.setAttribute(e,o,l),n++}}return n}function Gl(t){return 3===t||4===t||6===t}function xd(t){return 64===t.charCodeAt(0)}function ql(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){const i=e[n];"number"==typeof i?r=i:0===r||Xc(t,r,i,null,-1===r||2===r?e[++n]:null)}}return t}function Xc(t,e,r,n,i){let o=0,l=t.length;if(-1===e)l=-1;else for(;o<t.length;){const c=t[o++];if("number"==typeof c){if(c===e){l=-1;break}if(c>e){l=o-1;break}}}for(;o<t.length;){const c=t[o];if("number"==typeof c)break;if(c===r){if(null===n)return void(null!==i&&(t[o+1]=i));if(n===t[o+1])return void(t[o+2]=i)}o++,null!==n&&o++,null!==i&&o++}-1!==l&&(t.splice(l,0,e),o=l+1),t.splice(o++,0,r),null!==n&&t.splice(o++,0,n),null!==i&&t.splice(o++,0,i)}const Qc="ng-template";function s_(t,e,r){let n=0,i=!0;for(;n<t.length;){let o=t[n++];if("string"==typeof o&&i){const l=t[n++];if(r&&"class"===o&&-1!==Kc(l.toLowerCase(),e,0))return!0}else{if(1===o){for(;n<t.length&&"string"==typeof(o=t[n++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Yl(t){return 4===t.type&&t.value!==Qc}function a_(t,e,r){return e===(4!==t.type||r?t.value:Qc)}function l_(t,e,r){let n=4;const i=t.attrs||[],o=function eu(t){for(let e=0;e<t.length;e++)if(Gl(t[e]))return e;return t.length}(i);let l=!1;for(let c=0;c<e.length;c++){const u=e[c];if("number"!=typeof u){if(!l)if(4&n){if(n=2|1&n,""!==u&&!a_(t,u,r)||""===u&&1===e.length){if(Do(n))return!1;l=!0}}else{const d=8&n?u:e[++c];if(8&n&&null!==t.attrs){if(!s_(t.attrs,d,r)){if(Do(n))return!1;l=!0}continue}const B=$l(8&n?"class":u,i,Yl(t),r);if(-1===B){if(Do(n))return!1;l=!0;continue}if(""!==d){let he;he=B>o?"":i[B+1].toLowerCase();const we=8&n?he:null;if(we&&-1!==Kc(we,d,0)||2&n&&d!==he){if(Do(n))return!1;l=!0}}}}else{if(!l&&!Do(n)&&!Do(u))return!1;if(l&&Do(u))continue;l=!1,n=u|1&n}}return Do(n)||l}function Do(t){return 0==(1&t)}function $l(t,e,r,n){if(null===e)return-1;let i=0;if(n||!r){let o=!1;for(;i<e.length;){const l=e[i];if(l===t)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function u_(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const n=t[r];if("number"==typeof n)return-1;if(n===e)return r;r++}return-1}(e,t)}function Jc(t,e,r=!1){for(let n=0;n<e.length;n++)if(l_(t,e[n],r))return!0;return!1}function d_(t,e){e:for(let r=0;r<e.length;r++){const n=e[r];if(t.length===n.length){for(let i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function Bh(t,e){return t?":not("+e.trim()+")":e}function f_(t){let e=t[0],r=1,n=2,i="",o=!1;for(;r<t.length;){let l=t[r];if("string"==typeof l)if(2&n){const c=t[++r];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&n?i+="."+l:4&n&&(i+=" "+l);else""!==i&&!Do(l)&&(e+=Bh(o,i),i=""),n=l,o=o||!Do(n);r++}return""!==i&&(e+=Bh(o,i)),e}function gr(t){return Ir(()=>{const e=Vh(t),r={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ja.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zo.Emulated,styles:t.styles||Vr,_:null,schemas:t.schemas||null,tView:null,id:""};Nd(r);const n=t.dependencies;return r.directiveDefs=Wl(n,!1),r.pipeDefs=Wl(n,!0),r.id=function g_(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(r),r})}function tu(t){return Mr(t)||Wi(t)}function p_(t){return null!==t}function ni(t){return Ir(()=>({type:t.type,bootstrap:t.bootstrap||Vr,declarations:t.declarations||Vr,imports:t.imports||Vr,exports:t.exports||Vr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Uh(t,e){if(null==t)return Io;const r={};for(const n in t)if(t.hasOwnProperty(n)){let i=t[n],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),r[i]=n,e&&(e[i]=o)}return r}function Fn(t){return Ir(()=>{const e=Vh(t);return Nd(e),e})}function $i(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mr(t){return t[el]||null}function Wi(t){return t[Hl]||null}function io(t){return t[Id]||null}function yo(t,e){const r=t[Zl]||null;if(!r&&!0===e)throw new Error(`Type ${Rr(t)} does not have '\u0275mod' property.`);return r}function Vh(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Io,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Vr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Uh(t.inputs,e),outputs:Uh(t.outputs)}}function Nd(t){t.features?.forEach(e=>e(t))}function Wl(t,e){if(!t)return null;const r=e?io:tu;return()=>("function"==typeof t?t():t).map(n=>r(n)).filter(p_)}const bi=0,kn=1,fr=2,gi=3,xo=4,rl=5,oo=6,il=7,Ei=8,Ls=9,Fs=10,ur=11,Kl=12,Od=13,ol=14,wi=15,Xl=16,oa=17,Go=18,Ql=19,jh=20,Bs=21,Us=22,nu=23,Jl=24,Cr=25,ru=1,Pd=2,os=7,sl=9,Ui=11;function po(t){return Array.isArray(t)&&"object"==typeof t[ru]}function mo(t){return Array.isArray(t)&&!0===t[ru]}function ou(t){return 0!=(4&t.flags)}function Ra(t){return t.componentOffset>-1}function tc(t){return 1==(1&t.flags)}function ss(t){return!!t.template}function su(t){return 0!=(512&t[fr])}function Ma(t,e){return t.hasOwnProperty(ws)?t[ws]:null}const qh=Symbol("SIGNAL");function au(t,e,r={}){return e[qh]=t,Object.assign(e,r)}function Yh(t,e){return(null===t||"object"!=typeof t)&&Object.is(t,e)}let E_=qr.WeakRef??class $h{constructor(e){this.ref=e}deref(){return this.ref}},Ld=0,Ro=null,ll=!1;function Ri(t){const e=Ro;return Ro=t,e}class lu{constructor(){this.id=Ld++,this.ref=function Wh(t){return new E_(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,r]of this.producers){const n=r.producerNode.deref();if(null!=n&&r.atTrackingVersion===this.trackingVersion){if(n.producerPollStatus(r.seenValueVersion))return!0}else this.producers.delete(e),n?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=ll;ll=!0;try{for(const[r,n]of this.consumers){const i=n.consumerNode.deref();null!=i&&i.trackingVersion===n.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(r),i?.producers.delete(this.id))}}finally{ll=e}}producerAccessed(){if(ll)throw new Error("");if(null===Ro)return;let e=Ro.producers.get(this.id);void 0===e?(e={consumerNode:Ro.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ro.trackingVersion},Ro.producers.set(this.id,e),this.consumers.set(Ro.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Ro.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ro?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}function Ts(t,e){const r=new w_(t,e?.equal??Yh);return au(r,r.signal.bind(r))}const Fd=Symbol("UNSET"),Bd=Symbol("COMPUTING"),nc=Symbol("ERRORED");class w_ extends lu{constructor(e,r){super(),this.computation=e,this.equal=r,this.value=Fd,this.error=null,this.stale=!0,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){this.stale||(this.stale=!0,this.producerMayHaveChanged())}onProducerUpdateValueVersion(){if(this.stale){if(this.value!==Fd&&this.value!==Bd&&!this.consumerPollProducersForChange())return void(this.stale=!1);this.recomputeValue()}}recomputeValue(){if(this.value===Bd)throw new Error("Detected cycle in computations.");const e=this.value;this.value=Bd,this.trackingVersion++;const r=Ri(this);let n;try{n=this.computation()}catch(i){n=nc,this.error=i}finally{Ri(r)}this.stale=!1,e!==Fd&&e!==nc&&n!==nc&&this.equal(e,n)?this.value=e:(this.value=n,this.valueVersion++)}signal(){if(this.onProducerUpdateValueVersion(),this.producerAccessed(),this.value===nc)throw this.error;return this.value}}let Xh=function Kh(){throw new Error};function rc(){Xh()}class Jh extends lu{constructor(e,r){super(),this.value=e,this.equal=r,this.consumerAllowSignalWrites=!1}onConsumerDependencyMayHaveChanged(){}onProducerUpdateValueVersion(){}set(e){this.producerUpdatesAllowed||rc(),this.equal(this.value,e)||(this.value=e,this.valueVersion++,this.producerMayHaveChanged())}update(e){this.producerUpdatesAllowed||rc(),this.set(e(this.value))}mutate(e){this.producerUpdatesAllowed||rc(),e(this.value),this.valueVersion++,this.producerMayHaveChanged()}asReadonly(){return void 0===this.readonlySignal&&(this.readonlySignal=au(this,()=>this.signal())),this.readonlySignal}signal(){return this.producerAccessed(),this.value}}function Ss(t,e){const r=new Jh(t,e?.equal??Yh);return au(r,r.signal.bind(r),{set:r.set.bind(r),update:r.update.bind(r),mutate:r.mutate.bind(r),asReadonly:r.asReadonly.bind(r)})}function as(t){const e=Ri(null);try{return t()}finally{Ri(e)}}const Ud=()=>{};class S_ extends lu{constructor(e,r,n){super(),this.watch=e,this.schedule=r,this.dirty=!1,this.cleanupFn=Ud,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=n}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Ri(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ud,this.watch(this.registerOnCleanup)}finally{Ri(e)}}cleanup(){this.cleanupFn()}}class ep{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function Mo(){return Vd}function Vd(t){return t.type.prototype.ngOnChanges&&(t.setInput=jd),C_}function C_(){const t=tp(this),e=t?.current;if(e){const r=t.previous;if(r===Io)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function jd(t,e,r,n){const i=this.declaredInputs[r],o=tp(t)||function v(t,e){return t[ic]=e}(t,{previous:Io,current:null}),l=o.current||(o.current={}),c=o.previous,u=c[i];l[i]=new ep(u&&u.currentValue,e,c===Io),t[n]=e}Mo.ngInherit=!0;const ic="__ngSimpleChanges__";function tp(t){return t[ic]||null}const D=function(t,e,r){},L="svg";function A(t){for(;Array.isArray(t);)t=t[bi];return t}function ee(t,e){return A(e[t])}function ie(t,e){return A(e[t.index])}function V(t,e){return t.data[e]}function re(t,e){return t[e]}function X(t,e){const r=e[t];return po(r)?r:r[bi]}function Ae(t,e){return null==e?null:t[e]}function Y(t){t[oa]=0}function ge(t){1024&t[fr]||(t[fr]|=1024,be(t,1))}function fe(t){1024&t[fr]&&(t[fr]&=-1025,be(t,-1))}function be(t,e){let r=t[gi];if(null===r)return;r[rl]+=e;let n=r;for(r=r[gi];null!==r&&(1===e&&1===n[rl]||-1===e&&0===n[rl]);)r[rl]+=e,n=r,r=r[gi]}function I(t,e){if(256==(256&t[fr]))throw new zt(911,!1);null===t[Bs]&&(t[Bs]=[]),t[Bs].push(e)}const G={lFrame:gt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function z(){return G.bindingsEnabled}function Q(){return null!==G.skipHydrationRootTNode}function Ie(){return G.lFrame.lView}function Ct(){return G.lFrame.tView}function mt(t){return G.lFrame.contextLView=t,t[Ei]}function bt(t){return G.lFrame.contextLView=null,t}function Ft(){let t=sn();for(;null!==t&&64===t.type;)t=t.parent;return t}function sn(){return G.lFrame.currentTNode}function Te(t,e){const r=G.lFrame;r.currentTNode=t,r.isParent=e}function et(){return G.lFrame.isParent}function Oe(){G.lFrame.isParent=!1}function Ot(){const t=G.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Sn(){return G.lFrame.bindingIndex++}function un(t){const e=G.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function er(t,e){const r=G.lFrame;r.bindingIndex=r.bindingRootIndex=t,Hn(e)}function Hn(t){G.lFrame.currentDirectiveIndex=t}function nr(){return G.lFrame.currentQueryIndex}function pr(t){G.lFrame.currentQueryIndex=t}function jt(t){const e=t[kn];return 2===e.type?e.declTNode:1===e.type?t[oo]:null}function wn(t,e,r){if(r&wr.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||r&wr.Host||(i=jt(o),null===i||(o=o[ol],10&i.type))););if(null===i)return!1;e=i,t=o}const n=G.lFrame=_n();return n.currentTNode=e,n.lView=t,!0}function En(t){const e=_n(),r=t[kn];G.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function _n(){const t=G.lFrame,e=null===t?null:t.child;return null===e?gt(t):e}function gt(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ht(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ct=Ht;function Ge(){const t=Ht();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function It(){return G.lFrame.selectedIndex}function Qt(t){G.lFrame.selectedIndex=t}function tn(){const t=G.lFrame;return V(t.tView,t.selectedIndex)}function Xn(){G.lFrame.currentNamespace=L}let Pi=!0;function qo(){return Pi}function bo(t){Pi=t}function Yo(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){const o=t.data[r].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:T}=o;l&&(t.contentHooks??=[]).push(-r,l),c&&((t.contentHooks??=[]).push(r,c),(t.contentCheckHooks??=[]).push(r,c)),u&&(t.viewHooks??=[]).push(-r,u),d&&((t.viewHooks??=[]).push(r,d),(t.viewCheckHooks??=[]).push(r,d)),null!=T&&(t.destroyHooks??=[]).push(r,T)}}function so(t,e,r){Vs(t,e,3,r)}function $o(t,e,r,n){(3&t[fr])===r&&Vs(t,e,r,n)}function Cs(t,e){let r=t[fr];(3&r)===e&&(r&=8191,r+=1,t[fr]=r)}function Vs(t,e,r,n){const o=n??-1,l=e.length-1;let c=0;for(let u=void 0!==n?65535&t[oa]:0;u<l;u++)if("number"==typeof e[u+1]){if(c=e[u],null!=n&&c>=n)break}else e[u]<0&&(t[oa]+=65536),(c<o||-1==o)&&(oc(t,r,e,u),t[oa]=(4294901760&t[oa])+u+2),u++}function js(t,e){D(4,t,e);const r=Ri(null);try{e.call(t)}finally{Ri(r),D(5,t,e)}}function oc(t,e,r,n){const i=r[n]<0,o=r[n+1],c=t[i?-r[n]:r[n]];i?t[fr]>>13<t[oa]>>16&&(3&t[fr])===e&&(t[fr]+=8192,js(c,o)):js(c,o)}const Hs=-1;class As{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function _r(t){return t!==Hs}function zn(t){return 32767&t}function Or(t,e){let r=function Xr(t){return t>>16}(t),n=e;for(;r>0;)n=n[ol],r--;return n}let cs=!0;function Zs(t){const e=cs;return cs=t,e}const G0=255,q0=5;let oN=0;const sa={};function np(t,e){const r=Y0(t,e);if(-1!==r)return r;const n=e[kn];n.firstCreatePass&&(t.injectorIndex=e.length,A_(n.data,t),A_(e,null),A_(n.blueprint,null));const i=rp(t,e),o=t.injectorIndex;if(_r(i)){const l=zn(i),c=Or(i,e),u=c[kn].data;for(let d=0;d<8;d++)e[o+d]=c[l+d]|u[l+d]}return e[o+8]=i,o}function A_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Y0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function rp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;null!==i;){if(n=ew(i),null===n)return Hs;if(r++,i=i[ol],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Hs}function I_(t,e,r){!function sN(t,e,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(zl)&&(n=r[zl]),null==n&&(n=r[zl]=oN++);const i=n&G0;e.data[t+(i>>q0)]|=1<<i}(t,e,r)}function $0(t,e,r){if(r&wr.Optional||void 0!==t)return t;Aa()}function W0(t,e,r,n){if(r&wr.Optional&&void 0===n&&(n=null),!(r&(wr.Self|wr.Host))){const i=t[Ls],o=vo(void 0);try{return i?i.get(e,n,r&wr.Optional):Fl(e,n,r&wr.Optional)}finally{vo(o)}}return $0(n,0,r)}function K0(t,e,r,n=wr.Default,i){if(null!==t){if(2048&e[fr]&&!(n&wr.Self)){const l=function fN(t,e,r,n,i){let o=t,l=e;for(;null!==o&&null!==l&&2048&l[fr]&&!(512&l[fr]);){const c=X0(o,l,r,n|wr.Self,sa);if(c!==sa)return c;let u=o.parent;if(!u){const d=l[jh];if(d){const T=d.get(r,sa,n);if(T!==sa)return T}u=ew(l),l=l[ol]}o=u}return i}(t,e,r,n,sa);if(l!==sa)return l}const o=X0(t,e,r,n,sa);if(o!==sa)return o}return W0(e,r,n,i)}function X0(t,e,r,n,i){const o=function cN(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(zl)?t[zl]:void 0;return"number"==typeof e?e>=0?e&G0:dN:e}(r);if("function"==typeof o){if(!wn(e,t,n))return n&wr.Host?$0(i,0,n):W0(e,r,n,i);try{let l;if(l=o(n),null!=l||n&wr.Optional)return l;Aa()}finally{ct()}}else if("number"==typeof o){let l=null,c=Y0(t,e),u=Hs,d=n&wr.Host?e[wi][oo]:null;for((-1===c||n&wr.SkipSelf)&&(u=-1===c?rp(t,e):e[c+8],u!==Hs&&J0(n,!1)?(l=e[kn],c=zn(u),e=Or(u,e)):c=-1);-1!==c;){const T=e[kn];if(Q0(o,c,T.data)){const B=lN(c,e,r,l,n,d);if(B!==sa)return B}u=e[c+8],u!==Hs&&J0(n,e[kn].data[c+8]===d)&&Q0(o,c,e)?(l=T,c=zn(u),e=Or(u,e)):c=-1}}return i}function lN(t,e,r,n,i,o){const l=e[kn],c=l.data[t+8],T=ip(c,l,r,null==n?Ra(c)&&cs:n!=l&&0!=(3&c.type),i&wr.Host&&o===c);return null!==T?sc(e,l,T,c):sa}function ip(t,e,r,n,i){const o=t.providerIndexes,l=e.data,c=1048575&o,u=t.directiveStart,T=o>>20,he=i?c+T:t.directiveEnd;for(let we=n?c:c+T;we<he;we++){const Pe=l[we];if(we<u&&r===Pe||we>=u&&Pe.type===r)return we}if(i){const we=l[u];if(we&&ss(we)&&we.type===r)return u}return null}function sc(t,e,r,n){let i=t[r];const o=e.data;if(function cl(t){return t instanceof As}(i)){const l=i;l.resolving&&function jc(t,e){const r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new zt(-200,`Circular dependency in DI detected for ${t}${r}`)}(function Fr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():sr(t)}(o[r]));const c=Zs(l.canSeeViewProviders);l.resolving=!0;const d=l.injectImpl?vo(l.injectImpl):null;wn(t,n,wr.Default);try{i=t[r]=l.factory(void 0,o,t,n),e.firstCreatePass&&r>=n.directiveStart&&function ls(t,e,r){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){const l=Vd(e);(r.preOrderHooks??=[]).push(t,l),(r.preOrderCheckHooks??=[]).push(t,l)}i&&(r.preOrderHooks??=[]).push(0-t,i),o&&((r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o))}(r,o[r],e)}finally{null!==d&&vo(d),Zs(c),l.resolving=!1,ct()}}return i}function Q0(t,e,r){return!!(r[e+(t>>q0)]&1<<t)}function J0(t,e){return!(t&wr.Self||t&wr.Host&&e)}class No{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return K0(this._tNode,this._lView,e,ia(n),r)}}function dN(){return new No(Ft(),Ie())}function Xi(t){return Ir(()=>{const e=t.prototype.constructor,r=e[ws]||D_(e),n=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){const o=i[ws]||D_(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function D_(t){return rs(t)?()=>{const e=D_(Un(t));return e&&e()}:Ma(t)}function ew(t){const e=t[kn],r=e.type;return 2===r?e.declTNode:1===r?t[oo]:null}function ac(t){return function aN(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const r=t.attrs;if(r){const n=r.length;let i=0;for(;i<n;){const o=r[i];if(Gl(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<n&&"string"==typeof r[i];)i++;else{if(o===e)return r[i+1];i+=2}}}return null}(Ft(),t)}const fu="__parameters__";function pu(t,e,r){return Ir(()=>{const n=function x_(t){return function(...r){if(t){const n=t(...r);for(const i in n)this[i]=n[i]}}}(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;const l=new i(...o);return c.annotation=l,c;function c(u,d,T){const B=u.hasOwnProperty(fu)?u[fu]:Object.defineProperty(u,fu,{value:[]})[fu];for(;B.length<=T;)B.push(null);return(B[T]=B[T]||[]).push(l),u}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function gu(t,e){t.forEach(r=>Array.isArray(r)?gu(r,e):e(r))}function nw(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function op(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zd(t,e){const r=[];for(let n=0;n<t;n++)r.push(e);return r}function us(t,e,r){let n=_u(t,e);return n>=0?t[1|n]=r:(n=~n,function yN(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(1===i)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=r,t[e+1]=n}}(t,n,e,r)),n}function R_(t,e){const r=_u(t,e);if(r>=0)return t[1|r]}function _u(t,e){return function rw(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){const o=n+(i-n>>1),l=t[o<<r];if(e===l)return o<<r;l>e?i=o:n=o+1}return~(i<<r)}(t,e,1)}const vu=Vl(pu("Optional"),8),ap=Vl(pu("SkipSelf"),4);function fp(t){return 128==(128&t.flags)}var ul=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ul||{});const VN=/^>|^->|<!--|-->|--!>|<!-$/g,jN=/(<|>)/,HN="\u200b$1\u200b";const k_=new Map;let ZN=0;const F_="__ngContext__";function Eo(t,e){po(e)?(t[F_]=e[Ql],function GN(t){k_.set(t[Ql],t)}(e)):t[F_]=e}let B_;function U_(t,e){return B_(t,e)}function Yd(t){const e=t[gi];return mo(e)?e[gi]:e}function Tw(t){return Cw(t[Kl])}function Sw(t){return Cw(t[xo])}function Cw(t){for(;null!==t&&!mo(t);)t=t[xo];return t}function Eu(t,e,r,n,i){if(null!=n){let o,l=!1;mo(n)?o=n:po(n)&&(l=!0,n=n[bi]);const c=A(n);0===t&&null!==r?null==i?xw(e,r,c):lc(e,r,c,i||null,!0):1===t&&null!==r?lc(e,r,c,i||null,!0):2===t?function yp(t,e,r){const n=_p(t,e);n&&function uO(t,e,r,n){t.removeChild(e,r,n)}(t,n,e,r)}(e,c,l):3===t&&e.destroyNode(c),null!=o&&function hO(t,e,r,n,i){const o=r[os];o!==A(r)&&Eu(e,t,n,o,i);for(let c=Ui;c<r.length;c++){const u=r[c];Wd(u[kn],u,t,e,n,o)}}(e,t,o,r,i)}}function V_(t,e){return t.createComment(function mw(t){return t.replace(VN,e=>e.replace(jN,HN))}(e))}function mp(t,e,r){return t.createElement(e,r)}function Iw(t,e){const r=t[sl],n=r.indexOf(e);fe(e),r.splice(n,1)}function gp(t,e){if(t.length<=Ui)return;const r=Ui+e,n=t[r];if(n){const i=n[Xl];null!==i&&i!==t&&Iw(i,n),e>0&&(t[r-1][xo]=n[xo]);const o=op(t,Ui+e);!function nO(t,e){Wd(t,e,e[ur],2,null,null),e[bi]=null,e[oo]=null}(n[kn],n);const l=o[Go];null!==l&&l.detachView(o[kn]),n[gi]=null,n[xo]=null,n[fr]&=-129}return n}function j_(t,e){if(!(256&e[fr])){const r=e[ur];e[nu]?.destroy(),e[Jl]?.destroy(),r.destroyNode&&Wd(t,e,r,3,null,null),function oO(t){let e=t[Kl];if(!e)return H_(t[kn],t);for(;e;){let r=null;if(po(e))r=e[Kl];else{const n=e[Ui];n&&(r=n)}if(!r){for(;e&&!e[xo]&&e!==t;)po(e)&&H_(e[kn],e),e=e[gi];null===e&&(e=t),po(e)&&H_(e[kn],e),r=e&&e[xo]}e=r}}(e)}}function H_(t,e){if(!(256&e[fr])){e[fr]&=-129,e[fr]|=256,function cO(t,e){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let n=0;n<r.length;n+=2){const i=e[r[n]];if(!(i instanceof As)){const o=r[n+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=i[o[l]],u=o[l+1];D(4,c,u);try{u.call(c)}finally{D(5,c,u)}}else{D(4,i,o);try{o.call(i)}finally{D(5,i,o)}}}}}(t,e),function lO(t,e){const r=t.cleanup,n=e[il];if(null!==r)for(let o=0;o<r.length-1;o+=2)if("string"==typeof r[o]){const l=r[o+3];l>=0?n[l]():n[-l].unsubscribe(),o+=2}else r[o].call(n[r[o+1]]);null!==n&&(e[il]=null);const i=e[Bs];if(null!==i){e[Bs]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[kn].type&&e[ur].destroy();const r=e[Xl];if(null!==r&&mo(e[gi])){r!==e[gi]&&Iw(r,e);const n=e[Go];null!==n&&n.detachView(t)}!function qN(t){k_.delete(t[Ql])}(e)}}function Z_(t,e,r){return function Dw(t,e,r){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return r[bi];{const{componentOffset:i}=n;if(i>-1){const{encapsulation:o}=t.data[n.directiveStart+i];if(o===zo.None||o===zo.Emulated)return null}return ie(n,r)}}(t,e.parent,r)}function lc(t,e,r,n,i){t.insertBefore(e,r,n,i)}function xw(t,e,r){t.appendChild(e,r)}function Rw(t,e,r,n,i){null!==n?lc(t,e,r,n,i):xw(t,e,r)}function _p(t,e){return t.parentNode(e)}function Mw(t,e,r){return Ow(t,e,r)}let z_,bp,$_,Ep,Ow=function Nw(t,e,r){return 40&t.type?ie(t,r):null};function vp(t,e,r,n){const i=Z_(t,n,e),o=e[ur],c=Mw(n.parent||e[oo],n,e);if(null!=i)if(Array.isArray(r))for(let u=0;u<r.length;u++)Rw(o,i,r[u],c,!1);else Rw(o,i,r,c,!1);void 0!==z_&&z_(o,n,e,r,i)}function $d(t,e){if(null!==e){const r=e.type;if(3&r)return ie(e,t);if(4&r)return G_(-1,t[e.index]);if(8&r){const n=e.child;if(null!==n)return $d(t,n);{const i=t[e.index];return mo(i)?G_(-1,i):A(i)}}if(32&r)return U_(e,t)()||A(t[e.index]);{const n=kw(t,e);return null!==n?Array.isArray(n)?n[0]:$d(Yd(t[wi]),n):$d(t,e.next)}}return null}function kw(t,e){return null!==e?t[wi][oo].projection[e.projection]:null}function G_(t,e){const r=Ui+t+1;if(r<e.length){const n=e[r],i=n[kn].firstChild;if(null!==i)return $d(n,i)}return e[os]}function q_(t,e,r,n,i,o,l){for(;null!=r;){const c=n[r.index],u=r.type;if(l&&0===e&&(c&&Eo(A(c),n),r.flags|=2),32!=(32&r.flags))if(8&u)q_(t,e,r.child,n,i,o,!1),Eu(e,t,i,c,o);else if(32&u){const d=U_(r,n);let T;for(;T=d();)Eu(e,t,i,T,o);Eu(e,t,i,c,o)}else 16&u?Fw(t,e,n,r,i,o):Eu(e,t,i,c,o);r=l?r.projectionNext:r.next}}function Wd(t,e,r,n,i,o){q_(r,n,t.firstChild,e,i,o,!1)}function Fw(t,e,r,n,i,o){const l=r[wi],u=l[oo].projection[n.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)Eu(e,t,i,u[d],o);else{let d=u;const T=l[gi];fp(n)&&(d.flags|=128),q_(t,e,d,T,i,o,!0)}}function Bw(t,e,r){""===r?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function Uw(t,e,r){const{mergedAttrs:n,classes:i,styles:o}=r;null!==n&&Dd(t,e,n),null!==i&&Bw(t,e,i),null!==o&&function mO(t,e,r){t.setAttribute(e,"style",r)}(t,e,o)}function wu(t){return function Y_(){if(void 0===bp&&(bp=null,qr.trustedTypes))try{bp=qr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bp}()?.createHTML(t)||t}function Tu(){if(void 0!==$_)return $_;if(typeof document<"u")return document;throw new zt(210,!1)}function W_(){if(void 0===Ep&&(Ep=null,qr.trustedTypes))try{Ep=qr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ep}function Vw(t){return W_()?.createHTML(t)||t}function Hw(t){return W_()?.createScriptURL(t)||t}class cc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ys})`}}class bO extends cc{getTypeName(){return"HTML"}}class EO extends cc{getTypeName(){return"Style"}}class wO extends cc{getTypeName(){return"Script"}}class TO extends cc{getTypeName(){return"URL"}}class SO extends cc{getTypeName(){return"ResourceURL"}}function ds(t){return t instanceof cc?t.changingThisBreaksApplicationSecurity:t}function aa(t,e){const r=function CO(t){return t instanceof cc&&t.getTypeName()||null}(t);if(null!=r&&r!==e){if("ResourceURL"===r&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${ys})`)}return r===e}class MO{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const r=(new window.DOMParser).parseFromString(wu(e),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(e):(r.removeChild(r.firstChild),r)}catch{return null}}}class NO{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const r=this.inertDocument.createElement("template");return r.innerHTML=wu(e),r}}const PO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wp(t){return(t=String(t)).match(PO)?t:"unsafe:"+t}function Oa(t){const e={};for(const r of t.split(","))e[r]=!0;return e}function Kd(...t){const e={};for(const r of t)for(const n in r)r.hasOwnProperty(n)&&(e[n]=!0);return e}const zw=Oa("area,br,col,hr,img,wbr"),Gw=Oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qw=Oa("rp,rt"),K_=Kd(zw,Kd(Gw,Oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kd(qw,Oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kd(qw,Gw)),X_=Oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yw=Kd(X_,Oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kO=Oa("script,style,template");class LO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let r=e.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let i=this.checkClobberedElement(r,r.nextSibling);if(i){r=i;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(e){const r=e.nodeName.toLowerCase();if(!K_.hasOwnProperty(r))return this.sanitizedSomething=!0,!kO.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=e.attributes;for(let i=0;i<n.length;i++){const o=n.item(i),l=o.name,c=l.toLowerCase();if(!Yw.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;X_[c]&&(u=wp(u)),this.buf.push(" ",l,'="',$w(u),'"')}return this.buf.push(">"),!0}endElement(e){const r=e.nodeName.toLowerCase();K_.hasOwnProperty(r)&&!zw.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(e){this.buf.push($w(e))}checkClobberedElement(e,r){if(r&&(e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return r}}const FO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BO=/([^\#-~ |!])/g;function $w(t){return t.replace(/&/g,"&amp;").replace(FO,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(BO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tp;function Ww(t,e){let r=null;try{Tp=Tp||function Zw(t){const e=new NO(t);return function OO(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch{return!1}}()?new MO(e):e}(t);let n=e?String(e):"";r=Tp.getInertBodyElement(n);let i=5,o=n;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=r.innerHTML,r=Tp.getInertBodyElement(n)}while(n!==o);return wu((new LO).sanitizeChildren(Q_(r)||r))}finally{if(r){const n=Q_(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Q_(t){return"content"in t&&function UO(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ji=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ji||{});function J_(t){const e=Xd();return e?Vw(e.sanitize(ji.HTML,t)||""):aa(t,"HTML")?Vw(ds(t)):Ww(Tu(),sr(t))}function Kw(t){const e=Xd();return e?e.sanitize(ji.STYLE,t)||"":aa(t,"Style")?ds(t):sr(t)}function uc(t){const e=Xd();return e?e.sanitize(ji.URL,t)||"":aa(t,"URL")?ds(t):wp(sr(t))}function Xw(t){const e=Xd();if(e)return Hw(e.sanitize(ji.RESOURCE_URL,t)||"");if(aa(t,"ResourceURL"))return Hw(ds(t));throw new zt(904,!1)}function Xd(){const t=Ie();return t&&t[Fs].sanitizer}class ln{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=gn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qd=new ln("ENVIRONMENT_INITIALIZER"),Jw=new ln("INJECTOR",-1),eT=new ln("INJECTOR_DEF_TYPES");class ev{get(e,r=Bl){if(r===Bl){const n=new Error(`NullInjectorError: No provider for ${Rr(e)}!`);throw n.name="NullInjectorError",n}return r}}function tv(t){return{\u0275providers:t}}function zO(...t){return{\u0275providers:tT(0,t),\u0275fromNgModule:!0}}function tT(t,...e){const r=[],n=new Set;let i;const o=l=>{r.push(l)};return gu(e,l=>{const c=l;Sp(c,o,[],n)&&(i||=[],i.push(c))}),void 0!==i&&nT(i,o),r}function nT(t,e){for(let r=0;r<t.length;r++){const{ngModule:n,providers:i}=t[r];nv(i,o=>{e(o,n)})}}function Sp(t,e,r,n){if(!(t=Un(t)))return!1;let i=null,o=Zc(t);const l=!o&&Mr(t);if(o||l){if(l&&!l.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Zc(u),!o)return!1;i=u}const c=n.has(i);if(l){if(c)return!1;if(n.add(i),l.dependencies){const u="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const d of u)Sp(d,e,r,n)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let d;n.add(i);try{gu(o.imports,T=>{Sp(T,e,r,n)&&(d||=[],d.push(T))})}finally{}void 0!==d&&nT(d,e)}if(!c){const d=Ma(i)||(()=>new i);e({provide:i,useFactory:d,deps:Vr},i),e({provide:eT,useValue:i,multi:!0},i),e({provide:Qd,useValue:()=>Wt(i),multi:!0},i)}const u=o.providers;if(null!=u&&!c){const d=t;nv(u,T=>{e(T,d)})}}}return i!==t&&void 0!==t.providers}function nv(t,e){for(let r of t)ho(r)&&(r=r.\u0275providers),Array.isArray(r)?nv(r,e):e(r)}const GO=or({provide:String,useValue:or});function rv(t){return null!==t&&"object"==typeof t&&GO in t}function dc(t){return"function"==typeof t}const iv=new ln("Set Injector scope."),Cp={},YO={};let ov;function Ap(){return void 0===ov&&(ov=new ev),ov}class zs{}class Ip extends zs{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,av(e,l=>this.processProvider(l)),this.records.set(Jw,Su(void 0,this)),i.has("environment")&&this.records.set(zs,Su(void 0,this));const o=this.records.get(iv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eT.multi,Vr,wr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const r=ra(this),n=vo(void 0);try{return e()}finally{ra(r),vo(n)}}get(e,r=Bl,n=wr.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Wc))return e[Wc](this);n=ia(n);const o=ra(this),l=vo(void 0);try{if(!(n&wr.SkipSelf)){let u=this.records.get(e);if(void 0===u){const d=function QO(t){return"function"==typeof t||"object"==typeof t&&t instanceof ln}(e)&&Xa(e);u=d&&this.injectableDefInScope(d)?Su(sv(e),Cp):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(n&wr.Self?Ap():this.parent).get(e,r=n&wr.Optional&&r===Bl?null:r)}catch(c){if("NullInjectorError"===c.name){if((c[Yc]=c[Yc]||[]).unshift(Rr(e)),o)throw c;return function jl(t,e,r,n){const i=t[Yc];throw e[Ul]&&i.unshift(e[Ul]),t.message=function Ad(t,e,r,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Rr(e);if(Array.isArray(e))i=e.map(Rr).join(" -> ");else if("object"==typeof e){let o=[];for(let l in e)if(e.hasOwnProperty(l)){let c=e[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):Rr(c)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(Sd,"\n  ")}`}("\n"+t.message,i,r,n),t.ngTokenPath=i,t[Yc]=null,t}(c,e,"R3InjectorError",this.source)}throw c}finally{vo(l),ra(o)}}resolveInjectorInitializers(){const e=ra(this),r=vo(void 0);try{const i=this.get(Qd.multi,Vr,wr.Self);for(const o of i)o()}finally{ra(e),vo(r)}}toString(){const e=[],r=this.records;for(const n of r.keys())e.push(Rr(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new zt(205,!1)}processProvider(e){let r=dc(e=Un(e))?e:Un(e&&e.provide);const n=function WO(t){return rv(t)?Su(void 0,t.useValue):Su(oT(t),Cp)}(e);if(dc(e)||!0!==e.multi)this.records.get(r);else{let i=this.records.get(r);i||(i=Su(void 0,Cp,!0),i.factory=()=>$c(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){return r.value===Cp&&(r.value=YO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function XO(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(e){if(!e.providedIn)return!1;const r=Un(e.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){const r=this._onDestroyHooks.indexOf(e);-1!==r&&this._onDestroyHooks.splice(r,1)}}function sv(t){const e=Xa(t),r=null!==e?e.factory:Ma(t);if(null!==r)return r;if(t instanceof ln)throw new zt(204,!1);if(t instanceof Function)return function $O(t){const e=t.length;if(e>0)throw zd(e,"?"),new zt(204,!1);const r=function Mh(t){return t&&(t[Ll]||t[Nh])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new zt(204,!1)}function oT(t,e,r){let n;if(dc(t)){const i=Un(t);return Ma(i)||sv(i)}if(rv(t))n=()=>Un(t.useValue);else if(function iT(t){return!(!t||!t.useFactory)}(t))n=()=>t.useFactory(...$c(t.deps||[]));else if(function rT(t){return!(!t||!t.useExisting)}(t))n=()=>Wt(Un(t.useExisting));else{const i=Un(t&&(t.useClass||t.provide));if(!function KO(t){return!!t.deps}(t))return Ma(i)||sv(i);n=()=>new i(...$c(t.deps))}return n}function Su(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function av(t,e){for(const r of t)Array.isArray(r)?av(r,e):r&&ho(r)?av(r.\u0275providers,e):e(r)}const Dp=new ln("AppId",{providedIn:"root",factory:()=>JO}),JO="ng",sT=new ln("Platform Initializer"),fc=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ds=new ln("AnimationModuleType"),lv=new ln("CSP nonce",{providedIn:"root",factory:()=>Tu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lT=(t,e,r)=>null;function mv(t,e,r=!1){return lT(t,e,r)}class cP{}class dT{}class dP{resolveComponentFactory(e){throw function uP(t){const e=Error(`No component factory found for ${Rr(t)}.`);return e.ngComponent=t,e}(e)}}let nf=(()=>{class e{}return e.NULL=new dP,e})();function fP(){return Au(Ft(),Ie())}function Au(t,e){return new Nr(ie(t,e))}let Nr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=fP,e})();function hP(t){return t instanceof Nr?t.nativeElement:t}class rf{}let Pa=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function pP(){const t=Ie(),r=X(Ft().index,t);return(po(r)?r:t)[ur]}(),e})(),mP=(()=>{var t;class e{}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:()=>null}),e})();class hc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gP=new hc("16.2.2"),vv={};function Pp(t){if(!Ph()&&!function Lh(){return xa}())throw new zt(-203,!1)}function gT(t,e=null,r=null,n){const i=_T(t,e,r,n);return i.resolveInjectorInitializers(),i}function _T(t,e=null,r=null,n,i=new Set){const o=[r||Vr,zO(t)];return n=n||("object"==typeof t?void 0:Rr(t)),new Ip(o,e||Ap(),n||null,i)}let Oo=(()=>{var t;class e{static create(n,i){if(Array.isArray(n))return gT({name:""},i,n,"");{const o=n.name??"";return gT({name:o},n.parent,n.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=Bl,t.NULL=new ev,t.\u0275prov=gn({token:t,providedIn:"any",factory:()=>Wt(Jw)}),t.__NG_ELEMENT_ID__=-1,e})(),sf=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=TP,t.__NG_ENV_ID__=r=>r,e})();class wP extends sf{constructor(e){super(),this._lView=e}onDestroy(e){return I(this._lView,e),()=>function $(t,e){if(null===t[Bs])return;const r=t[Bs].indexOf(e);-1!==r&&t[Bs].splice(r,1)}(this._lView,e)}}function TP(){return new wP(Ie())}function ka(t){return t instanceof Function?t():t}let yv=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new zt(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const n of this.callbacks)n.invoke()}finally{this.runningCallbacks=!1;for(const n of this.deferredCallbacks)this.callbacks.add(n);this.deferredCallbacks.clear()}}register(n){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(n)}unregister(n){this.callbacks.delete(n),this.deferredCallbacks.delete(n)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t}),e})();function af(t){for(;t;){t[fr]|=64;const e=Yd(t);if(su(t)&&!e)return t;t=e}return null}function bv(t){return t.ngOriginalError}class la{constructor(){this._console=console}handleError(e){const r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&bv(e);for(;r&&bv(r);)r=bv(r);return r||null}}const wT=new ln("",{providedIn:"root",factory:()=>!1});class AT extends lu{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){af(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,r,n){const i=Ri(this);this.trackingVersion++;try{e(r,n)}finally{Ri(i)}}destroy(){this.trackingVersion++}}let Lp=null;function IT(){return Lp??=new AT,Lp}function DT(t,e){return t[e]??IT()}function xT(t,e){const r=IT();r.hasReadASignal&&(t[e]=Lp,r.lView=t,Lp=new AT)}const vr={};function Jt(t){RT(Ct(),Ie(),It()+t,!1)}function RT(t,e,r,n){if(!n)if(3==(3&e[fr])){const o=t.preOrderCheckHooks;null!==o&&so(e,o,r)}else{const o=t.preOrderHooks;null!==o&&$o(e,o,0,r)}Qt(r)}function yt(t,e=wr.Default){const r=Ie();return null===r?Wt(t,e):K0(Ft(),r,Un(t),e)}function Fp(){throw new Error("invalid")}function Bp(t,e,r,n,i,o,l,c,u,d,T){const B=e.blueprint.slice();return B[bi]=i,B[fr]=140|n,(null!==d||t&&2048&t[fr])&&(B[fr]|=2048),Y(B),B[gi]=B[ol]=t,B[Ei]=r,B[Fs]=l||t&&t[Fs],B[ur]=c||t&&t[ur],B[Ls]=u||t&&t[Ls]||null,B[oo]=o,B[Ql]=function zN(){return ZN++}(),B[Us]=T,B[jh]=d,B[wi]=2==e.type?t[wi]:B,B}function xu(t,e,r,n,i){let o=t.data[e];if(null===o)o=function Ev(t,e,r,n,i){const o=sn(),l=et(),u=t.data[e]=function VP(t,e,r,n,i,o){let l=e?e.injectorIndex:-1,c=0;return Q()&&(c|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,r,e,n,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(l?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,r,n,i),function Dn(){return G.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=r,o.value=n,o.attrs=i;const l=function Be(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return Te(o,!0),o}function lf(t,e,r,n){if(0===r)return-1;const i=e.length;for(let o=0;o<r;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function MT(t,e,r,n,i){const o=DT(e,nu),l=It(),c=2&n;try{if(Qt(-1),c&&e.length>Cr&&RT(t,e,Cr,!1),D(c?2:0,i),c)o.runInContext(r,n,i);else{const d=Ri(null);try{r(n,i)}finally{Ri(d)}}}finally{c&&null===e[nu]&&xT(e,nu),Qt(l),D(c?3:1,i)}}function wv(t,e,r){if(ou(e)){const n=Ri(null);try{const o=e.directiveEnd;for(let l=e.directiveStart;l<o;l++){const c=t.data[l];c.contentQueries&&c.contentQueries(1,r[l],l)}}finally{Ri(n)}}}function Tv(t,e,r){z()&&(function YP(t,e,r,n){const i=r.directiveStart,o=r.directiveEnd;Ra(r)&&function ek(t,e,r){const n=ie(e,t),i=NT(r);let l=16;r.signals?l=4096:r.onPush&&(l=64);const c=Up(t,Bp(t,i,null,l,n,e,null,t[Fs].rendererFactory.createRenderer(n,r),null,null,null));t[e.index]=c}(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||np(r,e),Eo(n,e);const l=r.initialInputs;for(let c=i;c<o;c++){const u=t.data[c],d=sc(e,t,c,r);Eo(d,e),null!==l&&tk(0,c-i,d,u,0,l),ss(u)&&(X(r.index,e)[Ei]=sc(e,t,c,r))}}(t,e,r,ie(r,e)),64==(64&r.flags)&&FT(t,e,r))}function Sv(t,e,r=ie){const n=e.localNames;if(null!==n){let i=e.index+1;for(let o=0;o<n.length;o+=2){const l=n[o+1],c=-1===l?r(e,t):t[l];t[i++]=c}}}function NT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Cv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Cv(t,e,r,n,i,o,l,c,u,d,T){const B=Cr+n,he=B+i,we=function PP(t,e){const r=[];for(let n=0;n<e;n++)r.push(n<t?null:vr);return r}(B,he),Pe="function"==typeof d?d():d;return we[kn]={type:t,blueprint:we,template:r,queries:null,viewQuery:c,declTNode:e,data:we.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:u,consts:Pe,incompleteFirstPass:!1,ssrId:T}}let OT=t=>null;function PT(t,e,r,n){for(let i in t)if(t.hasOwnProperty(i)){r=null===r?{}:r;const o=t[i];null===n?kT(r,e,i,o):n.hasOwnProperty(i)&&kT(r,e,n[i],o)}return r}function kT(t,e,r,n){t.hasOwnProperty(r)?t[r].push(e,n):t[r]=[e,n]}function fs(t,e,r,n,i,o,l,c){const u=ie(e,r);let T,d=e.inputs;!c&&null!=d&&(T=d[n])?(Rv(t,r,T,n,i),Ra(e)&&function ZP(t,e){const r=X(e,t);16&r[fr]||(r[fr]|=64)}(r,e.index)):3&e.type&&(n=function HP(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),i=null!=l?l(i,e.value||"",n):i,o.setProperty(u,n,i))}function Av(t,e,r,n){if(z()){const i=null===n?null:{"":-1},o=function WP(t,e){const r=t.directiveRegistry;let n=null,i=null;if(r)for(let o=0;o<r.length;o++){const l=r[o];if(Jc(e,l.selectors,!1))if(n||(n=[]),ss(l))if(null!==l.findHostDirectiveDefs){const c=[];i=i||new Map,l.findHostDirectiveDefs(l,c,i),n.unshift(...c,l),Iv(t,e,c.length)}else n.unshift(l),Iv(t,e,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,n,i),n.push(l)}return null===n?null:[n,i]}(t,r);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&LT(t,e,r,l,i,c),i&&function KP(t,e,r){if(e){const n=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=r[e[i+1]];if(null==o)throw new zt(-301,!1);n.push(e[i],o)}}}(r,n,i)}r.mergedAttrs=ql(r.mergedAttrs,r.attrs)}function LT(t,e,r,n,i,o){for(let d=0;d<n.length;d++)I_(np(r,e),t,n[d].type);!function QP(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}(r,t.data.length,n.length);for(let d=0;d<n.length;d++){const T=n[d];T.providersResolver&&T.providersResolver(T)}let l=!1,c=!1,u=lf(t,e,n.length,null);for(let d=0;d<n.length;d++){const T=n[d];r.mergedAttrs=ql(r.mergedAttrs,T.hostAttrs),JP(t,r,e,u,T),XP(u,T,i),null!==T.contentQueries&&(r.flags|=4),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(r.flags|=64);const B=T.type.prototype;!l&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),l=!0),!c&&(B.ngOnChanges||B.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),c=!0),u++}!function jP(t,e,r){const i=e.directiveEnd,o=t.data,l=e.attrs,c=[];let u=null,d=null;for(let T=e.directiveStart;T<i;T++){const B=o[T],he=r?r.get(B):null,Pe=he?he.outputs:null;u=PT(B.inputs,T,u,he?he.inputs:null),d=PT(B.outputs,T,d,Pe);const Ue=null===u||null===l||Yl(e)?null:nk(u,T,l);c.push(Ue)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}(t,r,o)}function FT(t,e,r){const n=r.directiveStart,i=r.directiveEnd,o=r.index,l=function ar(){return G.lFrame.currentDirectiveIndex}();try{Qt(o);for(let c=n;c<i;c++){const u=t.data[c],d=e[c];Hn(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&$P(u,d)}}finally{Qt(-1),Hn(l)}}function $P(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Iv(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function XP(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;ss(e)&&(r[""]=t)}}function JP(t,e,r,n,i){t.data[n]=i;const o=i.factory||(i.factory=Ma(i.type)),l=new As(o,ss(i),yt);t.blueprint[n]=l,r[n]=l,function GP(t,e,r,n,i){const o=i.hostBindings;if(o){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const c=~e.index;(function qP(t){let e=t.length;for(;e>0;){const r=t[--e];if("number"==typeof r&&r<0)return r}return 0})(l)!=c&&l.push(c),l.push(r,n,o)}}(t,e,n,lf(t,r,i.hostVars,vr),i)}function ca(t,e,r,n,i,o){const l=ie(t,e);!function Dv(t,e,r,n,i,o,l){if(null==o)t.removeAttribute(e,i,r);else{const c=null==l?sr(o):l(o,n||"",i);t.setAttribute(e,i,c,r)}}(e[ur],l,o,t.value,r,n,i)}function tk(t,e,r,n,i,o){const l=o[e];if(null!==l)for(let c=0;c<l.length;)BT(n,r,l[c++],l[c++],l[c++])}function BT(t,e,r,n,i){const o=Ri(null);try{const l=t.inputTransforms;null!==l&&l.hasOwnProperty(n)&&(i=l[n].call(e,i)),null!==t.setInput?t.setInput(e,i,r,n):e[n]=i}finally{Ri(o)}}function nk(t,e,r){let n=null,i=0;for(;i<r.length;){const o=r[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===n&&(n=[]);const l=t[o];for(let c=0;c<l.length;c+=2)if(l[c]===e){n.push(o,l[c+1],r[i+1]);break}}i+=2}else i+=2;else i+=4}return n}function UT(t,e,r,n){return[t,!0,!1,e,null,0,n,r,null,null,null]}function VT(t,e){const r=t.contentQueries;if(null!==r)for(let n=0;n<r.length;n+=2){const o=r[n+1];if(-1!==o){const l=t.data[o];pr(r[n]),l.contentQueries(2,e[o],o)}}}function Up(t,e){return t[Kl]?t[Od][xo]=e:t[Kl]=e,t[Od]=e,e}function xv(t,e,r){pr(0);const n=Ri(null);try{e(t,r)}finally{Ri(n)}}function jT(t){return t[il]||(t[il]=[])}function HT(t){return t.cleanup||(t.cleanup=[])}function zT(t,e){const r=t[Ls],n=r?r.get(la,null):null;n&&n.handleError(e)}function Rv(t,e,r,n,i){for(let o=0;o<r.length;){const l=r[o++],c=r[o++];BT(t.data[l],e[l],n,c,i)}}function La(t,e,r){const n=ee(e,t);!function Aw(t,e,r){t.setValue(e,r)}(t[ur],n,r)}function rk(t,e){const r=X(e,t),n=r[kn];!function ik(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}(n,r);const i=r[bi];null!==i&&null===r[Us]&&(r[Us]=mv(i,r[Ls])),Mv(n,r,r[Ei])}function Mv(t,e,r){En(e);try{const n=t.viewQuery;null!==n&&xv(1,n,r);const i=t.template;null!==i&&MT(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&VT(t,e),t.staticViewQueries&&xv(2,t.viewQuery,r);const o=t.components;null!==o&&function ok(t,e){for(let r=0;r<e.length;r++)rk(t,e[r])}(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[fr]&=-5,Ge()}}let GT=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(n,i,o){const l=typeof Zone>"u"?null:Zone.current,c=new S_(n,T=>{this.all.has(T)&&this.queue.set(T,l)},o);let u;this.all.add(c),c.notify();const d=()=>{c.cleanup(),u?.(),this.all.delete(c),this.queue.delete(c)};return u=i?.onDestroy(d),{destroy:d}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:()=>new t}),e})();function Nv(t,e){!e?.injector&&Pp();const r=e?.injector??$t(Oo),n=r.get(GT),i=!0!==e?.manualCleanup?r.get(sf):null;return n.create(t,i,!!e?.allowSignalWrites)}function Vp(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,o=0;if(null!==e)for(let l=0;l<e.length;l++){const c=e[l];"number"==typeof c?o=c:1==o?i=fi(i,c):2==o&&(n=fi(n,c+": "+e[++l]+";"))}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}function cf(t,e,r,n,i=!1){for(;null!==r;){const o=e[r.index];if(null!==o&&n.push(A(o)),mo(o)){for(let c=Ui;c<o.length;c++){const u=o[c],d=u[kn].firstChild;null!==d&&cf(u[kn],u,d,n)}o[os]!==o[bi]&&n.push(o[os])}const l=r.type;if(8&l)cf(t,e,r.child,n);else if(32&l){const c=U_(r,e);let u;for(;u=c();)n.push(u)}else if(16&l){const c=kw(e,r);if(Array.isArray(c))n.push(...c);else{const u=Yd(e[wi]);cf(u[kn],u,c,n,!0)}}r=i?r.projectionNext:r.next}return n}function jp(t,e,r,n=!0){const i=e[Fs],o=i.rendererFactory,l=i.afterRenderEventManager;o.begin?.(),l?.begin();try{qT(t,e,t.template,r)}catch(u){throw n&&zT(e,u),u}finally{o.end?.(),i.effectManager?.flush(),l?.end()}}function qT(t,e,r,n){const i=e[fr];if(256!=(256&i)){e[Fs].effectManager?.flush(),En(e);try{Y(e),function An(t){return G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==r&&MT(t,e,r,2,n);const l=3==(3&i);if(l){const d=t.preOrderCheckHooks;null!==d&&so(e,d,null)}else{const d=t.preOrderHooks;null!==d&&$o(e,d,0,null),Cs(e,0)}if(function ak(t){for(let e=Tw(t);null!==e;e=Sw(e)){if(!e[Pd])continue;const r=e[sl];for(let n=0;n<r.length;n++){ge(r[n])}}}(e),YT(e,2),null!==t.contentQueries&&VT(t,e),l){const d=t.contentCheckHooks;null!==d&&so(e,d)}else{const d=t.contentHooks;null!==d&&$o(e,d,1),Cs(e,1)}!function OP(t,e){const r=t.hostBindingOpCodes;if(null===r)return;const n=DT(e,Jl);try{for(let i=0;i<r.length;i++){const o=r[i];if(o<0)Qt(~o);else{const l=o,c=r[++i],u=r[++i];er(c,l),n.runInContext(u,2,e[l])}}}finally{null===e[Jl]&&xT(e,Jl),Qt(-1)}}(t,e);const c=t.components;null!==c&&WT(e,c,0);const u=t.viewQuery;if(null!==u&&xv(2,u,n),l){const d=t.viewCheckHooks;null!==d&&so(e,d)}else{const d=t.viewHooks;null!==d&&$o(e,d,2),Cs(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[fr]&=-73,fe(e)}finally{Ge()}}}function YT(t,e){for(let r=Tw(t);null!==r;r=Sw(r))for(let n=Ui;n<r.length;n++)$T(r[n],e)}function lk(t,e,r){$T(X(e,t),r)}function $T(t,e){if(!function me(t){return 128==(128&t[fr])}(t))return;const r=t[kn];if(80&t[fr]&&0===e||1024&t[fr]||2===e)qT(r,t,r.template,t[Ei]);else if(t[rl]>0){YT(t,1);const i=t[kn].components;null!==i&&WT(t,i,1)}}function WT(t,e,r){for(let n=0;n<e.length;n++)lk(t,e[n],r)}class uf{get rootNodes(){const e=this._lView,r=e[kn];return cf(r,e,r.firstChild,[])}constructor(e,r){this._lView=e,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ei]}set context(e){this._lView[Ei]=e}get destroyed(){return 256==(256&this._lView[fr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[gi];if(mo(e)){const r=e[8],n=r?r.indexOf(this):-1;n>-1&&(gp(e,n),op(r,n))}this._attachedToViewContainer=!1}j_(this._lView[kn],this._lView)}onDestroy(e){I(this._lView,e)}markForCheck(){af(this._cdRefInjectingView||this._lView)}detach(){this._lView[fr]&=-129}reattach(){this._lView[fr]|=128}detectChanges(){jp(this._lView[kn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new zt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iO(t,e){Wd(t,e,e[ur],2,null,null)}(this._lView[kn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new zt(902,!1);this._appRef=e}}class ck extends uf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;jp(e[kn],e,e[Ei],!1)}checkNoChanges(){}get context(){return null}}class KT extends nf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const r=Mr(e);return new df(r,this.ngModule)}}function XT(t){const e=[];for(let r in t)t.hasOwnProperty(r)&&e.push({propName:t[r],templateName:r});return e}class dk{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=ia(n);const i=this.injector.get(e,vv,n);return i!==vv||r===vv?i:this.parentInjector.get(e,r,n)}}class df extends dT{get inputs(){const e=this.componentDef,r=e.inputTransforms,n=XT(e.inputs);if(null!==r)for(const i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return XT(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=function tl(t){return t.map(f_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let o=(i=i||this.ngModule)instanceof zs?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new dk(e,o):e,c=l.get(rf,null);if(null===c)throw new zt(407,!1);const B={rendererFactory:c,sanitizer:l.get(mP,null),effectManager:l.get(GT,null),afterRenderEventManager:l.get(yv,null)},he=c.createRenderer(null,this.componentDef),we=this.componentDef.selectors[0][0]||"div",Pe=n?function kP(t,e,r,n){const o=n.get(wT,!1)||r===zo.ShadowDom,l=t.selectRootElement(e,o);return function LP(t){OT(t)}(l),l}(he,n,this.componentDef.encapsulation,l):mp(he,we,function uk(t){const e=t.toLowerCase();return"svg"===e?L:"math"===e?"math":null}(we)),Dt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let wt=null;null!==Pe&&(wt=mv(Pe,l,!0));const fn=Cv(0,null,null,1,0,null,null,null,null,null,null),yn=Bp(null,fn,null,Dt,null,null,B,he,l,null,wt);let Gn,dr;En(yn);try{const Kr=this.componentDef;let go,ts=null;Kr.findHostDirectiveDefs?(go=[],ts=new Map,Kr.findHostDirectiveDefs(Kr,go,ts),go.push(Kr)):go=[Kr];const ea=function hk(t,e){const r=t[kn],n=Cr;return t[n]=e,xu(r,n,2,"#host",null)}(yn,Pe),Kg=function pk(t,e,r,n,i,o,l){const c=i[kn];!function mk(t,e,r,n){for(const i of t)e.mergedAttrs=ql(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Vp(e,e.mergedAttrs,!0),null!==r&&Uw(n,r,e))}(n,t,e,l);let u=null;null!==e&&(u=mv(e,i[Ls]));const d=o.rendererFactory.createRenderer(e,r);let T=16;r.signals?T=4096:r.onPush&&(T=64);const B=Bp(i,NT(r),null,T,i[t.index],t,o,d,null,null,u);return c.firstCreatePass&&Iv(c,t,n.length-1),Up(i,B),i[t.index]=B}(ea,Pe,Kr,go,yn,B,he);dr=V(fn,Cr),Pe&&function _k(t,e,r,n){if(n)Dd(t,r,["ng-version",gP.full]);else{const{attrs:i,classes:o}=function Rd(t){const e=[],r=[];let n=1,i=2;for(;n<t.length;){let o=t[n];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++n]):8===i&&r.push(o);else{if(!Do(i))break;i=o}n++}return{attrs:e,classes:r}}(e.selectors[0]);i&&Dd(t,r,i),o&&o.length>0&&Bw(t,r,o.join(" "))}}(he,Kr,Pe,n),void 0!==r&&function vk(t,e,r){const n=t.projection=[];for(let i=0;i<e.length;i++){const o=r[i];n.push(null!=o?Array.from(o):null)}}(dr,this.ngContentSelectors,r),Gn=function gk(t,e,r,n,i,o){const l=Ft(),c=i[kn],u=ie(l,i);LT(c,i,l,r,null,n);for(let T=0;T<r.length;T++)Eo(sc(i,c,l.directiveStart+T,l),i);FT(c,i,l),u&&Eo(u,i);const d=sc(i,c,l.directiveStart+l.componentOffset,l);if(t[Ei]=i[Ei]=d,null!==o)for(const T of o)T(d,e);return wv(c,l,t),d}(Kg,Kr,go,ts,yn,[yk]),Mv(fn,yn,null)}finally{Ge()}return new fk(this.componentType,Gn,Au(dr,yn),yn,dr)}}class fk extends cP{constructor(e,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new ck(i),this.componentType=e}setInput(e,r){const n=this._tNode.inputs;let i;if(null!==n&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;const o=this._rootLView;Rv(o[kn],o,i,e,r),this.previousInputValues.set(e,r),af(X(this._tNode.index,o))}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function yk(){const t=Ft();Yo(Ie()[kn],t)}function yr(t){let e=function QT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const n=[t];for(;e;){let i;if(ss(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new zt(903,!1);i=e.\u0275dir}if(i){if(r){n.push(i);const l=t;l.inputs=Hp(t.inputs),l.inputTransforms=Hp(t.inputTransforms),l.declaredInputs=Hp(t.declaredInputs),l.outputs=Hp(t.outputs);const c=i.hostBindings;c&&Tk(t,c);const u=i.viewQuery,d=i.contentQueries;if(u&&Ek(t,u),d&&wk(t,d),Lr(t.inputs,i.inputs),Lr(t.declaredInputs,i.declaredInputs),Lr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===l.inputTransforms&&(l.inputTransforms={}),Lr(l.inputTransforms,i.inputTransforms)),ss(i)&&i.data.animation){const T=t.data;T.animation=(T.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let l=0;l<o.length;l++){const c=o[l];c&&c.ngInherit&&c(t),c===yr&&(r=!1)}}e=Object.getPrototypeOf(e)}!function bk(t){let e=0,r=null;for(let n=t.length-1;n>=0;n--){const i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=ql(i.hostAttrs,r=ql(r,i.hostAttrs))}}(n)}function Hp(t){return t===Io?{}:t===Vr?[]:t}function Ek(t,e){const r=t.viewQuery;t.viewQuery=r?(n,i)=>{e(n,i),r(n,i)}:e}function wk(t,e){const r=t.contentQueries;t.contentQueries=r?(n,i,o)=>{e(n,i,o),r(n,i,o)}:e}function Tk(t,e){const r=t.hostBindings;t.hostBindings=r?(n,i)=>{e(n,i),r(n,i)}:e}function nS(t){const e=t.inputConfig,r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];Array.isArray(i)&&i[2]&&(r[n]=i[2])}t.inputTransforms=r}function Zp(t){return!!Ov(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ov(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ua(t,e,r){return t[e]=r}function wo(t,e,r){return!Object.is(t[e],r)&&(t[e]=r,!0)}function pc(t,e,r,n){const i=wo(t,e,r);return wo(t,e+1,n)||i}function li(t,e,r,n){const i=Ie();return wo(i,Sn(),e)&&(Ct(),ca(tn(),i,t,e,r,n)),li}function Nu(t,e,r,n,i,o){const c=pc(t,function Gt(){return G.lFrame.bindingIndex}(),r,i);return un(2),c?e+sr(r)+n+sr(i)+o:vr}function Ln(t,e,r,n,i,o,l,c){const u=Ie(),d=Ct(),T=t+Cr,B=d.firstCreatePass?function $k(t,e,r,n,i,o,l,c,u){const d=e.consts,T=xu(e,t,4,l||null,Ae(d,c));Av(e,r,T,Ae(d,u)),Yo(e,T);const B=T.tView=Cv(2,T,n,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,T),B.queries=e.queries.embeddedTView(T)),T}(T,d,u,e,r,n,i,o,l):d.data[T];Te(B,!1);const he=mS(d,u,B,t);qo()&&vp(d,u,he,B),Eo(he,u),Up(u,u[T]=UT(he,u,he,B)),tc(B)&&Tv(d,u,B),null!=l&&Sv(u,B,c)}let mS=function gS(t,e,r,n){return bo(!0),e[ur].createComment("")};function Hi(t){return re(function nt(){return G.lFrame.contextLView}(),Cr+t)}function Yt(t,e,r){const n=Ie();return wo(n,Sn(),e)&&fs(Ct(),tn(),n,t,e,n[ur],r,!1),Yt}function Uv(t,e,r,n,i){const l=i?"class":"style";Rv(t,r,e.inputs[l],l,n)}function cn(t,e,r,n){const i=Ie(),o=Ct(),l=Cr+t,c=i[ur],u=o.firstCreatePass?function Qk(t,e,r,n,i,o){const l=e.consts,u=xu(e,t,2,n,Ae(l,i));return Av(e,r,u,Ae(l,o)),null!==u.attrs&&Vp(u,u.attrs,!1),null!==u.mergedAttrs&&Vp(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(l,o,i,e,r,n):o.data[l],d=_S(o,i,u,c,e,t);i[l]=d;const T=tc(u);return Te(u,!0),Uw(c,d,u),32!=(32&u.flags)&&qo()&&vp(o,i,d,u),0===function ae(){return G.lFrame.elementDepthCount}()&&Eo(d,i),function le(){G.lFrame.elementDepthCount++}(),T&&(Tv(o,i,u),wv(o,u,i)),null!==n&&Sv(i,u),cn}function dn(){let t=Ft();et()?Oe():(t=t.parent,Te(t,!1));const e=t;(function Me(t){return G.skipHydrationRootTNode===t})(e)&&function Fe(){G.skipHydrationRootTNode=null}(),function ve(){G.lFrame.elementDepthCount--}();const r=Ct();return r.firstCreatePass&&(Yo(r,t),ou(t)&&r.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Kt(t){return 0!=(8&t.flags)}(e)&&Uv(r,e,Ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Nn(t){return 0!=(16&t.flags)}(e)&&Uv(r,e,Ie(),e.stylesWithoutHost,!1),dn}function Qn(t,e,r,n){return cn(t,e,r,n),dn(),Qn}let _S=(t,e,r,n,i,o)=>(bo(!0),mp(n,i,function Ki(){return G.lFrame.currentNamespace}()));function Fa(t,e,r){const n=Ie(),i=Ct(),o=t+Cr,l=i.firstCreatePass?function tL(t,e,r,n,i){const o=e.consts,l=Ae(o,n),c=xu(e,t,8,"ng-container",l);return null!==l&&Vp(c,l,!0),Av(e,r,c,Ae(o,i)),null!==e.queries&&e.queries.elementStart(e,c),c}(o,i,n,e,r):i.data[o];Te(l,!0);const c=vS(i,n,l,t);return n[o]=c,qo()&&vp(i,n,c,l),Eo(c,n),tc(l)&&(Tv(i,n,l),wv(i,l,n)),null!=r&&Sv(n,l),Fa}function Ba(){let t=Ft();const e=Ct();return et()?Oe():(t=t.parent,Te(t,!1)),e.firstCreatePass&&(Yo(e,t),ou(t)&&e.queries.elementEnd(t)),Ba}function gf(t,e,r){return Fa(t,e,r),Ba(),gf}let vS=(t,e,r,n)=>(bo(!0),V_(e[ur],""));function ao(){return Ie()}function _f(t){return!!t&&"function"==typeof t.then}function yS(t){return!!t&&"function"==typeof t.subscribe}function mr(t,e,r,n){const i=Ie(),o=Ct(),l=Ft();return function ES(t,e,r,n,i,o,l){const c=tc(n),d=t.firstCreatePass&&HT(t),T=e[Ei],B=jT(e);let he=!0;if(3&n.type||l){const Ue=ie(n,e),Et=l?l(Ue):Ue,Dt=B.length,wt=l?yn=>l(A(yn[n.index])):n.index;let fn=null;if(!l&&c&&(fn=function iL(t,e,r,n){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===r&&i[o+1]===n){const c=e[il],u=i[o+2];return c.length>u?c[u]:null}"string"==typeof l&&(o+=2)}return null}(t,e,i,n.index)),null!==fn)(fn.__ngLastListenerFn__||fn).__ngNextListenerFn__=o,fn.__ngLastListenerFn__=o,he=!1;else{o=TS(n,e,T,o,!1);const yn=r.listen(Et,i,o);B.push(o,yn),d&&d.push(i,wt,Dt,Dt+1)}}else o=TS(n,e,T,o,!1);const we=n.outputs;let Pe;if(he&&null!==we&&(Pe=we[i])){const Ue=Pe.length;if(Ue)for(let Et=0;Et<Ue;Et+=2){const Gn=e[Pe[Et]][Pe[Et+1]].subscribe(o),dr=B.length;B.push(o,Gn),d&&d.push(i,n.index,dr,-(dr+1))}}}(o,i,i[ur],l,t,e,n),mr}function wS(t,e,r,n){try{return D(6,e,r),!1!==r(n)}catch(i){return zT(t,i),!1}finally{D(7,e,r)}}function TS(t,e,r,n,i){return function o(l){if(l===Function)return n;af(t.componentOffset>-1?X(t.index,e):e);let u=wS(e,r,n,l),d=o.__ngNextListenerFn__;for(;d;)u=wS(e,r,d,l)&&u,d=d.__ngNextListenerFn__;return i&&!1===u&&l.preventDefault(),u}}function Vn(t=1){return function Ee(t){return(G.lFrame.contextLView=function st(t,e){for(;t>0;)e=e[ol],t--;return e}(t,G.lFrame.contextLView))[Ei]}(t)}function oL(t,e){let r=null;const n=function c_(t){const e=t.attrs;if(null!=e){const r=e.indexOf(5);if(!(1&r))return e[r+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===n?Jc(t,o,!0):d_(n,o))return i}else r=i}return r}function da(t){const e=Ie()[wi][oo];if(!e.projection){const n=e.projection=zd(t?t.length:1,null),i=n.slice();let o=e.child;for(;null!==o;){const l=t?oL(o,t):0;null!==l&&(i[l]?i[l].projectionNext=o:n[l]=o,i[l]=o),o=o.next}}}function Mi(t,e=0,r){const n=Ie(),i=Ct(),o=xu(i,Cr+t,16,null,r||null);null===o.projection&&(o.projection=e),Oe(),(!n[Us]||Q())&&32!=(32&o.flags)&&function fO(t,e,r){Fw(e[ur],0,e,r,Z_(t,r,e),Mw(r.parent||e[oo],r,e))}(i,n,o)}function $p(t,e){return t<<17|e<<2}function dl(t){return t>>17&32767}function jv(t){return 2|t}function mc(t){return(131068&t)>>2}function Hv(t,e){return-131069&t|e<<2}function Zv(t){return 1|t}function OS(t,e,r,n,i){const o=t[r+1],l=null===e;let c=n?dl(o):mc(o),u=!1;for(;0!==c&&(!1===u||l);){const T=t[c+1];dL(t[c],e)&&(u=!0,t[c+1]=n?Zv(T):jv(T)),c=n?dl(T):mc(T)}u&&(t[r+1]=n?jv(o):Zv(o))}function dL(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_u(t,e)>=0}function Vu(t,e,r){return Gs(t,e,r,!1),Vu}function Ti(t,e){return Gs(t,e,null,!0),Ti}function Gs(t,e,r,n){const i=Ie(),o=Ct(),l=un(2);o.firstUpdatePass&&function jS(t,e,r,n){const i=t.data;if(null===i[r+1]){const o=i[It()],l=function VS(t,e){return e>=t.expandoStartIndex}(t,r);(function GS(t,e){return 0!=(t.flags&(e?8:16))})(o,n)&&null===e&&!l&&(e=!1),e=function bL(t,e,r,n){const i=function hr(t){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=n?e.residualClasses:e.residualStyles;if(null===i)0===(n?e.classBindings:e.styleBindings)&&(r=vf(r=zv(null,t,e,r,n),e.attrs,n),o=null);else{const l=e.directiveStylingLast;if(-1===l||t[l]!==i)if(r=zv(i,t,e,r,n),null===o){let u=function EL(t,e,r){const n=r?e.classBindings:e.styleBindings;if(0!==mc(n))return t[dl(n)]}(t,e,n);void 0!==u&&Array.isArray(u)&&(u=zv(null,t,e,u[1],n),u=vf(u,e.attrs,n),function wL(t,e,r,n){t[dl(r?e.classBindings:e.styleBindings)]=n}(t,e,n,u))}else o=function TL(t,e,r){let n;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)n=vf(n,t[o].hostAttrs,r);return vf(n,e.attrs,r)}(t,e,n)}return void 0!==o&&(n?e.residualClasses=o:e.residualStyles=o),r}(i,o,e,n),function cL(t,e,r,n,i,o){let l=o?e.classBindings:e.styleBindings,c=dl(l),u=mc(l);t[n]=r;let T,d=!1;if(Array.isArray(r)?(T=r[1],(null===T||_u(r,T)>0)&&(d=!0)):T=r,i)if(0!==u){const he=dl(t[c+1]);t[n+1]=$p(he,c),0!==he&&(t[he+1]=Hv(t[he+1],n)),t[c+1]=function aL(t,e){return 131071&t|e<<17}(t[c+1],n)}else t[n+1]=$p(c,0),0!==c&&(t[c+1]=Hv(t[c+1],n)),c=n;else t[n+1]=$p(u,0),0===c?c=n:t[u+1]=Hv(t[u+1],n),u=n;d&&(t[n+1]=jv(t[n+1])),OS(t,T,n,!0),OS(t,T,n,!1),function uL(t,e,r,n,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&_u(o,e)>=0&&(r[n+1]=Zv(r[n+1]))}(e,T,t,n,o),l=$p(c,u),o?e.classBindings=l:e.styleBindings=l}(i,o,e,r,l,n)}}(o,t,l,n),e!==vr&&wo(i,l,e)&&function ZS(t,e,r,n,i,o,l,c){if(!(3&e.type))return;const u=t.data,d=u[c+1],T=function lL(t){return 1==(1&t)}(d)?zS(u,e,r,i,mc(d),l):void 0;Wp(T)||(Wp(o)||function sL(t){return 2==(2&t)}(d)&&(o=zS(u,null,r,i,c,l)),function pO(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let o=-1===n.indexOf("-")?void 0:ul.DashCase;null==i?t.removeStyle(r,n,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ul.Important),t.setStyle(r,n,i,o))}}(n,l,ee(It(),r),i,o))}(o,o.data[It()],i,i[ur],t,i[l+1]=function IL(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Rr(ds(t)))),t}(e,r),n,l)}function zv(t,e,r,n,i){let o=null;const l=r.directiveEnd;let c=r.directiveStylingLast;for(-1===c?c=r.directiveStart:c++;c<l&&(o=e[c],n=vf(n,o.hostAttrs,i),o!==t);)c++;return null!==t&&(r.directiveStylingLast=c),n}function vf(t,e,r){const n=r?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?i=l:i===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),us(t,l,!!r||e[++o]))}return void 0===t?null:t}function zS(t,e,r,n,i,o){const l=null===e;let c;for(;i>0;){const u=t[i],d=Array.isArray(u),T=d?u[1]:u,B=null===T;let he=r[i+1];he===vr&&(he=B?Vr:void 0);let we=B?R_(he,n):T===n?he:void 0;if(d&&!Wp(we)&&(we=R_(u,n)),Wp(we)&&(c=we,l))return c;const Pe=t[i+1];i=l?dl(Pe):mc(Pe)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(c=R_(u,n))}return c}function Wp(t){return void 0!==t}function Br(t,e=""){const r=Ie(),n=Ct(),i=t+Cr,o=n.firstCreatePass?xu(n,i,1,e,null):n.data[i],l=qS(n,r,o,e,t);r[i]=l,qo()&&vp(n,r,l,o),Te(o,!1)}let qS=(t,e,r,n,i)=>(bo(!0),function pp(t,e){return t.createText(e)}(e[ur],n));function Po(t){return Ko("",t,""),Po}function Ko(t,e,r){const n=Ie(),i=function Mu(t,e,r,n){return wo(t,Sn(),r)?e+sr(r)+n:vr}(n,t,e,r);return i!==vr&&La(n,It(),i),Ko}function Kp(t,e,r,n,i){const o=Ie(),l=Nu(o,t,e,r,n,i);return l!==vr&&La(o,It(),l),Kp}function yf(t,e,r){const n=Ie();return wo(n,Sn(),e)&&fs(Ct(),tn(),n,t,e,n[ur],r,!0),yf}const Hu="en-US";let fC=Hu;function Yv(t,e,r,n,i){if(t=Un(t),Array.isArray(t))for(let o=0;o<t.length;o++)Yv(t[o],e,r,n,i);else{const o=Ct(),l=Ie(),c=Ft();let u=dc(t)?t:Un(t.provide);const d=oT(t),T=1048575&c.providerIndexes,B=c.directiveStart,he=c.providerIndexes>>20;if(dc(t)||!t.multi){const we=new As(d,i,yt),Pe=Wv(u,e,i?T:T+he,B);-1===Pe?(I_(np(c,l),o,u),$v(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(we),l.push(we)):(r[Pe]=we,l[Pe]=we)}else{const we=Wv(u,e,T+he,B),Pe=Wv(u,e,T,T+he),Et=Pe>=0&&r[Pe];if(i&&!Et||!i&&!(we>=0&&r[we])){I_(np(c,l),o,u);const Dt=function $F(t,e,r,n,i){const o=new As(t,r,yt);return o.multi=[],o.index=e,o.componentProviders=0,FC(o,i,n&&!r),o}(i?YF:qF,r.length,i,n,d);!i&&Et&&(r[Pe].providerFactory=Dt),$v(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),r.push(Dt),l.push(Dt)}else $v(o,t,we>-1?we:Pe,FC(r[i?Pe:we],d,!i&&n));!i&&n&&Et&&r[Pe].componentProviders++}}}function $v(t,e,r,n){const i=dc(e),o=function qO(t){return!!t.useClass}(e);if(i||o){const u=(o?Un(e.useClass):e).prototype.ngOnDestroy;if(u){const d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const T=d.indexOf(r);-1===T?d.push(r,[n,u]):d[T+1].push(n,u)}else d.push(r,u)}}}function FC(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function Wv(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function qF(t,e,r,n){return Kv(this.multi,[])}function YF(t,e,r,n){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=sc(r,r[kn],this.providerFactory.index,n);o=c.slice(0,l),Kv(i,o);for(let u=l;u<c.length;u++)o.push(c[u])}else o=[],Kv(i,o);return o}function Kv(t,e){for(let r=0;r<t.length;r++)e.push((0,t[r])());return e}function Qr(t,e=[]){return r=>{r.providersResolver=(n,i)=>function GF(t,e,r){const n=Ct();if(n.firstCreatePass){const i=ss(t);Yv(r,n.data,n.blueprint,i,!0),Yv(e,n.data,n.blueprint,i,!1)}}(n,i?i(t):t,e)}}class _c{}class BC{}class Xv extends _c{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KT(this);const i=yo(e);this._bootstrapComponents=ka(i.bootstrap),this._r3Injector=_T(e,r,[{provide:_c,useValue:this},{provide:nf,useValue:this.componentFactoryResolver},...n],Rr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Qv extends BC{constructor(e){super(),this.moduleType=e}create(e){return new Xv(this.moduleType,e,[])}}class UC extends _c{constructor(e){super(),this.componentFactoryResolver=new KT(this),this.instance=null;const r=new Ip([...e.providers,{provide:_c,useValue:this},{provide:nf,useValue:this.componentFactoryResolver}],e.parent||Ap(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function VC(t,e,r=null){return new UC({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}let XF=(()=>{var t;class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=tT(0,n.type),o=i.length>0?VC([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=gn({token:t,providedIn:"environment",factory:()=>new t(Wt(zs))}),e})();function ri(t){t.getStandaloneInjector=e=>e.get(XF).getOrCreateStandaloneInjector(t)}function pa(t,e,r,n){return YC(Ie(),Ot(),t,e,r,n)}function ey(t,e,r,n,i){return function $C(t,e,r,n,i,o,l){const c=e+r;return pc(t,c,i,o)?ua(t,c+2,l?n.call(l,i,o):n(i,o)):Cf(t,c+2)}(Ie(),Ot(),t,e,r,n,i)}function Cf(t,e){const r=t[e];return r===vr?void 0:r}function YC(t,e,r,n,i,o){const l=e+r;return wo(t,l,i)?ua(t,l+1,o?n.call(o,i):n(i)):Cf(t,l+1)}function fl(t,e){const r=Ct();let n;const i=t+Cr;r.firstCreatePass?(n=function m2(t,e){if(e)for(let r=e.length-1;r>=0;r--){const n=e[r];if(t===n.name)return n}}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];const o=n.factory||(n.factory=Ma(n.type)),c=vo(yt);try{const u=Zs(!1),d=o();return Zs(u),function Xk(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}(r,Ie(),i,d),d}finally{vo(c)}}function hl(t,e,r){const n=t+Cr,i=Ie(),o=re(i,n);return function Af(t,e){return t[kn].data[e].pure}(i,n)?YC(i,Ot(),e,o.transform,r,o):o.transform(r)}function ty(t){return e=>{setTimeout(t,void 0,e)}}const ii=class b2 extends ut{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,r,n){let i=e,o=r||(()=>null),l=n;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(o=ty(o),i&&(i=ty(i)),l&&(l=ty(l)));const c=super.subscribe({next:i,error:o,complete:l});return e instanceof F&&e.add(c),c}};function E2(){return this._results[Symbol.iterator]()}class Zu{get changes(){return this._changes||(this._changes=new ii)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Zu.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=E2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){const n=this;n.dirty=!1;const i=function Is(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function _N(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],o=e[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}(n._results,i,r))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function T2(t,e,r,n=!0){const i=e[kn];if(function sO(t,e,r,n){const i=Ui+n,o=r.length;n>0&&(r[i-1][xo]=e),n<o-Ui?(e[xo]=r[i],nw(r,Ui+n,e)):(r.push(e),e[xo]=null),e[gi]=r;const l=e[Xl];null!==l&&r!==l&&function aO(t,e){const r=t[sl];e[wi]!==e[gi][gi][wi]&&(t[Pd]=!0),null===r?t[sl]=[e]:r.push(e)}(l,e);const c=e[Go];null!==c&&c.insertView(t),e[fr]|=128}(i,e,t,r),n){const o=G_(r,t),l=e[ur],c=_p(l,t[os]);null!==c&&function rO(t,e,r,n,i,o){n[bi]=i,n[oo]=e,Wd(t,n,r,1,i,o)}(i,t[oo],l,e,c,o)}}let ma=(()=>{class e{}return e.__NG_ELEMENT_ID__=A2,e})();const S2=ma,C2=class extends S2{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){const i=function w2(t,e,r,n){const i=e.tView,c=Bp(t,i,r,4096&t[fr]?4096:16,null,e,null,null,null,n?.injector??null,n?.hydrationInfo??null);c[Xl]=t[e.index];const d=t[Go];return null!==d&&(c[Go]=d.createEmbeddedView(i)),Mv(i,c,r),c}(this._declarationLView,this._declarationTContainer,e,{injector:r,hydrationInfo:n});return new uf(i)}};function A2(){return tm(Ft(),Ie())}function tm(t,e){return 4&t.type?new C2(e,t,Au(t,e)):null}let hs=(()=>{class e{}return e.__NG_ELEMENT_ID__=N2,e})();function N2(){return iA(Ft(),Ie())}const O2=hs,nA=class extends O2{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return Au(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const e=rp(this._hostTNode,this._hostLView);if(_r(e)){const r=Or(e,this._hostLView),n=zn(e);return new No(r[kn].data[n+8],r)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const r=rA(this._lContainer);return null!==r&&r[e]||null}get length(){return this._lContainer.length-Ui}createEmbeddedView(e,r,n){let i,o;"number"==typeof n?i=n:null!=n&&(i=n.index,o=n.injector);const c=e.createEmbeddedViewImpl(r||{},o,null);return this.insertImpl(c,i,false),c}createComponent(e,r,n,i,o){const l=e&&!function Zd(t){return"function"==typeof t}(e);let c;if(l)c=r;else{const Ue=r||{};c=Ue.index,n=Ue.injector,i=Ue.projectableNodes,o=Ue.environmentInjector||Ue.ngModuleRef}const u=l?e:new df(Mr(e)),d=n||this.parentInjector;if(!o&&null==u.ngModule){const Et=(l?d:this.parentInjector).get(zs,null);Et&&(o=Et)}Mr(u.componentType??{});const we=u.create(d,i,null,o);return this.insertImpl(we.hostView,c,false),we}insert(e,r){return this.insertImpl(e,r,!1)}insertImpl(e,r,n){const i=e._lView;if(function Se(t){return mo(t[gi])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[gi],T=new nA(d,d[oo],d[gi]);T.detach(T.indexOf(e))}}const l=this._adjustIndex(r),c=this._lContainer;return T2(c,i,l,!n),e.attachToViewContainerRef(),nw(ny(c),l,e),e}move(e,r){return this.insert(e,r)}indexOf(e){const r=rA(this._lContainer);return null!==r?r.indexOf(e):-1}remove(e){const r=this._adjustIndex(e,-1),n=gp(this._lContainer,r);n&&(op(ny(this._lContainer),r),j_(n[kn],n))}detach(e){const r=this._adjustIndex(e,-1),n=gp(this._lContainer,r);return n&&null!=op(ny(this._lContainer),r)?new uf(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function rA(t){return t[8]}function ny(t){return t[8]||(t[8]=[])}function iA(t,e){let r;const n=e[t.index];return mo(n)?r=n:(r=UT(n,e,null,t),e[t.index]=r,Up(e,r)),oA(r,e,t,n),new nA(r,t,e)}let oA=function sA(t,e,r,n){if(t[os])return;let i;i=8&r.type?A(n):function P2(t,e){const r=t[ur],n=r.createComment(""),i=ie(e,t);return lc(r,_p(r,i),n,function dO(t,e){return t.nextSibling(e)}(r,i),!1),n}(e,r),t[os]=i};class ry{constructor(e){this.queryList=e,this.matches=null}clone(){return new ry(this.queryList)}setDirty(){this.queryList.setDirty()}}class iy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const r=e.queries;if(null!==r){const n=null!==e.contentQueries?e.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){const l=r.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new iy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)null!==dA(e,r).matches&&this.queries[r].setDirty()}}class aA{constructor(e,r,n=null){this.predicate=e,this.flags=r,this.read=n}}class oy{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){const i=null!==r?r.length:0,o=this.getByIndex(n).embeddedTView(e,i);o&&(o.indexInDeclarationView=n,null!==r?r.push(o):r=[o])}return null!==r?new oy(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sy{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new sy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const o=n[i];this.matchTNodeWithReadOption(e,r,F2(r,o)),this.matchTNodeWithReadOption(e,r,ip(r,e,o,!1,!1))}else n===ma?4&r.type&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,ip(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Nr||i===hs||i===ma&&4&r.type)this.addMatch(r.index,-2);else{const o=ip(r,e,i,!1,!1);null!==o&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(e,r){null===this.matches?this.matches=[e,r]:this.matches.push(e,r)}}function F2(t,e){const r=t.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1];return null}function U2(t,e,r,n){return-1===r?function B2(t,e){return 11&t.type?Au(t,e):4&t.type?tm(t,e):null}(e,t):-2===r?function V2(t,e,r){return r===Nr?Au(e,t):r===ma?tm(e,t):r===hs?iA(e,t):void 0}(t,e,n):sc(t,t[kn],r,e)}function lA(t,e,r,n){const i=e[Go].queries[n];if(null===i.matches){const o=t.data,l=r.matches,c=[];for(let u=0;u<l.length;u+=2){const d=l[u];c.push(d<0?null:U2(e,o[d],l[u+1],r.metadata.read))}i.matches=c}return i.matches}function ay(t,e,r,n){const i=t.queries.getByIndex(r),o=i.matches;if(null!==o){const l=lA(t,e,i,r);for(let c=0;c<o.length;c+=2){const u=o[c];if(u>0)n.push(l[c/2]);else{const d=o[c+1],T=e[-u];for(let B=Ui;B<T.length;B++){const he=T[B];he[Xl]===he[gi]&&ay(he[kn],he,d,n)}if(null!==T[sl]){const B=T[sl];for(let he=0;he<B.length;he++){const we=B[he];ay(we[kn],we,d,n)}}}}}return n}function ci(t){const e=Ie(),r=Ct(),n=nr();pr(n+1);const i=dA(r,n);if(t.dirty&&function De(t){return 4==(4&t[fr])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?ay(r,e,n,[]):lA(r,e,i,n);t.reset(o,hP),t.notifyOnChanges()}return!0}return!1}function Lo(t,e,r){const n=Ct();n.firstCreatePass&&(uA(n,new aA(t,e,r),-1),2==(2&e)&&(n.staticViewQueries=!0)),cA(n,Ie(),e)}function Qo(t,e,r,n){const i=Ct();if(i.firstCreatePass){const o=Ft();uA(i,new aA(e,r,n),o.index),function H2(t,e){const r=t.contentQueries||(t.contentQueries=[]);e!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,e)}(i,t),2==(2&r)&&(i.staticContentQueries=!0)}cA(i,Ie(),r)}function ui(){return function j2(t,e){return t[Go].queries[e].queryList}(Ie(),nr())}function cA(t,e,r){const n=new Zu(4==(4&r));(function UP(t,e,r,n){const i=jT(e);i.push(r),t.firstCreatePass&&HT(t).push(n,i.length-1)})(t,e,n,n.destroy),null===e[Go]&&(e[Go]=new iy),e[Go].queries.push(new ry(n))}function uA(t,e,r){null===t.queries&&(t.queries=new oy),t.queries.track(new sy(e,r))}function dA(t,e){return t.queries.getByIndex(e)}function ly(t,e){return tm(t,e)}const DA=new ln("Application Initializer");let py=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=$t(DA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const l=o();if(_f(l))n.push(l);else if(yS(l)){const c=new Promise((u,d)=>{l.subscribe({complete:u,error:d})});n.push(c)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),0===n.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),xA=(()=>{var t;class e{log(n){console.log(n)}warn(n){console.warn(n)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const ga=new ln("LocaleId",{providedIn:"root",factory:()=>$t(ga,wr.Optional|wr.SkipSelf)||function cB(){return typeof $localize<"u"&&$localize.locale||Hu}()});let RA=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ht(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class fB{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}}let hB=(()=>{var t;class e{compileModuleSync(n){return new Qv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),l=ka(yo(n).declarations).reduce((c,u)=>{const d=Mr(u);return d&&c.push(new df(d)),c},[]);return new fB(i,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function PA(...t){}class lr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ii(!1),this.onMicrotaskEmpty=new ii(!1),this.onStable=new ii(!1),this.onError=new ii(!1),typeof Zone>"u")throw new zt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function OB(){const t="function"==typeof qr.requestAnimationFrame;let e=qr[t?"requestAnimationFrame":"setTimeout"],r=qr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function LB(t){const e=()=>{!function kB(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(qr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vy(t),t.isCheckStableRunning=!0,_y(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,l,c)=>{try{return kA(t),r.invokeTask(i,o,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),LA(t)}},onInvoke:(r,n,i,o,l,c,u)=>{try{return kA(t),r.invoke(i,o,l,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),LA(t)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,vy(t),_y(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lr.isInAngularZone())throw new zt(909,!1)}static assertNotInAngularZone(){if(lr.isInAngularZone())throw new zt(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,e,PB,PA,PA);try{return o.runTask(l,r,n)}finally{o.cancelTask(l)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}}const PB={};function _y(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function kA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function LA(t){t._nesting--,_y(t)}const FA=new ln("",{providedIn:"root",factory:BA});function BA(){const t=$t(lr);let e=!0;return Ao(new $e(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new $e(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{lr.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const l=t.onUnstable.subscribe(()=>{lr.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),l.unsubscribe()}}).pipe(Xt()))}const UA=new ln("");let pl=null;const wy=new ln("PlatformDestroyListeners"),Ty=new ln("appBootstrapListener");function ZB(t){try{const{rootComponent:e,appProviders:r,platformProviders:n}=t,i=function HB(t=[]){if(pl)return pl;const e=function ZA(t=[],e){return Oo.create({name:e,providers:[{provide:iv,useValue:"platform"},{provide:wy,useValue:new Set([()=>pl=null])},...t]})}(t);return pl=e,function jA(){!function Qh(t){Xh=t}(()=>{throw new zt(600,!1)})}(),function HA(t){t.get(sT,null)?.forEach(r=>r())}(e),e}(n),o=[$B(),...r||[]],c=new UC({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(lr);return u.run(()=>{c.resolveInjectorInitializers();const d=c.get(la,null);let T;u.runOutsideAngular(()=>{T=u.onError.subscribe({next:we=>{d.handleError(we)}})});const B=()=>c.destroy(),he=i.get(wy);return he.add(B),c.onDestroy(()=>{T.unsubscribe(),he.delete(B)}),function qA(t,e,r){try{const n=r();return _f(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(d,u,()=>{const we=c.get(py);return we.runInitializers(),we.donePromise.then(()=>{!function hC(t){Ai(t,"Expected localeId to be defined"),"string"==typeof t&&(fC=t.toLowerCase().replace(/_/g,"-"))}(c.get(ga,Hu)||Hu);const Ue=c.get(ml);return void 0!==e&&Ue.bootstrap(e),Ue})})})}catch(e){return Promise.reject(e)}}let ml=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$t(WA),this.zoneIsStable=$t(FA),this.componentTypes=[],this.components=[],this.isStable=$t(RA).hasPendingTasks.pipe(Wn(n=>n?Jn(!1):this.zoneIsStable),di(),Xt()),this._injector=$t(zs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const o=n instanceof dT;if(!this._injector.get(py).done)throw!o&&function nl(t){const e=Mr(t)||Wi(t)||io(t);return null!==e&&e.standalone}(n),new zt(405,!1);let c;c=o?n:this._injector.get(nf).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const u=function VB(t){return t.isBoundToModule}(c)?void 0:this._injector.get(_c),T=c.create(Oo.NULL,[],i||c.selector,u),B=T.location.nativeElement,he=T.injector.get(UA,null);return he?.registerApplication(B),T.onDestroy(()=>{this.detachView(T.hostView),sm(this.components,T),he?.unregisterApplication(B)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new zt(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;sm(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(Ty,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>sm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new zt(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function sm(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const WA=new ln("",{providedIn:"root",factory:()=>$t(la).handleError.bind(void 0)});function qB(){const t=$t(lr),e=$t(la);return r=>t.runOutsideAngular(()=>e.handleError(r))}let YB=(()=>{var t;class e{constructor(){this.zone=$t(lr),this.applicationRef=$t(ml)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function KA(t){return[{provide:lr,useFactory:t},{provide:Qd,multi:!0,useFactory:()=>{const e=$t(YB,{optional:!0});return()=>e.initialize()}},{provide:WA,useFactory:qB},{provide:FA,useFactory:BA}]}function $B(t){return tv([[],KA(()=>new lr(function GA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}(t)))])}let Bo=(()=>{class e{}return e.__NG_ELEMENT_ID__=WB,e})();function WB(t){return function KB(t,e,r){if(Ra(t)&&!r){const n=X(t.index,e);return new uf(n,n)}return 47&t.type?new uf(e[wi],e):null}(Ft(),Ie(),16==(16&t))}class eI{constructor(){}supports(e){return Zp(e)}create(e){return new nU(e)}}const tU=(t,e)=>e;class nU{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tU}forEachItem(e){let r;for(r=this._itHead;null!==r;r=r._next)e(r)}forEachOperation(e){let r=this._itHead,n=this._removalsHead,i=0,o=null;for(;r||n;){const l=!n||r&&r.currentIndex<nI(n,i,o)?r:n,c=nI(l,i,o),u=l.currentIndex;if(l===n)i--,n=n._nextRemoved;else if(r=r._next,null==l.previousIndex)i++;else{o||(o=[]);const d=c-i,T=u-i;if(d!=T){for(let he=0;he<d;he++){const we=he<o.length?o[he]:o[he]=0,Pe=we+he;T<=Pe&&Pe<d&&(o[he]=we+1)}o[l.previousIndex]=T-d}}c!==u&&e(l,c,u)}}forEachPreviousItem(e){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)e(r)}forEachMovedItem(e){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)e(r)}forEachIdentityChange(e){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)e(r)}diff(e){if(null==e&&(e=[]),!Zp(e))throw new zt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,l,r=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],l=this._trackByFn(c,o),null!==r&&Object.is(r.trackById,l)?(n&&(r=this._verifyReinsertion(r,o,l,c)),Object.is(r.item,o)||this._addIdentityChange(r,o)):(r=this._mismatch(r,o,l,c),n=!0),r=r._next}else i=0,function Rk(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{const r=t[Symbol.iterator]();let n;for(;!(n=r.next()).done;)e(n.value)}}(e,c=>{l=this._trackByFn(i,c),null!==r&&Object.is(r.trackById,l)?(n&&(r=this._verifyReinsertion(r,c,l,i)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,l,i),n=!0),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,r,n,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._moveAfter(e,o,i)):e=this._addAfter(new rU(r,n),o,i),e}_verifyReinsertion(e,r,n,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const r=e._next;this._addToRemovals(this._unlink(e)),e=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,r,n),this._addToMoves(e,n),e}_moveAfter(e,r,n){return this._unlink(e),this._insertAfter(e,r,n),this._addToMoves(e,n),e}_addAfter(e,r,n){return this._insertAfter(e,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,r,n){const i=null===r?this._itHead:r._next;return e._next=i,e._prev=r,null===i?this._itTail=e:i._prev=e,null===r?this._itHead=e:r._next=e,null===this._linkedRecords&&(this._linkedRecords=new tI),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const r=e._prev,n=e._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,e}_addToMoves(e,r){return e.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tI),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,r){return e.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class rU{constructor(e,r){this.item=e,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iU{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const r=e._prevDup,n=e._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class tI{constructor(){this.map=new Map}put(e){const r=e.trackById;let n=this.map.get(r);n||(n=new iU,this.map.set(r,n)),n.add(e)}get(e,r){const i=this.map.get(e);return i?i.get(e,r):null}remove(e){const r=e.trackById;return this.map.get(r).remove(e)&&this.map.delete(r),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nI(t,e,r){const n=t.previousIndex;if(null===n)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}class rI{constructor(){}supports(e){return e instanceof Map||Ov(e)}create(){return new oU}}class oU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let r;for(r=this._mapHead;null!==r;r=r._next)e(r)}forEachPreviousItem(e){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)e(r)}forEachChangedItem(e){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)e(r)}diff(e){if(e){if(!(e instanceof Map||Ov(e)))throw new zt(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,n),this._appendAfter=r,r=r._next;else{const o=this._getOrCreateRecordForKey(i,n);r=this._insertBeforeOrAppend(r,o)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let n=r;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,r){if(e){const n=e._prev;return r._next=e,r._prev=n,e._prev=r,n&&(n._next=r),e===this._mapHead&&(this._mapHead=r),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(e,r){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,r);const o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}const n=new sU(e);return this._records.set(e,n),n.currentValue=r,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,r){Object.is(r,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=r,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,r){e instanceof Map?e.forEach(r):Object.keys(e).forEach(n=>r(e[n],n))}}class sU{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iI(){return new cm([new eI])}let cm=(()=>{var t;class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||iI()),deps:[[e,new ap,new vu]]}}find(n){const i=this.factories.find(o=>o.supports(n));if(null!=i)return i;throw new zt(901,!1)}}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:iI}),e})();function oI(){return new xf([new rI])}let xf=(()=>{var t;class e{constructor(n){this.factories=n}static create(n,i){if(i){const o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||oI()),deps:[[e,new ap,new vu]]}}find(n){const i=this.factories.find(o=>o.supports(n));if(i)return i;throw new zt(901,!1)}}return(t=e).\u0275prov=gn({token:t,providedIn:"root",factory:oI}),e})();function qu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Ry=null;function gl(){return Ry}class EU{}const Dr=new ln("DocumentToken");let hI=(()=>{var t;class e{historyGo(n){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t(wU)},providedIn:"platform"}),e})(),wU=(()=>{var t;class e extends hI{constructor(){super(),this._doc=$t(Dr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gl().getBaseHref(this._doc)}onPopState(n){const i=gl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=gl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function pI(t,e){if(0==t.length)return e;if(0==e.length)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,2==r?t+e.substring(1):1==r?t+e:t+"/"+e}function mI(t){const e=t.match(/#|\?|$/),r=e&&e.index||t.length;return t.slice(0,r-("/"===t[r-1]?1:0))+t.slice(r)}function yc(t){return t&&"?"!==t[0]?"?"+t:t}let dm=(()=>{var t;class e{historyGo(n){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t(SU)},providedIn:"root"}),e})();const TU=new ln("appBaseHref");let SU=(()=>{var t;class e extends dm{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??$t(Dr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return pI(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+yc(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,l){const c=this.prepareExternalUrl(o+yc(l));this._platformLocation.pushState(n,i,c)}replaceState(n,i,o,l){const c=this.prepareExternalUrl(o+yc(l));this._platformLocation.replaceState(n,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(hI),Wt(TU,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),fm=(()=>{var t;class e{constructor(n){this._subject=new ii,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function IU(t){if(new RegExp("^(https?:)?//").test(t)){const[,r]=t.split(/\/\/[^\/]+/);return r}return t}(mI(gI(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+yc(i))}normalize(n){return e.stripTrailingSlash(function AU(t,e){if(!t||!e.startsWith(t))return e;const r=e.substring(t.length);return""===r||["/",";","?","#"].includes(r[0])?r:e}(this._basePath,gI(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yc(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yc(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}}return(t=e).normalizeQueryParams=yc,t.joinWithSlash=pI,t.stripTrailingSlash=mI,t.\u0275fac=function(n){return new(n||t)(Wt(dm))},t.\u0275prov=gn({token:t,factory:function(){return function CU(){return new fm(Wt(dm))}()},providedIn:"root"}),e})();function gI(t){return t.replace(/\/index.html$/,"")}const Vy=/\s+/,CI=[];let $u=(()=>{var t;class e{constructor(n,i,o,l){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=o,this._renderer=l,this.initialClasses=CI,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Vy):CI}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Vy):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){const o=this.stateMap.get(n);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(Vy).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(cm),yt(xf),yt(Nr),yt(Pa))},t.\u0275dir=Fn({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class hV{constructor(e,r,n,i){this.$implicit=e,this.ngForOf=r,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _l=(()=>{var t;class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((o,l,c)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new hV(o.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===l?void 0:l);else if(null!==l){const u=i.get(l);i.move(u,c),II(u,o)}});for(let o=0,l=i.length;o<l;o++){const u=i.get(o).context;u.index=o,u.count=l,u.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{II(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,i){return!0}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(hs),yt(ma),yt(cm))},t.\u0275dir=Fn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function II(t,e){t.context.$implicit=e.item}let lo=(()=>{var t;class e{constructor(n,i){this._viewContainer=n,this._context=new pV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){DI("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){DI("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(hs),yt(ma))},t.\u0275dir=Fn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class pV{constructor(){this.$implicit=null,this.ngIf=null}}function DI(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Rr(e)}'.`)}class jy{constructor(e,r){this._viewContainerRef=e,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Tm=(()=>{var t;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const i=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const i of this._defaultViews)i.enforceState(n)}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=Fn({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),xI=(()=>{var t;class e{constructor(n,i,o){this.ngSwitch=o,o._addCase(),this._view=new jy(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(hs),yt(ma),yt(Tm,9))},t.\u0275dir=Fn({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),Sm=(()=>{var t;class e{constructor(n,i,o){this._ngEl=n,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[o,l]=n.split("."),c=-1===o.indexOf("-")?void 0:ul.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,o,l?`${i}${l}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,o,c)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(xf),yt(Pa))},t.\u0275dir=Fn({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),Hy=(()=>{var t;class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:o,ngTemplateOutletContext:l,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(o,l,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(hs))},t.\u0275dir=Fn({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Mo]}),e})(),Nf=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({}),e})();const NI="browser";function OI(t){return"server"===t}class p3 extends EU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yy extends p3{static makeCurrent(){!function bU(t){Ry||(Ry=t)}(new Yy)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return(r=r||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return"window"===r?window:"document"===r?e:"body"===r?e.body:null}getBaseHref(e){const r=function m3(){return Pf=Pf||document.querySelector("base"),Pf?Pf.getAttribute("href"):null}();return null==r?null:function g3(t){Im=Im||document.createElement("a"),Im.setAttribute("href",t);const e=Im.pathname;return"/"===e.charAt(0)?e:`/${e}`}(r)}resetBaseElement(){Pf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function dV(t,e){e=encodeURIComponent(e);for(const r of t.split(";")){const n=r.indexOf("="),[i,o]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Im,Pf=null,v3=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();const $y=new ln("EventManagerPlugins");let BI=(()=>{var t;class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(l=>l.supports(n)),!i)throw new zt(5101,!1);return this._eventNameToPlugin.set(n,i),i}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt($y),Wt(lr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();class UI{constructor(e){this._doc=e}}const Wy="ng-app-id";let VI=(()=>{var t;class e{constructor(n,i,o,l={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=OI(l),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Wy}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){const o=this.styleRef;if(o.has(n)){const l=o.get(n);return l.usage+=i,l.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const o=this.styleNodesInDOM,l=o?.get(i);if(l?.parentNode===n)return o.delete(i),l.removeAttribute(Wy),l;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Wy,this.appId),c}}addStyleToHost(n,i){const o=this.getStyleElement(n,i);n.appendChild(o);const l=this.styleRef,c=l.get(i)?.elements;c?c.push(o):l.set(i,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr),Wt(Dp),Wt(lv,8),Wt(fc))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();const Ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xy=/%COMP%/g,w3=new ln("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function HI(t,e){return e.map(r=>r.replace(Xy,t))}let Qy=(()=>{var t;class e{constructor(n,i,o,l,c,u,d,T=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=l,this.doc=c,this.platformId=u,this.ngZone=d,this.nonce=T,this.rendererByCompId=new Map,this.platformIsServer=OI(u),this.defaultRenderer=new Jy(n,c,d,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zo.ShadowDom&&(i={...i,encapsulation:zo.Emulated});const o=this.getOrCreateRenderer(n,i);return o instanceof zI?o.applyToHost(n):o instanceof eb&&o.applyStyles(),o}getOrCreateRenderer(n,i){const o=this.rendererByCompId;let l=o.get(i.id);if(!l){const c=this.doc,u=this.ngZone,d=this.eventManager,T=this.sharedStylesHost,B=this.removeStylesOnCompDestroy,he=this.platformIsServer;switch(i.encapsulation){case zo.Emulated:l=new zI(d,T,i,this.appId,B,c,u,he);break;case zo.ShadowDom:return new A3(d,T,n,i,c,u,this.nonce,he);default:l=new eb(d,T,i,B,c,u,he)}o.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(BI),Wt(VI),Wt(Dp),Wt(w3),Wt(Dr),Wt(fc),Wt(lr),Wt(lv))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();class Jy{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Ky[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(ZI(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(ZI(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n="string"==typeof e?this.doc.querySelector(e):e;if(!n)throw new zt(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;const o=Ky[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){const i=Ky[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(ul.DashCase|ul.Important)?e.style.setProperty(r,n,i&ul.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&ul.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e[r]=n}setValue(e,r){e.nodeValue=r}listen(e,r,n){if("string"==typeof e&&!(e=gl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if("__ngUnwrap__"===r)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))&&r.preventDefault()}}}function ZI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class A3 extends Jy{constructor(e,r,n,i,o,l,c,u){super(e,o,l,u),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=HI(i.id,i.styles);for(const T of d){const B=document.createElement("style");c&&B.setAttribute("nonce",c),B.textContent=T,this.shadowRoot.appendChild(B)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class eb extends Jy{constructor(e,r,n,i,o,l,c,u){super(e,o,l,c),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=u?HI(u,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zI extends eb{constructor(e,r,n,i,o,l,c,u){const d=i+"-"+n.id;super(e,r,n,o,l,c,u,d),this.contentAttr=function T3(t){return"_ngcontent-%COMP%".replace(Xy,t)}(d),this.hostAttr=function S3(t){return"_nghost-%COMP%".replace(Xy,t)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){const n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}}const GI=["alt","control","meta","shift"],D3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},x3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function qI(t){return{appProviders:[...F3,...t?.providers??[]],platformProviders:k3}}const k3=[{provide:fc,useValue:NI},{provide:sT,useValue:function N3(){Yy.makeCurrent()},multi:!0},{provide:Dr,useFactory:function P3(){return function yO(t){$_=t}(document),document},deps:[]}],F3=[{provide:iv,useValue:"root"},{provide:la,useFactory:function O3(){return new la},deps:[]},{provide:$y,useClass:(()=>{var t;class e extends UI{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})(),multi:!0,deps:[Dr,lr,fc]},{provide:$y,useClass:(()=>{var t;class e extends UI{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,o){const l=e.parseEventName(i),c=e.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gl().onAndCancel(n,l.domEventName,c))}static parseEventName(n){const i=n.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=e._normalizeKey(i.pop());let c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),GI.forEach(T=>{const B=i.indexOf(T);B>-1&&(i.splice(B,1),c+=T+".")}),c+=l,0!=i.length||0===l.length)return null;const d={};return d.domEventName=o,d.fullKey=c,d}static matchEventFullKeyCode(n,i){let o=D3[n.key]||n.key,l="";return i.indexOf("code.")>-1&&(o=n.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),GI.forEach(c=>{c!==o&&(0,x3[c])(n)&&(l+=c+".")}),l+=o,l===i)}static eventCallback(n,i,o){return l=>{e.matchEventFullKeyCode(l,n)&&o.runGuarded(()=>i(l))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})(),multi:!0,deps:[Dr]},Qy,VI,BI,{provide:rf,useExisting:Qy},{provide:class zV{},useClass:v3,deps:[]},[]];let YI=(()=>{var t;class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr))},t.\u0275prov=gn({token:t,factory:function(n){let i=null;return i=n?new n:function U3(){return new YI(Wt(Dr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let Ws=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(n){let i=null;return i=n?new(n||t):Wt(KI),i},providedIn:"root"}),e})(),KI=(()=>{var t;class e extends Ws{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case ji.NONE:return i;case ji.HTML:return aa(i,"HTML")?ds(i):Ww(this._doc,String(i)).toString();case ji.STYLE:return aa(i,"Style")?ds(i):i;case ji.SCRIPT:if(aa(i,"Script"))return ds(i);throw new zt(5200,!1);case ji.URL:return aa(i,"URL")?ds(i):wp(String(i));case ji.RESOURCE_URL:if(aa(i,"ResourceURL"))return ds(i);throw new zt(5201,!1);default:throw new zt(5202,!1)}}bypassSecurityTrustHtml(n){return function AO(t){return new bO(t)}(n)}bypassSecurityTrustStyle(n){return function IO(t){return new EO(t)}(n)}bypassSecurityTrustScript(n){return function DO(t){return new wO(t)}(n)}bypassSecurityTrustUrl(n){return function xO(t){return new TO(t)}(n)}bypassSecurityTrustResourceUrl(n){return function RO(t){return new SO(t)}(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr))},t.\u0275prov=gn({token:t,factory:function(n){let i=null;return i=n?new n:function Z3(t){return new KI(t.get(Dr))}(Wt(Oo)),i},providedIn:"root"}),e})();function QI(t,e,r,n,i,o,l){try{var c=t[o](l),u=c.value}catch(d){return void r(d)}c.done?e(u):Promise.resolve(u).then(n,i)}function pi(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function l(u){QI(o,n,i,l,c,"next",u)}function c(u){QI(o,n,i,l,c,"throw",u)}l(void 0)})}}function JI(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function In(t,e,r){JI(t,e),e.set(t,r)}function eD(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function _t(t,e){return function z3(t,e){return e.get?e.get.call(t):e.value}(t,eD(t,e,"get"))}const Dm=ns(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:q3}=Array,{getPrototypeOf:Y3,prototype:$3,keys:W3}=Object;function tD(t){if(1===t.length){const e=t[0];if(q3(e))return{args:e,keys:null};if(function K3(t){return t&&"object"==typeof t&&Y3(t)===$3}(e)){const r=W3(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}const{isArray:X3}=Array;function nb(t){return _e(e=>function Q3(t,e){return X3(e)?t(...e):t(e)}(t,e))}function nD(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function rb(...t){const e=Ur(t),r=Ci(t),{args:n,keys:i}=tD(t);if(0===n.length)return xi([],e);const o=new $e(function J3(t,e,r=pe){return n=>{rD(e,()=>{const{length:i}=t,o=new Array(i);let l=i,c=i;for(let u=0;u<i;u++)rD(e,()=>{const d=xi(t[u],e);let T=!1;d.subscribe(dt(n,B=>{o[u]=B,T||(T=!0,c--),c||n.next(r(o.slice()))},()=>{--l||n.complete()}))},n)},n)}}(n,e,i?l=>nD(i,l):pe));return r?o.pipe(nb(r)):o}function rD(t,e,r){t?Rn(r,t,e):e()}function kf(...t){return function ej(){return rn(1)}()(xi(t,Ur(t)))}function iD(t){return new $e(e=>{hn(t()).subscribe(e)})}function Wu(t,e){const r=Kn(t)?t:()=>t,n=i=>i.error(r());return new $e(e?i=>e.schedule(n,0,i):n)}function ib(){return We((t,e)=>{let r=null;t._refCount++;const n=dt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(r=null);const i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}class oD extends $e{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,kt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new F;const r=this.getSubject();e.add(this.source.subscribe(dt(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=F.EMPTY)}return e}refCount(){return ib()(this)}}function Vo(t){return t<=0?()=>Pn:We((e,r)=>{let n=0;e.subscribe(dt(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Lf(...t){const e=Ur(t);return We((r,n)=>{(e?kf(t,r,e):kf(t,r)).subscribe(n)})}function co(t,e){return We((r,n)=>{let i=0;r.subscribe(dt(n,o=>t.call(e,o,i++)&&n.next(o)))})}function xm(t){return We((e,r)=>{let n=!1;e.subscribe(dt(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function sD(t=tj){return We((e,r)=>{let n=!1;e.subscribe(dt(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function tj(){return new Dm}function bc(t,e){const r=arguments.length>=2;return n=>n.pipe(t?co((i,o)=>t(i,o,n)):pe,Vo(1),r?xm(e):sD(()=>new Dm))}function Ff(t,e){return Kn(e)?Lt(t,e,1):Lt(t,1)}function oi(t,e,r){const n=Kn(t)||e||r?{next:t,error:e,complete:r}:t;return n?We((i,o)=>{var l;null===(l=n.subscribe)||void 0===l||l.call(n);let c=!0;i.subscribe(dt(o,u=>{var d;null===(d=n.next)||void 0===d||d.call(n,u),o.next(u)},()=>{var u;c=!1,null===(u=n.complete)||void 0===u||u.call(n),o.complete()},u=>{var d;c=!1,null===(d=n.error)||void 0===d||d.call(n,u),o.error(u)},()=>{var u,d;c&&(null===(u=n.unsubscribe)||void 0===u||u.call(n)),null===(d=n.finalize)||void 0===d||d.call(n)}))}):pe}function yl(t){return We((e,r)=>{let o,n=null,i=!1;n=e.subscribe(dt(r,void 0,void 0,l=>{o=hn(t(l,yl(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function ob(t){return t<=0?()=>Pn:We((e,r)=>{let n=[];e.subscribe(dt(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(const i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function aD(t){return _e(()=>t)}function Rm(t){return We((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function zi(t){return We((e,r)=>{hn(t).subscribe(dt(r,()=>r.complete(),g)),!r.closed&&e.subscribe(r)})}const Tr="primary",Bf=Symbol("RouteTitle");class oj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){const r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Ku(t){return new oj(t)}function sj(t,e,r){const n=r.path.split("/");if(n.length>t.length||"full"===r.pathMatch&&(e.hasChildren()||n.length<t.length))return null;const i={};for(let o=0;o<n.length;o++){const l=n[o],c=t[o];if(l.startsWith(":"))i[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function _a(t,e){const r=t?Object.keys(t):void 0,n=e?Object.keys(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!lD(t[i],e[i]))return!1;return!0}function lD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}return t===e}function cD(t){return t.length>0?t[t.length-1]:null}function bl(t){return function G3(t){return!!t&&(t instanceof $e||Kn(t.lift)&&Kn(t.subscribe))}(t)?t:_f(t)?xi(Promise.resolve(t)):Jn(t)}const lj={exact:function fD(t,e,r){if(!Ec(t.segments,e.segments)||!Mm(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children)if(!t.children[n]||!fD(t.children[n],e.children[n],r))return!1;return!0},subset:hD},uD={exact:function cj(t,e){return _a(t,e)},subset:function uj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>lD(t[r],e[r]))},ignored:()=>!0};function dD(t,e,r){return lj[r.paths](t.root,e.root,r.matrixParams)&&uD[r.queryParams](t.queryParams,e.queryParams)&&!("exact"===r.fragment&&t.fragment!==e.fragment)}function hD(t,e,r){return pD(t,e,e.segments,r)}function pD(t,e,r,n){if(t.segments.length>r.length){const i=t.segments.slice(0,r.length);return!(!Ec(i,r)||e.hasChildren()||!Mm(i,r,n))}if(t.segments.length===r.length){if(!Ec(t.segments,r)||!Mm(t.segments,r,n))return!1;for(const i in e.children)if(!t.children[i]||!hD(t.children[i],e.children[i],n))return!1;return!0}{const i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!!(Ec(t.segments,i)&&Mm(t.segments,i,n)&&t.children[Tr])&&pD(t.children[Tr],e,o,n)}}function Mm(t,e,r){return e.every((n,i)=>uD[r](t[i].parameters,n.parameters))}class Xu{constructor(e=new si([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap}toString(){return hj.serialize(this)}}class si{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nm(this)}}class Uf{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Ku(this.parameters)),this._parameterMap}toString(){return _D(this)}}function Ec(t,e){return t.length===e.length&&t.every((r,n)=>r.path===e[n].path)}let Vf=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return new sb},providedIn:"root"}),e})();class sb{parse(e){const r=new Sj(e);return new Xu(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){const r=`/${jf(e.root,!0)}`,n=function gj(t){const e=Object.keys(t).map(r=>{const n=t[r];return Array.isArray(n)?n.map(i=>`${Om(r)}=${Om(i)}`).join("&"):`${Om(r)}=${Om(n)}`}).filter(r=>!!r);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${r}${n}${"string"==typeof e.fragment?`#${function pj(t){return encodeURI(t)}(e.fragment)}`:""}`}}const hj=new sb;function Nm(t){return t.segments.map(e=>_D(e)).join("/")}function jf(t,e){if(!t.hasChildren())return Nm(t);if(e){const r=t.children[Tr]?jf(t.children[Tr],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Tr&&n.push(`${i}:${jf(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function fj(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===Tr&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==Tr&&(r=r.concat(e(i,n)))}),r}(t,(n,i)=>i===Tr?[jf(t.children[Tr],!1)]:[`${i}:${jf(n,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Tr]?`${Nm(t)}/${r[0]}`:`${Nm(t)}/(${r.join("//")})`}}function mD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Om(t){return mD(t).replace(/%3B/gi,";")}function ab(t){return mD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pm(t){return decodeURIComponent(t)}function gD(t){return Pm(t.replace(/\+/g,"%20"))}function _D(t){return`${ab(t.path)}${function mj(t){return Object.keys(t).map(e=>`;${ab(e)}=${ab(t[e])}`).join("")}(t.parameters)}`}const _j=/^[^\/()?;#]+/;function lb(t){const e=t.match(_j);return e?e[0]:""}const vj=/^[^\/()?;=#]+/,bj=/^[^=?&#]+/,wj=/^[^&#]+/;class Sj{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new si([],{}):new si([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[Tr]=new si(e,r)),n}parseSegment(){const e=lb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new zt(4009,!1);return this.capture(e),new Uf(Pm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const r=function yj(t){const e=t.match(vj);return e?e[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const i=lb(this.remaining);i&&(n=i,this.capture(n))}e[Pm(r)]=Pm(n)}parseQueryParam(e){const r=function Ej(t){const e=t.match(bj);return e?e[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const l=function Tj(t){const e=t.match(wj);return e?e[0]:""}(this.remaining);l&&(n=l,this.capture(n))}const i=gD(r),o=gD(n);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(o)}else e[i]=o}parseParens(e){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=lb(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new zt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Tr);const l=this.parseChildren();r[o]=1===Object.keys(l).length?l[Tr]:new si([],l),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new zt(4011,!1)}}function vD(t){return t.segments.length>0?new si([],{[Tr]:t}):t}function yD(t){const e={};for(const n of Object.keys(t.children)){const o=yD(t.children[n]);if(n===Tr&&0===o.segments.length&&o.hasChildren())for(const[l,c]of Object.entries(o.children))e[l]=c;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}return function Cj(t){if(1===t.numberOfChildren&&t.children[Tr]){const e=t.children[Tr];return new si(t.segments.concat(e.segments),e.children)}return t}(new si(t.segments,e))}function wc(t){return t instanceof Xu}function bD(t){let e;const i=vD(function r(o){const l={};for(const u of o.children){const d=r(u);l[u.outlet]=d}const c=new si(o.url,l);return o===t&&(e=c),c}(t.root));return e??i}function ED(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return cb(i,i,i,r,n);const o=function Ij(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new TD(!0,0,t);let e=0,r=!1;const n=t.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([u,d])=>{c[u]="string"==typeof d?d.split("/"):d}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?r=!0:".."===c?e++:""!=c&&i.push(c))}),i):[...i,o]},[]);return new TD(r,e,n)}(e);if(o.toRoot())return cb(i,i,new si([],{}),r,n);const l=function Dj(t,e,r){if(t.isAbsolute)return new Lm(e,!0,0);if(!r)return new Lm(e,!1,NaN);if(null===r.parent)return new Lm(r,!0,0);const n=km(t.commands[0])?0:1;return function xj(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new zt(4005,!1);i=n.segments.length}return new Lm(n,!1,i-o)}(r,r.segments.length-1+n,t.numberOfDoubleDots)}(o,i,t),c=l.processChildren?Zf(l.segmentGroup,l.index,o.commands):SD(l.segmentGroup,l.index,o.commands);return cb(i,l.segmentGroup,c,r,n)}function km(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hf(t){return"object"==typeof t&&null!=t&&t.outlets}function cb(t,e,r,n,i){let l,o={};n&&Object.entries(n).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(T=>`${T}`):`${d}`}),l=t===e?r:wD(t,e,r);const c=vD(yD(l));return new Xu(c,o,i)}function wD(t,e,r){const n={};return Object.entries(t.children).forEach(([i,o])=>{n[i]=o===e?r:wD(o,e,r)}),new si(t.segments,n)}class TD{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&km(n[0]))throw new zt(4003,!1);const i=n.find(Hf);if(i&&i!==cD(n))throw new zt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lm{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}}function SD(t,e,r){if(t||(t=new si([],{})),0===t.segments.length&&t.hasChildren())return Zf(t,e,r);const n=function Mj(t,e,r){let n=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;const l=t.segments[i],c=r[n];if(Hf(c))break;const u=`${c}`,d=n<r.length-1?r[n+1]:null;if(i>0&&void 0===u)break;if(u&&d&&"object"==typeof d&&void 0===d.outlets){if(!AD(u,d,l))return o;n+=2}else{if(!AD(u,{},l))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const o=new si(t.segments.slice(0,n.pathIndex),{});return o.children[Tr]=new si(t.segments.slice(n.pathIndex),t.children),Zf(o,0,i)}return n.match&&0===i.length?new si(t.segments,{}):n.match&&!t.hasChildren()?ub(t,e,r):n.match?Zf(t,0,i):ub(t,e,r)}function Zf(t,e,r){if(0===r.length)return new si(t.segments,{});{const n=function Rj(t){return Hf(t[0])?t[0].outlets:{[Tr]:t}}(r),i={};if(Object.keys(n).some(o=>o!==Tr)&&t.children[Tr]&&1===t.numberOfChildren&&0===t.children[Tr].segments.length){const o=Zf(t.children[Tr],e,r);return new si(t.segments,o.children)}return Object.entries(n).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[o]=SD(t.children[o],e,l))}),Object.entries(t.children).forEach(([o,l])=>{void 0===n[o]&&(i[o]=l)}),new si(t.segments,i)}}function ub(t,e,r){const n=t.segments.slice(0,e);let i=0;for(;i<r.length;){const o=r[i];if(Hf(o)){const u=Nj(o.outlets);return new si(n,u)}if(0===i&&km(r[0])){n.push(new Uf(t.segments[e].path,CD(r[0]))),i++;continue}const l=Hf(o)?o.outlets[Tr]:`${o}`,c=i<r.length-1?r[i+1]:null;l&&c&&km(c)?(n.push(new Uf(l,CD(c))),i+=2):(n.push(new Uf(l,{})),i++)}return new si(n,{})}function Nj(t){const e={};return Object.entries(t).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=ub(new si([],{}),0,n))}),e}function CD(t){const e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function AD(t,e,r){return t==r.path&&_a(e,r.parameters)}const zf="imperative";class va{constructor(e,r){this.id=e,this.url=r}}class db extends va{constructor(e,r,n="imperative",i=null){super(e,r),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qu extends va{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gf extends va{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qf extends va{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=16}}class Fm extends va{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ID extends va{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oj extends va{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pj extends va{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kj extends va{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lj extends va{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fj{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bj{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uj{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vj{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jj{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hj{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fb{}class hb{constructor(e){this.url=e}}class Zj{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yf,this.attachRef=null}}let Yf=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Zj,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class DD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){const r=pb(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){const r=pb(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){const r=mb(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mb(e,this._root).map(r=>r.value)}}function pb(t,e){if(t===e.value)return e;for(const r of e.children){const n=pb(t,r);if(n)return n}return null}function mb(t,e){if(t===e.value)return[e];for(const r of e.children){const n=mb(t,r);if(n.length)return n.unshift(e),n}return[]}class ja{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}}function Ju(t){const e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}class xD extends DD{constructor(e,r){super(e),this.snapshot=r,gb(this,e)}toString(){return this.snapshot.toString()}}function RD(t,e){const r=function zj(t,e){const l=new Bm([],{},{},"",{},Tr,e,null,{});return new ND("",new ja(l,[]))}(0,e),n=new ht([new Uf("",{})]),i=new ht({}),o=new ht({}),l=new ht({}),c=new ht(""),u=new ya(n,i,l,c,o,Tr,e,r.root);return u.snapshot=r.root,new xD(new ja(u,[]),r)}class ya{constructor(e,r,n,i,o,l,c,u){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=l,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(_e(d=>d[Bf]))??Jn(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>Ku(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>Ku(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MD(t,e="emptyOnly"){const r=t.pathFromRoot;let n=0;if("always"!==e)for(n=r.length-1;n>=1;){const i=r[n],o=r[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(o.component)break;n--}}return function Gj(t){return t.reduce((e,r)=>({params:{...e.params,...r.params},data:{...e.data,...r.data},resolve:{...r.data,...e.resolve,...r.routeConfig?.data,...r._resolvedData}}),{params:{},data:{},resolve:{}})}(r.slice(n))}class Bm{get title(){return this.data?.[Bf]}constructor(e,r,n,i,o,l,c,u,d){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=l,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ku(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ND extends DD{constructor(e,r){super(r),this.url=e,gb(this,r)}toString(){return OD(this._root)}}function gb(t,e){e.value._routerState=t,e.children.forEach(r=>gb(t,r))}function OD(t){const e=t.children.length>0?` { ${t.children.map(OD).join(", ")} } `:"";return`${t.value}${e}`}function _b(t){if(t.snapshot){const e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,_a(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),_a(e.params,r.params)||t.paramsSubject.next(r.params),function aj(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!_a(t[r],e[r]))return!1;return!0}(e.url,r.url)||t.urlSubject.next(r.url),_a(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vb(t,e){const r=_a(t.params,e.params)&&function dj(t,e){return Ec(t,e)&&t.every((r,n)=>_a(r.parameters,e[n].parameters))}(t.url,e.url);return r&&!(!t.parent!=!e.parent)&&(!t.parent||vb(t.parent,e.parent))}let yb=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tr,this.activateEvents=new ii,this.deactivateEvents=new ii,this.attachEvents=new ii,this.detachEvents=new ii,this.parentContexts=$t(Yf),this.location=$t(hs),this.changeDetector=$t(Bo),this.environmentInjector=$t(zs),this.inputBinder=$t(Um,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new zt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new zt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new zt(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new zt(4013,!1);this._activatedRoute=n;const o=this.location,c=n.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new qj(n,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:d,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=Fn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mo]}),e})();class qj{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===ya?this.route:e===Yf?this.childContexts:this.parent.get(e,r)}}const Um=new ln("");function $f(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=e.value;const i=function $j(t,e,r){return e.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return $f(t,n,i);return $f(t,n)})}(t,e,r);return new ja(n,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(c=>$f(t,c)),l}}const n=function Wj(t){return new ya(new ht(t.url),new ht(t.params),new ht(t.queryParams),new ht(t.fragment),new ht(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>$f(t,o));return new ja(n,i)}}const bb="ngNavigationCancelingError";function kD(t,e){const{redirectTo:r,navigationBehaviorOptions:n}=wc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=LD(!1,0,e);return i.url=r,i.navigationBehaviorOptions=n,i}function LD(t,e,r){const n=new Error("NavigationCancelingError: "+(t||""));return n[bb]=!0,n.cancellationCode=e,r&&(n.url=r),n}function FD(t){return t&&t[bb]}let BD=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["ng-component"]],standalone:!0,features:[ri],decls:1,vars:0,template:function(n,i){1&n&&Qn(0,"router-outlet")},dependencies:[yb],encapsulation:2}),e})();function Eb(t){const e=t.children&&t.children.map(Eb),r=e?{...t,children:e}:{...t};return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Tr&&(r.component=BD),r}function Ks(t){return t.outlet||Tr}function Wf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class rH{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),_b(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){const i=Ju(r);e.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],n),delete i[l]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){const i=e.value,o=r?r.value:null;if(i===o)if(i.component){const l=n.getContext(i.outlet);l&&this.deactivateChildRoutes(e,r,l.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=Ju(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(n&&n.outlet){const l=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:c})}}deactivateRouteAndOutlet(e,r){const n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=Ju(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){const i=Ju(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Hj(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Vj(e.value.snapshot))}activateRoutes(e,r,n){const i=e.value,o=r?r.value:null;if(_b(i),i===o)if(i.component){const l=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,l.children)}else this.activateChildRoutes(e,r,n);else if(i.component){const l=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),_b(c.route.value),this.activateChildRoutes(e,null,l.children)}else{const c=Wf(i.snapshot);l.attachRef=null,l.route=i,l.injector=c,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,n)}}class UD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vm{constructor(e,r){this.component=e,this.route=r}}function iH(t,e,r){const n=t._root;return Kf(n,e?e._root:null,r,[n.value])}function ed(t,e){const r=Symbol(),n=e.get(t,r);return n===r?"function"!=typeof t||function Rh(t){return null!==Xa(t)}(t)?e.get(t):t:n}function Kf(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ju(e);return t.children.forEach(l=>{(function sH(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,l=e?e.value:null,c=r?r.getContext(t.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const u=function aH(t,e,r){if("function"==typeof r)return r(t,e);switch(r){case"pathParamsChange":return!Ec(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ec(t.url,e.url)||!_a(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vb(t,e)||!_a(t.queryParams,e.queryParams);default:return!vb(t,e)}}(l,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new UD(n)):(o.data=l.data,o._resolvedData=l._resolvedData),Kf(t,e,o.component?c?c.children:null:r,n,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Vm(c.outlet.component,l))}else l&&Xf(e,c,i),i.canActivateChecks.push(new UD(n)),Kf(t,null,o.component?c?c.children:null:r,n,i)})(l,o[l.value.outlet],r,n.concat([l.value]),i),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,c])=>Xf(c,r.getContext(l),i)),i}function Xf(t,e,r){const n=Ju(t),i=t.value;Object.entries(n).forEach(([o,l])=>{Xf(l,i.component?e?e.children.getContext(o):null:e,r)}),r.canDeactivateChecks.push(new Vm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Qf(t){return"function"==typeof t}function VD(t){return t instanceof Dm||"EmptyError"===t?.name}const jm=Symbol("INITIAL_VALUE");function td(){return Wn(t=>rb(t.map(e=>e.pipe(Vo(1),Lf(jm)))).pipe(_e(e=>{for(const r of e)if(!0!==r){if(r===jm)return jm;if(!1===r||r instanceof Xu)return r}return!0}),co(e=>e!==jm),Vo(1)))}function jD(t){return function Mt(...t){return He(t)}(oi(e=>{if(wc(e))throw kD(0,e)}),_e(e=>!0===e))}class Hm{constructor(e){this.segmentGroup=e||null}}class HD{constructor(e){this.urlTree=e}}function nd(t){return Wu(new Hm(t))}function ZD(t){return Wu(new HD(t))}class IH{constructor(e,r){this.urlSerializer=e,this.urlTree=r}noMatchError(e){return new zt(4002,!1)}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Jn(n);if(i.numberOfChildren>1||!i.children[Tr])return Wu(new zt(4e3,!1));i=i.children[Tr]}}applyRedirectCommands(e,r,n){return this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n)}applyRedirectCreateUrlTree(e,r,n,i){const o=this.createSegmentGroup(e,r.root,n,i);return new Xu(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){const n={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const c=o.substring(1);n[i]=r[c]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){const o=this.createSegments(e,r.segments,n,i);let l={};return Object.entries(r.children).forEach(([c,u])=>{l[c]=this.createSegmentGroup(e,u,n,i)}),new si(o,l)}createSegments(e,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){const i=n[r.path.substring(1)];if(!i)throw new zt(4001,!1);return i}findOrReturn(e,r){let n=0;for(const i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}}const wb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DH(t,e,r,n,i){const o=Tb(t,e,r);return o.matched?(n=function Xj(t,e){return t.providers&&!t._injector&&(t._injector=VC(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,n),function SH(t,e,r,n){const i=e.canMatch;return i&&0!==i.length?Jn(i.map(l=>{const c=ed(l,t);return bl(function hH(t){return t&&Qf(t.canMatch)}(c)?c.canMatch(e,r):t.runInContext(()=>c(e,r)))})).pipe(td(),jD()):Jn(!0)}(n,e,r).pipe(_e(l=>!0===l?o:{...wb}))):Jn(o)}function Tb(t,e,r){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||r.length>0)?{...wb}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const i=(e.matcher||sj)(r,t,e);if(!i)return{...wb};const o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function zD(t,e,r,n){return r.length>0&&function MH(t,e,r){return r.some(n=>Zm(t,e,n)&&Ks(n)!==Tr)}(t,r,n)?{segmentGroup:new si(e,RH(n,new si(r,t.children))),slicedSegments:[]}:0===r.length&&function NH(t,e,r){return r.some(n=>Zm(t,e,n))}(t,r,n)?{segmentGroup:new si(t.segments,xH(t,0,r,n,t.children)),slicedSegments:r}:{segmentGroup:new si(t.segments,t.children),slicedSegments:r}}function xH(t,e,r,n,i){const o={};for(const l of n)if(Zm(t,r,l)&&!i[Ks(l)]){const c=new si([],{});o[Ks(l)]=c}return{...i,...o}}function RH(t,e){const r={};r[Tr]=e;for(const n of t)if(""===n.path&&Ks(n)!==Tr){const i=new si([],{});r[Ks(n)]=i}return r}function Zm(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path}class LH{constructor(e,r,n,i,o,l,c){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new IH(this.urlSerializer,this.urlTree)}noMatchError(e){return new zt(4002,!1)}recognize(){const e=zD(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Tr).pipe(yl(r=>{if(r instanceof HD)return this.allowRedirects=!1,this.urlTree=r.urlTree,this.match(r.urlTree);throw r instanceof Hm?this.noMatchError(r):r}),_e(r=>{const n=new Bm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tr,this.rootComponentType,null,{}),i=new ja(n,r),o=new ND("",i),l=function Aj(t,e,r=null,n=null){return ED(bD(t),e,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root),{state:o,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Tr).pipe(yl(n=>{throw n instanceof Hm?this.noMatchError(n):n}))}inheritParamsAndData(e){const r=e.value,n=MD(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,r,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0)}processChildren(e,r,n){const i=[];for(const o of Object.keys(n.children))"primary"===o?i.unshift(o):i.push(o);return xi(i).pipe(Ff(o=>{const l=n.children[o],c=function tH(t,e){const r=t.filter(n=>Ks(n)===e);return r.push(...t.filter(n=>Ks(n)!==e)),r}(r,o);return this.processSegmentGroup(e,c,l,o)}),function rj(t,e){return We(function nj(t,e,r,n,i){return(o,l)=>{let c=r,u=e,d=0;o.subscribe(dt(l,T=>{const B=d++;u=c?t(u,T,B):(c=!0,T),n&&l.next(u)},i&&(()=>{c&&l.next(u),l.complete()})))}}(t,e,arguments.length>=2,!0))}((o,l)=>(o.push(...l),o)),xm(null),function ij(t,e){const r=arguments.length>=2;return n=>n.pipe(t?co((i,o)=>t(i,o,n)):pe,ob(1),r?xm(e):sD(()=>new Dm))}(),Lt(o=>{if(null===o)return nd(n);const l=GD(o);return function FH(t){t.sort((e,r)=>e.value.outlet===Tr?-1:r.value.outlet===Tr?1:e.value.outlet.localeCompare(r.value.outlet))}(l),Jn(l)}))}processSegment(e,r,n,i,o,l){return xi(r).pipe(Ff(c=>this.processSegmentAgainstRoute(c._injector??e,r,c,n,i,o,l).pipe(yl(u=>{if(u instanceof Hm)return Jn(null);throw u}))),bc(c=>!!c),yl(c=>{if(VD(c))return function PH(t,e,r){return 0===e.length&&!t.children[r]}(n,i,o)?Jn([]):nd(n);throw c}))}processSegmentAgainstRoute(e,r,n,i,o,l,c){return function OH(t,e,r,n){return!!(Ks(t)===n||n!==Tr&&Zm(e,r,t))&&("**"===t.path||Tb(e,t,r).matched)}(n,i,o,l)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,i,n,o,l,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,l):nd(i):nd(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,r,n,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,n,i){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ZD(o):this.applyRedirects.lineralizeSegments(n,o).pipe(Lt(l=>{const c=new si(l,{});return this.processSegment(e,r,c,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,r,n,i,o,l){const{matched:c,consumedSegments:u,remainingSegments:d,positionalParamSegments:T}=Tb(r,i,o);if(!c)return nd(r);const B=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,T);return i.redirectTo.startsWith("/")?ZD(B):this.applyRedirects.lineralizeSegments(i,B).pipe(Lt(he=>this.processSegment(e,n,r,he.concat(d),l,!1)))}matchSegmentAgainstRoute(e,r,n,i,o,l){let c;if("**"===n.path){const u=i.length>0?cD(i).parameters:{};c=Jn({snapshot:new Bm(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qD(n),Ks(n),n.component??n._loadedComponent??null,n,YD(n)),consumedSegments:[],remainingSegments:[]}),r.children={}}else c=DH(r,n,i,e).pipe(_e(({matched:u,consumedSegments:d,remainingSegments:T,parameters:B})=>u?{snapshot:new Bm(d,B,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qD(n),Ks(n),n.component??n._loadedComponent??null,n,YD(n)),consumedSegments:d,remainingSegments:T}:null));return c.pipe(Wn(u=>null===u?nd(r):this.getChildConfig(e=n._injector??e,n,i).pipe(Wn(({routes:d})=>{const T=n._loadedInjector??e,{snapshot:B,consumedSegments:he,remainingSegments:we}=u,{segmentGroup:Pe,slicedSegments:Ue}=zD(r,he,we,d);if(0===Ue.length&&Pe.hasChildren())return this.processChildren(T,d,Pe).pipe(_e(Dt=>null===Dt?null:[new ja(B,Dt)]));if(0===d.length&&0===Ue.length)return Jn([new ja(B,[])]);const Et=Ks(n)===o;return this.processSegment(T,d,Pe,Ue,Et?Tr:o,!0).pipe(_e(Dt=>[new ja(B,Dt)]))}))))}getChildConfig(e,r,n){return r.children?Jn({routes:r.children,injector:e}):r.loadChildren?void 0!==r._loadedRoutes?Jn({routes:r._loadedRoutes,injector:r._loadedInjector}):function TH(t,e,r,n){const i=e.canLoad;return void 0===i||0===i.length?Jn(!0):Jn(i.map(l=>{const c=ed(l,t);return bl(function cH(t){return t&&Qf(t.canLoad)}(c)?c.canLoad(e,r):t.runInContext(()=>c(e,r)))})).pipe(td(),jD())}(e,r,n).pipe(Lt(i=>i?this.configLoader.loadChildren(e,r).pipe(oi(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):function AH(t){return Wu(LD(!1,3))}())):Jn({routes:[],injector:e})}}function BH(t){const e=t.value.routeConfig;return e&&""===e.path}function GD(t){const e=[],r=new Set;for(const n of t){if(!BH(n)){e.push(n);continue}const i=e.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...n.children),r.add(i)):e.push(n)}for(const n of r){const i=GD(n.children);e.push(new ja(n.value,i))}return e.filter(n=>!r.has(n))}function qD(t){return t.data||{}}function YD(t){return t.resolve||{}}function $D(t){return"string"==typeof t.title||null===t.title}function Sb(t){return Wn(e=>{const r=t(e);return r?xi(r).pipe(_e(()=>e)):Jn(e)})}const zm=new ln("ROUTES");let WD=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$t(hB)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Jn(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=bl(n.loadComponent()).pipe(_e(KD),oi(l=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=l}),Rm(()=>{this.componentLoaders.delete(n)})),o=new oD(i,()=>new ut).pipe(ib());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Jn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(_e(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let d,T;return Array.isArray(u)?T=u:(d=u.create(n).injector,T=d.get(zm,[],wr.Self|wr.Optional).flat()),{routes:T.map(Eb),injector:d}}),Rm(()=>{this.childrenLoaders.delete(i)})),c=new oD(l,()=>new ut).pipe(ib());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(n){return bl(n()).pipe(_e(KD),Lt(i=>i instanceof BC||Array.isArray(i)?Jn(i):xi(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function KD(t){return function GH(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Gm=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=$t(WD),this.environmentInjector=$t(zs),this.urlSerializer=$t(Vf),this.rootContexts=$t(Yf),this.inputBindingEnabled=null!==$t(Um,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Jn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Bj(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Fj(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,o){return this.transitions=new ht({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:n.urlHandlingStrategy.extract(i),urlAfterRedirects:n.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(co(l=>0!==l.id),_e(l=>({...l,extractedUrl:n.urlHandlingStrategy.extract(l.rawUrl)})),Wn(l=>{this.currentTransition=l;let c=!1,u=!1;return Jn(l).pipe(oi(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wn(d=>{const T=d.currentBrowserUrl.toString(),B=!n.navigated||d.extractedUrl.toString()!==T||T!==d.currentUrlTree.toString();if(!B&&"reload"!==(d.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const we="";return this.events.next(new qf(d.id,this.urlSerializer.serialize(d.rawUrl),we,0)),d.resolve(null),Pn}if(n.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Jn(d).pipe(Wn(we=>{const Pe=this.transitions?.getValue();return this.events.next(new db(we.id,this.urlSerializer.serialize(we.extractedUrl),we.source,we.restoredState)),Pe!==this.transitions?.getValue()?Pn:Promise.resolve(we)}),function UH(t,e,r,n,i,o){return Lt(l=>function kH(t,e,r,n,i,o,l="emptyOnly"){return new LH(t,e,r,n,i,l,o).recognize()}(t,e,r,n,l.extractedUrl,i,o).pipe(_e(({state:c,tree:u})=>({...l,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),oi(we=>{l.targetSnapshot=we.targetSnapshot,l.urlAfterRedirects=we.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:we.urlAfterRedirects};const Pe=new ID(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot);this.events.next(Pe)}));if(B&&n.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:we,extractedUrl:Pe,source:Ue,restoredState:Et,extras:Dt}=d,wt=new db(we,this.urlSerializer.serialize(Pe),Ue,Et);this.events.next(wt);const fn=RD(0,this.rootComponentType).snapshot;return this.currentTransition=l={...d,targetSnapshot:fn,urlAfterRedirects:Pe,extras:{...Dt,skipLocationChange:!1,replaceUrl:!1}},Jn(l)}{const we="";return this.events.next(new qf(d.id,this.urlSerializer.serialize(d.extractedUrl),we,1)),d.resolve(null),Pn}}),oi(d=>{const T=new Oj(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(T)}),_e(d=>(this.currentTransition=l={...d,guards:iH(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},l)),function mH(t,e){return Lt(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=r;return 0===l.length&&0===o.length?Jn({...r,guardsResult:!0}):function gH(t,e,r,n){return xi(t).pipe(Lt(i=>function wH(t,e,r,n,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Jn(o.map(c=>{const u=Wf(e)??i,d=ed(c,u);return bl(function fH(t){return t&&Qf(t.canDeactivate)}(d)?d.canDeactivate(t,e,r,n):u.runInContext(()=>d(t,e,r,n))).pipe(bc())})).pipe(td()):Jn(!0)}(i.component,i.route,r,e,n)),bc(i=>!0!==i,!0))}(l,n,i,t).pipe(Lt(c=>c&&function lH(t){return"boolean"==typeof t}(c)?function _H(t,e,r,n){return xi(e).pipe(Ff(i=>kf(function yH(t,e){return null!==t&&e&&e(new Uj(t)),Jn(!0)}(i.route.parent,n),function vH(t,e){return null!==t&&e&&e(new jj(t)),Jn(!0)}(i.route,n),function EH(t,e,r){const n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(l=>function oH(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(l)).filter(l=>null!==l).map(l=>iD(()=>Jn(l.guards.map(u=>{const d=Wf(l.node)??r,T=ed(u,d);return bl(function dH(t){return t&&Qf(t.canActivateChild)}(T)?T.canActivateChild(n,t):d.runInContext(()=>T(n,t))).pipe(bc())})).pipe(td())));return Jn(o).pipe(td())}(t,i.path,r),function bH(t,e,r){const n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||0===n.length)return Jn(!0);const i=n.map(o=>iD(()=>{const l=Wf(e)??r,c=ed(o,l);return bl(function uH(t){return t&&Qf(t.canActivate)}(c)?c.canActivate(e,t):l.runInContext(()=>c(e,t))).pipe(bc())}));return Jn(i).pipe(td())}(t,i.route,r))),bc(i=>!0!==i,!0))}(n,o,t,e):Jn(c)),_e(c=>({...r,guardsResult:c})))})}(this.environmentInjector,d=>this.events.next(d)),oi(d=>{if(l.guardsResult=d.guardsResult,wc(d.guardsResult))throw kD(0,d.guardsResult);const T=new Pj(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(T)}),co(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",3),!1)),Sb(d=>{if(d.guards.canActivateChecks.length)return Jn(d).pipe(oi(T=>{const B=new kj(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(B)}),Wn(T=>{let B=!1;return Jn(T).pipe(function VH(t,e){return Lt(r=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return Jn(r);let o=0;return xi(i).pipe(Ff(l=>function jH(t,e,r,n){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!$D(i)&&(o[Bf]=i.title),function HH(t,e,r,n){const i=function ZH(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Jn({});const o={};return xi(i).pipe(Lt(l=>function zH(t,e,r,n){const i=Wf(e)??n,o=ed(t,i);return bl(o.resolve?o.resolve(e,r):i.runInContext(()=>o(e,r)))}(t[l],e,r,n).pipe(bc(),oi(c=>{o[l]=c}))),ob(1),aD(o),yl(l=>VD(l)?Pn:Wu(l)))}(o,t,e,n).pipe(_e(l=>(t._resolvedData=l,t.data=MD(t,r).resolve,i&&$D(i)&&(t.data[Bf]=i.title),null)))}(l.route,n,t,e)),oi(()=>o++),ob(1),Lt(l=>o===i.length?Jn(r):Pn))})}(n.paramsInheritanceStrategy,this.environmentInjector),oi({next:()=>B=!0,complete:()=>{B||this.cancelNavigationTransition(T,"",2)}}))}),oi(T=>{const B=new Lj(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(B)}))}),Sb(d=>{const T=B=>{const he=[];B.routeConfig?.loadComponent&&!B.routeConfig._loadedComponent&&he.push(this.configLoader.loadComponent(B.routeConfig).pipe(oi(we=>{B.component=we}),_e(()=>{})));for(const we of B.children)he.push(...T(we));return he};return rb(T(d.targetSnapshot.root)).pipe(xm(),Vo(1))}),Sb(()=>this.afterPreactivation()),_e(d=>{const T=function Yj(t,e,r){const n=$f(t,e._root,r?r._root:void 0);return new xD(n,e)}(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=l={...d,targetRouterState:T},l}),oi(()=>{this.events.next(new fb)}),((t,e,r,n)=>_e(i=>(new rH(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Vo(1),oi({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),n.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),zi(this.transitionAbortSubject.pipe(oi(d=>{throw d}))),Rm(()=>{c||u||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),yl(d=>{if(u=!0,FD(d))this.events.next(new Gf(l.id,this.urlSerializer.serialize(l.extractedUrl),d.message,d.cancellationCode)),function Kj(t){return FD(t)&&wc(t.url)}(d)?this.events.next(new hb(d.url)):l.resolve(!1);else{this.events.next(new Fm(l.id,this.urlSerializer.serialize(l.extractedUrl),d,l.targetSnapshot??void 0));try{l.resolve(n.errorHandler(d))}catch(T){l.reject(T)}}return Pn}))}))}cancelNavigationTransition(n,i,o){const l=new Gf(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(l),n.resolve(!1)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function XD(t){return t!==zf}let QD=(()=>{var t;class e{buildTitle(n){let i,o=n.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(l=>l.outlet===Tr);return i}getResolvedTitleForRoute(n){return n.data[Bf]}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t(qH)},providedIn:"root"}),e})(),qH=(()=>{var t;class e extends QD{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(YI))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),YH=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t(WH)},providedIn:"root"}),e})();class $H{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}}let WH=(()=>{var t;class e extends $H{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Xi(t)))(i||t)}}(),t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Cb=new ln("",{providedIn:"root",factory:()=>({})});let KH=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:function(){return $t(XH)},providedIn:"root"}),e})(),XH=(()=>{var t;class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Jf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Jf||{});function QH(t){throw t}function JH(t,e,r){return e.parse("/")}const e4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},t4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jo=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=$t(xA),this.isNgZoneEnabled=!1,this._events=new ut,this.options=$t(Cb,{optional:!0})||{},this.pendingTasks=$t(RA),this.errorHandler=this.options.errorHandler||QH,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||JH,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=$t(KH),this.routeReuseStrategy=$t(YH),this.titleStrategy=$t(QD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=$t(zm,{optional:!0})?.flat()??[],this.navigationTransitions=$t(Gm),this.urlSerializer=$t(Vf),this.location=$t(fm),this.componentInputBindingEnabled=!!$t(Um,{optional:!0}),this.eventsSubscription=new F,this.isNgZoneEnabled=$t(lr)instanceof lr&&lr.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=RD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(ex(i)&&this._events.next(i));if(i instanceof db)XD(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof qf)this.rawUrlTree=o.rawUrl;else if(i instanceof ID){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(l,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof fb)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof Gf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof hb){const l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XD(o.source)};this.scheduleNavigation(l,zf,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Fm&&this.restoreHistory(o,!0),i instanceof Qu&&(this.navigated=!0),ex(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),zf,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,o){const l={replaceUrl:!0},c=o?.navigationId?o:null;if(o){const d={...o};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(l.state=d)}const u=this.parseUrl(n);this.scheduleNavigation(u,i,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Eb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:o,queryParams:l,fragment:c,queryParamsHandling:u,preserveFragment:d}=i,T=d?this.currentUrlTree.fragment:c;let he,B=null;switch(u){case"merge":B={...this.currentUrlTree.queryParams,...l};break;case"preserve":B=this.currentUrlTree.queryParams;break;default:B=l||null}null!==B&&(B=this.removeEmptyProps(B));try{he=bD(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),he=this.currentUrlTree.root}return ED(he,n,B,T??null)}navigateByUrl(n,i={skipLocationChange:!1}){const o=wc(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,zf,null,i)}navigate(n,i={skipLocationChange:!1}){return function n4(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new zt(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return i}isActive(n,i){let o;if(o=!0===i?{...e4}:!1===i?{...t4}:i,wc(n))return dD(this.currentUrlTree,n,o);const l=this.parseUrl(n);return dD(this.currentUrlTree,l,o)}removeEmptyProps(n){return Object.keys(n).reduce((i,o)=>{const l=n[o];return null!=l&&(i[o]=l),i},{})}scheduleNavigation(n,i,o,l,c){if(this.disposed)return Promise.resolve(!1);let u,d,T;c?(u=c.resolve,d=c.reject,T=c.promise):T=new Promise((he,we)=>{u=he,d=we});const B=this.pendingTasks.add();return function JD(t,e){t.events.pipe(co(r=>r instanceof Qu||r instanceof Gf||r instanceof Fm||r instanceof qf),_e(r=>r instanceof Qu||r instanceof qf?Jf.COMPLETE:r instanceof Gf&&(0===r.code||1===r.code)?Jf.REDIRECTING:Jf.FAILED),co(r=>r!==Jf.REDIRECTING),Vo(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(B))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:l,resolve:u,reject:d,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(he=>Promise.reject(he))}setBrowserUrl(n,i){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",c)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",l)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ex(t){return!(t instanceof fb||t instanceof hb)}let Ha=(()=>{var t;class e{constructor(n,i,o,l,c,u){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=l,this.el=c,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const d=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=n.events.subscribe(T=>{T instanceof Qu&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,o,l,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||i||o||l||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Qw(t,e,r){return function ZO(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Xw:uc}(e,r)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){const o=this.renderer,l=this.el.nativeElement;null!==i?o.setAttribute(l,n,i):o.removeAttribute(l,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(jo),yt(ya),ac("tabindex"),yt(Pa),yt(Nr),yt(dm))},t.\u0275dir=Fn({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){1&n&&mr("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&n&&li("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",qu],skipLocationChange:["skipLocationChange","skipLocationChange",qu],replaceUrl:["replaceUrl","replaceUrl",qu],routerLink:"routerLink"},standalone:!0,features:[nS,Mo]}),e})();const Ab=new ln("");function nx(t){return t.routerState.root}function rx(){const t=$t(Oo);return e=>{const r=t.get(ml);if(e!==r.components[0])return;const n=t.get(jo),i=t.get(ix);1===t.get(Ib)&&n.initialNavigation(),t.get(ox,null,wr.Optional)?.setUpPreloading(),t.get(Ab,null,wr.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ix=new ln("",{factory:()=>new ut}),Ib=new ln("",{providedIn:"root",factory:()=>1}),ox=new ln("");function Jr(t,e){JI(t,e),e.add(t)}function Pr(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}let d4=(()=>{var t,e=new WeakMap,r=new WeakSet;class n{constructor(){Jr(this,r),In(this,e,{writable:!0,value:$t(Ws)})}set data(l){this._data=l,Pr(this,r,i).call(this)}}function i(){const o=document.implementation.createHTMLDocument().createElement("p");o.innerHTML=this._data.embed,Array.from(o.getElementsByTagName("iframe")).forEach(l=>{l.setAttribute("loading","lazy"),l.style.position="relative",l.style.maxWidth="100vw"}),this._embed=_t(this,e).bypassSecurityTrustHtml(o.innerHTML)}return(t=n).\u0275fac=function(l){return new(l||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(l,c){1&l&&Qn(0,"div",0),2&l&&Yt("innerHTML",c._embed,J_)},changeDetection:0}),n})();function Tn(t,e,r){return function f4(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,eD(t,e,"set"),r),r}const h4=["gallery"];function p4(t,e){if(1&t){const r=ao();cn(0,"figure")(1,"img",3),mr("load",function(){return mt(r),bt(Vn().onLoad())})("click",function(){const o=mt(r).$implicit;return bt(Vn().onClick(o.href))}),dn()()}if(2&t){const r=e.$implicit,n=Vn();Jt(1),Yt("src",r.src,uc)("srcset",r.srcset)("alt","r/"+n.data.subreddit+" - "+n.data.title)}}const m4=function(t){return{"set-scrollbar":t}};let g4=(()=>{var t,e=new WeakMap;class r{constructor(){In(this,e,{writable:!0,value:void 0})}set fig(i){i&&i.nativeElement&&Tn(this,e,i.nativeElement)}onLoad(){_t(this,e)&&(_t(this,e).scrollLeft=0)}onClick(i){String.isNullOrWhitespace(i)||window.open(i,"_blank","noopener,noreferrer")}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-image"]],viewQuery:function(i,o){if(1&i&&Lo(h4,5),2&i){let l;ci(l=ui())&&(o.fig=l.first)}},inputs:{data:"data"},standalone:!0,features:[ri],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(i,o){1&i&&(cn(0,"div",0,1),Ln(2,p4,2,3,"figure",2),dn()),2&i&&(Yt("ngClass",pa(2,m4,o.data.images.length>1)),Jt(2),Yt("ngForOf",o.data.images))},dependencies:[$u,_l],changeDetection:0}),r})(),ax=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakSet;class i{constructor(){Jr(this,n),In(this,e,{writable:!0,value:""}),In(this,r,{writable:!0,value:$t(Ws)}),Tn(this,e,document.baseURI.replace(window.location.origin,"")),_t(this,e).endsWith("/")&&Tn(this,e,_t(this,e).slice(0,-1))}sanitizeHTML(c){if(String.isNullOrWhitespace(c))return"";const u=document.implementation.createHTMLDocument().createElement("p");return u.innerHTML=_t(this,r).sanitize(ji.HTML,c),Pr(this,n,o).call(this,u),u.innerHTML}sanitizeLink(c){if(String.isNullOrWhitespace(c))return{href:"",text:"",external:!1};let u=c;u.startsWith("/")&&(u=`${window.location.origin}${u}`),u=u.replace(window.location.origin,`${_t(this,e)}`).replace("http://www.reddit.com/",`${_t(this,e)}/`).replace("https://www.reddit.com/",`${_t(this,e)}/`).replace("http://np.reddit.com/",`${_t(this,e)}/`).replace("https://np.reddit.com/",`${_t(this,e)}/`).replace("http://reddit.com/",`${_t(this,e)}/`).replace("https://reddit.com/",`${_t(this,e)}/`).replace("http://old.reddit.com/",`${_t(this,e)}/`).replace("https://old.reddit.com/",`${_t(this,e)}/`);const d=!u.startsWith(_t(this,e));if(!d){const he=u.indexOf("?");he>-1&&(u=u.slice(0,he)),u.endsWith("/")&&(u=u.slice(0,-1))}const T=u.replace(_t(this,e),""),B=document.createElement("a");return B.href=u,B.innerText=T,d&&(B.setAttribute("target","_blank"),B.setAttribute("rel","noopener noreferrer nofollow")),{href:u,text:T,external:d,el:B}}}function o(l){const c=Array.from(l.getElementsByTagName("a"));0!==c.length&&c.forEach(u=>{const d=this.sanitizeLink(u.href);u.replaceWith(d.el)})}return(t=i).\u0275fac=function(c){return new(c||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),qm=(()=>{var t,e=new WeakMap,r=new WeakSet,n=new WeakSet;class i{constructor(){Jr(this,n),Jr(this,r),In(this,e,{writable:!0,value:{}})}save(u="",d=""){_t(this,e)[window.location.href]={yScroll:window.scrollY},Pr(this,r,o).call(this,u,d,_t(this,e)[window.location.href])}restore(){setTimeout(()=>{const u=_t(this,e)[window.location.href];u?(Pr(this,n,l).call(this,u),window.scrollTo(0,u.yScroll||0),delete _t(this,e)[window.location.href]):window.scrollTo(0,0)},50)}}function o(c,u,d){if(d.tag_name=c,d.element_id=u,d.element_heights=[],String.isNullOrWhitespace(u)||String.isNullOrWhitespace(c))return;const T=document.querySelectorAll(c);for(let B=0;B<T.length;B++){const he=T[B];if(d.element_heights.push({id:he.id,height:he.getBoundingClientRect().height}),he.id===u)break}}function l(c){if(String.isNullOrWhitespace(c.element_id)||String.isNullOrWhitespace(c.tag_name)||0===c.element_heights?.length)return c.element_id="",c.tag_name="",void(c.element_heights=[]);const u=document.querySelectorAll(c.tag_name);for(let d=0;d<u.length;d++){const T=u[d],B=c.element_heights.find(he=>he.id===T.id);if(null!=B&&(T.style.height=`${B.height}px`,T.id===c.element_id))break}c.element_id="",c.tag_name="",c.element_heights=[]}return(t=i).\u0275fac=function(u){return new(u||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function _4(t,e){if(1&t&&(cn(0,"a",4),Br(1),dn()),2&t){const r=Vn(2);Yt("href",r.href,uc),Jt(1),Po(r.text)}}function v4(t,e){if(1&t){const r=ao();cn(0,"a",5),mr("click",function(){return mt(r),bt(Vn(2).on_internal_click())}),Br(1),dn()}if(2&t){const r=Vn(2);Yt("routerLink",r.text),Jt(1),Po(r.text)}}function y4(t,e){if(1&t&&(cn(0,"p",1),Ln(1,_4,2,2,"a",2),Ln(2,v4,2,2,"a",3),dn()),2&t){const r=Vn();Jt(1),Yt("ngIf",r.is_external),Jt(1),Yt("ngIf",!r.is_external&&r.show_internal)}}let b4=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakSet;class l{set data(d){Tn(this,i,d),Pr(this,o,c).call(this)}constructor(){Jr(this,o),In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),In(this,n,{writable:!0,value:void 0}),In(this,i,{writable:!0,value:void 0}),Tn(this,e,""),Tn(this,r,$t(ax)),Tn(this,n,$t(qm)),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,Tn(this,e,document.baseURI),_t(this,e).endsWith("/")&&Tn(this,e,_t(this,e).slice(0,-1))}on_internal_click(){_t(this,n).save("post",_t(this,i).id)}}function c(){const u=_t(this,r).sanitizeLink(_t(this,i).url);if(this.href=u.href,this.is_external=u.external,this.is_external)return void(this.text=this.href);this.text=u.text;const d=this.text.indexOf("/r/")+3,T=this.text.indexOf("/",d),B=this.text.slice(d,T);this.show_internal=B.toLowerCase()!==_t(this,i).subreddit.toLowerCase()}return(t=l).\u0275fac=function(d){return new(d||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink","click"]],template:function(d,T){1&d&&Ln(0,y4,3,2,"p",0),2&d&&Yt("ngIf",T.is_external||T.show_internal)},dependencies:[lo,Ha],changeDetection:0}),l})();const E4=["textPost"],w4=function(t){return{masked:t}};let xb,Db=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,T=new WeakSet;class B{set data(Pe){null!=Pe&&(Tn(this,u,Pe),Pr(this,T,he).call(this))}set post(Pe){Pe&&Pe.nativeElement&&Tn(this,d,Pe.nativeElement)}constructor(Pe,Ue,Et,Dt,wt){Jr(this,T),In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),In(this,n,{writable:!0,value:void 0}),In(this,i,{writable:!0,value:void 0}),In(this,o,{writable:!0,value:void 0}),In(this,l,{writable:!0,value:void 0}),In(this,c,{writable:!0,value:void 0}),In(this,u,{writable:!0,value:void 0}),In(this,d,{writable:!0,value:void 0}),Tn(this,e,!0),this._truncated=!0,Tn(this,c,""),Tn(this,u,""),Tn(this,r,Pe),Tn(this,n,Ue),Tn(this,i,Et),Tn(this,o,Dt),Tn(this,l,wt),Tn(this,c,document.baseURI),_t(this,c).endsWith("/")&&Tn(this,c,_t(this,c).slice(0,-1))}onClick(Pe){const Ue=Pe.target;if(Ue&&"A"===Ue.tagName){const Et=Ue.href;Et.startsWith(_t(this,c))&&(Pe.preventDefault(),Pe.stopImmediatePropagation(),Pe.stopPropagation(),_t(this,i).navigateByUrl(Et.replace(_t(this,c),"")))}else if(_t(this,e)){if(this._truncated)return this._truncated=!1,void _t(this,l).save();this._truncated=!0,_t(this,l).restore()}}}function he(){this._text=_t(this,n).bypassSecurityTrustHtml(_t(this,o).sanitizeHTML(_t(this,u))),setTimeout(()=>{this._truncated=_t(this,d).scrollHeight>_t(this,d).clientHeight,Tn(this,e,this._truncated),_t(this,r).detectChanges()},0)}return(t=B).\u0275fac=function(Pe){return new(Pe||t)(yt(Bo),yt(Ws),yt(jo),yt(ax),yt(qm))},t.\u0275cmp=gr({type:t,selectors:[["text-block"]],viewQuery:function(Pe,Ue){if(1&Pe&&Lo(E4,5),2&Pe){let Et;ci(Et=ui())&&(Ue.post=Et.first)}},inputs:{data:"data"},standalone:!0,features:[ri],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(Pe,Ue){1&Pe&&(cn(0,"p",0,1),mr("click",function(Dt){return Ue.onClick(Dt)}),dn()),2&Pe&&Yt("ngClass",pa(2,w4,Ue._truncated))("innerHTML",Ue._text,J_)},dependencies:[$u],changeDetection:0}),B})(),T4=(()=>{var t;class e{constructor(){this.data=null}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:1,vars:1,consts:[[3,"data"]],template:function(n,i){1&n&&Qn(0,"text-block",0),2&n&&Yt("data",null==i.data?null:i.data.selftext_html)},dependencies:[Db],changeDetection:0}),e})();try{xb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{xb=!1}let rd,eo=(()=>{var t;class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function HV(t){return t===NI}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(fc))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const lx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function cx(){if(rd)return rd;if("object"!=typeof document||!document)return rd=new Set(lx),rd;let t=document.createElement("input");return rd=new Set(lx.filter(e=>(t.setAttribute("type",e),t.type===e))),rd}let eh,Sc,Rb;function Tc(t){return function S4(){if(null==eh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>eh=!0}))}finally{eh=eh||!1}return eh}()?t:!!t.capture}function C4(){if(null==Sc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Sc=!1,Sc;if("scrollBehavior"in document.documentElement.style)Sc=!0;else{const t=Element.prototype.scrollTo;Sc=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Sc}function El(t){return t.composedPath?t.composedPath()[0]:t.target}function Mb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Pb(t,...e){return e.length?e.some(r=>t[r]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class z4 extends F{constructor(e,r){super()}schedule(e,r=0){return this}}const $m={setInterval(t,e,...r){const{delegate:n}=$m;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){const{delegate:e}=$m;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class kb extends z4{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(e,r,n=0){return $m.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&$m.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let i,n=!1;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Ze(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}}const Lb={now:()=>(Lb.delegate||Date).now(),delegate:void 0};class th{constructor(e,r=th.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}}th.now=Lb.now;class Fb extends th{constructor(e,r=th.now){super(e,r),this.actions=[],this._active=!1}flush(e){const{actions:r}=this;if(this._active)return void r.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}}const Wm=new Fb(kb),G4=Wm;function Bb(t,e=Wm){return We((r,n)=>{let i=null,o=null,l=null;const c=()=>{if(i){i.unsubscribe(),i=null;const d=o;o=null,n.next(d)}};function u(){const d=l+t,T=e.now();if(T<d)return i=this.schedule(void 0,d-T),void n.add(i);c()}r.subscribe(dt(n,d=>{o=d,l=e.now(),i||(i=e.schedule(u,t),n.add(i))},()=>{c(),n.complete()},void 0,()=>{o=i=null}))})}function hx(t){return co((e,r)=>t<=r)}function uo(t){return null!=t&&"false"!=`${t}`}function Cc(t,e=0){return function q4(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Km(t){return Array.isArray(t)?t:[t]}function Gi(t){return null==t?"":"string"==typeof t?t:`${t}px`}function wl(t){return t instanceof Nr?t.nativeElement:t}let Y4=(()=>{var t;class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),px=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({providers:[Y4]}),e})();const mx=new Set;let Ac,$4=(()=>{var t;class e{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):K4}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function W4(t,e){if(!mx.has(t))try{Ac||(Ac=document.createElement("style"),e&&(Ac.nonce=e),Ac.setAttribute("type","text/css"),document.head.appendChild(Ac)),Ac.sheet&&(Ac.sheet.insertRule(`@media ${t} {body{ }}`,0),mx.add(t))}catch(r){console.error(r)}}(n,this._nonce),this._matchMedia(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(eo),Wt(lv,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function K4(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let X4=(()=>{var t;class e{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new ut}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return gx(Km(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let l=rb(gx(Km(n)).map(c=>this._registerQuery(c).observable));return l=kf(l.pipe(Vo(1)),l.pipe(hx(1),Bb(0))),l.pipe(_e(c=>{const u={matches:!1,breakpoints:{}};return c.forEach(({matches:d,query:T})=>{u.matches=u.matches||d,u.breakpoints[T]=d}),u}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const i=this._mediaMatcher.matchMedia(n),l={observable:new $e(c=>{const u=d=>this._zone.run(()=>c.next(d));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(Lf(i),_e(({matches:c})=>({query:n,matches:c})),zi(this._destroySubject)),mql:i};return this._queries.set(n,l),l}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt($4),Wt(lr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function gx(t){return t.map(e=>e.split(",")).reduce((e,r)=>e.concat(r)).map(e=>e.trim())}function Xm(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const vx="cdk-describedby-message",Qm="cdk-describedby-host";let Ub=0,eZ=(()=>{var t;class e{constructor(n,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ub++,this._document=n,this._id=$t(Dp)+"-"+Ub++}describe(n,i,o){if(!this._canBeDescribed(n,i))return;const l=Vb(i,o);"string"!=typeof i?(yx(i,this._id),this._messageRegistry.set(l,{messageElement:i,referenceCount:0})):this._messageRegistry.has(l)||this._createMessageElement(i,o),this._isElementDescribedByMessage(n,l)||this._addMessageReference(n,l)}removeDescription(n,i,o){if(!i||!this._isElementNode(n))return;const l=Vb(i,o);if(this._isElementDescribedByMessage(n,l)&&this._removeMessageReference(n,l),"string"==typeof i){const c=this._messageRegistry.get(l);c&&0===c.referenceCount&&this._deleteMessageElement(l)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const n=this._document.querySelectorAll(`[${Qm}="${this._id}"]`);for(let i=0;i<n.length;i++)this._removeCdkDescribedByReferenceIds(n[i]),n[i].removeAttribute(Qm);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,i){const o=this._document.createElement("div");yx(o,this._id),o.textContent=n,i&&o.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(Vb(n,i),{messageElement:o,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;const n="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let l=0;l<i.length;l++)i[l].remove();const o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(n),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(n){const i=Xm(n,"aria-describedby").filter(o=>0!=o.indexOf(vx));n.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(n,i){const o=this._messageRegistry.get(i);(function Q4(t,e,r){const n=Xm(t,e);n.some(i=>i.trim()==r.trim())||(n.push(r.trim()),t.setAttribute(e,n.join(" ")))})(n,"aria-describedby",o.messageElement.id),n.setAttribute(Qm,this._id),o.referenceCount++}_removeMessageReference(n,i){const o=this._messageRegistry.get(i);o.referenceCount--,function J4(t,e,r){const i=Xm(t,e).filter(o=>o!=r.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(n,"aria-describedby",o.messageElement.id),n.removeAttribute(Qm)}_isElementDescribedByMessage(n,i){const o=Xm(n,"aria-describedby"),l=this._messageRegistry.get(i),c=l&&l.messageElement.id;return!!c&&-1!=o.indexOf(c)}_canBeDescribed(n,i){if(!this._isElementNode(n))return!1;if(i&&"object"==typeof i)return!0;const o=null==i?"":`${i}`.trim(),l=n.getAttribute("aria-label");return!(!o||l&&l.trim()===o)}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr),Wt(eo))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Vb(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function yx(t,e){t.id||(t.id=`${vx}-${e}-${Ub++}`)}class tZ{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ut,this._typeaheadSubscription=F.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new ut,this.change=new ut,e instanceof Zu&&(this._itemChangesSubscription=e.changes.subscribe(r=>{if(this._activeItem){const i=r.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(oi(r=>this._pressedLetters.push(r)),Bb(e),co(()=>this._pressedLetters.length>0),_e(()=>this._pressedLetters.join(""))).subscribe(r=>{const n=this._getItemsArray();for(let i=1;i<n.length+1;i++){const o=(this._activeItemIndex+i)%n.length,l=n[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(r)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,r=10){return this._pageUpAndDown={enabled:e,delta:r},this}setActiveItem(e){const r=this._activeItem;this.updateActiveItem(e),this._activeItem!==r&&this.change.next(this._activeItemIndex)}onKeydown(e){const r=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(r){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((i||Pb(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const r=this._getItemsArray(),n="number"==typeof e?e:r.indexOf(e);this._activeItem=r[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const r=this._getItemsArray();for(let n=1;n<=r.length;n++){const i=(this._activeItemIndex+e*n+r.length)%r.length;if(!this._skipPredicateFn(r[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,r){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=r])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Zu?this._items.toArray():this._items}}class nZ extends tZ{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function jb(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function Hb(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const lZ=new ln("cdk-input-modality-detector-options"),cZ={ignoreKeys:[18,17,224,91,16]},id=Tc({passive:!0,capture:!0});let uZ=(()=>{var t;class e{get mostRecentModality(){return this._modality.value}constructor(n,i,o,l){this._platform=n,this._mostRecentTarget=null,this._modality=new ht(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(u=>u===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=El(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jb(c)?"keyboard":"mouse"),this._mostRecentTarget=El(c))},this._onTouchstart=c=>{Hb(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=El(c))},this._options={...cZ,...l},this.modalityDetected=this._modality.pipe(hx(1)),this.modalityChanged=this.modalityDetected.pipe(di()),n.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,id),o.addEventListener("mousedown",this._onMousedown,id),o.addEventListener("touchstart",this._onTouchstart,id)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,id),document.removeEventListener("mousedown",this._onMousedown,id),document.removeEventListener("touchstart",this._onTouchstart,id))}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(eo),Wt(lr),Wt(Dr),Wt(lZ,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const fZ=new ln("cdk-focus-monitor-default-options"),Jm=Tc({passive:!0,capture:!0});let nh=(()=>{var t;class e{constructor(n,i,o,l,c){this._ngZone=n,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ut,this._rootNodeFocusAndBlurListener=u=>{for(let T=El(u);T;T=T.parentElement)"focus"===u.type?this._onFocus(u,T):this._onBlur(u,T)},this._document=l,this._detectionMode=c?.detectionMode||0}monitor(n,i=!1){const o=wl(n);if(!this._platform.isBrowser||1!==o.nodeType)return Jn();const l=function I4(t){if(function A4(){if(null==Rb){const t=typeof document<"u"?document.head:null;Rb=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Rb}()){const e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return i&&(c.checkChildren=!0),c.subject;const u={checkChildren:i,subject:new ut,rootNode:l};return this._elementInfo.set(o,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(n){const i=wl(n),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(n,i,o){const l=wl(n);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([u,d])=>this._originChanged(u,i,d)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused","touch"===i),n.classList.toggle("cdk-keyboard-focused","keyboard"===i),n.classList.toggle("cdk-mouse-focused","mouse"===i),n.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,i){const o=this._elementInfo.get(i),l=El(n);!o||!o.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),o)}_onBlur(n,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const i=n.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jm)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zi(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(n){const i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,o){this._setClasses(n,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){const i=[];return this._elementInfo.forEach((o,l)=>{(l===n||o.checkChildren&&l.contains(n))&&i.push([l,o])}),i}_isLastInteractionFromInputLabel(n){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===n||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName||n.disabled)return!1;const l=n.labels;if(l)for(let c=0;c<l.length;c++)if(l[c].contains(i))return!0;return!1}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(lr),Wt(eo),Wt(uZ),Wt(Dr,8),Wt(fZ,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const wx="cdk-high-contrast-black-on-white",Tx="cdk-high-contrast-white-on-black",Zb="cdk-high-contrast-active";let Sx=(()=>{var t;class e{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=$t(X4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(n):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(Zb,wx,Tx),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?n.add(Zb,wx):2===i&&n.add(Zb,Tx)}}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(eo),Wt(Dr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),hZ=(()=>{var t;class e{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Sx))},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[px]}),e})();const pZ=new ln("cdk-dir-doc",{providedIn:"root",factory:function mZ(){return $t(Dr)}}),gZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let eg=(()=>{var t;class e{constructor(n){this.value="ltr",this.change=new ii,n&&(this.value=function _Z(t){const e=t?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?gZ.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(pZ,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),rh=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({}),e})();const yZ=new ln("mat-sanity-checks",{providedIn:"root",factory:function vZ(){return!0}});let to=(()=>{var t;class e{constructor(n,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!Mb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Sx),Wt(yZ,8),Wt(Dr))},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[rh,rh]}),e})();function Dx(t){return class extends t{get disabled(){return this._disabled}set disabled(e){this._disabled=uo(e)}constructor(...e){super(...e),this._disabled=!1}}}function tg(t,e){return class extends t{get color(){return this._color}set color(r){const n=r||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...r){super(...r),this.defaultColor=e,this.color=e}}}function zb(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=uo(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function bZ(t,e=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(r){this._tabIndex=null!=r?Cc(r):this.defaultTabIndex}constructor(...r){super(...r),this._tabIndex=e,this.defaultTabIndex=e}}}function EZ(t){return class extends t{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let xx=(()=>{var t;class e{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class TZ{constructor(e,r,n,i=!1){this._renderer=e,this.element=r,this.config=n,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Rx=Tc({passive:!0,capture:!0});class SZ{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const r=El(e);r&&this._events.get(e.type)?.forEach((n,i)=>{(i===r||i.contains(r))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,r,n,i){const o=this._events.get(r);if(o){const l=o.get(n);l?l.add(i):o.set(n,new Set([i]))}else this._events.set(r,new Map([[n,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,Rx)})}removeHandler(e,r,n){const i=this._events.get(e);if(!i)return;const o=i.get(r);o&&(o.delete(n),0===o.size&&i.delete(r),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Rx)))}}const Mx={enterDuration:225,exitDuration:150},Nx=Tc({passive:!0,capture:!0}),Ox=["mousedown","touchstart"],Px=["mouseup","mouseleave","touchend","touchcancel"];class oh{constructor(e,r,n,i){this._target=e,this._ngZone=r,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=wl(n))}fadeInRipple(e,r,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Mx,...n.animation};n.centered&&(e=i.left+i.width/2,r=i.top+i.height/2);const l=n.radius||function AZ(t,e,r){const n=Math.max(Math.abs(t-r.left),Math.abs(t-r.right)),i=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(n*n+i*i)}(e,r,i),c=e-i.left,u=r-i.top,d=o.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=c-l+"px",T.style.top=u-l+"px",T.style.height=2*l+"px",T.style.width=2*l+"px",null!=n.color&&(T.style.backgroundColor=n.color),T.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(T);const B=window.getComputedStyle(T),we=B.transitionDuration,Pe="none"===B.transitionProperty||"0s"===we||"0s, 0s"===we||0===i.width&&0===i.height,Ue=new TZ(this,T,n,Pe);T.style.transform="scale3d(1, 1, 1)",Ue.state=0,n.persistent||(this._mostRecentTransientRipple=Ue);let Et=null;return!Pe&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Dt=()=>this._finishRippleTransition(Ue),wt=()=>this._destroyRipple(Ue);T.addEventListener("transitionend",Dt),T.addEventListener("transitioncancel",wt),Et={onTransitionEnd:Dt,onTransitionCancel:wt}}),this._activeRipples.set(Ue,Et),(Pe||!d)&&this._finishRippleTransition(Ue),Ue}fadeOutRipple(e){if(2===e.state||3===e.state)return;const r=e.element,n={...Mx,...e.config.animation};r.style.transitionDuration=`${n.exitDuration}ms`,r.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const r=wl(e);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,Ox.forEach(n=>{oh._eventManager.addHandler(this._ngZone,n,r,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Px.forEach(r=>{this._triggerElement.addEventListener(r,this,Nx)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const r=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=1,!n&&(!r||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const r=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==r&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel)),e.element.remove()}_onMousedown(e){const r=jb(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!r&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Hb(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const r=e.changedTouches;if(r)for(let n=0;n<r.length;n++)this.fadeInRipple(r[n].clientX,r[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Ox.forEach(r=>oh._eventManager.removeHandler(r,e,this)),this._pointerUpEventsRegistered&&Px.forEach(r=>e.removeEventListener(r,this,Nx)))}}oh._eventManager=new SZ;const kx=new ln("mat-ripple-global-options");let Gb=(()=>{var t;class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,i,o,l,c){this._elementRef=n,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new oh(this,i,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,o){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,i,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...n})}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(lr),yt(eo),yt(kx,8),yt(Ds,8))},t.\u0275dir=Fn({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,i){2&n&&Ti("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),sh=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[to,to]}),e})();const Lx={capture:!0},Fx=["focus","click","mouseenter","touchstart"],qb="mat-ripple-loader-uninitialized",Yb="mat-ripple-loader-class-name",Bx="mat-ripple-loader-centered",ng="mat-ripple-loader-disabled";let IZ=(()=>{var t;class e{constructor(){this._document=$t(Dr,{optional:!0}),this._animationMode=$t(Ds,{optional:!0}),this._globalRippleOptions=$t(kx,{optional:!0}),this._platform=$t(eo),this._ngZone=$t(lr),this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;const o=n.target.closest(`[${qb}]`);o&&this.createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(const n of Fx)this._document?.addEventListener(n,this._onInteraction,Lx)})}ngOnDestroy(){for(const n of Fx)this._document?.removeEventListener(n,this._onInteraction,Lx)}configureRipple(n,i){n.setAttribute(qb,""),(i.className||!n.hasAttribute(Yb))&&n.setAttribute(Yb,i.className||""),i.centered&&n.setAttribute(Bx,""),i.disabled&&n.setAttribute(ng,"")}getRipple(n){return n.matRipple?n.matRipple:this.createRipple(n)}setDisabled(n,i){const o=n.matRipple;o?o.disabled=i:i?n.setAttribute(ng,""):n.removeAttribute(ng)}createRipple(n){if(!this._document)return;n.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(Yb)),n.append(i);const o=new Gb(new Nr(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=n,o.centered=n.hasAttribute(Bx),o.disabled=n.hasAttribute(ng),this.attachRipple(n,o),o}attachRipple(n,i){n.removeAttribute(qb),n.matRipple=i}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Ux(...t){const e=Ci(t),{args:r,keys:n}=tD(t),i=new $e(o=>{const{length:l}=r;if(!l)return void o.complete();const c=new Array(l);let u=l,d=l;for(let T=0;T<l;T++){let B=!1;hn(r[T]).subscribe(dt(o,he=>{B||(B=!0,d--),c[T]=he},()=>u--,void 0,()=>{(!u||!B)&&(d||o.next(n?nD(n,c):c),o.complete())}))}});return e?i.pipe(nb(e)):i}class $b{}class za{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const i=r.slice(0,n),o=i.toLowerCase(),l=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof za?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){const r=new za;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof za?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){const r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,r);const i=("a"===e.op?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":const o=e.value;if(o){let l=this.headers.get(r);if(!l)return;l=l.filter(c=>-1===o.indexOf(c)),0===l.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,l)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(e,r){const n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}}class DZ{encodeKey(e){return Vx(e)}encodeValue(e){return Vx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const RZ=/%(\d[a-f0-9])/gi,MZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vx(t){return encodeURIComponent(t).replace(RZ,(e,r)=>MZ[r]??e)}function rg(t){return`${t}`}class Tl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new DZ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xZ(t,e){const r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,c]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=r.get(l)||[];u.push(c),r.set(l,u)}),r}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{const n=e.fromObject[r],i=Array.isArray(n)?n.map(rg):[rg(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){const r=[];return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const r=new Tl({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const r=("a"===e.op?this.map.get(e.param):void 0)||[];r.push(rg(e.value)),this.map.set(e.param,r);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const i=n.indexOf(rg(e.value));-1!==i&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class NZ{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function jx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Hx(t){return typeof Blob<"u"&&t instanceof Blob}function Zx(t){return typeof FormData<"u"&&t instanceof FormData}class ah{constructor(e,r,n,i){let o;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function OZ(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new za),this.context||(this.context=new NZ),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=r;else{const c=r.indexOf("?");this.urlWithParams=r+(-1===c?"?":c<r.length-1?"&":"")+l}}else this.params=new Tl,this.urlWithParams=r}serializeBody(){return null===this.body?null:jx(this.body)||Hx(this.body)||Zx(this.body)||function PZ(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Tl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Zx(this.body)?null:Hx(this.body)?this.body.type||null:jx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Tl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,d=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((B,he)=>B.set(he,e.setHeaders[he]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((B,he)=>B.set(he,e.setParams[he]),d)),new ah(r,n,o,{params:d,headers:u,context:T,reportProgress:c,responseType:i,withCredentials:l})}}var Kb=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Kb||{});class kZ{constructor(e,r=200,n="OK"){this.headers=e.headers||new za,this.status=void 0!==e.status?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lh extends kZ{constructor(e={}){super(e),this.type=Kb.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new lh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Xb(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Qb=(()=>{var t;class e{constructor(n){this.handler=n}request(n,i,o={}){let l;if(n instanceof ah)l=n;else{let d,T;d=o.headers instanceof za?o.headers:new za(o.headers),o.params&&(T=o.params instanceof Tl?o.params:new Tl({fromObject:o.params})),l=new ah(n,i,void 0!==o.body?o.body:null,{headers:d,context:o.context,params:T,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const c=Jn(l).pipe(Ff(d=>this.handler.handle(d)));if(n instanceof ah||"events"===o.observe)return c;const u=c.pipe(co(d=>d instanceof lh));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return u.pipe(_e(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe(_e(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe(_e(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return u.pipe(_e(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new Tl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,Xb(o,i))}post(n,i,o={}){return this.request("POST",n,Xb(o,i))}put(n,i,o={}){return this.request("PUT",n,Xb(o,i))}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt($b))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();const t5=["*"];let sg;function ch(t){return function n5(){if(void 0===sg&&(sg=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(sg=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return sg}()?.createHTML(t)||t}function Jx(t){return Error(`Unable to find icon with the name "${t}"`)}function eR(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function tR(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Dc{constructor(e,r,n){this.url=e,this.svgText=r,this.options=n}}let uh=(()=>{var t;class e{constructor(n,i,o,l){this._httpClient=n,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(n,i,o){return this.addSvgIconInNamespace("",n,i,o)}addSvgIconLiteral(n,i,o){return this.addSvgIconLiteralInNamespace("",n,i,o)}addSvgIconInNamespace(n,i,o,l){return this._addSvgIconConfig(n,i,new Dc(o,null,l))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,i,o,l){const c=this._sanitizer.sanitize(ji.HTML,o);if(!c)throw tR(o);const u=ch(c);return this._addSvgIconConfig(n,i,new Dc("",u,l))}addSvgIconSet(n,i){return this.addSvgIconSetInNamespace("",n,i)}addSvgIconSetLiteral(n,i){return this.addSvgIconSetLiteralInNamespace("",n,i)}addSvgIconSetInNamespace(n,i,o){return this._addSvgIconSetConfig(n,new Dc(i,null,o))}addSvgIconSetLiteralInNamespace(n,i,o){const l=this._sanitizer.sanitize(ji.HTML,i);if(!l)throw tR(i);const c=ch(l);return this._addSvgIconSetConfig(n,new Dc("",c,o))}registerFontClassAlias(n,i=n){return this._fontCssClassesByAlias.set(n,i),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const i=this._sanitizer.sanitize(ji.RESOURCE_URL,n);if(!i)throw eR(n);const o=this._cachedIconsByUrl.get(i);return o?Jn(ag(o)):this._loadSvgIconFromConfig(new Dc(n,null)).pipe(oi(l=>this._cachedIconsByUrl.set(i,l)),_e(l=>ag(l)))}getNamedSvgIcon(n,i=""){const o=nR(i,n);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,n),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(n,c):Wu(Jx(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?Jn(ag(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(_e(i=>ag(i)))}_getSvgFromIconSetConfigs(n,i){const o=this._extractIconWithNameFromAnySet(n,i);return o?Jn(o):Ux(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(yl(u=>{const T=`Loading icon set URL: ${this._sanitizer.sanitize(ji.RESOURCE_URL,c.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(T)),Jn(null)})))).pipe(_e(()=>{const c=this._extractIconWithNameFromAnySet(n,i);if(!c)throw Jx(n);return c}))}_extractIconWithNameFromAnySet(n,i){for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.svgText&&l.svgText.toString().indexOf(n)>-1){const c=this._svgElementFromConfig(l),u=this._extractSvgIconFromSet(c,n,l.options);if(u)return u}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(oi(i=>n.svgText=i),_e(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?Jn(null):this._fetchIcon(n).pipe(oi(i=>n.svgText=i))}_extractSvgIconFromSet(n,i,o){const l=n.querySelector(`[id="${i}"]`);if(!l)return null;const c=l.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,o);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),o);const u=this._svgElementFromString(ch("<svg></svg>"));return u.appendChild(c),this._setSvgAttributes(u,o)}_svgElementFromString(n){const i=this._document.createElement("DIV");i.innerHTML=n;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){const i=this._svgElementFromString(ch("<svg></svg>")),o=n.attributes;for(let l=0;l<o.length;l++){const{name:c,value:u}=o[l];"id"!==c&&i.setAttribute(c,u)}for(let l=0;l<n.childNodes.length;l++)n.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(n.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(n,i){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),i&&i.viewBox&&n.setAttribute("viewBox",i.viewBox),n}_fetchIcon(n){const{url:i,options:o}=n,l=o?.withCredentials??!1;if(!this._httpClient)throw function r5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(ji.RESOURCE_URL,i);if(!c)throw eR(i);const u=this._inProgressUrlFetches.get(c);if(u)return u;const d=this._httpClient.get(c,{responseType:"text",withCredentials:l}).pipe(_e(T=>ch(T)),Rm(()=>this._inProgressUrlFetches.delete(c)),Xt());return this._inProgressUrlFetches.set(c,d),d}_addSvgIconConfig(n,i,o){return this._svgIconConfigs.set(nR(n,i),o),this}_addSvgIconSetConfig(n,i){const o=this._iconSetConfigs.get(n);return o?o.push(i):this._iconSetConfigs.set(n,[i]),this}_svgElementFromConfig(n){if(!n.svgElement){const i=this._svgElementFromString(n.svgText);this._setSvgAttributes(i,n.options),n.svgElement=i}return n.svgElement}_getIconConfigFromResolvers(n,i){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](i,n);if(l)return s5(l)?new Dc(l.url,null,l.options):new Dc(l,null)}}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Qb,8),Wt(Ws),Wt(Dr,8),Wt(la))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ag(t){return t.cloneNode(!0)}function nR(t,e){return t+":"+e}function s5(t){return!(!t.url||!t.options)}const a5=tg(class{constructor(t){this._elementRef=t}}),l5=new ln("MAT_ICON_DEFAULT_OPTIONS"),c5=new ln("mat-icon-location",{providedIn:"root",factory:function u5(){const t=$t(Dr),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),rR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],d5=rR.map(t=>`[${t}]`).join(", "),f5=/^url\(['"]?#(.*?)['"]?\)$/;let Cl=(()=>{var t;class e extends a5{get inline(){return this._inline}set inline(n){this._inline=uo(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const i=this._cleanupFontValue(n);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const i=this._cleanupFontValue(n);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(n,i,o,l,c,u){super(n),this._iconRegistry=i,this._location=l,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=F.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),o||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];const i=n.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let i=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=n.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>n.classList.remove(o)),i.forEach(o=>n.classList.add(o)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const i=this._elementsWithExternalReferences;i&&i.forEach((o,l)=>{o.forEach(c=>{l.setAttribute(c.name,`url('${n}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(n){const i=n.querySelectorAll(d5),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)rR.forEach(c=>{const u=i[l],d=u.getAttribute(c),T=d?d.match(f5):null;if(T){let B=o.get(u);B||(B=[],o.set(u,B)),B.push({name:c,value:T[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[i,o]=this._splitIconName(n);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe(Vo(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${l.message}`))})}}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(uh),ac("aria-hidden"),yt(c5),yt(la),yt(l5,8))},t.\u0275cmp=gr({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,i){2&n&&(li("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ti("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[yr],ngContentSelectors:t5,decls:1,vars:0,template:function(n,i){1&n&&(da(),Mi(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),ms=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[to,to]}),e})(),h5=(()=>{var t;class e{transform(n){const i=new Date(0);i.setUTCSeconds(n||0);const o=i.toISOString().substring(11,19);return i.getUTCHours()>0?o:i.getUTCMinutes()>0?o.substring(3):o.substring(4)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275pipe=$i({name:"time",type:t,pure:!0,standalone:!0}),e})();var p5=Oi(584);const m5=["video"];function g5(t,e){if(1&t){const r=ao();cn(0,"mat-icon",12),mr("click",function(){return mt(r),Vn(),bt(Hi(4).play())}),dn()}}function _5(t,e){if(1&t){const r=ao();cn(0,"mat-icon",13),mr("click",function(){return mt(r),Vn(),bt(Hi(4).pause())}),dn()}}function v5(t,e){if(1&t){const r=ao();cn(0,"mat-icon",16),mr("click",function(){mt(r),Vn(2);const i=Hi(4);return bt(i.muted=!i.muted)}),dn()}}function y5(t,e){if(1&t){const r=ao();cn(0,"mat-icon",17),mr("click",function(){mt(r),Vn(2);const i=Hi(4);return bt(i.muted=!i.muted)}),dn()}}function b5(t,e){if(1&t&&(Fa(0),Ln(1,v5,1,0,"mat-icon",14),Ln(2,y5,1,0,"mat-icon",15),Ba()),2&t){Vn();const r=Hi(4);Jt(1),Yt("ngIf",r.muted),Jt(1),Yt("ngIf",!r.muted)}}const E5=function(t){return{"--p":t}};let w5=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakSet,d=new WeakSet;class T{constructor(){Jr(this,d),Jr(this,u),In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),In(this,n,{writable:!0,value:void 0}),In(this,i,{writable:!0,value:void 0}),In(this,o,{writable:!0,value:void 0}),In(this,l,{writable:!0,value:void 0}),In(this,c,{writable:!0,value:void 0}),Tn(this,e,new IntersectionObserver((Ue,Et)=>Pr(this,u,B).call(this,Ue,Et),{root:null,rootMargin:"32px",threshold:0})),Tn(this,n,!1),Tn(this,i,0),Tn(this,o,!1),Tn(this,l,""),this.has_audio=!0,this.cd=$t(Bo)}set value(Ue){Ue&&Ue.nativeElement&&Tn(this,c,Ue.nativeElement)}ngOnInit(){var Ue=this;return pi(function*(){const Et=Ue.data.videos.find(Dt=>"application/dash+xml"===Dt.type);Tn(Ue,l,Et?.url||Ue.data.videos[Ue.data.videos.length-1].url),null!=Et?(Tn(Ue,o,!0),yield Pr(Ue,d,he).call(Ue,_t(Ue,l)),Tn(Ue,r,(0,p5.MediaPlayer)().create()),_t(Ue,r).initialize(_t(Ue,c),"",!1),_t(Ue,r).setMute(!0),_t(Ue,r).updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:_t(Ue,i)-1}}}}),_t(Ue,e).observe(_t(Ue,c))):_t(Ue,e).observe(_t(Ue,c))})()}ngOnDestroy(){_t(this,r)?.destroy()}onLoadeddata(){_t(this,o)||(this.has_audio="mozHasAudio"in _t(this,c)&&_t(this,c).mozHasAudio||"webkitAudioDecodedByteCount"in _t(this,c)&&_t(this,c).webkitAudioDecodedByteCount>0||"audioTracks"in _t(this,c)&&_t(this,c).audioTracks.length>0,_t(this,c).muted=!0)}skip(Ue,Et,Dt){const wt=Et.getBoundingClientRect();Dt.currentTime=(Ue.pageX-wt.left)/Et.offsetWidth*Dt.duration}}function B(Pe,Ue){Pe[0].isIntersecting?_t(this,n)||(_t(this,o)?_t(this,r).attachSource(_t(this,l)):_t(this,c).src=_t(this,l),Tn(this,n,!0)):_t(this,n)&&(_t(this,c).paused||_t(this,c).ended||_t(this,c).pause())}function he(Pe){return we.apply(this,arguments)}function we(){return(we=pi(function*(Pe){try{const Ue=yield fetch(Pe);if(!Ue.ok)return;const Et=yield Ue.text();if(String.isNullOrWhitespace(Et))return;const Dt=(new DOMParser).parseFromString(Et,"application/xml");if(null==Dt)return;const wt=Dt.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=null!=wt;const fn=Dt.querySelector('AdaptationSet[contentType="video"]');if(null==fn)return;const yn=fn.querySelectorAll("Representation");if(null==yn||0===yn.length)return;const Gn=Array.from(yn).map(dr=>Number(dr.getAttribute("bandwidth"))).filter(dr=>!isNaN(dr));if(null==Gn||0===Gn.length)return;Tn(this,i,Math.max(...Gn))}catch{return}})).apply(this,arguments)}return(t=T).\u0275fac=function(Ue){return new(Ue||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body-video"]],viewQuery:function(Ue,Et){if(1&Ue&&Lo(m5,7),2&Ue){let Dt;ci(Dt=ui())&&(Et.value=Dt.first)}},inputs:{data:"data"},standalone:!0,features:[ri],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(Ue,Et){if(1&Ue){const Dt=ao();cn(0,"div",0),Qn(1,"mat-icon",1)(2,"mat-icon",2),dn(),cn(3,"video",3,4),mr("loadeddata",function(){return Et.onLoadeddata()})("click",function(){mt(Dt);const fn=Hi(4);return bt(fn.paused||fn.ended?fn.play():fn.pause())})("timeupdate",function(){return Et.cd.detectChanges()}),dn(),cn(5,"div",5),Ln(6,g5,1,0,"mat-icon",6),Ln(7,_5,1,0,"mat-icon",7),cn(8,"div",8,9),mr("click",function(fn){mt(Dt);const yn=Hi(9),Gn=Hi(4);return bt(Et.skip(fn,yn,Gn))}),cn(10,"div",10),Br(11),fl(12,"time"),fl(13,"time"),dn()(),Ln(14,b5,3,2,"ng-container",11),dn()}if(2&Ue){const Dt=Hi(4);Jt(6),Yt("ngIf",Dt.paused||Dt.ended),Jt(1),Yt("ngIf",!Dt.paused&&!Dt.ended),Jt(1),Yt("ngStyle",pa(10,E5,100*((null==Dt?null:Dt.currentTime)||0)/Dt.duration+"%")),Jt(3),Kp("",hl(12,6,Dt.currentTime)," / ",hl(13,8,Dt.duration)," "),Jt(3),Yt("ngIf",Et.has_audio)}},dependencies:[ms,Cl,lo,Sm,h5],changeDetection:0}),T})();function T5(t,e){1&t&&Qn(0,"post-body-embed",1),2&t&&Yt("data",Vn()._data)}function S5(t,e){1&t&&Qn(0,"post-body-image",1),2&t&&Yt("data",Vn()._data)}function C5(t,e){1&t&&Qn(0,"post-body-text",1),2&t&&Yt("data",Vn()._data)}function A5(t,e){1&t&&Qn(0,"post-body-video",1),2&t&&Yt("data",Vn()._data)}function I5(t,e){1&t&&Qn(0,"post-body-link",1),2&t&&Yt("data",Vn()._data)}let D5=(()=>{var t;class e{set data(n){this._data=n.is_crosspost?n.crosspost:n}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(n,i){1&n&&(Ln(0,T5,1,1,"post-body-embed",0),Ln(1,S5,1,1,"post-body-image",0),Ln(2,C5,1,1,"post-body-text",0),Ln(3,A5,1,1,"post-body-video",0),Ln(4,I5,1,1,"post-body-link",0)),2&n&&(Yt("ngIf",null==i._data?null:i._data.has_embed),Jt(1),Yt("ngIf",null==i._data?null:i._data.has_image),Jt(1),Yt("ngIf",null==i._data?null:i._data.has_text),Jt(1),Yt("ngIf",null==i._data?null:i._data.has_video),Jt(1),Yt("ngIf",null==i._data?null:i._data.has_link))},dependencies:[lo,d4,g4,b4,T4,w5],changeDetection:0}),e})();class Al{}class iR extends Al{}var Ns=function(t){return t.Listing="Listing",t.Comment="t1",t.Account="t2",t.Link="t3",t.Message="t4",t.Subreddit="t5",t.Award="t6",t.More="more",t}(Ns||{});const x5=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function eE(t,e){let r={};return function R5(t,e){if(e.is_crosspost=String.hasData(t.crosspost_parent)&&Array.isArray(t.crosspost_parent_list)&&t.crosspost_parent_list.length>0,t.media?.reddit_video)e.has_video=!0;else if(t.preview?.reddit_video_preview)e.has_video=!0;else if(t.preview&&Array.isArray(t.preview.images)&&t.preview.images[0].variants&&"mp4"in t.preview.images[0].variants)e.has_video=!0;else if(t.media_embed?.content)e.has_embed=!0;else{if(String.hasData(t.selftext_html)&&(e.has_text=!0),t.thumbnail&&"default"===t.thumbnail&&(e.has_link=!0),t.post_hint&&"link"===t.post_hint&&"imgur.com"!==t.domain&&(e.has_link=!0),!t.preview||!Array.isArray(t.preview.images))return t.gallery_data?(e.has_image=!0,void(e.has_image_gallery=!0)):void(x5.some(r=>t.url.endsWith(r))?e.has_image=!0:!e.has_image&&!e.has_text&&(e.has_link=!0));e.has_image=!0}}(t,r),function M5(t,e){e.author=t.author,e.created_utc=t.created_utc,e.downs=t.downs,e.id=t.id,e.num_comments=t.num_comments,e.stickied=t.stickied,e.subreddit=t.subreddit,e.title=t.title,e.ups=t.ups,e.url=t.url}(t,r),function N5(t,e,r){e.is_crosspost&&(e.crosspost=eE(t.crosspost_parent_list[0],r))}(t,r,e),function O5(t,e){e.has_embed&&(e.embed=t.media_embed.content)}(t,r),function P5(t,e){e.has_image&&(e.images=null!=t.gallery_data?function k5(t){return t.gallery_data.items.map(e=>{const r=t.media_metadata[e.media_id];return"valid"!==r.status?{src:"",srcset:"",href:t.url}:{src:r.o?r.o[0].u:r.s.u,srcset:r.p.map(n=>`${n.u} ${n.x}w`).join(","),href:t.url}})}(t):null!=t.preview?function L5(t){const e=t.preview.images[0];return[{src:e.source.url,srcset:e.resolutions.map(r=>`${r.url} ${r.width}w`).join(","),href:t.url}]}(t):function F5(t){return[{src:t.url,srcset:t.url,href:t.url}]}(t))}(t,r),function H5(t,e){e.has_link&&(e.url=t.url)}(t,r),function Z5(t,e){e.has_text&&(e.selftext_html=t.selftext_html)}(t,r),function B5(t,e,r){e.has_video&&(e.videos=t.media&&t.media.reddit_video?function U5(t){return[{url:t.media.reddit_video.dash_url,type:"application/dash+xml"},{url:t.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:t.media.reddit_video.fallback_url,type:"video/mp4"}]}(t):t.preview&&t.preview.reddit_video_preview?function V5(t){return[{url:t.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:t.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:t.preview.reddit_video_preview.fallback_url,type:"video/mp4"}]}(t):function j5(t){return[{url:t.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(t),!r&&(e.videos=e.videos.filter(n=>"video/mp4"==n.type)))}(t,r,e),r}let oR=(()=>{var t;class e{transform(n){if(null==n)return"-";const i=new Date(Date.now()-1e3*n);return i.getUTCFullYear()>1970?i.getUTCFullYear()-1970+"y":i.getUTCMonth()>0?`${i.getUTCMonth()}mo`:i.getUTCDate()>1?i.getUTCDate()-1+"d":i.getUTCHours()>0?`${i.getUTCHours()}h`:`${i.getUTCMinutes()}m`}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275pipe=$i({name:"age",type:t,pure:!0,standalone:!0}),e})(),z5=(()=>{var t;class e{transform(n){if(isNaN(+`${n}`)||0===n)return"0";const i=Math.log10(n);return i<3?`${n}`:i<6?`${Math.floor(n/1e3)}K`:i<9?`${Math.floor(n/1e6)}M`:"lots"}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275pipe=$i({name:"count",type:t,pure:!0,standalone:!0}),e})();class sR{constructor(e,r){this.storage=e,this.keyPrefix=r,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(e,r,n){const i=this.createItemKey(e),o=new G5;o.value=r,null!=n&&!isNaN(Number(n))&&(o.expiresOn=Number(n)),this.storage.setItem(i,JSON.stringify(o))}get(e){const r=this.createItemKey(e),n=this.storage.getItem(r);return null===n?null:JSON.parse(n).value}remove(e){this.storage.removeItem(this.createItemKey(e))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const e=[],r=Date.now(),n=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,n)!==this.keyPrefix)continue;const l=this.storage.getItem(o);if(!l)continue;const c=JSON.parse(l);c.expiresOn&&r>c.expiresOn&&e.push(o)}e.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(e){return`${this.keyPrefix}.${e}`}}class G5{}class tE{constructor(){this.keyPrefix=""}}let q5=(()=>{var t;class e extends sR{constructor(n){if(!n||!n.keyPrefix||0===n.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,n.keyPrefix)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(tE))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Y5=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakSet;class d{constructor(){Jr(this,u),In(this,e,{writable:!0,value:"profile"}),In(this,r,{writable:!0,value:$t(q5)}),In(this,n,{writable:!0,value:{}}),In(this,i,{writable:!0,value:JSON.stringify(_t(this,n))}),In(this,o,{writable:!0,value:new ut}),In(this,l,{writable:!0,value:_t(this,o).pipe(Bb(300)).subscribe(()=>Pr(this,u,T).call(this))}),In(this,c,{writable:!0,value:!1})}get(he){return _t(this,n)[he]}set(he,we){_t(this,n)[he]=we,_t(this,o).next("")}load(){var he=this;return pi(function*(){if(_t(he,c))return;const we=_t(he,r).get(_t(he,e));null!=we&&(Tn(he,n,we),Tn(he,i,JSON.stringify(_t(he,n))),Tn(he,c,!0))})()}ngOnDestroy(){_t(this,l).unsubscribe()}}function T(){const B=JSON.stringify(_t(this,n));B!==_t(this,i)&&(Tn(this,i,B),_t(this,r).set(_t(this,e),_t(this,n)))}return(t=d).\u0275fac=function(he){return new(he||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),d})(),aR=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap;class i{constructor(){In(this,e,{writable:!0,value:"subreddits"}),In(this,r,{writable:!0,value:[]}),In(this,n,{writable:!0,value:$t(Y5)})}add(l){String.isNullOrWhitespace(l)||_t(this,r).includes(l)||(_t(this,r).push(l),_t(this,r).sort(),_t(this,n).set(_t(this,e),_t(this,r)))}get(){return[..._t(this,r)]}remove(l){String.isNullOrWhitespace(l)||(Tn(this,r,_t(this,r).filter(c=>c!==l)),_t(this,n).set(_t(this,e),_t(this,r)))}loadAsync(){var l=this;return pi(function*(){yield _t(l,n).load(),Tn(l,r,["algotrading","android","angular","angular2","angularjs","artificial","askreddit","askscience","bestof","ChatGPT","ChatGPTCoding","ChatGPTPromptGenius","coding","computing","csharp","deeplearning","desmoines","dotnet","funny","futurology","GooglePixel","interestingasfuck","javascript","mademesmile","microsoft","nextfuckinglevel","personalfinance","picard","pixel_phones","programming","science","space","starshipporn","startrek","technology","typescript","web_design","worldnews"])})()}}return(t=i).\u0275fac=function(l){return new(l||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),Os=(()=>{var t,e=new WeakMap;class r{constructor(){In(this,e,{writable:!0,value:new ut})}raise(i){if(null==i)throw new Error("domainEvent missing");let o="function"==typeof i?new i:"object"==typeof i?i:null;if(!(o&&o instanceof Al))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");_t(this,e).next(o)}handle(i){return _t(this,e).pipe(co(o=>o instanceof i),_e(o=>o))}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();class xc extends Al{}var nE=new WeakMap;class Rc extends Al{get kill(){return _t(this,nE)}constructor(e=!1){super(),In(this,nE,{writable:!0,value:void 0}),Tn(this,nE,e)}}function od(t){t||(Pp(),t=$t(sf));const e=new $e(r=>t.onDestroy(r.next.bind(r)));return r=>r.pipe(zi(e))}globalThis;const i8=["determinateSpinner"];function o8(t,e){if(1&t&&(Xn(),cn(0,"svg",11),Qn(1,"circle",12),dn()),2&t){const r=Vn();li("viewBox",r._viewBox()),Jt(1),Vu("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeCircumference()/2,"px")("stroke-width",r._circleStrokeWidth(),"%"),li("r",r._circleRadius())}}const s8=tg(class{constructor(t){this._elementRef=t}},"primary"),a8=new ln("mat-progress-spinner-default-options",{providedIn:"root",factory:function l8(){return{diameter:hR}}}),hR=100;let u8=(()=>{var t;class e extends s8{constructor(n,i,o){super(n),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=hR,this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,Cc(n)))}get diameter(){return this._diameter}set diameter(n){this._diameter=Cc(n)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(n){this._strokeWidth=Cc(n)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const n=2*this._circleRadius()+this.strokeWidth;return`0 0 ${n} ${n}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(Ds,8),yt(a8))},t.\u0275cmp=gr({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,i){if(1&n&&Lo(i8,5),2&n){let o;ci(o=ui())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(n,i){2&n&&(li("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),Vu("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),Ti("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[yr],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,i){if(1&n&&(Ln(0,o8,2,8,"ng-template",null,0,ly),cn(2,"div",1,2),Xn(),cn(4,"svg",3),Qn(5,"circle",4),dn()(),function Vi(){!function zr(){G.lFrame.currentNamespace=null}()}(),cn(6,"div",5)(7,"div",6)(8,"div",7),gf(9,8),dn(),cn(10,"div",9),gf(11,8),dn(),cn(12,"div",10),gf(13,8),dn()()()),2&n){const o=Hi(1);Jt(4),li("viewBox",i._viewBox()),Jt(1),Vu("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),li("r",i._circleRadius()),Jt(4),Yt("ngTemplateOutlet",o),Jt(2),Yt("ngTemplateOutlet",o),Jt(2),Yt("ngTemplateOutlet",o)}},dependencies:[Hy],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),e})(),d8=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[Nf,to]}),e})();function f8(t,e){1&t&&(cn(0,"div",1),Qn(1,"mat-spinner",2),dn())}let h8=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakSet,i=new WeakSet;class o{constructor(d){Jr(this,i),Jr(this,n),In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),Tn(this,e,0),Tn(this,r,250),this.show=Ss(!1),d.handle(xc).pipe(od()).subscribe(T=>Pr(this,n,l).call(this)),d.handle(Rc).pipe(od()).subscribe(T=>Pr(this,i,c).call(this,T))}}function l(){var u;Tn(this,e,(u=_t(this,e),++u)),window.setTimeout(()=>{0!==_t(this,e)&&this.show.set(!0)},_t(this,r))}function c(u){var d;u.kill?Tn(this,e,0):_t(this,e)>0&&Tn(this,e,(d=_t(this,e),--d)),0===_t(this,e)&&this.show.set(!1)}return(t=o).\u0275fac=function(d){return new(d||t)(yt(Os))},t.\u0275cmp=gr({type:t,selectors:[["throbber"]],standalone:!0,features:[ri],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(d,T){1&d&&Ln(0,f8,2,0,"div",0),2&d&&Yt("ngIf",T.show())},dependencies:[d8,u8,lo],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"],changeDetection:0}),o})(),p8=(()=>{var t,e=new WeakMap,r=new WeakMap;class n{constructor(){In(this,e,{writable:!0,value:$t(Os)}),In(this,r,{writable:!0,value:$t(aR)})}ngOnInit(){var o=this;return pi(function*(){const l=[_t(o,r).loadAsync()];_t(o,e).raise(xc);try{yield Promise.allSettled(l)}finally{_t(o,e).raise(Rc)}})()}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=gr({type:t,selectors:[["app-root"]],standalone:!0,features:[ri],decls:2,vars:0,template:function(o,l){1&o&&Qn(0,"throbber")(1,"router-outlet")},dependencies:[yb,h8],encapsulation:2}),n})();class pR{}class m8{}const Ga="*";function dh(t,e){return{type:7,name:t,definitions:e,options:{}}}function Il(t,e=null){return{type:4,styles:e,timings:t}}function mR(t,e=null){return{type:2,steps:t,options:e}}function es(t){return{type:6,styles:t,offset:null}}function Mc(t,e,r){return{type:0,name:t,styles:e,options:r}}function Dl(t,e,r=null){return{type:1,expr:t,animation:e,options:r}}class fh{constructor(e=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const r="start"==e?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}}class gR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let r=0,n=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++r==o&&this._onFinish()}),l.onDestroy(()=>{++n==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const r=e*this.totalTime;this.players.forEach(n=>{const i=n.totalTime?Math.min(1,r/n.totalTime):1;n.setPosition(i)})}getPosition(){const e=this.players.reduce((r,n)=>null===r||n.totalTime>r.totalTime?n:r,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const r="start"==e?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}}function _R(t){return new zt(3e3,!1)}function xl(t){switch(t.length){case 0:return new fh;case 1:return t[0];default:return new gR(t)}}function vR(t,e,r=new Map,n=new Map){const i=[],o=[];let l=-1,c=null;if(e.forEach(u=>{const d=u.get("offset"),T=d==l,B=T&&c||new Map;u.forEach((he,we)=>{let Pe=we,Ue=he;if("offset"!==we)switch(Pe=t.normalizePropertyName(Pe,i),Ue){case"!":Ue=r.get(we);break;case Ga:Ue=n.get(we);break;default:Ue=t.normalizeStyleValue(we,Pe,Ue,i)}B.set(Pe,Ue)}),T||o.push(B),c=B,l=d}),i.length)throw function B8(t){return new zt(3502,!1)}();return o}function lE(t,e,r,n){switch(e){case"start":t.onStart(()=>n(r&&cE(r,"start",t)));break;case"done":t.onDone(()=>n(r&&cE(r,"done",t)));break;case"destroy":t.onDestroy(()=>n(r&&cE(r,"destroy",t)))}}function cE(t,e,r){const o=uE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r.totalTime??t.totalTime,!!r.disabled),l=t._data;return null!=l&&(o._data=l),o}function uE(t,e,r,n,i="",o=0,l){return{element:t,triggerName:e,fromState:r,toState:n,phaseName:i,totalTime:o,disabled:!!l}}function gs(t,e,r){let n=t.get(e);return n||t.set(e,n=r),n}function yR(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const K8=(()=>typeof document>"u"?null:document.documentElement)();function dE(t){const e=t.parentNode||t.host||null;return e===K8?null:e}let Nc=null,bR=!1;function ER(t,e){for(;e;){if(e===t)return!0;e=dE(e)}return!1}function wR(t,e,r){if(r)return Array.from(t.querySelectorAll(e));const n=t.querySelector(e);return n?[n]:[]}let TR=(()=>{var t;class e{validateStyleProperty(n){return function Q8(t){Nc||(Nc=function J8(){return typeof document<"u"?document.body:null}()||{},bR=!!Nc.style&&"WebkitAppearance"in Nc.style);let e=!0;return Nc.style&&!function X8(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Nc.style,!e&&bR&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Nc.style)),e}(n)}matchesElement(n,i){return!1}containsElement(n,i){return ER(n,i)}getParentElement(n){return dE(n)}query(n,i,o){return wR(n,i,o)}computeStyle(n,i,o){return o||""}animate(n,i,o,l,c,u=[],d){return new fh(o,l)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})(),fE=(()=>{class e{}return e.NOOP=new TR,e})();const ez=1e3,hE="ng-enter",dg="ng-leave",fg="ng-trigger",hg=".ng-trigger",CR="ng-animating",pE=".ng-animating";function qa(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mE(parseFloat(e[1]),e[2])}function mE(t,e){return"s"===e?t*ez:t}function pg(t,e,r){return t.hasOwnProperty("duration")?t:function nz(t,e,r){let i,o=0,l="";if("string"==typeof t){const c=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(_R()),{duration:0,delay:0,easing:""};i=mE(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(o=mE(parseFloat(u),c[4]));const d=c[5];d&&(l=d)}else i=t;if(!r){let c=!1,u=e.length;i<0&&(e.push(function g8(){return new zt(3100,!1)}()),c=!0),o<0&&(e.push(function _8(){return new zt(3101,!1)}()),c=!0),c&&e.splice(u,0,_R())}return{duration:i,delay:o,easing:l}}(t,e,r)}function hh(t,e={}){return Object.keys(t).forEach(r=>{e[r]=t[r]}),e}function AR(t){const e=new Map;return Object.keys(t).forEach(r=>{e.set(r,t[r])}),e}function Rl(t,e=new Map,r){if(r)for(let[n,i]of r)e.set(n,i);for(let[n,i]of t)e.set(n,i);return e}function Ea(t,e,r){e.forEach((n,i)=>{const o=_E(i);r&&!r.has(i)&&r.set(i,t.style[o]),t.style[o]=n})}function Oc(t,e){e.forEach((r,n)=>{const i=_E(n);t.style[i]=""})}function ph(t){return Array.isArray(t)?1==t.length?t[0]:mR(t):t}const gE=new RegExp("{{\\s*(.+?)\\s*}}","g");function DR(t){let e=[];if("string"==typeof t){let r;for(;r=gE.exec(t);)e.push(r[1]);gE.lastIndex=0}return e}function mh(t,e,r){const n=t.toString(),i=n.replace(gE,(o,l)=>{let c=e[l];return null==c&&(r.push(function y8(t){return new zt(3003,!1)}()),c=""),c.toString()});return i==n?t:i}function mg(t){const e=[];let r=t.next();for(;!r.done;)e.push(r.value),r=t.next();return e}const oz=/-+([a-z0-9])/g;function _E(t){return t.replace(oz,(...e)=>e[1].toUpperCase())}function _s(t,e,r){switch(e.type){case 7:return t.visitTrigger(e,r);case 0:return t.visitState(e,r);case 1:return t.visitTransition(e,r);case 2:return t.visitSequence(e,r);case 3:return t.visitGroup(e,r);case 4:return t.visitAnimate(e,r);case 5:return t.visitKeyframes(e,r);case 6:return t.visitStyle(e,r);case 8:return t.visitReference(e,r);case 9:return t.visitAnimateChild(e,r);case 10:return t.visitAnimateRef(e,r);case 11:return t.visitQuery(e,r);case 12:return t.visitStagger(e,r);default:throw function b8(t){return new zt(3004,!1)}()}}function xR(t,e){return window.getComputedStyle(t)[e]}const gg="*";function lz(t,e){const r=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(n=>function cz(t,e,r){if(":"==t[0]){const u=function uz(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,n)=>parseFloat(n)>parseFloat(r);case":decrement":return(r,n)=>parseFloat(n)<parseFloat(r);default:return e.push(function P8(t){return new zt(3016,!1)}()),"* => *"}}(t,r);if("function"==typeof u)return void e.push(u);t=u}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return r.push(function O8(t){return new zt(3015,!1)}()),e;const i=n[1],o=n[2],l=n[3];e.push(RR(i,l));"<"==o[0]&&!(i==gg&&l==gg)&&e.push(RR(l,i))}(n,r,e)):r.push(t),r}const _g=new Set(["true","1"]),vg=new Set(["false","0"]);function RR(t,e){const r=_g.has(t)||vg.has(t),n=_g.has(e)||vg.has(e);return(i,o)=>{let l=t==gg||t==i,c=e==gg||e==o;return!l&&r&&"boolean"==typeof i&&(l=i?_g.has(t):vg.has(t)),!c&&n&&"boolean"==typeof o&&(c=o?_g.has(e):vg.has(e)),l&&c}}const dz=new RegExp("s*:selfs*,?","g");function vE(t,e,r,n){return new fz(t).build(e,r,n)}class fz{constructor(e){this._driver=e}build(e,r,n){const i=new mz(r);return this._resetContextStyleTimingState(i),_s(this,ph(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,r){let n=r.queryCount=0,i=r.depCount=0;const o=[],l=[];return"@"==e.name.charAt(0)&&r.errors.push(function w8(){return new zt(3006,!1)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(r),0==c.type){const u=c,d=u.name;d.toString().split(/\s*,\s*/).forEach(T=>{u.name=T,o.push(this.visitState(u,r))}),u.name=d}else if(1==c.type){const u=this.visitTransition(c,r);n+=u.queryCount,i+=u.depCount,l.push(u)}else r.errors.push(function T8(){return new zt(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:l,queryCount:n,depCount:i,options:null}}visitState(e,r){const n=this.visitStyle(e.styles,r),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const o=new Set,l=i||{};n.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{DR(u).forEach(d=>{l.hasOwnProperty(d)||o.add(d)})})}),o.size&&(mg(o.values()),r.errors.push(function S8(t,e){return new zt(3008,!1)}()))}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,r){r.queryCount=0,r.depCount=0;const n=_s(this,ph(e.animation),r);return{type:1,matchers:lz(e.expr,r.errors),animation:n,queryCount:r.queryCount,depCount:r.depCount,options:Pc(e.options)}}visitSequence(e,r){return{type:2,steps:e.steps.map(n=>_s(this,n,r)),options:Pc(e.options)}}visitGroup(e,r){const n=r.currentTime;let i=0;const o=e.steps.map(l=>{r.currentTime=n;const c=_s(this,l,r);return i=Math.max(i,r.currentTime),c});return r.currentTime=i,{type:3,steps:o,options:Pc(e.options)}}visitAnimate(e,r){const n=function _z(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return yE(pg(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=yE(0,0,"");return o.dynamic=!0,o.strValue=r,o}const i=pg(r,e);return yE(i.duration,i.delay,i.easing)}(e.timings,r.errors);r.currentAnimateTimings=n;let i,o=e.styles?e.styles:es({});if(5==o.type)i=this.visitKeyframes(o,r);else{let l=e.styles,c=!1;if(!l){c=!0;const d={};n.easing&&(d.easing=n.easing),l=es(d)}r.currentTime+=n.duration+n.delay;const u=this.visitStyle(l,r);u.isEmptyStep=c,i=u}return r.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,r){const n=this._makeStyleAst(e,r);return this._validateStyleAst(n,r),n}_makeStyleAst(e,r){const n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of i)"string"==typeof c?c===Ga?n.push(c):r.errors.push(new zt(3002,!1)):n.push(AR(c));let o=!1,l=null;return n.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(l=c.get("easing"),c.delete("easing")),!o))for(let u of c.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,r){const n=r.currentAnimateTimings;let i=r.currentTime,o=r.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,u)=>{const d=r.collectedStyles.get(r.currentQuerySelector),T=d.get(u);let B=!0;T&&(o!=i&&o>=T.startTime&&i<=T.endTime&&(r.errors.push(function A8(t,e,r,n,i){return new zt(3010,!1)}()),B=!1),o=T.startTime),B&&d.set(u,{startTime:o,endTime:i}),r.options&&function iz(t,e,r){const n=e.params||{},i=DR(t);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||r.push(function v8(t){return new zt(3001,!1)}())})}(c,r.options,r.errors)})})}visitKeyframes(e,r){const n={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function I8(){return new zt(3011,!1)}()),n;let o=0;const l=[];let c=!1,u=!1,d=0;const T=e.steps.map(Dt=>{const wt=this._makeStyleAst(Dt,r);let fn=null!=wt.offset?wt.offset:function gz(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(r=>{if(r instanceof Map&&r.has("offset")){const n=r;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}return e}(wt.styles),yn=0;return null!=fn&&(o++,yn=wt.offset=fn),u=u||yn<0||yn>1,c=c||yn<d,d=yn,l.push(yn),wt});u&&r.errors.push(function D8(){return new zt(3012,!1)}()),c&&r.errors.push(function x8(){return new zt(3200,!1)}());const B=e.steps.length;let he=0;o>0&&o<B?r.errors.push(function R8(){return new zt(3202,!1)}()):0==o&&(he=1/(B-1));const we=B-1,Pe=r.currentTime,Ue=r.currentAnimateTimings,Et=Ue.duration;return T.forEach((Dt,wt)=>{const fn=he>0?wt==we?1:he*wt:l[wt],yn=fn*Et;r.currentTime=Pe+Ue.delay+yn,Ue.duration=yn,this._validateStyleAst(Dt,r),Dt.offset=fn,n.styles.push(Dt)}),n}visitReference(e,r){return{type:8,animation:_s(this,ph(e.animation),r),options:Pc(e.options)}}visitAnimateChild(e,r){return r.depCount++,{type:9,options:Pc(e.options)}}visitAnimateRef(e,r){return{type:10,animation:this.visitReference(e.animation,r),options:Pc(e.options)}}visitQuery(e,r){const n=r.currentQuerySelector,i=e.options||{};r.queryCount++,r.currentQuery=e;const[o,l]=function hz(t){const e=!!t.split(/\s*,\s*/).find(r=>":self"==r);return e&&(t=t.replace(dz,"")),t=t.replace(/@\*/g,hg).replace(/@\w+/g,r=>hg+"-"+r.slice(1)).replace(/:animating/g,pE),[t,e]}(e.selector);r.currentQuerySelector=n.length?n+" "+o:o,gs(r.collectedStyles,r.currentQuerySelector,new Map);const c=_s(this,ph(e.animation),r);return r.currentQuery=null,r.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:c,originalSelector:e.selector,options:Pc(e.options)}}visitStagger(e,r){r.currentQuery||r.errors.push(function M8(){return new zt(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:pg(e.timings,r.errors,!0);return{type:12,animation:_s(this,ph(e.animation),r),timings:n,options:null}}}class mz{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Pc(t){return t?(t=hh(t)).params&&(t.params=function pz(t){return t?hh(t):null}(t.params)):t={},t}function yE(t,e,r){return{duration:t,delay:e,easing:r}}function bE(t,e,r,n,i,o,l=null,c=!1){return{type:1,element:t,keyframes:e,preStyleProps:r,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:c}}class yg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,r){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...r)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const bz=new RegExp(":enter","g"),wz=new RegExp(":leave","g");function EE(t,e,r,n,i,o=new Map,l=new Map,c,u,d=[]){return(new Tz).buildKeyframes(t,e,r,n,i,o,l,c,u,d)}class Tz{buildKeyframes(e,r,n,i,o,l,c,u,d,T=[]){d=d||new yg;const B=new wE(e,r,d,i,o,T,[]);B.options=u;const he=u.delay?qa(u.delay):0;B.currentTimeline.delayNextStep(he),B.currentTimeline.setStyles([l],null,B.errors,u),_s(this,n,B);const we=B.timelines.filter(Pe=>Pe.containsAnimation());if(we.length&&c.size){let Pe;for(let Ue=we.length-1;Ue>=0;Ue--){const Et=we[Ue];if(Et.element===r){Pe=Et;break}}Pe&&!Pe.allowOnlyTimelineStyles()&&Pe.setStyles([c],null,B.errors,u)}return we.length?we.map(Pe=>Pe.buildKeyframes()):[bE(r,[],[],[],0,he,"",!1)]}visitTrigger(e,r){}visitState(e,r){}visitTransition(e,r){}visitAnimateChild(e,r){const n=r.subInstructions.get(r.element);if(n){const i=r.createSubContext(e.options),o=r.currentTimeline.currentTime,l=this._visitSubInstructions(n,i,i.options);o!=l&&r.transformIntoNewTimeline(l)}r.previousNode=e}visitAnimateRef(e,r){const n=r.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],r,n),this.visitReference(e.animation,n),r.transformIntoNewTimeline(n.currentTimeline.currentTime),r.previousNode=e}_applyAnimationRefDelays(e,r,n){for(const i of e){const o=i?.delay;if(o){const l="number"==typeof o?o:qa(mh(o,i?.params??{},r.errors));n.delayNextStep(l)}}}_visitSubInstructions(e,r,n){let o=r.currentTimeline.currentTime;const l=null!=n.duration?qa(n.duration):null,c=null!=n.delay?qa(n.delay):null;return 0!==l&&e.forEach(u=>{const d=r.appendInstructionToTimeline(u,l,c);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,r){r.updateOptions(e.options,!0),_s(this,e.animation,r),r.previousNode=e}visitSequence(e,r){const n=r.subContextCount;let i=r;const o=e.options;if(o&&(o.params||o.delay)&&(i=r.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bg);const l=qa(o.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>_s(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),r.previousNode=e}visitGroup(e,r){const n=[];let i=r.currentTimeline.currentTime;const o=e.options&&e.options.delay?qa(e.options.delay):0;e.steps.forEach(l=>{const c=r.createSubContext(e.options);o&&c.delayNextStep(o),_s(this,l,c),i=Math.max(i,c.currentTimeline.currentTime),n.push(c.currentTimeline)}),n.forEach(l=>r.currentTimeline.mergeTimelineCollectedStyles(l)),r.transformIntoNewTimeline(i),r.previousNode=e}_visitTiming(e,r){if(e.dynamic){const n=e.strValue;return pg(r.params?mh(n,r.params,r.errors):n,r.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,r){const n=r.currentAnimateTimings=this._visitTiming(e.timings,r),i=r.currentTimeline;n.delay&&(r.incrementTime(n.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,r):(r.incrementTime(n.duration),this.visitStyle(o,r),i.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=e}visitStyle(e,r){const n=r.currentTimeline,i=r.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,r.errors,r.options),r.previousNode=e}visitKeyframes(e,r){const n=r.currentAnimateTimings,i=r.currentTimeline.duration,o=n.duration,c=r.createSubContext().currentTimeline;c.easing=n.easing,e.styles.forEach(u=>{c.forwardTime((u.offset||0)*o),c.setStyles(u.styles,u.easing,r.errors,r.options),c.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(c),r.transformIntoNewTimeline(i+o),r.previousNode=e}visitQuery(e,r){const n=r.currentTimeline.currentTime,i=e.options||{},o=i.delay?qa(i.delay):0;o&&(6===r.previousNode.type||0==n&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bg);let l=n;const c=r.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,r.errors);r.currentQueryTotal=c.length;let u=null;c.forEach((d,T)=>{r.currentQueryIndex=T;const B=r.createSubContext(e.options,d);o&&B.delayNextStep(o),d===r.element&&(u=B.currentTimeline),_s(this,e.animation,B),B.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,B.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(l),u&&(r.currentTimeline.mergeTimelineCollectedStyles(u),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=e}visitStagger(e,r){const n=r.parentContext,i=r.currentTimeline,o=e.timings,l=Math.abs(o.duration),c=l*(r.currentQueryTotal-1);let u=l*r.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=c-u;break;case"full":u=n.currentStaggerTime}const T=r.currentTimeline;u&&T.delayNextStep(u);const B=T.currentTime;_s(this,e.animation,r),r.previousNode=e,n.currentStaggerTime=i.currentTime-B+(i.startTime-n.currentTimeline.startTime)}}const bg={};class wE{constructor(e,r,n,i,o,l,c,u){this._driver=e,this.element=r,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Eg(this._driver,r,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,r){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=qa(n.duration)),null!=n.delay&&(i.delay=qa(n.delay));const o=n.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(c=>{(!r||!l.hasOwnProperty(c))&&(l[c]=mh(o[c],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const r=this.options.params;if(r){const n=e.params={};Object.keys(r).forEach(i=>{n[i]=r[i]})}}return e}createSubContext(e=null,r,n){const i=r||this.element,o=new wE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=bg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,r,n){const i={duration:r??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new Sz(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,r,n,i,o,l){let c=[];if(i&&c.push(this.element),e.length>0){e=(e=e.replace(bz,"."+this._enterClassName)).replace(wz,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=n);0!==n&&(d=n<0?d.slice(d.length+n,d.length):d.slice(0,n)),c.push(...d)}return!o&&0==c.length&&l.push(function N8(t){return new zt(3014,!1)}()),c}}class Eg{constructor(e,r,n,i){this._driver=e,this.element=r,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+e),r&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,r){return this.applyStylesToKeyframe(),new Eg(this._driver,e,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,r){this._localTimelineStyles.set(e,r),this._globalTimelineStyles.set(e,r),this._styleSummary.set(e,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[r,n]of this._globalTimelineStyles)this._backFill.set(r,n||Ga),this._currentKeyframe.set(r,Ga);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,r,n,i){r&&this._previousKeyframe.set("easing",r);const o=i&&i.params||{},l=function Cz(t,e){const r=new Map;let n;return t.forEach(i=>{if("*"===i){n=n||e.keys();for(let o of n)r.set(o,Ga)}else Rl(i,r)}),r}(e,this._globalTimelineStyles);for(let[c,u]of l){const d=mh(u,o,n);this._pendingStyles.set(c,d),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Ga),this._updateStyle(c,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,r)=>{this._currentKeyframe.set(r,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,e)}))}snapshotCurrentStyles(){for(let[e,r]of this._localTimelineStyles)this._pendingStyles.set(e,r),this._updateStyle(e,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let r in this._currentKeyframe)e.push(r);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((r,n)=>{const i=this._styleSummary.get(n);(!i||r.time>i.time)&&this._updateStyle(n,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,r=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,u)=>{const d=Rl(c,new Map,this._backFill);d.forEach((T,B)=>{"!"===T?e.add(B):T===Ga&&r.add(B)}),n||d.set("offset",u/this.duration),i.push(d)});const o=e.size?mg(e.values()):[],l=r.size?mg(r.values()):[];if(n){const c=i[0],u=new Map(c);c.set("offset",0),u.set("offset",1),i=[c,u]}return bE(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class Sz extends Eg{constructor(e,r,n,i,o,l,c=!1){super(e,r,l.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:r,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&r){const o=[],l=n+r,c=r/l,u=Rl(e[0]);u.set("offset",0),o.push(u);const d=Rl(e[0]);d.set("offset",OR(c)),o.push(d);const T=e.length-1;for(let B=1;B<=T;B++){let he=Rl(e[B]);const we=he.get("offset");he.set("offset",OR((r+we*n)/l)),o.push(he)}n=l,r=0,i="",e=o}return bE(this.element,e,this.preStyleProps,this.postStyleProps,n,r,i,!0)}}function OR(t,e=3){const r=Math.pow(10,e-1);return Math.round(t*r)/r}class TE{}const Az=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Iz extends TE{normalizePropertyName(e,r){return _E(e)}normalizeStyleValue(e,r,n,i){let o="";const l=n.toString().trim();if(Az.has(r)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const c=n.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function E8(t,e){return new zt(3005,!1)}())}return l+o}}function PR(t,e,r,n,i,o,l,c,u,d,T,B,he){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:r,fromStyles:o,toState:n,toStyles:l,timelines:c,queriedElements:u,preStyleProps:d,postStyleProps:T,totalTime:B,errors:he}}const SE={};class kR{constructor(e,r,n){this._triggerName=e,this.ast=r,this._stateStyles=n}match(e,r,n,i){return function Dz(t,e,r,n,i){return t.some(o=>o(e,r,n,i))}(this.ast.matchers,e,r,n,i)}buildStyles(e,r,n){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(r,n):new Map}build(e,r,n,i,o,l,c,u,d,T){const B=[],he=this.ast.options&&this.ast.options.params||SE,Pe=this.buildStyles(n,c&&c.params||SE,B),Ue=u&&u.params||SE,Et=this.buildStyles(i,Ue,B),Dt=new Set,wt=new Map,fn=new Map,yn="void"===i,Gn={params:xz(Ue,he),delay:this.ast.options?.delay},dr=T?[]:EE(e,r,this.ast.animation,o,l,Pe,Et,Gn,d,B);let Kr=0;if(dr.forEach(ts=>{Kr=Math.max(ts.duration+ts.delay,Kr)}),B.length)return PR(r,this._triggerName,n,i,yn,Pe,Et,[],[],wt,fn,Kr,B);dr.forEach(ts=>{const ea=ts.element,Kg=gs(wt,ea,new Set);ts.preStyleProps.forEach(Bc=>Kg.add(Bc));const Ih=gs(fn,ea,new Set);ts.postStyleProps.forEach(Bc=>Ih.add(Bc)),ea!==r&&Dt.add(ea)});const go=mg(Dt.values());return PR(r,this._triggerName,n,i,yn,Pe,Et,dr,go,wt,fn,Kr)}}function xz(t,e){const r=hh(e);for(const n in t)t.hasOwnProperty(n)&&null!=t[n]&&(r[n]=t[n]);return r}class Rz{constructor(e,r,n){this.styles=e,this.defaultParams=r,this.normalizer=n}buildStyles(e,r){const n=new Map,i=hh(this.defaultParams);return Object.keys(e).forEach(o=>{const l=e[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,c)=>{l&&(l=mh(l,i,r));const u=this.normalizer.normalizePropertyName(c,r);l=this.normalizer.normalizeStyleValue(c,u,l,r),n.set(c,l)})}),n}}class Nz{constructor(e,r,n){this.name=e,this.ast=r,this._normalizer=n,this.transitionFactories=[],this.states=new Map,r.states.forEach(i=>{this.states.set(i.name,new Rz(i.style,i.options&&i.options.params||{},n))}),LR(this.states,"true","1"),LR(this.states,"false","0"),r.transitions.forEach(i=>{this.transitionFactories.push(new kR(e,i,this.states))}),this.fallbackTransition=function Oz(t,e,r){return new kR(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,r,n,i){return this.transitionFactories.find(l=>l.match(e,r,n,i))||null}matchStyles(e,r,n){return this.fallbackTransition.buildStyles(e,r,n)}}function LR(t,e,r){t.has(e)?t.has(r)||t.set(r,t.get(e)):t.has(r)&&t.set(e,t.get(r))}const Pz=new yg;class kz{constructor(e,r,n){this.bodyNode=e,this._driver=r,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,r){const n=[],o=vE(this._driver,r,n,[]);if(n.length)throw function U8(t){return new zt(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,r,n){const i=e.element,o=vR(this._normalizer,e.keyframes,r,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,r,n={}){const i=[],o=this._animations.get(e);let l;const c=new Map;if(o?(l=EE(this._driver,r,o,hE,dg,new Map,new Map,n,Pz,i),l.forEach(T=>{const B=gs(c,T.element,new Map);T.postStyleProps.forEach(he=>B.set(he,null))})):(i.push(function V8(){return new zt(3300,!1)}()),l=[]),i.length)throw function j8(t){return new zt(3504,!1)}();c.forEach((T,B)=>{T.forEach((he,we)=>{T.set(we,this._driver.computeStyle(B,we,Ga))})});const d=xl(l.map(T=>{const B=c.get(T.element);return this._buildPlayer(T,new Map,B)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const r=this._getPlayer(e);r.destroy(),this._playersById.delete(e);const n=this.players.indexOf(r);n>=0&&this.players.splice(n,1)}_getPlayer(e){const r=this._playersById.get(e);if(!r)throw function H8(t){return new zt(3301,!1)}();return r}listen(e,r,n,i){const o=uE(r,"","","");return lE(this._getPlayer(e),n,o,i),()=>{}}command(e,r,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,r,i[0]||{});const o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const FR="ng-animate-queued",CE="ng-animate-disabled",Vz=[],BR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xs="__ng_removed";class AE{get params(){return this.options.params}constructor(e,r=""){this.namespaceId=r;const n=e&&e.hasOwnProperty("value");if(this.value=function Gz(t){return t??null}(n?e.value:e),n){const o=hh(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const r=e.params;if(r){const n=this.options.params;Object.keys(r).forEach(i=>{null==n[i]&&(n[i]=r[i])})}}}const gh="void",IE=new AE(gh);class Hz{constructor(e,r,n){this.id=e,this.hostElement=r,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ps(r,this._hostClassName)}listen(e,r,n,i){if(!this._triggers.has(r))throw function Z8(t,e){return new zt(3302,!1)}();if(null==n||0==n.length)throw function z8(t){return new zt(3303,!1)}();if(!function qz(t){return"start"==t||"done"==t}(n))throw function G8(t,e){return new zt(3400,!1)}();const o=gs(this._elementListeners,e,[]),l={name:r,phase:n,callback:i};o.push(l);const c=gs(this._engine.statesByElement,e,new Map);return c.has(r)||(Ps(e,fg),Ps(e,fg+"-"+r),c.set(r,IE)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(l);u>=0&&o.splice(u,1),this._triggers.has(r)||c.delete(r)})}}register(e,r){return!this._triggers.has(e)&&(this._triggers.set(e,r),!0)}_getTrigger(e){const r=this._triggers.get(e);if(!r)throw function q8(t){return new zt(3401,!1)}();return r}trigger(e,r,n,i=!0){const o=this._getTrigger(r),l=new DE(this.id,r,e);let c=this._engine.statesByElement.get(e);c||(Ps(e,fg),Ps(e,fg+"-"+r),this._engine.statesByElement.set(e,c=new Map));let u=c.get(r);const d=new AE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),c.set(r,d),u||(u=IE),d.value!==gh&&u.value===d.value){if(!function Wz(t,e){const r=Object.keys(t),n=Object.keys(e);if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,d.params)){const Ue=[],Et=o.matchStyles(u.value,u.params,Ue),Dt=o.matchStyles(d.value,d.params,Ue);Ue.length?this._engine.reportError(Ue):this._engine.afterFlush(()=>{Oc(e,Et),Ea(e,Dt)})}return}const he=gs(this._engine.playersByElement,e,[]);he.forEach(Ue=>{Ue.namespaceId==this.id&&Ue.triggerName==r&&Ue.queued&&Ue.destroy()});let we=o.matchTransition(u.value,d.value,e,d.params),Pe=!1;if(!we){if(!i)return;we=o.fallbackTransition,Pe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:we,fromState:u,toState:d,player:l,isFallbackTransition:Pe}),Pe||(Ps(e,FR),l.onStart(()=>{ad(e,FR)})),l.onDone(()=>{let Ue=this.players.indexOf(l);Ue>=0&&this.players.splice(Ue,1);const Et=this._engine.playersByElement.get(e);if(Et){let Dt=Et.indexOf(l);Dt>=0&&Et.splice(Dt,1)}}),this.players.push(l),he.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(r=>r.delete(e)),this._elementListeners.forEach((r,n)=>{this._elementListeners.set(n,r.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const r=this._engine.playersByElement.get(e);r&&(r.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,r){const n=this._engine.driver.query(e,hg,!0);n.forEach(i=>{if(i[Xs])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,r,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,r,n,i){const o=this._engine.statesByElement.get(e),l=new Map;if(o){const c=[];if(o.forEach((u,d)=>{if(l.set(d,u.value),this._triggers.has(d)){const T=this.trigger(e,d,gh,i);T&&c.push(T)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,r,l),n&&xl(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const r=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(r&&n){const i=new Set;r.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const u=this._triggers.get(l).fallbackTransition,d=n.get(l)||IE,T=new AE(gh),B=new DE(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:u,fromState:d,toState:T,player:B,isFallbackTransition:!0})})}}removeNode(e,r){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,r),this.triggerLeaveAnimation(e,r,!0))return;let i=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(n.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,r);else{const o=e[Xs];(!o||o===BR)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,r))}}insertNode(e,r){Ps(e,this._hostClassName)}drainQueuedTransitions(e){const r=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,l=this._elementListeners.get(o);l&&l.forEach(c=>{if(c.name==n.triggerName){const u=uE(o,n.triggerName,n.fromState.value,n.toState.value);u._data=e,lE(n.player,c.phase,u,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):r.push(n)}),this._queue=[],r.sort((n,i)=>{const o=n.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Zz{_onRemovalComplete(e,r){this.onRemovalComplete(e,r)}constructor(e,r,n){this.bodyNode=e,this.driver=r,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(r=>{r.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,r){const n=new Hz(e,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(n,r):(this.newHostElements.set(r,n),this.collectEnterElement(r)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,r){const n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let l=!1,c=this.driver.getParentElement(r);for(;c;){const u=i.get(c);if(u){const d=n.indexOf(u);n.splice(d+1,0,e),l=!0;break}c=this.driver.getParentElement(c)}l||n.unshift(e)}else n.push(e);return i.set(r,e),e}register(e,r){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,r)),n}registerTrigger(e,r,n){let i=this._namespaceLookup[e];i&&i.register(r,n)&&this.totalAnimations++}destroy(e,r){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);const i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(r),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const r=new Set,n=this.statesByElement.get(e);if(n)for(let i of n.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&r.add(o)}return r}trigger(e,r,n,i){if(wg(r)){const o=this._fetchNamespace(e);if(o)return o.trigger(r,n,i),!0}return!1}insertNode(e,r,n,i){if(!wg(r))return;const o=r[Xs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(r);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(r,n)}i&&this.collectEnterElement(r)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,r){r?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ps(e,CE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ad(e,CE))}removeNode(e,r,n){if(wg(r)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(r,n):this.markElementAsRemoved(e,r,!1,n);const o=this.namespacesByHostElement.get(r);o&&o.id!==e&&o.removeNode(r,n)}else this._onRemovalComplete(r,n)}markElementAsRemoved(e,r,n,i,o){this.collectedLeaveElements.push(r),r[Xs]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,r,n,i,o){return wg(r)?this._fetchNamespace(e).listen(r,n,i,o):()=>{}}_buildInstruction(e,r,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,r,o)}destroyInnerAnimations(e){let r=this.driver.query(e,hg,!0);r.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(e,pE,!0),r.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const r=this.playersByElement.get(e);r&&r.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const r=this.playersByQueriedElement.get(e);r&&r.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const r=e[Xs];if(r&&r.setForRemoval){if(e[Xs]=BR,r.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(r.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}e.classList?.contains(CE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ps(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{r=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],r.length?xl(r).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw function Y8(t){return new zt(3402,!1)}()}_flushAnimations(e,r){const n=new yg,i=[],o=new Map,l=[],c=new Map,u=new Map,d=new Map,T=new Set;this.disabledNodes.forEach(qn=>{T.add(qn);const rr=this.driver.query(qn,".ng-animate-queued",!0);for(let cr=0;cr<rr.length;cr++)T.add(rr[cr])});const B=this.bodyNode,he=Array.from(this.statesByElement.keys()),we=jR(he,this.collectedEnterElements),Pe=new Map;let Ue=0;we.forEach((qn,rr)=>{const cr=hE+Ue++;Pe.set(rr,cr),qn.forEach(Hr=>Ps(Hr,cr))});const Et=[],Dt=new Set,wt=new Set;for(let qn=0;qn<this.collectedLeaveElements.length;qn++){const rr=this.collectedLeaveElements[qn],cr=rr[Xs];cr&&cr.setForRemoval&&(Et.push(rr),Dt.add(rr),cr.hasAnimation?this.driver.query(rr,".ng-star-inserted",!0).forEach(Hr=>Dt.add(Hr)):wt.add(rr))}const fn=new Map,yn=jR(he,Array.from(Dt));yn.forEach((qn,rr)=>{const cr=dg+Ue++;fn.set(rr,cr),qn.forEach(Hr=>Ps(Hr,cr))}),e.push(()=>{we.forEach((qn,rr)=>{const cr=Pe.get(rr);qn.forEach(Hr=>ad(Hr,cr))}),yn.forEach((qn,rr)=>{const cr=fn.get(rr);qn.forEach(Hr=>ad(Hr,cr))}),Et.forEach(qn=>{this.processLeaveNode(qn)})});const Gn=[],dr=[];for(let qn=this._namespaceList.length-1;qn>=0;qn--)this._namespaceList[qn].drainQueuedTransitions(r).forEach(cr=>{const Hr=cr.player,fo=cr.element;if(Gn.push(Hr),this.collectedEnterElements.length){const So=fo[Xs];if(So&&So.setForMove){if(So.previousTriggersValues&&So.previousTriggersValues.has(cr.triggerName)){const Uc=So.previousTriggersValues.get(cr.triggerName),ks=this.statesByElement.get(cr.element);if(ks&&ks.has(cr.triggerName)){const Xg=ks.get(cr.triggerName);Xg.value=Uc,ks.set(cr.triggerName,Xg)}}return void Hr.destroy()}}const Ta=!B||!this.driver.containsElement(B,fo),vs=fn.get(fo),Ol=Pe.get(fo),Ii=this._buildInstruction(cr,n,Ol,vs,Ta);if(Ii.errors&&Ii.errors.length)return void dr.push(Ii);if(Ta)return Hr.onStart(()=>Oc(fo,Ii.fromStyles)),Hr.onDestroy(()=>Ea(fo,Ii.toStyles)),void i.push(Hr);if(cr.isFallbackTransition)return Hr.onStart(()=>Oc(fo,Ii.fromStyles)),Hr.onDestroy(()=>Ea(fo,Ii.toStyles)),void i.push(Hr);const iN=[];Ii.timelines.forEach(So=>{So.stretchStartingKeyframe=!0,this.disabledNodes.has(So.element)||iN.push(So)}),Ii.timelines=iN,n.append(fo,Ii.timelines),l.push({instruction:Ii,player:Hr,element:fo}),Ii.queriedElements.forEach(So=>gs(c,So,[]).push(Hr)),Ii.preStyleProps.forEach((So,Uc)=>{if(So.size){let ks=u.get(Uc);ks||u.set(Uc,ks=new Set),So.forEach((Xg,w0)=>ks.add(w0))}}),Ii.postStyleProps.forEach((So,Uc)=>{let ks=d.get(Uc);ks||d.set(Uc,ks=new Set),So.forEach((Xg,w0)=>ks.add(w0))})});if(dr.length){const qn=[];dr.forEach(rr=>{qn.push(function $8(t,e){return new zt(3505,!1)}())}),Gn.forEach(rr=>rr.destroy()),this.reportError(qn)}const Kr=new Map,go=new Map;l.forEach(qn=>{const rr=qn.element;n.has(rr)&&(go.set(rr,rr),this._beforeAnimationBuild(qn.player.namespaceId,qn.instruction,Kr))}),i.forEach(qn=>{const rr=qn.element;this._getPreviousPlayers(rr,!1,qn.namespaceId,qn.triggerName,null).forEach(Hr=>{gs(Kr,rr,[]).push(Hr),Hr.destroy()})});const ts=Et.filter(qn=>ZR(qn,u,d)),ea=new Map;VR(ea,this.driver,wt,d,Ga).forEach(qn=>{ZR(qn,u,d)&&ts.push(qn)});const Ih=new Map;we.forEach((qn,rr)=>{VR(Ih,this.driver,new Set(qn),u,"!")}),ts.forEach(qn=>{const rr=ea.get(qn),cr=Ih.get(qn);ea.set(qn,new Map([...rr?.entries()??[],...cr?.entries()??[]]))});const Bc=[],nN=[],rN={};l.forEach(qn=>{const{element:rr,player:cr,instruction:Hr}=qn;if(n.has(rr)){if(T.has(rr))return cr.onDestroy(()=>Ea(rr,Hr.toStyles)),cr.disabled=!0,cr.overrideTotalTime(Hr.totalTime),void i.push(cr);let fo=rN;if(go.size>1){let vs=rr;const Ol=[];for(;vs=vs.parentNode;){const Ii=go.get(vs);if(Ii){fo=Ii;break}Ol.push(vs)}Ol.forEach(Ii=>go.set(Ii,fo))}const Ta=this._buildAnimation(cr.namespaceId,Hr,Kr,o,Ih,ea);if(cr.setRealPlayer(Ta),fo===rN)Bc.push(cr);else{const vs=this.playersByElement.get(fo);vs&&vs.length&&(cr.parentPlayer=xl(vs)),i.push(cr)}}else Oc(rr,Hr.fromStyles),cr.onDestroy(()=>Ea(rr,Hr.toStyles)),nN.push(cr),T.has(rr)&&i.push(cr)}),nN.forEach(qn=>{const rr=o.get(qn.element);if(rr&&rr.length){const cr=xl(rr);qn.setRealPlayer(cr)}}),i.forEach(qn=>{qn.parentPlayer?qn.syncPlayerEvents(qn.parentPlayer):qn.destroy()});for(let qn=0;qn<Et.length;qn++){const rr=Et[qn],cr=rr[Xs];if(ad(rr,dg),cr&&cr.hasAnimation)continue;let Hr=[];if(c.size){let Ta=c.get(rr);Ta&&Ta.length&&Hr.push(...Ta);let vs=this.driver.query(rr,pE,!0);for(let Ol=0;Ol<vs.length;Ol++){let Ii=c.get(vs[Ol]);Ii&&Ii.length&&Hr.push(...Ii)}}const fo=Hr.filter(Ta=>!Ta.destroyed);fo.length?Yz(this,rr,fo):this.processLeaveNode(rr)}return Et.length=0,Bc.forEach(qn=>{this.players.push(qn),qn.onDone(()=>{qn.destroy();const rr=this.players.indexOf(qn);this.players.splice(rr,1)}),qn.play()}),Bc}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,r,n,i,o){let l=[];if(r){const c=this.playersByQueriedElement.get(e);c&&(l=c)}else{const c=this.playersByElement.get(e);if(c){const u=!o||o==gh;c.forEach(d=>{d.queued||!u&&d.triggerName!=i||l.push(d)})}}return(n||i)&&(l=l.filter(c=>!(n&&n!=c.namespaceId||i&&i!=c.triggerName))),l}_beforeAnimationBuild(e,r,n){const o=r.element,l=r.isRemovalTransition?void 0:e,c=r.isRemovalTransition?void 0:r.triggerName;for(const u of r.timelines){const d=u.element,T=d!==o,B=gs(n,d,[]);this._getPreviousPlayers(d,T,l,c,r.toState).forEach(we=>{const Pe=we.getRealPlayer();Pe.beforeDestroy&&Pe.beforeDestroy(),we.destroy(),B.push(we)})}Oc(o,r.fromStyles)}_buildAnimation(e,r,n,i,o,l){const c=r.triggerName,u=r.element,d=[],T=new Set,B=new Set,he=r.timelines.map(Pe=>{const Ue=Pe.element;T.add(Ue);const Et=Ue[Xs];if(Et&&Et.removedBeforeQueried)return new fh(Pe.duration,Pe.delay);const Dt=Ue!==u,wt=function $z(t){const e=[];return HR(t,e),e}((n.get(Ue)||Vz).map(Kr=>Kr.getRealPlayer())).filter(Kr=>!!Kr.element&&Kr.element===Ue),fn=o.get(Ue),yn=l.get(Ue),Gn=vR(this._normalizer,Pe.keyframes,fn,yn),dr=this._buildPlayer(Pe,Gn,wt);if(Pe.subTimeline&&i&&B.add(Ue),Dt){const Kr=new DE(e,c,Ue);Kr.setRealPlayer(dr),d.push(Kr)}return dr});d.forEach(Pe=>{gs(this.playersByQueriedElement,Pe.element,[]).push(Pe),Pe.onDone(()=>function zz(t,e,r){let n=t.get(e);if(n){if(n.length){const i=n.indexOf(r);n.splice(i,1)}0==n.length&&t.delete(e)}return n}(this.playersByQueriedElement,Pe.element,Pe))}),T.forEach(Pe=>Ps(Pe,CR));const we=xl(he);return we.onDestroy(()=>{T.forEach(Pe=>ad(Pe,CR)),Ea(u,r.toStyles)}),B.forEach(Pe=>{gs(i,Pe,[]).push(we)}),we}_buildPlayer(e,r,n){return r.length>0?this.driver.animate(e.element,r,e.duration,e.delay,e.easing,n):new fh(e.duration,e.delay)}}class DE{constructor(e,r,n){this.namespaceId=e,this.triggerName=r,this.element=n,this._player=new fh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((r,n)=>{r.forEach(i=>lE(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const r=this._player;r.triggerCallback&&e.onStart(()=>r.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,r){gs(this._queuedCallbacks,e,[]).push(r)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const r=this._player;r.triggerCallback&&r.triggerCallback(e)}}function wg(t){return t&&1===t.nodeType}function UR(t,e){const r=t.style.display;return t.style.display=e??"none",r}function VR(t,e,r,n,i){const o=[];r.forEach(u=>o.push(UR(u)));const l=[];n.forEach((u,d)=>{const T=new Map;u.forEach(B=>{const he=e.computeStyle(d,B,i);T.set(B,he),(!he||0==he.length)&&(d[Xs]=jz,l.push(d))}),t.set(d,T)});let c=0;return r.forEach(u=>UR(u,o[c++])),l}function jR(t,e){const r=new Map;if(t.forEach(c=>r.set(c,[])),0==e.length)return r;const i=new Set(e),o=new Map;function l(c){if(!c)return 1;let u=o.get(c);if(u)return u;const d=c.parentNode;return u=r.has(d)?d:i.has(d)?1:l(d),o.set(c,u),u}return e.forEach(c=>{const u=l(c);1!==u&&r.get(u).push(c)}),r}function Ps(t,e){t.classList?.add(e)}function ad(t,e){t.classList?.remove(e)}function Yz(t,e,r){xl(r).onDone(()=>t.processLeaveNode(e))}function HR(t,e){for(let r=0;r<t.length;r++){const n=t[r];n instanceof gR?HR(n.players,e):e.push(n)}}function ZR(t,e,r){const n=r.get(t);if(!n)return!1;let i=e.get(t);return i?n.forEach(o=>i.add(o)):e.set(t,n),r.delete(t),!0}class Tg{constructor(e,r,n){this.bodyNode=e,this._driver=r,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Zz(e,r,n),this._timelineEngine=new kz(e,r,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,r,n,i,o){const l=e+"-"+i;let c=this._triggerCache[l];if(!c){const u=[],T=vE(this._driver,o,u,[]);if(u.length)throw function F8(t,e){return new zt(3404,!1)}();c=function Mz(t,e,r){return new Nz(t,e,r)}(i,T,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(r,i,c)}register(e,r){this._transitionEngine.register(e,r)}destroy(e,r){this._transitionEngine.destroy(e,r)}onInsert(e,r,n,i){this._transitionEngine.insertNode(e,r,n,i)}onRemove(e,r,n){this._transitionEngine.removeNode(e,r,n)}disableAnimations(e,r){this._transitionEngine.markElementAsDisabled(e,r)}process(e,r,n,i){if("@"==n.charAt(0)){const[o,l]=yR(n);this._timelineEngine.command(o,r,l,i)}else this._transitionEngine.trigger(e,r,n,i)}listen(e,r,n,i,o){if("@"==n.charAt(0)){const[l,c]=yR(n);return this._timelineEngine.listen(l,r,c,o)}return this._transitionEngine.listen(e,r,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Xz=(()=>{class e{constructor(n,i,o){this._element=n,this._startStyles=i,this._endStyles=o,this._state=0;let l=e.initialStylesByElement.get(n);l||e.initialStylesByElement.set(n,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Ea(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ea(this._element,this._initialStyles),this._endStyles&&(Ea(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Oc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Oc(this._element,this._endStyles),this._endStyles=null),Ea(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function xE(t){let e=null;return t.forEach((r,n)=>{(function Qz(t){return"display"===t||"position"===t})(n)&&(e=e||new Map,e.set(n,r))}),e}class zR{constructor(e,r,n,i){this.element=e,this.keyframes=r,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const r=[];return e.forEach(n=>{r.push(Object.fromEntries(n))}),r}_triggerWebAnimation(e,r,n){return e.animate(this._convertKeyframesToObject(r),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{"offset"!==i&&e.set(i,this._finished?n:xR(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const r="start"===e?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}}class Jz{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,r){return!1}containsElement(e,r){return ER(e,r)}getParentElement(e){return dE(e)}query(e,r,n){return wR(e,r,n)}computeStyle(e,r,n){return window.getComputedStyle(e)[r]}animate(e,r,n,i,o,l=[]){const u={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const d=new Map,T=l.filter(we=>we instanceof zR);(function sz(t,e){return 0===t||0===e})(n,i)&&T.forEach(we=>{we.currentSnapshot.forEach((Pe,Ue)=>d.set(Ue,Pe))});let B=function rz(t){return t.length?t[0]instanceof Map?t:t.map(e=>AR(e)):[]}(r).map(we=>Rl(we));B=function az(t,e,r){if(r.size&&e.length){let n=e[0],i=[];if(r.forEach((o,l)=>{n.has(l)||i.push(l),n.set(l,o)}),i.length)for(let o=1;o<e.length;o++){let l=e[o];i.forEach(c=>l.set(c,xR(t,c)))}}return e}(e,B,d);const he=function Kz(t,e){let r=null,n=null;return Array.isArray(e)&&e.length?(r=xE(e[0]),e.length>1&&(n=xE(e[e.length-1]))):e instanceof Map&&(r=xE(e)),r||n?new Xz(t,r,n):null}(e,B);return new zR(e,B,u,he)}}let e6=(()=>{var t;class e extends pR{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:zo.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(n)?mR(n):n;return GR(this._renderer,null,i,"register",[o]),new t6(i,this._renderer)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(rf),Wt(Dr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();class t6 extends m8{constructor(e,r){super(),this._id=e,this._renderer=r}create(e,r){return new n6(this._id,e,r||{},this._renderer)}}class n6{constructor(e,r,n,i){this.id=e,this.element=r,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,r){return this._renderer.listen(this.element,`@@${this.id}:${e}`,r)}_command(e,...r){return GR(this._renderer,this.element,this.id,e,r)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function GR(t,e,r,n,i){return t.setProperty(e,`@@${r}:${n}`,i)}const qR="@.disabled";let r6=(()=>{var t;class e{constructor(n,i,o){this.delegate=n,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(l,c)=>{const u=c?.parentNode(l);u&&c.removeChild(u,l)}}createRenderer(n,i){const l=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let B=this._rendererCache.get(l);return B||(B=new YR("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,B)),B}const c=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,n);const d=B=>{Array.isArray(B)?B.forEach(d):this.engine.registerTrigger(c,u,n,B.name,B)};return i.data.animation.forEach(d),new i6(this,u,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,o){n>=0&&n<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,u]=l;c(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(rf),Wt(Tg),Wt(lr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})();class YR{constructor(e,r,n,i){this.namespaceId=e,this.delegate=r,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,r){this.delegate.appendChild(e,r),this.engine.onInsert(this.namespaceId,r,e,!1)}insertBefore(e,r,n,i=!0){this.delegate.insertBefore(e,r,n),this.engine.onInsert(this.namespaceId,r,e,i)}removeChild(e,r,n){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,n,i){this.delegate.setAttribute(e,r,n,i)}removeAttribute(e,r,n){this.delegate.removeAttribute(e,r,n)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,n,i){this.delegate.setStyle(e,r,n,i)}removeStyle(e,r,n){this.delegate.removeStyle(e,r,n)}setProperty(e,r,n){"@"==r.charAt(0)&&r==qR?this.disableAnimations(e,!!n):this.delegate.setProperty(e,r,n)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,n){return this.delegate.listen(e,r,n)}disableAnimations(e,r){this.engine.disableAnimations(e,r)}}class i6 extends YR{constructor(e,r,n,i,o){super(r,n,i,o),this.factory=e,this.namespaceId=r}setProperty(e,r,n){"@"==r.charAt(0)?"."==r.charAt(1)&&r==qR?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,r.slice(1),n):this.delegate.setProperty(e,r,n)}listen(e,r,n){if("@"==r.charAt(0)){const i=function o6(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=r.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function s6(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,c=>{this.factory.scheduleListenerCallback(c._data||-1,n,c)})}return this.delegate.listen(e,r,n)}}const u6=[{provide:fE,useFactory:()=>new Jz},{provide:Ds,useValue:"BrowserAnimations"},...[{provide:pR,useClass:e6},{provide:TE,useFactory:function l6(){return new Iz}},{provide:Tg,useClass:(()=>{var t;class e extends Tg{constructor(n,i,o,l){super(n.body,i,o)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr),Wt(fE),Wt(TE),Wt(ml))},t.\u0275prov=gn({token:t,factory:t.\u0275fac}),e})()},{provide:rf,useFactory:function c6(t,e,r){return new r6(t,e,r)},deps:[Qy,Tg,lr]}]];function RE(){return(RE=pi(function*(t){const e=document.baseURI.includes("localhost")?"https://localhost:4200/":document.baseURI,r=yield fetch(new URL(`${e}${t}`));return r.ok?yield r.text():""})).apply(this,arguments)}class g6 extends ut{constructor(e=1/0,r=1/0,n=Lb){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){const{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:l}=this;r||(n.push(e),!i&&n.push(o.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let l=0;l<o.length&&!e.closed;l+=n?1:2)e.next(o[l]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){const{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){const l=r.now();let c=0;for(let u=1;u<n.length&&n[u]<=l;u+=2)c=u;c&&n.splice(0,c+1)}}}class v6{constructor(e){this._box=e,this._destroyed=new ut,this._resizeSubject=new ut,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(r=>this._resizeSubject.next(r)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new $e(r=>{const n=this._resizeSubject.subscribe(r);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),n.unsubscribe(),this._elementObservables.delete(e)}}).pipe(co(r=>r.some(n=>n.target===e)),function _6(t,e,r){let n,i=!1;return t&&"object"==typeof t?({bufferSize:n=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:r}=t):n=t??1/0,Xt({connector:()=>new g6(n,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}),zi(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let y6=(()=>{var t;class e{constructor(){this._observers=new Map,this._ngZone=$t(lr)}ngOnDestroy(){for(const[,n]of this._observers)n.destroy();this._observers.clear()}observe(n,i){const o=i?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new v6(o)),this._observers.get(o).observe(n)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const b6=["notch"],E6=["matFormFieldNotchedOutline",""],w6=["*"],T6=["textField"],S6=["iconPrefixContainer"],C6=["textPrefixContainer"];function A6(t,e){1&t&&Qn(0,"span",19)}function I6(t,e){if(1&t&&(cn(0,"label",17),Mi(1,1),Ln(2,A6,1,0,"span",18),dn()),2&t){const r=Vn(2);Yt("floating",r._shouldLabelFloat())("monitorResize",r._hasOutline())("id",r._labelId),li("for",r._control.id),Jt(2),Yt("ngIf",!r.hideRequiredMarker&&r._control.required)}}function D6(t,e){1&t&&Ln(0,I6,3,5,"label",16),2&t&&Yt("ngIf",Vn()._hasFloatingLabel())}function x6(t,e){1&t&&Qn(0,"div",20)}function R6(t,e){}function M6(t,e){1&t&&Ln(0,R6,0,0,"ng-template",22),2&t&&(Vn(2),Yt("ngTemplateOutlet",Hi(1)))}function N6(t,e){if(1&t&&(cn(0,"div",21),Ln(1,M6,1,1,"ng-template",9),dn()),2&t){const r=Vn();Yt("matFormFieldNotchedOutlineOpen",r._shouldLabelFloat()),Jt(1),Yt("ngIf",!r._forceDisplayInfixLabel())}}function O6(t,e){1&t&&(cn(0,"div",23,24),Mi(2,2),dn())}function P6(t,e){1&t&&(cn(0,"div",25,26),Mi(2,3),dn())}function k6(t,e){}function L6(t,e){1&t&&Ln(0,k6,0,0,"ng-template",22),2&t&&(Vn(),Yt("ngTemplateOutlet",Hi(1)))}function F6(t,e){1&t&&(cn(0,"div",27),Mi(1,4),dn())}function B6(t,e){1&t&&(cn(0,"div",28),Mi(1,5),dn())}function U6(t,e){1&t&&Qn(0,"div",29)}function V6(t,e){1&t&&(cn(0,"div",30),Mi(1,6),dn()),2&t&&Yt("@transitionMessages",Vn()._subscriptAnimationState)}function j6(t,e){if(1&t&&(cn(0,"mat-hint",34),Br(1),dn()),2&t){const r=Vn(2);Yt("id",r._hintLabelId),Jt(1),Po(r.hintLabel)}}function H6(t,e){if(1&t&&(cn(0,"div",31),Ln(1,j6,2,2,"mat-hint",32),Mi(2,7),Qn(3,"div",33),Mi(4,8),dn()),2&t){const r=Vn();Yt("@transitionMessages",r._subscriptAnimationState),Jt(1),Yt("ngIf",r.hintLabel)}}const Z6=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],z6=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let ME=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=Fn({type:t,selectors:[["mat-label"]]}),e})(),G6=0;const WR=new ln("MatError");let q6=(()=>{var t;class e{constructor(n,i){this.id="mat-mdc-error-"+G6++,n||i.nativeElement.setAttribute("aria-live","polite")}}return(t=e).\u0275fac=function(n){return new(n||t)(ac("aria-live"),yt(Nr))},t.\u0275dir=Fn({type:t,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,i){2&n&&yf("id",i.id)},inputs:{id:"id"},features:[Qr([{provide:WR,useExisting:t}])]}),e})(),Y6=0,NE=(()=>{var t;class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+Y6++}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=Fn({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,i){2&n&&(yf("id",i.id),li("align",null),Ti("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),e})();const $6=new ln("MatPrefix"),KR=new ln("MatSuffix");let W6=(()=>{var t;class e{constructor(){this._isText=!1}set _isTextSelector(n){this._isText=!0}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=Fn({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Qr([{provide:KR,useExisting:t}])]}),e})();const XR=new ln("FloatingLabelParent");let QR=(()=>{var t;class e{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=$t(y6),this._ngZone=$t(lr),this._parent=$t(XR),this._resizeSubscription=new F}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function K6(t){if(null!==t.offsetParent)return t.scrollWidth;const r=t.cloneNode(!0);r.style.setProperty("position","absolute"),r.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(r);const n=r.scrollWidth;return r.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr))},t.\u0275dir=Fn({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,i){2&n&&Ti("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),e})();const JR="mdc-line-ripple--active",Cg="mdc-line-ripple--deactivating";let eM=(()=>{var t;class e{constructor(n,i){this._elementRef=n,this._handleTransitionEnd=o=>{const l=this._elementRef.nativeElement.classList,c=l.contains(Cg);"opacity"===o.propertyName&&c&&l.remove(JR,Cg)},i.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const n=this._elementRef.nativeElement.classList;n.remove(Cg),n.add(JR)}deactivate(){this._elementRef.nativeElement.classList.add(Cg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(lr))},t.\u0275dir=Fn({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),e})(),tM=(()=>{var t;class e{constructor(n,i){this._elementRef=n,this._ngZone=i,this.open=!1}ngAfterViewInit(){const n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){this._notch.nativeElement.style.width=this.open&&n?`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(lr))},t.\u0275cmp=gr({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,i){if(1&n&&Lo(b6,5),2&n){let o;ci(o=ui())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,i){2&n&&Ti("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:E6,ngContentSelectors:w6,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,i){1&n&&(da(),Qn(0,"div",0),cn(1,"div",1,2),Mi(3),dn(),Qn(4,"div",3))},encapsulation:2,changeDetection:0}),e})();const X6={transitionMessages:dh("transitionMessages",[Mc("enter",es({opacity:1,transform:"translateY(0%)"})),Dl("void => enter",[es({opacity:0,transform:"translateY(-5px)"}),Il("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let nM=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=Fn({type:t}),e})();const rM=new ln("MatFormField"),iM=new ln("MAT_FORM_FIELD_DEFAULT_OPTIONS");let oM=0,eG=(()=>{var t;class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=uo(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){const i=this._appearance;this._appearance=n||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,i,o,l,c,u,d,T){this._elementRef=n,this._changeDetectorRef=i,this._ngZone=o,this._dir=l,this._platform=c,this._defaults=u,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+oM++,this._hintLabelId="mat-mdc-hint-"+oM++,this._subscriptAnimationState="",this._destroyed=new ut,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=!!u?.hideRequiredMarker,u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(zi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ao(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(zi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){const i=this._control?this._control.ngControl:null;return i&&i[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?n.push(i.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const n=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(n.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,l=i?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0;n.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${l+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const n=this._elementRef.nativeElement;if(n.getRootNode){const i=n.getRootNode();return i&&i!==n}return document.documentElement.contains(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(Bo),yt(lr),yt(eg),yt(eo),yt(iM,8),yt(Ds,8),yt(Dr))},t.\u0275cmp=gr({type:t,selectors:[["mat-form-field"]],contentQueries:function(n,i,o){if(1&n&&(Qo(o,ME,5),Qo(o,ME,7),Qo(o,nM,5),Qo(o,$6,5),Qo(o,KR,5),Qo(o,WR,5),Qo(o,NE,5)),2&n){let l;ci(l=ui())&&(i._labelChildNonStatic=l.first),ci(l=ui())&&(i._labelChildStatic=l.first),ci(l=ui())&&(i._formFieldControl=l.first),ci(l=ui())&&(i._prefixChildren=l),ci(l=ui())&&(i._suffixChildren=l),ci(l=ui())&&(i._errorChildren=l),ci(l=ui())&&(i._hintChildren=l)}},viewQuery:function(n,i){if(1&n&&(Lo(T6,5),Lo(S6,5),Lo(C6,5),Lo(QR,5),Lo(tM,5),Lo(eM,5)),2&n){let o;ci(o=ui())&&(i._textField=o.first),ci(o=ui())&&(i._iconPrefixContainer=o.first),ci(o=ui())&&(i._textPrefixContainer=o.first),ci(o=ui())&&(i._floatingLabel=o.first),ci(o=ui())&&(i._notchedOutline=o.first),ci(o=ui())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,i){2&n&&Ti("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Qr([{provide:rM,useExisting:t},{provide:XR,useExisting:t}])],ngContentSelectors:z6,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(n,i){1&n&&(da(Z6),Ln(0,D6,1,1,"ng-template",null,0,ly),cn(2,"div",1,2),mr("click",function(l){return i._control.onContainerClick(l)}),Ln(4,x6,1,0,"div",3),cn(5,"div",4),Ln(6,N6,2,2,"div",5),Ln(7,O6,3,0,"div",6),Ln(8,P6,3,0,"div",7),cn(9,"div",8),Ln(10,L6,1,1,"ng-template",9),Mi(11),dn(),Ln(12,F6,2,0,"div",10),Ln(13,B6,2,0,"div",11),dn(),Ln(14,U6,1,0,"div",12),dn(),cn(15,"div",13),Ln(16,V6,2,1,"div",14),Ln(17,H6,5,2,"div",15),dn()),2&n&&(Jt(2),Ti("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),Jt(2),Yt("ngIf",!i._hasOutline()&&!i._control.disabled),Jt(2),Yt("ngIf",i._hasOutline()),Jt(1),Yt("ngIf",i._hasIconPrefix),Jt(1),Yt("ngIf",i._hasTextPrefix),Jt(2),Yt("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),Jt(2),Yt("ngIf",i._hasTextSuffix),Jt(1),Yt("ngIf",i._hasIconSuffix),Jt(1),Yt("ngIf",!i._hasOutline()),Jt(1),Ti("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),Yt("ngSwitch",i._getDisplayedMessages()),Jt(1),Yt("ngSwitchCase","error"),Jt(1),Yt("ngSwitchCase","hint"))},dependencies:[lo,Hy,Tm,xI,NE,QR,tM,eM],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[X6.transitionMessages]},changeDetection:0}),e})(),OE=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[to,Nf,px,to]}),e})();class nG{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const iG=new ln("mat-snack-bar-default-options",{providedIn:"root",factory:function rG(){return new nG}}),sG=["mat-button",""],aG=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],lG=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],uG=["mat-icon-button",""],dG=["*"],fG=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],hG=tg(Dx(zb(class{constructor(t){this._elementRef=t}})));let PE,lM=(()=>{var t;class e extends hG{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=uo(n),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=uo(n),this._updateRippleDisabled()}constructor(n,i,o,l){super(n),this._platform=i,this._ngZone=o,this._animationMode=l,this._focusMonitor=$t(nh),this._rippleLoader=$t(IZ),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const c=n.nativeElement.classList;for(const u of fG)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(d=>{c.add(d)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...n){return n.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(t=e).\u0275fac=function(n){Fp()},t.\u0275dir=Fn({type:t,features:[yr]}),e})(),Ag=(()=>{var t;class e extends lM{constructor(n,i,o,l){super(n,i,o,l)}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(eo),yt(lr),yt(Ds,8))},t.\u0275cmp=gr({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(n,i){2&n&&(li("disabled",i.disabled||null),Ti("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[yr],attrs:sG,ngContentSelectors:lG,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){1&n&&(da(aG),Qn(0,"span",0),Mi(1),cn(2,"span",1),Mi(3,1),dn(),Mi(4,2),Qn(5,"span",2)(6,"span",3)),2&n&&Ti("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),Ig=(()=>{var t;class e extends lM{constructor(n,i,o,l){super(n,i,o,l),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(eo),yt(lr),yt(Ds,8))},t.\u0275cmp=gr({type:t,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(n,i){2&n&&(li("disabled",i.disabled||null),Ti("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[yr],attrs:uG,ngContentSelectors:dG,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){1&n&&(da(),Qn(0,"span",0),Mi(1),Qn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),Qs=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[to,sh,to]}),e})(),gG=1;const Dg={};function cM(t){return t in Dg&&(delete Dg[t],!0)}const _G={setImmediate(t){const e=gG++;return Dg[e]=!0,PE||(PE=Promise.resolve()),PE.then(()=>cM(e)&&t()),e},clearImmediate(t){cM(t)}},{setImmediate:vG,clearImmediate:yG}=_G,xg={setImmediate(...t){const{delegate:e}=xg;return(e?.setImmediate||vG)(...t)},clearImmediate(t){const{delegate:e}=xg;return(e?.clearImmediate||yG)(t)},delegate:void 0},kE=new class EG extends Fb{flush(e){this._active=!0;const r=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw i}}}(class bG extends kb{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,n=0){return null!==n&&n>0?super.requestAsyncId(e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=xg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,r,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,r,n);const{actions:o}=e;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(xg.clearImmediate(r),e._scheduled===r&&(e._scheduled=void 0))}});function uM(t,e){return e?r=>kf(e.pipe(Vo(1),function wG(){return We((t,e)=>{t.subscribe(dt(e,g))})}()),r.pipe(uM(t))):Lt((r,n)=>hn(t(r,n)).pipe(Vo(1),aD(r)))}function dM(t=0,e,r=G4){let n=-1;return null!=e&&(xr(e)?r=e:n=e),new $e(i=>{let o=function TG(t){return t instanceof Date&&!isNaN(t)}(t)?+t-r.now():t;o<0&&(o=0);let l=0;return r.schedule(function(){i.closed||(i.next(l++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function fM(t,e=Wm){const r=dM(t,e);return uM(()=>r)}class LE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class hM extends LE{constructor(e,r,n,i,o){super(),this.component=e,this.viewContainerRef=r,this.injector=n,this.componentFactoryResolver=i,this.projectableNodes=o}}class pM extends LE{constructor(e,r,n,i){super(),this.templateRef=e,this.viewContainerRef=r,this.context=n,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,r=this.context){return this.context=r,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class SG extends LE{constructor(e){super(),this.element=e instanceof Nr?e.nativeElement:e}}class CG{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof hM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof pM?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof SG?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class AG extends CG{constructor(e,r,n,i,o){super(),this.outletElement=e,this._componentFactoryResolver=r,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=l=>{const c=l.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=o}attachComponentPortal(e){const n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=n.create(e.injector||this._defaultInjector||Oo.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let r=e.viewContainerRef,n=r.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=r.indexOf(n);-1!==i&&r.remove(i)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let IG=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({}),e})();const DG=["addListener","removeListener"],xG=["addEventListener","removeEventListener"],RG=["on","off"];function FE(t,e,r,n){if(Kn(r)&&(n=r,r=void 0),n)return FE(t,e,r).pipe(nb(n));const[i,o]=function OG(t){return Kn(t.addEventListener)&&Kn(t.removeEventListener)}(t)?xG.map(l=>c=>t[l](e,c,r)):function MG(t){return Kn(t.addListener)&&Kn(t.removeListener)}(t)?DG.map(mM(t,e)):function NG(t){return Kn(t.on)&&Kn(t.off)}(t)?RG.map(mM(t,e)):[];if(!i&&Zt(t))return Lt(l=>FE(l,e,r))(hn(t));if(!i)throw new TypeError("Invalid event target");return new $e(l=>{const c=(...u)=>l.next(1<u.length?u:u[0]);return i(c),()=>o(c)})}function mM(t,e){return r=>n=>t[r](e,n)}const _h={schedule(t){let e=requestAnimationFrame,r=cancelAnimationFrame;const{delegate:n}=_h;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);const i=e(o=>{r=void 0,t(o)});return new F(()=>r?.(i))},requestAnimationFrame(...t){const{delegate:e}=_h;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=_h;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class kG extends Fb{flush(e){this._active=!0;const r=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw i}}}(class PG extends kb{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,n=0){return null!==n&&n>0?super.requestAsyncId(e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=_h.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,r,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,r,n);const{actions:o}=e;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(_h.cancelAnimationFrame(r),e._scheduled=void 0)}});function gM(t,e=Wm){return function FG(t){return We((e,r)=>{let n=!1,i=null,o=null,l=!1;const c=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const d=i;i=null,r.next(d)}l&&r.complete()},u=()=>{o=null,l&&r.complete()};e.subscribe(dt(r,d=>{n=!0,i=d,o||hn(t(d)).subscribe(o=dt(r,c,u))},()=>{l=!0,(!n||!o||o.closed)&&r.complete()}))})}(()=>dM(t,e))}let _M=(()=>{var t;class e{constructor(n,i,o){this._ngZone=n,this._platform=i,this._scrolled=new ut,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new $e(i=>{this._globalSubscription||this._addGlobalListener();const o=n>0?this._scrolled.pipe(gM(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Jn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){const o=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(co(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(n){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,n)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,i){let o=wl(i),l=n.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>FE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(lr),Wt(eo),Wt(Dr,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),vM=(()=>{var t;class e{constructor(n,i,o){this._platform=n,this._change=new ut,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(n.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,i=this._getWindow(),o=n.documentElement,l=o.getBoundingClientRect();return{top:-l.top||n.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||n.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(gM(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(eo),Wt(lr),Wt(Dr,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Rg=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({}),e})(),yM=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[rh,Rg,rh,Rg]}),e})();const bM=C4();class VG{constructor(e,r){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Gi(-this._previousScrollPosition.left),e.style.top=Gi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,n=e.style,i=this._document.body.style,o=n.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),bM&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bM&&(n.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const r=this._document.body,n=this._viewportRuler.getViewportSize();return r.scrollHeight>n.height||r.scrollWidth>n.width}}class jG{constructor(e,r,n,i){this._scrollDispatcher=e,this._ngZone=r,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(co(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class EM{enable(){}disable(){}attach(){}}function BE(t,e){return e.some(r=>t.bottom<r.top||t.top>r.bottom||t.right<r.left||t.left>r.right)}function wM(t,e){return e.some(r=>t.top<r.top||t.bottom>r.bottom||t.left<r.left||t.right>r.right)}class HG{constructor(e,r,n,i){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();BE(r,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ZG=(()=>{var t;class e{constructor(n,i,o,l){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=o,this.noop=()=>new EM,this.close=c=>new jG(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new VG(this._viewportRuler,this._document),this.reposition=c=>new HG(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=l}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(_M),Wt(vM),Wt(lr),Wt(Dr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class TM{constructor(e){if(this.scrollStrategy=new EM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const r=Object.keys(e);for(const n of r)void 0!==e[n]&&(this[n]=e[n])}}}class zG{constructor(e,r){this.connectionPair=e,this.scrollableViewProperties=r}}let SM=(()=>{var t;class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),GG=(()=>{var t;class e extends SM{constructor(n,i){super(n),this._ngZone=i,this._keydownListener=o=>{const l=this._attachedOverlays;for(let c=l.length-1;c>-1;c--)if(l[c]._keydownEvents.observers.length>0){const u=l[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr),Wt(lr,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),qG=(()=>{var t;class e extends SM{constructor(n,i,o){super(n),this._platform=i,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=El(l)},this._clickListener=l=>{const c=El(l),u="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let T=d.length-1;T>-1;T--){const B=d[T];if(B._outsidePointerEvents.observers.length<1||!B.hasAttached())continue;if(B.overlayElement.contains(c)||B.overlayElement.contains(u))break;const he=B._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>he.next(l)):he.next(l)}}}add(n){if(super.add(n),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr),Wt(eo),Wt(lr,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),CM=(()=>{var t;class e{constructor(n,i){this._platform=i,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||Mb()){const o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const i=this._document.createElement("div");i.classList.add(n),Mb()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(Dr),Wt(eo))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class YG{constructor(e,r,n,i,o,l,c,u,d,T=!1){this._portalOutlet=e,this._host=r,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=c,this._location=u,this._outsideClickDispatcher=d,this._animationsDisabled=T,this._backdropElement=null,this._backdropClick=new ut,this._attachments=new ut,this._detachments=new ut,this._locationChanges=F.EMPTY,this._backdropClickHandler=B=>this._backdropClick.next(B),this._backdropTransitionendHandler=B=>{this._disposeBackdrop(B.target)},this._keydownEvents=new ut,this._outsidePointerEvents=new ut,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const r=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof r?.onDestroy&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Gi(this._config.width),e.height=Gi(this._config.height),e.minWidth=Gi(this._config.minWidth),e.minHeight=Gi(this._config.minHeight),e.maxWidth=Gi(this._config.maxWidth),e.maxHeight=Gi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,r,n){const i=Km(r||[]).filter(o=>!!o);i.length&&(n?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(zi(Ao(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const AM="cdk-overlay-connected-position-bounding-box",$G=/([A-Za-z%]+)$/;class WG{get positions(){return this._preferredPositions}constructor(e,r,n,i,o){this._viewportRuler=r,this._document=n,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ut,this._resizeSubscription=F.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(AM),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,r=this._overlayRect,n=this._viewportRect,i=this._containerRect,o=[];let l;for(let c of this._preferredPositions){let u=this._getOriginPoint(e,i,c),d=this._getOverlayPoint(u,r,c),T=this._getOverlayFit(d,r,n,c);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(T,d,n)?o.push({position:c,origin:u,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!l||l.overlayFit.visibleArea<T.visibleArea)&&(l={overlayFit:T,overlayPoint:d,originPoint:u,position:c,overlayRect:r})}if(o.length){let c=null,u=-1;for(const d of o){const T=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);T>u&&(u=T,c=d)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(AM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,r)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,r,n){let i,o;if("center"==n.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;i="start"==n.originX?l:c}return r.left<0&&(i-=r.left),o="center"==n.originY?e.top+e.height/2:"top"==n.originY?e.top:e.bottom,r.top<0&&(o-=r.top),{x:i,y:o}}_getOverlayPoint(e,r,n){let i,o;return i="center"==n.overlayX?-r.width/2:"start"===n.overlayX?this._isRtl()?-r.width:0:this._isRtl()?0:-r.width,o="center"==n.overlayY?-r.height/2:"top"==n.overlayY?0:-r.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,r,n,i){const o=DM(r);let{x:l,y:c}=e,u=this._getOffset(i,"x"),d=this._getOffset(i,"y");u&&(l+=u),d&&(c+=d);let he=0-c,we=c+o.height-n.height,Pe=this._subtractOverflows(o.width,0-l,l+o.width-n.width),Ue=this._subtractOverflows(o.height,he,we),Et=Pe*Ue;return{visibleArea:Et,isCompletelyWithinViewport:o.width*o.height===Et,fitsInViewportVertically:Ue===o.height,fitsInViewportHorizontally:Pe==o.width}}_canFitWithFlexibleDimensions(e,r,n){if(this._hasFlexibleDimensions){const i=n.bottom-r.y,o=n.right-r.x,l=IM(this._overlayRef.getConfig().minHeight),c=IM(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=i)&&(e.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(e,r,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=DM(r),o=this._viewportRect,l=Math.max(e.x+i.width-o.width,0),c=Math.max(e.y+i.height-o.height,0),u=Math.max(o.top-n.top-e.y,0),d=Math.max(o.left-n.left-e.x,0);let T=0,B=0;return T=i.width<=o.width?d||-l:e.x<this._viewportMargin?o.left-n.left-e.x:0,B=i.height<=o.height?u||-c:e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:T,y:B},{x:e.x+T,y:e.y+B}}_applyPosition(e,r){if(this._setTransformOrigin(e),this._setOverlayElementStyles(r,e),this._setBoundingBoxStyles(r,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const n=this._getScrollVisibility(),i=new zG(e,n);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const r=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<r.length;o++)r[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,r){const n=this._viewportRect,i=this._isRtl();let o,l,c,T,B,he;if("top"===r.overlayY)l=e.y,o=n.height-l+this._viewportMargin;else if("bottom"===r.overlayY)c=n.height-e.y+2*this._viewportMargin,o=n.height-c+this._viewportMargin;else{const we=Math.min(n.bottom-e.y+n.top,e.y),Pe=this._lastBoundingBoxSize.height;o=2*we,l=e.y-we,o>Pe&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-Pe/2)}if("end"===r.overlayX&&!i||"start"===r.overlayX&&i)he=n.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===r.overlayX&&!i||"end"===r.overlayX&&i)B=e.x,T=n.right-e.x;else{const we=Math.min(n.right-e.x+n.left,e.x),Pe=this._lastBoundingBoxSize.width;T=2*we,B=e.x-we,T>Pe&&!this._isInitialRender&&!this._growAfterOpen&&(B=e.x-Pe/2)}return{top:l,left:B,bottom:c,right:he,width:T,height:o}}_setBoundingBoxStyles(e,r){const n=this._calculateBoundingBoxRect(e,r);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Gi(n.height),i.top=Gi(n.top),i.bottom=Gi(n.bottom),i.width=Gi(n.width),i.left=Gi(n.left),i.right=Gi(n.right),i.alignItems="center"===r.overlayX?"center":"end"===r.overlayX?"flex-end":"flex-start",i.justifyContent="center"===r.overlayY?"center":"bottom"===r.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Gi(o)),l&&(i.maxWidth=Gi(l))}this._lastBoundingBoxSize=n,kc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){kc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,r){const n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const T=this._viewportRuler.getViewportScrollPosition();kc(n,this._getExactOverlayY(r,e,T)),kc(n,this._getExactOverlayX(r,e,T))}else n.position="static";let c="",u=this._getOffset(r,"x"),d=this._getOffset(r,"y");u&&(c+=`translateX(${u}px) `),d&&(c+=`translateY(${d}px)`),n.transform=c.trim(),l.maxHeight&&(i?n.maxHeight=Gi(l.maxHeight):o&&(n.maxHeight="")),l.maxWidth&&(i?n.maxWidth=Gi(l.maxWidth):o&&(n.maxWidth="")),kc(this._pane.style,n)}_getExactOverlayY(e,r,n){let i={top:"",bottom:""},o=this._getOverlayPoint(r,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Gi(o.y),i}_getExactOverlayX(e,r,n){let l,i={left:"",right:""},o=this._getOverlayPoint(r,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Gi(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),r=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wM(e,n),isOriginOutsideView:BE(e,n),isOverlayClipped:wM(r,n),isOverlayOutsideView:BE(r,n)}}_subtractOverflows(e,...r){return r.reduce((n,i)=>n-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+r-this._viewportMargin,width:e-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,r){return"x"===r?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Km(e).forEach(r=>{""!==r&&-1===this._appliedPanelClasses.indexOf(r)&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Nr)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const r=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+r,height:n,width:r}}}function kc(t,e){for(let r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function IM(t){if("number"!=typeof t&&null!=t){const[e,r]=t.split($G);return r&&"px"!==r?null:parseFloat(e)}return t||null}function DM(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const xM="cdk-global-overlay-wrapper";class KG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const r=e.getConfig();this._overlayRef=e,this._width&&!r.width&&e.updateSize({width:this._width}),this._height&&!r.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(xM),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:c}=n,u=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),d=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),T=this._xPosition,B=this._xOffset,he="rtl"===this._overlayRef.getConfig().direction;let we="",Pe="",Ue="";u?Ue="flex-start":"center"===T?(Ue="center",he?Pe=B:we=B):he?"left"===T||"end"===T?(Ue="flex-end",we=B):("right"===T||"start"===T)&&(Ue="flex-start",Pe=B):"left"===T||"start"===T?(Ue="flex-start",we=B):("right"===T||"end"===T)&&(Ue="flex-end",Pe=B),e.position=this._cssPosition,e.marginLeft=u?"0":we,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":Pe,r.justifyContent=Ue,r.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,n=r.style;r.classList.remove(xM),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let XG=(()=>{var t;class e{constructor(n,i,o,l){this._viewportRuler=n,this._document=i,this._platform=o,this._overlayContainer=l}global(){return new KG}flexibleConnectedTo(n){return new WG(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(vM),Wt(Dr),Wt(eo),Wt(CM))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),QG=0,ld=(()=>{var t;class e{constructor(n,i,o,l,c,u,d,T,B,he,we,Pe){this.scrollStrategies=n,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=c,this._injector=u,this._ngZone=d,this._document=T,this._directionality=B,this._location=he,this._outsideClickDispatcher=we,this._animationsModuleType=Pe}create(n){const i=this._createHostElement(),o=this._createPaneElement(i),l=this._createPortalOutlet(o),c=new TM(n);return c.direction=c.direction||this._directionality.value,new YG(l,i,o,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const i=this._document.createElement("div");return i.id="cdk-overlay-"+QG++,i.classList.add("cdk-overlay-pane"),n.appendChild(i),i}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(ml)),new AG(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(ZG),Wt(CM),Wt(nf),Wt(XG),Wt(GG),Wt(Oo),Wt(lr),Wt(Dr),Wt(eg),Wt(fm),Wt(qG),Wt(Ds,8))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const tq={provide:new ln("cdk-connected-overlay-scroll-strategy"),deps:[ld],useFactory:function eq(t){return()=>t.scrollStrategies.reposition()}};let RM=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({providers:[ld,tq],imports:[rh,IG,yM,yM]}),e})();const nq=["mat-menu-item",""];function rq(t,e){1&t&&(Xn(),cn(0,"svg",3),Qn(1,"polygon",4),dn())}const iq=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],oq=["mat-icon, [matMenuItemIcon]","*"];function sq(t,e){if(1&t){const r=ao();cn(0,"div",0),mr("keydown",function(i){return mt(r),bt(Vn()._handleKeydown(i))})("click",function(){return mt(r),bt(Vn().closed.emit("click"))})("@transformMenu.start",function(i){return mt(r),bt(Vn()._onAnimationStart(i))})("@transformMenu.done",function(i){return mt(r),bt(Vn()._onAnimationDone(i))}),cn(1,"div",1),Mi(2),dn()()}if(2&t){const r=Vn();Yt("id",r.panelId)("ngClass",r._classList)("@transformMenu",r._panelAnimationState),li("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null)("aria-describedby",r.ariaDescribedby||null)}}const aq=["*"],UE=new ln("MAT_MENU_PANEL"),lq=zb(Dx(class{}));let vh=(()=>{var t;class e extends lq{constructor(n,i,o,l,c){super(),this._elementRef=n,this._document=i,this._focusMonitor=o,this._parentMenu=l,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new ut,this._focused=new ut,this._highlighted=!1,this._triggersSubmenu=!1,l?.addItem?.(this)}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._getHostElement(),n,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++)i[o].remove();return n.textContent?.trim()||""}_setHighlighted(n){this._highlighted=n,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(n){this._triggersSubmenu=n,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(Dr),yt(nh),yt(UE,8),yt(Bo))},t.\u0275cmp=gr({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,i){1&n&&mr("click",function(l){return i._checkDisabled(l)})("mouseenter",function(){return i._handleMouseEnter()}),2&n&&(li("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),Ti("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[yr],attrs:nq,ngContentSelectors:oq,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,i){1&n&&(da(iq),Mi(0),cn(1,"span",0),Mi(2,1),dn(),Qn(3,"div",1),Ln(4,rq,2,0,"svg",2)),2&n&&(Jt(3),Yt("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),Jt(1),Yt("ngIf",i._triggersSubmenu))},dependencies:[lo,Gb],encapsulation:2,changeDetection:0}),e})();const cq=new ln("MatMenuContent"),Mg={transformMenu:dh("transformMenu",[Mc("void",es({opacity:0,transform:"scale(0.8)"})),Dl("void => enter",Il("120ms cubic-bezier(0, 0, 0.2, 1)",es({opacity:1,transform:"scale(1)"}))),Dl("* => void",Il("100ms 25ms linear",es({opacity:0})))]),fadeInItems:dh("fadeInItems",[Mc("showing",es({opacity:1})),Dl("void => *",[es({opacity:0}),Il("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let uq=0;const MM=new ln("mat-menu-default-options",{providedIn:"root",factory:function dq(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let yh=(()=>{var t;class e{get xPosition(){return this._xPosition}set xPosition(n){this._xPosition=n,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(n){this._yPosition=n,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(n){this._overlapTrigger=uo(n)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(n){this._hasBackdrop=uo(n)}set panelClass(n){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=n,n&&n.length&&(n.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(n){this.panelClass=n}constructor(n,i,o,l){this._elementRef=n,this._ngZone=i,this._changeDetectorRef=l,this._directDescendantItems=new Zu,this._classList={},this._panelAnimationState="void",this._animationDone=new ut,this.closed=new ii,this.close=this.closed,this.panelId="mat-menu-panel-"+uq++,this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this._overlapTrigger=o.overlapTrigger,this._hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new nZ(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Lf(this._directDescendantItems),Wn(n=>Ao(...n.map(i=>i._focused)))).subscribe(n=>this._keyManager.updateActiveItem(n)),this._directDescendantItems.changes.subscribe(n=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const o=n.toArray(),l=Math.max(0,Math.min(o.length-1,i.activeItemIndex||0));o[l]&&!o[l].disabled?i.setActiveItem(l):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Lf(this._directDescendantItems),Wn(i=>Ao(...i.map(o=>o._hovered))))}addItem(n){}removeItem(n){}_handleKeydown(n){const i=n.keyCode,o=this._keyManager;switch(i){case 27:Pb(n)||(n.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&o.setFocusOrigin("keyboard"),void o.onKeydown(n)}n.stopPropagation()}focusFirstItem(n="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Vo(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const o=this._keyManager;o.setFocusOrigin(n).setFirstItemActive(),!o.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(n){const i=Math.min(this._baseElevation+n,24),o=`${this._elevationPrefix}${i}`,l=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!l||l===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(n=this.xPosition,i=this.yPosition){const o=this._classList;o["mat-menu-before"]="before"===n,o["mat-menu-after"]="after"===n,o["mat-menu-above"]="above"===i,o["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(n){this._animationDone.next(n),this._isAnimating=!1}_onAnimationStart(n){this._isAnimating=!0,"enter"===n.toState&&0===this._keyManager.activeItemIndex&&(n.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Lf(this._allItems)).subscribe(n=>{this._directDescendantItems.reset(n.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(lr),yt(MM),yt(Bo))},t.\u0275dir=Fn({type:t,contentQueries:function(n,i,o){if(1&n&&(Qo(o,cq,5),Qo(o,vh,5),Qo(o,vh,4)),2&n){let l;ci(l=ui())&&(i.lazyContent=l.first),ci(l=ui())&&(i._allItems=l),ci(l=ui())&&(i.items=l)}},viewQuery:function(n,i){if(1&n&&Lo(ma,5),2&n){let o;ci(o=ui())&&(i.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),e})(),VE=(()=>{var t;class e extends yh{constructor(n,i,o,l){super(n,i,o,l),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(lr),yt(MM),yt(Bo))},t.\u0275cmp=gr({type:t,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(n,i){2&n&&li("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Qr([{provide:UE,useExisting:t}]),yr],ngContentSelectors:aq,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(n,i){1&n&&(da(),Ln(0,sq,3,6,"ng-template"))},dependencies:[$u],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Mg.transformMenu,Mg.fadeInItems]},changeDetection:0}),e})();const NM=new ln("mat-menu-scroll-strategy"),hq={provide:NM,deps:[ld],useFactory:function fq(t){return()=>t.scrollStrategies.reposition()}},OM=Tc({passive:!0});let pq=(()=>{var t;class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(n){this.menu=n}get menu(){return this._menu}set menu(n){n!==this._menu&&(this._menu=n,this._menuCloseSubscription.unsubscribe(),n&&(this._menuCloseSubscription=n.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(n,i,o,l,c,u,d,T,B){this._overlay=n,this._element=i,this._viewContainerRef=o,this._menuItemInstance=u,this._dir=d,this._focusMonitor=T,this._ngZone=B,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=F.EMPTY,this._hoverSubscription=F.EMPTY,this._menuCloseSubscription=F.EMPTY,this._changeDetectorRef=$t(Bo),this._handleTouchStart=he=>{Hb(he)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ii,this.onMenuOpen=this.menuOpened,this.menuClosed=new ii,this.onMenuClose=this.menuClosed,this._scrollStrategy=l,this._parentMaterialMenu=c instanceof yh?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,OM)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,OM),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const n=this.menu;if(this._menuOpen||!n)return;const i=this._createOverlay(n),o=i.getConfig(),l=o.positionStrategy;this._setPosition(n,l),o.hasBackdrop=null==n.hasBackdrop?!this.triggersSubmenu():n.hasBackdrop,i.attach(this._getPortal(n)),n.lazyContent&&n.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(n),n instanceof yh&&(n._startAnimation(),n._directDescendantItems.changes.pipe(zi(n.close)).subscribe(()=>{l.withLockedPosition(!1).reapplyLastPosition(),l.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._element,n,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(n){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===n||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof yh?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(co(o=>"void"===o.toState),Vo(1),zi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(n){n.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,n.direction=this.dir,this._setMenuElevation(n),n.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(n){if(n.setElevation){let i=0,o=n.parentMenu;for(;o;)i++,o=o.parentMenu;n.setElevation(i)}}_setIsMenuOpen(n){n!==this._menuOpen&&(this._menuOpen=n,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(n),this._changeDetectorRef.markForCheck())}_createOverlay(n){if(!this._overlayRef){const i=this._getOverlayConfig(n);this._subscribeToPositions(n,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(n){return new TM({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:n.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:n.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(n,i){n.setPositionClasses&&i.positionChanges.subscribe(o=>{const l="start"===o.connectionPair.overlayX?"after":"before",c="top"===o.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>n.setPositionClasses(l,c)):n.setPositionClasses(l,c)})}_setPosition(n,i){let[o,l]="before"===n.xPosition?["end","start"]:["start","end"],[c,u]="above"===n.yPosition?["bottom","top"]:["top","bottom"],[d,T]=[c,u],[B,he]=[o,l],we=0;if(this.triggersSubmenu()){if(he=o="before"===n.xPosition?"start":"end",l=B="end"===o?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Pe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Pe?Pe._getHostElement().offsetTop:0}we="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else n.overlapTrigger||(d="top"===c?"bottom":"top",T="top"===u?"bottom":"top");i.withPositions([{originX:o,originY:d,overlayX:B,overlayY:c,offsetY:we},{originX:l,originY:d,overlayX:he,overlayY:c,offsetY:we},{originX:o,originY:T,overlayX:B,overlayY:u,offsetY:-we},{originX:l,originY:T,overlayX:he,overlayY:u,offsetY:-we}])}_menuClosingActions(){const n=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return Ao(n,this._parentMaterialMenu?this._parentMaterialMenu.closed:Jn(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(co(c=>c!==this._menuItemInstance),co(()=>this._menuOpen)):Jn(),i)}_handleMousedown(n){jb(n)||(this._openedBy=0===n.button?"mouse":void 0,this.triggersSubmenu()&&n.preventDefault())}_handleKeydown(n){const i=n.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(n){this.triggersSubmenu()?(n.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(co(n=>n===this._menuItemInstance&&!n.disabled),fM(0,kE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof yh&&this.menu._isAnimating?this.menu._animationDone.pipe(Vo(1),fM(0,kE),zi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(n){return(!this._portal||this._portal.templateRef!==n.templateRef)&&(this._portal=new pM(n.templateRef,this._viewContainerRef)),this._portal}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(ld),yt(Nr),yt(hs),yt(NM),yt(UE,8),yt(vh,10),yt(eg,8),yt(nh),yt(lr))},t.\u0275dir=Fn({type:t,hostVars:3,hostBindings:function(n,i){1&n&&mr("click",function(l){return i._handleClick(l)})("mousedown",function(l){return i._handleMousedown(l)})("keydown",function(l){return i._handleKeydown(l)}),2&n&&li("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),e})(),jE=(()=>{var t;class e extends pq{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Xi(t)))(i||t)}}(),t.\u0275dir=Fn({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[yr]}),e})(),cd=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({providers:[hq],imports:[Nf,sh,to,RM,Rg,to]}),e})();class PM extends Al{constructor(e){super(),this.sort_requested=e}}const mq=["hot","top","new","controversial","rising"];let gq=(()=>{var t;class e extends sR{constructor(n){if(!n||!n.keyPrefix||0===n.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,n.keyPrefix)}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(tE))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),HE=(()=>{var t;class e{constructor(n){this.sessionStorageService=n,this.key="UniqueId"}getUniqueId(){let n=this.sessionStorageService.get(this.key);return null==n&&(n=0),this.sessionStorageService.set(this.key,++n),n}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(gq))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();String.isNullOrWhitespace||(String.isNullOrWhitespace=function(t){return null==t||t.trim().length<1}),String.hasData||(String.hasData=t=>!String.isNullOrWhitespace(t)),String.toDate||(String.toDate=function(t){if(null==t||""===t)return null;if(t instanceof Date)return t;if(!(t instanceof String))return null;const e=t.split("/");if(3!==e.length)return null;const r=Number(e[0]),n=Number(e[1]);let i=Number(e[2]);if(isNaN(r)||isNaN(n)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,r-1,n);return o.getMonth()+1!==r||o.getDate()!==n||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o});class ZE{}Object.trimUnusedProperties||(Object.trimUnusedProperties=function(t){if(null==t)return;if(null==t)return null;let e={...t};for(var r in e){const n=e[r];(null==n||Array.isArray(n)&&0===n.length)&&delete e[r],"string"==typeof n&&String.isNullOrWhitespace(n)&&delete e[r],"number"==typeof n&&0===n&&delete e[r]}return e});class zE{}function _q(t,e,r,n){return GE.apply(this,arguments)}function GE(){return(GE=pi(function*(t,e,r,n){this.set_posts({items:[],subreddit:""}),this.set_errors({});const i=this.subscriptionService.get();let o=n;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let l=new URLSearchParams;l.set("limit","20"),l.set("raw_json","1"),String.hasData(t)&&l.set("after",t),String.hasData(e)&&l.set("modhash",e);const c=new URL(`https://www.reddit.com/r/${o}/${r}.json`);c.search=`${l}`;try{const u=yield fetch(c);if(!u.ok){let he=u.statusText||"Not Found";try{const we=yield u.json();we&&"reason"in we&&(he=we.reason)}catch{}return void this.set_errors(he)}const d=yield u.json();if(d.kind!==Ns.Listing)return void this.set_errors(`Listing's kind isn't ${Ns.Listing}, its ${d.kind} instead`);if(d.data?.children.some(he=>he.kind!==Ns.Link))return void this.set_errors(`Not all of Listing's children are of kind ${Ns.Link}`);const T=d.data,B=T.children.filter(he=>null!=he.data).map(he=>eE(he.data,this.is_MSE_supported()));B.forEach(he=>he.subreddit_subscribed=i.includes(he.subreddit)),this.set_posts({after:T.after,items:B,modhash:T.modhash,sort:r,subreddit:o})}catch(u){this.set_errors(u)}})).apply(this,arguments)}function vq(t){return qE.apply(this,arguments)}function qE(){return(qE=pi(function*(t){this.subscriptionService.add(t);const e=this.subscriptionService.get(),r=this.get_posts();r.items.forEach(n=>n.subreddit_subscribed=e.includes(n.subreddit)),this.set_posts(r)})).apply(this,arguments)}function yq(t){return YE.apply(this,arguments)}function YE(){return(YE=pi(function*(t){this.subscriptionService.remove(t);const e=this.subscriptionService.get(),r=this.get_posts();r.items.forEach(n=>n.subreddit_subscribed=e.includes(n.subreddit)),this.set_posts(r)})).apply(this,arguments)}let Ng=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakSet;class c{constructor(){Jr(this,l),In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),In(this,n,{writable:!0,value:void 0}),In(this,i,{writable:!0,value:void 0}),In(this,o,{writable:!0,value:void 0}),this.domSanitizer=$t(Ws),this.subscriptionService=$t(aR),this.uniqueIdService=$t(HE),Tn(this,e,new ZE),Tn(this,r,new zE),Tn(this,n,Ss({posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""}})),Tn(this,i,Ss({})),this.errors=_t(this,i).asReadonly(),Tn(this,o,"MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported),this.posts=Ts(()=>{const T=_t(this,n).call(this).posts;return null==T?null:{after:T.after,items:T.items?.map(B=>Pr(this,l,u).call(this,B)),modhash:T.modhash,sort:T.sort,subreddit:T.subreddit}}),this.actions={listPostAsync:_q.bind(this),subscribe:vq.bind(this),unsubscribe:yq.bind(this)}}set_errors(T){null!=T&&_t(this,i).set(T||{})}is_MSE_supported(){return _t(this,o)}get_posts(){return as(_t(this,n)).posts}set_posts(T){_t(this,n).mutate(B=>{const he=B.posts;he.after=String.hasData(T.after)?T.after:"",null!=T.items&&(he.items=T.items),he.modhash=String.hasData(T.modhash)?T.modhash:"",null!=T.sort&&(he.sort=T.sort),null!=T.subreddit&&(he.subreddit=T.subreddit)}),this.set_errors(null)}}function u(d){const T=JSON.parse(JSON.stringify(d));return T.images&&(T.images=T.images.map(B=>Object.freeze(B))),T.videos&&(T.videos=T.videos.map(B=>Object.freeze(B))),Object.freeze(T)}return(t=c).\u0275fac=function(T){return new(T||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),c})();const bq=function(t){return{display:t}};function Eq(t,e){if(1&t){const r=ao();cn(0,"a",14),mr("click",function(){const o=mt(r).$implicit;return bt(Vn(2).change_sort(o))}),Br(1),dn()}if(2&t){const r=e.$implicit,n=Vn().ngIf;Yt("ngStyle",pa(2,bq,n.sort===r?"none":"inherit")),Jt(1),Ko(" ",r," ")}}function wq(t,e){if(1&t){const r=ao();Fa(0),cn(1,"div",1)(2,"div",2),Br(3),dn(),cn(4,"button",3),Br(5),Qn(6,"mat-icon",4),dn(),cn(7,"button",5),Qn(8,"mat-icon",6),dn()(),cn(9,"mat-menu",null,7),Ln(11,Eq,2,4,"a",8),dn(),cn(12,"mat-menu",9,10)(14,"mat-icon",11),mr("click",function(){return mt(r),bt(Vn().back_to_home())}),dn(),Qn(15,"mat-icon",12)(16,"mat-icon",13),dn(),Ba()}if(2&t){const r=e.ngIf,n=Hi(10),i=Hi(13),o=Vn();Jt(3),Ko(" ",r.subreddit.includes("+")?"multi":r.subreddit," "),Jt(1),Yt("matMenuTriggerFor",n),Jt(1),Ko(" ",r.sort," "),Jt(2),Yt("matMenuTriggerFor",i),Jt(4),Yt("ngForOf",o.POST_SORT)}}let Tq=(()=>{var t,e=new WeakMap;class r{constructor(){In(this,e,{writable:!0,value:void 0}),Tn(this,e,$t(Os)),this.POST_SORT=mq,this.controller=$t(Ng)}change_sort(i){var o=this;return pi(function*(){_t(o,e).raise(new PM(i))})()}back_to_home(){_t(this,e).raise(iR)}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["page-header"]],standalone:!0,features:[ri],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(i,o){1&i&&Ln(0,wq,17,5,"ng-container",0),2&i&&Yt("ngIf",o.controller.posts())},dependencies:[lo,_l,Sm,Qs,Ag,Ig,ms,Cl,cd,VE,vh,jE,Ha],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0}),r})();const Sq=["*",[["mat-toolbar-row"]]],Cq=["*","mat-toolbar-row"],Aq=tg(class{constructor(t){this._elementRef=t}});let kM=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=Fn({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),Iq=(()=>{var t;class e extends Aq{constructor(n,i,o){super(n),this._platform=i,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(eo),yt(Dr))},t.\u0275cmp=gr({type:t,selectors:[["mat-toolbar"]],contentQueries:function(n,i,o){if(1&n&&Qo(o,kM,5),2&n){let l;ci(l=ui())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,i){2&n&&Ti("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[yr],ngContentSelectors:Cq,decls:2,vars:0,template:function(n,i){1&n&&(da(Sq),Mi(0),Mi(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0}),e})(),Og=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[to,to]}),e})();class LM extends Al{constructor(e){super(),this.article=e}}function Dq(t,e){if(1&t){const r=ao();cn(0,"button",4),mr("click",function(){return mt(r),bt(Vn().on_share_click())}),Qn(1,"mat-icon",5),dn()}}function xq(t,e){if(1&t&&(cn(0,"button",6),Qn(1,"mat-icon",7),Br(2),fl(3,"count"),dn()),2&t){const r=Vn();Jt(2),Ko(" ",hl(3,1,r.data.ups),"\n")}}function Rq(t,e){if(1&t&&(cn(0,"button",6),Qn(1,"mat-icon",8),Br(2),fl(3,"count"),dn()),2&t){const r=Vn();Jt(2),Ko(" ",hl(3,1,r.data.downs),"\n")}}let Mq=(()=>{var t,e=new WeakMap,r=new WeakMap;class n{constructor(){In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),Tn(this,e,$t(Os)),Tn(this,r,""),this._can_share="share"in window.navigator,this.controller=$t(Ng),Tn(this,r,document.baseURI),_t(this,r).endsWith("/")&&Tn(this,r,_t(this,r).slice(0,-1))}on_share_click(){const o=`${_t(this,r)}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:o})}on_comment_click(){_t(this,e).raise(new LM(this.data.id))}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=gr({type:t,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(o,l){1&o&&(Ln(0,Dq,2,0,"button",0),cn(1,"button",1),mr("click",function(){return l.on_comment_click()}),Qn(2,"mat-icon",2),Br(3),fl(4,"count"),dn(),Ln(5,xq,4,3,"button",3),Ln(6,Rq,4,3,"button",3)),2&o&&(Yt("ngIf",l._can_share),Jt(3),Ko(" ",hl(4,4,l.data.num_comments),"\n"),Jt(2),Yt("ngIf",l.data.ups>0),Jt(1),Yt("ngIf",l.data.downs>0))},dependencies:[z5,Qs,Ag,Ig,ms,Cl,cd,sh,Og,lo],changeDetection:0}),n})();class bh extends Al{constructor(e){super(),this.subreddit_requested=e}}function Nq(t,e){if(1&t){const r=ao();cn(0,"a",9),mr("click",function(i){mt(r);const o=Vn();return bt(o.change_subreddit(i,o.post.subreddit))}),Br(1),dn()}if(2&t){const r=Vn();Yt("href","/r/"+r.post.subreddit,uc),Jt(1),Ko(" r/",r.post.subreddit," ")}}function Oq(t,e){if(1&t){const r=ao();cn(0,"mat-icon",12),mr("click",function(){mt(r);const i=Vn(2);return bt(i.controller.actions.subscribe(i.post.subreddit))}),dn()}}function Pq(t,e){if(1&t){const r=ao();cn(0,"mat-icon",13),mr("click",function(){mt(r);const i=Vn(2);return bt(i.controller.actions.unsubscribe(i.post.subreddit))}),dn()}}function kq(t,e){if(1&t&&(Fa(0),Ln(1,Oq,1,0,"mat-icon",10),Ln(2,Pq,1,0,"mat-icon",11),Ba()),2&t){const r=Vn();Jt(1),Yt("ngIf",!r.post.subreddit_subscribed),Jt(1),Yt("ngIf",r.post.subreddit_subscribed)}}function Lq(t,e){1&t&&Qn(0,"mat-icon",14)}function Fq(t,e){1&t&&Qn(0,"mat-icon",15)}function Bq(t,e){1&t&&(cn(0,"a",16),Br(1,"x-post"),dn())}const Uq=function(t){return["/u",t]};let Vq=(()=>{var t,e=new WeakMap,r=new WeakSet;class n{constructor(){Jr(this,r),In(this,e,{writable:!0,value:void 0}),Tn(this,e,$t(Os)),this.controller=$t(Ng),this.has_image_gallery=!1,this.part_of_multi=!1}set data(l){this.post=l.post,Pr(this,r,i).call(this,l.subreddit)}change_subreddit(l,c){l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation(),_t(this,e).raise(new bh(c))}}function i(o){this.part_of_multi=this.post.subreddit.toLowerCase()!==o.toLowerCase();const l=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=l.has_image&&l.has_image_gallery}return(t=n).\u0275fac=function(l){return new(l||t)},t.\u0275cmp=gr({type:t,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(l,c){1&l&&(cn(0,"section",0)(1,"div",1),Br(2),dn(),cn(3,"section",2),Ln(4,Nq,2,2,"a",3),cn(5,"a",4),Br(6),dn(),cn(7,"span"),Br(8),fl(9,"age"),dn(),Ln(10,kq,3,2,"ng-container",5),Ln(11,Lq,1,0,"mat-icon",6),Ln(12,Fq,1,0,"mat-icon",7),Ln(13,Bq,2,0,"a",8),dn()()),2&l&&(Jt(2),Po(c.post.title),Jt(2),Yt("ngIf",c.part_of_multi),Jt(1),Yt("routerLink",pa(11,Uq,c.post.author)),Jt(1),Ko("u/",c.post.author,""),Jt(2),Po(hl(9,9,c.post.created_utc)),Jt(2),Yt("ngIf",c.part_of_multi),Jt(1),Yt("ngIf",!c.part_of_multi&&c.post.stickied),Jt(1),Yt("ngIf",c.has_image_gallery),Jt(1),Yt("ngIf",c.post.is_crosspost))},dependencies:[oR,Qs,ms,Cl,cd,sh,Og,lo,Ha],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0}),n})();function jq(t,e){1&t&&Qn(0,"post-body",0),2&t&&Yt("data",Vn().post)}const Hq=function(t,e){return{post:t,subreddit:e}};let FM=(()=>{var t;class e{constructor(){this.subreddit="",this.show_body=!0}set data(n){this.post=n.item,this.subreddit=n.subreddit,this.show_body=!n.item.stickied||!n.hide_stickied}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(n,i){1&n&&(Qn(0,"post-header",0),Ln(1,jq,1,1,"post-body",1),Qn(2,"post-footer",0)),2&n&&(Yt("data",ey(3,Hq,i.post,i.subreddit)),Jt(1),Yt("ngIf",i.show_body),Jt(1),Yt("data",i.post))},dependencies:[lo,D5,Mq,Vq],changeDetection:0}),e})();function ud(t,e,r){return function Zq(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),r}var Pg;Oi(307);class zq{}class wa{static sort(e,r,n){let i;e.sort((o,l)=>{let c=0,u=o[r],d=l[r];return null==u&&null==d?0:(null==u&&(void 0===i&&(i=ud(this,wa,BM).call(this,d)),u=i),null==d&&(void 0===i&&(i=ud(this,wa,BM).call(this,u)),d=i),"string"==typeof u&&(c=u.localeCompare(d)),"number"==typeof u&&(c=u-d),"boolean"==typeof u&&(c=u===d?0:u?1:-1),u instanceof Date&&(c=u.valueOf()-d.valueOf()),"desc"===n&&(c=-c),c)})}static fromParamMap(e,r){const n={};r.keys.forEach(o=>n[o]=`${r.get(o)}`);const i=wa.adapt(e,n);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!r.has(o))return;const l=r.getAll(o);i[o]="string"!=typeof l?1!==l.length?l:l[0].split(","):l.split(",")}),i}static adapt(e,r){if(null==e)return null;"function"==typeof e&&(e=new e);const n="string"==typeof r?String.isNullOrWhitespace(r)?{}:JSON.parse(r):r,i={};return Object.keys(n).forEach(o=>{const l=o[0].toLowerCase()+o.slice(1);i[l]=n[o]}),ud(this,wa,Gq).call(this,e,i),Object.keys(e).filter(o=>"object"==typeof e[o]&&e[o]instanceof zq).forEach(o=>this.adapt(e[o],o in i?i[o]:ud(this,wa,$q).call(this,i,`${o}_`))),e}}function BM(t){switch(typeof t){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return t instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}function Gq(t,e){null==t||null==e||ud(this,Pg,Yq).call(this,t).forEach(r=>{if(void 0===e[r])return;let n=typeof t[r];if("object"===n)switch(Reflect.getMetadata("design:type",t,r)){case String:n="string";break;case Boolean:n="boolean";break;case Number:n="number"}switch(n){case"string":t[r]=null===e[r]?t[r]:"string"==typeof e[r]?e[r]:e[r].toString();break;case"boolean":t[r]=null===e[r]?t[r]:ud(this,Pg,qq).call(this,e[r]);break;case"number":t[r]=null===e[r]?t[r]:"number"==typeof e[r]?e[r]:Number(e[r]);break;case"object":if((t[r]instanceof Date||Reflect.getMetadata("design:type",t,r)===Date)&&(t[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(t[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",t,r)){const i=Reflect.getMetadata("design:type",t,r);e[r].forEach(o=>t[r].push(Pg.adapt(i,o)))}}})}function qq(t){const e=typeof t;return"boolean"===e?t:"string"===e?"true"===t.toLowerCase():!!t}function Yq(t){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(t).forEach(n=>!r.includes(n)&&r.push(n))}while((t=Object.getPrototypeOf(t))&&!e.includes(t));return r}function $q(t,e){const r={};return Object.keys(t).filter(n=>n.startsWith(e)).forEach(n=>r[n.replace(e,"")]=t[n]),r}Pg=wa;class Eh{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(e,r){const n=new Eh;return n.addError(e,r),n}addError(e,r){if(r&&String.hasData(r)){const i=r.split(".");let o=this.errors;for(let l=0;l<i.length;l++){const c=i[l],u=c[0].toLowerCase()+c.slice(1);l<i.length-1?(o[u]={},o=o[u]):o[u]=e}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),e.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(e),void(this.hasErrors=!0);const n=e[0].toLowerCase()+e.slice(1);this.errors.general[n]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}function Wq(t,e){1&t&&(cn(0,"mat-toolbar-row")(1,"span"),Br(2,"You are not authorized."),dn()())}function Kq(t,e){1&t&&(cn(0,"mat-toolbar-row")(1,"span"),Br(2,"Not found."),dn()())}function Xq(t,e){if(1&t&&(cn(0,"mat-toolbar-row")(1,"span",4),Br(2),dn()()),2&t){const r=e.$implicit;Jt(2),Po(r)}}function Qq(t,e){if(1&t&&(cn(0,"mat-toolbar",1),Ln(1,Wq,3,0,"mat-toolbar-row",2),Ln(2,Kq,3,0,"mat-toolbar-row",2),Ln(3,Xq,3,1,"mat-toolbar-row",3),dn()),2&t){const r=Vn();Jt(1),Yt("ngIf",null==r._errors.general?null:r._errors.general.forbidden),Jt(1),Yt("ngIf",null==r._errors.general?null:r._errors.general.notFound),Jt(1),Yt("ngForOf",null==r._errors.general?null:r._errors.general.default)}}let $E=(()=>{var t;class e{set errors(n){this._errors=n instanceof Error?Eh.CreateErrorResult(`${n.message} `).errors:n instanceof Eh?n.errors:"string"!=typeof n&&"number"!=typeof n?n:Eh.CreateErrorResult(`${n} `).errors}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[ri],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(n,i){1&n&&Ln(0,Qq,4,3,"mat-toolbar",0),2&n&&Yt("ngIf",null==i._errors?null:i._errors.general)},dependencies:[Og,Iq,kM,_l,lo],styles:["[_nghost-%COMP%]{width:100%}"]}),e})();class UM extends Al{constructor(e){super(),this.sort_requested=e}}const Jq=["best","confidence","top","new","controversial","old"];function rY(t,e){return WE.apply(this,arguments)}function WE(){return(WE=pi(function*(t,e,r=""){this.set_post_comments({items:[],post:null});const n=new URL(`https://www.reddit.com/comments/${t}.json`);n.searchParams.set("sort",`${e}`),n.searchParams.set("limit","100"),n.searchParams.set("raw_json","1"),n.searchParams.set("threaded","false"),String.hasData(r)&&n.searchParams.set("comment",r);try{const i=yield fetch(n);if(!i.ok)return void this.set_errors(i.statusText);const o=yield i.json(),l=o[0],c=o[1];if(c.kind!==Ns.Listing)return void this.set_errors(`Comment listing's kind isn't ${Ns.Listing}, its ${c.kind} instead`);if(c.data?.children.some(T=>T.kind!==Ns.Comment&&T.kind!==Ns.More))return void this.set_errors(`Not all of comment listing's children are of kind ${Ns.Comment} or ${Ns.More}`);const u=function nY(t){const e=[];let r;for(let n=0;n<t.length;n++){const i=t[n];if(i.parent_id.startsWith("t3_")){e.push(i);continue}if(!i.parent_id.startsWith("t1_"))continue;const o=i.parent_id.replace("t1_",""),l=e.find(c=>c.id===o);l&&(r=l,r.children??=[]),r&&r.children.push(i)}return e}(c.data.children.filter(T=>T.kind==Ns.Comment&&null!=T.data).map(T=>function eY(t){let e={};return function tY(t,e){e.author=t.author,e.body_html=t.body_html,e.created_utc=t.created_utc,e.downs=t.downs,e.id=t.id,e.stickied=t.stickied,e.ups=t.ups,e.parent_id=t.parent_id}(t,e),e}(T.data))),d=eE(l.data.children[0].data,this.is_MSE_supported());this.set_post_comments({article:t,items:u,sort:e,post:d})}catch(i){this.set_errors(i)}})).apply(this,arguments)}let VM=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakSet;class c{constructor(){Jr(this,l),In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),In(this,n,{writable:!0,value:void 0}),In(this,i,{writable:!0,value:void 0}),In(this,o,{writable:!0,value:void 0}),this.domSanitizer=$t(Ws),this.uniqueIdService=$t(HE),Tn(this,e,new ZE),Tn(this,r,new zE),Tn(this,n,Ss({post_comments:{article:"",items:null,sort:"best",post:null}})),Tn(this,i,Ss({})),this.errors=_t(this,i).asReadonly(),Tn(this,o,"MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported),this.post_comments=Ts(()=>{const T=_t(this,n).call(this).post_comments;return null==T||null==T.items?null:{items:T.items?.map(B=>Pr(this,l,u).call(this,B)),sort:T.sort,post:T.post}}),this.actions={listCommentAsync:rY.bind(this)}}set_errors(T){null!=T&&_t(this,i).set(T||{})}is_MSE_supported(){return _t(this,o)}set_post_comments(T){_t(this,n).mutate(B=>{const he=B.post_comments;he.article=String.hasData(T.article)?T.article:"",void 0!==T.items&&(he.items=T.items),null!=T.sort&&(he.sort=T.sort),void 0!==T.post&&(he.post=T.post)}),this.set_errors(null)}}function u(d){const T=JSON.parse(JSON.stringify(d));return Object.freeze(T)}return(t=c).\u0275fac=function(T){return new(T||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),c})();const iY=function(t){return{display:t}};function oY(t,e){if(1&t){const r=ao();cn(0,"a",13),mr("click",function(){const o=mt(r).$implicit;return bt(Vn(2).change_sort(o))}),Br(1),dn()}if(2&t){const r=e.$implicit,n=Vn().ngIf;Yt("ngStyle",pa(2,iY,n.sort===r?"none":"inherit")),Jt(1),Ko(" ",r," ")}}function sY(t,e){if(1&t&&(Fa(0),cn(1,"div",1)(2,"span"),Br(3,"Comments"),dn(),cn(4,"button",2),Br(5),Qn(6,"mat-icon",3),dn(),cn(7,"button",4),Qn(8,"mat-icon",5),dn()(),cn(9,"mat-menu",null,6),Ln(11,oY,2,4,"a",7),dn(),cn(12,"mat-menu",8,9),Qn(14,"mat-icon",10)(15,"mat-icon",11)(16,"mat-icon",12),dn(),Ba()),2&t){const r=e.ngIf,n=Hi(10),i=Hi(13),o=Vn();Jt(4),Yt("matMenuTriggerFor",n),Jt(1),Ko(" ",r.sort," "),Jt(2),Yt("matMenuTriggerFor",i),Jt(4),Yt("ngForOf",o.POST_COMMENT_SORT)}}let aY=(()=>{var t,e=new WeakMap;class r{constructor(){In(this,e,{writable:!0,value:void 0}),Tn(this,e,$t(Os)),this.POST_COMMENT_SORT=Jq,this.controller=$t(VM)}change_sort(i){var o=this;return pi(function*(){_t(o,e).raise(new UM(i))})()}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["page-header"]],standalone:!0,features:[ri],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(i,o){1&i&&Ln(0,sY,17,4,"ng-container",0),2&i&&Yt("ngIf",o.controller.post_comments())},dependencies:[Qs,Ag,Ig,ms,Cl,cd,VE,vh,jE,_l,lo,Sm,Ha],changeDetection:0}),r})(),lY=(()=>{var t;class e{constructor(){this.data=null}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:1,vars:1,consts:[[3,"data"]],template:function(n,i){1&n&&Qn(0,"text-block",0),2&n&&Yt("data",null==i.data?null:i.data.body_html)},dependencies:[Db],changeDetection:0}),e})();function cY(t,e){1&t&&Qn(0,"mat-icon",3)}const uY=function(t){return["/u",t]};let dY=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-comment-header"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:7,vars:8,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"]],template:function(n,i){1&n&&(cn(0,"section",0)(1,"a",1),Br(2),dn(),cn(3,"span"),Br(4),fl(5,"age"),dn(),Ln(6,cY,1,0,"mat-icon",2),dn()),2&n&&(Jt(1),Yt("routerLink",pa(6,uY,i.data.author)),Jt(1),Ko("u/",i.data.author,""),Jt(2),Po(hl(5,4,i.data.created_utc)),Jt(2),Yt("ngIf",i.data.stickied))},dependencies:[oR,ms,Cl,lo,Ha],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0}),e})(),fY=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["post-comment"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:2,vars:2,consts:[[3,"data"]],template:function(n,i){1&n&&Qn(0,"post-comment-header",0)(1,"post-comment-body",0),2&n&&(Yt("data",i.data),Jt(1),Yt("data",i.data))},dependencies:[dY,lY],changeDetection:0}),e})();const hY=function(t){return{item:t,subreddit:"",hide_stickied:!1,show_comments:!1}};function pY(t,e){if(1&t&&Qn(0,"post",5),2&t){const r=Vn().ngIf;Yt("data",pa(1,hY,r.post))}}function mY(t,e){1&t&&Qn(0,"post-comment",7),2&t&&Yt("data",e.$implicit)}function gY(t,e){if(1&t&&(cn(0,"section",9),Ln(1,mY,1,1,"post-comment",10),dn()),2&t){const r=Vn().$implicit,n=Vn(2);Jt(1),Yt("ngForOf",r.children)("ngForTrackBy",n.trackByFn)}}function _Y(t,e){if(1&t&&(cn(0,"section",6),Qn(1,"post-comment",7),Ln(2,gY,2,2,"section",8),dn()),2&t){const r=e.$implicit;Jt(1),Yt("data",r),Jt(1),Yt("ngIf",r.children)}}function vY(t,e){if(1&t&&(cn(0,"div",2),Ln(1,pY,1,3,"post",3),Ln(2,_Y,3,2,"section",4),dn()),2&t){const r=e.ngIf,n=Vn();Jt(1),Yt("ngIf",r.post),Jt(1),Yt("ngForOf",r.items)("ngForTrackBy",n.trackByFn)}}let jM=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakSet,l=new WeakSet,c=new WeakSet,u=new WeakSet;class d{constructor(){var Et=this;Jr(this,u),Jr(this,c),Jr(this,l),Jr(this,o),In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),In(this,n,{writable:!0,value:void 0}),In(this,i,{writable:!0,value:void 0}),Tn(this,e,$t(Os)),Tn(this,r,$t(jo)),Tn(this,n,$t(ya)),Tn(this,i,{a:"",i:"",so:"best"}),this.controller=$t(VM),Ao(_t(this,e).handle(UM).pipe(oi(Dt=>Pr(this,o,T).call(this,Dt))),_t(this,e).handle(bh).pipe(oi(Dt=>Pr(this,l,B).call(this,Dt))),_t(this,n).paramMap.pipe(oi(function(){var Dt=pi(function*(wt){return yield Pr(Et,u,we).call(Et,wt)});return function(wt){return Dt.apply(this,arguments)}}()))).pipe(od()).subscribe()}trackByFn(Et,Dt){return Dt.id}}function T(Ue){_t(this,i).so=Ue.sort_requested,Pr(this,c,he).call(this,!0)}function B(Ue){_t(this,r).navigate(["r",Ue.subreddit_requested])}function he(Ue=!1){let Et=Object.trimUnusedProperties(_t(this,i));delete Et.a,_t(this,r).navigate(["comments",_t(this,i).a,Et],{replaceUrl:Ue})}function we(Ue){return Pe.apply(this,arguments)}function Pe(){return(Pe=pi(function*(Ue){try{_t(this,e).raise(xc),Tn(this,i,{a:"",i:"",so:"best"}),wa.fromParamMap(_t(this,i),Ue),yield this.controller.actions.listCommentAsync(_t(this,i).a,_t(this,i).so,_t(this,i).i),setTimeout(()=>window.scrollTo(0,0),100)}finally{_t(this,e).raise(Rc)}})).apply(this,arguments)}return(t=d).\u0275fac=function(Et){return new(Et||t)},t.\u0275cmp=gr({type:t,selectors:[["ng-component"]],standalone:!0,features:[ri],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"],[1,"mat-elevation-z5"],[3,"data"],["style","border-left: .25em var(--primary-color) solid;",4,"ngIf"],[2,"border-left",".25em var(--primary-color) solid"],[3,"data",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(Et,Dt){1&Et&&(Qn(0,"page-header")(1,"general-error",0),Ln(2,vY,3,3,"div",1)),2&Et&&(Jt(1),Yt("errors",Dt.controller.errors()),Jt(1),Yt("ngIf",Dt.controller.post_comments()))},dependencies:[$E,Qs,ms,_l,lo,fY,aY,FM],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0}),d})();const yY=function(t,e){return{item:t,subreddit:e,hide_stickied:!0,show_comments:!0}};function bY(t,e){if(1&t&&Qn(0,"post",6),2&t){const r=e.$implicit,n=Vn().ngIf;Yt("id",r.id)("data",ey(2,yY,r,n.subreddit))}}function EY(t,e){if(1&t){const r=ao();cn(0,"div",2),Ln(1,bY,1,5,"post",3),cn(2,"div",4)(3,"button",5),mr("click",function(){const o=mt(r).ngIf;return bt(Vn().next_page(o.after,o.modhash))}),Br(4,"Next"),dn()()()}if(2&t){const r=e.ngIf,n=Vn();Jt(1),Yt("ngForOf",r.items)("ngForTrackBy",n.trackByFn)}}let wY=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakSet,c=new WeakSet,u=new WeakSet,d=new WeakSet,T=new WeakSet,B=new WeakSet;class he{constructor(){var Gn=this;Jr(this,B),Jr(this,T),Jr(this,d),Jr(this,u),Jr(this,c),Jr(this,l),In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),In(this,n,{writable:!0,value:void 0}),In(this,i,{writable:!0,value:void 0}),In(this,o,{writable:!0,value:void 0}),Tn(this,e,$t(Os)),Tn(this,r,$t(jo)),Tn(this,n,$t(ya)),Tn(this,i,$t(qm)),Tn(this,o,{a:"",m:"",so:"hot",su:""}),this.controller=$t(Ng),this.id="",Ao(_t(this,e).handle(iR).pipe(oi(dr=>Pr(this,l,we).call(this))),_t(this,e).handle(PM).pipe(oi(dr=>Pr(this,c,Pe).call(this,dr))),_t(this,e).handle(bh).pipe(oi(dr=>Pr(this,u,Ue).call(this,dr))),_t(this,e).handle(LM).pipe(oi(dr=>Pr(this,d,Et).call(this,dr))),_t(this,n).paramMap.pipe(oi(function(){var dr=pi(function*(Kr){return yield Pr(Gn,B,wt).call(Gn,Kr)});return function(Kr){return dr.apply(this,arguments)}}()))).pipe(od()).subscribe()}trackByFn(Gn,dr){return`${dr.id}${dr.subreddit_subscribed}`}next_page(Gn,dr){_t(this,o).a=Gn,_t(this,o).m=dr,this.go_to_top(),setTimeout(()=>{_t(this,i).save(),Pr(this,T,Dt).call(this)},0)}go_to_top(){window.scrollTo(0,0)}}function we(){_t(this,o).a="",_t(this,o).m="",_t(this,o).so="hot",_t(this,o).su="frontpage",Pr(this,T,Dt).call(this)}function Pe(yn){_t(this,o).a="",_t(this,o).m="",_t(this,o).so=yn.sort_requested,Pr(this,T,Dt).call(this)}function Ue(yn){_t(this,o).a="",_t(this,o).m="",_t(this,o).su=yn.subreddit_requested,Pr(this,T,Dt).call(this)}function Et(yn){this.id=yn.article,_t(this,i).save("post",yn.article),_t(this,r).navigate(["comments",yn.article])}function Dt(){let yn=Object.trimUnusedProperties(_t(this,o));delete yn.su,_t(this,r).navigate(["r",_t(this,o).su,yn])}function wt(yn){return fn.apply(this,arguments)}function fn(){return(fn=pi(function*(yn){_t(this,e).raise(xc),Tn(this,o,{a:"",m:"",so:"hot",su:""}),wa.fromParamMap(_t(this,o),yn),yield this.controller.actions.listPostAsync(_t(this,o).a,_t(this,o).m,_t(this,o).so,_t(this,o).su),_t(this,i).restore(),_t(this,e).raise(Rc)})).apply(this,arguments)}return(t=he).\u0275fac=function(Gn){return new(Gn||t)},t.\u0275cmp=gr({type:t,selectors:[["ng-component"]],standalone:!0,features:[ri],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],[1,"mat-elevation-z5",3,"id","data"]],template:function(Gn,dr){1&Gn&&(Qn(0,"page-header")(1,"general-error",0),Ln(2,EY,5,2,"div",1)),2&Gn&&(Jt(1),Yt("errors",dr.controller.errors()),Jt(1),Yt("ngIf",dr.controller.posts()))},dependencies:[$E,Qs,Ag,ms,_l,lo,FM,Tq],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0}),he})(),TY=(()=>{var t,e=new WeakMap,r=new WeakSet;class n{constructor(){Jr(this,r),In(this,e,{writable:!0,value:'input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select'})}focusFirst(){window.setTimeout(()=>{const l=document.querySelectorAll(_t(this,e));0!==l.length&&l[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const l=Array.from(document.querySelectorAll(_t(this,e))).filter(c=>Pr(this,r,i).call(this,c));0!==l.length&&l[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const l=Array.from(document.querySelectorAll(_t(this,e)));if(0===l.length)return;let c=l.findIndex(u=>u===document.activeElement);for(c<0&&(c=0);c<l.length;){if(Pr(this,r,i).call(this,l[c]))return void l[c].focus();c++}},50)}}function i(o){return o instanceof HTMLInputElement||o instanceof HTMLSelectElement||o instanceof HTMLTextAreaElement?!o.disabled&&String.isNullOrWhitespace(o.value):"MAT-SELECT"===o.nodeName&&String.isNullOrWhitespace(o.innerText)}return(t=n).\u0275fac=function(l){return new(l||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),SY=(()=>{var t;class e{scrollIntoView(){window.setTimeout(()=>{let n=document.querySelector(".generalError");if(n)return void n.scrollIntoView({behavior:"smooth"});if(n=document.querySelector(".mat-form-field-invalid,.has-error"),!n)return;n.scrollIntoView({behavior:"smooth",block:"nearest"});const i=n.querySelector("input");if(i)return i.select(),void i.focus();const o=n.querySelector("select,mat-select");o&&o.focus()},50)}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),HM=(()=>{var t;class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Pa),yt(Nr))},t.\u0275dir=Fn({type:t}),e})(),Lc=(()=>{var t;class e extends HM{}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Xi(t)))(i||t)}}(),t.\u0275dir=Fn({type:t,features:[yr]}),e})();const Js=new ln("NgValueAccessor"),AY={provide:Js,useExisting:Ar(()=>kg),multi:!0},DY=new ln("CompositionEventMode");let kg=(()=>{var t;class e extends HM{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function IY(){const t=gl()?gl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Pa),yt(Nr),yt(DY,8))},t.\u0275dir=Fn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&mr("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[Qr([AY]),yr]}),e})();function Ml(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function zM(t){return null!=t&&"number"==typeof t.length}const To=new ln("NgValidators"),Nl=new ln("NgAsyncValidators"),xY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class RY{static min(e){return function GM(t){return e=>{if(Ml(e.value)||Ml(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function qM(t){return e=>{if(Ml(e.value)||Ml(t))return null;const r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return YM(e)}static requiredTrue(e){return function $M(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function WM(t){return Ml(t.value)||xY.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function KM(t){return e=>Ml(e.value)||!zM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function XM(t){return e=>zM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function QM(t){if(!t)return Lg;let e,r;return"string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),n=>{if(Ml(n.value))return null;const i=n.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return o1(e)}static composeAsync(e){return s1(e)}}function YM(t){return Ml(t.value)?{required:!0}:null}function Lg(t){return null}function JM(t){return null!=t}function e1(t){return _f(t)?xi(t):t}function t1(t){let e={};return t.forEach(r=>{e=null!=r?{...e,...r}:e}),0===Object.keys(e).length?null:e}function n1(t,e){return e.map(r=>r(t))}function r1(t){return t.map(e=>function MY(t){return!t.validate}(e)?e:r=>e.validate(r))}function o1(t){if(!t)return null;const e=t.filter(JM);return 0==e.length?null:function(r){return t1(n1(r,e))}}function KE(t){return null!=t?o1(r1(t)):null}function s1(t){if(!t)return null;const e=t.filter(JM);return 0==e.length?null:function(r){return Ux(n1(r,e).map(e1)).pipe(_e(t1))}}function XE(t){return null!=t?s1(r1(t)):null}function a1(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function l1(t){return t._rawValidators}function c1(t){return t._rawAsyncValidators}function QE(t){return t?Array.isArray(t)?t:[t]:[]}function Fg(t,e){return Array.isArray(t)?t.includes(e):t===e}function u1(t,e){const r=QE(e);return QE(t).forEach(i=>{Fg(r,i)||r.push(i)}),r}function d1(t,e){return QE(e).filter(r=>!Fg(t,r))}class f1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=XE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}class Ho extends f1{get formDirective(){return null}get path(){return null}}class Ya extends f1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class h1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let JE=(()=>{var t;class e extends h1{constructor(n){super(n)}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Ya,2))},t.\u0275dir=Fn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&Ti("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[yr]}),e})();const wh="VALID",Ug="INVALID",dd="PENDING",Th="DISABLED";function n0(t){return(Vg(t)?t.validators:t)||null}function r0(t,e){return(Vg(e)?e.asyncValidators:t)||null}function Vg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _1{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wh}get invalid(){return this.status===Ug}get pending(){return this.status==dd}get disabled(){return this.status===Th}get enabled(){return this.status!==Th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(u1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(u1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(d1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(d1(e,this._rawAsyncValidators))}hasValidator(e){return Fg(this._rawValidators,e)}hasAsyncValidator(e){return Fg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=dd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=Th,this.errors=null,this._forEachChild(n=>{n.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const r=this._parentMarkedDirty(e.onlySelf);this.status=wh,this._forEachChild(n=>{n.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wh||this.status===dd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Th:wh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=dd,this._hasOwnPendingAsyncValidator=!0;const r=e1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(!1!==r.emitEvent)}get(e){let r=e;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ii,this.statusChanges=new ii}_calculateStatus(){return this._allControlsDisabled()?Th:this.errors?Ug:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dd)?dd:this._anyControlsHaveStatus(Ug)?Ug:wh}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function LY(t){return Array.isArray(t)?KE(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function FY(t){return Array.isArray(t)?XE(t):t||null}(this._rawAsyncValidators)}}class o0 extends _1{constructor(e,r,n){super(n0(r),r0(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){(function g1(t,e,r){t._forEachChild((n,i)=>{if(void 0===r[i])throw new zt(1002,"")})})(this,0,e),Object.keys(e).forEach(n=>{(function m1(t,e,r){const n=t.controls;if(!(e?Object.keys(n):n).length)throw new zt(1e3,"");if(!n[r])throw new zt(1001,"")})(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){null!=e&&(Object.keys(e).forEach(n=>{const i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&e(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,o)=>{n=r(n,i,o)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const fd=new ln("CallSetDisabledState",{providedIn:"root",factory:()=>jg}),jg="always";function Sh(t,e,r=jg){s0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===r)&&e.valueAccessor.setDisabledState?.(t.disabled),function VY(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&v1(t,e)})}(t,e),function HY(t,e){const r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}(t,e),function jY(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&v1(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function UY(t,e){if(e.valueAccessor.setDisabledState){const r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}(t,e)}function Zg(t,e,r=!0){const n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Gg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function zg(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function s0(t,e){const r=l1(t);null!==e.validator?t.setValidators(a1(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const n=c1(t);null!==e.asyncValidator?t.setAsyncValidators(a1(n,e.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);const i=()=>t.updateValueAndValidity();zg(e._rawValidators,i),zg(e._rawAsyncValidators,i)}function Gg(t,e){let r=!1;if(null!==t){if(null!==e.validator){const i=l1(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==e.validator);o.length!==i.length&&(r=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=c1(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==e.asyncValidator);o.length!==i.length&&(r=!0,t.setAsyncValidators(o))}}}const n=()=>{};return zg(e._rawValidators,n),zg(e._rawAsyncValidators,n),r}function v1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function y1(t,e){s0(t,e)}function b1(t,e){t._syncPendingControls(),e.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}const YY={provide:Ho,useExisting:Ar(()=>qg)},Ch=(()=>Promise.resolve())();let qg=(()=>{var t;class e extends Ho{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ii,this.form=new o0({},KE(n),XE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ch.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Sh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ch.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ch.then(()=>{const i=this._findContainer(n.path),o=new o0({});y1(o,n),i.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ch.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Ch.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,b1(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(To,10),yt(Nl,10),yt(fd,8))},t.\u0275dir=Fn({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){1&n&&mr("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qr([YY]),yr]}),e})();function E1(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}function w1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const T1=class extends _1{constructor(e=null,r,n){super(n0(r),r0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vg(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=w1(e)?e.value:e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){E1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){E1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){w1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},KY={provide:Ya,useExisting:Ar(()=>Yg)},A1=(()=>Promise.resolve())();let Yg=(()=>{var t;class e extends Ya{constructor(n,i,o,l,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new T1,this._registered=!1,this.name="",this.update=new ii,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function c0(t,e){if(!e)return null;let r,n,i;return Array.isArray(e),e.forEach(o=>{o.constructor===kg?r=o:function GY(t){return Object.getPrototypeOf(t.constructor)===Lc}(o)?n=o:i=o}),i||n||r||null}(0,l)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function l0(t,e){if(!t.hasOwnProperty("model"))return!1;const r=t.model;return!!r.isFirstChange()||!Object.is(e,r.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){A1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,o=0!==i&&qu(i);A1.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Hg(t,e){return[...e.path,t]}(n,this._parent):[n]}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Ho,9),yt(To,10),yt(Nl,10),yt(Js,10),yt(Bo,8),yt(fd,8))},t.\u0275dir=Fn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qr([KY]),yr,Mo]}),e})(),D1=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({}),e})();const r$={provide:Ho,useExisting:Ar(()=>$g)};let $g=(()=>{var t;class e extends Ho{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ii,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return Sh(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){Zg(n.control||null,n,!1),function qY(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,b1(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,o=this.form.get(n.path);i!==o&&(Zg(i||null,n),(t=>t instanceof T1)(o)&&(Sh(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);y1(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function ZY(t,e){return Gg(t,e)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){s0(this.form,this),this._oldForm&&Gg(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(To,10),yt(Nl,10),yt(fd,8))},t.\u0275dir=Fn({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,i){1&n&&mr("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qr([r$]),yr,Mo]}),e})(),Fc=(()=>{var t;class e{constructor(){this._validator=Lg}ngOnChanges(n){if(this.inputName in n){const i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Lg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275dir=Fn({type:t,features:[Mo]}),e})();const m$={provide:To,useExisting:Ar(()=>Wg),multi:!0};let Wg=(()=>{var t;class e extends Fc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=qu,this.createValidator=n=>YM}enabled(n){return n}}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Xi(t)))(i||t)}}(),t.\u0275dir=Fn({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,i){2&n&&li("required",i._enabled?"":null)},inputs:{required:"required"},features:[Qr([m$]),yr]}),e})(),E$=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[D1]}),e})(),q1=(()=>{var t;class e{static withConfig(n){return{ngModule:e,providers:[{provide:fd,useValue:n.callSetDisabledState??jg}]}}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[E$]}),e})(),T$=(()=>{var t;class e{constructor(){this._listeners=[]}notify(n,i){for(let o of this._listeners)o(n,i)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(i=>n!==i)}}ngOnDestroy(){this._listeners=[]}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const S$=["input"],C$=["*"];let Y1=0;class $1{constructor(e,r){this.source=e,this.value=r}}const A$={provide:Js,useExisting:Ar(()=>K1),multi:!0},W1=new ln("MatRadioGroup"),I$=new ln("mat-radio-default-options",{providedIn:"root",factory:function D$(){return{color:"accent"}}});let x$=(()=>{var t;class e{get name(){return this._name}set name(n){this._name=n,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(n){this._labelPosition="before"===n?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(n){this._value!==n&&(this._value=n,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(n){this._selected=n,this.value=n?n.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(n){this._disabled=uo(n),this._markRadiosForCheck()}get required(){return this._required}set required(n){this._required=uo(n),this._markRadiosForCheck()}constructor(n){this._changeDetector=n,this._value=null,this._name="mat-radio-group-"+Y1++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new ii}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(n=>n===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(n=>{n.name=this.name,n._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new $1(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(n=>n._markForCheck())}writeValue(n){this.value=n,this._changeDetector.markForCheck()}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetector.markForCheck()}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Bo))},t.\u0275dir=Fn({type:t,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),e})();class R${constructor(e){this._elementRef=e}}const M$=zb(bZ(R$));let N$=(()=>{var t;class e extends M${get checked(){return this._checked}set checked(n){const i=uo(n);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(n){this._value!==n&&(this._value=n,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===n),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(n){this._labelPosition=n}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(n){this._setDisabled(uo(n))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(n){this._required=uo(n)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(n){this._color=n}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,i,o,l,c,u,d,T){super(i),this._changeDetector=o,this._focusMonitor=l,this._radioDispatcher=c,this._providerOverride=d,this._uniqueId="mat-radio-"+ ++Y1,this.id=this._uniqueId,this.change=new ii,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=n,this._noopAnimations="NoopAnimations"===u,T&&(this.tabIndex=Cc(T,0))}focus(n,i){i?this._focusMonitor.focusVia(this._inputElement,i,n):this._inputElement.nativeElement.focus(n)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((n,i)=>{n!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{!n&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new $1(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(n){n.stopPropagation()}_onInputInteraction(n){if(n.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(n){this._onInputInteraction(n),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(n){this._disabled!==n&&(this._disabled=n,this._changeDetector.markForCheck())}_updateTabIndex(){const n=this.radioGroup;let i;if(i=n&&n.selected&&!this.disabled?n.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return(t=e).\u0275fac=function(n){Fp()},t.\u0275dir=Fn({type:t,viewQuery:function(n,i){if(1&n&&Lo(S$,5),2&n){let o;ci(o=ui())&&(i._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[yr]}),e})(),K1=(()=>{var t;class e extends x${}return(t=e).\u0275fac=function(){let r;return function(i){return(r||(r=Xi(t)))(i||t)}}(),t.\u0275dir=Fn({type:t,selectors:[["mat-radio-group"]],contentQueries:function(n,i,o){if(1&n&&Qo(o,X1,5),2&n){let l;ci(l=ui())&&(i._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[Qr([A$,{provide:W1,useExisting:t}]),yr]}),e})(),X1=(()=>{var t;class e extends N${constructor(n,i,o,l,c,u,d,T){super(n,i,o,l,c,u,d,T)}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(W1,8),yt(Nr),yt(Bo),yt(nh),yt(T$),yt(Ds,8),yt(I$,8),ac("tabindex"))},t.\u0275cmp=gr({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(n,i){1&n&&mr("focus",function(){return i._inputElement.nativeElement.focus()}),2&n&&(li("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ti("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[yr],ngContentSelectors:C$,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,i){if(1&n&&(da(),cn(0,"div",0,1)(2,"div",2)(3,"div",3),mr("click",function(l){return i._onTouchTargetClick(l)}),dn(),cn(4,"input",4,5),mr("change",function(l){return i._onInputInteraction(l)}),dn(),cn(6,"div",6),Qn(7,"div",7)(8,"div",8),dn(),cn(9,"div",9),Qn(10,"div",10),dn()(),cn(11,"label",11),Mi(12),dn()()),2&n){const o=Hi(1);Ti("mdc-form-field--align-end","before"==i.labelPosition),Jt(2),Ti("mdc-radio--disabled",i.disabled),Jt(2),Yt("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),li("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),Jt(5),Yt("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),Jt(2),Yt("for",i.inputId)}},dependencies:[Gb],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),e})(),O$=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[to,Nf,sh,to]}),e})();function P$(t){as(this.request)!=t&&this.update_state({request:t,search_result_reddit:null,search_result_reddit_names:null})}function k$(t){as(this.search_kind)!=t&&this.update_state({search_kind:t})}function L$(){return p0.apply(this,arguments)}function p0(){return(p0=pi(function*(){const t=as(this.request);try{const e=yield F$.call(this,t);this.update_state({request:t,search_result_reddit:e})}catch(e){this.update_state({errors:e})}})).apply(this,arguments)}function F$(t){return m0.apply(this,arguments)}function m0(){return(m0=pi(function*(t){const n=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${t} site:reddit.com -wiki`)}&num=40`,i=yield fetch(n);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const d=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:d})}else l.innerHTML=this.domSanitizer.sanitize(ji.HTML,o);const c=[],u=l.querySelectorAll('a[href*="reddit.com/r/"]');for(let d=0;d<u.length;d++){const T=u[d];if(!T.hasChildNodes()||!Array.from(T.childNodes).some(fn=>fn.textContent?.includes("reddit.com")))continue;const B=T.href.indexOf("reddit.com/r/")+13,he=T.href.indexOf("?",B);let we=T.href.slice(B,he);if(we.endsWith("/")&&(we=we.slice(0,-1)),null!=c.find(fn=>fn.url==we))continue;const Ue=T.href.indexOf("/",B),Et=T.href.slice(B,Ue),Dt=T.childNodes.length-1,wt=T.childNodes[Dt].textContent?.split(" : r/")[0]||"";c.push({text:wt,display_name:Et,url:we})}return c})).apply(this,arguments)}function B$(){return g0.apply(this,arguments)}function g0(){return(g0=pi(function*(){const t=as(this.request);try{const r=(yield U$.call(this,t)).filter(n=>null!=n).map(n=>({accounts_active:0,display_name:n,public_description_html:"",subscribers:0,title:"",url:"",id:""}));this.update_state({request:t,search_result_reddit_names:r})}catch(e){this.update_state({errors:e})}})).apply(this,arguments)}function U$(t){return _0.apply(this,arguments)}function _0(){return(_0=pi(function*(t){const e=[V$.call(this,t),j$.call(this,t)],n=(yield Promise.allSettled(e)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(n)]})).apply(this,arguments)}function V$(t){return v0.apply(this,arguments)}function v0(){return(v0=pi(function*(t){const e=new URLSearchParams;e.set("query",t),e.set("exact","false"),e.set("include_over_18","true"),e.set("typeahead_active","false"),e.set("include_unadvertisable","true");const r=new URL("https://www.reddit.com/api/search_reddit_names.json");r.search=`${e}`;try{const n=yield fetch(r);return n.ok?(yield n.json()).names:null}catch{return null}})).apply(this,arguments)}function j$(t){return y0.apply(this,arguments)}function y0(){return(y0=pi(function*(t){const n=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${t} site:reddit.com -comments -wiki`)}&num=60`,i=yield fetch(n);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const u=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:u})}else l.innerHTML=this.domSanitizer.sanitize(ji.HTML,o);const c=[];return l.querySelectorAll('a[href*="reddit.com/r/"]').forEach(u=>{const d=u,T=d.href.indexOf("reddit.com/r/")+13,B=d.href.indexOf("/",T),he=decodeURIComponent(d.href.slice(T,B));he.includes("+")?he.split("+").forEach(we=>!c.includes(we)&&c.push(we)):!c.includes(he)&&c.push(he)}),c})).apply(this,arguments)}function H$(){return E0.apply(this,arguments)}function E0(){return(E0=pi(function*(){const t=as(this.request);if(String.isNullOrWhitespace(t))return;const e=as(this.search_kind);"Reddit"!=e?"RedditNames"!=e||null==as(this.search_result_reddit_names)&&(yield B$.call(this)):null==as(this.search_result_reddit)&&(yield L$.call(this))})).apply(this,arguments)}let Ah=(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap;class i{constructor(){In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),In(this,n,{writable:!0,value:void 0}),this.domSanitizer=$t(Ws),Tn(this,e,new ZE),Tn(this,r,new zE),Tn(this,n,{errors:Ss({}),request:Ss(""),search_kind:Ss("RedditNames"),search_result_reddit_names:Ss(null),search_result_reddit:Ss(null)}),this.errors=Ts(()=>Object.freeze(structuredClone(_t(this,n).errors()))),this.request=Ts(()=>_t(this,n).request()),this.search_kind=Ts(()=>_t(this,n).search_kind()),this.search_result_reddit_names=Ts(()=>_t(this,n).search_result_reddit_names()),this.search_result_reddit=Ts(()=>_t(this,n).search_result_reddit()),this.actions={updateSearchKind:k$.bind(this),updateRequest:P$.bind(this),searchAsync:H$.bind(this)}}update_state(l){void 0!==l.errors&&_t(this,n).errors.set(l.errors||{}),void 0!==l.request&&_t(this,n).request.set(l.request||""),void 0!==l.search_kind&&_t(this,n).search_kind.set(l.search_kind||"RedditNames"),void 0!==l.search_result_reddit&&_t(this,n).search_result_reddit.set(l.search_result_reddit),void 0!==l.search_result_reddit_names&&_t(this,n).search_result_reddit_names.set(l.search_result_reddit_names)}}return(t=i).\u0275fac=function(l){return new(l||t)},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),i})(),Z$=(()=>{var t,e=new WeakMap;class r{constructor(){In(this,e,{writable:!0,value:void 0}),Tn(this,e,$t(Os)),this.store=$t(Ah)}onSearchKindChangeAsync(i){var o=this;return pi(function*(){_t(o,e).raise(xc),o.store.actions.updateSearchKind(i.value),yield o.store.actions.searchAsync(),_t(o,e).raise(Rc)})()}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["page-header"]],standalone:!0,features:[ri],decls:14,vars:2,consts:[[1,"toolbar"],[3,"ngModel","change"],["value","RedditNames"],["value","Reddit"],["type","button","mat-icon-button","","aria-label","menu",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"]],template:function(i,o){if(1&i&&(cn(0,"div",0),Br(1," Search "),cn(2,"mat-radio-group",1),mr("change",function(c){return o.onSearchKindChangeAsync(c)}),cn(3,"mat-radio-button",2),Br(4,"Reddit Names"),dn(),cn(5,"mat-radio-button",3),Br(6,"Reddit"),dn()(),cn(7,"button",4),Qn(8,"mat-icon",5),dn()(),cn(9,"mat-menu",6,7),Qn(11,"mat-icon",8)(12,"mat-icon",9)(13,"mat-icon",10),dn()),2&i){const l=Hi(10);Jt(2),Yt("ngModel",o.store.search_kind()),Jt(5),Yt("matMenuTriggerFor",l)}},dependencies:[q1,JE,Yg,Qs,Ig,ms,Cl,cd,VE,jE,O$,K1,X1,Ha],changeDetection:0}),r})();const Q1=Tc({passive:!0});let z$=(()=>{var t;class e{constructor(n,i){this._platform=n,this._ngZone=i,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Pn;const i=wl(n),o=this._monitoredElements.get(i);if(o)return o.subject;const l=new ut,c="cdk-text-field-autofilled",u=d=>{"cdk-text-field-autofill-start"!==d.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===d.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>l.next({target:d.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>l.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,Q1),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",u,Q1)}}),l}stopMonitoring(n){const i=wl(n),o=this._monitoredElements.get(i);o&&(o.unlisten(),o.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((n,i)=>this.stopMonitoring(i))}}return(t=e).\u0275fac=function(n){return new(n||t)(Wt(eo),Wt(lr))},t.\u0275prov=gn({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),G$=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({}),e})();const q$=new ln("MAT_INPUT_VALUE_ACCESSOR"),Y$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let $$=0;const W$=EZ(class{constructor(t,e,r,n){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=r,this.ngControl=n,this.stateChanges=new ut}});let K$=(()=>{var t;class e extends W${get disabled(){return this._disabled}set disabled(n){this._disabled=uo(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(RY.required)??!1}set required(n){this._required=uo(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&cx().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=uo(n)}constructor(n,i,o,l,c,u,d,T,B,he){super(u,l,c,o),this._elementRef=n,this._platform=i,this._autofillMonitor=T,this._formField=he,this._uid="mat-input-"+$$++,this.focused=!1,this.stateChanges=new ut,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ue=>cx().has(Ue)),this._iOSKeyupListener=Ue=>{const Et=Ue.target;!Et.value&&0===Et.selectionStart&&0===Et.selectionEnd&&(Et.setSelectionRange(1,1),Et.setSelectionRange(0,0))};const we=this._elementRef.nativeElement,Pe=we.nodeName.toLowerCase();this._inputValueAccessor=d||we,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&B.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Pe,this._isTextarea="textarea"===Pe,this._isInFormField=!!he,this._isNativeSelect&&(this.controlType=we.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){const n=this._getPlaceholder();if(n!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Y$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,i=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Nr),yt(eo),yt(Ya,10),yt(qg,8),yt($g,8),yt(xx),yt(q$,10),yt(z$),yt(lr),yt(rM,8))},t.\u0275dir=Fn({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,i){1&n&&mr("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&n&&(yf("id",i.id)("disabled",i.disabled)("required",i.required),li("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Ti("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Qr([{provide:nM,useExisting:t}]),yr,Mo]}),e})(),X$=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({imports:[to,OE,OE,G$,to]}),e})();const Q$=["tooltip"],J1=new ln("mat-tooltip-scroll-strategy"),t9={provide:J1,deps:[ld],useFactory:function e9(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},r9=new ln("mat-tooltip-default-options",{providedIn:"root",factory:function n9(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),eN="tooltip-panel",tN=Tc({passive:!0});let c9=(()=>{var t;class e{get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=uo(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){this._disabled=uo(n),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=Cc(n)}get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=Cc(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(n){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=n?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(n,i,o,l,c,u,d,T,B,he,we,Pe){this._overlay=n,this._elementRef=i,this._scrollDispatcher=o,this._viewContainerRef=l,this._ngZone=c,this._platform=u,this._ariaDescriber=d,this._focusMonitor=T,this._dir=he,this._defaultOptions=we,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ut,this._scrollStrategy=B,this._document=Pe,we&&(this._showDelay=we.showDelay,this._hideDelay=we.hideDelay,we.position&&(this.position=we.position),we.positionAtOrigin&&(this.positionAtOrigin=we.positionAtOrigin),we.touchGestures&&(this.touchGestures=we.touchGestures)),he.change.pipe(zi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(zi(this._destroyed)).subscribe(n=>{n?"keyboard"===n&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const n=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{n.removeEventListener(i,o,tN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const o=this._createOverlay(i);this._detach(),this._portal=this._portal||new hM(this._tooltipComponent,this._viewContainerRef);const l=this._tooltipInstance=o.attach(this._portal).instance;l._triggerElement=this._elementRef.nativeElement,l._mouseLeaveHideDelay=this._hideDelay,l.afterHidden().pipe(zi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),l.show(n)}hide(n=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(n):(i._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){const l=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&l._origin instanceof Nr)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&n||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(zi(this._destroyed)).subscribe(l=>{this._updateCurrentPositionClass(l.connectionPair),this._tooltipInstance&&l.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${eN}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(zi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(zi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(zi(this._destroyed)).subscribe(l=>{this._isTooltipVisible()&&27===l.keyCode&&!Pb(l)&&(l.preventDefault(),l.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){const i=n.getConfig().positionStrategy,o=this._getOrigin(),l=this._getOverlayPosition();i.withPositions([this._addOffset({...o.main,...l.main}),this._addOffset({...o.fallback,...l.fallback})])}_addOffset(n){return n}_getOrigin(){const n=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i||"below"==i?o={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&n||"right"==i&&!n?o={originX:"start",originY:"center"}:("after"==i||"right"==i&&n||"left"==i&&!n)&&(o={originX:"end",originY:"center"});const{x:l,y:c}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:l,originY:c}}}_getOverlayPosition(){const n=!this._dir||"ltr"==this._dir.value,i=this.position;let o;"above"==i?o={overlayX:"center",overlayY:"bottom"}:"below"==i?o={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&n||"right"==i&&!n?o={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&n||"left"==i&&!n)&&(o={overlayX:"start",overlayY:"center"});const{x:l,y:c}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:l,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Vo(1),zi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===n?n="start":"start"===n&&(n="end"),{x:n,y:i}}_updateCurrentPositionClass(n){const{overlayY:i,originX:o,originY:l}=n;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===o?"left":"right":"start"===o?"left":"right":"bottom"===i&&"top"===l?"above":"below",c!==this._currentPosition){const u=this._overlayRef;if(u){const d=`${this._cssClassPrefix}-${eN}-`;u.removePanelClass(d+this._currentPosition),u.addPanelClass(d+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==n.x&&void 0!==n.y&&(i=n),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{const i=n.targetTouches?.[0],o=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,o),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",i=>{const o=i.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,tN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(n.clientX,n.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const n=this.touchGestures;if("off"!==n){const i=this._elementRef.nativeElement,o=i.style;("on"===n||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===n||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return(t=e).\u0275fac=function(n){Fp()},t.\u0275dir=Fn({type:t,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),e})(),u9=(()=>{var t;class e extends c9{constructor(n,i,o,l,c,u,d,T,B,he,we,Pe){super(n,i,o,l,c,u,d,T,B,he,we,Pe),this._tooltipComponent=f9,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(n){const o=!this._dir||"ltr"==this._dir.value;return"top"===n.originY?n.offsetY=-8:"bottom"===n.originY?n.offsetY=8:"start"===n.originX?n.offsetX=o?-8:8:"end"===n.originX&&(n.offsetX=o?8:-8),n}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(ld),yt(Nr),yt(_M),yt(hs),yt(lr),yt(eo),yt(eZ),yt(nh),yt(J1),yt(eg,8),yt(r9,8),yt(Dr))},t.\u0275dir=Fn({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,i){2&n&&Ti("mat-mdc-tooltip-disabled",i.disabled)},exportAs:["matTooltip"],features:[yr]}),e})(),d9=(()=>{var t;class e{constructor(n,i){this._changeDetectorRef=n,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ut,this._animationsDisabled="NoopAnimations"===i}show(n){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){const i=this._tooltip.nativeElement,o=this._showAnimation,l=this._hideAnimation;if(i.classList.remove(n?l:o),i.classList.add(n?o:l),this._isVisible=n,n&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Bo),yt(Ds,8))},t.\u0275dir=Fn({type:t}),e})(),f9=(()=>{var t;class e extends d9{constructor(n,i,o){super(n,o),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>24&&n.width>=200}}return(t=e).\u0275fac=function(n){return new(n||t)(yt(Bo),yt(Nr),yt(Ds,8))},t.\u0275cmp=gr({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(n,i){if(1&n&&Lo(Q$,7),2&n){let o;ci(o=ui())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,i){1&n&&mr("mouseleave",function(l){return i._handleMouseLeave(l)}),2&n&&Vu("zoom",i.isVisible()?1:null)},features:[yr],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,i){1&n&&(cn(0,"div",0,1),mr("animationend",function(l){return i._handleAnimationEnd(l)}),cn(2,"div",2),Br(3),dn()()),2&n&&(Ti("mdc-tooltip--multiline",i._isMultiline),Yt("ngClass",i.tooltipClass),Jt(3),Po(i.message))},dependencies:[$u],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),e})(),h9=(()=>{var t;class e{}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275mod=ni({type:t}),t.\u0275inj=jr({providers:[t9],imports:[hZ,Nf,RM,to,to,Rg]}),e})();class p9{static debounce(e,r=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e(...o),r)}}}function m9(t,e){if(1&t){const r=ao();cn(0,"mat-icon",7),mr("click",function(){return mt(r),bt(Vn().onClear())}),dn()}}function g9(t,e){if(1&t&&(cn(0,"mat-hint",8),Br(1),dn()),2&t){const r=Vn();Jt(1),Po(r.hint)}}function _9(t,e){if(1&t&&(cn(0,"mat-hint",9),Br(1),dn()),2&t){const r=Vn(),n=Hi(4);Jt(1),Kp("",n.value.length," / ",r._maxlength," ")}}function v9(t,e){if(1&t&&(cn(0,"mat-error"),Br(1),dn()),2&t){const r=Vn();Jt(1),Po(r.errMsg)}}const y9=function(t){return{readonly:t}};let b9=(()=>{var t,e=new WeakMap,r=new WeakSet;class n{set model(l){this._model=l??""}set maxlength(l){!isNaN(l)&&l>0&&(this._maxlength=l)}set style(l){this._style=this.sanitizer.bypassSecurityTrustStyle(l)}constructor(l,c){Jr(this,r),In(this,e,{writable:!0,value:void 0}),this.sanitizer=l,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.updateOnInput=!1,this._model="",this._maxlength=256,this.inputName=c.getUniqueId().toString(),this.modelChange=new ii,this.errorStateMatcher=new xx,this.errorStateMatcher.isErrorState=()=>!this.disabled&&!this.readonly&&String.hasData(this.errMsg),Tn(this,e,p9.debounce(()=>Pr(this,r,i).call(this)))}onClear(){this._model="",Pr(this,r,i).call(this)}onChange(){!this.updateOnInput&&Pr(this,r,i).call(this)}onInput(){this.updateOnInput&&_t(this,e).call(this)}}function i(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}return(t=n).\u0275fac=function(l){return new(l||t)(yt(Ws),yt(HE))},t.\u0275cmp=gr({type:t,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",updateOnInput:"updateOnInput",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[ri],decls:9,vars:17,consts:[[2,"width","100%",3,"ngClass"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","input"],["inp",""],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start",4,"ngIf"],["align","end",4,"ngIf"],[4,"ngIf"],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click"],["align","start"],["align","end"]],template:function(l,c){1&l&&(cn(0,"mat-form-field",0)(1,"mat-label"),Br(2),dn(),cn(3,"input",1,2),mr("ngModelChange",function(d){return c._model=d})("change",function(){return c.onChange()})("input",function(){return c.onInput()}),dn(),Ln(5,m9,1,0,"mat-icon",3),Ln(6,g9,2,1,"mat-hint",4),Ln(7,_9,2,2,"mat-hint",5),Ln(8,v9,2,1,"mat-error",6),dn()),2&l&&(Yt("ngClass",pa(15,y9,c.readonly)),Jt(2),Po(c.label),Jt(1),Yt("placeholder",c.placeholder)("readonly",c.readonly)("disabled",c.disabled)("required",c.required)("ngModel",c._model)("errorStateMatcher",c.errorStateMatcher),li("name",c.inputName)("maxlength",c._maxlength)("style",c._style,Kw),Jt(2),Yt("ngIf",!c.readonly&&!c.disabled),Jt(1),Yt("ngIf",!c.readonly&&!c.disabled),Jt(1),Yt("ngIf",!c.readonly&&!c.disabled&&c._maxlength),Jt(1),Yt("ngIf",!c.readonly&&!c.disabled))},dependencies:[q1,kg,JE,Wg,Yg,ms,Cl,OE,eG,ME,NE,q6,W6,X$,K$,h9,u9,$u,lo],encapsulation:2}),n})(),E9=(()=>{var t,e=new WeakMap;class r{constructor(){In(this,e,{writable:!0,value:void 0}),Tn(this,e,$t(Os)),this.store=$t(Ah)}ngOnInit(){}onModelChange(i){var o=this;return pi(function*(){_t(o,e).raise(xc),o.store.actions.updateRequest(i),yield o.store.actions.searchAsync(),_t(o,e).raise(Rc)})()}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["search-input"]],standalone:!0,features:[ri],decls:3,vars:1,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10","top","50px"],[3,"model","modelChange"],["inp",""]],template:function(i,o){1&i&&(cn(0,"div",0)(1,"input-text",1,2),mr("modelChange",function(c){return o.onModelChange(c)}),dn()()),2&i&&(Jt(1),Yt("model",o.store.request()))},dependencies:[b9,Qs,ms,cd,Og],changeDetection:0}),r})(),w9=(()=>{var t,e=new WeakMap,r=new WeakMap;class n{constructor(){In(this,e,{writable:!0,value:$t(ya)}),In(this,r,{writable:!0,value:$t(jo)})}on_click(o,l){o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),_t(this,r).navigate(["/r"].concat(l.url.split("/")),{relativeTo:_t(this,e)})}}return(t=n).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=gr({type:t,selectors:[["search-result-reddit"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:4,vars:3,consts:[[3,"href","click"],[3,"data"]],template:function(o,l){1&o&&(cn(0,"header")(1,"a",0),mr("click",function(u){return l.on_click(u,l.data)}),Br(2),dn()(),Qn(3,"text-block",1)),2&o&&(Jt(1),Yt("href","/r"+l.data.display_name,uc),Jt(1),Po(l.data.display_name),Jt(1),Yt("data",l.data.text))},dependencies:[Qs,ms,Db],changeDetection:0}),n})(),T9=(()=>{var t,e=new WeakMap;class r{constructor(){In(this,e,{writable:!0,value:void 0}),Tn(this,e,$t(Os)),this.store=$t(Ah)}change_subreddit(i,o){i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),_t(this,e).raise(new bh(o))}}return(t=r).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=gr({type:t,selectors:[["search-result-reddit-names"]],inputs:{data:"data"},standalone:!0,features:[ri],decls:3,vars:2,consts:[[3,"href","click"]],template:function(i,o){1&i&&(cn(0,"header")(1,"a",0),mr("click",function(c){return o.change_subreddit(c,o.data.display_name)}),Br(2),dn()()),2&i&&(Jt(1),Yt("href","/r"+o.data.display_name,uc),Jt(1),Po(o.data.display_name))},dependencies:[Qs,ms],changeDetection:0}),r})();function S9(t,e){if(1&t&&Qn(0,"search-result-reddit-names",4),2&t){const r=e.$implicit;Yt("id",r.display_name)("data",r)}}function C9(t,e){if(1&t&&(cn(0,"div",2),Ln(1,S9,1,2,"search-result-reddit-names",3),dn()),2&t){const r=e.ngIf,n=Vn(2);Jt(1),Yt("ngForOf",r)("ngForTrackBy",n.trackByFn)}}function A9(t,e){if(1&t&&(Fa(0),Ln(1,C9,2,2,"div",1),Ba()),2&t){const r=Vn();Jt(1),Yt("ngIf",r.store.search_result_reddit_names())}}function I9(t,e){if(1&t&&Qn(0,"search-result-reddit",6),2&t){const r=e.$implicit;Yt("id",r.display_name)("data",r)}}function D9(t,e){if(1&t&&(cn(0,"div",2),Ln(1,I9,1,2,"search-result-reddit",5),dn()),2&t){const r=e.ngIf,n=Vn(2);Jt(1),Yt("ngForOf",r)("ngForTrackBy",n.trackByFn)}}function x9(t,e){if(1&t&&(Fa(0),Ln(1,D9,2,2,"div",1),Ba()),2&t){const r=Vn();Jt(1),Yt("ngIf",r.store.search_result_reddit())}}let R9=(()=>{var t;class e{constructor(){this.store=$t(Ah)}trackByFn(n,i){return i.display_name}}return(t=e).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=gr({type:t,selectors:[["search-result"]],standalone:!0,features:[ri],decls:2,vars:2,consts:[[4,"ngIf"],["class","layout",4,"ngIf"],[1,"layout"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","data"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(n,i){1&n&&(Ln(0,A9,2,1,"ng-container",0),Ln(1,x9,2,1,"ng-container",0)),2&n&&(Yt("ngIf","RedditNames"===i.store.search_kind()),Jt(1),Yt("ngIf","Reddit"===i.store.search_kind()))},dependencies:[_l,lo,w9,T9],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0}),e})();class M9{constructor(){this.q="",this.k=0}}const N9=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:wY},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a",component:jM},{path:"comments/:a/:i",component:jM},{path:"s",component:(()=>{var t,e=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakSet,d=new WeakSet,T=new WeakSet,B=new WeakSet;class he{constructor(){Jr(this,B),Jr(this,T),Jr(this,d),Jr(this,u),In(this,e,{writable:!0,value:void 0}),In(this,r,{writable:!0,value:void 0}),In(this,n,{writable:!0,value:void 0}),In(this,i,{writable:!0,value:void 0}),In(this,o,{writable:!0,value:void 0}),In(this,l,{writable:!0,value:void 0}),In(this,c,{writable:!0,value:void 0}),Tn(this,e,$t(TY)),Tn(this,r,$t(SY)),Tn(this,n,$t(Os)),Tn(this,i,!0),Tn(this,o,$t(ya)),Tn(this,l,$t(jo)),Tn(this,c,$t(qm)),this.pageState=new M9,this.store=$t(Ah),Nv(()=>{const wt=this.store.errors();Object.keys(wt).length>0&&_t(this,r).scrollIntoView()}),Nv(()=>{const wt=this.store.request(),fn=this.store.search_kind();_t(this,i)?Tn(this,i,!1):(Pr(this,T,Ue).call(this,wt,fn),Pr(this,B,Et).call(this))}),Ao(_t(this,n).handle(bh).pipe(oi(wt=>Pr(this,u,we).call(this,wt)))).pipe(od()).subscribe()}ngOnInit(){var wt=this;return pi(function*(){_t(wt,n).raise(xc),wa.adapt(wt.pageState,_t(wt,o).snapshot.queryParams),Pr(wt,d,Pe).call(wt),yield wt.store.actions.searchAsync(),_t(wt,c).restore(),_t(wt,e).focusFirst(),_t(wt,n).raise(Rc)})()}}function we(Dt){_t(this,c).save(),_t(this,l).navigate(["r",Dt.subreddit_requested])}function Pe(){this.store.actions.updateRequest(this.pageState.q),this.store.actions.updateSearchKind(1==this.pageState.k?"Reddit":"RedditNames")}function Ue(Dt,wt){this.pageState.k="Reddit"===wt?1:0,this.pageState.q=Dt}function Et(){const Dt=Object.trimUnusedProperties(Object.assign({},this.pageState));_t(this,l).navigate([],{queryParams:Dt,replaceUrl:!0})}return(t=he).\u0275fac=function(wt){return new(wt||t)},t.\u0275cmp=gr({type:t,selectors:[["ng-component"]],standalone:!0,features:[ri],decls:4,vars:1,consts:[[3,"errors"]],template:function(wt,fn){1&wt&&Qn(0,"page-header")(1,"general-error",0)(2,"search-input")(3,"search-result"),2&wt&&(Jt(1),Yt("errors",fn.store.errors()))},dependencies:[$E,Qs,E9,Z$,R9],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0}),he})()}];(function M3(t,e){return ZB({rootComponent:t,...qI(e)})})(p8,{providers:[[{provide:DA,useFactory:function h6(t,e){return pi(function*(){const n=[{name:"arrow_downward",url:"assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"arrow_upward",url:"assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"clear",url:"assets/cancel_FILL0_wght400_GRAD0_opsz24.svg"},{name:"comment",url:"assets/comment_FILL0_wght400_GRAD0_opsz24.svg"},{name:"expand_more",url:"assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg"},{name:"favorite_filled",url:"assets/favorite_FILL1_wght400_GRAD0_opsz24.svg"},{name:"favorite",url:"assets/favorite_FILL0_wght400_GRAD0_opsz24.svg"},{name:"groups",url:"assets/groups_FILL0_wght400_GRAD0_opsz24.svg"},{name:"home",url:"assets/home_FILL0_wght400_GRAD0_opsz24.svg"},{name:"more_vert",url:"assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg"},{name:"pause",url:"assets/pause_FILL0_wght400_GRAD0_opsz24.svg"},{name:"person",url:"assets/person_FILL0_wght400_GRAD0_opsz24.svg"},{name:"photo_library",url:"assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg"},{name:"play_arrow",url:"assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg"},{name:"push_pin",url:"assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg"},{name:"search",url:"assets/search_FILL0_wght400_GRAD0_opsz24.svg"},{name:"share",url:"assets/share_FILL0_wght400_GRAD0_opsz24.svg"},{name:"trending_up",url:"assets/trending_up_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_mute",url:"assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_off",url:"assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"}].map(i=>function p6(t){return RE.apply(this,arguments)}(i.url).then(o=>t.addSvgIconLiteral(i.name,e.bypassSecurityTrustHtml(o))));yield Promise.allSettled(n)})},multi:!0,deps:[uh,Ws]}],[{provide:tE,useValue:{keyPrefix:"RedditReader"}}],[{provide:iM,useValue:{subscriptSizing:"dynamic"}},{provide:iG,useValue:{duration:3e3}}],function f6(){return[...u6]}(),function a4(t,...e){return tv([{provide:zm,multi:!0,useValue:t},[],{provide:ya,useFactory:nx,deps:[jo]},{provide:Ty,multi:!0,useFactory:rx},e.map(r=>r.\u0275providers)])}(N9)]}).catch(t=>console.error(t))},584:$a=>{self,$a.exports=(()=>{var Wa={4593:(At,Ze)=>{var F,ye,P,f,h,g={};F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=function(C){for(var M=0,p=[],y=0|C.length/3;0<y--;){var w=(C[M]<<16)+(C[M+1]<<8)+C[M+2];M+=3,p.push(F.charAt(63&w>>18)),p.push(F.charAt(63&w>>12)),p.push(F.charAt(63&w>>6)),p.push(F.charAt(63&w))}return C.length-M==2?(p.push(F.charAt(63&(w=(C[M]<<16)+(C[M+1]<<8))>>18)),p.push(F.charAt(63&w>>12)),p.push(F.charAt(63&w>>6)),p.push("=")):C.length-M==1&&(p.push(F.charAt(63&(w=C[M]<<16)>>18)),p.push(F.charAt(63&w>>12)),p.push("==")),p.join("")},P=function(){for(var C=[],M=0;M<64;++M)C[F.charCodeAt(M)]=M;return C["=".charCodeAt(0)]=0,C}(),f=function(C){for(var M=0,p=[],y=0|C.length/4;0<y--;){var w=(P[C.charCodeAt(M)]<<18)+(P[C.charCodeAt(M+1)]<<12)+(P[C.charCodeAt(M+2)]<<6)+P[C.charCodeAt(M+3)];p.push(255&w>>16),p.push(255&w>>8),p.push(255&w),M+=4}return p&&("="==C.charAt(M-2)?(p.pop(),p.pop()):"="==C.charAt(M-1)&&p.pop()),p},h={encode:function(C){for(var M=[],p=0;p<C.length;++p)M.push(C.charCodeAt(p));return M},decode:function(C){for(var M=0;M<s.length;++M)a[M]=String.fromCharCode(a[M]);return a.join("")}},g.decodeArray=function(C){var M=f(C);return new Uint8Array(M)},g.encodeASCII=function(C){var M=h.encode(C);return ye(M)},g.decodeASCII=function(C){var M=f(C);return h.decode(M)},g.encode=function(C){var M=function(C){for(var M=[],p=0;p<C.length;++p){var y=C.charCodeAt(p);y<128?M.push(y):y<2048?(M.push(192|y>>6),M.push(128|63&y)):y<65536?(M.push(224|y>>12),M.push(128|63&y>>6),M.push(128|63&y)):(M.push(240|y>>18),M.push(128|63&y>>12),M.push(128|63&y>>6),M.push(128|63&y))}return M}(C);return ye(M)},g.decode=function(C){return function(C){for(var M=[],p=0;p<C.length;){var y=C[p++];y<128||(y<224?(y=(31&y)<<6,y|=63&C[p++]):y<240?(y=(15&y)<<12,y|=(63&C[p++])<<6,y|=63&C[p++]):(y=(7&y)<<18,y|=(63&C[p++])<<12,y|=(63&C[p++])<<6,y|=63&C[p++])),M.push(String.fromCharCode(y))}return M.join("")}(f(C))},Ze.decode=g.decode,Ze.decodeArray=g.decodeArray,Ze.encode=g.encode,Ze.encodeASCII=g.encodeASCII},452:(At,Ze)=>{!function(F){"use strict";var ye={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},P=function(H){var k=H;return ye.hasOwnProperty(H)&&(k=ye[H]),String.fromCharCode(k)},f=15,h=32,O={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},S={17:2,18:4,21:6,22:8,23:10,19:13,20:15},g={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},C={25:2,26:4,29:6,30:8,31:10,27:13,28:15},M=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(H){this.time=H},log:function(H,k){this.verboseLevel>=this.verboseFilter[H]&&console.log(this.time+" ["+H+"] "+k)}},y=function(H){for(var k=[],K=0;K<H.length;K++)k.push(H[K].toString(16));return k},w=function(H,k,K,de,ce){this.foreground=H||"white",this.underline=k||!1,this.italics=K||!1,this.background=de||"black",this.flash=ce||!1};w.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(H){for(var k=["foreground","underline","italics","background","flash"],K=0;K<k.length;K++){var de=k[K];H.hasOwnProperty(de)&&(this[de]=H[de])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(H){return this.foreground===H.foreground&&this.underline===H.underline&&this.italics===H.italics&&this.background===H.background&&this.flash===H.flash},copy:function(H){this.foreground=H.foreground,this.underline=H.underline,this.italics=H.italics,this.background=H.background,this.flash=H.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var q=function(H,k,K,de,ce,qe){this.uchar=H||" ",this.penState=new w(k,K,de,ce,qe)};q.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(H,k){this.uchar=H,this.penState.copy(k)},setPenState:function(H){this.penState.copy(H)},equals:function(H){return this.uchar===H.uchar&&this.penState.equals(H.penState)},copy:function(H){this.uchar=H.uchar,this.penState.copy(H.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var W=function(){this.chars=[];for(var H=0;H<h;H++)this.chars.push(new q);this.pos=0,this.currPenState=new w};W.prototype={equals:function(H){for(var k=!0,K=0;K<h;K++)if(!this.chars[K].equals(H.chars[K])){k=!1;break}return k},copy:function(H){for(var k=0;k<h;k++)this.chars[k].copy(H.chars[k])},isEmpty:function(){for(var H=!0,k=0;k<h;k++)if(!this.chars[k].isEmpty()){H=!1;break}return H},setCursor:function(H){this.pos!==H&&(this.pos=H),this.pos<0?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>h&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=h)},moveCursor:function(H){var k=this.pos+H;if(H>1)for(var K=this.pos+1;K<k+1;K++)this.chars[K].setPenState(this.currPenState);this.setCursor(k)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(H){H>=144&&this.backSpace();var k=P(H);this.pos>=h?p.log("ERROR","Cannot insert "+H.toString(16)+" ("+k+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(k,this.currPenState),this.moveCursor(1))},clearFromPos:function(H){var k;for(k=H;k<h;k++)this.chars[k].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var H=[],k=!0,K=0;K<h;K++){var de=this.chars[K].uchar;" "!==de&&(k=!1),H.push(de)}return k?"":H.join("")},setPenStyles:function(H){this.currPenState.setStyles(H),this.chars[this.pos].setPenState(this.currPenState)}};var ne=function(){this.rows=[];for(var H=0;H<f;H++)this.rows.push(new W);this.currRow=14,this.nrRollUpRows=null,this.reset()};ne.prototype={reset:function(){for(var H=0;H<f;H++)this.rows[H].clear();this.currRow=14},equals:function(H){for(var k=!0,K=0;K<f;K++)if(!this.rows[K].equals(H.rows[K])){k=!1;break}return k},copy:function(H){for(var k=0;k<f;k++)this.rows[k].copy(H.rows[k])},isEmpty:function(){for(var H=!0,k=0;k<f;k++)if(!this.rows[k].isEmpty()){H=!1;break}return H},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(H){this.rows[this.currRow].insertChar(H)},setPen:function(H){this.rows[this.currRow].setPenStyles(H)},moveCursor:function(H){this.rows[this.currRow].moveCursor(H)},setCursor:function(H){p.log("INFO","setCursor: "+H),this.rows[this.currRow].setCursor(H)},setPAC:function(H){p.log("INFO","pacData = "+JSON.stringify(H));var k=H.row-1;this.nrRollUpRows&&k<this.nrRollUpRows-1&&(k=this.nrRollUpRows-1),this.currRow=k;var K=this.rows[this.currRow];if(null!==H.indent){var ce=Math.max(H.indent-1,0);K.setCursor(H.indent),H.color=K.chars[ce].penState.foreground}this.setPen({foreground:H.color,underline:H.underline,italics:H.italics,background:"black",flash:!1})},setBkgData:function(H){p.log("INFO","bkgData = "+JSON.stringify(H)),this.backSpace(),this.setPen(H),this.insertChar(32)},setRollUpRows:function(H){this.nrRollUpRows=H},rollUp:function(){if(null!==this.nrRollUpRows){p.log("TEXT",this.getDisplayText());var k=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];k.clear(),this.rows.splice(this.currRow,0,k),p.log("INFO","Rolling up")}else p.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(H){H=H||!1;for(var k=[],K="",ce=0;ce<f;ce++){var qe=this.rows[ce].getTextString();qe&&k.push(H?"Row "+(ce+1)+': "'+qe+'"':qe.trim())}return k.length>0&&(K=H?"["+k.join(" | ")+"]":k.join("\n")),K},getTextAndFormat:function(){return this.rows}};var J=function(H,k){this.chNr=H,this.outputFilter=k,this.mode=null,this.verbose=0,this.displayedMemory=new ne,this.nonDisplayedMemory=new ne,this.lastOutputScreen=new ne,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};J.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(H){this.outputFilter=H},setPAC:function(H){this.writeScreen.setPAC(H)},setBkgData:function(H){this.writeScreen.setBkgData(H)},setMode:function(H){H!==this.mode&&(this.mode=H,p.log("INFO","MODE="+H),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=H)},insertChars:function(H){for(var k=0;k<H.length;k++)this.writeScreen.insertChar(H[k]);p.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(H){p.log("INFO","RU("+H+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(H)},cc_FON:function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var H=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=H,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(H){p.log("INFO","TO("+H+") - Tab Offset"),this.writeScreen.moveCursor(H)},cc_MIDROW:function(H){var k={flash:!1};if(k.underline=H%2==1,k.italics=H>=46,k.italics)k.foreground="white";else{var K=Math.floor(H/2)-16;k.foreground=["white","green","blue","cyan","red","yellow","magenta"][K]}p.log("INFO","MIDROW: "+JSON.stringify(k)),this.writeScreen.setPen(k)},outputDataUpdate:function(){var H=p.time;null!==H&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(H,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,H,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:H):this.cueStartTime=H,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(H){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,H,this.displayedMemory),this.cueStartTime=H))}};var se=function(H,k,K){this.field=H||1,this.outputs=[k,K],this.channels=[new J(1,k),new J(2,K)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};se.prototype={getHandler:function(H){return this.channels[H].getHandler()},setHandler:function(H,k){this.channels[H].setHandler(k)},addData:function(H,k){var K,de,ce,qe=!1;this.lastTime=H,p.setTime(H);for(var ot=0;ot<k.length;ot+=2)ce=127&k[ot+1],(de=127&k[ot])>=16&&de<=31&&de===this.lastCmdA&&ce===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+y([de,ce])+") is dropped")):0!==de||0!==ce?(p.log("DATA","["+y([k[ot],k[ot+1]])+"] -> ("+y([de,ce])+")"),(K=this.parseCmd(de,ce))||(K=this.parseMidrow(de,ce)),K||(K=this.parsePAC(de,ce)),K||(K=this.parseBackgroundAttributes(de,ce)),K||(qe=this.parseChars(de,ce))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(qe):p.log("WARNING","No channel found yet. TEXT-MODE?")),K?this.dataCounters.cmd+=2:qe?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+y([de,ce])+" orig: "+y([k[ot],k[ot+1]])))):this.dataCounters.padding+=2},parseCmd:function(H,k){var K;if(!((20===H||21===H||28===H||29===H)&&32<=k&&k<=47||(23===H||31===H)&&33<=k&&k<=35))return!1;var de=this.channels[(K=20===H||21===H||23===H?1:2)-1];return 20===H||21===H||28===H||29===H?32===k?de.cc_RCL():33===k?de.cc_BS():34===k?de.cc_AOF():35===k?de.cc_AON():36===k?de.cc_DER():37===k?de.cc_RU(2):38===k?de.cc_RU(3):39===k?de.cc_RU(4):40===k?de.cc_FON():41===k?de.cc_RDC():42===k?de.cc_TR():43===k?de.cc_RTD():44===k?de.cc_EDM():45===k?de.cc_CR():46===k?de.cc_ENM():47===k&&de.cc_EOC():de.cc_TO(k-32),this.lastCmdA=H,this.lastCmdB=k,this.currChNr=K,!0},parseMidrow:function(H,k){var K=null;if((17===H||25===H)&&32<=k&&k<=47){if((K=17===H?1:2)!==this.currChNr)return p.log("ERROR","Mismatch channel in midrow parsing"),!1;var de=this.channels[K-1];return de.insertChars([32]),de.cc_MIDROW(k),p.log("DEBUG","MIDROW ("+y([H,k])+")"),this.lastCmdA=H,this.lastCmdB=k,!0}return!1},parsePAC:function(H,k){var K;if(!((17<=H&&H<=23||25<=H&&H<=31)&&64<=k&&k<=127||(16===H||24===H)&&64<=k&&k<=95))return!1;K=H<=23?1:2;var ce=this.interpretPAC(64<=k&&k<=95?1===K?O[H]:g[H]:1===K?S[H]:C[H],k);return this.channels[K-1].setPAC(ce),this.lastCmdA=H,this.lastCmdB=k,this.currChNr=K,!0},interpretPAC:function(H,k){var K,de={color:null,italics:!1,indent:null,underline:!1,row:H};return de.underline=1==(1&(K=k>95?k-96:k-64)),K<=13?de.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(K/2)]:K<=15?(de.italics=!0,de.color="white"):de.indent=4*Math.floor((K-16)/2),de},parseChars:function(H,k){var qe,K=null,de=null,ce=null;if(H>=25?(K=2,ce=H-8):(K=1,ce=H),17<=ce&&ce<=19?(p.log("INFO","Special char '"+P(qe=17===ce?k+80:18===ce?k+112:k+144)+"' in channel "+K),de=[qe],this.lastCmdA=H,this.lastCmdB=k):32<=H&&H<=127&&(de=0===k?[H]:[H,k],this.lastCmdA=null,this.lastCmdB=null),de){var ot=y(de);p.log("DEBUG","Char codes =  "+ot.join(","))}return de},parseBackgroundAttributes:function(H,k){var K,de;return((16===H||24===H)&&32<=k&&k<=47||(23===H||31===H)&&45<=k&&k<=47)&&(K={},16===H||24===H?(de=Math.floor((k-32)/2),K.background=M[de],k%2==1&&(K.background=K.background+"_semi")):45===k?K.background="transparent":(K.foreground="black",47===k&&(K.underline=!0)),this.channels[(H<24?1:2)-1].setBkgData(K),this.lastCmdA=H,this.lastCmdB=k,!0)},reset:function(){for(var H=0;H<this.channels.length;H++)this.channels[H]&&this.channels[H].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(H){for(var k=0;k<this.channels.length;k++)this.channels[k]&&this.channels[k].cueSplitAtTime(H)}},F.logger=p,F.PenState=w,F.CaptionScreen=ne,F.Cea608Parser=se,F.findCea608Nalus=function(H,k,K){for(var de=0,ce=k,qe=[],ot=function(Ne,je,rt,Rt){if(4!==Ne||je<8)return null;var ut=rt.getUint8(Rt),ke=rt.getUint16(Rt+1),ht=rt.getUint32(Rt+3),kt=rt.getUint8(Rt+7);return 181==ut&&49==ke&&1195456820==ht&&3==kt};ce<k+K;){if(de=H.getUint32(ce),6==(31&H.getUint8(ce+4)))for(var pe=ce+5,Mt=-1;pe<ce+4+de-1;){Mt=0;for(var He=255;255===He;)Mt+=He=H.getUint8(pe),pe++;var $e=0;for(He=255;255===He;)$e+=He=H.getUint8(pe),pe++;ot(Mt,$e,H,pe)&&qe.push([pe,$e]),pe+=$e}ce+=de+4}return qe},F.extractCea608DataFromRange=function(H,k){var K=k[0],de=[[],[]],ce=31&H.getUint8(K+=8);K+=2;for(var qe=0;qe<ce;qe++){var ot=H.getUint8(K),pe=4&ot,Mt=3&ot;K++;var He=H.getUint8(K);K++;var $e=H.getUint8(K);K++,pe&&(127&He)+(127&$e)!=0&&(0===Mt?(de[0].push(He),de[0].push($e)):1===Mt&&(de[1].push(He),de[1].push($e)))}return de}}(Ze)},8416:(At,Ze,F)=>{"use strict";var ye=F(7688),P=F(5448),f=F(6398),h=F(2032),O=(F(5530),typeof window<"u"&&window||F.g),S=O.dashjs;S||(S=O.dashjs={}),S.MediaPlayer=ye.Z,S.FactoryMaker=P.Z,S.Debug=f.Z,S.Version=(0,h.e)()},6398:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>y});var ye=F(5595),P=F(8512),f=F(5448),h=1,O=2,S=3,g=4,C=5;function M(w){w=w||{};var q,W,ne,J,H=(0,ye.Z)(this.context).getInstance(),k=w.settings,K=[];function de($e){return $e&&$e.bind?$e.bind(window.console):window.console.log.bind(window.console)}function ce(){for(var $e=arguments.length,Ne=new Array($e),je=0;je<$e;je++)Ne[je]=arguments[je];He.apply(void 0,[h,this].concat(Ne))}function qe(){for(var $e=arguments.length,Ne=new Array($e),je=0;je<$e;je++)Ne[je]=arguments[je];He.apply(void 0,[O,this].concat(Ne))}function ot(){for(var $e=arguments.length,Ne=new Array($e),je=0;je<$e;je++)Ne[je]=arguments[je];He.apply(void 0,[S,this].concat(Ne))}function pe(){for(var $e=arguments.length,Ne=new Array($e),je=0;je<$e;je++)Ne[je]=arguments[je];He.apply(void 0,[g,this].concat(Ne))}function Mt(){for(var $e=arguments.length,Ne=new Array($e),je=0;je<$e;je++)Ne[je]=arguments[je];He.apply(void 0,[C,this].concat(Ne))}function He($e,Ne){var je="",rt=null;W&&(rt=(new Date).getTime(),je+="["+(rt-J)+"]"),ne&&Ne&&Ne.getClassName&&(je+="["+Ne.getClassName()+"]",Ne.getType&&(je+="["+Ne.getType()+"]")),je.length>0&&(je+=" ");for(var Rt=arguments.length,ut=new Array(Rt>2?Rt-2:0),ke=2;ke<Rt;ke++)ut[ke-2]=arguments[ke];Array.apply(null,ut).forEach(function(ht){je+=ht+" "}),K[$e]&&k&&k.get().debug.logLevel>=$e&&K[$e](je),k&&k.get().debug.dispatchEvent&&H.trigger(P.Z.LOG,{message:je,level:$e})}return q={getLogger:function($e){return{fatal:ce.bind($e),error:qe.bind($e),warn:ot.bind($e),info:pe.bind($e),debug:Mt.bind($e)}},setLogTimestampVisible:function($e){W=$e},setCalleeNameVisible:function($e){ne=$e}},W=!0,ne=!0,J=(new Date).getTime(),typeof window<"u"&&window.console&&(K[h]=de(window.console.error),K[O]=de(window.console.error),K[S]=de(window.console.warn),K[g]=de(window.console.info),K[C]=de(window.console.debug)),q}M.__dashjs_factory_name="Debug";var p=f.Z.getSingletonFactory(M);p.LOG_LEVEL_NONE=0,p.LOG_LEVEL_FATAL=h,p.LOG_LEVEL_ERROR=O,p.LOG_LEVEL_WARNING=S,p.LOG_LEVEL_INFO=g,p.LOG_LEVEL_DEBUG=C,f.Z.updateSingletonFactory(M.__dashjs_factory_name,p);const y=p},5595:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(8825);function f(){var S={};function g(M,p,y){var w=-1;return S[M]&&S[M].some(function(q,W){if(q&&q.callback===p&&(!y||y===q.scope))return w=W,!0}),w}var C={on:function(M,p,y){var w=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!M)throw new Error("event type cannot be null or undefined");if(!p||"function"!=typeof p)throw new Error("listener must be a function: "+p);var q=w.priority||0;if(!(g(M,p,y)>=0)){S[M]=S[M]||[];var W={callback:p,scope:y,priority:q};y&&y.getStreamId&&(W.streamId=y.getStreamId()),y&&y.getType&&(W.mediaType=y.getType()),w&&w.mode&&(W.mode=w.mode),S[M].some(function(J,se){if(J&&q>J.priority)return S[M].splice(se,0,W),!0})||S[M].push(W)}},off:function(M,p,y){if(M&&p&&S[M]){var w=g(M,p,y);w<0||(S[M][w]=null)}},trigger:function(M){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(M&&S[M]){if((p=p||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");p.type=M,y.streamId&&(p.streamId=y.streamId),y.mediaType&&(p.mediaType=y.mediaType),S[M].filter(function(w){return!(!w||y.streamId&&w.streamId&&w.streamId!==y.streamId||y.mediaType&&w.mediaType&&w.mediaType!==y.mediaType||y.mode&&w.mode&&w.mode!==y.mode||!w.mode&&y.mode&&y.mode===P.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(w){return w&&w.callback.call(w.scope,p)})}},reset:function(){S={}}};return C}f.__dashjs_factory_name="EventBus";var h=ye.Z.getSingletonFactory(f);h.EVENT_PRIORITY_LOW=0,h.EVENT_PRIORITY_HIGH=5e3,ye.Z.updateSingletonFactory(f.__dashjs_factory_name,h);const O=h},5448:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function(){var P,f=[],h={},O={};function S(p,y){for(var w in f){var q=f[w];if(q.context===p&&q.name===y)return q.instance}return null}function g(p,y){return y[p]}function C(p,y,w){p in w&&(w[p]=y)}function M(p,y,w){var q,W=p.__dashjs_factory_name,ne=y[W];if(ne){var J=ne.instance;if(!ne.override)return J.apply({context:y,factory:P},w);for(var se in q=p.apply({context:y},w),J=J.apply({context:y,factory:P,parent:q},w))q.hasOwnProperty(se)&&(q[se]=J[se])}else q=p.apply({context:y},w);return q.getClassName=function(){return W},q}return P={extend:function(p,y,w,q){!q[p]&&y&&(q[p]={instance:y,override:w})},getSingletonInstance:S,setSingletonInstance:function(p,y,w){for(var q in f){var W=f[q];if(W.context===p&&W.name===y)return void(f[q].instance=w)}f.push({name:y,context:p,instance:w})},deleteSingletonInstances:function(p){f=f.filter(function(y){return y.context!==p})},getSingletonFactory:function(p){var y=g(p.__dashjs_factory_name,h);return y||(y=function(w){var q;return void 0===w&&(w={}),{getInstance:function(){return q||(q=S(w,p.__dashjs_factory_name)),q||(q=M(p,w,arguments),f.push({name:p.__dashjs_factory_name,context:w,instance:q})),q}}},h[p.__dashjs_factory_name]=y),y},getSingletonFactoryByName:function(p){return g(p,h)},updateSingletonFactory:function(p,y){C(p,y,h)},getClassFactory:function(p){var y=g(p.__dashjs_factory_name,O);return y||(y=function(w){return void 0===w&&(w={}),{create:function(){return M(p,w,arguments)}}},O[p.__dashjs_factory_name]=y),y},getClassFactoryByName:function(p){return g(p,O)},updateClassFactory:function(p,y){C(p,y,O)}},P}()},1264:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>y});var ye=F(5448),P=F(703),f=F(6398),h=F(3393),O=F(7855),S=F(5595),g=F(8512);function C(w){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(w)}function M(w,q,W){return q in w?Object.defineProperty(w,q,{value:W,enumerable:!0,configurable:!0,writable:!0}):w[q]=W,w}function p(){var w,q,ne=(0,S.Z)(this.context).getInstance(),J={"streaming.delay.liveDelay":g.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":g.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":g.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":g.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":g.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},se={debug:{logLevel:f.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:h.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:h.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:h.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:h.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(w={},M(w,O.w.MPD_TYPE,500),M(w,O.w.XLINK_EXPANSION_TYPE,500),M(w,O.w.MEDIA_SEGMENT_TYPE,1e3),M(w,O.w.INIT_SEGMENT_TYPE,1e3),M(w,O.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),M(w,O.w.INDEX_SEGMENT_TYPE,1e3),M(w,O.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),M(w,O.w.LICENSE,1e3),M(w,O.w.OTHER_TYPE,1e3),M(w,"lowLatencyReductionFactor",10),w),retryAttempts:(q={},M(q,O.w.MPD_TYPE,3),M(q,O.w.XLINK_EXPANSION_TYPE,1),M(q,O.w.MEDIA_SEGMENT_TYPE,3),M(q,O.w.INIT_SEGMENT_TYPE,3),M(q,O.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),M(q,O.w.INDEX_SEGMENT_TYPE,3),M(q,O.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),M(q,O.w.LICENSE,3),M(q,O.w.OTHER_TYPE,3),M(q,"lowLatencyMultiplyFactor",5),q),abr:{movingAverageMethod:h.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:h.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:h.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:h.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},H=P.Z.clone(se);function k(K,de,ce){for(var qe in K)K.hasOwnProperty(qe)&&(de.hasOwnProperty(qe)?"object"!==C(K[qe])||K[qe]instanceof Array||null===K[qe]?(de[qe]=P.Z.clone(K[qe]),J[ce+qe]&&ne.trigger(J[ce+qe])):k(K[qe],de[qe],ce.slice()+qe+"."):console.error("Settings parameter "+ce+qe+" is not supported"))}return{get:function(){return H},update:function(K){"object"===C(K)&&k(K,H,"")},reset:function(){H=P.Z.clone(se)}}}p.__dashjs_factory_name="Settings";const y=ye.Z.getSingletonFactory(p)},703:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>S});var ye=F(3875),P=F.n(ye),f=F(1067);function h(g){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(g)}const S=function(){function g(){!function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}(this,g)}var M;return M=[{key:"mixin",value:function(p,y,w){var q,W={};if(p)for(var ne in y)y.hasOwnProperty(ne)&&(q=y[ne],ne in p&&(p[ne]===q||ne in W&&W[ne]===q)||(p[ne]="object"===h(p[ne])&&null!==p[ne]?g.mixin(p[ne],q,w):w(q)));return p}},{key:"clone",value:function(p){if(!p||"object"!==h(p))return p;var y;if(p instanceof Array){y=[];for(var w=0,q=p.length;w<q;++w)w in p&&y.push(g.clone(p[w]))}else y={};return g.mixin(y,p,g.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(p,y){try{if(!y||0===y.length)return p;var w=new URL(p);return y.forEach(function(q){q.key&&q.value&&w.searchParams.set(q.key,q.value)}),w.href}catch{return p}}},{key:"parseHttpHeaders",value:function(p){var y={};if(!p)return y;for(var w=p.trim().split("\r\n"),q=0,W=w.length;q<W;q++){var ne=w[q],J=ne.indexOf(": ");J>0&&(y[ne.substring(0,J)]=ne.substring(J+2))}return y}},{key:"generateUuid",value:function(){var p=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(y){var w=(p+16*Math.random())%16|0;return p=Math.floor(p/16),("x"==y?w:3&w|8).toString(16)})}},{key:"generateHashCode",value:function(p){var y=0;if(0===p.length)return y;for(var w=0;w<p.length;w++)y=(y<<5)-y+p.charCodeAt(w),y|=0;return y}},{key:"getRelativeUrl",value:function(p,y){try{var w=new URL(p),q=new URL(y);if(w.protocol=q.protocol,w.origin!==q.origin)return y;var W=P().relative(w.pathname.substr(0,w.pathname.lastIndexOf("/")),q.pathname.substr(0,q.pathname.lastIndexOf("/"))),ne=0===W.length?1:0;return W+=q.pathname.substr(q.pathname.lastIndexOf("/")+ne,q.pathname.length-1),q.pathname.length<W.length?q.pathname:W}catch{return y}}},{key:"parseUserAgent",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var y=null===p&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,f.UAParser)(y)}catch{return{}}}},{key:"stringHasProtocol",value:function(p){return/(http(s?)):\/\//i.test(p)}}],M&&function O(g,C){for(var M=0;M<C.length;M++){var p=C[M];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}(g,M),g}()},2032:(At,Ze,F)=>{"use strict";function ye(){return"4.7.1"}F.d(Ze,{e:()=>ye})},2230:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=function(){function f(){!function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}var O;return(O=[{key:"extend",value:function(S,g){if(S){var C=!!g&&g.override,M=!!g&&g.publicOnly;for(var p in S)!S.hasOwnProperty(p)||this[p]&&!C||M&&-1===S[p].indexOf("public_")||(this[p]=S[p])}}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}()},4351:(At,Ze,F)=>{"use strict";function ye(S){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(S)}function P(S,g){return(P=Object.setPrototypeOf||function(C,M){return C.__proto__=M,C})(S,g)}function h(S){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(S)}F.d(Ze,{Z:()=>O});const O=function(S){!function(y,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),w&&P(y,w)}(p,S);var g,C,M=(g=p,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,w=h(g);if(C){var q=h(this).constructor;y=Reflect.construct(w,arguments,q)}else y=w.apply(this,arguments);return function f(S,g){return!g||"object"!==ye(g)&&"function"!=typeof g?function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(S):g}(this,y)});function p(){var y;return function(w,q){if(!(w instanceof q))throw new TypeError("Cannot call a class as a function")}(this,p),(y=M.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",y.BUFFERING_COMPLETED="bufferingCompleted",y.BUFFER_CLEARED="bufferCleared",y.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",y.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",y.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",y.CMSD_STATIC_HEADER="cmsdStaticHeader",y.CURRENT_TRACK_CHANGED="currentTrackChanged",y.DATA_UPDATE_COMPLETED="dataUpdateCompleted",y.INBAND_EVENTS="inbandEvents",y.INITIAL_STREAM_SWITCH="initialStreamSwitch",y.INIT_FRAGMENT_LOADED="initFragmentLoaded",y.INIT_FRAGMENT_NEEDED="initFragmentNeeded",y.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",y.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",y.LOADING_COMPLETED="loadingCompleted",y.LOADING_PROGRESS="loadingProgress",y.LOADING_DATA_PROGRESS="loadingDataProgress",y.LOADING_ABANDONED="loadingAborted",y.MANIFEST_UPDATED="manifestUpdated",y.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",y.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",y.QUOTA_EXCEEDED="quotaExceeded",y.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",y.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",y.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",y.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",y.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",y.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",y.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",y.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",y.SOURCE_BUFFER_ERROR="sourceBufferError",y.STREAMS_COMPOSED="streamsComposed",y.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",y.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",y.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",y.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",y.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",y.URL_RESOLUTION_FAILED="urlResolutionFailed",y.VIDEO_CHUNK_RECEIVED="videoChunkReceived",y.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",y.XLINK_ELEMENT_LOADED="xlinkElementLoaded",y.XLINK_READY="xlinkReady",y.SEEK_TARGET="seekTarget",y.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",y.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",y.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",y.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",y.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",y}return p}(F(8342).Z)},8512:(At,Ze,F)=>{"use strict";function ye(g){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(g)}function f(g,C){return(f=Object.setPrototypeOf||function(M,p){return M.__proto__=p,M})(g,C)}function O(g){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(g)}F.d(Ze,{Z:()=>S});const S=new(function(g){!function(w,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(q&&q.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),q&&f(w,q)}(y,g);var C,M,p=(C=y,M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var w,q=O(C);if(M){var W=O(this).constructor;w=Reflect.construct(q,arguments,W)}else w=q.apply(this,arguments);return function h(g,C){return!C||"object"!==ye(C)&&"function"!=typeof C?function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(g):C}(this,w)});function y(){return function P(g,C){if(!(g instanceof C))throw new TypeError("Cannot call a class as a function")}(this,y),p.apply(this,arguments)}return y}(F(4351).Z))},8342:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=function(){function f(){!function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}var O;return(O=[{key:"extend",value:function(S,g){if(S){var C=!!g&&g.override,M=!!g&&g.publicOnly;for(var p in S)!S.hasOwnProperty(p)||this[p]&&!C||M&&-1===S[p].indexOf("public_")||(this[p]=S[p])}}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}()},9326:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>C});var ye=F(3186),P=F(7855),f=F(5448),h=F(8825),O=F(7387),S=F(1553);function g(M){var p,y,w,q,W,ne=(M=M||{}).eventBus,se=M.urlUtils,H=M.type,k=M.streamInfo,K=M.segmentsController,de=M.timelineConverter,ce=M.baseURLController;function qe(){return H}function ot(){w=null}function pe(Ne,je,rt){var Rt,ut,ke=ce.resolve(rt.path),ht={};return ke&&je!==ke.url&&se.isRelative(je)?(Rt=ke.url,ut=ke.serviceLocation,ht=ke.queryParams,je&&(Rt=se.resolve(je,Rt))):Rt=je,!se.isRelative(Rt)&&(Ne.url=Rt,Ne.serviceLocation=ut,Ne.queryParams=ht,!0)}function Mt(Ne,je){if(null==je)return null;var rt=new ye.Z,Rt=je.representation,ut=Rt.adaptation.period.mpd.manifest.Period_asArray[Rt.adaptation.period.index].AdaptationSet_asArray[Rt.adaptation.index].Representation_asArray[Rt.index].bandwidth,ke=je.media;return ke=(0,O.vi)(ke,"Number",je.replacementNumber),ke=(0,O.vi)(ke,"Time",je.replacementTime),ke=(0,O.vi)(ke,"Bandwidth",ut),ke=(0,O.Aj)(ke,Rt.id),ke=(0,O.eR)(ke),rt.mediaType=qe(),rt.type=P.w.MEDIA_SEGMENT_TYPE,rt.range=je.mediaRange,rt.startTime=je.presentationStartTime,rt.mediaStartTime=je.mediaStartTime,rt.duration=je.duration,rt.timescale=Rt.timescale,rt.availabilityStartTime=je.availabilityStartTime,rt.availabilityEndTime=je.availabilityEndTime,rt.availabilityTimeComplete=Rt.availabilityTimeComplete,rt.wallStartTime=je.wallStartTime,rt.quality=Rt.index,rt.index=je.index,rt.mediaInfo=Ne,rt.adaptationIndex=Rt.adaptation.index,rt.representationId=Rt.id,pe(rt,ke,Rt)?rt:void 0}function He(Ne,je,rt){var Rt=null;if(!je||!je.segmentInfoType)return Rt;var ut=K.getSegmentByTime(je,rt);return ut&&(w=ut,y.debug("Index for time "+rt+" is "+ut.index),Rt=Mt(Ne,ut)),Rt}function $e(){y.debug("Dynamic stream complete"),W=!0}return p={initialize:function(Ne){q=Ne,W=!1,K.initialize(Ne)},getStreamId:function(){return k.id},getType:qe,getStreamInfo:function(){return k},getInitRequest:function(Ne,je){return je?function(rt,Rt,ut){var ke=new ye.Z,ht=Rt.adaptation.period,kt=ht.start;if(ke.mediaType=ut,ke.type=P.w.INIT_SEGMENT_TYPE,ke.range=Rt.range,ke.availabilityStartTime=de.calcAvailabilityStartTimeFromPresentationTime(kt,Rt,q),ke.availabilityEndTime=de.calcAvailabilityEndTimeFromPresentationTime(kt+ht.duration,Rt,q),ke.quality=Rt.index,ke.mediaInfo=rt,ke.representationId=Rt.id,pe(ke,Rt.initialization,Rt))return ke.url=(0,O.vi)(ke.url,"Bandwidth",Rt.bandwidth),ke}(Ne,je,qe()):null},getSegmentRequestForTime:He,getCurrentIndex:function(){return w?w.index:-1},getNextSegmentRequest:function(Ne,je){var rt=null;if(!je||!je.segmentInfoType)return null;var Rt=w?w.index+1:0,ut=K.getSegmentByIndex(je,Rt,w?w.mediaStartTime:-1);if(ut)rt=Mt(Ne,ut),w=ut;else{if(q&&!W)return y.debug(qe()+" No segment found at index: "+Rt+". Wait for next loop"),null;W=!0}return rt},isLastSegmentRequested:function(Ne,je){return!(!Ne||!w||!W&&(!isFinite(Ne.adaptation.period.duration)||w.presentationStartTime+w.duration>je||!(Ne.mediaFinishedInformation&&!isNaN(Ne.mediaFinishedInformation.numberOfSegments)&&!isNaN(w.index)&&w.index>=Ne.mediaFinishedInformation.numberOfSegments-1&&(!q||Ne.segmentInfoType===S.Z.SEGMENT_TEMPLATE||q&&Ne.segmentInfoType===S.Z.SEGMENT_LIST&&Ne.adaptation.period.nextPeriodId)||q&&Ne.adaptation.period.nextPeriodId&&Ne.segmentInfoType===S.Z.SEGMENT_TIMELINE&&Ne.mediaFinishedInformation&&!isNaN(Ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&w&&!isNaN(w.mediaStartTime)&&!isNaN(w.duration)&&w.mediaStartTime+w.duration>=Ne.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)))},reset:function(){ot(),ne.off(h.Z.DYNAMIC_TO_STATIC,$e,p)},getNextSegmentRequestIdempotent:function(Ne,je){var Rt=K.getSegmentByIndex(je,w?w.index+1:0,w?w.mediaStartTime:-1);return Rt?Mt(Ne,Rt):null},getValidTimeAheadOfTargetTime:function(Ne,je,rt,Rt){try{if(isNaN(Ne)||!je||!rt)return NaN;if(Ne<0&&(Ne=0),isNaN(Rt)&&(Rt=.5),He(je,rt,Ne))return Ne;if(rt.adaptation.period.start+rt.adaptation.period.duration<Ne)return NaN;for(var ut=isFinite(rt.adaptation.period.duration)?rt.adaptation.period.start+rt.adaptation.period.duration:Ne+30,ke=Math.min(Ne+Rt,ut),ht=NaN,kt=null;ke<=ut;){var We=null;if(ke<=ut&&(We=He(je,rt,ke)),We){ht=ke,kt=We;break}ke+=Rt}if(kt){var dt=kt.startTime+kt.duration;return Ne>kt.startTime&&dt-Ne>Rt?Ne:!isNaN(kt.startTime)&&Ne<kt.startTime&&ht>kt.startTime?kt.startTime+.001:Math.min(dt-Rt,ht)}return ht}catch{return NaN}}},y=M.debug.getLogger(p),ot(),ne.on(h.Z.DYNAMIC_TO_STATIC,$e,p),p}g.__dashjs_factory_name="DashHandler";const C=f.Z.getClassFactory(g)},1553:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=new(function(){function f(){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}var O;return(O=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}())},7802:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>g});var ye=F(5448),P=F(1724),f=F(3636),h=F(1736),O=F(5246);function S(C){var M,p,y=this.context,w=(C=C||{}).dashConstants,q=C.type,W=C.segmentBaseController;function ne(J){return J?J.segments?p[w.SEGMENT_BASE]:p[J.segmentInfoType]:null}return M={initialize:function(J){p[w.SEGMENT_TIMELINE]=(0,P.Z)(y).create(C,J),p[w.SEGMENT_TEMPLATE]=(0,f.Z)(y).create(C,J),p[w.SEGMENT_LIST]=(0,h.Z)(y).create(C,J),p[w.SEGMENT_BASE]=(0,O.Z)(y).create(C,J)},updateInitData:function(J,se){return se?Promise.resolve():W.getSegmentBaseInitSegment({representation:J,mediaType:q})},updateSegmentData:function(J,se){return se?Promise.resolve():W.getSegmentList({mimeType:J.mimeType,representation:J,mediaType:q})},getSegmentByIndex:function(J,se,H){var k=ne(J);return k?k.getSegmentByIndex(J,se,H):null},getSegmentByTime:function(J,se){var H=ne(J);return H?H.getSegmentByTime(J,se):null},getMediaFinishedInformation:function(J){var se=ne(J);return se?se.getMediaFinishedInformation(J):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},p={},M}S.__dashjs_factory_name="SegmentsController";const g=ye.Z.getClassFactory(S)},1736:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(3393),f=F(7387);function h(S,g){var C=(S=S||{}).timelineConverter;function M(){if(!C||!C.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(P.Z.MISSING_CONFIG_ERROR)}function p(y,w){if(M(),!y)return null;var q=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentList,W=q.SegmentURL_asArray.length,ne=y&&!isNaN(y.startNumber)?y.startNumber:1,J=Math.max(ne-1,0),se=Math.max(w-J,0),H=null;if(se<W){var k=q.SegmentURL_asArray[se];(H=(0,f.NF)(C,g,y,w))&&(H.replacementTime=(ne+w-1)*y.segmentDuration,H.media=k.media?k.media:"",H.mediaRange=k.mediaRange,H.indexRange=k.indexRange)}return H}return{getSegmentByIndex:p,getSegmentByTime:function(y,w){if(M(),!y)return null;var q=y.segmentDuration;if(isNaN(q))return null;var W=C.calcPeriodRelativeTimeFromMpdRelativeTime(y,w);return p(y,Math.floor(W/q))},getMediaFinishedInformation:function(y){var w={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!y)return w;var q=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentList,W=y&&!isNaN(y.startNumber)?y.startNumber:1,ne=Math.max(W-1,0);return w.numberOfSegments=ne+q.SegmentURL_asArray.length,w}}}h.__dashjs_factory_name="ListSegmentsGetter";const O=ye.Z.getClassFactory(h)},5246:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(3393);function f(O){var S=(O=O||{}).timelineConverter;function g(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(P.Z.MISSING_CONFIG_ERROR)}function C(M,p){if(g(),!M)return null;var y,w=M.segments?M.segments.length:-1;if(p<w&&(y=M.segments[p])&&y.index===p)return y;for(var q=0;q<w;q++)if((y=M.segments[q])&&y.index===p)return y;return null}return{getSegmentByIndex:C,getSegmentByTime:function(M,p){return g(),C(M,function(w,q){if(!w)return-1;var W,ne,J,se,H,k=w.segments,K=k?k.length:null,de=-1;if(k&&K>0)for(H=0;H<K;H++)if(J=(ne=k[H]).presentationStartTime,q+(W=(se=ne.duration)/2)>=J&&q-W<J+se){de=ne.index;break}return de}(M,p))},getMediaFinishedInformation:function(M){var p={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return M&&M.segments&&(p.numberOfSegments=M.segments.length),p}}}f.__dashjs_factory_name="SegmentBaseGetter";const h=ye.Z.getClassFactory(f)},7387:(At,Ze,F)=>{"use strict";F.d(Ze,{Aj:()=>h,NF:()=>C,TJ:()=>M,eR:()=>f,vi:()=>O});var ye=F(2011);function P(p,y){for(;p.length<y;)p="0"+p;return p}function f(p){return p&&p.split("$$").join("$")}function h(p,y){if(!y||!p||-1===p.indexOf("$RepresentationID$"))return p;var w=y.toString();return p.split("$RepresentationID$").join(w)}function O(p,y,w){var q,W,ne,J,se,H,k=y.length;if(!p)return p;for(;;){if((q=p.indexOf("$"+y))<0||(W=p.indexOf("$",q+k))<0)return p;if((ne=p.indexOf("%0",q+k))>q&&ne<W)switch(J=p.charAt(W-1),se=parseInt(p.substring(ne+2,W-1),10),J){case"d":case"i":case"u":H=P(w.toString(),se);break;case"x":H=P(w.toString(16),se);break;case"X":H=P(w.toString(16),se).toUpperCase();break;case"o":H=P(w.toString(8),se);break;default:return p}else H=w;p=p.substring(0,q)+H+p.substring(W+1)}}function S(p,y,w,q,W,ne,J,se){var k=new ye.Z;return k.representation=p,k.duration=y,k.presentationStartTime=w,k.mediaStartTime=q,k.availabilityStartTime=W.calcAvailabilityStartTimeFromPresentationTime(ne,p,J),k.availabilityEndTime=W.calcAvailabilityEndTimeFromPresentationTime(ne+y,p,J),k.wallStartTime=W.calcWallTimeForSegment(k,J),k.replacementNumber=k.representation.startNumber+se,k.index=se,k}function g(p,y,w,q){var W=y.adaptation.period;if(isFinite(W.duration)&&W.start+W.duration<=w.presentationStartTime)return!1;if(q){if("INF"===y.availabilityTimeOffset)return!0;var ne=p.getClientReferenceTime();return w.availabilityStartTime.getTime()<=ne&&(!isFinite(w.availabilityEndTime)||w.availabilityEndTime.getTime()>=ne)}return!0}function C(p,y,w,q){var W,ne,J;W=w.segmentDuration,isNaN(W)&&(W=w.adaptation.period.duration),ne=parseFloat((w.adaptation.period.start+q*W).toFixed(5)),J=parseFloat((ne+W).toFixed(5));var se=S(w,W,ne,p.calcMediaTimeFromPresentationTime(ne,w),p,J,y,q);return g(p,w,se,y)?se:null}function M(p,y,w,q,W,ne,J,se,H,k){var K,de,ce=q/ne,qe=W/ne;return K=p.calcPresentationTimeFromMediaTime(ce,w),g(p,w,de=S(w,qe,K,ce,p,K+qe,y,H),y)?(de.replacementTime=k||q,J=O(J,"Number",de.replacementNumber),J=O(J,"Time",de.replacementTime),de.media=J,de.mediaRange=se,de):null}},3636:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(3393),f=F(7387);function h(S,g){var C=(S=S||{}).timelineConverter;function M(){if(!C||!C.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(P.Z.MISSING_CONFIG_ERROR)}function p(y,w){if(M(),!y)return null;var q=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentTemplate;w=Math.max(w,0);var W=(0,f.NF)(C,g,y,w);if(W){W.replacementTime=Math.round((w-1)*y.segmentDuration*y.timescale,10);var ne=q.media;ne=(0,f.vi)(ne,"Number",W.replacementNumber),ne=(0,f.vi)(ne,"Time",W.replacementTime),W.media=ne}return W}return{getSegmentByIndex:p,getSegmentByTime:function(y,w){if(M(),!y)return null;var q=y.segmentDuration;if(isNaN(q))return null;var W=C.calcPeriodRelativeTimeFromMpdRelativeTime(y,w);return p(y,Math.floor(W/q))},getMediaFinishedInformation:function(y){var w={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!y)return w;var q=y.segmentDuration;return w.numberOfSegments=isNaN(q)?1:Math.ceil(y.adaptation.period.duration/q),w}}}h.__dashjs_factory_name="TemplateSegmentsGetter";const O=ye.Z.getClassFactory(h)},1724:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(3393),f=F(7387);function h(S,g){var C=(S=S||{}).timelineConverter,M=S.dashMetrics;function p(){if(!C)throw new Error(P.Z.MISSING_CONFIG_ERROR)}function y(q,W){var ne,J,se,H,k,K,de,ce=q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentTemplate||q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentList,ot=ce.SegmentURL_asArray,pe=0,Mt=-1;de=q.timescale;var He=!1;for(se=0,H=(ne=ce.SegmentTimeline.S_asArray).length;se<H&&!He;se++)for(K=0,(J=ne[se]).hasOwnProperty("r")&&(K=J.r),J.hasOwnProperty("t")&&(pe=J.t),K<0&&(K=w(q,ne[se+1],J,de,pe/de)),k=0;k<=K&&!He;k++)(He=W(pe,ce,ot,J,de,++Mt,se))&&(q.segmentDuration=J.d/de),pe+=J.d}function w(q,W,ne,J,se){var H;if(W&&W.hasOwnProperty("t"))H=W.t/J;else try{var k=0;if(isNaN(q.adaptation.period.start)||isNaN(q.adaptation.period.duration)||!isFinite(q.adaptation.period.duration)){var K=M.getCurrentDVRInfo();k=isNaN(K.end)?0:K.end}else k=q.adaptation.period.start+q.adaptation.period.duration;H=C.calcMediaTimeFromPresentationTime(k,q),q.segmentDuration=ne.d/J}catch{H=0}return Math.max(Math.ceil((H-se)/(ne.d/J))-1,0)}return{getSegmentByIndex:function(q,W,ne){if(p(),!q)return null;var J=null,se=!1;return y(q,function(H,k,K,de,ce,qe,ot){if(se||ne<0){var pe=k.media,Mt=de.mediaRange;return K&&(pe=K[ot].media||"",Mt=K[ot].mediaRange),J=(0,f.TJ)(C,g,q,H,de.d,ce,pe,Mt,qe,de.tManifest),!0}return H>=ne*ce-.5*de.d&&(se=!0),!1}),J},getSegmentByTime:function(q,W){if(p(),!q)return null;void 0===W&&(W=null);var ne=null,J=C.calcMediaTimeFromPresentationTime(W,q);return y(q,function(se,H,k,K,de,ce,qe){var ot=parseFloat((J*de).toPrecision(15));if(ot<se+K.d&&ot>=se){var pe=H.media,Mt=K.mediaRange;return k&&(pe=k[qe].media||"",Mt=k[qe].mediaRange),ne=(0,f.TJ)(C,g,q,se,K.d,de,pe,Mt,ce,K.tManifest),!0}return!1}),ne},getMediaFinishedInformation:function(q){if(!q)return 0;var W,ne,J,se,H,k,K,ce=0,qe=0,ot=0;for(K=q.timescale,se=(W=(q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentTemplate||q.adaptation.period.mpd.manifest.Period_asArray[q.adaptation.period.index].AdaptationSet_asArray[q.adaptation.index].Representation_asArray[q.index].SegmentList).SegmentTimeline.S_asArray).length,J=0;J<se;J++)for(k=0,(ne=W[J]).hasOwnProperty("r")&&(k=ne.r),ne.hasOwnProperty("t")&&(qe=(ce=ne.t)/K),k<0&&(k=w(q,W[J+1],ne,K,qe)),H=0;H<=k;H++)ot++,qe=(ce+=ne.d)/K;return{numberOfSegments:ot,mediaTimeOfLastSignaledSegment:qe}}}}h.__dashjs_factory_name="TimelineSegmentsGetter";const O=ye.Z.getClassFactory(h)},2011:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,P),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,P),this.schemeIdUri="",this.value=""}},7688:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>tp});var ye=F(452),P=F.n(ye),f=F(3393),h=F(1553),O=F(3860),S=F(5595),g=F(8512),C=F(5448),M=F(6398),p=F(8825);function y(){var v,m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me,Ae,Y,ge,fe,be,I,$,G=this.context,Z=(0,S.Z)(G).getInstance();function j(){z(),X=!1,ie=0,te=0,me=0,be=!1,Ae=!1,I=!1,Y=NaN,A&&(Z.off(g.Z.DATA_UPDATE_COMPLETED,et,v),Z.off(g.Z.LOADING_PROGRESS,wn,v),Z.off(g.Z.MANIFEST_UPDATED,Ht,v),Z.off(g.Z.STREAMS_COMPOSED,ct,v),Z.off(p.Z.PLAYBACK_ENDED,pr,v),Z.off(p.Z.STREAM_INITIALIZING,_n,v),Z.off(p.Z.REPRESENTATION_SWITCH,gt,v),Z.off(p.Z.BUFFER_LEVEL_STATE_CHANGED,ft,v),Te(),A.removeEventListener("canplay",Oe),A.removeEventListener("canplaythrough",nt),A.removeEventListener("play",pt),A.removeEventListener("waiting",Ot),A.removeEventListener("playing",Gt),A.removeEventListener("pause",An),A.removeEventListener("error",jt),A.removeEventListener("seeking",Sn),A.removeEventListener("seeked",un),A.removeEventListener("timeupdate",Dn),A.removeEventListener("progress",Mn),A.removeEventListener("ratechange",er),A.removeEventListener("loadedmetadata",ar),A.removeEventListener("loadeddata",Hn),A.removeEventListener("stalled",En),A.removeEventListener("ended",hr),A.removeEventListener("volumechange",nr)),ee=null,A=null,V=null,re=null}function ae(){return parseFloat((le(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-ze()).toFixed(5))}function le(Ge){var Ee=Ge||V;return Ee.start+Ee.duration}function ve(){var Ge=arguments.length>0&&void 0!==arguments[0]&&arguments[0];V&&A&&A.getElement()?(Ge&&re&&Ve(ze()),A.play()):X=!0}function z(){V&&A&&A.pause()}function Q(Ge){var Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],st=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=arguments.length>3&&void 0!==arguments[3]&&arguments[3];V&&A&&A.getElement()&&Ge!==(isNaN(Y)?A.getTime():Y)&&((ge=!0===st)||(Y=Ge),m.info("Requesting seek to time: "+Ge+(ge?" (internal)":"")),re&&It&&Ve(Ge),A.setCurrentTime(Ge,Ee))}function Me(){if(V&&A&&re){var Ge=b&&b.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,Ee=L.getCurrentDVRInfo(Ge);return Ee&&Ee.range?Ee.range.end:0}}function Ve(Ge){var Ee=new Date(U.getClientReferenceTime()),st=N.getRegularPeriods()[0],It=U.calcPresentationTimeFromWallTime(Ee,st);ie=It-Ge}function ze(){return V&&A?A.getTime():null}function Je(){return V&&A?A.isPaused():null}function Fe(){return V&&A?A.isSeeking():null}function Ie(){return V&&A?A.isStalled():null}function Ct(){return V&&A?A.getPlaybackRate():null}function mt(){return V&&A?A.getEnded():null}function bt(){return re}function Ft(){var Ge=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!Je()&&re&&0!==A.getReadyState()&&!Fe()&&!be){Ge||(Ge=b.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO);var Ee=ze(),st=function sn(Ge,Ee){var st=L.getCurrentDVRInfo(Ee),It=st?st.range:null;return It?Ge>It.end?Math.max(It.end-ie,It.start):Ge>0&&Ge+.25<It.start&&Math.abs(Ge-It.start)<31536e4?Ae?Math.max(It.end-ie,It.start):It.start:Ge:NaN}(Ee,Ge);!isNaN(st)&&st!==Ee&&!Fe()&&(Ie()||fe||1===A.getReadyState())&&(m.debug("UpdateCurrentTime: Seek to actual time: ".concat(st," from currentTime: ").concat(Ee)),Q(st,!1,!1))}}function Be(){null===ee&&(ee=setInterval(function(){var Ge;Z.trigger(g.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:re,time:new Date}),bt()&&(b.addDVRMetric(),Je()?(Ge=Date.now(),(!De||Ge>De+500)&&(De=Ge,Dn())):Ft())},$.get().streaming.wallclockTimeUpdateInterval))}function Te(){clearInterval(ee),ee=null}function et(Ge){var Ee=N.convertRepresentationToRepresentationInfo(Ge.currentRepresentation),st=Ee?Ee.mediaInfo.streamInfo:null;null!==st&&V.id===st.id&&(V=st)}function Oe(){Z.trigger(g.Z.CAN_PLAY)}function nt(){Z.trigger(g.Z.CAN_PLAY_THROUGH)}function ft(Ge){Ge.streamId===b.getActiveStreamInfo().id&&(fe=Ge.state===O.Z.BUFFER_EMPTY,$.get().streaming.buffer.setStallState&&A.setStallState(Ge.mediaType,Ge.state===O.Z.BUFFER_EMPTY))}function pt(){m.info("Native video element event: play"),Ft(),Be(),Z.trigger(g.Z.PLAYBACK_STARTED,{startTime:ze()})}function Ot(){m.info("Native video element event: waiting"),Z.trigger(g.Z.PLAYBACK_WAITING,{playingTime:ze()})}function Gt(){m.info("Native video element event: playing"),ge=!1,Z.trigger(g.Z.PLAYBACK_PLAYING,{playingTime:ze()})}function An(){m.info("Native video element event: pause"),Z.trigger(g.Z.PLAYBACK_PAUSED,{ended:mt()})}function Sn(){if(!ge){var Ge=ze();isNaN(Y)||Y===Ge||(Ge=Y),Y=NaN,m.info("Seeking to: "+Ge),Be(),Z.trigger(g.Z.PLAYBACK_SEEKING,{seekTime:Ge,streamId:V.id})}}function un(){m.info("Native video element event: seeked"),ge=!1,Z.trigger(g.Z.PLAYBACK_SEEKED)}function Dn(){V&&Z.trigger(g.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:ae(),time:ze(),streamId:V.id})}function Mn(){Z.trigger(g.Z.PLAYBACK_PROGRESS,{streamId:V.id})}function er(){var Ge=Ct();m.info("Native video element event: ratechange: ",Ge),Z.trigger(g.Z.PLAYBACK_RATE_CHANGED,{playbackRate:Ge})}function ar(){m.info("Native video element event: loadedmetadata"),Z.trigger(g.Z.PLAYBACK_METADATA_LOADED),Be()}function Hn(){m.info("Native video element event: loadeddata"),Z.trigger(g.Z.PLAYBACK_LOADED_DATA)}function hr(){m.info("Native video element event: ended"),z(),Te();var Ge=b?b.getActiveStreamInfo():null;Ge&&Z.trigger(g.Z.PLAYBACK_ENDED,{isLast:Ge.isLast})}function nr(){Z.trigger(g.Z.PLAYBACK_VOLUME_CHANGED)}function pr(Ge){if(ee&&Ge.isLast){m.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Ee=Ge.seekTime?Ge.seekTime:le();A.setCurrentTime(Ee),z(),Te()}}function jt(Ge){Z.trigger(g.Z.PLAYBACK_ERROR,{error:(Ge.target||Ge.srcElement).error})}function wn(Ge){if(!1===Ge.stream&&Ae&&!isNaN(Ge.request.duration)){var Ee=1.2*Ge.request.duration;Ee>ie&&(m.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Ee.toFixed(2)),ie=Ee,te=Ee)}}function En(Ge){Z.trigger(g.Z.PLAYBACK_STALLED,{e:Ge})}function _n(Ge){var Ee;(Ee=Ge.mediaInfo)&&Ee.supplementalProperties&&"true"===Ee.supplementalProperties[f.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(m.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),Ae=!0)}function gt(Ge){var Ee=b.getActiveStreamInfo();Ge&&Ee&&Ge.currentRepresentation&&Ge.streamId&&Ge.streamId===Ee.id&&Ge.mediaType&&(Ge.mediaType===f.Z.VIDEO||Ge.mediaType===f.Z.AUDIO)&&(Ae=!Ge.currentRepresentation.availabilityTimeComplete)&&!I&&(I=!0)}function Ht(){be=!0}function ct(){be=!1}return v={initialize:function(Ge,Ee){V=Ge,!0!==Ee&&(A.addEventListener("canplay",Oe),A.addEventListener("canplaythrough",nt),A.addEventListener("play",pt),A.addEventListener("waiting",Ot),A.addEventListener("playing",Gt),A.addEventListener("pause",An),A.addEventListener("error",jt),A.addEventListener("seeking",Sn),A.addEventListener("seeked",un),A.addEventListener("timeupdate",Dn),A.addEventListener("progress",Mn),A.addEventListener("ratechange",er),A.addEventListener("loadedmetadata",ar),A.addEventListener("loadeddata",Hn),A.addEventListener("stalled",En),A.addEventListener("ended",hr),A.addEventListener("volumechange",nr),re=V.manifestInfo.isDynamic,fe=!1,ge=!1,Z.on(g.Z.DATA_UPDATE_COMPLETED,et,v),Z.on(g.Z.LOADING_PROGRESS,wn,v),Z.on(g.Z.MANIFEST_UPDATED,Ht,v),Z.on(g.Z.STREAMS_COMPOSED,ct,v),Z.on(p.Z.PLAYBACK_ENDED,pr,v,{priority:S.Z.EVENT_PRIORITY_HIGH}),Z.on(p.Z.STREAM_INITIALIZING,_n,v),Z.on(p.Z.REPRESENTATION_SWITCH,gt,v),Z.on(p.Z.BUFFER_LEVEL_STATE_CHANGED,ft,v),X&&(X=!1,ve()))},setConfig:function(Ge){Ge&&(Ge.streamController&&(b=Ge.streamController),Ge.serviceDescriptionController&&(D=Ge.serviceDescriptionController),Ge.dashMetrics&&(L=Ge.dashMetrics),Ge.adapter&&(N=Ge.adapter),Ge.videoModel&&(A=Ge.videoModel),Ge.timelineConverter&&(U=Ge.timelineConverter),Ge.settings&&($=Ge.settings))},getTimeToStreamEnd:ae,getBufferLevel:function(){var Ge=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ee=null;return b.getActiveStreamProcessors().forEach(function(st){if(!Ge||0===Ge.length||-1===Ge.indexOf(st.getType())){var It=st.getBufferLevel();Ee=null===Ee?It:Math.min(Ee,It)}}),Ee},getPlaybackStalled:function(){return fe},getTime:ze,getLowLatencyModeEnabled:function(){return Ae},getInitialCatchupModeActivated:function(){return I},getIsManifestUpdateInProgress:function(){return be},getPlaybackRate:Ct,getPlayedRanges:function(){return V&&A?A.getPlayedRanges():null},getEnded:mt,getIsDynamic:bt,getStreamController:function(){return b},computeAndSetLiveDelay:function(Ge,Ee){var st,It,Qt,tn=!isNaN(Ge)&&isFinite(Ge)?Ge:NaN,Xn=N.getSuggestedPresentationDelay(),Yr=D.getServiceDescriptionSettings();return st=isNaN($.get().streaming.delay.liveDelay)?null===$.get().streaming.delay.liveDelayFragmentCount||isNaN($.get().streaming.delay.liveDelayFragmentCount)||isNaN(tn)?Yr&&!isNaN(Yr.liveDelay)&&Yr.liveDelay>0?Yr.liveDelay:!0===$.get().streaming.delay.useSuggestedPresentationDelay&&null!==Xn&&!isNaN(Xn)&&Xn>0?Xn:isNaN(tn)?Ee&&!isNaN(Ee.minBufferTime)?4*Ee.minBufferTime:4*V.manifestInfo.minBufferTime:4*tn:tn*$.get().streaming.delay.liveDelayFragmentCount:$.get().streaming.delay.liveDelay,null!==(Qt=N.getAvailabilityStartTime())&&(me=Qt),It=Ee&&Ee.dvrWindowSize>0?Math.min(st,Ee.dvrWindowSize):st,ie=It,te=It,It},getLiveDelay:function(){return ie},getOriginalLiveDelay:function(){return te},getCurrentLiveLatency:function(){if(!re||isNaN(me))return NaN;var Ge=ze();if(isNaN(Ge)||0===Ge)return 0;var Ee=(new Date).getTime()+1e3*U.getClientTimeOffset();return Math.max(((Ee-me-1e3*Ge)/1e3).toFixed(3),0)},play:ve,isPaused:Je,isStalled:Ie,pause:z,isSeeking:Fe,getStreamEndTime:le,seek:Q,seekToOriginalLive:function(){var Ge=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],st=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=Me();0!==It&&Q(It-(ie=te),Ge,Ee,st)},seekToCurrentLive:function(){var Ge=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],st=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=Me();0!==It&&Q(It-ie,Ge,Ee,st)},reset:j,updateCurrentTime:Ft,getAvailabilityStartTime:function(){return me}},m=(0,M.Z)(G).getInstance().getLogger(v),j(),v}y.__dashjs_factory_name="PlaybackController";const w=C.Z.getSingletonFactory(y);var q=F(3186),W="loading",ne="executed",J="failed";function se(v){var m,b,D,L,N=(v=v||{}).eventBus,A=v.events,U=v.dashMetrics,ee=v.fragmentLoader,te=v.streamInfo,V=v.type;function re(I){var $;return!!I&&($=!1,D.some(function(G){if(Z=I,j=G,!isNaN(Z.index)&&Z.startTime===j.startTime&&Z.adaptationIndex===j.adaptationIndex&&Z.type===j.type||(ae=I,le=G,isNaN(ae.index)&&isNaN(le.index)&&ae.quality===le.quality)||function(ae,le){return ae.action===q.Z.ACTION_COMPLETE&&ae.action===le.action}(I,G))return $=!0;var ae,le,Z,j}),$)}function X(I){return isNaN(I.duration)?.25:Math.min(I.duration/8,.5)}function De(I){D=D.filter(function($){var G=X($);return isNaN($.startTime)||void 0!==I&&$.startTime>=I-G})}function me(I,$){$<=I+.5||(D=D.filter(function(G){var Z=X(G);return isNaN(G.startTime)||G.startTime>=$-Z||isNaN(G.duration)||G.startTime+G.duration<=I+Z}))}function Se(I,$,G){for(var Z=I.length-1;Z>=0;Z--){var j=I[Z],ae=j.startTime,le=ae+j.duration;if(G=isNaN(G)?X(j):G,!isNaN(ae)&&!isNaN(le)&&$+G>=ae&&$-G<le||isNaN(ae)&&isNaN($))return j}return null}function Ae(I,$){U.addSchedulingInfo(I,$),U.addRequestsQueue(I.mediaType,L,D)}function Y(I){I.sender===ee&&(L.splice(L.indexOf(I.request),1),I.response&&!I.error&&D.push(I.request),Ae(I.request,I.error?J:ne),N.trigger(A.FRAGMENT_LOADING_COMPLETED,{request:I.request,response:I.response,error:I.error,sender:this},{streamId:te.id,mediaType:V}))}function ge(I){I.sender===ee&&N.trigger(A.FRAGMENT_LOADING_PROGRESS,{request:I.request,response:I.response,error:I.error,sender:this},{streamId:te.id,mediaType:V})}function fe(I){I.sender===ee&&N.trigger(A.FRAGMENT_LOADING_ABANDONED,{request:I.request},{streamId:te.id,mediaType:V})}function be(){D=[],L=[]}return m={getStreamId:function(){return te.id},getType:function(){return V},getRequests:function(I){var G=[];return(I?I.state instanceof Array?I.state:[I.state]:[]).forEach(function(Z){var ae,le,j=function(ae){var le;switch(ae){case W:le=L;break;case ne:le=D;break;default:le=[]}return le}(Z);G=G.concat((ae=j,(le=I).hasOwnProperty("time")?[Se(ae,le.time,le.threshold)]:ae.filter(function(ve){for(var z in le)if("state"!==z&&le.hasOwnProperty(z)&&ve[z]!=le[z])return!1;return!0})))}),G},isFragmentLoaded:re,isFragmentLoadedOrPending:function(I){var $,G=!1,Z=0;if(!(G=re(I)))for(Z=0;Z<L.length;Z++)I.url===($=L[Z]).url&&I.startTime===$.startTime&&(G=!0);return G},removeExecutedRequestsBeforeTime:De,removeExecutedRequestsAfterTime:function(I){D=D.filter(function($){return isNaN($.startTime)||void 0!==I&&$.startTime<I})},syncExecutedRequestsWithBufferedRange:function(I,$){if(I&&0!==I.length){for(var G=0,Z=0,j=I.length;Z<j;Z++)me(G,I.start(Z)),G=I.end(Z);$>0&&me(G,$)}else De()},abortRequests:function(){b.debug("abort requests"),ee.abort(),L=[]},executeRequest:function(I){var $;I.action===q.Z.ACTION_DOWNLOAD?(Ae(I,W),L.push(I),N.trigger(A.FRAGMENT_LOADING_STARTED,{request:$=I},{streamId:te.id,mediaType:V}),ee.load($)):b.warn("Unknown request action.")},reset:function(){N.off(A.LOADING_COMPLETED,Y,this),N.off(A.LOADING_DATA_PROGRESS,ge,this),N.off(A.LOADING_ABANDONED,fe,this),ee&&ee.reset(),be()},resetInitialSettings:be,addExecutedRequest:function(I){D.push(I)}},b=v.debug.getLogger(m),be(),N.on(A.LOADING_COMPLETED,Y,m),N.on(A.LOADING_DATA_PROGRESS,ge,m),N.on(A.LOADING_ABANDONED,fe,m),m}se.__dashjs_factory_name="FragmentModel";var H=C.Z.getClassFactory(se);H.FRAGMENT_MODEL_LOADING=W,H.FRAGMENT_MODEL_EXECUTED=ne,H.FRAGMENT_MODEL_CANCELED="canceled",H.FRAGMENT_MODEL_FAILED=J,C.Z.updateClassFactory(se.__dashjs_factory_name,H);const k=H;var K=F(5459);function de(v){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function ce(v,m){return(ce=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function ot(v){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const pe=new(function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&ce(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=ot(m);if(b){var U=ot(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function qe(v,m){return!m||"object"!==de(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){var N;return function(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")}(this,L),(N=D.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,N.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,N.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,N.SEGMENT_BASE_LOADER_ERROR_CODE=15,N.TIME_SYNC_FAILED_ERROR_CODE=16,N.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,N.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,N.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,N.APPEND_ERROR_CODE=20,N.REMOVE_ERROR_CODE=21,N.DATA_UPDATE_FAILED_ERROR_CODE=22,N.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,N.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,N.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,N.DOWNLOAD_ERROR_ID_SIDX_CODE=26,N.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,N.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,N.DOWNLOAD_ERROR_ID_XLINK_CODE=29,N.MANIFEST_ERROR_ID_PARSE_CODE=31,N.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,N.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,N.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,N.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,N.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",N.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",N.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",N.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",N.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",N.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",N.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",N.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",N.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",N.APPEND_ERROR_MESSAGE="chunk is not defined",N.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",N.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",N.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",N.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",N.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",N.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",N}return L}(F(2230).Z));var Mt=F(1264),He=F(7855);function $e(v){var m,b,D,L,N,A,U=this.context,ee=(0,Mt.Z)(U).getInstance(),ie=v.textController,te=v.eventBus,V=[],re=[],X=!1,De=v.mediaSource,me=null;function Se(j){return new Promise(function(ae){Z(function(){L.changeType&&L.changeType(j),ae()})})}function Ae(j){return L=ie.getTextSourceBuffer(j),Promise.resolve()}function Y(){if("function"==typeof L.addEventListener)try{L.addEventListener("updateend",$,!1),L.addEventListener("error",G,!1),L.addEventListener("abort",G,!1)}catch{A=setInterval($,50)}else A=setInterval($,50)}function ge(j){return new Promise(function(ae){L&&ee.get().streaming.buffer.useAppendWindow?Z(function(){try{if(!L)return void ae();var le=De.duration,ve=0;j&&!isNaN(j.start)&&!isNaN(j.duration)&&isFinite(j.duration)&&(le=j.start+j.duration),j&&!isNaN(j.start)&&(ve=j.start),L.appendWindowEnd===le&&L.appendWindowStart===ve||(L.appendWindowStart=0,L.appendWindowEnd=le+.01,L.appendWindowStart=Math.max(ve-.1,0),D.debug("Updated append window for ".concat(N.type,". Set start to ").concat(L.appendWindowStart," and end to ").concat(L.appendWindowEnd))),ae()}catch{D.warn("Failed to set append window"),ae()}}):ae()})}function fe(j){return new Promise(function(ae){L?Z(function(){try{L.timestampOffset===j||isNaN(j)||(L.timestampOffset=j,D.debug("Set MSE timestamp offset to ".concat(j))),ae()}catch{ae()}}):ae()})}function be(){if(!X&&re.length>0){X=!0;var j=re[0];re.splice(0,1);var ae=function(){X=!1,re.length>0&&be.call(this),j&&j.data&&j.data.segmentType&&j.data.segmentType!==He.w.INIT_SEGMENT_TYPE&&delete j.data.bytes,j.promise.resolve({chunk:j.data})};try{me=j.request,0===j.data.bytes.byteLength?ae.call(this):(L.appendBuffer?L.appendBuffer(j.data.bytes):L.append(j.data.bytes,j.data),Z(ae.bind(this)))}catch(le){D.fatal('SourceBuffer append failed "'+le+'"'),re.length>0?be():X=!1,delete j.data.bytes,j.promise.reject({chunk:j.data,error:new K.Z(le.code,le.message)})}}}function I(){V.length>0&&(L.updating||(V.shift()(),I()))}function $(){L.updating||I()}function G(j){te.trigger(g.Z.SOURCE_BUFFER_ERROR,{error:j.target||{},lastRequestAppended:me},{streamId:N.streamInfo.id,mediaType:b})}function Z(j){V.push(j),L.updating||I()}return m={getType:function(){return b},getAllBufferRanges:function(){try{return L.buffered}catch(j){return D.error("getAllBufferRanges exception: "+j.message),null}},getBuffer:function(){return L},append:function(j){var ae=this,le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(ve,z){j?(re.push({data:j,promise:{resolve:ve,reject:z},request:le}),Z(be.bind(ae))):z({chunk:j,error:new K.Z(pe.APPEND_ERROR_CODE,pe.APPEND_ERROR_MESSAGE)})})},remove:function(j){return new Promise(function(ae,le){var ve=j.start,z=j.end;ve>=0&&z>ve?Z(function(){try{L.remove(ve,z),Z(function(){ae({from:ve,to:z,unintended:!1}),j.resolve&&j.resolve()})}catch(Q){le({from:ve,to:z,unintended:!1,error:new K.Z(pe.REMOVE_ERROR_CODE,pe.REMOVE_ERROR_MESSAGE)}),j.reject&&j.reject(Q)}}):ae()})},abort:function(){return new Promise(function(j){try{re=[],"open"===De.readyState?Z(function(){try{L&&L.abort(),j()}catch{j()}}):(L&&L.setTextTrack&&"ended"===De.readyState&&L.abort(),j())}catch{j()}})},reset:function(){if(L){try{V=[],function(){try{"function"==typeof L.removeEventListener&&(L.removeEventListener("updateend",$,!1),L.removeEventListener("error",G,!1),L.removeEventListener("abort",G,!1)),clearInterval(A)}catch(j){D.error(j)}}(),X=!1,re=[],L.getClassName&&"TextSourceBuffer"===L.getClassName()||(D.debug("Removing sourcebuffer from media source"),De.removeSourceBuffer(L))}catch{}L=null}me=null},updateTimestampOffset:fe,initializeForStreamSwitch:function(j,ae,le){b=(N=j).type;var ve=N.codec;L=le.getBuffer(),Y();var z=[];return z.push(new Promise(function(Q){Z(function(){var Me=L.appendWindowStart,Ve=L.appendWindowEnd;L&&(L.abort(),L.appendWindowStart=Me,L.appendWindowEnd=Ve),Q()})})),z.push(ge(N.streamInfo)),ee.get().streaming.buffer.useChangeTypeForTrackSwitch&&z.push(Se(ve)),ae&&void 0!==ae.MSETimeOffset&&z.push(fe(ae.MSETimeOffset)),Promise.all(z)},initializeForFirstUse:function(j,ae,le){b=(N=ae).type;var ve=N.codec;try{if(ve.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ae(j);L=De.addSourceBuffer(ve),Y();var z=[];return z.push(ge(N.streamInfo)),le&&void 0!==le.MSETimeOffset&&z.push(fe(le.MSETimeOffset)),Promise.all(z)}catch(Q){return N.type==f.Z.TEXT&&!N.isFragmented||-1!==ve.indexOf('codecs="stpp')||-1!==ve.indexOf('codecs="vtt')?Ae(j):Promise.reject(Q)}},updateAppendWindow:ge,changeType:Se},D=(0,M.Z)(U).getInstance().getLogger(m),m}$e.__dashjs_factory_name="SourceBufferSink";const Ne=C.Z.getClassFactory($e);function je(v){var m,b,D,N=[],A=v;function U(ee,ie){return N=N.filter(function(te){return!((isNaN(ie)||te.start<ie)&&(isNaN(ee)||te.end>ee))}),Promise.resolve()}return m={getAllBufferRanges:function(){for(var ee=[],ie=0;ie<N.length;ie++){var te=N[ie];0===ee.length||te.start>ee[ee.length-1].end?ee.push({start:te.start,end:te.end}):ee[ee.length-1].end=te.end}var V={start:function(re){return ee[re].start},end:function(re){return ee[re].end}};return Object.defineProperty(V,"length",{get:function(){return ee.length}}),V},append:function(ee){return"InitializationSegment"!==ee.segmentType?(N.push(ee),N.sort(function(ie,te){return ie.start-te.start}),D=null):D=ee,b.debug("PreBufferSink appended chunk s: "+ee.start+"; e: "+ee.end),A&&A({chunk:ee}),Promise.resolve()},remove:U,abort:function(){return Promise.resolve()},discharge:function(ee,ie){var V,re,te=(V=ee,re=ie,N.filter(function(X){return(isNaN(re)||X.start<re)&&(isNaN(V)||X.end>V)}));return D&&(te.push(D),D=null),U(ee,ie),te},reset:function(){N=[],D=null,A=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(ee){ee()},getBuffer:function(){return this}},b=(0,M.Z)(this.context).getInstance().getLogger(m),m}je.__dashjs_factory_name="PreBufferSink";const rt=C.Z.getClassFactory(je);function Rt(){var v={};return{save:function(m){var b=m.streamId,D=m.representationId;v[b]=v[b]||{},v[b][D]=m},extract:function(m,b){return v&&v[m]&&v[m][b]?v[m][b]:null},reset:function(){v={}}}}Rt.__dashjs_factory_name="InitCache";const ut=C.Z.getSingletonFactory(Rt);var ht="BufferController";function kt(v){v=v||{};var m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me,Se,Ae,Y,ge,fe,be,I=this.context,$=(0,S.Z)(I).getInstance(),G=v.errHandler,Z=v.fragmentModel,j=v.representationController,ae=v.adapter,le=v.textController,ve=v.abrController,z=v.playbackController,Q=v.streamInfo,Me=v.type,Ve=v.settings;function ze(ct){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(Ee,st){A=ct,ie&&Ge&&"function"==typeof ie.discharge?(te=ie,Fe(Ge).then(function(){Ee()}).catch(function(It){st(It)})):Ee()})}function Je(ct){return ae.convertRepresentationToRepresentationInfo(j.getRepresentationForQuality(ct))}function Fe(ct){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Ee,st){Y&&ct?A?(V=!1,function Ct(ct,Ge){return new Promise(function(Ee,st){var Qt,tn,Xn,Yr,It=ve.getQualityFor(Me,Q.id);ie=Ne(I).create({mediaSource:A,textController:le,eventBus:$}),(Qt=ct,tn=Ge,Xn=It,Yr=Je(Xn),tn&&tn[Me]&&(Me===f.Z.VIDEO||Me===f.Z.AUDIO)?ie.initializeForStreamSwitch(Qt,Yr,tn[Me]):ie.initializeForFirstUse(Q,Qt,Yr)).then(function(){return Hn(Je(It))}).then(function(){Ee(ie)}).catch(function(Qt){b.fatal("Caught error on create SourceBuffer: "+Qt),G.error(new K.Z(pe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,pe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+Me)),st(Qt)})})}(ct,Ge).then(function(It){Ee(It)}).catch(function(It){st(It)})):(V=!0,function Ie(){var ct=this;return new Promise(function(Ge,Ee){var st=ve.getQualityFor(Me,Q.id);ie=rt(I).create(Be.bind(ct)),Hn(Je(st)).then(function(){Ge(ie)}).catch(function(){Ee()})})}().then(function(It){Ee(It)}).catch(function(It){st(It)})):Ee(null)})}function mt(ct){Ve.get().streaming.cacheInitSegments&&(b.info("Init fragment finished loading saving to",Me+"'s init cache"),Y.save(ct.chunk)),b.debug("Append Init fragment",Me," with representationId:",ct.chunk.representationId," and quality:",ct.chunk.quality,", data size:",ct.chunk.bytes.byteLength),Ft(ct.chunk)}function bt(ct){Ft(ct.chunk,ct.request)}function Ft(ct){ie.append(ct,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Ee){Be(Ee)}).catch(function(Ee){Be(Ee)}),ct.mediaInfo.type===f.Z.VIDEO&&gt(g.Z.VIDEO_CHUNK_RECEIVED,{chunk:ct})}function sn(ct){if(ct&&ct.length>0)for(var Ge=0,Ee=ct.length;Ge<Ee;Ge++)b.debug("Buffered range: "+ct.start(Ge)+" - "+ct.end(Ge)+", currentTime = ",z.getTime())}function Be(ct){if(ct.error)return 22===ct.error.code&&function(){if(Ae=!0,N=.8*wn(),b.warn("Quota exceeded, Critical Buffer: "+N),N>0){var st=Math.max(.2*N,1),It=N-st,Qt=Math.min(Ve.get().streaming.buffer.bufferTimeAtTopQuality,.9*It),tn=Math.min(Ve.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*It),Xn={streaming:{buffer:{bufferToKeep:parseFloat(st.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Qt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(tn.toFixed(5))}}};Ve.update(Xn)}}(),void(22!==ct.error.code&&_n()||(b.warn("Clearing playback buffer to overcome quota exceed situation"),gt(g.Z.QUOTA_EXCEEDED,{criticalBufferLevel:N,quotaExceededTime:ct.chunk.start}),Mn(Dn())));if(ie&&(Ot(),Ae=!1,(De=ct.chunk)&&De.endFragment)){De&&!isNaN(De.index)&&(U=Math.max(De.index,U),Gt());var Ge=ie.getAllBufferRanges();De.segmentType===He.w.MEDIA_SEGMENT_TYPE&&(sn(Ge),Oe(),function(){if(!isNaN(be)&&!V)if(Me===f.Z.AUDIO||Me===f.Z.VIDEO){var st=z.getTime(),It=pt(st,0),Qt=pt(be,0);if(It&&Qt&&It.start===Qt.start)be=NaN;else{var tn=j.getCurrentRepresentation().segmentDuration,Xn=pt(be,tn);Xn&&(Ve.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(st-be)>tn?be<=Xn.end&&z.seek(Math.max(be,Xn.start),!1,!0):st<Xn.start&&z.seek(Xn.start,!1,!0))}}else be=NaN}());var Ee=!1;re&&(re.indexOf(De)>0&&(Ee=!0),re=null),De&&!Ee&&gt(g.Z.BYTES_APPENDED_END_FRAGMENT,{quality:De.quality,startTime:De.start,index:De.index,bufferedRanges:Ge,segmentType:De.segmentType,mediaType:Me})}}function Te(){return new Promise(function(ct,Ge){var Ee=et();if(!Ee||0===Ee.length)return Oe(),void ct();Mn(Ee).then(function(){ct()}).catch(function(st){Ge(st)})})}function et(ct){var Ge=[],Ee=ie.getAllBufferRanges();if(!Ee||0===Ee.length)return Ge;if(!ct&&0!==ct||isNaN(ct))Ge.push({start:Ee.start(0),end:Ee.end(Ee.length-1)+.5});else{var st=function(Qt,tn){var Xn=Ve.get().streaming.buffer.bufferToKeep,Yr=tn.start(0);if(Qt-Yr>Xn){var Vi=Math.max(0,Qt-Xn),zr=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Qt,threshold:.01})[0];if(zr&&(Vi=Math.min(zr.startTime,Vi)),Vi>0)return{start:Yr,end:Vi}}return null}(ct,Ee),It=function(Qt,tn){var Xn=tn.end(tn.length-1)+.5,Yr=En(Qt),Vi=Q.manifestInfo.duration>=Ve.get().streaming.buffer.longFormContentDurationThreshold?Ve.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Ve.get().streaming.buffer.bufferTimeAtTopQuality,zr=isNaN(Yr)?Qt:Math.min(Yr,Qt+Vi);if(zr>=tn.end(tn.length-1))return null;var Ki=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Qt,threshold:.01})[0];if(Ki&&(zr=Math.max(Ki.startTime+Ki.duration,zr)),Ve.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Pi=0;Pi<tn.length;Pi++)if(tn.start(Pi)<=Qt&&Qt<=tn.end(Pi)&&tn.start(Pi)<=zr&&zr<=tn.end(Pi)){var qo=zr;zr=Pi+1<tn.length?tn.start(Pi+1):tn.end(Pi)+1,b.debug("Buffered range ["+tn.start(Pi)+", "+tn.end(Pi)+"] overlaps with targetTime "+Qt+" and range to be pruned ["+qo+", "+Xn+"], using ["+zr+", "+Xn+"] instead"+(zr<Xn?"":" (no actual pruning)"));break}return zr<tn.end(tn.length-1)?{start:zr,end:Xn}:null}(ct,Ee);st&&Ge.push(st),It&&Ge.push(It)}return Ge}function Oe(){(!fe||Me===f.Z.TEXT&&le.isTextEnabled())&&Ot()}function nt(){An()}function ft(){An(),be=NaN}function pt(ct,Ge){var Ee,st,It=ie.getAllBufferRanges(),Qt=0,tn=0,Xn=null,Yr=null,Vi=0,zr=isNaN(Ge)?.15:Ge;if(null!=It){for(st=0,Ee=It.length;st<Ee;st++)if(Qt=It.start(st),tn=It.end(st),null===Xn)Vi=Math.abs(Qt-ct),(ct>=Qt&&ct<tn||Vi<=zr)&&(Xn=Qt,Yr=tn);else{if(!((Vi=Qt-Yr)<=zr))break;Yr=tn}if(null!==Xn)return{start:Xn,end:Yr}}return null}function Ot(){if(z){var ct=z.getTime()||0;V&&(ct=isNaN(be)?0:be);var Ge=Ve.get().streaming.gaps.jumpGaps&&!isNaN(Ve.get().streaming.gaps.smallGapLimit)?Ve.get().streaming.gaps.smallGapLimit:NaN;L=Math.max((Ee=ct,st=Ge,Ve.get().streaming.gaps.jumpGaps&&(st=Ve.get().streaming.gaps.smallGapLimit),null===(It=pt(Ee,st))?0:It.end-Ee),0),gt(g.Z.BUFFER_LEVEL_UPDATED,{mediaType:Me,bufferLevel:L}),An()}var Ee,st,It}function Gt(){var ct=U>=ee-1,Ge=z.getTimeToStreamEnd(Q)-L<1e-5;!ct&&!Ge||D||(jt(!0),b.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(Q.id," and type ").concat(Me)))}function An(){Me!==f.Z.AUDIO&&Me!==f.Z.VIDEO||((!z.getLowLatencyModeEnabled()&&L<Ve.get().streaming.buffer.stallThreshold||0===L)&&!D?Sn(O.Z.BUFFER_EMPTY):(D||L>=Ve.get().streaming.buffer.stallThreshold||z.getLowLatencyModeEnabled()&&L>0)&&Sn(O.Z.BUFFER_LOADED))}function Sn(ct){X===ct||ct===O.Z.BUFFER_EMPTY&&0===z.getTime()||Me===f.Z.TEXT&&!le.isTextEnabled()||(X=ct,gt(g.Z.BUFFER_LEVEL_STATE_CHANGED,{state:ct}),gt(ct===O.Z.BUFFER_LOADED?g.Z.BUFFER_LOADED:g.Z.BUFFER_EMPTY),b.debug(ct===O.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function un(){ie&&Me!==f.Z.TEXT&&(D||Mn(Dn()))}function Dn(){var ct=[],Ge=ie.getAllBufferRanges();if(!Ge||0===Ge.length)return ct;var Ee=z.getTime(),st=Math.max(0,Ee-Ve.get().streaming.buffer.bufferToKeep),It=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Ee,threshold:.01})[0];if(It)st=Math.min(It.startTime,st);else if(0===Ee&&z.getIsDynamic())return[];if(Ge.start(0)<=st){for(var Qt={start:0,end:st},tn=0;tn<Ge.length&&Ge.end(tn)<=st;tn++)Qt.end=Ge.end(tn);Qt.start<Qt.end&&ct.push(Qt)}return ct}function Mn(ct){return new Promise(function(Ge,Ee){if(ct&&ie&&0!==ct.length){var st=[];ct.forEach(function(It){var Qt;st.push((Qt=It,new Promise(function(tn,Xn){Qt.resolve=tn,Qt.reject=Xn,ge.push(Qt)})))}),Se||er(),Promise.all(st).then(function(){Ge()}).catch(function(It){Ee(It)})}else Ge()})}function er(){try{if(0===ge.length||!ie)return b.debug("Nothing to prune, halt pruning"),ge=[],void(Se=!1);var ct=ie.getBuffer();if(!ct||!ct.buffered||0===ct.buffered.length)return b.debug("SourceBuffer is empty (or does not exist), halt pruning"),ge=[],void(Se=!1);var Ge=ge.shift();b.debug("".concat(Me,": Removing buffer from: ").concat(Ge.start," to ").concat(Ge.end)),Se=!0,z.getTime()<Ge.end&&jt(!1),ie.remove(Ge).then(function(Ee){ar(Ee)}).catch(function(Ee){ar(Ee)})}catch{Se=!1}}function ar(ct){b.debug("onRemoved buffer from:",ct.from,"to",ct.to),sn(ie.getAllBufferRanges()),0===ge.length&&(Se=!1,Ot()),ct.unintended&&(b.warn("Detected unintended removal from:",ct.from,"to",ct.to,"setting streamprocessor time to",ct.from),gt(g.Z.SEEK_TARGET,{time:ct.from})),Se?er():(fe?fe=!1:Ot(),gt(g.Z.BUFFER_CLEARED,{from:ct.from,to:ct.to,unintended:ct.unintended,hasEnoughSpaceToAppend:_n(),quotaExceeded:Ae}))}function Hn(ct){return new Promise(function(Ge){ct&&void 0!==ct.MSETimeOffset&&ie&&ie.updateTimestampOffset?ie.updateTimestampOffset(ct.MSETimeOffset).then(function(){Ge()}).catch(function(){Ge()}):Ge()})}function hr(){return ie&&!D?ie.updateAppendWindow(Q):Promise.resolve()}function nr(){++me*(Ve.get().streaming.wallclockTimeUpdateInterval/1e3)>=Ve.get().streaming.buffer.bufferPruningInterval&&(me=0,un())}function pr(){An()}function jt(ct){(D=ct)?gt(g.Z.BUFFERING_COMPLETED):ee=Number.POSITIVE_INFINITY}function wn(){try{var ct,Ge,Ee=ie.getAllBufferRanges(),st=0;if(!Ee)return st;for(Ge=0,ct=Ee.length;Ge<ct;Ge++)st+=Ee.end(Ge)-Ee.start(Ge);return st}catch{return 0}}function En(ct){try{var Ge=ct,Ee=ie.getAllBufferRanges();if(!Ee||0===Ee.length)return NaN;for(var st=0;Ge===ct&&st<Ee.length;){var It=Ee.start(st),Qt=Ee.end(st);Ge>=It&&Ge<=Qt&&(Ge=Qt),st+=1}return Ge===ct?NaN:Ge}catch{}}function _n(){var ct=wn();return isNaN(ct)||ct<N}function gt(ct,Ge){$.trigger(ct,Ge||{},{streamId:Q.id,mediaType:Me})}function Ht(ct,Ge){if(N=Number.POSITIVE_INFINITY,X=void 0,ee=Number.POSITIVE_INFINITY,U=0,De=null,D=!1,Se=!1,Ae=!1,L=0,me=0,ge=[],be=NaN,V=!1,ie){var Ee=ie;ie=null,ct||Ge||Ee.abort().then(function(){Ee.reset(Ge),Ee=null})}fe=!1}return m={initialize:function(ct){ze(ct),$.on(g.Z.INIT_FRAGMENT_LOADED,mt,m),$.on(g.Z.MEDIA_FRAGMENT_LOADED,bt,m),$.on(g.Z.WALLCLOCK_TIME_UPDATED,nr,m),$.on(p.Z.PLAYBACK_PLAYING,ft,m),$.on(p.Z.PLAYBACK_PROGRESS,Oe,m),$.on(p.Z.PLAYBACK_TIME_UPDATED,Oe,m),$.on(p.Z.PLAYBACK_RATE_CHANGED,pr,m),$.on(p.Z.PLAYBACK_STALLED,nt,m)},getStreamId:function(){return Q.id},getType:function(){return Me},getBufferControllerType:function(){return ht},createBufferSink:Fe,dischargePreBuffer:function(){if(ie&&te&&"function"==typeof te.discharge){var ct=te.getAllBufferRanges();if(ct.length>0){for(var Ge="Beginning "+Me+"PreBuffer discharge, adding buffer for:",Ee=0;Ee<ct.length;Ee++)Ge+=" start: "+ct.start(Ee)+", end: "+ct.end(Ee)+";";b.debug(Ge)}else b.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");re=[];for(var st=te.discharge(),It=null,Qt=0;Qt<st.length;Qt++){var tn=st[Qt];if(tn.segmentType!==He.w.INIT_SEGMENT_TYPE){var Xn=Y.extract(tn.streamId,tn.representationId);Xn&&It!==Xn&&(re.push(Xn),ie.append(Xn),It=Xn)}re.push(tn),ie.append(tn)}te.reset(),te=null}},getBuffer:function(){return ie},getBufferLevel:function(){return L},getRangeAt:pt,hasBufferAtTime:function(ct){try{var Ge=ie.getAllBufferRanges();if(!Ge||0===Ge.length)return!1;for(var Ee=0;Ee<Ge.length;){var st=Ge.start(Ee),It=Ge.end(Ee);if(ct>=st&&ct<=It)return!0;Ee+=1}return!1}catch(Qt){return b.error(Qt),!1}},pruneBuffer:un,setMediaSource:ze,getMediaSource:function(){return A},appendInitSegmentFromCache:function(ct){var Ge=Y.extract(Q.id,ct);return!!Ge&&(b.info("Append Init fragment",Me," with representationId:",Ge.representationId," and quality:",Ge.quality,", data size:",Ge.bytes.byteLength),Ft(Ge),!0)},getIsBufferingCompleted:function(){return D},setIsBufferingCompleted:jt,getIsPruningInProgress:function(){return Se},reset:function(ct,Ge){$.off(g.Z.INIT_FRAGMENT_LOADED,mt,this),$.off(g.Z.MEDIA_FRAGMENT_LOADED,bt,this),$.off(g.Z.WALLCLOCK_TIME_UPDATED,nr,this),$.off(p.Z.PLAYBACK_PLAYING,ft,this),$.off(p.Z.PLAYBACK_PROGRESS,Oe,this),$.off(p.Z.PLAYBACK_TIME_UPDATED,Oe,this),$.off(p.Z.PLAYBACK_RATE_CHANGED,pr,this),$.off(p.Z.PLAYBACK_STALLED,nt,this),Ht(ct,Ge)},prepareForPlaybackSeek:function(){return D&&jt(!1),ie.abort()},prepareForReplacementTrackSwitch:function(ct){return new Promise(function(Ge,Ee){ie.abort().then(function(){return hr()}).then(function(){return Ve.get().streaming.buffer.useChangeTypeForTrackSwitch?ie.changeType(ct):Promise.resolve()}).then(function(){return Te()}).then(function(){jt(!1),Ge()}).catch(function(st){Ee(st)})})},prepareForNonReplacementTrackSwitch:function(ct){return new Promise(function(Ge,Ee){hr().then(function(){return Ve.get().streaming.buffer.useChangeTypeForTrackSwitch?ie.changeType(ct):Promise.resolve()}).then(function(){Ge()}).catch(function(st){Ee(st)})})},prepareForForceReplacementQualitySwitch:function(ct){return new Promise(function(Ge,Ee){ie.abort().then(function(){return hr()}).then(function(){return Te()}).then(function(){return Hn(ct)}).then(function(){jt(!1),Ge()}).catch(function(st){Ee(st)})})},updateAppendWindow:hr,getAllRangesWithSafetyFactor:et,getContinuousBufferTimeForTargetTime:En,clearBuffers:Mn,pruneAllSafely:Te,updateBufferTimestampOffset:Hn,setSeekTarget:function(ct){be=ct},segmentRequestingCompleted:function(ct){isNaN(ct)||(ee=ct,Gt())}},b=(0,M.Z)(I).getInstance().getLogger(m),Y=ut(I).getInstance(),Ht(),m}kt.__dashjs_factory_name=ht;const We=C.Z.getClassFactory(kt);var dt="NotFragmentedTextBufferController";function Ce(v){v=v||{};var m,b,D,L,N,A,U=this.context,ee=(0,S.Z)(U).getInstance(),ie=v.textController,te=v.errHandler,V=v.streamInfo,re=v.type;function X(Se){L=Se}function De(Se){b!==Se&&(b=Se)&&ee.trigger(g.Z.BUFFERING_COMPLETED,{},{streamId:V.id,mediaType:re})}function me(Se){Se.chunk.bytes&&!b&&(A.save(Se.chunk),N.append(Se.chunk),De(!0))}return m={initialize:function(Se){X(Se)},getStreamId:function(){return V.id},getType:function(){return re},getBufferControllerType:function(){return dt},createBufferSink:function(Se){return new Promise(function(Ae,Y){try{(N=Ne(U).create({mediaSource:L,textController:ie,eventBus:ee})).initializeForFirstUse(V,Se),D||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),D=!0),Ae(N)}catch(ge){te.error(new K.Z(pe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,pe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+re)),Y(ge)}})},dischargePreBuffer:function(){},getBuffer:function(){return N},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:X,getMediaSource:function(){return L},appendInitSegmentFromCache:function(Se){return null!==A.extract(V.id,Se)},getIsBufferingCompleted:function(){return b},setIsBufferingCompleted:De,getIsPruningInProgress:function(){return!1},reset:function(Se){ee.off(g.Z.INIT_FRAGMENT_LOADED,me,m),!Se&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return b=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},D=!1,L=null,b=!1,A=ut(U).getInstance(),ee.on(g.Z.INIT_FRAGMENT_LOADED,me,m),m}Ce.__dashjs_factory_name=dt;const _e=C.Z.getClassFactory(Ce);function at(v){v=v||{};var m,b,D,L,N,A,U,ee,ie,te,V,re,X=this.context,De=(0,S.Z)(X).getInstance(),me=v.dashMetrics,Se=v.mediaPlayerModel,Ae=v.fragmentModel,Y=v.abrController,ge=v.playbackController,fe=v.textController,be=v.type,I=v.bufferController,$=v.representationController,G=v.settings;function Z(Je){if(!I.getIsBufferingCompleted()){j();var Fe=isNaN(Je)?0:Je;N=setTimeout(ae,Fe)}}function j(){N&&(clearTimeout(N),N=null)}function ae(){try{if(function(){try{return be===f.Z.TEXT&&!fe.isTextEnabled()||ge.isPaused()&&(!ge.getStreamController().getInitialPlayback()||!ge.getStreamController().getAutoPlay())&&!G.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void j();if(function(){try{return $.getCurrentRepresentationInfo()&&(isNaN(ie)||te||(Ct=Y.getMaxAllowedIndexFor(be,b.id),!(!isNaN(ee)&&ee==Ct||(D.info("Top quality "+be+" index has changed from "+ee+" to "+Ct),ee=Ct,0)))||(mt=$.getCurrentRepresentationInfo(),!be||!mt||me.getCurrentBufferLevel(be)<le()))}catch{return!1}var mt,Ct}()){var Je=!1;re&&(Je=Y.checkPlaybackQuality(be,b.id)),Je||(Fe=$.getCurrentRepresentationInfo(),V||Fe.quality!==ie||te?(te?(D.debug("Switch track for "+be+", representation id = "+Fe.id),te=!1):D.debug("Quality has changed, get init request for representationid = "+Fe.id),De.trigger(g.Z.INIT_FRAGMENT_NEEDED,{representationId:Fe.id,sender:m},{streamId:b.id,mediaType:be}),re=!1,V=!1):(D.debug("Media segment needed for ".concat(be," and stream id ").concat(b.id)),De.trigger(g.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:b.id,mediaType:be}),re=!0))}else Z(ge.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}catch{Z(ge.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}var Fe}function le(){var Je=NaN,Fe=$.getCurrentRepresentationInfo();return be&&Fe&&(Je=be===f.Z.TEXT?function(){try{if(fe.isTextEnabled()){var Ie=$.getCurrentRepresentationInfo();if(isNaN(Ie.fragmentDuration)){var Ct=me.getCurrentSchedulingInfo(O.Z.SCHEDULING_INFO);return Ct?Ct.duration:0}return Ie.fragmentDuration}return 0}catch{return 0}}():be===f.Z.AUDIO&&A?function(){try{var Ie=me.getCurrentBufferLevel(f.Z.VIDEO),Ct=$.getCurrentRepresentationInfo();return isNaN(Ct.fragmentDuration)?Ie+1:Math.max(Ie+1,Ct.fragmentDuration)}catch{return 0}}():function(){try{var Ie=$.getCurrentRepresentationInfo().mediaInfo.streamInfo;return Y.isPlayingAtTopQuality(Ie)?Ie.manifestInfo.duration>=G.get().streaming.buffer.longFormContentDurationThreshold?G.get().streaming.buffer.bufferTimeAtTopQualityLongForm:G.get().streaming.buffer.bufferTimeAtTopQuality:Se.getStableBufferTime()}catch{return Se.getStableBufferTime()}}()),Je}function ve(){z(!0)}function z(Je){if(ge&&Ae){var Fe=Ae.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:ge.getTime(),threshold:0})[0];Fe&&ge.getTime()>=Fe.startTime&&((!U.mediaInfo||Fe.mediaInfo.type===U.mediaInfo.type&&Fe.mediaInfo.id!==U.mediaInfo.id)&&Je&&De.trigger(g.Z.TRACK_CHANGE_RENDERED,{mediaType:be,oldMediaInfo:U.mediaInfo,newMediaInfo:Fe.mediaInfo,streamId:b.id}),Fe.quality===U.quality&&Fe.adaptationIndex===U.adaptationIndex||!Je||(D.debug("Quality change rendered for streamId ".concat(b.id," and type ").concat(be)),De.trigger(g.Z.QUALITY_CHANGE_RENDERED,{mediaType:be,oldQuality:U.quality,newQuality:Fe.quality,streamId:b.id})),U={mediaInfo:Fe.mediaInfo,quality:Fe.quality,adaptationIndex:Fe.adaptationIndex})}}function Q(){Ae.abortRequests(),j()}function Me(){G.get().streaming.scheduling.scheduleWhilePaused||Z()}function Ve(Je){me.updatePlayListTraceMetrics({playbackspeed:Je.playbackRate.toString()})}function ze(){re=!0,L=0,ie=NaN,U={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},ee=NaN,te=!1,V=!1}return m={initialize:function(Je){A=Je,De.on(g.Z.URL_RESOLUTION_FAILED,Q,m),De.on(p.Z.PLAYBACK_STARTED,Me,m),De.on(p.Z.PLAYBACK_RATE_CHANGED,Ve,m),De.on(p.Z.PLAYBACK_TIME_UPDATED,ve,m)},getType:function(){return be},getStreamId:function(){return b.id},setTimeToLoadDelay:function(Je){L=Je},getTimeToLoadDelay:function(){return L},setSwitchTrack:function(Je){te=Je},getSwitchTrack:function(){return te},startScheduleTimer:Z,clearScheduleTimer:j,reset:function(){De.off(g.Z.URL_RESOLUTION_FAILED,Q,m),De.off(p.Z.PLAYBACK_STARTED,Me,m),De.off(p.Z.PLAYBACK_RATE_CHANGED,Ve,m),De.off(p.Z.PLAYBACK_TIME_UPDATED,ve,m),j(),z(!1),ze(),b=null},getBufferTarget:le,getPlaybackController:function(){return ge},setCheckPlaybackQuality:function(Je){re=Je},setInitSegmentRequired:function(Je){V=Je},setLastInitializedQuality:function(Je){ie=Je}},D=(0,M.Z)(X).getInstance().getLogger(m),ze(),b=v.streamInfo,m}at.__dashjs_factory_name="ScheduleController";const E=C.Z.getClassFactory(at);var _=F(7387);function R(v){var m,b,D,L,N,A,U=(v=v||{}).eventBus,ee=v.events,ie=v.abrController,te=v.dashMetrics,V=v.playbackController,re=v.timelineConverter,X=v.type,De=v.streamInfo,me=v.dashConstants,Se=v.segmentsController,Ae=v.isDynamic,Y=v.adapter;function ge(){return X}function fe(){return D}function be(){return A}function I(){b=null,D=!0,L=[],N=null}function $(ve){return new Promise(function(z,Q){var Me=ve.hasInitialization(),Ve=ve.hasSegments(),ze=[];ze.push(Se.updateInitData(ve,Me)),ze.push(Se.updateSegmentData(ve,Ve)),Promise.all(ze).then(function(Je){var Fe,Ct;Je[0]&&!Je[0].error&&(ve=(Ct=Je[0])&&!Ct.error&&Ct.representation?Ct.representation:ve),Je[1]&&!Je[1].error&&(ve=function(Ie,Ct){if(Ct&&!Ct.error){var mt,bt,Ft,sn,Be=Ct.segments,Te=[],et=0;for(mt=0,bt=Be?Be.length:0;mt<bt;mt++)(sn=(0,_.TJ)(re,Ae,Ie,(Ft=Be[mt]).startTime,Ft.duration,Ft.timescale,Ft.media,Ft.mediaRange,et))&&(Te.push(sn),sn=null,et++);return Te.length>0&&(Ie.segments=Te),Ie}}(ve,Je[1])),(Fe=ve).mediaFinishedInformation=Se.getMediaFinishedInformation(Fe),function(Ie){if(fe()){var Ct,bt=te.getCurrentManifestUpdate(),Ft=!1;if(bt){for(var sn=0;sn<bt.representationInfo.length;sn++)if((Ct=bt.representationInfo[sn]).index===Ie.index&&Ct.mediaType===ge()){Ft=!0;break}Ft||te.addManifestUpdateRepresentationInfo(Ie,ge())}if(function(){for(var Te=0,et=L.length;Te<et;Te++){var Oe=L[Te].segmentInfoType;if(!L[Te].hasInitialization()||(Oe===me.SEGMENT_BASE||Oe===me.BASE_URL)&&!L[Te].segments)return!1}return!0}()){ie.setPlaybackQuality(X,De,L.indexOf(A));var Be=te.getCurrentDVRInfo(X);Be&&te.updateManifestUpdateInfo({latency:Be.range.end-V.getTime()}),te.getCurrentRepresentationSwitch(be().adaptation.type)||G(),j()}}}(ve),z()}).catch(function(Je){Q(Je)})})}function G(){!function(){if(!(ie&&te&&V&&re))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var ve=new Date,z=be(),Q=1e3*V.getTime();z&&te.addRepresentationSwitch(z.adaptation.type,ve,Q,z.id),U.trigger(p.Z.REPRESENTATION_SWITCH,{mediaType:X,streamId:De.id,currentRepresentation:z,numberOfRepresentations:L.length},{streamId:De.id,mediaType:X})}function Z(ve){return null==ve||ve>=L.length?null:L[ve]}function j(ve){D=!1,U.trigger(ee.DATA_UPDATE_COMPLETED,{data:b,currentRepresentation:A,error:ve},{streamId:De.id,mediaType:X})}function ae(ve){N=Y.convertRepresentationToRepresentationInfo(A=ve)}function le(ve){if(ve.newDuration){var z=be();z&&z.adaptation.period&&(z.adaptation.period.duration=ve.newDuration)}}return m={getStreamId:function(){return De.id},getType:ge,getData:function(){return b},isUpdating:fe,updateData:function(ve,z,Q,Me,Ve){return new Promise(function(ze,Je){if(D=!0,L=z,b=ve,ae(Z(Ve)),Q!==f.Z.VIDEO&&Q!==f.Z.AUDIO&&(Q!==f.Z.TEXT||!Me))return j(),void ze();for(var Fe=[],Ie=0,Ct=L.length;Ie<Ct;Ie++)Fe.push($(L[Ie]));Promise.all(Fe).then(function(){ae(Z(Ve)),ze()}).catch(function(bt){Je(bt)})})},getCurrentRepresentation:be,getCurrentRepresentationInfo:function(){return N},getRepresentationForQuality:Z,prepareQualityChange:function(ve){ae(Z(ve)),G()},reset:function(){U.off(p.Z.MANIFEST_VALIDITY_CHANGED,le,m),I()}},I(),U.on(p.Z.MANIFEST_VALIDITY_CHANGED,le,m),m}R.__dashjs_factory_name="RepresentationController";const x=C.Z.getClassFactory(R);var ue=F(3106),oe=F(9326),xe=F(7473),Ye=F(2594);function Ke(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var Le=function v(){Ke(this,v),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Le.INITIAL_PLAYOUT_START_REASON="initial_playout",Le.SEEK_START_REASON="seek",Le.RESUME_FROM_PAUSE_START_REASON="resume",Le.METRICS_COLLECTION_START_REASON="metrics_collection_start";var tt=function v(){Ke(this,v),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};tt.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",tt.REBUFFERING_REASON="rebuffering",tt.USER_REQUEST_STOP_REASON="user_request",tt.END_OF_PERIOD_STOP_REASON="end_of_period",tt.END_OF_CONTENT_STOP_REASON="end_of_content",tt.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",tt.FAILURE_STOP_REASON="failure";var it=F(7802);function Re(){return{ntpToUTC:function(v){var m=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(m.getTime()+v).getTime()}}}Re.__dashjs_factory_name="TimeUtils";const Xe=C.Z.getSingletonFactory(Re);function Qe(v){v=v||{};var m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me=this.context,Se=(0,S.Z)(me).getInstance(),Ae=v.streamInfo,Y=v.type,ge=v.errHandler,fe=v.mimeType,be=v.timelineConverter,I=v.adapter,$=v.manifestModel,G=v.mediaPlayerModel,Z=v.fragmentModel,j=v.abrController,ae=v.playbackController,le=v.mediaController,ve=v.textController,z=v.dashMetrics,Q=v.settings,Me=v.boxParser,Ve=v.segmentBlacklistController;function ze(){return Ae.id}function Je(){return Y}function Fe(){return I.getIsTextTrack(ee.getData())}function Ie(){N=[],L=null,X=0,ie=!1,te=!1,De=null}function Ct(gt){return!isNaN(gt)&&!isNaN(Ae.duration)&&isFinite(Ae.duration)&&gt>=Ae.start+Ae.duration}function mt(gt){var Ht=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(gt.sender)if(ae.getIsManifestUpdateInProgress())Te();else if((!Fe()||ve.isTextEnabled())&&A&&gt.representationId&&!A.appendInitSegmentFromCache(gt.representationId)){var ct=ee.getCurrentRepresentation();if(0===ct.range)return void bt();var Ge=V?V.getInitRequest(L,ct):null;Ge?Z.executeRequest(Ge):Ht&&(U.setInitSegmentRequired(!0),Te())}}function bt(gt){var Ht=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ae.getIsManifestUpdateInProgress()||A.getIsPruningInProgress())Te();else{var ct=function Be(){var gt,Ht=Hn();if(isNaN(X)||Je()===f.Z.TEXT&&!ve.isTextEnabled())return null;if(V){var ct=ee&&Ht?ee.getRepresentationForQuality(Ht.quality):null;gt=ie?V.getSegmentRequestForTime(L,ct,X):V.getNextSegmentRequest(L,ct)}return gt}();ct?(ie=!1,function Ft(gt){isNaN(gt.startTime+gt.duration)||(X=gt.startTime+gt.duration),gt.delayLoadingTime=(new Date).getTime()+U.getTimeToLoadDelay(),U.setTimeToLoadDelay(0),function(Ht){var ct=Ht.url;return Ht.range&&(ct=ct.concat("_",Ht.range)),Ve.contains(ct)}(gt)?(b.warn("Fragment request url ".concat(gt.url," for stream id ").concat(Ae.id," and media type ").concat(Y," is on the ignore list and will be skipped")),Te()):(b.debug("Next fragment request url for stream id ".concat(Ae.id," and media type ").concat(Y," is ").concat(gt.url)),Z.executeRequest(gt))}(ct)):function sn(gt){var Ht,ct=ee.getCurrentRepresentation();if(!Q.get().streaming.gaps.enableSeekFix||!ie&&0!==ae.getTime()||(D?D&&ct.segmentInfoType===h.Z.SEGMENT_TIMELINE&&(Ht=V.getValidTimeAheadOfTargetTime(X,L,ct,Q.get().streaming.gaps.threshold)):Ht=V.getValidTimeAheadOfTargetTime(X,L,ct,Q.get().streaming.gaps.threshold),isNaN(Ht)||Ht===X)){if(V.isLastSegmentRequested(ct,X)){var Ge=V.getCurrentIndex();return b.debug("Segment requesting for stream ".concat(Ae.id," has finished")),Se.trigger(g.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Ge},{streamId:Ae.id,mediaType:Y}),A.segmentRequestingCompleted(Ge),void U.clearScheduleTimer()}gt&&Te()}else ae.isSeeking()||0===ae.getTime()?(b.warn("Adjusting playback time ".concat(Ht," because of gap in the manifest. Seeking by ").concat(Ht-X)),ae.seek(Ht,!1,!1)):(b.warn("Adjusting buffering time ".concat(Ht," because of gap in the manifest. Adjusting time by ").concat(Ht-X)),_n(Ht),gt&&Te())}(Ht)}}function Te(){U.startScheduleTimer(ae.getLowLatencyModeEnabled()?Q.get().streaming.scheduling.lowLatencyTimeout:Q.get().streaming.scheduling.defaultTimeout)}function et(gt){gt.error||A.getIsBufferingCompleted()||A.updateBufferTimestampOffset(gt.currentRepresentation)}function Oe(gt){z.addBufferState(Y,gt.state,U.getBufferTarget()),gt.state!==O.Z.BUFFER_EMPTY||ae.isSeeking()||(b.info("Buffer is empty! Stalling!"),z.pushPlayListTraceMetrics(new Date,tt.REBUFFERING_REASON))}function nt(gt){Z.syncExecutedRequestsWithBufferedRange(A.getBuffer().getAllBufferRanges(),Ae.duration),gt.quotaExceeded&&gt.from>ae.getTime()&&_n(gt.from),gt.hasEnoughSpaceToAppend&&gt.quotaExceeded&&U.startScheduleTimer()}function ft(gt){if(gt&&gt.lastRequestAppended&&gt.lastRequestAppended.url){var Ht=gt.lastRequestAppended.url;gt.lastRequestAppended.range&&(Ht=Ht.concat("_",gt.lastRequestAppended.range)),b.warn("Blacklisting segment with url ".concat(Ht)),Ve.add(Ht)}}function pt(gt){b.debug("Appended bytes for ".concat(gt.mediaType," and stream id ").concat(gt.streamId)),gt.segmentType===He.w.INIT_SEGMENT_TYPE&&(U.setLastInitializedQuality(gt.quality),b.info("["+Y+"] lastInitializedRepresentationInfo changed to "+gt.quality)),De?Ot(De):U.startScheduleTimer(0)}function Ot(gt){var Ht=Z.getRequests({state:k.FRAGMENT_MODEL_LOADING});if(Ht&&Ht.length>0)return b.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(De=gt);A.updateBufferTimestampOffset(gt).then(function(){L.segmentAlignment||L.subSegmentAlignment?U.startScheduleTimer():wn(),De=null,te=!1}).catch(function(){De=null,te=!1})}function Gt(gt){b.info("onFragmentLoadingAbandoned request: "+gt.request.url+" has been aborted"),ae.isSeeking()||U.getSwitchTrack()||te||(b.info("onFragmentLoadingAbandoned request: "+gt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),gt.request&&gt.request.isInitializationRequest()?U.setInitSegmentRequired(!0):_n(gt.request.startTime+gt.request.duration/2),U.startScheduleTimer(0))}function An(gt){var Ht;b.info("OnFragmentLoadingCompleted for stream id "+Ae.id+" and media type "+Y+" - Url:",gt.request?gt.request.url:"undefined",gt.request.range?", Range:"+gt.request.range:""),Fe()&&U.startScheduleTimer(0),gt.error&&gt.request.serviceLocation&&(Ht=gt,b.info("Fragment loading completed with an error"),Ht&&Ht.request&&Ht.request.type&&(Ht.request.type===He.w.INIT_SEGMENT_TYPE?mt({representationId:Ht.request.representationId,sender:{}},!1):Ht.request.type===He.w.MEDIA_SEGMENT_TYPE&&(_n(Ht.request.startTime+Ht.request.duration/2),bt({},!1))))}function Sn(){_n(ae.getTime()),ar().startScheduleTimer()}function un(gt){var Ht=gt.currentTrackInfo;if(Ht){var ct=N.find(function(Ge){return Ge.index===Ht.index&&Ge.lang===Ht.lang});ct&&er(ct).then(function(){A.setIsBufferingCompleted(!1),_n(ae.getTime()),U.setInitSegmentRequired(!0),U.startScheduleTimer()})}}function Dn(gt){_n(gt.quotaExceededTime),U.clearScheduleTimer()}function Mn(){return A?A.getBuffer():null}function er(gt){gt===L||gt&&L&&gt.type!==L.type||(L=gt);var Ht=I.getRealAdaptation(Ae,L),ct=I.getVoRepresentations(L);if(ee){var Ge,Ee=ee.getData(),st=j.getMaxAllowedIndexFor(Y,Ae.id),It=j.getMinAllowedIndexFor(Y,Ae.id),Qt=null;return null!==Ee&&Ee.id===Ht.id||Y===f.Z.TEXT?Ge=j.getQualityFor(Y,Ae.id):(Qt=j.getThroughputHistory().getAverageThroughput(Y,D)||j.getInitialBitrateFor(Y,Ae.id),Ge=j.getQualityForBitrate(L,Qt,Ae.id)),void 0!==It&&Ge<It&&(Ge=It),Ge>st&&(Ge=st),ee.updateData(Ht,ct,Y,L.isFragmented,Ge)}return Promise.resolve()}function ar(){return U}function Hn(gt){var Ht;return void 0!==gt?((0,ue.SE)(gt),Ht=ee?ee.getRepresentationForQuality(gt):null):Ht=ee?ee.getCurrentRepresentation():null,I.convertRepresentationToRepresentationInfo(Ht)}function hr(){return!!A&&A.getIsBufferingCompleted()}function nr(gt){if(Q.get().streaming.enableManifestTimescaleMismatchFix){var Ht=gt.chunk,ct=Ht.bytes,Ge=Hn(Ht.quality),Ee=ee&&Ge?ee.getRepresentationForQuality(Ge.quality):null;Ge&&Ee&&(Ee.timescale=Me.getMediaTimescaleFromMoov(ct))}}function pr(gt){var zr,Ki,Pi,qo,Ht=gt.chunk,ct=Ht.bytes,Ge=Ht.quality,Ee=Hn(Ge),st=ee&&Ee?ee.getRepresentationForQuality(Ee.quality):null;if(Ee&&st){var It;if(Q.get().streaming.parseInbandPrft&&gt.request.type===He.w.MEDIA_SEGMENT_TYPE){var Qt=(zr=It=It||Me.parse(ct),Ki=st.timescale,Pi=zr.getBoxes("prft"),qo=[],Pi.forEach(function(bo){qo.push(function(ls,Yo){var so="unknown";switch(ls.flags){case 0:so=h.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:so=h.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:so=h.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var $o=1e3*ls.ntp_timestamp_sec+ls.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:so,ntpTimestamp:$o=Xe(me).getInstance().ntpToUTC($o),mediaTime:ls.media_time/Yo}}(bo,Ki))}),qo);Qt&&Qt.length&&Se.trigger(p.Z.INBAND_PRFT,{data:Qt},{streamId:Ae.id,mediaType:Y})}var tn=I.getEventsFor(Ee.mediaInfo,null,Ae),Xn=I.getEventsFor(Ee,st,Ae);if(tn&&tn.length>0||Xn&&Xn.length>0){var Yr=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,quality:Ge,index:Ht.index})[0],Vi=function(zr,Ki,Pi,qo){try{for(var bo={},ls=[],Yo=Pi.concat(qo),so=0,$o=Yo.length;so<$o;so++)bo[Yo[so].schemeIdUri+"/"+Yo[so].value]=Yo[so];var Cs=zr.getBoxes("emsg");if(!Cs||0===Cs.length)return ls;for(var Vs=zr.getBox("sidx"),js=!Vs||isNaN(Vs.earliest_presentation_time)||isNaN(Vs.timescale)?Ki&&!isNaN(Ki.mediaStartTime)?Ki.mediaStartTime:0:Vs.earliest_presentation_time/Vs.timescale,oc=Math.max(js,0),Hs=ee.getCurrentRepresentation(),As=0,cl=Cs.length;As<cl;As++){var uu=I.getEvent(Cs[As],bo,oc,Hs);uu&&ls.push(uu)}return ls}catch{return[]}}(It=It||Me.parse(ct),Yr,tn,Xn);Se.trigger(g.Z.INBAND_EVENTS,{events:Vi},{streamId:Ae.id})}}}function jt(){var gt=ae.getTime();Q.get().streaming.buffer.flushBufferAtTrackSwitch&&ae.seek(gt+.001,!1,!0),_n(gt),A.setSeekTarget(gt),U.startScheduleTimer()}function wn(){var gt=ae.getTime(),Ht=A.getContinuousBufferTimeForTargetTime(gt);_n(isNaN(Ht)?gt:Ht),U.startScheduleTimer()}function En(gt){gt&&!isNaN(gt.time)&&(_n(gt.time),A.setSeekTarget(gt.time))}function _n(gt){X=gt,ie=!0}return m={initialize:function(gt,Ht,ct){var Ge;re=(0,it.Z)(me).create({events:g.Z,eventBus:Se,streamInfo:Ae,timelineConverter:be,dashConstants:h.Z,segmentBaseController:v.segmentBaseController,type:Y}),(V=(0,oe.Z)(me).create({streamInfo:Ae,type:Y,timelineConverter:be,dashMetrics:z,mediaPlayerModel:G,baseURLController:v.baseURLController,errHandler:ge,segmentsController:re,settings:Q,boxParser:Me,events:g.Z,eventBus:Se,errors:pe,debug:(0,M.Z)(me).getInstance(),requestModifier:(0,xe.Z)(me).getInstance(),dashConstants:h.Z,constants:f.Z,urlUtils:(0,Ye.Z)(me).getInstance()})).initialize(D=Ae.manifestInfo.isDynamic),j.registerStreamType(Y,m),ee=x(me).create({streamInfo:Ae,type:Y,abrController:j,dashMetrics:z,playbackController:ae,timelineConverter:be,dashConstants:h.Z,events:g.Z,eventBus:Se,errors:pe,isDynamic:D,adapter:I,segmentsController:re}),(A=(Ge=Y)?Ge!==f.Z.TEXT||ct?We(me).create({streamInfo:Ae,type:Ge,mediaPlayerModel:G,manifestModel:$,fragmentModel:Z,errHandler:ge,mediaController:le,representationController:ee,adapter:I,textController:ve,abrController:j,playbackController:ae,settings:Q}):_e(me).create({streamInfo:Ae,type:Ge,mimeType:fe,fragmentModel:Z,textController:ve,errHandler:ge,settings:Q}):(ge.error(new K.Z(pe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,pe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null))&&A.initialize(gt),(U=E(me).create({streamInfo:Ae,type:Y,mimeType:fe,adapter:I,dashMetrics:z,mediaPlayerModel:G,fragmentModel:Z,abrController:j,playbackController:ae,textController:ve,mediaController:le,bufferController:A,representationController:ee,settings:Q})).initialize(Ht),X=0,ie=!1},getStreamId:ze,getType:Je,isUpdating:function(){return!!ee&&ee.isUpdating()},getBufferController:function(){return A},dischargePreBuffer:function(){A.dischargePreBuffer()},getFragmentModel:function(){return Z},getScheduleController:ar,getRepresentationController:function(){return ee},getRepresentationInfo:Hn,getBufferLevel:function(){return A?A.getBufferLevel():0},isBufferingCompleted:hr,createBufferSinks:function(gt){var Ht=Mn();return Ht?Promise.resolve(Ht):A?A.createBufferSink(L,gt):Promise.resolve(null)},updateStreamInfo:function(gt){return Ae=gt,hr()?Promise.resolve():A.updateAppendWindow()},getStreamInfo:function(){return Ae},selectMediaInfo:er,clearMediaInfoArray:function(){N=[]},addMediaInfo:function(gt){-1===N.indexOf(gt)&&N.push(gt)},prepareTrackSwitch:function(){return new Promise(function(gt){b.debug("Preparing track switch for type ".concat(Y));var Ht=Y===f.Z.TEXT||Q.get().streaming.trackSwitchMode[Y]===f.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&ae.getTimeToStreamEnd(Ae)>Q.get().streaming.buffer.stallThreshold;if(A.getIsBufferingCompleted()&&!Ht)return A.prepareForNonReplacementTrackSwitch(L.codec).then(function(){Se.trigger(g.Z.BUFFERING_COMPLETED,{},{streamId:Ae.id,mediaType:Y})}).catch(function(){Se.trigger(g.Z.BUFFERING_COMPLETED,{},{streamId:Ae.id,mediaType:Y})}),void gt();U.clearScheduleTimer(),U.setSwitchTrack(!0),Ht?(Se.trigger(g.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Ae.id},{mediaType:Y,streamId:Ae.id}),Z.abortRequests(),A.prepareForReplacementTrackSwitch(L.codec).then(function(){var ct=Hn();return A.updateBufferTimestampOffset(ct)}).then(function(){jt(),gt()}).catch(function(){jt(),gt()})):A.prepareForNonReplacementTrackSwitch(L.codec).then(function(){wn(),gt()}).catch(function(){wn(),gt()})})},prepareQualityChange:function(gt){De&&b.warning("Canceling queued representation switch to ".concat(De.quality," for ").concat(Y)),b.debug("Preparing quality switch for type ".concat(Y));var Ht=gt.newQuality;te=!0,U.clearScheduleTimer(),ee.prepareQualityChange(Ht);var Ge,ct=Hn(Ht);gt.reason&&gt.reason.forceReplace?(Ge=ct,Z.abortRequests(),Se.trigger(g.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:Ae.id},{mediaType:Y,streamId:Ae.id}),A.prepareForForceReplacementQualitySwitch(Ge).then(function(){jt(),te=!1}).catch(function(){jt(),te=!1})):Q.get().streaming.buffer.fastSwitchEnabled?function(Ge){var Ee=ae.getTime(),st=1.5*(isNaN(Ge.fragmentDuration)?1:Ge.fragmentDuration),It=Z.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Ee+st,threshold:0})[0];if(It&&!Fe()){var Qt=A.getBufferLevel(),tn=j.getAbandonmentStateFor(Ae.id,Y);It.quality<Ge.quality&&Qt>=st&&tn!==O.Z.ABANDON_LOAD?A.updateBufferTimestampOffset(Ge).then(function(){Z.abortRequests(),_n(Ee+st),U.setCheckPlaybackQuality(!1),U.startScheduleTimer(),te=!1}).catch(function(){te=!1}):Ot(Ge)}else U.startScheduleTimer(),te=!1}(ct):Ot(ct),z.pushPlayListTraceMetrics(new Date,tt.REPRESENTATION_SWITCH_STOP_REASON),z.createPlaylistTraceMetrics(ct.id,1e3*ae.getTime(),ae.getPlaybackRate())},getMediaInfo:function(){return L},getMediaSource:function(){return A.getMediaSource()},setMediaSource:function(gt){return A.setMediaSource(gt,L)},getBuffer:Mn,setExplicitBufferingTime:_n,finalisePlayList:function(gt,Ht){z.pushPlayListTraceMetrics(gt,Ht)},probeNextRequest:function(){var gt=Hn(),Ht=ee&&gt?ee.getRepresentationForQuality(gt.quality):null;return V.getNextSegmentRequestIdempotent(L,Ht)},prepareInnerPeriodPlaybackSeeking:function(gt){return new Promise(function(Ht){if(A.hasBufferAtTime(gt.seekTime))return A.pruneBuffer(),Ct(A.getContinuousBufferTimeForTargetTime(gt.seekTime))&&A.setIsBufferingCompleted(!0),void Ht();U.clearScheduleTimer(),Z.abortRequests(),A.prepareForPlaybackSeek().then(function(){var ct=A.getAllRangesWithSafetyFactor(gt.seekTime);return A.clearBuffers(ct)}).then(function(){var ct=A.getContinuousBufferTimeForTargetTime(gt.seekTime);if(Ct(ct))A.setIsBufferingCompleted(!0),Ht();else{var Ge=isNaN(ct)?gt.seekTime:ct;_n(Ge),A.setSeekTarget(Ge);var Ee=[];Ee.push(A.updateAppendWindow());var st=Hn();Ee.push(A.updateBufferTimestampOffset(st)),Promise.all(Ee).then(function(){U.setInitSegmentRequired(!0),U.setCheckPlaybackQuality(!1),U.startScheduleTimer(),Ht()})}}).catch(function(ct){b.error(ct)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(gt,Ht){try{U.clearScheduleTimer(),Z.abortRequests(),A.prepareForPlaybackSeek().then(function(){return A.pruneAllSafely()}).then(function(){gt()})}catch(ct){Ht(ct)}})},reset:function(gt,Ht){V&&V.reset(),A&&(A.reset(gt,Ht),A=null),U&&(U.reset(),U=null),ee&&(ee.reset(),ee=null),re&&(re=null),j&&j.unRegisterStreamType(ze(),Y),Se.off(g.Z.DATA_UPDATE_COMPLETED,et,m),Se.off(g.Z.INIT_FRAGMENT_NEEDED,mt,m),Se.off(g.Z.MEDIA_FRAGMENT_NEEDED,bt,m),Se.off(g.Z.INIT_FRAGMENT_LOADED,nr,m),Se.off(g.Z.MEDIA_FRAGMENT_LOADED,pr,m),Se.off(g.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,m),Se.off(g.Z.BUFFER_CLEARED,nt,m),Se.off(g.Z.SEEK_TARGET,En,m),Se.off(g.Z.FRAGMENT_LOADING_ABANDONED,Gt,m),Se.off(g.Z.FRAGMENT_LOADING_COMPLETED,An,m),Se.off(g.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Sn,m),Se.off(g.Z.SET_NON_FRAGMENTED_TEXT,un,m),Se.off(g.Z.QUOTA_EXCEEDED,Dn,m),Se.off(g.Z.SOURCE_BUFFER_ERROR,ft,m),Se.off(g.Z.BYTES_APPENDED_END_FRAGMENT,pt,m),Ie(),Y=null,Ae=null}},b=(0,M.Z)(me).getInstance().getLogger(m),Ie(),Se.on(g.Z.DATA_UPDATE_COMPLETED,et,m,{priority:S.Z.EVENT_PRIORITY_HIGH}),Se.on(g.Z.INIT_FRAGMENT_NEEDED,mt,m),Se.on(g.Z.MEDIA_FRAGMENT_NEEDED,bt,m),Se.on(g.Z.INIT_FRAGMENT_LOADED,nr,m),Se.on(g.Z.MEDIA_FRAGMENT_LOADED,pr,m),Se.on(g.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,m),Se.on(g.Z.BUFFER_CLEARED,nt,m),Se.on(g.Z.SEEK_TARGET,En,m),Se.on(g.Z.FRAGMENT_LOADING_ABANDONED,Gt,m),Se.on(g.Z.FRAGMENT_LOADING_COMPLETED,An,m),Se.on(g.Z.QUOTA_EXCEEDED,Dn,m),Se.on(g.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Sn,m),Se.on(g.Z.SET_NON_FRAGMENTED_TEXT,un,m),Se.on(g.Z.SOURCE_BUFFER_ERROR,ft,m),Se.on(g.Z.BYTES_APPENDED_END_FRAGMENT,pt,m),m}Qe.__dashjs_factory_name="StreamProcessor";const St=C.Z.getClassFactory(Qe),Pt=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};var on=F(9032);function xn(v,m){if(v){if("string"==typeof v)return Cn(v,m);var b=Object.prototype.toString.call(v).slice(8,-1);return"Object"===b&&v.constructor&&(b=v.constructor.name),"Map"===b||"Set"===b?Array.from(v):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?Cn(v,m):void 0}}function Cn(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}function vn(v){var b,L=(v=v||{}).requestModifier,N=v.lowLatencyThroughputModel,A=v.boxParser,U=(0,Mt.Z)(this.context).getInstance();function ee(V){var re,X=new Date,De=V.request,me=new Headers;if(De.range&&me.append("Range","bytes="+De.range),V.headers)for(var Se in V.headers){var Ae=V.headers[Se];Ae&&me.append(Se,Ae)}De.requestStartDate||(De.requestStartDate=X),L&&L.modifyRequestHeader&&L.modifyRequestHeader({setRequestHeader:function(I,$){me.append(I,$)}},{url:V.url}),"function"==typeof window.AbortController&&(re=new AbortController,V.abortController=re,re.signal.onabort=V.onabort);var Y={method:V.method,headers:me,credentials:V.withCredentials?"include":void 0,signal:re?re.signal:void 0},ge=U.get().streaming.abr.fetchThroughputCalculationMode,fe=Date.now(),be=0;new Promise(function(I){if(ge===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&N&&(be=N.getThroughputCapacityDelayMS(De,1e3*b.getCurrentBufferLevel(De.mediaType))))return setTimeout(I,be);I()}).then(function(){var I=Date.now();fetch(V.url,Y).then(function($){V.response||(V.response={}),V.response.status=$.status,V.response.statusText=$.statusText,V.response.responseURL=$.url,$.ok||V.onerror();var G,Z="",j=function(Oe,nt){var ft;if(typeof Symbol>"u"||null==Oe[Symbol.iterator]){if(Array.isArray(Oe)||(ft=xn(Oe))){ft&&(Oe=ft);var pt=0,Ot=function(){};return{s:Ot,n:function(){return pt>=Oe.length?{done:!0}:{done:!1,value:Oe[pt++]}},e:function(un){throw un},f:Ot}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Gt,An=!0,Sn=!1;return{s:function(){ft=Oe[Symbol.iterator]()},n:function(){var un=ft.next();return An=un.done,un},e:function(un){Sn=!0,Gt=un},f:function(){try{An||null==ft.return||ft.return()}finally{if(Sn)throw Gt}}}}($.headers.keys());try{for(j.s();!(G=j.n()).done;){var ae=G.value;Z+=ae+": "+$.headers.get(ae)+"\r\n"}}catch(Oe){j.e(Oe)}finally{j.f()}if(V.response.responseHeaders=Z,!$.body)return $.arrayBuffer().then(function(Oe){V.response.response=Oe,V.progress({loaded:Oe.byteLength,total:Oe.byteLength,stream:!1}),V.onload(),V.onend()});var le,ve,z,Me=parseInt($.headers.get("Content-Length"),10),Ve=0,ze=!1,Je=new Uint8Array,Fe=0;if(ge===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&N){var Ie=I,Ct=0,mt=function(Oe){if(Array.isArray(Oe))return Oe}(z=$.body.tee())||function(Oe,nt){if(typeof Symbol<"u"&&Symbol.iterator in Object(Oe)){var ft=[],pt=!0,Ot=!1,Gt=void 0;try{for(var An,Sn=Oe[Symbol.iterator]();!(pt=(An=Sn.next()).done)&&(ft.push(An.value),2!==ft.length);pt=!0);}catch(un){Ot=!0,Gt=un}finally{try{pt||null==Sn.return||Sn.return()}finally{if(Ot)throw Gt}}return ft}}(z)||xn(z,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Ft=mt[1];le=mt[0].getReader(),ve=[],le.read().then(function Oe(nt){var ft=nt.value,pt=nt.done;if(Ct=Date.now(),ft&&ft.length){var Ot=Ct-Ie,Gt=ft.length;ve.push({chunkDownloadTimeRelativeMS:Ct-I,chunkDownloadDurationMS:Ot,chunkBytes:Gt,kbps:Math.round(8*Gt/(Ot/1e3)),bufferLevel:b.getCurrentBufferLevel(De.mediaType)})}if(pt){var An=Ct-I,Sn=ve.reduce(function(un,Dn){return un+Dn.chunkBytes},0);return N.addMeasurement(De,An,ve,fe,be,Z),void V.progress({loaded:Sn,total:Sn,lengthComputable:!0,time:N.getEstimatedDownloadDurationMS(De),stream:!0})}return Ie=Date.now(),le.read().then(Oe)}),V.reader=Ft.getReader()}else V.reader=$.body.getReader();var sn=[],Be=[],Te=[],et=!0;ie(V,function Oe(nt){var ft=nt.value;if(nt.done){if(Je){if(ge!==f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var pt=null,Ot=null;ge===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(pt=function(un,Dn){try{var Mn,er;Mn=un.filter(function(wn,En){return En<un.length-1}),er=Dn.filter(function(wn,En){return En<Dn.length-1});var ar=[];if(Mn.length>1){for(var Hn=0,hr=0,nr=0;nr<Mn.length;nr++)if(Mn[nr]&&er[nr]){var pr=er[nr].ts-Mn[nr].ts;if(pr>1)ar.push(8*er[nr].bytes/pr),hr=0;else{0===hr&&(hr=Mn[nr].ts,Hn=0);var jt=er[nr].ts-hr;jt>1?(ar.push(8*(Hn+=er[nr].bytes)/jt),hr=0):Hn+=er[nr].bytes}}if(ar.length>0)return ar.reduce(function(wn,En){return wn+En},0)/ar.length}return null}catch{return null}}(Be,Te))&&(Ot=8*Ve/pt):ge===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Ot=te(sn,Ve)),V.progress({loaded:Ve,total:isNaN(Me)?Ve:Me,lengthComputable:!0,time:Ot,stream:!0})}V.response.response=Je.buffer}return V.onload(),void V.onend()}if(ft&&ft.length>0){Je=function(un,Dn){if(0===un.length)return Dn;var Mn=new Uint8Array(un.length+Dn.length);return Mn.set(un),Mn.set(Dn,un.length),Mn}(Je,ft),Ve+=ft.length,sn.push({ts:Date.now(),bytes:ft.length}),ge===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&et&&A.findLastTopIsoBoxCompleted(["moof"],Je,Fe).found&&(et=!1,Be.push({ts:performance.now(),bytes:ft.length}));var Gt=A.findLastTopIsoBoxCompleted(["moov","mdat"],Je,Fe);if(Gt.found){var An,Sn=Gt.lastCompletedOffset+Gt.size;ge!==f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||et||(et=!0,Te.push({ts:performance.now(),bytes:Je.length})),Sn===Je.length?(An=Je,Je=new Uint8Array):(An=new Uint8Array(Je.subarray(0,Sn)),Je=Je.subarray(Sn)),V.progress({data:An.buffer,lengthComputable:!1,noTrace:!0}),Fe=0}else Fe=Gt.lastCompletedOffset,ze||(V.progress({lengthComputable:!1,noTrace:!0}),ze=!0)}ie(V,Oe)})}).catch(function($){V.onerror&&V.onerror($)})})}function ie(V,re){V.reader.read().then(re).catch(function(X){V.onerror&&200===V.response.status&&V.onerror(X)})}function te(V,re){try{if((V=V.filter(function(me){return me.bytes>re/4/V.length})).length>1){var X=0,De=(V[V.length-1].ts-V[0].ts)/V.length;return V.forEach(function(me,Se){var Ae=V[Se+1];if(Ae){var Y=Ae.ts-me.ts;X+=Y<De?Y:0}}),X}return null}catch{return null}}return{load:function(V){L&&L.modifyRequest?(0,xe.k)(V,L).then(function(){return ee(V)}):ee(V)},abort:function(V){if(V.abortController)V.abortController.abort();else if(V.reader)try{V.reader.cancel(),V.onabort()}catch{}},calculateDownloadedTime:te,setup:function(V){b=V.dashMetrics}}}vn.__dashjs_factory_name="FetchLoader";const Yn=C.Z.getClassFactory(vn);var jn=F(1180);const mi=function(){function v(){(function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var b;return(b=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==h.Z.BASE_URL&&this.segmentInfoType!==h.Z.SEGMENT_BASE&&!this.indexRange}}])&&function br(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}(),Si=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.period=null,this.index=-1,this.type=null};var Zr=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};Zr.DEFAULT_ID="defaultId";const Li=Zr,Fi=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};var qi=F(2610);const Yi=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};var Co=function v(m,b,D,L){(function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=m||"",this.serviceLocation=b||m||"",this.dvb_priority=D||1,this.dvb_weight=L||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};Co.DEFAULT_DVB_PRIORITY=1,Co.DEFAULT_DVB_WEIGHT=1;const _o=Co,Ka=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},Zt=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Ut=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0},lt=function(){function v(){(function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this.schemeIdUri=null,this.value=null,this.id=null}var b;return(b=[{key:"init",value:function(D){return D&&(this.schemeIdUri=D.schemeIdUri?D.schemeIdUri:null,this.value=D.value?D.value:null,this.id=D.id?D.id:null),this}}])&&function Vt(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}();var Nt=F(3101),vt=F.n(Nt);function xt(){return{areEqual:function(v,m){return vt()(v,m)}}}xt.__dashjs_factory_name="ObjectUtils";const en=C.Z.getSingletonFactory(xt);var nn=F(7803);const bn=function v(m,b){(function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=m||"",this.serviceLocation=b||null,this.queryParams={}},hn=function v(m,b,D){(function(L,N){if(!(L instanceof N))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=m||"",this.serviceLocation=b||null,this.ttl=D||NaN,this.queryParams={}};function an(v,m){var b;if(typeof Symbol>"u"||null==v[Symbol.iterator]){if(Array.isArray(v)||(b=Bt(v))||m&&v&&"number"==typeof v.length){b&&(v=b);var D=0,L=function(){};return{s:L,n:function(){return D>=v.length?{done:!0}:{done:!1,value:v[D++]}},e:function(ee){throw ee},f:L}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,A=!0,U=!1;return{s:function(){b=v[Symbol.iterator]()},n:function(){var ee=b.next();return A=ee.done,ee},e:function(ee){U=!0,N=ee},f:function(){try{A||null==b.return||b.return()}finally{if(U)throw N}}}}function Bt(v,m){if(v){if("string"==typeof v)return mn(v,m);var b=Object.prototype.toString.call(v).slice(8,-1);return"Object"===b&&v.constructor&&(b=v.constructor.name),"Map"===b||"Set"===b?Array.from(v):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?mn(v,m):void 0}}function mn(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}function pn(){var v,m,b,D,L=this.context,N=(0,Ye.Z)(L).getInstance(),A=Number.isInteger||function(I){return"number"==typeof I&&isFinite(I)&&Math.floor(I)===I};function U(I,$){if(!I)throw new Error("adaptation is not defined");if(!$)throw new Error("type is not defined");if(I.Representation_asArray&&I.Representation_asArray.length){var G=Se(I.Representation_asArray[0]);if(G&&G.length>0&&nn.Y.indexOf(G[0].schemeIdUri)>=0)return $===f.Z.IMAGE}if(I.ContentComponent_asArray&&I.ContentComponent_asArray.length>0){if(I.ContentComponent_asArray.length>1)return $===f.Z.MUXED;if(I.ContentComponent_asArray[0].contentType===$)return!0}var Z=$===f.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp($);if(I.Representation_asArray&&I.Representation_asArray.length&&Z.test(I.Representation_asArray[0].codecs))return!0;if(I.hasOwnProperty(h.Z.MIME_TYPE))return Z.test(I.mimeType);if(I.Representation_asArray)for(var ae,le=0;le<I.Representation_asArray.length;le++)if((ae=I.Representation_asArray[le]).hasOwnProperty(h.Z.MIME_TYPE))return Z.test(ae.mimeType);return!1}function ee(I){if(!I)throw new Error("adaptation is not defined");if(I.hasOwnProperty(h.Z.SEGMENT_TEMPLATE)||I.hasOwnProperty(h.Z.SEGMENT_TIMELINE)||I.hasOwnProperty(h.Z.SEGMENT_LIST)||I.hasOwnProperty(h.Z.SEGMENT_BASE))return!0;if(I.Representation_asArray&&I.Representation_asArray.length>0){var $=I.Representation_asArray[0];if($.hasOwnProperty(h.Z.SEGMENT_TEMPLATE)||$.hasOwnProperty(h.Z.SEGMENT_TIMELINE)||$.hasOwnProperty(h.Z.SEGMENT_LIST)||$.hasOwnProperty(h.Z.SEGMENT_BASE))return!0}return!1}function ie(I){return U(I,f.Z.VIDEO)}function te(I){return U(I,f.Z.TEXT)}function V(I){return U(I,f.Z.IMAGE)}function re(I){return I&&Array.isArray(I.Representation_asArray)&&I.Representation_asArray.sort(function($,G){return $.bandwidth-G.bandwidth}),I}function X(I,$){return I&&I.Period_asArray&&A($)&&I.Period_asArray[$]?I.Period_asArray[$].AdaptationSet_asArray:[]}function De(I){return I&&I.Period_asArray?I.Period_asArray:[]}function me(I){var $=!1;return I&&I.hasOwnProperty("type")&&($=I.type===h.Z.DYNAMIC),$}function Se(I){return I&&I.EssentialProperty_asArray&&I.EssentialProperty_asArray.length?I.EssentialProperty_asArray.map(function($){return{schemeIdUri:$.schemeIdUri,value:$.value}}):null}function Ae(I){if(!I||!I.S_asArray)return NaN;var $=I.S_asArray[0],G=I.S_asArray[1];return $.hasOwnProperty("d")?$.d:G.t-$.t}function Y(I,$){if(!I)throw new Error("Period cannot be null or undefined");var G=Li.DEFAULT_ID+"_"+$;return I.hasOwnProperty(h.Z.ID)&&I.id.length>0&&"__proto__"!==I.id&&(G=I.id),G}function ge(I,$,G){var Z,j=[];if(!I)return j;for(Z=0;Z<I.length;Z++){var ae=new Ka;if(ae.timescale=1,ae.representation=$,!I[Z].hasOwnProperty(f.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");ae.schemeIdUri=I[Z].schemeIdUri,I[Z].hasOwnProperty(h.Z.TIMESCALE)&&(ae.timescale=I[Z].timescale),I[Z].hasOwnProperty(h.Z.VALUE)&&(ae.value=I[Z].value),j.push(ae),ae.period=G}return j}function fe(I){var $=[],Z=!1;return(I.BaseURL_asArray||[I.baseUri]).some(function(j){if(j){var ae=new _o,le=j.__text||j;return N.isRelative(le)&&(Z=!0,I.baseUri&&(le=N.resolve(le,I.baseUri))),ae.url=le,ae.serviceLocation=j.hasOwnProperty(h.Z.SERVICE_LOCATION)&&j.serviceLocation.length?j.serviceLocation:le,j.hasOwnProperty(h.Z.DVB_PRIORITY)&&(ae.dvb_priority=j[h.Z.DVB_PRIORITY]),j.hasOwnProperty(h.Z.DVB_WEIGHT)&&(ae.dvb_weight=j[h.Z.DVB_WEIGHT]),j.hasOwnProperty(h.Z.AVAILABILITY_TIME_OFFSET)&&(ae.availabilityTimeOffset=j[h.Z.AVAILABILITY_TIME_OFFSET]),j.hasOwnProperty(h.Z.AVAILABILITY_TIME_COMPLETE)&&(ae.availabilityTimeComplete="false"!==j[h.Z.AVAILABILITY_TIME_COMPLETE]),$.push(ae),Z}}),$}function be(I){var $=new Ut;return $.serverUrl=I.__text,I.hasOwnProperty(h.Z.DEFAULT_SERVICE_LOCATION)&&($.defaultServiceLocation=I[h.Z.DEFAULT_SERVICE_LOCATION],$.defaultServiceLocationArray=$.defaultServiceLocation.split(" ")),I.hasOwnProperty(h.Z.QUERY_BEFORE_START)&&($.queryBeforeStart="true"===I[h.Z.QUERY_BEFORE_START].toLowerCase()),I.hasOwnProperty(h.Z.CLIENT_REQUIREMENT)&&($.clientRequirement="false"!==I[h.Z.CLIENT_REQUIREMENT].toLowerCase()),$}return v={getIsTypeOf:U,getIsText:te,getIsFragmented:ee,getProducerReferenceTimesForAdaptation:function(I){var $=I&&I.hasOwnProperty(h.Z.PRODUCERREFERENCETIME_ASARRAY)?I[h.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(I&&I.hasOwnProperty(h.Z.REPRESENTATION_ASARRAY)?I[h.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(Z){var j;Z.hasOwnProperty(h.Z.PRODUCERREFERENCETIME_ASARRAY)&&$.push.apply($,function(ae){if(Array.isArray(ae))return mn(ae)}(j=Z[h.Z.PRODUCERREFERENCETIME_ASARRAY])||function(ae){if(typeof Symbol<"u"&&Symbol.iterator in Object(ae))return Array.from(ae)}(j)||Bt(j)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())});var G=[];return $.forEach(function(Z){var j=new Zt;Z.hasOwnProperty(h.Z.ID)&&(j[h.Z.ID]=Z[h.Z.ID],Z.hasOwnProperty(h.Z.WALL_CLOCK_TIME)&&(j[h.Z.WALL_CLOCK_TIME]=Z[h.Z.WALL_CLOCK_TIME],Z.hasOwnProperty(h.Z.PRESENTATION_TIME)&&(j[h.Z.PRESENTATION_TIME]=Z[h.Z.PRESENTATION_TIME],Z.hasOwnProperty(h.Z.INBAND)&&(j[h.Z.INBAND]="false"!==Z[h.Z.INBAND]),Z.hasOwnProperty(h.Z.TYPE)&&(j[h.Z.TYPE]=Z[h.Z.TYPE]),G.push(j))))}),G},getLanguageForAdaptation:function(I){var $="";return I&&I.hasOwnProperty(h.Z.LANG)&&($=I.lang),$},getViewpointForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.VIEWPOINT_ASARRAY)&&I[h.Z.VIEWPOINT_ASARRAY].length?I[h.Z.VIEWPOINT_ASARRAY].map(function($){return(new lt).init($)}):[]},getRolesForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.ROLE_ASARRAY)&&I[h.Z.ROLE_ASARRAY].length?I[h.Z.ROLE_ASARRAY].map(function($){return(new lt).init($)}):[]},getAccessibilityForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.ACCESSIBILITY_ASARRAY)&&I[h.Z.ACCESSIBILITY_ASARRAY].length?I[h.Z.ACCESSIBILITY_ASARRAY].map(function($){return(new lt).init($)}):[]},getAudioChannelConfigurationForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&I[h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?I[h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function($){return(new lt).init($)}):[]},getAudioChannelConfigurationForRepresentation:function(I){return I&&I.hasOwnProperty(h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&I[h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?I[h.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function($){return(new lt).init($)}):[]},getAdaptationForIndex:function(I,$,G){var Z=X($,G);return Z.length>0&&A(I)?Z[I]:null},getIndexForAdaptation:function(I,$,G){if(!I)return-1;for(var Z=X($,G),j=0;j<Z.length;j++)if(en(L).getInstance().areEqual(Z[j],I))return j;return-1},getAdaptationForId:function(I,$,G){var Z,j,ae=X($,G);for(Z=0,j=ae.length;Z<j;Z++)if(ae[Z].hasOwnProperty(h.Z.ID)&&ae[Z].id===I)return ae[Z];return null},getAdaptationsForType:function(I,$,G){var Z,j,ae=X(I,$),le=[];for(Z=0,j=ae.length;Z<j;Z++)U(ae[Z],G)&&le.push(re(ae[Z]));return le},getRealPeriods:De,getRealPeriodForIndex:function(I,$){var G=De($);return G.length>0&&A(I)?G[I]:null},getCodec:function(I,$,G){var Z=null;if(I&&I.Representation_asArray&&I.Representation_asArray.length>0){var j=A($)&&$>=0&&$<I.Representation_asArray.length?I.Representation_asArray[$]:I.Representation_asArray[0];j&&(Z=j.mimeType+';codecs="'+j.codecs+'"',G&&void 0!==j.width&&(Z+=';width="'+j.width+'";height="'+j.height+'"'))}return Z&&(Z=Z.replace(/\sprofiles=[^;]*/g,"")),Z},getSelectionPriority:function(I){try{var $=I&&void 0!==I.selectionPriority?parseInt(I.selectionPriority):1;return isNaN($)?1:$}catch{return 1}},getMimeType:function(I){return I&&I.Representation_asArray&&I.Representation_asArray.length>0?I.Representation_asArray[0].mimeType:null},getKID:function(I){return I&&I.hasOwnProperty(h.Z.CENC_DEFAULT_KID)?I[h.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(I){if(!I||!Array.isArray(I.Label_asArray))return[];for(var $=[],G=0;G<I.Label_asArray.length;G++)$.push({lang:I.Label_asArray[G].lang,text:I.Label_asArray[G].__text||I.Label_asArray[G]});return $},getContentProtectionData:function(I){return I&&I.hasOwnProperty(h.Z.CONTENTPROTECTION_ASARRAY)&&0!==I.ContentProtection_asArray.length?I.ContentProtection_asArray:null},getIsDynamic:me,getId:function(I){return I&&I[h.Z.ID]||null},hasProfile:function(I,$){var G=!1;return I&&I.profiles&&I.profiles.length>0&&(G=-1!==I.profiles.indexOf($)),G},getDuration:function(I){return I&&I.hasOwnProperty(h.Z.MEDIA_PRESENTATION_DURATION)?I.mediaPresentationDuration:I&&"dynamic"==I.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(I){return I&&I.bandwidth?I.bandwidth:NaN},getManifestUpdatePeriod:function(I){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=NaN;return I&&I.hasOwnProperty(h.Z.MINIMUM_UPDATE_PERIOD)&&(G=I.minimumUpdatePeriod),isNaN(G)?G:Math.max(G-$,1)},getPublishTime:function(I){return I&&I.hasOwnProperty(h.Z.PUBLISH_TIME)?new Date(I[h.Z.PUBLISH_TIME]):null},getRepresentationCount:function(I){return I&&Array.isArray(I.Representation_asArray)?I.Representation_asArray.length:0},getBitrateListForAdaptation:function(I){var $=re(I);return($&&Array.isArray($.Representation_asArray)?$.Representation_asArray:[]).map(function(G){return{bandwidth:G.bandwidth,width:G.width||0,height:G.height||0,scanType:G.scanType||null,id:G.id||null}})},getRepresentationFor:function(I,$){return $&&$.Representation_asArray&&$.Representation_asArray.length>0&&A(I)?$.Representation_asArray[I]:null},getRepresentationsForAdaptation:function(I){var $,G,Z,j,ae=[],le=function(Je){if(Je&&Je.period&&A(Je.period.index)){var Fe=Je.period.mpd.manifest.Period_asArray[Je.period.index];if(Fe&&Fe.AdaptationSet_asArray&&A(Je.index))return re(Fe.AdaptationSet_asArray[Je.index])}}(I);if(le&&le.Representation_asArray){if(I&&I.period&&A(I.period.index)){var ve=fe(I.period.mpd.manifest);ve&&(G=ve[0])}for(var z=0,Q=le.Representation_asArray.length;z<Q;++z){var Me=le.Representation_asArray[z],Ve=new mi;if(Ve.index=z,Ve.adaptation=I,Me.hasOwnProperty(h.Z.ID)&&(Ve.id=Me.id),Me.hasOwnProperty(h.Z.CODECS)&&(Ve.codecs=Me.codecs),Me.hasOwnProperty(h.Z.MIME_TYPE)&&(Ve.mimeType=Me[h.Z.MIME_TYPE]),Me.hasOwnProperty(h.Z.CODEC_PRIVATE_DATA)&&(Ve.codecPrivateData=Me.codecPrivateData),Me.hasOwnProperty(h.Z.BANDWITH)&&(Ve.bandwidth=Me.bandwidth),Me.hasOwnProperty(h.Z.WIDTH)&&(Ve.width=Me.width),Me.hasOwnProperty(h.Z.HEIGHT)&&(Ve.height=Me.height),Me.hasOwnProperty(h.Z.SCAN_TYPE)&&(Ve.scanType=Me.scanType),Me.hasOwnProperty(h.Z.MAX_PLAYOUT_RATE)&&(Ve.maxPlayoutRate=Me.maxPlayoutRate),Me.hasOwnProperty(h.Z.SEGMENT_BASE)?($=Me.SegmentBase,Ve.segmentInfoType=h.Z.SEGMENT_BASE):Me.hasOwnProperty(h.Z.SEGMENT_LIST)?Ve.segmentInfoType=($=Me.SegmentList).hasOwnProperty(h.Z.SEGMENT_TIMELINE)?h.Z.SEGMENT_TIMELINE:h.Z.SEGMENT_LIST:Me.hasOwnProperty(h.Z.SEGMENT_TEMPLATE)?(Ve.segmentInfoType=($=Me.SegmentTemplate).hasOwnProperty(h.Z.SEGMENT_TIMELINE)?h.Z.SEGMENT_TIMELINE:h.Z.SEGMENT_TEMPLATE,$.hasOwnProperty(h.Z.INITIALIZATION_MINUS)&&(Ve.initialization=$.initialization.split("$Bandwidth$").join(Me.bandwidth).split("$RepresentationID$").join(Me.id))):Ve.segmentInfoType=h.Z.BASE_URL,Ve.essentialProperties=Se(Me),$){if($.hasOwnProperty(h.Z.INITIALIZATION)){var ze=$.Initialization;ze.hasOwnProperty(h.Z.SOURCE_URL)&&(Ve.initialization=ze.sourceURL),ze.hasOwnProperty(h.Z.RANGE)&&(Ve.range=ze.range)}else te(le)&&ee(le)&&le.mimeType&&-1===le.mimeType.indexOf("application/mp4")&&(Ve.range=0);$.hasOwnProperty(h.Z.TIMESCALE)&&(Ve.timescale=$.timescale),$.hasOwnProperty(h.Z.DURATION)?Ve.segmentDuration=$.duration/Ve.timescale:Me.hasOwnProperty(h.Z.SEGMENT_TEMPLATE)&&($=Me.SegmentTemplate).hasOwnProperty(h.Z.SEGMENT_TIMELINE)&&(Ve.segmentDuration=Ae($.SegmentTimeline)/Ve.timescale),$.hasOwnProperty(h.Z.MEDIA)&&(Ve.media=$.media),$.hasOwnProperty(h.Z.START_NUMBER)&&(Ve.startNumber=$.startNumber),$.hasOwnProperty(h.Z.INDEX_RANGE)&&(Ve.indexRange=$.indexRange),$.hasOwnProperty(h.Z.PRESENTATION_TIME_OFFSET)&&(Ve.presentationTimeOffset=$.presentationTimeOffset/Ve.timescale),$.hasOwnProperty(h.Z.AVAILABILITY_TIME_OFFSET)?Ve.availabilityTimeOffset=$.availabilityTimeOffset:G&&void 0!==G.availabilityTimeOffset&&(Ve.availabilityTimeOffset=G.availabilityTimeOffset),$.hasOwnProperty(h.Z.AVAILABILITY_TIME_COMPLETE)?Ve.availabilityTimeComplete="false"!==$.availabilityTimeComplete:G&&void 0!==G.availabilityTimeComplete&&(Ve.availabilityTimeComplete=G.availabilityTimeComplete)}Ve.MSETimeOffset=(j=(Z=Ve).presentationTimeOffset,Z.adaptation.period.start-j),Ve.path=[I.period.index,I.index,z],ae.push(Ve)}}return ae},getAdaptationsForPeriod:function(I){var $,G,Z,j=I&&A(I.index)?I.mpd.manifest.Period_asArray[I.index]:null,ae=[];if(j&&j.AdaptationSet_asArray)for(Z=0;Z<j.AdaptationSet_asArray.length;Z++)G=j.AdaptationSet_asArray[Z],$=new Si,G.hasOwnProperty(h.Z.ID)&&($.id=G.id),$.index=Z,$.period=I,U(G,f.Z.MUXED)?$.type=f.Z.MUXED:U(G,f.Z.AUDIO)?$.type=f.Z.AUDIO:ie(G)?$.type=f.Z.VIDEO:te(G)?$.type=f.Z.TEXT:V(G)?$.type=f.Z.IMAGE:m.warn("Unknown Adaptation stream type"),ae.push($);return ae},getRegularPeriods:function(I){var $,G,Z=!!I&&me(I.manifest),j=[],ae=null,le=null,ve=null,z=null;for(G=0,$=I&&I.manifest&&I.manifest.Period_asArray?I.manifest.Period_asArray.length:0;G<$;G++)(le=I.manifest.Period_asArray[G]).hasOwnProperty(h.Z.START)?(z=new Li).start=le.start:null!==ae&&ae.hasOwnProperty(h.Z.DURATION)&&null!==ve?(z=new Li).start=parseFloat((ve.start+ve.duration).toFixed(5)):0!==G||Z||((z=new Li).start=0),null!==ve&&isNaN(ve.duration)&&(null!==z?ve.duration=parseFloat((z.start-ve.start).toFixed(5)):m.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==z&&(z.id=Y(le,G),z.index=G,z.mpd=I,le.hasOwnProperty(h.Z.DURATION)&&(z.duration=le.duration),ve&&(ve.nextPeriodId=z.id),j.push(z),ae=le,ve=z),le=null,z=null;return 0===j.length||null!==ve&&isNaN(ve.duration)&&(ve.duration=parseFloat((function(Q){!function(){if(!b||!b.hasOwnProperty("error"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var Me,Ve=me(Q.mpd.manifest);return Q.mpd.manifest.mediaPresentationDuration?Me=Q.mpd.manifest.mediaPresentationDuration:Q.duration?Me=Q.duration:Ve?Me=Number.POSITIVE_INFINITY:b.error(new K.Z(pe.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Q)),Me}(ve)-ve.start).toFixed(5))),j},getMpd:function(I){var $=new Fi;return I&&($.manifest=I,I.hasOwnProperty(h.Z.AVAILABILITY_START_TIME)?$.availabilityStartTime=new Date(I.availabilityStartTime.getTime()):I.loadedTime&&($.availabilityStartTime=new Date(I.loadedTime.getTime())),I.hasOwnProperty(h.Z.AVAILABILITY_END_TIME)&&($.availabilityEndTime=new Date(I.availabilityEndTime.getTime())),I.hasOwnProperty(h.Z.MINIMUM_UPDATE_PERIOD)&&($.minimumUpdatePeriod=I.minimumUpdatePeriod),I.hasOwnProperty(h.Z.MEDIA_PRESENTATION_DURATION)&&($.mediaPresentationDuration=I.mediaPresentationDuration),I.hasOwnProperty(h.Z.SUGGESTED_PRESENTATION_DELAY)&&($.suggestedPresentationDelay=I.suggestedPresentationDelay),I.hasOwnProperty(h.Z.TIMESHIFT_BUFFER_DEPTH)&&($.timeShiftBufferDepth=I.timeShiftBufferDepth),I.hasOwnProperty(h.Z.MAX_SEGMENT_DURATION)&&($.maxSegmentDuration=I.maxSegmentDuration),I.hasOwnProperty(h.Z.PUBLISH_TIME)&&($.publishTime=new Date(I.publishTime))),$},getEventsForPeriod:function(I){var $,G,Z=I&&I.mpd&&I.mpd.manifest?I.mpd.manifest:null,j=Z?Z.Period_asArray:null,ae=j&&I&&A(I.index)?j[I.index].EventStream_asArray:null,le=[];if(ae)for($=0;$<ae.length;$++){var ve=new Ka;if(ve.period=I,ve.timescale=1,!ae[$].hasOwnProperty(f.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(ve.schemeIdUri=ae[$][f.Z.SCHEME_ID_URI],ae[$].hasOwnProperty(h.Z.TIMESCALE)&&(ve.timescale=ae[$][h.Z.TIMESCALE]),ae[$].hasOwnProperty(h.Z.VALUE)&&(ve.value=ae[$][h.Z.VALUE]),ae[$].hasOwnProperty(h.Z.PRESENTATION_TIME_OFFSET)&&(ve.presentationTimeOffset=ae[$][h.Z.PRESENTATION_TIME_OFFSET]),G=0;ae[$].Event_asArray&&G<ae[$].Event_asArray.length;G++){var z=ae[$].Event_asArray[G],Q=new Yi;Q.presentationTime=0,Q.eventStream=ve,z.hasOwnProperty(h.Z.PRESENTATION_TIME)&&(Q.presentationTime=z.presentationTime),Q.calculatedPresentationTime=Q.presentationTime/ve.timescale+I.start-(ve.presentationTimeOffset?ve.presentationTimeOffset/ve.timescale:0),z.hasOwnProperty(h.Z.DURATION)&&(Q.duration=z.duration/ve.timescale),Q.id=z.hasOwnProperty(h.Z.ID)?z.id:null,Q.messageData=z.Signal&&z.Signal.Binary?D.decodeArray(z.Signal.Binary.toString()):z.messageData||z.__cdata||z.__text,le.push(Q)}}return le},getEssentialPropertiesForRepresentation:Se,getEventStreamForAdaptationSet:function(I,$,G){var Z,j,ae;return I&&I.Period_asArray&&$&&$.period&&A($.period.index)&&(j=I.Period_asArray[$.period.index])&&j.AdaptationSet_asArray&&A($.index)&&(ae=j.AdaptationSet_asArray[$.index])&&(Z=ae.InbandEventStream_asArray),ge(Z,null,G)},getEventStreamForRepresentation:function(I,$,G){var Z,j,ae,le;return I&&I.Period_asArray&&$&&$.adaptation&&$.adaptation.period&&A($.adaptation.period.index)&&(j=I.Period_asArray[$.adaptation.period.index])&&j.AdaptationSet_asArray&&A($.adaptation.index)&&(ae=j.AdaptationSet_asArray[$.adaptation.index])&&ae.Representation_asArray&&A($.index)&&(le=ae.Representation_asArray[$.index])&&(Z=le.InbandEventStream_asArray),ge(Z,$,G)},getUTCTimingSources:function(I){var $=me(I),G=!!I&&I.hasOwnProperty(h.Z.AVAILABILITY_START_TIME),Z=I?I.UTCTiming_asArray:null,j=[];return($||G)&&Z&&Z.forEach(function(ae){var le=new qi.Z;ae.hasOwnProperty(f.Z.SCHEME_ID_URI)&&(le.schemeIdUri=ae.schemeIdUri,ae.hasOwnProperty(h.Z.VALUE)&&(le.value=ae.value.toString(),j.push(le)))}),j},getBaseURLsFromElement:fe,getRepresentationSortFunction:function(){return function(I,$){return I.bandwidth-$.bandwidth}},getContentSteering:function(I){if(I&&I.hasOwnProperty(h.Z.CONTENT_STEERING_AS_ARRAY))return be(I[h.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(I){return I&&I.hasOwnProperty(h.Z.LOCATION_AS_ARRAY)?I[h.Z.LOCATION_AS_ARRAY].map(function($){var G=$.__text||$,Z=$.hasOwnProperty(h.Z.SERVICE_LOCATION)?$[h.Z.SERVICE_LOCATION]:null;return new bn(G,Z)}):[]},getPatchLocation:function(I){return I&&I.hasOwnProperty(h.Z.PATCH_LOCATION_AS_ARRAY)?I[h.Z.PATCH_LOCATION_AS_ARRAY].map(function($){var G=$.__text||$,Z=$.hasOwnProperty(h.Z.SERVICE_LOCATION)?$[h.Z.SERVICE_LOCATION]:null,j=$.hasOwnProperty(h.Z.TTL)?1e3*parseFloat($[h.Z.TTL]):NaN;return new hn(G,Z,j)}):[]},getSuggestedPresentationDelay:function(I){return I&&I.hasOwnProperty(h.Z.SUGGESTED_PRESENTATION_DELAY)?I.suggestedPresentationDelay:null},getAvailabilityStartTime:function(I){return I&&I.hasOwnProperty(h.Z.AVAILABILITY_START_TIME)&&null!==I.availabilityStartTime?I.availabilityStartTime.getTime():null},getServiceDescriptions:function(I){var $=[];if(I&&I.hasOwnProperty(h.Z.SERVICE_DESCRIPTION)){var G,Z=an(I.ServiceDescription_asArray);try{for(Z.s();!(G=Z.n()).done;){var j=G.value,ae=null,le=null,ve=null,z=null,Q=null,Me=null,Ve=null;for(var ze in j)j.hasOwnProperty(ze)&&(ze===h.Z.ID?ae=j[ze]:ze===h.Z.SERVICE_DESCRIPTION_SCOPE?le=j[ze].schemeIdUri:ze===h.Z.SERVICE_DESCRIPTION_LATENCY?ve={target:parseInt(j[ze].target),max:parseInt(j[ze].max),min:parseInt(j[ze].min),referenceId:parseInt(j[ze].referenceId)}:ze===h.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?z={max:parseFloat(j[ze].max),min:parseFloat(j[ze].min)}:ze===h.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?Q={mediaType:j[ze].mediaType,max:parseInt(j[ze].max),min:parseInt(j[ze].min),target:parseInt(j[ze].target),type:j[ze].type,maxQualityDifference:parseInt(j[ze].maxQualityDifference)}:ze===h.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?Me={mediaType:j[ze].mediaType,max:parseInt(j[ze].max),min:parseInt(j[ze].min),target:parseInt(j[ze].target)}:ze===h.Z.CONTENT_STEERING&&(Ve=be(j[ze])));$.push({id:ae,schemeIdUri:le,latency:ve,playbackRate:z,operatingQuality:Q,operatingBandwidth:Me,contentSteering:Ve})}}catch(Je){Z.e(Je)}finally{Z.f()}}return $},getSegmentAlignment:function(I){return!(!I||!I.hasOwnProperty(h.Z.SEGMENT_ALIGNMENT))&&"true"===I[h.Z.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(I){return!(!I||!I.hasOwnProperty(h.Z.SUB_SEGMENT_ALIGNMENT))&&"true"===I[h.Z.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(I){var $={};if(I&&I.hasOwnProperty(h.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var G,Z=an(I.SupplementalProperty_asArray);try{for(Z.s();!(G=Z.n()).done;){var j=G.value;j.hasOwnProperty(f.Z.SCHEME_ID_URI)&&j.hasOwnProperty(h.Z.VALUE)&&($[j[f.Z.SCHEME_ID_URI]]=j[h.Z.VALUE])}}catch(ae){Z.e(ae)}finally{Z.f()}}return $},getSupplementalPropertiesAsArrayForAdaptation:function(I){return I&&I.hasOwnProperty(h.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&I.SupplementalProperty_asArray.length?I.SupplementalProperty_asArray.map(function($){return(new lt).init($)}):[]},getSupplementalPropertiesForRepresentation:function(I){var $={};if(I&&I.hasOwnProperty(h.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var G,Z=an(I.SupplementalProperty_asArray);try{for(Z.s();!(G=Z.n()).done;){var j=G.value;j.hasOwnProperty(f.Z.SCHEME_ID_URI)&&j.hasOwnProperty(h.Z.VALUE)&&($[j[f.Z.SCHEME_ID_URI]]=j[h.Z.VALUE])}}catch(ae){Z.e(ae)}finally{Z.f()}}return $},getSupplementalPropertiesAsArrayForRepresentation:function(I){return I&&I.hasOwnProperty(h.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&I.SupplementalProperty_asArray.length?I.SupplementalProperty_asArray.map(function($){return(new lt).init($)}):[]},setConfig:function(I){I&&(I.errHandler&&(b=I.errHandler),I.BASE64&&(D=I.BASE64))}},m=(0,M.Z)(L).getInstance().getLogger(v),v}pn.__dashjs_factory_name="DashManifestModel";const Bn=C.Z.getSingletonFactory(pn);var ir=F(703);function kr(v,m){var b;if(typeof Symbol>"u"||null==v[Symbol.iterator]){if(Array.isArray(v)||(b=function(ee,ie){if(ee){if("string"==typeof ee)return Rn(ee,void 0);var te=Object.prototype.toString.call(ee).slice(8,-1);return"Object"===te&&ee.constructor&&(te=ee.constructor.name),"Map"===te||"Set"===te?Array.from(ee):"Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?Rn(ee,void 0):void 0}}(v))||m&&v&&"number"==typeof v.length){b&&(v=b);var D=0,L=function(){};return{s:L,n:function(){return D>=v.length?{done:!0}:{done:!1,value:v[D++]}},e:function(ee){throw ee},f:L}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,A=!0,U=!1;return{s:function(){b=v[Symbol.iterator]()},n:function(){var ee=b.next();return A=ee.done,ee},e:function(ee){U=!0,N=ee},f:function(){try{A||null==b.return||b.return()}finally{if(U)throw N}}}}function Rn(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}function qt(){var v,m,b,D,L,N,A,U,ee,ie,te=this.context,V=(0,S.Z)(te).getInstance(),re=(0,Mt.Z)(te).getInstance();function X(){b={pr:1,nor:null,st:null,sf:null,sid:"".concat(ir.Z.generateUuid()),cid:null},ee={},U={},ie={},me()}function De(){me()}function me(){if(N){var j=N.getStreamController();if(j&&"function"==typeof j.getActiveStream){var ae=j.getActiveStream();ae&&(A=ae.getProcessors())}}}function Se(j,ae){var le,ve={},z=kr(ae);try{for(z.s();!(le=z.n()).done;){var Q=le.value;j[Q]&&(ve[Q]=j[Q])}}catch(Me){z.e(Me)}finally{z.f()}return ve}function Ae(j){var ae=re.get().streaming.cmcd.enabledKeys;return j.filter(function(le){return ae.includes(le)})}function Y(j){try{return j.type===He.w.MPD_TYPE?((le=ge()).ot="m",le):j.type===He.w.MEDIA_SEGMENT_TYPE?(ie.hasOwnProperty(ae=j.mediaType)||(ie[ae]=!1),U.hasOwnProperty(ae)||(U[ae]=!1),ee.hasOwnProperty(ae)||(ee[ae]=!1),function(ve){var z,Q=ge(),Me=function(Ft){try{return parseInt(Ft.mediaInfo.bitrateList[Ft.quality].bandwidth/1e3)}catch{return null}}(ve),Ve=function(Ft){try{return isNaN(Ft.duration)?NaN:Math.round(1e3*Ft.duration)}catch{return null}}(ve),ze=function(Ft){try{return 100*parseInt(D.getThroughputHistory().getSafeAverageThroughput(Ft)/100)}catch{return null}}(ve.mediaType),Je=function(Ft){try{var sn=b.pr,Be=L.getCurrentBufferLevel(Ft);return isNaN(sn)||isNaN(Be)?null:100*parseInt(Be/sn*10)}catch{return null}}(ve.mediaType),Fe=fe(ve.mediaType),Ie=function(Ft){try{var sn=D.getTopBitrateInfoFor(Ft);return Math.round(sn.bitrate/1e3)}catch{return null}}(ve.mediaType),Ct=b.pr,mt=function(Ft){if(A&&0!==A.length){var sn,Be=kr(A);try{for(Be.s();!(sn=Be.n()).done;){var Te=sn.value;if(Te.getType()===Ft)return Te.probeNextRequest()}}catch(et){Be.e(et)}finally{Be.f()}}}(ve.mediaType);ve.mediaType===f.Z.VIDEO&&(z="v"),ve.mediaType===f.Z.AUDIO&&(z="a"),ve.mediaType===f.Z.TEXT&&(z="application/mp4"===ve.mediaInfo.mimeType?"tt":"c");var bt=re.get().streaming.cmcd.rtp;return bt||(bt=function(Ft){try{var sn=N.getPlaybackRate();sn||(sn=1);var Be=Ft.quality,et=Ft.mediaInfo,Oe=Ft.duration;if(!et)return NaN;var nt=fe(Ft.mediaType);0===nt&&(nt=500);var ft=et.bitrateList[Be].bandwidth*Oe/1e3/(nt/sn/1e3),pt=re.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(re.get().streaming.cmcd.rtpSafetyFactor)?re.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(ft*pt/100)+1)}catch{return NaN}}(ve)),isNaN(bt)||(Q.rtp=bt),mt&&(ve.url!==mt.url?Q.nor=encodeURIComponent(ir.Z.getRelativeUrl(ve.url,mt.url)):mt.range&&(Q.nrr=mt.range)),Me&&(Q.br=Me),z&&(Q.ot=z),isNaN(Ve)||(Q.d=Ve),isNaN(ze)||(Q.mtp=ze),isNaN(Je)||(Q.dl=Je),isNaN(Fe)||(Q.bl=Fe),isNaN(Ie)||(Q.tb=Ie),isNaN(Ct)||1===Ct||(Q.pr=Ct),ee[ve.mediaType]&&(Q.bs=!0,ee[ve.mediaType]=!1),!U[ve.mediaType]&&ie[ve.mediaType]||(Q.su=!0,U[ve.mediaType]=!1,ie[ve.mediaType]=!0),Q}(j)):j.type===He.w.INIT_SEGMENT_TYPE?((ve=ge()).ot="i",ve.su=!0,ve):j.type===He.w.OTHER_TYPE||j.type===He.w.XLINK_EXPANSION_TYPE?function(){var ve=ge();return ve.ot="o",ve}():j.type===He.w.LICENSE?((z=ge()).ot="k",z):null}catch{return null}var z,ve,ae,le}function ge(){var j={},ae=re.get().streaming.cmcd.cid?re.get().streaming.cmcd.cid:b.cid;return j.v=1,j.sid=re.get().streaming.cmcd.sid?re.get().streaming.cmcd.sid:b.sid,j.sid="".concat(j.sid),ae&&(j.cid="".concat(ae)),isNaN(b.pr)||1===b.pr||null===b.pr||(j.pr=b.pr),b.st&&(j.st=b.st),b.sf&&(j.sf=b.sf),j}function fe(j){try{var ae=L.getCurrentBufferLevel(j);return isNaN(ae)?null:100*parseInt(10*ae)}catch{return null}}function be(j){try{b.pr=j.playbackRate}catch{}}function I(j){try{var ae=v.getIsDynamic(j.data)?"l":"v",le=j.protocol&&"MSS"===j.protocol?"s":"d";b.st="".concat(ae),b.sf="".concat(le)}catch{}}function $(j){try{j.state&&j.mediaType&&j.state===p.Z.BUFFER_EMPTY&&(ee[j.mediaType]||(ee[j.mediaType]=!0),U[j.mediaType]||(U[j.mediaType]=!0))}catch{}}function G(){for(var j in ee)ee.hasOwnProperty(j)&&(ee[j]=!0);for(var ae in U)U.hasOwnProperty(ae)&&(U[ae]=!0)}function Z(j){try{if(!j)return null;var ae=Object.keys(j).sort(function(z,Q){return z.localeCompare(Q)}),le=ae.length,ve=ae.reduce(function(z,Q,Me){return"v"===Q&&1===j[Q]||(z+="string"==typeof j[Q]&&"ot"!==Q&&"sf"!==Q&&"st"!==Q?"".concat(Q,"=").concat(JSON.stringify(j[Q])):"".concat(Q,"=").concat(j[Q]),Me<le-1&&(z+=",")),z},"");return(ve=ve.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return m={getQueryParameter:function(j){try{if(re.get().streaming.cmcd&&re.get().streaming.cmcd.enabled){var ae=Y(j),ve=Z(function(z){try{var Q=re.get().streaming.cmcd.enabledKeys;return Object.keys(z).filter(function(Me){return Q.includes(Me)}).reduce(function(Me,Ve){return Me[Ve]=z[Ve],Me},{})}catch{return z}}(ae));return V.trigger(jn.Z.CMCD_DATA_GENERATED,{url:j.url,mediaType:j.mediaType,cmcdData:ae,cmcdString:ve}),{key:"CMCD",value:ve}}return null}catch{return null}},getHeaderParameters:function(j){try{if(re.get().streaming.cmcd&&re.get().streaming.cmcd.enabled){var ae=Y(j),le=Se(ae,Ae(["br","d","ot","tb"])),ve=Se(ae,Ae(["bl","dl","mtp","nor","nrr","su"])),z=Se(ae,Ae(["bs","rtp"])),Q=Se(ae,Ae(["cid","pr","sf","sid","st","v"])),Me={"CMCD-Object":Z(le),"CMCD-Request":Z(ve),"CMCD-Status":Z(z),"CMCD-Session":Z(Q)};return V.trigger(jn.Z.CMCD_DATA_GENERATED,{url:j.url,mediaType:j.mediaType,cmcdData:ae,headers:Me}),Me}return null}catch{return null}},setConfig:function(j){j&&(j.abrController&&(D=j.abrController),j.dashMetrics&&(L=j.dashMetrics),j.playbackController&&(N=j.playbackController))},reset:function(){V.off(p.Z.PLAYBACK_RATE_CHANGED,be,this),V.off(p.Z.MANIFEST_LOADED,I,this),V.off(p.Z.BUFFER_LEVEL_STATE_CHANGED,$,m),V.off(p.Z.PLAYBACK_SEEKED,G,m),X()},initialize:function(){V.on(p.Z.PLAYBACK_RATE_CHANGED,be,m),V.on(p.Z.MANIFEST_LOADED,I,m),V.on(p.Z.BUFFER_LEVEL_STATE_CHANGED,$,m),V.on(p.Z.PLAYBACK_SEEKED,G,m),V.on(p.Z.PERIOD_SWITCH_COMPLETED,De,m)}},v=Bn(te).getInstance(),X(),m}qt.__dashjs_factory_name="CmcdModel";const Lt=C.Z.getSingletonFactory(qt);function rn(v){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Pn(v,m){Pn=function(U,ee){return new N(U,void 0,ee)};var b=Sr(RegExp),D=RegExp.prototype,L=new WeakMap;function N(U,ee,ie){var te=b.call(this,U,ee);return L.set(te,ie||L.get(U)),te}function A(U,ee){var ie=L.get(ee);return Object.keys(ie).reduce(function(te,V){return te[V]=U[ie[V]],te},Object.create(null))}return function $n(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),m&&Ci(v,m)}(N,b),N.prototype.exec=function(U){var ee=D.exec.call(this,U);return ee&&(ee.groups=A(ee,this)),ee},N.prototype[Symbol.replace]=function(U,ee){if("string"==typeof ee){var ie=L.get(this);return D[Symbol.replace].call(this,U,ee.replace(/\$<([^>]+)>/g,function(V,re){return"$"+ie[re]}))}if("function"==typeof ee){var te=this;return D[Symbol.replace].call(this,U,function(){var V=[];return V.push.apply(V,arguments),"object"!==rn(V[V.length-1])&&V.push(A(V,te)),ee.apply(this,V)})}return D[Symbol.replace].call(this,U,ee)},Pn.apply(this,arguments)}function Sr(v){var m="function"==typeof Map?new Map:void 0;return Sr=function(b){if(null===b||-1===Function.toString.call(b).indexOf("[native code]"))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==m){if(m.has(b))return m.get(b);m.set(b,L)}function L(){return xr(b,arguments,Ur(this).constructor)}return L.prototype=Object.create(b.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),Ci(L,b)},Sr(v)}function xr(v,m,b){return(xr=function Di(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(D,L,N){var A=[null];A.push.apply(A,L);var U=new(Function.bind.apply(D,A));return N&&Ci(U,N.prototype),U}).apply(null,arguments)}function Ci(v,m){return(Ci=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Ur(v){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}var ai="dynamic",ta="cmsd-"+ai,Zo="stream",no=["mb","st","sf","v"],Pl={video:"v",audio:"a",text:"tt",stream:Zo},Vc=/^[-0-9]/;function kl(){var v,m,b,D,L=this.context,N=(0,S.Z)(L).getInstance();function A(){b={},D={}}function U(X){X&&Object.keys(X).forEach(function(De){no.includes(De)||delete X[De]})}function ee(X){return!X||"false"!==X.toLowerCase()&&(Vc.test(X)?parseInt(X,10):X.replace(/["]+/g,""))}function ie(X){try{for(var De={},me=X.split(","),Se=0;Se<me.length;Se++){var Ae=me[Se].split("="),Y=Ae[0],ge=ee(Ae[1]);De[Y]=ge}return De}catch(fe){m.error("Failed to parse CMSD-Static response header value:",fe)}}function te(X){try{for(var De={},me=X.split(","),Se=me[me.length-1].split(";"),Ae=1;Ae<Se.length;Ae++){var Y=Se[Ae].split("="),ge=Y[0],fe=ee(Y[1]);De[ge]=fe}return De}catch(be){return m.error("Failed to parse CMSD-Dynamic response header value:",be),[]}}function V(X){return Pl[X]||"o"}function re(X,De,me){var Se="static"===X?b:D;return(Se[De]||{})[me]||(Se[Zo]||{})[me]}return v={setConfig:function(){},initialize:function(){},reset:function(){A()},parseResponseHeaders:function(X,De){for(var me=null,Se=null,Ae=X.split("\r\n"),Y=Ae.length-1;Y>=0;Y--){var ge=Ae[Y].match(Pn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(ge&&ge.groups){var fe=ge.groups.key.toLowerCase(),be=ge.groups.value;switch(fe){case"cmsd-static":me=ie(be),N.trigger(g.Z.CMSD_STATIC_HEADER,me);break;case ta:Se||(Se=te(be))}}}var I=Zo;return me&&me.ot?I=me.ot:De&&(I=V(De)),U(b[I]),U(D[I]),me&&(b[I]=Object.assign(b[I]||{},me)),Se&&(D[I]=Object.assign(D[I]||{},Se)),{static:me,dynamic:Se}},getMaxBitrate:function(X){var De=V(X);return re(ai,De,"mb")||-1},getEstimatedThroughput:function(X){var De=V(X);return re(ai,De,"etp")||null},getResponseDelay:function(X){var De=V(X);return re(ai,De,"rd")||null},getRoundTripTime:function(X){var De=V(X);return re(ai,De,"rtt")||null}},m=(0,M.Z)(L).getInstance().getLogger(v),A(),v}kl.__dashjs_factory_name="CmsdModel";const xi=C.Z.getSingletonFactory(kl);function Ao(){var v,m,b=this.context,D={};function L(){m=(0,M.Z)(b).getInstance().getLogger(v)}function N(U){for(var ee={},ie=0,te=0,V=0,re=0,X=U.length,De=0;De<X;++De)ie+=U[De].chunkDownloadTimeRelativeMS,te+=U[De].bufferLevel,V+=U[De].chunkDownloadTimeRelativeMS*U[De].bufferLevel,re+=U[De].chunkDownloadTimeRelativeMS*U[De].chunkDownloadTimeRelativeMS;return ee.m=(V-ie*te/X)/(re-ie*ie/X),ee.b=te/X-ee.m*ie/X,function(me){return ee.m*me+ee.b}}function A(U){var ee,ie=!0,te=U.reduce(function(V,re){return V+re.bufferLevelAtSegmentEnd},0)/U.length;return U.forEach(function(V){Math.abs(V.bufferLevelAtSegmentEnd/V.bufferLevelAtSegmentStart)<.95&&(ie=!1),V.bufferLevelAtSegmentEnd/te<.8&&(ie=!1),ee?ee>V.bitrate&&(ie=!1):ee=V.bitrate}),ie}return v={setup:L,addMeasurement:function(U,ee,ie,te,V){U&&U.mediaType&&!D[U.mediaType]&&(D[U.mediaType]=[]);var re=U.mediaInfo.bitrateList.find(function(X){return X.id===U.representationId});D[U.mediaType].push({index:U.index,repId:U.representationId,mediaType:U.mediaType,requestTimeMS:te,adjustedAvailabilityStartTimeMS:U.availabilityStartTime.getTime(),segDurationMS:1e3*U.duration,chunksDurationMS:ie.reduce(function(X,De){return X+De.chunkDownloadDurationMS},0),segmentBytes:ie.reduce(function(X,De){return X+De.chunkBytes},0),bitrate:re&&re.bandwidth,bitrateList:U.mediaInfo.bitrateList,chunkMeasurements:ie,fetchDownloadDurationMS:ee,throughputCapacityDelayMS:V,getEstimatedBufferLevel:N(ie.slice(1))}),D[U.mediaType].length>10&&D[U.mediaType].shift()},getThroughputCapacityDelayMS:function(U,ee){var ie=D[U.mediaType]&&D[U.mediaType].slice(-3);return!ie||ie.length<3?0:A(ie)?ee/4>250?250:ee/4:0},getEstimatedDownloadDurationMS:function(U){var ee=D[U.mediaType].slice(-1).pop(),ie=D[U.mediaType].slice(-3),te=ee.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;ee.bufferLevelAtSegmentStart=ee.getEstimatedBufferLevel(te/2),ee.bufferLevelAtSegmentEnd=ee.getEstimatedBufferLevel(te);var V=A(ie),re=V?.6:.8;if(ee.isBufferStable&&1.05*ee.segDurationMS<ee.fetchDownloadDurationMS)return ee.fetchDownloadDurationMS;if(!V||ee.segDurationMS<ee.fetchDownloadDurationMS||ee.adjustedAvailabilityStartTimeMS<=ee.requestTimeMS+ee.throughputCapacityDelayMS-ee.segDurationMS)return.8*ee.fetchDownloadDurationMS;for(var X=ee.requestTimeMS+ee.throughputCapacityDelayMS-ee.adjustedAvailabilityStartTimeMS,De=0,me=0,Se=0,Ae=0;Ae<ee.chunkMeasurements.length;Ae++){var Y=ee.chunkMeasurements[Ae];if(X<me+Y.chunkDownloadDurationMS)break;me+=Y.chunkDownloadDurationMS,De+=Y.chunkBytes,Se++}if(X<0&&m.warn("request time was before adjusted availibitly start time"),De&&me&&Se>.2*ee.chunkMeasurements.length){var fe=ee.segmentBytes/(De/me);return ee.fetchDownloadDurationMS<fe?ee.fetchDownloadDurationMS*re:fe*re}var be=ee.bitrate;return ee.bitrateList.some(function(I){if(I.bandwidth>ee.bitrate)return be=I.bandwidth,!0}),be===ee.bitrate?ee.fetchDownloadDurationMS*re:re*ee.segmentBytes*8*1e3/be}},L(),v}Ao.__dashjs_factory_name="LowLatencyThroughputModel";const Jn=C.Z.getSingletonFactory(Ao);var Xt=F(5717);function On(v,m,b){return m in v?Object.defineProperty(v,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[m]=b,v}function Wn(v){var m,b,D,L,N,A,U,ee,ie,te,V,re=this.context,X=(v=v||{}).errHandler,De=v.dashMetrics,me=v.mediaPlayerModel,Se=v.requestModifier,Ae=v.boxParser,Y=v.errors,ge=v.requestTimeout||0,fe=(0,S.Z)(re).getInstance(),be=(0,Mt.Z)(re).getInstance();function I($,G){var Z,j=$.request,ae=[],le=!0,ve=!0,z=new Date,Q=z,Me=0,Ve=null,ze=null;if(!Se||!De||!X)throw new Error("config object is not correct or missing");var Je,Fe=function(nt){j.requestStartDate=z,j.requestEndDate=new Date,j.firstByteDate=j.firstByteDate||z,j.fileLoaderType=ze;var ft=Z.response?Z.response.responseURL:null,pt=Z.response?Z.response.status:null,Ot=Z.response&&Z.response.getAllResponseHeaders?Z.response.getAllResponseHeaders():Z.response?Z.response.responseHeaders:null,Gt=Ot&&be.get().streaming.cmsd&&be.get().streaming.cmsd.enabled?U.parseResponseHeaders(Ot,j.mediaType):null;De.addHttpRequest(j,ft,pt,Ot,nt?ae:null,Gt)},Ie=function(nt){ve=!1,Fe(nt),j.type===He.w.MPD_TYPE&&(De.addManifestUpdate(j),fe.trigger(g.Z.MANIFEST_LOADING_FINISHED,{request:j}))},Ct=function(){if(Ve&&(clearTimeout(Ve),Ve=null),-1!==b.indexOf(Z)&&(b.splice(b.indexOf(Z),1),ve))if(Ie(!1),G>0){try{be.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&j.type===He.w.MEDIA_SEGMENT_TYPE&&me.getRetryAttemptsForType(He.w.MEDIA_SEGMENT_TYPE)===G&&fe.trigger(g.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}G--;var nt={config:$};L.push(nt),nt.timeout=setTimeout(function(){-1!==L.indexOf(nt)&&(L.splice(L.indexOf(nt),1),I($,G))},me.getRetryIntervalsForType(j.type))}else{if(j.type===He.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;X.error(new K.Z(N[j.type],j.url+" is not available",{request:j,response:Z.response})),$.error&&$.error(j,"error",Z.response.statusText,Z.response),$.complete&&$.complete(j,Z.response.statusText)}};j.hasOwnProperty("availabilityTimeComplete")&&!1===j.availabilityTimeComplete&&window.fetch&&"arraybuffer"===j.responseType&&j.type===He.w.MEDIA_SEGMENT_TYPE?((Je=Yn(re).create({requestModifier:Se,lowLatencyThroughputModel:ie,boxParser:Ae})).setup({dashMetrics:De}),ze=f.Z.FILE_LOADER_TYPES.FETCH):(Je=(0,on.Z)(re).create({requestModifier:Se}),ze=f.Z.FILE_LOADER_TYPES.XHR);var mt=null,bt=Se.modifyRequestURL?Se.modifyRequestURL(j.url):j.url;if(be.get().streaming.cmcd&&be.get().streaming.cmcd.enabled){var Ft=be.get().streaming.cmcd.mode;if(Ft===f.Z.CMCD_MODE_QUERY){var sn=function(nt){try{var ft=[],pt=A.getQueryParameter(nt);return pt&&ft.push(pt),ft}catch{return[]}}(j);bt=ir.Z.addAditionalQueryParameterToUrl(bt,sn)}else Ft===f.Z.CMCD_MODE_HEADER&&(mt=A.getHeaderParameters(j))}var Be=ee.getXHRWithCredentialsForType(j.type);if(j.queryParams){var Te=Object.keys(j.queryParams).map(function(nt){return{key:nt,value:j.queryParams[nt]}});bt=ir.Z.addAditionalQueryParameterToUrl(bt,Te)}j.url=bt,Z={url:bt,method:He.w.GET,withCredentials:Be,request:j,onload:function(){Z.response.status>=200&&Z.response.status<=299&&(Ie(!0),$.success&&$.success(Z.response.response,Z.response.statusText,Z.response.responseURL),$.complete&&$.complete(j,Z.response.statusText))},onend:Ct,onerror:Ct,progress:function(nt){var ft=new Date;le&&(le=!1,(!nt.lengthComputable||nt.lengthComputable&&nt.total!==nt.loaded)&&(j.firstByteDate=ft)),nt.lengthComputable&&(j.bytesLoaded=nt.loaded,j.bytesTotal=nt.total),nt.noTrace||(ae.push({s:Q,d:nt.time?nt.time:ft.getTime()-Q.getTime(),b:[nt.loaded?nt.loaded-Me:0]}),Q=ft,Me=nt.loaded),Ve&&(clearTimeout(Ve),Ve=null),be.get().streaming.fragmentRequestProgressTimeout>0&&(Ve=setTimeout(function(){te.warn("Abort request "+Z.url+" due to progress timeout"),Z.response.onabort=null,Z.loader.abort(Z),Ct()},be.get().streaming.fragmentRequestProgressTimeout)),$.progress&&nt&&$.progress(nt)},onabort:function(){Fe(!0),Ve&&(clearTimeout(Ve),Ve=null),$.abort&&$.abort(j)},ontimeout:function(nt){var ft;ft=nt.lengthComputable?"Request timeout: loaded: "+nt.loaded+", out of: "+nt.total+" : "+(nt.loaded/nt.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",te.warn(ft)},loader:Je,timeout:ge,headers:mt};var et=(new Date).getTime();if(isNaN(j.delayLoadingTime)||et>=j.delayLoadingTime)b.push(Z),Je.load(Z);else{var Oe={httpRequest:Z};D.push(Oe),Oe.delayTimeout=setTimeout(function(){if(-1!==D.indexOf(Oe)){D.splice(D.indexOf(Oe),1);try{Q=z=new Date,b.push(Oe.httpRequest),Je.load(Oe.httpRequest)}catch{Oe.httpRequest.onerror()}}},j.delayLoadingTime-et)}}return m={load:function($){$.request?I($,me.getRetryAttemptsForType($.request.type)):$.error&&$.error($.request,"error")},abort:function(){L.forEach(function($){clearTimeout($.timeout),$.config.request&&$.config.abort&&$.config.abort($.config.request)}),L=[],D.forEach(function($){return clearTimeout($.delayTimeout)}),D=[],b.forEach(function($){$.request.type!==He.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&($.onloadend=$.onerror=$.onprogress=void 0,$.loader.abort($))}),b=[]}},te=(0,M.Z)(re).getInstance().getLogger(m),b=[],D=[],L=[],A=Lt(re).getInstance(),U=xi(re).getInstance(),ie=Jn(re).getInstance(),ee=(0,Xt.Z)(re).getInstance(),On(V={},He.w.MPD_TYPE,Y.DOWNLOAD_ERROR_ID_MANIFEST_CODE),On(V,He.w.XLINK_EXPANSION_TYPE,Y.DOWNLOAD_ERROR_ID_XLINK_CODE),On(V,He.w.INIT_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),On(V,He.w.MEDIA_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),On(V,He.w.INDEX_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),On(V,He.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),On(V,He.w.OTHER_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),N=V,m}Wn.__dashjs_factory_name="HTTPLoader";const di=C.Z.getClassFactory(Wn);function ei(){var v;function m(){v={}}function b(){m()}return b(),{getLoader:function(D){for(var L in v)if(v.hasOwnProperty(L)&&D.startsWith(L))return v[L];return di},registerLoader:function(D,L){v[D]=L},unregisterLoader:function(D){v[D]&&delete v[D]},unregisterAllLoader:m,reset:b}}ei.__dashjs_factory_name="SchemeLoaderFactory";const or=C.Z.getSingletonFactory(ei);function Lr(v){v=v||{};var m,b,D=this.context;return m=or(D).getInstance(),{load:function(L){if(!b){var N=m.getLoader(L&&L.request?L.request.url:null);b=N(D).create({errHandler:v.errHandler,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,dashMetrics:v.dashMetrics,boxParser:v.boxParser?v.boxParser:null,constants:v.constants?v.constants:null,dashConstants:v.dashConstants?v.dashConstants:null,urlUtils:v.urlUtils?v.urlUtils:null,requestTimeout:isNaN(v.requestTimeout)?0:v.requestTimeout,errors:v.errors})}b.load(L)},abort:function(){b&&b.abort()}}}Lr.__dashjs_factory_name="URLLoader";const Rr=C.Z.getClassFactory(Lr);function fi(v){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Gr(v,m){return(Gr=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Un(v){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const rs=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Gr(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Un(m);if(b){var U=Un(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function Ar(v,m){return!m||"object"!==fi(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(N){var A;return function(U,ee){if(!(U instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,L),(A=D.call(this,N)).checkForExistenceOnly=!0,A}return L}(q.Z);function ho(v){var m,b,L=(v=v||{}).eventBus,N=v.events,A=v.urlUtils,U=v.errors,ee=v.streamId;return m={checkForExistence:function(ie){var te=function(re){L.trigger(N.CHECK_FOR_EXISTENCE_COMPLETED,{request:ie,exists:re})};if(ie){var V=new rs(ie.url);b.load({request:V,success:function(){te(!0)},error:function(){te(!1)}})}else te(!1)},load:function(ie){var te=function(V,re){L.trigger(N.LOADING_COMPLETED,{request:ie,response:V||null,error:re||null,sender:m})};ie?b.load({request:ie,progress:function(V){L.trigger(N.LOADING_PROGRESS,{request:ie,stream:V.stream,streamId:ee}),V.data&&L.trigger(N.LOADING_DATA_PROGRESS,{request:ie,response:V.data||null,error:null,sender:m})},success:function(V){te(V)},error:function(V,re,X){te(void 0,new K.Z(U.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,X,re))},abort:function(V){V&&L.trigger(N.LOADING_ABANDONED,{mediaType:V.mediaType,request:V,sender:m})}}):te(void 0,new K.Z(U.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,U.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){b&&b.abort()},reset:function(){b&&(b.abort(),b=null)}},b=Rr(this.context).create({errHandler:v.errHandler,errors:U,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,urlUtils:A,constants:f.Z,boxParser:v.boxParser,dashConstants:v.dashConstants,requestTimeout:v.settings.get().streaming.fragmentRequestTimeout}),m}ho.__dashjs_factory_name="FragmentLoader";const Ca=C.Z.getClassFactory(ho);function ys(){return{modifyResponseAsync:function(v){return Promise.resolve(v)}}}ys.__dashjs_factory_name="SegmentResponseModifier";const zt=C.Z.getSingletonFactory(ys);function bs(v){v=v||{};var m,b,D,L=this.context,N=(0,S.Z)(L).getInstance(),A=v.errHandler,U=v.mediaPlayerModel,ee=v.dashMetrics,ie=(0,M.Z)(L).getInstance(),te=zt(L).getInstance(),V=v.streamInfo;function re(){return V.id}function X(){for(var me in D)D[me].reset();D={}}function De(me){if(me.sender){var Se=me.request,Ae=me.response,Y=Se.isInitializationRequest(),ge=Se.mediaInfo.streamInfo;if(me.error&&(Se.mediaType===f.Z.AUDIO||Se.mediaType===f.Z.VIDEO||Se.mediaType===f.Z.TEXT&&Se.mediaInfo.isFragmented)&&N.trigger(g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:me.request.serviceLocation}),Ae&&ge){var fe=(be=Ae,I=Se,$=V.id,G=me.type!==g.Z.FRAGMENT_LOADING_PROGRESS,(Z=new Pt).streamId=$,Z.mediaInfo=I.mediaInfo,Z.segmentType=I.type,Z.start=I.startTime,Z.duration=I.duration,Z.end=Z.start+Z.duration,Z.bytes=be,Z.index=I.index,Z.quality=I.quality,Z.representationId=I.representationId,Z.endFragment=G,Z);te.modifyResponseAsync(fe).then(function(be){N.trigger(Y?g.Z.INIT_FRAGMENT_LOADED:g.Z.MEDIA_FRAGMENT_LOADED,{chunk:be,request:Se},{streamId:ge.id,mediaType:Se.mediaType})}).catch(function(be){b.error(be),N.trigger(Y?g.Z.INIT_FRAGMENT_LOADED:g.Z.MEDIA_FRAGMENT_LOADED,{chunk:fe,request:Se},{streamId:ge.id,mediaType:Se.mediaType})})}else b.warn("No "+Se.mediaType+" bytes to push or stream is inactive.")}var be,I,$,G,Z}return b=ie.getLogger(m={getStreamId:re,getModel:function(me){var Se=D[me];return Se||(Se=k(L).create({streamInfo:V,type:me,dashMetrics:ee,fragmentLoader:Ca(L).create({dashMetrics:ee,mediaPlayerModel:U,errHandler:A,requestModifier:(0,xe.Z)(L).getInstance(),settings:v.settings,boxParser:v.boxParser,eventBus:N,events:g.Z,errors:pe,dashConstants:v.dashConstants,urlUtils:v.urlUtils,streamId:re()}),debug:ie,eventBus:N,events:g.Z}),D[me]=Se),Se},reset:function(){N.off(p.Z.FRAGMENT_LOADING_COMPLETED,De,this),N.off(p.Z.FRAGMENT_LOADING_PROGRESS,De,this),X()}}),X(),N.on(p.Z.FRAGMENT_LOADING_COMPLETED,De,m),N.on(p.Z.FRAGMENT_LOADING_PROGRESS,De,m),m}bs.__dashjs_factory_name="FragmentController";const sr=C.Z.getClassFactory(bs),Fr=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},jc=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function hd(v){var m,b,D=this.context,L=v.streamInfo;function N(U){b.setTrackByIndex(U)}function A(){b&&b.reset()}return m={getStreamId:function(){return L.id},initialize:function(){b.addTracks();var U=b.getTracks();U&&U.length>0&&N(0)},provide:function(U,ee){if("function"==typeof ee){var te,V=b.getCurrentTrack();if(!V||V.segmentDuration<=0||null==U)ee(null);else{(te=b.getThumbnailRequestForTime(U))&&(V.segmentDuration=te.duration);var re=Math.floor(U%V.segmentDuration*V.tilesHor*V.tilesVert/V.segmentDuration),X=new Fr;if(X.width=Math.floor(V.widthPerTile),X.height=Math.floor(V.heightPerTile),X.x=Math.floor(re%V.tilesHor)*V.widthPerTile,X.y=Math.floor(re/V.tilesHor)*V.heightPerTile,"readThumbnail"in V)return V.readThumbnail(U,function(me){X.url=me,ee(X)});if(te)X.url=te.url,V.segmentDuration=NaN;else{var De=Math.floor(U/V.segmentDuration);X.url=(Y=(0,_.vi)((me=V).templateUrl,"Number",Ae=De+me.startNumber),Y=(0,_.vi)(Y,"Time",(Ae-1)*me.segmentDuration*me.timescale),Y=(0,_.vi)(Y,"Bandwidth",me.bandwidth),(0,_.eR)(Y))}ee(X)}}var me,Ae,Y},setTrackByIndex:N,getCurrentTrackIndex:function(){return b.getCurrentTrackIndex()},getBitrateList:function(){var U=b.getTracks(),ee=0;return U.map(function(ie){var te=new jc;return te.mediaType=f.Z.IMAGE,te.qualityIndex=ee++,te.bitrate=ie.bitrate,te.width=ie.width,te.height=ie.height,te})},reset:A},A(),b=(0,nn.Z)(D).create({streamInfo:L,adapter:v.adapter,baseURLController:v.baseURLController,timelineConverter:v.timelineConverter,debug:v.debug,eventBus:v.eventBus,events:v.events,dashConstants:v.dashConstants,dashMetrics:v.dashMetrics,segmentBaseController:v.segmentBaseController}),m}hd.__dashjs_factory_name="ThumbnailController";const pd=C.Z.getClassFactory(hd);var Aa=F(7417);function ro(v){var m;v=v||{};var b=[],D=(0,S.Z)(this.context).getInstance(),L=v.updateEventName,N=v.addBlacklistEventName;function A(U){-1===b.indexOf(U)&&(b.push(U),D.trigger(L,{entry:U}))}return m={add:A,contains:function(U){return!!(b.length&&U&&U.length)&&-1!==b.indexOf(U)},reset:function(){b=[]}},N&&D.on(N,function(U){A(U.entry)},m),m}ro.__dashjs_factory_name="BlackListController";const Hc=C.Z.getClassFactory(ro);var md=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT,f.Z.MUXED,f.Z.IMAGE];function gd(v){v=v||{};var m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me,Se,Ae,Y,ge=this.context,fe=(0,S.Z)(ge).getInstance(),be=(0,Ye.Z)(ge).getInstance(),I=v.manifestModel,$=v.mediaPlayerModel,G=v.dashMetrics,Z=v.manifestUpdater,j=v.adapter,ae=v.timelineConverter,le=v.capabilities,ve=v.errHandler,z=v.abrController,Q=v.playbackController,Me=v.eventController,Ve=v.mediaController,ze=v.protectionController,Je=v.textController,Fe=v.videoModel,Ie=v.streamInfo,Ct=v.settings;function mt(jt,wn){return new Promise(function(En,_n){ft(),te=!0,Ot();var gt=Fe.getElement(),Ht=[];md.forEach(function(ct){(ct!==f.Z.TEXT||jt)&&(ct!==f.Z.VIDEO||!gt||gt&&/^VIDEO$/i.test(gt.nodeName))&&Ht.push(bt(ct,jt))}),Promise.all(Ht).then(function(){return ct=wn,new Promise(function(Ge){var Ee={},st=D.map(function(It){return It.createBufferSinks(ct)});Promise.all(st).then(function(It){It.forEach(function(Qt){Qt&&(Ee[Qt.getType()]=Qt)}),Ge(Ee)}).catch(function(){Ge(Ee)})});var ct}).then(function(ct){if(te=!1,0===D.length){var Ge="No streams to play.";ve.error(new K.Z(pe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Ge,I.getValue())),b.fatal(Ge)}else Gt();jt&&Je.createTracks(Ie),En(ct)}).catch(function(ct){_n(ct)})})}function bt(jt,wn){var En,_n=j.getAllMediaInfoForType(Ie,jt),gt=[],Ht=null;if(!_n||0===_n.length)return b.info("No "+jt+" data."),Promise.resolve();jt===f.Z.VIDEO&&(U=!0),jt===f.Z.AUDIO&&(ee=!0);for(var ct=0,Ge=_n.length;ct<Ge;ct++)Ht=_n[ct],jt===f.Z.TEXT&&Ht.isEmbedded&&(Je.addEmbeddedTrack(Ie,Ht),gt.push(Ht)),Ft(Ht)&&Ve.addTrack(Ht);if(gt.length>0&&(Ve.setInitialMediaSettingsForType(jt,Ie),Je.addMediaInfosToBuffer(Ie,jt,gt)),0===(_n=_n.filter(function(st){return!st.isEmbedded})).length)return Promise.resolve();if(jt===f.Z.IMAGE)return(re=pd(ge).create({streamInfo:Ie,adapter:j,baseURLController:v.baseURLController,timelineConverter:v.timelineConverter,debug:Se,eventBus:fe,events:g.Z,dashConstants:h.Z,dashMetrics:v.dashMetrics,segmentBaseController:v.segmentBaseController})).initialize(),Promise.resolve();fe.trigger(g.Z.STREAM_INITIALIZING,{streamInfo:Ie,mediaInfo:Ht}),Ve.setInitialMediaSettingsForType(jt,Ie);var Ee=function(st,It){var Qt=st&&st.length>0?st[0]:null,tn=V.getModel(Qt?Qt.type:null),Xn=Qt?Qt.type:null,Yr=Qt?Qt.mimeType:null,Vi=Qt?Qt.isFragmented:null,zr=St(ge).create({streamInfo:Ie,type:Xn,mimeType:Yr,timelineConverter:ae,adapter:j,manifestModel:I,mediaPlayerModel:$,fragmentModel:tn,dashMetrics:v.dashMetrics,baseURLController:v.baseURLController,segmentBaseController:v.segmentBaseController,abrController:z,playbackController:Q,mediaController:Ve,textController:Je,errHandler:ve,settings:Ct,boxParser:me,segmentBlacklistController:X});zr.initialize(It,U,Vi),D.push(zr);for(var Ki=0;Ki<st.length;Ki++)zr.addMediaInfo(st[Ki]);return Xn===f.Z.TEXT&&Je.addMediaInfosToBuffer(Ie,Xn,st,tn),zr}(_n,wn);return(En=Ve.getCurrentTrackFor(jt,Ie.id))?(z.updateTopQualityIndex(En),Ee.selectMediaInfo(jt===f.Z.TEXT&&En.isEmbedded?_n[0]:En)):Promise.resolve()}function Ft(jt){var En=jt?jt.type:null;return En===f.Z.MUXED?(b.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),ve.error(new K.Z(pe.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",I.getValue())),!1):!(En!==f.Z.TEXT&&En!==f.Z.IMAGE&&jt.contentProtection&&!le.supportsEncryptedMedia()&&(ve.error(new K.Z(pe.CAPABILITY_MEDIAKEYS_ERROR_CODE,pe.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function sn(jt){for(var wn=D?D.length:0,En=0;En<wn;En++){var _n=D[En].getFragmentModel();_n.abortRequests(),_n.resetInitialSettings(),D[En].reset(!1,jt)}Je&&Je.deactivateStream(Ie),D=[],N=!1,A=!1,nr(!1),Te(!1),fe.trigger(g.Z.STREAM_DEACTIVATED,{streamInfo:Ie})}function Be(jt){sn(jt),L=!1,U=!1,ee=!1,ie={},te=!1,Ae=!1,Y=[]}function Te(jt){Ae=jt}function et(){return Ie?Ie.start:NaN}function Oe(){return Ie?Ie.id:null}function nt(){return Ie}function ft(){if(!Fe||!z)throw new Error(f.Z.MISSING_CONFIG_ERROR)}function pt(jt){jt.error&&(ve.error(jt.error),b.fatal(jt.error.message))}function Ot(){if(Me){var jt=j.getEventsFor(Ie);jt&&jt.length>0&&Me.addInlineEvents(jt,Ie.id)}}function Gt(){for(var jt=D.length,wn=ie.audio||ie.video?new K.Z(pe.DATA_UPDATE_FAILED_ERROR_CODE,pe.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,En=0;En<jt;En++)if(D[En].isUpdating()||te)return;if(ze){ze.clearMediaInfoArray();for(var _n=0;_n<jt&&D[_n];_n++){var gt=D[_n].getType(),Ht=D[_n].getMediaInfo();if(gt===f.Z.AUDIO||gt===f.Z.VIDEO||gt===f.Z.TEXT&&Ht.isFragmented){var ct=D[_n].getMediaInfo();ct&&ze.initializeForMedia(ct)}}ze.handleKeySystemFromManifest()}wn?ve.error(wn):L||(L=!0,Fe.waitForReadyState(f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){fe.trigger(g.Z.STREAM_INITIALIZED,{streamInfo:Ie})}))}function An(){var jt=er(),wn=jt.length;if(0!==wn){for(var En=0;En<wn;En++)if(!jt[En].isBufferingCompleted()&&(jt[En].getType()===f.Z.AUDIO||jt[En].getType()===f.Z.VIDEO))return void b.debug("onBufferingCompleted - One streamProcessor has finished but",jt[En].getType(),"one is not buffering completed");b.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),A=!0,fe.trigger(g.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:Ie},{streamInfo:Ie})}else b.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Sn(jt){ie[jt.mediaType]=jt.error,Gt()}function un(jt){Me&&Me.addInbandEvents(jt.events,Ie.id)}function Dn(jt){return jt&&jt.type?Mn(jt.type):null}function Mn(jt){return jt?er().filter(function(wn){return wn.getType()===jt})[0]:null}function er(){for(var jt,wn,En=[],_n=0;_n<D.length;_n++)(jt=(wn=D[_n]).getType())!==f.Z.AUDIO&&jt!==f.Z.VIDEO&&jt!==f.Z.TEXT||En.push(wn);return En}function ar(jt,wn){var En=nt(),_n=wn.getStreamInfo();if(!_n||!En)return!0;var gt=j.getAdaptationForType(_n.index,jt,_n),Ht=j.getAdaptationForType(En.index,jt,En);return gt&&Ht?!(!Hn(Ht)&&Hn(gt)):!gt&&!Ht}function Hn(jt){return!!jt&&!!(jt.ContentProtection||jt.Representation_asArray&&jt.Representation_asArray.length>0&&jt.Representation_asArray[0].ContentProtection)}function hr(jt,wn){var En=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!jt||!jt.hasOwnProperty("getStreamInfo"))return!1;var _n=jt.getStreamInfo(),gt=En?En.getStreamInfo():nt();if(!_n||!gt)return!1;var Ht=j.getAdaptationForType(_n.index,wn,_n),ct=j.getAdaptationForType(gt.index,wn,gt);if(!Ht||!ct)return!Ht&&!ct;var Ge=Ht&&ct&&Ht.mimeType===ct.mimeType,Ee=ct.Representation_asArray.map(function(tn){return tn.codecs}),st=Ht.Representation_asArray.map(function(tn){return tn.codecs}),It=st.some(function(tn){return Ee.indexOf(tn)>-1}),Qt=st.some(function(tn){return Ee.some(function(Xn){return le.codecRootCompatibleWithCodec(Xn,tn)})});return It||Qt&&Ge}function nr(jt){De=jt}function pr(){return De}return m={initialize:function(){fe.on(g.Z.BUFFERING_COMPLETED,An,m),fe.on(g.Z.DATA_UPDATE_COMPLETED,Sn,m),fe.on(g.Z.INBAND_EVENTS,un,m),ze&&(fe.on(g.Z.KEY_ERROR,pt,m),fe.on(g.Z.SERVER_CERTIFICATE_UPDATED,pt,m),fe.on(g.Z.LICENSE_REQUEST_COMPLETE,pt,m),fe.on(g.Z.KEY_SYSTEM_SELECTED,pt,m),fe.on(g.Z.KEY_SESSION_CREATED,pt,m),fe.on(g.Z.KEY_STATUSES_CHANGED,pt,m)),Je.initializeForStream(Ie),fe.trigger(g.Z.STREAM_UPDATED,{streamInfo:Ie})},getStreamId:function(){return Ie?Ie.id:null},activate:function(jt,wn){return new Promise(function(En,_n){if(!N)return pr()?(N=!0,fe.trigger(g.Z.STREAM_ACTIVATED,{streamInfo:Ie}),void En(wn)):void(gt=jt,Ht=wn,mt(gt,Ht)).then(function(gt){N=!0,fe.trigger(g.Z.STREAM_ACTIVATED,{streamInfo:Ie}),En(gt)}).catch(function(gt){_n(gt)});var gt,Ht;En(wn)})},deactivate:sn,getIsActive:function(){return N},getDuration:function(){return Ie?Ie.duration:NaN},getStartTime:et,getId:Oe,getStreamInfo:nt,getHasAudioTrack:function(){return ee},getHasVideoTrack:function(){return U},startPreloading:function(jt,wn){return new Promise(function(En,_n){pr()?_n():(b.info("[startPreloading] Preloading next stream with id ".concat(Oe())),nr(!0),mt(jt,wn).then(function(){for(var gt=0;gt<D.length&&D[gt];gt++)D[gt].setExplicitBufferingTime(et()),D[gt].getScheduleController().startScheduleTimer();En()}).catch(function(){nr(!1),_n()}))})},initializeForTextWithMediaSource:function(jt){return new Promise(function(wn,En){bt(f.Z.TEXT,jt).then(function(){return(_n=Mn(f.Z.TEXT))?_n.createBufferSinks():Promise.resolve();var _n}).then(function(){Je.createTracks(Ie),wn()}).catch(function(_n){En(_n)})})},getThumbnailController:function(){return re},getBitrateListFor:function(jt){if(ft(),jt===f.Z.IMAGE)return re?re.getBitrateList():[];var wn=function(En){for(var _n=null,gt=0;gt<D.length;gt++)if((_n=D[gt]).getType()===En)return _n.getMediaInfo();return null}(jt);return z.getBitrateList(wn)},updateData:function(jt){return new Promise(function(wn){te=!0,Ie=jt,Me&&Ot();for(var En=[],_n=0,gt=D.length;_n<gt;_n++){var Ht=D[_n],ct=Ht.getMediaInfo();En.push(Ht.updateStreamInfo(Ie));var Ge=j.getAllMediaInfoForType(Ie,Ht.getType());if(Ge=Ge.filter(function(It){return!It.isEmbedded})){Ht.clearMediaInfoArray();for(var Ee=0;Ee<Ge.length;Ee++){var st=Ge[Ee];Ht.addMediaInfo(Ge[Ee]),j.areMediaInfosEqual(ct,st)&&(z.updateTopQualityIndex(st),En.push(Ht.selectMediaInfo(st)))}}}Promise.all(En).then(function(){for(En=[];Y.length>0;){var It=Y.pop(),Qt=It.newMediaInfo,tn=Dn(It.oldMediaInfo);if(!tn)return;En.push(tn.prepareTrackSwitch()),En.push(tn.selectMediaInfo(Qt))}return Promise.all(En)}).then(function(){te=!1,Gt(),fe.trigger(g.Z.STREAM_UPDATED,{streamInfo:Ie}),wn()})})},reset:function(jt){V&&(V.reset(),V=null),z&&Ie&&z.clearDataForStream(Ie.id),X&&(X.reset(),X=null),Be(jt),Ie=null,fe.off(g.Z.DATA_UPDATE_COMPLETED,Sn,m),fe.off(g.Z.BUFFERING_COMPLETED,An,m),fe.off(g.Z.INBAND_EVENTS,un,m),ze&&(fe.off(g.Z.KEY_ERROR,pt,m),fe.off(g.Z.SERVER_CERTIFICATE_UPDATED,pt,m),fe.off(g.Z.LICENSE_REQUEST_COMPLETE,pt,m),fe.off(g.Z.KEY_SYSTEM_SELECTED,pt,m),fe.off(g.Z.KEY_SESSION_CREATED,pt,m),fe.off(g.Z.KEY_STATUSES_CHANGED,pt,m))},getProcessors:er,setMediaSource:function(jt){return new Promise(function(wn,En){for(var _n=[],gt=0;gt<D.length;)Ft(D[gt].getMediaInfo())?(_n.push(D[gt].setMediaSource(jt)),gt++):(D[gt].reset(),D.splice(gt,1));Promise.all(_n).then(function(){for(var Ht=0;Ht<D.length;Ht++)D[Ht].dischargePreBuffer();if(0===D.length){var ct="No streams to play.";ve.error(new K.Z(pe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ct+"nostreams",I.getValue())),b.fatal(ct)}wn()}).catch(function(Ht){b.error(Ht),En(Ht)})})},isMediaCodecCompatible:function(jt){var wn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return hr(jt,f.Z.VIDEO,wn)&&hr(jt,f.Z.AUDIO,wn)},isProtectionCompatible:function(jt){return!jt||ar(f.Z.VIDEO,jt)&&ar(f.Z.AUDIO,jt)},getPreloaded:pr,getIsEndedEventSignaled:function(){return Ae},setIsEndedEventSignaled:Te,getAdapter:function(){return j},getHasFinishedBuffering:function(){return A},setPreloaded:nr,startScheduleControllers:function(){for(var jt=D.length,wn=0;wn<jt&&D[wn];wn++)D[wn].getScheduleController().startScheduleTimer()},prepareTrackChange:function(jt){if(N&&Ie){A=!1;var wn=jt.newMediaInfo,En=I.getValue();j.setCurrentMediaInfo(Ie.id,wn.type,wn);var _n=Dn(wn);if(_n){var gt=Q.getTime();b.info("Stream -  Process track changed at current time "+gt),En.refreshManifestOnSwitchTrack?(Y.push(jt),Z.getIsUpdating()||(b.debug("Stream -  Refreshing manifest for switch track"),Z.refreshManifest())):_n.selectMediaInfo(wn).then(function(){wn.type!==f.Z.VIDEO&&wn.type!==f.Z.AUDIO||z.updateTopQualityIndex(wn),_n.prepareTrackSwitch()})}}},prepareQualityChange:function(jt){var wn=Mn(jt.mediaType);wn&&wn.prepareQualityChange(jt)}},function(){try{Se=(0,M.Z)(ge).getInstance(),b=Se.getLogger(m),Be(),me=(0,Aa.Z)(ge).getInstance(),X=Hc(ge).create({updateEventName:g.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:g.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),V=sr(ge).create({streamInfo:Ie,mediaPlayerModel:$,dashMetrics:G,errHandler:ve,settings:Ct,boxParser:me,dashConstants:h.Z,urlUtils:be})}catch(jt){throw jt}}(),m}gd.__dashjs_factory_name="Stream";const Es=C.Z.getClassFactory(gd),Dh=function v(m){(function(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")})(this,v),this.url=m||null,this.type=He.w.CONTENT_STEERING_TYPE,this.responseType="json"},ti=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function Ia(){var v,m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me=this.context,Se=(0,Ye.Z)(me).getInstance();function Ae(z){I(z,"baseUrl")}function Y(z){I(z,"location")}function ge(z){if(z&&z.request&&z.request.serviceLocation&&z.request.requestStartDate&&z.request.requestEndDate&&!isNaN(z.request.bytesTotal)){var Q=z.request.serviceLocation,Me=z.request.requestEndDate.getTime()-z.request.requestStartDate.getTime();be(Q,parseInt(8*z.request.bytesTotal/Me*1e3))}}function fe(z){z&&z.httpRequest&&z.httpRequest._serviceLocation&&!isNaN(z.throughput)&&be(z.httpRequest._serviceLocation,1e3*z.throughput)}function be(z,Q){L[z]||(L[z]=[]),L[z].push(Q),L[z].length>4&&L[z].shift()}function I(z,Q){if(z&&z.request&&z.request.serviceLocation){var Me=z.request.serviceLocation;-1===D[Q].all.indexOf(Me)&&D[Q].all.push(Me),D[Q].current=Me}}function $(){var z=te.getValue(),Q=De.getContentSteering(z);return Q||(Q=re.getServiceDescriptionSettings().contentSteering),Q}function G(){return new Promise(function(z){try{var Q=$();if(!Q||!Q.serverUrl)return void z();var Me=function(ze){var Je=ze.serverUrl;b&&b.reloadUri&&(Je=Se.isRelative(b.reloadUri)?Se.resolve(b.reloadUri,ze.serverUrl):b.reloadUri);var Fe=[],Ie=D.baseUrl.all.concat(D.location.all);if(Ie.length>0){var Ct=Ie.map(function(Ft){return{serviceLocation:Ft,throughput:function(Be){if(!Be||!L[Be]||0===L[Be].length)return-1;var Te=L[Be].reduce(function(et,Oe){return et+Oe})/L[Be].length;return parseInt(Te)}(Ft)}});Ct.sort(function(Ft,sn){return sn.throughput-Ft.throughput});var mt="",bt="";Ct.forEach(function(Ft,sn){0!==sn&&(mt="".concat(mt,","),Ft.throughput>-1&&(bt="".concat(bt,","))),mt="".concat(mt).concat(Ft.serviceLocation),Ft.throughput>-1&&(bt="".concat(bt).concat(Ft.throughput))}),Fe.push({key:"_DASH_pathway",value:'"'.concat(mt,'"')}),Fe.push({key:"_DASH_throughput",value:bt})}return ir.Z.addAditionalQueryParameterToUrl(Je,Fe)}(Q),Ve=new Dh(Me);A.load({request:Ve,success:function(ze){var Je;(Je=ze)&&Je[h.Z.CONTENT_STEERING_RESPONSE.VERSION]&&1===parseInt(Je[h.Z.CONTENT_STEERING_RESPONSE.VERSION])&&((b=new ti).version=Je[h.Z.CONTENT_STEERING_RESPONSE.VERSION],Je[h.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Je[h.Z.CONTENT_STEERING_RESPONSE.TTL])&&(b.ttl=Je[h.Z.CONTENT_STEERING_RESPONSE.TTL]),Je[h.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(b.reloadUri=Je[h.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Je[h.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(b.pathwayPriority=Je[h.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Je[h.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(b.pathwayClones=Je[h.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],b.pathwayClones=b.pathwayClones.filter(function(Fe){return(Ie=Fe)[h.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&Ie[h.Z.CONTENT_STEERING_RESPONSE.ID]&&Ie[h.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&Ie[h.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][h.Z.CONTENT_STEERING_RESPONSE.HOST];var Ie})),ae()),X.trigger(p.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:b,url:Me}),z()},error:function(ze,Je,Fe,Ie){(function(Ct,mt){try{switch(m.warn("Error fetching data from content steering server",Ct),mt.status){case 410:break;case 429:var bt=mt&&mt.getResponseHeader?mt.getResponseHeader("retry-after"):null;null!==bt&&(b||(b={}),b.ttl=parseInt(bt)),ae();break;default:ae()}}catch(Ft){m.error(Ft)}})(ze,Ie),z(ze)},complete:function(){D.baseUrl.all=Z(D.baseUrl),D.location.all=Z(D.location)}})}catch(ze){z(ze)}})}function Z(z){return z.all&&0!==z.all.length&&z.current?z.all.filter(function(Q){return Q===z.current}):[]}function j(z){try{var Q=[];return z&&0!==z.length&&b&&b.pathwayClones&&0!==b.pathwayClones.length&&b.pathwayClones.forEach(function(Me){var Ve=z.filter(function(Ct){return Me[h.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===Ct.serviceLocation}),ze=null;if(Ve&&Ve.length>0&&(ze=Ve[0]),ze){var Je=new URL(ze.url),Fe=Me[h.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][h.Z.CONTENT_STEERING_RESPONSE.HOST];Fe=ir.Z.stringHasProtocol(Fe)?Fe:"".concat(Je.protocol,"//").concat(Fe);var Ie={synthesizedUrl:"".concat(Fe).concat(Je.pathname),serviceLocation:Me[h.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:Me[h.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][h.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:ze};Q.push(Ie)}}),Q}catch(Me){return m.error(Me),[]}}function ae(){b&&b.ttl&&!isNaN(b.ttl)&&(N&&clearTimeout(N),N=setTimeout(function(){G()},1e3*b.ttl))}function le(){N&&clearTimeout(N),N=null}function ve(){b=null,L={},D={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},le()}return v={reset:function(){ve(),X.off(p.Z.FRAGMENT_LOADING_STARTED,Ae,v),X.off(p.Z.MANIFEST_LOADING_STARTED,Y,v),X.off(p.Z.MANIFEST_LOADING_FINISHED,ge,v),X.off(p.Z.THROUGHPUT_MEASUREMENT_STORED,fe,v)},setConfig:function(z){z&&(z.adapter&&(De=z.adapter),z.errHandler&&(U=z.errHandler),z.dashMetrics&&(ee=z.dashMetrics),z.mediaPlayerModel&&(ie=z.mediaPlayerModel),z.requestModifier&&(V=z.requestModifier),z.manifestModel&&(te=z.manifestModel),z.serviceDescriptionController&&(re=z.serviceDescriptionController),z.eventBus&&(X=z.eventBus))},loadSteeringData:G,getCurrentSteeringResponseData:function(){return b},shouldQueryBeforeStart:function(){var z=$();return!!z&&z.queryBeforeStart},getSteeringDataFromManifest:$,stopSteeringRequestTimer:le,getSynthesizedBaseUrlElements:function(z){try{return j(z).map(function(Q){var Me=new _o(Q.synthesizedUrl,Q.serviceLocation);return Me.queryParams=Q.queryParams,Me.dvb_priority=Q.reference.dvb_priority,Me.dvb_weight=Q.reference.dvb_weight,Me.availabilityTimeOffset=Q.reference.availabilityTimeOffset,Me.availabilityTimeComplete=Q.reference.availabilityTimeComplete,Me})}catch(Q){return m.error(Q),[]}},getSynthesizedLocationElements:function(z){try{return j(z).map(function(Q){var Me=new bn(Q.synthesizedUrl,Q.serviceLocation);return Me.queryParams=Q.queryParams,Me})}catch(Q){return m.error(Q),[]}},initialize:function(){A=Rr(me).create({errHandler:U,dashMetrics:ee,mediaPlayerModel:ie,requestModifier:V,errors:pe}),X.on(p.Z.FRAGMENT_LOADING_STARTED,Ae,v),X.on(p.Z.MANIFEST_LOADING_STARTED,Y,v),X.on(p.Z.MANIFEST_LOADING_FINISHED,ge,v),X.on(p.Z.THROUGHPUT_MEASUREMENT_STORED,fe,v)}},m=(0,M.Z)(me).getInstance().getLogger(v),ve(),v}Ia.__dashjs_factory_name="ContentSteeringController";const Da=C.Z.getSingletonFactory(Ia);function na(){var v,m,b,D=this.context,L=(0,Mt.Z)(D).getInstance();return v={select:function(N){if(!N||0===N.length)return null;var U,ee,A=null;return L.get().streaming.applyContentSteering&&(U=N,A=(ee=b.getCurrentSteeringResponseData())&&ee.pathwayPriority&&ee.pathwayPriority.length>0?function(){for(var ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],V=0,re=null,X=function(){var De=ie[V],me=te.findIndex(function(Se){return Se.serviceLocation&&Se.serviceLocation===De});if(-1!==me&&!m.contains(te[me].serviceLocation))return re=te[me],"break";V+=1};V<ie.length&&"break"!==X(););return re}(ee.pathwayPriority,U):null),A||(A=function(U){return U[0]}(N)),A},setConfig:function(N){N.blacklistController&&(m=N.blacklistController),N.contentSteeringController&&(b=N.contentSteeringController)},reset:function(){m.reset()}},m=Hc(D).create({updateEventName:g.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:g.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),b=Da(D).getInstance(),v}na.__dashjs_factory_name="LocationSelector";const xh=C.Z.getClassFactory(na);function is(){var v,m,b,D,L,N,A,U,ee,ie,te,V,re,X,De=this.context,me=(0,S.Z)(De).getInstance(),Se=(0,Ye.Z)(De).getInstance();function Ae(){b=NaN,A=!1,L=!0,N=!1,Y()}function Y(){null!==D&&(clearTimeout(D),D=null)}function ge(le){Y(),N||(isNaN(le)&&!isNaN(b)&&(le=1e3*b),isNaN(le)||(m.debug("Refresh manifest in "+le+" milliseconds."),D=setTimeout($,le)))}function fe(){var le=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A=!0;var ve=ee.getValue(),z=ve.url,Q=null,Me=te.getPatchLocation(ve),Ve=ie.select(Me),ze=null;if(Ve&&!le)z=Ve.url,Q=Ve.serviceLocation,ze=Ve.queryParams;else{var Je=function be(le){var ve=te.getLocation(le),z=re.getSynthesizedLocationElements(ve);return ve.concat(z)}(ve),Fe=ie.select(Je);Fe&&(z=Fe.url,Q=Fe.serviceLocation,ze=Fe.queryParams)}Se.isRelative(z)&&(z=Se.resolve(z,ve.url)),U.load(z,Q,ze)}function I(le){if(le){if(te.getIsPatch(le)){var ve=le;le=ee.getValue();var z=te.isPatchValid(le,ve),Q=z;if(z){var Me=te.getPublishTime(le);Q=te.applyPatchToManifest(le,ve);var Ve=te.getPublishTime(le);Q=Me.getTime()!=Ve.getTime()}if(!Q)return m.debug("Patch provided is invalid, performing full manifest refresh"),void fe(!0);le.loadedTime=new Date}}else(le=ee.getValue()).loadedTime=new Date;if(ee.getValue()&&ee.getValue().type===h.Z.DYNAMIC&&le.type===h.Z.STATIC)return me.trigger(g.Z.DYNAMIC_TO_STATIC),A=!1,void(N=!0);ee.setValue(le);var ze=new Date,Je=(ze.getTime()-le.loadedTime.getTime())/1e3;1e3*(b=te.getManifestUpdatePeriod(le,Je))>2147483647&&(b=2147483.647),me.trigger(g.Z.MANIFEST_UPDATED,{manifest:le}),m.info("Manifest has been refreshed at "+ze+"["+ze.getTime()/1e3+"] "),L||ge()}function $(){L||(A?ge(X.get().streaming.manifestUpdateRetryInterval):fe())}function G(le){le.error?le.error.code===pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&V.error(le.error):I(le.manifest)}function Z(){L=!1,ge()}function j(){(L=!X.get().streaming.scheduling.scheduleWhilePaused)&&Y()}function ae(){A=!1}return v={initialize:function(){Ae(),me.on(g.Z.STREAMS_COMPOSED,ae,this),me.on(p.Z.PLAYBACK_STARTED,Z,this),me.on(p.Z.PLAYBACK_PAUSED,j,this),me.on(g.Z.INTERNAL_MANIFEST_LOADED,G,this)},setManifest:function(le){I(le)},refreshManifest:fe,getIsUpdating:function(){return A},setConfig:function(le){le&&(le.manifestModel&&(ee=le.manifestModel),le.adapter&&(te=le.adapter),le.manifestLoader&&(U=le.manifestLoader),le.errHandler&&(V=le.errHandler),le.locationSelector&&(ie=le.locationSelector),le.settings&&(X=le.settings),le.contentSteeringController&&(re=le.contentSteeringController))},reset:function(){me.off(p.Z.PLAYBACK_STARTED,Z,this),me.off(p.Z.PLAYBACK_PAUSED,j,this),me.off(g.Z.STREAMS_COMPOSED,ae,this),me.off(g.Z.INTERNAL_MANIFEST_LOADED,G,this),Ae()}},m=(0,M.Z)(De).getInstance().getLogger(v),ie=xh(De).create(),v}is.__dashjs_factory_name="ManifestUpdater";const _d=C.Z.getClassFactory(is);function Ai(){var v,m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me,Se=this.context,Ae=(0,S.Z)(Se).getInstance(),Y=(0,Ye.Z)(Se).getInstance();function ge(){U=[],ee=[],ie=null,te=null,re=null,V=NaN,b=!1,D=!1,X=L.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function fe(){L.get().streaming.utcSynchronization.enabled&&!b&&!D&&re&&re.value&&re.schemeIdUri&&!isNaN(V)&&!isNaN(L.get().streaming.utcSynchronization.backgroundAttempts)&&(te&&(Date.now()-te)/1e3<30||(U=[],D=!0,be(isNaN(L.get().streaming.utcSynchronization.backgroundAttempts)?2:L.get().streaming.utcSynchronization.backgroundAttempts)))}function be(Fe){try{if(Fe<=0)return void ze();var Ie=Date.now();N[re.schemeIdUri](re.value,function(Ct){var mt=Date.now(),bt=$(Ie,mt,Ct);U.push(bt),be(Fe-1)},function(){ze()})}catch{ze()}}function I(){var Ie=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!ee||0===ee.length||Ie>=ee.length)G();else{var Ct=ee[Ie];if(Ct)if(N.hasOwnProperty(Ct.schemeIdUri)){var mt=(new Date).getTime();N[Ct.schemeIdUri](Ct.value,function(bt){var Ft=(new Date).getTime(),sn=$(mt,Ft,bt);re=Ct,G(sn)},function(){I(Ie+1)})}else I(Ie+1);else G()}}function $(Fe,Ie,Ct){return Ct-(Ie-(Ie-Fe)/2)}function G(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,Ie=isNaN(Fe);Ie&&L.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function Me(){var Fe=A.getLatestMPDRequestHeaderValueByID("Date"),Ie=null!==Fe?new Date(Fe).getTime():Number.NaN;isNaN(Ie)?Ve(!0):Ve(!1,Ie-Date.now())}():Ve(Ie,Fe)}function Z(Fe){var mt,bt,Ft,Ie=Date.parse(Fe);return isNaN(Ie)&&(Ft=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Fe),mt=Date.UTC(parseInt(Ft[1],10),parseInt(Ft[2],10)-1,parseInt(Ft[3],10),parseInt(Ft[4],10),parseInt(Ft[5],10),Ft[6]&&(parseInt(Ft[6],10)||0),Ft[7]&&1e3*parseFloat(Ft[7])||0),Ft[9]&&Ft[10]&&(bt=60*parseInt(Ft[9],10)+parseInt(Ft[10],10),mt+=("+"===Ft[8]?-1:1)*bt*60*1e3),Ie=new Date(mt).getTime()),Ie}function j(Fe){return Date.parse(Fe)}function ae(Fe){return Date.parse(Fe)}function le(Fe,Ie,Ct){Ct()}function ve(Fe,Ie,Ct){var mt=Z(Fe);isNaN(mt)?Ct():Ie(mt)}function z(Fe,Ie,Ct,mt,bt){var Ft,sn,Be=!1,Te=new XMLHttpRequest,et=bt?He.w.HEAD:He.w.GET,Oe=Ie.match(/\S+/g);if(Ie=Oe.shift(),Ft=function(){Be||(Be=!0,Oe.length?z(Fe,Oe.join(" "),Ct,mt,bt):mt())},sn=function(){var ft,pt;200===Te.status&&(ft=bt?Te.getResponseHeader("Date"):Te.response,pt=Fe(ft),isNaN(pt)||(Ct(pt),Be=!0))},Y.isRelative(Ie)){var nt=me.resolve();nt&&(Ie=Y.resolve(Ie,nt.url))}Te.open(et,Ie),Te.timeout=5e3,Te.onload=sn,Te.onloadend=Ft,Te.send()}function Q(Fe,Ie,Ct){z(ae,Fe,Ie,Ct,!0)}function Ve(Fe,Ie){if(isNaN(V)||isNaN(Ie)||Fe||function(mt){try{var bt,Ft=Je(mt),sn=isNaN(X)?30:X,Be=isNaN(L.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:L.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Te=isNaN(L.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:L.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,et=isNaN(L.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:L.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;Ft?(bt=Math.min(sn*Be,Te),m.debug("Increasing timeBetweenSyncAttempts to ".concat(bt))):(bt=Math.max(sn/Be,et),m.debug("Decreasing timeBetweenSyncAttempts to ".concat(bt))),X=bt}catch{}}(Ie),!Fe&&!isNaN(Ie)){ie=Date.now(),b=!1;var Ct=isNaN(V);V=Ie,Ct&&fe(),m.debug("Completed UTC sync. Setting client - server offset to ".concat(Ie))}Fe&&(re=null,b=!1,De.error(new K.Z(pe.TIME_SYNC_FAILED_ERROR_CODE,pe.TIME_SYNC_FAILED_ERROR_MESSAGE))),Ae.trigger(g.Z.UPDATE_TIME_SYNC_OFFSET,{offset:Ie}),Ae.trigger(g.Z.TIME_SYNCHRONIZATION_COMPLETED)}function ze(){if(U&&0!==U.length){var Fe=U.reduce(function(Ie,Ct){return Ie+Ct},0)/U.length;Je(Fe)?m.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(m.debug("Completed background UTC sync. Setting client - server offset to ".concat(Fe)),Ae.trigger(g.Z.UPDATE_TIME_SYNC_OFFSET,{offset:V=Fe})),D=!1,te=Date.now()}}function Je(Fe){try{if(isNaN(V))return!0;var Ie=L.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(L.get().streaming.utcSynchronization.maximumAllowedDrift)?L.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Fe>=V-Ie&&Fe<=V+Ie}catch{return!0}}return v={initialize:function(){ge(),N={"urn:mpeg:dash:utc:http-head:2014":Q,"urn:mpeg:dash:utc:http-xsdate:2014":z.bind(null,Z),"urn:mpeg:dash:utc:http-iso:2014":z.bind(null,j),"urn:mpeg:dash:utc:direct:2014":ve,"urn:mpeg:dash:utc:http-head:2012":Q,"urn:mpeg:dash:utc:http-xsdate:2012":z.bind(null,Z),"urn:mpeg:dash:utc:http-iso:2012":z.bind(null,j),"urn:mpeg:dash:utc:direct:2012":ve,"urn:mpeg:dash:utc:http-ntp:2014":le,"urn:mpeg:dash:utc:ntp:2014":le,"urn:mpeg:dash:utc:sntp:2014":le}},attemptSync:function(Fe,Ie){ee=Fe,b||(function(Ct){try{if(!Ct||!L.get().streaming.utcSynchronization.enabled)return!1;var mt=isNaN(X)?30:X;return!(ie&&mt&&!isNaN(mt))||(Date.now()-ie)/1e3>=mt}catch{return!0}}(Ie)?(b=!0,I()):Ae.trigger(g.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Fe){Fe&&(Fe.dashMetrics&&(A=Fe.dashMetrics),Fe.baseURLController&&(me=Fe.baseURLController),Fe.errHandler&&(De=Fe.errHandler),Fe.settings&&(L=Fe.settings))},reset:function(){ge(),Ae.off(g.Z.ATTEMPT_BACKGROUND_SYNC,fe,v)}},m=(0,M.Z)(Se).getInstance().getLogger(v),Ae.on(g.Z.ATTEMPT_BACKGROUND_SYNC,fe,v),v}Ai.__dashjs_factory_name="TimeSyncController";var tr=C.Z.getSingletonFactory(Ai);tr.HTTP_TIMEOUT_MS=5e3,C.Z.updateSingletonFactory(Ai.__dashjs_factory_name,tr);const T0=tr;function Qg(){var v,m,b;return v={createMediaSource:function(){var L="WebKitMediaSource"in window;return"MediaSource"in window?m=new MediaSource:L&&(m=new WebKitMediaSource),m},attachMediaSource:function(L){var N=window.URL.createObjectURL(m);return L.setSource(N),N},detachMediaSource:function(L){L.setSource(null)},setDuration:function L(N){m&&"open"===m.readyState&&(null===N&&isNaN(N)||m.duration!==N&&(function(A){for(var U=A.sourceBuffers,ee=0;ee<U.length;ee++)if(U[ee].updating)return!0;return!1}(m)?setTimeout(L.bind(null,N),50):(b.info("Set MediaSource duration:"+N),m.duration=N)))},setSeekable:function(L,N){m&&"function"==typeof m.setLiveSeekableRange&&"function"==typeof m.clearLiveSeekableRange&&"open"===m.readyState&&L>=0&&L<N&&(m.clearLiveSeekableRange(),m.setLiveSeekableRange(L,N))},signalEndOfStream:function(L){if(L&&"open"===L.readyState){for(var N=L.sourceBuffers,A=0;A<N.length;A++)if(N[A].updating||0===N[A].buffered.length)return;b.info("call to mediaSource endOfStream"),L.endOfStream()}}},b=(0,M.Z)(this.context).getInstance().getLogger(v),v}Qg.__dashjs_factory_name="MediaSourceController";const S0=C.Z.getSingletonFactory(Qg);function gn(){var v,m,b,D,L,N,A,U,ee,ie,te,V="urn:mpeg:dash:event:2012",X="updated",De="added",me=this.context,Se=(0,S.Z)(me).getInstance();function Ae(){if(!A||!U)throw new Error("setConfig function has to be called previously")}function Y(){te=!1,b={},D={},L=null,ie=!1,N=Date.now()/1e3}function ge(){try{if(!ie){ie=!0;var le=U.getTime(),ve=le-N;ve=N>0?Math.max(0,ve):0,fe(D,ve,le),fe(b,ve,le),be(D),be(b),N=le,ie=!1}}catch(z){ie=!1,m.error(z)}}function fe(le,ve,z){try{Z(le,function(Q){if(void 0!==Q){var Me=isNaN(Q.duration)?0:Q.duration;Q.calculatedPresentationTime<=z&&Q.calculatedPresentationTime+ve+Me>=z?ae(Q,p.Z.EVENT_MODE_ON_START):(j(z,Me+ve,Q.calculatedPresentationTime)||function(Ve){try{return Ve.calculatedPresentationTime>Ve.eventStream.period.start+Ve.eventStream.period.duration}catch(Je){return m.error(Je),!1}}(Q))&&(m.debug("Removing event ".concat(Q.id," from period ").concat(Q.eventStream.period.id," as it is expired or invalid")),function(Ve,ze){try{var Je=ze.eventStream.schemeIdUri,Fe=ze.eventStream.period.id,Ie=ze.eventStream.value,Ct=ze.id;Ve[Fe][Je]=Ve[Fe][Je].filter(function(mt){return Ie&&mt.eventStream.value&&mt.eventStream.value!==Ie||mt.id!==Ct}),0===Ve[Fe][Je].length&&delete Ve[Fe][Je]}catch(mt){m.error(mt)}}(le,Q))}})}catch(Q){m.error(Q)}}function be(le){try{for(var ve in le)le.hasOwnProperty(ve)&&0===Object.keys(le[ve]).length&&delete le[ve]}catch(z){m.error(z)}}function I(le,ve){var z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Q=le.eventStream.schemeIdUri,Me=le.eventStream.value,Ve=le.id,ze="discarded";ve[Q]||(ve[Q]=[]);var Je=ve[Q].findIndex(function(Ie){return(!Me||Ie.eventStream.value&&Ie.eventStream.value===Me)&&Ie.id===Ve});if(-1===Je)ve[Q].push(le),le.triggeredReceivedEvent=!1,le.triggeredStartEvent=!1,ze=De;else if(z){var Fe=ve[Q][Je];le.triggeredReceivedEvent=Fe.triggeredReceivedEvent,le.triggeredStartEvent=Fe.triggeredStartEvent,ve[Q][Je]=le,ze=X}return ze}function $(le){try{1==le.eventStream.value&&Se.trigger(p.Z.MANIFEST_VALIDITY_CHANGED,{id:le.id,validUntil:le.calculatedPresentationTime,newDuration:4294967295==le.calculatedPresentationTime?NaN:le.calculatedPresentationTime+le.duration,newManifestValidAfter:NaN},{mode:p.Z.EVENT_MODE_ON_START})}catch(Q){m.error(Q)}}function G(le){try{var ve=U.getTime();Z(le,function(z){var Q=z.eventStream&&z.eventStream.period&&!isNaN(z.eventStream.period.duration)?z.eventStream.period.duration:NaN,Me=z.eventStream&&z.eventStream.period&&!isNaN(z.eventStream.period.start)?z.eventStream.period.start:NaN;isNaN(Q)||isNaN(Me)||Math.abs(z.calculatedPresentationTime-ve)<300&&ae(z,p.Z.EVENT_MODE_ON_START)})}catch(z){m.error(z)}}function Z(le,ve){try{if(le)for(var z=Object.keys(le),Q=0;Q<z.length;Q++)for(var Me=le[z[Q]],Ve=Object.keys(Me),ze=0;ze<Ve.length;ze++)Me[Ve[ze]].forEach(function(Je){void 0!==Je&&ve(Je)})}catch(Je){m.error(Je)}}function j(le,ve,z){try{return le-ve>z}catch(Q){return m.error(Q),!1}}function ae(le,ve){try{var z=U.getTime(),Q=le.id;if(ve===p.Z.EVENT_MODE_ON_RECEIVE&&!le.triggeredReceivedEvent)return m.debug("Received event ".concat(Q)),le.triggeredReceivedEvent=!0,void Se.trigger(le.eventStream.schemeIdUri,{event:le},{mode:ve});le.triggeredStartEvent||(le.eventStream.schemeIdUri===V&&1==le.eventStream.value?0===le.duration&&0===le.presentationTimeDelta||(m.debug("Starting manifest refresh event ".concat(Q," at ").concat(z)),function(){try{Ae(),A.refreshManifest()}catch(Me){m.error(Me)}}()):"urn:mpeg:dash:event:callback:2015"===le.eventStream.schemeIdUri&&1==le.eventStream.value?(m.debug("Starting callback event ".concat(Q," at ").concat(z)),function(Me){try{(0,on.Z)(me).create({}).load({method:"get",url:Me,request:{responseType:"arraybuffer"}})}catch(Ve){m.error(Ve)}}(le.messageData)):(m.debug("Starting event ".concat(Q," from period ").concat(le.eventStream.period.id," at ").concat(z)),Se.trigger(le.eventStream.schemeIdUri,{event:le},{mode:ve})),le.triggeredStartEvent=!0)}catch(Me){m.error(Me)}}return v={addInlineEvents:function(le,ve){try{if(Ae(),b[ve]||(b[ve]={}),le)for(var z=0;z<le.length;z++){var Q=le[z];if(!j(U.getTime(),isNaN(Q.duration)?0:Q.duration,Q.calculatedPresentationTime)){var Me=I(Q,b[ve],!0);Me===De?(m.debug("Added inline event with id ".concat(Q.id," from period ").concat(ve)),ae(Q,p.Z.EVENT_MODE_ON_RECEIVE)):Me===X&&m.debug("Updated inline event with id ".concat(Q.id," from period ").concat(ve))}}}catch(Ve){throw Ve}},addInbandEvents:function(le,ve){try{Ae(),D[ve]||(D[ve]={});for(var z=0;z<le.length;z++){var Q=le[z];j(U.getTime(),isNaN(Q.duration)?0:Q.duration,Q.calculatedPresentationTime)||(I(Q,D[ve],!1)===De?(Q.eventStream.schemeIdUri===V&&$(Q),m.debug("Added inband event with id ".concat(Q.id," from period ").concat(ve)),ae(Q,p.Z.EVENT_MODE_ON_RECEIVE)):m.debug("Inband event with scheme_id_uri ".concat(Q.eventStream.schemeIdUri,", value ").concat(Q.eventStream.value,", period id ").concat(ve," and event id ").concat(Q.id," was ignored because it has been added before.")))}ge()}catch(Me){throw Me}},getInbandEvents:function(){return D},getInlineEvents:function(){return b},start:function(){try{Ae(),m.debug("Start Event Controller");var le=ee.get().streaming.eventControllerRefreshDelay;te||isNaN(le)||(te=!0,L=setInterval(ge,le))}catch(ve){throw ve}},setConfig:function(le){try{if(!le)return;le.manifestUpdater&&(A=le.manifestUpdater),le.playbackController&&(U=le.playbackController),le.settings&&(ee=le.settings)}catch(ve){throw ve}},reset:function(){(function(){try{null!==L&&te&&(clearInterval(L),L=null,te=!1,function(){try{G(D),G(b)}catch(le){m.error(le)}}())}catch(le){throw le}})(),Y()}},m=(0,M.Z)(me).getInstance().getLogger(v),Y(),v}gn.__dashjs_factory_name="EventController";const C0=C.Z.getSingletonFactory(gn),jr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function Xa(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}function Rh(){var v,m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me,Se,Ae,Y,ge,fe,be,I,$,G,Z,j,ae,le,ve,z,Q,Me,Ve,ze,Je,Fe,Ie,Ct,mt,bt,Ft,sn,Be,Te,et,Oe,nt,ft=this.context,pt=(0,S.Z)(ft).getInstance();function Ot(){if(!(N&&N.hasOwnProperty("load")&&fe&&fe.hasOwnProperty("initialize")&&fe.hasOwnProperty("reset")&&fe.hasOwnProperty("getClientTimeOffset")&&A&&ge&&ee&&Me))throw new Error(f.Z.MISSING_CONFIG_ERROR)}function An(){!function(){try{var Tt=U.getStreamsInfo();if(!I&&0===Tt.length)throw new Error("There are no periods in the MPD");I&&Tt.length>0&&ee.updateManifestUpdateInfo({currentTime:Me.getTime(),buffered:Q.getBufferRange(),presentationStartTime:Tt[0].start,clientTimeOffset:fe.getClientTimeOffset()}),be.length>0&&(0!==(_r=Tt).length?be=be.filter(function(zn){var Xr=_r.filter(function(Or){return Or.id===zn.getId()}).length>0||zn.getId()===I.getId();return Xr||(m.debug("Removing stream ".concat(zn.getId())),zn.reset(!0)),Xr}):m.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects."));for(var Kt=[],Nn=0,Zn=Tt.length;Nn<Zn;Nn++){var Er=Tt[Nn];Kt.push(un(Er)),ee.addManifestUpdateStreamInfo(Er)}Promise.all(Kt).then(function(){return new Promise(function(_r,zn){I?_r():Dn(Tt,_r,zn)})}).then(function(){pt.trigger(g.Z.STREAMS_COMPOSED),tn()}).catch(function(_r){throw _r})}catch(_r){ge.error(new K.Z(pe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,_r.message+" nostreamscomposed",A.getValue())),ve=!0,cl()}var _r}()}function Sn(){Te=!0}function un(Tt){var Kt=oc(Tt.id);return Kt?Kt.updateData(Tt):(Kt=Es(ft).create({manifestModel:A,mediaPlayerModel:ze,dashMetrics:ee,manifestUpdater:L,adapter:U,timelineConverter:fe,capabilities:b,capabilitiesFilter:D,errHandler:ge,baseURLController:re,segmentBaseController:X,textController:G,abrController:me,playbackController:Me,eventController:Ae,mediaController:Se,protectionController:$,videoModel:Q,streamInfo:Tt,settings:Be}),be.push(Kt),Kt.initialize(),Promise.resolve())}function Dn(Tt,Kt,Nn){try{gt();var Zn=ee.getCurrentDVRInfo().range;if(Zn.end<Zn.start){et&&clearTimeout(et);var Er=Math.min(1e3*(-1*(Zn.end-Zn.start)+2),2147483647);return m.debug("Waiting for ".concat(Er," ms before playback can start")),pt.trigger(g.Z.AST_IN_FUTURE,{delay:Er}),void(et=setTimeout(function(){Dn(Tt,Kt,Nn)},Er))}Be.get().streaming.applyProducerReferenceTime&&Ve.calculateProducerReferenceTimeOffsets(Tt);var _r=Tt[0].manifestInfo;if(Be.get().streaming.applyServiceDescription&&Ve.applyServiceDescription(_r),U.getIsDynamic()){var zn=bo(Tt,_r);Me.computeAndSetLiveDelay(zn,_r)}(Be.get().streaming.applyContentSteering&&V.shouldQueryBeforeStart()?V.loadSteeringData():Promise.resolve()).then(function(){var Xr=A.getValue();Xr&&re.update(Xr),Mn(),Kt()}).catch(function(Xr){m.error(Xr),Mn(),Kt()})}catch(Xr){Nn(Xr)}}function Mn(){var Tt=function(){var Zn;if(U.getIsDynamic()){var Er=ee.getCurrentDVRInfo();Zn=(Er&&Er.range?Er.range.end:0)-Me.getOriginalLiveDelay();var _r=Er?Er.range:null;if(_r){if(isNaN(Oe)&&-1===Oe.toString().indexOf("posix:")){var zn=Ki(!0);isNaN(zn)||(m.info("Start time from URI parameters: ".concat(zn)),Zn=Math.min(Zn,zn))}else{m.info("Start time provided by the app: ".concat(Oe));var Xr=Pi(!0,Oe);isNaN(Xr)||(Zn=Math.min(Zn,Xr))}var Or=Be.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Zn=Math.max(Zn,_r.start+Or)}}else if(Zn=Na()[0].getStreamInfo().start,isNaN(Oe)){var cs=Ki(!1);isNaN(cs)||(m.info("Start time from URI parameters: ".concat(cs)),Zn=Math.max(Zn,cs))}else{m.info("Start time provided by the app: ".concat(Oe));var Zs=Pi(!1,Oe);isNaN(Zs)||(Zn=Math.max(Zn,Zs))}return Zn}(),Kt=_n(Tt),Nn=null!==Kt?Kt:be[0];pt.trigger(g.Z.INITIAL_STREAM_SWITCH,{startTime:Tt}),er(Nn,null,Tt),mt||(mt=setInterval(function(){!ae&&Me.getTimeToStreamEnd()<=0&&!Me.isSeeking()&&pt.trigger(g.Z.PLAYBACK_ENDED,{isLast:js().isLast})},200))}function er(Tt,Kt,Nn){try{if(ae||!Tt||Kt===Tt&&Tt.getIsActive())return;ae=!0,pt.trigger(g.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:Kt?Kt.getStreamInfo():null,toStreamInfo:Tt.getStreamInfo()});var Zn=!1;I=Tt,Kt&&(Zn=wn(Tt,Kt),Kt.deactivate(Zn)),Nn=isNaN(Nn)?!Zn&&Kt?Tt.getStreamInfo().start:NaN:Nn,m.info("Switch to stream ".concat(Tt.getId(),". Seektime is ").concat(Nn,", current playback time is ").concat(Me.getTime(),". Seamless period switch is set to ").concat(Zn)),Ft=Ft.filter(function(Er){return Er.getId()!==I.getId()}),Me.initialize(js(),!!Kt),Q.getElement()?ar(Nn,Zn,!1):Hn(Nn,Zn)}catch{ae=!1}}function ar(Tt,Kt){var Nn,Zn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function Er(){if(z&&"open"===z.readyState){m.debug("MediaSource is open!"),window.URL.revokeObjectURL(Nn),z.removeEventListener("sourceopen",Er),z.removeEventListener("webkitsourceopen",Er),zr();var zn=ee.getCurrentDVRInfo();ie.setSeekable(zn.range.start,zn.range.end),Zn?(isNaN(Tt)||Me.seek(Tt,!0,!0),I.setMediaSource(z).then(function(){I.initializeForTextWithMediaSource(z)})):Hn(Tt,Kt)}}function _r(){z.addEventListener("sourceopen",Er,!1),z.addEventListener("webkitsourceopen",Er,!1),Nn=ie.attachMediaSource(Q),m.debug("MediaSource attached to element.  Waiting on open...")}z?Kt?Hn(Tt,Kt):(ie.detachMediaSource(Q),_r()):(z=ie.createMediaSource(),_r())}function Hn(Tt,Kt){I.activate(z,Kt?bt:void 0,Tt).then(function(Nn){if(Nn){var Zn=Object.keys(Nn);Zn.length>0&&Nn[Zn[0]].getBuffer().changeType&&(sn=!0),bt=Nn}isNaN(Tt)||(pt.trigger(g.Z.SEEK_TARGET,{time:Tt},{streamId:I.getId()}),Me.seek(Tt,!1,!0),I.startScheduleControllers()),ae=!1,pt.trigger(g.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:js()})})}function hr(Tt){var Nn,Zn,Er,_r,Kt=_n(Tt.seekTime);Kt&&Kt!==I?Kt&&Kt!==I&&(nr(),Zn=Kt,Er=(Nn=Tt)&&!isNaN(Nn.seekTime)?Nn.seekTime:NaN,_r=I.getProcessors().map(function(zn){return zn.prepareOuterPeriodPlaybackSeeking(Nn)}),Promise.all(_r).then(function(){er(Zn,I,Er)}).catch(function(zn){ge.error(zn)})):(nr(),function(Nn){I.getProcessors().forEach(function(Zn){return Zn.prepareInnerPeriodPlaybackSeeking(Nn)}),$o(tt.USER_REQUEST_STOP_REASON)}(Tt)),Cs(Le.SEEK_START_REASON)}function nr(){pr()}function pr(){Ft&&Ft.length>0&&(Ft.forEach(function(Tt){Tt.deactivate(!0)}),Ft=[])}function jt(Tt){Tt.newMediaInfo.streamInfo.id===I.getId()&&(pr(),I.prepareTrackChange(Tt))}function wn(Tt,Kt){try{return Be.get().streaming.buffer.reuseExistingSourceBuffers&&(Kt.isProtectionCompatible(Tt)||Te)&&(sn&&Be.get().streaming.buffer.useChangeTypeForTrackSwitch||Kt.isMediaCodecCompatible(Tt,Kt))}catch{return!1}}function En(Tt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;z&&!Tt.getPreloaded()&&wn(Tt,Kt)&&Tt.startPreloading(z,bt).then(function(){Ft.push(Tt)})}function _n(Tt){if(isNaN(Tt))return null;for(var Kt=be.length,Nn=0;Nn<Kt;Nn++){var Zn=be[Nn];if(Tt<parseFloat((Zn.getStartTime()+Zn.getDuration()).toFixed(5)))return Zn}return null}function gt(){try{var Tt=U.getIsDynamic(),Kt=U.getStreamsInfo()[0].manifestInfo,Nn=Me.getTime(),Zn=fe.calcTimeShiftBufferWindow(be,Tt),Er=Yr();if(void 0===Zn.start||void 0===Zn.end)return;Er&&0!==Er.length?Er.forEach(function(_r){ee.addDVRInfo(_r.getType(),Nn,Kt,Zn)}):ee.addDVRInfo(f.Z.VIDEO,Nn,Kt,Zn)}catch{}}function Ht(Tt){if(Ie&&j){var Kt=ze.getInitialBufferLevel(),Nn=[f.Z.TEXT];(isNaN(Kt)||Kt<=Me.getBufferLevel(Nn)||U.getIsDynamic()&&Kt>Me.getLiveDelay())&&(Ie=!1,Cs(Le.INITIAL_PLAYOUT_START_REASON),Me.play())}Tt&&Tt.mediaType&&ee.addBufferLevel(Tt.mediaType,new Date,1e3*Tt.bufferLevel)}function ct(Tt){Tt.streamInfo.id===I.getId()&&Tt.reason&&Tt.reason.forceReplace&&pr(),oc(Tt.streamInfo.id).prepareQualityChange(Tt)}function Ge(){if(U.getIsDynamic()&&0!==Me.getOriginalLiveDelay()&&I){var Tt=U.getStreamsInfo();if(Tt.length>0){var Kt=Tt[0].manifestInfo,Nn=bo(Tt,Kt);Me.computeAndSetLiveDelay(Nn,Kt)}}}function Ee(){if(Yo()){var Tt=Q.getPlaybackQuality();Tt&&ee.addDroppedFrames(Tt)}}function st(){m.debug("[onPlaybackStarted]"),!Ie&&Fe&&Cs(Le.RESUME_FROM_PAUSE_START_REASON),Ie&&(Ie=!1),Ct&&(Ct=!1,Be.get().streaming.applyContentSteering&&!V.shouldQueryBeforeStart()&&V.loadSteeringData()),Fe=!1}function It(Tt){m.debug("[onPlaybackPaused]"),Tt.ended||(Fe=!0,$o(tt.USER_REQUEST_STOP_REASON))}function Qt(Tt){m.debug("Stream with id ".concat(Tt.streamInfo.id," finished buffering")),z&&Tt.streamInfo.isLast?(m.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),ie.signalEndOfStream(z)):tn()}function tn(){if(I&&I.getHasFinishedBuffering())for(var Tt=function(){var Er=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var _r=Er||I||null;if(_r){var zn=_r.getStreamInfo();return be.filter(function(Xr){var Or=Xr.getStreamInfo();return Or.start>zn.start&&zn.id!==Or.id})}}catch{return[]}}(I),Kt=0;Kt<Tt.length;){var Nn=Tt[Kt],Zn=0===Kt?I:Tt[Kt-1];!Nn.getPreloaded()&&Zn.getHasFinishedBuffering()&&z&&En(Nn,Zn),Kt+=1}}function Xn(){mt&&(clearInterval(mt),mt=null)}function Yr(){return I?I.getProcessors():[]}function Vi(Tt){if(I&&!I.getIsEndedEventSignaled()){I.setIsEndedEventSignaled(!0);var Kt=function(){var Zn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||I||null;if(!Zn)return null;for(var Er=Zn.getStreamInfo(),_r=Er.start,zn=0,Xr=-1,Or=NaN;zn<be.length;){var cs=be[zn].getStreamInfo(),Zs=cs.start-_r;Zs>0&&(isNaN(Or)||Zs<Or)&&Er.id!==cs.id&&(Or=Zs,Xr=zn),zn+=1}return Xr>=0?be[Xr]:null}();Kt?(m.debug("StreamController onEnded, found next stream with id ".concat(Kt.getStreamInfo().id,". Switching from ").concat(I.getStreamInfo().id," to ").concat(Kt.getStreamInfo().id)),er(Kt,I,NaN)):(m.debug("StreamController no next stream found"),I.setIsEndedEventSignaled(!1)),$o(Kt?tt.END_OF_PERIOD_STOP_REASON:tt.END_OF_CONTENT_STOP_REASON)}Tt&&Tt.isLast&&(Xn(),V.stopSteeringRequestTimer())}function zr(Tt){var Kt=Tt||js().manifestInfo.duration;ie.setDuration(Kt)}function Ki(Tt){var Kt=De.getURIFragmentData();if(!Kt||!Kt.t)return NaN;var Nn=Na()[0].getStreamInfo().start;return Kt.t=Kt.t.split(",")[0],qo(Tt,Kt.t,Nn)}function Pi(Tt,Kt){var Nn=0;return Tt||(Nn=Na()[0].getStreamInfo().start),qo(Tt,Kt,Nn)}function qo(Tt,Kt,Nn){var Zn=U.getRegularPeriods()[0],Er=Kt.toString(),_r=-1!==Er.indexOf("posix:")?"now"===Er.substring(6)?Date.now()/1e3:parseFloat(Er.substring(6)):NaN;return Tt&&!isNaN(_r)?fe.calcPresentationTimeFromWallTime(new Date(1e3*_r),Zn):parseFloat(Er)+Nn}function bo(Tt,Kt){try{var Nn=NaN;if(Kt&&!isNaN(Kt.maxFragmentDuration)&&isFinite(Kt.maxFragmentDuration))return Kt.maxFragmentDuration;if(Tt&&1===Tt.length){var Zn=Tt[0],Er=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT].reduce(function(zn,Xr){var Or=U.getMediaInfoForType(Zn,Xr);return Or&&!1!==Or.isFragmented&&zn.push(Or),zn},[]).reduce(function(zn,Xr){var Or=U.getVoRepresentations(Xr);return Or&&Or.length>0&&Or.forEach(function(cs){cs&&zn.push(cs)}),zn},[]).reduce(function(zn,Xr){var Or=U.convertRepresentationToRepresentationInfo(Xr);return Or&&Or.fragmentDuration&&!isNaN(Or.fragmentDuration)&&zn.push(Or.fragmentDuration),zn},[]);Nn=Math.max.apply(Math,function(zn){if(Array.isArray(zn))return Xa(zn)}(_r=Er)||function(zn){if(typeof Symbol<"u"&&Symbol.iterator in Object(zn))return Array.from(zn)}(_r)||function(zn,Xr){if(zn){if("string"==typeof zn)return Xa(zn,void 0);var Or=Object.prototype.toString.call(zn).slice(8,-1);return"Object"===Or&&zn.constructor&&(Or=zn.constructor.name),"Map"===Or||"Set"===Or?Array.from(zn):"Arguments"===Or||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Or)?Xa(zn,void 0):void 0}}(_r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return isFinite(Nn)?Nn:NaN}catch{return NaN}var _r}function ls(Tt){if(Tt.error)ve=!0,cl();else{m.info("Manifest updated... updating data system wide.");var Kt=Tt.manifest;U.updatePeriods(Kt);var Nn=U.getUTCTimingSources();!U.getIsDynamic()||Nn&&0!==Nn.length||pt.trigger(p.Z.CONFORMANCE_VIOLATION,{level:jr.LEVELS.WARNING,event:jr.EVENTS.NO_UTC_TIMING_ELEMENT});var Zn=U.getIsDynamic()?Nn.concat(Je.getUTCTimingSources()):Nn;D.filterUnsupportedFeatures(Kt).then(function(){re.initialize(Kt),te.attemptSync(Zn,U.getIsDynamic())})}}function Yo(){return!!I&&I.getHasVideoTrack()}function so(){return!!I&&I.getHasAudioTrack()}function $o(Tt,Kt){Kt=Kt||new Date,Yr().forEach(function(Nn){Nn.finalisePlayList(Kt,Tt)}),ee.addPlayList()}function Cs(Tt){ee.createPlaylistMetrics(1e3*Me.getTime(),Tt)}function Vs(Tt){if(Tt.error){var Kt="";switch(Tt.error.code){case 1:Kt="MEDIA_ERR_ABORTED";break;case 2:Kt="MEDIA_ERR_NETWORK";break;case 3:Kt="MEDIA_ERR_DECODE",nt.counts.mediaErrorDecode+=1;break;case 4:Kt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Kt="MEDIA_ERR_ENCRYPTED";break;default:Kt="UNKNOWN"}"MEDIA_ERR_DECODE"===Kt&&Be.get().errors.recoverAttempts.mediaErrorDecode>=nt.counts.mediaErrorDecode?function(){m.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Nn=Me.getTime();I.deactivate(!1),m.warn("MediaSource has been resetted. Resuming playback from time ".concat(Nn)),ar(Nn,!1,!1)}():(le=!0,Tt.error.message&&(Kt+=" ("+Tt.error.message+")"),Tt.error.msExtendedCode&&(Kt+=" (0x"+(Tt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),m.fatal("Video Element Error: "+Kt),Tt.error&&m.fatal(Tt.error),ge.error(new K.Z(Tt.error.code,Kt)),cl())}}function js(){return I?I.getStreamInfo():null}function oc(Tt){for(var Kt=0,Nn=be.length;Kt<Nn;Kt++)if(be[Kt].getId()===Tt)return be[Kt];return null}function Hs(Tt){isNaN(Tt.newDuration)||zr(Tt.newDuration)}function As(){be=[],Oe=NaN,$=null,ae=!1,I=null,le=!1,ve=!1,Ie=!0,Ct=!0,Fe=!1,j=!0,mt=null,Te=!1,sn=!1,Ft=[],et=null,nt={counts:{mediaErrorDecode:0}}}function cl(){Ot(),te.reset(),$o(le||ve?tt.FAILURE_STOP_REASON:tt.USER_REQUEST_STOP_REASON);for(var Tt=0,Kt=be?be.length:0;Tt<Kt;Tt++)be[Tt].reset(le);pt.off(p.Z.PLAYBACK_TIME_UPDATED,Ee,v),pt.off(p.Z.PLAYBACK_SEEKING,hr,v),pt.off(p.Z.PLAYBACK_ERROR,Vs,v),pt.off(p.Z.PLAYBACK_STARTED,st,v),pt.off(p.Z.PLAYBACK_PAUSED,It,v),pt.off(p.Z.PLAYBACK_ENDED,Vi,v),pt.off(p.Z.METRIC_ADDED,uu,v),pt.off(p.Z.MANIFEST_VALIDITY_CHANGED,Hs,v),pt.off(p.Z.BUFFER_LEVEL_UPDATED,Ht,v),pt.off(p.Z.QUALITY_CHANGE_REQUESTED,ct,v),g.Z.KEY_SESSION_UPDATED&&pt.off(g.Z.KEY_SESSION_UPDATED,Sn,v),pt.off(g.Z.MANIFEST_UPDATED,ls,v),pt.off(g.Z.STREAM_BUFFERING_COMPLETED,Qt,v),pt.off(g.Z.TIME_SYNCHRONIZATION_COMPLETED,An,v),pt.off(g.Z.CURRENT_TRACK_CHANGED,jt,v),pt.off(g.Z.SETTING_UPDATED_LIVE_DELAY,Ge,v),pt.off(g.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ge,v),re.reset(),L.reset(),Ae.reset(),ee.clearAllCurrentMetrics(),A.setValue(null),N.reset(),fe.reset(),Y.reset(),z&&(ie.detachMediaSource(Q),z=null),Q=null,$&&($=null,Z=null,A.getValue()&&pt.trigger(g.Z.PROTECTION_DESTROYED,{data:A.getValue().url})),Xn(),pt.trigger(g.Z.STREAM_TEARDOWN_COMPLETE),As()}function uu(Tt){if(Tt.metric===O.Z.DVR_INFO){var Kt=so()?f.Z.AUDIO:f.Z.VIDEO;Tt.mediaType===Kt&&ie.setSeekable(Tt.value.range.start,Tt.value.range.end)}}function Na(){return be}return v={initialize:function(Tt,Kt){Ot(),j=Tt,Z=Kt,fe.initialize(),(L=_d(ft).create()).setConfig({manifestModel:A,adapter:U,manifestLoader:N,errHandler:ge,settings:Be,contentSteeringController:V}),L.initialize(),(Ae=C0(ft).getInstance()).setConfig({manifestUpdater:L,playbackController:Me,settings:Be}),Ae.start(),te.setConfig({dashMetrics:ee,baseURLController:re,errHandler:ge,settings:Be}),te.initialize(),$&&(pt.trigger(g.Z.PROTECTION_CREATED,{controller:$}),$.setMediaElement(Q.getElement()),Z&&$.setProtectionData(Z)),pt.on(p.Z.PLAYBACK_TIME_UPDATED,Ee,v),pt.on(p.Z.PLAYBACK_SEEKING,hr,v),pt.on(p.Z.PLAYBACK_ERROR,Vs,v),pt.on(p.Z.PLAYBACK_STARTED,st,v),pt.on(p.Z.PLAYBACK_PAUSED,It,v),pt.on(p.Z.PLAYBACK_ENDED,Vi,v),pt.on(p.Z.METRIC_ADDED,uu,v),pt.on(p.Z.MANIFEST_VALIDITY_CHANGED,Hs,v),pt.on(p.Z.BUFFER_LEVEL_UPDATED,Ht,v),pt.on(p.Z.QUALITY_CHANGE_REQUESTED,ct,v),g.Z.KEY_SESSION_UPDATED&&pt.on(g.Z.KEY_SESSION_UPDATED,Sn,v),pt.on(g.Z.MANIFEST_UPDATED,ls,v),pt.on(g.Z.STREAM_BUFFERING_COMPLETED,Qt,v),pt.on(g.Z.TIME_SYNCHRONIZATION_COMPLETED,An,v),pt.on(g.Z.CURRENT_TRACK_CHANGED,jt,v),pt.on(g.Z.SETTING_UPDATED_LIVE_DELAY,Ge,v),pt.on(g.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Ge,v)},getActiveStreamInfo:js,addDVRMetric:gt,hasVideoTrack:Yo,hasAudioTrack:so,getStreamById:oc,getStreamForTime:_n,getTimeRelativeToStreamId:function(Tt,Kt){for(var Nn=null,Zn=0,Er=0,_r=null,zn=0;zn<be.length;zn++){if(Er=(Nn=be[zn]).getStartTime(),_r=Nn.getDuration(),Number.isFinite(Er)&&(Zn=Er),Nn.getId()===Kt)return Tt-Zn;Number.isFinite(_r)&&(Zn+=_r)}return null},load:function(Tt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Ot(),Oe=Kt,N.load(Tt)},loadWithManifest:function(Tt){var Kt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function Gt(){if(!L||!L.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Oe=Kt,L.setManifest(Tt)},getActiveStreamProcessors:Yr,setConfig:function(Tt){Tt&&(Tt.capabilities&&(b=Tt.capabilities),Tt.capabilitiesFilter&&(D=Tt.capabilitiesFilter),Tt.manifestLoader&&(N=Tt.manifestLoader),Tt.manifestModel&&(A=Tt.manifestModel),Tt.mediaPlayerModel&&(ze=Tt.mediaPlayerModel),Tt.customParametersModel&&(Je=Tt.customParametersModel),Tt.protectionController&&($=Tt.protectionController),Tt.adapter&&(U=Tt.adapter),Tt.dashMetrics&&(ee=Tt.dashMetrics),Tt.errHandler&&(ge=Tt.errHandler),Tt.timelineConverter&&(fe=Tt.timelineConverter),Tt.videoModel&&(Q=Tt.videoModel),Tt.playbackController&&(Me=Tt.playbackController),Tt.serviceDescriptionController&&(Ve=Tt.serviceDescriptionController),Tt.contentSteeringController&&(V=Tt.contentSteeringController),Tt.textController&&(G=Tt.textController),Tt.abrController&&(me=Tt.abrController),Tt.mediaController&&(Se=Tt.mediaController),Tt.settings&&(Be=Tt.settings),Tt.baseURLController&&(re=Tt.baseURLController),Tt.uriFragmentModel&&(De=Tt.uriFragmentModel),Tt.segmentBaseController&&(X=Tt.segmentBaseController))},setProtectionData:function(Tt){Z=Tt,$&&$.setProtectionData(Z)},getIsStreamSwitchInProgress:function(){return ae},switchToVideoElement:function(Tt){I&&(Me.initialize(js()),ar(Tt,!1,!0))},getHasMediaOrInitialisationError:function(){return le||ve},getStreams:Na,getActiveStream:function(){return I},getInitialPlayback:function(){return Ie},getAutoPlay:function(){return j},reset:cl},m=(0,M.Z)(ft).getInstance().getLogger(v),te=T0(ft).getInstance(),ie=S0(ft).getInstance(),Y=ut(ft).getInstance(),As(),v}Rh.__dashjs_factory_name="StreamController";const vd=C.Z.getSingletonFactory(Rh);function Mh(){var v,m,b,D,L,N,A,U,ee,ie,te,V,re=this.context,X=(0,S.Z)(re).getInstance();function De(){V.debug("Stopping the gap controller"),L&&(clearInterval(L),L=null),function(){X.off(g.Z.WALLCLOCK_TIME_UPDATED,ge,this),X.off(g.Z.INITIAL_STREAM_SWITCH,Y,this),X.off(g.Z.PLAYBACK_SEEKING,me,this),X.off(g.Z.BUFFER_REPLACEMENT_STARTED,Se,v),X.off(g.Z.TRACK_CHANGE_RENDERED,Ae,v)}(),L=null,N=NaN,D=0,ie=null,te={}}function me(){ie&&(clearTimeout(ie),ie=null)}function Se(Z){try{if(Z.streamId!==U.getActiveStreamInfo().id||Z.mediaType!==f.Z.VIDEO&&Z.mediaType!==f.Z.AUDIO)return;Z.streamId===U.getActiveStreamInfo().id&&(te[Z.mediaType]=!0)}catch(j){V.error(j)}}function Ae(Z){Z&&Z.mediaType&&(te[Z.mediaType]=!1)}function Y(){L||function(){try{L||(V.debug("Starting the gap controller"),L=setInterval(function(){fe()&&G(A.getTime())},100))}catch{}}()}function ge(){if(fe(b.get().streaming.gaps.enableSeekFix)&&++D>=10){var Z=A.getTime();m===Z?G(Z,!0):(m=Z,N=NaN),D=0}}function fe(){var Z=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!U.getActiveStream())return!1;var j=Object.keys(te).some(function(le){return te[le]}),ae=!!Z&&function be(){var Z=U.getActiveStream(),j=parseFloat((Z.getStartTime()+Z.getDuration()).toFixed(5));return A.getTime()+b.get().streaming.gaps.threshold>=j}();return!j&&b.get().streaming.gaps.jumpGaps&&U.getActiveStreamProcessors().length>0&&(!A.isSeeking()||ae)&&!A.isPaused()&&!U.getIsStreamSwitchInProgress()&&!U.getHasMediaOrInitialisationError()}function G(Z){var j,ae=arguments.length>1&&void 0!==arguments[1]&&arguments[1],le=b.get().streaming.gaps.enableStallFix,ve=b.get().streaming.gaps.stallSeek,z=b.get().streaming.gaps.smallGapLimit,Q=b.get().streaming.gaps.jumpLargeGaps,Me=ee.getBufferRange(),Ve=NaN,ze=!1;if(j=function I(Z,j){try{if(!Z||Z.length<=1&&j>0)return NaN;for(var ae=NaN,le=0;isNaN(ae)&&le<Z.length;){var ve=le>0?Z.end(le-1):0;j<Z.start(le)&&ve-j<b.get().streaming.gaps.threshold&&(ae=le),le+=1}return ae}catch{return null}}(Me,Z),!isNaN(j)){var Je=Me.start(j),Fe=Je-Z;Fe>0&&(Fe<=z||Q)&&(Ve=Je)}var Ie=A.getTimeToStreamEnd();if(isNaN(Ve)&&ae&&isFinite(Ie)&&!isNaN(Ie)&&Ie<z&&(Ve=parseFloat(A.getStreamEndTime().toFixed(5)),ze=!0),le&&isNaN(Ve)&&ae&&isNaN(j)&&function $(Z,j){for(var ae=0,le=Z.length;ae<le;ae++)if(j>=Z.start(ae)&&j<=Z.end(ae))return!0;return!1}(Me,Z)&&(0===ve?(V.warn("Toggle play pause to break stall"),ee.pause(),ee.play()):(V.warn("Jumping ".concat(ve,"s to break stall")),Ve=Z+ve)),Ve>0&&N!==Ve&&Ve>Z&&!ie){var Ct=Ve-Z;if(ze){var mt=U.getStreamForTime(Ve),bt=mt&&!!mt.getPreloaded();V.warn("Jumping to end of stream because of gap from ".concat(Z," to ").concat(Ve,". Gap duration: ").concat(Ct)),A.seek(Ve,!0,bt)}else{var Ft=A.getIsDynamic(),sn=j>0?Me.end(j-1):Z,Be=Ft?1e3*Math.max(0,Ct-.1):0;ie=window.setTimeout(function(){A.seek(Ve,!0,!0),V.warn("Jumping gap occuring in period ".concat(U.getActiveStream().getStreamId()," starting at ").concat(sn," and ending at ").concat(Ve,". Jumping by: ").concat(Ve-sn)),ie=null},Be)}N=Ve}}return v={reset:De,setConfig:function(Z){Z&&(Z.settings&&(b=Z.settings),Z.playbackController&&(A=Z.playbackController),Z.streamController&&(U=Z.streamController),Z.videoModel&&(ee=Z.videoModel))},initialize:function(){!function(){X.on(g.Z.WALLCLOCK_TIME_UPDATED,ge,this),X.on(g.Z.INITIAL_STREAM_SWITCH,Y,this),X.on(g.Z.PLAYBACK_SEEKING,me,this),X.on(g.Z.BUFFER_REPLACEMENT_STARTED,Se,v),X.on(g.Z.TRACK_CHANGE_RENDERED,Ae,v)}()}},V=(0,M.Z)(re).getInstance().getLogger(v),De(),v}Mh.__dashjs_factory_name="GapController";const Zc=C.Z.getSingletonFactory(Mh);function Ll(){var v,m,b,D,L,N,A,U,ee,ie,te=this.context,V=(0,S.Z)(te).getInstance();function re(){m=!1;var be=ir.Z.parseUserAgent();b=be&&be.browser&&be.browser.name&&"safari"===be.browser.name.toLowerCase()}function X(){m=!1}function De(be){if(be.streamId===N.getActiveStreamInfo().id&&ee){var I=A.getLiveDelay();A.getBufferLevel()>I/2&&(ee=!1)}}function me(be){be.streamId===N.getActiveStreamInfo().id&&(ee=be.state===O.Z.BUFFER_EMPTY)}function Se(){U.getCatchupModeEnabled()||D.setPlaybackRate(1)}function Ae(){A.getIsDynamic()&&U.getCatchupModeEnabled()&&(U.getCatchupPlaybackRates().max>0||U.getCatchupPlaybackRates().min<0)&&!A.isPaused()&&!A.isSeeking()&&function(){try{return!(!A.getTime()>0||m)&&(ge()===f.Z.LIVE_CATCHUP_MODE_LOLP?function(be,I){try{return Math.abs(Y())>0||be<I}catch{return!1}}(A.getBufferLevel(),L.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(Y())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!m&&D){var be,I=D.getPlaybackRate(),$=U.getCatchupPlaybackRates(),G=A.getBufferLevel(),Z=Y(),j=U.getCatchupMaxDrift();if(!isNaN(j)&&j>0&&Z>j)ie.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),m=!0,A.seekToCurrentLive(!0,!1);else{var ae=A.getCurrentLiveLatency(),le=A.getLiveDelay();be=ge()===f.Z.LIVE_CATCHUP_MODE_LOLP?function(z,Q,Me,Ve,ze){var Je;if(ze<Ve){var Fe=Math.abs(z.min);Je=1-Fe+2*Fe/(1+Math.pow(Math.E,-5*(ze-Ve))),ie.debug("[LoL+ playback control_buffer-based] bufferLevel: "+ze+", newRate: "+Je)}else{var Ct=z.max;Je=Math.abs(Q-Me)<=.02*Me?1:1-Ct+2*Ct/(1+Math.pow(Math.E,-5*(Q-Me))),ie.debug("[LoL+ playback control_latency-based] latency: "+Q+", newRate: "+Je)}return Je}($,ae,le,L.get().streaming.liveCatchup.playbackBufferMin,G):function(z,Q,Me,Ve){if(ee)return 1;var ze=Q-Me,Je=ze<0?Math.abs(z.min):z.max,Ie=1-Je+2*Je/(1+Math.pow(Math.E,-5*ze));return A.getPlaybackStalled()&&Ve<=Me/2&&ze>0&&(Ie=1),Ie}($,ae,le,G);var ve=b?.25:.02/(.5/$.max);be&&Math.abs(I-be)>=ve&&(ie.debug("[CatchupController]: Setting playback rate to ".concat(be)),D.setPlaybackRate(be))}}}()}function Y(){return A.getCurrentLiveLatency()-A.getLiveDelay()}function ge(){var be=L.get().streaming.liveCatchup.playbackBufferMin;return L.get().streaming.liveCatchup.mode!==f.Z.LIVE_CATCHUP_MODE_LOLP||null===be||isNaN(be)?f.Z.LIVE_CATCHUP_MODE_DEFAULT:f.Z.LIVE_CATCHUP_MODE_LOLP}function fe(){U.getCatchupPlaybackRates(!0)}return v={reset:function(){V.off(p.Z.BUFFER_LEVEL_UPDATED,De,v),V.off(p.Z.BUFFER_LEVEL_STATE_CHANGED,me,v),V.off(p.Z.PLAYBACK_PROGRESS,Ae,v),V.off(p.Z.PLAYBACK_TIME_UPDATED,Ae,v),V.off(p.Z.PLAYBACK_SEEKED,X,v),V.off(g.Z.SETTING_UPDATED_CATCHUP_ENABLED,Se,v),V.off(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,fe,v),V.off(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,fe,v),V.off(p.Z.STREAM_INITIALIZED,fe,v),re(),D.setPlaybackRate(1,!0)},setConfig:function(be){be&&(be.settings&&(L=be.settings),be.videoModel&&(D=be.videoModel),be.streamController&&(N=be.streamController),be.playbackController&&(A=be.playbackController),be.mediaPlayerModel&&(U=be.mediaPlayerModel))},initialize:function(){V.on(p.Z.BUFFER_LEVEL_UPDATED,De,v),V.on(p.Z.BUFFER_LEVEL_STATE_CHANGED,me,v),V.on(p.Z.PLAYBACK_PROGRESS,Ae,v),V.on(p.Z.PLAYBACK_TIME_UPDATED,Ae,v),V.on(p.Z.PLAYBACK_SEEKED,X,v),V.on(g.Z.SETTING_UPDATED_CATCHUP_ENABLED,Se,v),V.on(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,fe,v),V.on(g.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,fe,v),V.on(p.Z.STREAM_INITIALIZED,fe,v),fe()}},ie=(0,M.Z)(te).getInstance().getLogger(v),re(),v}Ll.__dashjs_factory_name="CatchupController";const yd=C.Z.getSingletonFactory(Ll);var Nh=[f.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME];function zc(){var v,m,b,D,L;function A(){m={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},b=[]}function U(ee,ie,te){try{m[ee][ie]=te/1e3}catch(V){D.error(V)}}return v={getServiceDescriptionSettings:function(){return m},getProducerReferenceTimeOffsets:function(){return b},calculateProducerReferenceTimeOffsets:function(ee){try{var ie=[];if(ee&&ee.length>0){var te=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT],V=L.getAvailabilityStartTime()/1e3;ee.forEach(function(re){var X=te.reduce(function(De,me){return De.concat(L.getAllMediaInfoForType(re,me))},[]).reduce(function(De,me){return L.getProducerReferenceTimes(re,me).forEach(function(Se){var Ae=L.getVoRepresentations(me);if(Ae&&Ae.length>0&&Ae[0].adaptation&&Ae[0].segmentInfoType===h.Z.SEGMENT_TEMPLATE){var Y=Ae[0],ge=new Date(Se[h.Z.WALL_CLOCK_TIME]).getTime()/1e3-(Se[h.Z.PRESENTATION_TIME]/Y[h.Z.TIMESCALE]-Y[h.Z.PRESENTATION_TIME_OFFSET]+re.start);De.push({id:Se[h.Z.ID],to:V-ge})}}),De},[]);ie=ie.concat(X)})}b=ie}catch(re){D.error(re),b=[]}},applyServiceDescription:function(ee){if(ee&&ee.serviceDescriptions){var ie=ee.serviceDescriptions.filter(function(re){return Nh.includes(re.schemeIdUri)}),te=ee.serviceDescriptions.filter(function(re){return null==re.schemeIdUri}),V=ie.length>0?ie[ie.length-1]:te[te.length-1];V&&(V.latency&&V.latency.target>0&&function(re){var X,Ae;if(X={liveDelay:(Ae=re).latency.target/1e3,maxDrift:!isNaN(Ae.latency.max)&&Ae.latency.max>Ae.latency.target?(Ae.latency.max-Ae.latency.target+500)/1e3:NaN,referenceId:Ae.latency.referenceId||NaN},b.length>0){var De=function(Ae){var Y,ge=0,fe=b.filter(function(be){return be.id===Ae.referenceId});return 0===fe.length?(ge=b.length>0?b[0].to:0,Y=b[0].id||NaN):(ge=fe[0].to||0,Y=fe[0].id||NaN),{to:ge,id:Y}}(X),me=De.to,Se=De.id;m.liveDelay=X.liveDelay-me,m.liveCatchup.maxDrift=X.maxDrift,D.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(me," from ProducerReferenceTime element with id ").concat(Se,".\n                Live Delay: ").concat(X.liveDelay-me,", Live catchup max drift: ").concat(X.maxDrift,"\n            "))}else m.liveDelay=X.liveDelay,m.liveCatchup.maxDrift=X.maxDrift,D.debug("Found latency properties coming from service description: Live Delay: ".concat(X.liveDelay,", Live catchup max drift: ").concat(X.maxDrift))}(V),V.playbackRate&&(X=(re=V).playbackRate.min?Math.round(1e3*(re.playbackRate.min-1))/1e3:NaN,De=re.playbackRate.max?Math.round(1e3*(re.playbackRate.max-1))/1e3:NaN,m.liveCatchup.playbackRate.min=X,m.liveCatchup.playbackRate.max=De,D.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(X)),D.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(De))),V.operatingBandwidth&&function(re){if(re&&re.operatingBandwidth&&re.operatingBandwidth.mediaType&&"all"!==re.operatingBandwidth.mediaType){var X={};X.minBandwidth=re.operatingBandwidth.min,X.maxBandwidth=re.operatingBandwidth.max,X.targetBandwidth=re.operatingBandwidth.target;var De=[];"video"===re.operatingBandwidth.mediaType||"audio"===re.operatingBandwidth.mediaType?De.push(re.operatingBandwidth.mediaType):"any"===re.operatingBandwidth.mediaType&&(De.push("audio"),De.push("video")),De.forEach(function(me){isNaN(X.minBandwidth)||U("minBitrate",me,X.minBandwidth),isNaN(X.maxBandwidth)||U("maxBitrate",me,X.maxBandwidth),isNaN(X.targetBandwidth)||U("initialBitrate",me,X.targetBandwidth)})}}(V),V.contentSteering&&function(re){m.contentSteering=re.contentSteering}(V))}var re,X,De},reset:function(){A()},setConfig:function(ee){ee&&ee.adapter&&(L=ee.adapter)}},D=(0,M.Z)(this.context).getInstance().getLogger(v),A(),v}zc.__dashjs_factory_name="ServiceDescriptionController";const Ph=C.Z.getSingletonFactory(zc);var vo=F(3973),Fl=F.n(vo),Jg=F(3039);function qr(){var v,m,b,D,L,N,A,U,ee=this.context,ie=(0,S.Z)(ee).getInstance();function te(z,Q){return z&&b[Q]&&b[Q][z]?b[Q][z].list:[]}function V(z,Q){return z&&b[Q]&&b[Q][z]?b[Q][z].current:null}function re(z){var Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(z&&z.streamInfo){var Me=z.type,ze=z.streamInfo.id,Je=V(Me,ze);if(b[ze]&&b[ze][Me]&&(b[ze][Me].current=z,b[ze][Me].current&&(Me!==f.Z.TEXT&&!me(z,Je)||Me===f.Z.TEXT&&z.isFragmented)&&ie.trigger(g.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Je,newMediaInfo:z,switchMode:D.get().streaming.trackSwitchMode[Me]},{streamId:ze}),!Q)){var Fe=function Ae(z){var Q={lang:z.lang,viewpoint:z.viewpoint,roles:z.roles,accessibility:z.accessibility,audioChannelConfiguration:z.audioChannelConfiguration};return Q.lang||Q.viewpoint||Q.role&&Q.role.length>0||Q.accessibility&&Q.accessibility.length>0||Q.audioChannelConfiguration&&Q.audioChannelConfiguration.length>0?Q:null}(z);if(!Fe||!b[ze][Me].storeLastSettings)return;Fe.roles&&(Fe.role=Fe.roles[0],delete Fe.roles),Fe.accessibility&&(Fe.accessibility=Fe.accessibility[0]),Fe.audioChannelConfiguration&&(Fe.audioChannelConfiguration=Fe.audioChannelConfiguration[0]),N[Me]=Fe,U.setSavedMediaSettings(Me,Fe)}}}function X(z,Q){z&&Q&&(L[z]=Q)}function De(z){return z?L[z]:null}function me(z,Q){if(!z&&!Q)return!0;if(!z||!Q)return!1;var Me=z.id===Q.id,Ve=z.viewpoint===Q.viewpoint,ze=JSON.stringify(z.viewpointsWithSchemeIdUri)===JSON.stringify(Q.viewpointsWithSchemeIdUri),Je=z.lang===Q.lang,Fe=z.codec===Q.codec,Ie=z.roles.toString()===Q.roles.toString(),Ct=JSON.stringify(z.rolesWithSchemeIdUri)===JSON.stringify(Q.rolesWithSchemeIdUri),mt=z.accessibility.toString()===Q.accessibility.toString(),bt=JSON.stringify(z.accessibilitiesWithSchemeIdUri)===JSON.stringify(Q.accessibilitiesWithSchemeIdUri),Ft=z.audioChannelConfiguration.toString()===Q.audioChannelConfiguration.toString(),sn=JSON.stringify(z.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(Q.audioChannelConfigurationsWithSchemeIdUri);return Me&&Fe&&Ve&&ze&&Je&&Ie&&Ct&&mt&&bt&&Ft&&sn}function Se(){b={},N={},L={audio:null,video:null,text:null}}function Y(z,Q,Me){var Ve=[];return z.forEach(function(ze){Q(Me,ze)&&Ve.push(ze)}),0!==Ve.length?Ve:z}function ge(z,Q){return!z.lang||z.lang instanceof RegExp?Q.lang.match(z.lang):""!==Q.lang&&(0,Jg.extendedFilter)(Q.lang,Fl()(z.lang)).length>0}function fe(z,Q){return null==z.index||Q.index===z.index}function be(z,Q){return!z.viewpoint||z.viewpoint===Q.viewpoint}function I(z,Q){var Me=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!z.role||!!Q.roles.filter(function(ze){return ze===z.role})[0]||Q.type===f.Z.AUDIO&&Me}function $(z,Q){return z.accessibility?!!Q.accessibility.filter(function(Me){return Me===z.accessibility})[0]:!Q.accessibility.length}function G(z,Q){return!z.audioChannelConfiguration||!!Q.audioChannelConfiguration.filter(function(Me){return Me===z.audioChannelConfiguration})[0]}function Z(z){var Q,Me=0,Ve=[];return z.forEach(function(ze){(Q=Math.max.apply(Math,ze.bitrateList.map(function(Je){return Je.bandwidth})))>Me?(Me=Q,Ve=[ze]):Q===Me&&Ve.push(ze)}),Ve}function j(z){var Q,Me=1/0,Ve=[];return z.forEach(function(ze){var Je=ze.bitrateList.reduce(function(Fe,Ie){var Ct=Math.max(1,Ie.width*Ie.height);return Fe+Ie.bandwidth/Ct},0);(Q=Je/ze.bitrateList.length)<Me?(Me=Q,Ve=[ze]):Q===Me&&Ve.push(ze)}),Ve}function ae(z){var Q,Me=0,Ve=[];return z.forEach(function(ze){(Q=ze.representationCount)>Me?(Me=Q,Ve=[ze]):Q===Me&&Ve.push(ze)}),Ve}function le(z,Q){if(z===f.Z.TEXT)return Q[0];var Me,Fe,Ie,Ct,Ve=D.get().streaming.selectionModeForInitialTrack,ze=A.getCustomInitialTrackSelectionFunction();if(ze&&"function"==typeof ze)Me=ze(Q);else switch(Ve){case f.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:Fe=0,Ie=[],Q.forEach(function(mt){isNaN(mt.selectionPriority)||(mt.selectionPriority>Fe?(Fe=mt.selectionPriority,Ie=[mt]):mt.selectionPriority===Fe&&Ie.push(mt))}),(Ct=Ie).length>1&&(Ct=Z(Ct)),Ct.length>1&&(Ct=ae(Ct)),Me=Ct;break;case f.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Me=function(Je){var Fe=Z(Je);return Fe.length>1&&(Fe=ae(Fe)),Fe}(Q);break;case f.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Me=ve(Q);break;case f.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Me=function(Je){var Fe=j(Je);return Fe.length>1&&(Fe=Z(Fe)),Fe}(Q);break;case f.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Me=function(Je){var Fe=ae(Je);return Fe.length>1&&(Fe=Z(Je)),Fe}(Q);break;default:m.warn("Track selection mode ".concat(Ve," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Me=ve(Q)}return Me.length>0?Me[0]:Q[0]}function ve(z){return z[0]}return v={setInitialMediaSettingsForType:function(z,Q){var Me=N[z]||De(z),Ve=te(z,Q.id),ze=[];Me||X(z,Me=U.getSavedMediaSettings(z)),Ve&&0!==Ve.length&&(Me&&(ze=Y(ze=Array.from(Ve),ge,Me),ze=Y(ze,fe,Me),ze=Y(ze,be,Me),z===f.Z.AUDIO&&N[z]||(ze=Y(ze,I,Me)),ze=Y(ze,$,Me),ze=Y(ze,G,Me)),0===ze.length?re(le(z,Ve),!0):re(ze.length>1?le(z,ze):ze[0]))},addTrack:function(z){if(z){var Q=z.type;if((Me=Q)===f.Z.AUDIO||Me===f.Z.VIDEO||Me===f.Z.TEXT||Me===f.Z.IMAGE){var Me,Ve=z.streamInfo.id;b[Ve]||(b[Ve]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ze=b[Ve][Q].list,Je=0,Fe=ze.length;Je<Fe;++Je)if(me(ze[Je],z))return;ze.push(z)}}},getTracksFor:te,getCurrentTrackFor:V,isCurrentTrack:function(z){if(!z)return!1;var Q=z.type,Me=z.streamInfo.id;return b[Me]&&b[Me][Q]&&me(b[Me][Q].current,z)},setTrack:re,selectInitialTrack:le,setInitialSettings:X,getInitialSettings:De,getTracksWithHighestBitrate:Z,getTracksWithHighestEfficiency:j,getTracksWithWidestRange:ae,isTracksEqual:me,matchSettings:function(z,Q){var Me=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Ve=!1;if(z.lang){if(z.lang instanceof RegExp)Ve=Q.lang.match(z.lang);else if(""!==Q.lang){var ze=Fl()(z.lang);ze&&(Ve=(0,Jg.extendedFilter)(Q.lang,ze).length>0)}}else Ve=!0;var Je=null==z.index||Q.index===z.index,Fe=!z.viewpoint||z.viewpoint===Q.viewpoint,Ie=!z.role||!!Q.roles.filter(function(bt){return bt===z.role})[0],Ct=!z.accessibility||!!Q.accessibility.filter(function(bt){return bt===z.accessibility})[0],mt=!z.audioChannelConfiguration||!!Q.audioChannelConfiguration.filter(function(bt){return bt===z.audioChannelConfiguration})[0];return Ve&&Je&&Fe&&(Ie||Q.type===f.Z.AUDIO&&Me)&&Ct&&mt}catch{return!1}},matchSettingsLang:ge,matchSettingsIndex:fe,matchSettingsViewPoint:be,matchSettingsRole:I,matchSettingsAccessibility:$,matchSettingsAudioChannelConfig:G,saveTextSettingsDisabled:function(){U.setSavedMediaSettings(f.Z.TEXT,null)},setConfig:function(z){z&&(z.domStorage&&(U=z.domStorage),z.settings&&(D=z.settings),z.customParametersModel&&(A=z.customParametersModel))},reset:Se},m=(0,M.Z)(ee).getInstance().getLogger(v),Se(),v}qr.__dashjs_factory_name="MediaController";var e_=C.Z.getSingletonFactory(qr);C.Z.updateSingletonFactory(qr.__dashjs_factory_name,e_);const A0=e_;var Gc=function v(m,b){(function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")})(this,v),this.data={baseUrls:m||null,selectedIdx:b||NaN},this.children=[]};function bd(){var v,m,b,D,N=en(this.context).getInstance();function A(te,V,re){var X=U(re);te[V]?N.areEqual(X,te[V].data.baseUrls)||(te[V].data.baseUrls=X,te[V].data.selectedIdx=NaN):te[V]=new Gc(X)}function U(te){var V=b.getBaseURLsFromElement(te),re=D.getSynthesizedBaseUrlElements(V);return re&&re.length>0&&(V=V.concat(re)),V}function ee(te,V){var re=V||m;te(re.data),re.children&&re.children.forEach(function(X){return ee(te,X)})}function ie(){m=new Gc}return v={reset:ie,update:function(te){!function(V){!function(){if(!b||!b.hasOwnProperty("getBaseURLsFromElement")||!b.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var re=U(V);N.areEqual(re,m.data.baseUrls)||(m.data.baseUrls=re,m.data.selectedIdx=NaN),V&&V.Period_asArray&&V.Period_asArray.forEach(function(X,De){A(m.children,De,X),X.AdaptationSet_asArray&&X.AdaptationSet_asArray.forEach(function(me,Se){A(m.children[De].children,Se,me),me.Representation_asArray&&me.Representation_asArray.sort(b.getRepresentationSortFunction()).forEach(function(Ae,Y){A(m.children[De].children[Se].children,Y,Ae)})})})}(te)},getForPath:function(te){var V=m,re=[V.data];return te&&te.forEach(function(X){(V=V.children[X])&&re.push(V.data)}),re.filter(function(X){return X.baseUrls.length})},invalidateSelectedIndexes:function(te){ee(function(V){isNaN(V.selectedIdx)||te===V.baseUrls[V.selectedIdx].serviceLocation&&(V.selectedIdx=NaN)})},setConfig:function(te){te.adapter&&(b=te.adapter),te.contentSteeringController&&(D=te.contentSteeringController)},getBaseUrls:function(te){return U(te)}},ie(),v}bd.__dashjs_factory_name="BaseURLTreeModel";const Ed=C.Z.getClassFactory(bd);function kh(v){var m=(v=v||{}).blacklistController;return{select:function(b){return b&&function(L){var N,A,U=0,ee=[],ie=0;if((A=L.sort(function(te,V){var re=te.dvb_priority-V.dvb_priority;return isNaN(re)?0:re}).filter(function(te,V,re){return!V||re[0].dvb_priority&&te.dvb_priority&&re[0].dvb_priority===te.dvb_priority})).length)return A.length>1&&(A.forEach(function(te){ee.push(U+=te.dvb_weight)}),N=Math.floor(Math.random()*(U-1)),ee.every(function(te,V){return ie=V,!(N<te)})),A[ie]}((D=[],b.filter(function(L){return!m.contains(L.serviceLocation)||(L.dvb_priority&&D.push(L.dvb_priority),!1)}).filter(function(L){return!D.length||!L.dvb_priority||-1===D.indexOf(L.dvb_priority)})));var D}}}kh.__dashjs_factory_name="DVBSelector";const wd=C.Z.getClassFactory(kh);function t_(v){var m=(v=v||{}).blacklistController;return{select:function(b){var D,L=0;return b&&b.some(function(N,A){return L=A,!m.contains(N.serviceLocation)})&&(D=b[L]),D}}}t_.__dashjs_factory_name="BasicSelector";const I0=C.Z.getClassFactory(t_);function n_(){var v,m,b;function L(){for(var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],U=0,ee=NaN,ie=function(){var V=N[U],re=A.findIndex(function(X){return X.serviceLocation&&X.serviceLocation===V});if(-1!==re&&!b.contains(A[re].serviceLocation))return ee=re,"break";U+=1};U<N.length&&"break"!==ie(););return ee}return v={selectBaseUrlIndex:function(N){var A=NaN;if(isNaN(N.selectedIdx)){var U=m.getSteeringDataFromManifest();U&&U.defaultServiceLocationArray.length>0&&(A=L(U.defaultServiceLocationArray,N.baseUrls))}var ee=m.getCurrentSteeringResponseData();return N.baseUrls&&N.baseUrls.length&&ee&&ee.pathwayPriority&&ee.pathwayPriority.length&&(A=L(ee.pathwayPriority,N.baseUrls)),A},setConfig:function(N){N.blacklistController&&(b=N.blacklistController),N.contentSteeringController&&(m=N.contentSteeringController)}},m=Da(this.context).getInstance(),v}n_.__dashjs_factory_name="ContentSteeringSelector";const D0=C.Z.getClassFactory(n_);function r_(){var v,m,b,D,L,N,A=this.context,U=(0,S.Z)(A).getInstance(),ee=(0,Mt.Z)(A).getInstance();function ie(){m.reset()}return v={chooseSelector:function(te){(0,ue.PS)(te,"boolean"),N=te?D:b},select:function(te){if(te){if(ee.get().streaming.applyContentSteering){var V=L.selectBaseUrlIndex(te);isNaN(V)||-1===V||(te.selectedIdx=V)}if(!isNaN(te.selectedIdx))return te.baseUrls[te.selectedIdx];var re=N.select(te.baseUrls);return re?(te.selectedIdx=te.baseUrls.indexOf(re),re):(U.trigger(g.Z.URL_RESOLUTION_FAILED,{error:new K.Z(pe.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,pe.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===b&&ie()))}},reset:ie,setConfig:function(te){te.selector&&(N=te.selector),te.contentSteeringSelector&&(L=te.contentSteeringSelector)}},m=Hc(A).create({updateEventName:g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),b=I0(A).create({blacklistController:m}),D=wd(A).create({blacklistController:m}),(L=D0(A).create()).setConfig({blacklistController:m}),N=b,v}r_.__dashjs_factory_name="BaseURLSelector";const Bl=C.Z.getClassFactory(r_);function qc(){var v,m,b,D,L,N=this.context,A=(0,S.Z)(N).getInstance(),U=(0,Ye.Z)(N).getInstance();function ee(te){b.update(te),D.chooseSelector(m.getIsDVB(te)),A.trigger(p.Z.BASE_URLS_UPDATED,{baseUrls:ie(te)})}function ie(te){return b.getBaseUrls(te)}return v={reset:function(){b.reset(),D.reset()},initialize:function(te){b.setConfig({adapter:m,contentSteeringController:L}),ee(te)},resolve:function(te){var V=b.getForPath(te).reduce(function(re,X){var De=D.select(X);return De?(U.isRelative(De.url)?re.url=U.resolve(De.url,re.url):(re.url=De.url,re.serviceLocation=De.serviceLocation),re.availabilityTimeOffset=De.availabilityTimeOffset,re.availabilityTimeComplete=De.availabilityTimeComplete,re.queryParams=De.queryParams,re):new _o},new _o);if(!U.isRelative(V.url))return V},setConfig:function(te){te.baseURLTreeModel&&(b=te.baseURLTreeModel),te.baseURLSelector&&(D=te.baseURLSelector),te.adapter&&(m=te.adapter),te.contentSteeringController&&(L=te.contentSteeringController)},getBaseUrls:ie,update:ee},b=Ed(N).create(),D=Bl(N).create(),A.on(g.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(te){b.invalidateSelectedIndexes(te.entry)},v),v}qc.__dashjs_factory_name="BaseURLController";const Yc=C.Z.getClassFactory(qc);function Td(v){return(Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Sd(v,m){return(Sd=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Ul(v){return(Ul=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const xa=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Sd(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Ul(m);if(b){var U=Ul(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function i_(v,m){return!m||"object"!==Td(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(N,A){var U;return function(ee,ie){if(!(ee instanceof ie))throw new TypeError("Cannot call a class as a function")}(this,L),(U=D.call(this)).url=N||null,U.type=A||null,U.mediaType=f.Z.STREAM,U.responseType="",U}return L}(q.Z);function Lh(v){v=v||{};var m=this.context,b=(0,S.Z)(m).getInstance(),D=Rr(m).create({errHandler:v.errHandler,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,errors:pe});return{load:function(L,N,A){var U=function(ie,te){N.resolved=!0,N.resolvedContent=ie||null,b.trigger(g.Z.XLINK_ELEMENT_LOADED,{element:N,resolveObject:A,error:ie||te?null:new K.Z(pe.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,pe.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+L)})};if("urn:mpeg:dash:resolve-to-zero:2013"===L)U(null,!0);else{var ee=new xa(L,He.w.XLINK_EXPANSION_TYPE);D.load({request:ee,success:function(ie){U(ie)},error:function(){U(null)}})}},reset:function(){D&&(D.abort(),D=null)}}}Lh.__dashjs_factory_name="XlinkLoader";const ra=C.Z.getClassFactory(Lh),Fh=function(v){function m(Y){var ge=Y.localName;return null==ge&&(ge=Y.baseName),null!=ge&&""!=ge||(ge=Y.nodeName),ge}function b(Y){return"string"==typeof Y?Y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):Y}function D(Y,ge,fe,be){for(var I=0;I<Y.length;I++){var $=Y[I];if("string"==typeof $){if($==be)break}else if($ instanceof RegExp){if($.test(be))break}else if("function"==typeof $&&$(ge,fe,be))break}return I!=Y.length}function L(Y,ge,fe){"property"===v.arrayAccessForm&&(Y[ge+"_asArray"]=Y[ge]instanceof Array?Y[ge]:[Y[ge]]),!(Y[ge]instanceof Array)&&v.arrayAccessFormPaths.length>0&&D(v.arrayAccessFormPaths,Y,ge,fe)&&(Y[ge]=[Y[ge]])}function N(Y){var ge=Y.split(/[-T:+Z]/g),fe=new Date(ge[0],ge[1]-1,ge[2]),be=ge[5].split(".");if(fe.setHours(ge[3],ge[4],be[0]),be.length>1&&fe.setMilliseconds(be[1]),ge[6]&&ge[7]){var I=60*ge[6]+Number(ge[7]);I=0+("-"==(/\d\d-\d\d:\d\d$/.test(Y)?"-":"+")?-1*I:I),fe.setMinutes(fe.getMinutes()-I-fe.getTimezoneOffset())}else-1!==Y.indexOf("Z",Y.length-1)&&(fe=new Date(Date.UTC(fe.getFullYear(),fe.getMonth(),fe.getDate(),fe.getHours(),fe.getMinutes(),fe.getSeconds(),fe.getMilliseconds())));return fe}function A(Y,ge,fe,be){return!(1==ge&&v.xmlElementsFilter.length>0)||D(v.xmlElementsFilter,Y,fe,be)}function U(Y,ge){if(9==Y.nodeType){for(var fe=new Object,be=Y.childNodes,I=0;I<be.length;I++)1==(G=be[I]).nodeType&&(v.ignoreRoot?fe=U(G):(fe={})[Z=m(G)]=U(G));return fe}if(1==Y.nodeType){(fe=new Object).__cnt=0;var $=[];for(be=Y.childNodes,I=0;I<be.length;I++){var G,Z=m(G=be[I]);if(8!=G.nodeType){var j=ge+"."+Z;if(A(fe,G.nodeType,Z,j))if(fe.__cnt++,null==fe[Z]){var ae=U(G,j);("#text"!=Z||/[^\s]/.test(ae))&&((le={})[Z]=ae,$.push(le)),fe[Z]=ae,L(fe,Z,j)}else{var le;null!=fe[Z]&&(fe[Z]instanceof Array||(fe[Z]=[fe[Z]],L(fe,Z,j))),ae=U(G,j),("#text"!=Z||/[^\s]/.test(ae))&&((le={})[Z]=ae,$.push(le)),fe[Z][fe[Z].length]=ae}}}fe.__children=$;for(var ve=m(Y),z=0;z<Y.attributes.length;z++){var Q=Y.attributes[z];fe.__cnt++;for(var Me=Q.value,Ve=0,ze=v.matchers.length;Ve<ze;Ve++){var Je=v.matchers[Ve];Je.test(Q,ve)&&(Me=Je.converter(Q.value))}fe[v.attributePrefix+Q.name]=Me}var Fe=Y.prefix;return null!=Fe&&""!=Fe&&(fe.__cnt++,fe.__prefix=Fe),null!=fe["#text"]&&(fe.__text=fe["#text"],fe.__text instanceof Array&&(fe.__text=fe.__text.join("\n")),v.stripWhitespaces&&(fe.__text=fe.__text.trim()),delete fe["#text"],"property"==v.arrayAccessForm&&delete fe["#text_asArray"],fe.__text=function(Ie,Ct,mt){if(v.datetimeAccessFormPaths.length>0){var bt=mt.split(".#")[0];return D(v.datetimeAccessFormPaths,Ie,Ct,bt)?N(Ie):Ie}return Ie}(fe.__text,Z,ge+"."+Z)),null!=fe["#cdata-section"]&&(fe.__cdata=fe["#cdata-section"],delete fe["#cdata-section"],"property"==v.arrayAccessForm&&delete fe["#cdata-section_asArray"]),0==fe.__cnt&&"text"==v.emptyNodeForm?fe="":1==fe.__cnt&&null!=fe.__text?fe=fe.__text:1!=fe.__cnt||null==fe.__cdata||v.keepCData?fe.__cnt>1&&null!=fe.__text&&v.skipEmptyTextNodesForObj&&(v.stripWhitespaces&&""==fe.__text||""==fe.__text.trim())&&delete fe.__text:fe=fe.__cdata,delete fe.__cnt,!v.enableToStringFunc||null==fe.__text&&null==fe.__cdata||(fe.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),fe}if(3==Y.nodeType||4==Y.nodeType)return Y.nodeValue}function ee(Y,ge,fe,be){var I="<"+(null!=Y&&null!=Y.__prefix?Y.__prefix+":":"")+ge;if(null!=fe)for(var $=0;$<fe.length;$++){var G=fe[$],Z=Y[G];v.escapeMode&&(Z=b(Z)),I+=" "+G.substr(v.attributePrefix.length)+"=",I+=v.useDoubleQuotes?'"'+Z+'"':"'"+Z+"'"}return I+(be?"/>":">")}function ie(Y,ge){return"</"+(null!=Y.__prefix?Y.__prefix+":":"")+ge+">"}function te(Y,ge){return"property"==v.arrayAccessForm&&-1!==(fe=ge.toString()).indexOf("_asArray",fe.length-8)||0==ge.toString().indexOf(v.attributePrefix)||0==ge.toString().indexOf("__")||Y[ge]instanceof Function;var fe}function V(Y){var ge=0;if(Y instanceof Object)for(var fe in Y)te(Y,fe)||ge++;return ge}function re(Y,ge,fe){return 0==v.jsonPropertiesFilter.length||""==fe||D(v.jsonPropertiesFilter,Y,ge,fe)}function X(Y){var ge=[];if(Y instanceof Object)for(var fe in Y)-1==fe.toString().indexOf("__")&&0==fe.toString().indexOf(v.attributePrefix)&&ge.push(fe);return ge}function De(Y){var fe,be,ge="";return Y instanceof Object?ge+=(be="",null!=(fe=Y).__cdata&&(be+="<![CDATA["+fe.__cdata+"]]>"),null!=fe.__text&&(be+=v.escapeMode?b(fe.__text):fe.__text),be):null!=Y&&(ge+=v.escapeMode?b(Y):Y),ge}function me(Y,ge){return""===Y?ge:Y+"."+ge}function Se(Y,ge,fe,be){var I="";if(0==Y.length)I+=ee(Y,ge,fe,!0);else for(var $=0;$<Y.length;$++)I+=ee(Y[$],ge,X(Y[$]),!1),I+=Ae(Y[$],me(be,ge)),I+=ie(Y[$],ge);return I}function Ae(Y,ge){var fe="";if(V(Y)>0)for(var be in Y)if(!te(Y,be)&&(""==ge||re(Y,be,me(ge,be)))){var I=Y[be],$=X(I);null==I||null==I?fe+=ee(I,be,$,!0):I instanceof Object?I instanceof Array?fe+=Se(I,be,$,ge):I instanceof Date?(fe+=ee(I,be,$,!1),fe+=I.toISOString(),fe+=ie(I,be)):V(I)>0||null!=I.__text||null!=I.__cdata?(fe+=ee(I,be,$,!1),fe+=Ae(I,me(ge,be)),fe+=ie(I,be)):fe+=ee(I,be,$,!0):(fe+=ee(I,be,$,!1),fe+=De(I),fe+=ie(I,be))}return fe+De(Y)}void 0===(v=v||{}).escapeMode&&(v.escapeMode=!0),void 0===v.attributePrefix&&(v.attributePrefix="_"),v.arrayAccessForm=v.arrayAccessForm||"none",v.emptyNodeForm=v.emptyNodeForm||"text",void 0===v.enableToStringFunc&&(v.enableToStringFunc=!0),v.arrayAccessFormPaths=v.arrayAccessFormPaths||[],void 0===v.skipEmptyTextNodesForObj&&(v.skipEmptyTextNodesForObj=!0),void 0===v.stripWhitespaces&&(v.stripWhitespaces=!0),v.datetimeAccessFormPaths=v.datetimeAccessFormPaths||[],void 0===v.useDoubleQuotes&&(v.useDoubleQuotes=!1),v.xmlElementsFilter=v.xmlElementsFilter||[],v.jsonPropertiesFilter=v.jsonPropertiesFilter||[],void 0===v.keepCData&&(v.keepCData=!1),void 0===v.ignoreRoot&&(v.ignoreRoot=!1),this.parseXmlString=function(Y){var ge;if(window,void 0===Y)return null;if(window.DOMParser){var fe=new window.DOMParser;try{(ge=fe.parseFromString(Y,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ge=null)}catch{ge=null}}else 0==Y.indexOf("<?")&&(Y=Y.substr(Y.indexOf("?>")+2)),(ge=new ActiveXObject("Microsoft.XMLDOM")).async="false",ge.loadXML(Y);return ge},this.asArray=function(Y){return void 0===Y||null==Y?[]:Y instanceof Array?Y:[Y]},this.toXmlDateTime=function(Y){return Y instanceof Date?Y.toISOString():"number"==typeof Y?new Date(Y).toISOString():null},this.asDateTime=function(Y){return"string"==typeof Y?N(Y):Y},this.xml2json=function(Y){return U(Y)},this.xml_str2json=function(Y){var ge=this.parseXmlString(Y);return null!=ge?this.xml2json(ge):null},this.json2xml_str=function(Y){return Ae(Y,"")},this.json2xml=function(Y){var ge=this.json2xml_str(Y);return this.parseXmlString(ge)},this.getVersion=function(){return"1.2.0"}};var Wt="onLoad";function Cd(v){v=v||{};var m,b,D,L,N,A,U=this.context,ee=(0,S.Z)(U).getInstance(),ie=(0,Ye.Z)(U).getInstance();function te(me,Se,Ae){var Y,ge,fe={};fe.elements=me,fe.type=Se,fe.resolveType=Ae,0===fe.elements.length&&re(fe);for(var be=0;be<fe.elements.length;be++)ge=ie.isHTTPURL((Y=fe.elements[be]).url)?Y.url:Y.originalContent.BaseURL+Y.url,A.load(ge,Y,fe)}function V(me){var Se,Ae,Y="";if(Ae=me.resolveObject,(Se=me.element).resolvedContent){var ge=0;0===Se.resolvedContent.indexOf("<?xml")&&(ge=Se.resolvedContent.indexOf("?>")+2),Y=Se.resolvedContent.substr(0,ge)+"<response>"+Se.resolvedContent.substr(ge)+"</response>",Se.resolvedContent=N.xml_str2json(Y)}(function(fe){var be;for(be=0;be<fe.elements.length;be++)if(!1===fe.elements[be].resolved)return!1;return!0})(Ae)&&re(Ae)}function re(me){var Se,Ae,Y=[];if(function(ge){var fe,be,$,G,Z,j=[];for($=ge.elements.length-1;$>=0;$--){if(be=(fe=ge.elements[$]).type+"_asArray",fe.resolvedContent){if(fe.resolvedContent)for(G=0;G<fe.resolvedContent[be].length;G++)j.push(fe.resolvedContent[be][G])}else delete fe.originalContent["xlink:actuate"],delete fe.originalContent["xlink:href"],j.push(fe.originalContent);for(fe.parentElement[be].splice(fe.index,1),Z=0;Z<j.length;Z++)fe.parentElement[be].splice(fe.index+Z,0,j[Z]);j=[]}ge.elements.length>0&&D.run(L)}(me),"onActuate"===me.resolveType&&ee.trigger(g.Z.XLINK_READY,{manifest:L}),me.resolveType===Wt)switch(me.type){case h.Z.PERIOD:for(Se=0;Se<L[h.Z.PERIOD+"_asArray"].length;Se++)(Ae=L[h.Z.PERIOD+"_asArray"][Se]).hasOwnProperty(h.Z.ADAPTATION_SET+"_asArray")&&(Y=Y.concat(X(Ae[h.Z.ADAPTATION_SET+"_asArray"],Ae,h.Z.ADAPTATION_SET,Wt))),Ae.hasOwnProperty(h.Z.EVENT_STREAM+"_asArray")&&(Y=Y.concat(X(Ae[h.Z.EVENT_STREAM+"_asArray"],Ae,h.Z.EVENT_STREAM,Wt)));te(Y,h.Z.ADAPTATION_SET,Wt);break;case h.Z.ADAPTATION_SET:ee.trigger(g.Z.XLINK_READY,{manifest:L})}}function X(me,Se,Ae,Y){var ge,fe,be,I=[];for(fe=me.length-1;fe>=0;fe--)(ge=me[fe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===ge["xlink:href"]&&me.splice(fe,1);for(fe=0;fe<me.length;fe++)(ge=me[fe]).hasOwnProperty("xlink:href")&&ge.hasOwnProperty("xlink:actuate")&&ge["xlink:actuate"]===Y&&(be=De(ge["xlink:href"],Se,Ae,fe,Y,ge),I.push(be));return I}function De(me,Se,Ae,Y,ge,fe){return{url:me,parentElement:Se,type:Ae,index:Y,resolveType:ge,originalContent:fe,resolvedContent:null,resolved:!1}}return m={resolveManifestOnLoad:function(me){N=new Fh({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:b}),(L=me).Period_asArray?te(X(L.Period_asArray,L,h.Z.PERIOD,Wt),h.Z.PERIOD,Wt):ee.trigger(g.Z.XLINK_READY,{manifest:L})},setMatchers:function(me){me&&(b=me)},setIron:function(me){me&&(D=me)},reset:function(){ee.off(g.Z.XLINK_ELEMENT_LOADED,V,m),A&&(A.reset(),A=null)}},ee.on(g.Z.XLINK_ELEMENT_LOADED,V,m),A=ra(U).create({errHandler:v.errHandler,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,settings:v.settings}),m}Cd.__dashjs_factory_name="XlinkController";const $t=C.Z.getClassFactory(Cd);function ia(v){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function $c(v){function m(L,N){for(var A in L)N.hasOwnProperty(A)||(N[A]=L[A])}function b(L,N,A){for(var U=0,ee=L.length;U<ee;++U){var ie=L[U];if(N[ie.name])if(A[ie.name]){if(ie.merge){var te=N[ie.name],V=A[ie.name];"object"===ia(te)&&"object"===ia(V)?m(te,V):A[ie.name]=te+V}}else A[ie.name]=N[ie.name]}}function D(L,N){for(var A=0,U=L.children.length;A<U;++A){var ee=L.children[A],ie=N[ee.name+"_asArray"];if(ie)for(var te=0,V=ie.length;te<V;++te){var re=ie[te];b(L.properties,N,re),D(ee,re)}}}return{run:function(L){if(null===L||"object"!==ia(L))return L;if(L.Period_asArray&&"period"in v)for(var N=v.period,A=L.Period_asArray,U=0,ee=A.length;U<ee;++U){var ie=A[U];if(D(N,ie),"adaptationset"in v){var te=ie.AdaptationSet_asArray;if(te)for(var V=v.adaptationset,re=0,X=te.length;re<X;++re)D(V,te[re])}}return L}}}$c.__dashjs_factory_name="ObjectIron";const Vl=C.Z.getClassFactory($c),jl=function(){function v(D,L){(function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this._test=D,this._converter=L}var b;return(b=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&function o_(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}();function Ad(v){return(Ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Ir(v,m,b){return m in v?Object.defineProperty(v,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[m]=b,v}function Ja(v,m){return(Ja=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Io(v){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const Vr=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Ja(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Io(m);if(b){var U=Io(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function zo(v,m){return!m||"object"!==Ad(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N,A){var U,ee=(Ir(U={},h.Z.MPD,[h.Z.ID,h.Z.PROFILES]),Ir(U,h.Z.PERIOD,[h.Z.ID]),Ir(U,h.Z.BASE_URL,[h.Z.SERVICE_LOCATION,h.Z.BYTE_RANGE]),Ir(U,h.Z.SEGMENT_BASE,[h.Z.INDEX_RANGE]),Ir(U,h.Z.INITIALIZATION,[h.Z.RANGE]),Ir(U,h.Z.REPRESENTATION_INDEX,[h.Z.RANGE]),Ir(U,h.Z.SEGMENT_LIST,[h.Z.INDEX_RANGE]),Ir(U,h.Z.BITSTREAM_SWITCHING,[h.Z.RANGE]),Ir(U,h.Z.SEGMENT_URL,[h.Z.MEDIA_RANGE,h.Z.INDEX_RANGE]),Ir(U,h.Z.SEGMENT_TEMPLATE,[h.Z.INDEX_RANGE,h.Z.MEDIA,h.Z.INDEX,h.Z.INITIALIZATION_MINUS,h.Z.BITSTREAM_SWITCHING_MINUS]),Ir(U,h.Z.ASSET_IDENTIFIER,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.EVENT_STREAM,[h.Z.VALUE]),Ir(U,h.Z.ADAPTATION_SET,[h.Z.PROFILES,h.Z.MIME_TYPE,h.Z.SEGMENT_PROFILES,h.Z.CODECS,h.Z.CONTENT_TYPE]),Ir(U,h.Z.FRAME_PACKING,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.AUDIO_CHANNEL_CONFIGURATION,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.CONTENT_PROTECTION,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.ESSENTIAL_PROPERTY,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.SUPPLEMENTAL_PROPERTY,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.INBAND_EVENT_STREAM,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.ACCESSIBILITY,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.ROLE,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.RATING,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.VIEWPOINT,[h.Z.VALUE,h.Z.ID]),Ir(U,h.Z.CONTENT_COMPONENT,[h.Z.CONTENT_TYPE]),Ir(U,h.Z.REPRESENTATION,[h.Z.ID,h.Z.DEPENDENCY_ID,h.Z.MEDIA_STREAM_STRUCTURE_ID]),Ir(U,h.Z.SUBSET,[h.Z.ID]),Ir(U,h.Z.METRICS,[h.Z.METRICS_MINUS]),Ir(U,h.Z.REPORTING,[h.Z.VALUE,h.Z.ID]),U);if(ee.hasOwnProperty(A)){var ie=ee[A];return void 0!==ie&&ie.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return L}(jl);function el(v){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Hl(v,m){return(Hl=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Zl(v){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}var ws=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;const zl=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Hl(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Zl(m);if(b){var U=Zl(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function Id(v,m){return!m||"object"!==el(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N){for(var A=[h.Z.MIN_BUFFER_TIME,h.Z.MEDIA_PRESENTATION_DURATION,h.Z.MINIMUM_UPDATE_PERIOD,h.Z.TIMESHIFT_BUFFER_DEPTH,h.Z.MAX_SEGMENT_DURATION,h.Z.MAX_SUBSEGMENT_DURATION,h.Z.SUGGESTED_PRESENTATION_DELAY,h.Z.START,f.Z.START_TIME,h.Z.DURATION],U=A.length,ee=0;ee<U;ee++)if(N.nodeName===A[ee])return ws.test(N.value);return!1},function(N){var A=ws.exec(N),U=31536e3*parseFloat(A[3]||0)+2592e3*parseFloat(A[5]||0)+86400*parseFloat(A[7]||0)+3600*parseFloat(A[9]||0)+60*parseFloat(A[11]||0)+parseFloat(A[13]||0);return void 0!==A[1]&&(U=-U),U})}return L}(jl);function Wc(v){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Kc(v,m){return(Kc=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Gl(v){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}var xd=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;const ql=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Kc(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Gl(m);if(b){var U=Gl(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function Dd(v,m){return!m||"object"!==Wc(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N){return xd.test(N.value)},function(N){var A,U=xd.exec(N);if(A=Date.UTC(parseInt(U[1],10),parseInt(U[2],10)-1,parseInt(U[3],10),parseInt(U[4],10),parseInt(U[5],10),U[6]&&parseInt(U[6],10)||0,U[7]&&1e3*parseFloat(U[7])||0),U[9]&&U[10]){var ee=60*parseInt(U[9],10)+parseInt(U[10],10);A+=("+"===U[8]?-1:1)*ee*60*1e3}return new Date(A)})}return L}(jl);function Xc(v){return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Qc(v,m){return(Qc=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Yl(v){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}var a_=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;const l_=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Qc(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Yl(m);if(b){var U=Yl(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function s_(v,m){return!m||"object"!==Xc(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N){return a_.test(N.value)},function(N){return parseFloat(N)})}return L}(jl);function Do(v){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function $l(v,m,b){return m in v?Object.defineProperty(v,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[m]=b,v}function Jc(v,m){return(Jc=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function eu(v){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const u_=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Jc(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=eu(m);if(b){var U=eu(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function c_(v,m){return!m||"object"!==Do(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){return function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}(this,L),D.call(this,function(N,A){var U,ee=($l(U={},h.Z.ADAPTATION_SET,[h.Z.LANG]),$l(U,h.Z.REPRESENTATION,[h.Z.LANG]),$l(U,h.Z.CONTENT_COMPONENT,[h.Z.LANG]),$l(U,h.Z.LABEL,[h.Z.LANG]),$l(U,h.Z.GROUP_LABEL,[h.Z.LANG]),U);if(ee.hasOwnProperty(A)){var ie=ee[A];return void 0!==ie&&ie.indexOf(N.name)>=0}return!1},function(N){var A=Fl()(N);return void 0!==A?A:String(N)})}return L}(jl),Bh=function(){function v(D){var L;(function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this._name=D,this._merge=(L=D)&&L.length&&L.charAt(0)===L.charAt(0).toUpperCase()}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&function d_(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}(),tl=function(){function v(D,L,N){var A=this;(function(U,ee){if(!(U instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,v),this._name=D||"",this._properties=[],this._children=N||[],Array.isArray(L)&&L.forEach(function(U){A._properties.push(new Bh(U))})}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&function f_(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}();function Rd(v){return(Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function gr(v,m){return(gr=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function tu(v){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const p_=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&gr(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=tu(m);if(b){var U=tu(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function h_(v,m){return!m||"object"!==Rd(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){!function(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")}(this,L);var N=[h.Z.PROFILES,h.Z.WIDTH,h.Z.HEIGHT,h.Z.SAR,h.Z.FRAMERATE,h.Z.AUDIO_SAMPLING_RATE,h.Z.MIME_TYPE,h.Z.SEGMENT_PROFILES,h.Z.CODECS,h.Z.MAXIMUM_SAP_PERIOD,h.Z.START_WITH_SAP,h.Z.MAX_PLAYOUT_RATE,h.Z.CODING_DEPENDENCY,h.Z.SCAN_TYPE,h.Z.FRAME_PACKING,h.Z.AUDIO_CHANNEL_CONFIGURATION,h.Z.CONTENT_PROTECTION,h.Z.ESSENTIAL_PROPERTY,h.Z.ESSENTIAL_PROPERTY+"_asArray",h.Z.SUPPLEMENTAL_PROPERTY,h.Z.INBAND_EVENT_STREAM];return D.call(this,h.Z.ADAPTATION_SET,N,[new tl(h.Z.REPRESENTATION,N,[new tl(h.Z.SUB_REPRESENTATION,N)])])}return L}(tl);function ni(v){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Md(v,m){return(Md=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Fn(v){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const $i=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Md(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Fn(m);if(b){var U=Fn(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function Uh(v,m){return!m||"object"!==ni(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){!function(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")}(this,L);var N=[h.Z.SEGMENT_BASE,h.Z.SEGMENT_TEMPLATE,h.Z.SEGMENT_LIST];return D.call(this,h.Z.PERIOD,N,[new tl(h.Z.ADAPTATION_SET,N,[new tl(h.Z.REPRESENTATION,N)])])}return L}(tl);function Mr(v){var m,b,D,L,N,A=this.context;return m={parse:function(ee){var ie,te=window.performance.now();if(!(ie=L.xml_str2json(ee)))throw new Error("parsing the manifest failed");var V=window.performance.now();ie.Patch?((ie=ie.Patch).add_asArray&&ie.add_asArray.forEach(function(X){return N.run(X)}),ie.replace_asArray&&ie.replace_asArray.forEach(function(X){return N.run(X)})):N.run(ie=ie.MPD);var re=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(V-te).toPrecision(3)+"ms, objectiron: "+(re-V).toPrecision(3)+"ms, total: "+((re-te)/1e3).toPrecision(3)+"s)"),ie.protocol="DASH",ie},getMatchers:function(){return D},getIron:function(){return N}},b=(v=v||{}).debug.getLogger(m),D=[new zl,new ql,new l_,new u_,new Vr],L=new Fh({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:D}),N=Vl(A).create({adaptationset:new p_,period:new $i}),m}Mr.__dashjs_factory_name="DashParser";const Wi=C.Z.getClassFactory(Mr);function io(v){var m,b,D,L,N,A=this.context,U=(v=v||{}).debug,ee=v.settings,ie=(0,S.Z)(A).getInstance(),te=(0,Ye.Z)(A).getInstance(),V=v.mssHandler,re=v.errHandler;function X(me){ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:me.manifest})}return m={load:function(me){var Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Y=new Date,ge=new xa(me,He.w.MPD_TYPE);Se&&(ge.serviceLocation=Se),Ae&&(ge.queryParams=Ae),ge.requestStartDate||(ge.requestStartDate=Y),ie.trigger(g.Z.MANIFEST_LOADING_STARTED,{request:ge}),D.load({request:ge,success:function(fe,be,I){var $,G,Z;if(L)if(I&&I!==me?(G=te.parseBaseUrl(I),$=I):(te.isRelative(me)&&(me=te.resolve(me,window.location.href)),G=te.parseBaseUrl(me)),"No Content"!=be)if(null===N&&(N=function De(me){var Se=null;return me.indexOf("SmoothStreamingMedia")>-1?(V&&(Se=V.createMssParser(),V.createMssFragmentProcessor(),V.registerEvents()),Se):me.indexOf("MPD")>-1||me.indexOf("Patch")>-1?Wi(A).create({debug:U}):Se}(fe)),null!==N){L.setMatchers(N.getMatchers()),L.setIron(N.getIron());try{Z=N.parse(fe)}catch{return void ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(me))})}if(Z){if(Z.url=$||me,Z.originalUrl||(Z.originalUrl=Z.url),ee&&ee.get().streaming.enableManifestDurationMismatchFix&&Z.mediaPresentationDuration&&Z.Period_asArray.length>1){var j=Z.Period_asArray.reduce(function(ae,le){return ae+le.duration},0);!isNaN(j)&&Z.mediaPresentationDuration>j&&(b.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Z.mediaPresentationDuration=j)}Z.baseUri=G,Z.loadedTime=new Date,L.resolveManifestOnLoad(Z),ie.trigger(g.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:fe})}else ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(me))})}else ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(me))});else ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(fe,be,I){ie.trigger(g.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new K.Z(pe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,pe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(me,", ").concat(I))})}})},reset:function(){ie.off(g.Z.XLINK_READY,X,m),V&&V.reset(),L&&(L.reset(),L=null),D&&(D.abort(),D=null)}},b=U.getLogger(m),ie.on(g.Z.XLINK_READY,X,m),D=Rr(A).create({errHandler:v.errHandler,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,urlUtils:te,constants:f.Z,dashConstants:h.Z,errors:pe,requestTimeout:v.settings.get().streaming.manifestRequestTimeout}),L=$t(A).create({errHandler:re,dashMetrics:v.dashMetrics,mediaPlayerModel:v.mediaPlayerModel,requestModifier:v.requestModifier,settings:v.settings}),N=null,m}io.__dashjs_factory_name="ManifestLoader";const nl=C.Z.getClassFactory(io);function yo(){var m=(0,S.Z)(this.context).getInstance();return{error:function(b){m.trigger(g.Z.ERROR,{error:b})}}}yo.__dashjs_factory_name="ErrorHandler";const Vh=C.Z.getSingletonFactory(yo);var Nd=F(1715);function Wl(){var v,m,b,D,L,N,A=this.context,U=(0,S.Z)(A).getInstance();function ee(ie,te){if(!te||!te.Period_asArray||0===te.Period_asArray.length)return Promise.resolve();var V=[];return te.Period_asArray.forEach(function(re){var X,De;V.push((X=re,De=ie,new Promise(function(me){if(X&&X.AdaptationSet_asArray&&0!==X.AdaptationSet_asArray.length){var Se=[];X.AdaptationSet_asArray.forEach(function(Ae){var Y,ge;m.getIsTypeOf(Ae,De)&&Se.push((Y=Ae,ge=De,new Promise(function(fe){if(Y.Representation_asArray&&0!==Y.Representation_asArray.length){var be=[],I=[];Y.Representation_asArray.forEach(function($,G){var Z=m.getCodec(Y,G,!1),j=function(ae,le,ve){switch(ae){case f.Z.VIDEO:return{codec:ve,width:(z=le).width||null,height:z.height||null,framerate:z.frameRate||null,bitrate:z.bandwidth||null};case f.Z.AUDIO:return function(z,Q){return{codec:Q,bitrate:z.bandwidth||null,samplerate:z.audioSamplingRate||null}}(le,ve);default:return null}var z}(ge,$,Z);I.push(j),be.push(b.supportsCodec(j,ge))}),Promise.all(be).then(function($){Y.Representation_asArray=Y.Representation_asArray.filter(function(G,Z){return $[Z]||N.debug("[Stream] Codec ".concat(I[Z].codec," not supported ")),$[Z]}),fe()}).catch(function(){fe()})}else fe()})))}),Promise.all(Se).then(function(){X.AdaptationSet_asArray=X.AdaptationSet_asArray.filter(function(Ae){var Y=Ae.Representation_asArray&&Ae.Representation_asArray.length>0;return Y||(U.trigger(g.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:Ae}),N.warn("AdaptationSet has been removed because of no supported Representation")),Y}),me()}).catch(function(){me()})}else me()})))}),Promise.all(V)}return v={setConfig:function(ie){ie&&(ie.adapter&&(m=ie.adapter),ie.capabilities&&(b=ie.capabilities),ie.settings&&(D=ie.settings),ie.customParametersModel&&(L=ie.customParametersModel))},filterUnsupportedFeatures:function(ie){return new Promise(function(te){var V=[];V.push(ee(f.Z.VIDEO,ie)),V.push(ee(f.Z.AUDIO,ie)),Promise.all(V).then(function(){var re;D.get().streaming.capabilities.filterUnsupportedEssentialProperties&&(re=ie)&&re.Period_asArray&&0!==re.Period_asArray.length&&re.Period_asArray.forEach(function(X){X.AdaptationSet_asArray=X.AdaptationSet_asArray.filter(function(De){return!De.Representation_asArray||0===De.Representation_asArray.length||(De.Representation_asArray=De.Representation_asArray.filter(function(me){var Se=m.getEssentialPropertiesForRepresentation(me);if(Se&&Se.length>0)for(var Ae=0;Ae<Se.length;){if(!b.supportsEssentialProperty(Se[Ae]))return N.debug("[Stream] EssentialProperty not supported: "+Se[Ae].schemeIdUri),!1;Ae+=1}return!0}),De.Representation_asArray&&De.Representation_asArray.length>0)})}),function(re){var X=L.getCustomCapabilitiesFilters();X&&0!==X.length&&re&&re.Period_asArray&&0!==re.Period_asArray.length&&re.Period_asArray.forEach(function(De){De.AdaptationSet_asArray=De.AdaptationSet_asArray.filter(function(me){return!me.Representation_asArray||0===me.Representation_asArray.length||(me.Representation_asArray=me.Representation_asArray.filter(function(Se){return!X.some(function(Ae){return!Ae(Se)})}),me.Representation_asArray&&me.Representation_asArray.length>0)})})}(ie),te()}).catch(function(){te()})})}},N=(0,M.Z)(A).getInstance().getLogger(v),v}Wl.__dashjs_factory_name="CapabilitiesFilter";const m_=C.Z.getSingletonFactory(Wl),g_=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function bi(){var v;return{initialize:function(m){if(v=new g_,!m)return null;var b=m.indexOf("#");if(-1!==b)for(var D=m.substr(b+1).split("&"),L=0,N=D.length;L<N;++L){var A=D[L],U=A.indexOf("=");if(-1!==U){var ee=A.substring(0,U);v.hasOwnProperty(ee)&&(v[ee]=A.substr(U+1))}}},getURIFragmentData:function(){return v}}}bi.__dashjs_factory_name="URIFragmentModel";const kn=C.Z.getSingletonFactory(bi);function fr(){var v,b=(0,S.Z)(this.context).getInstance();return{getValue:function(){return v},setValue:function(D){v=D,D&&b.trigger(g.Z.MANIFEST_LOADED,{data:D})}}}fr.__dashjs_factory_name="ManifestModel";const gi=C.Z.getSingletonFactory(fr);function rl(){var v,m,b,D,L=this.context,N=(0,Mt.Z)(L).getInstance();function A(ie,te){return isNaN(ie)?0:ie>0?(te&&m.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie<-.5?(te&&m.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(-.5,": ").concat(-50,"% playback speed.")),-.5):ie}function U(ie,te){return isNaN(ie)?0:ie<0?(te&&m.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie>1?(te&&m.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ie}function ee(){var ie=N.get().streaming.buffer.stableBufferTime>0?N.get().streaming.buffer.stableBufferTime:N.get().streaming.buffer.fastSwitchEnabled?20:12,te=b.getLiveDelay();return!isNaN(te)&&te>0?Math.min(ie,te):ie}return v={getCatchupMaxDrift:function(){if(!isNaN(N.get().streaming.liveCatchup.maxDrift)&&N.get().streaming.liveCatchup.maxDrift>0)return N.get().streaming.liveCatchup.maxDrift;var ie=D.getServiceDescriptionSettings();return ie&&ie.liveCatchup&&!isNaN(ie.liveCatchup.maxDrift)&&ie.liveCatchup.maxDrift>0?ie.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return null!==N.get().streaming.liveCatchup.enabled?N.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:ee,getInitialBufferLevel:function(){var ie=N.get().streaming.buffer.initialBufferLevel;return isNaN(ie)||ie<0?0:Math.min(ee(),ie)},getRetryAttemptsForType:function(ie){var te=isNaN(N.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:N.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?N.get().streaming.retryAttempts[ie]*te:N.get().streaming.retryAttempts[ie]},getRetryIntervalsForType:function(ie){var te=isNaN(N.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:N.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?N.get().streaming.retryIntervals[ie]/te:N.get().streaming.retryIntervals[ie]},getCatchupPlaybackRates:function(ie){var te=N.get().streaming.liveCatchup.playbackRate;if(!isNaN(te.min)||!isNaN(te.max))return{min:A(te.min,ie),max:U(te.max,ie)};var V=D.getServiceDescriptionSettings();if(V&&V.liveCatchup&&(!isNaN(V.liveCatchup.playbackRate.min)||!isNaN(V.liveCatchup.playbackRate.max))){var re=V.liveCatchup.playbackRate;return{min:A(re.min,ie),max:U(re.max,ie)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(ie,te){try{var V=N.get().streaming.abr[ie][te];if(!isNaN(V)&&-1!==V)return V;var re=D.getServiceDescriptionSettings();return re&&re[ie]&&!isNaN(re[ie][te])?re[ie][te]:-1}catch{return-1}},setConfig:function(ie){ie.playbackController&&(b=ie.playbackController),ie.serviceDescriptionController&&(D=ie.serviceDescriptionController)},reset:function(){}},m=(0,M.Z)(L).getInstance().getLogger(v),v}rl.__dashjs_factory_name="MediaPlayerModel";const oo=C.Z.getSingletonFactory(rl);var il=F(1767);function Ei(v){var m=(v=v||{}).abrController,b=v.switchHistory,D=v.droppedFramesHistory,L=v.currentRequest,N=v.useBufferOccupancyABR,A=v.useL2AABR,U=v.useLoLPABR,ee=v.streamProcessor?v.streamProcessor.getScheduleController():null,ie=v.streamProcessor?v.streamProcessor.getRepresentationInfo():null,te=v.videoModel?v.videoModel:null;function V(){return ie?ie.mediaInfo:null}return{getMediaType:function(){var re=V();return re?re.type:null},getMediaInfo:V,getDroppedFramesHistory:function(){return D},getCurrentRequest:function(){return L},getSwitchHistory:function(){return b},getStreamInfo:function(){var re=V();return re?re.streamInfo:null},getScheduleController:function(){return ee},getAbrController:function(){return m},getRepresentationInfo:function(){return ie},useBufferOccupancyABR:function(){return N},useL2AABR:function(){return A},useLoLPABR:function(){return U},getVideoModel:function(){return te}}}Ei.__dashjs_factory_name="RulesContext";const Ls=C.Z.getClassFactory(Ei);var Fs=F(2068);function ur(){var v=[],m=[];return{push:function(b){b.newValue===Fs.Z.NO_CHANGE&&(b.newValue=b.oldValue),v[b.oldValue]||(v[b.oldValue]={noDrops:0,drops:0,dropSize:0});var D=b.newValue-b.oldValue,L=D<0?1:0,N=L?-D:0,A=L?0:1;if(v[b.oldValue].drops+=L,v[b.oldValue].dropSize+=N,v[b.oldValue].noDrops+=A,m.push({idx:b.oldValue,noDrop:A,drop:L,dropSize:N}),m.length>8){var U=m.shift();v[U.idx].drops-=U.drop,v[U.idx].dropSize-=U.dropSize,v[U.idx].noDrops-=U.noDrop}},getSwitchRequests:function(){return v},reset:function(){v=[],m=[]}}}ur.__dashjs_factory_name="SwitchRequestHistory";const Kl=C.Z.getClassFactory(ur);function Od(){var v={},m={},b={};return{push:function(D,L,N){if(L){v[D]||(v[D]=[],m[D]=0,b[D]=0);var A=N&&N.droppedVideoFrames?N.droppedVideoFrames:0,U=N&&N.totalVideoFrames?N.totalVideoFrames:0,ee=A-m[D];m[D]=A;var ie=U-b[D];b[D]=U;var te=v[D];isNaN(L)||(te[L]?(te[L].droppedVideoFrames+=ee,te[L].totalVideoFrames+=ie):te[L]={droppedVideoFrames:ee,totalVideoFrames:ie})}},getFrameHistory:function(D){return v[D]},clearForStream:function(D){try{delete v[D],delete m[D],delete b[D]}catch{}},reset:function(){v={},m={},b={}}}}Od.__dashjs_factory_name="DroppedFramesHistory";const ol=C.Z.getClassFactory(Od);function wi(v){var m,b,D,L,N,U=(v=v||{}).settings,ee=(0,S.Z)(this.context).getInstance();function ie(me,Se,Ae,Y){var ge=Math.pow(.5,Ae/Y.fast);me.fastEstimate=(1-ge)*Se+ge*me.fastEstimate;var fe=Math.pow(.5,Ae/Y.slow);me.slowEstimate=(1-fe)*Se+fe*me.slowEstimate,me.totalWeight+=Ae}function te(me,Se,Ae){return U.get().streaming.abr.movingAverageMethod!==f.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(Y,ge){var fe=Y?N.throughputHalfLife:N.latencyHalfLife,be=Y?D[ge]:L[ge];if(!be||be.totalWeight<=0)return NaN;var I=be.fastEstimate/(1-Math.pow(.5,be.totalWeight/fe.fast)),$=be.slowEstimate/(1-Math.pow(.5,be.totalWeight/fe.slow));return Y?Math.min(I,$):Math.max(I,$)}(me,Se):(be=function($,G,Z){var j,ae;if($?(j=m[G],ae=Z?3:4):(j=b[G],ae=4),j){if(ae>=j.length)ae=j.length;else if($)for(var le=1;le<ae;++le){var ve=j[j.length-le]/j[j.length-le-1];if((ve>=1.3||ve<=.7692307692307692)&&(ae+=1)===j.length)break}}else ae=0;return ae}(Y=me,ge=Se,Ae),I=(Y?m:b)[ge],0!==be&&I&&0!==I.length?(I=I.slice(-be)).reduce(function($,G){return $+G})/I.length:NaN);var Y,ge,be,I}function V(me,Se){return te(!0,me,Se)}function re(me){m[me]=m[me]||[],b[me]=b[me]||[],D[me]=D[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0},L[me]=L[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function X(){m={},b={},D={},L={}}var De={push:function(me,Se,Ae){if(Se.trace&&Se.trace.length){var Y,ge=Se.tresponse.getTime()-Se.trequest.getTime()||1,fe=Se._tfinish.getTime()-Se.tresponse.getTime()||1,be=Se.trace.reduce(function(Z,j){return Z+j.b[0]},0),I=0;if(0!==(Y=Se._fileLoaderType&&Se._fileLoaderType===f.Z.FILE_LOADER_TYPES.FETCH?Se.trace.reduce(function(Z,j){return Z+j.d},0):Ae?fe:ge+fe)&&(I=Math.round(8*be/Y)),Se.cmsd){var $=Se.cmsd.dynamic&&Se.cmsd.dynamic.etp?Se.cmsd.dynamic.etp:null;if($){var G=U.get().streaming.cmsd.abr.etpWeightRatio;G>0&&G<=1&&(I=I*(1-G)+$*G)}}if(re(me),ae=fe,(Z=me)===f.Z.VIDEO?ae<U.get().streaming.cacheLoadThresholds[f.Z.VIDEO]:Z===f.Z.AUDIO?ae<U.get().streaming.cacheLoadThresholds[f.Z.AUDIO]:void 0){if(m[me].length>0&&!m[me].hasCachedEntries)return;m[me].hasCachedEntries=!0}else m[me]&&m[me].hasCachedEntries&&function(Z){delete m[Z],delete b[Z],delete D[Z],delete L[Z],re(Z)}(me);m[me].push(I),ee.trigger(p.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:I,mediaType:me,httpRequest:Se}),m[me].length>20&&m[me].shift(),b[me].push(ge),b[me].length>20&&b[me].shift(),ie(D[me],I,.001*fe,N.throughputHalfLife),ie(L[me],ge,1,N.latencyHalfLife)}var Z,ae},getAverageThroughput:V,getSafeAverageThroughput:function(me,Se){var Ae=V(me,Se);return isNaN(Ae)||(Ae*=U.get().streaming.abr.bandwidthSafetyFactor),Ae},getAverageLatency:function(me){return te(!1,me)},reset:X};return N={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},X(),De}wi.__dashjs_factory_name="ThroughputHistory";const Xl=C.Z.getClassFactory(wi);function oa(){var v,m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me,Se,Ae,Y,ge,fe,be,I,$,G,Z,j,ae=this.context,le=(0,M.Z)(ae).getInstance(),ve=(0,S.Z)(ae).getInstance();function z(){L={},N={},U={},A={},ge={},I={},$={},G={},void 0===ie&&(ie=!1),fe&&fe.reset(),Y=void 0,fe=void 0,be=void 0,clearTimeout(ee),ee=null}function Q(Be){var Te=Be.request.mediaType,et=Be.streamId;if(Te&&et&&A[et]&&j.get().streaming.abr.autoSwitchBitrate[Te]){var Oe=A[et][Te];if(Oe){var nt=Ls(ae).create({abrController:v,streamProcessor:Oe,currentRequest:Be.request,useBufferOccupancyABR:I[Te],useL2AABR:$[Te],useLoLPABR:G[Te],videoModel:X}),ft=b.shouldAbandonFragment(nt,et);ft.quality>Fs.Z.NO_CHANGE&&Oe.getFragmentModel().getRequests({state:k.FRAGMENT_MODEL_LOADING,index:Be.request.index})[0]&&(U[et][Te].state=O.Z.ABANDON_LOAD,ge[et][Te].reset(),ge[et][Te].push({oldValue:Fe(Te,et),newValue:ft.quality,confidence:1,reason:ft.reason}),Ie(Te,D.getActiveStreamInfo(),ft.quality,ft.reason),clearTimeout(ee),ee=setTimeout(function(){U[et][Te].state=O.Z.ALLOW_LOAD,ee=null},j.get().streaming.abandonLoadTimeout))}}}function Me(Be){Be.mediaType===f.Z.VIDEO&&(void 0!==Y&&fe.push(Be.streamId,Y,X.getPlaybackQuality()),Y=Be.newQuality)}function Ve(Be){var Te,et;Be.metric!==O.Z.HTTP_REQUEST||!Be.value||Be.value.type!==He.w.MEDIA_SEGMENT_TYPE||Be.mediaType!==f.Z.AUDIO&&Be.mediaType!==f.Z.VIDEO||be.push(Be.mediaType,Be.value,j.get().streaming.abr.useDeadTimeLatency),Be.metric!==O.Z.BUFFER_LEVEL||Be.mediaType!==f.Z.AUDIO&&Be.mediaType!==f.Z.VIDEO||(Te=Be.mediaType,et=.001*Be.value.level,j.get().streaming.abr.ABRStrategy===f.Z.ABR_STRATEGY_DYNAMIC&&function(Oe,nt){try{var ft=De.getStableBufferTime(),Gt=I[Oe],An=nt>(Gt?.5*ft:ft);I[Oe]=An,An!==Gt&&m.info(An?"["+Oe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+nt.toFixed(3)+").":"["+Oe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+nt.toFixed(3)+").")}catch(Sn){m.error(Sn)}}(Te,et))}function ze(Be,Te){try{var et;return L[Te]=L[Te]||{},L[Te].hasOwnProperty(Be)||(L[Te][Be]=0),et=function(Oe,nt){var ft=L[nt][Oe],pt=ft;if(!A[nt]||!A[nt][Oe])return pt;var Ot=Je(Oe,nt);void 0!==Ot&&(pt=Math.max(ft,Ot));var Gt=function(An,Sn){try{var un=De.getAbrBitrateParameter("maxBitrate",An);return un>-1?bt(A[Sn][An].getMediaInfo(),un,Sn):void 0}catch{return}}(Oe,nt);return void 0!==Gt&&(pt=Math.min(pt,Gt)),pt}(Be,Te),Oe=et,pt=L[Te][nt=Be],Ot=j.get().streaming.abr.maxRepresentationRatio[nt],et=function(Oe,nt,ft){if(nt!==f.Z.VIDEO||!j.get().streaming.abr.limitBitrateByPortal||!A[ft]||!A[ft][nt])return Oe;ie||sn();var pt=A[ft][nt].getStreamInfo(),Ot=re.getAdaptationForType(pt.index,nt,pt).Representation_asArray,Gt=Oe;if(te>0&&V>0){for(;Gt>0&&Ot[Gt]&&te<Ot[Gt].width&&te-Ot[Gt-1].width<Ot[Gt].width-te;)Gt-=1;for(;Gt<Ot.length-1&&Ot[Gt].width===Ot[Gt+1].width;)Gt+=1}return Gt}(et=isNaN(Ot)||Ot>=1||Ot<0?Oe:Math.min(Oe,Math.round(pt*Ot)),Be,Te),j.get().streaming.cmsd.enabled&&j.get().streaming.cmsd.abr.applyMb&&(et=function(Oe,nt,ft){if("video"!==nt)return Oe;var pt=Se.getMaxBitrate(nt);if(pt<0)return Oe;var Ot=mt(ft,"audio",Fe("audio",ft));pt-=Ot?Ot.bitrate/1e3:0;var Gt=bt(A[ft][nt].getMediaInfo(),pt,ft);return m.debug("Stream ID: "+ft+" ["+nt+"] Apply max bit rate from CMSD: "+pt),Math.min(Oe,Gt)}(et,Be,Te)),et}catch{return}var Oe,nt,pt,Ot}function Je(Be,Te){try{return function(et,Oe){try{var nt=De.getAbrBitrateParameter("minBitrate",et);if(nt>-1){var ft=A[Oe][et].getMediaInfo(),pt=Ft(ft),Ot=bt(ft,nt,Oe);return pt[Ot]&&Ot<pt.length-1&&pt[Ot].bitrate<1e3*nt&&Ot++,Ot}return}catch{return}}(Be,Te)}catch{return}}function Fe(Be){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Te||(Te=D.getActiveStreamInfo().id),Be&&A[Te]&&A[Te][Be]&&Te?(N[Te]=N[Te]||{},N[Te].hasOwnProperty(Be)||(N[Te][Be]=0),N[Te][Be]):0}catch{return 0}}function Ie(Be,Te,et){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Te&&Te.id&&Be){var nt=Te.id,ft=Fe(Be,nt);(0,ue.SE)(et);var pt=ze(Be,nt);et!==ft&&et>=0&&et<=pt&&Ct(Be,ft,et,pt,Oe,nt)}}function Ct(Be,Te,et,Oe,nt,ft){if(Be&&A[ft]&&A[ft][Be]){var pt=A[ft][Be].getStreamInfo(),Ot=pt&&pt.manifestInfo&&pt.manifestInfo.isDynamic,Gt=Z.getCurrentBufferLevel(Be);m.info("Stream ID: "+ft+" ["+Be+"] switch from "+Te+" to "+et+"/"+Oe+" (buffer: "+Gt+") "+(nt?JSON.stringify(nt):".")),N[ft]=N[ft]||{},N[ft][Be]=et;var An=mt(ft,Be,et);ve.trigger(g.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:Te,newQuality:et,reason:nt,streamInfo:pt,bitrateInfo:An,maxIdx:Oe,mediaType:Be},{streamId:pt.id,mediaType:Be});var Sn=be.getAverageThroughput(Be,Ot);isNaN(Sn)||Ae.setSavedBitrateSettings(Be,Sn)}}function mt(Be,Te,et){if(Te&&A&&A[Be]&&A[Be][Te]){var Oe=Ft(A[Be][Te].getMediaInfo());return Oe[et]?Oe[et]:null}return null}function bt(Be,Te,et){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,nt=Be&&Be.type?A[et][Be.type].getRepresentationInfo():null;if(j.get().streaming.abr.useDeadTimeLatency&&Oe&&nt&&nt.fragmentDuration){var ft=nt.fragmentDuration;if((Oe/=1e3)>ft)return 0;Te*=1-Oe/ft}for(var Ot=Ft(Be),Gt=Ot.length-1;Gt>=0;Gt--)if(1e3*Te>=Ot[Gt].bitrate)return Gt;return 0}function Ft(Be){var Te=[];if(!Be||!Be.bitrateList)return Te;for(var et,Oe=Be.bitrateList,nt=Be.type,ft=0,pt=Oe.length;ft<pt;ft++)(et=new jc).mediaType=nt,et.qualityIndex=ft,et.bitrate=Oe[ft].bandwidth,et.width=Oe[ft].width,et.height=Oe[ft].height,et.scanType=Oe[ft].scanType,Te.push(et);return Te}function sn(){if(X){var Be=j.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;te=X.getClientWidth()*Be,V=X.getClientHeight()*Be}}return v={initialize:function(){fe=ol(ae).create(),be=Xl(ae).create({settings:j}),(b=(0,il.Z)(ae).create({dashMetrics:Z,customParametersModel:me,mediaPlayerModel:De,settings:j})).initialize(),ve.on(p.Z.QUALITY_CHANGE_RENDERED,Me,v),ve.on(p.Z.METRIC_ADDED,Ve,v),ve.on(g.Z.LOADING_PROGRESS,Q,v)},isPlayingAtTopQuality:function(Be){var Te=Be?Be.id:null,et=Fe(f.Z.AUDIO,Te),Oe=Fe(f.Z.VIDEO,Te);return et===ze(f.Z.AUDIO,Te)&&Oe===ze(f.Z.VIDEO,Te)},updateTopQualityIndex:function(Be){var Te=Be.type,et=Be.streamInfo.id,Oe=Be.representationCount-1;return L[et]=L[et]||{},L[et][Te]=Oe,Oe},clearDataForStream:function(Be){fe&&fe.clearForStream(Be),A[Be]&&delete A[Be],ge[Be]&&delete ge[Be],U[Be]&&delete U[Be]},getThroughputHistory:function(){return be},getBitrateList:Ft,getQualityForBitrate:bt,getTopBitrateInfoFor:function(Be){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Te||(Te=D.getActiveStreamInfo().id),Be&&A&&A[Te]&&A[Te][Be]){var et=ze(Be,Te),Oe=Ft(A[Te][Be].getMediaInfo());return Oe[et]?Oe[et]:null}return null},getMinAllowedIndexFor:Je,getMaxAllowedIndexFor:ze,getInitialBitrateFor:function(Be,Te){if(function(){if(!Ae||!Ae.hasOwnProperty("getSavedBitrateSettings"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}(),Be===f.Z.TEXT)return NaN;var et=Ae.getSavedBitrateSettings(Be),Oe=De.getAbrBitrateParameter("initialBitrate",Be),nt=j.get().streaming.abr.initialRepresentationRatio[Be];if(-1===Oe)if(nt>-1){var ft=A[Te][Be].getStreamInfo(),pt=re.getAdaptationForType(ft.index,Be,ft).Representation_asArray;Oe=Array.isArray(pt)?pt[Math.max(Math.round(pt.length*nt)-1,0)].bandwidth/1e3:0}else Oe=isNaN(et)?Be===f.Z.VIDEO?1e3:100:et;return Oe},getQualityFor:Fe,getAbandonmentStateFor:function(Be,Te){return U[Be]&&U[Be][Te]?U[Be][Te].state:null},setPlaybackQuality:Ie,checkPlaybackQuality:function(Be,Te){try{if(!(Be&&A&&A[Te]&&A[Te][Be]))return!1;if(fe){var et=X.getPlaybackQuality();et&&fe.push(Te,Y,et)}if(!j.get().streaming.abr.autoSwitchBitrate[Be])return!1;var Oe=Fe(Be,Te),nt=Ls(ae).create({abrController:v,switchHistory:ge[Te][Be],droppedFramesHistory:fe,streamProcessor:A[Te][Be],currentValue:Oe,useBufferOccupancyABR:I[Be],useL2AABR:$[Be],useLoLPABR:G[Be],videoModel:X}),ft=Je(Be,Te),pt=ze(Be,Te),Ot=b.getMaxQuality(nt),Gt=Ot.quality;return void 0!==ft&&(Gt>Fs.Z.NO_CHANGE?Gt:Oe)<ft&&(Gt=ft),Gt>pt&&(Gt=pt),ge[Te][Be].push({oldValue:Oe,newValue:Gt}),Gt>Fs.Z.NO_CHANGE&&Gt!==Oe&&(U[Te][Be].state===O.Z.ALLOW_LOAD||Gt<Oe)&&(Ct(Be,Oe,Gt,pt,Ot.reason,Te),!0)}catch{return!1}},setElementSize:sn,setWindowResizeEventCalled:function(Be){ie=Be},registerStreamType:function(Be,Te){var Oe,nt,et=Te.getStreamInfo().id;A[et]||(A[et]={}),ge[et]||(ge[et]={}),U[et]||(U[et]={}),ge[et][Be]=Kl(ae).create(),A[et][Be]=Te,U[et][Be]={},U[et][Be].state=O.Z.ALLOW_LOAD,Oe=Be,(nt=j.get().streaming.abr.ABRStrategy)===f.Z.ABR_STRATEGY_L2A?(I[Oe]=!1,G[Oe]=!1,$[Oe]=!0):nt===f.Z.ABR_STRATEGY_LoLP?(I[Oe]=!1,G[Oe]=!0,$[Oe]=!1):nt===f.Z.ABR_STRATEGY_BOLA?(I[Oe]=!0,G[Oe]=!1,$[Oe]=!1):nt===f.Z.ABR_STRATEGY_THROUGHPUT?(I[Oe]=!1,G[Oe]=!1,$[Oe]=!1):nt===f.Z.ABR_STRATEGY_DYNAMIC&&(I[Oe]=!(!I||!I[Oe])&&I[Oe],G[Oe]=!1,$[Oe]=!1),Be===f.Z.VIDEO&&sn()},unRegisterStreamType:function(Be,Te){try{A[Be]&&A[Be][Te]&&delete A[Be][Te],ge[Be]&&ge[Be][Te]&&delete ge[Be][Te],U[Be]&&U[Be][Te]&&delete U[Be][Te]}catch{}},setConfig:function(Be){Be&&(Be.streamController&&(D=Be.streamController),Be.domStorage&&(Ae=Be.domStorage),Be.mediaPlayerModel&&(De=Be.mediaPlayerModel),Be.customParametersModel&&(me=Be.customParametersModel),Be.cmsdModel&&(Se=Be.cmsdModel),Be.dashMetrics&&(Z=Be.dashMetrics),Be.adapter&&(re=Be.adapter),Be.videoModel&&(X=Be.videoModel),Be.settings&&(j=Be.settings))},reset:function(){z(),ve.off(g.Z.LOADING_PROGRESS,Q,v),ve.off(p.Z.QUALITY_CHANGE_RENDERED,Me,v),ve.off(p.Z.METRIC_ADDED,Ve,v),b&&b.reset()}},m=le.getLogger(v),z(),v}oa.__dashjs_factory_name="AbrController";var Go=C.Z.getSingletonFactory(oa);Go.QUALITY_DEFAULT=0,C.Z.updateSingletonFactory(oa.__dashjs_factory_name,Go);const Ql=Go;var jh=new Map([[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Bs(){var v,m,b,D,L,N,A=this.context,U=(0,S.Z)(A).getInstance(),ee=[];function ie(){b&&(b.playbackRate=1,b.removeEventListener("canplay",ie))}function te(){return ee.length>0}function V(){if(b&&te()&&0===b.playbackRate){var Y=document.createEvent("Event");Y.initEvent("waiting",!0,!1),b.dispatchEvent(Y)}}function re(Y,ge){b&&b.addEventListener(Y,ge)}function X(Y,ge){b&&b.removeEventListener(Y,ge)}function De(){return b?b.readyState:NaN}function me(){return b?b.buffered:null}function Se(Y,ge,fe,be,I){if(b)for(var $=0;$<b.textTracks.length;$++)if(b.textTracks[$].kind===Y&&(!ge||b.textTracks[$].label==ge)&&b.textTracks[$].language===fe&&b.textTracks[$].isTTML===be&&b.textTracks[$].isEmbedded===I)return b.textTracks[$];return null}function Ae(Y,ge){var fe,be;Y===f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||De()>=Y?ge():(fe=jh.get(Y),be=ge,re(fe,function I(){X(fe,I),be(fe)}))}return v={initialize:function(){U.on(g.Z.PLAYBACK_PLAYING,V,this)},setCurrentTime:function(Y,ge){b&&(D=Y,Ae(f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(b.currentTime!==D)try{D=ge?function(fe){var be=me(),I=fe,$=9999999999;if(be)for(var G=0;G<be.length;G++){var Z=be.start(G),j=be.end(G),ae=Math.abs(Z-fe),le=Math.abs(j-fe);if(fe>=Z&&fe<=j)return fe;ae<$&&($=ae,I=Z),le<$&&($=le,I=j)}return I}(D):D,b.currentTime=D,D=NaN}catch(fe){0===b.readyState&&fe.code===fe.INVALID_STATE_ERR&&setTimeout(function(){b.currentTime=D,D=NaN},400)}else D=NaN}))},play:function(){if(b){b.autoplay=!0;var Y=b.play();Y&&Y.catch&&typeof Promise<"u"&&Y.catch(function(ge){"NotAllowedError"===ge.name&&U.trigger(g.Z.PLAYBACK_NOT_ALLOWED),m.warn("Caught pending play exception - continuing (".concat(ge,")"))})}},isPaused:function(){return b?b.paused:null},pause:function(){b&&(b.pause(),b.autoplay=!1)},isStalled:te,isSeeking:function(){return b?b.seeking||!isNaN(D):null},getTime:function(){return b?isNaN(D)?b.currentTime:D:null},getPlaybackRate:function(){return b?b.playbackRate:null},setPlaybackRate:function(Y){b&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&b.readyState<=2&&Y>0?b.addEventListener("canplay",ie):b.playbackRate=Y)},getPlayedRanges:function(){return b?b.played:null},getEnded:function(){return b?b.ended:null},setStallState:function(Y,ge){var fe,I;fe=Y,ge?null!==(I=fe)&&b&&!b.seeking&&-1===ee.indexOf(I)&&ee.push(I):function(I){var $=ee.indexOf(I);null!==I&&-1!==$&&ee.splice($,1)}(fe)},getElement:function(){return b},setElement:function(Y){if(!(null==Y||Y&&/^(VIDEO|AUDIO)$/i.test(Y.nodeName)))throw"element is not video or audio DOM type!";(b=Y)&&(b.preload="auto")},setSource:function(Y){b&&(Y?b.src=Y:(b.removeAttribute("src"),b.load()))},getSource:function(){return b?b.src:null},getTTMLRenderingDiv:function(){return L},setTTMLRenderingDiv:function(Y){(L=Y).style.position="absolute",L.style.display="flex",L.style.overflow="hidden",L.style.pointerEvents="none",L.style.top=0,L.style.left=0},getVttRenderingDiv:function(){return N},setVttRenderingDiv:function(Y){N=Y},getPlaybackQuality:function(){if(!b)return null;var Y="webkitDroppedFrameCount"in b&&"webkitDecodedFrameCount"in b,ge=null;return"getVideoPlaybackQuality"in b?ge=b.getVideoPlaybackQuality():Y&&(ge={droppedVideoFrames:b.webkitDroppedFrameCount,totalVideoFrames:b.webkitDroppedFrameCount+b.webkitDecodedFrameCount,creationTime:new Date}),ge},addEventListener:re,removeEventListener:X,getReadyState:De,getBufferRange:me,getClientWidth:function(){return b?b.clientWidth:NaN},getClientHeight:function(){return b?b.clientHeight:NaN},getTextTracks:function(){return b?b.textTracks:[]},getTextTrack:Se,addTextTrack:function(Y,ge,fe,be,I){if(!b)return null;var $=Se(Y,ge,fe,be,I);return $||(($=b.addTextTrack(Y,ge,fe)).isEmbedded=I,$.isTTML=be),$},appendChild:function(Y){b&&(b.appendChild(Y),void 0!==Y.isTTML&&(b.textTracks[b.textTracks.length-1].isTTML=Y.isTTML,b.textTracks[b.textTracks.length-1].isEmbedded=Y.isEmbedded))},removeChild:function(Y){b&&b.removeChild(Y)},getVideoWidth:function(){return b?b.videoWidth:NaN},getVideoHeight:function(){return b?b.videoHeight:NaN},getVideoRelativeOffsetTop:function(){if(b){var Y=b.parentNode.host||b.parentNode;return Y?b.getBoundingClientRect().top-Y.getBoundingClientRect().top:NaN}return NaN},getVideoRelativeOffsetLeft:function(){if(b){var Y=b.parentNode.host||b.parentNode;return Y?b.getBoundingClientRect().left-Y.getBoundingClientRect().left:NaN}return NaN},waitForReadyState:Ae,reset:function(){U.off(g.Z.PLAYBACK_PLAYING,V,this)}},m=(0,M.Z)(A).getInstance().getLogger(v),D=NaN,v}Bs.__dashjs_factory_name="VideoModel";const Us=C.Z.getSingletonFactory(Bs);var nu=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Jl="dashjs_?_bitrate",Cr="dashjs_?_settings",ec="localStorage",ru="lastBitrate",Pd="lastMediaSettings";function os(v){var m,b,D,N=(v=v||{}).settings;function A(te){if(void 0!==D)return D;var V;D=!1;try{typeof window<"u"&&(V=window[te])}catch(re){return b.warn("DOMStorage access denied: "+re.message),D}if(!V||te!==ec&&"sessionStorage"!==te)return D;try{V.setItem("1","1"),V.removeItem("1"),D=!0}catch(re){b.warn("DOMStorage is supported, but cannot be used: "+re.message)}return D}function U(){return 6e5*Math.round((new Date).getTime()/6e5)}function ee(te,V){return A(te)&&N.get().streaming[V+"CachingInfo"].enabled}function ie(){if(!N)throw new Error(f.Z.MISSING_CONFIG_ERROR)}return m={getSavedBitrateSettings:function(te){if(ie(),!N.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var V=NaN;if(ee(ec,ru)){var re=Jl.replace(/\?/,te);try{var X=JSON.parse(localStorage.getItem(re))||{},De=(new Date).getTime()-parseInt(X.timestamp,10)>=N.get().streaming.lastBitrateCachingInfo.ttl||!1,me=parseFloat(X.bitrate);isNaN(me)||De?De&&localStorage.removeItem(re):(V=me,b.debug("Last saved bitrate for "+te+" was "+me))}catch{return null}}return V},setSavedBitrateSettings:function(te,V){if(ee(ec,ru)&&V){var re=Jl.replace(/\?/,te);try{localStorage.setItem(re,JSON.stringify({bitrate:V.toFixed(3),timestamp:U()}))}catch(X){b.error(X.message)}}},getSavedMediaSettings:function(te){if(ie(),!N.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var V=null;if(ee(ec,Pd)){var re=Cr.replace(/\?/,te);try{var X=JSON.parse(localStorage.getItem(re))||{},De=(new Date).getTime()-parseInt(X.timestamp,10)>=N.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;V=X.settings,De&&(localStorage.removeItem(re),V=null)}catch{return null}}return V},setSavedMediaSettings:function(te,V){if(ee(ec,Pd)){var re=Cr.replace(/\?/,te);try{localStorage.setItem(re,JSON.stringify({settings:V,timestamp:U()}))}catch(X){b.error(X.message)}}}},b=(0,M.Z)(this.context).getInstance().getLogger(m),A(ec)&&nu.forEach(function(te){var V=localStorage.getItem(te.oldKey);if(V){localStorage.removeItem(te.oldKey);try{localStorage.setItem(te.newKey,V)}catch(re){b.error(re.message)}}}),m}os.__dashjs_factory_name="DOMStorage";const iu=C.Z.getSingletonFactory(os);var sl=F(2032),al=F(2011);function Ui(){var v,m,b,D,L,N,A,U,ee,ie,te,V,re,X=this.context;function De(Y,ge,fe,be){var I=null,$=Y?re.resolve(Y.path):null,G=be||{init:!0,url:$?$.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ge};m.debug("Start searching for initialization.");var Z=Ae(G);U.load({request:Z,success:function(j){if(G.bytesLoaded=G.range.end,!(I=D.findInitRange(j)))return G.range.end=G.bytesLoaded+G.bytesToLoad,De(Y,ge,fe,G);Y.range=I,fe(Y)},error:function(){fe(Y)}}),m.debug("Perform init search: "+G.url)}function me(Y,ge,fe,be,I,$){if(fe&&(void 0===fe.start||void 0===fe.end)){var G=fe?fe.toString().split("-"):null;fe=G?{start:parseFloat(G[0]),end:parseFloat(G[1])}:null}I=I||Se;var Z=null,j=null,ae=!!fe,le=Y?re.resolve(Y.path):null,ve={init:!1,url:le?le.url:void 0,range:ae?fe:{start:0,end:1500},searching:!ae,bytesLoaded:$?$.bytesLoaded:0,bytesToLoad:1500,mediaType:ge},z=Ae(ve);U.load({request:z,success:function(Q){var Me=ve.bytesToLoad,Ve=Q.byteLength;if(ve.bytesLoaded=ve.range.end-ve.range.start,Z=D.parse(Q),(j=Z.getBox("sidx"))&&j.isComplete){var ze,Je,Fe=j.references;if(null!=Fe&&Fe.length>0&&(ze=1===Fe[0].reference_type),ze){var Ie,Ct,mt,bt;m.debug("Initiate multiple SIDX load."),ve.range.end=ve.range.start+j.size;var Ft=[],sn=0,Be=(j.offset||ve.range.start)+j.size,Te=function(Oe){Oe?(Ft=Ft.concat(Oe),++sn>=Ct&&(Ft.sort(function(nt,ft){return nt.startTime-ft.startTime<0?-1:0}),I(Ft,Y,be))):I(null,Y,be)};for(Ie=0,Ct=Fe.length;Ie<Ct;Ie++)mt=Be,bt=Be+Fe[Ie].referenced_size-1,Be+=Fe[Ie].referenced_size,me(Y,ge,{start:mt,end:bt},be,Te,ve)}else m.debug("Parsing segments from SIDX. representation "+ge+" - id: "+Y.id+" for range : "+ve.range.start+" - "+ve.range.end),Je=function(Oe,nt){for(var ft,Ot,Gt,An=Oe.references,Sn=An.length,un=Oe.timescale,Dn=Oe.earliest_presentation_time,Mn=nt.range.start+Oe.offset+Oe.first_offset+Oe.size,er=[],ar=0;ar<Sn;ar++)Ot=An[ar].subsegment_duration,Gt=An[ar].referenced_size,(ft=new al.Z).duration=Ot,ft.startTime=Dn,ft.timescale=un,ft.mediaRange=Mn+"-"+(Mn+Gt-1),er.push(ft),Dn+=Ot,Mn+=Gt;return er}(j,ve),I(Je,Y,be)}else{if(j)ve.range.start=j.offset||ve.range.start,ve.range.end=ve.range.start+(j.size||Me);else{if(Ve<ve.bytesLoaded)return void I(null,Y,be);var et=Z.getLastBox();et&&et.size?(ve.range.start=et.offset+et.size,ve.range.end=ve.range.start+Me):ve.range.end+=Me}me(Y,ge,ve.range,be,null,ve)}},error:function(){I(null,Y,be)}}),m.debug("Perform SIDX load for type ".concat(ge," : ").concat(ve.url," with range ").concat(ve.range.start," - ").concat(ve.range.end))}function Se(Y,ge,fe){fe({segments:Y,representation:ge,error:Y?void 0:new K.Z(ee.SEGMENT_BASE_LOADER_ERROR_CODE,ee.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Ae(Y){if(Y.url){var ge=new q.Z;return ge.setInfo(Y),ge}}return v={setConfig:function(Y){Y.baseURLController&&(re=Y.baseURLController),Y.dashMetrics&&(N=Y.dashMetrics),Y.mediaPlayerModel&&(A=Y.mediaPlayerModel),Y.errHandler&&(b=Y.errHandler),Y.boxParser&&(D=Y.boxParser),Y.debug&&(m=Y.debug.getLogger(v)),Y.requestModifier&&(L=Y.requestModifier),Y.errors&&(ee=Y.errors),Y.urlUtils&&(V=Y.urlUtils),Y.constants&&(ie=Y.constants),Y.dashConstants&&(te=Y.dashConstants)},initialize:function(){U=Rr(X).create({errHandler:b,dashMetrics:N,mediaPlayerModel:A,requestModifier:L,boxParser:D,errors:ee,urlUtils:V,constants:ie,dashConstants:te})},loadInitialization:function(Y,ge){return new Promise(function(fe){De(Y,ge,fe)})},loadSegments:function(Y,ge,fe){return new Promise(function(be){me(Y,ge,fe,be)})},reset:function(){U&&(U.abort(),U=null)}}}Ui.__dashjs_factory_name="SegmentBaseLoader";const x0=C.Z.getSingletonFactory(Ui);function po(v){var m;v=v||{};var b=new DataView(v.data),D=0;function L(A,U){var ee=!0,ie=0;if(void 0===U&&(U=!1),A.tag>16777215?(b.getUint32(D)!==A.tag&&(ee=!1),ie=4):A.tag>65535?(256*b.getUint16(D)+b.getUint8(D+2)!==A.tag&&(ee=!1),ie=3):A.tag>255?(b.getUint16(D)!==A.tag&&(ee=!1),ie=2):(b.getUint8(D)!==A.tag&&(ee=!1),ie=1),!ee&&A.required&&!U)throw new Error("required tag not found");return ee&&(D+=ie),ee}function N(A){var U=1,ee=128,ie=-1,te=0,V=b.getUint8(D),re=0;for(re=0;re<8;re+=1){if((V&ee)===ee){te=void 0===A?V&~ee:V,ie=re;break}ee>>=1}for(re=0;re<ie;re+=1,U+=1)te=te<<8|255&b.getUint8(D+U);return D+=U,te}return m={getPos:function(){return D},setPos:function(A){D=A},consumeTag:L,consumeTagAndSize:function(A,U){var ee=L(A,U);return ee&&N(),ee},parseTag:function(A){var U;return L(A),U=N(),m[A.parse](U)},skipOverElement:function(A,U){var ee,ie=L(A,U);return ie&&(ee=N(),D+=ee),ie},getMatroskaCodedNum:N,getMatroskaFloat:function(A){var U;switch(A){case 4:U=b.getFloat32(D),D+=4;break;case 8:U=b.getFloat64(D),D+=8}return U},getMatroskaUint:function(A){if(A>4)return function(ie){for(var te=Math.floor(Number.MAX_SAFE_INTEGER/256),V=0,re=0;re<ie;re+=1){if(V>te)throw new Error("Value exceeds safe integer limit");V*=256;var X=b.getUint8(D+re);if(V>Number.MAX_SAFE_INTEGER-X)throw new Error("Value exceeds safe integer limit");V+=X}return D+=ie,V}(A);for(var U=0,ee=0;ee<A;ee+=1)U<<=8,U|=255&b.getUint8(D+ee);return D+=A,U>>>0},moreData:function(){return D<b.byteLength}}}po.__dashjs_factory_name="EBMLParser";const mo=C.Z.getClassFactory(po);function ou(){var v,m,b,D,L,N,A,U,ee,ie,te=this.context;function V(re){var X=new q.Z;return X.setInfo(re),X}return v={setConfig:function(re){if(!(re.baseURLController&&re.dashMetrics&&re.mediaPlayerModel&&re.errHandler))throw new Error(f.Z.MISSING_CONFIG_ERROR);ie=re.baseURLController,N=re.dashMetrics,A=re.mediaPlayerModel,D=re.errHandler,ee=re.errors,m=re.debug.getLogger(v),L=re.requestModifier},initialize:function(){U=Rr(te).create({errHandler:D,dashMetrics:N,mediaPlayerModel:A,requestModifier:L,errors:ee})},loadInitialization:function(re,X){return new Promise(function(De){var me=null,Se=re?ie.resolve(re.path):null,Ae=re?re.range.split("-"):null,Y={range:{start:Ae?parseFloat(Ae[0]):null,end:Ae?parseFloat(Ae[1]):null},request:me,url:Se?Se.url:void 0,init:!0,mediaType:X};m.info("Start loading initialization."),me=V(Y),U.load({request:me,success:function(){De(re)},error:function(){De(re)}}),m.debug("Perform init load: "+Y.url)})},loadSegments:function(re,X,De){return new Promise(function(me){var Se=null,Ae=re?ie.resolve(re.path):null,Y=Ae?Ae.url:void 0;Se=V({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Se,url:Y,init:!1,mediaType:X}),m.debug("Parsing ebml header"),U.load({request:Se,success:function(ge){!function(fe,be,I,$){if(fe&&0!==fe.byteLength){var G,Z,j,ae,le=mo(te).create({data:fe}),ve=I?I.split("-"):null,z=null,Q={url:be,range:{start:ve?parseFloat(ve[0]):null,end:ve?parseFloat(ve[1]):null},request:z};for(m.debug("Parse EBML header: "+Q.url),le.skipOverElement(b.EBML),le.consumeTag(b.Segment),j=le.getMatroskaCodedNum(),j+=le.getPos(),ae=le.getPos();le.moreData()&&!le.consumeTagAndSize(b.Segment.Info,!0);)if(!(le.skipOverElement(b.Segment.SeekHead,!0)||le.skipOverElement(b.Segment.Tracks,!0)||le.skipOverElement(b.Segment.Cues,!0)||le.skipOverElement(b.Void,!0)))throw new Error("no valid top level element found");for(;void 0===G;){var Me=le.getMatroskaCodedNum(!0),Ve=le.getMatroskaCodedNum();Me===b.Segment.Info.Duration.tag?G=le[b.Segment.Info.Duration.parse](Ve):le.setPos(le.getPos()+Ve)}z=V(Q),U.load({request:z,success:function(ze){Z=function(Je,Fe,Ie,Ct){var bt,Ft,sn,Be,Te;for(Ft=[],Be=0,Te=(bt=function(nt){var ft,pt,Ot=[],Gt=mo(te).create({data:nt});for(Gt.consumeTagAndSize(b.Segment.Cues);Gt.moreData()&&Gt.consumeTagAndSize(b.Segment.Cues.CuePoint,!0);){for((ft={}).CueTime=Gt.parseTag(b.Segment.Cues.CuePoint.CueTime),ft.CueTracks=[];Gt.moreData()&&Gt.consumeTag(b.Segment.Cues.CuePoint.CueTrackPositions,!0);){var An=Gt.getMatroskaCodedNum(),Sn=Gt.getPos();if((pt={}).Track=Gt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===pt.Track)throw new Error("Cue track cannot be 0");pt.ClusterPosition=Gt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ft.CueTracks.push(pt),Gt.setPos(Sn+An)}if(0===ft.CueTracks.length)throw new Error("Mandatory cuetrack not found");Ot.push(ft)}if(0===Ot.length)throw new Error("mandatory cuepoint not found");return Ot}(Je)).length;Be<Te;Be+=1)(sn=new al.Z).duration=Be<bt.length-1?bt[Be+1].CueTime-bt[Be].CueTime:Ct-bt[Be].CueTime,sn.startTime=bt[Be].CueTime,sn.timescale=1e3,sn.mediaRange=bt[Be].CueTracks[0].ClusterPosition+Fe+"-"+(Be<bt.length-1?bt[Be+1].CueTracks[0].ClusterPosition+Fe-1:Ie-1),Ft.push(sn);return m.debug("Parsed cues: "+Ft.length+" cues."),Ft}(ze,ae,j,G),$(Z)},error:function(){m.error("Download Error: Cues "+Q.url),$(null)}}),m.debug("Perform cues load: "+Q.url+" bytes="+Q.range.start+"-"+Q.range.end)}else $(null)}(ge,Y,De,function(fe){me({segments:fe,representation:re,error:fe?void 0:new K.Z(ee.SEGMENT_BASE_LOADER_ERROR_CODE,ee.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){me({representation:re,error:new K.Z(ee.SEGMENT_BASE_LOADER_ERROR_CODE,ee.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){U&&(U.abort(),U=null)}},b={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},v}ou.__dashjs_factory_name="WebmSegmentBaseLoader";const Ra=C.Z.getSingletonFactory(ou);function tc(v){var m,b,D,L=this.context,N=(v=v||{}).eventBus,A=v.events,U=v.dashMetrics,ee=v.mediaPlayerModel,ie=v.errHandler,te=v.baseURLController,V=v.debug,re=v.boxParser,X=v.requestModifier,De=v.errors;function me(Se){return"webm"===(Se?Se.split("/")[1]:"").toLowerCase()}return m={initialize:function(){b.initialize(),D.initialize()},getSegmentBaseInitSegment:function(Se){return me(Se.representation.mimeType)?D.loadInitialization(Se.representation,Se.mediaType):b.loadInitialization(Se.representation,Se.mediaType)},getSegmentList:function(Se){return me(Se.mimeType)?D.loadSegments(Se.representation,Se.mediaType,Se.representation?Se.representation.indexRange:null):b.loadSegments(Se.representation,Se.mediaType,Se.representation?Se.representation.indexRange:null)},reset:function(){b.reset(),D.reset()}},b=x0(L).getInstance(),D=Ra(L).getInstance(),b.setConfig({baseURLController:te,dashMetrics:U,mediaPlayerModel:ee,errHandler:ie,eventBus:N,events:A,errors:De,debug:V,boxParser:re,requestModifier:X}),D.setConfig({baseURLController:te,dashMetrics:U,mediaPlayerModel:ee,errHandler:ie,eventBus:N,events:A,errors:De,debug:V,requestModifier:X}),m}tc.__dashjs_factory_name="SegmentBaseController";const ss=C.Z.getSingletonFactory(tc),su=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},kd=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},Hh=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},R0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null},v_=function(){function v(D){var L=this;(function(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")})(this,v),this.valid="/"==D[0],this.path=D.split("/").filter(function(N){return 0!==N.length}).map(function(N){var A={name:N},U=N.indexOf("[");if(-1!=U){A.name=N.substring(0,U);var ee=N.substring(U+1,N.length-1);L.valid=L.valid&&-1==ee.indexOf("[");var ie=ee.indexOf("=");-1!=ie?(A.attribute={name:ee.substring(1,ie),value:ee.substring(ie+1)},-1!=["'",'"'].indexOf(A.attribute.value[0])&&(A.attribute.value=A.attribute.value.substring(1,A.attribute.value.length-1))):A.position=parseInt(ee,10)-1}return A})}var b;return(b=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(D,L){for(var N=null,A=D,U=1,ee="MPD";U<this.path.length&&null!==A;){N=A;var ie=this.path[U];if(ee=ie.name,U!==this.path.length-1||!ee.startsWith("@")){var te=N[ee+"_asArray"]||[];0===te.length&&N[ee]&&te.push(N[ee]),ie.position?A=te[ie.position]||null:ie.attribute?function(){var V=ie.attribute;A=te.filter(function(re){return re[V.name]==V.value})[0]||null}():A=te[0]||null}U++}return null===A?null:ee.startsWith("@")?{name:ee.substring(1),leaf:A,target:A}:{name:ee,leaf:A,target:L?N:A}}}])&&function __(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}(),N0=function(){function v(D,L,N){(function(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")})(this,v),this.action=D,this.xpath=L,this.value=N,this.position=null}var b;return(b=[{key:"getMpdTarget",value:function(D){return this.xpath.getMpdTarget(D,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}])&&function M0(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v.prototype,b),v}();function y_(){var v,m;return v={getIsPatch:function(D){return D&&D.hasOwnProperty(h.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(D){return D&&D.hasOwnProperty(h.Z.PUBLISH_TIME)?new Date(D[h.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(D){return D&&D.hasOwnProperty(h.Z.ORIGINAL_PUBLISH_TIME)?new Date(D[h.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(D){return D&&D[h.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(D){return D?(D.__children||[]).map(function(L){var N=Object.keys(L)[0];if("add"!==N&&"remove"!==N&&"replace"!==N)return m.warn("Ignoring node of invalid action: ".concat(N)),null;var A=L[N],U=A.sel;if("add"===N&&A.type){if(!A.type.startsWith("@"))return m.warn("Ignoring add action for prefixed namespace declaration: ".concat(A.type,"=").concat(A.__text)),null;U="".concat(U,"/").concat(A.type)}var ee=new v_(U);if(!ee.isValid())return m.warn("Ignoring action with invalid selector: ".concat(N," - ").concat(U)),null;var ie=null;ee.findsAttribute()?ie=A.__text||"":"remove"!==N&&(ie=A.__children.reduce(function(V,re){var X=Object.keys(re)[0];return"#text"!==X&&(V[X]=V[X]||[],V[X].push(re[X])),V},{}));var te=new N0(N,ee,ie);return"add"===N&&(te.position=A.pos),te}).filter(function(L){return!!L}):[]}},m=(0,M.Z)(this.context).getInstance().getLogger(v),v}y_.__dashjs_factory_name="PatchManifestModel";const O0=C.Z.getSingletonFactory(y_);function b_(){var v,m,b,D,L,N,A,U=this.context;function ee(G,Z,j){var le=m.getAdaptationsForType(D[0].mpd.manifest,G,Z);if(!le||0===le.length)return null;if(le.length>1&&j){var ve=V(j,Z);if(L[j.id]&&L[j.id][Z])for(var z=0,Q=le.length;z<Q;z++)if(ie(L[j.id][Z],ve[z]))return le[z];for(var Me=0,Ve=le.length;Me<Ve;Me++)if(m.getRolesForAdaptation(le[Me]).filter(function(ze){return ze.value===h.Z.MAIN})[0])return le[Me]}return le[0]}function ie(G,Z){if(!G||!Z)return!1;var j=G.id===Z.id,ae=G.codec===Z.codec,le=G.viewpoint===Z.viewpoint,ve=JSON.stringify(G.viewpointsWithSchemeIdUri)===JSON.stringify(Z.viewpointsWithSchemeIdUri),z=G.lang===Z.lang,Q=G.roles.toString()===Z.roles.toString(),Me=JSON.stringify(G.rolesWithSchemeIdUri)===JSON.stringify(Z.rolesWithSchemeIdUri),Ve=G.accessibility.toString()===Z.accessibility.toString(),ze=JSON.stringify(G.accessibilitiesWithSchemeIdUri)===JSON.stringify(Z.accessibilitiesWithSchemeIdUri),Je=G.audioChannelConfiguration.toString()===Z.audioChannelConfiguration.toString(),Fe=JSON.stringify(G.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(Z.audioChannelConfigurationsWithSchemeIdUri);return j&&ae&&le&&ve&&z&&Q&&Me&&Ve&&ze&&Je&&Fe}function te(G,Z,j,ae,le,ve){var Q,Me,Ve,ze,Je,Fe=[];if(!ae||0===ae.length)return[];var Ie=m.getAdaptationsForPeriod(Z);for(Ve=0,Je=ae.length;Ve<Je;Ve++)if(Q=Y(Ie[Me=m.getIndexForAdaptation(ae[Ve],G,j.index)]),ve){var Ct=Q.accessibility.length;for(ze=0;ze<Ct;ze++)if(Q){var mt=Q.accessibility[ze];if(0===mt.indexOf("cea-608:")){var bt=mt.substring(8).split(";");if("CC"===bt[0].substring(0,2))for(ze=0;ze<bt.length;ze++)Q||(Q=Y.call(this,Ie[Me])),ge(Q,bt[ze].substring(0,3),bt[ze].substring(4)),Fe.push(Q),Q=null;else for(ze=0;ze<bt.length;ze++)Q||(Q=Y.call(this,Ie[Me])),ge(Q,"CC"+(ze+1),bt[ze]),Fe.push(Q),Q=null}else 0===mt.indexOf("cea-608")&&(ge(Q,N.CC1,"eng"),Fe.push(Q),Q=null)}}else le===N.IMAGE?(Q.type=N.IMAGE,Fe.push(Q),Q=null):Q&&Fe.push(Q);return Fe}function V(G,Z,j){var ae=D,le=j,ve=[];if(le)be(),ae=re(le);else{if(!(D.length>0))return ve;le=D[0].mpd.manifest}var z=Ae(G,ae),Q=m.getAdaptationsForType(le,G?G.index:null,Z);return ve=te(le,z,G,Q,Z),Z===N.TEXT&&(Q=m.getAdaptationsForType(le,G?G.index:null,N.VIDEO),ve=ve.concat(te(le,z,G,Q,Z,!0))),ve}function re(G){var Z=X(G);return m.getRegularPeriods(Z)}function X(G){var Z=me(G);return m.getMpd(Z)}function De(){D=[],L={}}function me(G){return G||(D.length>0?D[0].mpd.manifest:null)}function Se(G){try{var Z=Ae(G.streamInfo,D),j=m.getAdaptationsForPeriod(Z);return G&&G.streamInfo&&void 0!==G.streamInfo.id&&j?j[G.index]:null}catch{return null}}function Ae(G,Z){for(var j=Z.length,ae=0;ae<j;ae++){var le=Z[ae];if(G&&G.id===le.id)return le}return null}function Y(G){if(!G)return null;var Z,j,ae,le,ve,z=new kd,Q=G.period.mpd.manifest.Period_asArray[G.period.index].AdaptationSet_asArray[G.index];if(z.id=G.id,z.index=G.index,z.type=G.type,z.streamInfo=fe(G.period),z.representationCount=m.getRepresentationCount(Q),z.labels=m.getLabelsForAdaptation(Q),z.lang=m.getLanguageForAdaptation(Q),z.segmentAlignment=m.getSegmentAlignment(Q),z.subSegmentAlignment=m.getSubSegmentAlignment(Q),Z=m.getViewpointForAdaptation(Q),z.viewpoint=Z.length?Z[0].value:void 0,z.viewpointsWithSchemeIdUri=Z,ve=m.getAccessibilityForAdaptation(Q),z.accessibility=ve.map(function(Fe){var Ie=Fe.value,Ct=Ie;return Fe.schemeIdUri&&Fe.schemeIdUri.search("cea-608")>=0&&void 0!==A&&(Ct=Ie?"cea-608:"+Ie:"cea-608",z.embeddedCaptions=!0),Ct}),z.accessibilitiesWithSchemeIdUri=ve,j=m.getAudioChannelConfigurationForAdaptation(Q),z.audioChannelConfiguration=j.map(function(Fe){return Fe.value}),z.audioChannelConfigurationsWithSchemeIdUri=j,0===z.audioChannelConfiguration.length&&Array.isArray(Q.Representation_asArray)&&Q.Representation_asArray.length>0&&(ae=m.getAudioChannelConfigurationForRepresentation(Q.Representation_asArray[0]),z.audioChannelConfiguration=ae.map(function(Fe){return Fe.value}),z.audioChannelConfigurationsWithSchemeIdUri=ae),le=m.getRolesForAdaptation(Q),z.roles=le.map(function(Fe){return Fe.value}),z.rolesWithSchemeIdUri=le,z.codec=m.getCodec(Q),z.mimeType=m.getMimeType(Q),z.contentProtection=m.getContentProtectionData(Q),z.bitrateList=m.getBitrateListForAdaptation(Q),z.selectionPriority=m.getSelectionPriority(Q),z.contentProtection){var Me=z.contentProtection.map(function(Fe){return m.getKID(Fe)}).filter(function(Fe){return null!==Fe});if(Me.length){var Ve=Me[0];z.contentProtection.forEach(function(Fe){Fe.keyId=Ve})}}if(z.isText=m.getIsText(Q),z.supplementalProperties=m.getSupplementalPropertiesForAdaptation(Q),(!z.supplementalProperties||0===Object.keys(z.supplementalProperties).length)&&Array.isArray(Q.Representation_asArray)&&Q.Representation_asArray.length>0){var ze=Q.Representation_asArray.map(function(Fe){return m.getSupplementalPropertiesForRepresentation(Fe)});ze.every(function(Fe){return JSON.stringify(Fe)===JSON.stringify(ze[0])})&&(z.supplementalProperties=ze[0])}if(z.supplementalPropertiesAsArray=m.getSupplementalPropertiesAsArrayForAdaptation(Q),(!z.supplementalPropertiesAsArray||0===z.supplementalPropertiesAsArray.length)&&Array.isArray(Q.Representation_asArray)&&Q.Representation_asArray.length>0){var Je=Q.Representation_asArray.map(function(Fe){return m.getSupplementalPropertiesAsArrayForRepresentation(Fe)});Je.every(function(Fe){return JSON.stringify(Fe)===JSON.stringify(Je[0])})&&(z.supplementalPropertiesAsArray=Je[0])}return z.isFragmented=m.getIsFragmented(Q),z.isEmbedded=!1,z}function ge(G,Z,j){G.id=Z,G.index=100+parseInt(Z.substring(2,3)),G.type=N.TEXT,G.codec="cea-608-in-SEI",G.isEmbedded=!0,G.isFragmented=!1,G.lang=Fl()(j),G.roles=["caption"],G.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function fe(G){var Z,j,ae=new Hh;return ae.id=G.id,ae.index=G.index,ae.start=G.start,ae.duration=G.duration,ae.manifestInfo=(Z=G.mpd,(j=new R0).dvrWindowSize=Z.timeShiftBufferDepth,j.loadedTime=Z.manifest.loadedTime,j.availableFrom=Z.availabilityStartTime,j.minBufferTime=Z.manifest.minBufferTime,j.maxFragmentDuration=Z.maxSegmentDuration,j.duration=m.getDuration(Z.manifest),j.isDynamic=m.getIsDynamic(Z.manifest),j.serviceDescriptions=m.getServiceDescriptions(Z.manifest),j.protocol=Z.manifest.protocol,j),ae.isLast=1===G.mpd.manifest.Period_asArray.length||Math.abs(ae.start+ae.duration-ae.manifestInfo.duration)<1,ae}function be(){if(!N)throw new Error("setConfig function has to be called previously")}function I(G){return D.length>0?D[0].mpd.manifest.Period_asArray[G]:null}function $(G,Z,j){var ae,le,ve,z,Q;if(G)for(ae=G.AdaptationSet_asArray,z=0;z<ae.length;z+=1)for(ve=ae[z].Representation_asArray,Q=0;Q<ve.length;Q+=1)if(Z===(le=ve[Q]).id)return j?Q:le;return null}return v={getBandwidthForRepresentation:function(G,Z){var j;return(j=$(I(Z),G))?j.bandwidth:null},getIndexForRepresentation:function(G,Z){return null!==(le=$(I(Z),G,!0))?le:-1;var le},getMaxIndexForBufferType:function(G,Z){return function(j,ae){var le,ve,z,Q;if(!j||!ae)return-1;for(ve=j.AdaptationSet_asArray,Q=0;Q<ve.length;Q+=1)if(z=(le=ve[Q]).Representation_asArray,m.getIsTypeOf(le,ae))return z.length;return-1}(I(Z),G)},convertRepresentationToRepresentationInfo:function(G){if(G){var Z=new su,ae=m.getRepresentationFor(G.index,G.adaptation.period.mpd.manifest.Period_asArray[G.adaptation.period.index].AdaptationSet_asArray[G.adaptation.index]);return Z.id=G.id,Z.quality=G.index,Z.bandwidth=m.getBandwidth(ae),Z.fragmentDuration=G.segmentDuration||(G.segments&&G.segments.length>0?G.segments[0].duration:NaN),Z.MSETimeOffset=G.MSETimeOffset,Z.mediaInfo=Y(G.adaptation),Z}return null},getStreamsInfo:function(G,Z){var j=[],ae=D;if(G&&(be(),ae=re(G)),ae.length>0){(!Z||Z>ae.length)&&(Z=ae.length);for(var le=0;le<Z;le++)j.push(fe(ae[le]))}return j},getMediaInfoForType:function(G,Z){if(0===D.length||!G)return null;var j=Ae(G,D);if(!j)return null;var ae=m.getAdaptationsForPeriod(j),le=ee(G.index,Z,G);return le?Y(ae[m.getIndexForAdaptation(le,D[0].mpd.manifest,G.index)]):null},getAllMediaInfoForType:V,getAdaptationForType:ee,getRealAdaptation:function(G,Z){var j,ae,le=Ae(G,D);return j=Z?Z.id:null,D.length>0&&le&&(ae=j?m.getAdaptationForId(j,D[0].mpd.manifest,le.index):m.getAdaptationForIndex(Z?Z.index:null,D[0].mpd.manifest,le.index)),ae},getProducerReferenceTimes:function(G,Z){var j,ae,le=Ae(G,D);return j=Z?Z.id:null,D.length>0&&le&&(ae=j?m.getAdaptationForId(j,D[0].mpd.manifest,le.index):m.getAdaptationForIndex(Z?Z.index:null,D[0].mpd.manifest,le.index)),ae?m.getProducerReferenceTimesForAdaptation(ae):[]},getRealPeriodByIndex:function(G){return m.getRealPeriodForIndex(G,D[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(G){try{return m.getEssentialPropertiesForRepresentation(G)}catch{return[]}},getVoRepresentations:function(G){var Z=Se(G);return m.getRepresentationsForAdaptation(Z)},getEventsFor:function(G,Z,j){var ae=[];if(D.length>0){var le=D[0].mpd.manifest;if(G instanceof Hh){var ve=Ae(G,D);ae=m.getEventsForPeriod(ve)}else if(G instanceof kd){var z=Ae(j,D);ae=m.getEventStreamForAdaptationSet(le,Se(G),z)}else if(G instanceof su){var Q=Ae(j,D);ae=m.getEventStreamForRepresentation(le,Z,Q)}}return ae},getEvent:function(G,Z,j,ae){try{if(!G||!Z||isNaN(j)||!ae)return null;var le=G.scheme_id_uri,ve=G.value;if(!Z[le+"/"+ve])return null;var z,Q=new Yi,Me=G.timescale||1,Ve=ae.adaptation.period.start,ze=Z[le+"/"+ve],Je=isNaN(ae.presentationTimeOffset)?isNaN(ze.presentationTimeOffset)?0:ze.presentationTimeOffset:ae.presentationTimeOffset,Fe=G.presentation_time_delta/Me;z=0===G.version?Ve+j-Je+Fe:Ve-Je+Fe;var Ie=G.event_duration/Me,Ct=G.id,mt=G.message_data;return Q.eventStream=ze,Q.eventStream.value=ve,Q.eventStream.timescale=Me,Q.duration=Ie,Q.id=Ct,Q.calculatedPresentationTime=z,Q.messageData=mt,Q.presentationTimeDelta=Fe,Q}catch{return null}},getMpd:X,setConfig:function(G){G&&(G.constants&&(N=G.constants),G.cea608parser&&(A=G.cea608parser),G.errHandler&&m.setConfig({errHandler:G.errHandler}),G.BASE64&&m.setConfig({BASE64:G.BASE64}))},updatePeriods:function(G){if(!G)return null;be(),D=re(G)},getIsTextTrack:function(G){return m.getIsText(G)},getUTCTimingSources:function(){var G=me();return m.getUTCTimingSources(G)},getSuggestedPresentationDelay:function(){return m.getSuggestedPresentationDelay(D.length>0?D[0].mpd:null)},getAvailabilityStartTime:function(G){var Z=X(G);return m.getAvailabilityStartTime(Z)},getIsTypeOf:function(G,Z){return m.getIsTypeOf(G,Z)},getIsDynamic:function(G){var Z=me(G);return m.getIsDynamic(Z)},getDuration:function(G){var Z=me(G);return m.getDuration(Z)},getRegularPeriods:re,getContentSteering:function(G){return m.getContentSteering(G)},getLocation:function(G){return m.getLocation(G)},getPatchLocation:function(G){var Z=m.getPatchLocation(G),j=m.getPublishTime(G);return Z&&0!==Z.length&&j?Z.filter(function(ae){return isNaN(ae.ttl)||j.getTime()+ae.ttl>(new Date).getTime()}):[]},getManifestUpdatePeriod:function(G){return m.getManifestUpdatePeriod(G,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function(G){return m.getPublishTime(G)},getIsDVB:function(G){return m.hasProfile(G,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(G){return b.getIsPatch(G)},getBaseURLsFromElement:function(G){return m.getBaseURLsFromElement(G)},getRepresentationSortFunction:function(){return m.getRepresentationSortFunction()},getCodec:function(G,Z,j){return m.getCodec(G,Z,j)},getPeriodById:function(G){if(!G||0===D.length)return null;var Z=D.filter(function(j){return j.id===G});return Z&&Z.length>0?Z[0]:null},setCurrentMediaInfo:function(G,Z,j){L[G]=L[G]||{},L[G][Z]=L[G][Z]||{},L[G][Z]=j},isPatchValid:function(G,Z){var j=m.getId(G),ae=b.getMpdId(Z),le=m.getPublishTime(G),ve=b.getPublishTime(Z),z=b.getOriginalPublishTime(Z);return!!(j&&ae&&j==ae&&le&&z&&le.getTime()==z.getTime()&&ve&&le.getTime()<ve.getTime())},applyPatchToManifest:function(G,Z){b.getPatchOperations(Z).forEach(function(j){var ae=j.getMpdTarget(G);if(null!==ae){var le=ae.name,ve=ae.target,z=ae.leaf;if(j.xpath.findsAttribute())switch(j.action){case"add":case"replace":ve[le]=j.value;break;case"remove":delete ve[le]}else{var Q=(ve[le+"_asArray"]||[]).indexOf(z),Me="prepend"===j.position||"before"===j.position;if(("remove"===j.action||"replace"===j.action)&&(delete ve[le],-1!=Q)){var Ve=ve[le+"_asArray"];Ve.splice(Q,1),Ve.length>1?ve[le]=Ve:1==Ve.length?ve[le]=Ve[0]:delete ve[le+"_asArray"]}"add"!==j.action&&"replace"!==j.action||Object.keys(j.value).forEach(function(ze){var Je=j.value[ze],Fe=ve[ze+"_asArray"]||[];0===Fe.length&&ve[ze]&&Fe.push(ve[ze]),0===Fe.length?Fe=Je:Fe.splice.apply(Fe,[ze==le&&-1!=Q?Q+(Me?0:1)+("replace"==j.action?-1:0):Me?0:Fe.length,0].concat(Je)),ve[ze+"_asArray"]=Fe,ve[ze]=1==Fe.length?Fe[0]:Fe})}}})},areMediaInfosEqual:ie,reset:De},m=Bn(U).getInstance(),b=O0(U).getInstance(),De(),v}b_.__dashjs_factory_name="DashAdapter";const P0=C.Z.getSingletonFactory(b_);var L0=function(){function v(){!function(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}(this,v)}var b;return(b=[{key:"round10",value:function(D,L){return N="round",A=D,void 0===(U=L)||0==+U?Math[N](A):(U=+U,null===(A=+A)||isNaN(A)||"number"!=typeof U||U%1!=0?NaN:(A=A.toString().split("e"),+((A=(A=Math[N](+(A[0]+"e"+(A[1]?+A[1]-U:-U)))).toString().split("e"))[0]+"e"+(A[1]?+A[1]+U:U))));var N,A,U}}])&&function k0(v,m){for(var b=0;b<m.length;b++){var D=m[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(v,D.key,D)}}(v,b),v}();const F0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},B0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.t=null,this.mt=null,this.to=null,this.lto=null},U0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.t=null,this.level=null},V0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.target=null,this.state=O.Z.BUFFER_EMPTY},Zh=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.time=null,this.range=null,this.manifestInfo=null},zh=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.time=null,this.droppedFrames=null};function Gh(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var j0=function v(){Gh(this,v),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},H0=function v(){Gh(this,v),this.id=null,this.index=null,this.start=null,this.duration=null},Ma=function v(){Gh(this,v),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};const qh=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},Z0=function v(){(function(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this.loadingRequests=[],this.executedRequests=[]};function au(v){var m,b,D=(v=v||{}).settings,N=(0,S.Z)(this.context).getInstance();function A(){N.trigger(g.Z.METRICS_CHANGED)}function U(X){N.trigger(g.Z.METRIC_CHANGED,{mediaType:X}),A()}function ee(X,De,me){N.trigger(g.Z.METRIC_UPDATED,{mediaType:X,metric:De,value:me}),U(X)}function ie(X,De,me){N.trigger(g.Z.METRIC_ADDED,{mediaType:X,metric:De,value:me}),U(X)}function te(X,De){var me=null;return X&&(b.hasOwnProperty(X)?me=b[X]:De||(me=new F0,b[X]=me)),me}function V(X,De,me){var Se=te(X);null!==Se&&(Se[De].push(me),Se[De].length>D.get().streaming.metrics.maxListDepth&&Se[De].shift())}function re(X,De,me){V(X,De,me),ie(X,De,me)}return m={clearCurrentMetricsForType:function(X){delete b[X],U(X)},clearAllCurrentMetrics:function(){b={},A()},getMetricsFor:te,addHttpRequest:function X(De,me,Se,Ae,Y,ge,fe,be,I,$,G,Z,j,ae,le,ve,z){var Q=new He.w;ge&&ge!==Ae&&(X(De,null,Se,Ae,Y,null,null,be,I,null,null,null,j,null,null,ve,z),Q.actualurl=ge),Q.tcpid=me,Q.type=Se,Q.url=Ae,Q.range=be,Q.trequest=I,Q.tresponse=$,Q.responsecode=Z,Q.cmsd=z,Q._tfinish=G,Q._stream=De,Q._mediaduration=j,Q._quality=Y,Q._responseHeaders=ae,Q._serviceLocation=fe,Q._fileLoaderType=ve,le?le.forEach(function(Me){var Ve,ze,Je,Fe,Ie;Ve=Q,ze=Me.s,Je=Me.d,Fe=Me.b,(Ie=new He.O).s=ze,Ie.d=Je,Ie.b=Fe,Ve.trace.push(Ie),Ve.interval||(Ve.interval=0),Ve.interval+=Je}):(delete Q.interval,delete Q.trace),re(De,O.Z.HTTP_REQUEST,Q)},addRepresentationSwitch:function(X,De,me,Se,Ae){var Y=new B0;Y.t=De,Y.mt=me,Y.to=Se,Ae?Y.lto=Ae:delete Y.lto,re(X,O.Z.TRACK_SWITCH,Y)},addBufferLevel:function(X,De,me){var Se=new U0;Se.t=De,Se.level=me,re(X,O.Z.BUFFER_LEVEL,Se)},addBufferState:function(X,De,me){var Se=new V0;Se.target=me,Se.state=De,re(X,O.Z.BUFFER_STATE,Se)},addDVRInfo:function(X,De,me,Se){var Ae=new Zh;Ae.time=De,Ae.range=Se,Ae.manifestInfo=me,re(X,O.Z.DVR_INFO,Ae)},addDroppedFrames:function(X,De){var me=new zh,Se=te(X).DroppedFrames;De&&(me.time=De.creationTime,me.droppedFrames=De.droppedVideoFrames,Se.length>0&&Se[Se.length-1]==me||re(X,O.Z.DROPPED_FRAMES,me))},addSchedulingInfo:function(X,De,me,Se,Ae,Y,ge,fe,be){var I=new qh;I.mediaType=X,I.t=De,I.type=me,I.startTime=Se,I.availabilityStartTime=Ae,I.duration=Y,I.quality=ge,I.range=fe,I.state=be,re(X,O.Z.SCHEDULING_INFO,I)},addRequestsQueue:function(X,De,me){var Se=new Z0;Se.loadingRequests=De,Se.executedRequests=me,te(X).RequestsQueue=Se,ie(X,O.Z.REQUESTS_QUEUE,Se)},addManifestUpdate:function(X,De,me,Se,Ae,Y,ge,fe,be,I){var $=new j0;$.mediaType=X,$.type=De,$.requestTime=me,$.fetchTime=Se,$.availabilityStartTime=Ae,$.presentationStartTime=Y,$.clientTimeOffset=ge,$.currentTime=fe,$.buffered=be,$.latency=I,V(f.Z.STREAM,O.Z.MANIFEST_UPDATE,$),ie(X,O.Z.MANIFEST_UPDATE,$)},updateManifestUpdateInfo:function(X,De){if(X){for(var me in De)X[me]=De[me];ee(X.mediaType,O.Z.MANIFEST_UPDATE,X)}},addManifestUpdateStreamInfo:function(X,De,me,Se,Ae){if(X){var Y=new H0;Y.id=De,Y.index=me,Y.start=Se,Y.duration=Ae,X.streamInfo.push(Y),ee(X.mediaType,O.Z.MANIFEST_UPDATE_STREAM_INFO,X)}},addManifestUpdateRepresentationInfo:function(X,De,me,Se,Ae,Y,ge,fe){if(X&&X.representationInfo){var be=new Ma;be.id=De,be.index=me,be.streamIndex=Se,be.mediaType=Ae,be.startNumber=ge,be.fragmentInfoType=fe,be.presentationTimeOffset=Y,X.representationInfo.push(be),ee(X.mediaType,O.Z.MANIFEST_UPDATE_TRACK_INFO,X)}},addPlayList:function(X){X.trace&&Array.isArray(X.trace)?X.trace.forEach(function(De){De.hasOwnProperty("subreplevel")&&!De.subreplevel&&delete De.subreplevel}):delete X.trace,re(f.Z.STREAM,O.Z.PLAY_LIST,X)},addDVBErrors:function(X){re(f.Z.STREAM,O.Z.DVB_ERRORS,X)}},b={},m}au.__dashjs_factory_name="MetricsModel";const Yh=C.Z.getSingletonFactory(au);function $h(v){var m,b,D,L,A=(v=v||{}).metricsModel;function U(te){var V=A.getMetricsFor(te,!0);if(!V)return null;var re,X=V.HttpList,De=null;if(!X||X.length<=0)return null;for(re=X.length-1;re>=0;){if(X[re].responsecode){De=X[re];break}re--}return De}function ee(te){var V=A.getMetricsFor(te,!0);return V&&V.HttpList?V.HttpList:[]}function ie(te,V){if(!te)return null;var re=te[V];return re&&0!==re.length?re[re.length-1]:null}return m={getCurrentRepresentationSwitch:function(te){return ie(A.getMetricsFor(te,!0),O.Z.TRACK_SWITCH)},getCurrentBufferState:function(te){return ie(A.getMetricsFor(te,!0),O.Z.BUFFER_STATE)},getCurrentBufferLevel:function(te){var V=ie(A.getMetricsFor(te,!0),O.Z.BUFFER_LEVEL);return V?L0.round10(V.level/1e3,-3):0},getCurrentHttpRequest:U,getHttpRequests:ee,getCurrentDroppedFrames:function(){return ie(A.getMetricsFor(f.Z.VIDEO,!0),O.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(te){return ie(A.getMetricsFor(te,!0),O.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(te){return ie(te?A.getMetricsFor(te,!0):A.getMetricsFor(f.Z.VIDEO,!0)||A.getMetricsFor(f.Z.AUDIO,!0),O.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return ie(A.getMetricsFor(f.Z.STREAM),O.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(te,V){if(!V)return null;var re={},X=U(te);X&&(re=ir.Z.parseHttpHeaders(X._responseHeaders));var De=re[V.toLowerCase()];return void 0===De?null:De},getLatestMPDRequestHeaderValueByID:function(te){if(!te)return null;var V,re,X,De={};for(X=(V=ee(f.Z.STREAM)).length-1;X>=0;X--)if((re=V[X]).type===He.w.MPD_TYPE){De=ir.Z.parseHttpHeaders(re._responseHeaders);break}var me=De[te.toLowerCase()];return void 0===me?null:me},addRepresentationSwitch:function(te,V,re,X,De){A.addRepresentationSwitch(te,V,re,X,De)},addDVRInfo:function(te,V,re,X){A.addDVRInfo(te,V,re,X)},updateManifestUpdateInfo:function(te){var V=this.getCurrentManifestUpdate();A.updateManifestUpdateInfo(V,te)},addManifestUpdateStreamInfo:function(te){if(te){var V=this.getCurrentManifestUpdate();A.addManifestUpdateStreamInfo(V,te.id,te.index,te.start,te.duration)}},addManifestUpdateRepresentationInfo:function(te,V){if(te){var re=this.getCurrentManifestUpdate();A.addManifestUpdateRepresentationInfo(re,te.id,te.index,te.streamIndex,V,te.presentationTimeOffset,te.startNumber,te.fragmentInfoType)}},addManifestUpdate:function(te){A.addManifestUpdate(f.Z.STREAM,te.type,te.requestStartDate,te.requestEndDate)},addHttpRequest:function(te,V,re,X,De,me){A.addHttpRequest(te.mediaType,null,te.type,te.url,te.quality,V,te.serviceLocation||null,te.range||null,te.requestStartDate,te.firstByteDate,te.requestEndDate,re,te.duration,X,De,te.fileLoaderType,me)},addSchedulingInfo:function(te,V){A.addSchedulingInfo(te.mediaType,new Date,te.type,te.startTime,te.availabilityStartTime,te.duration,te.quality,te.range,V)},addRequestsQueue:function(te,V,re){A.addRequestsQueue(te,V,re)},addBufferLevel:function(te,V,re){A.addBufferLevel(te,V,re)},addBufferState:function(te,V,re){A.addBufferState(te,V,re)},addDroppedFrames:function(te){A.addDroppedFrames(f.Z.VIDEO,te)},addPlayList:function(){L&&(A.addPlayList(L),L=null)},addDVBErrors:function(te){A.addDVBErrors(te)},createPlaylistMetrics:function(te,V){(L=new Le).start=new Date,L.mstart=te,L.starttype=V},createPlaylistTraceMetrics:function(te,V,re){!0===b&&(b=!1,(D=new tt).representationid=te,D.start=new Date,D.mstart=V,D.playbackspeed=null!==re?re.toString():null)},updatePlayListTraceMetrics:function(te){if(D)for(var V in D)D[V]=te[V]},pushPlayListTraceMetrics:function(te,V){if(!1===b&&L&&D&&D.start){var re=D.start,X=te.getTime()-re.getTime();D.duration=X,D.stopreason=V,L.trace.push(D),b=!0}},clearAllCurrentMetrics:function(){A.clearAllCurrentMetrics()}},A=A||Yh(this.context).getInstance({settings:v.settings}),b=!0,D=null,L=null,m}$h.__dashjs_factory_name="DashMetrics";const E_=C.Z.getSingletonFactory($h);function Wh(){var v,m,b,D,L=this.context,N=(0,S.Z)(L).getInstance(),A=(0,Mt.Z)(L).getInstance();function U(Ae){D=Ae}function ee(Ae,Y,ge,fe){var be,I=Y.adaptation.period.mpd,$=I.availabilityStartTime;if(fe)be=ge&&I.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date($.getTime()+1e3*(Ae+I.timeShiftBufferDepth)):I.availabilityEndTime;else if(ge){var G=Y.availabilityTimeOffset;be=new Date($.getTime()+1e3*(Ae-G))}else be=$;return be}function ie(Ae,Y){return(Ae.getTime()-Y.mpd.availabilityStartTime.getTime()+1e3*D)/1e3}function te(Ae,Y){return Ae+(Y.adaptation.period.start-Y.presentationTimeOffset)}function V(Ae){var Y={start:NaN,end:NaN},ge=Ae[0].getAdapter().getRegularPeriods()[0],fe=ie(new Date,ge);if(!Ae||0===Ae.length)return{range:Y,now:fe};Ae.forEach(function(I){var $=I.getAdapter(),G=$.getMediaInfoForType(I.getStreamInfo(),f.Z.VIDEO)||$.getMediaInfoForType(I.getStreamInfo(),f.Z.AUDIO),Z=$.getVoRepresentations(G)[0],j={start:NaN,end:NaN};if(Z)if(Z.segmentInfoType===h.Z.SEGMENT_TIMELINE)j=function(le){var ve,z,Q,Me,ze=m.getRepresentationFor(le.index,le.adaptation.period.mpd.manifest.Period_asArray[le.adaptation.period.index].AdaptationSet_asArray[le.adaptation.index]),Je=ze.SegmentTemplate||ze.SegmentList,Ie=Je.timescale,Ct=Je.SegmentTimeline.S_asArray,mt={start:0,end:0},bt=Ct[0].t,Ft=!isNaN(bt),sn=Ft?bt:0,Be=0;for(Ft&&(mt.start=te(sn/Ie,le)),Q=0,Me=Ct.length;Q<Me;Q++)z=0,(ve=Ct[Q]).hasOwnProperty("r")&&(z=ve.r),Be+=ve.d*(1+z);return mt.end=te((sn+Be)/Ie,le),mt}(Z);else{var ae=Z.adaptation.period;j.start=ae.start,j.end=Math.max(fe,ae.start+ae.duration)}!isNaN(j.start)&&(isNaN(Y.start)||Y.start>j.start)&&(Y.start=j.start),!isNaN(j.end)&&(isNaN(Y.end)||Y.end<j.end)&&(Y.end=j.end)}),Y.end=Math.min(fe,Y.end);var be=X(Ae,Y.end,!0);return Y.end=isNaN(be)?Y.end:be,Y.start=ge&&ge.mpd&&ge.mpd.timeShiftBufferDepth&&!isNaN(ge.mpd.timeShiftBufferDepth)&&!isNaN(Y.end)?Math.max(Y.end-ge.mpd.timeShiftBufferDepth,Y.start):Y.start,Y.start=X(Ae,Y.start),{range:Y,now:fe}}function re(Ae,Y){b=Ae-Y.end}function X(Ae,Y){var ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var fe=0,be=!1,I=NaN;!be&&fe<Ae.length;){var $=Ae[fe].getStreamInfo();$.start<=Y&&(!isFinite($.duration)||$.start+$.duration>=Y)?(I=Y,be=!0):!ge&&$.start>Y&&(isNaN(I)||$.start<I)?I=$.start:ge&&$.start+$.duration<Y&&(isNaN(I)||$.start+$.duration>I)&&(I=$.start+$.duration),fe+=1}return I}catch{return Y}}function De(Ae){void 0===Ae.offset||isNaN(Ae.offset)||U(Ae.offset/1e3)}function me(){D=0,b=0}function Se(){N.off(g.Z.UPDATE_TIME_SYNC_OFFSET,De,this),me()}return v={initialize:function(){me(),N.on(g.Z.UPDATE_TIME_SYNC_OFFSET,De,this)},getClientTimeOffset:function(){return D},setClientTimeOffset:U,getClientReferenceTime:function(){return Date.now()-1e3*b+1e3*D},calcAvailabilityStartTimeFromPresentationTime:function(Ae,Y,ge){return ee(Ae,Y,ge)},calcAvailabilityEndTimeFromPresentationTime:function(Ae,Y,ge){return ee(Ae,Y,ge,!0)},calcPresentationTimeFromWallTime:ie,calcPresentationTimeFromMediaTime:te,calcPeriodRelativeTimeFromMpdRelativeTime:function(Ae,Y){return Y-Ae.adaptation.period.start},calcMediaTimeFromPresentationTime:function(Ae,Y){return Ae-Y.adaptation.period.start+Y.presentationTimeOffset},calcWallTimeForSegment:function(Ae,Y){var fe,be;return Y&&(fe=Ae.presentationStartTime+Ae.representation.adaptation.period.mpd.suggestedPresentationDelay,be=new Date(Ae.availabilityStartTime.getTime()+1e3*fe)),be},calcTimeShiftBufferWindow:function(Ae,Y){if(!Y)return be={start:NaN,end:NaN},I=0,$=NaN,Ae.forEach(function(G){var Z=G.getStreamInfo();I+=Z.duration,(isNaN($)||Z.start<$)&&($=Z.start)}),be.start=$,be.end=$+I,be;var be,I,$;if(A.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var ge=V(Ae);return re(ge.now,ge.range),ge.range}return function(fe){var be={start:NaN,end:NaN};if(!fe||0===fe.length)return be;var I=fe[0].getAdapter().getRegularPeriods()[0],$=ie(new Date,I),G=I.mpd.timeShiftBufferDepth,Z=isNaN(G)?0:$-G;if(be.start=X(fe,Z),be.end=!isNaN(be.start)&&$<be.start?$:X(fe,$,!0),!isNaN(G)&&be.end<$-G&&(be.end=NaN),A.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var j=V(fe);if(j.range.end<be.start)return N.trigger(p.Z.CONFORMANCE_VIOLATION,{level:jr.LEVELS.WARNING,event:jr.EVENTS.INVALID_DVR_WINDOW}),re(j.now,j.range),j.range}return be}(Ae)},reset:Se},m=Bn(L).getInstance(),Se(),v}Wh.__dashjs_factory_name="TimelineConverter";const z0=C.Z.getSingletonFactory(Wh);var Ld=F(4593),Ro=F(6934);function ll(v){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function Ri(v,m){return(Ri=Object.setPrototypeOf||function(b,D){return b.__proto__=D,b})(v,m)}function Ts(v){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(v)}const Fd=function(v){!function(N,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),A&&Ri(N,A)}(L,v);var m,b,D=(m=L,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,A=Ts(m);if(b){var U=Ts(this).constructor;N=Reflect.construct(A,arguments,U)}else N=A.apply(this,arguments);return function lu(v,m){return!m||"object"!==ll(m)&&"function"!=typeof m?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(v):m}(this,N)});function L(){var N;return function(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")}(this,L),(N=D.call(this)).captionData=null,N.label=null,N.defaultTrack=!1,N.kind=null,N.isFragmented=!1,N.isEmbedded=!1,N.isTTML=null,N}return L}(kd);var Bd=F(2295);function nc(){var v=0;function m(U){for(var ee="",ie=0;ie<U.length;++ie)ee+=U[ie].uchar;return ee.length-ee.replace(/^\s+/,"").length}function b(U){return"left: "+3.125*U.x+"%; top: "+6.66*U.y1+"%; width: "+(100-3.125*U.x)+"%; height: "+6.66*Math.max(U.y2-1-U.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(U){return"red"===U?"rgb(255, 0, 0)":"green"===U?"rgb(0, 255, 0)":"blue"===U?"rgb(0, 0, 255)":"cyan"===U?"rgb(0, 255, 255)":"magenta"===U?"rgb(255, 0, 255)":"yellow"===U?"rgb(255, 255, 0)":"white"===U?"rgb(255, 255, 255)":"black"===U?"rgb(0, 0, 0)":U}function L(U,ee){var ie=U.videoHeight/15;return ee?"font-size: "+ie+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(ee.foreground?D(ee.foreground):"rgb(255, 255, 255)")+"; font-style: "+(ee.italics?"italic":"normal")+"; text-decoration: "+(ee.underline?"underline":"none")+"; white-space: pre; background-color: "+(ee.background?D(ee.background):"transparent")+";":"font-size: "+ie+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function N(U){return U.replace(/^\s+/g,"")}function A(U){return U.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(U,ee,ie,te){var V,re,X=null,De=!1,me=-1,Se={start:ee,end:ie,spans:[]},Ae="style_cea608_white_black",Y={},ge={},fe=[];for(V=0;V<15;++V){var be=te.rows[V],I="",$=null;if(!1===be.isEmpty()){var G=m(be.chars);null===X&&(X={x:G,y1:V,y2:V+1,p:[]}),G!==me&&De&&(X.p.push(Se),Se={start:ee,end:ie,spans:[]},X.y2=V,X.name="region_"+X.x+"_"+X.y1+"_"+X.y2,!1===Y.hasOwnProperty(X.name)?(fe.push(X),Y[X.name]=X):Y[X.name].p.contat(X.p),X={x:G,y1:V,y2:V+1,p:[]});for(var Z=0;Z<be.chars.length;++Z){var j=be.chars[Z],ae=j.penState;if(null===$||!ae.equals($)){I.trim().length>0&&(Se.spans.push({name:Ae,line:I,row:V}),I="");var le="style_cea608_"+ae.foreground+"_"+ae.background;ae.underline&&(le+="_underline"),ae.italics&&(le+="_italics"),ge.hasOwnProperty(le)||(ge[le]=JSON.parse(JSON.stringify(ae))),$=ae,Ae=le}I+=j.uchar}I.trim().length>0&&Se.spans.push({name:Ae,line:I,row:V}),De=!0,me=G}else De=!1,me=-1,X&&(X.p.push(Se),Se={start:ee,end:ie,spans:[]},X.y2=V,X.name="region_"+X.x+"_"+X.y1+"_"+X.y2,!1===Y.hasOwnProperty(X.name)?(fe.push(X),Y[X.name]=X):Y[X.name].p.contat(X.p),X=null)}X&&(X.p.push(Se),X.y2=V+1,X.name="region_"+X.x+"_"+X.y1+"_"+X.y2,!1===Y.hasOwnProperty(X.name)?(fe.push(X),Y[X.name]=X):Y[X.name].p.contat(X.p),X=null);var ve=[];for(V=0;V<fe.length;++V){var z=fe[V],Q="sub_cea608_"+v++,Me=document.createElement("div");Me.id=Q;var Ve=b(z);Me.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Ve;var ze=document.createElement("div");ze.className="paragraph bodyStyle",ze.style.cssText=L(U);var Je=document.createElement("div");Je.className="cueUniWrapper",Je.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Fe=0;Fe<z.p.length;++Fe){var Ie=z.p[Fe],Ct=0;for(re=0;re<Ie.spans.length;++re){var mt=Ie.spans[re];if(mt.line.length>0){if(0!==re&&Ct!=mt.row){var bt=document.createElement("br");bt.className="lineBreak",Je.appendChild(bt)}var Ft=!1;Ct===mt.row&&(Ft=!0),Ct=mt.row;var sn=ge[mt.name],Be=document.createElement("span");Be.className="spanPadding "+mt.name+" customSpanColor",Be.style.cssText=L(U,sn),Be.textContent=0!==re&&Ft?re===Ie.spans.length-1?A(mt.line):mt.line:Ie.spans.length>1&&re<Ie.spans.length-1&&mt.row===Ie.spans[re+1].row?N(mt.line):mt.line.trim(),Je.appendChild(Be)}}}ze.appendChild(Je),Me.appendChild(ze);var Te={bodyStyle:["%",90]};for(var et in ge)ge.hasOwnProperty(et)&&(Te[et]=["%",90]);ve.push({type:"html",start:ee,end:ie,cueHTMLElement:Me,cueID:Q,cellResolution:[32,15],isFromCEA608:!0,fontSize:Te,lineHeight:{},linePadding:{}})}return ve}}}nc.__dashjs_factory_name="EmbeddedTextHtmlRender";const w_=C.Z.getSingletonFactory(nc);function Kh(v){var m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me,Se,Ae=v.errHandler,Y=v.manifestModel,ge=v.mediaController,fe=v.videoModel,be=v.textTracks,I=v.vttParser,$=v.vttCustomRenderingParser,G=v.ttmlParser,Z=v.streamInfo,j=v.settings,ae=this.context,le=(0,S.Z)(ae).getInstance(),ve=!1;function z(){A=null,ee=NaN,ie=[],te=null,U=!1,N=[],L=null}function Q(mt){var sn,Be,bt=new Fd;for(var Ft in mt)bt[Ft]=mt[Ft];bt.labels=mt.labels,bt.defaultTrack=(sn=mt,Be=!1,re.length>1&&sn.isEmbedded?Be=sn.id&&sn.id===f.Z.CC1:1===re.length?sn.id&&"string"==typeof sn.id&&"CC"===sn.id.substring(0,2)&&(Be=!0):0===re.length&&(Be=sn.index===N[0].index),Be),bt.isFragmented=mt.isFragmented,bt.isEmbedded=!!mt.isEmbedded,bt.isTTML=function(sn){return sn.codec&&sn.codec.search(f.Z.STPP)>=0||sn.mimeType&&sn.mimeType.search(f.Z.TTML)>=0}(mt),bt.kind=function(sn,Be){var Te=sn.roles&&sn.roles.length>0?Be[sn.roles[0]]:Be.caption;return Te===Be.caption||Te===Be.subtitle?Te:Be.caption}(mt,{subtitle:"subtitles",caption:"captions"}),be.addTextTrack(bt)}function Me(mt){var bt=mt.chunk;bt.mediaInfo.embeddedCaptions&&ze(bt.bytes,bt)}function Ve(mt){V=mt}function ze(mt,bt){var Ft=bt.mediaInfo,sn=Ft.type,Te=Ft.codec||Ft.mimeType;Te?-1!==Ft.codec.indexOf("application/mp4")?function(et,Oe,nt){var ft;if("InitializationSegment"===Oe.segmentType)U=!0,ee=D.getMediaTimescaleFromMoov(et);else{if(!U)return;(ft=D.getSamplesInfo(et).sampleList).length>0&&(te=ft[0].cts-Oe.start*ee),nt.search(f.Z.STPP)>=0?function(pt,Ot,Gt){var An,Sn;for(L=null!==L?L:Ie(Gt),An=0;An<Ot.length;An++){var un=Ot[An],Dn=un.cts,Mn=Fe(),er=Mn+Dn/ee;m.buffered.add(er,er+un.duration/ee);var Hn=new DataView(pt,un.offset,un.subSizes[0]),hr=Ro.Utils.dataViewToString(Hn,f.Z.UTF8),nr=[],pr=un.offset+un.subSizes[0];for(Sn=1;Sn<un.subSizes.length;Sn++){var jt=new Uint8Array(pt,pr,un.subSizes[Sn]),wn=String.fromCharCode.apply(null,jt);nr.push(wn),pr+=un.subSizes[Sn]}try{var En=Y.getValue().ttmlTimeIsRelative?Dn/ee:0,_n=L.parse(hr,En,Dn/ee,(Dn+un.duration)/ee,nr);be.addCaptions(V,Mn,_n)}catch(gt){A.removeExecutedRequestsBeforeTime(),this.remove(),b.error("TTML parser error: "+gt.message)}}}(et,ft,nt):function(pt,Ot){var Gt,An,Sn,un=[];for(Gt=0;Gt<Ot.length;Gt++){var Dn=Ot[Gt];Dn.cts-=te;var Mn=Fe()+Dn.cts/ee;m.buffered.add(Mn,Mn+Dn.duration/ee);var ar=pt.slice(Dn.offset,Dn.offset+Dn.size),Hn=Ro.parseBuffer(ar);for(An=0;An<Hn.boxes.length;An++){var hr=Hn.boxes[An];if(b.debug("VTT box1: "+hr.type),"vtte"!==hr.type&&"vttc"===hr.type){b.debug("VTT vttc boxes.length = "+hr.boxes.length);var nr={styles:{}};for(Sn=0;Sn<hr.boxes.length;Sn++){var pr=hr.boxes[Sn];if(b.debug("VTT box2: "+pr.type),"payl"===pr.type)nr.start=Dn.cts/ee,nr.end=(Dn.cts+Dn.duration)/ee,nr.data=pr.cue_text;else if("sttg"===pr.type&&pr.settings&&""!==pr.settings)try{var jt=pr.settings.split(" ");nr.styles=I.getCaptionStyles(jt)}catch{}}nr&&nr.data&&(un.push(nr),b.debug("VTT  ".concat(nr.start," - ").concat(nr.end," :  ").concat(nr.data)))}}}un.length>0&&be.addCaptions(V,0,un)}(et,ft)}}(mt,bt,Te):sn===f.Z.VIDEO?function(et,Oe){var nt,ft;if(Oe.segmentType===He.w.INIT_SEGMENT_TYPE)0===X&&(X=D.getMediaTimescaleFromMoov(et));else if(Oe.segmentType===He.w.MEDIA_SEGMENT_TYPE){if(0===X)return void b.warn("CEA-608: No timescale for embeddedTextTrack yet");var pt=(ft=D.getSamplesInfo(et)).lastSequenceNumber;if(me[0]||me[1]||function(){for(var un,Dn=0;Dn<re.length;Dn++){if(-1===(un=be.getTrackIdxForId(re[Dn].id)))return void b.warn("CEA-608: data before track is ready.");var Mn=Je(un);me[Dn]=new(P().Cea608Parser)(Dn+1,{newCue:Mn},null)}}(),X){if(null!==De&&pt!==De+ft.numSequences)for(nt=0;nt<me.length;nt++)me[nt]&&me[nt].reset();for(var Ot=function(un,Dn){if(0===Dn.length)return null;for(var Mn={splits:[],fields:[[],[]]},er=new DataView(un),ar=0;ar<Dn.length;ar++)for(var Hn=Dn[ar],hr=P().findCea608Nalus(er,Hn.offset,Hn.size),nr=null,pr=0,jt=0;jt<hr.length;jt++)for(var wn=P().extractCea608DataFromRange(er,hr[jt]),En=0;En<2;En++)if(wn[En].length>0){Hn.cts!==nr?pr=0:pr+=1;var _n=Fe();Mn.fields[En].push([Hn.cts+_n*X,wn[En],pr]),nr=Hn.cts}return Mn.fields.forEach(function(gt){gt.sort(function(Ht,ct){return Ht[0]===ct[0]?Ht[2]-ct[2]:Ht[0]-ct[0]})}),Mn}(et,ft.sampleList),Gt=0;Gt<me.length;Gt++){var An=Ot.fields[Gt],Sn=me[Gt];if(Sn)for(nt=0;nt<An.length;nt++)Sn.addData(An[nt][0]/X,An[nt][1])}De=pt}}}(mt,bt):function(et,Oe,nt){var ft,pt,Ot=new DataView(et,0,et.byteLength);pt=Ro.Utils.dataViewToString(Ot,f.Z.UTF8);try{ft=Ie(nt).parse(pt,0),be.addCaptions(be.getCurrentTrackIdx(),0,ft),m.buffered&&m.buffered.add(Oe.start,Oe.end)}catch(Gt){Ae.error(new K.Z(pe.TIMED_TEXT_ERROR_ID_PARSE_CODE,pe.TIMED_TEXT_ERROR_MESSAGE_PARSE+Gt.message,pt))}}(mt,bt,Te):b.error("No text type defined")}function Je(mt){return function(bt,Ft,sn){var Be;(Be=fe.getTTMLRenderingDiv()?Se.createHTMLCaptionsFromScreen(fe.getElement(),bt,Ft,sn):[{start:bt,end:Ft,data:sn.getDisplayText(),styles:{}}])&&be.addCaptions(mt,0,Be)}}function Fe(){return isNaN(m.timestampOffset)?0:m.timestampOffset}function Ie(mt){var bt;return mt.search(f.Z.VTT)>=0?bt=j.get().streaming.text.webvtt.customRenderingEnabled&&$?$:I:(mt.search(f.Z.TTML)>=0||mt.search(f.Z.STPP)>=0)&&(bt=G),bt}function Ct(mt){re.forEach(function(bt){var Ft=be.getTrackIdxForId(bt.id);Ft>=0&&be.deleteCuesFromTrackIdx(Ft,mt.from,mt.to)})}return m={initialize:function(){ve||(re=[],V=null,X=0,me=[],De=null,ve=!0,Se=w_(ae).getInstance(),le.on(g.Z.VIDEO_CHUNK_RECEIVED,Me,m),le.on(g.Z.BUFFER_CLEARED,Ct,m))},addMediaInfos:function(mt,bt,Ft){if(N=N.concat(bt),mt===f.Z.TEXT&&bt[0].isFragmented&&!bt[0].isEmbedded){A=Ft,m.buffered=(0,Bd.Z)(ae).create(),ie=ge.getTracksFor(f.Z.TEXT,Z.id).filter(function(et){return et.isFragmented});for(var sn=ge.getCurrentTrackFor(f.Z.TEXT,Z.id),Be=0;Be<ie.length;Be++)if(ie[Be]===sn){Ve(Be);break}}for(var Te=0;Te<bt.length;Te++)Q(bt[Te])},resetMediaInfos:function(){N=[]},getStreamId:function(){return Z.id},append:ze,abort:function(){},addEmbeddedTrack:function(mt){if(ve&&mt)if(mt.id===f.Z.CC1||mt.id===f.Z.CC3){for(var bt=0;bt<re.length;bt++)if(re[bt].id===mt.id)return;re.push(mt)}else b.warn("Embedded track "+mt.id+" not supported!")},resetEmbedded:function(){le.off(g.Z.VIDEO_CHUNK_RECEIVED,Me,m),le.off(g.Z.BUFFER_CLEARED,Ct,m),be&&be.deleteAllTextTracks(),ve=!1,re=[],me=[null,null],De=null},getConfig:function(){return{fragmentModel:A,fragmentedTracks:ie,videoModel:fe}},setCurrentFragmentedTrackIdx:Ve,remove:function(mt,bt){void 0===mt&&mt===bt&&(mt=m.buffered.start(0),bt=m.buffered.end(m.buffered.length-1)),m.buffered.remove(mt,bt),be.deleteCuesFromTrackIdx(V,mt,bt)},reset:function(){z(),N=[],D=null}},b=(0,M.Z)(ae).getInstance().getLogger(m),D=(0,Aa.Z)(ae).getInstance(),z(),m}Kh.__dashjs_factory_name="TextSourceBuffer";const Xh=C.Z.getClassFactory(Kh);var rc=F(4403);function Qh(v,m){(null==m||m>v.length)&&(m=v.length);for(var b=0,D=new Array(m);b<m;b++)D[b]=v[b];return D}var cu=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function Jh(v){var m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me,Se,Ae,Y,ge=this.context,fe=(0,S.Z)(ge).getInstance(),be=v.videoModel,I=v.streamInfo,$=v.settings;function G(Te,et,Oe,nt,ft,pt){var Ot=0,Gt=0;Te/et>Oe/nt?Ot=(Gt=et)/nt*Oe:Gt=(Ot=Te)/Oe*nt;var An,Sn,un=0,Dn=0;return Ot/Gt>ft?(Dn=Gt,un=Gt*ft):(un=Ot,Dn=Ot/ft),An=(Te-un)/2,Sn=(et-Dn)/2,pt?{x:An+.1*un,y:Sn+.1*Dn,w:.8*un,h:.8*Dn}:{x:An,y:Sn,w:un,h:Dn}}function Z(Te,et){var Oe=be.getClientWidth(),nt=be.getClientHeight(),ft=be.getVideoWidth(),pt=be.getVideoHeight(),Ot=be.getVideoRelativeOffsetTop(),Gt=be.getVideoRelativeOffsetLeft();if(0!==ft&&0!==pt){var An=ft/pt,Sn=!1;Te.isFromCEA608&&(An=1.1666666666666667,Sn=!0);var un=G.call(this,Oe,nt,ft,pt,An,Sn),Dn=un.w,Mn=un.h,er=un.x,ar=un.y;if(Dn!=ie||Mn!=te||er!=U||ar!=ee||et){if(U=er+Gt,ee=ar+Ot,ie=Dn,te=Mn,V){var Hn=V.style;Hn&&(Hn.left=U+"px",Hn.top=ee+"px",Hn.width=ie+"px",Hn.height=te+"px",Hn.zIndex=De&&document[De]||me?Ae:null,fe.trigger(p.Z.CAPTION_CONTAINER_RESIZE))}var hr=Te.activeCues;if(hr)for(var nr=hr.length,pr=0;pr<nr;++pr){var jt=hr[pr];jt.scaleCue(jt)}}}}function j(Te){var et,Oe,nt,ft,pt;if(Te.cellResolution){var An=[ie/Te.cellResolution[0],te/Te.cellResolution[1]];if(Te.linePadding)for(et in Te.linePadding)if(Te.linePadding.hasOwnProperty(et)){Oe=(Te.linePadding[et]*An[0]).toString();for(var Sn=document.getElementsByClassName("spanPadding"),un=0;un<Sn.length;un++)Sn[un].style.cssText=Sn[un].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe),Sn[un].style.cssText=Sn[un].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}if(Te.fontSize){for(et in Te.fontSize)if(Te.fontSize.hasOwnProperty(et)){"%"===Te.fontSize[et][0]?nt=Te.fontSize[et][1]/100:"c"===Te.fontSize[et][0]&&(nt=Te.fontSize[et][1]),Oe=(nt*An[1]).toString(),pt="defaultFontSize"!==et?document.getElementsByClassName(et):document.getElementsByClassName("paragraph");for(var Dn=0;Dn<pt.length;Dn++)pt[Dn].style.cssText=pt[Dn].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}if(Te.lineHeight)for(et in Te.lineHeight)if(Te.lineHeight.hasOwnProperty(et)){"%"===Te.lineHeight[et][0]?ft=Te.lineHeight[et][1]/100:"c"===Te.fontSize[et][0]&&(ft=Te.lineHeight[et][1]),Oe=(ft*An[1]).toString(),pt=document.getElementsByClassName(et);for(var Mn=0;Mn<pt.length;Mn++)pt[Mn].style.cssText=pt[Mn].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Oe)}}}if(Te.isd){var er=document.getElementById(Te.cueID);er&&V.removeChild(er),le(Te)}}function ae(Te,et){var Oe=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,nt=/^#(.*)$/;if(Oe.test(et)){var ft=Oe.exec(et),pt=parseInt(ft[4],10)-1;return"data:image/png;base64,"+btoa(Te.images[pt])}if(nt.test(et)){var Ot=nt.exec(et)[1];return"data:image/png;base64,"+Te.embeddedImages[Ot]}return et}function le(Te){if(V){var et=document.createElement("div");V.appendChild(et),Se=(0,rc.renderHTML)(Te.isd,et,function(Oe){return ae(Te,Oe)},V.clientHeight,V.clientWidth,!1,function(Oe){b.info("renderCaption :",Oe)},Se,!0),et.id=Te.cueID,fe.trigger(p.Z.CAPTION_RENDERED,{captionDiv:et,currentTrackIdx:A})}}function ve(Te,et){if(!$.get().streaming.text.extendSegmentedCues||!et.cues||0===et.cues.length)return!1;var Oe=et.cues[et.cues.length-1];return!(Oe.endTime<Te.startTime||!function(nt,ft,pt){for(var Ot=0;Ot<pt.length;Ot++){var Gt=pt[Ot];if(JSON.stringify(nt[Gt])!==JSON.stringify(ft[Gt]))return!1}return!0}(Oe,Te,cu)||(Oe.endTime=Math.max(Oe.endTime,Te.endTime),0))}function z(Te,et){et&&et.forEach(function(Oe){Oe.kind&&"image"===Oe.kind&&(Oe.src=ae(Te,Oe.src)),z(Te,Oe.contents)})}function Q(Te,et,Oe){var nt=Je(Te);if(nt&&Array.isArray(Oe)&&0!==Oe.length)for(var ft=0;ft<Oe.length;ft++){var pt=void 0,Ot=Oe[ft];nt.cellResolution=Ot.cellResolution,nt.isFromCEA608=Ot.isFromCEA608,isNaN(Ot.start)||isNaN(Ot.end)||(pt="html"===Ot.type&&V?Me(Ot,et,nt):Ot.data?Ve(Ot,et,nt):null);try{pt?Ct(nt,pt)||($.get().streaming.text.webvtt.customRenderingEnabled?(nt.manualCueList||(nt.manualCueList=[]),nt.manualCueList.push(pt)):ve(pt,nt)||nt.addCue(pt)):b.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(Gt){throw bt(nt),nt.addCue(pt),Gt}}}function Me(Te,et,Oe){var nt=this,ft=new D(Te.start+et,Te.end+et,"");return ft.cueHTMLElement=Te.cueHTMLElement,ft.isd=Te.isd,ft.images=Te.images,ft.embeddedImages=Te.embeddedImages,ft.cueID=Te.cueID,ft.scaleCue=j.bind(nt),ft.cellResolution=Te.cellResolution,ft.lineHeight=Te.lineHeight,ft.linePadding=Te.linePadding,ft.fontSize=Te.fontSize,V.style.left=U+"px",V.style.top=ee+"px",V.style.width=ie+"px",V.style.height=te+"px",ft.isd&&z(ft,ft.isd.contents),ft.onenter=function(){Oe.mode===f.Z.TEXT_SHOWING&&(this.isd?(le(this),b.debug("Cue enter id:"+this.cueID)):(V.appendChild(this.cueHTMLElement),j.call(nt,this),fe.trigger(p.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:A})))},ft.onexit=function(){if(V)for(var pt=V.childNodes,Ot=0;Ot<pt.length;++Ot)pt[Ot].id===this.cueID&&(b.debug("Cue exit id:"+pt[Ot].id),V.removeChild(pt[Ot]),--Ot)},ft}function Ve(Te,et,Oe){var nt=new D(Te.start-et,Te.end-et,Te.data);if(nt.cueID="".concat(nt.startTime,"_").concat(nt.endTime),nt.isActive=!1,Te.styles)try{void 0!==Te.styles.align&&"align"in nt&&(nt.align=Te.styles.align),void 0!==Te.styles.line&&"line"in nt&&(nt.line=Te.styles.line),void 0!==Te.styles.snapToLines&&"snapToLines"in nt&&(nt.snapToLines=Te.styles.snapToLines),void 0!==Te.styles.position&&"position"in nt&&(nt.position=Te.styles.position),void 0!==Te.styles.size&&"size"in nt&&(nt.size=Te.styles.size)}catch(ft){b.error(ft)}return nt.onenter=function(){Oe.mode===f.Z.TEXT_SHOWING&&fe.trigger(p.Z.CAPTION_RENDERED,{currentTrackIdx:A})},nt}function ze(){var Te,et=[],Oe=function(ft,pt){var Ot;if(typeof Symbol>"u"||null==ft[Symbol.iterator]){if(Array.isArray(ft)||(Ot=function(Mn,er){if(Mn){if("string"==typeof Mn)return Qh(Mn,void 0);var ar=Object.prototype.toString.call(Mn).slice(8,-1);return"Object"===ar&&Mn.constructor&&(ar=Mn.constructor.name),"Map"===ar||"Set"===ar?Array.from(Mn):"Arguments"===ar||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ar)?Qh(Mn,void 0):void 0}}(ft))){Ot&&(ft=Ot);var Gt=0,An=function(){};return{s:An,n:function(){return Gt>=ft.length?{done:!0}:{done:!1,value:ft[Gt++]}},e:function(Mn){throw Mn},f:An}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Sn,un=!0,Dn=!1;return{s:function(){Ot=ft[Symbol.iterator]()},n:function(){var Mn=Ot.next();return un=Mn.done,Mn},e:function(Mn){Dn=!0,Sn=Mn},f:function(){try{un||null==Ot.return||Ot.return()}finally{if(Dn)throw Sn}}}}(be.getTextTracks());try{for(Oe.s();!(Te=Oe.n()).done;){var nt=Te.value;nt.manualMode===f.Z.TEXT_SHOWING&&et.push(nt)}}catch(ft){Oe.e(ft)}finally{Oe.f()}return et}function Je(Te){return Te>=0&&L[Te]?be.getTextTrack(L[Te].kind,L[Te].id,L[Te].lang,L[Te].isTTML,L[Te].isEmbedded):null}function Fe(Te){var et=this;if(Te!==A){var Oe=Je(A=Te);Ie.call(this,Oe),X&&(clearInterval(X),X=null),Oe&&"html"===Oe.renderingType&&(Z.call(this,Oe,!0),window.ResizeObserver?(Y=new window.ResizeObserver(function(){Z.call(et,Oe,!0)})).observe(be.getElement()):X=setInterval(Z.bind(this,Oe),500))}}function Ie(Te){Be.call(this),Te&&"html"===Te.renderingType?Ft.call(this):sn.call(this)}function Ct(Te,et){if(!Te.cues)return!1;for(var Oe=0;Oe<Te.cues.length;Oe++)if(Te.cues[Oe].startTime===et.startTime&&Te.cues[Oe].endTime===et.endTime)return!0;return!1}function mt(Te,et,Oe){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(et)||(nt?Te.startTime:Te.endTime)>=et)&&(isNaN(Oe)||(nt?Te.endTime:Te.startTime)<=Oe)}function bt(Te,et,Oe){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Te.cues)for(var ft=Te.cues,Ot=ft.length-1;Ot>=0;Ot--)mt(ft[Ot],et,Oe,nt)&&(ft[Ot].onexit&&ft[Ot].onexit(),Te.removeCue(ft[Ot]))}function Ft(){var Te=document.getElementById("native-cue-style");if(!Te){(Te=document.createElement("style")).id="native-cue-style",document.head.appendChild(Te);var et=Te.sheet,Oe=be.getElement();try{Oe&&et.insertRule(Oe.id?"#"+Oe.id+"::cue {background: transparent}":0!==Oe.classList.length?"."+Oe.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(nt){b.info(""+nt.message)}}}function sn(){var Te=document.getElementById("native-cue-style");Te&&document.head.removeChild(Te)}function Be(){if(V)for(;V.firstChild;)V.removeChild(V.firstChild)}return m={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(D=window.VTTCue||window.TextTrackCue,L=[],N=[],A=-1,U=0,ee=0,ie=0,te=0,V=null,re=null,X=null,me=!1,Ae=2147483647,Se=null,void 0!==document.fullscreenElement?De="fullscreenElement":void 0!==document.webkitIsFullScreen?De="webkitIsFullScreen":document.msFullscreenElement?De="msFullscreenElement":document.mozFullScreen&&(De="mozFullScreen"))},getStreamId:function(){return I.id},addTextTrack:function(Te){L.push(Te)},addCaptions:Q,createTracks:function(){L.sort(function(Mn,er){return Mn.index-er.index}),V=be.getTTMLRenderingDiv(),re=be.getVttRenderingDiv();for(var Te,et,Ot=-1,Gt=0;Gt<L.length;Gt++){var An=(et=(Te=L[Gt]).kind,be.addTextTrack(et,void 0!==Te.id?Te.id:Te.lang,Te.lang,Te.isTTML,Te.isEmbedded));N.push(An),L[Gt].defaultTrack&&(An.default=!0,Ot=Gt);var Sn=Je(Gt);Sn&&(Sn.mode=f.Z.TEXT_SHOWING,Sn.renderingType=V&&(L[Gt].isTTML||L[Gt].isEmbedded)?"html":"default"),Q(Gt,0,L[Gt].captionData),fe.trigger(p.Z.TEXT_TRACK_ADDED)}if(Fe.call(this,Ot),Ot>=0){fe.on(p.Z.PLAYBACK_METADATA_LOADED,function Mn(){var er=Je(Ot);er&&"html"===er.renderingType&&Z.call(this,er,!0),fe.off(p.Z.PLAYBACK_METADATA_LOADED,Mn,this)},this);for(var un=0;un<L.length;un++){var Dn=Je(un);Dn&&(Dn.mode=un===Ot?f.Z.TEXT_SHOWING:f.Z.TEXT_HIDDEN,Dn.manualMode=un===Ot?f.Z.TEXT_SHOWING:f.Z.TEXT_HIDDEN)}}fe.trigger(g.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:A,tracks:L,streamId:I.id})},getCurrentTrackIdx:function(){return A},setCurrentTrackIdx:Fe,getTrackIdxForId:function(Te){for(var et=-1,Oe=0;Oe<L.length;Oe++)if(L[Oe].id===Te){et=Oe;break}return et},getCurrentTrackInfo:function(){return L[A]},setModeForTrackIdx:function(Te,et){var Oe=Je(Te);Oe&&Oe.mode!==et&&(Oe.mode=et),Oe&&Oe.manualMode!==et&&(Oe.manualMode=et)},deleteCuesFromTrackIdx:function(Te,et,Oe){var nt=Je(Te);nt&&bt(nt,et,Oe)},deleteAllTextTracks:function(){for(var Te=N?N.length:0,et=0;et<Te;et++){var Oe=Je(et);Oe&&bt.call(this,Oe,I.start,I.start+I.duration,!1)}N=[],L=[],X&&(clearInterval(X),X=null),Y&&be&&(Y.unobserve(be.getElement()),Y=null),A=-1,Be.call(this)},deleteTextTrack:function(Te){be.removeChild(N[Te]),N.splice(Te,1)},manualCueProcessing:function(Te){var et=ze();if(et&&et.length>0){var Oe=et[0].manualCueList;Oe&&Oe.length>0&&Oe.forEach(function(nt){if(nt.startTime<=Te&&nt.endTime>=Te&&!nt.isActive)nt.isActive=!0,WebVTT.processCues(window,[nt],re,nt.cueID);else if(nt.isActive&&(nt.startTime>Te||nt.endTime<Te)&&(nt.isActive=!1,re))for(var ft=re.childNodes,pt=0;pt<ft.length;++pt)ft[pt].id===nt.cueID&&(re.removeChild(ft[pt]),--pt)})}},disableManualTracks:function(){var Te=ze();if(Te&&Te.length>0){var et=Te[0].manualCueList;et&&et.length>0&&et.forEach(function(Oe){if(Oe.isActive&&(Oe.isActive=!1,re))for(var nt=re.childNodes,ft=0;ft<nt.length;++ft)nt[ft].id===Oe.cueID&&(re.removeChild(nt[ft]),--ft)})}}},b=(0,M.Z)(ge).getInstance().getLogger(m),m}Jh.__dashjs_factory_name="TextTracks";const Ss=C.Z.getClassFactory(Jh);function T_(){var v,m,b,D,L,N;function U(V){var re=V.split(":"),X=re.length-1;return V=60*parseInt(re[X-1],10)+parseFloat(re[X]),2===X&&(V+=3600*parseInt(re[0],10)),V}function ee(V){var re=V.split(D),X=re[1].split(N);return X.shift(),re[1]=X[0],X.shift(),{cuePoints:re,styles:ie(X)}}function ie(V){var re={};return V.forEach(function(X){if(X.split(/:/).length>1){var De=X.split(/:/)[1],me=!1;De&&-1!=De.search(/%/)&&(me=!0,De=parseInt(De.replace(/%/,""),10)),(X.match(/align/)||X.match(/A/))&&(re.align=De),(X.match(/line/)||X.match(/L/))&&(re.line="auto"===De?De:parseInt(De,10),me&&(re.snapToLines=!1)),(X.match(/position/)||X.match(/P/))&&(re.position=De),(X.match(/size/)||X.match(/S/))&&(re.size=De)}}),re}function te(V,re){for(var X,De=re,me="",Se="";""!==V[De]&&De<V.length;)De++;if((X=De-re)>1)for(var Ae=0;Ae<X;Ae++){if((Se=V[re+Ae]).match(D)){me="";break}me+=Se,Ae!==X-1&&(me+="\n")}else(Se=V[re]).match(D)||(me=Se);return me}return v={parse:function(V){var re,X,De=[];if(!V)return De;re=(V=V.split(b)).length,X=-1;for(var me=0;me<re;me++){var Se=V[me];if(Se.length>0&&"WEBVTT"!==Se&&Se.match(D)){var Ae=ee(Se),Y=Ae.cuePoints,ge=Ae.styles,fe=te(V,me+1),be=U(Y[0].replace(L,"")),I=U(Y[1].replace(L,""));!isNaN(be)&&!isNaN(I)&&be>=X&&I>be?""!==fe?(X=be,De.push({start:be,end:I,data:fe,styles:ge})):m.error("Skipping cue due to empty/malformed cue text"):m.error("Skipping cue due to incorrect cue timing")}}return De},getCaptionStyles:ie},m=(0,M.Z)(this.context).getInstance().getLogger(v),b=/(?:\r\n|\r|\n)/gm,D=/-->/,L=/(^[\s]+|[\s]+$)/g,N=/\s\b/g,v}T_.__dashjs_factory_name="VTTParser";const as=C.Z.getSingletonFactory(T_);function Ud(){var v,m;return v={parse:function(b){var D=[];return m.oncue=function(L){L.start=L.startTime,L.end=L.endTime,L.data=L.text,L.styles={align:L.align,line:L.line,position:L.position,size:L.size},D.push(L)},m.parse(b),D}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(m=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),v}Ud.__dashjs_factory_name="VttCustomRenderingParser";const S_=C.Z.getSingletonFactory(Ud);function ep(){var v,m,b=this.context,D=(0,S.Z)(b).getInstance(),L=0;return v={parse:function(N,A,U,ee,ie){var te,V,re,X="",De=[],me={},Se={},Ae="",Y="",ge={onOpenTag:function(G,Z,j){if(j[" imagetype"]&&!j[" imageType"]&&(D.trigger(p.Z.CONFORMANCE_VIOLATION,{level:jr.LEVELS.ERROR,event:jr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),j[" imageType"]=j[" imagetype"]),"image"===Z&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===G||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===G)){if(!j[" imageType"]||"PNG"!==j[" imageType"].value)return void m.warn("smpte-tt imageType != PNG. Discarded");Ae=j["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Ae&&(Se[Ae]=Y.trim()),Y="",Ae=""},onText:function(G){Ae&&(Y+=G)}};if(!N)throw X="no ttml data to parse",new Error(X);me.data=N,D.trigger(g.Z.TTML_TO_PARSE,me);var fe=(0,rc.fromXML)(me.data,function(G){X=G},ge);D.trigger(g.Z.TTML_PARSED,{ttmlString:me.data,ttmlDoc:fe});var be,I=fe.getMediaTimeEvents();for(re=0;re<I.length;re++){var $=(0,rc.generateISD)(fe,I[re],function(G){X=G});$.contents.some(function(G){return G.contents.length})&&(te=I[re]+A)<(V=I[re+1]+A)&&De.push({start:te,end:V,type:"html",cueID:(be="cue_TTML_"+L,L++,be),isd:$,images:ie,embeddedImages:Se})}if(""!==X)throw m.error(X),new Error(X);return De}},m=(0,M.Z)(b).getInstance().getLogger(v),v}ep.__dashjs_factory_name="TTMLParser";const Mo=C.Z.getSingletonFactory(ep);function Vd(v){var m,b,D,L,N,A,U,ee,ie,te,V,re,X=this.context,De=v.adapter,me=v.errHandler,Se=v.manifestModel,Ae=v.mediaController,Y=v.videoModel,ge=v.settings;function fe(ae){var le=ae.tracks,ve=ae.index,z=ae.streamId;if(!1===ge.get().streaming.text.defaultEnabled&&!$()||re)G(z,-1);else{var Q=Ae.getCurrentTrackFor(f.Z.TEXT,z);if(Q){var Me={lang:Q.lang,role:Q.roles[0],index:Q.index,codec:Q.codec,accessibility:Q.accessibility[0]};le.some(function(Ve,ze){if(Ae.matchSettings(Me,Ve))return G(z,ze),ve=ze,!0})}ie=!1}b[z].lastEnabledIndex=ve,ee.trigger(p.Z.TEXT_TRACKS_ADDED,{enabled:$(),index:ve,tracks:le,streamId:z}),V=!0}function be(ae){try{var le=ae.streamId;if(!L[le]||isNaN(ae.time))return;L[le].manualCueProcessing(ae.time)}catch{}}function I(ae){try{var le=ae.streamId;if(!L[le])return;L[le].disableManualTracks()}catch{}}function $(){var ae=!0;return ie&&!te&&(ae=!1),ae}function G(ae,le){(ie=-1===le)&&Ae&&Ae.saveTextSettingsDisabled();var ve=Z(ae);if(ve!==le&&L[ae]){L[ae].disableManualTracks(),L[ae].setModeForTrackIdx(ve,f.Z.TEXT_HIDDEN),L[ae].setCurrentTrackIdx(le),L[ae].setModeForTrackIdx(le,f.Z.TEXT_SHOWING);var z=L[ae].getCurrentTrackInfo();z&&z.isFragmented&&!z.isEmbedded?function(Q,Me,Ve){if(D[Q])for(var ze=D[Q].getConfig().fragmentedTracks,Je=0;Je<ze.length;Je++){var Fe=ze[Je];if(Me.lang===Fe.lang&&(Fe.id?Me.id===Fe.id:Me.index===Fe.index)){var Ie=Ae.getCurrentTrackFor(f.Z.TEXT,Q);(Fe.id?Ie.id!==Fe.id:Ie.index!==Fe.index)?(L[Q].deleteCuesFromTrackIdx(Ve),D[Q].setCurrentFragmentedTrackIdx(Je)):-1===Ve&&ee.trigger(g.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:Q,mediaType:f.Z.TEXT})}}}(ae,z,ve):z&&!z.isFragmented&&ee.trigger(g.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:z},{streamId:ae,mediaType:f.Z.TEXT}),Ae.setTrack(z)}}function Z(ae){return L[ae].getCurrentTrackIdx()}function j(){D={},L={},b={},ie=!0,V=!1,re=!1}return m={deactivateStream:function(ae){if(ae){var le=ae.id;D[le]&&D[le].resetMediaInfos(),L[le]&&L[le].deleteAllTextTracks()}},initialize:function(){ee.on(g.Z.TEXT_TRACKS_QUEUE_INITIALIZED,fe,m),ge.get().streaming.text.webvtt.customRenderingEnabled&&(ee.on(g.Z.PLAYBACK_TIME_UPDATED,be,m),ee.on(g.Z.PLAYBACK_SEEKING,I,m))},initializeForStream:function(ae){var le=ae.id,ve=Ss(X).create({videoModel:Y,settings:ge,streamInfo:ae});ve.initialize(),L[le]=ve;var z=Xh(X).create({errHandler:me,adapter:De,manifestModel:Se,mediaController:Ae,videoModel:Y,textTracks:ve,vttParser:N,vttCustomRenderingParser:A,ttmlParser:U,streamInfo:ae,settings:ge});z.initialize(),D[le]=z,b[le]={},b[le].lastEnabledIndex=-1},createTracks:function(ae){var le=ae.id;L[le]&&L[le].createTracks()},getTextSourceBuffer:function(ae){var le=ae.id;if(D&&D[le])return D[le]},getAllTracksAreDisabled:function(){return ie},addEmbeddedTrack:function(ae,le){var ve=ae.id;D[ve]&&D[ve].addEmbeddedTrack(le)},enableText:function(ae,le){return(0,ue.PS)(le,"boolean"),$()!==le&&(le&&G(ae,b[ae].lastEnabledIndex),le||(b[ae].lastEnabledIndex=Z(ae),V?G(ae,-1):re=!0)),!0},isTextEnabled:$,setTextTrack:G,getCurrentTrackIdx:Z,enableForcedTextStreaming:function(ae){return(0,ue.PS)(ae,"boolean"),te=ae,!0},addMediaInfosToBuffer:function(ae,le,ve){var Q=ae.id;D[Q]&&D[Q].addMediaInfos(le,ve,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function(){j(),ee.off(g.Z.TEXT_TRACKS_QUEUE_INITIALIZED,fe,m),ge.get().streaming.text.webvtt.customRenderingEnabled&&(ee.off(g.Z.PLAYBACK_TIME_UPDATED,be,m),ee.off(g.Z.PLAYBACK_SEEKING,I,m)),Object.keys(D).forEach(function(ae){D[ae].resetEmbedded(),D[ae].reset()})}},te=!1,V=!1,re=!1,N=as(X).getInstance(),A=S_(X).getInstance(),U=Mo(X).getInstance(),ee=(0,S.Z)(X).getInstance(),j(),m}Vd.__dashjs_factory_name="TextController";const C_=C.Z.getClassFactory(Vd);function jd(){var v,m,b,D,L,N,A,U,ee,ie,te,V,re,X,De,me,Se,Ae,Y,ge,fe,be,I,$,G,Z,j,ae,le,ve,z,Q,Me,Ve,ze,Je,Fe,Ie,Ct,mt="You must first call initialize() and set a source before calling this method",bt="You must first call initialize() and set a valid source and view before calling this method",Ft="You must first call attachView() to set the video element before calling this method",sn="You must first call attachSource() with a valid source before calling this method",Be="MediaPlayer not initialized!",Te=this.context,et=(0,S.Z)(Te).getInstance(),Oe=(0,Mt.Z)(Te).getInstance(),nt=(0,M.Z)(Te).getInstance({settings:Oe});function ft(){pr(null),hr(null),D=null,X&&(X.reset(),X=null),De&&(De.reset(),De=null),ge&&ge.reset(),Oe.reset(),Se&&(Se.reset(),Se=null)}function pt(){return!!b&&!!Je.getElement()}function Ot(){return(0,sl.e)()}function Gt(){if(!A)throw bt;return ae.isPaused()}function An(){if(!A)throw bt;return ae.getIsDynamic()}function Sn(Ee){var st=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,It=Q.getCurrentDVRInfo(st);if(!It)return 0;var Qt=ae.getOriginalLiveDelay(),tn=It.range.start+Ee;return tn>It.range.end-Qt&&(tn=It.range.end-Qt),tn}function un(Ee){if(!A)throw bt;var st=Hn().currentTime;if(void 0!==Ee)st=G.getTimeRelativeToStreamId(st,Ee);else if(ae.getIsDynamic()){var It=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,Qt=Q.getCurrentDVRInfo(It);st=null===Qt||0===st?0:Math.max(0,st-Qt.range.start)}return st}function Dn(){if(!A)throw bt;var Ee=Hn().duration;if(ae.getIsDynamic()){var st=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,It=Q.getCurrentDVRInfo(st);Ee=It?It.range.end-It.range.start:0}return Ee}function Mn(Ee){(0,ue.PS)(Ee,"boolean"),U=Ee}function er(){ge.restoreDefaultUTCTimingSources()}function ar(){return Q}function Hn(){if(!Je.getElement())throw Ft;return Je.getElement()}function hr(Ee){if(!L)throw Be;Je.setElement(Ee),Ee&&(gt(),function(){if(!De){var st=dashjs.MetricsReporting;if("function"==typeof st){var It=st(Te).create();De=It.createMetricsReporting({debug:nt,eventBus:et,mediaElement:Hn(),adapter:Ae,dashMetrics:Q,mediaPlayerModel:Y,events:g.Z,constants:f.Z,metricsConstants:O.Z})}}}(),function(){if(!me){var st=dashjs.MssHandler;"function"==typeof st&&(pe.extend(st.errors),me=st(Te).create({eventBus:et,mediaPlayerModel:Y,dashMetrics:Q,manifestModel:Me,playbackController:ae,streamController:G,protectionController:X,baseURLController:be,errHandler:fe,events:g.Z,constants:f.Z,debug:nt,initSegmentType:He.w.INIT_SEGMENT_TYPE,BASE64:Ld,ISOBoxer:Ro,settings:Oe}))}}(),G&&G.switchToVideoElement(ee)),A&&wn(),Ge(ee)}function nr(Ee){if(!N)throw mt;var st=G.getActiveStreamInfo();return st?re.getTracksFor(Ee,st.id):[]}function pr(Ee){var st=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!L)throw Be;"string"==typeof Ee&&Fe.initialize(Ee),null==st&&(st=NaN),isNaN(st)||(st=Math.max(0,st)),ee=st,b=Ee,(N||A)&&wn(),pt()&&Ge(ee)}function jt(){if(!N)throw mt;var Ee=G.getActiveStreamInfo();return Ee?G.getStreamById(Ee.id):null}function wn(){A=!1,N=!1,Ae.reset(),G.reset(),j.reset(),z.reset(),ae.reset(),le.reset(),ve.reset(),ie.reset(),re.reset(),Ct.reset(),X&&(Oe.get().streaming.protection.keepProtectionMediaKeys?X.stop():(X.reset(),X=null,gt())),Z.reset(),Ve.reset(),ze.reset()}function _n(){return nl(Te).create({debug:nt,errHandler:fe,dashMetrics:Q,mediaPlayerModel:Y,requestModifier:(0,xe.Z)(Te).getInstance(),mssHandler:me,settings:Oe})}function gt(){if(X)return X;var Ee=dashjs.Protection;if("function"==typeof Ee){var st=Ee(Te).create();return g.Z.extend(Ee.events),p.Z.extend(Ee.events,{publicOnly:!0}),pe.extend(Ee.errors),I||(I=(0,Nd.Z)(Te).getInstance()),X=st.createProtectionSystem({debug:nt,errHandler:fe,videoModel:Je,customParametersModel:ge,capabilities:I,eventBus:et,events:g.Z,BASE64:Ld,constants:f.Z,cmcdModel:Ve,settings:Oe})}return null}function Ht(){if(!L)throw Be;if(Se)return Se;var Ee=dashjs.OfflineController;if("function"==typeof Ee){g.Z.extend(Ee.events),p.Z.extend(Ee.events,{publicOnly:!0}),pe.extend(Ee.errors);var st=_n(),It=_d(Te).create();return It.setConfig({manifestModel:Me,adapter:Ae,manifestLoader:st,errHandler:fe,contentSteeringController:ve}),Se=Ee(Te).create({debug:nt,manifestUpdater:It,baseURLController:be,manifestLoader:st,manifestModel:Me,mediaPlayerModel:Y,abrController:ie,playbackController:ae,adapter:Ae,errHandler:fe,dashMetrics:Q,timelineConverter:V,segmentBaseController:Ct,schemeLoaderFactory:te,eventBus:et,events:g.Z,errors:pe,constants:f.Z,settings:Oe,dashConstants:h.Z,urlUtils:(0,Ye.Z)(Te).getInstance()})}return null}function ct(Ee){var st=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,It=Q.getCurrentDVRInfo(st);return It?Ee+(It.manifestInfo.availableFrom.getTime()/1e3+It.range.start):0}function Ge(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Se&&Se.resetRecords(),!N&&b&&(N=!0,m.info("Streaming Initialized"),function En(){var Ee=_n();G||(G=vd(Te).getInstance()),Z||(Z=C_(Te).create({errHandler:fe,manifestModel:Me,adapter:Ae,mediaController:re,videoModel:Je,settings:Oe})),$.setConfig({capabilities:I,customParametersModel:ge,adapter:Ae,settings:Oe,manifestModel:Me,errHandler:fe}),G.setConfig({capabilities:I,capabilitiesFilter:$,manifestLoader:Ee,manifestModel:Me,mediaPlayerModel:Y,customParametersModel:ge,protectionController:X,textController:Z,adapter:Ae,dashMetrics:Q,errHandler:fe,timelineConverter:V,videoModel:Je,playbackController:ae,serviceDescriptionController:le,contentSteeringController:ve,abrController:ie,mediaController:re,settings:Oe,baseURLController:be,uriFragmentModel:Fe,segmentBaseController:Ct}),j.setConfig({settings:Oe,playbackController:ae,streamController:G,videoModel:Je,timelineConverter:V,adapter:Ae}),ae.setConfig({streamController:G,serviceDescriptionController:le,dashMetrics:Q,adapter:Ae,videoModel:Je,timelineConverter:V,settings:Oe}),z.setConfig({streamController:G,playbackController:ae,mediaPlayerModel:Y,videoModel:Je,settings:Oe}),ie.setConfig({streamController:G,domStorage:Ie,mediaPlayerModel:Y,customParametersModel:ge,cmsdModel:ze,dashMetrics:Q,adapter:Ae,videoModel:Je,settings:Oe}),Ve.setConfig({abrController:ie,dashMetrics:Q,playbackController:ae}),ze.setConfig({}),ie.initialize(),G.initialize(U,D),Z.initialize(),j.initialize(),z.initialize(),Ve.initialize(),ze.initialize(),ve.initialize(),Ct.initialize()}(),"string"==typeof b?G.load(b,Ee):G.loadWithManifest(b,Ee)),!A&&pt()&&(A=!0,m.info("Playback Initialized"))}return v={initialize:function(Ee,st,It){var Qt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;I||(I=(0,Nd.Z)(Te).getInstance()).setConfig({settings:Oe}),fe||(fe=Vh(Te).getInstance()),I.supportsMediaSource()?(L||(L=!0,V=z0(Te).getInstance(),ie||(ie=Ql(Te).getInstance()).setConfig({settings:Oe}),te||(te=or(Te).getInstance()),ae||(ae=w(Te).getInstance()),re||(re=A0(Te).getInstance()),G||(G=vd(Te).getInstance()),j||(j=Zc(Te).getInstance()),z||(z=yd(Te).getInstance()),le||(le=Ph(Te).getInstance()),ve||(ve=Da(Te).getInstance()),$||($=m_(Te).getInstance()),Ae=P0(Te).getInstance(),Me=gi(Te).getInstance(),Ve=Lt(Te).getInstance(),ze=xi(Te).getInstance(),Q=E_(Te).getInstance({settings:Oe}),Ie=iu(Te).getInstance({settings:Oe}),Ae.setConfig({constants:f.Z,cea608parser:P(),errHandler:fe,BASE64:Ld}),be||(be=Yc(Te).create()),be.setConfig({adapter:Ae,contentSteeringController:ve}),le.setConfig({adapter:Ae}),Ct||(Ct=ss(Te).getInstance({dashMetrics:Q,mediaPlayerModel:Y,errHandler:fe,baseURLController:be,events:g.Z,eventBus:et,debug:nt,boxParser:(0,Aa.Z)(Te).getInstance(),requestModifier:(0,xe.Z)(Te).getInstance(),errors:pe})),re.setConfig({domStorage:Ie,settings:Oe,customParametersModel:ge}),Y.setConfig({playbackController:ae,serviceDescriptionController:le}),ve.setConfig({adapter:Ae,errHandler:fe,dashMetrics:Q,mediaPlayerModel:Y,manifestModel:Me,serviceDescriptionController:le,eventBus:et,requestModifier:(0,xe.Z)(Te).getInstance()}),er(),Mn(void 0===It||It),Ht()),Ee&&hr(Ee),st&&pr(st,Qt),m.info("[dash.js "+Ot()+"] MediaPlayer has been initialized")):fe.error(new K.Z(pe.CAPABILITY_MEDIASOURCE_ERROR_CODE,pe.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(Ee){Ee&&(Ee.capabilities&&(I=Ee.capabilities),Ee.capabilitiesFilter&&($=Ee.capabilitiesFilter),Ee.streamController&&(G=Ee.streamController),Ee.textController&&(Z=Ee.textController),Ee.gapController&&(j=Ee.gapController),Ee.playbackController&&(ae=Ee.playbackController),Ee.serviceDescriptionController&&(le=Ee.serviceDescriptionController),Ee.contentSteeringController&&(ve=Ee.contentSteeringController),Ee.catchupController&&(z=Ee.catchupController),Ee.mediaPlayerModel&&(Y=Ee.mediaPlayerModel),Ee.customParametersModel&&(ge=Ee.customParametersModel),Ee.abrController&&(ie=Ee.abrController),Ee.schemeLoaderFactory&&(te=Ee.schemeLoaderFactory),Ee.mediaController&&(re=Ee.mediaController),Ee.settings&&(Oe=Ee.settings))},on:function(Ee,st,It,Qt){et.on(Ee,st,It,Qt)},off:function(Ee,st,It){et.off(Ee,st,It)},extend:function(Ee,st,It){C.Z.extend(Ee,st,It,Te)},attachView:hr,attachSource:pr,isReady:pt,preload:function(){if(!Je.getElement()&&!N){if(!b)throw sn;Ge(ee)}},play:function(){if(!A)throw bt;(!U||Gt()&&A)&&ae.play(!0)},isPaused:Gt,pause:function(){if(!A)throw bt;ae.pause()},isSeeking:function(){if(!A)throw bt;return ae.isSeeking()},isDynamic:An,getLowLatencyModeEnabled:function(){if(!A)throw bt;return ae.getLowLatencyModeEnabled()},seek:function(Ee){if(!A)throw bt;if((0,ue.PS)(Ee,"number"),isNaN(Ee))throw f.Z.BAD_ARGUMENT_ERROR;Ee<0&&(Ee=0);var st=ae.getIsDynamic()?Sn(Ee):Ee,It=Hn();!ae.getIsDynamic()&&It.duration&&(st=Math.min(It.duration,st)),ae.seek(st,!1,!1,!0)},seekToOriginalLive:function(){A&&An()&&ae.seekToOriginalLive()},setPlaybackRate:function(Ee){Hn().playbackRate=Ee},getPlaybackRate:function(){return Hn().playbackRate},setMute:function(Ee){(0,ue.PS)(Ee,"boolean"),Hn().muted=Ee},isMuted:function(){return Hn().muted},setVolume:function(Ee){if("number"!=typeof Ee||isNaN(Ee)||Ee<0||Ee>1)throw f.Z.BAD_ARGUMENT_ERROR;Hn().volume=Ee},getVolume:function(){return Hn().volume},time:un,duration:Dn,timeAsUTC:function(){if(!A)throw bt;return un()<0?NaN:ct(un())},durationAsUTC:function(){if(!A)throw bt;return ct(Dn())},getActiveStream:jt,getDVRWindowSize:function(){var Ee=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,st=Q.getCurrentDVRInfo(Ee);return st?st.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Sn,getAvailableBaseUrls:function(){var Ee=Me.getValue();return Ee?be.getBaseUrls(Ee):[]},getAvailableLocations:function(){var Ee=Me.getValue();if(!Ee)return[];var st=Ae.getLocation(Ee),It=ve.getSynthesizedLocationElements(st);return st.concat(It)},getTargetLiveDelay:function(){if(!A)throw bt;return ae.getOriginalLiveDelay()},convertToTimeCode:function(Ee){Ee=Math.max(Ee,0);var st=Math.floor(Ee/3600),It=Math.floor(Ee%3600/60),Qt=Math.floor(Ee%3600%60);return(0===st?"":st<10?"0"+st.toString()+":":st.toString()+":")+(It<10?"0"+It.toString():It.toString())+":"+(Qt<10?"0"+Qt.toString():Qt.toString())},formatUTC:function(Ee,st,It){var Qt=arguments.length>3&&void 0!==arguments[3]&&arguments[3],tn=new Date(1e3*Ee),Xn=tn.toLocaleDateString(st),Yr=tn.toLocaleTimeString(st,{hour12:It});return Qt?Yr+" "+Xn:Yr},getVersion:Ot,getDebug:function(){return nt},getBufferLength:function(Ee){var st=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT];if(Ee)return-1!==st.indexOf(Ee)?ar().getCurrentBufferLevel(Ee)||NaN:(m.warn("getBufferLength requested for invalid type"),NaN);var It=st.map(function(Qt){return nr(Qt).length>0?ar().getCurrentBufferLevel(Qt):Number.MAX_VALUE}).reduce(function(Qt,tn){return Math.min(Qt,tn)});return It===Number.MAX_VALUE?NaN:It},getTTMLRenderingDiv:function(){return Je?Je.getTTMLRenderingDiv():null},getVideoElement:Hn,getSource:function(){if(!b)throw sn;return b},updateSource:function(Ee){G.load(b=Ee)},getCurrentLiveLatency:function(){if(!L)throw Be;return A?ae.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(Ee){if(!N)throw mt;return ie.getTopBitrateInfoFor(Ee)},setAutoPlay:Mn,getAutoPlay:function(){return U},getDashMetrics:ar,getQualityFor:function(Ee){if(!N)throw mt;if(Ee===f.Z.IMAGE){var st=jt();if(!st)return-1;var It=st.getThumbnailController();return It?It.getCurrentTrackIndex():-1}return ie.getQualityFor(Ee)},setQualityFor:function(Ee,st){var It=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!N)throw mt;if(Ee===f.Z.IMAGE){var Qt=jt();if(!Qt)return;var tn=Qt.getThumbnailController();tn&&tn.setTrackByIndex(st)}ie.setPlaybackQuality(Ee,G.getActiveStreamInfo(),st,{forceReplace:It})},updatePortalSize:function(){ie.setElementSize(),ie.setWindowResizeEventCalled(!0)},enableText:function(Ee){var st=G.getActiveStreamInfo();return!(!st||!Z)&&Z.enableText(st.id,Ee)},enableForcedTextStreaming:function(Ee){return!(!G.getActiveStreamInfo()||!Z)&&Z.enableForcedTextStreaming(Ee)},isTextEnabled:function(){var Ee=G.getActiveStreamInfo();return!(!Ee||!Z)&&Z.isTextEnabled(Ee)},setTextTrack:function(Ee){if(!A)throw bt;var st=G.getActiveStreamInfo();st&&Z&&Z.setTextTrack(st.id,Ee)},getBitrateInfoListFor:function(Ee){if(!N)throw mt;var st=jt();return st?st.getBitrateListFor(Ee):[]},getStreamsFromManifest:function(Ee){if(!N)throw mt;return Ae.getStreamsInfo(Ee)},getTracksFor:nr,getTracksForTypeFromManifest:function(Ee,st,It){if(!N)throw mt;return(It=It||Ae.getStreamsInfo(st,1)[0])?Ae.getAllMediaInfoForType(It,Ee,st):[]},getCurrentTrackFor:function(Ee){if(!N)throw mt;var st=G.getActiveStreamInfo();return re.getCurrentTrackFor(Ee,st.id)},setInitialMediaSettingsFor:function(Ee,st){if(!L)throw Be;re.setInitialSettings(Ee,st)},getInitialMediaSettingsFor:function(Ee){if(!L)throw Be;return re.getInitialSettings(Ee)},setCurrentTrack:function(Ee){if(!N)throw mt;re.setTrack(Ee)},addABRCustomRule:function(Ee,st,It){ge.addAbrCustomRule(Ee,st,It)},removeABRCustomRule:function(Ee){ge.removeAbrCustomRule(Ee)},removeAllABRCustomRule:function(){ge.removeAllAbrCustomRule()},getABRCustomRules:function(){return ge.getAbrCustomRules()},getAverageThroughput:function(Ee){var st=ie.getThroughputHistory(),It=ae.getIsDynamic();return st?st.getAverageThroughput(Ee,It):0},retrieveManifest:function(Ee,st){var It=_n(),Qt=this;et.on(g.Z.INTERNAL_MANIFEST_LOADED,function tn(Xn){Xn.error?st(null,Xn.error):st(Xn.manifest),et.off(g.Z.INTERNAL_MANIFEST_LOADED,tn,Qt),It.reset()},Qt),Fe.initialize(Ee),It.load(Ee)},addUTCTimingSource:function(Ee,st){ge.addUTCTimingSource(Ee,st)},removeUTCTimingSource:function(Ee,st){ge.removeUTCTimingSource(Ee,st)},clearDefaultUTCTimingSources:function(){ge.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:er,setXHRWithCredentialsForType:function(Ee,st){ge.setXHRWithCredentialsForType(Ee,st)},getXHRWithCredentialsForType:function(Ee){return ge.getXHRWithCredentialsForType(Ee)},getProtectionController:function(){return gt()},attachProtectionController:function(Ee){X=Ee},setProtectionData:function(Ee){D=Ee,G&&G.setProtectionData(D)},registerLicenseRequestFilter:function(Ee){ge.registerLicenseRequestFilter(Ee)},registerLicenseResponseFilter:function(Ee){ge.registerLicenseResponseFilter(Ee)},unregisterLicenseRequestFilter:function(Ee){ge.unregisterLicenseRequestFilter(Ee)},unregisterLicenseResponseFilter:function(Ee){ge.unregisterLicenseResponseFilter(Ee)},registerCustomCapabilitiesFilter:function(Ee){ge.registerCustomCapabilitiesFilter(Ee)},unregisterCustomCapabilitiesFilter:function(Ee){ge.unregisterCustomCapabilitiesFilter(Ee)},setCustomInitialTrackSelectionFunction:function(Ee){ge.setCustomInitialTrackSelectionFunction(Ee)},resetCustomInitialTrackSelectionFunction:function(){ge.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(Ee){if(!Je.getElement())throw Ft;Je.setTTMLRenderingDiv(Ee)},attachVttRenderingDiv:function(Ee){if(!Je.getElement())throw Ft;Je.setVttRenderingDiv(Ee)},getCurrentTextTrackIndex:function(){var Ee=G.getActiveStreamInfo();if(Ee&&Z)return Z.getCurrentTrackIdx(Ee.id)},provideThumbnail:function(Ee,st){if("function"==typeof st)if(Ee<0)st(null);else{var It=ae.getIsDynamic()?Sn(Ee):Ee,Qt=G.getStreamForTime(It);if(null!==Qt){var tn=Qt.getThumbnailController();if(tn)return tn.provide(It,st);st(null)}else st(null)}},getDashAdapter:function(){return Ae},getOfflineController:function(){return Ht()},triggerSteeringRequest:function(){if(ve)return ve.loadSteeringData()},getCurrentSteeringResponseData:function(){if(ve)return ve.getCurrentSteeringResponseData()},getSettings:function(){return Oe.get()},updateSettings:function(Ee){Oe.update(Ee)},resetSettings:function(){Oe.reset()},reset:ft,destroy:function(){ft(),C.Z.deleteSingletonInstances(Te)}},m=nt.getLogger(v),L=!1,A=!1,N=!1,U=!0,ee=NaN,X=null,Se=null,D=null,Ae=null,Ct=null,g.Z.extend(p.Z),Y=oo(Te).getInstance(),ge=(0,Xt.Z)(Te).getInstance(),Je=Us(Te).getInstance(),Fe=kn(Te).getInstance(),v}jd.__dashjs_factory_name="MediaPlayer";var ic=C.Z.getClassFactory(jd);ic.events=p.Z,ic.errors=pe,C.Z.updateClassFactory(jd.__dashjs_factory_name,ic);const tp=ic},8825:(At,Ze,F)=>{"use strict";function ye(S){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(S)}function P(S,g){return(P=Object.setPrototypeOf||function(C,M){return C.__proto__=M,C})(S,g)}function h(S){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(S)}F.d(Ze,{Z:()=>O});const O=new(function(S){!function(y,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),w&&P(y,w)}(p,S);var g,C,M=(g=p,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,w=h(g);if(C){var q=h(this).constructor;y=Reflect.construct(w,arguments,q)}else y=w.apply(this,arguments);return function f(S,g){return!g||"object"!==ye(g)&&"function"!=typeof g?function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(S):g}(this,y)});function p(){var y;return function(w,q){if(!(w instanceof q))throw new TypeError("Cannot call a class as a function")}(this,p),(y=M.call(this)).AST_IN_FUTURE="astInFuture",y.BASE_URLS_UPDATED="baseUrlsUpdated",y.BUFFER_EMPTY="bufferStalled",y.BUFFER_LOADED="bufferLoaded",y.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",y.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",y.DYNAMIC_TO_STATIC="dynamicToStatic",y.ERROR="error",y.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",y.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",y.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",y.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",y.LOG="log",y.MANIFEST_LOADING_STARTED="manifestLoadingStarted",y.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",y.MANIFEST_LOADED="manifestLoaded",y.METRICS_CHANGED="metricsChanged",y.METRIC_CHANGED="metricChanged",y.METRIC_ADDED="metricAdded",y.METRIC_UPDATED="metricUpdated",y.PERIOD_SWITCH_STARTED="periodSwitchStarted",y.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",y.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",y.QUALITY_CHANGE_RENDERED="qualityChangeRendered",y.TRACK_CHANGE_RENDERED="trackChangeRendered",y.STREAM_INITIALIZING="streamInitializing",y.STREAM_UPDATED="streamUpdated",y.STREAM_ACTIVATED="streamActivated",y.STREAM_DEACTIVATED="streamDeactivated",y.STREAM_INITIALIZED="streamInitialized",y.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",y.TEXT_TRACKS_ADDED="allTextTracksAdded",y.TEXT_TRACK_ADDED="textTrackAdded",y.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",y.TTML_PARSED="ttmlParsed",y.TTML_TO_PARSE="ttmlToParse",y.CAPTION_RENDERED="captionRendered",y.CAPTION_CONTAINER_RESIZE="captionContainerResize",y.CAN_PLAY="canPlay",y.CAN_PLAY_THROUGH="canPlayThrough",y.PLAYBACK_ENDED="playbackEnded",y.PLAYBACK_ERROR="playbackError",y.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",y.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",y.PLAYBACK_LOADED_DATA="playbackLoadedData",y.PLAYBACK_PAUSED="playbackPaused",y.PLAYBACK_PLAYING="playbackPlaying",y.PLAYBACK_PROGRESS="playbackProgress",y.PLAYBACK_RATE_CHANGED="playbackRateChanged",y.PLAYBACK_SEEKED="playbackSeeked",y.PLAYBACK_SEEKING="playbackSeeking",y.PLAYBACK_STALLED="playbackStalled",y.PLAYBACK_STARTED="playbackStarted",y.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",y.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",y.PLAYBACK_WAITING="playbackWaiting",y.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",y.EVENT_MODE_ON_START="eventModeOnStart",y.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",y.CONFORMANCE_VIOLATION="conformanceViolation",y.REPRESENTATION_SWITCH="representationSwitch",y.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",y.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",y.INBAND_PRFT="inbandPrft",y}return p}(F(8342).Z))},3393:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=new(function(){function f(){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}var O;return(O=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}())},3860:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=new(function(){function f(){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}var O;return(O=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}())},8080:(At,Ze,F)=>{"use strict";F.d(Ze,{default:()=>R});var ye=function x(){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,x),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};ye.SSL_CONNECTION_FAILED_PREFIX="SSL",ye.DNS_RESOLUTION_FAILED="C00",ye.HOST_UNREACHABLE="C01",ye.CONNECTION_REFUSED="C02",ye.CONNECTION_ERROR="C03",ye.CORRUPT_MEDIA_ISOBMFF="M00",ye.CORRUPT_MEDIA_OTHER="M01",ye.BASE_URL_CHANGED="F00",ye.BECAME_REPORTER="S00";const P=ye;var f=F(1180);function h(x){var ue,oe,xe=(x=x||{}).eventBus,Ye=x.dashMetrics,Ke=x.metricsConstants,Le=x.events;function tt(Pt){var on=new P;if(oe){for(var xn in Pt)Pt.hasOwnProperty(xn)&&(on[xn]=Pt[xn]);on.mpdurl||(on.mpdurl=oe.originalUrl||oe.url),on.terror||(on.terror=new Date),Ye.addDVBErrors(on)}}function it(Pt){Pt.error||(oe=Pt.manifest)}function Re(Pt){tt({errorcode:P.BASE_URL_CHANGED,servicelocation:Pt.entry})}function Xe(){tt({errorcode:P.BECAME_REPORTER})}function Qe(Pt){var on;Pt.metric===Ke.HTTP_REQUEST&&(0===(on=Pt.value).responsecode||null==on.responsecode||on.responsecode>=400||on.responsecode<100||on.responsecode>=600)&&tt({errorcode:on.responsecode||P.CONNECTION_ERROR,url:on.url,terror:on.tresponse,servicelocation:on._serviceLocation})}function St(Pt){var on;switch(Pt.error?Pt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:on=P.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:on=P.CORRUPT_MEDIA_OTHER;break;default:return}tt({errorcode:on})}return ue={initialize:function(){xe.on(Le.MANIFEST_UPDATED,it,ue),xe.on(Le.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Re,ue),xe.on(Le.METRIC_ADDED,Qe,ue),xe.on(Le.METRIC_UPDATED,Qe,ue),xe.on(Le.PLAYBACK_ERROR,St,ue),xe.on(f.Z.BECAME_REPORTING_PLAYER,Xe,ue)},reset:function(){xe.off(Le.MANIFEST_UPDATED,it,ue),xe.off(Le.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Re,ue),xe.off(Le.METRIC_ADDED,Qe,ue),xe.off(Le.METRIC_UPDATED,Qe,ue),xe.off(Le.PLAYBACK_ERROR,St,ue),xe.off(f.Z.BECAME_REPORTING_PLAYER,Xe,ue)}}}h.__dashjs_factory_name="DVBErrorsTranslator";const O=dashjs.FactoryMaker.getSingletonFactory(h);var S=F(2295);function g(x){var ue,oe,xe=!1,Ke=(x=x||{}).mediaElement;return ue={initialize:function(Le){Le&&Le.length&&(Le.forEach(function(tt){var it=tt.starttime;oe.add(it,it+tt.duration)}),xe=!!Le[0]._useWallClockTime)},reset:function(){oe.clear()},isEnabled:function(){var Le,tt=oe.length;if(!tt)return!0;Le=xe?(new Date).getTime()/1e3:Ke.currentTime;for(var it=0;it<tt;it+=1){var Re=oe.start(it),Xe=oe.end(it);if(Re<=Le&&Le<Xe)return!0}return!1}},oe=(0,S.Z)(this.context).create(),ue}g.__dashjs_factory_name="RangeController";const C=dashjs.FactoryMaker.getClassFactory(g);function M(){return{serialise:function x(ue){var oe,xe,Ye=[],Ke=[];for(oe in ue)if(ue.hasOwnProperty(oe)&&0!==oe.indexOf("_")){if(null==(xe=ue[oe])&&(xe=""),Array.isArray(xe)){if(!xe.length)continue;Ke=[],xe.forEach(function(Le){var tt="Object"!==Object.prototype.toString.call(Le).slice(8,-1);Ke.push(tt?Le:x(Le))}),xe=Ke.map(encodeURIComponent).join(",")}else"string"==typeof xe?xe=encodeURIComponent(xe):xe instanceof Date?xe=xe.toISOString():"number"==typeof xe&&(xe=Math.round(xe));Ye.push(oe+"="+xe)}return Ye.join("&")}}}M.__dashjs_factory_name="MetricSerialiser";const p=dashjs.FactoryMaker.getSingletonFactory(M);function y(){var x,ue,oe,xe=window.crypto||window.msCrypto,Ye=Uint32Array,Ke=Math.pow(2,8*Ye.BYTES_PER_ELEMENT)-1;function Le(){xe&&(x||(x=new Ye(10)),xe.getRandomValues(x),ue=0)}return oe={random:function(tt,it){var Re;return tt||(tt=0),it||(it=1),xe?(ue===x.length&&Le(),Re=x[ue]/Ke,ue+=1):Re=Math.random(),Re*(it-tt)+tt}},Le(),oe}y.__dashjs_factory_name="RNG";const w=dashjs.FactoryMaker.getSingletonFactory(y);var q=F(5717);function W(x){var ue,oe,xe,Ye,Ke,Le,tt,it,Re=this.context,Xe=[],Qe=(x=x||{}).metricsConstants;function St(){Ke=!1,Le=!1,tt=null,it=null}return ue={report:function(Pt,on){Array.isArray(on)||(on=[on]),Le&&it.isEnabled()&&on.forEach(function(xn){var Cn=oe.serialise(xn);Pt!==Qe.DVB_ERRORS&&(Cn="metricname=".concat(Pt,"&").concat(Cn)),function(vn,Yn,jn){var br=new XMLHttpRequest;br.withCredentials=xe.getXHRWithCredentialsForType(Qe.HTTP_REQUEST_DVB_REPORTING_TYPE);var mi=function(){var Si=Xe.indexOf(br);-1!==Si&&(Xe.splice(Si,1),!(br.status>=200&&br.status<300)&&jn&&jn())};Xe.push(br);try{br.open("GET",vn),br.onloadend=mi,br.onerror=mi,br.send()}catch{br.onerror()}}(Cn="".concat(tt,"?").concat(Cn),0,function(){Le=!1})})},initialize:function(Pt,on){var xn;if(it=on,!(tt=Pt.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");Ke||((xn=Pt.dvb_probability)&&(1e3===xn||xn/1e3>=Ye.random())&&(Le=!0),Ke=!0)},reset:function(){St()}},oe=p(Re).getInstance(),Ye=w(Re).getInstance(),xe=(0,q.Z)(Re).getInstance(),St(),ue}W.__dashjs_factory_name="DVBReporting";const ne=dashjs.FactoryMaker.getClassFactory(W);function J(x){var oe={"urn:dvb:dash:reporting:2014":ne},xe=this.context,Ye=(x=x||{}).debug?x.debug.getLogger(void 0):{},Ke=x.metricsConstants,Le=x.mediaPlayerModel||{};return{create:function(tt,it){var Re;try{(Re=oe[tt.schemeIdUri](xe).create({metricsConstants:Ke,mediaPlayerModel:Le})).initialize(tt,it)}catch(Xe){Re=null,Ye.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(tt.schemeIdUri," (").concat(Xe.message,")"))}return Re},register:function(tt,it){oe[tt]=it},unregister:function(tt){delete oe[tt]}}}J.__dashjs_factory_name="ReportingFactory";const se=dashjs.FactoryMaker.getSingletonFactory(J);function H(x){var ue=[],oe=se(this.context).getInstance(x);return{initialize:function(xe,Ye){xe.some(function(Ke){var Le=oe.create(Ke,Ye);if(Le)return ue.push(Le),!0})},reset:function(){ue.forEach(function(xe){return xe.reset()}),ue=[]},report:function(xe,Ye){ue.forEach(function(Ke){return Ke.report(xe,Ye)})}}}H.__dashjs_factory_name="ReportingController";const k=dashjs.FactoryMaker.getClassFactory(H);function K(){return{reconstructFullMetricName:function(x,ue,oe){var xe=x;return ue&&(xe+="("+ue,oe&&oe.length&&(xe+=","+oe),xe+=")"),xe},validateN:function(x){if(!x)throw new Error("missing n");if(isNaN(x))throw new Error("n is NaN");if(x<0)throw new Error("n must be positive");return x}}}K.__dashjs_factory_name="HandlerHelpers";const de=dashjs.FactoryMaker.getSingletonFactory(K);function ce(x){var ue,oe,xe,Ye,Ke;x=x||{};var tt=de(this.context).getInstance(),it=[],Re=x.metricsConstants;function Xe(){var Qe=function(){try{return Object.keys(it).map(function(St){return it[St]}).reduce(function(St,Pt){return St.level<Pt.level?St:Pt})}catch{return}}();Qe&&Ke!==Qe.t&&(Ke=Qe.t,ue.report(xe,Qe))}return{initialize:function(Qe,St,Pt){St&&(oe=tt.validateN(Pt),ue=St,xe=tt.reconstructFullMetricName(Qe,Pt),Ye=setInterval(Xe,oe))},reset:function(){clearInterval(Ye),Ye=null,oe=0,ue=null,Ke=null},handleNewMetric:function(Qe,St,Pt){Qe===Re.BUFFER_LEVEL&&(it[Pt]=St)}}}ce.__dashjs_factory_name="BufferLevelHandler";const qe=dashjs.FactoryMaker.getClassFactory(ce),ot=dashjs.FactoryMaker.getClassFactory(function(x){var ue,oe=(x=x||{}).eventBus,xe=x.metricsConstants;function Ye(){oe.off(f.Z.METRICS_INITIALISATION_COMPLETE,Ye,this),oe.trigger(f.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(Ke,Le){Le&&(ue=Le,oe.on(f.Z.METRICS_INITIALISATION_COMPLETE,Ye,this))},reset:function(){ue=null},handleNewMetric:function(Ke,Le){Ke===xe.DVB_ERRORS&&ue&&ue.report(Ke,Le)}}});function pe(x){var ue,oe,xe,Ye,Ke;x=x||{};var Le=[],tt=de(this.context).getInstance(),it=x.metricsConstants;function Re(){Le.length&&ue&&ue.report(Ye,Le),Le=[]}return{initialize:function(Xe,Qe,St,Pt){Qe&&(oe=tt.validateN(St),ue=Qe,Pt&&Pt.length&&(xe=Pt),Ye=tt.reconstructFullMetricName(Xe,St,Pt),Ke=setInterval(Re,oe))},reset:function(){clearInterval(Ke),Ke=null,oe=null,xe=null,Le=[],ue=null},handleNewMetric:function(Xe,Qe){Xe===it.HTTP_REQUEST&&(xe&&xe!==Qe.type||Le.push(Qe))}}}pe.__dashjs_factory_name="HttpListHandler";const Mt=dashjs.FactoryMaker.getClassFactory(pe);function He(){var x,ue;return{initialize:function(oe,xe){x=oe,ue=xe},reset:function(){ue=null,x=void 0},handleNewMetric:function(oe,xe){oe===x&&ue&&ue.report(x,xe)}}}He.__dashjs_factory_name="GenericMetricHandler";const $e=dashjs.FactoryMaker.getClassFactory(He);function Ne(x){var oe=(x=x||{}).debug?x.debug.getLogger(void 0):{},xe=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,Ye=this.context,Ke={BufferLevel:qe,DVBErrors:ot,HttpList:Mt,PlayList:$e,RepSwitchList:$e,TcpList:$e};return{create:function(Le,tt){var it,Re=Le.match(xe);if(Re){try{(it=Ke[Re[1]](Ye).create({eventBus:x.eventBus,metricsConstants:x.metricsConstants})).initialize(Re[1],tt,Re[3],Re[5])}catch(Xe){it=null,oe.error("MetricsHandlerFactory: Could not create handler for type ".concat(Re[1]," with args ").concat(Re[3],", ").concat(Re[5]," (").concat(Xe.message,")"))}return it}},register:function(Le,tt){Ke[Le]=tt},unregister:function(Le){delete Ke[Le]}}}Ne.__dashjs_factory_name="MetricsHandlerFactory";const je=dashjs.FactoryMaker.getSingletonFactory(Ne);function rt(x){var ue,oe=[],Ye=(x=x||{}).eventBus,Ke=x.events,Le=je(this.context).getInstance({debug:x.debug,eventBus:x.eventBus,metricsConstants:x.metricsConstants});function tt(it){oe.forEach(function(Re){Re.handleNewMetric(it.metric,it.value,it.mediaType)})}return ue={initialize:function(it,Re){it.split(",").forEach(function(Xe,Qe,St){var Pt;if(-1!==Xe.indexOf("(")&&-1===Xe.indexOf(")")){var on=St[Qe+1];on&&-1===on.indexOf("(")&&-1!==on.indexOf(")")&&(Xe+=","+on,delete St[Qe+1])}(Pt=Le.create(Xe,Re))&&oe.push(Pt)}),Ye.on(Ke.METRIC_ADDED,tt,ue),Ye.on(Ke.METRIC_UPDATED,tt,ue)},reset:function(){Ye.off(Ke.METRIC_ADDED,tt,ue),Ye.off(Ke.METRIC_UPDATED,tt,ue),oe.forEach(function(it){return it.reset()}),oe=[]}}}rt.__dashjs_factory_name="MetricsHandlersController";const Rt=dashjs.FactoryMaker.getClassFactory(rt);function ut(x){var ue,oe,xe;x=x||{};var Ye=this.context;function Ke(){ue&&ue.reset(),oe&&oe.reset(),xe&&xe.reset()}return{initialize:function(Le){try{(xe=C(Ye).create({mediaElement:x.mediaElement})).initialize(Le.Range),(oe=k(Ye).create({debug:x.debug,metricsConstants:x.metricsConstants,mediaPlayerModel:x.mediaPlayerModel})).initialize(Le.Reporting,xe),(ue=Rt(Ye).create({debug:x.debug,eventBus:x.eventBus,metricsConstants:x.metricsConstants,events:x.events})).initialize(Le.metrics,oe)}catch(tt){throw Ke(),tt}},reset:Ke}}ut.__dashjs_factory_name="MetricsController";const ke=dashjs.FactoryMaker.getClassFactory(ut),ht=function x(){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,x),this.metrics="",this.Range=[],this.Reporting=[]},kt=function x(){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,x),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},We=function x(){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,x),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function dt(x){var ue=(x=x||{}).adapter,oe=x.constants;return{getMetrics:function(xe){var Ye=[];return xe&&xe.Metrics_asArray&&xe.Metrics_asArray.forEach(function(Ke){var Le=new ht,tt=ue.getIsDynamic(xe);Ke.hasOwnProperty("metrics")&&(Le.metrics=Ke.metrics,Ke.Range_asArray&&Ke.Range_asArray.forEach(function(it){var Xe,St,Pt,on,xn,Re=new kt;Re.starttime=(Xe=xe,St=it,xn=0,tt?xn=ue.getAvailabilityStartTime(Xe)/1e3:(Pt=ue.getRegularPeriods(Xe)).length&&(xn=Pt[0].start),on=xn,St&&St.hasOwnProperty(oe.START_TIME)&&(on+=St.starttime),on),Re.duration=it.hasOwnProperty("duration")?it.duration:ue.getDuration(xe),Re._useWallClockTime=tt,Le.Range.push(Re)}),Ke.Reporting_asArray&&(Ke.Reporting_asArray.forEach(function(it){var Re=new We;it.hasOwnProperty(oe.SCHEME_ID_URI)&&(Re.schemeIdUri=it.schemeIdUri,it.hasOwnProperty("value")&&(Re.value=it.value),it.hasOwnProperty(oe.DVB_REPORTING_URL)&&(Re.dvb_reportingUrl=it[oe.DVB_REPORTING_URL]),it.hasOwnProperty(oe.DVB_PROBABILITY)&&(Re.dvb_probability=it[oe.DVB_PROBABILITY]),Le.Reporting.push(Re))}),Ye.push(Le)))}),Ye}}}dt.__dashjs_factory_name="ManifestParsing";const Ce=dashjs.FactoryMaker.getSingletonFactory(dt);function _e(x){var ue,oe={},xe=this.context,Ye=(x=x||{}).eventBus,Ke=x.events;function Le(it){if(!it.error){var Re=Object.keys(oe);Ce(xe).getInstance({adapter:x.adapter,constants:x.constants}).getMetrics(it.manifest).forEach(function(Xe){var Qe=JSON.stringify(Xe);if(oe.hasOwnProperty(Qe))Re.splice(Qe,1);else try{var St=ke(xe).create(x);St.initialize(Xe),oe[Qe]=St}catch{}}),Re.forEach(function(Xe){oe[Xe].reset(),delete oe[Xe]}),Ye.trigger(f.Z.METRICS_INITIALISATION_COMPLETE)}}function tt(){Object.keys(oe).forEach(function(it){oe[it].reset()}),oe={}}return ue={reset:function(){Ye.off(Ke.MANIFEST_UPDATED,Le,ue),Ye.off(Ke.STREAM_TEARDOWN_COMPLETE,tt,ue)}},Ye.on(Ke.MANIFEST_UPDATED,Le,ue),Ye.on(Ke.STREAM_TEARDOWN_COMPLETE,tt,ue),ue}_e.__dashjs_factory_name="MetricsCollectionController";const at=dashjs.FactoryMaker.getClassFactory(_e);function E(){var x=this.context;return{createMetricsReporting:function(ue){return O(x).getInstance({eventBus:ue.eventBus,dashMetrics:ue.dashMetrics,metricsConstants:ue.metricsConstants,events:ue.events}).initialize(),at(x).create(ue)},getReportingFactory:function(){return se(x).getInstance()},getMetricsHandlerFactory:function(){return je(x).getInstance()}}}E.__dashjs_factory_name="MetricsReporting";var _=dashjs.FactoryMaker.getClassFactory(E);_.events=f.Z,dashjs.FactoryMaker.updateClassFactory(E.__dashjs_factory_name,_);const R=_},1180:(At,Ze,F)=>{"use strict";function ye(S){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(S)}function P(S,g){return(P=Object.setPrototypeOf||function(C,M){return C.__proto__=M,C})(S,g)}function h(S){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(S)}F.d(Ze,{Z:()=>O});const O=new(function(S){!function(y,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),w&&P(y,w)}(p,S);var g,C,M=(g=p,C=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,w=h(g);if(C){var q=h(this).constructor;y=Reflect.construct(w,arguments,q)}else y=w.apply(this,arguments);return function f(S,g){return!g||"object"!==ye(g)&&"function"!=typeof g?function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(S):g}(this,y)});function p(){var y;return function(w,q){if(!(w instanceof q))throw new TypeError("Cannot call a class as a function")}(this,p),(y=M.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",y.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",y.CMCD_DATA_GENERATED="cmcdDataGenerated",y}return p}(F(8342).Z))},5717:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>C});var ye=F(2610),P=F(5448),f=F(1264),h=F(3106),O=F(1767),S=F(3393);function g(){var M,p,y,w,q,W,ne,J,H=(0,f.Z)(this.context).getInstance();function k(){w=[],q=[],W=[],J=[],ne=null,p=[]}function K(ot,pe){var Mt=-1;ot.some(function(He,$e){if(He===pe)return Mt=$e,!0}),Mt<0||ot.splice(Mt,1)}function de(ot){var pe;for(pe=0;pe<J.length;pe++)if(J[pe].rulename===ot)return pe;return-1}function ce(ot,pe){qe(ot,pe);var Mt=new ye.Z;Mt.schemeIdUri=ot,Mt.value=pe,p.push(Mt)}function qe(ot,pe){(0,h.PS)(ot,"string"),(0,h.PS)(pe,"string"),p.forEach(function(Mt,He){Mt.schemeIdUri===ot&&Mt.value===pe&&p.splice(He,1)})}return M={getCustomInitialTrackSelectionFunction:function(){return ne},setCustomInitialTrackSelectionFunction:function(ot){ne=ot},resetCustomInitialTrackSelectionFunction:function(){ne=null},getLicenseResponseFilters:function(){return q},getLicenseRequestFilters:function(){return w},getCustomCapabilitiesFilters:function(){return W},registerCustomCapabilitiesFilter:function(ot){W.push(ot)},registerLicenseResponseFilter:function(ot){q.push(ot)},registerLicenseRequestFilter:function(ot){w.push(ot)},unregisterCustomCapabilitiesFilter:function(ot){K(W,ot)},unregisterLicenseResponseFilter:function(ot){K(q,ot)},unregisterLicenseRequestFilter:function(ot){K(w,ot)},addAbrCustomRule:function(ot,pe,Mt){if("string"!=typeof ot||ot!==O.Z.ABANDON_FRAGMENT_RULES&&ot!==O.Z.QUALITY_SWITCH_RULES||"string"!=typeof pe)throw S.Z.BAD_ARGUMENT_ERROR;var He=de(pe);-1===He?J.push({type:ot,rulename:pe,rule:Mt}):(J[He].type=ot,J[He].rule=Mt)},removeAllAbrCustomRule:function(){J=[]},removeAbrCustomRule:function(ot){if(ot){var pe=de(ot);-1!==pe&&J.splice(pe,1)}else J=[]},getAbrCustomRules:function(){return J},addUTCTimingSource:ce,removeUTCTimingSource:qe,getUTCTimingSources:function(){return p},clearDefaultUTCTimingSources:function(){p=[]},restoreDefaultUTCTimingSources:function(){var ot=H.get().streaming.utcSynchronization.defaultTimingSource;ce(ot.scheme,ot.value)},setXHRWithCredentialsForType:function ot(pe,Mt){pe?y[pe]=!!Mt:Object.keys(y).forEach(function(He){ot(He,Mt)})},getXHRWithCredentialsForType:function(ot){var pe=y[ot];return void 0===pe?y.default:pe},setConfig:function(){},reset:function(){k()}},y={default:!1},k(),M}g.__dashjs_factory_name="CustomParametersModel";const C=P.Z.getSingletonFactory(g)},9032:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(7473);function f(O){var S=(O=O||{}).requestModifier;function g(C){var M=new Date,p=C.request,y=new XMLHttpRequest;if(y.open(C.method,C.url,!0),p.responseType&&(y.responseType=p.responseType),p.range&&y.setRequestHeader("Range","bytes="+p.range),p.requestStartDate||(p.requestStartDate=M),S&&S.modifyRequestHeader&&(y=S.modifyRequestHeader(y,{url:C.url})),C.headers)for(var w in C.headers){var q=C.headers[w];q&&y.setRequestHeader(w,q)}y.withCredentials=C.withCredentials,y.onload=C.onload,y.onloadend=C.onend,y.onerror=C.onerror,y.onprogress=C.progress,y.onabort=C.onabort,y.ontimeout=C.ontimeout,y.timeout=C.timeout,y.send(),C.response=y}return{load:function(C){S&&S.modifyRequest?(0,P.k)(C,S).then(function(){return g(C)}):g(C)},abort:function(C){var M=C.response;M.onloadend=M.onerror=M.onprogress=void 0,M.abort()}}}f.__dashjs_factory_name="XHRLoader";const h=ye.Z.getClassFactory(f)},1737:(At,Ze,F)=>{"use strict";F.d(Ze,{default:()=>Ka});var P={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};const f=function(){function Zt(){!function(lt,Nt){if(!(lt instanceof Nt))throw new TypeError("Cannot call a class as a function")}(this,Zt)}var Vt;return(Vt=[{key:"findCencContentProtection",value:function(lt){for(var Nt=null,vt=0;vt<lt.length;++vt){var xt=lt[vt];"urn:mpeg:dash:mp4protection:2011"!==xt.schemeIdUri.toLowerCase()||"cenc"!==xt.value.toLowerCase()&&"cbcs"!==xt.value.toLowerCase()||(Nt=xt)}return Nt}},{key:"getPSSHData",value:function(lt){var Nt=8,vt=new DataView(lt),xt=vt.getUint8(Nt);return Nt+=20,xt>0&&(Nt+=4+16*vt.getUint32(Nt)),lt.slice(Nt+=4)}},{key:"getPSSHForKeySystem",value:function(lt,Nt){var vt=Zt.parsePSSHList(Nt);return lt&&vt.hasOwnProperty(lt.uuid.toLowerCase())?vt[lt.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(lt,Nt){return"pssh"in lt?(lt.pssh.__text=lt.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),Nt.decodeArray(lt.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(lt){if(null==lt)return[];for(var Nt=new DataView(lt.buffer||lt),vt={},xt=0;;){var en,nn,bn=void 0,hn=xt;if(xt>=Nt.buffer.byteLength)break;if(en=xt+Nt.getUint32(xt),1886614376===Nt.getUint32(xt+=4))if(0===(nn=Nt.getUint8(xt+=4))||1===nn){xt++,xt+=3,bn="";var an=void 0,Bt=void 0;for(an=0;an<4;an++)bn+=1===(Bt=Nt.getUint8(xt+an).toString(16)).length?"0"+Bt:Bt;for(xt+=4,bn+="-",an=0;an<2;an++)bn+=1===(Bt=Nt.getUint8(xt+an).toString(16)).length?"0"+Bt:Bt;for(xt+=2,bn+="-",an=0;an<2;an++)bn+=1===(Bt=Nt.getUint8(xt+an).toString(16)).length?"0"+Bt:Bt;for(xt+=2,bn+="-",an=0;an<2;an++)bn+=1===(Bt=Nt.getUint8(xt+an).toString(16)).length?"0"+Bt:Bt;for(xt+=2,bn+="-",an=0;an<6;an++)bn+=1===(Bt=Nt.getUint8(xt+an).toString(16)).length?"0"+Bt:Bt;xt+=6,xt+=4,vt[bn=bn.toLowerCase()]=Nt.buffer.slice(hn,en),xt=en}else xt=en;else xt=en}return vt}},{key:"getLicenseServerUrlFromMediaInfo",value:function(lt,Nt){try{if(!lt||0===lt.length)return null;for(var vt=0,xt=null;vt<lt.length&&!xt;){var en=lt[vt];if(en&&en.contentProtection&&en.contentProtection.length>0){var nn=en.contentProtection.filter(function(Bn){return Bn.schemeIdUri&&Bn.schemeIdUri===Nt});if(nn&&nn.length>0)for(var bn=0;bn<nn.length&&!xt;){for(var hn=nn[bn],an=0;an<P.attributes.length&&!xt;){for(var Bt=0,mn=P.attributes[an];Bt<P.prefixes.length&&!xt;)hn[mn]&&hn[mn].__prefix&&hn[mn].__prefix===P.prefixes[Bt]&&hn[mn].__text&&(xt=hn[mn].__text),Bt+=1;an+=1}bn+=1}}vt+=1}return xt}catch{return null}}}])&&function ye(Zt,Ut){for(var Vt=0;Vt<Ut.length;Vt++){var lt=Ut[Vt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Zt,lt.key,lt)}}(Zt,Vt),Zt}(),h=function Zt(Ut,Vt){(function(lt,Nt){if(!(lt instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.contentType=Ut,this.robustness=Vt},O=function Zt(Ut,Vt,lt,Nt,vt){(function(xt,en){if(!(xt instanceof en))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.initDataTypes=["cenc"],Ut&&Ut.length&&(this.audioCapabilities=Ut),Vt&&Vt.length&&(this.videoCapabilities=Vt),this.distinctiveIdentifier=lt,this.persistentState=Nt,this.sessionTypes=vt};function S(Zt){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(Zt)}function g(Zt,Ut){return(g=Object.setPrototypeOf||function(Vt,lt){return Vt.__proto__=lt,Vt})(Zt,Ut)}function M(Zt){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(Ut){return Ut.__proto__||Object.getPrototypeOf(Ut)})(Zt)}const p=new(function(Zt){!function(vt,xt){if("function"!=typeof xt&&null!==xt)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create(xt&&xt.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),xt&&g(vt,xt)}(Nt,Zt);var Ut,Vt,lt=(Ut=Nt,Vt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var vt,xt=M(Ut);if(Vt){var en=M(this).constructor;vt=Reflect.construct(xt,arguments,en)}else vt=xt.apply(this,arguments);return function C(Zt,Ut){return!Ut||"object"!==S(Ut)&&"function"!=typeof Ut?function(Vt){if(void 0===Vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Vt}(Zt):Ut}(this,vt)});function Nt(){var vt;return function(xt,en){if(!(xt instanceof en))throw new TypeError("Cannot call a class as a function")}(this,Nt),(vt=lt.call(this)).MEDIA_KEYERR_CODE=100,vt.MEDIA_KEYERR_UNKNOWN_CODE=101,vt.MEDIA_KEYERR_CLIENT_CODE=102,vt.MEDIA_KEYERR_SERVICE_CODE=103,vt.MEDIA_KEYERR_OUTPUT_CODE=104,vt.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,vt.MEDIA_KEYERR_DOMAIN_CODE=106,vt.MEDIA_KEY_MESSAGE_ERROR_CODE=107,vt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,vt.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,vt.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,vt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,vt.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,vt.KEY_SESSION_CREATED_ERROR_CODE=113,vt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,vt.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",vt.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",vt.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",vt.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",vt.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",vt.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",vt.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",vt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",vt.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",vt.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",vt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",vt.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",vt.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",vt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",vt}return Nt}(F(2230).Z));var y=F(5459);const w=function Zt(Ut,Vt,lt,Nt,vt,xt,en,nn){(function(bn,hn){if(!(bn instanceof hn))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.url=Ut,this.method=Vt,this.responseType=lt,this.headers=Nt,this.withCredentials=vt,this.messageType=xt,this.sessionId=en,this.data=nn},q=function Zt(Ut,Vt,lt){(function(Nt,vt){if(!(Nt instanceof vt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.url=Ut,this.headers=Vt,this.data=lt};var W=F(7855),ne=F(703),J=F(3393),se=F(5448);function H(Zt){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(Zt)}function k(Zt){var Ut,Vt,lt,Nt,vt,xt,en,nn,bn,hn,an,Bt=(Zt=Zt||{}).protectionKeyController,mn=Zt.protectionModel,pn=Zt.eventBus,Bn=Zt.events,kr=Zt.BASE64,Rn=Zt.constants,qt=[],Lt=Zt.cmcdModel,rn=Zt.settings,Pn=Zt.customParametersModel;function $n(){if(!(pn&&pn.hasOwnProperty("on")&&Bt&&Bt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function Sr(Xt,On){nn||bn?nn&&xr():function(Wn,di){if(!bn){bn=!0;var ei,or=[];Wn=Wn.sort(function(fi,Gr){return(vt&&vt[fi.ks.systemString]&&vt[fi.ks.systemString].priority>=0?vt[fi.ks.systemString].priority:Wn.length)-(vt&&vt[Gr.ks.systemString]&&vt[Gr.ks.systemString].priority>=0?vt[Gr.ks.systemString].priority:Wn.length)});for(var Lr=0;Lr<Wn.length;Lr++){var Rr=Sa(Wn[Lr]);or.push({ks:Wn[Lr].ks,configs:[Rr],protData:Wn[Lr].protData})}mn.requestKeySystemAccess(or).then(function(fi){var Gr=(ei=fi.data).mksa&&ei.mksa.selectedSystemString?ei.mksa.selectedSystemString:ei.keySystem.systemString;return Vt.info("DRM: KeySystem Access Granted for system string ("+Gr+")!  Selecting key system..."),mn.selectKeySystem(ei)}).then(function(fi){if(nn=fi,bn=!1,mn){pn.trigger(Bn.KEY_SYSTEM_SELECTED,{data:ei});var Gr=yi(nn);Gr&&Gr.serverCertificate&&Gr.serverCertificate.length>0&&mn.setServerCertificate(kr.decodeArray(Gr.serverCertificate).buffer),xr()}}).catch(function(fi){nn=null,bn=!1,di||pn.trigger(Bn.KEY_SYSTEM_SELECTED,{data:null,error:new y.Z(p.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,p.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+fi.error)})})}}(Xt,On)}function xr(){for(var Xt,On=0;On<lt.length;On++)for(Xt=0;Xt<lt[On].length;Xt++)if(nn===lt[On][Xt].ks){Di(lt[On][Xt]);break}lt=[]}function Di(Xt){if(Bt.isClearKey(nn)&&Xt.protData&&Xt.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Xt.protData.clearkeys).length){var On={kids:Object.keys(Xt.protData.clearkeys)};Xt.initData=(new TextEncoder).encode(JSON.stringify(On))}Xt.sessionId?Ci(Xt):null!==Xt.initData&&Ur(Xt)}function Ci(Xt){$n(),mn.loadKeySession(Xt)}function Ur(Xt){var On=f.getPSSHForKeySystem(nn,Xt?Xt.initData:null);if(On){if(function(Wn){if(!Wn)return!1;try{for(var di=mn.getSessions(),ei=0;ei<di.length;ei++)if(di[ei].getKeyId()===Wn)return!0;return!1}catch{return!1}}(Xt.keyId)||ai(On))return;try{Xt.initData=On,mn.createKeySession(Xt)}catch(Wn){pn.trigger(Bn.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+Wn.message)})}}else Xt&&Xt.initData?mn.createKeySession(Xt):pn.trigger(Bn.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(nn?nn.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function yi(Xt){if(Xt){var On=Xt.systemString;if(vt)return On in vt?vt[On]:null}return null}function ai(Xt){if(!Xt)return!1;try{for(var On=mn.getAllInitData(),Wn=0;Wn<On.length;Wn++)if(Bt.initDataEquals(Xt,On[Wn]))return Vt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Bi(Xt){$n(),Xt?(mn.setMediaElement(Xt),pn.on(Bn.NEED_KEY,Jn,Ut)):null===Xt&&(mn.setMediaElement(Xt),pn.off(Bn.NEED_KEY,Jn,Ut))}function Sa(Xt){var On=Xt.protData,Wn=[],di=[],ei=On&&On.audioRobustness&&On.audioRobustness.length>0?On.audioRobustness:en,or=On&&On.videoRobustness&&On.videoRobustness.length>0?On.videoRobustness:en,Lr=Xt.sessionType,Rr=On&&On.distinctiveIdentifier?On.distinctiveIdentifier:"optional",fi=On&&On.persistentState?On.persistentState:"temporary"===Lr?"optional":"required";return Nt.forEach(function(Gr){Gr.type===Rn.AUDIO?Wn.push(new h(Gr.codec,ei)):Gr.type===Rn.VIDEO&&di.push(new h(Gr.codec,or))}),new O(Wn,di,Rr,fi,[Lr])}function ta(Xt){Xt.error?pn.trigger(Bn.KEY_STATUSES_CHANGED,{data:null,error:Xt.error}):Vt.debug("DRM: key status = "+Xt.status)}function Zo(Xt){Vt.debug("DRM: onKeyMessage");var On=Xt.data;pn.trigger(Bn.KEY_MESSAGE,{data:On});var Wn=On.messageType?On.messageType:"license-request",di=On.message,ei=On.sessionToken,or=yi(nn),Lr=Bt.getLicenseServerModelInstance(nn,or,Wn),Rr={sessionToken:ei,messageType:Wn};if(di&&0!==di.byteLength){if(!Lr)return Vt.debug("DRM: License server request not required for this message (type = "+Xt.data.messageType+").  Session ID = "+ei.getSessionId()),void no(Rr);if(Bt.isClearKey(nn)){var fi=Bt.processClearKeyLicenseRequest(nn,or,di);if(fi&&fi.keyPairs&&fi.keyPairs.length>0)return Vt.debug("DRM: ClearKey license request handled by application!"),no(Rr),void mn.updateKeySession(ei,fi)}!function(Gr,Ar,Un){var rs=Gr.sessionToken,ho=Gr.messageType?Gr.messageType:"license-request",Ca={sessionToken:rs,messageType:ho},ys=nn?nn.systemString:null,zt=function(ti,Ia,Da,na,xh){var is=null,_d=na.message;if(ti&&ti.serverURL){var Ai=ti.serverURL;"string"==typeof Ai&&""!==Ai?is=Ai:"object"===H(Ai)&&Ai.hasOwnProperty(Ia)&&(is=Ai[Ia])}else if(ti&&ti.laURL&&""!==ti.laURL)is=ti.laURL;else if(!(is=f.getLicenseServerUrlFromMediaInfo(Nt,nn.schemeIdURI))&&!Bt.isClearKey(nn)){var tr=f.getPSSHData(Da.initData);(is=nn.getLicenseServerURLFromInitData(tr))||(is=na.laURL)}return xh.getServerURLFromMessage(is,_d,Ia)}(Un,ho,rs,Gr,Ar);if(zt){var bs={},sr=!1;Un&&kl(bs,Un.httpRequestHeaders);var Fr=Gr.message;kl(bs,nn.getRequestHeadersFromMessage(Fr)),Object.keys(bs).forEach(function(ti){"authorization"===ti.toLowerCase()&&(sr=!0)}),Un&&"boolean"==typeof Un.withCredentials&&(sr=Un.withCredentials);var jc=function(ti){if(mn)if(ti.status>=200&&ti.status<=299){var Ia=ne.Z.parseHttpHeaders(ti.getAllResponseHeaders?ti.getAllResponseHeaders():null),Da=new q(ti.responseURL,Ia,ti.response);Ao(Pn.getLicenseResponseFilters(),Da).then(function(){var na=Ar.getLicenseMessage(Da.data,ys,ho);null!==na?(no(Ca),mn.updateKeySession(rs,na)):xi(ti,Ca,ys,ho,Ar)})}else xi(ti,Ca,ys,ho,Ar)},hd=function(ti){no(Ca,new y.Z(p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ys+' update, XHR aborted. status is "'+ti.statusText+'" ('+ti.status+"), readyState is "+ti.readyState))},pd=function(ti){no(Ca,new y.Z(p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ys+' update, XHR error. status is "'+ti.statusText+'" ('+ti.status+"), readyState is "+ti.readyState))},Aa=nn.getLicenseRequestFromMessage(Fr),ro=Ar.getHTTPMethod(ho),Hc=Ar.getResponseType(ys,ho),md=Un&&!isNaN(Un.httpTimeout)?Un.httpTimeout:8e3,gd=rs.getSessionId()||null,Es=new w(zt,ro,Hc,bs,sr,ho,gd,Aa),Dh=isNaN(rn.get().streaming.retryAttempts[W.w.LICENSE])?3:rn.get().streaming.retryAttempts[W.w.LICENSE];Ao(Pn.getLicenseRequestFilters(),Es).then(function(){Pl(Es,Dh,md,jc,hd,pd)})}else no(Ca,new y.Z(p.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,p.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(On,Lr,or)}else no(Rr,new y.Z(p.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,p.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function no(Xt,On){pn.trigger(Bn.LICENSE_REQUEST_COMPLETE,{data:Xt,error:On})}function Pl(Xt,On,Wn,di,ei,or){var Lr=new XMLHttpRequest;if(rn.get().streaming.cmcd&&rn.get().streaming.cmcd.enabled&&rn.get().streaming.cmcd.mode===J.Z.CMCD_MODE_QUERY){var Rr=Lt.getQueryParameter({url:Xt.url,type:W.w.LICENSE});Rr&&(Xt.url=ne.Z.addAditionalQueryParameterToUrl(Xt.url,[Rr]))}for(var fi in Lr.open(Xt.method,Xt.url,!0),Lr.responseType=Xt.responseType,Lr.withCredentials=Xt.withCredentials,Wn>0&&(Lr.timeout=Wn),Xt.headers)Lr.setRequestHeader(fi,Xt.headers[fi]);if(rn.get().streaming.cmcd&&rn.get().streaming.cmcd.enabled&&rn.get().streaming.cmcd.mode===J.Z.CMCD_MODE_HEADER){var Gr=Lt.getHeaderParameters({url:Xt.url,type:W.w.LICENSE});if(Gr)for(var Ar in Gr){var Un=Gr[Ar];Un&&Lr.setRequestHeader(Ar,Un)}}var rs=function(){On--;var ho=isNaN(rn.get().streaming.retryIntervals[W.w.LICENSE])?1e3:rn.get().streaming.retryIntervals[W.w.LICENSE];an=setTimeout(function(){Pl(Xt,On,Wn,di,ei,or)},ho)};Lr.onload=function(){hn=null,this.status>=200&&this.status<=299||On<=0?di(this):(Vt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+On),rs())},Lr.ontimeout=Lr.onerror=function(){hn=null,On<=0?or(this):(Vt.warn("License request network request failed . Retrying it... Pending retries: "+On),rs())},Lr.onabort=function(){ei(this)},pn.trigger(Bn.LICENSE_REQUEST_SENDING,{url:Xt.url,headers:Xt.headers,payload:Xt.data,sessionId:Xt.sessionId}),hn=Lr,Lr.send(Xt.data)}function Vc(){hn&&(hn.onloadend=hn.onerror=hn.onprogress=void 0,hn.abort(),hn=null),an&&(clearTimeout(an),an=null)}function kl(Xt,On){if(On)for(var Wn in On)Xt[Wn]=On[Wn]}function xi(Xt,On,Wn,di,ei){var or="NONE",Lr=null;Xt.response&&(or=ei.getErrorResponse(Xt.response,Wn,di),Lr={serverResponse:Xt.response||null,responseCode:Xt.status||null,responseText:Xt.statusText||null}),no(On,new y.Z(p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Wn+' update, XHR complete. status is "'+Xt.statusText+'" ('+Xt.status+"), readyState is "+Xt.readyState+".  Response is "+or,Lr))}function Ao(Xt,On){return Xt?Xt.reduce(function(Wn,di){return Wn.then(function(){return di(On)})},Promise.resolve()):Promise.resolve()}function Jn(Xt,On){if(!rn.get().streaming.protection.ignoreEmeEncryptedEvent){if(Vt.debug("DRM: onNeedKey"),"cenc"!==Xt.key.initDataType)return void Vt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Xt.key.initDataType);if(0===Nt.length&&(Vt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(On=void 0===On?1:On+1)<5))return void qt.push(setTimeout(function(){Jn(Xt,On)},500));var Wn=Xt.key.initData;if(ArrayBuffer.isView(Wn)&&(Wn=Wn.buffer),nn){var di=f.getPSSHForKeySystem(nn,Wn);if(di&&ai(di))return}Vt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Wn)));var ei=Bt.getSupportedKeySystemsFromSegmentPssh(Wn,vt,xt);if(0===ei.length)return void Vt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");lt.push(or=ei),Sr(or,!1)}var or}return Vt=Zt.debug.getLogger(Ut={initializeForMedia:function(Xt){if(!Xt)throw new Error("mediaInfo can not be null or undefined");$n(),Nt.push(Xt)},clearMediaInfoArray:function(){Nt=[]},handleKeySystemFromManifest:function(){if(Nt&&0!==Nt.length){var Xt=[];Nt.forEach(function(On){var Wn=Bt.getSupportedKeySystemsFromContentProtection(On.contentProtection,vt,xt);Wn.length>0&&(0===Xt.length&&(Xt=Wn),lt.push(Wn))}),Xt&&Xt.length>0&&Sr(Xt,!0)}},createKeySession:Ur,loadKeySession:Ci,removeKeySession:function(Xt){$n(),mn.removeKeySession(Xt)},closeKeySession:function(Xt){$n(),mn.closeKeySession(Xt)},setServerCertificate:function(Xt){$n(),mn.setServerCertificate(Xt)},setMediaElement:Bi,setSessionType:function(Xt){xt=Xt},setRobustnessLevel:function(Xt){en=Xt},setProtectionData:function(Xt){vt=Xt,Bt.setProtectionData(Xt)},getSupportedKeySystemsFromContentProtection:function(Xt){return $n(),Bt.getSupportedKeySystemsFromContentProtection(Xt,vt,xt)},getKeySystems:function(){return Bt?Bt.getKeySystems():[]},setKeySystems:function(Xt){Bt&&Bt.setKeySystems(Xt)},stop:function(){Vc(),mn&&mn.stop()},reset:function(){pn.off(Bn.INTERNAL_KEY_MESSAGE,Zo,Ut),pn.off(Bn.INTERNAL_KEY_STATUS_CHANGED,ta,Ut),$n(),Vc(),Bi(null),nn=null,bn=!1,mn&&(mn.reset(),mn=null),qt.forEach(function(Xt){return clearTimeout(Xt)}),qt=[],Nt=[],lt=[]}}),lt=[],Nt=[],xt="temporary",en="",hn=null,an=null,pn.on(Bn.INTERNAL_KEY_MESSAGE,Zo,Ut),pn.on(Bn.INTERNAL_KEY_STATUS_CHANGED,ta,Ut),Ut}k.__dashjs_factory_name="ProtectionController";const K=se.Z.getClassFactory(k),de=function Zt(Ut,Vt){(function(lt,Nt){if(!(lt instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.keyID=Ut,this.key=Vt},qe=function(){function Zt(lt,Nt){if(function(vt,xt){if(!(vt instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,Zt),Nt&&"persistent"!==Nt&&"temporary"!==Nt)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=lt,this.type=Nt}var Vt;return(Vt=[{key:"toJWK",value:function(){var lt,Nt=this.keyPairs.length,vt={keys:[]};for(lt=0;lt<Nt;lt++)vt.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[lt].keyID,k:this.keyPairs[lt].key});this.type&&(vt.type=this.type);var en=JSON.stringify(vt),nn=en.length,bn=new ArrayBuffer(nn),hn=new Uint8Array(bn);for(lt=0;lt<nn;lt++)hn[lt]=en.charCodeAt(lt);return bn}}])&&function ce(Zt,Ut){for(var Vt=0;Vt<Ut.length;Vt++){var lt=Ut[Vt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Zt,lt.key,lt)}}(Zt.prototype,Vt),Zt}(),pe=new(function(){function Zt(){(function(lt,Nt){if(!(lt instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.init()}var Vt;return(Vt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&function ot(Zt,Ut){for(var Vt=0;Vt<Ut.length;Vt++){var lt=Ut[Vt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Zt,lt.key,lt)}}(Zt.prototype,Vt),Zt}());var Mt="e2719d58-a985-b3c9-781a-b030af78d30e",He=pe.CLEARKEY_KEYSTEM_STRING,$e="urn:uuid:"+Mt;function Ne(Zt){var Ut=(Zt=Zt||{}).BASE64;return{uuid:Mt,schemeIdURI:$e,systemString:He,getInitData:function(Vt,lt){try{var Nt=f.parseInitDataFromContentProtection(Vt,Ut);if(!Nt&&lt){var vt={kids:[function(xt){try{var en=xt.replace(/-/g,"");return(en=btoa(en.match(/\w{2}/g).map(function(nn){return String.fromCharCode(parseInt(nn,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(lt["cenc:default_KID"])]};Nt=(new TextEncoder).encode(JSON.stringify(vt))}return Nt}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(Vt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Vt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Vt,lt){var Nt=null;if(Vt){for(var vt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(lt))),xt=[],en=0;en<vt.kids.length;en++){var nn=vt.kids[en],bn=Vt.clearkeys&&Vt.clearkeys.hasOwnProperty(nn)?Vt.clearkeys[nn]:null;if(!bn)throw new Error("DRM: ClearKey keyID ("+nn+") is not known!");xt.push(new de(nn,bn))}Nt=new qe(xt)}return Nt}}}Ne.__dashjs_factory_name="KeySystemClearKey";const je=dashjs.FactoryMaker.getSingletonFactory(Ne);var rt="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Rt=pe.CLEARKEY_KEYSTEM_STRING,ut="urn:uuid:"+rt;function ke(Zt){var Vt=Zt.BASE64,lt=Zt.debug.getLogger(void 0);return{uuid:rt,schemeIdURI:ut,systemString:Rt,getInitData:function(Nt){return f.parseInitDataFromContentProtection(Nt,Vt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Nt){return new Uint8Array(Nt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Nt,vt){var xt=null;if(Nt){for(var en=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(vt))),nn=[],bn=0;bn<en.kids.length;bn++){var hn=en.kids[bn],an=Nt.clearkeys&&Nt.clearkeys.hasOwnProperty(hn)?Nt.clearkeys[hn]:null;if(!an)throw new Error("DRM: ClearKey keyID ("+hn+") is not known!");nn.push(new de(hn,an))}xt=new qe(nn),lt.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return xt}}}ke.__dashjs_factory_name="KeySystemW3CClearKey";const ht=dashjs.FactoryMaker.getSingletonFactory(ke);var kt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",We=pe.WIDEVINE_KEYSTEM_STRING,dt="urn:uuid:"+kt;function Ce(Zt){var Ut=(Zt=Zt||{}).BASE64;return{uuid:kt,schemeIdURI:dt,systemString:We,getInitData:function(Vt){return f.parseInitDataFromContentProtection(Vt,Ut)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Vt){return new Uint8Array(Vt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}Ce.__dashjs_factory_name="KeySystemWidevine";const _e=dashjs.FactoryMaker.getSingletonFactory(Ce);var at="9a04f079-9840-4286-ab92-e65be0885f95",E=pe.PLAYREADY_KEYSTEM_STRING,_="urn:uuid:"+at;function R(Zt){var Ut="utf-16",Vt=(Zt=Zt||{}).BASE64,lt=Zt.settings;function Nt(){if(!Vt||!Vt.hasOwnProperty("decodeArray")||!Vt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:at,schemeIdURI:_,systemString:E,getInitData:function(vt){var xt,en,nn,bn,hn,an=new Uint8Array([112,115,115,104,0,0,0,0]),Bt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),mn=0,pn=null;if(Nt(),!vt)return null;if("pssh"in vt)return f.parseInitDataFromContentProtection(vt,Vt);if("pro"in vt)pn=Vt.decodeArray(vt.pro.__text);else{if(!("prheader"in vt))return null;pn=Vt.decodeArray(vt.prheader.__text)}return en=4+an.length+Bt.length+4+(xt=pn.length),nn=new ArrayBuffer(en),bn=new Uint8Array(nn),(hn=new DataView(nn)).setUint32(mn,en),bn.set(an,mn+=4),bn.set(Bt,mn+=an.length),hn.setUint32(mn+=Bt.length,xt),bn.set(pn,mn+=4),mn+=xt,bn.buffer},getRequestHeadersFromMessage:function(vt){var xt,en,nn={},bn=new DOMParser;if(lt&&lt.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Ut&&vt&&vt.byteLength%2==1)return nn["Content-Type"]="text/xml; charset=utf-8",nn;var hn="utf-16"===Ut?new Uint16Array(vt):new Uint8Array(vt);xt=String.fromCharCode.apply(null,hn);for(var an=(en=bn.parseFromString(xt,"application/xml")).getElementsByTagName("name"),Bt=en.getElementsByTagName("value"),mn=0;mn<an.length;mn++)nn[an[mn].childNodes[0].nodeValue]=Bt[mn].childNodes[0].nodeValue;return nn.hasOwnProperty("Content")&&(nn["Content-Type"]=nn.Content,delete nn.Content),nn.hasOwnProperty("Content-Type")||(nn["Content-Type"]="text/xml; charset=utf-8"),nn},getLicenseRequestFromMessage:function(vt){var xt=null,en=new DOMParser;if(lt&&lt.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Ut&&vt&&vt.byteLength%2==1)return vt;var nn="utf-16"===Ut?new Uint16Array(vt):new Uint8Array(vt);Nt();var bn=String.fromCharCode.apply(null,nn),hn=en.parseFromString(bn,"application/xml");if(!hn.getElementsByTagName("PlayReadyKeyMessage")[0])return vt;var an=hn.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return an&&(xt=Vt.decode(an)),xt},getLicenseServerURLFromInitData:function(vt){if(vt)for(var xt=new DataView(vt),en=xt.getUint16(4,!0),nn=6,bn=new DOMParser,hn=0;hn<en;hn++){var an=xt.getUint16(nn,!0),Bt=xt.getUint16(nn+=2,!0);if(nn+=2,1===an){var mn=vt.slice(nn,nn+Bt),pn=String.fromCharCode.apply(null,new Uint16Array(mn)),Bn=bn.parseFromString(pn,"application/xml");if(Bn.getElementsByTagName("LA_URL")[0]){var ir=Bn.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(ir)return ir}if(Bn.getElementsByTagName("LUI_URL")[0]){var kr=Bn.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(kr)return kr}}else nn+=Bt}return null},getCDMData:function(vt){var xt,en,nn,bn;if(Nt(),!vt)return null;for(xt=[],bn=0;bn<vt.length;++bn)xt.push(vt.charCodeAt(bn)),xt.push(0);for(xt=String.fromCharCode.apply(null,xt),xt=Vt.encode(xt),en='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",xt),nn=[],bn=0;bn<en.length;++bn)nn.push(en.charCodeAt(bn)),nn.push(0);return new Uint8Array(nn).buffer},setPlayReadyMessageFormat:function(vt){if("utf-8"!==vt&&"utf-16"!==vt)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Ut=vt}}}R.__dashjs_factory_name="KeySystemPlayReady";const x=dashjs.FactoryMaker.getSingletonFactory(R);function ue(Zt){var Ut=(Zt=Zt||{}).BASE64,Vt={};return Vt[pe.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(lt){return Ut.decodeArray(lt.license)},getErrorResponse:function(lt){return lt}},Vt[pe.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(lt){return lt},getErrorResponse:function(lt){return String.fromCharCode.apply(null,new Uint8Array(lt))}},{getServerURLFromMessage:function(lt){return lt},getHTTPMethod:function(){return"POST"},getResponseType:function(lt){return Vt[lt].responseType},getLicenseMessage:function(lt,Nt){return function(){if(!Ut||!Ut.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),Vt[Nt].getLicenseMessage(lt)},getErrorResponse:function(lt,Nt){return Vt[Nt].getErrorResponse(lt)}}}ue.__dashjs_factory_name="DRMToday";const oe=dashjs.FactoryMaker.getSingletonFactory(ue);function xe(){var Zt="http://schemas.xmlsoap.org/soap/envelope/";function Ut(Nt){var vt=String.fromCharCode.apply(null,new Uint8Array(Nt));return decodeURIComponent(escape(vt))}function Vt(Nt){if(window.DOMParser){var vt=Ut(Nt),xt=(new window.DOMParser).parseFromString(vt,"text/xml"),en=xt?xt.getElementsByTagNameNS(Zt,"Envelope")[0]:null,nn=en?en.getElementsByTagNameNS(Zt,"Body")[0]:null;if(nn&&nn.getElementsByTagNameNS(Zt,"Fault")[0])return null}return Nt}function lt(Nt){var vt="",xt="",en="",nn=-1,bn=-1;if(window.DOMParser){var hn=Ut(Nt),an=(new window.DOMParser).parseFromString(hn,"text/xml"),Bt=an?an.getElementsByTagNameNS(Zt,"Envelope")[0]:null,mn=Bt?Bt.getElementsByTagNameNS(Zt,"Body")[0]:null,pn=mn?mn.getElementsByTagNameNS(Zt,"Fault")[0]:null,Bn=pn?pn.getElementsByTagName("detail")[0]:null,ir=Bn?Bn.getElementsByTagName("Exception")[0]:null,kr=null;if(null===pn)return hn;vt=(kr=pn.getElementsByTagName("faultstring")[0].firstChild)?kr.nodeValue:null,null!==ir&&(xt=(kr=ir.getElementsByTagName("StatusCode")[0])?kr.firstChild.nodeValue:null,nn=(en=(kr=ir.getElementsByTagName("Message")[0])?kr.firstChild.nodeValue:null)?en.lastIndexOf("[")+1:-1,bn=en?en.indexOf("]"):-1,en=en?en.substring(nn,bn):"")}var Rn="code: ".concat(xt,", name: ").concat(vt);return en&&(Rn+=", message: ".concat(en)),Rn}return{getServerURLFromMessage:function(Nt){return Nt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Nt){return Vt.call(this,Nt)},getErrorResponse:function(Nt){return lt.call(this,Nt)}}}xe.__dashjs_factory_name="PlayReady";const Ye=se.Z.getSingletonFactory(xe);function Ke(){return{getServerURLFromMessage:function(Zt){return Zt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Zt){return Zt},getErrorResponse:function(Zt){return String.fromCharCode.apply(null,new Uint8Array(Zt))}}}Ke.__dashjs_factory_name="Widevine";const Le=dashjs.FactoryMaker.getSingletonFactory(Ke);function tt(){return{getServerURLFromMessage:function(Zt){return Zt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Zt){if(!Zt.hasOwnProperty("keys"))return null;for(var Ut=[],Vt=0;Vt<Zt.keys.length;Vt++){var lt=Zt.keys[Vt],Nt=lt.kid.replace(/=/g,""),vt=lt.k.replace(/=/g,"");Ut.push(new de(Nt,vt))}return new qe(Ut)},getErrorResponse:function(Zt){return String.fromCharCode.apply(null,new Uint8Array(Zt))}}}tt.__dashjs_factory_name="ClearKey";const it=dashjs.FactoryMaker.getSingletonFactory(tt);function Re(){var Zt,Ut,Vt,lt,Nt,vt,xt,en,nn=this.context;function bn(Bt,mn){return mn&&Bt in mn?mn[Bt]:null}function hn(Bt,mn){return Bt&&Bt.sessionId?Bt.sessionId:mn&&mn.sessionId?mn.sessionId:null}function an(Bt,mn){return Bt&&Bt.sessionType?Bt.sessionType:mn}return Zt={initialize:function(){var Bt;lt=[],Bt=x(nn).getInstance({BASE64:Nt,settings:vt}),lt.push(Bt),Bt=_e(nn).getInstance({BASE64:Nt}),lt.push(Bt),Bt=je(nn).getInstance({BASE64:Nt}),lt.push(Bt),xt=Bt,Bt=ht(nn).getInstance({BASE64:Nt,debug:Ut}),lt.push(Bt),en=Bt},setProtectionData:function(Bt){for(var mn,pn,Bn=0;Bn<lt.length;Bn++){var ir=lt[Bn];ir.hasOwnProperty("init")&&ir.init((mn=ir.systemString,pn=void 0,pn=null,Bt&&(pn=mn in Bt?Bt[mn]:null),pn))}},isClearKey:function(Bt){return Bt===xt||Bt===en},initDataEquals:function(Bt,mn){if(Bt.byteLength===mn.byteLength){for(var pn=new Uint8Array(Bt),Bn=new Uint8Array(mn),ir=0;ir<pn.length;ir++)if(pn[ir]!==Bn[ir])return!1;return!0}return!1},getKeySystems:function(){return lt},setKeySystems:function(Bt){lt=Bt},getKeySystemBySystemString:function(Bt){for(var mn=0;mn<lt.length;mn++)if(lt[mn].systemString===Bt)return lt[mn];return null},getSupportedKeySystemsFromContentProtection:function(Bt,mn,pn){var Bn,ir,kr,Rn,qt=[];if(Bt){var Lt=f.findCencContentProtection(Bt);for(kr=0;kr<lt.length;++kr){var rn=bn((ir=lt[kr]).systemString,mn);for(Rn=0;Rn<Bt.length;++Rn)if((Bn=Bt[Rn]).schemeIdUri.toLowerCase()===ir.schemeIdURI){var Pn=ir.getInitData(Bn,Lt);qt.push({ks:lt[kr],keyId:Bn.keyId,initData:Pn,protData:rn,cdmData:ir.getCDMData(rn?rn.cdmData:null),sessionId:hn(rn,Bn),sessionType:an(rn,pn)})}}}return qt},getSupportedKeySystemsFromSegmentPssh:function(Bt,mn,pn){for(var Bn,ir=[],kr=f.parsePSSHList(Bt),Rn=0;Rn<lt.length;++Rn){var qt=bn((Bn=lt[Rn]).systemString,mn);Bn.uuid in kr&&ir.push({ks:Bn,initData:kr[Bn.uuid],protData:qt,cdmData:Bn.getCDMData(qt?qt.cdmData:null),sessionId:hn(qt),sessionType:an(qt,pn)})}return ir},getLicenseServerModelInstance:function(Bt,mn,pn){if("license-release"===pn||"individualization-request"===pn)return null;var Bn=null;return mn&&mn.hasOwnProperty("drmtoday")?Bn=oe(nn).getInstance({BASE64:Nt}):Bt.systemString===pe.WIDEVINE_KEYSTEM_STRING?Bn=Le(nn).getInstance():Bt.systemString===pe.PLAYREADY_KEYSTEM_STRING?Bn=Ye(nn).getInstance():Bt.systemString===pe.CLEARKEY_KEYSTEM_STRING&&(Bn=it(nn).getInstance()),Bn},processClearKeyLicenseRequest:function(Bt,mn,pn){try{return Bt.getClearKeysFromProtectionData(mn,pn)}catch{return Vt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(Bt){Bt&&(Bt.debug&&(Vt=(Ut=Bt.debug).getLogger(Zt)),Bt.BASE64&&(Nt=Bt.BASE64),Bt.settings&&(vt=Bt.settings))}}}Re.__dashjs_factory_name="ProtectionKeyController";const Xe=dashjs.FactoryMaker.getSingletonFactory(Re);function Qe(Zt){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(Zt)}function St(Zt,Ut){return(St=Object.setPrototypeOf||function(Vt,lt){return Vt.__proto__=lt,Vt})(Zt,Ut)}function on(Zt){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(Ut){return Ut.__proto__||Object.getPrototypeOf(Ut)})(Zt)}const xn=new(function(Zt){!function(vt,xt){if("function"!=typeof xt&&null!==xt)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create(xt&&xt.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),xt&&St(vt,xt)}(Nt,Zt);var Ut,Vt,lt=(Ut=Nt,Vt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var vt,xt=on(Ut);if(Vt){var en=on(this).constructor;vt=Reflect.construct(xt,arguments,en)}else vt=xt.apply(this,arguments);return function Pt(Zt,Ut){return!Ut||"object"!==Qe(Ut)&&"function"!=typeof Ut?function(Vt){if(void 0===Vt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Vt}(Zt):Ut}(this,vt)});function Nt(){var vt;return function(xt,en){if(!(xt instanceof en))throw new TypeError("Cannot call a class as a function")}(this,Nt),(vt=lt.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",vt.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",vt.KEY_ADDED="public_keyAdded",vt.KEY_ERROR="public_keyError",vt.KEY_MESSAGE="public_keyMessage",vt.KEY_SESSION_CLOSED="public_keySessionClosed",vt.KEY_SESSION_CREATED="public_keySessionCreated",vt.KEY_SESSION_REMOVED="public_keySessionRemoved",vt.KEY_STATUSES_CHANGED="public_keyStatusesChanged",vt.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",vt.KEY_SYSTEM_SELECTED="public_keySystemSelected",vt.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",vt.LICENSE_REQUEST_SENDING="public_licenseRequestSending",vt.NEED_KEY="needkey",vt.PROTECTION_CREATED="public_protectioncreated",vt.PROTECTION_DESTROYED="public_protectiondestroyed",vt.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",vt.TEARDOWN_COMPLETE="protectionTeardownComplete",vt.VIDEO_ELEMENT_SELECTED="videoElementSelected",vt.KEY_SESSION_UPDATED="public_keySessionUpdated",vt}return Nt}(F(8342).Z)),Cn=function Zt(Ut,Vt){(function(lt,Nt){if(!(lt instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.initData=Ut,this.initDataType=Vt},vn=function Zt(Ut,Vt,lt,Nt){(function(vt,xt){if(!(vt instanceof xt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.sessionToken=Ut,this.message=Vt,this.defaultURL=lt,this.messageType=Nt||"license-request"},Yn=function Zt(Ut,Vt){(function(lt,Nt){if(!(lt instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,Zt),this.keySystem=Ut,this.ksConfiguration=Vt};var jn={};function br(Zt){var Ut,Vt,lt,Nt,vt,xt,en,nn,bn=this.context,hn=(Zt=Zt||{}).eventBus,an=Zt.events;function mn(qt,Lt,rn,Pn){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var $n="Insecure origins are not allowed";return hn.trigger(an.KEY_SYSTEM_ACCESS_COMPLETE,{error:$n}),void Pn({error:$n})}var Ur,yi,Di=qt[Lt].ks,Ci=Di.systemString;(Ur=(qt[Lt].protData&&qt[Lt].protData.systemStringPriority?qt[Lt].protData.systemStringPriority:null)||(jn[Ci]?jn[Ci]:[Ci]),yi=qt[Lt].configs,new Promise(function(ai,Bi){pn(Ur,yi,0,ai,Bi)})).then(function(Ur){var yi="function"==typeof Ur.getConfiguration?Ur.getConfiguration():null,ai=new Yn(Di,yi);ai.mksa=Ur,hn.trigger(an.KEY_SYSTEM_ACCESS_COMPLETE,{data:ai}),rn({data:ai})}).catch(function(Ur){if(Lt+1<qt.length)mn(qt,Lt+1,rn,Pn);else{var yi="Key system access denied! ";hn.trigger(an.KEY_SYSTEM_ACCESS_COMPLETE,{error:yi+Ur.message}),Pn({error:yi+Ur.message})}})}function pn(qt,Lt,rn,Pn,$n){var Sr=qt[rn];Vt.debug("Requesting key system access for system string ".concat(Sr)),navigator.requestMediaKeySystemAccess(Sr,Lt).then(function(xr){xr.selectedSystemString=Sr,Pn(xr)}).catch(function(xr){rn+1<qt.length?pn(qt,Lt,rn+1,Pn,$n):$n(xr)})}function Bn(qt){var Lt=qt.session;return Lt.removeEventListener("keystatuseschange",qt),Lt.removeEventListener("message",qt),Lt.close()}function ir(qt){for(var Lt=0;Lt<xt.length;Lt++)if(xt[Lt]===qt){xt.splice(Lt,1);break}}function kr(qt){var Lt,rn;return qt&&qt.length>0&&(qt[0]&&("string"==typeof qt[0]?Lt=qt[0]:rn=qt[0]),qt[1]&&("string"==typeof qt[1]?Lt=qt[1]:rn=qt[1])),{status:Lt,keyId:rn}}function Rn(qt,Lt){var rn={session:qt,keyId:Lt.keyId,initData:Lt.initData,sessionId:Lt.sessionId,sessionType:Lt.sessionType,handleEvent:function(Pn){switch(Pn.type){case"keystatuseschange":hn.trigger(an.KEY_STATUSES_CHANGED,{data:this}),Pn.target.keyStatuses.forEach(function(){var Sr=kr(arguments);hn.trigger(an.INTERNAL_KEY_STATUS_CHANGED,"expired"===Sr.status?{error:new y.Z(p.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,p.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:Sr)});break;case"message":var $n=ArrayBuffer.isView(Pn.message)?Pn.message.buffer:Pn.message;hn.trigger(an.INTERNAL_KEY_MESSAGE,{data:new vn(this,$n,void 0,Pn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return qt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return qt.expiration},getKeyStatuses:function(){return qt.keyStatuses},getUsable:function(){var Pn=!1;return qt.keyStatuses.forEach(function(){"usable"===kr(arguments).status&&(Pn=!0)}),Pn}};return qt.addEventListener("keystatuseschange",rn),qt.addEventListener("message",rn),qt.closed.then(function(){ir(rn),Vt.debug("DRM: Session closed.  SessionID = "+rn.getSessionId()),hn.trigger(an.KEY_SESSION_CLOSED,{data:rn.getSessionId()})}),xt.push(rn),rn}return Ut={getAllInitData:function(){for(var qt=[],Lt=0;Lt<xt.length;Lt++)xt[Lt].initData&&qt.push(xt[Lt].initData);return qt},getSessions:function(){return xt},requestKeySystemAccess:function(qt){return new Promise(function(Lt,rn){mn(qt,0,Lt,rn)})},selectKeySystem:function(qt){return new Promise(function(Lt,rn){qt.mksa.createMediaKeys().then(function(Pn){return lt=qt.keySystem,vt=Pn,Nt?Nt.setMediaKeys(vt):Promise.resolve()}).then(function(){Lt(lt)}).catch(function(){rn({error:"Error selecting keys system ("+qt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(qt){Nt!==qt&&(Nt&&(Nt.removeEventListener("encrypted",en),Nt.setMediaKeys&&Nt.setMediaKeys(null)),(Nt=qt)&&(Nt.addEventListener("encrypted",en),Nt.setMediaKeys&&vt&&Nt.setMediaKeys(vt)))},setServerCertificate:function(qt){if(!lt||!vt)throw new Error("Can not set server certificate until you have selected a key system");vt.setServerCertificate(qt).then(function(){Vt.info("DRM: License server certificate successfully updated."),hn.trigger(an.SERVER_CERTIFICATE_UPDATED)}).catch(function(Lt){hn.trigger(an.SERVER_CERTIFICATE_UPDATED,{error:new y.Z(p.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,p.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Lt.name)})})},createKeySession:function(qt){if(!lt||!vt)throw new Error("Can not create sessions until you have selected a key system");var Lt=vt.createSession(qt.sessionType),rn=Rn(Lt,qt);Lt.generateRequest(lt.systemString===pe.CLEARKEY_KEYSTEM_STRING&&(qt.initData||qt.protData&&qt.protData.clearkeys)?pe.INITIALIZATION_DATA_TYPE_KEYIDS:pe.INITIALIZATION_DATA_TYPE_CENC,qt.initData).then(function(){Vt.debug("DRM: Session created.  SessionID = "+rn.getSessionId()),hn.trigger(an.KEY_SESSION_CREATED,{data:rn})}).catch(function($n){ir(rn),hn.trigger(an.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+$n.name)})})},updateKeySession:function(qt,Lt){var rn=qt.session;nn.isClearKey(lt)&&(Lt=Lt.toJWK()),rn.update(Lt).then(function(){hn.trigger(an.KEY_SESSION_UPDATED)}).catch(function(Pn){hn.trigger(an.KEY_ERROR,{error:new y.Z(p.MEDIA_KEYERR_CODE,"Error sending update() message! "+Pn.name,qt)})})},loadKeySession:function(qt){if(!lt||!vt)throw new Error("Can not load sessions until you have selected a key system");for(var Lt=qt.sessionId,rn=0;rn<xt.length;rn++)if(Lt===xt[rn].sessionId)return void Vt.warn("DRM: Ignoring session ID because we have already seen it!");var Pn=vt.createSession(qt.sessionType),$n=Rn(Pn,qt);Pn.load(Lt).then(function(Sr){Sr?(Vt.debug("DRM: Session loaded.  SessionID = "+$n.getSessionId()),hn.trigger(an.KEY_SESSION_CREATED,{data:$n})):(ir($n),hn.trigger(an.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Lt+")")}))}).catch(function(Sr){ir($n),hn.trigger(an.KEY_SESSION_CREATED,{data:null,error:new y.Z(p.KEY_SESSION_CREATED_ERROR_CODE,p.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Lt+")! "+Sr.name)})})},removeKeySession:function(qt){qt.session.remove().then(function(){Vt.debug("DRM: Session removed.  SessionID = "+qt.getSessionId()),hn.trigger(an.KEY_SESSION_REMOVED,{data:qt.getSessionId()})},function(Lt){hn.trigger(an.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+qt.getSessionId()+"). "+Lt.name})})},closeKeySession:function(qt){Bn(qt).catch(function(Lt){ir(qt),hn.trigger(an.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+qt.getSessionId()+") "+Lt.name})})},stop:function(){for(var qt,Lt=0;Lt<xt.length;Lt++)(qt=xt[Lt]).getUsable()||Bn(qt).catch(function(){ir(qt)})},reset:function(){var qt,Lt=xt.length;0!==Lt?function(){for(var rn=function($n){ir($n),0===xt.length&&(Nt?(Nt.removeEventListener("encrypted",en),Nt.setMediaKeys(null).then(function(){hn.trigger(an.TEARDOWN_COMPLETE)})):hn.trigger(an.TEARDOWN_COMPLETE))},Pn=0;Pn<Lt;Pn++)!function($n){qt.session.closed.then(function(){rn($n)}),Bn(qt).catch(function(){rn($n)})}(qt=xt[Pn])}():hn.trigger(an.TEARDOWN_COMPLETE)}},Vt=Zt.debug.getLogger(Ut),lt=null,Nt=null,vt=null,xt=[],nn=Xe(bn).getInstance(),en={handleEvent:function(qt){if("encrypted"===qt.type&&qt.initData){var Lt=ArrayBuffer.isView(qt.initData)?qt.initData.buffer:qt.initData;hn.trigger(an.NEED_KEY,{key:new Cn(Lt,qt.initDataType)})}}},Ut}jn[pe.PLAYREADY_KEYSTEM_STRING]=[pe.PLAYREADY_KEYSTEM_STRING,pe.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],jn[pe.WIDEVINE_KEYSTEM_STRING]=[pe.WIDEVINE_KEYSTEM_STRING],jn[pe.CLEARKEY_KEYSTEM_STRING]=[pe.CLEARKEY_KEYSTEM_STRING],br.__dashjs_factory_name="ProtectionModel_21Jan2015";const mi=dashjs.FactoryMaker.getClassFactory(br);function Si(Zt){var Ut,Vt,lt,Nt,vt,xt,en,nn,bn,hn=this.context,an=(Zt=Zt||{}).eventBus,Bt=Zt.events,pn=Zt.api;function Bn(){try{for(var Rn=0;Rn<en.length;Rn++)ir(en[Rn]);lt&&lt.removeEventListener(pn.needkey,nn),an.trigger(Bt.TEARDOWN_COMPLETE)}catch(qt){an.trigger(Bt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+qt.message})}}function ir(Rn){var qt=Rn.session;qt.removeEventListener(pn.error,Rn),qt.removeEventListener(pn.message,Rn),qt.removeEventListener(pn.ready,Rn),qt.removeEventListener(pn.close,Rn);for(var Lt=0;Lt<en.length;Lt++)if(en[Lt]===Rn){en.splice(Lt,1);break}qt[pn.release]()}function kr(){var Rn=null,qt=function(){lt.removeEventListener("loadedmetadata",Rn),lt[pn.setMediaKeys](vt),an.trigger(Bt.VIDEO_ELEMENT_SELECTED)};lt.readyState>=1?qt():(Rn=qt.bind(this),lt.addEventListener("loadedmetadata",Rn))}return Ut={getAllInitData:function(){for(var Rn=[],qt=0;qt<en.length;qt++)Rn.push(en[qt].initData);return Rn},getSessions:function(){return en},requestKeySystemAccess:function(Rn){return new Promise(function(qt,Lt){for(var rn=!1,Pn=0;Pn<Rn.length;Pn++)for(var $n=Rn[Pn].ks.systemString,Sr=Rn[Pn].configs,xr=null,Di=null,Ci=0;Ci<Sr.length;Ci++){var Ur=Sr[Ci].audioCapabilities,yi=Sr[Ci].videoCapabilities;if(Ur&&0!==Ur.length){xr=[];for(var ai=0;ai<Ur.length;ai++)window[pn.MediaKeys].isTypeSupported($n,Ur[ai].contentType)&&xr.push(Ur[ai])}if(yi&&0!==yi.length){Di=[];for(var Bi=0;Bi<yi.length;Bi++)window[pn.MediaKeys].isTypeSupported($n,yi[Bi].contentType)&&Di.push(yi[Bi])}if(!(!xr&&!Di||xr&&0===xr.length||Di&&0===Di.length)){rn=!0;var Sa=new O(xr,Di),ta=bn.getKeySystemBySystemString($n),Zo=new Yn(ta,Sa);an.trigger(Bt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Zo}),qt({data:Zo});break}}if(!rn){var no="Key system access denied! -- No valid audio/video content configurations detected!";an.trigger(Bt.KEY_SYSTEM_ACCESS_COMPLETE,{error:no}),Lt({error:no})}})},selectKeySystem:function(Rn){return new Promise(function(qt,Lt){try{vt=Rn.mediaKeys=new window[pn.MediaKeys](Rn.keySystem.systemString),Nt=Rn.keySystem,xt=Rn,lt&&kr(),qt(Nt)}catch{Lt({error:"Error selecting keys system ("+Nt.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(Rn){lt!==Rn&&(lt&&lt.removeEventListener(pn.needkey,nn),(lt=Rn)&&(lt.addEventListener(pn.needkey,nn),vt&&kr()))},createKeySession:function(Rn){if(!Nt||!vt||!xt)throw new Error("Can not create sessions until you have selected a key system");var qt=null;if(xt.ksConfiguration.videoCapabilities&&xt.ksConfiguration.videoCapabilities.length>0&&(qt=xt.ksConfiguration.videoCapabilities[0]),null===qt&&xt.ksConfiguration.audioCapabilities&&xt.ksConfiguration.audioCapabilities.length>0&&(qt=xt.ksConfiguration.audioCapabilities[0]),null===qt)throw new Error("Can not create sessions for unknown content types.");var Sr,rn=vt.createSession(qt.contentType,new Uint8Array(Rn.initData),Rn.cdmData?new Uint8Array(Rn.cdmData):null),Pn={session:rn,keyId:(Sr=Rn).keyId,initData:Sr.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(xr){switch(xr.type){case pn.error:an.trigger(Bt.KEY_ERROR,{error:new y.Z(p.MEDIA_KEYERR_CODE,"KeyError",this)});break;case pn.message:var Di=ArrayBuffer.isView(xr.message)?xr.message.buffer:xr.message;an.trigger(Bt.INTERNAL_KEY_MESSAGE,{data:new vn(this,Di,xr.destinationURL)});break;case pn.ready:Vt.debug("DRM: Key added."),an.trigger(Bt.KEY_ADDED);break;case pn.close:Vt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),an.trigger(Bt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}};rn.addEventListener(pn.error,Pn),rn.addEventListener(pn.message,Pn),rn.addEventListener(pn.ready,Pn),rn.addEventListener(pn.close,Pn),en.push(Pn),Vt.debug("DRM: Session created.  SessionID = "+Pn.getSessionId()),an.trigger(Bt.KEY_SESSION_CREATED,{data:Pn})},updateKeySession:function(Rn,qt){var Lt=Rn.session;bn.isClearKey(Nt)?Lt.update(new Uint8Array(qt.toJWK())):Lt.update(new Uint8Array(qt)),an.trigger(Bt.KEY_SESSION_UPDATED)},closeKeySession:ir,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Bn,reset:Bn},Vt=Zt.debug.getLogger(Ut),lt=null,Nt=null,vt=null,xt=null,en=[],bn=Xe(hn).getInstance(),nn={handleEvent:function(Rn){if(Rn.type===pn.needkey&&Rn.initData){var qt=ArrayBuffer.isView(Rn.initData)?Rn.initData.buffer:Rn.initData;an.trigger(Bt.NEED_KEY,{key:new Cn(qt,"cenc")})}}},Ut}Si.__dashjs_factory_name="ProtectionModel_3Feb2014";const Zr=dashjs.FactoryMaker.getClassFactory(Si);function Li(Zt){var Ut,Vt,lt,Nt,vt,xt,en,nn,bn,hn=this.context,an=(Zt=Zt||{}).eventBus,Bt=Zt.events,pn=Zt.api,Bn=Zt.errHandler;function ir(){lt&&qt();for(var Lt=0;Lt<en.length;Lt++)kr(en[Lt]);an.trigger(Bt.TEARDOWN_COMPLETE)}function kr(Lt){try{lt[pn.cancelKeyRequest](Nt.systemString,Lt.sessionId)}catch(rn){an.trigger(Bt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Lt.sessionId+") "+rn.message})}}function Rn(Lt,rn){if(rn&&Lt){for(var Pn=Lt.length,$n=0;$n<Pn;$n++)if(Lt[$n].sessionId==rn)return Lt[$n];return null}return null}function qt(){lt.removeEventListener(pn.keyerror,bn),lt.removeEventListener(pn.needkey,bn),lt.removeEventListener(pn.keymessage,bn),lt.removeEventListener(pn.keyadded,bn)}return Vt=Zt.debug.getLogger(Ut={getAllInitData:function(){for(var Lt=[],rn=0;rn<xt.length;rn++)Lt.push(xt[rn].initData);for(var Pn=0;Pn<en.length;Pn++)Lt.push(en[Pn].initData);return Lt},getSessions:function(){return en.concat(xt)},requestKeySystemAccess:function(Lt){return new Promise(function(rn,Pn){var $n=lt;$n||($n=document.createElement("video"));for(var Sr=!1,xr=0;xr<Lt.length;xr++)for(var Di=Lt[xr].ks.systemString,Ci=Lt[xr].configs,Ur=null,yi=0;yi<Ci.length;yi++){var ai=Ci[yi].videoCapabilities;if(ai&&0!==ai.length){Ur=[];for(var Bi=0;Bi<ai.length;Bi++)""!==$n.canPlayType(ai[Bi].contentType,Di)&&Ur.push(ai[Bi])}if(Ur&&(!Ur||0!==Ur.length)){Sr=!0;var Sa=new O(null,Ur),ta=vt.getKeySystemBySystemString(Di),Zo=new Yn(ta,Sa);an.trigger(Bt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Zo}),rn({data:Zo});break}}if(!Sr){var no="Key system access denied! -- No valid audio/video content configurations detected!";an.trigger(Bt.KEY_SYSTEM_ACCESS_COMPLETE,{error:no}),Pn({error:no})}})},selectKeySystem:function(Lt){return Nt=Lt.keySystem,Promise.resolve(Nt)},setMediaElement:function(Lt){if(lt!==Lt){if(lt){qt();for(var rn=0;rn<en.length;rn++)kr(en[rn]);en=[]}(lt=Lt)&&(lt.addEventListener(pn.keyerror,bn),lt.addEventListener(pn.needkey,bn),lt.addEventListener(pn.keymessage,bn),lt.addEventListener(pn.keyadded,bn),an.trigger(Bt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(Lt){if(!Nt)throw new Error("Can not create sessions until you have selected a key system");if(nn||0===en.length){var rn={sessionId:null,keyId:Lt.keyId,initData:Lt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return xt.push(rn),lt[pn.generateKeyRequest](Nt.systemString,new Uint8Array(Lt.initData)),rn}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(Lt,rn){var Pn=Lt.sessionId;if(vt.isClearKey(Nt))for(var $n=0;$n<rn.keyPairs.length;$n++)lt[pn.addKey](Nt.systemString,rn.keyPairs[$n].key,rn.keyPairs[$n].keyID,Pn);else lt[pn.addKey](Nt.systemString,new Uint8Array(rn),new Uint8Array(Lt.initData),Pn);an.trigger(Bt.KEY_SESSION_UPDATED)},closeKeySession:kr,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:ir,reset:ir}),lt=null,Nt=null,xt=[],en=[],vt=Xe(hn).getInstance(),bn={handleEvent:function(Lt){var rn=null;switch(Lt.type){case pn.needkey:var Pn=ArrayBuffer.isView(Lt.initData)?Lt.initData.buffer:Lt.initData;an.trigger(Bt.NEED_KEY,{key:new Cn(Pn,"cenc")});break;case pn.keyerror:if((rn=Rn(en,Lt.sessionId))||(rn=Rn(xt,Lt.sessionId)),rn){var $n=p.MEDIA_KEYERR_CODE,Sr="";switch(Lt.errorCode.code){case 1:$n=p.MEDIA_KEYERR_UNKNOWN_CODE,Sr+="MEDIA_KEYERR_UNKNOWN - "+p.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:$n=p.MEDIA_KEYERR_CLIENT_CODE,Sr+="MEDIA_KEYERR_CLIENT - "+p.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:$n=p.MEDIA_KEYERR_SERVICE_CODE,Sr+="MEDIA_KEYERR_SERVICE - "+p.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:$n=p.MEDIA_KEYERR_OUTPUT_CODE,Sr+="MEDIA_KEYERR_OUTPUT - "+p.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:$n=p.MEDIA_KEYERR_HARDWARECHANGE_CODE,Sr+="MEDIA_KEYERR_HARDWARECHANGE - "+p.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:$n=p.MEDIA_KEYERR_DOMAIN_CODE,Sr+="MEDIA_KEYERR_DOMAIN - "+p.MEDIA_KEYERR_DOMAIN_MESSAGE}an.trigger(Bt.KEY_ERROR,{error:new y.Z($n,Sr+="  System Code = "+Lt.systemCode,rn)})}else Vt.error("No session token found for key error");break;case pn.keyadded:(rn=Rn(en,Lt.sessionId))||(rn=Rn(xt,Lt.sessionId)),rn?(Vt.debug("DRM: Key added."),an.trigger(Bt.KEY_ADDED,{data:rn})):Vt.debug("No session token found for key added");break;case pn.keymessage:if((nn=null!=Lt.sessionId)?!(rn=Rn(en,Lt.sessionId))&&xt.length>0&&(rn=xt.shift(),en.push(rn),rn.sessionId=Lt.sessionId,an.trigger(Bt.KEY_SESSION_CREATED,{data:rn})):xt.length>0&&(rn=xt.shift(),en.push(rn),0!==xt.length&&Bn.error(new y.Z(p.MEDIA_KEY_MESSAGE_ERROR_CODE,p.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),rn){var xr=ArrayBuffer.isView(Lt.message)?Lt.message.buffer:Lt.message;rn.keyMessage=xr,an.trigger(Bt.INTERNAL_KEY_MESSAGE,{data:new vn(rn,xr,Lt.defaultURL)})}else Vt.warn("No session token found for key message")}}},Ut}Li.__dashjs_factory_name="ProtectionModel_01b";const Fi=dashjs.FactoryMaker.getClassFactory(Li);var qi=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Yi=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Co(){var Zt,Ut=this.context;function Vt(lt,Nt){for(var vt=0;vt<Nt.length;vt++){var xt=Nt[vt];if("function"==typeof lt[xt[Object.keys(xt)[0]]])return xt}return null}return Zt={createProtectionSystem:function(lt){var Nt=null,vt=Xe(Ut).getInstance();vt.setConfig({debug:lt.debug,BASE64:lt.BASE64,settings:lt.settings}),vt.initialize();var en,nn,bn,hn,an,Bt,xt=(bn=(nn=(en=lt).debug).getLogger(Zt),hn=en.eventBus,an=en.errHandler,(Bt=en.videoModel?en.videoModel.getElement():null)&&void 0===Bt.onencrypted||Bt&&void 0===Bt.mediaKeys?Vt(Bt,Yi)?(bn.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Zr(Ut).create({debug:nn,eventBus:hn,events:en.events,api:Vt(Bt,Yi)})):Vt(Bt,qi)?(bn.info("EME detected on this user agent! (ProtectionModel_01b)"),Fi(Ut).create({debug:nn,eventBus:hn,errHandler:an,events:en.events,api:Vt(Bt,qi)})):(bn.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(bn.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),mi(Ut).create({debug:nn,eventBus:hn,events:en.events})));return!Nt&&xt&&(Nt=K(Ut).create({protectionModel:xt,protectionKeyController:vt,eventBus:lt.eventBus,debug:lt.debug,events:lt.events,BASE64:lt.BASE64,constants:lt.constants,cmcdModel:lt.cmcdModel,customParametersModel:lt.customParametersModel,settings:lt.settings}),lt.capabilities.setEncryptedMediaSupported(!0)),Nt}}}Co.__dashjs_factory_name="Protection";var _o=dashjs.FactoryMaker.getClassFactory(Co);_o.events=xn,_o.errors=p,dashjs.FactoryMaker.updateClassFactory(Co.__dashjs_factory_name,_o);const Ka=_o},2068:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P={DEFAULT:.5,STRONG:1,WEAK:0};function f(S,g,C){var y,w;return w=P.DEFAULT,(y=C)!==P.DEFAULT&&y!==P.STRONG&&y!==P.WEAK||(w=y),{quality:void 0===S?-1:S,reason:void 0===g?null:g,priority:w}}f.__dashjs_factory_name="SwitchRequest";var h=ye.Z.getClassFactory(f);h.NO_CHANGE=-1,h.PRIORITY=P,ye.Z.updateClassFactory(f.__dashjs_factory_name,h);const O=h},1767:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>J});var ye=F(5628),P=F(6535),f=F(7423),h=F(895),O=F(6070),S=F(3112),g=F(1914),C=F(5435),M=F(5448),p=F(2068),y=F(3393),w="qualitySwitchRules",q="abandonFragmentRules";function W(se){var H,k,K=this.context,de=(se=se||{}).mediaPlayerModel,ce=se.customParametersModel,qe=se.dashMetrics,ot=se.settings;function pe(He){return He.filter(function($e){return $e.quality>p.Z.NO_CHANGE})}function Mt(He){var $e,Ne,je,rt,Rt,ut={},ke=null;if(0!==He.length){for(ut[p.Z.PRIORITY.STRONG]={quality:p.Z.NO_CHANGE,reason:null},ut[p.Z.PRIORITY.WEAK]={quality:p.Z.NO_CHANGE,reason:null},ut[p.Z.PRIORITY.DEFAULT]={quality:p.Z.NO_CHANGE,reason:null},$e=0,Ne=He.length;$e<Ne;$e+=1)(je=He[$e]).quality!==p.Z.NO_CHANGE&&(ut[je.priority].quality===p.Z.NO_CHANGE||ut[je.priority].quality>je.quality)&&(ut[je.priority].quality=je.quality,ut[je.priority].reason=je.reason||null);return ut[p.Z.PRIORITY.WEAK].quality!==p.Z.NO_CHANGE&&(ke=ut[p.Z.PRIORITY.WEAK]),ut[p.Z.PRIORITY.DEFAULT].quality!==p.Z.NO_CHANGE&&(ke=ut[p.Z.PRIORITY.DEFAULT]),ut[p.Z.PRIORITY.STRONG].quality!==p.Z.NO_CHANGE&&(ke=ut[p.Z.PRIORITY.STRONG]),ke&&(rt=ke.quality,Rt=ke.reason),(0,p.Z)(K).create(rt,Rt)}}return{initialize:function(){H=[],k=[],ot.get().streaming.abr.useDefaultABRRules&&(ot.get().streaming.abr.ABRStrategy===y.Z.ABR_STRATEGY_L2A?H.push((0,g.Z)(K).create({dashMetrics:qe,settings:ot})):ot.get().streaming.abr.ABRStrategy===y.Z.ABR_STRATEGY_LoLP?H.push((0,C.Z)(K).create({dashMetrics:qe})):(H.push((0,S.Z)(K).create({dashMetrics:qe,mediaPlayerModel:de,settings:ot})),H.push((0,ye.Z)(K).create({dashMetrics:qe})),ot.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&H.push((0,P.Z)(K).create({dashMetrics:qe,settings:ot})),ot.get().streaming.abr.additionalAbrRules.switchHistoryRule&&H.push((0,O.Z)(K).create()),ot.get().streaming.abr.additionalAbrRules.droppedFramesRule&&H.push((0,h.Z)(K).create()),ot.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&k.push((0,f.Z)(K).create({dashMetrics:qe,mediaPlayerModel:de,settings:ot})))),ce.getAbrCustomRules().forEach(function(He){He.type===w&&H.push(He.rule(K).create()),He.type===q&&k.push(He.rule(K).create())})},reset:function(){[H,k].forEach(function(He){He&&He.length&&He.forEach(function($e){return $e.reset&&$e.reset()})}),H=[],k=[]},getMaxQuality:function(He){return Mt(pe(H.map(function($e){return $e.getMaxIndex(He)})))||(0,p.Z)(K).create()},getMinSwitchRequest:Mt,shouldAbandonFragment:function(He,$e){return Mt(pe(k.map(function(Ne){return Ne.shouldAbandon(He,$e)})))||(0,p.Z)(K).create()},getQualitySwitchRules:function(){return H}}}W.__dashjs_factory_name="ABRRulesCollection";var ne=M.Z.getClassFactory(W);ne.QUALITY_SWITCH_RULES=w,ne.ABANDON_FRAGMENT_RULES=q,M.Z.updateSingletonFactory(W.__dashjs_factory_name,ne);const J=ne},7423:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(2068),P=F(5448),f=F(6398);function h(S){var g,C,M,p,y,w=this.context,q=(S=S||{}).mediaPlayerModel,W=S.dashMetrics,ne=S.settings;function J(){M={},p={},y=[]}return g={shouldAbandon:function(se){var H=(0,ye.Z)(w).create(ye.Z.NO_CHANGE,{name:h.__dashjs_factory_name});if(!(se&&se.hasOwnProperty("getMediaInfo")&&se.hasOwnProperty("getMediaType")&&se.hasOwnProperty("getCurrentRequest")&&se.hasOwnProperty("getRepresentationInfo")&&se.hasOwnProperty("getAbrController")))return H;var k,K,ht,kt,de=se.getMediaInfo(),ce=se.getMediaType(),qe=se.getStreamInfo(),ot=qe?qe.id:null,pe=se.getCurrentRequest();if(!isNaN(pe.index)){K=pe.index,M[k=ce]=M[k]||{},M[k][K]=M[k][K]||{};var Mt=q.getStableBufferTime();if(W.getCurrentBufferLevel(ce)>Mt)return H;var He=M[ce][pe.index];if(null===He||null===pe.firstByteDate||p.hasOwnProperty(He.id))return H;if(void 0===He.firstByteTime&&(y[ce]=[],He.firstByteTime=pe.firstByteDate.getTime(),He.segmentDuration=pe.duration,He.bytesTotal=pe.bytesTotal,He.id=pe.index),He.bytesLoaded=pe.bytesLoaded,He.elapsedTime=(new Date).getTime()-He.firstByteTime,He.bytesLoaded>0&&He.elapsedTime>0&&(ht=ce,kt=Math.round(8*He.bytesLoaded/He.elapsedTime),y[ht]=y[ht]||[],y[ht].push(kt)),y[ce].length>=5&&He.elapsedTime>500&&He.bytesLoaded<He.bytesTotal){var $e=y[ce].reduce(function(ht,kt){return ht+kt},0);if(He.measuredBandwidthInKbps=Math.round($e/y[ce].length),He.estimatedTimeOfDownload=+(8*He.bytesTotal/He.measuredBandwidthInKbps/1e3).toFixed(2),He.estimatedTimeOfDownload<1.8*He.segmentDuration||0===se.getRepresentationInfo().quality)return H;if(!p.hasOwnProperty(He.id)){var Ne=se.getAbrController(),je=He.bytesTotal-He.bytesLoaded,rt=Ne.getBitrateList(de),Rt=Ne.getQualityForBitrate(de,He.measuredBandwidthInKbps*ne.get().streaming.abr.bandwidthSafetyFactor,ot),ut=Ne.getMinAllowedIndexFor(ce,ot),ke=void 0!==ut?Math.max(ut,Rt):Rt;je>He.bytesTotal*rt[ke].bitrate/rt[Ne.getQualityFor(ce,ot)].bitrate&&(H.quality=ke,H.reason.throughput=He.measuredBandwidthInKbps,H.reason.fragmentID=He.id,H.reason.rule=this.getClassName(),p[He.id]=He,C.debug("["+ce+"] frag id",He.id," is asking to abandon and switch to quality to ",ke," measured bandwidth was",He.measuredBandwidthInKbps),delete M[ce][He.id])}}else He.bytesLoaded===He.bytesTotal&&delete M[ce][He.id]}return H},reset:J},C=(0,f.Z)(w).getInstance().getLogger(g),J(),g}h.__dashjs_factory_name="AbandonRequestsRule";const O=P.Z.getClassFactory(h)},3112:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>w});var ye=F(3860),P=F(2068),f=F(5448),h=F(7855),O=F(5595),S=F(8512),g=F(6398),C=F(8825),M=F(3393),p=10;function y(q){var W,ne,J,se=this.context,H=(q=q||{}).dashMetrics,k=q.mediaPlayerModel,K=(0,O.Z)(se).getInstance();function de(ke,ht,kt){var We=kt.reduce(function(_e,at,E){return at>kt[_e]?E:_e},0);if(0===We)return null;var dt=Math.max(ke,p+2*ht.length),Ce=(kt[We]-1)/(dt/p-1);return{gp:Ce,Vp:p/Ce}}function ce(ke){ke.placeholderBuffer=0,ke.mostAdvancedSegmentStart=NaN,ke.lastSegmentWasReplacement=!1,ke.lastSegmentStart=NaN,ke.lastSegmentDurationS=NaN,ke.lastSegmentRequestTimeMs=NaN,ke.lastSegmentFinishTimeMs=NaN}function qe(ke,ht){var kt=k.getStableBufferTime();if(ke.stableBufferTime!==kt){var We=de(kt,ke.bitrates,ke.utilities);if(We.Vp!==ke.Vp||We.gp!==ke.gp){var dt=H.getCurrentBufferLevel(ht),Ce=dt+ke.placeholderBuffer;Ce-=p,Ce*=We.Vp/ke.Vp,Ce+=p,ke.stableBufferTime=kt,ke.Vp=We.Vp,ke.gp=We.gp,ke.placeholderBuffer=Math.max(0,Ce-dt)}}}function ot(ke,ht){return ke.Vp*(ke.utilities[ht]+ke.gp)}function pe(ke,ht){for(var kt=ke.bitrates[ht],We=ke.utilities[ht],dt=0,Ce=ht-1;Ce>=0;--Ce)if(ke.utilities[Ce]<ke.utilities[ht]){var _e=ke.bitrates[Ce];dt=Math.max(dt,ke.Vp*(ke.gp+(kt*ke.utilities[Ce]-_e*We)/(kt-_e)))}return dt}function Mt(ke){var ht=ke.mediaType===M.Z.AUDIO?[M.Z.AUDIO]:J;for(var kt in ht)J.hasOwnProperty(kt)&&2===J[kt].state&&(J[kt].placeholderBuffer=0)}function He(){for(var ke in J)if(J.hasOwnProperty(ke)){var ht=J[ke];0!==ht.state&&(ht.state=1,ce(ht))}}function $e(ke){if(ke&&ke.chunk&&ke.chunk.mediaInfo){var ht=J[ke.chunk.mediaInfo.type];if(ht&&0!==ht.state){var kt=ke.chunk.start;isNaN(ht.mostAdvancedSegmentStart)||kt>ht.mostAdvancedSegmentStart?(ht.mostAdvancedSegmentStart=kt,ht.lastSegmentWasReplacement=!1):ht.lastSegmentWasReplacement=!0,ht.lastSegmentStart=kt,ht.lastSegmentDurationS=ke.chunk.duration,ht.lastQuality=ke.chunk.quality,je(ht,ke.chunk.mediaInfo.type)}}}function Ne(ke){if(ke&&ke.metric===ye.Z.HTTP_REQUEST&&ke.value&&ke.value.type===h.w.MEDIA_SEGMENT_TYPE&&ke.value.trace&&ke.value.trace.length){var ht=J[ke.mediaType];ht&&0!==ht.state&&(ht.lastSegmentRequestTimeMs=ke.value.trequest.getTime(),ht.lastSegmentFinishTimeMs=ke.value._tfinish.getTime(),je(ht,ke.mediaType))}}function je(ke,ht){if(!isNaN(ke.lastSegmentStart)&&!isNaN(ke.lastSegmentRequestTimeMs)&&!isNaN(ke.placeholderBuffer)){if(ke.placeholderBuffer*=.99,!isNaN(ke.lastSegmentFinishTimeMs)){var kt=H.getCurrentBufferLevel(ht)+.001*(ke.lastSegmentFinishTimeMs-ke.lastSegmentRequestTimeMs),We=ot(ke,ke.lastQuality),dt=Math.max(0,We-kt);ke.placeholderBuffer=Math.min(dt,ke.placeholderBuffer)}ke.lastSegmentWasReplacement&&!isNaN(ke.lastSegmentDurationS)&&(ke.placeholderBuffer+=ke.lastSegmentDurationS),ke.lastSegmentStart=NaN,ke.lastSegmentRequestTimeMs=NaN}}function rt(ke){if(ke){var ht=J[ke.mediaType];ht&&0!==ht.state&&(ht.abrQuality=ke.newQuality)}}function Rt(ke){if(ke){var ht=J[ke.mediaType];if(ht&&0!==ht.state){var kt,We=H.getCurrentBufferLevel(ke.mediaType);kt=ht.abrQuality>0?pe(ht,ht.abrQuality):p;var dt=Math.max(0,kt-We);ht.placeholderBuffer=Math.min(ht.placeholderBuffer,dt)}}}function ut(){J={}}return W={getMaxIndex:function(ke){var ht=(0,P.Z)(se).create();if(!(ke&&ke.hasOwnProperty("getMediaInfo")&&ke.hasOwnProperty("getMediaType")&&ke.hasOwnProperty("getScheduleController")&&ke.hasOwnProperty("getStreamInfo")&&ke.hasOwnProperty("getAbrController")&&ke.hasOwnProperty("useBufferOccupancyABR")))return ht;var kt=ke.getMediaInfo(),We=ke.getMediaType(),dt=ke.getScheduleController(),Ce=ke.getStreamInfo(),_e=ke.getAbrController(),at=_e.getThroughputHistory(),E=Ce?Ce.id:null,_=Ce&&Ce.manifestInfo&&Ce.manifestInfo.isDynamic,R=ke.useBufferOccupancyABR();if(ht.reason=ht.reason||{},!R)return ht;dt.setTimeToLoadDelay(0);var it,Re,Xe,x=(Re=(it=ke).getMediaType(),(Xe=J[Re])?0!==Xe.state&&qe(Xe,Re):(Xe=function(Qe){var St={},Pt=Qe.getMediaInfo().bitrateList.map(function(vn){return vn.bandwidth}),on=Pt.map(function(Yn){return Math.log(Yn)});on=on.map(function(vn){return vn-on[0]+1});var xn=k.getStableBufferTime(),Cn=de(xn,Pt,on);return Cn?(St.state=1,St.bitrates=Pt,St.utilities=on,St.stableBufferTime=xn,St.Vp=Cn.Vp,St.gp=Cn.gp,St.lastQuality=0,ce(St)):St.state=0,St}(it),J[Re]=Xe),Xe);if(0===x.state)return ht;var ue,oe=H.getCurrentBufferLevel(We),xe=at.getAverageThroughput(We,_),Ye=at.getSafeAverageThroughput(We,_),Ke=at.getAverageLatency(We);if(ht.reason.state=x.state,ht.reason.throughput=xe,ht.reason.latency=Ke,isNaN(xe))return ht;switch(x.state){case 1:ue=_e.getQualityForBitrate(kt,Ye,E,Ke),ht.quality=ue,ht.reason.throughput=Ye,x.placeholderBuffer=Math.max(0,pe(x,ue)-oe),x.lastQuality=ue,!isNaN(x.lastSegmentDurationS)&&oe>=x.lastSegmentDurationS&&(x.state=2);break;case 2:(function(it,Re){var Xe=Date.now();isNaN(it.lastSegmentFinishTimeMs)?isNaN(it.lastCallTimeMs)||(it.placeholderBuffer+=Math.max(0,.001*(Xe-it.lastCallTimeMs))):it.placeholderBuffer+=Math.max(0,.001*(Xe-it.lastSegmentFinishTimeMs)),it.lastCallTimeMs=Xe,it.lastSegmentStart=NaN,it.lastSegmentRequestTimeMs=NaN,it.lastSegmentFinishTimeMs=NaN,qe(it,Re)})(x,We),ue=function(it,Re){for(var Xe=it.bitrates.length,Qe=NaN,St=NaN,Pt=0;Pt<Xe;++Pt){var on=(it.Vp*(it.utilities[Pt]+it.gp)-Re)/it.bitrates[Pt];(isNaN(St)||on>=St)&&(St=on,Qe=Pt)}return Qe}(x,oe+x.placeholderBuffer);var Le=_e.getQualityForBitrate(kt,Ye,E,Ke);ue>x.lastQuality&&ue>Le&&(ue=Math.max(Le,x.lastQuality));var tt=Math.max(0,oe+x.placeholderBuffer-ot(x,ue));tt<=x.placeholderBuffer?(x.placeholderBuffer-=tt,tt=0):(tt-=x.placeholderBuffer,x.placeholderBuffer=0,ue<_e.getMaxAllowedIndexFor(We,E)?dt.setTimeToLoadDelay(1e3*tt):tt=0),ht.quality=ue,ht.reason.throughput=xe,ht.reason.latency=Ke,ht.reason.bufferLevel=oe,ht.reason.placeholderBuffer=x.placeholderBuffer,ht.reason.delay=tt,x.lastQuality=ue;break;default:ne.debug("BOLA ABR rule invoked in bad state."),ht.quality=_e.getQualityForBitrate(kt,Ye,E,Ke),ht.reason.state=x.state,ht.reason.throughput=Ye,ht.reason.latency=Ke,x.state=1,ce(x)}return ht},reset:function(){ut(),K.off(C.Z.BUFFER_EMPTY,Mt,W),K.off(C.Z.PLAYBACK_SEEKING,He,W),K.off(C.Z.METRIC_ADDED,Ne,W),K.off(C.Z.QUALITY_CHANGE_REQUESTED,rt,W),K.off(C.Z.FRAGMENT_LOADING_ABANDONED,Rt,W),K.off(S.Z.MEDIA_FRAGMENT_LOADED,$e,W)}},ne=(0,g.Z)(se).getInstance().getLogger(W),ut(),K.on(C.Z.BUFFER_EMPTY,Mt,W),K.on(C.Z.PLAYBACK_SEEKING,He,W),K.on(C.Z.METRIC_ADDED,Ne,W),K.on(C.Z.QUALITY_CHANGE_REQUESTED,rt,W),K.on(C.Z.FRAGMENT_LOADING_ABANDONED,Rt,W),K.on(S.Z.MEDIA_FRAGMENT_LOADED,$e,W),W}y.__dashjs_factory_name="BolaRule";const w=f.Z.getClassFactory(y)},895:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(2068),f=F(6398);function h(){var S,g,C=this.context;return S={getMaxIndex:function(M){var p=(0,P.Z)(C).create();if(!M||!M.hasOwnProperty("getDroppedFramesHistory"))return p;var y=M.getDroppedFramesHistory(),w=M.getStreamInfo().id;if(y){var q=y.getFrameHistory(w);if(!q||0===q.length)return p;for(var W=0,ne=0,J=P.Z.NO_CHANGE,se=1;se<q.length;se++)if(q[se]&&(W=q[se].droppedVideoFrames,(ne=q[se].totalVideoFrames)>375&&W/ne>.15)){g.debug("index: "+(J=se-1)+" Dropped Frames: "+W+" Total Frames: "+ne);break}return(0,P.Z)(C).create(J,{droppedFrames:W})}return p}},g=(0,f.Z)(C).getInstance().getLogger(S),S}h.__dashjs_factory_name="DroppedFramesRule";const O=ye.Z.getClassFactory(h)},6535:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>p});var ye=F(5595),P=F(8512),f=F(5448),h=F(6398),O=F(2068),S=F(3393),g=F(3860),C=F(8825);function M(y){y=y||{};var w,q,W,ne=this.context,J=(0,ye.Z)(ne).getInstance(),se=y.dashMetrics;function H(){(W={})[S.Z.VIDEO]={ignoreCount:2},W[S.Z.AUDIO]={ignoreCount:2}}function k(){H()}function K(de){isNaN(de.startTime)||de.mediaType!==S.Z.AUDIO&&de.mediaType!==S.Z.VIDEO||W[de.mediaType].ignoreCount>0&&W[de.mediaType].ignoreCount--}return w={getMaxIndex:function(de){var ce=(0,O.Z)(ne).create();if(!de||!de.hasOwnProperty("getMediaType"))return ce;!function(){if(!se||!se.hasOwnProperty("getCurrentBufferLevel")||!se.hasOwnProperty("getCurrentBufferState"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}();var qe=de.getMediaType(),ot=se.getCurrentBufferState(qe),pe=de.getRepresentationInfo().fragmentDuration,Mt=de.getStreamInfo(),He=Mt?Mt.id:null,$e=de.getScheduleController(),Ne=Mt&&Mt.manifestInfo&&Mt.manifestInfo.isDynamic;if(!$e.getPlaybackController().getLowLatencyModeEnabled()&&W[qe].ignoreCount>0||!pe)return ce;if(ot&&ot.state===g.Z.BUFFER_EMPTY)q.debug("["+qe+"] Switch to index 0; buffer is empty."),ce.quality=0,ce.reason="InsufficientBufferRule: Buffer is empty";else{var je=de.getMediaInfo(),rt=de.getAbrController(),Rt=rt.getThroughputHistory(),ut=se.getCurrentBufferLevel(qe),ke=Rt.getAverageThroughput(qe,Ne),ht=Rt.getAverageLatency(qe);ce.quality=rt.getQualityForBitrate(je,ke*(ut/pe)*.5,He,ht),ce.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return ce},reset:function(){H(),J.off(C.Z.PLAYBACK_SEEKING,k,w),J.off(P.Z.BYTES_APPENDED_END_FRAGMENT,K,w)}},q=(0,h.Z)(ne).getInstance().getLogger(w),H(),J.on(C.Z.PLAYBACK_SEEKING,k,w),J.on(P.Z.BYTES_APPENDED_END_FRAGMENT,K,w),w}M.__dashjs_factory_name="InsufficientBufferRule";const p=f.Z.getClassFactory(M)},1914:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>p});var ye=F(3860),P=F(2068),f=F(5448),h=F(7855),O=F(5595),S=F(8512),g=F(6398),C=F(3393);function M(y){var w,q,W,ne,J=this.context,se=(y=y||{}).dashMetrics,H=(0,O.Z)(J).getInstance();function k(He){He.placeholderBuffer=0,He.mostAdvancedSegmentStart=NaN,He.lastSegmentWasReplacement=!1,He.lastSegmentStart=NaN,He.lastSegmentDurationS=NaN,He.lastSegmentRequestTimeMs=NaN,He.lastSegmentFinishTimeMs=NaN,He.lastSegmentUrl=""}function K(){for(var He in q)if(q.hasOwnProperty(He)){var $e=q[He];0!==$e.state&&($e.state=1,k($e))}}function de(He){if(He&&He.chunk&&He.chunk.mediaInfo){var $e=q[He.chunk.mediaInfo.type],Ne=W[He.chunk.mediaInfo.type];if($e&&0!==$e.state){var je=He.chunk.start;isNaN($e.mostAdvancedSegmentStart)||je>$e.mostAdvancedSegmentStart?($e.mostAdvancedSegmentStart=je,$e.lastSegmentWasReplacement=!1):$e.lastSegmentWasReplacement=!0,$e.lastSegmentStart=je,$e.lastSegmentDurationS=He.chunk.duration,$e.lastQuality=He.chunk.quality,qe($e,Ne)}}}function ce(He){if(He&&He.metric===ye.Z.HTTP_REQUEST&&He.value&&He.value.type===h.w.MEDIA_SEGMENT_TYPE&&He.value.trace&&He.value.trace.length){var $e=q[He.mediaType],Ne=W[He.mediaType];$e&&0!==$e.state&&($e.lastSegmentRequestTimeMs=He.value.trequest.getTime(),$e.lastSegmentFinishTimeMs=He.value._tfinish.getTime(),qe($e,Ne))}}function qe(He,$e){isNaN(He.lastSegmentStart)||isNaN(He.lastSegmentRequestTimeMs)||($e.segment_request_start_s=.001*He.lastSegmentRequestTimeMs,$e.segment_download_finish_s=.001*He.lastSegmentFinishTimeMs,He.lastSegmentStart=NaN,He.lastSegmentRequestTimeMs=NaN)}function ot(He){if(He&&He.mediaType){var $e=q[He.mediaType];$e&&0!==$e.state&&($e.abrQuality=He.newQuality)}}function pe(He,$e){if(He.length!==$e.length)return-1;for(var Ne=0,je=0;je<He.length;je++)Ne+=He[je]*$e[je];return Ne}function Mt(){q={},W={}}return w={getMaxIndex:function(He){var $e,Ne=(0,P.Z)(J).create(),je=Math.pow(4,.99),rt=Math.max(Math.pow(4,1),je*Math.sqrt(4)),Rt=He.getMediaInfo(),ut=He.getMediaType(),ke=Rt.bitrateList.map(function(Cn){return Cn.bandwidth}),ht=ke.length,kt=He.getScheduleController(),We=He.getStreamInfo(),dt=He.getAbrController(),Ce=dt.getThroughputHistory(),_e=We&&We.manifestInfo&&We.manifestInfo.isDynamic,at=He.useL2AABR(),E=se.getCurrentBufferLevel(ut,!0),_=Ce.getSafeAverageThroughput(ut,_e),R=Ce.getAverageThroughput(ut,_e),x=Ce.getAverageLatency(ut),ue=He.getVideoModel().getPlaybackRate();if(!(He&&He.hasOwnProperty("getMediaInfo")&&He.hasOwnProperty("getMediaType")&&He.hasOwnProperty("getScheduleController")&&He.hasOwnProperty("getStreamInfo")&&He.hasOwnProperty("getAbrController")&&He.hasOwnProperty("useL2AABR")&&(Ne.reason=Ne.reason||{},at&&ut!==C.Z.AUDIO)))return Ne;kt.setTimeToLoadDelay(0);var Cn,Zr,br,mi,Si,vn,Yn,oe=(vn=(Cn=He).getMediaType(),(Yn=q[vn])||(br={},Si=(mi=Cn.getMediaInfo()).bitrateList.map(function(Zr){return Zr.bandwidth/1e3}),br.state=1,br.bitrates=Si,br.lastQuality=0,(Zr=mi)&&Zr.type&&(W[Zr.type]={},W[Zr.type].w=[],W[Zr.type].prev_w=[],W[Zr.type].Q=0,W[Zr.type].segment_request_start_s=0,W[Zr.type].segment_download_finish_s=0,W[Zr.type].B_target=1.5),k(br),q[vn]=Yn=br),Yn);if(0===oe.state)return Ne;var xe=W[ut];if(!xe||(Ne.reason.state=oe.state,Ne.reason.throughput=R,Ne.reason.latency=x,isNaN(R)))return Ne;switch(oe.state){case 1:if($e=dt.getQualityForBitrate(Rt,_,We.id,x),Ne.quality=$e,Ne.reason.throughput=_,oe.lastQuality=$e,!isNaN(oe.lastSegmentDurationS)&&E>=xe.B_target){oe.state=2,xe.Q=je;for(var Ye=0;Ye<ht;++Ye)xe.prev_w[Ye]=Ye===oe.lastQuality?1:0}break;case 2:var Ke=[],Le=se.getCurrentHttpRequest(ut).trace.reduce(function(Cn,vn){return Cn+vn.d},0),tt=se.getCurrentHttpRequest(ut).trace.reduce(function(Cn,vn){return Cn+vn.b[0]},0),it=Math.round(8*tt/Le),Re=se.getCurrentHttpRequest(ut);if(it<1&&(it=1),Re.url===oe.lastSegmentUrl||Re.type===h.w.INIT_SEGMENT_TYPE)$e=oe.lastQuality;else{for(var Xe=oe.lastSegmentDurationS,Qe=1,St=0;St<ht;++St)ke[St]=ke[St]/1e3,ue*ke[St]>it&&(Qe=-1),xe.w[St]=xe.prev_w[St]+Qe*(Xe/(2*rt))*((xe.Q+je)*(ue*ke[St]/it));xe.w=function(Cn){for(var vn=Cn.length,Yn=!1,jn=[],br=0;br<vn;++br)jn[br]=Cn[br];for(var mi=Cn.sort(function(Yi,Co){return Co-Yi}),Si=0,Zr=0,Li=[],Fi=0;Fi<vn-1;++Fi)if((Zr=((Si+=mi[Fi])-1)/(Fi+1))>=mi[Fi+1]){Yn=!0;break}Yn||(Zr=(Si+mi[vn-1]-1)/vn);for(var qi=0;qi<vn;++qi)Li[qi]=Math.max(jn[qi]-Zr,0);return Li}(xe.w);for(var Pt=0;Pt<ht;++Pt)Ke[Pt]=xe.w[Pt]-xe.prev_w[Pt],xe.prev_w[Pt]=xe.w[Pt];xe.Q=Math.max(0,xe.Q-Xe+Xe*ue*((pe(ke,xe.prev_w)+pe(ke,Ke))/it));for(var on=[],xn=0;xn<ht;++xn)on[xn]=Math.abs(ke[xn]-pe(xe.w,ke));($e=on.indexOf(Math.min.apply(Math,on)))>oe.lastQuality&&ke[oe.lastQuality+1]<=it&&($e=oe.lastQuality+1),ke[$e]>=it&&(xe.Q=2*Math.max(je,xe.Q)),oe.lastSegment.url=Re.url}Ne.quality=$e,Ne.reason.throughput=R,Ne.reason.latency=x,Ne.reason.bufferLevel=E,oe.lastQuality=Ne.quality;break;default:ne.debug("L2A ABR rule invoked in bad state."),Ne.quality=dt.getQualityForBitrate(Rt,_,We.id,x),Ne.reason.state=oe.state,Ne.reason.throughput=_,Ne.reason.latency=x,oe.state=1,k(oe)}return Ne},reset:function(){Mt(),H.off(S.Z.PLAYBACK_SEEKING,K,w),H.off(S.Z.MEDIA_FRAGMENT_LOADED,de,w),H.off(S.Z.METRIC_ADDED,ce,w),H.off(S.Z.QUALITY_CHANGE_REQUESTED,ot,w)}},ne=(0,g.Z)(J).getInstance().getLogger(w),Mt(),H.on(S.Z.PLAYBACK_SEEKING,K,w),H.on(S.Z.MEDIA_FRAGMENT_LOADED,de,w),H.on(S.Z.METRIC_ADDED,ce,w),H.on(S.Z.QUALITY_CHANGE_REQUESTED,ot,w),w}M.__dashjs_factory_name="L2ARule";const p=f.Z.getClassFactory(M)},6070:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>O});var ye=F(5448),P=F(6398),f=F(2068);function h(){var S,g,C=this.context;return S={getMaxIndex:function(M){for(var p=M?M.getSwitchHistory():null,y=p?p.getSwitchRequests():[],w=0,q=0,W=0,ne=(0,f.Z)(C).create(),J=0;J<y.length;J++)if(void 0!==y[J]&&(W+=y[J].dropSize,(w+=y[J].drops)+(q+=y[J].noDrops)>=6&&w/q>.075)){ne.quality=J>0&&y[J].drops>0?J-1:J,ne.reason={index:ne.quality,drops:w,noDrops:q,dropSize:W},g.debug("Switch history rule index: "+ne.quality+" samples: "+(w+q)+" drops: "+w);break}return ne}},g=(0,P.Z)(C).getInstance().getLogger(S),S}h.__dashjs_factory_name="SwitchHistoryRule";const O=ye.Z.getClassFactory(h)},5628:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>S});var ye=F(5448),P=F(2068),f=F(3393),h=F(3860);function O(g){var C=this.context,M=(g=g||{}).dashMetrics;return{getMaxIndex:function(p){var y=(0,P.Z)(C).create();if(!(p&&p.hasOwnProperty("getMediaInfo")&&p.hasOwnProperty("getMediaType")&&p.hasOwnProperty("useBufferOccupancyABR")&&p.hasOwnProperty("getAbrController")&&p.hasOwnProperty("getScheduleController")))return y;!function(){if(!M||!M.hasOwnProperty("getCurrentBufferState"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var w=p.getMediaInfo(),q=p.getMediaType(),W=M.getCurrentBufferState(q),ne=p.getScheduleController(),J=p.getAbrController(),se=p.getStreamInfo(),H=se?se.id:null,k=se&&se.manifestInfo?se.manifestInfo.isDynamic:null,K=J.getThroughputHistory(),de=K.getSafeAverageThroughput(q,k),ce=K.getAverageLatency(q),qe=p.useBufferOccupancyABR();return isNaN(de)||!W||qe||J.getAbandonmentStateFor(H,q)!==h.Z.ABANDON_LOAD&&(W.state===h.Z.BUFFER_LOADED||k)&&(y.quality=J.getQualityForBitrate(w,de,H,ce),ne.setTimeToLoadDelay(0),y.reason={throughput:de,latency:ce}),y},reset:function(){}}}O.__dashjs_factory_name="ThroughputRule";const S=ye.Z.getClassFactory(O)},4722:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(6398);function f(){var O,S,g,C,M,p,y,w,q;function ne(){g=null,C=1,M=100,p=0,y=null,w=null,q="dynamic_weight_selection"}function J(){var de=0;if(g)for(var ce=0;ce<g.length;ce++){var qe=g[ce];qe.state.throughput>de&&(de=qe.state.throughput)}return de}function se(de,ce,qe){var ot=de.map(function(pe,Mt){return qe[Mt]*Math.pow(pe-ce[Mt],2)}).reduce(function(pe,Mt){return pe+Mt});return(ot<0?-1:1)*Math.sqrt(Math.abs(ot))}function H(de,ce){return se([de.state.throughput,de.state.latency,de.state.rebuffer,de.state.switch],[ce.state.throughput,ce.state.latency,ce.state.rebuffer,ce.state.switch],[1,1,1,1])}function k(de,ce,qe){for(var ot=0;ot<ce.length;ot++){var pe=ce[ot],Mt=H(pe,de);K(pe,qe,Math.exp(-1*Math.pow(Mt,2)/(2*Math.pow(.1,2))))}}function K(de,ce,qe){var ot=de.state,pe=[.01,.01,.01,.01];ot.throughput=ot.throughput+(ce[0]-ot.throughput)*pe[0]*qe,ot.latency=ot.latency+(ce[1]-ot.latency)*pe[1]*qe,ot.rebuffer=ot.rebuffer+(ce[2]-ot.rebuffer)*pe[2]*qe,ot.switch=ot.switch+(ce[3]-ot.switch)*pe[3]*qe}return O={getNextQuality:function(de,ce,qe,ot,pe,Mt,He){var $e=qe,Ne=ot,je=ce,rt=function(xe){if(!g){g=[];var Ye=xe.bitrateList,Ke=[];p=Ye[0].bandwidth,Ye.forEach(function(Re){Ke.push(Re.bandwidth),Re.bandwidth<p&&(p=Re.bandwidth)}),it=Ke.map(function(Re){return Math.pow(Re,2)}).reduce(function(Re,Xe){return Re+Xe}),C=Math.sqrt(it);for(var Le=0;Le<Ye.length;Le++)g.push({qualityIndex:Le,bitrate:Ye[Le].bandwidth,state:{throughput:Ye[Le].bandwidth/C,latency:0,rebuffer:0,switch:0}});w=function(Re){var Xe=[],Qe=function(Zt){for(var Ut=[],Vt=0;Vt<Zt;Vt++){var lt=[Math.random()*J(),Math.random(),Math.random(),Math.random()];Ut.push(lt)}return Ut}(Math.pow(Re.length,2));Xe.push(Qe[0]);for(var St=[1,1,1,1],Pt=1;Pt<Re.length;Pt++){for(var on=null,xn=null,Cn=0;Cn<Qe.length;Cn++){for(var vn=Qe[Cn],Yn=null,jn=0;jn<Xe.length;jn++){var br=se(vn,Xe[jn],St);(null===Yn||br<Yn)&&(Yn=br)}(null===xn||Yn>xn)&&(on=vn,xn=Yn)}Xe.push(on)}for(var mi=null,Si=null,Zr=0;Zr<Xe.length;Zr++){for(var Li=0,Fi=0;Fi<Xe.length;Fi++)Zr!==Fi&&(Li+=se(Xe[Zr],Xe[Fi],St));(null===mi||Li>mi)&&(mi=Li,Si=Zr)}var qi=[];for(qi.push(Xe[Si]),Xe.splice(Si,1);Xe.length>0;){for(var Yi=null,Co=null,_o=0;_o<Xe.length;_o++){var Ka=se(qi[0],Xe[_o],St);(null===Yi||Ka<Yi)&&(Yi=Ka,Co=_o)}qi.push(Xe[Co]),Xe.splice(Co,1)}return qi}(g)}var it;return g}(de),Rt=ce/C;Rt>1&&(Rt=J()),qe/=M,S.debug("getNextQuality called throughput:".concat(Rt," latency:").concat(qe," bufferSize:").concat(ot," currentQualityIndex:").concat(Mt," playbackRate:").concat(pe));var ut=rt[Mt],ke=ut.bitrate*He.getSegmentDuration()/je,ht=Math.max(0,ke-Ne);if(Ne-ke<He.getMinBuffer())return S.debug("Buffer is low for bitrate= ".concat(ut.bitrate," downloadTime=").concat(ke," currentBuffer=").concat(Ne," rebuffer=").concat(ht)),function(xe,Ye){var Ke=0,Le=xe;if(g)for(var tt=0;tt<g.length;tt++){var it=g[tt];it.bitrate<xe.bitrate&&it.bitrate>Ke&&Ye>it.bitrate&&(Ke=it.bitrate,Le=it)}return Le}(ut,je).qualityIndex;switch(q){case"manual_weight_selection":y=[.4,.4,.4,.4];break;case"random_weight_selection":y=function(Ye,Ke){for(var Le=[],tt=Math.sqrt(2/Ye),it=0;it<4;it++)Le.push(Math.random()*tt);return y=Le}(rt.length);break;default:!function(xe,Ye,Ke,Le,tt,it,Re){y||(y=w[w.length-1]);var Xe=xe.findWeightVector(Ye,Ke,Le,tt,it,Re);null!==Xe&&-1!==Xe&&(y=Xe)}(He,rt,$e,Ne,ht,je,pe)}for(var kt=null,We=null,dt=null,Ce=0;Ce<rt.length;Ce++){var _e=rt[Ce],at=_e.state,E=[at.throughput,at.latency,at.rebuffer,at.switch],_=y.slice(),R=He.getNextBufferWithBitrate(_e.bitrate,Ne,je),x=R<He.getMinBuffer();x&&S.debug("Buffer is low for bitrate=".concat(_e.bitrate," downloadTime=").concat(ke," currentBuffer=").concat(Ne," nextBuffer=").concat(R)),(_e.bitrate>ce-1e4||x)&&_e.bitrate!==p&&(_[0]=100);var ue=se(E,[Rt,0,0,0],_);(null===kt||ue<kt)&&(kt=ue,We=_e.qualityIndex,dt=_e)}var oe=Math.abs(ut.bitrate-dt.bitrate)/C;return k(ut,rt,[Rt,qe,ht,oe]),k(dt,rt,[Rt,0,0,oe]),We},reset:function(){ne()}},S=(0,P.Z)(this.context).getInstance().getLogger(O),ne(),O}f.__dashjs_factory_name="LearningAbrController";const h=ye.Z.getClassFactory(f)},5317:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(2298);function f(){var O,S,g,C,M;function p(){S=null,g=null,C=null,M=null}function y(q,W,ne,J){var se=new P.Z;return se.type=q,se.weights.bitrateReward=W||1,se.weights.bitrateSwitchPenalty=1,se.weights.rebufferPenalty=ne||1e3,se.weights.latencyPenalty=[],se.weights.latencyPenalty.push({threshold:1.1,penalty:.05*J}),se.weights.latencyPenalty.push({threshold:1e8,penalty:.1*ne}),se.weights.playbackSpeedPenalty=J||200,se}function w(q,W,ne,J,se){se.bitrateWSum+=se.weights.bitrateReward*q,se.lastBitrate&&(se.bitrateSwitchWSum+=se.weights.bitrateSwitchPenalty*Math.abs(q-se.lastBitrate)),se.lastBitrate=q,se.rebufferWSum+=se.weights.rebufferPenalty*W;for(var H=0;H<se.weights.latencyPenalty.length;H++){var k=se.weights.latencyPenalty[H];if(ne<=k.threshold){se.latencyWSum+=k.penalty*ne;break}}se.playbackSpeedWSum+=se.weights.playbackSpeedPenalty*Math.abs(1-J),se.totalQoe=se.bitrateWSum-se.bitrateSwitchWSum-se.rebufferWSum-se.latencyWSum-se.playbackSpeedWSum}return O={setupPerSegmentQoe:function(q,W,ne){S=y("segment",q,W,ne),g=q,C=W,M=ne},logSegmentMetrics:function(q,W,ne,J){S&&w(q,W,ne,J,S)},getPerSegmentQoe:function(){return S},calculateSingleUseQoe:function(q,W,ne,J){var se=null;return g&&C&&M&&(se=y("segment",g,C,M)),se?(w(q,W,ne,J,se),se.totalQoe):0},reset:function(){p()}},p(),O}f.__dashjs_factory_name="LoLpQoeEvaluator";const h=ye.Z.getClassFactory(f)},5435:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>p});var ye=F(6398),P=F(5448),f=F(4722),h=F(5317),O=F(2068),S=F(3860),g=F(6523),C=F(3393);function M(y){var w,q,W,ne,J=(y=y||{}).dashMetrics,se=this.context;return q={getMaxIndex:function(H){try{var k=(0,O.Z)(se).create(),K=H.getMediaInfo().type,de=H.getAbrController(),ce=H.getStreamInfo(),qe=de.getQualityFor(K,ce.id),ot=H.getMediaInfo(),pe=J.getCurrentBufferState(K),Mt=H.getScheduleController(),He=J.getCurrentBufferLevel(K,!0),$e=ce&&ce.manifestInfo?ce.manifestInfo.isDynamic:null,Ne=Mt.getPlaybackController(),je=Ne.getCurrentLiveLatency();if(!H.useLoLPABR()||K===C.Z.AUDIO)return k;je||(je=0);var rt=Ne.getPlaybackRate(),Rt=de.getThroughputHistory().getSafeAverageThroughput(K,$e);if(w.debug("Throughput ".concat(Math.round(Rt)," kbps")),isNaN(Rt)||!pe||de.getAbandonmentStateFor(ce.id,K)===S.Z.ABANDON_LOAD)return k;for(var ut=ot.bitrateList,ke=H.getRepresentationInfo().fragmentDuration,ht=ut[0].bandwidth/1e3,kt=ut[ut.length-1].bandwidth/1e3,We=0;We<ut.length;We++){var dt=ut[We].bandwidth/1e3;dt>kt?kt=dt:dt<ht&&(ht=dt)}var Ce=ut[qe].bandwidth/1e3,_e=J.getCurrentHttpRequest(K,!0),at=(_e.tresponse.getTime()-_e.trequest.getTime())/1e3,E=at>ke?at-ke:0;ne.setupPerSegmentQoe(ke,kt,ht),ne.logSegmentMetrics(Ce,E,je,rt);var _=(0,g.Z)(se).create({targetLatency:1.5,bufferMin:.3,segmentDuration:ke,qoeEvaluator:ne});return k.quality=W.getNextQuality(ot,1e3*Rt,je,He,rt,qe,_),k.reason={throughput:Rt,latency:je},k.priority=O.Z.PRIORITY.STRONG,Mt.setTimeToLoadDelay(0),k.quality!==qe&&w.debug("[TgcLearningRule]["+K+"] requesting switch to index: ",k.quality,"Average throughput",Math.round(Rt),"kbps"),k}catch(R){throw R}},reset:function(){W.reset(),ne.reset()}},w=(0,ye.Z)(se).getInstance().getLogger(q),W=(0,f.Z)(se).create(),ne=(0,h.Z)(se).create(),q}M.__dashjs_factory_name="LoLPRule";const p=P.Z.getClassFactory(M)},6523:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>f});var ye=F(5448);function P(h){var O,S,g,C,M=h.targetLatency,p=h.bufferMin,y=h.segmentDuration,w=h.qoeEvaluator;function q(){return y}function W(ne,J){var se=q();return J>se?ne-se:ne+se-J}return O={getMinBuffer:function(){return p},getSegmentDuration:q,getNextBufferWithBitrate:function(ne,J,se){return W(J,ne*y/se)},getNextBuffer:W,findWeightVector:function(ne,J,se,H,k,K){var de=null,ce=null,qe=null,ot=Math.abs(J-g);return ne.forEach(function(pe){S.forEach(function(Mt){var He=Mt[1],$e=Mt[2],Ne=pe.bitrate*y/k,je=W(se,Ne),rt=(0===$e?10:1/$e)*Math.max(1e-5,Ne-je),ut=w.calculateSingleUseQoe(pe.bitrate,rt,(0===He?10:1/He)*pe.state.latency,K);(null===de||ut>de)&&!(J>M+ot)&&je>=p&&(de=ut,ce=Mt,qe=pe.bitrate)})}),null===ce&&null===qe&&(ce=-1),g=J,ce}},S=function ne(J,se,H){if(H===se)return J;for(var k=J.length,K=0;K<k;K++)for(var de=J.shift(),ce=0;ce<C.length;ce++)J.push(de.concat(C[ce]));return ne(J,se,H+1)}((C=[.2,.4,.6,.8,1]).map(function(ne){return[ne]}),4,1),g=0,O}P.__dashjs_factory_name="LoLpWeightSelector";const f=ye.Z.getClassFactory(P)},2298:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,P),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:(At,Ze,F)=>{"use strict";F.d(Ze,{Y:()=>y,Z:()=>q});var ye=F(3393),P=F(1553),f=F(5448),h=F(2128),O=F(2594),S=F(7387),g=F(7417),C=F(9032),M=F(9326),p=F(7802),y=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function w(W){var ne,J,se,H,k,K,de,ce,qe=this.context,ot=W.adapter,pe=W.baseURLController,Mt=W.streamInfo,He=W.timelineConverter,$e=W.debug,Ne=W.eventBus,je=W.events,rt=W.dashConstants,Rt=(0,O.Z)(qe).getInstance();function ut(ht,kt){var dt,Ce,We=new h.Z;We.id=ht.id,We.bitrate=ht.bandwidth,We.width=ht.width,We.height=ht.height,We.tilesHor=1,We.tilesVert=1,ht.essentialProperties&&ht.essentialProperties.forEach(function(dt){if(y.indexOf(dt.schemeIdUri)>=0&&dt.value){var Ce=dt.value.split("x");2!==Ce.length||isNaN(Ce[0])||isNaN(Ce[1])||(We.tilesHor=parseInt(Ce[0],10),We.tilesVert=parseInt(Ce[1],10))}}),kt?K.updateSegmentData(ht).then(function(dt){var Ce,_e,E,_;Ce=We,E=[],_=function(R,x){var ue,oe,xe,Ye,Ke=[],Le=0;for(ue=0,oe=R.segments.length;ue<oe;ue++)xe=R.segments[ue],(Ye=(0,S.TJ)(He,ot.getIsDynamic(),x,xe.startTime,xe.duration,xe.timescale,xe.media,xe.mediaRange,Le))&&(Ke.push(Ye),Ye=null,Le++);return Ke}(dt,_e=ht),_e.segments=_,Ce.segmentDuration=_e.segments[0].duration,Ce.readThumbnail=function(R,x){var ue=null;E.some(function(oe){if(oe.start<=R&&oe.end>R)return ue=oe.url,!0}),ue?x(ue):_e.segments.some(function(oe){if(oe.mediaStartTime<=R&&oe.mediaStartTime+oe.duration>R){var xe=pe.resolve(_e.path);return de.load({method:"get",url:xe.url,request:{range:oe.mediaRange,responseType:"arraybuffer"},onload:function(Ye){var Ke=ce.getSamplesInfo(Ye.target.response),Le=new Blob([Ye.target.response.slice(Ke.sampleList[0].offset,Ke.sampleList[0].offset+Ke.sampleList[0].size)],{type:"image/jpeg"}),tt=window.URL.createObjectURL(Le);E.push({start:oe.mediaStartTime,end:oe.mediaStartTime+oe.duration,url:tt}),x&&x(tt)}}),!0}})}}):(We.startNumber=ht.startNumber,We.segmentDuration=ht.segmentDuration,We.timescale=ht.timescale,We.templateUrl=(Ce=Rt.isRelative((dt=ht).media)?Rt.resolve(dt.media,pe.resolve(dt.path).url):dt.media)?(0,S.Aj)(Ce,dt.id):""),We.tilesHor>0&&We.tilesVert>0&&(We.widthPerTile=We.width/We.tilesHor,We.heightPerTile=We.height/We.tilesVert,J.push(We))}function ke(){J=[],H=-1,k=null}return ne={getTracks:function(){return J},addTracks:function(){if(Mt&&ot&&(k=ot.getMediaInfoForType(Mt,ye.Z.IMAGE))){var ht=ot.getVoRepresentations(k);ht&&ht.length>0&&ht.forEach(function(kt){(kt.segmentInfoType===P.Z.SEGMENT_TEMPLATE&&kt.segmentDuration>0&&kt.media||kt.segmentInfoType===P.Z.SEGMENT_TIMELINE)&&ut(kt),kt.segmentInfoType===P.Z.SEGMENT_BASE&&ut(kt,!0)}),J.length>0&&J.sort(function(kt,We){return kt.bitrate-We.bitrate})}},reset:ke,setTrackByIndex:function(ht){J&&0!==J.length&&(ht>=J.length&&(ht=J.length-1),H=ht)},getCurrentTrack:function(){return H<0?null:J[H]},getCurrentTrackIndex:function(){return H},getThumbnailRequestForTime:function(ht){for(var kt,We=ot.getVoRepresentations(k),dt=0;dt<We.length;dt++)if(J[H].id===We[dt].id){kt=We[dt];break}return se.getSegmentRequestForTime(k,kt,ht)}},ke(),de=(0,C.Z)(qe).create({}),ce=(0,g.Z)(qe).getInstance(),K=(0,p.Z)(qe).create({events:je,eventBus:Ne,streamInfo:Mt,timelineConverter:He,dashConstants:rt,dashMetrics:W.dashMetrics,segmentBaseController:W.segmentBaseController,type:ye.Z.IMAGE}),(se=(0,M.Z)(qe).create({streamInfo:Mt,type:ye.Z.IMAGE,timelineConverter:He,segmentsController:K,baseURLController:pe,debug:$e,eventBus:Ne,events:je,dashConstants:rt,urlUtils:Rt})).initialize(!!ot&&ot.getIsDynamic()),ne}w.__dashjs_factory_name="ThumbnailTracks";const q=f.Z.getClassFactory(w)},7417:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>g});var ye=F(6398),P=F(8260),f=F(5448),h=F(6934),O=F(9597);function S(){var C,M,p=this.context;function y(W){if(!W)return null;void 0===W.fileStart&&(W.fileStart=0);var ne=h.parseBuffer(W),J=(0,P.Z)(p).create();return J.setData(ne),J}function w(W,ne){return W[ne+3]>>>0|W[ne+2]<<8>>>0|W[ne+1]<<16>>>0|W[ne]<<24>>>0}function q(W,ne){return String.fromCharCode(W[ne++])+String.fromCharCode(W[ne++])+String.fromCharCode(W[ne++])+String.fromCharCode(W[ne])}return M={parse:y,findLastTopIsoBoxCompleted:function(W,ne,J){if(void 0===J&&(J=0),!ne||J+8>=ne.byteLength)return new O.Z(0,!1);for(var se,H=ne instanceof ArrayBuffer?new Uint8Array(ne):ne,k=0;J<H.byteLength;){var K=w(H,J),de=q(H,J+4);if(0===K)break;J+K<=H.byteLength&&(W.indexOf(de)>=0?se=new O.Z(J,!0,K):k=J+K),J+=K}return se||new O.Z(k,!1)},getMediaTimescaleFromMoov:function(W){var ne=y(W),J=ne?ne.getBox("mdhd"):void 0;return J?J.timescale:NaN},getSamplesInfo:function(W){if(!W||0===W.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var ne,J,se,H,k,K,de,ce,qe,ot,pe,Mt,He,$e,Ne,je,rt=y(W),Rt=rt.getBoxes("moof"),ut=rt.getBoxes("mfhd");Ne=rt.getBoxes("moof").length,$e=ut[ut.length-1].sequence_number,J=0,k=[];var ke=-1,ht=-1;for(ot=0;ot<Rt.length;ot++){var kt=Rt[ot],We=kt.getChildBoxes("traf");for(ce=0;ce<We.length;ce++){var dt=We[ce],Ce=dt.getChildBox("tfhd"),_e=dt.getChildBox("tfdt");H=_e.baseMediaDecodeTime;var at=dt.getChildBoxes("trun"),E=dt.getChildBoxes("subs");for(qe=0;qe<at.length;qe++){var _=at[qe];for(J=_.sample_count,He=(Ce.base_data_offset||0)+(_.data_offset||0),de=0;de<J;de++){ne=void 0!==(K=_.samples[de]).sample_duration?K.sample_duration:Ce.default_sample_duration;var R={dts:H,cts:H+(void 0!==K.sample_composition_time_offset?K.sample_composition_time_offset:0),duration:ne,offset:kt.offset+He,size:se=void 0!==K.sample_size?K.sample_size:Ce.default_sample_size,subSizes:[se]};if(E)for(pe=0;pe<E.length;pe++){var x=E[pe];if(ke<x.entry_count-1&&de>ht&&(ke++,ht+=x.entries[ke].sample_delta),de==ht){R.subSizes=[];var ue=x.entries[ke];for(Mt=0;Mt<ue.subsample_count;Mt++)R.subSizes.push(ue.subsamples[Mt].subsample_size)}}k.push(R),He+=se,H+=ne}}je=H-_e.baseMediaDecodeTime}}return{sampleList:k,lastSequenceNumber:$e,totalDuration:je,numSequences:Ne}},findInitRange:function(W){var ne=null,J=y(W);if(!J)return ne;var se=J.getBox("ftyp"),H=J.getBox("moov");return C.debug("Searching for initialization."),H&&H.isComplete&&C.debug("Found the initialization.  Range: "+(ne=(se?se.offset:H.offset)+"-"+(H.offset+H.size-1))),ne},parsePayload:function(W,ne,J){if(void 0===J&&(J=0),!ne||J+8>=ne.byteLength)return new O.Z(0,!1);for(var se,H=ne instanceof ArrayBuffer?new Uint8Array(ne):ne,k=0;J<H.byteLength;){var K=w(H,J),de=q(H,J+4);if(0===K)break;J+K<=H.byteLength&&(W.indexOf(de)>=0?se=new O.Z(J,!0,K,de):k=J+K),J+=K}return se||new O.Z(k,!1)}},C=(0,ye.Z)(p).getInstance().getLogger(M),M}S.__dashjs_factory_name="BoxParser";const g=f.Z.getSingletonFactory(S)},1715:(At,Ze,F)=>{"use strict";F.d(Ze,{B:()=>O,Z:()=>g});var ye=F(5448),P=F(7803),f=F(3393),h=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function O(){var C="WebKitMediaSource"in window,M="MediaSource"in window;return C||M}function S(){var C,M,p;return C={setConfig:function(y){y&&y.settings&&(M=y.settings)},supportsMediaSource:O,supportsEncryptedMedia:function(){return p},supportsCodec:function(y,w){return w!==f.Z.AUDIO&&w!==f.Z.VIDEO?Promise.resolve(!0):(q=y,W=w,M.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(q.codec&&W===f.Z.AUDIO||W===f.Z.VIDEO&&q.codec&&q.width&&q.height&&q.bitrate&&q.framerate)?function(q,W){return new Promise(function(ne){if(q&&q.codec){var J={type:"media-source"};J[W]={},J[W].contentType=q.codec,J[W].width=q.width,J[W].height=q.height,J[W].bitrate=parseInt(q.bitrate),J[W].framerate=parseFloat(q.framerate),navigator.mediaCapabilities.decodingInfo(J).then(function(se){ne(se.supported)}).catch(function(){ne(!1)})}else ne(!1)})}(y,w):function(q){return new Promise(function(W){if(q&&q.codec){var ne=q.codec;q.width&&q.height&&(ne+=';width="'+q.width+'";height="'+q.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(ne)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(ne)?W(!0):W(!1)}else W(!1)})}(y));var q,W},setEncryptedMediaSupported:function(y){p=y},supportsEssentialProperty:function(y){try{return-1!==P.Y.indexOf(y.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function(y,w){for(var q,W=y.split(".")[0],ne=0===w.indexOf(W),J=0;J<h.length;J++)if(h[J].codec===W){q=h[J];break}return q?ne||q.compatibleCodecs.some(function(se){return 0===w.indexOf(se)}):ne}},p=!1,C}S.__dashjs_factory_name="Capabilities";const g=ye.Z.getSingletonFactory(S)},2295:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(3106);function f(){return{customTimeRangeArray:[],length:0,add:function(O,S){var g;for(g=0;g<this.customTimeRangeArray.length&&O>this.customTimeRangeArray[g].start;g++);for(this.customTimeRangeArray.splice(g,0,{start:O,end:S}),g=0;g<this.customTimeRangeArray.length-1;g++)this.mergeRanges(g,g+1)&&g--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(O,S){for(var g=0;g<this.customTimeRangeArray.length;g++)if(O<=this.customTimeRangeArray[g].start&&S>=this.customTimeRangeArray[g].end)this.customTimeRangeArray.splice(g,1),g--;else{if(O>this.customTimeRangeArray[g].start&&S<this.customTimeRangeArray[g].end){this.customTimeRangeArray.splice(g+1,0,{start:S,end:this.customTimeRangeArray[g].end}),this.customTimeRangeArray[g].end=O;break}O>this.customTimeRangeArray[g].start&&O<this.customTimeRangeArray[g].end?this.customTimeRangeArray[g].end=O:S>this.customTimeRangeArray[g].start&&S<this.customTimeRangeArray[g].end&&(this.customTimeRangeArray[g].start=S)}this.length=this.customTimeRangeArray.length},mergeRanges:function(O,S){var g=this.customTimeRangeArray[O],C=this.customTimeRangeArray[S];return g.start<=C.start&&C.start<=g.end&&g.end<=C.end?(g.end=C.end,this.customTimeRangeArray.splice(S,1),!0):C.start<=g.start&&g.start<=C.end&&C.end<=g.end?(g.start=C.start,this.customTimeRangeArray.splice(S,1),!0):C.start<=g.start&&g.start<=C.end&&g.end<=C.end?(this.customTimeRangeArray.splice(O,1),!0):g.start<=C.start&&C.start<=g.end&&C.end<=g.end&&(this.customTimeRangeArray.splice(S,1),!0)},start:function(O){return(0,P.SE)(O),O>=this.customTimeRangeArray.length||O<0?NaN:this.customTimeRangeArray[O].start},end:function(O){return(0,P.SE)(O),O>=this.customTimeRangeArray.length||O<0?NaN:this.customTimeRangeArray[O].end}}}f.__dashjs_factory_name="CustomTimeRanges";const h=ye.Z.getClassFactory(f)},5:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>f});var ye=F(5448);function P(){var h,O=/^[a-z][a-z0-9+\-_.]*:/i,S=/^https?:\/\//i,g=/^https:\/\//i,C=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,M=function(se,H){try{return new window.URL(se,H).toString()}catch{return se}},p=function(se,H){var k=y;if(!H||!W(se))return se;ne(se)&&(k=w),J(se)&&(k=q);var K=k(H),de="/"!==K.charAt(K.length-1)&&"/"!==se.charAt(0)?"/":"";return[K,se].join(de)};function y(se){var H=se.indexOf("/"),k=se.lastIndexOf("/");return-1!==H?k===H+1?se:(-1!==se.indexOf("?")&&(se=se.substring(0,se.indexOf("?"))),se.substring(0,k+1)):""}function w(se){var H=se.match(C);return H?H[1]:""}function q(se){var H=se.match(O);return H?H[0]:""}function W(se){return!O.test(se)}function ne(se){return W(se)&&"/"===se.charAt(0)}function J(se){return 0===se.indexOf("//")}return function(){try{new window.URL("x","http://y"),h=M}catch{}finally{h=h||p}}(),{parseBaseUrl:y,parseOrigin:w,parseScheme:q,isRelative:W,isPathAbsolute:ne,isSchemeRelative:J,isHTTPURL:function(se){return S.test(se)},isHTTPS:function(se){return g.test(se)},removeHostname:function(se){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(se)[2].substring(1)},resolve:function(se,H){return h(se,H)}}}P.__dashjs_factory_name="DefaultURLUtils";const f=ye.Z.getSingletonFactory(P)},8260:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(2839),P=F(5448);function f(){var O;function S(C){var M=[];if(!C||!O||"function"!=typeof O.fetchAll)return M;for(var p,y=O.fetchAll(C),w=0,q=y.length;w<q;w++)(p=g(y[w]))&&M.push(p);return M}function g(C){if(!C)return null;var M=new ye.Z(C);return C.hasOwnProperty("_incomplete")&&(M.isComplete=!C._incomplete),M}return{getBox:function(C){return C&&O&&O.boxes&&0!==O.boxes.length&&"function"==typeof O.fetch?g(O.fetch(C)):null},getBoxes:S,setData:function(C){O=C},getLastBox:function(){if(!O||!O.boxes||!O.boxes.length)return null;var C=S(O.boxes[O.boxes.length-1].type);return C.length>0?C[C.length-1]:null}}}f.__dashjs_factory_name="IsoFile";const h=P.Z.getClassFactory(f)},7473:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h,k:()=>P});var ye=F(5448);function P(O,S){var g={url:O.url,method:O.method,headers:Object.assign({},O.headers),credentials:O.withCredentials?"include":void 0};return Promise.resolve(S.modifyRequest(g)).then(function(){return Object.assign(O,g,{withCredentials:"include"===g.credentials})})}function f(){return{modifyRequest:null,modifyRequestURL:function(O){return O},modifyRequestHeader:function(O,S){return O}}}f.__dashjs_factory_name="RequestModifier";const h=ye.Z.getSingletonFactory(f)},3106:(At,Ze,F)=>{"use strict";F.d(Ze,{PS:()=>f,SE:()=>h});var ye=F(3393);function P(O){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}function f(O,S){if(P(O)!==S)throw ye.Z.BAD_ARGUMENT_ERROR}function h(O){if(null===O||isNaN(O)||O%1!=0)throw ye.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(5448),P=F(5);function f(){var O,S=[];function C(M,p,y){var w=function(q){var W;for(W=0;W<S.length;W++)if(S[W].regex.test(q))return S[W].utils;return O}(y||p);return w&&"function"==typeof w[M]?w[M](p,y):O[M](p,y)}return O=(0,P.Z)(this.context).getInstance(),{registerUrlRegex:function(M,p){S.push({regex:M,utils:p})},parseBaseUrl:function(M){return C("parseBaseUrl",M)},parseOrigin:function(M){return C("parseOrigin",M)},parseScheme:function(M){return C("parseScheme",M)},isRelative:function(M){return C("isRelative",M)},isPathAbsolute:function(M){return C("isPathAbsolute",M)},isSchemeRelative:function(M){return C("isSchemeRelative",M)},isHTTPURL:function(M){return C("isHTTPURL",M)},isHTTPS:function(M){return C("isHTTPS",M)},removeHostname:function(M){return C("removeHostname",M)},resolve:function(M,p){return C("resolve",M,p)}}}f.__dashjs_factory_name="URLUtils";const h=ye.Z.getSingletonFactory(f)},5459:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(f,h,O){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,P),this.code=f||null,this.message=h||null,this.data=O||null}},3186:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>h});var ye=F(7855),f=function(){function O(C){(function(M,p){if(!(M instanceof p))throw new TypeError("Cannot call a class as a function")})(this,O),this.action=O.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=C||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var g;return(g=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===ye.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(C){this.type=C&&C.init?ye.w.INIT_SEGMENT_TYPE:ye.w.MEDIA_SEGMENT_TYPE,this.url=C&&C.url?C.url:null,this.range=C&&C.range?C.range.start+"-"+C.range.end:null,this.mediaType=C&&C.mediaType?C.mediaType:null}}])&&function P(O,S){for(var g=0;g<S.length;g++){var C=S[g];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}(O.prototype,g),O}();f.ACTION_DOWNLOAD="download",f.ACTION_COMPLETE="complete";const h=f},2839:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>P});const P=function(){function f(S){if(function(q,W){if(!(q instanceof W))throw new TypeError("Cannot call a class as a function")}(this,f),this.offset=S._offset,this.type=S.type,this.size=S.size,this.boxes=[],S.boxes)for(var g=0;g<S.boxes.length;g++)this.boxes.push(new f(S.boxes[g]));switch(this.isComplete=!0,S.type){case"sidx":if(this.timescale=S.timescale,this.earliest_presentation_time=S.earliest_presentation_time,this.first_offset=S.first_offset,this.references=S.references,S.references){this.references=[];for(var C=0;C<S.references.length;C++)this.references.push({reference_type:S.references[C].reference_type,referenced_size:S.references[C].referenced_size,subsegment_duration:S.references[C].subsegment_duration})}break;case"emsg":this.id=S.id,this.version=1===S.version?1:0,this.value=S.value,this.timescale=S.timescale,this.scheme_id_uri=S.scheme_id_uri,this.presentation_time_delta=1===S.version?S.presentation_time:S.presentation_time_delta,this.event_duration=S.event_duration,this.message_data=S.message_data;break;case"mdhd":this.timescale=S.timescale;break;case"mfhd":this.sequence_number=S.sequence_number;break;case"subs":this.entry_count=S.entry_count,this.entries=S.entries;break;case"tfhd":this.base_data_offset=S.base_data_offset,this.sample_description_index=S.sample_description_index,this.default_sample_duration=S.default_sample_duration,this.default_sample_size=S.default_sample_size,this.default_sample_flags=S.default_sample_flags,this.flags=S.flags;break;case"tfdt":this.version=S.version,this.baseMediaDecodeTime=S.baseMediaDecodeTime,this.flags=S.flags;break;case"trun":if(this.sample_count=S.sample_count,this.first_sample_flags=S.first_sample_flags,this.data_offset=S.data_offset,this.flags=S.flags,this.samples=S.samples,S.samples){this.samples=[];for(var p=0,y=S.samples.length;p<y;p++)this.samples.push({sample_size:S.samples[p].sample_size,sample_duration:S.samples[p].sample_duration,sample_composition_time_offset:S.samples[p].sample_composition_time_offset})}break;case"prft":this.version=S.version,this.reference_track_ID=S.reference_track_ID,this.ntp_timestamp_sec=S.ntp_timestamp_sec,this.ntp_timestamp_frac=S.ntp_timestamp_frac,this.media_time=S.media_time,this.flags=S.flags}}var O;return(O=[{key:"getChildBox",value:function(S){for(var g=0;g<this.boxes.length;g++)if(this.boxes[g].type===S)return this.boxes[g]}},{key:"getChildBoxes",value:function(S){for(var g=[],C=0;C<this.boxes.length;C++)this.boxes[C].type===S&&g.push(this.boxes[C]);return g}}])&&function ye(f,h){for(var O=0;O<h.length;O++){var S=h[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}(f.prototype,O),f}()},9597:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(f,h,O){(function(S,g){if(!(S instanceof g))throw new TypeError("Cannot call a class as a function")})(this,P),this.lastCompletedOffset=f,this.found=h,this.size=O}},2128:(At,Ze,F)=>{"use strict";F.d(Ze,{Z:()=>ye});const ye=function P(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,P),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:(At,Ze,F)=>{"use strict";function ye(h,O){if(!(h instanceof O))throw new TypeError("Cannot call a class as a function")}F.d(Ze,{O:()=>f,w:()=>P});var P=function h(){ye(this,h),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},f=function h(){ye(this,h),this.s=null,this.d=null,this.b=[]};P.GET="GET",P.HEAD="HEAD",P.MPD_TYPE="MPD",P.XLINK_EXPANSION_TYPE="XLinkExpansion",P.INIT_SEGMENT_TYPE="InitializationSegment",P.INDEX_SEGMENT_TYPE="IndexSegment",P.MEDIA_SEGMENT_TYPE="MediaSegment",P.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",P.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",P.DVB_REPORTING_TYPE="DVBReporting",P.LICENSE="license",P.CONTENT_STEERING_TYPE="ContentSteering",P.OTHER_TYPE="other"},3039:(At,Ze)=>{"use strict";function F(P,f){return function(h,O){for(var S,g,C,M=ye(h,"tag"),p=ye(O??"*","range"),y=[],w=-1;++w<p.length;)if(S=p[w].toLowerCase(),f||"*"!==S){for(g=-1,C=[];++g<M.length;)if(P(M[g].toLowerCase(),S)){if(!f)return M[g];y.push(M[g])}else C.push(M[g]);M=C}return f?y:void 0}}function ye(P,f){var h=P&&"string"==typeof P?[P]:P;if(!h||"object"!=typeof h||!("length"in h))throw new Error("Invalid "+f+" `"+h+"`, expected non-empty string");return h}Ze.basicFilter=F(function(P,f){return"*"===f||P===f||P.indexOf(f+"-")>-1},!0),Ze.extendedFilter=F(function(P,f){var h=P.split("-"),O=f.split("-"),S=0,g=0;if("*"!==O[g]&&h[S]!==O[g])return!1;for(S++,g++;g<O.length;)if("*"!==O[g]){if(!h[S])return!1;if(h[S]!==O[g]){if(1===h[S].length)return!1;S++}else S++,g++}else g++;return!0},!0),Ze.lookup=F(function(P,f){for(var h,O=f;;){if("*"===O||P===O)return!0;if((h=O.lastIndexOf("-"))<0)return!1;"-"===O.charAt(h-2)&&(h-=2),O=O.slice(0,h)}})},3973:(At,Ze,F)=>{"use strict";At.exports=F(3854)},3854:(At,Ze,F)=>{"use strict";var ye=F(2415),P=F(3039),f=F(7778),h=F(5813),O=F(3165),S=F(9460);At.exports=function(W,ne){var J,se=ne||{},H=ye.parse(String(W||"").toLowerCase(),se),k=ye.stringify(H),K=-1;if(!k)return k;for(;++K<f.length;)P.extendedFilter(k,f[K].from).length&&(p(H,f[K].from,f[K].to),k=ye.stringify(H));for(K=-1;++K<h.length;)y(H,h[K].from.field,h[K].from.value)&&w(H,h[K].to.field,h[K].to.value);for(k=ye.stringify(Object.assign({},H,M)),K=-1;++K<O.length;)k===O[K]&&(p(H,O[K],O[K].split("-").slice(0,-1).join("-")),k=ye.stringify(Object.assign({},H,M)));if(H.extensions.sort(q),se.warning)for(J in S)g.call(S[J],H[J])&&se.warning("Deprecated "+J+" `"+H[J]+"`, expected one of `"+S[J][H[J]].join("`, `")+"`",null,7);return H.script&&(H.script=H.script.charAt(0).toUpperCase()+H.script.slice(1)),H.region&&(H.region=H.region.toUpperCase()),ye.stringify(H)};var g={}.hasOwnProperty,C=new Intl.Collator,M={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function p(W,ne,J){var se,H=ye.parse(ne),k=ye.parse(J),K=[];for(se in H)H[se]&&H[se].length&&y(W,se,H[se])&&K.push(se);for(se in k)k[se]&&k[se].length&&(K.indexOf(se)>-1||!W[se]||!W[se].length)&&w(W,se,k[se])}function y(W,ne,J){var se,H,k,K,de=!1;if(J){if(H=se=W[ne],se&&"object"==typeof se)for(H=[],k=-1;++k<se.length;)J.indexOf(K=se[k])<0?H.push(K):de=!0;else se===J&&(H=null,de=!0);W[ne]=H}return de}function w(W,ne,J){var se,H,k,K=W[ne];if(K&&"object"==typeof K)for(se=[].concat(J),H=-1;++H<se.length;)K.indexOf(k=se[H])<0&&K.push(k);else W[ne]=J}function q(W,ne){return C.compare(W.singleton,ne.singleton)}},2415:(At,Ze,F)=>{"use strict";Ze.parse=F(6903),Ze.stringify=F(6713)},6903:(At,Ze,F)=>{"use strict";var ye=F(2219),P=F(3516),f=F(395),h=F(858),O=F(8589);At.exports=function g(C,M){var p,y,w,q=M||{},W={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},ne=String(C),J=ne.toLowerCase(),se=0;if(null==C)throw new Error("Expected string, got `"+C+"`");if(S.call(O,J))return(null==q.normalize||q.normalize)&&O[J]?g(O[J]):(W[-1===h.indexOf(J)?"irregular":"regular"]=ne,W);for(;P(J.charCodeAt(se))&&se<9;)se++;if(se>1&&se<9){if(W.language=ne.slice(0,se),se<4)for(y=0;45===J.charCodeAt(se)&&P(J.charCodeAt(se+1))&&P(J.charCodeAt(se+2))&&P(J.charCodeAt(se+3))&&!P(J.charCodeAt(se+4));){if(y>2)return H(se,3,"Too many extended language subtags, expected at most 3 subtags");W.extendedLanguageSubtags.push(ne.slice(se+1,se+4)),se+=4,y++}for(45===J.charCodeAt(se)&&P(J.charCodeAt(se+1))&&P(J.charCodeAt(se+2))&&P(J.charCodeAt(se+3))&&P(J.charCodeAt(se+4))&&!P(J.charCodeAt(se+5))&&(W.script=ne.slice(se+1,se+5),se+=5),45===J.charCodeAt(se)&&(P(J.charCodeAt(se+1))&&P(J.charCodeAt(se+2))&&!P(J.charCodeAt(se+3))?(W.region=ne.slice(se+1,se+3),se+=3):f(J.charCodeAt(se+1))&&f(J.charCodeAt(se+2))&&f(J.charCodeAt(se+3))&&!f(J.charCodeAt(se+4))&&(W.region=ne.slice(se+1,se+4),se+=4));45===J.charCodeAt(se);){for(w=p=se+1;ye(J.charCodeAt(w));){if(w-p>7)return H(w,1,"Too long variant, expected at most 8 characters");w++}if(!(w-p>4||w-p>3&&f(J.charCodeAt(p))))break;W.variants.push(ne.slice(p,w)),se=w}for(;45===J.charCodeAt(se)&&120!==J.charCodeAt(se+1)&&ye(J.charCodeAt(se+1))&&45===J.charCodeAt(se+2)&&ye(J.charCodeAt(se+3));){for(w=se+2,y=0;45===J.charCodeAt(w)&&ye(J.charCodeAt(w+1))&&ye(J.charCodeAt(w+2));)for(w=(p=w+1)+2,y++;ye(J.charCodeAt(w));){if(w-p>7)return H(w,2,"Too long extension, expected at most 8 characters");w++}if(!y)return H(w,4,"Empty extension, extensions must have at least 2 characters of content");W.extensions.push({singleton:ne.charAt(se+1),extensions:ne.slice(se+3,w).split("-")}),se=w}}else se=0;if(0===se&&120===J.charCodeAt(se)||45===J.charCodeAt(se)&&120===J.charCodeAt(se+1))for(w=se=se?se+2:1;45===J.charCodeAt(w)&&ye(J.charCodeAt(w+1));){for(w=p=se+1;ye(J.charCodeAt(w));){if(w-p>7)return H(w,5,"Too long private-use area, expected at most 8 characters");w++}W.privateuse.push(ne.slice(se+1,w)),se=w}return se!==ne.length?H(se,6,"Found superfluous content after tag"):W;function H(k,K,de){return q.warning&&q.warning(de,K,k),q.forgiving?W:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var S={}.hasOwnProperty},6713:At=>{"use strict";At.exports=function(Ze){var F,ye,P,f=Ze||{},h=[];if(f.irregular||f.regular)return f.irregular||f.regular;if(f.language)for(h=h.concat(f.language,f.extendedLanguageSubtags||[],f.script||[],f.region||[],f.variants||[]),F=f.extensions||[],ye=-1;++ye<F.length;)(P=F[ye]).singleton&&P.extensions&&P.extensions.length&&(h=h.concat(P.singleton,P.extensions));return f.privateuse&&f.privateuse.length&&(h=h.concat("x",f.privateuse)),h.join("-")}},1549:(At,Ze,F)=>{"use strict";var ye=F(6693),P=F(2165),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ze.Buffer=S,Ze.SlowBuffer=function(E){return+E!=E&&(E=0),S.alloc(+E)},Ze.INSPECT_MAX_BYTES=50;var h=2147483647;function O(E){if(E>h)throw new RangeError('The value "'+E+'" is invalid for option "size"');var _=new Uint8Array(E);return Object.setPrototypeOf(_,S.prototype),_}function S(E,_,R){if("number"==typeof E){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return M(E)}return g(E,_,R)}function g(E,_,R){if("string"==typeof E)return function(oe,xe){if("string"==typeof xe&&""!==xe||(xe="utf8"),!S.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);var Ye=0|q(oe,xe),Ke=O(Ye),Le=Ke.write(oe,xe);return Le!==Ye&&(Ke=Ke.slice(0,Le)),Ke}(E,_);if(ArrayBuffer.isView(E))return function(oe){if(Ce(oe,Uint8Array)){var xe=new Uint8Array(oe);return y(xe.buffer,xe.byteOffset,xe.byteLength)}return p(oe)}(E);if(null==E)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(Ce(E,ArrayBuffer)||E&&Ce(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(E,SharedArrayBuffer)||E&&Ce(E.buffer,SharedArrayBuffer)))return y(E,_,R);if("number"==typeof E)throw new TypeError('The "value" argument must not be of type number. Received type number');var x=E.valueOf&&E.valueOf();if(null!=x&&x!==E)return S.from(x,_,R);var ue=function(oe){if(S.isBuffer(oe)){var xe=0|w(oe.length),Ye=O(xe);return 0===Ye.length||oe.copy(Ye,0,0,xe),Ye}return void 0!==oe.length?"number"!=typeof oe.length||_e(oe.length)?O(0):p(oe):"Buffer"===oe.type&&Array.isArray(oe.data)?p(oe.data):void 0}(E);if(ue)return ue;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof E[Symbol.toPrimitive])return S.from(E[Symbol.toPrimitive]("string"),_,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}function C(E){if("number"!=typeof E)throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function M(E){return C(E),O(E<0?0:0|w(E))}function p(E){for(var _=E.length<0?0:0|w(E.length),R=O(_),x=0;x<_;x+=1)R[x]=255&E[x];return R}function y(E,_,R){if(_<0||E.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<_+(R||0))throw new RangeError('"length" is outside of buffer bounds');var x;return x=void 0===_&&void 0===R?new Uint8Array(E):void 0===R?new Uint8Array(E,_):new Uint8Array(E,_,R),Object.setPrototypeOf(x,S.prototype),x}function w(E){if(E>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|E}function q(E,_){if(S.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||Ce(E,ArrayBuffer))return E.byteLength;if("string"!=typeof E)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);var R=E.length,x=arguments.length>2&&!0===arguments[2];if(!x&&0===R)return 0;for(var ue=!1;;)switch(_){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return kt(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*R;case"hex":return R>>>1;case"base64":return We(E).length;default:if(ue)return x?-1:kt(E).length;_=(""+_).toLowerCase(),ue=!0}}function W(E,_,R){var x=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===R||R>this.length)&&(R=this.length),R<=0)||(R>>>=0)<=(_>>>=0))return"";for(E||(E="utf8");;)switch(E){case"hex":return $e(this,_,R);case"utf8":case"utf-8":return ot(this,_,R);case"ascii":return Mt(this,_,R);case"latin1":case"binary":return He(this,_,R);case"base64":return qe(this,_,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,_,R);default:if(x)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),x=!0}}function ne(E,_,R){var x=E[_];E[_]=E[R],E[R]=x}function J(E,_,R,x,ue){if(0===E.length)return-1;if("string"==typeof R?(x=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),_e(R=+R)&&(R=ue?0:E.length-1),R<0&&(R=E.length+R),R>=E.length){if(ue)return-1;R=E.length-1}else if(R<0){if(!ue)return-1;R=0}if("string"==typeof _&&(_=S.from(_,x)),S.isBuffer(_))return 0===_.length?-1:se(E,_,R,x,ue);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ue?Uint8Array.prototype.indexOf.call(E,_,R):Uint8Array.prototype.lastIndexOf.call(E,_,R):se(E,[_],R,x,ue);throw new TypeError("val must be string, number or Buffer")}function se(E,_,R,x,ue){var oe,xe=1,Ye=E.length,Ke=_.length;if(void 0!==x&&("ucs2"===(x=String(x).toLowerCase())||"ucs-2"===x||"utf16le"===x||"utf-16le"===x)){if(E.length<2||_.length<2)return-1;xe=2,Ye/=2,Ke/=2,R/=2}function Le(Xe,Qe){return 1===xe?Xe[Qe]:Xe.readUInt16BE(Qe*xe)}if(ue){var tt=-1;for(oe=R;oe<Ye;oe++)if(Le(E,oe)===Le(_,-1===tt?0:oe-tt)){if(-1===tt&&(tt=oe),oe-tt+1===Ke)return tt*xe}else-1!==tt&&(oe-=oe-tt),tt=-1}else for(R+Ke>Ye&&(R=Ye-Ke),oe=R;oe>=0;oe--){for(var it=!0,Re=0;Re<Ke;Re++)if(Le(E,oe+Re)!==Le(_,Re)){it=!1;break}if(it)return oe}return-1}function H(E,_,R,x){R=Number(R)||0;var ue=E.length-R;x?(x=Number(x))>ue&&(x=ue):x=ue;var oe=_.length;x>oe/2&&(x=oe/2);for(var xe=0;xe<x;++xe){var Ye=parseInt(_.substr(2*xe,2),16);if(_e(Ye))return xe;E[R+xe]=Ye}return xe}function k(E,_,R,x){return dt(kt(_,E.length-R),E,R,x)}function K(E,_,R,x){return dt(function(ue){for(var oe=[],xe=0;xe<ue.length;++xe)oe.push(255&ue.charCodeAt(xe));return oe}(_),E,R,x)}function de(E,_,R,x){return dt(We(_),E,R,x)}function ce(E,_,R,x){return dt(function(ue,oe){for(var xe,Ye,Le=[],tt=0;tt<ue.length&&!((oe-=2)<0);++tt)Ye=(xe=ue.charCodeAt(tt))>>8,Le.push(xe%256),Le.push(Ye);return Le}(_,E.length-R),E,R,x)}function qe(E,_,R){return ye.fromByteArray(0===_&&R===E.length?E:E.slice(_,R))}function ot(E,_,R){R=Math.min(E.length,R);for(var x=[],ue=_;ue<R;){var oe,xe,Ye,Ke,Le=E[ue],tt=null,it=Le>239?4:Le>223?3:Le>191?2:1;if(ue+it<=R)switch(it){case 1:Le<128&&(tt=Le);break;case 2:128==(192&(oe=E[ue+1]))&&(Ke=(31&Le)<<6|63&oe)>127&&(tt=Ke);break;case 3:xe=E[ue+2],128==(192&(oe=E[ue+1]))&&128==(192&xe)&&(Ke=(15&Le)<<12|(63&oe)<<6|63&xe)>2047&&(Ke<55296||Ke>57343)&&(tt=Ke);break;case 4:xe=E[ue+2],Ye=E[ue+3],128==(192&(oe=E[ue+1]))&&128==(192&xe)&&128==(192&Ye)&&(Ke=(15&Le)<<18|(63&oe)<<12|(63&xe)<<6|63&Ye)>65535&&Ke<1114112&&(tt=Ke)}null===tt?(tt=65533,it=1):tt>65535&&(x.push((tt-=65536)>>>10&1023|55296),tt=56320|1023&tt),x.push(tt),ue+=it}return function(Re){var Xe=Re.length;if(Xe<=pe)return String.fromCharCode.apply(String,Re);for(var Qe="",St=0;St<Xe;)Qe+=String.fromCharCode.apply(String,Re.slice(St,St+=pe));return Qe}(x)}Ze.kMaxLength=h,(S.TYPED_ARRAY_SUPPORT=function(){try{var E=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(E,_),42===E.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(E,_,R){return g(E,_,R)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(E,_,R){return ue=_,oe=R,C(x=E),x<=0?O(x):void 0!==ue?"string"==typeof oe?O(x).fill(ue,oe):O(x).fill(ue):O(x);var x,ue,oe},S.allocUnsafe=function(E){return M(E)},S.allocUnsafeSlow=function(E){return M(E)},S.isBuffer=function(E){return null!=E&&!0===E._isBuffer&&E!==S.prototype},S.compare=function(E,_){if(Ce(E,Uint8Array)&&(E=S.from(E,E.offset,E.byteLength)),Ce(_,Uint8Array)&&(_=S.from(_,_.offset,_.byteLength)),!S.isBuffer(E)||!S.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===_)return 0;for(var R=E.length,x=_.length,ue=0,oe=Math.min(R,x);ue<oe;++ue)if(E[ue]!==_[ue]){R=E[ue],x=_[ue];break}return R<x?-1:x<R?1:0},S.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(E,_){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(0===E.length)return S.alloc(0);var R;if(void 0===_)for(_=0,R=0;R<E.length;++R)_+=E[R].length;var x=S.allocUnsafe(_),ue=0;for(R=0;R<E.length;++R){var oe=E[R];if(Ce(oe,Uint8Array))ue+oe.length>x.length?S.from(oe).copy(x,ue):Uint8Array.prototype.set.call(x,oe,ue);else{if(!S.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(x,ue)}ue+=oe.length}return x},S.byteLength=q,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<E;_+=2)ne(this,_,_+1);return this},S.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<E;_+=4)ne(this,_,_+3),ne(this,_+1,_+2);return this},S.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<E;_+=8)ne(this,_,_+7),ne(this,_+1,_+6),ne(this,_+2,_+5),ne(this,_+3,_+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){var E=this.length;return 0===E?"":0===arguments.length?ot(this,0,E):W.apply(this,arguments)},S.prototype.equals=function(E){if(!S.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||0===S.compare(this,E)},S.prototype.inspect=function(){var E="",_=Ze.INSPECT_MAX_BYTES;return E=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(E+=" ... "),"<Buffer "+E+">"},f&&(S.prototype[f]=S.prototype.inspect),S.prototype.compare=function(E,_,R,x,ue){if(Ce(E,Uint8Array)&&(E=S.from(E,E.offset,E.byteLength)),!S.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(void 0===_&&(_=0),void 0===R&&(R=E?E.length:0),void 0===x&&(x=0),void 0===ue&&(ue=this.length),_<0||R>E.length||x<0||ue>this.length)throw new RangeError("out of range index");if(x>=ue&&_>=R)return 0;if(x>=ue)return-1;if(_>=R)return 1;if(this===E)return 0;for(var oe=(ue>>>=0)-(x>>>=0),xe=(R>>>=0)-(_>>>=0),Ye=Math.min(oe,xe),Ke=this.slice(x,ue),Le=E.slice(_,R),tt=0;tt<Ye;++tt)if(Ke[tt]!==Le[tt]){oe=Ke[tt],xe=Le[tt];break}return oe<xe?-1:xe<oe?1:0},S.prototype.includes=function(E,_,R){return-1!==this.indexOf(E,_,R)},S.prototype.indexOf=function(E,_,R){return J(this,E,_,R,!0)},S.prototype.lastIndexOf=function(E,_,R){return J(this,E,_,R,!1)},S.prototype.write=function(E,_,R,x){if(void 0===_)x="utf8",R=this.length,_=0;else if(void 0===R&&"string"==typeof _)x=_,R=this.length,_=0;else{if(!isFinite(_))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_>>>=0,isFinite(R)?(R>>>=0,void 0===x&&(x="utf8")):(x=R,R=void 0)}var ue=this.length-_;if((void 0===R||R>ue)&&(R=ue),E.length>0&&(R<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");for(var oe=!1;;)switch(x){case"hex":return H(this,E,_,R);case"utf8":case"utf-8":return k(this,E,_,R);case"ascii":case"latin1":case"binary":return K(this,E,_,R);case"base64":return de(this,E,_,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,E,_,R);default:if(oe)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),oe=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var pe=4096;function Mt(E,_,R){var x="";R=Math.min(E.length,R);for(var ue=_;ue<R;++ue)x+=String.fromCharCode(127&E[ue]);return x}function He(E,_,R){var x="";R=Math.min(E.length,R);for(var ue=_;ue<R;++ue)x+=String.fromCharCode(E[ue]);return x}function $e(E,_,R){var x=E.length;(!_||_<0)&&(_=0),(!R||R<0||R>x)&&(R=x);for(var ue="",oe=_;oe<R;++oe)ue+=at[E[oe]];return ue}function Ne(E,_,R){for(var x=E.slice(_,R),ue="",oe=0;oe<x.length-1;oe+=2)ue+=String.fromCharCode(x[oe]+256*x[oe+1]);return ue}function je(E,_,R){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+_>R)throw new RangeError("Trying to access beyond buffer length")}function rt(E,_,R,x,ue,oe){if(!S.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ue||_<oe)throw new RangeError('"value" argument is out of bounds');if(R+x>E.length)throw new RangeError("Index out of range")}function Rt(E,_,R,x,ue,oe){if(R+x>E.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function ut(E,_,R,x,ue){return _=+_,R>>>=0,ue||Rt(E,0,R,4),P.write(E,_,R,x,23,4),R+4}function ke(E,_,R,x,ue){return _=+_,R>>>=0,ue||Rt(E,0,R,8),P.write(E,_,R,x,52,8),R+8}S.prototype.slice=function(E,_){var R=this.length;(E=~~E)<0?(E+=R)<0&&(E=0):E>R&&(E=R),(_=void 0===_?R:~~_)<0?(_+=R)<0&&(_=0):_>R&&(_=R),_<E&&(_=E);var x=this.subarray(E,_);return Object.setPrototypeOf(x,S.prototype),x},S.prototype.readUintLE=S.prototype.readUIntLE=function(E,_,R){E>>>=0,_>>>=0,R||je(E,_,this.length);for(var x=this[E],ue=1,oe=0;++oe<_&&(ue*=256);)x+=this[E+oe]*ue;return x},S.prototype.readUintBE=S.prototype.readUIntBE=function(E,_,R){E>>>=0,_>>>=0,R||je(E,_,this.length);for(var x=this[E+--_],ue=1;_>0&&(ue*=256);)x+=this[E+--_]*ue;return x},S.prototype.readUint8=S.prototype.readUInt8=function(E,_){return E>>>=0,_||je(E,1,this.length),this[E]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(E,_){return E>>>=0,_||je(E,2,this.length),this[E]|this[E+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(E,_){return E>>>=0,_||je(E,2,this.length),this[E]<<8|this[E+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(E,_){return E>>>=0,_||je(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(E,_){return E>>>=0,_||je(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},S.prototype.readIntLE=function(E,_,R){E>>>=0,_>>>=0,R||je(E,_,this.length);for(var x=this[E],ue=1,oe=0;++oe<_&&(ue*=256);)x+=this[E+oe]*ue;return x>=(ue*=128)&&(x-=Math.pow(2,8*_)),x},S.prototype.readIntBE=function(E,_,R){E>>>=0,_>>>=0,R||je(E,_,this.length);for(var x=_,ue=1,oe=this[E+--x];x>0&&(ue*=256);)oe+=this[E+--x]*ue;return oe>=(ue*=128)&&(oe-=Math.pow(2,8*_)),oe},S.prototype.readInt8=function(E,_){return E>>>=0,_||je(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},S.prototype.readInt16LE=function(E,_){E>>>=0,_||je(E,2,this.length);var R=this[E]|this[E+1]<<8;return 32768&R?4294901760|R:R},S.prototype.readInt16BE=function(E,_){E>>>=0,_||je(E,2,this.length);var R=this[E+1]|this[E]<<8;return 32768&R?4294901760|R:R},S.prototype.readInt32LE=function(E,_){return E>>>=0,_||je(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},S.prototype.readInt32BE=function(E,_){return E>>>=0,_||je(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},S.prototype.readFloatLE=function(E,_){return E>>>=0,_||je(E,4,this.length),P.read(this,E,!0,23,4)},S.prototype.readFloatBE=function(E,_){return E>>>=0,_||je(E,4,this.length),P.read(this,E,!1,23,4)},S.prototype.readDoubleLE=function(E,_){return E>>>=0,_||je(E,8,this.length),P.read(this,E,!0,52,8)},S.prototype.readDoubleBE=function(E,_){return E>>>=0,_||je(E,8,this.length),P.read(this,E,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(E,_,R,x){E=+E,_>>>=0,R>>>=0,x||rt(this,E,_,R,Math.pow(2,8*R)-1,0);var ue=1,oe=0;for(this[_]=255&E;++oe<R&&(ue*=256);)this[_+oe]=E/ue&255;return _+R},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(E,_,R,x){E=+E,_>>>=0,R>>>=0,x||rt(this,E,_,R,Math.pow(2,8*R)-1,0);var ue=R-1,oe=1;for(this[_+ue]=255&E;--ue>=0&&(oe*=256);)this[_+ue]=E/oe&255;return _+R},S.prototype.writeUint8=S.prototype.writeUInt8=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,1,255,0),this[_]=255&E,_+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,2,65535,0),this[_]=255&E,this[_+1]=E>>>8,_+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,2,65535,0),this[_]=E>>>8,this[_+1]=255&E,_+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,4,4294967295,0),this[_+3]=E>>>24,this[_+2]=E>>>16,this[_+1]=E>>>8,this[_]=255&E,_+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,4,4294967295,0),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=255&E,_+4},S.prototype.writeIntLE=function(E,_,R,x){if(E=+E,_>>>=0,!x){var ue=Math.pow(2,8*R-1);rt(this,E,_,R,ue-1,-ue)}var oe=0,xe=1,Ye=0;for(this[_]=255&E;++oe<R&&(xe*=256);)E<0&&0===Ye&&0!==this[_+oe-1]&&(Ye=1),this[_+oe]=(E/xe>>0)-Ye&255;return _+R},S.prototype.writeIntBE=function(E,_,R,x){if(E=+E,_>>>=0,!x){var ue=Math.pow(2,8*R-1);rt(this,E,_,R,ue-1,-ue)}var oe=R-1,xe=1,Ye=0;for(this[_+oe]=255&E;--oe>=0&&(xe*=256);)E<0&&0===Ye&&0!==this[_+oe+1]&&(Ye=1),this[_+oe]=(E/xe>>0)-Ye&255;return _+R},S.prototype.writeInt8=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,1,127,-128),E<0&&(E=255+E+1),this[_]=255&E,_+1},S.prototype.writeInt16LE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,2,32767,-32768),this[_]=255&E,this[_+1]=E>>>8,_+2},S.prototype.writeInt16BE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,2,32767,-32768),this[_]=E>>>8,this[_+1]=255&E,_+2},S.prototype.writeInt32LE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,4,2147483647,-2147483648),this[_]=255&E,this[_+1]=E>>>8,this[_+2]=E>>>16,this[_+3]=E>>>24,_+4},S.prototype.writeInt32BE=function(E,_,R){return E=+E,_>>>=0,R||rt(this,E,_,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=255&E,_+4},S.prototype.writeFloatLE=function(E,_,R){return ut(this,E,_,!0,R)},S.prototype.writeFloatBE=function(E,_,R){return ut(this,E,_,!1,R)},S.prototype.writeDoubleLE=function(E,_,R){return ke(this,E,_,!0,R)},S.prototype.writeDoubleBE=function(E,_,R){return ke(this,E,_,!1,R)},S.prototype.copy=function(E,_,R,x){if(!S.isBuffer(E))throw new TypeError("argument should be a Buffer");if(R||(R=0),x||0===x||(x=this.length),_>=E.length&&(_=E.length),_||(_=0),x>0&&x<R&&(x=R),x===R||0===E.length||0===this.length)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),E.length-_<x-R&&(x=E.length-_+R);var ue=x-R;return this===E&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(_,R,x):Uint8Array.prototype.set.call(E,this.subarray(R,x),_),ue},S.prototype.fill=function(E,_,R,x){if("string"==typeof E){if("string"==typeof _?(x=_,_=0,R=this.length):"string"==typeof R&&(x=R,R=this.length),void 0!==x&&"string"!=typeof x)throw new TypeError("encoding must be a string");if("string"==typeof x&&!S.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(1===E.length){var ue=E.charCodeAt(0);("utf8"===x&&ue<128||"latin1"===x)&&(E=ue)}}else"number"==typeof E?E&=255:"boolean"==typeof E&&(E=Number(E));if(_<0||this.length<_||this.length<R)throw new RangeError("Out of range index");if(R<=_)return this;var oe;if(_>>>=0,R=void 0===R?this.length:R>>>0,E||(E=0),"number"==typeof E)for(oe=_;oe<R;++oe)this[oe]=E;else{var xe=S.isBuffer(E)?E:S.from(E,x),Ye=xe.length;if(0===Ye)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(oe=0;oe<R-_;++oe)this[oe+_]=xe[oe%Ye]}return this};var ht=/[^+/0-9A-Za-z-_]/g;function kt(E,_){var R;_=_||1/0;for(var x=E.length,ue=null,oe=[],xe=0;xe<x;++xe){if((R=E.charCodeAt(xe))>55295&&R<57344){if(!ue){if(R>56319){(_-=3)>-1&&oe.push(239,191,189);continue}if(xe+1===x){(_-=3)>-1&&oe.push(239,191,189);continue}ue=R;continue}if(R<56320){(_-=3)>-1&&oe.push(239,191,189),ue=R;continue}R=65536+(ue-55296<<10|R-56320)}else ue&&(_-=3)>-1&&oe.push(239,191,189);if(ue=null,R<128){if((_-=1)<0)break;oe.push(R)}else if(R<2048){if((_-=2)<0)break;oe.push(R>>6|192,63&R|128)}else if(R<65536){if((_-=3)<0)break;oe.push(R>>12|224,R>>6&63|128,63&R|128)}else{if(!(R<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;oe.push(R>>18|240,R>>12&63|128,R>>6&63|128,63&R|128)}}return oe}function We(E){return ye.toByteArray(function(_){if((_=(_=_.split("=")[0]).trim().replace(ht,"")).length<2)return"";for(;_.length%4!=0;)_+="=";return _}(E))}function dt(E,_,R,x){for(var ue=0;ue<x&&!(ue+R>=_.length||ue>=E.length);++ue)_[ue+R]=E[ue];return ue}function Ce(E,_){return E instanceof _||null!=E&&null!=E.constructor&&null!=E.constructor.name&&E.constructor.name===_.name}function _e(E){return E!=E}var at=function(){for(var E="0123456789abcdef",_=new Array(256),R=0;R<16;++R)for(var x=16*R,ue=0;ue<16;++ue)_[x+ue]=E[R]+E[ue];return _}()},6693:(At,Ze)=>{"use strict";Ze.byteLength=function(C){var M=S(C),y=M[1];return 3*(M[0]+y)/4-y},Ze.toByteArray=function(C){var M,p,k,y=S(C),w=y[0],q=y[1],W=new P(3*(w+(k=q))/4-k),ne=0,J=q>0?w-4:w;for(p=0;p<J;p+=4)M=ye[C.charCodeAt(p)]<<18|ye[C.charCodeAt(p+1)]<<12|ye[C.charCodeAt(p+2)]<<6|ye[C.charCodeAt(p+3)],W[ne++]=M>>16&255,W[ne++]=M>>8&255,W[ne++]=255&M;return 2===q&&(M=ye[C.charCodeAt(p)]<<2|ye[C.charCodeAt(p+1)]>>4,W[ne++]=255&M),1===q&&(M=ye[C.charCodeAt(p)]<<10|ye[C.charCodeAt(p+1)]<<4|ye[C.charCodeAt(p+2)]>>2,W[ne++]=M>>8&255,W[ne++]=255&M),W},Ze.fromByteArray=function(C){for(var M,p=C.length,y=p%3,w=[],q=16383,W=0,ne=p-y;W<ne;W+=q)w.push(g(C,W,W+q>ne?ne:W+q));return 1===y?w.push(F[(M=C[p-1])>>2]+F[M<<4&63]+"=="):2===y&&w.push(F[(M=(C[p-2]<<8)+C[p-1])>>10]+F[M>>4&63]+F[M<<2&63]+"="),w.join("")};for(var F=[],ye=[],P=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0;h<64;++h)F[h]=f[h],ye[f.charCodeAt(h)]=h;function S(C){var M=C.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=C.indexOf("=");return-1===p&&(p=M),[p,p===M?0:4-p%4]}function g(C,M,p){for(var w,q=[],W=M;W<p;W+=3)q.push(F[(w=(C[W]<<16&16711680)+(C[W+1]<<8&65280)+(255&C[W+2]))>>18&63]+F[w>>12&63]+F[w>>6&63]+F[63&w]);return q.join("")}ye["-".charCodeAt(0)]=62,ye["_".charCodeAt(0)]=63},2165:(At,Ze)=>{Ze.read=function(F,ye,P,f,h){var O,S,g=8*h-f-1,C=(1<<g)-1,M=C>>1,p=-7,y=P?h-1:0,w=P?-1:1,q=F[ye+y];for(y+=w,O=q&(1<<-p)-1,q>>=-p,p+=g;p>0;O=256*O+F[ye+y],y+=w,p-=8);for(S=O&(1<<-p)-1,O>>=-p,p+=f;p>0;S=256*S+F[ye+y],y+=w,p-=8);if(0===O)O=1-M;else{if(O===C)return S?NaN:1/0*(q?-1:1);S+=Math.pow(2,f),O-=M}return(q?-1:1)*S*Math.pow(2,O-f)},Ze.write=function(F,ye,P,f,h,O){var S,g,C,M=8*O-h-1,p=(1<<M)-1,y=p>>1,w=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,q=f?0:O-1,W=f?1:-1,ne=ye<0||0===ye&&1/ye<0?1:0;for(ye=Math.abs(ye),isNaN(ye)||ye===1/0?(g=isNaN(ye)?1:0,S=p):(S=Math.floor(Math.log(ye)/Math.LN2),ye*(C=Math.pow(2,-S))<1&&(S--,C*=2),(ye+=S+y>=1?w/C:w*Math.pow(2,1-y))*C>=2&&(S++,C/=2),S+y>=p?(g=0,S=p):S+y>=1?(g=(ye*C-1)*Math.pow(2,h),S+=y):(g=ye*Math.pow(2,y-1)*Math.pow(2,h),S=0));h>=8;F[P+q]=255&g,q+=W,g/=256,h-=8);for(S=S<<h|g,M+=h;M>0;F[P+q]=255&S,q+=W,S/=256,M-=8);F[P+q-W]|=128*ne}},6934:(At,Ze)=>{var F={parseBuffer:function(f){return new ye(f).parse()},addBoxProcessor:function(f,h){"string"==typeof f&&"function"==typeof h&&(P.prototype._boxProcessors[f]=h)},createFile:function(){return new ye},createBox:function(f,h,O){var S=P.create(f);return h&&h.append(S,O),S},createFullBox:function(f,h,O){var S=F.createBox(f,h,O);return S.version=0,S.flags=0,S},Utils:{}};F.Utils.dataViewToString=function(f,h){var O=h||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(O).decode(f);var S=[],g=0;if("utf-8"===O)for(;g<f.byteLength;){var C=f.getUint8(g++);C<128||(C<224?(C=(31&C)<<6,C|=63&f.getUint8(g++)):C<240?(C=(15&C)<<12,C|=(63&f.getUint8(g++))<<6,C|=63&f.getUint8(g++)):(C=(7&C)<<18,C|=(63&f.getUint8(g++))<<12,C|=(63&f.getUint8(g++))<<6,C|=63&f.getUint8(g++))),S.push(String.fromCharCode(C))}else for(;g<f.byteLength;)S.push(String.fromCharCode(f.getUint8(g++)));return S.join("")},F.Utils.utf8ToByteArray=function(f){var h,O;if(typeof TextEncoder<"u")h=(new TextEncoder).encode(f);else for(h=[],O=0;O<f.length;++O){var S=f.charCodeAt(O);S<128?h.push(S):S<2048?(h.push(192|S>>6),h.push(128|63&S)):S<65536?(h.push(224|S>>12),h.push(128|63&S>>6),h.push(128|63&S)):(h.push(240|S>>18),h.push(128|63&S>>12),h.push(128|63&S>>6),h.push(128|63&S))}return h},F.Utils.appendBox=function(f,h,O){if(h._offset=f._cursor.offset,h._root=f._root?f._root:f,h._raw=f._raw,h._parent=f,-1!==O)if(null!=O){var S,g=-1;if("number"==typeof O)g=O;else{if("string"==typeof O)S=O;else{if("object"!=typeof O||!O.type)return void f.boxes.push(h);S=O.type}for(var C=0;C<f.boxes.length;C++)if(S===f.boxes[C].type){g=C+1;break}}f.boxes.splice(g,0,h)}else f.boxes.push(h)},Ze.parseBuffer=F.parseBuffer,Ze.addBoxProcessor=F.addBoxProcessor,Ze.createFile=F.createFile,Ze.createBox=F.createBox,Ze.createFullBox=F.createFullBox,Ze.Utils=F.Utils,F.Cursor=function(f){this.offset=void 0===f?0:f};var ye=function(f){this._cursor=new F.Cursor,this.boxes=[],f&&(this._raw=new DataView(f))};ye.prototype.fetch=function(f){var h=this.fetchAll(f,!0);return h.length?h[0]:null},ye.prototype.fetchAll=function(f,h){var O=[];return ye._sweep.call(this,f,O,h),O},ye.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var f=P.parse(this);if(void 0===f.type)break;this.boxes.push(f)}return this},ye._sweep=function(f,h,O){for(var S in this.type&&this.type==f&&h.push(this),this.boxes){if(h.length&&O)return;ye._sweep.call(this.boxes[S],f,h,O)}},ye.prototype.write=function(){var f,h=0;for(f=0;f<this.boxes.length;f++)h+=this.boxes[f].getLength(!1);var O=new Uint8Array(h);for(this._rawo=new DataView(O.buffer),this.bytes=O,this._cursor.offset=0,f=0;f<this.boxes.length;f++)this.boxes[f].write();return O.buffer},ye.prototype.append=function(f,h){F.Utils.appendBox(this,f,h)};var P=function(){this._cursor=new F.Cursor};P.parse=function(f){var h=new P;return h._offset=f._cursor.offset,h._root=f._root?f._root:f,h._raw=f._raw,h._parent=f,h._parseBox(),f._cursor.offset=h._raw.byteOffset+h._raw.byteLength,h},P.create=function(f){var h=new P;return h.type=f,h.boxes=[],h},P.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],P.prototype._boxProcessors={},P.prototype._procField=function(f,h,O){this._parsing?this[f]=this._readField(h,O):this._writeField(h,O,this[f])},P.prototype._procFieldArray=function(f,h,O,S){var g;if(this._parsing)for(this[f]=[],g=0;g<h;g++)this[f][g]=this._readField(O,S);else for(g=0;g<this[f].length;g++)this._writeField(O,S,this[f][g])},P.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},P.prototype._procEntries=function(f,h,O){var S;if(this._parsing)for(this[f]=[],S=0;S<h;S++)this[f].push({}),O.call(this,this[f][S]);else for(S=0;S<h;S++)O.call(this,this[f][S])},P.prototype._procSubEntries=function(f,h,O,S){var g;if(this._parsing)for(f[h]=[],g=0;g<O;g++)f[h].push({}),S.call(this,f[h][g]);else for(g=0;g<O;g++)S.call(this,f[h][g])},P.prototype._procEntryField=function(f,h,O,S){this._parsing?f[h]=this._readField(O,S):this._writeField(O,S,f[h])},P.prototype._procSubBoxes=function(f,h){var O;if(this._parsing)for(this[f]=[],O=0;O<h;O++)this[f].push(P.parse(this));else for(O=0;O<h;O++)this._rawo?this[f][O].write():this.size+=this[f][O].getLength()},P.prototype._readField=function(f,h){switch(f){case"uint":return this._readUint(h);case"int":return this._readInt(h);case"template":return this._readTemplate(h);case"string":return-1===h?this._readTerminatedString():this._readString(h);case"data":return this._readData(h);case"utf8":return this._readUTF8String();default:return-1}},P.prototype._readInt=function(f){var h=null,O=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:h=this._raw.getInt8(O);break;case 16:h=this._raw.getInt16(O);break;case 32:h=this._raw.getInt32(O);break;case 64:var S=this._raw.getInt32(O),g=this._raw.getInt32(O+4);h=S*Math.pow(2,32)+g}return this._cursor.offset+=f>>3,h},P.prototype._readUint=function(f){var h,O,S=null,g=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:S=this._raw.getUint8(g);break;case 16:S=this._raw.getUint16(g);break;case 24:S=((h=this._raw.getUint16(g))<<8)+(O=this._raw.getUint8(g+2));break;case 32:S=this._raw.getUint32(g);break;case 64:h=this._raw.getUint32(g),O=this._raw.getUint32(g+4),S=h*Math.pow(2,32)+O}return this._cursor.offset+=f>>3,S},P.prototype._readString=function(f){for(var h="",O=0;O<f;O++){var S=this._readUint(8);h+=String.fromCharCode(S)}return h},P.prototype._readTemplate=function(f){return this._readUint(f/2)+this._readUint(f/2)/Math.pow(2,f/2)},P.prototype._readTerminatedString=function(){for(var f="";this._cursor.offset-this._offset<this._raw.byteLength;){var h=this._readUint(8);if(0===h)break;f+=String.fromCharCode(h)}return f},P.prototype._readData=function(f){var h=f>0?f:this._raw.byteLength-(this._cursor.offset-this._offset);if(h>0){var O=new Uint8Array(this._raw.buffer,this._cursor.offset,h);return this._cursor.offset+=h,O}return null},P.prototype._readUTF8String=function(){var f=this._raw.byteLength-(this._cursor.offset-this._offset),h=null;return f>0&&(h=new DataView(this._raw.buffer,this._cursor.offset,f),this._cursor.offset+=f),h&&F.Utils.dataViewToString(h)},P.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},P.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},P.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(P.parse(this))},P.prototype.append=function(f,h){F.Utils.appendBox(this,f,h)},P.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var f=0;f<this.boxes.length;f++)this.size+=this.boxes[f].getLength();return this._data&&this._writeData(this._data),this.size},P.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var f=0;f<this.boxes.length;f++)this.boxes[f].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},P.prototype._writeInt=function(f,h){if(this._rawo){var O=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setInt8(O,h);break;case 16:this._rawo.setInt16(O,h);break;case 32:this._rawo.setInt32(O,h);break;case 64:var S=Math.floor(h/Math.pow(2,32)),g=h-S*Math.pow(2,32);this._rawo.setUint32(O,S),this._rawo.setUint32(O+4,g)}this._cursor.offset+=f>>3}else this.size+=f>>3},P.prototype._writeUint=function(f,h){if(this._rawo){var O,S,g=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setUint8(g,h);break;case 16:this._rawo.setUint16(g,h);break;case 24:S=255&h,this._rawo.setUint16(g,O=(16776960&h)>>8),this._rawo.setUint8(g+2,S);break;case 32:this._rawo.setUint32(g,h);break;case 64:S=h-(O=Math.floor(h/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(g,O),this._rawo.setUint32(g+4,S)}this._cursor.offset+=f>>3}else this.size+=f>>3},P.prototype._writeString=function(f,h){for(var O=0;O<f;O++)this._writeUint(8,h.charCodeAt(O))},P.prototype._writeTerminatedString=function(f){if(0!==f.length){for(var h=0;h<f.length;h++)this._writeUint(8,f.charCodeAt(h));this._writeUint(8,0)}},P.prototype._writeTemplate=function(f,h){var O=Math.floor(h),S=(h-O)*Math.pow(2,f/2);this._writeUint(f/2,O),this._writeUint(f/2,S)},P.prototype._writeData=function(f){if(f)if(this._rawo){if(f instanceof Array){for(var h=this._cursor.offset-this._rawo.byteOffset,O=0;O<f.length;O++)this._rawo.setInt8(h+O,f[O]);this._cursor.offset+=f.length}f instanceof Uint8Array&&(this._root.bytes.set(f,this._cursor.offset),this._cursor.offset+=f.length)}else this.size+=f.length},P.prototype._writeUTF8String=function(f){var h=F.Utils.utf8ToByteArray(f);if(this._rawo)for(var O=new DataView(this._rawo.buffer,this._cursor.offset,h.length),S=0;S<h.length;S++)O.setUint8(S,h[S]);else this.size+=h.length},P.prototype._writeField=function(f,h,O){switch(f){case"uint":this._writeUint(h,O);break;case"int":this._writeInt(h,O);break;case"template":this._writeTemplate(h,O);break;case"string":-1==h?this._writeTerminatedString(O):this._writeString(h,O);break;case"data":this._writeData(O);break;case"utf8":this._writeUTF8String(O)}},P.prototype._boxProcessors.avc1=P.prototype._boxProcessors.avc2=P.prototype._boxProcessors.avc3=P.prototype._boxProcessors.avc4=P.prototype._boxProcessors.hvc1=P.prototype._boxProcessors.hev1=P.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},P.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_count","uint",32),this._procEntryField(f,"sample_offset",1===this.version?"int":"uint",32)})},P.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},P.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"segment_duration","uint",1===this.version?64:32),this._procEntryField(f,"media_time","int",1===this.version?64:32),this._procEntryField(f,"media_rate_integer","int",16),this._procEntryField(f,"media_rate_fraction","int",16)})},P.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},P.prototype._boxProcessors.free=P.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},P.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},P.prototype._boxProcessors.ftyp=P.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var f=-1;this._parsing&&(f=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",f,"string",4)},P.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},P.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},P.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},P.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},P.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},P.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},P.prototype._boxProcessors.mp4a=P.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},P.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},P.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},P.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},P.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},P.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},P.prototype._boxProcessors.sdtp=function(){this._procFullBox();var f=-1;this._parsing&&(f=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",f,"uint",8)},P.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(f){this._parsing||(f.reference=(1&f.reference_type)<<31,f.reference|=2147483647&f.referenced_size,f.sap=(1&f.starts_with_SAP)<<31,f.sap|=(3&f.SAP_type)<<28,f.sap|=268435455&f.SAP_delta_time),this._procEntryField(f,"reference","uint",32),this._procEntryField(f,"subsegment_duration","uint",32),this._procEntryField(f,"sap","uint",32),this._parsing&&(f.reference_type=f.reference>>31&1,f.referenced_size=2147483647&f.reference,f.starts_with_SAP=f.sap>>31&1,f.SAP_type=f.sap>>28&7,f.SAP_delta_time=268435455&f.sap)})},P.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},P.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(f){this._procEntryField(f,"ranges_count","uint",32),this._procSubEntries(f,"ranges",f.ranges_count,function(h){this._procEntryField(h,"level","uint",8),this._procEntryField(h,"range_size","uint",24)})})},P.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},P.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},P.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_count","uint",32),this._procEntryField(f,"sample_delta","uint",32)})},P.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_delta","uint",32),this._procEntryField(f,"subsample_count","uint",16),this._procSubEntries(f,"subsamples",f.subsample_count,function(h){this._procEntryField(h,"subsample_size","uint",1===this.version?32:16),this._procEntryField(h,"subsample_priority","uint",8),this._procEntryField(h,"discardable","uint",8),this._procEntryField(h,"codec_specific_parameters","uint",32)})})},P.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},P.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},P.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},P.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(f){this._procEntryField(f,"time","uint",1===this.version?64:32),this._procEntryField(f,"moof_offset","uint",1===this.version?64:32),this._procEntryField(f,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(f,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(f,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},P.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},P.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},P.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(f){256&this.flags&&this._procEntryField(f,"sample_duration","uint",32),512&this.flags&&this._procEntryField(f,"sample_size","uint",32),1024&this.flags&&this._procEntryField(f,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(f,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},P.prototype._boxProcessors["url "]=P.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},P.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},P.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},P.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},P.prototype._boxProcessors.vtte=function(){}},5530:(At,Ze,F)=>{"use strict";At.exports=F(6146).polyfill()},6146:function(At,Ze,F){At.exports=function(){"use strict";function ye(We){return"function"==typeof We}var P=Array.isArray?Array.isArray:function(We){return"[object Array]"===Object.prototype.toString.call(We)},f=0,h=void 0,O=void 0,S=function(We,dt){q[f]=We,q[f+1]=dt,2===(f+=2)&&(O?O(W):k())},g=typeof window<"u"?window:void 0,C=g||{},M=C.MutationObserver||C.WebKitMutationObserver,p=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),y=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var We=setTimeout;return function(){return We(W,1)}}var q=new Array(1e3);function W(){for(var We=0;We<f;We+=2)(0,q[We])(q[We+1]),q[We]=void 0,q[We+1]=void 0;f=0}var ne,J,se,H,k=void 0;function K(We,dt){var Ce=this,_e=new this.constructor(qe);void 0===_e[ce]&&ke(_e);var at=Ce._state;if(at){var E=arguments[at-1];S(function(){return Rt(at,_e,E,Ce._result)})}else je(Ce,_e,We,dt);return _e}function de(We){if(We&&"object"==typeof We&&We.constructor===this)return We;var dt=new this(qe);return Mt(dt,We),dt}k=p?function(){return process.nextTick(W)}:M?(J=0,se=new M(W),H=document.createTextNode(""),se.observe(H,{characterData:!0}),function(){H.data=J=++J%2}):y?((ne=new MessageChannel).port1.onmessage=W,function(){return ne.port2.postMessage(0)}):void 0===g?function(){try{var We=Function("return this")().require("vertx");return void 0!==(h=We.runOnLoop||We.runOnContext)?function(){h(W)}:w()}catch{return w()}}():w();var ce=Math.random().toString(36).substring(2);function qe(){}var ot=void 0;function pe(We,dt,Ce){var _e,at;dt.constructor===We.constructor&&Ce===K&&dt.constructor.resolve===de?(_e=We,1===(at=dt)._state?$e(_e,at._result):2===at._state?Ne(_e,at._result):je(at,void 0,function(E){return Mt(_e,E)},function(E){return Ne(_e,E)})):void 0===Ce?$e(We,dt):ye(Ce)?function(_e,at,E){S(function(_){var R=!1,x=function(ue,oe,xe,Ye){try{ue.call(oe,function(ue){R||(R=!0,at!==ue?Mt(_,ue):$e(_,ue))},function(ue){R||(R=!0,Ne(_,ue))})}catch(Ke){return Ke}}(E,at);!R&&x&&(R=!0,Ne(_,x))},_e)}(We,dt,Ce):$e(We,dt)}function Mt(We,dt){if(We===dt)Ne(We,new TypeError("You cannot resolve a promise with itself"));else if(at=typeof(_e=dt),null===_e||"object"!==at&&"function"!==at)$e(We,dt);else{var Ce=void 0;try{Ce=dt.then}catch(E){return void Ne(We,E)}pe(We,dt,Ce)}var _e,at}function He(We){We._onerror&&We._onerror(We._result),rt(We)}function $e(We,dt){We._state===ot&&(We._result=dt,We._state=1,0!==We._subscribers.length&&S(rt,We))}function Ne(We,dt){We._state===ot&&(We._state=2,We._result=dt,S(He,We))}function je(We,dt,Ce,_e){var at=We._subscribers,E=at.length;We._onerror=null,at[E]=dt,at[E+1]=Ce,at[E+2]=_e,0===E&&We._state&&S(rt,We)}function rt(We){var dt=We._subscribers,Ce=We._state;if(0!==dt.length){for(var _e=void 0,at=void 0,E=We._result,_=0;_<dt.length;_+=3)at=dt[_+Ce],(_e=dt[_])?Rt(Ce,_e,at,E):at(E);We._subscribers.length=0}}function Rt(We,dt,Ce,_e){var at=ye(Ce),E=void 0,_=void 0,R=!0;if(at){try{E=Ce(_e)}catch(x){R=!1,_=x}if(dt===E)return void Ne(dt,new TypeError("A promises callback cannot return that same promise."))}else E=_e;dt._state!==ot||(at&&R?Mt(dt,E):!1===R?Ne(dt,_):1===We?$e(dt,E):2===We&&Ne(dt,E))}var ut=0;function ke(We){We[ce]=ut++,We._state=void 0,We._result=void 0,We._subscribers=[]}var ht=function(){function We(dt,Ce){this._instanceConstructor=dt,this.promise=new dt(qe),this.promise[ce]||ke(this.promise),P(Ce)?(this.length=Ce.length,this._remaining=Ce.length,this._result=new Array(this.length),0===this.length?$e(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ce),0===this._remaining&&$e(this.promise,this._result))):Ne(this.promise,new Error("Array Methods must be provided an Array"))}return We.prototype._enumerate=function(dt){for(var Ce=0;this._state===ot&&Ce<dt.length;Ce++)this._eachEntry(dt[Ce],Ce)},We.prototype._eachEntry=function(dt,Ce){var _e=this._instanceConstructor,at=_e.resolve;if(at===de){var E=void 0,_=void 0,R=!1;try{E=dt.then}catch(ue){R=!0,_=ue}if(E===K&&dt._state!==ot)this._settledAt(dt._state,Ce,dt._result);else if("function"!=typeof E)this._remaining--,this._result[Ce]=dt;else if(_e===kt){var x=new _e(qe);R?Ne(x,_):pe(x,dt,E),this._willSettleAt(x,Ce)}else this._willSettleAt(new _e(function(ue){return ue(dt)}),Ce)}else this._willSettleAt(at(dt),Ce)},We.prototype._settledAt=function(dt,Ce,_e){var at=this.promise;at._state===ot&&(this._remaining--,2===dt?Ne(at,_e):this._result[Ce]=_e),0===this._remaining&&$e(at,this._result)},We.prototype._willSettleAt=function(dt,Ce){var _e=this;je(dt,void 0,function(at){return _e._settledAt(1,Ce,at)},function(at){return _e._settledAt(2,Ce,at)})},We}(),kt=function(){function We(dt){this[ce]=ut++,this._result=this._state=void 0,this._subscribers=[],qe!==dt&&("function"!=typeof dt&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof We?function(Ce,_e){try{_e(function(at){Mt(Ce,at)},function(at){Ne(Ce,at)})}catch(at){Ne(Ce,at)}}(this,dt):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return We.prototype.catch=function(dt){return this.then(null,dt)},We.prototype.finally=function(dt){var _e=this.constructor;return ye(dt)?this.then(function(at){return _e.resolve(dt()).then(function(){return at})},function(at){return _e.resolve(dt()).then(function(){throw at})}):this.then(dt,dt)},We}();return kt.prototype.then=K,kt.all=function(We){return new ht(this,We).promise},kt.race=function(We){var dt=this;return P(We)?new dt(function(Ce,_e){for(var at=We.length,E=0;E<at;E++)dt.resolve(We[E]).then(Ce,_e)}):new dt(function(Ce,_e){return _e(new TypeError("You must pass an array to race."))})},kt.resolve=de,kt.reject=function(We){var dt=new this(qe);return Ne(dt,We),dt},kt._setScheduler=function(We){O=We},kt._setAsap=function(We){S=We},kt._asap=S,kt.polyfill=function(){var We=void 0;if(void 0!==F.g)We=F.g;else if(typeof self<"u")We=self;else try{We=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var dt=We.Promise;if(dt){var Ce=null;try{Ce=Object.prototype.toString.call(dt.resolve())}catch{}if("[object Promise]"===Ce&&!dt.cast)return}We.Promise=kt},kt.Promise=kt,kt}()},1159:At=>{"use strict";var Ze,F="object"==typeof Reflect?Reflect:null,ye=F&&"function"==typeof F.apply?F.apply:function(W,ne,J){return Function.prototype.apply.call(W,ne,J)};Ze=F&&"function"==typeof F.ownKeys?F.ownKeys:Object.getOwnPropertySymbols?function(W){return Object.getOwnPropertyNames(W).concat(Object.getOwnPropertySymbols(W))}:function(W){return Object.getOwnPropertyNames(W)};var P=Number.isNaN||function(W){return W!=W};function f(){f.init.call(this)}At.exports=f,At.exports.once=function(W,ne){return new Promise(function(J,se){function H(K){W.removeListener(ne,k),se(K)}function k(){"function"==typeof W.removeListener&&W.removeListener("error",H),J([].slice.call(arguments))}var K;q(W,ne,k,{once:!0}),"error"!==ne&&"function"==typeof(K=W).on&&q(K,"error",H,{once:!0})})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var h=10;function O(W){if("function"!=typeof W)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof W)}function S(W){return void 0===W._maxListeners?f.defaultMaxListeners:W._maxListeners}function g(W,ne,J,se){var H,k,K;if(O(J),void 0===(k=W._events)?(k=W._events=Object.create(null),W._eventsCount=0):(void 0!==k.newListener&&(W.emit("newListener",ne,J.listener?J.listener:J),k=W._events),K=k[ne]),void 0===K)K=k[ne]=J,++W._eventsCount;else if("function"==typeof K?K=k[ne]=se?[J,K]:[K,J]:se?K.unshift(J):K.push(J),(H=S(W))>0&&K.length>H&&!K.warned){K.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(ne)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=W,ce.type=ne,ce.count=K.length,console&&console.warn&&console.warn(ce)}return W}function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(W,ne,J){var se={fired:!1,wrapFn:void 0,target:W,type:ne,listener:J},H=C.bind(se);return H.listener=J,se.wrapFn=H,H}function p(W,ne,J){var se=W._events;if(void 0===se)return[];var H=se[ne];return void 0===H?[]:"function"==typeof H?J?[H.listener||H]:[H]:J?function(k){for(var K=new Array(k.length),de=0;de<K.length;++de)K[de]=k[de].listener||k[de];return K}(H):w(H,H.length)}function y(W){var ne=this._events;if(void 0!==ne){var J=ne[W];if("function"==typeof J)return 1;if(void 0!==J)return J.length}return 0}function w(W,ne){for(var J=new Array(ne),se=0;se<ne;++se)J[se]=W[se];return J}function q(W,ne,J,se){if("function"==typeof W.on)se.once?W.once(ne,J):W.on(ne,J);else{if("function"!=typeof W.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof W);W.addEventListener(ne,function H(k){se.once&&W.removeEventListener(ne,H),J(k)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(W){if("number"!=typeof W||W<0||P(W))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+W+".");h=W}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(W){if("number"!=typeof W||W<0||P(W))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+W+".");return this._maxListeners=W,this},f.prototype.getMaxListeners=function(){return S(this)},f.prototype.emit=function(W){for(var ne=[],J=1;J<arguments.length;J++)ne.push(arguments[J]);var se="error"===W,H=this._events;if(void 0!==H)se=se&&void 0===H.error;else if(!se)return!1;if(se){var k;if(ne.length>0&&(k=ne[0]),k instanceof Error)throw k;var K=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw K.context=k,K}var de=H[W];if(void 0===de)return!1;if("function"==typeof de)ye(de,this,ne);else{var ce=de.length,qe=w(de,ce);for(J=0;J<ce;++J)ye(qe[J],this,ne)}return!0},f.prototype.on=f.prototype.addListener=function(W,ne){return g(this,W,ne,!1)},f.prototype.prependListener=function(W,ne){return g(this,W,ne,!0)},f.prototype.once=function(W,ne){return O(ne),this.on(W,M(this,W,ne)),this},f.prototype.prependOnceListener=function(W,ne){return O(ne),this.prependListener(W,M(this,W,ne)),this},f.prototype.off=f.prototype.removeListener=function(W,ne){var J,se,H,k,K;if(O(ne),void 0===(se=this._events))return this;if(void 0===(J=se[W]))return this;if(J===ne||J.listener===ne)0==--this._eventsCount?this._events=Object.create(null):(delete se[W],se.removeListener&&this.emit("removeListener",W,J.listener||ne));else if("function"!=typeof J){for(H=-1,k=J.length-1;k>=0;k--)if(J[k]===ne||J[k].listener===ne){K=J[k].listener,H=k;break}if(H<0)return this;0===H?J.shift():function(de,ce){for(;ce+1<de.length;ce++)de[ce]=de[ce+1];de.pop()}(J,H),1===J.length&&(se[W]=J[0]),void 0!==se.removeListener&&this.emit("removeListener",W,K||ne)}return this},f.prototype.removeAllListeners=function(W){var ne,J,se;if(void 0===(J=this._events))return this;if(void 0===J.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==J[W]&&(0==--this._eventsCount?this._events=Object.create(null):delete J[W]),this;if(0===arguments.length){var H,k=Object.keys(J);for(se=0;se<k.length;++se)"removeListener"!==(H=k[se])&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ne=J[W]))this.removeListener(W,ne);else if(void 0!==ne)for(se=ne.length-1;se>=0;se--)this.removeListener(W,ne[se]);return this},f.prototype.listeners=function(W){return p(this,W,!0)},f.prototype.rawListeners=function(W){return p(this,W,!1)},f.listenerCount=function(W,ne){return"function"==typeof W.listenerCount?W.listenerCount(ne):y.call(W,ne)},f.prototype.listenerCount=y,f.prototype.eventNames=function(){return this._eventsCount>0?Ze(this._events):[]}},3101:At=>{"use strict";var Ze=Array.isArray,F=Object.keys,ye=Object.prototype.hasOwnProperty;At.exports=function P(f,h){if(f===h)return!0;if(f&&h&&"object"==typeof f&&"object"==typeof h){var O,S,g,C=Ze(f),M=Ze(h);if(C&&M){if((S=f.length)!=h.length)return!1;for(O=S;0!=O--;)if(!P(f[O],h[O]))return!1;return!0}if(C!=M)return!1;var p=f instanceof Date,y=h instanceof Date;if(p!=y)return!1;if(p&&y)return f.getTime()==h.getTime();var w=f instanceof RegExp,q=h instanceof RegExp;if(w!=q)return!1;if(w&&q)return f.toString()==h.toString();var W=F(f);if((S=W.length)!==F(h).length)return!1;for(O=S;0!=O--;)if(!ye.call(h,W[O]))return!1;for(O=S;0!=O--;)if(!P(f[g=W[O]],h[g]))return!1;return!0}return f!=f&&h!=h}},3362:(At,Ze,F)=>{!function(ye,P,f,h,O){function S(_){if("contents"in _)for(var R=("styleAttrs"in _?_.styleAttrs[h.byName.ruby.qname]:null),x="span"===_.kind&&("container"===R||"textContainer"===R||"baseContainer"===R),ue=_.contents.length-1;ue>=0;ue--)!x||"styleAttrs"in _.contents[ue]&&h.byName.ruby.qname in _.contents[ue].styleAttrs?S(_.contents[ue]):delete _.contents[ue]}function g(_,R,x,ue){var oe=ue&&"seq"===ue.timeContainer,xe=0;ue&&(xe=oe&&x?x.end:ue.begin),R.begin=R.explicit_begin?R.explicit_begin+xe:xe;var Ye=R.begin,Ke=null;if("sets"in R)for(var Le=0;Le<R.sets.length;Le++)g(_,R.sets[Le],Ke,R),Ye="seq"===R.timeContainer?R.sets[Le].end:Math.max(Ye,R.sets[Le].end),Ke=R.sets[Le];if("contents"in R){if("contents"in R)for(var tt=0;tt<R.contents.length;tt++)g(_,R.contents[tt],Ke,R),Ye="seq"===R.timeContainer?R.contents[tt].end:Math.max(Ye,R.contents[tt].end),Ke=R.contents[tt]}else Ye=oe?R.begin:Number.POSITIVE_INFINITY;R.end=null!==R.explicit_end&&null!==R.explicit_dur?Math.min(R.begin+R.explicit_dur,xe+R.explicit_end):null===R.explicit_end&&null!==R.explicit_dur?R.begin+R.explicit_dur:null!==R.explicit_end&&null===R.explicit_dur?xe+R.explicit_end:Ye,delete R.explicit_begin,delete R.explicit_dur,delete R.explicit_end,_._registerEvent(R)}function C(_){this.node=_}function M(){this.events=[],this.head=new p,this.body=null}function p(){this.styling=new y,this.layout=new W}function y(){this.styles={},this.initials={}}function w(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function q(){this.styleAttrs=null}function W(){this.regions={}}function ne(_,R){J.call(this,"image"),this.src=_,this.type=R}function J(_){this.kind=_}function se(_){this.id=_}function H(_){this.regionID=_}function k(_){this.styleAttrs=_}function K(_){this.sets=_}function de(_){this.contents=_}function ce(_,R,x){this.explicit_begin=_,this.explicit_end=R,this.explicit_dur=x}function qe(){J.call(this,"body")}function ot(){J.call(this,"div")}function pe(){J.call(this,"p")}function Mt(){J.call(this,"span")}function He(){J.call(this,"span")}function $e(){J.call(this,"br")}function Ne(){}function je(){}function rt(_){return _&&"xml:id"in _.attributes&&_.attributes["xml:id"].value||null}function Rt(_){return _&&"style"in _.attributes?_.attributes.style.value.split(" "):[]}function ut(_,R){var x={};if(null!==_)for(var ue in _.attributes){var oe=_.attributes[ue].uri+" "+_.attributes[ue].local,xe=h.byQName[oe];if(void 0!==xe){var Ye=xe.parse(_.attributes[ue].value);null!==Ye?(x[oe]=Ye,xe===h.byName.zIndex&&Ce(R,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):_e(R,"Cannot parse styling attribute "+oe+" --\x3e "+_.attributes[ue].value)}}return x}function ke(_,R,x){for(var ue in _.attributes)if(_.attributes[ue].uri===R&&_.attributes[ue].local===x)return _.attributes[ue].value;return null}function ht(_,R,x){var ue,oe=null;return null!==(ue=/^(\d+(?:\.\d+)?)f$/.exec(x))?null!==R&&(oe=parseFloat(ue[1])/R):null!==(ue=/^(\d+(?:\.\d+)?)t$/.exec(x))?null!==_&&(oe=parseFloat(ue[1])/_):null!==(ue=/^(\d+(?:\.\d+)?)ms$/.exec(x))?oe=parseFloat(ue[1])/1e3:null!==(ue=/^(\d+(?:\.\d+)?)s$/.exec(x))?oe=parseFloat(ue[1]):null!==(ue=/^(\d+(?:\.\d+)?)h$/.exec(x))?oe=3600*parseFloat(ue[1]):null!==(ue=/^(\d+(?:\.\d+)?)m$/.exec(x))?oe=60*parseFloat(ue[1]):null!==(ue=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(x))?oe=3600*parseInt(ue[1])+60*parseInt(ue[2])+parseFloat(ue[3]):null!==(ue=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(x))&&null!==R&&(oe=3600*parseInt(ue[1])+60*parseInt(ue[2])+parseInt(ue[3])+(null===ue[4]?0:parseInt(ue[4])/R)),oe}function kt(_,R,x){for(;R.styleRefs.length>0;){var ue=R.styleRefs.pop();ue in _.styles?(kt(_,_.styles[ue],x),dt(_.styles[ue].styleAttrs,R.styleAttrs)):_e(x,"Non-existant style id referenced")}}function We(_,R,x,ue){for(var oe=R.length-1;oe>=0;oe--){var xe=R[oe];xe in _.styles?dt(_.styles[xe].styleAttrs,x):_e(ue,"Non-existant style id referenced")}}function dt(_,R){for(var x in _)_.hasOwnProperty(x)&&(x in R||(R[x]=_[x]))}function Ce(_,R){if(_&&_.warn&&_.warn(R))throw R}function _e(_,R){if(_&&_.error&&_.error(R))throw R}function at(_,R){throw _&&_.fatal&&_.fatal(R),R}function E(_,R){for(var x,ue=0,oe=_.length-1;ue<=oe;){var xe=_[x=Math.floor((ue+oe)/2)];if(xe<R)ue=x+1;else{if(!(xe>R))return{found:!0,index:x};oe=x-1}}return{found:!1,index:ue}}ye.fromXML=function(_,R,x){var ue=P.parser(!0,{xmlns:!0}),oe=[],xe=[],Ye=[],Ke=0,Le=null;ue.onclosetag=function(Qe){if(oe[0]instanceof Ne)null!==Le.head&&null!==Le.head.styling&&We(Le.head.styling,oe[0].styleRefs,oe[0].styleAttrs,R),delete oe[0].styleRefs;else if(oe[0]instanceof y)for(var St in oe[0].styles)oe[0].styles.hasOwnProperty(St)&&kt(oe[0],oe[0].styles[St],R);else if(oe[0]instanceof pe||oe[0]instanceof Mt){if(oe[0].contents.length>1){var Pt,on=[oe[0].contents[0]];for(Pt=1;Pt<oe[0].contents.length;Pt++)oe[0].contents[Pt]instanceof He&&on[on.length-1]instanceof He?on[on.length-1].text+=oe[0].contents[Pt].text:on.push(oe[0].contents[Pt]);oe[0].contents=on}oe[0]instanceof Mt&&1===oe[0].contents.length&&oe[0].contents[0]instanceof He&&(oe[0].text=oe[0].contents[0].text,delete oe[0].contents)}else oe[0]instanceof C&&(oe[0].node.uri===f.ns_tt&&"metadata"===oe[0].node.local?Ke--:Ke>0&&x&&"onCloseTag"in x&&x.onCloseTag());Ye.shift(),xe.shift(),oe.shift()},ue.ontext=function(Qe){if(void 0!==oe[0])if(oe[0]instanceof Mt||oe[0]instanceof pe){if(oe[0]instanceof Mt){var St=oe[0].styleAttrs[h.byName.ruby.qname];if("container"===St||"textContainer"===St||"baseContainer"===St)return}var Pt=new He;Pt.initFromText(Le,oe[0],Qe,xe[0],Ye[0],R),oe[0].contents.push(Pt)}else oe[0]instanceof C&&Ke>0&&x&&"onText"in x&&x.onText(Qe)},ue.onopentag=function(Qe){var St=Qe.attributes["xml:space"];Ye.unshift(St?St.value:0===Ye.length?"default":Ye[0]);var Pt=Qe.attributes["xml:lang"];if(xe.unshift(Pt?Pt.value:0===xe.length?"":xe[0]),Qe.uri===f.ns_tt)if("tt"===Qe.local)null!==Le&&at(R,"Two <tt> elements at ("+this.line+","+this.column+")"),(Le=new M).initFromNode(Qe,xe[0],R),oe.unshift(Le);else if("head"===Qe.local)oe[0]instanceof M||at(R,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),oe.unshift(Le.head);else if("styling"===Qe.local)oe[0]instanceof p||at(R,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),oe.unshift(Le.head.styling);else if("style"===Qe.local){var on;oe[0]instanceof y?((on=new w).initFromNode(Qe,R),on.id?Le.head.styling.styles[on.id]=on:_e(R,"<style> element missing @id attribute"),oe.unshift(on)):oe[0]instanceof Ne?((on=new w).initFromNode(Qe,R),dt(on.styleAttrs,oe[0].styleAttrs),oe.unshift(on)):at(R,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===Qe.local){var xn;if(oe[0]instanceof y){for(var Cn in(xn=new q).initFromNode(Qe,R),xn.styleAttrs)xn.styleAttrs.hasOwnProperty(Cn)&&(Le.head.styling.initials[Cn]=xn.styleAttrs[Cn]);oe.unshift(xn)}else at(R,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===Qe.local)oe[0]instanceof p||at(R,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),oe.unshift(Le.head.layout);else if("region"===Qe.local){oe[0]instanceof W||at(R,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var vn=new Ne;vn.initFromNode(Le,Qe,xe[0],R),!vn.id||vn.id in Le.head.layout.regions?_e(R,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Le.head.layout.regions[vn.id]=vn,oe.unshift(vn)}else if("body"===Qe.local){oe[0]instanceof M||at(R,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Le.body&&at(R,"Second <body> element at "+this.line+","+this.column+")");var Yn=new qe;Yn.initFromNode(Le,Qe,xe[0],R),Le.body=Yn,oe.unshift(Yn)}else if("div"===Qe.local){oe[0]instanceof ot||oe[0]instanceof qe||at(R,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var jn=new ot;jn.initFromNode(Le,oe[0],Qe,xe[0],R);var br=jn.styleAttrs[h.byName.backgroundImage.qname];br&&(jn.contents.push(new ne(br)),delete jn.styleAttrs[h.byName.backgroundImage.qname]),oe[0].contents.push(jn),oe.unshift(jn)}else if("image"===Qe.local){oe[0]instanceof ot||at(R,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var mi=new ne;mi.initFromNode(Le,oe[0],Qe,xe[0],R),oe[0].contents.push(mi),oe.unshift(mi)}else if("p"===Qe.local){oe[0]instanceof ot||at(R,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Si=new pe;Si.initFromNode(Le,oe[0],Qe,xe[0],R),oe[0].contents.push(Si),oe.unshift(Si)}else if("span"===Qe.local){oe[0]instanceof Mt||oe[0]instanceof pe||at(R,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Zr=new Mt;Zr.initFromNode(Le,oe[0],Qe,xe[0],Ye[0],R),oe[0].contents.push(Zr),oe.unshift(Zr)}else if("br"===Qe.local){oe[0]instanceof Mt||oe[0]instanceof pe||at(R,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Li=new $e;Li.initFromNode(Le,oe[0],Qe,xe[0],R),oe[0].contents.push(Li),oe.unshift(Li)}else if("set"===Qe.local){oe[0]instanceof Mt||oe[0]instanceof pe||oe[0]instanceof ot||oe[0]instanceof qe||oe[0]instanceof Ne||oe[0]instanceof $e||at(R,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Fi=new je;Fi.initFromNode(Le,oe[0],Qe,R),oe[0].sets.push(Fi),oe.unshift(Fi)}else oe.unshift(new C(Qe));else oe.unshift(new C(Qe));if(oe[0]instanceof C)if(Qe.uri===f.ns_tt&&"metadata"===Qe.local)Ke++;else if(Ke>0&&x&&"onOpenTag"in x){var qi=[];for(var Yi in Qe.attributes)qi[Qe.attributes[Yi].uri+" "+Qe.attributes[Yi].local]={uri:Qe.attributes[Yi].uri,local:Qe.attributes[Yi].local,value:Qe.attributes[Yi].value};x.onOpenTag(Qe.uri,Qe.local,qi)}},ue.write(_).close(),delete Le.head.styling.styles;var tt=!1;for(var it in Le.head.layout.regions)if(Le.head.layout.regions.hasOwnProperty(it)){tt=!0;break}if(!tt){var Re=Ne.prototype.createDefaultRegion(Le.lang);Le.head.layout.regions[Re.id]=Re}for(var Xe in Le.head.layout.regions)Le.head.layout.regions.hasOwnProperty(Xe)&&g(Le,Le.head.layout.regions[Xe],null,null);return Le.body&&g(Le,Le.body,null,null),Le.body&&S(Le.body),Le},M.prototype.initFromNode=function(_,R,x){var ue=function(Ke,Le){var tt=ke(Ke,f.ns_ttp,"cellResolution"),it=15,Re=32;if(null!==tt){var Xe=/(\d+) (\d+)/.exec(tt);null!==Xe?(Re=parseInt(Xe[1]),it=parseInt(Xe[2])):Ce(Le,"Malformed cellResolution value (using initial value instead)")}return{w:Re,h:it}}(_,x);this.cellLength={h:new O.ComputedLength(0,1/ue.h),w:new O.ComputedLength(1/ue.w,0)};var oe=function(Ke,Le){var tt,it=ke(Ke,f.ns_ttp,"frameRate"),Re=30;null!==it&&(null!==(tt=/(\d+)/.exec(it))?Re=parseInt(tt[1]):Ce(Le,"Malformed frame rate attribute (using initial value instead)"));var Xe=ke(Ke,f.ns_ttp,"frameRateMultiplier"),Qe=1;null!==Xe&&(null!==(tt=/(\d+) (\d+)/.exec(Xe))?Qe=parseInt(tt[1])/parseInt(tt[2]):Ce(Le,"Malformed frame rate multiplier attribute (using initial value instead)"));var St=Qe*Re,Pt=1,on=ke(Ke,f.ns_ttp,"tickRate");return null===on?null!==it&&(Pt=St):null!==(tt=/(\d+)/.exec(on))?Pt=parseInt(tt[1]):Ce(Le,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:St,tickRate:Pt}}(_,x);this.effectiveFrameRate=oe.effectiveFrameRate,this.tickRate=oe.tickRate,this.aspectRatio=function(Ke,Le){var tt=ke(Ke,f.ns_ittp,"aspectRatio");null===tt&&(tt=ke(Ke,f.ns_ttp,"displayAspectRatio"));var it=null;if(null!==tt){var Re=/(\d+)\s+(\d+)/.exec(tt);if(null!==Re){var Xe=parseInt(Re[1]),Qe=parseInt(Re[2]);0!==Xe&&0!==Qe?it=Xe/Qe:_e(Le,"Illegal aspectRatio values (ignoring)")}else _e(Le,"Malformed aspectRatio attribute (ignoring)")}return it}(_,x);var xe=ke(_,f.ns_ttp,"timeBase");null!==xe&&"media"!==xe&&at(x,"Unsupported time base");var Ye=function(Ke,Le){var tt=ke(Ke,f.ns_tts,"extent");if(null===tt)return null;var it=tt.split(" ");if(2!==it.length)return Ce(Le,"Malformed extent (ignoring)"),null;var Re=O.parseLength(it[0]),Xe=O.parseLength(it[1]);return Xe&&Re?{h:Xe,w:Re}:(Ce(Le,"Malformed extent values (ignoring)"),null)}(_,x);null===Ye?this.pxLength={h:null,w:null}:("px"===Ye.h.unit&&"px"===Ye.w.unit||at(x,"Extent on TT must be in px or absent"),this.pxLength={h:new O.ComputedLength(0,1/Ye.h.value),w:new O.ComputedLength(1/Ye.w.value,0)}),this.dimensions={h:new O.ComputedLength(0,1),w:new O.ComputedLength(1,0)},this.lang=R},M.prototype._registerEvent=function(_){if(!(_.end<=_.begin)){var R=E(this.events,_.begin);if(R.found||this.events.splice(R.index,0,_.begin),_.end!==Number.POSITIVE_INFINITY){var x=E(this.events,_.end);x.found||this.events.splice(x.index,0,_.end)}}},M.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},M.prototype.getMediaTimeEvents=function(){return this.events},w.prototype.initFromNode=function(_,R){this.id=rt(_),this.styleAttrs=ut(_,R),this.styleRefs=Rt(_)},q.prototype.initFromNode=function(_,R){for(var x in this.styleAttrs={},_.attributes)_.attributes[x].uri!==f.ns_itts&&_.attributes[x].uri!==f.ns_ebutts&&_.attributes[x].uri!==f.ns_tts||(this.styleAttrs[_.attributes[x].uri+" "+_.attributes[x].local]=_.attributes[x].value)},ne.prototype.initFromNode=function(_,R,x,ue,oe){this.src="src"in x.attributes?x.attributes.src.value:null,this.src||_e(oe,"Invalid image@src attribute"),this.type="type"in x.attributes?x.attributes.type.value:null,this.type||_e(oe,"Invalid image@type attribute"),k.prototype.initFromNode.call(this,_,R,x,oe),ce.prototype.initFromNode.call(this,_,R,x,oe),K.prototype.initFromNode.call(this,_,R,x,oe),H.prototype.initFromNode.call(this,_,R,x,oe),this.lang=ue},se.prototype.initFromNode=function(_,R,x,ue){this.id=rt(x)},H.prototype.initFromNode=function(_,R,x,ue){var oe;this.regionID=(oe=x)&&"region"in oe.attributes?oe.attributes.region.value:""},k.prototype.initFromNode=function(_,R,x,ue){this.styleAttrs=ut(x,ue),null!==_.head&&null!==_.head.styling&&We(_.head.styling,Rt(x),this.styleAttrs,ue)},K.prototype.initFromNode=function(_,R,x,ue){this.sets=[]},de.prototype.initFromNode=function(_,R,x,ue){this.contents=[]},ce.prototype.initFromNode=function(_,R,x,ue){var xe,Ke,oe=function(xe,Ye,Ke,Le){var tt=null;Ke&&"begin"in Ke.attributes&&null===(tt=ht(xe.tickRate,xe.effectiveFrameRate,Ke.attributes.begin.value))&&Ce(Le,"Malformed begin value "+Ke.attributes.begin.value+" (using 0)");var it=null;Ke&&"dur"in Ke.attributes&&null===(it=ht(xe.tickRate,xe.effectiveFrameRate,Ke.attributes.dur.value))&&Ce(Le,"Malformed dur value "+Ke.attributes.dur.value+" (ignoring)");var Re=null;return Ke&&"end"in Ke.attributes&&null===(Re=ht(xe.tickRate,xe.effectiveFrameRate,Ke.attributes.end.value))&&Ce(Le,"Malformed end value (ignoring)"),{explicit_begin:tt,explicit_end:Re,explicit_dur:it}}(_,0,x,ue);this.explicit_begin=oe.explicit_begin,this.explicit_end=oe.explicit_end,this.explicit_dur=oe.explicit_dur,this.timeContainer=(Ke=(xe=x)&&"timeContainer"in xe.attributes?xe.attributes.timeContainer.value:null)&&"par"!==Ke?"seq"===Ke?"seq":(_e(ue,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"},qe.prototype.initFromNode=function(_,R,x,ue){k.prototype.initFromNode.call(this,_,null,R,ue),ce.prototype.initFromNode.call(this,_,null,R,ue),K.prototype.initFromNode.call(this,_,null,R,ue),H.prototype.initFromNode.call(this,_,null,R,ue),de.prototype.initFromNode.call(this,_,null,R,ue),this.lang=x},ot.prototype.initFromNode=function(_,R,x,ue,oe){k.prototype.initFromNode.call(this,_,R,x,oe),ce.prototype.initFromNode.call(this,_,R,x,oe),K.prototype.initFromNode.call(this,_,R,x,oe),H.prototype.initFromNode.call(this,_,R,x,oe),de.prototype.initFromNode.call(this,_,R,x,oe),this.lang=ue},pe.prototype.initFromNode=function(_,R,x,ue,oe){k.prototype.initFromNode.call(this,_,R,x,oe),ce.prototype.initFromNode.call(this,_,R,x,oe),K.prototype.initFromNode.call(this,_,R,x,oe),H.prototype.initFromNode.call(this,_,R,x,oe),de.prototype.initFromNode.call(this,_,R,x,oe),this.lang=ue},Mt.prototype.initFromNode=function(_,R,x,ue,oe,xe){k.prototype.initFromNode.call(this,_,R,x,xe),ce.prototype.initFromNode.call(this,_,R,x,xe),K.prototype.initFromNode.call(this,_,R,x,xe),H.prototype.initFromNode.call(this,_,R,x,xe),de.prototype.initFromNode.call(this,_,R,x,xe),this.space=oe,this.lang=ue},He.prototype.initFromText=function(_,R,x,ue,oe,xe){ce.prototype.initFromNode.call(this,_,R,null,xe),this.text=x,this.space=oe,this.lang=ue},$e.prototype.initFromNode=function(_,R,x,ue,oe){H.prototype.initFromNode.call(this,_,R,x,oe),ce.prototype.initFromNode.call(this,_,R,x,oe),this.lang=ue},Ne.prototype.createDefaultRegion=function(_){var R=new Ne;return se.call(R,""),k.call(R,{}),K.call(R,[]),ce.call(R,0,Number.POSITIVE_INFINITY,null),this.lang=_,R},Ne.prototype.initFromNode=function(_,R,x,ue){se.prototype.initFromNode.call(this,_,null,R,ue),ce.prototype.initFromNode.call(this,_,null,R,ue),K.prototype.initFromNode.call(this,_,null,R,ue),this.styleAttrs=ut(R,ue),this.styleRefs=Rt(R),this.lang=x},je.prototype.initFromNode=function(_,R,x,ue){ce.prototype.initFromNode.call(this,_,R,x,ue);var oe=ut(x,ue);for(var xe in this.qname=null,this.value=null,oe)if(oe.hasOwnProperty(xe)){if(this.qname){_e(ue,"More than one style specified on set");break}this.qname=xe,this.value=oe[xe]}}}(Ze,typeof sax>"u"?F(5378):sax,typeof imscNames>"u"?F(210):imscNames,typeof imscStyles>"u"?F(6811):imscStyles,typeof imscUtils>"u"?F(5926):imscUtils)},506:(At,Ze,F)=>{!function(ye,P,f){function h(k,K,de,ce){var qe;if("region"===de.kind)(qe=document.createElement("div")).style.position="absolute";else if("body"===de.kind)qe=document.createElement("div");else if("div"===de.kind)qe=document.createElement("div");else if("image"===de.kind){if(qe=document.createElement("img"),null!==k.imgResolver&&null!==de.src){var ot=k.imgResolver(de.src,qe);ot&&(qe.src=ot),qe.height=k.regionH,qe.width=k.regionW}}else if("p"===de.kind)qe=document.createElement("p");else if("span"===de.kind)if("container"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("ruby"),k.ruby=!0;else if("base"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("rb");else if("text"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("rt");else if("baseContainer"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("rbc");else if("textContainer"===de.styleAttrs[f.byName.ruby.qname])qe=document.createElement("rtc");else{if("delimiter"===de.styleAttrs[f.byName.ruby.qname])return;qe=document.createElement("span")}else"br"===de.kind&&(qe=document.createElement("br"));if(qe){if(de.lang&&("region"!==de.kind&&de.lang===ce.lang||(qe.lang=de.lang)),K.appendChild(qe),qe.style.margin="0","region"===de.kind){var pe=de.styleAttrs[f.byName.writingMode.qname];"lrtb"===pe||"lr"===pe?(k.ipd="lr",k.bpd="tb"):"rltb"===pe||"rl"===pe?(k.ipd="rl",k.bpd="tb"):"tblr"===pe?(k.ipd="tb",k.bpd="lr"):"tbrl"!==pe&&"tb"!==pe||(k.ipd="tb",k.bpd="rl")}else"p"===de.kind&&"tb"===k.bpd&&(k.ipd="ltr"===de.styleAttrs[f.byName.direction.qname]?"lr":"rl");for(var He=0;He<w.length;He++){var $e=w[He],Ne=de.styleAttrs[$e.qname];void 0!==Ne&&null!==$e.map&&$e.map(k,qe,de,Ne)}var je=qe,rt=de.styleAttrs[f.byName.linePadding.qname];if(rt&&!rt.isZero()){var Rt=rt.toUsedLength(k.w,k.h);if(Rt>0){var ut=Math.ceil(Rt)+"px";"tb"===k.bpd?(je.style.paddingLeft=ut,je.style.paddingRight=ut):(je.style.paddingTop=ut,je.style.paddingBottom=ut),k.lp=rt}}var ke=de.styleAttrs[f.byName.multiRowAlign.qname];if(ke&&"auto"!==ke){var ht=document.createElement("span");ht.style.display="inline-block",ht.style.textAlign=ke,qe.appendChild(ht),je=ht,k.mra=ke}var kt=de.styleAttrs[f.byName.rubyReserve.qname];if(kt&&"none"!==kt[0]&&(k.rubyReserve=kt),de.styleAttrs[f.byName.fillLineGap.qname]&&(k.flg=!0),"span"===de.kind&&de.text){var We=de.styleAttrs[f.byName.textEmphasis.qname];if(We&&"none"!==We.style&&(k.textEmphasis=!0),f.byName.textCombine.qname in de.styleAttrs&&"all"===de.styleAttrs[f.byName.textCombine.qname])qe.textContent=de.text,We&&p(k,qe,0,We);else for(var dt="",Ce=0;Ce<de.text.length;Ce++){dt+=de.text.charAt(Ce);var _e=de.text.charCodeAt(Ce);if(_e<55296||_e>56319||Ce===de.text.length-1){var at=document.createElement("span");at.textContent=dt,We&&p(k,at,0,We),qe.appendChild(at),dt="",at._isd_element=de}}}if("contents"in de)for(var E=0;E<de.contents.length;E++)h(k,je,de.contents[E],de);var _=[];if("p"===de.kind&&(M(k,je,_,null),k.rubyReserve&&(function(xe,Ye){for(var Ke=0;Ke<xe.length;Ke++){var Le,tt,it=document.createElement("ruby"),Re=document.createElement("rb");Re.textContent="\u200b",it.appendChild(Re);var Qe=Ye.rubyReserve[1].toUsedLength(Ye.w,Ye.h)+"px";"both"===Ye.rubyReserve[0]||"outside"===Ye.rubyReserve[0]&&1==xe.length?((Le=document.createElement("rtc")).style[J]=ne?"after":"under",Le.textContent="\u200b",Le.style.fontSize=Qe,(tt=document.createElement("rtc")).style[J]=ne?"before":"over",tt.textContent="\u200b",tt.style.fontSize=Qe,it.appendChild(Le),it.appendChild(tt)):((Le=document.createElement("rtc")).textContent="\u200b",Le.style.fontSize=Qe,Le.style[J]="after"===Ye.rubyReserve[0]||"outside"===Ye.rubyReserve[0]&&Ke>0?ne?"after":"tb"===Ye.bpd||"rl"===Ye.bpd?"under":"over":ne?"before":"tb"===Ye.bpd||"rl"===Ye.bpd?"over":"under",it.appendChild(Le));for(var St=null,Pt=0;Pt<xe[Ke].rbc.length;Pt++)if("ruby"===xe[Ke].rbc[Pt].localName){St=xe[Ke].rbc[Pt];for(var on=0;on<St.style.length;on++)it.style.setProperty(St.style.item(on),St.style.getPropertyValue(St.style.item(on)));break}(St=St||xe[Ke].elements[0].node).parentElement.insertBefore(it,St)}}(_,k),k.rubyReserve=null),(k.ruby||k.rubyReserve)&&(function(xe,Ye){for(var Ke=0;Ke<xe.length;Ke++)for(var Le=0;Le<xe[Ke].rbc.length;Le++)xe[Ke].rbc[Le].style[J]||(xe[Ke].rbc[Le].style[J]=ne?0===Ke?"before":"after":"tb"===Ye.bpd||"rl"===Ye.bpd?0===Ke?"over":"under":0===Ke?"under":"over")}(_,k),k.ruby=null),k.textEmphasis&&(function(xe,Ye){for(var Ke=0;Ke<xe.length;Ke++)for(var Le=0;Le<xe[Ke].te.length;Le++)xe[Ke].te[Le].style[H]&&"none"!==xe[Ke].te[Le].style[H]||(xe[Ke].te[Le].style[H]="tb"===Ye.bpd?0===Ke?"left over":"left under":"rl"===Ye.bpd?0===Ke?"right under":"left under":0===Ke?"left under":"right under")}(_,k),k.textEmphasis=null),k.mra&&(function(xe){for(var Ye=0;Ye<xe.length-1;Ye++){var Ke=xe[Ye].elements.length;if(0!==Ke&&!1===xe[Ye].br){var Le=document.createElement("br"),tt=xe[Ye].elements[Ke-1].node;tt.parentElement.insertBefore(Le,tt.nextSibling)}}}(_),k.mra=null),k.lp&&(function(xe,Ye,Ke){if(null!==xe)for(var Le=0;Le<xe.length;Le++){var tt=xe[Le].elements.length,it=Math.ceil(Ye)+"px",Re="-"+Math.ceil(Ye)+"px";if(0!==tt){var Xe=xe[Le].elements[xe[Le].start_elem],Qe=xe[Le].elements[xe[Le].end_elem];if(Xe===Qe&&(elementBoundingRect=Xe.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===Ke.ipd?(Xe.node.style.marginLeft=Re,Xe.node.style.paddingLeft=it):"rl"===Ke.ipd?(Xe.node.style.paddingRight=it,Xe.node.style.marginRight=Re):"tb"===Ke.ipd&&(Xe.node.style.paddingTop=it,Xe.node.style.marginTop=Re),"lr"===Ke.ipd?(Qe.node.style.marginRight=Re,Qe.node.style.paddingRight=it):"rl"===Ke.ipd?(Qe.node.style.paddingLeft=it,Qe.node.style.marginLeft=Re):"tb"===Ke.ipd&&(Qe.node.style.paddingBottom=it,Qe.node.style.marginBottom=Re)}}}(_,k.lp.toUsedLength(k.w,k.h),k),k.lp=null),function(xe){for(var Ye=0;Ye<xe.length;Ye++)for(var Ke=xe[Ye],Le=1;Le<Ke.elements.length;)S(Ke.elements[Le-1].node,Ke.elements[Le].node)?Ke.elements.splice(Le,1):Le++;for(var Re,Xe,Qe=[],St=0;St<xe.length;St++)for(var Pt=0;Pt<xe[St].elements.length;Pt++)(Xe=O(Re=xe[St].elements[Pt].node,Qe,!1))&&(Re.style.backgroundColor=Xe);for(var on=0;on<Qe.length;on++)Qe[on].style.backgroundColor=""}(_),k.flg)){var R=C(je.getBoundingClientRect(),k);(function(xe,Ye,Ke,Le,tt){for(var it=Math.sign(Ke-Ye),Re=0;Re<=xe.length;Re++){var Xe,Qe,St,Pt;if(Xe=0===Re?Math.round(Ye):Re===xe.length?Math.round(Ke):Math.round((xe[Re-1].after+xe[Re].before)/2),Re>0&&xe[Re-1])for(St=0;St<xe[Re-1].elements.length;St++)Qe=it*(Xe-(Pt=xe[Re-1].elements[St]).after)+"px","lr"===Le.bpd?Pt.node.style.paddingRight=Qe:"rl"===Le.bpd?Pt.node.style.paddingLeft=Qe:"tb"===Le.bpd&&(Pt.node.style.paddingBottom=Qe);if(Re<xe.length)for(St=0;St<xe[Re].elements.length;St++)Qe=it*((Pt=xe[Re].elements[St]).before-Xe)+"px","lr"===Le.bpd?Pt.node.style.paddingLeft=Qe:"rl"===Le.bpd?Pt.node.style.paddingRight=Qe:"tb"===Le.bpd&&(Pt.node.style.paddingTop=Qe)}})(_,R.before,R.after,k),k.flg=null}if("region"===de.kind&&"tb"===k.bpd&&k.enableRollUp&&de.contents.length>0&&"after"===de.styleAttrs[f.byName.displayAlign.qname]){M(k,je,_,null);var x=new g(""===de.id?"_":de.id,_);if(k.currentISDState[x.id]=x,k.previousISDState&&x.id in k.previousISDState&&k.previousISDState[x.id].plist.length>0&&x.plist.length>1&&x.plist[x.plist.length-2].text===k.previousISDState[x.id].plist[k.previousISDState[x.id].plist.length-1].text){var ue=qe.firstElementChild,oe=x.plist[x.plist.length-1].after-x.plist[x.plist.length-1].before;ue.style.bottom="-"+oe+"px",ue.style.transition="transform 0.4s",ue.style.position="relative",ue.style.transform="translateY(-"+oe+"px)"}}}else!function(xe,Ye){if(xe&&xe.error&&xe.error(Ye))throw Ye}(k.errorHandler,"Error processing ISD element kind: "+de.kind)}function O(k,K,de){return k.style.backgroundColor?(de&&!K.includes(k)&&K.push(k),k.style.backgroundColor):"SPAN"===k.parentElement.nodeName?O(k.parentElement,K,!0):void 0}function S(k,K){if("SPAN"===k.tagName&&"SPAN"===K.tagName&&k._isd_element===K._isd_element){k.textContent+=K.textContent;for(var de=0;de<K.style.length;de++){var ce=K.style[de];(ce.indexOf("border")>=0||ce.indexOf("padding")>=0||ce.indexOf("margin")>=0)&&(k.style[ce]=K.style[ce])}return K.parentElement.removeChild(K),!0}return!1}function g(k,K){this.id=k,this.plist=K}function C(k,K){var de={before:null,after:null,start:null,end:null};return"tb"===K.bpd?(de.before=k.top,de.after=k.bottom,"lr"===K.ipd?(de.start=k.left,de.end=k.right):(de.start=k.right,de.end=k.left)):"lr"===K.bpd?(de.before=k.left,de.after=k.right,de.start=k.top,de.end=k.bottom):"rl"===K.bpd&&(de.before=k.right,de.after=k.left,de.start=k.top,de.end=k.bottom),de}function M(k,K,de,ce){if("rt"!==K.localName&&"rtc"!==K.localName){var qe,ot,pe,Mt,He=K.style.backgroundColor||ce;if(0===K.childElementCount)if("span"===K.localName||"rb"===K.localName){var $e=C(K.getBoundingClientRect(),k);if(0!==de.length&&(qe=$e.before,pe=de[de.length-1].before,(ot=$e.after)<(Mt=de[de.length-1].after)&&qe>pe||Mt<=ot&&pe>=qe)){var Ne=Math.sign($e.after-$e.before),je=Math.sign($e.end-$e.start);Ne*($e.before-de[de.length-1].before)<0&&(de[de.length-1].before=$e.before),Ne*($e.after-de[de.length-1].after)>0&&(de[de.length-1].after=$e.after),je*($e.start-de[de.length-1].start)<0&&(de[de.length-1].start=$e.start,de[de.length-1].start_elem=de[de.length-1].elements.length),je*($e.end-de[de.length-1].end)>0&&(de[de.length-1].end=$e.end,de[de.length-1].end_elem=de[de.length-1].elements.length)}else de.push({before:$e.before,after:$e.after,start:$e.start,end:$e.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});de[de.length-1].text+=K.textContent,de[de.length-1].elements.push({node:K,bgcolor:He,before:$e.before,after:$e.after})}else"br"===K.localName&&0!==de.length&&(de[de.length-1].br=!0);else for(var rt=K.firstChild;rt;)rt.nodeType===Node.ELEMENT_NODE&&(M(k,rt,de,He),"ruby"===rt.localName||"rtc"===rt.localName?de.length>0&&de[de.length-1].rbc.push(rt):"span"===rt.localName&&rt.style[se]&&"none"!==rt.style[se]&&de.length>0&&de[de.length-1].te.push(rt)),rt=rt.nextSibling}}function p(k,K,de,ce){"none"!==ce.style&&(K.style[se]="auto"===ce.style?"filled":ce.style+" "+ce.symbol,("before"===ce.position||"after"===ce.position)&&(K.style[H]="tb"===k.bpd?"before"===ce.position?"left over":"left under":"rl"===k.bpd?"before"===ce.position?"right under":"left under":"before"===ce.position?"left under":"right under"))}function y(k,K){this.qname=k,this.map=K}ye.render=function(k,K,de,ce,qe,ot,pe,Mt,He){var $e=ce||K.clientHeight,Ne=qe||K.clientWidth;if(null!==k.aspectRatio){var je=$e*k.aspectRatio;je>Ne?$e=Math.round(Ne/k.aspectRatio):Ne=je}var rt=document.createElement("div");rt.style.position="relative",rt.style.width=Ne+"px",rt.style.height=$e+"px",rt.style.margin="auto",rt.style.top=0,rt.style.bottom=0,rt.style.left=0,rt.style.right=0,rt.style.zIndex=0;var Rt={h:$e,w:Ne,regionH:null,regionW:null,imgResolver:de,displayForcedOnlyMode:ot||!1,isd:k,errorHandler:pe,previousISDState:Mt,enableRollUp:He||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(K.appendChild(rt),"contents"in k)for(var ut=0;ut<k.contents.length;ut++)h(Rt,rt,k.contents[ut],k);return Rt.currentISDState};for(var w=[new y("http://www.w3.org/ns/ttml#styling backgroundColor",function(k,K,de,ce){0!==ce[3]&&(K.style.backgroundColor="rgba("+ce[0].toString()+","+ce[1].toString()+","+ce[2].toString()+","+(ce[3]/255).toString()+")")}),new y("http://www.w3.org/ns/ttml#styling color",function(k,K,de,ce){K.style.color="rgba("+ce[0].toString()+","+ce[1].toString()+","+ce[2].toString()+","+(ce[3]/255).toString()+")"}),new y("http://www.w3.org/ns/ttml#styling direction",function(k,K,de,ce){K.style.direction=ce}),new y("http://www.w3.org/ns/ttml#styling display",function(k,K,de,ce){}),new y("http://www.w3.org/ns/ttml#styling displayAlign",function(k,K,de,ce){K.style.display="flex",K.style.flexDirection="column","before"===ce?K.style.justifyContent="flex-start":"center"===ce?K.style.justifyContent="center":"after"===ce&&(K.style.justifyContent="flex-end")}),new y("http://www.w3.org/ns/ttml#styling extent",function(k,K,de,ce){k.regionH=ce.h.toUsedLength(k.w,k.h),k.regionW=ce.w.toUsedLength(k.w,k.h);var qe=0,ot=0,pe=de.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];pe&&(qe=pe[0].toUsedLength(k.w,k.h)+pe[2].toUsedLength(k.w,k.h),ot=pe[1].toUsedLength(k.w,k.h)+pe[3].toUsedLength(k.w,k.h)),K.style.height=k.regionH-qe+"px",K.style.width=k.regionW-ot+"px"}),new y("http://www.w3.org/ns/ttml#styling fontFamily",function(k,K,de,ce){for(var qe=[],ot=0;ot<ce.length;ot++)"monospaceSerif"===ce[ot]?(qe.push("Courier New"),qe.push('"Liberation Mono"'),qe.push("Courier"),qe.push("monospace")):"proportionalSansSerif"===ce[ot]?(qe.push("Arial"),qe.push("Helvetica"),qe.push('"Liberation Sans"'),qe.push("sans-serif")):"monospace"===ce[ot]?qe.push("monospace"):"sansSerif"===ce[ot]?qe.push("sans-serif"):"serif"===ce[ot]?qe.push("serif"):"monospaceSansSerif"===ce[ot]?(qe.push("Consolas"),qe.push("monospace")):qe.push("proportionalSerif"===ce[ot]?"serif":ce[ot]);if(qe.length>0){for(var pe=[qe[0]],Mt=1;Mt<qe.length;Mt++)-1==pe.indexOf(qe[Mt])&&pe.push(qe[Mt]);qe=pe}K.style.fontFamily=qe.join(",")}),new y("http://www.w3.org/ns/ttml#styling shear",function(k,K,de,ce){if(0!==ce){var qe=-.9*ce;K.style.transform="tb"===k.bpd?"skewX("+qe+"deg)":"skewY("+qe+"deg)"}}),new y("http://www.w3.org/ns/ttml#styling fontSize",function(k,K,de,ce){K.style.fontSize=ce.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling fontStyle",function(k,K,de,ce){K.style.fontStyle=ce}),new y("http://www.w3.org/ns/ttml#styling fontWeight",function(k,K,de,ce){K.style.fontWeight=ce}),new y("http://www.w3.org/ns/ttml#styling lineHeight",function(k,K,de,ce){K.style.lineHeight="normal"===ce?"normal":ce.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling opacity",function(k,K,de,ce){K.style.opacity=ce}),new y("http://www.w3.org/ns/ttml#styling origin",function(k,K,de,ce){K.style.top=ce.h.toUsedLength(k.w,k.h)+"px",K.style.left=ce.w.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling overflow",function(k,K,de,ce){K.style.overflow=ce}),new y("http://www.w3.org/ns/ttml#styling padding",function(k,K,de,ce){var qe=[];qe[0]=ce[0].toUsedLength(k.w,k.h)+"px",qe[1]=ce[3].toUsedLength(k.w,k.h)+"px",qe[2]=ce[2].toUsedLength(k.w,k.h)+"px",qe[3]=ce[1].toUsedLength(k.w,k.h)+"px",K.style.padding=qe.join(" ")}),new y("http://www.w3.org/ns/ttml#styling position",function(k,K,de,ce){K.style.top=ce.h.toUsedLength(k.w,k.h)+"px",K.style.left=ce.w.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling rubyAlign",function(k,K,de,ce){K.style.rubyAlign="spaceAround"===ce?"space-around":"center"}),new y("http://www.w3.org/ns/ttml#styling rubyPosition",function(k,K,de,ce){"before"!==ce&&"after"!==ce||(K.parentElement.style[J]=ne?ce:"tb"===k.bpd||"rl"===k.bpd?"before"===ce?"over":"under":"before"===ce?"under":"over")}),new y("http://www.w3.org/ns/ttml#styling showBackground",null),new y("http://www.w3.org/ns/ttml#styling textAlign",function(k,K,de,ce){K.style.textAlign="start"===ce?"rl"===k.ipd?"right":"left":"end"===ce?"rl"===k.ipd?"left":"right":ce}),new y("http://www.w3.org/ns/ttml#styling textDecoration",function(k,K,de,ce){K.style.textDecoration=ce.join(" ").replace("lineThrough","line-through")}),new y("http://www.w3.org/ns/ttml#styling textOutline",function(k,K,de,ce){}),new y("http://www.w3.org/ns/ttml#styling textShadow",function(k,K,de,ce){var qe=de.styleAttrs[f.byName.textOutline.qname];if("none"===ce&&"none"===qe)K.style.textShadow="";else{var ot=[];if("none"!==qe){var pe="rgba("+qe.color[0].toString()+","+qe.color[1].toString()+","+qe.color[2].toString()+","+(qe.color[3]/255).toString()+")";ot.push("1px 1px 1px "+pe),ot.push("-1px 1px 1px "+pe),ot.push("1px -1px 1px "+pe),ot.push("-1px -1px 1px "+pe)}if("none"!==ce)for(var Mt=0;Mt<ce.length;Mt++)ot.push(ce[Mt].x_off.toUsedLength(k.w,k.h)+"px "+ce[Mt].y_off.toUsedLength(k.w,k.h)+"px "+ce[Mt].b_radius.toUsedLength(k.w,k.h)+"px rgba("+ce[Mt].color[0].toString()+","+ce[Mt].color[1].toString()+","+ce[Mt].color[2].toString()+","+(ce[Mt].color[3]/255).toString()+")");K.style.textShadow=ot.join(",")}}),new y("http://www.w3.org/ns/ttml#styling textCombine",function(k,K,de,ce){K.style.textCombineUpright=ce}),new y("http://www.w3.org/ns/ttml#styling textEmphasis",function(k,K,de,ce){}),new y("http://www.w3.org/ns/ttml#styling unicodeBidi",function(k,K,de,ce){K.style.unicodeBidi="bidiOverride"===ce?"bidi-override":ce}),new y("http://www.w3.org/ns/ttml#styling visibility",function(k,K,de,ce){K.style.visibility=ce}),new y("http://www.w3.org/ns/ttml#styling wrapOption",function(k,K,de,ce){K.style.whiteSpace="wrap"===ce?"preserve"===de.space?"pre-wrap":"normal":"preserve"===de.space?"pre":"noWrap"}),new y("http://www.w3.org/ns/ttml#styling writingMode",function(k,K,de,ce){"lrtb"===ce||"lr"===ce||"rltb"===ce||"rl"===ce?K.style.writingMode="horizontal-tb":"tblr"===ce?K.style.writingMode="vertical-lr":"tbrl"!==ce&&"tb"!==ce||(K.style.writingMode="vertical-rl")}),new y("http://www.w3.org/ns/ttml#styling zIndex",function(k,K,de,ce){K.style.zIndex=ce}),new y("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(k,K,de,ce){k.displayForcedOnlyMode&&!1===ce&&(K.style.visibility="hidden")})],q={},W=0;W<w.length;W++)q[w[W].qname]=w[W];var ne="webkitRubyPosition"in window.getComputedStyle(document.documentElement),J=ne?"webkitRubyPosition":"rubyPosition",se="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",H="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(Ze,typeof imscNames>"u"?F(210):imscNames,typeof imscStyles>"u"?F(6811):imscStyles,typeof imscUtils>"u"?F(5926):imscUtils)},4080:(At,Ze,F)=>{!function(ye,P,f,h){ye.generateISD=function(w,q,W){var ne,J=new M(w),se={},H={},k=w.head.styling.initials[f.byName.showBackground.qname],K=w.head.styling.initials[f.byName.backgroundColor.qname];for(var de in w.head.layout.regions)if(w.head.layout.regions.hasOwnProperty(de)){var ce=w.head.layout.regions[de],qe=ce.styleAttrs[f.byName.showBackground.qname]||k;H[ce.id]=("always"===qe||void 0===qe)&&void 0!==(ce.styleAttrs[f.byName.backgroundColor.qname]||K)&&!(q<ce.begin||q>=ce.end)}for(var pe in w.body&&w.body.regionID&&(H[w.body.regionID]=!0),ne=null!==w.body?function He($e,Ne){if(Ne.contents){var je={};for(var rt in Ne)Ne.hasOwnProperty(rt)&&(je[rt]=Ne[rt]);return je.contents=[],Ne.contents.filter(function(Rt){return!($e<Rt.begin||$e>=Rt.end)}).forEach(function(Rt){var ut=He($e,Rt);ut.regionID&&(H[ut.regionID]=!0),null!==ut&&je.contents.push(ut)}),je}return Ne}(q,w.body):null,void 0!==H[""]&&(H[""]=!0),H)if(H[pe]){var Mt=S(w,q,w.head.layout.regions[pe],ne,null,"",w.head.layout.regions[pe],W,se);null!==Mt&&J.contents.push(Mt.element)}return J};var O=[f.byName.color.qname,f.byName.textCombine.qname,f.byName.textDecoration.qname,f.byName.textEmphasis.qname,f.byName.textOutline.qname,f.byName.textShadow.qname];function S(w,q,W,ne,J,se,H,k,K){if(q<H.begin||q>=H.end)return null;var de="regionID"in H&&""!==H.regionID?H.regionID:se;if(null!==J&&de!==W.id&&(!("contents"in H)||"contents"in H&&0===H.contents.length||""!==de))return null;var ce=new p(H);if("sets"in H)for(var qe=0;qe<H.sets.length;qe++)q<H.sets[qe].begin||q>=H.sets[qe].end||(ce.styleAttrs[H.sets[qe].qname]=H.sets[qe].value);var ot={};for(var pe in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(pe)&&(ot[pe]=!0,"region"===ce.kind&&pe===f.byName.writingMode.qname&&!(f.byName.direction.qname in ce.styleAttrs))){var Mt=ce.styleAttrs[pe];"lrtb"===Mt||"lr"===Mt?ce.styleAttrs[f.byName.direction.qname]="ltr":"rltb"!==Mt&&"rl"!==Mt||(ce.styleAttrs[f.byName.direction.qname]="rtl")}if(null!==J)for(var He=0;He<f.all.length;He++){var $e=f.all[He];if($e.qname===f.byName.textDecoration.qname){var Ne=J.styleAttrs[$e.qname],je=ce.styleAttrs[$e.qname],rt=[];void 0===je?rt=Ne:-1===je.indexOf("none")?((-1===je.indexOf("noUnderline")&&-1!==Ne.indexOf("underline")||-1!==je.indexOf("underline"))&&rt.push("underline"),(-1===je.indexOf("noLineThrough")&&-1!==Ne.indexOf("lineThrough")||-1!==je.indexOf("lineThrough"))&&rt.push("lineThrough"),(-1===je.indexOf("noOverline")&&-1!==Ne.indexOf("overline")||-1!==je.indexOf("overline"))&&rt.push("overline")):rt.push("none"),ce.styleAttrs[$e.qname]=rt}else if($e.qname!==f.byName.fontSize.qname||$e.qname in ce.styleAttrs||"span"!==ce.kind||"textContainer"!==ce.styleAttrs[f.byName.ruby.qname])if($e.qname!==f.byName.fontSize.qname||$e.qname in ce.styleAttrs||"span"!==ce.kind||"text"!==ce.styleAttrs[f.byName.ruby.qname])$e.inherit&&$e.qname in J.styleAttrs&&!($e.qname in ce.styleAttrs)&&(ce.styleAttrs[$e.qname]=J.styleAttrs[$e.qname]);else{var Rt=J.styleAttrs[f.byName.fontSize.qname];ce.styleAttrs[$e.qname]="textContainer"===J.styleAttrs[f.byName.ruby.qname]?Rt:new h.ComputedLength(.5*Rt.rw,.5*Rt.rh)}else{var ut=J.styleAttrs[f.byName.fontSize.qname];ce.styleAttrs[$e.qname]=new h.ComputedLength(.5*ut.rw,.5*ut.rh)}}for(var ke=0;ke<f.all.length;ke++){var ht=f.all[ke];if(!(ht.qname in ce.styleAttrs)&&!(ht.qname===f.byName.position.qname&&f.byName.origin.qname in ce.styleAttrs||ht.qname===f.byName.origin.qname&&f.byName.position.qname in ce.styleAttrs)){var kt=w.head.styling.initials[ht.qname]||ht.initial;if(null!==kt&&("region"===ce.kind||!1===ht.inherit&&null!==kt)){var We=ht.parse(kt);null!==We?(ce.styleAttrs[ht.qname]=We,ot[ht.qname]=!0):y(k,"Invalid initial value for '"+ht.qname+"' on element '"+ce.kind)}}}for(var dt=0;dt<f.all.length;dt++){var Ce=f.all[dt];if(Ce.qname in ot&&null!==Ce.compute){var _e=Ce.compute(w,J,ce,ce.styleAttrs[Ce.qname],K);null!==_e?ce.styleAttrs[Ce.qname]=_e:(ce.styleAttrs[Ce.qname]=Ce.compute(w,J,ce,Ce.parse(Ce.initial),K),y(k,"Style '"+Ce.qname+"' on element '"+ce.kind+"' cannot be computed"))}}if("none"===ce.styleAttrs[f.byName.display.qname])return null;var at=null;null===J?at=null===ne?[]:[ne]:"contents"in H&&(at=H.contents);for(var E=0;null!==at&&E<at.length;E++){var _=S(w,q,W,ne,ce,de,at[E],k,K);null!==_&&ce.contents.push(_.element)}for(var R in ce.styleAttrs)if(ce.styleAttrs.hasOwnProperty(R)){var x=!1;if("span"===ce.kind){var ue=ce.styleAttrs[f.byName.ruby.qname];(x=("container"===ue||"textContainer"===ue||"baseContainer"===ue)&&-1!==O.indexOf(R))||(x="container"!==ue&&R===f.byName.rubyAlign.qname),x||(x=!("textContainer"===ue||"text"===ue)&&R===f.byName.rubyPosition.qname)}if(!x){var oe=f.byQName[R];"applies"in oe&&(x=-1===oe.applies.indexOf(ce.kind))}x&&delete ce.styleAttrs[R]}var xe=ce.styleAttrs[f.byName.ruby.qname];if("p"===ce.kind||"span"===ce.kind&&("textContainer"===xe||"text"===xe)){var Ye=[];g(ce,Ye),function(Ke){for(var Le,tt=0;tt<Ke.length;)if("br"!==(Le=Ke[tt]).kind&&"preserve"!==Le.space){var it=Le.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(it)&&(0===tt||"br"===(Re=Ke[tt-1]).kind||/[\r\n\t ]$/.test(Re.text))&&(it=it.substring(1)),Le.text=it,0===it.length?Ke.splice(tt,1):tt++}else tt++;var Re,Xe;for(tt=0;tt<Ke.length;tt++)"br"!==(Le=Ke[tt]).kind&&"preserve"!==Le.space?/[ ]$/.test(Le.text)&&(tt===Ke.length-1||"br"===(Xe=Ke[tt+1]).kind||"preserve"===Xe.space&&/^[\r\n]/.test(Xe.text))&&(Le.text=Le.text.slice(0,-1)):tt++}(Ye),C(ce)}return"div"===ce.kind&&f.byName.backgroundImage.qname in ce.styleAttrs||"br"===ce.kind||"image"===ce.kind||"contents"in ce&&ce.contents.length>0||"span"===ce.kind&&null!==ce.text||"region"===ce.kind&&"always"===ce.styleAttrs[f.byName.showBackground.qname]?{region_id:de,element:ce}:null}function g(w,q){if("contents"in w)for(var W=0;W<w.contents.length;W++){var ne=w.contents[W],J=ne.styleAttrs[f.byName.ruby.qname];("span"!==ne.kind||"textContainer"!==J&&"text"!==J)&&("contents"in ne?g(ne,q):("span"===ne.kind&&0!==ne.text.length||"br"===ne.kind)&&q.push(ne))}}function C(w){if("br"===w.kind)return!1;if("text"in w)return 0===w.text.length;if("contents"in w){for(var q=w.contents.length;q--;)C(w.contents[q])&&w.contents.splice(q,1);return 0===w.contents.length}}function M(w){this.contents=[],this.aspectRatio=w.aspectRatio,this.lang=w.lang}function p(w){for(var q in this.kind=w.kind||"region",this.lang=w.lang,w.id&&(this.id=w.id),this.styleAttrs={},w.styleAttrs)w.styleAttrs.hasOwnProperty(q)&&(this.styleAttrs[q]=w.styleAttrs[q]);"src"in w&&(this.src=w.src),"type"in w&&(this.type=w.type),"text"in w?this.text=w.text:("region"===this.kind||"contents"in w)&&(this.contents=[]),"space"in w&&(this.space=w.space)}function y(w,q){if(w&&w.error&&w.error(q))throw q}}(Ze,typeof imscNames>"u"?F(210):imscNames,typeof imscStyles>"u"?F(6811):imscStyles,typeof imscUtils>"u"?F(5926):imscUtils)},4403:(At,Ze,F)=>{Ze.generateISD=F(4080).generateISD,Ze.fromXML=F(3362).fromXML,Ze.renderHTML=F(506).render},210:(At,Ze)=>{var F;(F=Ze).ns_tt="http://www.w3.org/ns/ttml",F.ns_tts="http://www.w3.org/ns/ttml#styling",F.ns_ttp="http://www.w3.org/ns/ttml#parameter",F.ns_xml="http://www.w3.org/XML/1998/namespace",F.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",F.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",F.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",F.ns_ebutts="urn:ebu:tt:style"},6811:(At,Ze,F)=>{!function(ye,P,f){function h(g,C,M,p,y,w,q,W){this.name=C,this.ns=g,this.qname=g+" "+C,this.inherit=y,this.animatable=w,this.initial=M,this.applies=p,this.parse=q,this.compute=W}for(var O in ye.all=[new h(P.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,f.parseColor,null),new h(P.ns_tts,"color","white",["span"],!0,!0,f.parseColor,null),new h(P.ns_tts,"direction","ltr",["p","span"],!0,!0,function(g){return g},null),new h(P.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(g){return g},null),new h(P.ns_tts,"displayAlign","before",["region"],!1,!0,function(g){return g},null),new h(P.ns_tts,"extent","auto",["tt","region"],!1,!0,function(g){if("auto"===g)return g;var C=g.split(" ");if(2!==C.length)return null;var M=f.parseLength(C[0]),p=f.parseLength(C[1]);return p&&M?{h:p,w:M}:null},function(g,C,M,p,y){var w,q;if("auto"===p)w=new f.ComputedLength(0,1);else if(null===(w=f.toComputedLength(p.h.value,p.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===p)q=new f.ComputedLength(1,0);else if(null===(q=f.toComputedLength(p.w.value,p.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:w,w:q}}),new h(P.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(g){for(var C=g.split(","),M=[],p=0;p<C.length;p++)"'"!==C[p].charAt(0)&&'"'!==C[p].charAt(0)&&"default"===C[p]?M.push("monospaceSerif"):M.push(C[p]);return M},null),new h(P.ns_tts,"shear","0%",["p"],!0,!0,f.parseLength,function(g,C,M,p){return"%"!==p.unit?null:Math.abs(p.value)>100?100*Math.sign(p.value):p.value}),new h(P.ns_tts,"fontSize","1c",["span","p"],!0,!0,f.parseLength,function(g,C,M,p,y){return f.toComputedLength(p.value,p.unit,null!==C?C.styleAttrs[ye.byName.fontSize.qname]:g.cellLength.h,null!==C?C.styleAttrs[ye.byName.fontSize.qname]:g.cellLength.h,g.cellLength.h,g.pxLength.h)}),new h(P.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(g){return g},null),new h(P.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(g){return g},null),new h(P.ns_tts,"lineHeight","normal",["p"],!0,!0,function(g){return"normal"===g?g:f.parseLength(g)},function(g,C,M,p,y){var w;if("normal"===p)w=p;else if(null===(w=f.toComputedLength(p.value,p.unit,M.styleAttrs[ye.byName.fontSize.qname],M.styleAttrs[ye.byName.fontSize.qname],g.cellLength.h,g.pxLength.h)))return null;return w}),new h(P.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new h(P.ns_tts,"origin","auto",["region"],!1,!0,function(g){if("auto"===g)return g;var C=g.split(" ");if(2!==C.length)return null;var M=f.parseLength(C[0]),p=f.parseLength(C[1]);return p&&M?{h:p,w:M}:null},function(g,C,M,p,y){var w,q;if("auto"===p)w=new f.ComputedLength(0,0);else if(null===(w=f.toComputedLength(p.h.value,p.h.unit,null,g.dimensions.h,null,g.pxLength.h)))return null;if("auto"===p)q=new f.ComputedLength(0,0);else if(null===(q=f.toComputedLength(p.w.value,p.w.unit,null,g.dimensions.w,null,g.pxLength.w)))return null;return{h:w,w:q}}),new h(P.ns_tts,"overflow","hidden",["region"],!1,!0,function(g){return g},null),new h(P.ns_tts,"padding","0px",["region"],!1,!0,function(g){var C=g.split(" ");if(C.length>4)return null;for(var M=[],p=0;p<C.length;p++){var y=f.parseLength(C[p]);if(!y)return null;M.push(y)}return M},function(g,C,M,p,y){var w;if(1===p.length)w=[p[0],p[0],p[0],p[0]];else if(2===p.length)w=[p[0],p[1],p[0],p[1]];else if(3===p.length)w=[p[0],p[1],p[2],p[1]];else{if(4!==p.length)return null;w=[p[0],p[1],p[2],p[3]]}var q=M.styleAttrs[ye.byName.writingMode.qname];if("lrtb"===q||"lr"===q)w=[w[0],w[3],w[2],w[1]];else if("rltb"===q||"rl"===q)w=[w[0],w[1],w[2],w[3]];else if("tblr"===q)w=[w[3],w[0],w[1],w[2]];else{if("tbrl"!==q&&"tb"!==q)return null;w=[w[3],w[2],w[1],w[0]]}for(var W=[],ne=0;ne<w.length;ne++)if(0===w[ne].value)W[ne]=new f.ComputedLength(0,0);else if(W[ne]=f.toComputedLength(w[ne].value,w[ne].unit,M.styleAttrs[ye.byName.fontSize.qname],0===ne||2===ne?M.styleAttrs[ye.byName.extent.qname].h:M.styleAttrs[ye.byName.extent.qname].w,0===ne||2===ne?g.cellLength.h:g.cellLength.w,0===ne||2===ne?g.pxLength.h:g.pxLength.w),null===W[ne])return null;return W}),new h(P.ns_tts,"position","top left",["region"],!1,!0,function(g){return f.parsePosition(g)},function(g,C,M,p){var y,w;return null===(y=f.toComputedLength(p.v.offset.value,p.v.offset.unit,null,new f.ComputedLength(-M.styleAttrs[ye.byName.extent.qname].h.rw,g.dimensions.h.rh-M.styleAttrs[ye.byName.extent.qname].h.rh),null,g.pxLength.h))?null:("bottom"===p.v.edge&&(y=new f.ComputedLength(-y.rw-M.styleAttrs[ye.byName.extent.qname].h.rw,g.dimensions.h.rh-y.rh-M.styleAttrs[ye.byName.extent.qname].h.rh)),w=f.toComputedLength(p.h.offset.value,p.h.offset.unit,null,new f.ComputedLength(g.dimensions.w.rw-M.styleAttrs[ye.byName.extent.qname].w.rw,-M.styleAttrs[ye.byName.extent.qname].w.rh),null,g.pxLength.w),null===y?null:("right"===p.h.edge&&(w=new f.ComputedLength(g.dimensions.w.rw-w.rw-M.styleAttrs[ye.byName.extent.qname].w.rw,-w.rh-M.styleAttrs[ye.byName.extent.qname].w.rh)),{h:y,w}))}),new h(P.ns_tts,"ruby","none",["span"],!1,!0,function(g){return g},null),new h(P.ns_tts,"rubyAlign","center",["span"],!0,!0,function(g){return"center"!==g&&"spaceAround"!==g?null:g},null),new h(P.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(g){return g},null),new h(P.ns_tts,"rubyReserve","none",["p"],!0,!0,function(g){var C=g.split(" "),M=[null,null];if(0===C.length||C.length>2||"none"!==C[0]&&"both"!==C[0]&&"after"!==C[0]&&"before"!==C[0]&&"outside"!==C[0])return null;if(M[0]=C[0],2===C.length&&"none"!==C[0]){var p=f.parseLength(C[1]);if(!p)return null;M[1]=p}return M},function(g,C,M,p,y){return"none"===p[0]?p:null===(w=null===p[1]?new f.ComputedLength(.5*M.styleAttrs[ye.byName.fontSize.qname].rw,.5*M.styleAttrs[ye.byName.fontSize.qname].rh):f.toComputedLength(p[1].value,p[1].unit,M.styleAttrs[ye.byName.fontSize.qname],M.styleAttrs[ye.byName.fontSize.qname],g.cellLength.h,g.pxLength.h))?null:[p[0],w];var w}),new h(P.ns_tts,"showBackground","always",["region"],!1,!0,function(g){return g},null),new h(P.ns_tts,"textAlign","start",["p"],!0,!0,function(g){return g},function(g,C,M,p,y){return"left"===p?"start":"right"===p?"end":p}),new h(P.ns_tts,"textCombine","none",["span"],!0,!0,function(g){return"none"===g||"all"===g?g:null},null),new h(P.ns_tts,"textDecoration","none",["span"],!0,!0,function(g){return g.split(" ")},null),new h(P.ns_tts,"textEmphasis","none",["span"],!0,!0,function(g){for(var C=g.split(" "),M={style:null,symbol:null,color:null,position:null},p=0;p<C.length;p++)if("none"===C[p]||"auto"===C[p])M.style=C[p];else if("filled"===C[p]||"open"===C[p])M.style=C[p];else if("circle"===C[p]||"dot"===C[p]||"sesame"===C[p])M.symbol=C[p];else if("current"===C[p])M.color=C[p];else if("outside"===C[p]||"before"===C[p]||"after"===C[p])M.position=C[p];else if(M.color=f.parseColor(C[p]),null===M.color)return null;return null==M.style&&null==M.symbol?M.style="auto":(M.symbol=M.symbol||"circle",M.style=M.style||"filled"),M.position=M.position||"outside",M.color=M.color||"current",M},null),new h(P.ns_tts,"textOutline","none",["span"],!0,!0,function(g){if("none"===g)return g;var C={},M=g.split(" ");if(0===M.length||M.length>2)return null;var p=f.parseColor(M[0]);if(C.color=p,null!==p&&M.shift(),1!==M.length)return null;var y=f.parseLength(M[0]);return y?(C.thickness=y,C):null},function(g,C,M,p,y){if("none"===p)return p;var w={};return w.color=null===p.color?M.styleAttrs[ye.byName.color.qname]:p.color,w.thickness=f.toComputedLength(p.thickness.value,p.thickness.unit,M.styleAttrs[ye.byName.fontSize.qname],M.styleAttrs[ye.byName.fontSize.qname],g.cellLength.h,g.pxLength.h),null===w.thickness?null:w}),new h(P.ns_tts,"textShadow","none",["span"],!0,!0,f.parseTextShadow,function(g,C,M,p){if("none"===p)return p;for(var y=[],w=0;w<p.length;w++){var q={};if(q.x_off=f.toComputedLength(p[w][0].value,p[w][0].unit,null,M.styleAttrs[ye.byName.fontSize.qname],null,g.pxLength.w),null===q.x_off||(q.y_off=f.toComputedLength(p[w][1].value,p[w][1].unit,null,M.styleAttrs[ye.byName.fontSize.qname],null,g.pxLength.h),null===q.y_off))return null;if(null===p[w][2])q.b_radius=0;else if(q.b_radius=f.toComputedLength(p[w][2].value,p[w][2].unit,null,M.styleAttrs[ye.byName.fontSize.qname],null,g.pxLength.h),null===q.b_radius)return null;q.color=null===p[w][3]?M.styleAttrs[ye.byName.color.qname]:p[w][3],y.push(q)}return y}),new h(P.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(g){return g},null),new h(P.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(g){return g},null),new h(P.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(g){return g},null),new h(P.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(g){return g},null),new h(P.ns_tts,"zIndex","auto",["region"],!1,!0,function(g){var C;return"auto"===g?C=g:(C=parseInt(g),isNaN(C)&&(C=null)),C},null),new h(P.ns_ebutts,"linePadding","0c",["p"],!0,!1,f.parseLength,function(g,C,M,p,y){return f.toComputedLength(p.value,p.unit,null,null,g.cellLength.w,null)}),new h(P.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(g){return g},null),new h(P.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(g){return g},null),new h(P.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(g){return"true"===g},null),new h(P.ns_itts,"fillLineGap","false",["p"],!0,!0,function(g){return"true"===g},null)],ye.byQName={},ye.all)ye.byQName[ye.all[O].qname]=ye.all[O];for(var S in ye.byName={},ye.all)ye.byName[ye.all[S].name]=ye.all[S]}(Ze,typeof imscNames>"u"?F(210):imscNames,typeof imscUtils>"u"?F(5926):imscUtils)},5926:(At,Ze)=>{!function(F){var ye=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,P=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,f=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,h={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};F.parseColor=function(S){var g,C=null,M=h[S.toLowerCase()];return void 0!==M?C=M:null!==(g=ye.exec(S))?C=[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16),void 0!==g[4]?parseInt(g[4],16):255]:null!==(g=P.exec(S))?C=[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),255]:null!==(g=f.exec(S))&&(C=[parseInt(g[1]),parseInt(g[2]),parseInt(g[3]),parseInt(g[4])]),C};var O=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;F.parseLength=function(S){var g,C=null;return null!==(g=O.exec(S))&&(C={value:parseFloat(g[1]),unit:g[2]}),C},F.parseTextShadow=function(S){for(var g=S.match(/([^\(,\)]|\([^\)]+\))+/g),C=[],M=0;M<g.length;M++){var p=g[M].split(" ");if(1===p.length&&"none"===p[0])return"none";if(p.length>1&&p.length<5){var y=[null,null,null,null],w=F.parseLength(p.shift());if(null===w||(y[0]=w,null===(w=F.parseLength(p.shift()))))return null;if(y[1]=w,0===p.length){C.push(y);continue}if(null!==(w=F.parseLength(p[0]))&&(y[2]=w,p.shift()),0===p.length){C.push(y);continue}var q=F.parseColor(p[0]);if(null===q)return null;y[3]=q,C.push(y)}}return C},F.parsePosition=function(S){var g=S.split(" "),C=function(ne){return"center"===ne||"left"===ne||"top"===ne||"bottom"===ne||"right"===ne};if(g.length>4)return null;for(var M=0;M<g.length;M++)if(!C(g[M])){var p=F.parseLength(g[M]);if(null===p)return null;g[M]=p}for(var y={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},w=0;w<g.length;){var q=g[w++];if(C(q)){var W={value:0,unit:"%"};2!==g.length&&w<g.length&&!C(g[w])&&(W=g[w++]),"right"===q?(y.h.edge=q,y.h.offset=W):"bottom"===q?(y.v.edge=q,y.v.offset=W):"left"===q?y.h.offset=W:"top"===q&&(y.v.offset=W)}else{if(1!==g.length&&2!==g.length)return null;1===w?y.h.offset=q:y.v.offset=q}}return y},F.ComputedLength=function(S,g){this.rw=S,this.rh=g},F.ComputedLength.prototype.toUsedLength=function(S,g){return S*this.rw+g*this.rh},F.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},F.toComputedLength=function(S,g,C,M,p,y){return"%"===g&&M?new F.ComputedLength(M.rw*S/100,M.rh*S/100):"em"===g&&C?new F.ComputedLength(C.rw*S,C.rh*S):"c"===g&&p?new F.ComputedLength(S*p.rw,S*p.rh):"px"===g&&y?new F.ComputedLength(S*y.rw,S*y.rh):"rh"===g?new F.ComputedLength(0,S/100):"rw"===g?new F.ComputedLength(S/100,0):null}}(Ze)},3516:At=>{"use strict";At.exports=function(Ze){var F="string"==typeof Ze?Ze.charCodeAt(0):Ze;return F>=97&&F<=122||F>=65&&F<=90}},2219:(At,Ze,F)=>{"use strict";var ye=F(3516),P=F(395);At.exports=function(f){return ye(f)||P(f)}},395:At=>{"use strict";At.exports=function(Ze){var F="string"==typeof Ze?Ze.charCodeAt(0):Ze;return F>=48&&F<=57}},3875:At=>{"use strict";function Ze(P){if("string"!=typeof P)throw new TypeError("Path must be a string. Received "+JSON.stringify(P))}function F(P,f){for(var h,O="",S=0,g=-1,C=0,M=0;M<=P.length;++M){if(M<P.length)h=P.charCodeAt(M);else{if(47===h)break;h=47}if(47===h){if(g!==M-1&&1!==C)if(g!==M-1&&2===C){if(O.length<2||2!==S||46!==O.charCodeAt(O.length-1)||46!==O.charCodeAt(O.length-2))if(O.length>2){var p=O.lastIndexOf("/");if(p!==O.length-1){-1===p?(O="",S=0):S=(O=O.slice(0,p)).length-1-O.lastIndexOf("/"),g=M,C=0;continue}}else if(2===O.length||1===O.length){O="",S=0,g=M,C=0;continue}f&&(O.length>0?O+="/..":O="..",S=2)}else O.length>0?O+="/"+P.slice(g+1,M):O=P.slice(g+1,M),S=M-g-1;g=M,C=0}else 46===h&&-1!==C?++C:C=-1}return O}var ye={resolve:function(){for(var P,f="",h=!1,O=arguments.length-1;O>=-1&&!h;O--){var S;O>=0?S=arguments[O]:(void 0===P&&(P=process.cwd()),S=P),Ze(S),0!==S.length&&(f=S+"/"+f,h=47===S.charCodeAt(0))}return f=F(f,!h),h?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(P){if(Ze(P),0===P.length)return".";var f=47===P.charCodeAt(0),h=47===P.charCodeAt(P.length-1);return 0!==(P=F(P,!f)).length||f||(P="."),P.length>0&&h&&(P+="/"),f?"/"+P:P},isAbsolute:function(P){return Ze(P),P.length>0&&47===P.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var P,f=0;f<arguments.length;++f){var h=arguments[f];Ze(h),h.length>0&&(void 0===P?P=h:P+="/"+h)}return void 0===P?".":ye.normalize(P)},relative:function(P,f){if(Ze(P),Ze(f),P===f||(P=ye.resolve(P))===(f=ye.resolve(f)))return"";for(var h=1;h<P.length&&47===P.charCodeAt(h);++h);for(var O=P.length,S=O-h,g=1;g<f.length&&47===f.charCodeAt(g);++g);for(var C=f.length-g,M=S<C?S:C,p=-1,y=0;y<=M;++y){if(y===M){if(C>M){if(47===f.charCodeAt(g+y))return f.slice(g+y+1);if(0===y)return f.slice(g+y)}else S>M&&(47===P.charCodeAt(h+y)?p=y:0===y&&(p=0));break}var w=P.charCodeAt(h+y);if(w!==f.charCodeAt(g+y))break;47===w&&(p=y)}var q="";for(y=h+p+1;y<=O;++y)y!==O&&47!==P.charCodeAt(y)||(q+=0===q.length?"..":"/..");return q.length>0?q+f.slice(g+p):(47===f.charCodeAt(g+=p)&&++g,f.slice(g))},_makeLong:function(P){return P},dirname:function(P){if(Ze(P),0===P.length)return".";for(var f=P.charCodeAt(0),h=47===f,O=-1,S=!0,g=P.length-1;g>=1;--g)if(47===(f=P.charCodeAt(g))){if(!S){O=g;break}}else S=!1;return-1===O?h?"/":".":h&&1===O?"//":P.slice(0,O)},basename:function(P,f){if(void 0!==f&&"string"!=typeof f)throw new TypeError('"ext" argument must be a string');Ze(P);var h,O=0,S=-1,g=!0;if(void 0!==f&&f.length>0&&f.length<=P.length){if(f.length===P.length&&f===P)return"";var C=f.length-1,M=-1;for(h=P.length-1;h>=0;--h){var p=P.charCodeAt(h);if(47===p){if(!g){O=h+1;break}}else-1===M&&(g=!1,M=h+1),C>=0&&(p===f.charCodeAt(C)?-1==--C&&(S=h):(C=-1,S=M))}return O===S?S=M:-1===S&&(S=P.length),P.slice(O,S)}for(h=P.length-1;h>=0;--h)if(47===P.charCodeAt(h)){if(!g){O=h+1;break}}else-1===S&&(g=!1,S=h+1);return-1===S?"":P.slice(O,S)},extname:function(P){Ze(P);for(var f=-1,h=0,O=-1,S=!0,g=0,C=P.length-1;C>=0;--C){var M=P.charCodeAt(C);if(47!==M)-1===O&&(S=!1,O=C+1),46===M?-1===f?f=C:1!==g&&(g=1):-1!==f&&(g=-1);else if(!S){h=C+1;break}}return-1===f||-1===O||0===g||1===g&&f===O-1&&f===h+1?"":P.slice(f,O)},format:function(P){if(null===P||"object"!=typeof P)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof P);return S=(h=P).base||(h.name||"")+(h.ext||""),(O=h.dir||h.root)?O===h.root?O+S:O+"/"+S:S;var h,O,S},parse:function(P){Ze(P);var f={root:"",dir:"",base:"",ext:"",name:""};if(0===P.length)return f;var h,O=P.charCodeAt(0),S=47===O;S?(f.root="/",h=1):h=0;for(var g=-1,C=0,M=-1,p=!0,y=P.length-1,w=0;y>=h;--y)if(47!==(O=P.charCodeAt(y)))-1===M&&(p=!1,M=y+1),46===O?-1===g?g=y:1!==w&&(w=1):-1!==g&&(w=-1);else if(!p){C=y+1;break}return-1===g||-1===M||0===w||1===w&&g===M-1&&g===C+1?-1!==M&&(f.base=f.name=P.slice(0===C&&S?1:C,M)):(0===C&&S?(f.name=P.slice(1,g),f.base=P.slice(1,M)):(f.name=P.slice(C,g),f.base=P.slice(C,M)),f.ext=P.slice(g,M)),C>0?f.dir=P.slice(0,C-1):S&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};ye.posix=ye,At.exports=ye},8387:(At,Ze,F)=>{var ye=F(1549),P=ye.Buffer;function f(O,S){for(var g in O)S[g]=O[g]}function h(O,S,g){return P(O,S,g)}P.from&&P.alloc&&P.allocUnsafe&&P.allocUnsafeSlow?At.exports=ye:(f(ye,Ze),Ze.Buffer=h),f(P,h),h.from=function(O,S,g){if("number"==typeof O)throw new TypeError("Argument must not be a number");return P(O,S,g)},h.alloc=function(O,S,g){if("number"!=typeof O)throw new TypeError("Argument must be a number");var C=P(O);return void 0!==S?"string"==typeof g?C.fill(S,g):C.fill(S):C.fill(0),C},h.allocUnsafe=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return P(O)},h.allocUnsafeSlow=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return ye.SlowBuffer(O)}},5378:(At,Ze,F)=>{!function(ye){ye.parser=function(E,_){return new h(E,_)},ye.SAXParser=h,ye.SAXStream=S,ye.createStream=function(E,_){return new S(E,_)},ye.MAX_BUFFER_LENGTH=65536;var P,f=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function h(E,_){if(!(this instanceof h))return new h(E,_);var R=this;(function(x){for(var ue=0,oe=f.length;ue<oe;ue++)x[f[ue]]=""})(R),R.q=R.c="",R.bufferCheckPosition=ye.MAX_BUFFER_LENGTH,R.opt=_||{},R.opt.lowercase=R.opt.lowercase||R.opt.lowercasetags,R.looseCase=R.opt.lowercase?"toLowerCase":"toUpperCase",R.tags=[],R.closed=R.closedRoot=R.sawRoot=!1,R.tag=R.error=null,R.strict=!!E,R.noscript=!(!E&&!R.opt.noscript),R.state=pe.BEGIN,R.strictEntities=R.opt.strictEntities,R.ENTITIES=Object.create(R.strictEntities?ye.XML_ENTITIES:ye.ENTITIES),R.attribList=[],R.opt.xmlns&&(R.ns=Object.create(W)),R.trackPosition=!1!==R.opt.position,R.trackPosition&&(R.position=R.line=R.column=0),He(R,"onready")}ye.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(E){function _(){}return _.prototype=E,new _}),Object.keys||(Object.keys=function(E){var _=[];for(var R in E)E.hasOwnProperty(R)&&_.push(R);return _}),h.prototype={end:function(){Rt(this)},write:function(E){var _=this;if(this.error)throw this.error;if(_.closed)return rt(_,"Cannot write after close. Assign an onready handler.");if(null===E)return Rt(_);"object"==typeof E&&(E=E.toString());for(var R=0,x="";x=at(E,R++),_.c=x,x;)switch(_.trackPosition&&(_.position++,"\n"===x?(_.line++,_.column=0):_.column++),_.state){case pe.BEGIN:if(_.state=pe.BEGIN_WHITESPACE,"\ufeff"===x)continue;_e(_,x);continue;case pe.BEGIN_WHITESPACE:_e(_,x);continue;case pe.TEXT:if(_.sawRoot&&!_.closedRoot){for(var ue=R-1;x&&"<"!==x&&"&"!==x;)(x=at(E,R++))&&_.trackPosition&&(_.position++,"\n"===x?(_.line++,_.column=0):_.column++);_.textNode+=E.substring(ue,R-1)}"<"!==x||_.sawRoot&&_.closedRoot&&!_.strict?(!de(g,x)||_.sawRoot&&!_.closedRoot||ut(_,"Text data outside of root node."),"&"===x?_.state=pe.TEXT_ENTITY:_.textNode+=x):(_.state=pe.OPEN_WAKA,_.startTagPosition=_.position);continue;case pe.SCRIPT:"<"===x?_.state=pe.SCRIPT_ENDING:_.script+=x;continue;case pe.SCRIPT_ENDING:"/"===x?_.state=pe.CLOSE_TAG:(_.script+="<"+x,_.state=pe.SCRIPT);continue;case pe.OPEN_WAKA:"!"===x?(_.state=pe.SGML_DECL,_.sgmlDecl=""):K(g,x)||(K(ne,x)?(_.state=pe.OPEN_TAG,_.tagName=x):"/"===x?(_.state=pe.CLOSE_TAG,_.tagName=""):"?"===x?(_.state=pe.PROC_INST,_.procInstName=_.procInstBody=""):(ut(_,"Unencoded <"),_.startTagPosition+1<_.position&&(x=new Array(_.position-_.startTagPosition).join(" ")+x),_.textNode+="<"+x,_.state=pe.TEXT));continue;case pe.SGML_DECL:"[CDATA["===(_.sgmlDecl+x).toUpperCase()?($e(_,"onopencdata"),_.state=pe.CDATA,_.sgmlDecl="",_.cdata=""):_.sgmlDecl+x==="--"?(_.state=pe.COMMENT,_.comment="",_.sgmlDecl=""):"DOCTYPE"===(_.sgmlDecl+x).toUpperCase()?(_.state=pe.DOCTYPE,(_.doctype||_.sawRoot)&&ut(_,"Inappropriately located doctype declaration"),_.doctype="",_.sgmlDecl=""):">"===x?($e(_,"onsgmldeclaration",_.sgmlDecl),_.sgmlDecl="",_.state=pe.TEXT):(K(p,x)&&(_.state=pe.SGML_DECL_QUOTED),_.sgmlDecl+=x);continue;case pe.SGML_DECL_QUOTED:x===_.q&&(_.state=pe.SGML_DECL,_.q=""),_.sgmlDecl+=x;continue;case pe.DOCTYPE:">"===x?(_.state=pe.TEXT,$e(_,"ondoctype",_.doctype),_.doctype=!0):(_.doctype+=x,"["===x?_.state=pe.DOCTYPE_DTD:K(p,x)&&(_.state=pe.DOCTYPE_QUOTED,_.q=x));continue;case pe.DOCTYPE_QUOTED:_.doctype+=x,x===_.q&&(_.q="",_.state=pe.DOCTYPE);continue;case pe.DOCTYPE_DTD:_.doctype+=x,"]"===x?_.state=pe.DOCTYPE:K(p,x)&&(_.state=pe.DOCTYPE_DTD_QUOTED,_.q=x);continue;case pe.DOCTYPE_DTD_QUOTED:_.doctype+=x,x===_.q&&(_.state=pe.DOCTYPE_DTD,_.q="");continue;case pe.COMMENT:"-"===x?_.state=pe.COMMENT_ENDING:_.comment+=x;continue;case pe.COMMENT_ENDING:"-"===x?(_.state=pe.COMMENT_ENDED,_.comment=je(_.opt,_.comment),_.comment&&$e(_,"oncomment",_.comment),_.comment=""):(_.comment+="-"+x,_.state=pe.COMMENT);continue;case pe.COMMENT_ENDED:">"!==x?(ut(_,"Malformed comment"),_.comment+="--"+x,_.state=pe.COMMENT):_.state=pe.TEXT;continue;case pe.CDATA:"]"===x?_.state=pe.CDATA_ENDING:_.cdata+=x;continue;case pe.CDATA_ENDING:"]"===x?_.state=pe.CDATA_ENDING_2:(_.cdata+="]"+x,_.state=pe.CDATA);continue;case pe.CDATA_ENDING_2:">"===x?(_.cdata&&$e(_,"oncdata",_.cdata),$e(_,"onclosecdata"),_.cdata="",_.state=pe.TEXT):"]"===x?_.cdata+="]":(_.cdata+="]]"+x,_.state=pe.CDATA);continue;case pe.PROC_INST:"?"===x?_.state=pe.PROC_INST_ENDING:K(g,x)?_.state=pe.PROC_INST_BODY:_.procInstName+=x;continue;case pe.PROC_INST_BODY:if(!_.procInstBody&&K(g,x))continue;"?"===x?_.state=pe.PROC_INST_ENDING:_.procInstBody+=x;continue;case pe.PROC_INST_ENDING:">"===x?($e(_,"onprocessinginstruction",{name:_.procInstName,body:_.procInstBody}),_.procInstName=_.procInstBody="",_.state=pe.TEXT):(_.procInstBody+="?"+x,_.state=pe.PROC_INST_BODY);continue;case pe.OPEN_TAG:K(J,x)?_.tagName+=x:(ke(_),">"===x?We(_):"/"===x?_.state=pe.OPEN_TAG_SLASH:(de(g,x)&&ut(_,"Invalid character in tag name"),_.state=pe.ATTRIB));continue;case pe.OPEN_TAG_SLASH:">"===x?(We(_,!0),dt(_)):(ut(_,"Forward-slash in opening tag not followed by >"),_.state=pe.ATTRIB);continue;case pe.ATTRIB:if(K(g,x))continue;">"===x?We(_):"/"===x?_.state=pe.OPEN_TAG_SLASH:K(ne,x)?(_.attribName=x,_.attribValue="",_.state=pe.ATTRIB_NAME):ut(_,"Invalid attribute name");continue;case pe.ATTRIB_NAME:"="===x?_.state=pe.ATTRIB_VALUE:">"===x?(ut(_,"Attribute without value"),_.attribValue=_.attribName,kt(_),We(_)):K(g,x)?_.state=pe.ATTRIB_NAME_SAW_WHITE:K(J,x)?_.attribName+=x:ut(_,"Invalid attribute name");continue;case pe.ATTRIB_NAME_SAW_WHITE:if("="===x)_.state=pe.ATTRIB_VALUE;else{if(K(g,x))continue;ut(_,"Attribute without value"),_.tag.attributes[_.attribName]="",_.attribValue="",$e(_,"onattribute",{name:_.attribName,value:""}),_.attribName="",">"===x?We(_):K(ne,x)?(_.attribName=x,_.state=pe.ATTRIB_NAME):(ut(_,"Invalid attribute name"),_.state=pe.ATTRIB)}continue;case pe.ATTRIB_VALUE:if(K(g,x))continue;K(p,x)?(_.q=x,_.state=pe.ATTRIB_VALUE_QUOTED):(ut(_,"Unquoted attribute value"),_.state=pe.ATTRIB_VALUE_UNQUOTED,_.attribValue=x);continue;case pe.ATTRIB_VALUE_QUOTED:if(x!==_.q){"&"===x?_.state=pe.ATTRIB_VALUE_ENTITY_Q:_.attribValue+=x;continue}kt(_),_.q="",_.state=pe.ATTRIB_VALUE_CLOSED;continue;case pe.ATTRIB_VALUE_CLOSED:K(g,x)?_.state=pe.ATTRIB:">"===x?We(_):"/"===x?_.state=pe.OPEN_TAG_SLASH:K(ne,x)?(ut(_,"No whitespace between attributes"),_.attribName=x,_.attribValue="",_.state=pe.ATTRIB_NAME):ut(_,"Invalid attribute name");continue;case pe.ATTRIB_VALUE_UNQUOTED:if(de(y,x)){"&"===x?_.state=pe.ATTRIB_VALUE_ENTITY_U:_.attribValue+=x;continue}kt(_),">"===x?We(_):_.state=pe.ATTRIB;continue;case pe.CLOSE_TAG:if(_.tagName)">"===x?dt(_):K(J,x)?_.tagName+=x:_.script?(_.script+="</"+_.tagName,_.tagName="",_.state=pe.SCRIPT):(de(g,x)&&ut(_,"Invalid tagname in closing tag"),_.state=pe.CLOSE_TAG_SAW_WHITE);else{if(K(g,x))continue;de(ne,x)?_.script?(_.script+="</"+x,_.state=pe.SCRIPT):ut(_,"Invalid tagname in closing tag."):_.tagName=x}continue;case pe.CLOSE_TAG_SAW_WHITE:if(K(g,x))continue;">"===x?dt(_):ut(_,"Invalid characters in closing tag");continue;case pe.TEXT_ENTITY:case pe.ATTRIB_VALUE_ENTITY_Q:case pe.ATTRIB_VALUE_ENTITY_U:var xe,Ye;switch(_.state){case pe.TEXT_ENTITY:xe=pe.TEXT,Ye="textNode";break;case pe.ATTRIB_VALUE_ENTITY_Q:xe=pe.ATTRIB_VALUE_QUOTED,Ye="attribValue";break;case pe.ATTRIB_VALUE_ENTITY_U:xe=pe.ATTRIB_VALUE_UNQUOTED,Ye="attribValue"}";"===x?(_[Ye]+=Ce(_),_.entity="",_.state=xe):K(_.entity.length?H:se,x)?_.entity+=x:(ut(_,"Invalid character in entity name"),_[Ye]+="&"+_.entity+x,_.entity="",_.state=xe);continue;default:throw new Error(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&function(Ke){for(var Le=Math.max(ye.MAX_BUFFER_LENGTH,10),tt=0,it=0,Re=f.length;it<Re;it++){var Xe=Ke[f[it]].length;if(Xe>Le)switch(f[it]){case"textNode":Ne(Ke);break;case"cdata":$e(Ke,"oncdata",Ke.cdata),Ke.cdata="";break;case"script":$e(Ke,"onscript",Ke.script),Ke.script="";break;default:rt(Ke,"Max buffer length exceeded: "+f[it])}tt=Math.max(tt,Xe)}Ke.bufferCheckPosition=ye.MAX_BUFFER_LENGTH-tt+Ke.position}(_),_},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var E;Ne(E=this),""!==E.cdata&&($e(E,"oncdata",E.cdata),E.cdata=""),""!==E.script&&($e(E,"onscript",E.script),E.script="")}};try{P=F(182).Stream}catch{P=function(){}}var O=ye.EVENTS.filter(function(E){return"error"!==E&&"end"!==E});function S(E,_){if(!(this instanceof S))return new S(E,_);P.apply(this),this._parser=new h(E,_),this.writable=!0,this.readable=!0;var R=this;this._parser.onend=function(){R.emit("end")},this._parser.onerror=function(x){R.emit("error",x),R._parser.error=null},this._decoder=null,O.forEach(function(x){Object.defineProperty(R,"on"+x,{get:function(){return R._parser["on"+x]},set:function(ue){if(!ue)return R.removeAllListeners(x),R._parser["on"+x]=ue,ue;R.on(x,ue)},enumerable:!0,configurable:!1})})}(S.prototype=Object.create(P.prototype,{constructor:{value:S}})).write=function(E){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(E)){if(!this._decoder){var _=F(7503).s;this._decoder=new _("utf8")}E=this._decoder.write(E)}return this._parser.write(E.toString()),this.emit("data",E),!0},S.prototype.end=function(E){return E&&E.length&&this.write(E),this._parser.end(),!0},S.prototype.on=function(E,_){var R=this;return R._parser["on"+E]||-1===O.indexOf(E)||(R._parser["on"+E]=function(){var x=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);x.splice(0,0,E),R.emit.apply(R,x)}),P.prototype.on.call(R,E,_)};var g="\r\n\t ",C="0124356789",M="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",p="'\"",y=g+">",w="http://www.w3.org/XML/1998/namespace",q="http://www.w3.org/2000/xmlns/",W={xml:w,xmlns:q};g=k(g),C=k(C),M=k(M);var ne=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,J=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,se=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,H=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function k(E){return E.split("").reduce(function(_,R){return _[R]=!0,_},{})}function K(E,_){return"[object RegExp]"===Object.prototype.toString.call(E)?!!_.match(E):E[_]}function de(E,_){return!K(E,_)}p=k(p),y=k(y);var ce,qe,ot,pe=0;for(var Mt in ye.STATE={BEGIN:pe++,BEGIN_WHITESPACE:pe++,TEXT:pe++,TEXT_ENTITY:pe++,OPEN_WAKA:pe++,SGML_DECL:pe++,SGML_DECL_QUOTED:pe++,DOCTYPE:pe++,DOCTYPE_QUOTED:pe++,DOCTYPE_DTD:pe++,DOCTYPE_DTD_QUOTED:pe++,COMMENT_STARTING:pe++,COMMENT:pe++,COMMENT_ENDING:pe++,COMMENT_ENDED:pe++,CDATA:pe++,CDATA_ENDING:pe++,CDATA_ENDING_2:pe++,PROC_INST:pe++,PROC_INST_BODY:pe++,PROC_INST_ENDING:pe++,OPEN_TAG:pe++,OPEN_TAG_SLASH:pe++,ATTRIB:pe++,ATTRIB_NAME:pe++,ATTRIB_NAME_SAW_WHITE:pe++,ATTRIB_VALUE:pe++,ATTRIB_VALUE_QUOTED:pe++,ATTRIB_VALUE_CLOSED:pe++,ATTRIB_VALUE_UNQUOTED:pe++,ATTRIB_VALUE_ENTITY_Q:pe++,ATTRIB_VALUE_ENTITY_U:pe++,CLOSE_TAG:pe++,CLOSE_TAG_SAW_WHITE:pe++,SCRIPT:pe++,SCRIPT_ENDING:pe++},ye.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},ye.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(ye.ENTITIES).forEach(function(E){var _=ye.ENTITIES[E],R="number"==typeof _?String.fromCharCode(_):_;ye.ENTITIES[E]=R}),ye.STATE)ye.STATE[ye.STATE[Mt]]=Mt;function He(E,_,R){E[_]&&E[_](R)}function $e(E,_,R){E.textNode&&Ne(E),He(E,_,R)}function Ne(E){E.textNode=je(E.opt,E.textNode),E.textNode&&He(E,"ontext",E.textNode),E.textNode=""}function je(E,_){return E.trim&&(_=_.trim()),E.normalize&&(_=_.replace(/\s+/g," ")),_}function rt(E,_){return Ne(E),E.trackPosition&&(_+="\nLine: "+E.line+"\nColumn: "+E.column+"\nChar: "+E.c),_=new Error(_),E.error=_,He(E,"onerror",_),E}function Rt(E){return E.sawRoot&&!E.closedRoot&&ut(E,"Unclosed root tag"),E.state!==pe.BEGIN&&E.state!==pe.BEGIN_WHITESPACE&&E.state!==pe.TEXT&&rt(E,"Unexpected end"),Ne(E),E.c="",E.closed=!0,He(E,"onend"),h.call(E,E.strict,E.opt),E}function ut(E,_){if("object"!=typeof E||!(E instanceof h))throw new Error("bad call to strictFail");E.strict&&rt(E,_)}function ke(E){E.strict||(E.tagName=E.tagName[E.looseCase]());var _=E.tags[E.tags.length-1]||E,R=E.tag={name:E.tagName,attributes:{}};E.opt.xmlns&&(R.ns=_.ns),E.attribList.length=0,$e(E,"onopentagstart",R)}function ht(E,_){var R=E.indexOf(":")<0?["",E]:E.split(":"),x=R[0],ue=R[1];return _&&"xmlns"===E&&(x="xmlns",ue=""),{prefix:x,local:ue}}function kt(E){if(E.strict||(E.attribName=E.attribName[E.looseCase]()),-1!==E.attribList.indexOf(E.attribName)||E.tag.attributes.hasOwnProperty(E.attribName))E.attribName=E.attribValue="";else{if(E.opt.xmlns){var _=ht(E.attribName,!0),x=_.local;if("xmlns"===_.prefix)if("xml"===x&&E.attribValue!==w)ut(E,"xml: prefix must be bound to "+w+"\nActual: "+E.attribValue);else if("xmlns"===x&&E.attribValue!==q)ut(E,"xmlns: prefix must be bound to "+q+"\nActual: "+E.attribValue);else{var ue=E.tag,oe=E.tags[E.tags.length-1]||E;ue.ns===oe.ns&&(ue.ns=Object.create(oe.ns)),ue.ns[x]=E.attribValue}E.attribList.push([E.attribName,E.attribValue])}else E.tag.attributes[E.attribName]=E.attribValue,$e(E,"onattribute",{name:E.attribName,value:E.attribValue});E.attribName=E.attribValue=""}}function We(E,_){if(E.opt.xmlns){var R=E.tag,x=ht(E.tagName);R.prefix=x.prefix,R.local=x.local,R.uri=R.ns[x.prefix]||"",R.prefix&&!R.uri&&(ut(E,"Unbound namespace prefix: "+JSON.stringify(E.tagName)),R.uri=x.prefix),R.ns&&(E.tags[E.tags.length-1]||E).ns!==R.ns&&Object.keys(R.ns).forEach(function(St){$e(E,"onopennamespace",{prefix:St,uri:R.ns[St]})});for(var oe=0,xe=E.attribList.length;oe<xe;oe++){var Ye=E.attribList[oe],Ke=Ye[0],Le=Ye[1],tt=ht(Ke,!0),it=tt.prefix,Xe=""===it?"":R.ns[it]||"",Qe={name:Ke,value:Le,prefix:it,local:tt.local,uri:Xe};it&&"xmlns"!==it&&!Xe&&(ut(E,"Unbound namespace prefix: "+JSON.stringify(it)),Qe.uri=it),E.tag.attributes[Ke]=Qe,$e(E,"onattribute",Qe)}E.attribList.length=0}E.tag.isSelfClosing=!!_,E.sawRoot=!0,E.tags.push(E.tag),$e(E,"onopentag",E.tag),_||(E.state=E.noscript||"script"!==E.tagName.toLowerCase()?pe.TEXT:pe.SCRIPT,E.tag=null,E.tagName=""),E.attribName=E.attribValue="",E.attribList.length=0}function dt(E){if(!E.tagName)return ut(E,"Weird empty close tag."),E.textNode+="</>",void(E.state=pe.TEXT);if(E.script){if("script"!==E.tagName)return E.script+="</"+E.tagName+">",E.tagName="",void(E.state=pe.SCRIPT);$e(E,"onscript",E.script),E.script=""}var _=E.tags.length,R=E.tagName;E.strict||(R=R[E.looseCase]());for(var x=R;_--&&E.tags[_].name!==x;)ut(E,"Unexpected close tag");if(_<0)return ut(E,"Unmatched closing tag: "+E.tagName),E.textNode+="</"+E.tagName+">",void(E.state=pe.TEXT);E.tagName=R;for(var ue=E.tags.length;ue-- >_;){var oe=E.tag=E.tags.pop();E.tagName=E.tag.name,$e(E,"onclosetag",E.tagName);var xe={};for(var Ye in oe.ns)xe[Ye]=oe.ns[Ye];E.opt.xmlns&&oe.ns!==(E.tags[E.tags.length-1]||E).ns&&Object.keys(oe.ns).forEach(function(Le){$e(E,"onclosenamespace",{prefix:Le,uri:oe.ns[Le]})})}0===_&&(E.closedRoot=!0),E.tagName=E.attribValue=E.attribName="",E.attribList.length=0,E.state=pe.TEXT}function Ce(E){var _,R=E.entity,x=R.toLowerCase(),ue="";return E.ENTITIES[R]?E.ENTITIES[R]:E.ENTITIES[x]?E.ENTITIES[x]:("#"===(R=x).charAt(0)&&("x"===R.charAt(1)?(R=R.slice(2),ue=(_=parseInt(R,16)).toString(16)):(R=R.slice(1),ue=(_=parseInt(R,10)).toString(10))),R=R.replace(/^0+/,""),ue.toLowerCase()!==R?(ut(E,"Invalid character entity"),"&"+E.entity+";"):String.fromCodePoint(_))}function _e(E,_){"<"===_?(E.state=pe.OPEN_WAKA,E.startTagPosition=E.position):de(g,_)&&(ut(E,"Non-whitespace before first tag."),E.textNode=_,E.state=pe.TEXT)}function at(E,_){var R="";return _<E.length&&(R=E.charAt(_)),R}pe=ye.STATE,String.fromCodePoint||(ce=String.fromCharCode,qe=Math.floor,ot=function(){var E,x=[],ue=-1,oe=arguments.length;if(!oe)return"";for(var xe="";++ue<oe;){var Ye=Number(arguments[ue]);if(!isFinite(Ye)||Ye<0||Ye>1114111||qe(Ye)!==Ye)throw RangeError("Invalid code point: "+Ye);Ye<=65535?x.push(Ye):(E=55296+((Ye-=65536)>>10),x.push(E,Ye%1024+56320)),(ue+1===oe||x.length>16384)&&(xe+=ce.apply(null,x),x.length=0)}return xe},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ot,configurable:!0,writable:!0}):String.fromCodePoint=ot)}(Ze)},182:(At,Ze,F)=>{At.exports=P;var ye=F(1159).EventEmitter;function P(){ye.call(this)}F(1765)(P,ye),P.Readable=F(2846),P.Writable=F(8318),P.Duplex=F(6138),P.Transform=F(9798),P.PassThrough=F(5472),P.finished=F(8800),P.pipeline=F(7295),P.Stream=P,P.prototype.pipe=function(f,h){var O=this;function S(q){f.writable&&!1===f.write(q)&&O.pause&&O.pause()}function g(){O.readable&&O.resume&&O.resume()}O.on("data",S),f.on("drain",g),f._isStdio||h&&!1===h.end||(O.on("end",M),O.on("close",p));var C=!1;function M(){C||(C=!0,f.end())}function p(){C||(C=!0,"function"==typeof f.destroy&&f.destroy())}function y(q){if(w(),0===ye.listenerCount(this,"error"))throw q}function w(){O.removeListener("data",S),f.removeListener("drain",g),O.removeListener("end",M),O.removeListener("close",p),O.removeListener("error",y),f.removeListener("error",y),O.removeListener("end",w),O.removeListener("close",w),f.removeListener("close",w)}return O.on("error",y),f.on("error",y),O.on("end",w),O.on("close",w),f.on("close",w),f.emit("pipe",O),f}},1765:At=>{At.exports="function"==typeof Object.create?function(Ze,F){F&&(Ze.super_=F,Ze.prototype=Object.create(F.prototype,{constructor:{value:Ze,enumerable:!1,writable:!0,configurable:!0}}))}:function(Ze,F){if(F){Ze.super_=F;var ye=function(){};ye.prototype=F.prototype,Ze.prototype=new ye,Ze.prototype.constructor=Ze}}},3690:At=>{"use strict";var Ze={};function F(P,f,h){h||(h=Error);var O=function(S){var g,C;function M(p,y,w){return S.call(this,"string"==typeof f?f:f(p,y,w))||this}return C=S,(g=M).prototype=Object.create(C.prototype),g.prototype.constructor=g,g.__proto__=C,M}(h);O.prototype.name=h.name,O.prototype.code=P,Ze[P]=O}function ye(P,f){if(Array.isArray(P)){var h=P.length;return P=P.map(function(O){return String(O)}),h>2?"one of ".concat(f," ").concat(P.slice(0,h-1).join(", "),", or ")+P[h-1]:2===h?"one of ".concat(f," ").concat(P[0]," or ").concat(P[1]):"of ".concat(f," ").concat(P[0])}return"of ".concat(f," ").concat(String(P))}F("ERR_INVALID_OPT_VALUE",function(P,f){return'The value "'+f+'" is invalid for option "'+P+'"'},TypeError),F("ERR_INVALID_ARG_TYPE",function(P,f,h){var O,g,C,M,y,q;if("string"==typeof f&&"not "===f.substr(0,4)?(O="must not be",f=f.replace(/^not /,"")):O="must be",y=P,(void 0===q||q>y.length)&&(q=y.length)," argument"===y.substring(q-9,q))g="The ".concat(P," ").concat(O," ").concat(ye(f,"type"));else{var p=("number"!=typeof M&&(M=0),M+1>(C=P).length||-1===C.indexOf(".",M)?"argument":"property");g='The "'.concat(P,'" ').concat(p," ").concat(O," ").concat(ye(f,"type"))}return g+". Received type ".concat(typeof h)},TypeError),F("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),F("ERR_METHOD_NOT_IMPLEMENTED",function(P){return"The "+P+" method is not implemented"}),F("ERR_STREAM_PREMATURE_CLOSE","Premature close"),F("ERR_STREAM_DESTROYED",function(P){return"Cannot call "+P+" after a stream was destroyed"}),F("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),F("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),F("ERR_STREAM_WRITE_AFTER_END","write after end"),F("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),F("ERR_UNKNOWN_ENCODING",function(P){return"Unknown encoding: "+P},TypeError),F("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),At.exports.q=Ze},6138:(At,Ze,F)=>{"use strict";var ye=Object.keys||function(p){var y=[];for(var w in p)y.push(w);return y};At.exports=g;var P=F(2846),f=F(8318);F(1765)(g,P);for(var h=ye(f.prototype),O=0;O<h.length;O++){var S=h[O];g.prototype[S]||(g.prototype[S]=f.prototype[S])}function g(p){if(!(this instanceof g))return new g(p);P.call(this,p),f.call(this,p),this.allowHalfOpen=!0,p&&(!1===p.readable&&(this.readable=!1),!1===p.writable&&(this.writable=!1),!1===p.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",C)))}function C(){this._writableState.ended||process.nextTick(M,this)}function M(p){p.end()}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})},5472:(At,Ze,F)=>{"use strict";At.exports=P;var ye=F(9798);function P(f){if(!(this instanceof P))return new P(f);ye.call(this,f)}F(1765)(P,ye),P.prototype._transform=function(f,h,O){O(null,f)}},2846:(At,Ze,F)=>{"use strict";var ye;At.exports=ce,ce.ReadableState=de,F(1159);var P,f=function(Ce,_e){return Ce.listeners(_e).length},h=F(9299),O=F(1549).Buffer,S=F.g.Uint8Array||function(){},g=F(964);P=g&&g.debuglog?g.debuglog("stream"):function(){};var C,M,p,y=F(8393),w=F(6163),q=F(7269).getHighWaterMark,W=F(3690).q,ne=W.ERR_INVALID_ARG_TYPE,J=W.ERR_STREAM_PUSH_AFTER_EOF,se=W.ERR_METHOD_NOT_IMPLEMENTED,H=W.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;F(1765)(ce,h);var k=w.errorOrDestroy,K=["error","close","destroy","pause","resume"];function de(Ce,_e,at){ye=ye||F(6138),"boolean"!=typeof at&&(at=_e instanceof ye),this.objectMode=!!(Ce=Ce||{}).objectMode,at&&(this.objectMode=this.objectMode||!!Ce.readableObjectMode),this.highWaterMark=q(this,Ce,"readableHighWaterMark",at),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Ce.emitClose,this.autoDestroy=!!Ce.autoDestroy,this.destroyed=!1,this.defaultEncoding=Ce.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ce.encoding&&(C||(C=F(7503).s),this.decoder=new C(Ce.encoding),this.encoding=Ce.encoding)}function ce(Ce){if(ye=ye||F(6138),!(this instanceof ce))return new ce(Ce);this._readableState=new de(Ce,this,this instanceof ye),this.readable=!0,Ce&&("function"==typeof Ce.read&&(this._read=Ce.read),"function"==typeof Ce.destroy&&(this._destroy=Ce.destroy)),h.call(this)}function qe(Ce,_e,at,E,_){P("readableAddChunk",_e);var R,ue,oe,xe,Ye,x=Ce._readableState;if(null===_e)x.reading=!1,function(ue,oe){if(P("onEofChunk"),!oe.ended){if(oe.decoder){var xe=oe.decoder.end();xe&&xe.length&&(oe.buffer.push(xe),oe.length+=oe.objectMode?1:xe.length)}oe.ended=!0,oe.sync?He(ue):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,$e(ue)))}}(Ce,x);else if(_||(ue=x,O.isBuffer(Ye=oe=_e)||Ye instanceof S||"string"==typeof oe||void 0===oe||ue.objectMode||(xe=new ne("chunk",["string","Buffer","Uint8Array"],oe)),R=xe),R)k(Ce,R);else if(x.objectMode||_e&&_e.length>0)if("string"==typeof _e||x.objectMode||Object.getPrototypeOf(_e)===O.prototype||(_e=function(ue){return O.from(ue)}(_e)),E)x.endEmitted?k(Ce,new H):ot(Ce,x,_e,!0);else if(x.ended)k(Ce,new J);else{if(x.destroyed)return!1;x.reading=!1,x.decoder&&!at?(_e=x.decoder.write(_e),x.objectMode||0!==_e.length?ot(Ce,x,_e,!1):Ne(Ce,x)):ot(Ce,x,_e,!1)}else E||(x.reading=!1,Ne(Ce,x));return!x.ended&&(x.length<x.highWaterMark||0===x.length)}function ot(Ce,_e,at,E){_e.flowing&&0===_e.length&&!_e.sync?(_e.awaitDrain=0,Ce.emit("data",at)):(_e.length+=_e.objectMode?1:at.length,E?_e.buffer.unshift(at):_e.buffer.push(at),_e.needReadable&&He(Ce)),Ne(Ce,_e)}Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Ce){this._readableState&&(this._readableState.destroyed=Ce)}}),ce.prototype.destroy=w.destroy,ce.prototype._undestroy=w.undestroy,ce.prototype._destroy=function(Ce,_e){_e(Ce)},ce.prototype.push=function(Ce,_e){var at,E=this._readableState;return E.objectMode?at=!0:"string"==typeof Ce&&((_e=_e||E.defaultEncoding)!==E.encoding&&(Ce=O.from(Ce,_e),_e=""),at=!0),qe(this,Ce,_e,!1,at)},ce.prototype.unshift=function(Ce){return qe(this,Ce,null,!0,!1)},ce.prototype.isPaused=function(){return!1===this._readableState.flowing},ce.prototype.setEncoding=function(Ce){C||(C=F(7503).s);var _e=new C(Ce);this._readableState.decoder=_e,this._readableState.encoding=this._readableState.decoder.encoding;for(var at=this._readableState.buffer.head,E="";null!==at;)E+=_e.write(at.data),at=at.next;return this._readableState.buffer.clear(),""!==E&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var pe=1073741824;function Mt(Ce,_e){return Ce<=0||0===_e.length&&_e.ended?0:_e.objectMode?1:Ce!=Ce?_e.flowing&&_e.length?_e.buffer.head.data.length:_e.length:(Ce>_e.highWaterMark&&(_e.highWaterMark=((at=Ce)>=pe?at=pe:(at--,at|=at>>>1,at|=at>>>2,at|=at>>>4,at|=at>>>8,at|=at>>>16,at++),at)),Ce<=_e.length?Ce:_e.ended?_e.length:(_e.needReadable=!0,0));var at}function He(Ce){var _e=Ce._readableState;P("emitReadable",_e.needReadable,_e.emittedReadable),_e.needReadable=!1,_e.emittedReadable||(P("emitReadable",_e.flowing),_e.emittedReadable=!0,process.nextTick($e,Ce))}function $e(Ce){var _e=Ce._readableState;P("emitReadable_",_e.destroyed,_e.length,_e.ended),_e.destroyed||!_e.length&&!_e.ended||(Ce.emit("readable"),_e.emittedReadable=!1),_e.needReadable=!_e.flowing&&!_e.ended&&_e.length<=_e.highWaterMark,ke(Ce)}function Ne(Ce,_e){_e.readingMore||(_e.readingMore=!0,process.nextTick(je,Ce,_e))}function je(Ce,_e){for(;!_e.reading&&!_e.ended&&(_e.length<_e.highWaterMark||_e.flowing&&0===_e.length);){var at=_e.length;if(P("maybeReadMore read 0"),Ce.read(0),at===_e.length)break}_e.readingMore=!1}function rt(Ce){var _e=Ce._readableState;_e.readableListening=Ce.listenerCount("readable")>0,_e.resumeScheduled&&!_e.paused?_e.flowing=!0:Ce.listenerCount("data")>0&&Ce.resume()}function Rt(Ce){P("readable nexttick read 0"),Ce.read(0)}function ut(Ce,_e){P("resume",_e.reading),_e.reading||Ce.read(0),_e.resumeScheduled=!1,Ce.emit("resume"),ke(Ce),_e.flowing&&!_e.reading&&Ce.read(0)}function ke(Ce){var _e=Ce._readableState;for(P("flow",_e.flowing);_e.flowing&&null!==Ce.read(););}function ht(Ce,_e){return 0===_e.length?null:(_e.objectMode?at=_e.buffer.shift():!Ce||Ce>=_e.length?(at=_e.decoder?_e.buffer.join(""):1===_e.buffer.length?_e.buffer.first():_e.buffer.concat(_e.length),_e.buffer.clear()):at=_e.buffer.consume(Ce,_e.decoder),at);var at}function kt(Ce){var _e=Ce._readableState;P("endReadable",_e.endEmitted),_e.endEmitted||(_e.ended=!0,process.nextTick(We,_e,Ce))}function We(Ce,_e){if(P("endReadableNT",Ce.endEmitted,Ce.length),!Ce.endEmitted&&0===Ce.length&&(Ce.endEmitted=!0,_e.readable=!1,_e.emit("end"),Ce.autoDestroy)){var at=_e._writableState;(!at||at.autoDestroy&&at.finished)&&_e.destroy()}}function dt(Ce,_e){for(var at=0,E=Ce.length;at<E;at++)if(Ce[at]===_e)return at;return-1}ce.prototype.read=function(Ce){P("read",Ce),Ce=parseInt(Ce,10);var _e=this._readableState,at=Ce;if(0!==Ce&&(_e.emittedReadable=!1),0===Ce&&_e.needReadable&&((0!==_e.highWaterMark?_e.length>=_e.highWaterMark:_e.length>0)||_e.ended))return P("read: emitReadable",_e.length,_e.ended),0===_e.length&&_e.ended?kt(this):He(this),null;if(0===(Ce=Mt(Ce,_e))&&_e.ended)return 0===_e.length&&kt(this),null;var E,_=_e.needReadable;return P("need readable",_),(0===_e.length||_e.length-Ce<_e.highWaterMark)&&P("length less than watermark",_=!0),_e.ended||_e.reading?P("reading or ended",_=!1):_&&(P("do read"),_e.reading=!0,_e.sync=!0,0===_e.length&&(_e.needReadable=!0),this._read(_e.highWaterMark),_e.sync=!1,_e.reading||(Ce=Mt(at,_e))),null===(E=Ce>0?ht(Ce,_e):null)?(_e.needReadable=_e.length<=_e.highWaterMark,Ce=0):(_e.length-=Ce,_e.awaitDrain=0),0===_e.length&&(_e.ended||(_e.needReadable=!0),at!==Ce&&_e.ended&&kt(this)),null!==E&&this.emit("data",E),E},ce.prototype._read=function(Ce){k(this,new se("_read()"))},ce.prototype.pipe=function(Ce,_e){var at=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=Ce;break;case 1:E.pipes=[E.pipes,Ce];break;default:E.pipes.push(Ce)}E.pipesCount+=1,P("pipe count=%d opts=%j",E.pipesCount,_e);var _=_e&&!1===_e.end||Ce===process.stdout||Ce===process.stderr?Le:R;function R(){P("onend"),Ce.end()}E.endEmitted?process.nextTick(_):at.once("end",_),Ce.on("unpipe",function tt(it,Re){P("onunpipe"),it===at&&Re&&!1===Re.hasUnpiped&&(Re.hasUnpiped=!0,P("cleanup"),Ce.removeListener("close",Ye),Ce.removeListener("finish",Ke),Ce.removeListener("drain",x),Ce.removeListener("error",xe),Ce.removeListener("unpipe",tt),at.removeListener("end",R),at.removeListener("end",Le),at.removeListener("data",oe),ue=!0,!E.awaitDrain||Ce._writableState&&!Ce._writableState.needDrain||x())});var tt,x=(tt=at,function(){var it=tt._readableState;P("pipeOnDrain",it.awaitDrain),it.awaitDrain&&it.awaitDrain--,0===it.awaitDrain&&f(tt,"data")&&(it.flowing=!0,ke(tt))});Ce.on("drain",x);var ue=!1;function oe(tt){P("ondata");var it=Ce.write(tt);P("dest.write",it),!1===it&&((1===E.pipesCount&&E.pipes===Ce||E.pipesCount>1&&-1!==dt(E.pipes,Ce))&&!ue&&(P("false write response, pause",E.awaitDrain),E.awaitDrain++),at.pause())}function xe(tt){P("onerror",tt),Le(),Ce.removeListener("error",xe),0===f(Ce,"error")&&k(Ce,tt)}function Ye(){Ce.removeListener("finish",Ke),Le()}function Ke(){P("onfinish"),Ce.removeListener("close",Ye),Le()}function Le(){P("unpipe"),at.unpipe(Ce)}return at.on("data",oe),function(tt,it,Re){if("function"==typeof tt.prependListener)return tt.prependListener(it,Re);tt._events&&tt._events[it]?Array.isArray(tt._events[it])?tt._events[it].unshift(Re):tt._events[it]=[Re,tt._events[it]]:tt.on(it,Re)}(Ce,"error",xe),Ce.once("close",Ye),Ce.once("finish",Ke),Ce.emit("pipe",at),E.flowing||(P("pipe resume"),at.resume()),Ce},ce.prototype.unpipe=function(Ce){var _e=this._readableState,at={hasUnpiped:!1};if(0===_e.pipesCount)return this;if(1===_e.pipesCount)return Ce&&Ce!==_e.pipes||(Ce||(Ce=_e.pipes),_e.pipes=null,_e.pipesCount=0,_e.flowing=!1,Ce&&Ce.emit("unpipe",this,at)),this;if(!Ce){var E=_e.pipes,_=_e.pipesCount;_e.pipes=null,_e.pipesCount=0,_e.flowing=!1;for(var R=0;R<_;R++)E[R].emit("unpipe",this,{hasUnpiped:!1});return this}var x=dt(_e.pipes,Ce);return-1===x||(_e.pipes.splice(x,1),_e.pipesCount-=1,1===_e.pipesCount&&(_e.pipes=_e.pipes[0]),Ce.emit("unpipe",this,at)),this},ce.prototype.addListener=ce.prototype.on=function(Ce,_e){var at=h.prototype.on.call(this,Ce,_e),E=this._readableState;return"data"===Ce?(E.readableListening=this.listenerCount("readable")>0,!1!==E.flowing&&this.resume()):"readable"===Ce&&(E.endEmitted||E.readableListening||(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,P("on readable",E.length,E.reading),E.length?He(this):E.reading||process.nextTick(Rt,this))),at},ce.prototype.removeListener=function(Ce,_e){var at=h.prototype.removeListener.call(this,Ce,_e);return"readable"===Ce&&process.nextTick(rt,this),at},ce.prototype.removeAllListeners=function(Ce){var _e=h.prototype.removeAllListeners.apply(this,arguments);return"readable"!==Ce&&void 0!==Ce||process.nextTick(rt,this),_e},ce.prototype.resume=function(){var at,Ce=this._readableState;return Ce.flowing||(P("resume"),Ce.flowing=!Ce.readableListening,(at=Ce).resumeScheduled||(at.resumeScheduled=!0,process.nextTick(ut,this,at))),Ce.paused=!1,this},ce.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ce.prototype.wrap=function(Ce){var _e=this,at=this._readableState,E=!1;for(var _ in Ce.on("end",function(){if(P("wrapped end"),at.decoder&&!at.ended){var x=at.decoder.end();x&&x.length&&_e.push(x)}_e.push(null)}),Ce.on("data",function(x){P("wrapped data"),at.decoder&&(x=at.decoder.write(x)),at.objectMode&&null==x||(at.objectMode||x&&x.length)&&(_e.push(x)||(E=!0,Ce.pause()))}),Ce)void 0===this[_]&&"function"==typeof Ce[_]&&(this[_]=function(x){return function(){return Ce[x].apply(Ce,arguments)}}(_));for(var R=0;R<K.length;R++)Ce.on(K[R],this.emit.bind(this,K[R]));return this._read=function(x){P("wrapped _read",x),E&&(E=!1,Ce.resume())},this},"function"==typeof Symbol&&(ce.prototype[Symbol.asyncIterator]=function(){return void 0===M&&(M=F(7299)),M(this)}),Object.defineProperty(ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ce.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ce.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ce){this._readableState&&(this._readableState.flowing=Ce)}}),ce._fromList=ht,Object.defineProperty(ce.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ce.from=function(Ce,_e){return void 0===p&&(p=F(6233)),p(ce,Ce,_e)})},9798:(At,Ze,F)=>{"use strict";At.exports=C;var ye=F(3690).q,P=ye.ERR_METHOD_NOT_IMPLEMENTED,f=ye.ERR_MULTIPLE_CALLBACK,h=ye.ERR_TRANSFORM_ALREADY_TRANSFORMING,O=ye.ERR_TRANSFORM_WITH_LENGTH_0,S=F(6138);function g(y,w){var q=this._transformState;q.transforming=!1;var W=q.writecb;if(null===W)return this.emit("error",new f);q.writechunk=null,q.writecb=null,null!=w&&this.push(w),W(y);var ne=this._readableState;ne.reading=!1,(ne.needReadable||ne.length<ne.highWaterMark)&&this._read(ne.highWaterMark)}function C(y){if(!(this instanceof C))return new C(y);S.call(this,y),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&("function"==typeof y.transform&&(this._transform=y.transform),"function"==typeof y.flush&&(this._flush=y.flush)),this.on("prefinish",M)}function M(){var y=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush(function(w,q){p(y,w,q)})}function p(y,w,q){if(w)return y.emit("error",w);if(null!=q&&y.push(q),y._writableState.length)throw new O;if(y._transformState.transforming)throw new h;return y.push(null)}F(1765)(C,S),C.prototype.push=function(y,w){return this._transformState.needTransform=!1,S.prototype.push.call(this,y,w)},C.prototype._transform=function(y,w,q){q(new P("_transform()"))},C.prototype._write=function(y,w,q){var W=this._transformState;if(W.writecb=q,W.writechunk=y,W.writeencoding=w,!W.transforming){var ne=this._readableState;(W.needTransform||ne.needReadable||ne.length<ne.highWaterMark)&&this._read(ne.highWaterMark)}},C.prototype._read=function(y){var w=this._transformState;null===w.writechunk||w.transforming?w.needTransform=!0:(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform))},C.prototype._destroy=function(y,w){S.prototype._destroy.call(this,y,function(q){w(q)})}},8318:(At,Ze,F)=>{"use strict";function ye(Ne){var je=this;this.next=null,this.entry=null,this.finish=function(){!function(rt,Rt,ut){var ke=rt.entry;for(rt.entry=null;ke;){var ht=ke.callback;Rt.pendingcb--,ht(void 0),ke=ke.next}Rt.corkedRequestsFree.next=rt}(je,Ne)}}var P;At.exports=ce,ce.WritableState=de;var f,h={deprecate:F(7839)},O=F(9299),S=F(1549).Buffer,g=F.g.Uint8Array||function(){},C=F(6163),M=F(7269).getHighWaterMark,p=F(3690).q,y=p.ERR_INVALID_ARG_TYPE,w=p.ERR_METHOD_NOT_IMPLEMENTED,q=p.ERR_MULTIPLE_CALLBACK,W=p.ERR_STREAM_CANNOT_PIPE,ne=p.ERR_STREAM_DESTROYED,J=p.ERR_STREAM_NULL_VALUES,se=p.ERR_STREAM_WRITE_AFTER_END,H=p.ERR_UNKNOWN_ENCODING,k=C.errorOrDestroy;function K(){}function de(Ne,je,rt){P=P||F(6138),"boolean"!=typeof rt&&(rt=je instanceof P),this.objectMode=!!(Ne=Ne||{}).objectMode,rt&&(this.objectMode=this.objectMode||!!Ne.writableObjectMode),this.highWaterMark=M(this,Ne,"writableHighWaterMark",rt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ne.decodeStrings),this.defaultEncoding=Ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ut){!function(ke,ht){var _e,kt=ke._writableState,We=kt.sync,dt=kt.writecb;if("function"!=typeof dt)throw new q;if((_e=kt).writing=!1,_e.writecb=null,_e.length-=_e.writelen,_e.writelen=0,ht)!function(_e,at,E,_,R){--at.pendingcb,E?(process.nextTick(R,_),process.nextTick($e,_e,at),_e._writableState.errorEmitted=!0,k(_e,_)):(R(_),_e._writableState.errorEmitted=!0,k(_e,_),$e(_e,at))}(ke,kt,We,ht,dt);else{var Ce=Mt(kt)||ke.destroyed;Ce||kt.corked||kt.bufferProcessing||!kt.bufferedRequest||pe(ke,kt),We?process.nextTick(ot,ke,kt,Ce,dt):ot(ke,kt,Ce,dt)}}(je,ut)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ne.emitClose,this.autoDestroy=!!Ne.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ye(this)}function ce(Ne){var je=this instanceof(P=P||F(6138));if(!je&&!f.call(ce,this))return new ce(Ne);this._writableState=new de(Ne,this,je),this.writable=!0,Ne&&("function"==typeof Ne.write&&(this._write=Ne.write),"function"==typeof Ne.writev&&(this._writev=Ne.writev),"function"==typeof Ne.destroy&&(this._destroy=Ne.destroy),"function"==typeof Ne.final&&(this._final=Ne.final)),O.call(this)}function qe(Ne,je,rt,Rt,ut,ke,ht){je.writelen=Rt,je.writecb=ht,je.writing=!0,je.sync=!0,je.destroyed?je.onwrite(new ne("write")):rt?Ne._writev(ut,je.onwrite):Ne._write(ut,ke,je.onwrite),je.sync=!1}function ot(Ne,je,rt,Rt){var ut,ke;rt||(ut=Ne,0===(ke=je).length&&ke.needDrain&&(ke.needDrain=!1,ut.emit("drain"))),je.pendingcb--,Rt(),$e(Ne,je)}function pe(Ne,je){je.bufferProcessing=!0;var rt=je.bufferedRequest;if(Ne._writev&&rt&&rt.next){var ut=new Array(je.bufferedRequestCount),ke=je.corkedRequestsFree;ke.entry=rt;for(var ht=0,kt=!0;rt;)ut[ht]=rt,rt.isBuf||(kt=!1),rt=rt.next,ht+=1;ut.allBuffers=kt,qe(Ne,je,!0,je.length,ut,"",ke.finish),je.pendingcb++,je.lastBufferedRequest=null,ke.next?(je.corkedRequestsFree=ke.next,ke.next=null):je.corkedRequestsFree=new ye(je),je.bufferedRequestCount=0}else{for(;rt;){var We=rt.chunk;if(qe(Ne,je,!1,je.objectMode?1:We.length,We,rt.encoding,rt.callback),rt=rt.next,je.bufferedRequestCount--,je.writing)break}null===rt&&(je.lastBufferedRequest=null)}je.bufferedRequest=rt,je.bufferProcessing=!1}function Mt(Ne){return Ne.ending&&0===Ne.length&&null===Ne.bufferedRequest&&!Ne.finished&&!Ne.writing}function He(Ne,je){Ne._final(function(rt){je.pendingcb--,rt&&k(Ne,rt),je.prefinished=!0,Ne.emit("prefinish"),$e(Ne,je)})}function $e(Ne,je){var ut,ke,rt=Mt(je);if(rt&&(ut=Ne,(ke=je).prefinished||ke.finalCalled||("function"!=typeof ut._final||ke.destroyed?(ke.prefinished=!0,ut.emit("prefinish")):(ke.pendingcb++,ke.finalCalled=!0,process.nextTick(He,ut,ke))),0===je.pendingcb&&(je.finished=!0,Ne.emit("finish"),je.autoDestroy))){var Rt=Ne._readableState;(!Rt||Rt.autoDestroy&&Rt.endEmitted)&&Ne.destroy()}return rt}F(1765)(ce,O),de.prototype.getBuffer=function(){for(var Ne=this.bufferedRequest,je=[];Ne;)je.push(Ne),Ne=Ne.next;return je},function(){try{Object.defineProperty(de.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(ce,Symbol.hasInstance,{value:function(Ne){return!!f.call(this,Ne)||this===ce&&Ne&&Ne._writableState instanceof de}})):f=function(Ne){return Ne instanceof this},ce.prototype.pipe=function(){k(this,new W)},ce.prototype.write=function(Ne,je,rt){var Rt,kt,We,dt,ut=this._writableState,ke=!1,ht=!ut.objectMode&&(S.isBuffer(Rt=Ne)||Rt instanceof g);return ht&&!S.isBuffer(Ne)&&(Ne=S.from(Ne)),"function"==typeof je&&(rt=je,je=null),ht?je="buffer":je||(je=ut.defaultEncoding),"function"!=typeof rt&&(rt=K),ut.ending?(kt=this,We=rt,dt=new se,k(kt,dt),process.nextTick(We,dt)):(ht||function(kt,We,dt,Ce){var _e;return null===dt?_e=new J:"string"==typeof dt||We.objectMode||(_e=new y("chunk",["string","Buffer"],dt)),!_e||(k(kt,_e),process.nextTick(Ce,_e),!1)}(this,ut,Ne,rt))&&(ut.pendingcb++,ke=function(kt,We,dt,Ce,_e,at){if(!dt){var E=(oe=Ce,(ue=We).objectMode||!1===ue.decodeStrings||"string"!=typeof oe||(oe=S.from(oe,_e)),oe);Ce!==E&&(dt=!0,_e="buffer",Ce=E)}var ue,oe,_=We.objectMode?1:Ce.length;We.length+=_;var R=We.length<We.highWaterMark;if(R||(We.needDrain=!0),We.writing||We.corked){var x=We.lastBufferedRequest;We.lastBufferedRequest={chunk:Ce,encoding:_e,isBuf:dt,callback:at,next:null},x?x.next=We.lastBufferedRequest:We.bufferedRequest=We.lastBufferedRequest,We.bufferedRequestCount+=1}else qe(kt,We,!1,_,Ce,_e,at);return R}(this,ut,ht,Ne,je,rt)),ke},ce.prototype.cork=function(){this._writableState.corked++},ce.prototype.uncork=function(){var Ne=this._writableState;Ne.corked&&(Ne.corked--,Ne.writing||Ne.corked||Ne.bufferProcessing||!Ne.bufferedRequest||pe(this,Ne))},ce.prototype.setDefaultEncoding=function(Ne){if("string"==typeof Ne&&(Ne=Ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ne+"").toLowerCase())>-1))throw new H(Ne);return this._writableState.defaultEncoding=Ne,this},Object.defineProperty(ce.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ce.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ce.prototype._write=function(Ne,je,rt){rt(new w("_write()"))},ce.prototype._writev=null,ce.prototype.end=function(Ne,je,rt){var ke,ht,Rt=this._writableState;return"function"==typeof Ne?(rt=Ne,Ne=null,je=null):"function"==typeof je&&(rt=je,je=null),null!=Ne&&this.write(Ne,je),Rt.corked&&(Rt.corked=1,this.uncork()),Rt.ending||(ht=rt,(ke=Rt).ending=!0,$e(this,ke),ht&&(ke.finished?process.nextTick(ht):this.once("finish",ht)),ke.ended=!0,this.writable=!1),this},Object.defineProperty(ce.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ce.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ne){this._writableState&&(this._writableState.destroyed=Ne)}}),ce.prototype.destroy=C.destroy,ce.prototype._undestroy=C.undestroy,ce.prototype._destroy=function(Ne,je){je(Ne)}},7299:(At,Ze,F)=>{"use strict";var ye;function P(J,se,H){return se in J?Object.defineProperty(J,se,{value:H,enumerable:!0,configurable:!0,writable:!0}):J[se]=H,J}var f=F(8800),h=Symbol("lastResolve"),O=Symbol("lastReject"),S=Symbol("error"),g=Symbol("ended"),C=Symbol("lastPromise"),M=Symbol("handlePromise"),p=Symbol("stream");function y(J,se){return{value:J,done:se}}function w(J){var se=J[h];if(null!==se){var H=J[p].read();null!==H&&(J[C]=null,J[h]=null,J[O]=null,se(y(H,!1)))}}function q(J){process.nextTick(w,J)}var W=Object.getPrototypeOf(function(){}),ne=Object.setPrototypeOf((P(ye={get stream(){return this[p]},next:function(){var J=this,se=this[S];if(null!==se)return Promise.reject(se);if(this[g])return Promise.resolve(y(void 0,!0));if(this[p].destroyed)return new Promise(function(de,ce){process.nextTick(function(){J[S]?ce(J[S]):de(y(void 0,!0))})});var H,de,ce,k=this[C];if(k)H=new Promise((de=k,ce=this,function(qe,ot){de.then(function(){ce[g]?qe(y(void 0,!0)):ce[M](qe,ot)},ot)}));else{var K=this[p].read();if(null!==K)return Promise.resolve(y(K,!1));H=new Promise(this[M])}return this[C]=H,H}},Symbol.asyncIterator,function(){return this}),P(ye,"return",function(){var J=this;return new Promise(function(se,H){J[p].destroy(null,function(k){k?H(k):se(y(void 0,!0))})})}),ye),W);At.exports=function(J){var se,H=Object.create(ne,(P(se={},p,{value:J,writable:!0}),P(se,h,{value:null,writable:!0}),P(se,O,{value:null,writable:!0}),P(se,S,{value:null,writable:!0}),P(se,g,{value:J._readableState.endEmitted,writable:!0}),P(se,M,{value:function(k,K){var de=H[p].read();de?(H[C]=null,H[h]=null,H[O]=null,k(y(de,!1))):(H[h]=k,H[O]=K)},writable:!0}),se));return H[C]=null,f(J,function(k){if(k&&"ERR_STREAM_PREMATURE_CLOSE"!==k.code){var K=H[O];return null!==K&&(H[C]=null,H[h]=null,H[O]=null,K(k)),void(H[S]=k)}var de=H[h];null!==de&&(H[C]=null,H[h]=null,H[O]=null,de(y(void 0,!0))),H[g]=!0}),J.on("readable",q.bind(null,H)),H}},8393:(At,Ze,F)=>{"use strict";function ye(g,C){var M=Object.keys(g);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(g);C&&(p=p.filter(function(y){return Object.getOwnPropertyDescriptor(g,y).enumerable})),M.push.apply(M,p)}return M}function P(g,C,M){return C in g?Object.defineProperty(g,C,{value:M,enumerable:!0,configurable:!0,writable:!0}):g[C]=M,g}var h=F(1549).Buffer,O=F(9862).inspect,S=O&&O.custom||"inspect";At.exports=function(){function g(){(function(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")})(this,g),this.head=null,this.tail=null,this.length=0}var M;return M=[{key:"push",value:function(p){var y={data:p,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(p){var y={data:p,next:this.head};0===this.length&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(0!==this.length){var p=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(0===this.length)return"";for(var y=this.head,w=""+y.data;y=y.next;)w+=p+y.data;return w}},{key:"concat",value:function(p){if(0===this.length)return h.alloc(0);for(var W=h.allocUnsafe(p>>>0),ne=this.head,J=0;ne;)h.prototype.copy.call(ne.data,W,J),J+=ne.data.length,ne=ne.next;return W}},{key:"consume",value:function(p,y){var w;return p<this.head.data.length?(w=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):w=p===this.head.data.length?this.shift():y?this._getString(p):this._getBuffer(p),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var y=this.head,w=1,q=y.data;for(p-=q.length;y=y.next;){var W=y.data,ne=p>W.length?W.length:p;if(q+=ne===W.length?W:W.slice(0,p),0==(p-=ne)){ne===W.length?(++w,this.head=y.next?y.next:this.tail=null):(this.head=y,y.data=W.slice(ne));break}++w}return this.length-=w,q}},{key:"_getBuffer",value:function(p){var y=h.allocUnsafe(p),w=this.head,q=1;for(w.data.copy(y),p-=w.data.length;w=w.next;){var W=w.data,ne=p>W.length?W.length:p;if(W.copy(y,y.length-p,0,ne),0==(p-=ne)){ne===W.length?(++q,this.head=w.next?w.next:this.tail=null):(this.head=w,w.data=W.slice(ne));break}++q}return this.length-=q,y}},{key:S,value:function(p,y){return O(this,function(w){for(var q=1;q<arguments.length;q++){var W=null!=arguments[q]?arguments[q]:{};q%2?ye(Object(W),!0).forEach(function(ne){P(w,ne,W[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(W)):ye(Object(W)).forEach(function(ne){Object.defineProperty(w,ne,Object.getOwnPropertyDescriptor(W,ne))})}return w}({},y,{depth:0,customInspect:!1}))}}],M&&function f(g,C){for(var M=0;M<C.length;M++){var p=C[M];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}(g.prototype,M),g}()},6163:At=>{"use strict";function Ze(P,f){ye(P,f),F(P)}function F(P){P._writableState&&!P._writableState.emitClose||P._readableState&&!P._readableState.emitClose||P.emit("close")}function ye(P,f){P.emit("error",f)}At.exports={destroy:function(P,f){var h=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(f?f(P):P&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ye,this,P)):process.nextTick(ye,this,P)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(g){!f&&g?h._writableState?h._writableState.errorEmitted?process.nextTick(F,h):(h._writableState.errorEmitted=!0,process.nextTick(Ze,h,g)):process.nextTick(Ze,h,g):f?(process.nextTick(F,h),f(g)):process.nextTick(F,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(P,f){var h=P._readableState,O=P._writableState;h&&h.autoDestroy||O&&O.autoDestroy?P.destroy(f):P.emit("error",f)}}},8800:(At,Ze,F)=>{"use strict";var ye=F(3690).q.ERR_STREAM_PREMATURE_CLOSE;function P(){}At.exports=function f(h,O,S){if("function"==typeof O)return f(h,null,O);var se,H;O||(O={}),se=S||P,H=!1,S=function(){if(!H){H=!0;for(var k=arguments.length,K=new Array(k),de=0;de<k;de++)K[de]=arguments[de];se.apply(this,K)}};var g=O.readable||!1!==O.readable&&h.readable,C=O.writable||!1!==O.writable&&h.writable,M=function(){h.writable||y()},p=h._writableState&&h._writableState.finished,y=function(){C=!1,p=!0,g||S.call(h)},w=h._readableState&&h._readableState.endEmitted,q=function(){g=!1,w=!0,C||S.call(h)},W=function(se){S.call(h,se)},ne=function(){var se;return g&&!w?(h._readableState&&h._readableState.ended||(se=new ye),S.call(h,se)):C&&!p?(h._writableState&&h._writableState.ended||(se=new ye),S.call(h,se)):void 0},J=function(){h.req.on("finish",y)};return function(se){return se.setHeader&&"function"==typeof se.abort}(h)?(h.on("complete",y),h.on("abort",ne),h.req?J():h.on("request",J)):C&&!h._writableState&&(h.on("end",M),h.on("close",M)),h.on("end",q),h.on("finish",y),!1!==O.error&&h.on("error",W),h.on("close",ne),function(){h.removeListener("complete",y),h.removeListener("abort",ne),h.removeListener("request",J),h.req&&h.req.removeListener("finish",y),h.removeListener("end",M),h.removeListener("close",M),h.removeListener("finish",y),h.removeListener("end",q),h.removeListener("error",W),h.removeListener("close",ne)}}},6233:At=>{At.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:(At,Ze,F)=>{"use strict";var ye,P=F(3690).q,f=P.ERR_MISSING_ARGS,h=P.ERR_STREAM_DESTROYED;function O(p){if(p)throw p}function g(p){p()}function C(p,y){return p.pipe(y)}At.exports=function(){for(var p=arguments.length,y=new Array(p),w=0;w<p;w++)y[w]=arguments[w];var q,W=function M(p){return p.length?"function"!=typeof p[p.length-1]?O:p.pop():O}(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new f("streams");var ne=y.map(function(J,se){var H=se<y.length-1;return function S(p,y,w,q){var J,se;J=q,se=!1,q=function(){se||(se=!0,J.apply(void 0,arguments))};var W=!1;p.on("close",function(){W=!0}),void 0===ye&&(ye=F(8800)),ye(p,{readable:y,writable:w},function(J){if(J)return q(J);W=!0,q()});var ne=!1;return function(J){if(!W&&!ne)return ne=!0,function(se){return se.setHeader&&"function"==typeof se.abort}(p)?p.abort():"function"==typeof p.destroy?p.destroy():void q(J||new h("pipe"))}}(J,H,se>0,function(k){q||(q=k),k&&ne.forEach(g),H||(ne.forEach(g),W(q))})});return y.reduce(C)}},7269:(At,Ze,F)=>{"use strict";var ye=F(3690).q.ERR_INVALID_OPT_VALUE;At.exports={getHighWaterMark:function(P,f,h,O){var g,S=null!=(g=f).highWaterMark?g.highWaterMark:O?g[h]:null;if(null!=S){if(!isFinite(S)||Math.floor(S)!==S||S<0)throw new ye(O?h:"highWaterMark",S);return Math.floor(S)}return P.objectMode?16:16384}}},9299:(At,Ze,F)=>{At.exports=F(1159).EventEmitter},7503:(At,Ze,F)=>{"use strict";var ye=F(8387).Buffer,P=ye.isEncoding||function(w){switch((w=""+w)&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(w){var q;switch(this.encoding=function(W){var ne=function(J){if(!J)return"utf8";for(var se;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(se)return;J=(""+J).toLowerCase(),se=!0}}(W);if("string"!=typeof ne&&(ye.isEncoding===P||!P(W)))throw new Error("Unknown encoding: "+W);return ne||W}(w),this.encoding){case"utf16le":this.text=S,this.end=g,q=4;break;case"utf8":this.fillLast=O,q=4;break;case"base64":this.text=C,this.end=M,q=3;break;default:return this.write=p,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ye.allocUnsafe(q)}function h(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function O(w){var q=this.lastTotal-this.lastNeed,W=function(ne,J,se){if(128!=(192&J[0]))return ne.lastNeed=0,"\ufffd";if(ne.lastNeed>1&&J.length>1){if(128!=(192&J[1]))return ne.lastNeed=1,"\ufffd";if(ne.lastNeed>2&&J.length>2&&128!=(192&J[2]))return ne.lastNeed=2,"\ufffd"}}(this,w);return void 0!==W?W:this.lastNeed<=w.length?(w.copy(this.lastChar,q,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(w.copy(this.lastChar,q,0,w.length),void(this.lastNeed-=w.length))}function S(w,q){if((w.length-q)%2==0){var W=w.toString("utf16le",q);if(W){var ne=W.charCodeAt(W.length-1);if(ne>=55296&&ne<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],W.slice(0,-1)}return W}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",q,w.length-1)}function g(w){var q=w&&w.length?this.write(w):"";return this.lastNeed?q+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):q}function C(w,q){var W=(w.length-q)%3;return 0===W?w.toString("base64",q):(this.lastNeed=3-W,this.lastTotal=3,1===W?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",q,w.length-W))}function M(w){var q=w&&w.length?this.write(w):"";return this.lastNeed?q+this.lastChar.toString("base64",0,3-this.lastNeed):q}function p(w){return w.toString(this.encoding)}function y(w){return w&&w.length?this.write(w):""}Ze.s=f,f.prototype.write=function(w){if(0===w.length)return"";var q,W;if(this.lastNeed){if(void 0===(q=this.fillLast(w)))return"";W=this.lastNeed,this.lastNeed=0}else W=0;return W<w.length?q?q+this.text(w,W):this.text(w,W):q||""},f.prototype.end=function(w){var q=w&&w.length?this.write(w):"";return this.lastNeed?q+"\ufffd":q},f.prototype.text=function(w,q){var W=function(J,se,H){var k=se.length-1;if(k<H)return 0;var K=h(se[k]);return K>=0?(K>0&&(J.lastNeed=K-1),K):--k<H||-2===K?0:(K=h(se[k]))>=0?(K>0&&(J.lastNeed=K-2),K):--k<H||-2===K?0:(K=h(se[k]))>=0?(K>0&&(2===K?K=0:J.lastNeed=K-3),K):0}(this,w,q);if(!this.lastNeed)return w.toString("utf8",q);this.lastTotal=W;var ne=w.length-(W-this.lastNeed);return w.copy(this.lastChar,0,ne),w.toString("utf8",q,ne)},f.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length}},1067:function(At,Ze,F){var ye;!function(P,f){"use strict";var h="function",O="undefined",S="object",g="string",C="model",M="name",p="type",y="vendor",w="version",q="architecture",W="console",ne="mobile",J="tablet",se="smarttv",H="wearable",k="embedded",K="Amazon",de="Apple",qe="BlackBerry",ot="Browser",pe="Chrome",Mt="Firefox",He="Google",je="Microsoft",rt="Motorola",Rt="Opera",ut="Samsung",ke="Sony",kt="Zebra",We="Facebook",dt=function(Ye){for(var Ke={},Le=0;Le<Ye.length;Le++)Ke[Ye[Le].toUpperCase()]=Ye[Le];return Ke},Ce=function(Ye,Ke){return typeof Ye===g&&-1!==_e(Ke).indexOf(_e(Ye))},_e=function(Ye){return Ye.toLowerCase()},at=function(Ye,Ke){if(typeof Ye===g)return Ye=Ye.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Ke===O?Ye:Ye.substring(0,255)},E=function(Ye,Ke){for(var Le,tt,it,Re,Xe,Qe,St=0;St<Ke.length&&!Xe;){var Pt=Ke[St],on=Ke[St+1];for(Le=tt=0;Le<Pt.length&&!Xe;)if(Xe=Pt[Le++].exec(Ye))for(it=0;it<on.length;it++)Qe=Xe[++tt],typeof(Re=on[it])===S&&Re.length>0?2===Re.length?this[Re[0]]=typeof Re[1]==h?Re[1].call(this,Qe):Re[1]:3===Re.length?this[Re[0]]=typeof Re[1]!==h||Re[1].exec&&Re[1].test?Qe?Qe.replace(Re[1],Re[2]):f:Qe?Re[1].call(this,Qe,Re[2]):f:4===Re.length&&(this[Re[0]]=Qe?Re[3].call(this,Qe.replace(Re[1],Re[2])):f):this[Re]=Qe||f;St+=2}},_=function(Ye,Ke){for(var Le in Ke)if(typeof Ke[Le]===S&&Ke[Le].length>0){for(var tt=0;tt<Ke[Le].length;tt++)if(Ce(Ke[Le][tt],Ye))return"?"===Le?f:Le}else if(Ce(Ke[Le],Ye))return"?"===Le?f:Le;return Ye},R={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},x={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[M,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[M,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[M,w],[/opios[\/ ]+([\w\.]+)/i],[w,[M,Rt+" Mini"]],[/\bopr\/([\w\.]+)/i],[w,[M,Rt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[M,w],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[M,"UC"+ot]],[/\bqbcore\/([\w\.]+)/i],[w,[M,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[w,[M,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[M,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[M,"IE"]],[/yabrowser\/([\w\.]+)/i],[w,[M,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[M,/(.+)/,"$1 Secure "+ot],w],[/\bfocus\/([\w\.]+)/i],[w,[M,Mt+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[M,Rt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[M,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[M,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[M,Rt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[M,"MIUI "+ot]],[/fxios\/([-\w\.]+)/i],[w,[M,Mt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[M,"360 "+ot]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[M,/(.+)/,"$1 "+ot],w],[/(comodo_dragon)\/([\w\.]+)/i],[[M,/_/g," "],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[M,w],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[M],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[M,We],w],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[M,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[M,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[M,pe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[M,pe+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[M,"Android "+ot]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[M,w],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[w,[M,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[w,M],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[M,[w,_,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[M,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[M,"Netscape"],w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[M,Mt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[M,w]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[q,"amd64"]],[/(ia32(?=;))/i],[[q,_e]],[/((?:i[346]|x)86)[;\)]/i],[[q,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[q,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[q,"armhf"]],[/windows (ce|mobile); ppc;/i],[[q,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[q,/ower/,"",_e]],[/(sun4\w)[;\)]/i],[[q,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[q,_e]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[C,[y,ut],[p,J]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[C,[y,ut],[p,ne]],[/\((ip(?:hone|od)[\w ]*);/i],[C,[y,de],[p,ne]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[C,[y,de],[p,J]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[C,[y,"Huawei"],[p,J]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[C,[y,"Huawei"],[p,ne]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[C,/_/g," "],[y,"Xiaomi"],[p,ne]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[C,/_/g," "],[y,"Xiaomi"],[p,J]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[C,[y,"OPPO"],[p,ne]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[C,[y,"Vivo"],[p,ne]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[C,[y,"Realme"],[p,ne]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[C,[y,rt],[p,ne]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[C,[y,rt],[p,J]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[C,[y,"LG"],[p,J]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[C,[y,"LG"],[p,ne]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[C,[y,"Lenovo"],[p,J]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[C,/_/g," "],[y,"Nokia"],[p,ne]],[/(pixel c)\b/i],[C,[y,He],[p,J]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[C,[y,He],[p,ne]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[C,[y,ke],[p,ne]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[C,"Xperia Tablet"],[y,ke],[p,J]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[C,[y,"OnePlus"],[p,ne]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[C,[y,K],[p,J]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[C,/(.+)/g,"Fire Phone $1"],[y,K],[p,ne]],[/(playbook);[-\w\),; ]+(rim)/i],[C,y,[p,J]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[C,[y,qe],[p,ne]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[C,[y,"ASUS"],[p,J]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[C,[y,"ASUS"],[p,ne]],[/(nexus 9)/i],[C,[y,"HTC"],[p,J]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[y,[C,/_/g," "],[p,ne]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[C,[y,"Acer"],[p,J]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[C,[y,"Meizu"],[p,ne]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[C,[y,"Sharp"],[p,ne]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,C,[p,ne]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,C,[p,J]],[/(surface duo)/i],[C,[y,je],[p,J]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[C,[y,"Fairphone"],[p,ne]],[/(u304aa)/i],[C,[y,"AT&T"],[p,ne]],[/\bsie-(\w*)/i],[C,[y,"Siemens"],[p,ne]],[/\b(rct\w+) b/i],[C,[y,"RCA"],[p,J]],[/\b(venue[\d ]{2,7}) b/i],[C,[y,"Dell"],[p,J]],[/\b(q(?:mv|ta)\w+) b/i],[C,[y,"Verizon"],[p,J]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[C,[y,"Barnes & Noble"],[p,J]],[/\b(tm\d{3}\w+) b/i],[C,[y,"NuVision"],[p,J]],[/\b(k88) b/i],[C,[y,"ZTE"],[p,J]],[/\b(nx\d{3}j) b/i],[C,[y,"ZTE"],[p,ne]],[/\b(gen\d{3}) b.+49h/i],[C,[y,"Swiss"],[p,ne]],[/\b(zur\d{3}) b/i],[C,[y,"Swiss"],[p,J]],[/\b((zeki)?tb.*\b) b/i],[C,[y,"Zeki"],[p,J]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],C,[p,J]],[/\b(ns-?\w{0,9}) b/i],[C,[y,"Insignia"],[p,J]],[/\b((nxa|next)-?\w{0,9}) b/i],[C,[y,"NextBook"],[p,J]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],C,[p,ne]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],C,[p,ne]],[/\b(ph-1) /i],[C,[y,"Essential"],[p,ne]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[C,[y,"Envizen"],[p,J]],[/\b(trio[-\w\. ]+) b/i],[C,[y,"MachSpeed"],[p,J]],[/\btu_(1491) b/i],[C,[y,"Rotor"],[p,J]],[/(shield[\w ]+) b/i],[C,[y,"Nvidia"],[p,J]],[/(sprint) (\w+)/i],[y,C,[p,ne]],[/(kin\.[onetw]{3})/i],[[C,/\./g," "],[y,je],[p,ne]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[C,[y,kt],[p,J]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[C,[y,kt],[p,ne]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,C,[p,W]],[/droid.+; (shield) bui/i],[C,[y,"Nvidia"],[p,W]],[/(playstation [345portablevi]+)/i],[C,[y,ke],[p,W]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[C,[y,je],[p,W]],[/smart-tv.+(samsung)/i],[y,[p,se]],[/hbbtv.+maple;(\d+)/i],[[C,/^/,"SmartTV"],[y,ut],[p,se]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,"LG"],[p,se]],[/(apple) ?tv/i],[y,[C,de+" TV"],[p,se]],[/crkey/i],[[C,pe+"cast"],[y,He],[p,se]],[/droid.+aft(\w)( bui|\))/i],[C,[y,K],[p,se]],[/\(dtv[\);].+(aquos)/i],[C,[y,"Sharp"],[p,se]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[y,at],[C,at],[p,se]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,se]],[/((pebble))app/i],[y,C,[p,H]],[/droid.+; (glass) \d/i],[C,[y,He],[p,H]],[/droid.+; (wt63?0{2,3})\)/i],[C,[y,kt],[p,H]],[/(quest( 2)?)/i],[C,[y,We],[p,H]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[p,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[C,[p,ne]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[C,[p,J]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,J]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[p,ne]],[/(android[-\w\. ]{0,9});.+buil/i],[C,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[M,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[M,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[M,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,M]],os:[[/microsoft (windows) (vista|xp)/i],[M,w],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[M,[w,_,R]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[M,"Windows"],[w,_,R]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[M,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[M,"Mac OS"],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[w,M],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[M,w],[/\(bb(10);/i],[w,[M,qe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[M,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[M,Mt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[M,"webOS"]],[/crkey\/([\d\.]+)/i],[w,[M,pe+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[M,"Chromium OS"],w],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[M,w],[/(sunos) ?([\w\.\d]*)/i],[[M,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[M,w]]},ue=function(Ye,Ke){if(typeof Ye===S&&(Ke=Ye,Ye=f),!(this instanceof ue))return new ue(Ye,Ke).getResult();var Le=Ye||(typeof P!==O&&P.navigator&&P.navigator.userAgent?P.navigator.userAgent:""),tt=Ke?function(it,Re){var Xe={};for(var Qe in it)Xe[Qe]=Re[Qe]&&Re[Qe].length%2==0?Re[Qe].concat(it[Qe]):it[Qe];return Xe}(x,Ke):x;return this.getBrowser=function(){var it,Re={};return Re[M]=f,Re[w]=f,E.call(Re,Le,tt.browser),Re.major=typeof(it=Re.version)===g?it.replace(/[^\d\.]/g,"").split(".")[0]:f,Re},this.getCPU=function(){var it={};return it[q]=f,E.call(it,Le,tt.cpu),it},this.getDevice=function(){var it={};return it[y]=f,it[C]=f,it[p]=f,E.call(it,Le,tt.device),it},this.getEngine=function(){var it={};return it[M]=f,it[w]=f,E.call(it,Le,tt.engine),it},this.getOS=function(){var it={};return it[M]=f,it[w]=f,E.call(it,Le,tt.os),it},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Le},this.setUA=function(it){return Le=typeof it===g&&it.length>255?at(it,255):it,this},this.setUA(Le),this};ue.VERSION="1.0.2",ue.BROWSER=dt([M,w,"major"]),ue.CPU=dt([q]),ue.DEVICE=dt([C,y,p,W,ne,se,J,H,k]),ue.ENGINE=ue.OS=dt([M,w]),typeof Ze!==O?(At.exports&&(Ze=At.exports=ue),Ze.UAParser=ue):F.amdO?(ye=function(){return ue}.call(Ze,F,Ze,At))===f||(At.exports=ye):typeof P!==O&&(P.UAParser=ue);var oe=typeof P!==O&&(P.jQuery||P.Zepto);if(oe&&!oe.ua){var xe=new ue;oe.ua=xe.getResult(),oe.ua.get=function(){return xe.getUA()},oe.ua.set=function(Ye){xe.setUA(Ye);var Ke=xe.getResult();for(var Le in Ke)oe.ua[Le]=Ke[Le]}}}("object"==typeof window?window:this)},7839:(At,Ze,F)=>{function ye(P){try{if(!F.g.localStorage)return!1}catch{return!1}var f=F.g.localStorage[P];return null!=f&&"true"===String(f).toLowerCase()}At.exports=function(P,f){if(ye("noDeprecation"))return P;var h=!1;return function(){if(!h){if(ye("throwDeprecation"))throw new Error(f);ye("traceDeprecation")?console.trace(f):console.warn(f),h=!0}return P.apply(this,arguments)}}},9862:()=>{},964:()=>{},3165:At=>{"use strict";At.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:At=>{"use strict";At.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:At=>{"use strict";At.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:At=>{"use strict";At.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:At=>{"use strict";At.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:At=>{"use strict";At.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},Oi={};function Kn(At){var Ze=Oi[At];if(void 0!==Ze)return Ze.exports;var F=Oi[At]={exports:{}};return Wa[At].call(F.exports,F,F.exports,Kn),F.exports}Kn.amdO={},Kn.n=At=>{var Ze=At&&At.__esModule?()=>At.default:()=>At;return Kn.d(Ze,{a:Ze}),Ze},Kn.d=(At,Ze)=>{for(var F in Ze)Kn.o(Ze,F)&&!Kn.o(At,F)&&Object.defineProperty(At,F,{enumerable:!0,get:Ze[F]})},Kn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Kn.o=(At,Ze)=>Object.prototype.hasOwnProperty.call(At,Ze);var ns={};return(()=>{"use strict";Kn.d(ns,{default:()=>S}),Kn(8416);var At,Ze=Kn(1715),F=Kn(8080),ye=Kn(1737),P=Kn(7688),f=function(){var g,C="application/dash+xml";function M(y,w,q){if(!y||!/^VIDEO$/i.test(y.nodeName))return null;if(y._dashjs_player)return y._dashjs_player;var W,ne=y.id||y.name||"video element";if(!(w=w||[].slice.call(y.querySelectorAll("source")).filter(function(J){return J.type==C})[0])&&y.src)(w=document.createElement("source")).src=y.src;else if(!w&&!y.src)return null;return(W=(0,P.Z)(q=q||{}).create()).initialize(y,w.src,y.autoplay),g||(g=W.getDebug().getLogger()),g.debug("Converted "+ne+" to dash.js player and added content: "+w.src),y._dashjs_player=W,W}function p(y){return/^VIDEO$/i.test(y.nodeName)?y:p(y.parentNode)}return{create:M,createAll:function(y,w){var q=[];y=y||"[data-dashjs-player]";for(var W=(w=w||document).querySelectorAll(y),ne=0;ne<W.length;ne++){var J=M(W[ne],null);q.push(J)}for(var se=w.querySelectorAll('source[type="'+C+'"]'),H=0;H<se.length;H++){var k=M(p(se[H]),null);q.push(k)}return q}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?f.createAll():At=window.setInterval(function(){window.dashjs&&(window.clearInterval(At),f.createAll())},500):window.addEventListener("load",function g(){window.removeEventListener("load",g),f.createAll()}));const h=f;var O=Kn(6398);dashjs.Protection=ye.default,dashjs.MetricsReporting=F.default,dashjs.MediaPlayerFactory=h,dashjs.Debug=O.Z,dashjs.supportsMediaSource=Ze.B;const S=dashjs})(),ns.default})()},307:()=>{var $a,Wa;Wa=$a||($a={}),function(Oi){var Kn="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),ns=At(Wa);function At(Ze,F){return function(ye,P){"function"!=typeof Ze[ye]&&Object.defineProperty(Ze,ye,{configurable:!0,writable:!0,value:P}),F&&F(ye,P)}}typeof Kn.Reflect>"u"?Kn.Reflect=Wa:ns=At(Kn.Reflect,ns),function(Oi){var Kn=Object.prototype.hasOwnProperty,ns="function"==typeof Symbol,At=ns&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",Ze=ns&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",F="function"==typeof Object.create,ye={__proto__:[]}instanceof Array,P=!F&&!ye,f={create:F?function(){return it(Object.create(null))}:ye?function(){return it({__proto__:null})}:function(){return it({})},has:P?function(Re,Xe){return Kn.call(Re,Xe)}:function(Re,Xe){return Xe in Re},get:P?function(Re,Xe){return Kn.call(Re,Xe)?Re[Xe]:void 0}:function(Re,Xe){return Re[Xe]}},h=Object.getPrototypeOf(Function),O="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,S=O||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Ke(){var Re={},Xe=[],Qe=function(){function xn(Cn,vn,Yn){this._index=0,this._keys=Cn,this._values=vn,this._selector=Yn}return xn.prototype["@@iterator"]=function(){return this},xn.prototype[Ze]=function(){return this},xn.prototype.next=function(){var Cn=this._index;if(Cn>=0&&Cn<this._keys.length){var vn=this._selector(this._keys[Cn],this._values[Cn]);return Cn+1>=this._keys.length?(this._index=-1,this._keys=Xe,this._values=Xe):this._index++,{value:vn,done:!1}}return{value:void 0,done:!0}},xn.prototype.throw=function(Cn){throw this._index>=0&&(this._index=-1,this._keys=Xe,this._values=Xe),Cn},xn.prototype.return=function(Cn){return this._index>=0&&(this._index=-1,this._keys=Xe,this._values=Xe),{value:Cn,done:!0}},xn}();return function(){function xn(){this._keys=[],this._values=[],this._cacheKey=Re,this._cacheIndex=-2}return Object.defineProperty(xn.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),xn.prototype.has=function(Cn){return this._find(Cn,!1)>=0},xn.prototype.get=function(Cn){var vn=this._find(Cn,!1);return vn>=0?this._values[vn]:void 0},xn.prototype.set=function(Cn,vn){var Yn=this._find(Cn,!0);return this._values[Yn]=vn,this},xn.prototype.delete=function(Cn){var vn=this._find(Cn,!1);if(vn>=0){for(var Yn=this._keys.length,jn=vn+1;jn<Yn;jn++)this._keys[jn-1]=this._keys[jn],this._values[jn-1]=this._values[jn];return this._keys.length--,this._values.length--,Cn===this._cacheKey&&(this._cacheKey=Re,this._cacheIndex=-2),!0}return!1},xn.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Re,this._cacheIndex=-2},xn.prototype.keys=function(){return new Qe(this._keys,this._values,St)},xn.prototype.values=function(){return new Qe(this._keys,this._values,Pt)},xn.prototype.entries=function(){return new Qe(this._keys,this._values,on)},xn.prototype["@@iterator"]=function(){return this.entries()},xn.prototype[Ze]=function(){return this.entries()},xn.prototype._find=function(Cn,vn){return this._cacheKey!==Cn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Cn)),this._cacheIndex<0&&vn&&(this._cacheIndex=this._keys.length,this._keys.push(Cn),this._values.push(void 0)),this._cacheIndex},xn}();function St(xn,Cn){return xn}function Pt(xn,Cn){return Cn}function on(xn,Cn){return[xn,Cn]}}():Map,g=O||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Le(){return function(){function Re(){this._map=new S}return Object.defineProperty(Re.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Re.prototype.has=function(Xe){return this._map.has(Xe)},Re.prototype.add=function(Xe){return this._map.set(Xe,Xe),this},Re.prototype.delete=function(Xe){return this._map.delete(Xe)},Re.prototype.clear=function(){this._map.clear()},Re.prototype.keys=function(){return this._map.keys()},Re.prototype.values=function(){return this._map.values()},Re.prototype.entries=function(){return this._map.entries()},Re.prototype["@@iterator"]=function(){return this.keys()},Re.prototype[Ze]=function(){return this.keys()},Re}()}():Set,M=new(O||"function"!=typeof WeakMap?function tt(){var Re=16,Xe=f.create(),Qe=St();return function(){function vn(){this._key=St()}return vn.prototype.has=function(Yn){var jn=Pt(Yn,!1);return void 0!==jn&&f.has(jn,this._key)},vn.prototype.get=function(Yn){var jn=Pt(Yn,!1);return void 0!==jn?f.get(jn,this._key):void 0},vn.prototype.set=function(Yn,jn){return Pt(Yn,!0)[this._key]=jn,this},vn.prototype.delete=function(Yn){var jn=Pt(Yn,!1);return void 0!==jn&&delete jn[this._key]},vn.prototype.clear=function(){this._key=St()},vn}();function St(){var vn;do{vn="@@WeakMap@@"+Cn()}while(f.has(Xe,vn));return Xe[vn]=!0,vn}function Pt(vn,Yn){if(!Kn.call(vn,Qe)){if(!Yn)return;Object.defineProperty(vn,Qe,{value:f.create()})}return vn[Qe]}function on(vn,Yn){for(var jn=0;jn<Yn;++jn)vn[jn]=255*Math.random()|0;return vn}function Cn(){var vn=function xn(vn){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(vn)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(vn)):on(new Uint8Array(vn),vn):on(new Array(vn),vn)}(Re);vn[6]=79&vn[6]|64,vn[8]=191&vn[8]|128;for(var Yn="",jn=0;jn<Re;++jn){var br=vn[jn];(4===jn||6===jn||8===jn)&&(Yn+="-"),br<16&&(Yn+="0"),Yn+=br.toString(16).toLowerCase()}return Yn}}():WeakMap);function ce(Re,Xe,Qe){var St=M.get(Re);if(rt(St)){if(!Qe)return;St=new S,M.set(Re,St)}var Pt=St.get(Xe);if(rt(Pt)){if(!Qe)return;Pt=new S,St.set(Xe,Pt)}return Pt}function qe(Re,Xe,Qe){if(ot(Re,Xe,Qe))return!0;var Pt=Ye(Xe);return!Rt(Pt)&&qe(Re,Pt,Qe)}function ot(Re,Xe,Qe){var St=ce(Xe,Qe,!1);return!rt(St)&&function We(Re){return!!Re}(St.has(Re))}function pe(Re,Xe,Qe){if(ot(Re,Xe,Qe))return Mt(Re,Xe,Qe);var Pt=Ye(Xe);return Rt(Pt)?void 0:pe(Re,Pt,Qe)}function Mt(Re,Xe,Qe){var St=ce(Xe,Qe,!1);if(!rt(St))return St.get(Re)}function He(Re,Xe,Qe,St){ce(Qe,St,!0).set(Re,Xe)}function $e(Re,Xe){var Qe=Ne(Re,Xe),St=Ye(Re);if(null===St)return Qe;var Pt=$e(St,Xe);if(Pt.length<=0)return Qe;if(Qe.length<=0)return Pt;for(var on=new g,xn=[],Cn=0,vn=Qe;Cn<vn.length;Cn++)on.has(Yn=vn[Cn])||(on.add(Yn),xn.push(Yn));for(var br=0,mi=Pt;br<mi.length;br++){var Yn;on.has(Yn=mi[br])||(on.add(Yn),xn.push(Yn))}return xn}function Ne(Re,Xe){var Qe=[],St=ce(Re,Xe,!1);if(rt(St))return Qe;for(var on=function x(Re){var Xe=R(Re,Ze);if(!at(Xe))throw new TypeError;var Qe=Xe.call(Re);if(!ke(Qe))throw new TypeError;return Qe}(St.keys()),xn=0;;){var Cn=oe(on);if(!Cn)return Qe.length=xn,Qe;var vn=ue(Cn);try{Qe[xn]=vn}catch(Yn){try{xe(on)}finally{throw Yn}}xn++}}function je(Re){if(null===Re)return 1;switch(typeof Re){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Re?1:6;default:return 6}}function rt(Re){return void 0===Re}function Rt(Re){return null===Re}function ke(Re){return"object"==typeof Re?null!==Re:"function"==typeof Re}function ht(Re,Xe){switch(je(Re)){case 0:case 1:case 2:case 3:case 4:case 5:return Re}var Qe=3===Xe?"string":5===Xe?"number":"default",St=R(Re,At);if(void 0!==St){var Pt=St.call(Re,Qe);if(ke(Pt))throw new TypeError;return Pt}return function kt(Re,Xe){if("string"===Xe){var Qe=Re.toString;if(at(Qe)&&!ke(St=Qe.call(Re)))return St;if(at(Pt=Re.valueOf)&&!ke(St=Pt.call(Re)))return St}else{var Pt;if(at(Pt=Re.valueOf)&&!ke(St=Pt.call(Re)))return St;var St,on=Re.toString;if(at(on)&&!ke(St=on.call(Re)))return St}throw new TypeError}(Re,"default"===Qe?"number":Qe)}function Ce(Re){var Xe=ht(Re,3);return function ut(Re){return"symbol"==typeof Re}(Xe)?Xe:function dt(Re){return""+Re}(Xe)}function _e(Re){return Array.isArray?Array.isArray(Re):Re instanceof Object?Re instanceof Array:"[object Array]"===Object.prototype.toString.call(Re)}function at(Re){return"function"==typeof Re}function E(Re){return"function"==typeof Re}function R(Re,Xe){var Qe=Re[Xe];if(null!=Qe){if(!at(Qe))throw new TypeError;return Qe}}function ue(Re){return Re.value}function oe(Re){var Xe=Re.next();return!Xe.done&&Xe}function xe(Re){var Xe=Re.return;Xe&&Xe.call(Re)}function Ye(Re){var Xe=Object.getPrototypeOf(Re);if("function"!=typeof Re||Re===h||Xe!==h)return Xe;var Qe=Re.prototype,St=Qe&&Object.getPrototypeOf(Qe);if(null==St||St===Object.prototype)return Xe;var Pt=St.constructor;return"function"!=typeof Pt||Pt===Re?Xe:Pt}function it(Re){return Re.__=void 0,delete Re.__,Re}Oi("decorate",function p(Re,Xe,Qe,St){if(rt(Qe)){if(!_e(Re))throw new TypeError;if(!E(Xe))throw new TypeError;return function K(Re,Xe){for(var Qe=Re.length-1;Qe>=0;--Qe){var Pt=(0,Re[Qe])(Xe);if(!rt(Pt)&&!Rt(Pt)){if(!E(Pt))throw new TypeError;Xe=Pt}}return Xe}(Re,Xe)}if(!_e(Re))throw new TypeError;if(!ke(Xe))throw new TypeError;if(!ke(St)&&!rt(St)&&!Rt(St))throw new TypeError;return Rt(St)&&(St=void 0),function de(Re,Xe,Qe,St){for(var Pt=Re.length-1;Pt>=0;--Pt){var xn=(0,Re[Pt])(Xe,Qe,St);if(!rt(xn)&&!Rt(xn)){if(!ke(xn))throw new TypeError;St=xn}}return St}(Re,Xe,Qe=Ce(Qe),St)}),Oi("metadata",function y(Re,Xe){return function Qe(St,Pt){if(!ke(St))throw new TypeError;if(!rt(Pt)&&!function _(Re){switch(je(Re)){case 3:case 4:return!0;default:return!1}}(Pt))throw new TypeError;He(Re,Xe,St,Pt)}}),Oi("defineMetadata",function w(Re,Xe,Qe,St){if(!ke(Qe))throw new TypeError;return rt(St)||(St=Ce(St)),He(Re,Xe,Qe,St)}),Oi("hasMetadata",function q(Re,Xe,Qe){if(!ke(Xe))throw new TypeError;return rt(Qe)||(Qe=Ce(Qe)),qe(Re,Xe,Qe)}),Oi("hasOwnMetadata",function W(Re,Xe,Qe){if(!ke(Xe))throw new TypeError;return rt(Qe)||(Qe=Ce(Qe)),ot(Re,Xe,Qe)}),Oi("getMetadata",function ne(Re,Xe,Qe){if(!ke(Xe))throw new TypeError;return rt(Qe)||(Qe=Ce(Qe)),pe(Re,Xe,Qe)}),Oi("getOwnMetadata",function J(Re,Xe,Qe){if(!ke(Xe))throw new TypeError;return rt(Qe)||(Qe=Ce(Qe)),Mt(Re,Xe,Qe)}),Oi("getMetadataKeys",function se(Re,Xe){if(!ke(Re))throw new TypeError;return rt(Xe)||(Xe=Ce(Xe)),$e(Re,Xe)}),Oi("getOwnMetadataKeys",function H(Re,Xe){if(!ke(Re))throw new TypeError;return rt(Xe)||(Xe=Ce(Xe)),Ne(Re,Xe)}),Oi("deleteMetadata",function k(Re,Xe,Qe){if(!ke(Xe))throw new TypeError;rt(Qe)||(Qe=Ce(Qe));var St=ce(Xe,Qe,!1);if(rt(St)||!St.delete(Re))return!1;if(St.size>0)return!0;var Pt=M.get(Xe);return Pt.delete(Qe),Pt.size>0||M.delete(Xe),!0})}(ns)}()}},$a=>{$a($a.s=83)}]);