(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{629:(Pa,Ie,U)=>{"use strict";function m(n){return"function"==typeof n}function M(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const T=M(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function I(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class w{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(m(r))try{r()}catch(o){t=o instanceof T?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{D(o)}catch(u){t=t??[],u instanceof T?t=[...t,...u.errors]:t.push(u)}}if(t)throw new T(t)}}add(t){var e;if(t&&t!==this)if(this.closed)D(t);else{if(t instanceof w){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&I(e,t)}remove(t){const{_finalizers:e}=this;e&&I(e,t),t instanceof w&&t._removeParent(this)}}w.EMPTY=(()=>{const n=new w;return n.closed=!0,n})();const P=w.EMPTY;function R(n){return n instanceof w||n&&"closed"in n&&m(n.remove)&&m(n.add)&&m(n.unsubscribe)}function D(n){m(n)?n():n.unsubscribe()}const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},l={setTimeout(n,t,...e){const{delegate:r}=l;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=l;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function d(n){l.setTimeout(()=>{const{onUnhandledError:t}=c;if(!t)throw n;t(n)})}function f(){}const _=O("C",void 0,void 0);function O(n,t,e){return{kind:n,value:t,error:e}}let b=null;function v(n){if(c.useDeprecatedSynchronousErrorHandling){const t=!b;if(t&&(b={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=b;if(b=null,e)throw r}}else n()}class y extends w{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,R(t)&&t.add(this)):this.destination=le}static create(t,e,r){return new L(t,e,r)}next(t){this.isStopped?Q(function S(n){return O("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Q(function N(n){return O("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Q(_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const g=Function.prototype.bind;function A(n,t){return g.call(n,t)}class E{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){G(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){G(r)}else G(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){G(e)}}}class L extends y{constructor(t,e,r){let i;if(super(),m(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&c.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&A(t.next,o),error:t.error&&A(t.error,o),complete:t.complete&&A(t.complete,o)}):i=t}this.destination=new E(i)}}function G(n){c.useDeprecatedSynchronousErrorHandling?function p(n){c.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=n)}(n):d(n)}function Q(n,t){const{onStoppedNotification:e}=c;e&&l.setTimeout(()=>e(n,t))}const le={closed:!0,next:f,error:function ee(n){throw n},complete:f},H="function"==typeof Symbol&&Symbol.observable||"@@observable";function W(n){return n}function Y(n){return 0===n.length?W:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let z=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function ve(n){return n&&n instanceof y||function oe(n){return n&&m(n.next)&&m(n.error)&&m(n.complete)}(n)&&R(n)}(e)?e:new L(e,r,i);return v(()=>{const{operator:u,source:h}=this;o.add(u?u.call(o,h):h?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=ie(r))((i,o)=>{const u=new L({next:h=>{try{e(h)}catch(C){o(C),u.unsubscribe()}},error:o,complete:i});this.subscribe(u)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[H](){return this}pipe(...e){return Y(e)(this)}toPromise(e){return new(e=ie(e))((r,i)=>{let o;this.subscribe(u=>o=u,u=>i(u),()=>r(o))})}}return n.create=t=>new n(t),n})();function ie(n){var t;return null!==(t=n??c.Promise)&&void 0!==t?t:Promise}const J=M(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let de=(()=>{class n extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new ae(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new J}next(e){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){v(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?P:(this.currentObservers=null,o.push(e),new w(()=>{this.currentObservers=null,I(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new z;return e.source=this,e}}return n.create=(t,e)=>new ae(t,e),n})();class ae extends de{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:P}}function pe(n){return m(n?.lift)}function he(n){return t=>{if(pe(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,t,e,r,i){return new _e(n,t,e,r,i)}class _e extends y{constructor(t,e,r,i,o,u){super(t),this.onFinalize=o,this.shouldUnsubscribe=u,this._next=e?function(h){try{e(h)}catch(C){t.error(C)}}:super._next,this._error=i?function(h){try{i(h)}catch(C){t.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function se(n,t){return he((e,r)=>{let i=0;e.subscribe(fe(r,o=>{r.next(n.call(t,o,i++))}))})}function ue(n){return this instanceof ue?(this.v=n,this):new ue(n)}function be(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(Me){r[Me]&&(i[Me]=function(xe){return new Promise(function(ke,Qe){o.push([Me,xe,ke,Qe])>1||h(Me,xe)})})}function h(Me,xe){try{!function C(Me){Me.value instanceof ue?Promise.resolve(Me.value.v).then(B,Z):ye(o[0][2],Me)}(r[Me](xe))}catch(ke){ye(o[0][3],ke)}}function B(Me){h("next",Me)}function Z(Me){h("throw",Me)}function ye(Me,xe){Me(xe),o.shift(),o.length&&h(o[0][0],o[0][1])}}function Pe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function q(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(u){return new Promise(function(h,C){!function i(o,u,h,C){Promise.resolve(C).then(function(B){o({value:B,done:h})},u)}(h,C,(u=n[o](u)).done,u.value)})}}}const Je=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function nt(n){return m(n?.then)}function at(n){return m(n[H])}function ht(n){return Symbol.asyncIterator&&m(n?.[Symbol.asyncIterator])}function Rt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Bt=function Ht(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $t(n){return m(n?.[Bt])}function Jt(n){return be(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield ue(e.read());if(i)return yield ue(void 0);yield yield ue(r)}}finally{e.releaseLock()}})}function De(n){return m(n?.getReader)}function Te(n){if(n instanceof z)return n;if(null!=n){if(at(n))return function Ne(n){return new z(t=>{const e=n[H]();if(m(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Je(n))return function Ye(n){return new z(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(nt(n))return function st(n){return new z(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,d)})}(n);if(ht(n))return ut(n);if($t(n))return function tt(n){return new z(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(De(n))return function yt(n){return ut(Jt(n))}(n)}throw Rt(n)}function ut(n){return new z(t=>{(function gt(n,t){var e,r,i,o;return function k(n,t,e,r){return new(e||(e=Promise))(function(o,u){function h(Z){try{B(r.next(Z))}catch(ye){u(ye)}}function C(Z){try{B(r.throw(Z))}catch(ye){u(ye)}}function B(Z){Z.done?o(Z.value):function i(o){return o instanceof e?o:new e(function(u){u(o)})}(Z.value).then(h,C)}B((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Pe(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(u){i={error:u}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Be(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function rt(n,t,e=1/0){return m(t)?rt((r,i)=>se((o,u)=>t(r,o,i,u))(Te(n(r,i))),e):("number"==typeof t&&(e=t),he((r,i)=>function Ze(n,t,e,r,i,o,u,h){const C=[];let B=0,Z=0,ye=!1;const Me=()=>{ye&&!C.length&&!B&&t.complete()},xe=Qe=>B<r?ke(Qe):C.push(Qe),ke=Qe=>{o&&t.next(Qe),B++;let ft=!1;Te(e(Qe,Z++)).subscribe(fe(t,vt=>{i?.(vt),o?xe(vt):t.next(vt)},()=>{ft=!0},void 0,()=>{if(ft)try{for(B--;C.length&&B<r;){const vt=C.shift();u?Be(t,u,()=>ke(vt)):ke(vt)}Me()}catch(vt){t.error(vt)}}))};return n.subscribe(fe(t,xe,()=>{ye=!0,Me()})),()=>{h?.()}}(r,i,n,e)))}function mt(n=1/0){return rt(W,n)}const Dt=new z(n=>n.complete());function mn(n){return n&&m(n.schedule)}function un(n){return n[n.length-1]}function Fn(n){return m(un(n))?n.pop():void 0}function nr(n){return mn(un(n))?n.pop():void 0}function it(n,t=0){return he((e,r)=>{e.subscribe(fe(r,i=>Be(r,n,()=>r.next(i),t),()=>Be(r,n,()=>r.complete(),t),i=>Be(r,n,()=>r.error(i),t)))})}function Ct(n,t=0){return he((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function sn(n,t){if(!n)throw new Error("Iterable cannot be null");return new z(e=>{Be(e,t,()=>{const r=n[Symbol.asyncIterator]();Be(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Fe(n,t){return t?function He(n,t){if(null!=n){if(at(n))return function je(n,t){return Te(n).pipe(Ct(t),it(t))}(n,t);if(Je(n))return function ct(n,t){return new z(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(nt(n))return function Xe(n,t){return Te(n).pipe(Ct(t),it(t))}(n,t);if(ht(n))return sn(n,t);if($t(n))return function At(n,t){return new z(e=>{let r;return Be(e,t,()=>{r=n[Bt](),Be(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(u){return void e.error(u)}o?e.complete():e.next(i)},0,!0)}),()=>m(r?.return)&&r.return()})}(n,t);if(De(n))return function Xt(n,t){return sn(Jt(n),t)}(n,t)}throw Rt(n)}(n,t):Te(n)}function qe(...n){const t=nr(n),e=function Ae(n,t){return"number"==typeof un(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?Te(r[0]):mt(e)(Fe(r,t)):Dt}function dt(n={}){const{connector:t=(()=>new de),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let u,h,C,B=0,Z=!1,ye=!1;const Me=()=>{h?.unsubscribe(),h=void 0},xe=()=>{Me(),u=C=void 0,Z=ye=!1},ke=()=>{const Qe=u;xe(),Qe?.unsubscribe()};return he((Qe,ft)=>{B++,!ye&&!Z&&Me();const vt=C=C??t();ft.add(()=>{B--,0===B&&!ye&&!Z&&(h=xt(ke,i))}),vt.subscribe(ft),!u&&B>0&&(u=new L({next:Lt=>vt.next(Lt),error:Lt=>{ye=!0,Me(),h=xt(xe,e,Lt),vt.error(Lt)},complete:()=>{Z=!0,Me(),h=xt(xe,r),vt.complete()}}),Te(Qe).subscribe(u))})(o)}}function xt(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new L({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function Mt(n){for(let t in n)if(n[t]===Mt)return t;throw Error("Could not find renamed property on target object.")}function Ke(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Et(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Et).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Ut(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Qt=Mt({__forward_ref__:Mt});function nn(n){return n.__forward_ref__=nn,n.toString=function(){return Et(this())},n}function Wt(n){return Kn(n)?n():n}function Kn(n){return"function"==typeof n&&n.hasOwnProperty(Qt)&&n.__forward_ref__===nn}function Gn(n){return n&&!!n.\u0275providers}const xi="https://g.co/ng/security#xss";class _t extends Error{constructor(t,e){super(function di(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function dn(n){return"string"==typeof n?n:null==n?"":String(n)}function to(n,t){throw new _t(-201,!1)}function xr(n,t){null==n&&function Ln(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function et(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function En(n){return or(n,Ro)||or(n,mf)}function or(n,t){return n.hasOwnProperty(t)?n[t]:null}function ss(n){return n&&(n.hasOwnProperty(Bu)||n.hasOwnProperty(pf))?n[Bu]:null}const Ro=Mt({\u0275prov:Mt}),Bu=Mt({\u0275inj:Mt}),mf=Mt({ngInjectableDef:Mt}),pf=Mt({ngInjectorDef:Mt});var hn=(()=>((hn=hn||{})[hn.Default=0]="Default",hn[hn.Host=1]="Host",hn[hn.Self=2]="Self",hn[hn.SkipSelf=4]="SkipSelf",hn[hn.Optional=8]="Optional",hn))();let ku;function Mi(n){const t=ku;return ku=n,t}function gf(n,t,e){const r=En(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&hn.Optional?null:void 0!==t?t:void to(Et(n))}const Jn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ls={},Uu="__NG_DI_FLAG__",rl="ngTempTokenPath",Op=/\n/gm,_f="__source";let us;function La(n){const t=us;return us=n,t}function Np(n,t=hn.Default){if(void 0===us)throw new _t(-203,!1);return null===us?gf(n,void 0,t):us.get(n,t&hn.Optional?null:void 0,t)}function lt(n,t=hn.Default){return(function wp(){return ku}()||Np)(Wt(n),t)}function vn(n,t=hn.Default){return lt(n,il(t))}function il(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ju(n){const t=[];for(let e=0;e<n.length;e++){const r=Wt(n[e]);if(Array.isArray(r)){if(0===r.length)throw new _t(900,!1);let i,o=hn.Default;for(let u=0;u<r.length;u++){const h=r[u],C=Lp(h);"number"==typeof C?-1===C?i=h.token:o|=C:i=h}t.push(lt(i,o))}else t.push(lt(r))}return t}function cs(n,t){return n[Uu]=t,n.prototype[Uu]=t,n}function Lp(n){return n[Uu]}function wo(n){return{toString:n}.toString()}var Ni=(()=>((Ni=Ni||{})[Ni.OnPush=0]="OnPush",Ni[Ni.Default=1]="Default",Ni))(),fi=(()=>{return(n=fi||(fi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fi;var n})();const Li={},jn=[],al=Mt({\u0275cmp:Mt}),sl=Mt({\u0275dir:Mt}),ll=Mt({\u0275pipe:Mt}),Vu=Mt({\u0275mod:Mt}),ze=Mt({\u0275fac:Mt}),It=Mt({__NG_ELEMENT_ID__:Mt});let an=0;function Kt(n){return wo(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ni.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||jn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||fi.Emulated,id:"c"+an++,styles:n.styles||jn,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,u=n.features;return i.inputs=ab(n.inputs,r),i.outputs=ab(n.outputs),u&&u.forEach(h=>h(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Fa).filter(na):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(hi).filter(na):null,i})}function Fa(n){return $n(n)||ei(n)}function na(n){return null!==n}function Yn(n){return wo(()=>({type:n.type,bootstrap:n.bootstrap||jn,declarations:n.declarations||jn,imports:n.imports||jn,exports:n.exports||jn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ab(n,t){if(null==n)return Li;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const Vt=Kt;function $r(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function $n(n){return n[al]||null}function ei(n){return n[sl]||null}function hi(n){return n[ll]||null}function Fi(n,t){const e=n[Vu]||null;if(!e&&!0===t)throw new Error(`Type ${Et(n)} does not have '\u0275mod' property.`);return e}function Bi(n){return Array.isArray(n)&&"object"==typeof n[1]}function _o(n){return Array.isArray(n)&&!0===n[1]}function jp(n){return 0!=(4&n.flags)}function Gu(n){return n.componentOffset>-1}function Sf(n){return 1==(1&n.flags)}function vo(n){return null!==n.template}function ZP(n){return 0!=(256&n[2])}function fs(n,t){return n.hasOwnProperty(ze)?n[ze]:null}class tO{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function ki(){return fb}function fb(n){return n.type.prototype.ngOnChanges&&(n.setInput=rO),nO}function nO(){const n=mb(this),t=n?.current;if(t){const e=n.previous;if(e===Li)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function rO(n,t,e,r){const i=this.declaredInputs[e],o=mb(n)||function iO(n,t){return n[hb]=t}(n,{previous:Li,current:null}),u=o.current||(o.current={}),h=o.previous,C=h[i];u[i]=new tO(C&&C.currentValue,t,h===Li),n[r]=t}ki.ngInherit=!0;const hb="__ngSimpleChanges__";function mb(n){return n[hb]||null}function Xr(n){for(;Array.isArray(n);)n=n[0];return n}function Cf(n,t){return Xr(t[n])}function Ui(n,t){return Xr(t[n.index])}function _b(n,t){return n.data[t]}function ml(n,t){return n[t]}function ji(n,t){const e=t[n];return Bi(e)?e:e[0]}function Mf(n){return 64==(64&n[2])}function Ba(n,t){return null==t?null:n[t]}function vb(n){n[18]=0}function Hp(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const bn={lFrame:Ib(null),bindingsEnabled:!0};function Eb(){return bn.bindingsEnabled}function wt(){return bn.lFrame.lView}function Bn(){return bn.lFrame.tView}function ur(n){return bn.lFrame.contextLView=n,n[8]}function cr(n){return bn.lFrame.contextLView=null,n}function qr(){let n=bb();for(;null!==n&&64===n.type;)n=n.parent;return n}function bb(){return bn.lFrame.currentTNode}function Oo(n,t){const e=bn.lFrame;e.currentTNode=n,e.isParent=t}function Wp(){return bn.lFrame.isParent}function Kp(){bn.lFrame.isParent=!1}function pi(){const n=bn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function pl(){return bn.lFrame.bindingIndex++}function oa(n){const t=bn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function _O(n,t){const e=bn.lFrame;e.bindingIndex=e.bindingRootIndex=n,Gp(t)}function Gp(n){bn.lFrame.currentDirectiveIndex=n}function Mb(){return bn.lFrame.currentQueryIndex}function Yp(n){bn.lFrame.currentQueryIndex=n}function yO(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Db(n,t,e){if(e&hn.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&hn.Host||(i=yO(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=bn.lFrame=Ab();return r.currentTNode=t,r.lView=n,!0}function $p(n){const t=Ab(),e=n[1];bn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Ab(){const n=bn.lFrame,t=null===n?null:n.child;return null===t?Ib(n):t}function Ib(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Rb(){const n=bn.lFrame;return bn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const wb=Rb;function Xp(){const n=Rb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gi(){return bn.lFrame.selectedIndex}function hs(n){bn.lFrame.selectedIndex=n}function gr(){const n=bn.lFrame;return _b(n.tView,n.selectedIndex)}function Df(){bn.lFrame.currentNamespace="svg"}function Af(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:h,ngAfterViewInit:C,ngAfterViewChecked:B,ngOnDestroy:Z}=o;u&&(n.contentHooks||(n.contentHooks=[])).push(-e,u),h&&((n.contentHooks||(n.contentHooks=[])).push(e,h),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,h)),C&&(n.viewHooks||(n.viewHooks=[])).push(-e,C),B&&((n.viewHooks||(n.viewHooks=[])).push(e,B),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,B)),null!=Z&&(n.destroyHooks||(n.destroyHooks=[])).push(e,Z)}}function If(n,t,e){Ob(n,t,3,e)}function Rf(n,t,e,r){(3&n[2])===e&&Ob(n,t,e,r)}function qp(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Ob(n,t,e,r){const o=r??-1,u=t.length-1;let h=0;for(let C=void 0!==r?65535&n[18]:0;C<u;C++)if("number"==typeof t[C+1]){if(h=t[C],null!=r&&h>=r)break}else t[C]<0&&(n[18]+=65536),(h<o||-1==o)&&(DO(n,e,t,C),n[18]=(4294901760&n[18])+C+2),C++}function DO(n,t,e,r){const i=e[r]<0,o=e[r+1],h=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(h)}finally{}}}else try{o.call(h)}finally{}}class Yu{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Zp(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],u=e[r++],h=e[r++];n.setAttribute(t,u,h,o)}else{const o=i,u=e[++r];Nb(o)?n.setProperty(t,o,u):n.setAttribute(t,o,u),r++}}return r}function xb(n){return 3===n||4===n||6===n}function Nb(n){return 64===n.charCodeAt(0)}function $u(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Lb(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Lb(n,t,e,r,i){let o=0,u=n.length;if(-1===t)u=-1;else for(;o<n.length;){const h=n[o++];if("number"==typeof h){if(h===t){u=-1;break}if(h>t){u=o-1;break}}}for(;o<n.length;){const h=n[o];if("number"==typeof h)break;if(h===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==u&&(n.splice(u,0,t),o=u+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Fb(n){return-1!==n}function wf(n){return 32767&n}function Pf(n,t){let e=function wO(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let Jp=!0;function Of(n){const t=Jp;return Jp=n,t}let PO=0;const xo={};function xf(n,t){const e=Ub(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,eg(r.data,n),eg(t,null),eg(r.blueprint,null));const i=tg(n,t),o=n.injectorIndex;if(Fb(i)){const u=wf(i),h=Pf(i,t),C=h[1].data;for(let B=0;B<8;B++)t[o+B]=h[u+B]|C[u+B]}return t[o+8]=i,o}function eg(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Ub(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function tg(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=zb(i),null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function ng(n,t,e){!function OO(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(It)&&(r=e[It]),null==r&&(r=e[It]=PO++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function jb(n,t,e){if(e&hn.Optional||void 0!==n)return n;to()}function Vb(n,t,e,r){if(e&hn.Optional&&void 0===r&&(r=null),0==(e&(hn.Self|hn.Host))){const i=n[9],o=Mi(void 0);try{return i?i.get(t,r,e&hn.Optional):gf(t,r,e&hn.Optional)}finally{Mi(o)}}return jb(r,0,e)}function Hb(n,t,e,r=hn.Default,i){if(null!==n){if(1024&t[2]){const u=function BO(n,t,e,r,i){let o=n,u=t;for(;null!==o&&null!==u&&1024&u[2]&&!(256&u[2]);){const h=Wb(o,u,e,r|hn.Self,xo);if(h!==xo)return h;let C=o.parent;if(!C){const B=u[21];if(B){const Z=B.get(e,xo,r);if(Z!==xo)return Z}C=zb(u),u=u[15]}o=C}return i}(n,t,e,r,xo);if(u!==xo)return u}const o=Wb(n,t,e,r,xo);if(o!==xo)return o}return Vb(t,e,r,i)}function Wb(n,t,e,r,i){const o=function LO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(It)?n[It]:void 0;return"number"==typeof t?t>=0?255&t:FO:t}(e);if("function"==typeof o){if(!Db(t,n,r))return r&hn.Host?jb(i,0,r):Vb(t,e,r,i);try{const u=o(r);if(null!=u||r&hn.Optional)return u;to()}finally{wb()}}else if("number"==typeof o){let u=null,h=Ub(n,t),C=-1,B=r&hn.Host?t[16][6]:null;for((-1===h||r&hn.SkipSelf)&&(C=-1===h?tg(n,t):t[h+8],-1!==C&&Gb(r,!1)?(u=t[1],h=wf(C),t=Pf(C,t)):h=-1);-1!==h;){const Z=t[1];if(Kb(o,h,Z.data)){const ye=NO(h,t,e,u,r,B);if(ye!==xo)return ye}C=t[h+8],-1!==C&&Gb(r,t[1].data[h+8]===B)&&Kb(o,h,t)?(u=Z,h=wf(C),t=Pf(C,t)):h=-1}}return i}function NO(n,t,e,r,i,o){const u=t[1],h=u.data[n+8],Z=Nf(h,u,e,null==r?Gu(h)&&Jp:r!=u&&0!=(3&h.type),i&hn.Host&&o===h);return null!==Z?ms(t,u,Z,h):xo}function Nf(n,t,e,r,i){const o=n.providerIndexes,u=t.data,h=1048575&o,C=n.directiveStart,Z=o>>20,Me=i?h+Z:n.directiveEnd;for(let xe=r?h:h+Z;xe<Me;xe++){const ke=u[xe];if(xe<C&&e===ke||xe>=C&&ke.type===e)return xe}if(i){const xe=u[C];if(xe&&vo(xe)&&xe.type===e)return C}return null}function ms(n,t,e,r){let i=n[e];const o=t.data;if(function AO(n){return n instanceof Yu}(i)){const u=i;u.resolving&&function Oa(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new _t(-200,`Circular dependency in DI detected for ${n}${e}`)}(function xn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():dn(n)}(o[e]));const h=Of(u.canSeeViewProviders);u.resolving=!0;const C=u.injectImpl?Mi(u.injectImpl):null;Db(n,r,hn.Default);try{i=n[e]=u.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function MO(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const u=fb(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,u),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,u)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==C&&Mi(C),Of(h),u.resolving=!1,wb()}}return i}function Kb(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Gb(n,t){return!(n&hn.Self||n&hn.Host&&t)}class _l{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return Hb(this._tNode,this._lView,t,il(r),e)}}function FO(){return new _l(qr(),wt())}function zr(n){return wo(()=>{const t=n.prototype.constructor,e=t[ze]||rg(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ze]||rg(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function rg(n){return Kn(n)?()=>{const t=rg(Wt(n));return t&&t()}:fs(n)}function zb(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function vl(n){return function xO(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(xb(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(qr(),n)}const El="__parameters__";function Tl(n,t,e){return wo(()=>{const r=function ig(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const u=new i(...o);return h.annotation=u,h;function h(C,B,Z){const ye=C.hasOwnProperty(El)?C[El]:Object.defineProperty(C,El,{value:[]})[El];for(;ye.length<=Z;)ye.push(null);return(ye[Z]=ye[Z]||[]).push(u),C}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Ft{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=et({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ps(n,t){n.forEach(e=>Array.isArray(e)?ps(e,t):t(e))}function $b(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Lf(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Qu(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function Vi(n,t,e){let r=Sl(n,t);return r>=0?n[1|r]=e:(r=~r,function VO(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function ag(n,t){const e=Sl(n,t);if(e>=0)return n[1|e]}function Sl(n,t){return function Xb(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),u=n[o<<e];if(t===u)return o<<e;u>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const Bf=cs(Tl("Inject",n=>({token:n})),-1),aa=cs(Tl("Optional"),8),Cl=cs(Tl("SkipSelf"),4);var Di=(()=>((Di=Di||{})[Di.Important=1]="Important",Di[Di.DashCase=2]="DashCase",Di))();const dg=new Map;let ux=0;const hg="__ngContext__";function ri(n,t){Bi(t)?(n[hg]=t[20],function dx(n){dg.set(n[20],n)}(t)):n[hg]=t}function pg(n,t){return undefined(n,t)}function tc(n){const t=n[3];return _o(t)?t[3]:t}function gg(n){return pT(n[13])}function _g(n){return pT(n[4])}function pT(n){for(;null!==n&&!_o(n);)n=n[4];return n}function Dl(n,t,e,r,i){if(null!=r){let o,u=!1;_o(r)?o=r:Bi(r)&&(u=!0,r=r[0]);const h=Xr(r);0===n&&null!==e?null==i?bT(t,e,h):gs(t,e,h,i||null,!0):1===n&&null!==e?gs(t,e,h,i||null,!0):2===n?function Cg(n,t,e){const r=jf(n,t);r&&function Px(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,h,u):3===n&&t.destroyNode(h),null!=o&&function Nx(n,t,e,r,i){const o=e[7];o!==Xr(e)&&Dl(t,n,r,o,i);for(let h=10;h<e.length;h++){const C=e[h];nc(C[1],C,n,t,r,o)}}(t,n,o,e,i)}}function yg(n,t,e){return n.createElement(t,e)}function _T(n,t){const e=n[9],r=e.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,Hp(i,-1)),e.splice(r,1)}function Eg(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&_T(i,r),t>0&&(n[e-1][4]=r[4]);const o=Lf(n,10+t);!function Sx(n,t){nc(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const u=o[19];null!==u&&u.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function vT(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&nc(n,t,e,3,null,null),function Dx(n){let t=n[13];if(!t)return bg(n[1],n);for(;t;){let e=null;if(Bi(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)Bi(t)&&bg(t[1],t),t=t[3];null===t&&(t=n),Bi(t)&&bg(t[1],t),e=t&&t[4]}t=e}}(t)}}function bg(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function wx(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Yu)){const o=e[r+1];if(Array.isArray(o))for(let u=0;u<o.length;u+=2){const h=i[o[u]],C=o[u+1];try{C.call(h)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function Rx(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const u=e[o+3];u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const u=r[i=e[o+1]];e[o].call(u)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&_o(t[3])){e!==t[3]&&_T(e,t);const r=t[19];null!==r&&r.detachView(n)}!function fx(n){dg.delete(n[20])}(t)}}function yT(n,t,e){return function ET(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===fi.None||o===fi.Emulated)return null}return Ui(r,e)}}(n,t.parent,e)}function gs(n,t,e,r,i){n.insertBefore(t,e,r,i)}function bT(n,t,e){n.appendChild(t,e)}function TT(n,t,e,r,i){null!==r?gs(n,t,e,r,i):bT(n,t,e)}function jf(n,t){return n.parentNode(t)}function ST(n,t,e){return MT(n,t,e)}let Wf,Ag,Kf,MT=function CT(n,t,e){return 40&n.type?Ui(n,e):null};function Vf(n,t,e,r){const i=yT(n,r,t),o=t[11],h=ST(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let C=0;C<e.length;C++)TT(o,i,e[C],h,!1);else TT(o,i,e,h,!1)}function Hf(n,t){if(null!==t){const e=t.type;if(3&e)return Ui(t,n);if(4&e)return Sg(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Hf(n,r);{const i=n[t.index];return _o(i)?Sg(-1,i):Xr(i)}}if(32&e)return pg(t,n)()||Xr(n[t.index]);{const r=AT(n,t);return null!==r?Array.isArray(r)?r[0]:Hf(tc(n[16]),r):Hf(n,t.next)}}return null}function AT(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Sg(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Hf(r,i)}return t[7]}function Mg(n,t,e,r,i,o,u){for(;null!=e;){const h=r[e.index],C=e.type;if(u&&0===t&&(h&&ri(Xr(h),r),e.flags|=2),32!=(32&e.flags))if(8&C)Mg(n,t,e.child,r,i,o,!1),Dl(t,n,i,h,o);else if(32&C){const B=pg(e,r);let Z;for(;Z=B();)Dl(t,n,i,Z,o);Dl(t,n,i,h,o)}else 16&C?IT(n,t,r,e,i,o):Dl(t,n,i,h,o);e=u?e.projectionNext:e.next}}function nc(n,t,e,r,i,o){Mg(e,r,n.firstChild,t,i,o,!1)}function IT(n,t,e,r,i,o){const u=e[16],C=u[6].projection[r.projection];if(Array.isArray(C))for(let B=0;B<C.length;B++)Dl(t,n,i,C[B],o);else Mg(n,t,C,u[3],i,o,!0)}function RT(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function wT(n,t,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&Zp(n,t,r),null!==i&&RT(n,t,i),null!==o&&function Fx(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function _s(n){return function Dg(){if(void 0===Wf&&(Wf=null,Jn.trustedTypes))try{Wf=Jn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wf}()?.createHTML(n)||n}function Ig(){if(void 0===Kf&&(Kf=null,Jn.trustedTypes))try{Kf=Jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kf}function OT(n){return Ig()?.createHTML(n)||n}function NT(n){return Ig()?.createScriptURL(n)||n}class vs{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xi})`}}class Vx extends vs{getTypeName(){return"HTML"}}class Hx extends vs{getTypeName(){return"Style"}}class Wx extends vs{getTypeName(){return"Script"}}class Kx extends vs{getTypeName(){return"URL"}}class Gx extends vs{getTypeName(){return"ResourceURL"}}function Hi(n){return n instanceof vs?n.changingThisBreaksApplicationSecurity:n}function No(n,t){const e=function zx(n){return n instanceof vs&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${xi})`)}return e===t}class Zx{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_s(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class Jx{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=_s(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=_s(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const u=e.item(i).name;("xmlns:ns1"===u||0===u.indexOf("ns1:"))&&t.removeAttribute(u)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const tN=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Gf(n){return(n=String(n)).match(tN)?n:"unsafe:"+n}function sa(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function rc(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const FT=sa("area,br,col,hr,img,wbr"),BT=sa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kT=sa("rp,rt"),Rg=rc(FT,rc(BT,sa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rc(kT,sa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rc(kT,BT)),wg=sa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),UT=rc(wg,sa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nN=sa("script,style,template");class rN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Rg.hasOwnProperty(e))return this.sanitizedSomething=!0,!nN.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),u=o.name,h=u.toLowerCase();if(!UT.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let C=o.value;wg[h]&&(C=Gf(C)),this.buf.push(" ",u,'="',jT(C),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Rg.hasOwnProperty(e)&&!FT.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(jT(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const iN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oN=/([^\#-~ |!])/g;function jT(n){return n.replace(/&/g,"&amp;").replace(iN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(oN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zf;function VT(n,t){let e=null;try{zf=zf||function LT(n){const t=new Jx(n);return function eN(){try{return!!(new window.DOMParser).parseFromString(_s(""),"text/html")}catch{return!1}}()?new Zx(t):t}(n);let r=t?String(t):"";e=zf.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=zf.getInertBodyElement(r)}while(r!==o);return _s((new rN).sanitizeChildren(Pg(e)||e))}finally{if(e){const r=Pg(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Pg(n){return"content"in n&&function aN(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Vn=(()=>((Vn=Vn||{})[Vn.NONE=0]="NONE",Vn[Vn.HTML=1]="HTML",Vn[Vn.STYLE=2]="STYLE",Vn[Vn.SCRIPT=3]="SCRIPT",Vn[Vn.URL=4]="URL",Vn[Vn.RESOURCE_URL=5]="RESOURCE_URL",Vn))();function Og(n){const t=ic();return t?OT(t.sanitize(Vn.HTML,n)||""):No(n,"HTML")?OT(Hi(n)):VT(function PT(){return void 0!==Ag?Ag:typeof document<"u"?document:void 0}(),dn(n))}function HT(n){const t=ic();return t?t.sanitize(Vn.STYLE,n)||"":No(n,"Style")?Hi(n):dn(n)}function Al(n){const t=ic();return t?t.sanitize(Vn.URL,n)||"":No(n,"URL")?Hi(n):Gf(dn(n))}function WT(n){const t=ic();if(t)return NT(t.sanitize(Vn.RESOURCE_URL,n)||"");if(No(n,"ResourceURL"))return NT(Hi(n));throw new _t(904,!1)}function ic(){const n=wt();return n&&n[12]}const Yf=new Ft("ENVIRONMENT_INITIALIZER"),GT=new Ft("INJECTOR",-1),zT=new Ft("INJECTOR_DEF_TYPES");class YT{get(t,e=ls){if(e===ls){const r=new Error(`NullInjectorError: No provider for ${Et(t)}!`);throw r.name="NullInjectorError",r}return e}}function $T(n){return{\u0275providers:n}}function XT(...n){return{\u0275providers:qT(0,n),\u0275fromNgModule:!0}}function qT(n,...t){const e=[],r=new Set;let i;return ps(t,o=>{const u=o;xg(u,e,[],r)&&(i||(i=[]),i.push(u))}),void 0!==i&&QT(i,e),e}function QT(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];Ng(i,o=>{t.push(o)})}}function xg(n,t,e,r){if(!(n=Wt(n)))return!1;let i=null,o=ss(n);const u=!o&&$n(n);if(o||u){if(u&&!u.standalone)return!1;i=n}else{const C=n.ngModule;if(o=ss(C),!o)return!1;i=C}const h=r.has(i);if(u){if(h)return!1;if(r.add(i),u.dependencies){const C="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const B of C)xg(B,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!h){let B;r.add(i);try{ps(o.imports,Z=>{xg(Z,t,e,r)&&(B||(B=[]),B.push(Z))})}finally{}void 0!==B&&QT(B,t)}if(!h){const B=fs(i)||(()=>new i);t.push({provide:i,useFactory:B,deps:jn},{provide:zT,useValue:i,multi:!0},{provide:Yf,useValue:()=>lt(i),multi:!0})}const C=o.providers;null==C||h||Ng(C,Z=>{t.push(Z)})}}return i!==n&&void 0!==n.providers}function Ng(n,t){for(let e of n)Gn(e)&&(e=e.\u0275providers),Array.isArray(e)?Ng(e,t):t(e)}const dN=Mt({provide:String,useValue:Mt});function Lg(n){return null!==n&&"object"==typeof n&&dN in n}function ys(n){return"function"==typeof n}const Fg=new Ft("Set Injector scope."),$f={},hN={};let Bg;function Xf(){return void 0===Bg&&(Bg=new YT),Bg}class Lo{}class eS extends Lo{constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ug(t,u=>this.processProvider(u)),this.records.set(GT,Il(void 0,this)),i.has("environment")&&this.records.set(Lo,Il(void 0,this));const o=this.records.get(Fg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zT.multi,jn,hn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=La(this),r=Mi(void 0);try{return t()}finally{La(e),Mi(r)}}get(t,e=ls,r=hn.Default){this.assertNotDestroyed(),r=il(r);const i=La(this),o=Mi(void 0);try{if(!(r&hn.SkipSelf)){let h=this.records.get(t);if(void 0===h){const C=function vN(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ft}(t)&&En(t);h=C&&this.injectableDefInScope(C)?Il(kg(t),$f):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(r&hn.Self?Xf():this.parent).get(t,e=r&hn.Optional&&e===ls?null:e)}catch(u){if("NullInjectorError"===u.name){if((u[rl]=u[rl]||[]).unshift(Et(t)),i)throw u;return function ol(n,t,e,r){const i=n[rl];throw t[_f]&&i.unshift(t[_f]),n.message=function Fp(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Et(t);if(Array.isArray(t))i=t.map(Et).join(" -> ");else if("object"==typeof t){let o=[];for(let u in t)if(t.hasOwnProperty(u)){let h=t[u];o.push(u+":"+("string"==typeof h?JSON.stringify(h):Et(h)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Op,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[rl]=null,n}(u,t,"R3InjectorError",this.source)}throw u}finally{Mi(o),La(i)}}resolveInjectorInitializers(){const t=La(this),e=Mi(void 0);try{const r=this.get(Yf.multi,jn,hn.Self);for(const i of r)i()}finally{La(t),Mi(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(Et(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _t(205,!1)}processProvider(t){let e=ys(t=Wt(t))?t:Wt(t&&t.provide);const r=function pN(n){return Lg(n)?Il(void 0,n.useValue):Il(tS(n),$f)}(t);if(ys(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Il(void 0,$f,!0),i.factory=()=>ju(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===$f&&(e.value=hN,e.value=e.factory()),"object"==typeof e.value&&e.value&&function _N(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Wt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function kg(n){const t=En(n),e=null!==t?t.factory:fs(n);if(null!==e)return e;if(n instanceof Ft)throw new _t(204,!1);if(n instanceof Function)return function mN(n){const t=n.length;if(t>0)throw Qu(t,"?"),new _t(204,!1);const e=function pr(n){const t=n&&(n[Ro]||n[mf]);if(t){const e=function ro(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new _t(204,!1)}function tS(n,t,e){let r;if(ys(n)){const i=Wt(n);return fs(i)||kg(i)}if(Lg(n))r=()=>Wt(n.useValue);else if(function JT(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...ju(n.deps||[]));else if(function ZT(n){return!(!n||!n.useExisting)}(n))r=()=>lt(Wt(n.useExisting));else{const i=Wt(n&&(n.useClass||n.provide));if(!function gN(n){return!!n.deps}(n))return fs(i)||kg(i);r=()=>new i(...ju(n.deps))}return r}function Il(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Ug(n,t){for(const e of n)Array.isArray(e)?Ug(e,t):e&&Gn(e)?Ug(e.\u0275providers,t):t(e)}class yN{}class nS{}class bN{resolveComponentFactory(t){throw function EN(n){const t=Error(`No component factory found for ${Et(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Rl=(()=>{class n{}return n.NULL=new bN,n})();function TN(){return wl(qr(),wt())}function wl(n,t){return new Rn(Ui(n,t))}let Rn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=TN,n})();function SN(n){return n instanceof Rn?n.nativeElement:n}class oc{}let la=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function CN(){const n=wt(),e=ji(qr().index,n);return(Bi(e)?e:n)[11]}(),n})(),MN=(()=>{class n{}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>null}),n})();class Es{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const DN=new Es("15.0.4"),jg={};function Hg(n){return n.ngOriginalError}class ua{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Hg(t);for(;e&&Hg(e);)e=Hg(e);return e||null}}function ca(n){return n instanceof Function?n():n}function oS(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const aS="ng-template";function BN(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==oS(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function sS(n){return 4===n.type&&n.value!==aS}function kN(n,t,e){return t===(4!==n.type||e?n.value:aS)}function UN(n,t,e){let r=4;const i=n.attrs||[],o=function HN(n){for(let t=0;t<n.length;t++)if(xb(n[t]))return t;return n.length}(i);let u=!1;for(let h=0;h<t.length;h++){const C=t[h];if("number"!=typeof C){if(!u)if(4&r){if(r=2|1&r,""!==C&&!kN(n,C,e)||""===C&&1===t.length){if(yo(r))return!1;u=!0}}else{const B=8&r?C:t[++h];if(8&r&&null!==n.attrs){if(!BN(n.attrs,B,e)){if(yo(r))return!1;u=!0}continue}const ye=jN(8&r?"class":C,i,sS(n),e);if(-1===ye){if(yo(r))return!1;u=!0;continue}if(""!==B){let Me;Me=ye>o?"":i[ye+1].toLowerCase();const xe=8&r?Me:null;if(xe&&-1!==oS(xe,B,0)||2&r&&B!==Me){if(yo(r))return!1;u=!0}}}}else{if(!u&&!yo(r)&&!yo(C))return!1;if(u&&yo(C))continue;u=!1,r=C|1&r}}return yo(r)||u}function yo(n){return 0==(1&n)}function jN(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const u=t[i];if(u===n)return i;if(3===u||6===u)o=!0;else{if(1===u||2===u){let h=t[++i];for(;"string"==typeof h;)h=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=o?1:2}return-1}return function WN(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function lS(n,t,e=!1){for(let r=0;r<t.length;r++)if(UN(n,t[r],e))return!0;return!1}function KN(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function uS(n,t){return n?":not("+t.trim()+")":t}function GN(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let u=n[e];if("string"==typeof u)if(2&r){const h=n[++e];i+="["+u+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!yo(u)&&(t+=uS(o,i),i=""),r=u,o=o||!yo(r);e++}return""!==i&&(t+=uS(o,i)),t}const Tn={};function St(n){cS(Bn(),wt(),gi()+n,!1)}function cS(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&If(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Rf(t,o,0,e)}hs(e)}function mS(n,t=null,e=null,r){const i=pS(n,t,e,r);return i.resolveInjectorInitializers(),i}function pS(n,t=null,e=null,r,i=new Set){const o=[e||jn,XT(n)];return r=r||("object"==typeof n?void 0:Et(n)),new eS(o,t||Xf(),r||null,i)}let Ii=(()=>{class n{static create(e,r){if(Array.isArray(e))return mS({name:""},r,e,"");{const i=e.name??"";return mS({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=ls,n.NULL=new YT,n.\u0275prov=et({token:n,providedIn:"any",factory:()=>lt(GT)}),n.__NG_ELEMENT_ID__=-1,n})();function Ve(n,t=hn.Default){const e=wt();return null===e?lt(n,t):Hb(qr(),e,Wt(n),t)}function Qf(){throw new Error("invalid")}function TS(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const u=n.data[o];Yp(i),u.contentQueries(2,t[o],o)}}}function Zf(n,t,e,r,i,o,u,h,C,B,Z){const ye=t.blueprint.slice();return ye[0]=i,ye[2]=76|r,(null!==Z||n&&1024&n[2])&&(ye[2]|=1024),vb(ye),ye[3]=ye[15]=n,ye[8]=e,ye[10]=u||n&&n[10],ye[11]=h||n&&n[11],ye[12]=C||n&&n[12]||null,ye[9]=B||n&&n[9]||null,ye[6]=o,ye[20]=function cx(){return ux++}(),ye[21]=Z,ye[16]=2==t.type?n[16]:ye,ye}function xl(n,t,e,r,i){let o=n.data[t];if(null===o)o=function Yg(n,t,e,r,i){const o=bb(),u=Wp(),C=n.data[t]=function _L(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=C),null!==o&&(u?null==o.child&&null!==C.parent&&(o.child=C):null===o.next&&(o.next=C)),C}(n,t,e,r,i),function gO(){return bn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const u=function zu(){const n=bn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===u?-1:u.injectorIndex}return Oo(o,!0),o}function ac(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function $g(n,t,e){$p(t);try{const r=n.viewQuery;null!==r&&i_(1,r,e);const i=n.template;null!==i&&SS(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&TS(n,t),n.staticViewQueries&&i_(2,n.viewQuery,e);const o=n.components;null!==o&&function mL(n,t){for(let e=0;e<t.length;e++)FL(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Xp()}}function Jf(n,t,e,r){const i=t[2];if(128!=(128&i)){$p(t);try{vb(t),function Sb(n){return bn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&SS(n,t,e,2,r);const u=3==(3&i);if(u){const B=n.preOrderCheckHooks;null!==B&&If(t,B,null)}else{const B=n.preOrderHooks;null!==B&&Rf(t,B,0,null),qp(t,0)}if(function NL(n){for(let t=gg(n);null!==t;t=_g(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(512&i[2])&&Hp(o,1),i[2]|=512}}}(t),function xL(n){for(let t=gg(n);null!==t;t=_g(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];Mf(r)&&Jf(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&TS(n,t),u){const B=n.contentCheckHooks;null!==B&&If(t,B)}else{const B=n.contentHooks;null!==B&&Rf(t,B,1),qp(t,1)}!function fL(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)hs(~i);else{const o=i,u=e[++r],h=e[++r];_O(u,o),h(2,t[o])}}}finally{hs(-1)}}(n,t);const h=n.components;null!==h&&function hL(n,t){for(let e=0;e<t.length;e++)LL(n,t[e])}(t,h);const C=n.viewQuery;if(null!==C&&i_(2,C,r),u){const B=n.viewCheckHooks;null!==B&&If(t,B)}else{const B=n.viewHooks;null!==B&&Rf(t,B,2),qp(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Hp(t[3],-1))}finally{Xp()}}}function SS(n,t,e,r,i){const o=gi(),u=2&r;try{hs(-1),u&&t.length>22&&cS(n,t,22,!1),e(r,i)}finally{hs(o)}}function Xg(n,t,e){if(jp(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const u=n.data[o];u.contentQueries&&u.contentQueries(1,e[o],o)}}}function qg(n,t,e){!Eb()||(function SL(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;Gu(e)&&function wL(n,t,e){const r=Ui(t,n),i=CS(e),o=n[10],u=eh(n,Zf(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=u}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||xf(e,t),ri(r,t);const u=e.initialInputs;for(let h=i;h<o;h++){const C=n.data[h],B=ms(t,n,h,e);ri(B,t),null!==u&&PL(0,h-i,B,C,0,u),vo(C)&&(ji(e.index,t)[8]=ms(t,n,h,e))}}(n,t,e,Ui(e,t)),64==(64&e.flags)&&wS(n,t,e))}function Qg(n,t,e=Ui){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const u=r[o+1],h=-1===u?e(t,n):n[u];n[i++]=h}}}function CS(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Zg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Zg(n,t,e,r,i,o,u,h,C,B){const Z=22+r,ye=Z+i,Me=function pL(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:Tn);return e}(Z,ye),xe="function"==typeof B?B():B;return Me[1]={type:n,blueprint:Me,template:e,queries:null,viewQuery:h,declTNode:t,data:Me.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:C,consts:xe,incompleteFirstPass:!1}}function MS(n,t,e,r){const i=OS(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&xS(n).push(r,i.length-1))}function DS(n,t,e,r){for(let i in n)if(n.hasOwnProperty(i)){e=null===e?{}:e;const o=n[i];null===r?AS(e,t,i,o):r.hasOwnProperty(i)&&AS(e,t,r[i],o)}return e}function AS(n,t,e,r){n.hasOwnProperty(e)?n[e].push(t,r):n[e]=[t,r]}function Wi(n,t,e,r,i,o,u,h){const C=Ui(t,e);let Z,B=t.inputs;!h&&null!=B&&(Z=B[r])?(o_(n,e,Z,r,i),Gu(t)&&IS(e,t.index)):3&t.type&&(r=function yL(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=u?u(i,t.value||"",r):i,o.setProperty(C,r,i))}function IS(n,t){const e=ji(t,n);16&e[2]||(e[2]|=32)}function Jg(n,t,e,r){let i=!1;if(Eb()){const o=null===r?null:{"":-1},u=function ML(n,t){const e=n.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const u=e[o];if(lS(t,u.selectors,!1))if(r||(r=[]),vo(u))if(null!==u.findHostDirectiveDefs){const h=[];i=i||new Map,u.findHostDirectiveDefs(u,h,i),r.unshift(...h,u),e_(n,t,h.length)}else r.unshift(u),e_(n,t,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return null===r?null:[r,i]}(n,e);let h,C;null===u?h=C=null:[h,C]=u,null!==h&&(i=!0,RS(n,t,e,h,o,C)),o&&function DL(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new _t(-301,!1);r.push(t[i],o)}}}(e,r,o)}return e.mergedAttrs=$u(e.mergedAttrs,e.attrs),i}function RS(n,t,e,r,i,o){for(let B=0;B<r.length;B++)ng(xf(e,t),n,r[B].type);!function IL(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,r.length);for(let B=0;B<r.length;B++){const Z=r[B];Z.providersResolver&&Z.providersResolver(Z)}let u=!1,h=!1,C=ac(n,t,r.length,null);for(let B=0;B<r.length;B++){const Z=r[B];e.mergedAttrs=$u(e.mergedAttrs,Z.hostAttrs),RL(n,e,t,C,Z),AL(C,Z,i),null!==Z.contentQueries&&(e.flags|=4),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(e.flags|=64);const ye=Z.type.prototype;!u&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),u=!0),!h&&(ye.ngOnChanges||ye.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),h=!0),C++}!function vL(n,t,e){const i=t.directiveEnd,o=n.data,u=t.attrs,h=[];let C=null,B=null;for(let Z=t.directiveStart;Z<i;Z++){const ye=o[Z],Me=e?e.get(ye):null,ke=Me?Me.outputs:null;C=DS(ye.inputs,Z,C,Me?Me.inputs:null),B=DS(ye.outputs,Z,B,ke);const Qe=null===C||null===u||sS(t)?null:OL(C,Z,u);h.push(Qe)}null!==C&&(C.hasOwnProperty("class")&&(t.flags|=8),C.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=C,t.outputs=B}(n,e,o)}function wS(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,u=function vO(){return bn.lFrame.currentDirectiveIndex}();try{hs(o);for(let h=r;h<i;h++){const C=n.data[h],B=t[h];Gp(h),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&CL(C,B)}}finally{hs(-1),Gp(u)}}function CL(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function e_(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function AL(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;vo(t)&&(e[""]=n)}}function RL(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=fs(i.type)),u=new Yu(o,vo(i),Ve);n.blueprint[r]=u,e[r]=u,function bL(n,t,e,r,i){const o=i.hostBindings;if(o){let u=n.hostBindingOpCodes;null===u&&(u=n.hostBindingOpCodes=[]);const h=~t.index;(function TL(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(u)!=h&&u.push(h),u.push(e,r,o)}}(n,t,r,ac(n,e,i.hostVars,Tn),i)}function Fo(n,t,e,r,i,o){const u=Ui(n,t);!function t_(n,t,e,r,i,o,u){if(null==o)n.removeAttribute(t,i,e);else{const h=null==u?dn(o):u(o,r||"",i);n.setAttribute(t,i,h,e)}}(t[11],u,o,n.value,e,r,i)}function PL(n,t,e,r,i,o){const u=o[t];if(null!==u){const h=r.setInput;for(let C=0;C<u.length;){const B=u[C++],Z=u[C++],ye=u[C++];null!==h?r.setInput(e,ye,B,Z):e[Z]=ye}}}function OL(n,t,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const u=n[o];for(let h=0;h<u.length;h+=2)if(u[h]===t){r.push(o,u[h+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function PS(n,t,e,r){return[n,!0,!1,t,null,0,r,e,null,null]}function LL(n,t){const e=ji(t,n);if(Mf(e)){const r=e[1];48&e[2]?Jf(r,e,r.template,e[8]):e[5]>0&&n_(e)}}function n_(n){for(let r=gg(n);null!==r;r=_g(r))for(let i=10;i<r.length;i++){const o=r[i];if(Mf(o))if(512&o[2]){const u=o[1];Jf(u,o,u.template,o[8])}else o[5]>0&&n_(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=ji(e[r],n);Mf(i)&&i[5]>0&&n_(i)}}function FL(n,t){const e=ji(t,n),r=e[1];(function BL(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),$g(r,e,e[8])}function eh(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function r_(n){for(;n;){n[2]|=32;const t=tc(n);if(ZP(n)&&!t)return n;n=t}return null}function th(n,t,e,r=!0){const i=t[10];i.begin&&i.begin();try{Jf(n,t,n.template,e)}catch(u){throw r&&LS(t,u),u}finally{i.end&&i.end()}}function i_(n,t,e){Yp(0),t(n,e)}function OS(n){return n[7]||(n[7]=[])}function xS(n){return n.cleanup||(n.cleanup=[])}function LS(n,t){const e=n[9],r=e?e.get(ua,null):null;r&&r.handleError(t)}function o_(n,t,e,r,i){for(let o=0;o<e.length;){const u=e[o++],h=e[o++],C=t[u],B=n.data[u];null!==B.setInput?B.setInput(C,i,r,h):C[h]=i}}function da(n,t,e){const r=Cf(t,n);!function gT(n,t,e){n.setValue(t,e)}(n[11],r,e)}function nh(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let u=0;u<t.length;u++){const h=t[u];"number"==typeof h?o=h:1==o?i=Ut(i,h):2==o&&(r=Ut(r,h+": "+t[++u]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function rh(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(Xr(o)),_o(o))for(let h=10;h<o.length;h++){const C=o[h],B=C[1].firstChild;null!==B&&rh(C[1],C,B,r)}const u=e.type;if(8&u)rh(n,t,e.child,r);else if(32&u){const h=pg(e,t);let C;for(;C=h();)r.push(C)}else if(16&u){const h=AT(t,e);if(Array.isArray(h))r.push(...h);else{const C=tc(t[16]);rh(C[1],C,h,r,!0)}}e=i?e.projectionNext:e.next}return r}class sc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return rh(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(_o(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(Eg(t,r),Lf(e,r))}this._attachedToViewContainer=!1}vT(this._lView[1],this._lView)}onDestroy(t){MS(this._lView[1],this._lView,null,t)}markForCheck(){r_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){th(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _t(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mx(n,t){nc(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new _t(902,!1);this._appRef=t}}class kL extends sc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;th(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class FS extends Rl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=$n(t);return new lc(e,this.ngModule)}}function BS(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class jL{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=il(r);const i=this.injector.get(t,jg,r);return i!==jg||e===jg?i:this.parentInjector.get(t,e,r)}}class lc extends nS{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function zN(n){return n.map(GN).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return BS(this.componentDef.inputs)}get outputs(){return BS(this.componentDef.outputs)}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof Lo?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const u=o?new jL(t,o):t,h=u.get(oc,null);if(null===h)throw new _t(407,!1);const C=u.get(MN,null),B=h.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ye=r?function gL(n,t,e){return n.selectRootElement(t,e===fi.ShadowDom)}(B,r,this.componentDef.encapsulation):yg(B,Z,function UL(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Z)),Me=this.componentDef.onPush?288:272,xe=Zg(0,null,null,1,0,null,null,null,null,null),ke=Zf(null,xe,null,Me,null,null,h,B,C,u,null);let Qe,ft;$p(ke);try{const vt=this.componentDef;let Lt,bt=null;vt.findHostDirectiveDefs?(Lt=[],bt=new Map,vt.findHostDirectiveDefs(vt,Lt,bt),Lt.push(vt)):Lt=[vt];const qt=function HL(n,t){const e=n[1];return n[22]=t,xl(e,22,2,"#host",null)}(ke,ye),kn=function WL(n,t,e,r,i,o,u,h){const C=i[1];!function KL(n,t,e,r){for(const i of n)t.mergedAttrs=$u(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(nh(t,t.mergedAttrs,!0),null!==e&&wT(r,e,t))}(r,n,t,u);const B=o.createRenderer(t,e),Z=Zf(i,CS(e),null,e.onPush?32:16,i[n.index],n,o,B,h||null,null,null);return C.firstCreatePass&&e_(C,n,r.length-1),eh(i,Z),i[n.index]=Z}(qt,ye,vt,Lt,ke,h,B);ft=_b(xe,22),ye&&function zL(n,t,e,r){if(r)Zp(n,e,["ng-version",DN.full]);else{const{attrs:i,classes:o}=function YN(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!yo(i))break;i=o}r++}return{attrs:t,classes:e}}(t.selectors[0]);i&&Zp(n,e,i),o&&o.length>0&&RT(n,e,o.join(" "))}}(B,vt,ye,r),void 0!==e&&function YL(n,t,e){const r=n.projection=[];for(let i=0;i<t.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(ft,this.ngContentSelectors,e),Qe=function GL(n,t,e,r,i,o){const u=qr(),h=i[1],C=Ui(u,i);RS(h,i,u,e,null,r);for(let Z=0;Z<e.length;Z++)ri(ms(i,h,u.directiveStart+Z,u),i);wS(h,i,u),C&&ri(C,i);const B=ms(i,h,u.directiveStart+u.componentOffset,u);if(n[8]=i[8]=B,null!==o)for(const Z of o)Z(B,t);return Xg(h,u,n),B}(kn,vt,Lt,bt,ke,[$L]),$g(xe,ke,null)}finally{Xp()}return new VL(this.componentType,Qe,wl(ft,ke),ke,ft)}}class VL extends yN{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new kL(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;o_(o[1],o,i,t,e),IS(o,this._tNode.index)}}get injector(){return new _l(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function $L(){const n=qr();Af(wt()[1],n)}function Sn(n){let t=function kS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(vo(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new _t(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const u=n;u.inputs=a_(n.inputs),u.declaredInputs=a_(n.declaredInputs),u.outputs=a_(n.outputs);const h=i.hostBindings;h&&ZL(n,h);const C=i.viewQuery,B=i.contentQueries;if(C&&qL(n,C),B&&QL(n,B),Ke(n.inputs,i.inputs),Ke(n.declaredInputs,i.declaredInputs),Ke(n.outputs,i.outputs),vo(i)&&i.data.animation){const Z=n.data;Z.animation=(Z.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let u=0;u<o.length;u++){const h=o[u];h&&h.ngInherit&&h(n),h===Sn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function XL(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=$u(i.hostAttrs,e=$u(e,i.hostAttrs))}}(r)}function a_(n){return n===Li?{}:n===jn?[]:n}function qL(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function QL(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function ZL(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let ih=null;function bs(){if(!ih){const n=Jn.Symbol;if(n&&n.iterator)ih=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ih=r)}}}return ih}function uc(n){return!!s_(n)&&(Array.isArray(n)||!(n instanceof Map)&&bs()in n)}function s_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Bo(n,t,e){return n[t]=e}function ii(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ts(n,t,e,r){const i=ii(n,t,e);return ii(n,t+1,r)||i}function ar(n,t,e,r){const i=wt();return ii(i,pl(),t)&&(Bn(),Fo(gr(),i,n,t,e,r)),ar}function Fl(n,t,e,r,i,o){const h=Ts(n,function ia(){return bn.lFrame.bindingIndex}(),e,i);return oa(2),h?t+dn(e)+r+dn(i)+o:Tn}function zt(n,t,e,r,i,o,u,h){const C=wt(),B=Bn(),Z=n+22,ye=B.firstCreatePass?function lF(n,t,e,r,i,o,u,h,C){const B=t.consts,Z=xl(t,n,4,u||null,Ba(B,h));Jg(t,e,Z,Ba(B,C)),Af(t,Z);const ye=Z.tViews=Zg(2,Z,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,B);return null!==t.queries&&(t.queries.template(t,Z),ye.queries=t.queries.embeddedTView(Z)),Z}(Z,B,C,t,e,r,i,o,u):B.data[Z];Oo(ye,!1);const Me=C[11].createComment("");Vf(B,C,Me,ye),ri(Me,C),eh(C,C[Z]=PS(Me,C,Me,ye)),Sf(ye)&&qg(B,C,ye),null!=u&&Qg(C,ye,h)}function Ar(n){return ml(function pO(){return bn.lFrame.contextLView}(),22+n)}function Tt(n,t,e){const r=wt();return ii(r,pl(),t)&&Wi(Bn(),gr(),r,n,t,r[11],e,!1),Tt}function l_(n,t,e,r,i){const u=i?"class":"style";o_(n,e,t.inputs[u],u,r)}function Pt(n,t,e,r){const i=wt(),o=Bn(),u=22+n,h=i[11],C=i[u]=yg(h,t,function CO(){return bn.lFrame.currentNamespace}()),B=o.firstCreatePass?function cF(n,t,e,r,i,o,u){const h=t.consts,B=xl(t,n,2,i,Ba(h,o));return Jg(t,e,B,Ba(h,u)),null!==B.attrs&&nh(B,B.attrs,!1),null!==B.mergedAttrs&&nh(B,B.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,B),B}(u,o,i,0,t,e,r):o.data[u];return Oo(B,!0),wT(h,C,B),32!=(32&B.flags)&&Vf(o,i,C,B),0===function cO(){return bn.lFrame.elementDepthCount}()&&ri(C,i),function dO(){bn.lFrame.elementDepthCount++}(),Sf(B)&&(qg(o,i,B),Xg(o,B,i)),null!==r&&Qg(i,B),Pt}function Nt(){let n=qr();Wp()?Kp():(n=n.parent,Oo(n,!1));const t=n;!function fO(){bn.lFrame.elementDepthCount--}();const e=Bn();return e.firstCreatePass&&(Af(e,n),jp(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function IO(n){return 0!=(8&n.flags)}(t)&&l_(e,t,wt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function RO(n){return 0!=(16&n.flags)}(t)&&l_(e,t,wt(),t.stylesWithoutHost,!1),Nt}function en(n,t,e,r){return Pt(n,t,e,r),Nt(),en}function ko(n,t,e){const r=wt(),i=Bn(),o=n+22,u=i.firstCreatePass?function dF(n,t,e,r,i){const o=t.consts,u=Ba(o,r),h=xl(t,n,8,"ng-container",u);return null!==u&&nh(h,u,!0),Jg(t,e,h,Ba(o,i)),null!==t.queries&&t.queries.elementStart(t,h),h}(o,i,r,t,e):i.data[o];Oo(u,!0);const h=r[o]=r[11].createComment("");return Vf(i,r,h,u),ri(h,r),Sf(u)&&(qg(i,r,u),Xg(i,u,r)),null!=e&&Qg(r,u),ko}function Uo(){let n=qr();const t=Bn();return Wp()?Kp():(n=n.parent,Oo(n,!1)),t.firstCreatePass&&(Af(t,n),jp(n)&&t.queries.elementEnd(n)),Uo}function dc(n,t,e){return ko(n,t,e),Uo(),dc}function Lr(){return wt()}function fc(n){return!!n&&"function"==typeof n.then}function QS(n){return!!n&&"function"==typeof n.subscribe}const u_=QS;function Cn(n,t,e,r){const i=wt(),o=Bn(),u=qr();return function JS(n,t,e,r,i,o,u){const h=Sf(r),B=n.firstCreatePass&&xS(n),Z=t[8],ye=OS(t);let Me=!0;if(3&r.type||u){const Qe=Ui(r,t),ft=u?u(Qe):Qe,vt=ye.length,Lt=u?qt=>u(Xr(qt[r.index])):r.index;let bt=null;if(!u&&h&&(bt=function fF(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const u=i[o];if(u===e&&i[o+1]===r){const h=t[7],C=i[o+2];return h.length>C?h[C]:null}"string"==typeof u&&(o+=2)}return null}(n,t,i,r.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=o,bt.__ngLastListenerFn__=o,Me=!1;else{o=tC(r,t,Z,o,!1);const qt=e.listen(ft,i,o);ye.push(o,qt),B&&B.push(i,Lt,vt,vt+1)}}else o=tC(r,t,Z,o,!1);const xe=r.outputs;let ke;if(Me&&null!==xe&&(ke=xe[i])){const Qe=ke.length;if(Qe)for(let ft=0;ft<Qe;ft+=2){const kn=t[ke[ft]][ke[ft+1]].subscribe(o),zn=ye.length;ye.push(o,kn),B&&B.push(i,r.index,zn,-(zn+1))}}}(o,i,i[11],u,n,t,r),Cn}function eC(n,t,e,r){try{return!1!==e(r)}catch(i){return LS(n,i),!1}}function tC(n,t,e,r,i){return function o(u){if(u===Function)return r;r_(n.componentOffset>-1?ji(n.index,t):t);let C=eC(t,0,r,u),B=o.__ngNextListenerFn__;for(;B;)C=eC(t,0,B,u)&&C,B=B.__ngNextListenerFn__;return i&&!1===C&&(u.preventDefault(),u.returnValue=!1),C}}function tn(n=1){return function EO(n){return(bn.lFrame.contextLView=function bO(n,t){for(;n>0;)t=t[15],n--;return t}(n,bn.lFrame.contextLView))[8]}(n)}function hF(n,t){let e=null;const r=function VN(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?lS(n,o,!0):KN(r,o))return i}else e=i}return e}function Ki(n){const t=wt()[16][6];if(!t.projection){const r=t.projection=Qu(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const u=n?hF(o,n):0;null!==u&&(i[u]?i[u].projectionNext=o:r[u]=o,i[u]=o),o=o.next}}}function Qn(n,t=0,e){const r=wt(),i=Bn(),o=xl(i,22+n,16,null,e||null);null===o.projection&&(o.projection=t),Kp(),32!=(32&o.flags)&&function xx(n,t,e){IT(t[11],0,t,e,yT(n,e,t),ST(e.parent||t[6],e,t))}(i,r,o)}function ah(n,t){return n<<17|t<<2}function ka(n){return n>>17&32767}function d_(n){return 2|n}function Ss(n){return(131068&n)>>2}function f_(n,t){return-131069&n|t<<2}function h_(n){return 1|n}function dC(n,t,e,r,i){const o=n[e+1],u=null===t;let h=r?ka(o):Ss(o),C=!1;for(;0!==h&&(!1===C||u);){const Z=n[h+1];yF(n[h],t)&&(C=!0,n[h+1]=r?h_(Z):d_(Z)),h=r?ka(Z):Ss(Z)}C&&(n[e+1]=r?d_(o):h_(o))}function yF(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Sl(n,t)>=0}function Ua(n,t,e){return Eo(n,t,e,!1),Ua}function _r(n,t){return Eo(n,t,null,!0),_r}function Eo(n,t,e,r){const i=wt(),o=Bn(),u=oa(2);o.firstUpdatePass&&function yC(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[gi()],u=function vC(n,t){return t>=n.expandoStartIndex}(n,e);(function SC(n,t){return 0!=(n.flags&(t?8:16))})(o,r)&&null===t&&!u&&(t=!1),t=function IF(n,t,e,r){const i=function zp(n){const t=bn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=hc(e=m_(null,n,t,e,r),t.attrs,r),o=null);else{const u=t.directiveStylingLast;if(-1===u||n[u]!==i)if(e=m_(i,n,t,e,r),null===o){let C=function RF(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Ss(r))return n[ka(r)]}(n,t,r);void 0!==C&&Array.isArray(C)&&(C=m_(null,n,t,C[1],r),C=hc(C,t.attrs,r),function wF(n,t,e,r){n[ka(e?t.classBindings:t.styleBindings)]=r}(n,t,r,C))}else o=function PF(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=hc(r,n[o].hostAttrs,e);return hc(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function _F(n,t,e,r,i,o){let u=o?t.classBindings:t.styleBindings,h=ka(u),C=Ss(u);n[r]=e;let Z,B=!1;if(Array.isArray(e)){const ye=e;Z=ye[1],(null===Z||Sl(ye,Z)>0)&&(B=!0)}else Z=e;if(i)if(0!==C){const Me=ka(n[h+1]);n[r+1]=ah(Me,h),0!==Me&&(n[Me+1]=f_(n[Me+1],r)),n[h+1]=function pF(n,t){return 131071&n|t<<17}(n[h+1],r)}else n[r+1]=ah(h,0),0!==h&&(n[h+1]=f_(n[h+1],r)),h=r;else n[r+1]=ah(C,0),0===h?h=r:n[C+1]=f_(n[C+1],r),C=r;B&&(n[r+1]=d_(n[r+1])),dC(n,Z,r,!0),dC(n,Z,r,!1),function vF(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Sl(o,t)>=0&&(e[r+1]=h_(e[r+1]))}(t,Z,n,r,o),u=ah(h,C),o?t.classBindings=u:t.styleBindings=u}(i,o,t,e,u,r)}}(o,n,u,r),t!==Tn&&ii(i,u,t)&&function bC(n,t,e,r,i,o,u,h){if(!(3&t.type))return;const C=n.data,B=C[h+1],Z=function gF(n){return 1==(1&n)}(B)?TC(C,t,e,i,Ss(B),u):void 0;sh(Z)||(sh(o)||function mF(n){return 2==(2&n)}(B)&&(o=TC(C,null,e,i,h,u)),function Lx(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:Di.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Di.Important),n.setStyle(e,r,i,o))}}(r,u,Cf(gi(),e),i,o))}(o,o.data[gi()],i,i[11],n,i[u+1]=function NF(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Et(Hi(n)))),n}(t,e),r,u)}function m_(n,t,e,r,i){let o=null;const u=e.directiveEnd;let h=e.directiveStylingLast;for(-1===h?h=e.directiveStart:h++;h<u&&(o=t[h],r=hc(r,o.hostAttrs,i),o!==n);)h++;return null!==n&&(e.directiveStylingLast=h),r}function hc(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const u=t[o];"number"==typeof u?i=u:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Vi(n,u,!!e||t[++o]))}return void 0===n?null:n}function TC(n,t,e,r,i,o){const u=null===t;let h;for(;i>0;){const C=n[i],B=Array.isArray(C),Z=B?C[1]:C,ye=null===Z;let Me=e[i+1];Me===Tn&&(Me=ye?jn:void 0);let xe=ye?ag(Me,r):Z===r?Me:void 0;if(B&&!sh(xe)&&(xe=ag(C,r)),sh(xe)&&(h=xe,u))return h;const ke=n[i+1];i=u?ka(ke):Ss(ke)}if(null!==t){let C=o?t.residualClasses:t.residualStyles;null!=C&&(h=ag(C,r))}return h}function sh(n){return void 0!==n}function wn(n,t=""){const e=wt(),r=Bn(),i=n+22,o=r.firstCreatePass?xl(r,i,1,t,null):r.data[i],u=e[i]=function vg(n,t){return n.createText(t)}(e[11],t);Vf(r,e,u,o),Oo(o,!1)}function _i(n){return Qr("",n,""),_i}function Qr(n,t,e){const r=wt(),i=function Ll(n,t,e,r){return ii(n,pl(),e)?t+dn(e)+r:Tn}(r,n,t,e);return i!==Tn&&da(r,gi(),i),Qr}function lh(n,t,e,r,i){const o=wt(),u=Fl(o,n,t,e,r,i);return u!==Tn&&da(o,gi(),u),lh}function mc(n,t,e){const r=wt();return ii(r,pl(),t)&&Wi(Bn(),gr(),r,n,t,r[11],e,!0),mc}const Gl="en-US";let WC=Gl;function __(n,t,e,r,i){if(n=Wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)__(n[o],t,e,r,i);else{const o=Bn(),u=wt();let h=ys(n)?n:Wt(n.provide),C=tS(n);const B=qr(),Z=1048575&B.providerIndexes,ye=B.directiveStart,Me=B.providerIndexes>>20;if(ys(n)||!n.multi){const xe=new Yu(C,i,Ve),ke=y_(h,t,i?Z:Z+Me,ye);-1===ke?(ng(xf(B,u),o,h),v_(o,n,t.length),t.push(h),B.directiveStart++,B.directiveEnd++,i&&(B.providerIndexes+=1048576),e.push(xe),u.push(xe)):(e[ke]=xe,u[ke]=xe)}else{const xe=y_(h,t,Z+Me,ye),ke=y_(h,t,Z,Z+Me),Qe=xe>=0&&e[xe],ft=ke>=0&&e[ke];if(i&&!ft||!i&&!Qe){ng(xf(B,u),o,h);const vt=function J1(n,t,e,r,i){const o=new Yu(n,e,Ve);return o.multi=[],o.index=t,o.componentProviders=0,p0(o,i,r&&!e),o}(i?Z1:Q1,e.length,i,r,C);!i&&ft&&(e[ke].providerFactory=vt),v_(o,n,t.length,0),t.push(h),B.directiveStart++,B.directiveEnd++,i&&(B.providerIndexes+=1048576),e.push(vt),u.push(vt)}else v_(o,n,xe>-1?xe:ke,p0(e[i?ke:xe],C,!i&&r));!i&&r&&ft&&e[ke].componentProviders++}}}function v_(n,t,e,r){const i=ys(t),o=function fN(n){return!!n.useClass}(t);if(i||o){const C=(o?Wt(t.useClass):t).prototype.ngOnDestroy;if(C){const B=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const Z=B.indexOf(e);-1===Z?B.push(e,[r,C]):B[Z+1].push(r,C)}else B.push(e,C)}}}function p0(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function y_(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function Q1(n,t,e,r){return E_(this.multi,[])}function Z1(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const u=this.providerFactory.componentProviders,h=ms(e,e[1],this.providerFactory.index,r);o=h.slice(0,u),E_(i,o);for(let C=u;C<h.length;C++)o.push(h[C])}else o=[],E_(i,o);return o}function E_(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Xn(n,t=[]){return e=>{e.providersResolver=(r,i)=>function q1(n,t,e){const r=Bn();if(r.firstCreatePass){const i=vo(n);__(e,r.data,r.blueprint,i,!0),__(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class zl{}class g0{}class _0 extends zl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new FS(this);const r=Fi(t);this._bootstrapComponents=ca(r.bootstrap),this._r3Injector=pS(t,e,[{provide:zl,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],Et(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class b_ extends g0{constructor(t){super(),this.moduleType=t}create(t){return new _0(this.moduleType,t)}}class tB extends zl{constructor(t,e,r){super(),this.componentFactoryResolver=new FS(this),this.instance=null;const i=new eS([...t,{provide:zl,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],e||Xf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function hh(n,t,e=null){return new tB(n,t,e).injector}let nB=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=qT(0,e.type),i=r.length>0?hh([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=et({token:n,providedIn:"environment",factory:()=>new n(lt(Lo))}),n})();function qn(n){n.getStandaloneInjector=t=>t.get(nB).getOrCreateStandaloneInjector(n)}function To(n,t,e,r){return C0(wt(),pi(),n,t,e,r)}function S_(n,t,e,r,i){return function M0(n,t,e,r,i,o,u){const h=t+e;return Ts(n,h,i,o)?Bo(n,h+2,u?r.call(u,i,o):r(i,o)):Ec(n,h+2)}(wt(),pi(),n,t,e,r,i)}function Ec(n,t){const e=n[t];return e===Tn?void 0:e}function C0(n,t,e,r,i,o){const u=t+e;return ii(n,u,i)?Bo(n,u+1,o?r.call(o,i):r(i)):Ec(n,u+1)}function hr(n,t){const e=Bn();let r;const i=n+22;e.firstCreatePass?(r=function yB(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=fs(r.type)),u=Mi(Ve);try{const h=Of(!1),C=o();return Of(h),function uF(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,wt(),i,C),C}finally{Mi(u)}}function mr(n,t,e){const r=n+22,i=wt(),o=ml(i,r);return function bc(n,t){return n[1].data[t].pure}(i,r)?C0(i,pi(),t,o.transform,e,o):o.transform(e)}function C_(n){return t=>{setTimeout(n,void 0,t)}}const er=class CB extends de{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),u=r;if(t&&"object"==typeof t){const C=t;i=C.next?.bind(C),o=C.error?.bind(C),u=C.complete?.bind(C)}this.__isAsync&&(o=C_(o),i&&(i=C_(i)),u&&(u=C_(u)));const h=super.subscribe({next:i,error:o,complete:u});return t instanceof w&&t.add(h),h}};function MB(){return this._results[bs()]()}class Yl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=bs(),r=Yl.prototype;r[e]||(r[e]=MB)}get changes(){return this._changes||(this._changes=new er)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=function oo(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function UO(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ho=(()=>{class n{}return n.__NG_ELEMENT_ID__=IB,n})();const DB=Ho,AB=class extends DB{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=Zf(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[17]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[19];return null!==u&&(i[19]=u.createEmbeddedView(r)),$g(r,i,t),new sc(i)}};function IB(){return mh(qr(),wt())}function mh(n,t){return 4&n.type?new AB(t,n,wl(n,t)):null}let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=RB,n})();function RB(){return P0(qr(),wt())}const wB=Gi,R0=class extends wB{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return wl(this._hostTNode,this._hostLView)}get injector(){return new _l(this._hostTNode,this._hostLView)}get parentInjector(){const t=tg(this._hostTNode,this._hostLView);if(Fb(t)){const e=Pf(t,this._hostLView),r=wf(t);return new _l(e[1].data[r+8],e)}return new _l(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=w0(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const u=t.createEmbeddedView(e||{},o);return this.insert(u,i),u}createComponent(t,e,r,i,o){const u=t&&!function qu(n){return"function"==typeof n}(t);let h;if(u)h=e;else{const ye=e||{};h=ye.index,r=ye.injector,i=ye.projectableNodes,o=ye.environmentInjector||ye.ngModuleRef}const C=u?t:new lc($n(t)),B=r||this.parentInjector;if(!o&&null==C.ngModule){const Me=(u?B:this.parentInjector).get(Lo,null);Me&&(o=Me)}const Z=C.create(B,i,void 0,o);return this.insert(Z.hostView,h),Z}insert(t,e){const r=t._lView,i=r[1];if(function uO(n){return _o(n[3])}(r)){const Z=this.indexOf(t);if(-1!==Z)this.detach(Z);else{const ye=r[3],Me=new R0(ye,ye[6],ye[3]);Me.detach(Me.indexOf(t))}}const o=this._adjustIndex(e),u=this._lContainer;!function Ax(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],$b(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const u=t[17];null!==u&&e!==u&&function Ix(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(u,t);const h=t[19];null!==h&&h.insertView(n),t[2]|=64}(i,r,u,o);const h=Sg(o,u),C=r[11],B=jf(C,u[7]);return null!==B&&function Cx(n,t,e,r,i,o){r[0]=i,r[6]=t,nc(n,r,e,1,i,o)}(i,u[6],C,r,B,h),t.attachToViewContainerRef(),$b(M_(u),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=w0(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Eg(this._lContainer,e);r&&(Lf(M_(this._lContainer),e),vT(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=Eg(this._lContainer,e);return r&&null!=Lf(M_(this._lContainer),e)?new sc(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function w0(n){return n[8]}function M_(n){return n[8]||(n[8]=[])}function P0(n,t){let e;const r=t[n.index];if(_o(r))e=r;else{let i;if(8&n.type)i=Xr(r);else{const o=t[11];i=o.createComment("");const u=Ui(n,t);gs(o,jf(o,u),i,function Ox(n,t){return n.nextSibling(t)}(o,u),!1)}t[n.index]=e=PS(r,t,i,n),eh(t,e)}return new R0(e,n,t)}class D_{constructor(t){this.queryList=t,this.matches=null}clone(){return new D_(this.queryList)}setDirty(){this.queryList.setDirty()}}class A_{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const u=e.getByIndex(o);i.push(this.queries[u.indexInDeclarationView].clone())}return new A_(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==F0(t,e).matches&&this.queries[e].setDirty()}}class O0{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class I_{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new I_(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class R_{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new R_(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,PB(e,o)),this.matchTNodeWithReadOption(t,e,Nf(e,t,o,!1,!1))}else r===Ho?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Nf(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Rn||i===Gi||i===Ho&&4&e.type)this.addMatch(e.index,-2);else{const o=Nf(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function PB(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function xB(n,t,e,r){return-1===e?function OB(n,t){return 11&n.type?wl(n,t):4&n.type?mh(n,t):null}(t,n):-2===e?function NB(n,t,e){return e===Rn?wl(t,n):e===Ho?mh(t,n):e===Gi?P0(t,n):void 0}(n,t,r):ms(n,n[1],e,t)}function x0(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const o=n.data,u=e.matches,h=[];for(let C=0;C<u.length;C+=2){const B=u[C];h.push(B<0?null:xB(t,o[B],u[C+1],e.metadata.read))}i.matches=h}return i.matches}function w_(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const u=x0(n,t,i,e);for(let h=0;h<o.length;h+=2){const C=o[h];if(C>0)r.push(u[h/2]);else{const B=o[h+1],Z=t[-C];for(let ye=10;ye<Z.length;ye++){const Me=Z[ye];Me[17]===Me[3]&&w_(Me[1],Me,B,r)}if(null!==Z[9]){const ye=Z[9];for(let Me=0;Me<ye.length;Me++){const xe=ye[Me];w_(xe[1],xe,B,r)}}}}}return r}function rr(n){const t=wt(),e=Bn(),r=Mb();Yp(r+1);const i=F0(e,r);if(n.dirty&&function lO(n){return 4==(4&n[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?w_(e,t,r,[]):x0(e,t,i,r);n.reset(o,SN),n.notifyOnChanges()}return!0}return!1}function yi(n,t,e){const r=Bn();r.firstCreatePass&&(L0(r,new O0(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),N0(r,wt(),t)}function zi(n,t,e,r){const i=Bn();if(i.firstCreatePass){const o=qr();L0(i,new O0(t,e,r),o.index),function FB(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}N0(i,wt(),e)}function ir(){return function LB(n,t){return n[19].queries[t].queryList}(wt(),Mb())}function N0(n,t,e){const r=new Yl(4==(4&e));MS(n,t,r,r.destroy),null===t[19]&&(t[19]=new A_),t[19].queries.push(new D_(r))}function L0(n,t,e){null===n.queries&&(n.queries=new I_),n.queries.track(new R_(t,e))}function F0(n,t){return n.queries.getByIndex(t)}function P_(n,t){return mh(n,t)}function gh(...n){}const Sc=new Ft("Application Initializer");let _h=(()=>{class n{constructor(e){this.appInits=e,this.resolve=gh,this.reject=gh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(fc(o))e.push(o);else if(u_(o)){const u=new Promise((h,C)=>{o.subscribe({complete:h,error:C})});e.push(u)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(lt(Sc,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vh=new Ft("AppId",{providedIn:"root",factory:function tM(){return`${F_()}${F_()}${F_()}`}});function F_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nM=new Ft("Platform Initializer"),yh=new Ft("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B_=new Ft("appBootstrapListener"),Wo=new Ft("AnimationModuleType");let nk=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ko=new Ft("LocaleId",{providedIn:"root",factory:()=>vn(Ko,hn.Optional|hn.SkipSelf)||function rk(){return typeof $localize<"u"&&$localize.locale||Gl}()});class ok{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let rM=(()=>{class n{compileModuleSync(e){return new b_(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=ca(Fi(e).declarations).reduce((u,h)=>{const C=$n(h);return C&&u.push(new lc(C)),u},[]);return new ok(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lk=(()=>Promise.resolve(0))();class yn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new er(!1),this.onMicrotaskEmpty=new er(!1),this.onStable=new er(!1),this.onError=new er(!1),typeof Zone>"u")throw new _t(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function uk(){let n=Jn.requestAnimationFrame,t=Jn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function fk(n){const t=()=>{!function dk(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Jn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,j_(n),n.isCheckStableRunning=!0,U_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),j_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,u,h)=>{try{return aM(n),e.invokeTask(i,o,u,h)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),sM(n)}},onInvoke:(e,r,i,o,u,h,C)=>{try{return aM(n),e.invoke(i,o,u,h,C)}finally{n.shouldCoalesceRunChangeDetection&&t(),sM(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,j_(n),U_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yn.isInAngularZone())throw new _t(909,!1)}static assertNotInAngularZone(){if(yn.isInAngularZone())throw new _t(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,u=o.scheduleEventTask("NgZoneEvent: "+i,t,ck,gh,gh);try{return o.runTask(u,e,r)}finally{o.cancelTask(u)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const ck={};function U_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function j_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function aM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sM(n){n._nesting--,U_(n)}class hk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new er,this.onMicrotaskEmpty=new er,this.onStable=new er,this.onError=new er}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const lM=new Ft("");let ja=null;const K_=new Ft("PlatformDestroyListeners");class cM{constructor(t,e){this.name=t,this.token=e}}function yk(n){const{rootComponent:t,appProviders:e,platformProviders:r}=n,i=function vk(n=[]){if(ja)return ja;const t=function fM(n=[],t){return Ii.create({name:t,providers:[{provide:Fg,useValue:"platform"},{provide:K_,useValue:new Set([()=>ja=null])},...n]})}(n);return ja=t,function dM(n){const t=n.get(nM,null);t&&t.forEach(e=>e())}(t),t}(r),o=function pM(n,t){let e;return e="noop"===n?new hk:("zone.js"===n?void 0:n)||new yn(t),e}("zone.js",function mM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return o.run(()=>{const h=hh([{provide:yn,useValue:o},...e||[]],i,"Environment Injector"),C=h.get(ua,null);let B;o.runOutsideAngular(()=>{B=o.onError.subscribe({next:Me=>{C.handleError(Me)}})});const Z=()=>h.destroy(),ye=i.get(K_);return ye.add(Z),h.onDestroy(()=>{B.unsubscribe(),ye.delete(Z)}),function gM(n,t,e){try{const r=e();return fc(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(C,o,()=>{const Me=h.get(_h);return Me.runInitializers(),Me.donePromise.then(()=>{!function KC(n){xr(n,"Expected localeId to be defined"),"string"==typeof n&&(WC=n.toLowerCase().replace(/_/g,"-"))}(h.get(Ko,Gl)||Gl);const ke=h.get(ql);return void 0!==t&&ke.bootstrap(t),ke})})})}let ql=(()=>{class n{constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new z(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),u=new z(h=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{yn.assertNotInAngularZone(),function k_(n){typeof Zone>"u"?lk.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{yn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{C.unsubscribe(),B.unsubscribe()}});this.isStable=qe(o,u.pipe(dt()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof nS;if(!this._injector.get(_h).done)throw!i&&function ul(n){const t=$n(n)||ei(n)||hi(n);return null!==t&&t.standalone}(e),new _t(405,false);let u;u=i?e:this._injector.get(Rl).resolveComponentFactory(e),this.componentTypes.push(u.componentType);const h=function gk(n){return n.isBoundToModule}(u)?void 0:this._injector.get(zl),B=u.create(Ii.NULL,[],r||u.selector,h),Z=B.location.nativeElement,ye=B.injector.get(lM,null);return ye?.registerApplication(Z),B.onDestroy(()=>{this.detachView(B.hostView),bh(this.components,B),ye?.unregisterApplication(Z)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new _t(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;bh(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(B_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>bh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new _t(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(lt(yn),lt(Lo),lt(ua))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Yi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Tk,n})();function Tk(n){return function Sk(n,t,e){if(Gu(n)&&!e){const r=ji(n.index,t);return new sc(r,r)}return 47&n.type?new sc(t[16],t):null}(qr(),wt(),16==(16&n))}class TM{constructor(){}supports(t){return uc(t)}create(t){return new Rk(t)}}const Ik=(n,t)=>t;class Rk{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ik}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const u=!r||e&&e.currentIndex<CM(r,i,o)?e:r,h=CM(u,i,o),C=u.currentIndex;if(u===r)i--,r=r._nextRemoved;else if(e=e._next,null==u.previousIndex)i++;else{o||(o=[]);const B=h-i,Z=C-i;if(B!=Z){for(let Me=0;Me<B;Me++){const xe=Me<o.length?o[Me]:o[Me]=0,ke=xe+Me;Z<=ke&&ke<B&&(o[Me]=xe+1)}o[u.previousIndex]=Z-B}}h!==C&&t(u,h,C)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!uc(t))throw new _t(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,u,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)o=t[h],u=this._trackByFn(h,o),null!==e&&Object.is(e.trackById,u)?(r&&(e=this._verifyReinsertion(e,o,u,h)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,u,h),r=!0),e=e._next}else i=0,function oF(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[bs()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,h=>{u=this._trackByFn(i,h),null!==e&&Object.is(e.trackById,u)?(r&&(e=this._verifyReinsertion(e,h,u,i)),Object.is(e.item,h)||this._addIdentityChange(e,h)):(e=this._mismatch(e,h,u,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new wk(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new SM),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class wk{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pk{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class SM{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new Pk,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CM(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class MM{constructor(){}supports(t){return t instanceof Map||s_(t)}create(){return new Ok}}class Ok{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||s_(t)))throw new _t(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,u=i._next;return o&&(o._next=u),u&&(u._prev=o),i._next=null,i._prev=null,i}const r=new xk(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class xk{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DM(){return new Ch([new TM])}let Ch=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||DM()),deps:[[n,new Cl,new aa]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new _t(901,!1)}}return n.\u0275prov=et({token:n,providedIn:"root",factory:DM}),n})();function AM(){return new Cc([new MM])}let Cc=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||AM()),deps:[[n,new Cl,new aa]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new _t(901,!1)}}return n.\u0275prov=et({token:n,providedIn:"root",factory:AM}),n})();function Ql(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let q_=null;function Go(){return q_}class kk{}const Dn=new Ft("DocumentToken");let Q_=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:function(){return function Uk(){return lt(IM)}()},providedIn:"platform"}),n})();const jk=new Ft("Location Initialized");let IM=(()=>{class n extends Q_{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Go().getBaseHref(this._doc)}onPopState(e){const r=Go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Go().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){RM()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){RM()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn))},n.\u0275prov=et({token:n,factory:function(){return function Vk(){return new IM(lt(Dn))}()},providedIn:"platform"}),n})();function RM(){return!!window.history.pushState}function Z_(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function wM(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ha(n){return n&&"?"!==n[0]?"?"+n:n}let Ds=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:function(){return vn(OM)},providedIn:"root"}),n})();const PM=new Ft("appBaseHref");let OM=(()=>{class n extends Ds{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??vn(Dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Z_(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ha(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const u=this.prepareExternalUrl(i+ha(o));this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,o){const u=this.prepareExternalUrl(i+ha(o));this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(Q_),lt(PM,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hk=(()=>{class n extends Ds{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Z_(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let u=this.prepareExternalUrl(i+ha(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,r,u)}replaceState(e,r,i,o){let u=this.prepareExternalUrl(i+ha(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(Q_),lt(PM,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),Mh=(()=>{class n{constructor(e){this._subject=new er,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function Gk(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(wM(xM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ha(r))}normalize(e){return n.stripTrailingSlash(function Kk(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._basePath,xM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ha(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ha(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=ha,n.joinWithSlash=Z_,n.stripTrailingSlash=wM,n.\u0275fac=function(e){return new(e||n)(lt(Ds))},n.\u0275prov=et({token:n,factory:function(){return function Wk(){return new Mh(lt(Ds))}()},providedIn:"root"}),n})();function xM(n){return n.replace(/\/index.html$/,"")}function HM(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let Zl=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(uc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Et(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(Ve(Ch),Ve(Cc),Ve(Rn),Ve(la))},n.\u0275dir=Vt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class RU{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Va=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new RU(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===o?void 0:o);else if(null!==o){const h=r.get(o);r.move(h,u),GM(h,i)}});for(let i=0,o=r.length;i<o;i++){const h=r.get(i).context;h.index=i,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{GM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(Ve(Gi),Ve(Ho),Ve(Ch))},n.\u0275dir=Vt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function GM(n,t){n.context.$implicit=t.item}let kr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new PU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zM("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zM("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(Ve(Gi),Ve(Ho))},n.\u0275dir=Vt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class PU{constructor(){this.$implicit=null,this.ngIf=null}}function zM(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Et(t)}'.`)}class lv{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Lh=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),YM=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new lv(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(Ve(Gi),Ve(Ho),Ve(Lh,9))},n.\u0275dir=Vt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ac=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split("."),u=-1===i.indexOf("-")?void 0:Di.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(Cc),Ve(la))},n.\u0275dir=Vt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),uv=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Gi))},n.\u0275dir=Vt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ki]}),n})();class NU{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class LU{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const FU=new LU,BU=new NU;let As=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(fc(e))return FU;if(QS(e))return BU;throw function Mo(n,t){return new _t(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(Ve(Yi,16))},n.\u0275pipe=$r({name:"async",type:n,pure:!1,standalone:!0}),n})(),tr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({}),n})();const qM="browser";let mv,aj=(()=>{class n{}return n.\u0275prov=et({token:n,providedIn:"root",factory:()=>new sj(lt(Dn),window)}),n})();class sj{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function lj(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=QM(this.window.history)||QM(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function QM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ZM{}try{mv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mv=!1}let Jl,jr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function oj(n){return n===qM}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(lt(yh))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iD=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function oD(){if(Jl)return Jl;if("object"!=typeof document||!document)return Jl=new Set(iD),Jl;let n=document.createElement("input");return Jl=new Set(iD.filter(t=>(n.setAttribute("type",t),n.type===t))),Jl}let Rc,Bh,Rs,pv;function Is(n){return function Lj(){if(null==Rc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rc=!0}))}finally{Rc=Rc||!1}return Rc}()?n:!!n.capture}function aD(){if(null==Rs){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Rs=!1,Rs;if("scrollBehavior"in document.documentElement.style)Rs=!0;else{const n=Element.prototype.scrollTo;Rs=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Rs}function wc(){if("object"!=typeof document||!document)return 0;if(null==Bh){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),Bh=0,0===n.scrollLeft&&(n.scrollLeft=1,Bh=0===n.scrollLeft?1:2),n.remove()}return Bh}function Ha(n){return n.composedPath?n.composedPath()[0]:n.target}function gv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class $i extends de{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function on(...n){return Fe(n,nr(n))}function yv(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Hn(n,t,e){const r=m(n)||t||e?{next:n,error:t,complete:e}:n;return r?he((i,o)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let h=!0;i.subscribe(fe(o,C=>{var B;null===(B=r.next)||void 0===B||B.call(r,C),o.next(C)},()=>{var C;h=!1,null===(C=r.complete)||void 0===C||C.call(r),o.complete()},C=>{var B;h=!1,null===(B=r.error)||void 0===B||B.call(r,C),o.error(C)},()=>{var C,B;h&&(null===(C=r.unsubscribe)||void 0===C||C.call(r)),null===(B=r.finalize)||void 0===B||B.call(r)}))}):W}class eV extends w{constructor(t,e){super()}schedule(t,e=0){return this}}const kh={setInterval(n,t,...e){const{delegate:r}=kh;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=kh;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Ev extends eV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return kh.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&kh.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,I(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const cD={now:()=>(cD.delegate||Date).now(),delegate:void 0};class Pc{constructor(t,e=Pc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Pc.now=cD.now;class bv extends Pc{constructor(t,e=Pc.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const Uh=new bv(Ev),tV=Uh;function jh(n,t=Uh){return he((e,r)=>{let i=null,o=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const B=o;o=null,r.next(B)}};function C(){const B=u+n,Z=t.now();if(Z<B)return i=this.schedule(void 0,B-Z),void r.add(i);h()}e.subscribe(fe(r,B=>{o=B,u=t.now(),i||(i=t.schedule(C,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{o=i=null}))})}function Vr(n,t){return he((e,r)=>{let i=0;e.subscribe(fe(r,o=>n.call(t,o,i++)&&r.next(o)))})}function dD(n){return Vr((t,e)=>n<=e)}function rV(n,t){return n===t}function Hr(n){return he((t,e)=>{Te(n).subscribe(fe(e,()=>e.complete(),f)),!e.closed&&t.subscribe(e)})}function Xi(n){return null!=n&&"false"!=`${n}`}function eu(n,t=0){return function iV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Vh(n){return Array.isArray(n)?n:[n]}function wr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function pa(n){return n instanceof Rn?n.nativeElement:n}let fD=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oV=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=pa(e);return new z(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new de,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(lt(fD))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aV=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new er,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Xi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=eu(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(jh(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(Ve(oV),Ve(Rn),Ve(yn))},n.\u0275dir=Vt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({providers:[fD]}),n})();const{isArray:sV}=Array,{getPrototypeOf:lV,prototype:uV,keys:cV}=Object;function mD(n){if(1===n.length){const t=n[0];if(sV(t))return{args:t,keys:null};if(function dV(n){return n&&"object"==typeof n&&lV(n)===uV}(t)){const e=cV(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:fV}=Array;function Tv(n){return se(t=>function hV(n,t){return fV(t)?n(...t):n(t)}(n,t))}function pD(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Sv(...n){const t=nr(n),e=Fn(n),{args:r,keys:i}=mD(n);if(0===r.length)return Fe([],t);const o=new z(function mV(n,t,e=W){return r=>{gD(t,()=>{const{length:i}=n,o=new Array(i);let u=i,h=i;for(let C=0;C<i;C++)gD(t,()=>{const B=Fe(n[C],t);let Z=!1;B.subscribe(fe(r,ye=>{o[C]=ye,Z||(Z=!0,h--),h||r.next(e(o.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,i?u=>pD(i,u):W));return e?o.pipe(Tv(e)):o}function gD(n,t,e){n?Be(e,n,t):t()}function Oc(...n){return function pV(){return mt(1)}()(Fe(n,nr(n)))}function wi(n){return n<=0?()=>Dt:he((t,e)=>{let r=0;t.subscribe(fe(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function tu(...n){const t=nr(n);return he((e,r)=>{(t?Oc(n,e,t):Oc(n,e)).subscribe(r)})}const _D=new Set;let nu,gV=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vV}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function _V(n){if(!_D.has(n))try{nu||(nu=document.createElement("style"),nu.setAttribute("type","text/css"),document.head.appendChild(nu)),nu.sheet&&(nu.sheet.insertRule(`@media ${n} {body{ }}`,0),_D.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(jr))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vV(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let yV=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new de}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return vD(Vh(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=Sv(vD(Vh(e)).map(u=>this._registerQuery(u).observable));return o=Oc(o.pipe(wi(1)),o.pipe(dD(1),jh(0))),o.pipe(se(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:C,query:B})=>{h.matches=h.matches||C,h.breakpoints[B]=C}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new z(u=>{const h=C=>this._zone.run(()=>u.next(C));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(tu(r),se(({matches:u})=>({query:e,matches:u})),Hr(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(lt(gV),lt(yn))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vD(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Hh(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const ED="cdk-describedby-message",Wh="cdk-describedby-host";let Cv=0,TV=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Cv++,this._document=e,this._id=vn(vh)+"-"+Cv++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const o=Mv(r,i);"string"!=typeof r?(bD(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const o=Mv(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof r){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Wh}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(Wh);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");bD(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Mv(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=Hh(e,"aria-describedby").filter(i=>0!=i.indexOf(ED));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function EV(n,t,e){const r=Hh(n,t);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),n.setAttribute(t,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(Wh,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function bV(n,t,e){const i=Hh(n,t).filter(o=>o!=e.trim());i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(Wh)}_isElementDescribedByMessage(e,r){const i=Hh(e,"aria-describedby"),o=this._messageRegistry.get(r),u=o&&o.messageElement.id;return!!u&&-1!=i.indexOf(u)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=e.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn),lt(jr))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mv(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function bD(n,t){n.id||(n.id=`${ED}-${t}-${Cv++}`)}class SV{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new de,this._typeaheadSubscription=w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new de,this.change=new de,t instanceof Yl&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Hn(e=>this._pressedLetters.push(e)),jh(t),Vr(()=>this._pressedLetters.length>0),se(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,u=r[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(o<u?o:u-1,-1);break}return;default:return void((i||yv(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Yl?this._items.toArray():this._items}}class CV extends SV{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Dv(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Av(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const wV=new Ft("cdk-input-modality-detector-options"),PV={ignoreKeys:[18,17,224,91,16]},ru=Is({passive:!0,capture:!0});let OV=(()=>{class n{constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new $i(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ha(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Dv(u)?"keyboard":"mouse"),this._mostRecentTarget=Ha(u))},this._onTouchstart=u=>{Av(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ha(u))},this._options={...PV,...o},this.modalityDetected=this._modality.pipe(dD(1)),this.modalityChanged=this.modalityDetected.pipe(function nV(n,t=W){return n=n??rV,he((e,r)=>{let i,o=!0;e.subscribe(fe(r,u=>{const h=t(u);(o||!n(i,h))&&(o=!1,i=h,r.next(u))}))})}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,ru),i.addEventListener("mousedown",this._onMousedown,ru),i.addEventListener("touchstart",this._onTouchstart,ru)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ru),document.removeEventListener("mousedown",this._onMousedown,ru),document.removeEventListener("touchstart",this._onTouchstart,ru))}}return n.\u0275fac=function(e){return new(e||n)(lt(jr),lt(yn),lt(Dn),lt(wV,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NV=new Ft("cdk-focus-monitor-default-options"),Kh=Is({passive:!0,capture:!0});let Gh=(()=>{class n{constructor(e,r,i,o,u){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new de,this._rootNodeFocusAndBlurListener=h=>{for(let B=Ha(h);B;B=B.parentElement)"focus"===h.type?this._onFocus(h,B):this._onBlur(h,B)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,r=!1){const i=pa(e);if(!this._platform.isBrowser||1!==i.nodeType)return on(null);const o=function Bj(n){if(function Fj(){if(null==pv){const n=typeof document<"u"?document.head:null;pv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return pv}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new de,rootNode:o};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const r=pa(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=pa(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,C])=>this._originChanged(h,r,C)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=Ha(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kh)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Hr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(lt(yn),lt(jr),lt(OV),lt(Dn,8),lt(NV,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CD="cdk-high-contrast-black-on-white",MD="cdk-high-contrast-white-on-black",Iv="cdk-high-contrast-active";let DD=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=vn(yV).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Iv,CD,MD),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Iv,CD):2===r&&e.add(Iv,MD)}}}return n.\u0275fac=function(e){return new(e||n)(lt(jr),lt(Dn))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LV=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(lt(DD))},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[hD]}),n})();const FV=new Ft("cdk-dir-doc",{providedIn:"root",factory:function BV(){return vn(Dn)}}),kV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ws=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new er,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function UV(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?kV.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(lt(FV,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({}),n})();const VV=new Ft("mat-sanity-checks",{providedIn:"root",factory:function jV(){return!0}});let Wr=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!gv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(lt(DD),lt(VV,8),lt(Dn))},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[xc,xc]}),n})();function RD(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Xi(t)}}}function zh(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function wD(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Xi(t)}}}function HV(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}let PD=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KV{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const OD=Is({passive:!0,capture:!0});class GV{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Ha(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,r,i){const o=this._events.get(e);if(o){const u=o.get(r);u?u.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,OD)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const o=i.get(e);!o||(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,OD)))}}const xD={enterDuration:225,exitDuration:150},ND=Is({passive:!0,capture:!0}),LD=["mousedown","touchstart"],FD=["mouseup","mouseleave","touchend","touchcancel"];class Lc{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=pa(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...xD,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const u=r.radius||function YV(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),h=t-i.left,C=e-i.top,B=o.enterDuration,Z=document.createElement("div");Z.classList.add("mat-ripple-element"),Z.style.left=h-u+"px",Z.style.top=C-u+"px",Z.style.height=2*u+"px",Z.style.width=2*u+"px",null!=r.color&&(Z.style.backgroundColor=r.color),Z.style.transitionDuration=`${B}ms`,this._containerElement.appendChild(Z);const ye=window.getComputedStyle(Z),xe=ye.transitionDuration,ke="none"===ye.transitionProperty||"0s"===xe||"0s, 0s"===xe||0===i.width&&0===i.height,Qe=new KV(this,Z,r,ke);Z.style.transform="scale3d(1, 1, 1)",Qe.state=0,r.persistent||(this._mostRecentTransientRipple=Qe);let ft=null;return!ke&&(B||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const vt=()=>this._finishRippleTransition(Qe),Lt=()=>this._destroyRipple(Qe);Z.addEventListener("transitionend",vt),Z.addEventListener("transitioncancel",Lt),ft={onTransitionEnd:vt,onTransitionCancel:Lt}}),this._activeRipples.set(Qe,ft),(ke||!B)&&this._finishRippleTransition(Qe),Qe}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...xD,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=pa(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,LD.forEach(r=>{Lc._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{FD.forEach(e=>{this._triggerElement.addEventListener(e,this,ND)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Dv(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Av(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(LD.forEach(e=>Lc._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&FD.forEach(e=>t.removeEventListener(e,this,ND)))}}Lc._eventManager=new GV;const $V=new Ft("mat-ripple-global-options");let Yh=(()=>{class n{constructor(e,r,i,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Lc(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(yn),Ve(jr),Ve($V,8),Ve(Wo,8))},n.\u0275dir=Vt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&_r("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Fc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[Wr,Wr]}),n})();function bi(n,t){const e=m(n)?n:()=>n,r=i=>i.error(e());return new z(t?i=>t.schedule(r,0,i):r)}function BD(...n){const t=Fn(n),{args:e,keys:r}=mD(n),i=new z(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let C=u,B=u;for(let Z=0;Z<u;Z++){let ye=!1;Te(e[Z]).subscribe(fe(o,Me=>{ye||(ye=!0,B--),h[Z]=Me},()=>C--,void 0,()=>{(!C||!ye)&&(B||o.next(r?pD(r,h):h),o.complete())}))}});return t?i.pipe(Tv(t)):i}function uo(n){return he((t,e)=>{let o,r=null,i=!1;r=t.subscribe(fe(e,void 0,void 0,u=>{o=Te(n(u,uo(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function $h(n){return he((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Wa(n,t){return m(t)?rt(n,t,1):rt(n,1)}class Xh{}class Rv{}class ga{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),u=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ga?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ga;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ga?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class XV{encodeKey(t){return kD(t)}encodeValue(t){return kD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const QV=/%(\d[a-f0-9])/gi,ZV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kD(n){return encodeURIComponent(n).replace(QV,(t,e)=>ZV[e]??t)}function qh(n){return`${n}`}class Ka{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new XV,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qV(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[u,h]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],C=e.get(u)||[];C.push(h),e.set(u,C)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(qh):[qh(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ka({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(qh(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(qh(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class JV{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function UD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jD(n){return typeof Blob<"u"&&n instanceof Blob}function VD(n){return typeof FormData<"u"&&n instanceof FormData}class Bc{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function e2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ga),this.context||(this.context=new JV),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Ka,this.urlWithParams=e}serializeBody(){return null===this.body?null:UD(this.body)||jD(this.body)||VD(this.body)||function t2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ka?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||VD(this.body)?null:jD(this.body)?this.body.type||null:UD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ka?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,B=t.params||this.params;const Z=t.context??this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((ye,Me)=>ye.set(Me,t.setHeaders[Me]),C)),t.setParams&&(B=Object.keys(t.setParams).reduce((ye,Me)=>ye.set(Me,t.setParams[Me]),B)),new Bc(e,r,o,{params:B,headers:C,context:Z,reportProgress:h,responseType:i,withCredentials:u})}}var Pr=(()=>((Pr=Pr||{})[Pr.Sent=0]="Sent",Pr[Pr.UploadProgress=1]="UploadProgress",Pr[Pr.ResponseHeader=2]="ResponseHeader",Pr[Pr.DownloadProgress=3]="DownloadProgress",Pr[Pr.Response=4]="Response",Pr[Pr.User=5]="User",Pr))();class wv{constructor(t,e=200,r="OK"){this.headers=t.headers||new ga,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Pv extends wv{constructor(t={}){super(t),this.type=Pr.ResponseHeader}clone(t={}){return new Pv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kc extends wv{constructor(t={}){super(t),this.type=Pr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new kc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Uc extends wv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ov(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Qh=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Bc)o=e;else{let C,B;C=i.headers instanceof ga?i.headers:new ga(i.headers),i.params&&(B=i.params instanceof Ka?i.params:new Ka({fromObject:i.params})),o=new Bc(e,r,void 0!==i.body?i.body:null,{headers:C,context:i.context,params:B,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=on(o).pipe(Wa(C=>this.handler.handle(C)));if(e instanceof Bc||"events"===i.observe)return u;const h=u.pipe(Vr(C=>C instanceof kc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe(se(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return h.pipe(se(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return h.pipe(se(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return h.pipe(se(C=>C.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Ka).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Ov(i,r))}post(e,r,i={}){return this.request("POST",e,Ov(i,r))}put(e,r,i={}){return this.request("PUT",e,Ov(i,r))}}return n.\u0275fac=function(e){return new(e||n)(lt(Xh))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();function HD(n,t){return t(n)}function n2(n,t){return(e,r)=>t.intercept(e,{handle:i=>n(i,r)})}const jc=new Ft("HTTP_INTERCEPTORS"),Vc=new Ft("HTTP_INTERCEPTOR_FNS");function o2(){let n=null;return(t,e)=>(null===n&&(n=(vn(jc,{optional:!0})??[]).reduceRight(n2,HD)),n(t,e))}let WD=(()=>{class n extends Xh{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Vc)));this.chain=r.reduceRight((i,o)=>function r2(n,t,e){return(r,i)=>e.runInContext(()=>t(r,o=>n(o,i)))}(i,o,this.injector),HD)}return this.chain(e,r=>this.backend.handle(r))}}return n.\u0275fac=function(e){return new(e||n)(lt(Rv),lt(Lo))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();const u2=/^\)\]\}',?\n/;let GD=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new z(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((xe,ke)=>i.setRequestHeader(xe,ke.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const xe=e.detectContentTypeHeader();null!==xe&&i.setRequestHeader("Content-Type",xe)}if(e.responseType){const xe=e.responseType.toLowerCase();i.responseType="json"!==xe?xe:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const xe=i.statusText||"OK",ke=new ga(i.getAllResponseHeaders()),Qe=function c2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return u=new Pv({headers:ke,status:i.status,statusText:xe,url:Qe}),u},C=()=>{let{headers:xe,status:ke,statusText:Qe,url:ft}=h(),vt=null;204!==ke&&(vt=typeof i.response>"u"?i.responseText:i.response),0===ke&&(ke=vt?200:0);let Lt=ke>=200&&ke<300;if("json"===e.responseType&&"string"==typeof vt){const bt=vt;vt=vt.replace(u2,"");try{vt=""!==vt?JSON.parse(vt):null}catch(qt){vt=bt,Lt&&(Lt=!1,vt={error:qt,text:vt})}}Lt?(r.next(new kc({body:vt,headers:xe,status:ke,statusText:Qe,url:ft||void 0})),r.complete()):r.error(new Uc({error:vt,headers:xe,status:ke,statusText:Qe,url:ft||void 0}))},B=xe=>{const{url:ke}=h(),Qe=new Uc({error:xe,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ke||void 0});r.error(Qe)};let Z=!1;const ye=xe=>{Z||(r.next(h()),Z=!0);let ke={type:Pr.DownloadProgress,loaded:xe.loaded};xe.lengthComputable&&(ke.total=xe.total),"text"===e.responseType&&!!i.responseText&&(ke.partialText=i.responseText),r.next(ke)},Me=xe=>{let ke={type:Pr.UploadProgress,loaded:xe.loaded};xe.lengthComputable&&(ke.total=xe.total),r.next(ke)};return i.addEventListener("load",C),i.addEventListener("error",B),i.addEventListener("timeout",B),i.addEventListener("abort",B),e.reportProgress&&(i.addEventListener("progress",ye),null!==o&&i.upload&&i.upload.addEventListener("progress",Me)),i.send(o),r.next({type:Pr.Sent}),()=>{i.removeEventListener("error",B),i.removeEventListener("abort",B),i.removeEventListener("load",C),i.removeEventListener("timeout",B),e.reportProgress&&(i.removeEventListener("progress",ye),null!==o&&i.upload&&i.upload.removeEventListener("progress",Me)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(lt(ZM))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();const xv=new Ft("XSRF_ENABLED"),zD="XSRF-TOKEN",YD=new Ft("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>zD}),$D="X-XSRF-TOKEN",XD=new Ft("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>$D});class qD{}let d2=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=HM(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn),lt(yh),lt(YD))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();function f2(n,t){const e=n.url.toLowerCase();if(!vn(xv)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=vn(qD).getToken(),i=vn(XD);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var Dr=(()=>((Dr=Dr||{})[Dr.Interceptors=0]="Interceptors",Dr[Dr.LegacyInterceptors=1]="LegacyInterceptors",Dr[Dr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Dr[Dr.NoXsrfProtection=3]="NoXsrfProtection",Dr[Dr.JsonpSupport=4]="JsonpSupport",Dr[Dr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Dr))();function iu(n,t){return{\u0275kind:n,\u0275providers:t}}function h2(...n){const t=[Qh,GD,WD,{provide:Xh,useExisting:WD},{provide:Rv,useExisting:GD},{provide:Vc,useValue:f2,multi:!0},{provide:xv,useValue:!0},{provide:qD,useClass:d2}];for(const e of n)t.push(...e.\u0275providers);return $T(t)}const QD=new Ft("LEGACY_INTERCEPTOR_FN");function p2({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:YD,useValue:n}),void 0!==t&&e.push({provide:XD,useValue:t}),iu(Dr.CustomXsrfConfiguration,e)}let g2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({providers:[h2(iu(Dr.LegacyInterceptors,[{provide:QD,useFactory:o2},{provide:Vc,useExisting:QD,multi:!0}]),p2({cookieName:zD,headerName:$D}))]}),n})();class _2 extends kk{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Nv extends _2{static makeCurrent(){!function Bk(n){q_||(q_=n)}(new Nv)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function v2(){return Hc=Hc||document.querySelector("base"),Hc?Hc.getAttribute("href"):null}();return null==e?null:function y2(n){Zh=Zh||document.createElement("a"),Zh.setAttribute("href",n);const t=Zh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return HM(document.cookie,t)}}let Zh,Hc=null,S2=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();const Jh=new Ft("EventManagerPlugins");let em=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const u=i[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(lt(Jh),lt(yn))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();class ZD{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Go().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let JD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),Wc=(()=>{class n extends JD{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,i.push(r.appendChild(u))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(eA),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(eA))}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();function eA(n){Go().remove(n)}const Lv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fv=/%COMP%/g;function Bv(n,t){return t.flat(100).map(e=>e.replace(Fv,n))}function rA(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let tm=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new kv(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case fi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new R2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case fi.ShadowDom:return new w2(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Bv(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(lt(em),lt(Wc),lt(vh))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();class kv{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Lv[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(oA(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(oA(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=Lv[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Lv[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Di.DashCase|Di.Important)?t.style.setProperty(e,r,i&Di.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Di.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,rA(r)):this.eventManager.addEventListener(t,e,rA(r))}}function oA(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class R2 extends kv{constructor(t,e,r,i){super(t),this.component=r;const o=Bv(i+"-"+r.id,r.styles);e.addStyles(o),this.contentAttr=function D2(n){return"_ngcontent-%COMP%".replace(Fv,n)}(i+"-"+r.id),this.hostAttr=function A2(n){return"_nghost-%COMP%".replace(Fv,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class w2 extends kv{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Bv(i.id,i.styles);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const aA=["alt","control","meta","shift"],O2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},x2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function lA(n){return{appProviders:[...H2,...n?.providers??[]],platformProviders:U2}}const U2=[{provide:yh,useValue:qM},{provide:nM,useValue:function F2(){Nv.makeCurrent()},multi:!0},{provide:Dn,useFactory:function k2(){return function jx(n){Ag=n}(document),document},deps:[]}],H2=[{provide:Fg,useValue:"root"},{provide:ua,useFactory:function B2(){return new ua},deps:[]},{provide:Jh,useClass:(()=>{class n extends ZD{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Dn,yn,yh]},{provide:Jh,useClass:(()=>{class n extends ZD{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),u=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Go().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),aA.forEach(B=>{const Z=r.indexOf(B);Z>-1&&(r.splice(Z,1),u+=B+".")}),u+=o,0!=r.length||0===o.length)return null;const C={};return C.domEventName=i,C.fullKey=u,C}static matchEventFullKeyCode(e,r){let i=O2[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),aA.forEach(u=>{u!==i&&(0,x2[u])(e)&&(o+=u+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Dn]},{provide:tm,useClass:tm,deps:[em,Wc,vh]},{provide:oc,useExisting:tm},{provide:JD,useExisting:Wc},{provide:Wc,useClass:Wc,deps:[Dn]},{provide:em,useClass:em,deps:[Jh,yn]},{provide:ZM,useClass:S2,deps:[]},[]];let uA=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn))},n.\u0275prov=et({token:n,factory:function(e){let r=null;return r=e?new e:function K2(){return new uA(lt(Dn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let _a=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:function(e){let r=null;return r=e?new(e||n):lt(fA),r},providedIn:"root"}),n})(),fA=(()=>{class n extends _a{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Vn.NONE:return r;case Vn.HTML:return No(r,"HTML")?Hi(r):VT(this._doc,String(r)).toString();case Vn.STYLE:return No(r,"Style")?Hi(r):r;case Vn.SCRIPT:if(No(r,"Script"))return Hi(r);throw new Error("unsafe value used in a script context");case Vn.URL:return No(r,"URL")?Hi(r):Gf(String(r));case Vn.RESOURCE_URL:if(No(r,"ResourceURL"))return Hi(r);throw new Error(`unsafe value used in a resource URL context (see ${xi})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${xi})`)}}bypassSecurityTrustHtml(e){return function Yx(n){return new Vx(n)}(e)}bypassSecurityTrustStyle(e){return function $x(n){return new Hx(n)}(e)}bypassSecurityTrustScript(e){return function Xx(n){return new Wx(n)}(e)}bypassSecurityTrustUrl(e){return function qx(n){return new Kx(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Qx(n){return new Gx(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn))},n.\u0275prov=et({token:n,factory:function(e){let r=null;return r=e?new e:function Q2(n){return new fA(n.get(Dn))}(lt(Ii)),r},providedIn:"root"}),n})();const Z2=["*"];let nm;function Kc(n){return function J2(){if(void 0===nm&&(nm=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(nm=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return nm}()?.createHTML(n)||n}function hA(n){return Error(`Unable to find icon with the name "${n}"`)}function mA(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function pA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ps{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let Gc=(()=>{class n{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Ps(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){const u=this._sanitizer.sanitize(Vn.HTML,i);if(!u)throw pA(i);const h=Kc(u);return this._addSvgIconConfig(e,r,new Ps("",h,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Ps(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const o=this._sanitizer.sanitize(Vn.HTML,r);if(!o)throw pA(r);const u=Kc(o);return this._addSvgIconSetConfig(e,new Ps("",u,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(Vn.RESOURCE_URL,e);if(!r)throw mA(e);const i=this._cachedIconsByUrl.get(r);return i?on(rm(i)):this._loadSvgIconFromConfig(new Ps(e,null)).pipe(Hn(o=>this._cachedIconsByUrl.set(r,o)),se(o=>rm(o)))}getNamedSvgIcon(e,r=""){const i=gA(r,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(e,u):bi(hA(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?on(rm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(se(r=>rm(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?on(i):BD(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(uo(h=>{const B=`Loading icon set URL: ${this._sanitizer.sanitize(Vn.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(B)),on(null)})))).pipe(se(()=>{const u=this._extractIconWithNameFromAnySet(e,r);if(!u)throw hA(e);return u}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Hn(r=>e.svgText=r),se(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?on(null):this._fetchIcon(e).pipe(Hn(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const o=e.querySelector(`[id="${r}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const h=this._svgElementFromString(Kc("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(Kc("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:u,value:h}=i[o];"id"!==u&&r.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function eH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(Vn.RESOURCE_URL,r);if(!u)throw mA(r);const h=this._inProgressUrlFetches.get(u);if(h)return h;const C=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe(se(B=>Kc(B)),$h(()=>this._inProgressUrlFetches.delete(u)),dt());return this._inProgressUrlFetches.set(u,C),C}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(gA(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,e);if(o)return nH(o)?new Ps(o.url,null,o.options):new Ps(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(lt(Qh,8),lt(_a),lt(Dn,8),lt(ua))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rm(n){return n.cloneNode(!0)}function gA(n,t){return n+":"+t}function nH(n){return!(!n.url||!n.options)}const rH=zh(class{constructor(n){this._elementRef=n}}),iH=new Ft("MAT_ICON_DEFAULT_OPTIONS"),oH=new Ft("mat-icon-location",{providedIn:"root",factory:function aH(){const n=vn(Dn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),_A=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],sH=_A.map(n=>`[${n}]`).join(", "),lH=/^url\(['"]?#(.*?)['"]?\)$/;let Do=(()=>{class n extends rH{constructor(e,r,i,o,u,h){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=w.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Xi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(sH),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)_A.forEach(u=>{const h=r[o],C=h.getAttribute(u),B=C?C.match(lH):null;if(B){let Z=i.get(h);Z||(Z=[],i.set(h,Z)),Z.push({name:u,value:B[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(wi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(Gc),vl("aria-hidden"),Ve(oH),Ve(ua),Ve(iH,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(ar("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),_r("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Sn],ngContentSelectors:Z2,decls:1,vars:0,template:function(e,r){1&e&&(Ki(),Qn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Ti=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[Wr,Wr]}),n})();class vA{}class uH{}const va="*";function zc(n,t){return{type:7,name:n,definitions:t,options:{}}}function za(n,t=null){return{type:4,styles:t,timings:n}}function yA(n,t=null){return{type:2,steps:n,options:t}}function Pi(n){return{type:6,styles:n,offset:null}}function Os(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ya(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function EA(n){Promise.resolve().then(n)}class Yc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){EA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class bA{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?EA(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++r==o&&this._onDestroy()}),u.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class dH{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const hH=new Ft("mat-snack-bar-default-options",{providedIn:"root",factory:function fH(){return new dH}});function TA(n){return new _t(3e3,!1)}function $H(){return typeof window<"u"&&typeof window.document<"u"}function Vv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $a(n){switch(n.length){case 0:return new Yc;case 1:return n[0];default:return new bA(n)}}function SA(n,t,e,r,i=new Map,o=new Map){const u=[],h=[];let C=-1,B=null;if(r.forEach(Z=>{const ye=Z.get("offset"),Me=ye==C,xe=Me&&B||new Map;Z.forEach((ke,Qe)=>{let ft=Qe,vt=ke;if("offset"!==Qe)switch(ft=t.normalizePropertyName(ft,u),vt){case"!":vt=i.get(Qe);break;case va:vt=o.get(Qe);break;default:vt=t.normalizeStyleValue(Qe,ft,vt,u)}xe.set(ft,vt)}),Me||h.push(xe),B=xe,C=ye}),u.length)throw function FH(n){return new _t(3502,!1)}();return h}function Hv(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Wv(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Wv(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Wv(e,"destroy",n)))}}function Wv(n,t,e){const o=Kv(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function Kv(n,t,e,r,i="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!u}}function qi(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function CA(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Gv=(n,t)=>!1,MA=(n,t,e)=>[],DA=null;function zv(n){const t=n.parentNode||n.host;return t===DA?null:t}(Vv()||typeof Element<"u")&&($H()?(DA=(()=>document.documentElement)(),Gv=(n,t)=>{for(;t;){if(t===n)return!0;t=zv(t)}return!1}):Gv=(n,t)=>n.contains(t),MA=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let xs=null,AA=!1;const IA=Gv,RA=MA;let wA=(()=>{class n{validateStyleProperty(e){return function qH(n){xs||(xs=function QH(){return typeof document<"u"?document.body:null}()||{},AA=!!xs.style&&"WebkitAppearance"in xs.style);let t=!0;return xs.style&&!function XH(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in xs.style,!t&&AA&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in xs.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return IA(e,r)}getParentElement(e){return zv(e)}query(e,r,i){return RA(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,u,h=[],C){return new Yc(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),Yv=(()=>{class n{}return n.NOOP=new wA,n})();const $v="ng-enter",im="ng-leave",om="ng-trigger",am=".ng-trigger",OA="ng-animating",Xv=".ng-animating";function ya(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qv(parseFloat(t[1]),t[2])}function qv(n,t){return"s"===t?1e3*n:n}function sm(n,t,e){return n.hasOwnProperty("duration")?n:function eW(n,t,e){let i,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(TA()),{duration:0,delay:0,easing:""};i=qv(parseFloat(h[1]),h[2]);const C=h[3];null!=C&&(o=qv(parseFloat(C),h[4]));const B=h[5];B&&(u=B)}else i=n;if(!e){let h=!1,C=t.length;i<0&&(t.push(function mH(){return new _t(3100,!1)}()),h=!0),o<0&&(t.push(function pH(){return new _t(3101,!1)}()),h=!0),h&&t.splice(C,0,TA())}return{duration:i,delay:o,easing:u}}(n,t,e)}function $c(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function xA(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Xa(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function LA(n,t,e){return e?t+":"+e+";":""}function FA(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=LA(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=LA(0,iW(e),n.style[e]));n.setAttribute("style",t)}function zo(n,t,e){n.style&&(t.forEach((r,i)=>{const o=Zv(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),Vv()&&FA(n))}function Ns(n,t){n.style&&(t.forEach((e,r)=>{const i=Zv(r);n.style[i]=""}),Vv()&&FA(n))}function Xc(n){return Array.isArray(n)?1==n.length?n[0]:yA(n):n}const Qv=new RegExp("{{\\s*(.+?)\\s*}}","g");function BA(n){let t=[];if("string"==typeof n){let e;for(;e=Qv.exec(n);)t.push(e[1]);Qv.lastIndex=0}return t}function qc(n,t,e){const r=n.toString(),i=r.replace(Qv,(o,u)=>{let h=t[u];return null==h&&(e.push(function _H(n){return new _t(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function lm(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const rW=/-+([a-z0-9])/g;function Zv(n){return n.replace(rW,(...t)=>t[1].toUpperCase())}function iW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qi(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function vH(n){return new _t(3004,!1)}()}}function kA(n,t){return window.getComputedStyle(n)[t]}function cW(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function dW(n,t,e){if(":"==n[0]){const C=function fW(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function OH(n){return new _t(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof C)return void t.push(C);n=C}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function PH(n){return new _t(3015,!1)}()),t;const i=r[1],o=r[2],u=r[3];t.push(UA(i,u));"<"==o[0]&&!("*"==i&&"*"==u)&&t.push(UA(u,i))}(r,e,t)):e.push(n),e}const fm=new Set(["true","1"]),hm=new Set(["false","0"]);function UA(n,t){const e=fm.has(n)||hm.has(n),r=fm.has(t)||hm.has(t);return(i,o)=>{let u="*"==n||n==i,h="*"==t||t==o;return!u&&e&&"boolean"==typeof i&&(u=i?fm.has(n):hm.has(n)),!h&&r&&"boolean"==typeof o&&(h=o?fm.has(t):hm.has(t)),u&&h}}const hW=new RegExp("s*:selfs*,?","g");function Jv(n,t,e,r){return new mW(n).build(t,e,r)}class mW{constructor(t){this._driver=t}build(t,e,r){const i=new _W(e);return this._resetContextStyleTimingState(i),Qi(this,Xc(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function EH(){return new _t(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const C=h,B=C.name;B.toString().split(/\s*,\s*/).forEach(Z=>{C.name=Z,o.push(this.visitState(C,e))}),C.name=B}else if(1==h.type){const C=this.visitTransition(h,e);r+=C.queryCount,i+=C.depCount,u.push(C)}else e.errors.push(function bH(){return new _t(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,u=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(C=>{BA(C).forEach(B=>{u.hasOwnProperty(B)||o.add(B)})})}),o.size&&(lm(o.values()),e.errors.push(function TH(n,t){return new _t(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Qi(this,Xc(t.animation),e);return{type:1,matchers:cW(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Ls(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Qi(this,r,e)),options:Ls(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(u=>{e.currentTime=r;const h=Qi(this,u,e);return i=Math.max(i,e.currentTime),h});return e.currentTime=i,{type:3,steps:o,options:Ls(t.options)}}visitAnimate(t,e){const r=function yW(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ey(sm(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=ey(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=sm(e,t);return ey(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:Pi({});if(5==o.type)i=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const B={};r.easing&&(B.easing=r.easing),u=Pi(B)}e.currentTime+=r.duration+r.delay;const C=this.visitStyle(u,e);C.isEmptyStep=h,i=C}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of i)"string"==typeof h?h===va?r.push(h):e.errors.push(new _t(3002,!1)):r.push(xA(h));let o=!1,u=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let C of h.values())if(C.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,C)=>{const B=e.collectedStyles.get(e.currentQuerySelector),Z=B.get(C);let ye=!0;Z&&(o!=i&&o>=Z.startTime&&i<=Z.endTime&&(e.errors.push(function CH(n,t,e,r,i){return new _t(3010,!1)}()),ye=!1),o=Z.startTime),ye&&B.set(C,{startTime:o,endTime:i}),e.options&&function nW(n,t,e){const r=t.params||{},i=BA(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function gH(n){return new _t(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function MH(){return new _t(3011,!1)}()),r;let o=0;const u=[];let h=!1,C=!1,B=0;const Z=t.steps.map(vt=>{const Lt=this._makeStyleAst(vt,e);let bt=null!=Lt.offset?Lt.offset:function vW(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Lt.styles),qt=0;return null!=bt&&(o++,qt=Lt.offset=bt),C=C||qt<0||qt>1,h=h||qt<B,B=qt,u.push(qt),Lt});C&&e.errors.push(function DH(){return new _t(3012,!1)}()),h&&e.errors.push(function AH(){return new _t(3200,!1)}());const ye=t.steps.length;let Me=0;o>0&&o<ye?e.errors.push(function IH(){return new _t(3202,!1)}()):0==o&&(Me=1/(ye-1));const xe=ye-1,ke=e.currentTime,Qe=e.currentAnimateTimings,ft=Qe.duration;return Z.forEach((vt,Lt)=>{const bt=Me>0?Lt==xe?1:Me*Lt:u[Lt],qt=bt*ft;e.currentTime=ke+Qe.delay+qt,Qe.duration=qt,this._validateStyleAst(vt,e),vt.offset=bt,r.styles.push(vt)}),r}visitReference(t,e){return{type:8,animation:Qi(this,Xc(t.animation),e),options:Ls(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ls(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ls(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function pW(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(hW,"")),n=n.replace(/@\*/g,am).replace(/@\w+/g,e=>am+"-"+e.slice(1)).replace(/:animating/g,Xv),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,qi(e.collectedStyles,e.currentQuerySelector,new Map);const h=Qi(this,Xc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Ls(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function RH(){return new _t(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:sm(t.timings,e.errors,!0);return{type:12,animation:Qi(this,Xc(t.animation),e),timings:r,options:null}}}class _W{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ls(n){return n?(n=$c(n)).params&&(n.params=function gW(n){return n?$c(n):null}(n.params)):n={},n}function ey(n,t,e){return{duration:n,delay:t,easing:e}}function ty(n,t,e,r,i,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:u,subTimeline:h}}class mm{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const TW=new RegExp(":enter","g"),CW=new RegExp(":leave","g");function ny(n,t,e,r,i,o=new Map,u=new Map,h,C,B=[]){return(new MW).buildKeyframes(n,t,e,r,i,o,u,h,C,B)}class MW{buildKeyframes(t,e,r,i,o,u,h,C,B,Z=[]){B=B||new mm;const ye=new ry(t,e,B,i,o,Z,[]);ye.options=C;const Me=C.delay?ya(C.delay):0;ye.currentTimeline.delayNextStep(Me),ye.currentTimeline.setStyles([u],null,ye.errors,C),Qi(this,r,ye);const xe=ye.timelines.filter(ke=>ke.containsAnimation());if(xe.length&&h.size){let ke;for(let Qe=xe.length-1;Qe>=0;Qe--){const ft=xe[Qe];if(ft.element===e){ke=ft;break}}ke&&!ke.allowOnlyTimelineStyles()&&ke.setStyles([h],null,ye.errors,C)}return xe.length?xe.map(ke=>ke.buildKeyframes()):[ty(e,[],[],[],0,Me,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const u="number"==typeof o?o:ya(qc(o,i?.params??{},e.errors));r.delayNextStep(u)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const u=null!=r.duration?ya(r.duration):null,h=null!=r.delay?ya(r.delay):null;return 0!==u&&t.forEach(C=>{const B=e.appendInstructionToTimeline(C,u,h);o=Math.max(o,B.duration+B.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Qi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pm);const u=ya(o.delay);i.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Qi(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?ya(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Qi(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return sm(e.params?qc(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,h=e.createSubContext().currentTimeline;h.easing=r.easing,t.styles.forEach(C=>{h.forwardTime((C.offset||0)*o),h.setStyles(C.styles,C.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?ya(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=pm);let u=r;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=h.length;let C=null;h.forEach((B,Z)=>{e.currentQueryIndex=Z;const ye=e.createSubContext(t.options,B);o&&ye.delayNextStep(o),B===e.element&&(C=ye.currentTimeline),Qi(this,t.animation,ye),ye.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,ye.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),C&&(e.currentTimeline.mergeTimelineCollectedStyles(C),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let C=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":C=h-C;break;case"full":C=r.currentStaggerTime}const Z=e.currentTimeline;C&&Z.delayNextStep(C);const ye=Z.currentTime;Qi(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-ye+(i.startTime-r.currentTimeline.startTime)}}const pm={};class ry{constructor(t,e,r,i,o,u,h,C){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new gm(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=ya(r.duration)),null!=r.delay&&(i.delay=ya(r.delay));const o=r.params;if(o){let u=i.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=qc(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new ry(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=pm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new DW(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,u){let h=[];if(i&&h.push(this.element),t.length>0){t=(t=t.replace(TW,"."+this._enterClassName)).replace(CW,"."+this._leaveClassName);let B=this._driver.query(this.element,t,1!=r);0!==r&&(B=r<0?B.slice(B.length+r,B.length):B.slice(0,r)),h.push(...B)}return!o&&0==h.length&&u.push(function wH(n){return new _t(3014,!1)}()),h}}class gm{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new gm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||va),this._currentKeyframe.set(e,va);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},u=function AW(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,va)}else Xa(i,e)}),e}(t,this._globalTimelineStyles);for(let[h,C]of u){const B=qc(C,o,r);this._pendingStyles.set(h,B),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??va),this._updateStyle(h,B)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,C)=>{const B=Xa(h,new Map,this._backFill);B.forEach((Z,ye)=>{"!"===Z?t.add(ye):Z===va&&e.add(ye)}),r||B.set("offset",C/this.duration),i.push(B)});const o=t.size?lm(t.values()):[],u=e.size?lm(e.values()):[];if(r){const h=i[0],C=new Map(h);h.set("offset",0),C.set("offset",1),i=[h,C]}return ty(this.element,i,o,u,this.duration,this.startTime,this.easing,!1)}}class DW extends gm{constructor(t,e,r,i,o,u,h=!1){super(t,e,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=r+e,h=e/u,C=Xa(t[0]);C.set("offset",0),o.push(C);const B=Xa(t[0]);B.set("offset",HA(h)),o.push(B);const Z=t.length-1;for(let ye=1;ye<=Z;ye++){let Me=Xa(t[ye]);const xe=Me.get("offset");Me.set("offset",HA((e+xe*r)/u)),o.push(Me)}r=u,e=0,i="",t=o}return ty(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function HA(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class iy{}const IW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class RW extends iy{normalizePropertyName(t,e){return Zv(t)}normalizeStyleValue(t,e,r,i){let o="";const u=r.toString().trim();if(IW.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function yH(n,t){return new _t(3005,!1)}())}return u+o}}function WA(n,t,e,r,i,o,u,h,C,B,Z,ye,Me){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:u,timelines:h,queriedElements:C,preStyleProps:B,postStyleProps:Z,totalTime:ye,errors:Me}}const oy={};class KA{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function wW(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,u,h,C,B,Z){const ye=[],Me=this.ast.options&&this.ast.options.params||oy,ke=this.buildStyles(r,h&&h.params||oy,ye),Qe=C&&C.params||oy,ft=this.buildStyles(i,Qe,ye),vt=new Set,Lt=new Map,bt=new Map,qt="void"===i,kn={params:PW(Qe,Me),delay:this.ast.options?.delay},zn=Z?[]:ny(t,e,this.ast.animation,o,u,ke,ft,kn,B,ye);let ui=0;if(zn.forEach(Ra=>{ui=Math.max(Ra.duration+Ra.delay,ui)}),ye.length)return WA(e,this._triggerName,r,i,qt,ke,ft,[],[],Lt,bt,ui,ye);zn.forEach(Ra=>{const wa=Ra.element,YP=qi(Lt,wa,new Set);Ra.preStyleProps.forEach(Zs=>YP.add(Zs));const cf=qi(bt,wa,new Set);Ra.postStyleProps.forEach(Zs=>cf.add(Zs)),wa!==e&&vt.add(wa)});const Ia=lm(vt.values());return WA(e,this._triggerName,r,i,qt,ke,ft,zn,Ia,Lt,bt,ui)}}function PW(n,t){const e=$c(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class OW{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=$c(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(i[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=qc(u,i,e));const C=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,C,u,e),r.set(h,u)})}),r}}class NW{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new OW(i.style,i.options&&i.options.params||{},r))}),GA(this.states,"true","1"),GA(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new KA(t,i,this.states))}),this.fallbackTransition=function LW(n,t,e){return new KA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(u=>u.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function GA(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const FW=new mm;class BW{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],o=Jv(this._driver,e,r,[]);if(r.length)throw function BH(n){return new _t(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=SA(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=ny(this._driver,e,o,$v,im,new Map,new Map,r,FW,i),u.forEach(Z=>{const ye=qi(h,Z.element,new Map);Z.postStyleProps.forEach(Me=>ye.set(Me,null))})):(i.push(function kH(){return new _t(3300,!1)}()),u=[]),i.length)throw function UH(n){return new _t(3504,!1)}();h.forEach((Z,ye)=>{Z.forEach((Me,xe)=>{Z.set(xe,this._driver.computeStyle(ye,xe,va))})});const B=$a(u.map(Z=>{const ye=h.get(Z.element);return this._buildPlayer(Z,new Map,ye)}));return this._playersById.set(t,B),B.onDestroy(()=>this.destroy(t)),this.players.push(B),B}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function jH(n){return new _t(3301,!1)}();return e}listen(t,e,r,i){const o=Kv(e,"","","");return Hv(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const zA="ng-animate-queued",ay="ng-animate-disabled",HW=[],YA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},WW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},co="__ng_removed";class sy{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function YW(n){return n??null}(r?t.value:t),r){const o=$c(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Qc="void",ly=new sy(Qc);class KW{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,fo(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function VH(n,t){return new _t(3302,!1)}();if(null==r||0==r.length)throw function HH(n){return new _t(3303,!1)}();if(!function $W(n){return"start"==n||"done"==n}(r))throw function WH(n,t){return new _t(3400,!1)}();const o=qi(this._elementListeners,t,[]),u={name:e,phase:r,callback:i};o.push(u);const h=qi(this._engine.statesByElement,t,new Map);return h.has(e)||(fo(t,om),fo(t,om+"-"+e),h.set(e,ly)),()=>{this._engine.afterFlush(()=>{const C=o.indexOf(u);C>=0&&o.splice(C,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function KH(n){return new _t(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),u=new uy(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(fo(t,om),fo(t,om+"-"+e),this._engine.statesByElement.set(t,h=new Map));let C=h.get(e);const B=new sy(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&C&&B.absorbOptions(C.options),h.set(e,B),C||(C=ly),B.value!==Qc&&C.value===B.value){if(!function QW(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(C.params,B.params)){const Qe=[],ft=o.matchStyles(C.value,C.params,Qe),vt=o.matchStyles(B.value,B.params,Qe);Qe.length?this._engine.reportError(Qe):this._engine.afterFlush(()=>{Ns(t,ft),zo(t,vt)})}return}const Me=qi(this._engine.playersByElement,t,[]);Me.forEach(Qe=>{Qe.namespaceId==this.id&&Qe.triggerName==e&&Qe.queued&&Qe.destroy()});let xe=o.matchTransition(C.value,B.value,t,B.params),ke=!1;if(!xe){if(!i)return;xe=o.fallbackTransition,ke=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:xe,fromState:C,toState:B,player:u,isFallbackTransition:ke}),ke||(fo(t,zA),u.onStart(()=>{ou(t,zA)})),u.onDone(()=>{let Qe=this.players.indexOf(u);Qe>=0&&this.players.splice(Qe,1);const ft=this._engine.playersByElement.get(t);if(ft){let vt=ft.indexOf(u);vt>=0&&ft.splice(vt,1)}}),this.players.push(u),Me.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,am,!0);r.forEach(i=>{if(i[co])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(u=>u.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((C,B)=>{if(u.set(B,C.value),this._triggers.has(B)){const Z=this.trigger(t,B,Qc,i);Z&&h.push(Z)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),r&&$a(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const u=o.name;if(i.has(u))return;i.add(u);const C=this._triggers.get(u).fallbackTransition,B=r.get(u)||ly,Z=new sy(Qc),ye=new uy(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:C,fromState:B,toState:Z,player:ye,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let u=t;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[co];(!o||o===YA)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){fo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==r.triggerName){const C=Kv(o,r.triggerName,r.fromState.value,r.toState.value);C._data=t,Hv(r.player,h.phase,C,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class GW{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new KW(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const C=i.get(h);if(C){const B=r.indexOf(C);r.splice(B+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(_m(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!_m(e))return;const o=e[co];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),fo(t,ay)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ou(t,ay))}removeNode(t,e,r,i){if(_m(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[co]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return _m(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,am,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Xv,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $a(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[co];if(e&&e.setForRemoval){if(t[co]=YA,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ay)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)fo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?$a(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function GH(n){return new _t(3402,!1)}()}_flushAnimations(t,e){const r=new mm,i=[],o=new Map,u=[],h=new Map,C=new Map,B=new Map,Z=new Set;this.disabledNodes.forEach(rn=>{Z.add(rn);const fn=this.driver.query(rn,".ng-animate-queued",!0);for(let _n=0;_n<fn.length;_n++)Z.add(fn[_n])});const ye=this.bodyNode,Me=Array.from(this.statesByElement.keys()),xe=qA(Me,this.collectedEnterElements),ke=new Map;let Qe=0;xe.forEach((rn,fn)=>{const _n=$v+Qe++;ke.set(fn,_n),rn.forEach(Wn=>fo(Wn,_n))});const ft=[],vt=new Set,Lt=new Set;for(let rn=0;rn<this.collectedLeaveElements.length;rn++){const fn=this.collectedLeaveElements[rn],_n=fn[co];_n&&_n.setForRemoval&&(ft.push(fn),vt.add(fn),_n.hasAnimation?this.driver.query(fn,".ng-star-inserted",!0).forEach(Wn=>vt.add(Wn)):Lt.add(fn))}const bt=new Map,qt=qA(Me,Array.from(vt));qt.forEach((rn,fn)=>{const _n=im+Qe++;bt.set(fn,_n),rn.forEach(Wn=>fo(Wn,_n))}),t.push(()=>{xe.forEach((rn,fn)=>{const _n=ke.get(fn);rn.forEach(Wn=>ou(Wn,_n))}),qt.forEach((rn,fn)=>{const _n=bt.get(fn);rn.forEach(Wn=>ou(Wn,_n))}),ft.forEach(rn=>{this.processLeaveNode(rn)})});const kn=[],zn=[];for(let rn=this._namespaceList.length-1;rn>=0;rn--)this._namespaceList[rn].drainQueuedTransitions(e).forEach(_n=>{const Wn=_n.player,Yr=_n.element;if(kn.push(Wn),this.collectedEnterElements.length){const ci=Yr[co];if(ci&&ci.setForMove){if(ci.previousTriggersValues&&ci.previousTriggersValues.has(_n.triggerName)){const Js=ci.previousTriggersValues.get(_n.triggerName),po=this.statesByElement.get(_n.element);if(po&&po.has(_n.triggerName)){const Rp=po.get(_n.triggerName);Rp.value=Js,po.set(_n.triggerName,Rp)}}return void Wn.destroy()}}const Jo=!ye||!this.driver.containsElement(ye,Yr),eo=bt.get(Yr),is=ke.get(Yr),Er=this._buildInstruction(_n,r,is,eo,Jo);if(Er.errors&&Er.errors.length)return void zn.push(Er);if(Jo)return Wn.onStart(()=>Ns(Yr,Er.fromStyles)),Wn.onDestroy(()=>zo(Yr,Er.toStyles)),void i.push(Wn);if(_n.isFallbackTransition)return Wn.onStart(()=>Ns(Yr,Er.fromStyles)),Wn.onDestroy(()=>zo(Yr,Er.toStyles)),void i.push(Wn);const qP=[];Er.timelines.forEach(ci=>{ci.stretchStartingKeyframe=!0,this.disabledNodes.has(ci.element)||qP.push(ci)}),Er.timelines=qP,r.append(Yr,Er.timelines),u.push({instruction:Er,player:Wn,element:Yr}),Er.queriedElements.forEach(ci=>qi(h,ci,[]).push(Wn)),Er.preStyleProps.forEach((ci,Js)=>{if(ci.size){let po=C.get(Js);po||C.set(Js,po=new Set),ci.forEach((Rp,eb)=>po.add(eb))}}),Er.postStyleProps.forEach((ci,Js)=>{let po=B.get(Js);po||B.set(Js,po=new Set),ci.forEach((Rp,eb)=>po.add(eb))})});if(zn.length){const rn=[];zn.forEach(fn=>{rn.push(function zH(n,t){return new _t(3505,!1)}())}),kn.forEach(fn=>fn.destroy()),this.reportError(rn)}const ui=new Map,Ia=new Map;u.forEach(rn=>{const fn=rn.element;r.has(fn)&&(Ia.set(fn,fn),this._beforeAnimationBuild(rn.player.namespaceId,rn.instruction,ui))}),i.forEach(rn=>{const fn=rn.element;this._getPreviousPlayers(fn,!1,rn.namespaceId,rn.triggerName,null).forEach(Wn=>{qi(ui,fn,[]).push(Wn),Wn.destroy()})});const Ra=ft.filter(rn=>ZA(rn,C,B)),wa=new Map;XA(wa,this.driver,Lt,B,va).forEach(rn=>{ZA(rn,C,B)&&Ra.push(rn)});const cf=new Map;xe.forEach((rn,fn)=>{XA(cf,this.driver,new Set(rn),C,"!")}),Ra.forEach(rn=>{const fn=wa.get(rn),_n=cf.get(rn);wa.set(rn,new Map([...Array.from(fn?.entries()??[]),...Array.from(_n?.entries()??[])]))});const Zs=[],$P=[],XP={};u.forEach(rn=>{const{element:fn,player:_n,instruction:Wn}=rn;if(r.has(fn)){if(Z.has(fn))return _n.onDestroy(()=>zo(fn,Wn.toStyles)),_n.disabled=!0,_n.overrideTotalTime(Wn.totalTime),void i.push(_n);let Yr=XP;if(Ia.size>1){let eo=fn;const is=[];for(;eo=eo.parentNode;){const Er=Ia.get(eo);if(Er){Yr=Er;break}is.push(eo)}is.forEach(Er=>Ia.set(Er,Yr))}const Jo=this._buildAnimation(_n.namespaceId,Wn,ui,o,cf,wa);if(_n.setRealPlayer(Jo),Yr===XP)Zs.push(_n);else{const eo=this.playersByElement.get(Yr);eo&&eo.length&&(_n.parentPlayer=$a(eo)),i.push(_n)}}else Ns(fn,Wn.fromStyles),_n.onDestroy(()=>zo(fn,Wn.toStyles)),$P.push(_n),Z.has(fn)&&i.push(_n)}),$P.forEach(rn=>{const fn=o.get(rn.element);if(fn&&fn.length){const _n=$a(fn);rn.setRealPlayer(_n)}}),i.forEach(rn=>{rn.parentPlayer?rn.syncPlayerEvents(rn.parentPlayer):rn.destroy()});for(let rn=0;rn<ft.length;rn++){const fn=ft[rn],_n=fn[co];if(ou(fn,im),_n&&_n.hasAnimation)continue;let Wn=[];if(h.size){let Jo=h.get(fn);Jo&&Jo.length&&Wn.push(...Jo);let eo=this.driver.query(fn,Xv,!0);for(let is=0;is<eo.length;is++){let Er=h.get(eo[is]);Er&&Er.length&&Wn.push(...Er)}}const Yr=Wn.filter(Jo=>!Jo.destroyed);Yr.length?XW(this,fn,Yr):this.processLeaveNode(fn)}return ft.length=0,Zs.forEach(rn=>{this.players.push(rn),rn.onDone(()=>{rn.destroy();const fn=this.players.indexOf(rn);this.players.splice(fn,1)}),rn.play()}),Zs}elementContainsData(t,e){let r=!1;const i=e[co];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const C=!o||o==Qc;h.forEach(B=>{B.queued||!C&&B.triggerName!=i||u.push(B)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(t,e,r){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const C of e.timelines){const B=C.element,Z=B!==o,ye=qi(r,B,[]);this._getPreviousPlayers(B,Z,u,h,e.toState).forEach(xe=>{const ke=xe.getRealPlayer();ke.beforeDestroy&&ke.beforeDestroy(),xe.destroy(),ye.push(xe)})}Ns(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,u){const h=e.triggerName,C=e.element,B=[],Z=new Set,ye=new Set,Me=e.timelines.map(ke=>{const Qe=ke.element;Z.add(Qe);const ft=Qe[co];if(ft&&ft.removedBeforeQueried)return new Yc(ke.duration,ke.delay);const vt=Qe!==C,Lt=function qW(n){const t=[];return QA(n,t),t}((r.get(Qe)||HW).map(ui=>ui.getRealPlayer())).filter(ui=>!!ui.element&&ui.element===Qe),bt=o.get(Qe),qt=u.get(Qe),kn=SA(0,this._normalizer,0,ke.keyframes,bt,qt),zn=this._buildPlayer(ke,kn,Lt);if(ke.subTimeline&&i&&ye.add(Qe),vt){const ui=new uy(t,h,Qe);ui.setRealPlayer(zn),B.push(ui)}return zn});B.forEach(ke=>{qi(this.playersByQueriedElement,ke.element,[]).push(ke),ke.onDone(()=>function zW(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,ke.element,ke))}),Z.forEach(ke=>fo(ke,OA));const xe=$a(Me);return xe.onDestroy(()=>{Z.forEach(ke=>ou(ke,OA)),zo(C,e.toStyles)}),ye.forEach(ke=>{qi(i,ke,[]).push(xe)}),xe}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Yc(t.duration,t.delay)}}class uy{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Yc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Hv(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){qi(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function _m(n){return n&&1===n.nodeType}function $A(n,t){const e=n.style.display;return n.style.display=t??"none",e}function XA(n,t,e,r,i){const o=[];e.forEach(C=>o.push($A(C)));const u=[];r.forEach((C,B)=>{const Z=new Map;C.forEach(ye=>{const Me=t.computeStyle(B,ye,i);Z.set(ye,Me),(!Me||0==Me.length)&&(B[co]=WW,u.push(B))}),n.set(B,Z)});let h=0;return e.forEach(C=>$A(C,o[h++])),u}function qA(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const i=new Set(t),o=new Map;function u(h){if(!h)return 1;let C=o.get(h);if(C)return C;const B=h.parentNode;return C=e.has(B)?B:i.has(B)?1:u(B),o.set(h,C),C}return t.forEach(h=>{const C=u(h);1!==C&&e.get(C).push(h)}),e}function fo(n,t){n.classList?.add(t)}function ou(n,t){n.classList?.remove(t)}function XW(n,t,e){$a(e).onDone(()=>n.processLeaveNode(t))}function QA(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof bA?QA(r.players,t):t.push(r)}}function ZA(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class vm{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new GW(t,e,r),this._timelineEngine=new BW(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const u=t+"-"+i;let h=this._triggerCache[u];if(!h){const C=[],Z=Jv(this._driver,o,C,[]);if(C.length)throw function LH(n,t){return new _t(3404,!1)}();h=function xW(n,t,e){return new NW(n,t,e)}(i,Z,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,i,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,u]=CA(r);this._timelineEngine.command(o,e,u,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[u,h]=CA(r);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let JW=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&zo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zo(this._element,this._initialStyles),this._endStyles&&(zo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ns(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ns(this._element,this._endStyles),this._endStyles=null),zo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function cy(n){let t=null;return n.forEach((e,r)=>{(function eK(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class JA{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:kA(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class tK{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return IA(t,e)}getParentElement(t){return zv(t)}query(t,e,r){return RA(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,u=[]){const C={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(C.easing=o);const B=new Map,Z=u.filter(xe=>xe instanceof JA);(function oW(n,t){return 0===n||0===t})(r,i)&&Z.forEach(xe=>{xe.currentSnapshot.forEach((ke,Qe)=>B.set(Qe,ke))});let ye=function tW(n){return n.length?n[0]instanceof Map?n:n.map(t=>xA(t)):[]}(e).map(xe=>Xa(xe));ye=function aW(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,u)=>{r.has(u)||i.push(u),r.set(u,o)}),i.length)for(let o=1;o<t.length;o++){let u=t[o];i.forEach(h=>u.set(h,kA(n,h)))}}return t}(t,ye,B);const Me=function ZW(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=cy(t[0]),t.length>1&&(r=cy(t[t.length-1]))):t instanceof Map&&(e=cy(t)),e||r?new JW(n,e,r):null}(t,ye);return new JA(t,ye,C,Me)}}let nK=(()=>{class n extends vA{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:fi.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?yA(e):e;return eI(this._renderer,null,r,"register",[i]),new rK(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(lt(oc),lt(Dn))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();class rK extends uH{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new iK(this._id,t,e||{},this._renderer)}}class iK{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eI(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eI(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const tI="@.disabled";let oK=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let Z=this._rendererCache.get(o);return Z||(Z=new nI("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,Z)),Z}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const C=Z=>{Array.isArray(Z)?Z.forEach(C):this.engine.registerTrigger(u,h,e,Z.name,Z)};return r.data.animation.forEach(C),new aK(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(lt(oc),lt(vm),lt(yn))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();class nI{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==tI?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class aK extends nI{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tI?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function sK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function lK(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(t,e,r)}}const fK=[{provide:Yv,useFactory:()=>new tK},{provide:Wo,useValue:"BrowserAnimations"},...[{provide:vA,useClass:nK},{provide:iy,useFactory:function cK(){return new RW}},{provide:vm,useClass:(()=>{class n extends vm{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn),lt(Yv),lt(iy),lt(ql))},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})()},{provide:oc,useFactory:function dK(n,t,e){return new oK(n,t,e)},deps:[tm,vm,yn]}]],Em=M(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function iI(n){return new z(t=>{Te(n()).subscribe(t)})}function dy(){return he((n,t)=>{let e=null;n._refCount++;const r=fe(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class oI extends z{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,pe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new w;const e=this.getSubject();t.add(this.source.subscribe(fe(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=w.EMPTY)}return t}refCount(){return dy()(this)}}function ho(n,t){return he((e,r)=>{let i=null,o=0,u=!1;const h=()=>u&&!i&&r.complete();e.subscribe(fe(r,C=>{i?.unsubscribe();let B=0;const Z=o++;Te(n(C,Z)).subscribe(i=fe(r,ye=>r.next(t?t(C,ye,Z,B++):ye),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function bm(n){return he((t,e)=>{let r=!1;t.subscribe(fe(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function aI(n=pK){return he((t,e)=>{let r=!1;t.subscribe(fe(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function pK(){return new Em}function qa(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Vr((i,o)=>n(i,o,r)):W,wi(1),e?bm(t):aI(()=>new Em))}function gK(n,t,e,r,i){return(o,u)=>{let h=e,C=t,B=0;o.subscribe(fe(u,Z=>{const ye=B++;C=h?n(C,Z,ye):(h=!0,Z),r&&u.next(C)},i&&(()=>{h&&u.next(C),u.complete()})))}}function sI(n,t){return he(gK(n,t,arguments.length>=2,!0))}function fy(n){return n<=0?()=>Dt:he((t,e)=>{let r=[];t.subscribe(fe(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function lI(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Vr((i,o)=>n(i,o,r)):W,fy(1),e?bm(t):aI(()=>new Em))}function uI(n){return se(()=>n)}const Pn="primary",Zc=Symbol("RouteTitle");class vK{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function au(n){return new vK(n)}function yK(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const u=r[o],h=n[o];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yo(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!cI(n[i],t[i]))return!1;return!0}function cI(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function dI(n){return Array.prototype.concat.apply([],n)}function fI(n){return n.length>0?n[n.length-1]:null}function Zr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Qa(n){return u_(n)?n:fc(n)?Fe(Promise.resolve(n)):on(n)}const Tm=!1,bK={exact:function pI(n,t,e){if(!Bs(n.segments,t.segments)||!Sm(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!pI(n.children[r],t.children[r],e))return!1;return!0},subset:gI},hI={exact:function TK(n,t){return Yo(n,t)},subset:function SK(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cI(n[e],t[e]))},ignored:()=>!0};function mI(n,t,e){return bK[e.paths](n.root,t.root,e.matrixParams)&&hI[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function gI(n,t,e){return _I(n,t,t.segments,e)}function _I(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Bs(i,e)||t.hasChildren()||!Sm(i,e,r))}if(n.segments.length===e.length){if(!Bs(n.segments,e)||!Sm(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!gI(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Bs(n.segments,i)&&Sm(n.segments,i,r)&&n.children[Pn])&&_I(n.children[Pn],t,o,r)}}function Sm(n,t,e){return t.every((r,i)=>hI[e](n[i].parameters,r.parameters))}class Fs{constructor(t=new On([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=au(this.queryParams)),this._queryParamMap}toString(){return DK.serialize(this)}}class On{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Zr(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cm(this)}}class Jc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=au(this.parameters)),this._parameterMap}toString(){return EI(this)}}function Bs(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let ed=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:function(){return new hy},providedIn:"root"}),n})();class hy{parse(t){const e=new LK(t);return new Fs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${td(t.root,!0)}`,r=function RK(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Mm(e)}=${Mm(i)}`).join("&"):`${Mm(e)}=${Mm(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function AK(n){return encodeURI(n)}(t.fragment)}`:""}`}}const DK=new hy;function Cm(n){return n.segments.map(t=>EI(t)).join("/")}function td(n,t){if(!n.hasChildren())return Cm(n);if(t){const e=n.children[Pn]?td(n.children[Pn],!1):"",r=[];return Zr(n.children,(i,o)=>{o!==Pn&&r.push(`${o}:${td(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function MK(n,t){let e=[];return Zr(n.children,(r,i)=>{i===Pn&&(e=e.concat(t(r,i)))}),Zr(n.children,(r,i)=>{i!==Pn&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Pn?[td(n.children[Pn],!1)]:[`${i}:${td(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pn]?`${Cm(n)}/${e[0]}`:`${Cm(n)}/(${e.join("//")})`}}function vI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mm(n){return vI(n).replace(/%3B/gi,";")}function my(n){return vI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dm(n){return decodeURIComponent(n)}function yI(n){return Dm(n.replace(/\+/g,"%20"))}function EI(n){return`${my(n.path)}${function IK(n){return Object.keys(n).map(t=>`;${my(t)}=${my(n[t])}`).join("")}(n.parameters)}`}const wK=/^[^\/()?;=#]+/;function Am(n){const t=n.match(wK);return t?t[0]:""}const PK=/^[^=?&#]+/,xK=/^[^&#]+/;class LK{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Pn]=new On(t,e)),r}parseSegment(){const t=Am(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new _t(4009,Tm);return this.capture(t),new Jc(Dm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Am(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Am(this.remaining);i&&(r=i,this.capture(r))}t[Dm(e)]=Dm(r)}parseQueryParam(t){const e=function OK(n){const t=n.match(PK);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const u=function NK(n){const t=n.match(xK);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=yI(e),o=yI(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Am(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new _t(4010,Tm);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Pn);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[Pn]:new On([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new _t(4011,Tm)}}function py(n){return n.segments.length>0?new On([],{[Pn]:n}):n}function Im(n){const t={};for(const r of Object.keys(n.children)){const o=Im(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function FK(n){if(1===n.numberOfChildren&&n.children[Pn]){const t=n.children[Pn];return new On(n.segments.concat(t.segments),t.children)}return n}(new On(n.segments,t))}function ks(n){return n instanceof Fs}function UK(n,t,e,r,i){if(0===e.length)return su(t.root,t.root,t.root,r,i);const o=function SI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new TI(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Zr(o.outlets,(C,B)=>{h[B]="string"==typeof C?C.split("/"):C}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===u?(o.split("/").forEach((h,C)=>{0==C&&"."===h||(0==C&&""===h?e=!0:".."===h?t++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new TI(e,t,r)}(e);return o.toRoot()?su(t.root,t.root,new On([],{}),r,i):function u(C){const B=function VK(n,t,e,r){if(n.isAbsolute)return new lu(t.root,!0,0);if(-1===r)return new lu(e,e===t.root,0);return function CI(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new _t(4005,!1);i=r.segments.length}return new lu(r,!1,i-o)}(e,r+(nd(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,C),Z=B.processChildren?id(B.segmentGroup,B.index,o.commands):_y(B.segmentGroup,B.index,o.commands);return su(t.root,B.segmentGroup,Z,r,i)}(n.snapshot?._lastPathIndex)}function nd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rd(n){return"object"==typeof n&&null!=n&&n.outlets}function su(n,t,e,r,i){let u,o={};r&&Zr(r,(C,B)=>{o[B]=Array.isArray(C)?C.map(Z=>`${Z}`):`${C}`}),u=n===t?e:bI(n,t,e);const h=py(Im(u));return new Fs(h,o,i)}function bI(n,t,e){const r={};return Zr(n.children,(i,o)=>{r[o]=i===t?e:bI(i,t,e)}),new On(n.segments,r)}class TI{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&nd(r[0]))throw new _t(4003,!1);const i=r.find(rd);if(i&&i!==fI(r))throw new _t(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lu{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function _y(n,t,e){if(n||(n=new On([],{})),0===n.segments.length&&n.hasChildren())return id(n,t,e);const r=function WK(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const u=n.segments[i],h=e[r];if(rd(h))break;const C=`${h}`,B=r<e.length-1?e[r+1]:null;if(i>0&&void 0===C)break;if(C&&B&&"object"==typeof B&&void 0===B.outlets){if(!DI(C,B,u))return o;r+=2}else{if(!DI(C,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new On(n.segments.slice(0,r.pathIndex),{});return o.children[Pn]=new On(n.segments.slice(r.pathIndex),n.children),id(o,0,i)}return r.match&&0===i.length?new On(n.segments,{}):r.match&&!n.hasChildren()?vy(n,t,e):r.match?id(n,0,i):vy(n,t,e)}function id(n,t,e){if(0===e.length)return new On(n.segments,{});{const r=function HK(n){return rd(n[0])?n[0].outlets:{[Pn]:n}}(e),i={};return Zr(r,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[u]=_y(n.children[u],t,o))}),Zr(n.children,(o,u)=>{void 0===r[u]&&(i[u]=o)}),new On(n.segments,i)}}function vy(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(rd(o)){const C=KK(o.outlets);return new On(r,C)}if(0===i&&nd(e[0])){r.push(new Jc(n.segments[t].path,MI(e[0]))),i++;continue}const u=rd(o)?o.outlets[Pn]:`${o}`,h=i<e.length-1?e[i+1]:null;u&&h&&nd(h)?(r.push(new Jc(u,MI(h))),i+=2):(r.push(new Jc(u,{})),i++)}return new On(r,{})}function KK(n){const t={};return Zr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=vy(new On([],{}),0,e))}),t}function MI(n){const t={};return Zr(n,(e,r)=>t[r]=`${e}`),t}function DI(n,t,e){return n==e.path&&Yo(t,e.parameters)}class Ea{constructor(t,e){this.id=t,this.url=e}}class yy extends Ea{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Us extends Ea{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rm extends Ea{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class AI extends Ea{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GK extends Ea{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zK extends Ea{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YK extends Ea{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $K extends Ea{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XK extends Ea{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qK{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QK{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ZK{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JK{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eG{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tG{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class II{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let rG=(()=>{class n{createUrlTree(e,r,i,o,u,h){return UK(e||r.root,i,o,u,h)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})(),iG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:function(t){return rG.\u0275fac(t)},providedIn:"root"}),n})();class RI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ey(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Ey(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=by(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return by(t,this._root).map(e=>e.value)}}function Ey(n,t){if(n===t.value)return t;for(const e of t.children){const r=Ey(n,e);if(r)return r}return null}function by(n,t){if(n===t.value)return[t];for(const e of t.children){const r=by(n,e);if(r.length)return r.unshift(t),r}return[]}class ba{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function uu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class wI extends RI{constructor(t,e){super(t),this.snapshot=e,Ty(this,t)}toString(){return this.snapshot.toString()}}function PI(n,t){const e=function oG(n,t){const u=new wm([],{},{},"",{},Pn,t,null,n.root,-1,{});return new xI("",new ba(u,[]))}(n,t),r=new $i([new Jc("",{})]),i=new $i({}),o=new $i({}),u=new $i({}),h=new $i(""),C=new Ta(r,i,u,h,o,Pn,t,e.root);return C.snapshot=e.root,new wI(new ba(C,[]),e)}class Ta{constructor(t,e,r,i,o,u,h,C){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe(se(B=>B[Zc]))??on(void 0),this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(t=>au(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(t=>au(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OI(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function aG(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class wm{constructor(t,e,r,i,o,u,h,C,B,Z,ye){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.routeConfig=C,this._urlSegment=B,this._lastPathIndex=Z,this._resolve=ye}get title(){return this.data?.[Zc]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=au(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=au(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xI extends RI{constructor(t,e){super(e),this.url=t,Ty(this,e)}toString(){return NI(this._root)}}function Ty(n,t){t.value._routerState=n,t.children.forEach(e=>Ty(n,e))}function NI(n){const t=n.children.length>0?` { ${n.children.map(NI).join(", ")} } `:"";return`${n.value}${t}`}function Sy(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Yo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Yo(t.params,e.params)||n.params.next(e.params),function EK(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Yo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Yo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Cy(n,t){const e=Yo(n.params,t.params)&&function CK(n,t){return Bs(n,t)&&n.every((e,r)=>Yo(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Cy(n.parent,t.parent))}function od(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function lG(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return od(n,r,i);return od(n,r)})}(n,t,e);return new ba(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>od(n,h)),u}}const r=function uG(n){return new Ta(new $i(n.url),new $i(n.params),new $i(n.queryParams),new $i(n.fragment),new $i(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>od(n,o));return new ba(r,i)}}const My="ngNavigationCancelingError";function LI(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=ks(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=FI(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function FI(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[My]=!0,r.cancellationCode=t,e&&(r.url=e),r}function BI(n){return kI(n)&&ks(n.url)}function kI(n){return n&&n[My]}class cG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ad,this.attachRef=null}}let ad=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new cG,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pm=!1;let Dy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pn,this.activateEvents=new er,this.deactivateEvents=new er,this.attachEvents=new er,this.detachEvents=new er,this.parentContexts=vn(ad),this.location=vn(Gi),this.changeDetector=vn(Yi),this.environmentInjector=vn(Lo)}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _t(4012,Pm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _t(4012,Pm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _t(4012,Pm);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new _t(4013,Pm);this._activatedRoute=e;const i=this.location,u=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,C=new dG(e,h,i.injector);if(r&&function fG(n){return!!n.resolveComponentFactory}(r)){const B=r.resolveComponentFactory(u);this.activated=i.createComponent(B,i.length,C)}else this.activated=i.createComponent(u,{index:i.length,injector:C,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ki]}),n})();class dG{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Ta?this.route:t===ad?this.childContexts:this.parent.get(t,e)}}let Ay=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Kt({type:n,selectors:[["ng-component"]],standalone:!0,features:[qn],decls:1,vars:0,template:function(e,r){1&e&&en(0,"router-outlet")},dependencies:[Dy],encapsulation:2}),n})();function UI(n,t){return n.providers&&!n._injector&&(n._injector=hh(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ry(n){const t=n.children&&n.children.map(Ry),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Pn&&(e.component=Ay),e}function mo(n){return n.outlet||Pn}function jI(n,t){const e=n.filter(r=>mo(r)===t);return e.push(...n.filter(r=>mo(r)!==t)),e}function sd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class _G{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Sy(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=uu(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,i[u],r),delete i[u]}),Zr(i,(o,u)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=uu(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=uu(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=uu(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tG(o.value.snapshot))}),t.children.length&&this.forwardEvent(new JK(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(Sy(i),i===o)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Sy(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=sd(i.snapshot),C=h?.get(Rl)??null;u.attachRef=null,u.route=i,u.resolver=C,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class VI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Om{constructor(t,e){this.component=t,this.route=e}}function vG(n,t,e){const r=n._root;return ld(r,t?t._root:null,e,[r.value])}function cu(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function Un(n){return null!==En(n)}(n)?t.get(n):n:r}function ld(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=uu(t);return n.children.forEach(u=>{(function EG(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const C=function bG(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Bs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Bs(n.url,t.url)||!Yo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cy(n,t)||!Yo(n.queryParams,t.queryParams);default:return!Cy(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);C?i.canActivateChecks.push(new VI(r)):(o.data=u.data,o._resolvedData=u._resolvedData),ld(n,t,o.component?h?h.children:null:e,r,i),C&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Om(h.outlet.component,u))}else u&&ud(t,h,i),i.canActivateChecks.push(new VI(r)),ld(n,null,o.component?h?h.children:null:e,r,i)})(u,o[u.value.outlet],e,r.concat([u.value]),i),delete o[u.value.outlet]}),Zr(o,(u,h)=>ud(u,e.getContext(h),i)),i}function ud(n,t,e){const r=uu(n),i=n.value;Zr(r,(o,u)=>{ud(o,i.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Om(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function cd(n){return"function"==typeof n}function wy(n){return n instanceof Em||"EmptyError"===n?.name}const xm=Symbol("INITIAL_VALUE");function du(){return ho(n=>Sv(n.map(t=>t.pipe(wi(1),tu(xm)))).pipe(se(t=>{for(const e of t)if(!0!==e){if(e===xm)return xm;if(!1===e||e instanceof Fs)return e}return!0}),Vr(t=>t!==xm),wi(1)))}function HI(n){return function x(...n){return Y(n)}(Hn(t=>{if(ks(t))throw LI(0,t)}),se(t=>!0===t))}const Py={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WI(n,t,e,r,i){const o=Oy(n,t,e);return o.matched?function kG(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?on(i.map(u=>{const h=cu(u,n);return Qa(function AG(n){return n&&cd(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(du(),HI()):on(!0)}(r=UI(t,r),t,e).pipe(se(u=>!0===u?o:{...Py})):on(o)}function Oy(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Py}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||yK)(e,n,t);if(!i)return{...Py};const o={};Zr(i.posParams,(h,C)=>{o[C]=h.path});const u=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Nm(n,t,e,r){if(e.length>0&&function VG(n,t,e){return e.some(r=>Lm(n,t,r)&&mo(r)!==Pn)}(n,e,r)){const o=new On(t,function jG(n,t,e,r){const i={};i[Pn]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&mo(o)!==Pn){const u=new On([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,i[mo(o)]=u}return i}(n,t,r,new On(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function HG(n,t,e){return e.some(r=>Lm(n,t,r))}(n,e,r)){const o=new On(n.segments,function UG(n,t,e,r,i){const o={};for(const u of r)if(Lm(n,e,u)&&!i[mo(u)]){const h=new On([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[mo(u)]=h}return{...i,...o}}(n,t,e,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const i=new On(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:e}}function Lm(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function KI(n,t,e,r){return!!(mo(n)===r||r!==Pn&&Lm(t,e,n))&&("**"===n.path||Oy(t,n,e).matched)}function GI(n,t,e){return 0===t.length&&!n.children[e]}const Fm=!1;class Bm{constructor(t){this.segmentGroup=t||null}}class zI{constructor(t){this.urlTree=t}}function dd(n){return bi(new Bm(n))}function YI(n){return bi(new zI(n))}class zG{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Nm(this.urlTree.root,[],[],this.config).segmentGroup,e=new On(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Pn).pipe(se(o=>this.createUrlTree(Im(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uo(o=>{if(o instanceof zI)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Bm?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Pn).pipe(se(i=>this.createUrlTree(Im(i),t.queryParams,t.fragment))).pipe(uo(i=>{throw i instanceof Bm?this.noMatchError(i):i}))}noMatchError(t){return new _t(4002,Fm)}createUrlTree(t,e,r){const i=py(t);return new Fs(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(se(o=>new On([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Fe(i).pipe(Wa(o=>{const u=r.children[o],h=jI(e,o);return this.expandSegmentGroup(t,h,u,o).pipe(se(C=>({segment:C,outlet:o})))}),sI((o,u)=>(o[u.outlet]=u.segment,o),{}),lI())}expandSegment(t,e,r,i,o,u){return Fe(r).pipe(Wa(h=>this.expandSegmentAgainstRoute(t,e,r,h,i,o,u).pipe(uo(B=>{if(B instanceof Bm)return on(null);throw B}))),qa(h=>!!h),uo((h,C)=>{if(wy(h))return GI(e,i,o)?on(new On([],{})):dd(e);throw h}))}expandSegmentAgainstRoute(t,e,r,i,o,u,h){return KI(i,e,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u):dd(e):dd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YI(o):this.lineralizeSegments(r,o).pipe(rt(u=>{const h=new On(u,{});return this.expandSegment(t,h,e,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,u){const{matched:h,consumedSegments:C,remainingSegments:B,positionalParamSegments:Z}=Oy(e,i,o);if(!h)return dd(e);const ye=this.applyRedirectCommands(C,i.redirectTo,Z);return i.redirectTo.startsWith("/")?YI(ye):this.lineralizeSegments(i,ye).pipe(rt(Me=>this.expandSegment(t,e,r,Me.concat(B),u,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=UI(r,t),r.loadChildren?(r._loadedRoutes?on({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(se(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new On(i,{})))):on(new On(i,{}))):WI(e,r,i,t).pipe(ho(({matched:u,consumedSegments:h,remainingSegments:C})=>u?this.getChildConfig(t=r._injector??t,r,i).pipe(rt(Z=>{const ye=Z.injector??t,Me=Z.routes,{segmentGroup:xe,slicedSegments:ke}=Nm(e,h,C,Me),Qe=new On(xe.segments,xe.children);if(0===ke.length&&Qe.hasChildren())return this.expandChildren(ye,Me,Qe).pipe(se(bt=>new On(h,bt)));if(0===Me.length&&0===ke.length)return on(new On(h,{}));const ft=mo(r)===o;return this.expandSegment(ye,Qe,Me,ke,ft?Pn:o,!0).pipe(se(Lt=>new On(h.concat(Lt.segments),Lt.children)))})):dd(e)))}getChildConfig(t,e,r){return e.children?on({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?on({routes:e._loadedRoutes,injector:e._loadedInjector}):function BG(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?on(!0):on(i.map(u=>{const h=cu(u,n);return Qa(function SG(n){return n&&cd(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(du(),HI())}(t,e,r).pipe(rt(i=>i?this.configLoader.loadChildren(t,e).pipe(Hn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function KG(n){return bi(FI(Fm,3))}())):on({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return on(r);if(i.numberOfChildren>1||!i.children[Pn])return bi(new _t(4e3,Fm));i=i.children[Pn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new Fs(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Zr(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[o]=e[h]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let u={};return Zr(e.children,(h,C)=>{u[C]=this.createSegmentGroup(t,h,r,i)}),new On(o,u)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new _t(4001,Fm);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class $G{}class QG{constructor(t,e,r,i,o,u,h){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const t=Nm(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Pn).pipe(se(e=>{if(null===e)return null;const r=new wm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ba(r,e),o=new xI(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=OI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return Fe(Object.keys(r.children)).pipe(Wa(i=>{const o=r.children[i],u=jI(e,i);return this.processSegmentGroup(t,u,o,i)}),sI((i,o)=>i&&o?(i.push(...o),i):null),function _K(n,t=!1){return he((e,r)=>{let i=0;e.subscribe(fe(r,o=>{const u=n(o,i++);(u||t)&&r.next(o),!u&&r.complete()}))})}(i=>null!==i),bm(null),lI(),se(i=>{if(null===i)return null;const o=XI(i);return function ZG(n){n.sort((t,e)=>t.value.outlet===Pn?-1:e.value.outlet===Pn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return Fe(e).pipe(Wa(u=>this.processSegmentAgainstRoute(u._injector??t,u,r,i,o)),qa(u=>!!u),uo(u=>{if(wy(u))return GI(r,i,o)?on([]):on(null);throw u}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!KI(e,r,i,o))return on(null);let u;if("**"===e.path){const h=i.length>0?fI(i).parameters:{},C=QI(r)+i.length;u=on({snapshot:new wm(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZI(e),mo(e),e.component??e._loadedComponent??null,e,qI(r),C,JI(e)),consumedSegments:[],remainingSegments:[]})}else u=WI(r,e,i,t).pipe(se(({matched:h,consumedSegments:C,remainingSegments:B,parameters:Z})=>{if(!h)return null;const ye=QI(r)+C.length;return{snapshot:new wm(C,Z,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZI(e),mo(e),e.component??e._loadedComponent??null,e,qI(r),ye,JI(e)),consumedSegments:C,remainingSegments:B}}));return u.pipe(ho(h=>{if(null===h)return on(null);const{snapshot:C,consumedSegments:B,remainingSegments:Z}=h;t=e._injector??t;const ye=e._loadedInjector??t,Me=function JG(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:xe,slicedSegments:ke}=Nm(r,B,Z,Me.filter(ft=>void 0===ft.redirectTo));if(0===ke.length&&xe.hasChildren())return this.processChildren(ye,Me,xe).pipe(se(ft=>null===ft?null:[new ba(C,ft)]));if(0===Me.length&&0===ke.length)return on([new ba(C,[])]);const Qe=mo(e)===o;return this.processSegment(ye,Me,xe,ke,Qe?Pn:o).pipe(se(ft=>null===ft?null:[new ba(C,ft)]))}))}}function ez(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function XI(n){const t=[],e=new Set;for(const r of n){if(!ez(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=XI(r.children);t.push(new ba(r.value,i))}return t.filter(r=>!e.has(r))}function qI(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function QI(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function ZI(n){return n.data||{}}function JI(n){return n.resolve||{}}function eR(n){return"string"==typeof n.title||null===n.title}function xy(n){return ho(t=>{const e=n(t);return e?Fe(e).pipe(se(()=>t)):on(t)})}const fu=new Ft("ROUTES");let Ny=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return on(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Qa(e.loadComponent()).pipe(se(nR),Hn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),$h(()=>{this.componentLoaders.delete(e)})),i=new oI(r,()=>new de).pipe(dy());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return on({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let C,B,Z=!1;Array.isArray(h)?B=h:(C=h.create(e).injector,B=dI(C.get(fu,[],hn.Self|hn.Optional)));return{routes:B.map(Ry),injector:C}}),$h(()=>{this.childrenLoaders.delete(r)})),u=new oI(o,()=>new de).pipe(dy());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(e){return Qa(e()).pipe(se(nR),rt(i=>i instanceof g0||Array.isArray(i)?on(i):Fe(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(lt(Ii),lt(rM))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nR(n){return function uz(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ly=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new de,this.configLoader=vn(Ny),this.environmentInjector=vn(Lo),this.urlSerializer=vn(ed),this.rootContexts=vn(ad),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new QK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new qK(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new $i({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vr(r=>0!==r.id),se(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),ho(r=>{let i=!1,o=!1;return on(r).pipe(Hn(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ho(u=>{const h=e.browserUrlTree.toString(),C=!e.navigated||u.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||C)&&e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return iR(u.source)&&(e.browserUrlTree=u.extractedUrl),on(u).pipe(ho(Z=>{const ye=this.transitions?.getValue();return this.events.next(new yy(Z.id,this.urlSerializer.serialize(Z.extractedUrl),Z.source,Z.restoredState)),ye!==this.transitions?.getValue()?Dt:Promise.resolve(Z)}),function YG(n,t,e,r){return ho(i=>function GG(n,t,e,r,i){return new zG(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(se(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),Hn(Z=>{this.currentNavigation={...this.currentNavigation,finalUrl:Z.urlAfterRedirects},r.urlAfterRedirects=Z.urlAfterRedirects}),function nz(n,t,e,r,i){return rt(o=>function qG(n,t,e,r,i,o,u="emptyOnly"){return new QG(n,t,e,r,i,u,o).recognize().pipe(ho(h=>null===h?function XG(n){return new z(t=>t.error(n))}(new $G):on(h)))}(n,t,e,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(se(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,e.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Hn(Z=>{if(r.targetSnapshot=Z.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!Z.extras.skipLocationChange){const Me=e.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl);e.setBrowserUrl(Me,Z)}e.browserUrlTree=Z.urlAfterRedirects}const ye=new GK(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(ye)}));if(C&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:ye,extractedUrl:Me,source:xe,restoredState:ke,extras:Qe}=u,ft=new yy(ye,this.urlSerializer.serialize(Me),xe,ke);this.events.next(ft);const vt=PI(Me,e.rootComponentType).snapshot;return on(r={...u,targetSnapshot:vt,urlAfterRedirects:Me,extras:{...Qe,skipLocationChange:!1,replaceUrl:!1}})}return e.rawUrlTree=u.rawUrl,u.resolve(null),Dt}),Hn(u=>{const h=new zK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),se(u=>r={...u,guards:vG(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function RG(n,t){return rt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?on({...e,guardsResult:!0}):function wG(n,t,e,r){return Fe(n).pipe(rt(i=>function FG(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?on(o.map(h=>{const C=sd(t)??i,B=cu(h,C);return Qa(function DG(n){return n&&cd(n.canDeactivate)}(B)?B.canDeactivate(n,t,e,r):C.runInContext(()=>B(n,t,e,r))).pipe(qa())})).pipe(du()):on(!0)}(i.component,i.route,e,t,r)),qa(i=>!0!==i,!0))}(u,r,i,n).pipe(rt(h=>h&&function TG(n){return"boolean"==typeof n}(h)?function PG(n,t,e,r){return Fe(t).pipe(Wa(i=>Oc(function xG(n,t){return null!==n&&t&&t(new ZK(n)),on(!0)}(i.route.parent,r),function OG(n,t){return null!==n&&t&&t(new eG(n)),on(!0)}(i.route,r),function LG(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function yG(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>iI(()=>on(u.guards.map(C=>{const B=sd(u.node)??e,Z=cu(C,B);return Qa(function MG(n){return n&&cd(n.canActivateChild)}(Z)?Z.canActivateChild(r,n):B.runInContext(()=>Z(r,n))).pipe(qa())})).pipe(du())));return on(o).pipe(du())}(n,i.path,e),function NG(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return on(!0);const i=r.map(o=>iI(()=>{const u=sd(t)??e,h=cu(o,u);return Qa(function CG(n){return n&&cd(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(qa())}));return on(i).pipe(du())}(n,i.route,e))),qa(i=>!0!==i,!0))}(r,o,n,t):on(h)),se(h=>({...e,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),Hn(u=>{if(r.guardsResult=u.guardsResult,ks(u.guardsResult))throw LI(0,u.guardsResult);const h=new YK(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Vr(u=>!!u.guardsResult||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",3,e),!1)),xy(u=>{if(u.guards.canActivateChecks.length)return on(u).pipe(Hn(h=>{const C=new $K(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(C)}),ho(h=>{let C=!1;return on(h).pipe(function rz(n,t){return rt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return on(e);let o=0;return Fe(i).pipe(Wa(u=>function iz(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!eR(i)&&(o[Zc]=i.title),function oz(n,t,e,r){const i=function az(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return on({});const o={};return Fe(i).pipe(rt(u=>function sz(n,t,e,r){const i=sd(t)??r,o=cu(n,i);return Qa(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[u],t,e,r).pipe(qa(),Hn(h=>{o[u]=h}))),fy(1),uI(o),uo(u=>wy(u)?Dt:bi(u)))}(o,n,t,r).pipe(se(u=>(n._resolvedData=u,n.data=OI(n,e).resolve,i&&eR(i)&&(n.data[Zc]=i.title),null)))}(u.route,r,n,t)),Hn(()=>o++),fy(1),rt(u=>o===i.length?on(e):Dt))})}(e.paramsInheritanceStrategy,this.environmentInjector),Hn({next:()=>C=!0,complete:()=>{C||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2,e))}}))}),Hn(h=>{const C=new XK(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(C)}))}),xy(u=>{const h=C=>{const B=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&B.push(this.configLoader.loadComponent(C.routeConfig).pipe(Hn(Z=>{C.component=Z}),se(()=>{})));for(const Z of C.children)B.push(...h(Z));return B};return Sv(h(u.targetSnapshot.root)).pipe(bm(),wi(1))}),xy(()=>e.afterPreactivation()),se(u=>{const h=function sG(n,t,e){const r=od(n,t._root,e?e._root:void 0);return new wI(r,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:h}}),Hn(u=>{e.currentUrlTree=u.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),e.routerState=u.targetRouterState,"deferred"===e.urlUpdateStrategy&&(u.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,u),e.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>se(r=>(new _G(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u)),Hn({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Us(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),$h(()=>{i||o||this.cancelNavigationTransition(r,"",1,e),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),uo(u=>{if(o=!0,kI(u)){BI(u)||(e.navigated=!0,e.restoreHistory(r,!0));const h=new Rm(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),BI(u)){const C=e.urlHandlingStrategy.merge(u.url,e.rawUrlTree),B={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||iR(r.source)};e.scheduleNavigation(C,"imperative",null,B,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const h=new AI(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(e.errorHandler(u))}catch(C){r.reject(C)}}return Dt}))}))}cancelNavigationTransition(e,r,i,o){const u=new Rm(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(u),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iR(n){return"imperative"!==n}let oR=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Pn);return r}getResolvedTitleForRoute(e){return e.data[Zc]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:function(){return vn(cz)},providedIn:"root"}),n})(),cz=(()=>{class n extends oR{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(lt(uA))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:function(){return vn(hz)},providedIn:"root"}),n})();class fz{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let hz=(()=>{class n extends fz{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=zr(n)))(r||n)}}(),n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const km=new Ft("",{providedIn:"root",factory:()=>({})});let pz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:function(){return vn(gz)},providedIn:"root"}),n})(),gz=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _z(n){throw n}function vz(n,t,e){return t.parse("/")}const yz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ez={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kr=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=vn(nk),this.isNgZoneEnabled=!1,this.options=vn(km,{optional:!0})||{},this.errorHandler=this.options.errorHandler||_z,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vz,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>on(void 0),this.urlHandlingStrategy=vn(pz),this.routeReuseStrategy=vn(dz),this.urlCreationStrategy=vn(iG),this.titleStrategy=vn(oR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=dI(vn(fu,{optional:!0})??[]),this.navigationTransitions=vn(Ly),this.urlSerializer=vn(ed),this.location=vn(Mh),this.rootComponentType=null,this.isNgZoneEnabled=vn(yn)instanceof yn&&yn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=PI(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(e.state){const h={...e.state};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Ry),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:C}=r,B=C?this.currentUrlTree.fragment:u;let Z=null;switch(h){case"merge":Z={...this.currentUrlTree.queryParams,...o};break;case"preserve":Z=this.currentUrlTree.queryParams;break;default:Z=o||null}return null!==Z&&(Z=this.removeEmptyProps(Z)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,e,Z,B??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=ks(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function bz(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new _t(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...yz}:!1===r?{...Ez}:r,ks(e))return mI(this.currentUrlTree,e,i);const o=this.parseUrl(e);return mI(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,u){if(this.disposed)return Promise.resolve(!1);let h,C,B,Z;return u?(h=u.resolve,C=u.reject,B=u.promise):B=new Promise((ye,Me)=>{h=ye,C=Me}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Z=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Z=0,this.navigationTransitions.handleNavigationRequest({targetPageId:Z,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:h,reject:C,promise:B,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),B.catch(ye=>Promise.reject(ye))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sa=(()=>{class n{constructor(e,r,i,o,u,h){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new de;const C=u.nativeElement.tagName;this.isAnchorElement="A"===C||"AREA"===C,this.isAnchorElement?this.subscription=e.events.subscribe(B=>{B instanceof Us&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=Ql(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=Ql(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=Ql(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function KT(n,t,e){return function cN(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?WT:Al}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(Ve(Kr),Ve(Ta),vl("tabindex"),Ve(la),Ve(Rn),Ve(Ds))},n.\u0275dir=Vt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&Cn("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&ar("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[ki]}),n})();class sR{}let Cz=(()=>{class n{constructor(e,r,i,o,u){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Vr(e=>e instanceof Us),Wa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=hh(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(h,o.children??o._loadedRoutes))}return Fe(i).pipe(mt())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):on(null);const o=i.pipe(rt(u=>null===u?on(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));return r.loadComponent&&!r._loadedComponent?Fe([o,this.loader.loadComponent(r)]).pipe(mt()):o})}}return n.\u0275fac=function(e){return new(e||n)(lt(Kr),lt(rM),lt(Lo),lt(sR),lt(Ny))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fy=new Ft("");let lR=(()=>{class n{constructor(e,r,i,o,u={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof yy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Us&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof II&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new II(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){Qf()},n.\u0275prov=et({token:n,factory:n.\u0275fac}),n})();function uR(n){return n.routerState.root}function mu(n,t){return{\u0275kind:n,\u0275providers:t}}function cR(){const n=vn(Ii);return t=>{const e=n.get(ql);if(t!==e.components[0])return;const r=n.get(Kr),i=n.get(dR);1===n.get(ky)&&r.initialNavigation(),n.get(fR,null,hn.Optional)?.setUpPreloading(),n.get(Fy,null,hn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const dR=new Ft("",{factory:()=>new de}),ky=new Ft("",{providedIn:"root",factory:()=>1});const fR=new Ft("");function wz(n){return mu(0,[{provide:fR,useExisting:Cz},{provide:sR,useExisting:n}])}const hR=new Ft("ROUTER_FORROOT_GUARD"),Pz=[Mh,{provide:ed,useClass:hy},Kr,ad,{provide:Ta,useFactory:uR,deps:[Kr]},Ny,[]];function Oz(){return new cM("Router",Kr)}let oi=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Pz,[],{provide:fu,multi:!0,useValue:e},{provide:hR,useFactory:Fz,deps:[[Kr,new aa,new Cl]]},{provide:km,useValue:r||{}},r?.useHash?{provide:Ds,useClass:Hk}:{provide:Ds,useClass:OM},{provide:Fy,useFactory:()=>{const n=vn(aj),t=vn(yn),e=vn(km),r=vn(Ly),i=vn(ed);return e.scrollOffset&&n.setOffset(e.scrollOffset),new lR(i,r,n,t,e)}},r?.preloadingStrategy?wz(r.preloadingStrategy).\u0275providers:[],{provide:cM,multi:!0,useFactory:Oz},r?.initialNavigation?Bz(r):[],[{provide:mR,useFactory:cR},{provide:B_,multi:!0,useExisting:mR}]]}}static forChild(e){return{ngModule:n,providers:[{provide:fu,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(lt(hR,8))},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[Ay]}),n})();function Fz(n){return"guarded"}function Bz(n){return["disabled"===n.initialNavigation?mu(3,[{provide:Sc,multi:!0,useFactory:()=>{const t=vn(Kr);return()=>{t.setUpLocationChangeListener()}}},{provide:ky,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?mu(2,[{provide:ky,useValue:0},{provide:Sc,multi:!0,deps:[Ii],useFactory:t=>{const e=t.get(jk,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=t.get(Kr),u=t.get(dR);(function r(i){t.get(Kr).events.pipe(Vr(u=>u instanceof Us||u instanceof Rm||u instanceof AI),se(u=>u instanceof Us||u instanceof Rm&&(0===u.code||1===u.code)&&null),Vr(u=>null!==u),wi(1)).subscribe(()=>{i()})})(()=>{i(!0)}),o.afterPreactivation=()=>(i(!0),u.closed?on(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const mR=new Ft("");function pR(n,t,e,r,i,o,u){try{var h=n[o](u),C=h.value}catch(B){return void e(B)}h.done?t(C):Promise.resolve(C).then(r,i)}function yr(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function u(C){pR(o,r,i,u,h,"next",C)}function h(C){pR(o,r,i,u,h,"throw",C)}u(void 0)})}}U(37);class $o{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(t,e){const r=new $o;return r.addError(t,e),r}addError(t,e){if(e&&String.hasData(e)){const i=e.split(".");let o=this.errors;for(let u=0;u<i.length;u++){const h=i[u],C=h[0].toLowerCase()+h.slice(1);u<i.length-1?(o[C]={},o=o[C]):o[C]=t}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),t.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(t),void(this.hasErrors=!0);const r=t[0].toLowerCase()+t.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}class pu{constructor(){this.XSSI_PREFIX=/^\)\]\}',?\n/}intercept(t,e){return e.handle(t.clone()).pipe(uo(r=>{if(!(r instanceof Uc)||400!==r.status&&404!==r.status)return bi(r);if(404===r.status)return bi($o.CreateErrorResult("NotFound"));const i=new $o;try{let o=r.error;"string"==typeof o&&(o=JSON.parse(r.error.replace(this.XSSI_PREFIX,""))),Array.isArray(o)?o.forEach(u=>i.addError(u.message,u.memberName)):i.addError(o.message,o.memberName)}catch{i.addError("Internal Error")}return bi(i)}))}}pu.\u0275fac=function(t){return new(t||pu)},pu.\u0275prov=et({token:pu,factory:pu.\u0275fac,providedIn:"root"});class Ao{}class hd extends Ao{}class Za extends Ao{constructor(t=!1){super(),this._kill=t}get kill(){return this._kill}}function gR(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cn(n,t,e){gR(n,t),t.set(n,e)}function _R(n,t,e){if(!t.has(n))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(n)}function ot(n,t){return function Uz(n,t){return t.get?t.get.call(n):t.value}(n,_R(n,t,"get"))}function Gt(n,t,e){return function jz(n,t,e){if(t.set)t.set.call(n,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}(n,_R(n,t,"set"),e),e}var Um=new WeakMap;class Or{constructor(){cn(this,Um,{writable:!0,value:void 0}),Gt(this,Um,new de)}raise(t){if(null==t)throw new Error("domainEvent missing");let e="function"==typeof t?new t:"object"==typeof t?t:null;if(!(e&&e instanceof Ao))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");ot(this,Um).next(e)}handle(t){return ot(this,Um).pipe(Vr(e=>e instanceof t),se(e=>e))}}Or.\u0275fac=function(t){return new(t||Or)},Or.\u0275prov=et({token:Or,factory:Or.\u0275fac,providedIn:"root"});class gu{constructor(t,e,r){this.config=t,this.eventManagerService=e,this.router=r}intercept(t,e){return e.handle(t.clone()).pipe(uo(r=>r instanceof Uc&&(500===r.status||"Unknown Error"===r.statusText)?("Unknown Error"===r.statusText&&console.error(r),this.router.navigate([this.config.route]),this.eventManagerService.raise(new Za(!0)),bi($o.CreateErrorResult("Server Error"))):bi(r)))}}gu.\u0275fac=function(t){return new(t||gu)(lt(Uy),lt(Or),lt(Kr))},gu.\u0275prov=et({token:gu,factory:gu.\u0275fac,providedIn:"root"});class Uy{constructor(){this.route="/error"}}class vR{constructor(t){if(this.debugEnabled=!1,this.infoEnabled=!1,this.warnEnabled=!1,this.errorEnabled=!1,this.fatalEnabled=!1,!t||!("logLevel"in t))throw new Error("Must configure.");switch(+t.logLevel){case 0:this.debugEnabled=!0;break;case 1:this.infoEnabled=!0;break;case 2:this.warnEnabled=!0;break;case 3:this.errorEnabled=!0;break;case 4:this.fatalEnabled=!0}}logWriter(t,...e){}debug(t){this.debugEnabled&&this.logWriter("debug",t)}info(t){this.infoEnabled&&this.logWriter("info",t)}warn(t){this.warnEnabled&&this.logWriter("warn",t)}error(t){this.errorEnabled&&this.logWriter("error",t)}fatal(t){this.fatalEnabled&&this.logWriter("error",t)}}class jy{constructor(){this.logLevel=3}}class _u extends vR{constructor(t){super(t)}formatError(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:"sourceURL"in t&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}logWriter(t,...e){if(!window.console)return;const r=window.console,i=r[t]||r.log;let o=!1;try{o=!!i.apply}catch{}if(o){const u=e.map(h=>this.formatError(h));i.apply(r,u)}else i(e[0])}}_u.\u0275fac=function(t){return new(t||_u)(lt(jy))},_u.\u0275prov=et({token:_u,factory:_u.\u0275fac,providedIn:"root"});class yR{constructor(t,e){this.storage=t,this.keyPrefix=e,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(t,e,r){const i=this.createItemKey(t),o=new Vz;o.value=e,null!=r&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(t){const e=this.createItemKey(t),r=this.storage.getItem(e);return null===r?null:JSON.parse(r).value}remove(t){this.storage.removeItem(this.createItemKey(t))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const t=[],e=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;const u=this.storage.getItem(o);if(!u)continue;const h=JSON.parse(u);h.expiresOn&&e>h.expiresOn&&t.push(o)}t.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(t){return`${this.keyPrefix}.${t}`}}class Vz{}class md{constructor(){this.keyPrefix=""}}class js extends yR{constructor(t){if(!t||!t.keyPrefix||0===t.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,t.keyPrefix)}}js.\u0275fac=function(t){return new(t||js)(lt(md))},js.\u0275prov=et({token:js,factory:js.\u0275fac,providedIn:"root"});class vu{constructor(t){this.sessionStorageService=t,this.key="AuthToken"}setAuthToken(t,e){this.sessionStorageService.set(this.key,t,e)}getAuthToken(){return this.sessionStorageService.get(this.key)}removeAuthToken(){this.sessionStorageService.remove(this.key)}}vu.\u0275fac=function(t){return new(t||vu)(lt(js))},vu.\u0275prov=et({token:vu,factory:vu.\u0275fac,providedIn:"root"});class yu{constructor(t,e,r,i){this.authTokenService=t,this.config=e,this.eventManagerService=r,this.router=i}intercept(t,e){let r={};if(!t.headers.has("Authorization")){const i=this.authTokenService.getAuthToken();i&&(r={setHeaders:{Authorization:i}})}return e.handle(t.clone(r)).pipe(Hn(i=>{if(i instanceof kc)try{const o=i.headers&&i.headers.has("Authorization")?i.headers.get("Authorization"):i.headers&&i.headers.has("renew-Authorization")?i.headers.get("renew-Authorization"):i.body&&String.hasData(i.body.token)?i.body.token:null;String.hasData(o)&&this.authTokenService.setAuthToken(o,Date.now()+12e5)}catch{}}),uo(i=>i instanceof Uc&&(401===i.status||403===i.status)?(this.eventManagerService.raise(new Za(!0)),this.router.navigate([this.config.route],{replaceUrl:!0}),Dt):bi(i)))}}yu.\u0275fac=function(t){return new(t||yu)(lt(vu),lt(Vy),lt(Or),lt(Kr))},yu.\u0275prov=et({token:yu,factory:yu.\u0275fac,providedIn:"root"});class Vy{constructor(){this.route="/forbidden"}}class Eu{constructor(t){this.config=t}intercept(t,e){return!this.config.use||t.url.includes("assets")?e.handle(t):e.handle(t.clone({url:`${this.config.url}${t.url}`,withCredentials:!0}))}}Eu.\u0275fac=function(t){return new(t||Eu)(lt(Hy))},Eu.\u0275prov=et({token:Eu,factory:Eu.\u0275fac,providedIn:"root"});class Hy{constructor(){this.use=!1,this.url=""}}class Ca{constructor(t){if(t)throw new Error("CoreModule is already loaded. Import it once in the AppModule only.")}static forRoot(t){return{ngModule:Ca,providers:[{provide:Hy,useValue:t.corsConfig||new Hy},{provide:Vy,useValue:t.http401403Config||new Vy},{provide:Uy,useValue:t.http500Config||new Uy},{provide:jy,useValue:t.loggerConfig||new jy},{provide:md,useValue:t.storageConfig||new md}]}}}Ca.\u0275fac=function(t){return new(t||Ca)(lt(Ca,12))},Ca.\u0275mod=Yn({type:Ca}),Ca.\u0275inj=jt({providers:[{provide:jc,useClass:Eu,multi:!0},{provide:jc,useClass:pu,multi:!0},{provide:jc,useClass:yu,multi:!0},{provide:jc,useClass:gu,multi:!0},{provide:vR,useClass:_u}],imports:[g2]});class Vs{constructor(t){this.sessionStorageService=t,this.key="UniqueId"}getUniqueId(){let t=this.sessionStorageService.get(this.key);return null==t&&(t=0),this.sessionStorageService.set(this.key,++t),t}}function ER(n,t,e){return function Hz(n,t){if(n!==t)throw new TypeError("Private static access of wrong provenance")}(n,t),e}Vs.\u0275fac=function(t){return new(t||Vs)(lt(js))},Vs.\u0275prov=et({token:Vs,factory:Vs.\u0275fac,providedIn:"root"});class Wz{}class Ja{static sort(t,e,r){let i;t.sort((o,u)=>{let h=0,C=o[e],B=u[e];return null==C&&null==B?0:(null==C&&(void 0===i&&(i=ER(this,Ja,bR).call(this,B)),C=i),null==B&&(void 0===i&&(i=ER(this,Ja,bR).call(this,C)),B=i),"string"==typeof C&&(h=C.localeCompare(B)),"number"==typeof C&&(h=C-B),"boolean"==typeof C&&(h=C===B?0:C?1:-1),C instanceof Date&&(h=C.valueOf()-B.valueOf()),"desc"===r&&(h=-h),h)})}static fromParamMap(t,e){const r={};e.keys.forEach(o=>r[o]=`${e.get(o)}`);const i=Ja.adapt(t,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!e.has(o))return;const u=e.getAll(o);i[o]="string"!=typeof u?1!==u.length?u:u[0].split(","):u.split(",")}),i}static adapt(t,e){if(null==t)return null;"function"==typeof t&&(t=new t);const r="string"==typeof e?String.isNullOrWhitespace(e)?{}:JSON.parse(e):e,i={};return Object.keys(r).forEach(o=>{const u=o[0].toLowerCase()+o.slice(1);i[u]=r[o]}),this.copyMatchingProperties(t,i),Object.keys(t).filter(o=>"object"==typeof t[o]&&t[o]instanceof Wz).forEach(o=>this.adapt(t[o],o in i?i[o]:this.extractPrefixedObject(i,`${o}_`))),t}static copyMatchingProperties(t,e){null==t||null==e||this.getPropertyNames(t).forEach(r=>{if(void 0===e[r])return;let i=typeof t[r];if("object"===i)switch(Reflect.getMetadata("design:type",t,r)){case String:i="string";break;case Boolean:i="boolean";break;case Number:i="number"}switch(i){case"string":t[r]=null===e[r]?t[r]:"string"==typeof e[r]?e[r]:e[r].toString();break;case"boolean":t[r]=null===e[r]?t[r]:"boolean"==typeof e[r]?e[r]:!!e[r];break;case"number":t[r]=null===e[r]?t[r]:"number"==typeof e[r]?e[r]:Number(e[r]);break;case"object":if((t[r]instanceof Date||Reflect.getMetadata("design:type",t,r)===Date)&&(t[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(t[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",t,r)){const o=Reflect.getMetadata("design:type",t,r);e[r].forEach(u=>t[r].push(Ja.adapt(o,u)))}}})}static getPropertyNames(t){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(t).forEach(i=>!r.includes(i)&&r.push(i))}while((t=Object.getPrototypeOf(t))&&!e.includes(t));return r}static extractPrefixedObject(t,e){const r={};return Object.keys(t).filter(i=>i.startsWith(e)).forEach(i=>r[i.replace(e,"")]=t[i]),r}}function bR(n){switch(typeof n){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return n instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}function dr(n,t){gR(n,t),t.add(n)}function Zn(n,t,e){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return e}String.isNullOrWhitespace||(String.isNullOrWhitespace=function(n){return null==n||n.trim().length<1}),String.hasData||(String.hasData=n=>!String.isNullOrWhitespace(n)),String.toDate||(String.toDate=function(n){if(null==n||""===n)return null;if(n instanceof Date)return n;if(!(n instanceof String))return null;const t=n.split("/");if(3!==t.length)return null;const e=Number(t[0]),r=Number(t[1]);let i=Number(t[2]);if(isNaN(e)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,e-1,r);return o.getMonth()+1!==e||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o}),Object.trimUnusedProperties||(Object.trimUnusedProperties=function(n){if(null==n)return;if(null==n)return null;let t={...n};for(var e in t){const r=t[e];(null==r||Array.isArray(r)&&0===r.length)&&delete t[e],"string"==typeof r&&String.isNullOrWhitespace(r)&&delete t[e],"number"==typeof r&&0===r&&delete t[e]}return t});var pd=new WeakMap,Wy=new WeakSet;class gd{constructor(){dr(this,Wy),cn(this,pd,{writable:!0,value:void 0}),Gt(this,pd,'input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select')}focusFirst(){window.setTimeout(()=>{const t=document.querySelectorAll(ot(this,pd));0!==t.length&&t[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const t=Array.from(document.querySelectorAll(ot(this,pd))).filter(e=>Zn(this,Wy,TR).call(this,e));0!==t.length&&t[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const t=Array.from(document.querySelectorAll(ot(this,pd)));if(0===t.length)return;let e=t.findIndex(r=>r===document.activeElement);for(e<0&&(e=0);e<t.length;){if(Zn(this,Wy,TR).call(this,t[e]))return void t[e].focus();e++}},50)}}function TR(n){return n instanceof HTMLInputElement||n instanceof HTMLSelectElement||n instanceof HTMLTextAreaElement?!n.disabled&&String.isNullOrWhitespace(n.value):"MAT-SELECT"===n.nodeName&&String.isNullOrWhitespace(n.innerText)}gd.\u0275fac=function(t){return new(t||gd)},gd.\u0275prov=et({token:gd,factory:gd.\u0275fac,providedIn:"root"});class _d{scrollIntoView(){window.setTimeout(()=>{let t=document.querySelector(".generalError");if(t)return void t.scrollIntoView({behavior:"smooth"});if(t=document.querySelector(".mat-form-field-invalid,.has-error"),!t)return;t.scrollIntoView({behavior:"smooth",block:"nearest"});const e=t.querySelector("input");if(e)return e.select(),void e.focus();const r=t.querySelector("select,mat-select");r&&r.focus()},50)}}_d.\u0275fac=function(t){return new(t||_d)},_d.\u0275prov=et({token:_d,factory:_d.\u0275fac,providedIn:"root"});class Kz extends Ao{}class Gz extends Ao{}class vd{constructor(t,e){this.http=t,this.httpResult=null,e.handle(Kz).subscribe(r=>this.initialize()),e.handle(Gz).subscribe(r=>this.initialize()),this.initialize()}executeAsync(t="api/user/current"){var e=this;return yr(function*(){return e.user?e.user:e.httpResult?(yield e.httpResult,e.user):(e.httpResult=e.http.get(t).toPromise(),e.user=yield e.httpResult,e.httpResult=null,e.user)})()}initialize(){this.user=null}}vd.\u0275fac=function(t){return new(t||vd)(lt(Qh),lt(Or))},vd.\u0275prov=et({token:vd,factory:vd.\u0275fac,providedIn:"root"});class bu extends yR{constructor(t){if(!t||!t.keyPrefix||0===t.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,t.keyPrefix)}}bu.\u0275fac=function(t){return new(t||bu)(lt(md))},bu.\u0275prov=et({token:bu,factory:bu.\u0275fac,providedIn:"root"});class Xo{constructor(t){if(this.errorMessage=t,String.isNullOrWhitespace(t))throw new Error("Must supply an error message")}}class SR extends Xo{constructor(t){super("NA"),this.rules=t}isBroken(t){return!1}}const zz=new RegExp("return (.*);?\\b"),Yz=new RegExp("=>(.*)");function CR(n){return null==n||("number"==typeof n?0===n.toString().trim().length:"string"==typeof n?0===n.trim().length:Array.isArray(n)?0===n.length:"object"==typeof n&&(n instanceof Date?0===n.valueOf():0===Object.keys(n).length))}class MR extends Xo{isBroken(t){return CR(t)}}class jm{constructor(t){this.propertyRules=t}static create(t){return new jm(t)}check(t){this.result=new $o;try{this.entity=t,this.propertyRules.forEach(e=>this.checkProperty(e))}catch{}finally{this.entity=null}return this.result}checkProperty(t){let e=this.entity[t.propertyName];if("function"==typeof e&&(e=e()),CR(e)){const r=this.getRequiredRule(t.rules);null!==r&&this.isRuleBroken(r,e)&&this.result.addError(r.errorMessage,t.propertyName)}else t.rules.forEach(r=>{if(!(r instanceof SR))return void(this.isRuleBroken(r,e)&&this.result.addError(r.errorMessage,t.propertyName));if(r.when&&!r.when.call(null,this.entity))return;const i=jm.create(r.rules);if(Array.isArray(e)){this.result.errors[t.propertyName]=[];for(let u=0;u<e.length;u++){const C=i.check(e[u]);C.hasErrors&&(this.result.hasErrors=!0,this.result.errors[t.propertyName][u]=C.errors)}return}const o=i.check(e);o.hasErrors&&(this.result.hasErrors=!0,this.result.errors[t.propertyName]=o.errors)})}getRequiredRule(t){const e=t.filter(r=>r instanceof MR);return 1===e.length?e[0]:null}isRuleBroken(t,e){return!(t.when&&!t.when.call(null,this.entity))&&t.isBroken(e)}}class Xz{constructor(){this.propertyName="",this.rules=[]}}class qz extends Xo{constructor(t,e){super(e),this.choices=t}isBroken(t){return-1===this.choices.indexOf(t)}}class yd extends Xo{isBroken(t){return!this.tryParseNumber(t)}tryParseNumber(t){return this.parsedNumber="number"==typeof t?t:"string"==typeof t?Number(t):"toString"in t?Number(t.toString()):NaN,!isNaN(this.parsedNumber)}}class Ky extends yd{constructor(){super(...arguments),this.CURRENCY_REGEXP=/^\$?[\d,]+\.?\d{0,2}$/}isBroken(t){return!this.tryParseNumber(t)}tryParseNumber(t){return!(!super.tryParseNumber(t)||!this.CURRENCY_REGEXP.test(t))}}class Gy extends Xo{isBroken(t){return!this.tryParseDate(t)}tryParseDate(t){if(t instanceof Date)return!isNaN(t.valueOf())&&(this.parsedDate=t,!0);const e=t.split("/");if(3!==e.length)return!1;const r=Number(e[0]),i=Number(e[1]);let o=Number(e[2]);if(isNaN(r)||isNaN(i)||isNaN(o))return!1;o<100&&(o=o<50?2e3+o:1900+o);const u=new Date(o,r-1,i);return u.getMonth()+1===r&&u.getDate()===i&&(u.getFullYear()===o||u.getFullYear()%100===o)&&(this.parsedDate=u,!0)}}class Qz extends Xo{constructor(){super(...arguments),this.emailRegExp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}isBroken(t){return!this.emailRegExp.test(t)}}class zy extends yd{constructor(){super(...arguments),this.INTEGER_REGEXP=/^\-?\d+$/}isBroken(t){return!this.tryParseNumber(t)}tryParseNumber(t){return!(!super.tryParseNumber(t)||!this.INTEGER_REGEXP.test(t))}}class Zz extends Ky{constructor(t,e){super(e),this.maxCurrency=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber>this.maxCurrency}}class Jz extends Gy{constructor(t,e){super(e),this.maxDate=t}isBroken(t){return this.tryParseDate(t)&&this.parsedDate>this.maxDate}}class eY extends zy{constructor(t,e){super(e),this.maxInteger=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber>this.maxInteger}}class tY extends Xo{constructor(t,e){super(e),this.maxLength=t}isBroken(t){return t.length>this.maxLength}}class nY extends yd{constructor(t,e){super(e),this.maxNumber=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber>this.maxNumber}}class rY extends Ky{constructor(t,e){super(e),this.minCurrency=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber<this.minCurrency}}class iY extends Gy{constructor(t,e){super(e),this.minDate=t}isBroken(t){return this.tryParseDate(t)&&this.parsedDate<this.minDate}}class oY extends zy{constructor(t,e){super(e),this.minInteger=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber<this.minInteger}}class aY extends Xo{constructor(t,e){super(e),this.minLength=t}isBroken(t){return t.length<this.minLength}}class sY extends yd{constructor(t,e){super(e),this.minNumber=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber<this.minNumber}}class lY extends Xo{constructor(){super(...arguments),this.phoneRegExp=/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/}isBroken(t){return!this.phoneRegExp.test(t)}}class uY extends Xo{constructor(t,e){super(e),this.regex=t}isBroken(t){return!this.regex.test(t)}}class Vm{constructor(){this.classRules=[]}static for(){return new Vm}property(t){return this.propertyRules=new Xz,this.propertyRules.propertyName=function $z(n){const t=zz.exec(n+"")||Yz.exec(n+"");if(null==t)throw new Error("The function does not contain a statement matching 'return variableName;'");const e=t[1].toString().split(".");return e[e.length-1]}(t),this.classRules.push(this.propertyRules),this}build(){return this.classRules}choice(t,e){return this.propertyRules.rules.push(new qz(t,e)),this}currency(t){return this.propertyRules.rules.push(new Ky(t)),this}date(t){return this.propertyRules.rules.push(new Gy(t)),this}email(t){return this.propertyRules.rules.push(new Qz(t)),this}integer(t){return this.propertyRules.rules.push(new zy(t)),this}maxCurrency(t,e){return this.propertyRules.rules.push(new Zz(t,e)),this}maxDate(t,e){return this.propertyRules.rules.push(new Jz(t,e)),this}maxInteger(t,e){return this.propertyRules.rules.push(new eY(t,e)),this}maxLength(t,e){return this.propertyRules.rules.push(new tY(t,e)),this}maxNumber(t,e){return this.propertyRules.rules.push(new nY(t,e)),this}minCurrency(t,e){return this.propertyRules.rules.push(new rY(t,e)),this}minDate(t,e){return this.propertyRules.rules.push(new iY(t,e)),this}minInteger(t,e){return this.propertyRules.rules.push(new oY(t,e)),this}minLength(t,e){return this.propertyRules.rules.push(new aY(t,e)),this}minNumber(t,e){return this.propertyRules.rules.push(new sY(t,e)),this}number(t){return this.propertyRules.rules.push(new yd(t)),this}object(t){return this.propertyRules.rules.push(new SR(t)),this}phone(t){return this.propertyRules.rules.push(new lY(t)),this}regex(t,e){return this.propertyRules.rules.push(new uY(t,e)),this}required(t){return this.propertyRules.rules.push(new MR(t)),this}when(t){return this.propertyRules.rules[this.propertyRules.rules.length-1].when=t,this}}class cY{constructor(){const t=Vm.for().property(i=>i.name).required("required").property(i=>i.key).required("required").build(),e="Must be a integer greater than 0.",r=Vm.for().property(i=>i.dbName).required("required").property(i=>i.dbVersion).required(e).integer(e).minInteger(0,e).property(i=>i.tables).required("required").object(t).build();this.rulesEngine=jm.create(r)}check(t){return this.rulesEngine.check(t)}}class Ed{constructor(t){if(this.storageConfig=t,this.configRules=new cY,!window.indexedDB)throw new Error("Your browser doesn't support a stable version of IndexedDB.");if(!t||String.isNullOrWhitespace(t.keyPrefix))throw new Error("Must configure.")}openAsync(t){return new Promise((e,r)=>{let i=new $o;if(!t)return i.addError("required","config"),void r(i);if(i=this.configRules.check(t),i.hasErrors)return void r(i);const o=window.indexedDB.open(`${this.storageConfig.keyPrefix}.${t.dbName}`,t.dbVersion);o.onerror=u=>{i.addError("Database error: "+u.target.errorCode),r(i)},o.onsuccess=u=>{e(u.target.result)},o.onupgradeneeded=u=>{const h=u.target.result;t.tables.forEach(C=>{const B=h.createObjectStore(C.name,{keyPath:C.key.path,autoIncrement:!!C.key.autoIncrement});Array.isArray(C.indexes)&&C.indexes.filter(Z=>String.hasData(Z.name)).forEach(Z=>{B.createIndex(Z.name,Z.name,{unique:!!Z.unique})})})}})}addAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readwrite");h.onabort=()=>u(h.error);const B=h.objectStore(e).add(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o()})}clearAsync(t,e){return new Promise((r,i)=>{const o=t.transaction(e,"readwrite");o.onabort=()=>i(o.error);const h=o.objectStore(e).clear();h.onerror=()=>i(h.error),o.oncomplete=()=>r()})}countAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readwrite");u.onabort=()=>o(u.error);const C=u.objectStore(e).count(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i(C.result)})}deleteAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readwrite");u.onabort=()=>o(u.error);const C=u.objectStore(e).delete(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i()})}getAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readonly");u.onabort=()=>o(u.error);const C=u.objectStore(e).get(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i(C.result)})}getAllAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).getAll(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}getAllKeysAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).getAllKeys(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}getKeyAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readonly");u.onabort=()=>o(u.error);const C=u.objectStore(e).getKey(r);C.onerror=()=>o(C.error),u.oncomplete=()=>i(C.result)})}indexAsync(t,e,r){return new Promise((i,o)=>{const u=t.transaction(e,"readonly");u.onabort=()=>o(u.error);const C=u.objectStore(e).index(r);u.oncomplete=()=>i(C)})}openCursorAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).openCursor(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}openKeyCursorAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).openKeyCursor(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}putAsync(t,e,r,i){return new Promise((o,u)=>{const h=t.transaction(e,"readonly");h.onabort=()=>u(h.error);const B=h.objectStore(e).put(r,i);B.onerror=()=>u(B.error),h.oncomplete=()=>o(B.result)})}}Ed.\u0275fac=function(t){return new(t||Ed)(lt(md))},Ed.\u0275prov=et({token:Ed,factory:Ed.\u0275fac,providedIn:"root"});const dY=["determinateSpinner"];function fY(n,t){if(1&n&&(Df(),Pt(0,"svg",11),en(1,"circle",12),Nt()),2&n){const e=tn();ar("viewBox",e._viewBox()),St(1),Ua("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),ar("r",e._circleRadius())}}const hY=zh(class{constructor(n){this._elementRef=n}},"primary"),mY=new Ft("mat-progress-spinner-default-options",{providedIn:"root",factory:function pY(){return{diameter:DR}}}),DR=100;let _Y=(()=>{class n extends hY{constructor(e,r,i){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=DR,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.color&&(this.color=this.defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,eu(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=eu(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=eu(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(Wo,8),Ve(mY))},n.\u0275cmp=Kt({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,r){if(1&e&&yi(dY,5),2&e){let i;rr(i=ir())&&(r._determinateCircle=i.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(e,r){2&e&&(ar("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Ua("width",r.diameter,"px")("height",r.diameter,"px"),_r("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[Sn],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,r){if(1&e&&(zt(0,fY,2,8,"ng-template",null,0,P_),Pt(2,"div",1,2),Df(),Pt(4,"svg",3),en(5,"circle",4),Nt()(),function Pb(){!function SO(){bn.lFrame.currentNamespace=null}()}(),Pt(6,"div",5)(7,"div",6)(8,"div",7),dc(9,8),Nt(),Pt(10,"div",9),dc(11,8),Nt(),Pt(12,"div",10),dc(13,8),Nt()()()),2&e){const i=Ar(1);St(4),ar("viewBox",r._viewBox()),St(1),Ua("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),ar("r",r._circleRadius()),St(4),Tt("ngTemplateOutlet",i),St(2),Tt("ngTemplateOutlet",i),St(2),Tt("ngTemplateOutlet",i)}},dependencies:[uv],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),vY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[tr,Wr]}),n})();function yY(n,t){1&n&&(Pt(0,"div",1),en(1,"mat-spinner",2),Nt())}class bd{constructor(t){this.requestCount=0,this.delay=250,this.show=!1,t.handle(hd).subscribe(e=>this.waitStart()),t.handle(Za).subscribe(e=>this.waitEnd(e))}waitStart(){this.requestCount++,window.setTimeout(()=>{0!==this.requestCount&&(this.show=!0)},this.delay)}waitEnd(t){t.kill?this.requestCount=0:this.requestCount>0&&this.requestCount--,0===this.requestCount&&(this.show=!1)}}bd.\u0275fac=function(t){return new(t||bd)(Ve(Or))},bd.\u0275cmp=Kt({type:bd,selectors:[["throbber"]],standalone:!0,features:[qn],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(t,e){1&t&&zt(0,yY,2,0,"div",0),2&t&&Tt("ngIf",e.show)},dependencies:[tr,kr,vY,_Y],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"]});var ai=(()=>{return(n=ai||(ai={})).Listing="Listing",n.Comment="t1",n.Account="t2",n.Link="t3",n.Message="t4",n.Subreddit="t5",n.Award="t6",n.More="more",ai;var n})();const EY=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function Yy(n){let t={};return function bY(n,t){if(t.is_crosspost=String.hasData(n.crosspost_parent)&&Array.isArray(n.crosspost_parent_list)&&n.crosspost_parent_list.length>0,n.media?.reddit_video)t.has_video=!0;else if(n.preview?.reddit_video_preview)t.has_video=!0;else if(n.preview&&Array.isArray(n.preview.images)&&n.preview.images[0].variants&&"mp4"in n.preview.images[0].variants)t.has_video=!0;else if(n.media_embed?.content)t.has_embed=!0;else{if(String.hasData(n.selftext_html)&&(t.has_text=!0),n.thumbnail&&"default"===n.thumbnail&&(t.has_link=!0),n.post_hint&&"link"===n.post_hint&&"imgur.com"!==n.domain&&(t.has_link=!0),!n.preview||!Array.isArray(n.preview.images))return n.gallery_data?(t.has_image=!0,void(t.has_image_gallery=!0)):void(EY.some(e=>n.url.endsWith(e))?t.has_image=!0:!t.has_image&&!t.has_text&&(t.has_link=!0));t.has_image=!0}}(n,t),function TY(n,t){t.author=n.author,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.num_comments=n.num_comments,t.stickied=n.stickied,t.subreddit=n.subreddit,t.title=n.title,t.ups=n.ups}(n,t),function SY(n,t){!t.is_crosspost||(t.crosspost=Yy(n.crosspost_parent_list[0]))}(n,t),function CY(n,t){!t.has_embed||(t.embed=n.media_embed.content)}(n,t),function MY(n,t){!t.has_image||(t.images=null!=n.gallery_data?function DY(n){return n.gallery_data.items.map(t=>{const e=n.media_metadata[t.media_id];return"valid"!==e.status?{src:"",srcset:"",href:n.url}:{src:e.o?e.o[0].u:e.s.u,srcset:e.p.map(r=>`${r.u} ${r.x}w`).join(","),href:n.url}})}(n):null!=n.preview?function AY(n){const t=n.preview.images[0];return[{src:t.source.url,srcset:t.resolutions.map(e=>`${e.url} ${e.width}w`).join(","),href:n.url}]}(n):function IY(n){return[{src:n.url,srcset:n.url,href:n.url}]}(n))}(n,t),function xY(n,t){!t.has_link||(t.url=n.url)}(n,t),function NY(n,t){!t.has_text||(t.selftext_html=n.selftext_html)}(n,t),function RY(n,t){!t.has_video||(t.videos=n.media&&n.media.reddit_video?function wY(n){return[{url:n.media.reddit_video.dash_url,type:"application/dash+xml"},{url:n.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:n.media.reddit_video.fallback_url,type:""}]}(n):n.preview&&n.preview.reddit_video_preview?function PY(n){return[{url:n.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:n.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:n.preview.reddit_video_preview.fallback_url,type:""}]}(n):function OY(n){return[{url:n.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(n))}(n,t),t}function LY(n){let t={};return function FY(n,t){t.author=n.author,t.body_html=n.body_html,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.stickied=n.stickied,t.ups=n.ups}(n,t),t}function BY(n,t){return $y.apply(this,arguments)}function $y(){return($y=yr(function*(n,t,e=""){this.set_post_comments({items:[],post:null});let r=new URLSearchParams;r.set("sort",`${t}`),r.set("limit","100"),r.set("raw_json","1"),r.set("threaded","false"),String.hasData(e)&&r.set("comment",e);const i=new URL(`https://www.reddit.com/comments/${n}.json`);i.search=`${r}`;try{const o=yield fetch(i);if(!o.ok)return void this.set_errors(o.statusText);const u=yield o.json(),h=u[0],C=u[1];if(C.kind!==ai.Listing)return void this.set_errors(`Comment listing's kind isn't ${ai.Listing}, its ${C.kind} instead`);if(C.data?.children.some(ye=>ye.kind!==ai.Comment&&ye.kind!==ai.More))return void this.set_errors(`Not all of comment listing's children are of kind ${ai.Comment} or ${ai.More}`);const B=C.data.children.filter(ye=>ye.kind==ai.Comment&&null!=ye.data).map(ye=>LY(ye.data)),Z=Yy(h.data.children[0].data);this.set_post_comments({article:n,items:B,sort:t,post:Z})}catch(o){this.set_errors(o)}})).apply(this,arguments)}function kY(n,t,e,r){return Xy.apply(this,arguments)}function Xy(){return(Xy=yr(function*(n,t,e,r){this.set_posts({items:[],subreddit:""});const i=this.subscriptionService.get();let o=r;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let u=new URLSearchParams;u.set("limit","20"),u.set("raw_json","1"),String.hasData(n)&&u.set("after",n),String.hasData(t)&&u.set("modhash",t);const h=new URL(`https://www.reddit.com/r/${o}/${e}.json`);h.search=`${u}`;try{const C=yield fetch(h);if(!C.ok)return void this.set_errors(C.statusText);const B=yield C.json();if(B.kind!==ai.Listing)return void this.set_errors(`Listing's kind isn't ${ai.Listing}, its ${B.kind} instead`);if(B.data?.children.some(Me=>Me.kind!==ai.Link))return void this.set_errors(`Not all of Listing's children are of kind ${ai.Link}`);const Z=B.data,ye=Z.children.filter(Me=>null!=Me.data).map(Me=>Yy(Me.data));ye.forEach(Me=>Me.subreddit_subscribed=i.includes(Me.subreddit)),this.set_posts({after:Z.after,items:ye,modhash:Z.modhash,sort:e,subreddit:o})}catch(C){this.set_errors(C)}})).apply(this,arguments)}function UY(n){return qy.apply(this,arguments)}function qy(){return(qy=yr(function*(n){if(this.get_subreddit_query().request!=n&&(this.set_subreddit_query({request:n,result:[]}),!String.isNullOrWhitespace(n)))try{const r=(yield jY.call(this,n)).map(u=>WY.call(this,u)),o=(yield Promise.allSettled(r)).filter(u=>"fulfilled"===u.status).map(u=>u.value).filter(u=>null!=u).map(u=>({accounts_active:u.accounts_active,display_name:u.display_name,public_description_html:u.public_description_html,subscribers:u.subscribers,title:u.title,url:u.url,id:u.id}));this.set_subreddit_query({request:n,result:o})}catch(e){this.set_errors(e)}})).apply(this,arguments)}function jY(n){return Qy.apply(this,arguments)}function Qy(){return(Qy=yr(function*(n){const t=[VY.call(this,n),HY.call(this,n)],r=(yield Promise.allSettled(t)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(r)]})).apply(this,arguments)}function VY(n){return Zy.apply(this,arguments)}function Zy(){return(Zy=yr(function*(n){const t=new URLSearchParams;t.set("query",n),t.set("exact","false"),t.set("include_over_18","true"),t.set("typeahead_active","false"),t.set("include_unadvertisable","true");const e=new URL("https://www.reddit.com/api/search_reddit_names.json");e.search=`${t}`;try{const r=yield fetch(e);return r.ok?(yield r.json()).names:null}catch{return null}})).apply(this,arguments)}function HY(n){return Jy.apply(this,arguments)}function Jy(){return(Jy=yr(function*(n){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -comments -wiki`)}&num=40`,i=yield fetch(r);if(!i.ok)throw new Error(i.statusText);const o=yield i.text();var u=document.implementation.createHTMLDocument().body;if("setHTML"in u){const B=new Sanitizer({allowElements:["a"]});u.setHTML(o,{sanitizer:B})}else u.innerHTML=this.domSanitizer.sanitize(Vn.HTML,o);let h=Array.from(u.querySelectorAll('a[href*="reddit.com/r/"]')).map(B=>{const Z=B.href.indexOf("reddit.com/r/")+13,ye=B.href.indexOf("/",Z);return B.href.slice(Z,ye)});const C=h.filter(B=>B.includes("+"));return h=h.filter(B=>!B.includes("+")),C.forEach(B=>B.split("+").forEach(Z=>h.push(Z))),h})).apply(this,arguments)}function WY(n){return eE.apply(this,arguments)}function eE(){return(eE=yr(function*(n){const t=`https://www.reddit.com/r/${n}/about.json?raw_json=1`;try{const e=yield fetch(t,{redirect:"error"});if(!e.ok)return null;const r=yield e.json();return r.kind!==ai.Subreddit?(this.set_errors(`r/${n}/about.kind isn't ${ai.Subreddit}, its ${r.kind} instead`),null):r.data}catch{return null}})).apply(this,arguments)}function KY(n){return tE.apply(this,arguments)}function tE(){return(tE=yr(function*(n){this.subscriptionService.add(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}function GY(n){return nE.apply(this,arguments)}function nE(){return(nE=yr(function*(n){this.subscriptionService.remove(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}var Hm=new WeakMap,Wm=new WeakMap,Ma=new WeakMap,Td=new WeakMap,Km=new WeakMap,rE=new WeakMap,Gm=new WeakMap,IR=new WeakSet;class Tu{constructor(t){dr(this,IR),cn(this,Hm,{writable:!0,value:void 0}),cn(this,Wm,{writable:!0,value:void 0}),cn(this,Ma,{writable:!0,value:void 0}),cn(this,Td,{writable:!0,value:void 0}),cn(this,Km,{writable:!0,value:void 0}),cn(this,rE,{writable:!0,value:void 0}),cn(this,Gm,{writable:!0,value:void 0}),Gt(this,Hm,"profile"),Gt(this,Ma,{}),Gt(this,Td,JSON.stringify(ot(this,Ma))),Gt(this,Km,new de),Gt(this,Gm,!1),Gt(this,Wm,t),Gt(this,rE,ot(this,Km).pipe(jh(300)).subscribe(()=>Zn(this,IR,$Y).call(this)))}get(t){return ot(this,Ma)[t]}set(t,e){ot(this,Ma)[t]=e,ot(this,Km).next("")}load(){var t=this;return yr(function*(){if(ot(t,Gm))return;const e=ot(t,Wm).get(ot(t,Hm));null!=e&&(Gt(t,Ma,e),Gt(t,Td,JSON.stringify(ot(t,Ma))),Gt(t,Gm,!0))})()}ngOnDestroy(){ot(this,rE).unsubscribe()}}function $Y(){const n=JSON.stringify(ot(this,Ma));n!==ot(this,Td)&&(Gt(this,Td,n),ot(this,Wm).set(ot(this,Hm),ot(this,Ma)))}Tu.\u0275fac=function(t){return new(t||Tu)(lt(bu))},Tu.\u0275prov=et({token:Tu,factory:Tu.\u0275fac,providedIn:"root"});var Sd=new WeakMap,Io=new WeakMap,Su=new WeakMap;class Hs{constructor(t){cn(this,Sd,{writable:!0,value:void 0}),cn(this,Io,{writable:!0,value:void 0}),cn(this,Su,{writable:!0,value:void 0}),Gt(this,Sd,"subreddits"),Gt(this,Io,[]),Gt(this,Su,t)}add(t){String.isNullOrWhitespace(t)||ot(this,Io).includes(t)||(ot(this,Io).push(t),ot(this,Io).sort(),ot(this,Su).set(ot(this,Sd),ot(this,Io)))}get(){return[...ot(this,Io)]}remove(t){String.isNullOrWhitespace(t)||(Gt(this,Io,ot(this,Io).filter(e=>e!==t)),ot(this,Su).set(ot(this,Sd),ot(this,Io)))}loadAsync(){var t=this;return yr(function*(){yield ot(t,Su).load(),Gt(t,Io,ot(t,Su).get(ot(t,Sd))||[])})()}}Hs.\u0275fac=function(t){return new(t||Hs)(lt(Tu))},Hs.\u0275prov=et({token:Hs,factory:Hs.\u0275fac,providedIn:"root"});var Jr=new WeakMap;class Zi{constructor(t,e,r){cn(this,Jr,{writable:!0,value:void 0}),this.domSanitizer=t,this.subscriptionService=e,this.uniqueIdService=r,Gt(this,Jr,new $i({post_comments:{article:"",items:null,sort:"best",post:null},errors:null,posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""},subreddit_query:{request:"",result:null}})),this.errors$=ot(this,Jr).pipe(Hn(i=>!1),se(i=>i.errors)),this.posts$=ot(this,Jr).pipe(Vr(i=>null!=i.posts.items),se(i=>({after:i.posts.after,items:i.posts.items?.map(o=>function zY(n){const t=JSON.parse(JSON.stringify(n));return t.images&&(t.images=t.images.map(e=>Object.freeze(e))),t.videos&&(t.videos=t.videos.map(e=>Object.freeze(e))),Object.freeze(t)}(o)),modhash:i.posts.modhash,sort:i.posts.sort,subreddit:i.posts.subreddit}))),this.post_comments$=ot(this,Jr).pipe(Vr(i=>null!=i.post_comments&&null!=i.post_comments.items),se(i=>({items:i.post_comments.items?.map(o=>function YY(n){const t=JSON.parse(JSON.stringify(n));return Object.freeze(t)}(o)),sort:i.post_comments.sort,post:i.post_comments.post}))),this.subreddit_query$=ot(this,Jr).pipe(se(i=>({request:i.subreddit_query.request,result:i.subreddit_query.result}))),this.actions={listCommentAsync:BY.bind(this),listPostAsync:kY.bind(this),searchAsync:UY.bind(this),subscribe:KY.bind(this),unsubscribe:GY.bind(this)}}set_errors(t){const e=ot(this,Jr).value;null!=t&&(e.errors=t),ot(this,Jr).next(e)}get_posts(){return ot(this,Jr).value.posts}set_posts(t){const e=ot(this,Jr).value;e.posts.after=String.hasData(t.after)?t.after:"",null!=t.items&&(e.posts.items=t.items),e.posts.modhash=String.hasData(t.modhash)?t.modhash:"",null!=t.sort&&(e.posts.sort=t.sort),null!=t.subreddit&&(e.posts.subreddit=t.subreddit),e.errors=null,ot(this,Jr).next(e)}get_post_comments(){return ot(this,Jr).value.post_comments}set_post_comments(t){const e=ot(this,Jr).value;e.post_comments.article=String.hasData(t.article)?t.article:"",void 0!==t.items&&(e.post_comments.items=t.items),null!=t.sort&&(e.post_comments.sort=t.sort),void 0!==t.post&&(e.post_comments.post=t.post),e.errors=null,ot(this,Jr).next(e)}get_subreddit_query(){return ot(this,Jr).value.subreddit_query}set_subreddit_query(t){const e=ot(this,Jr).value;e.subreddit_query.request=String.hasData(t.request)?t.request:"",null!=t.result&&(e.subreddit_query.result=t.result),e.errors=null,ot(this,Jr).next(e)}}Zi.\u0275fac=function(t){return new(t||Zi)(lt(_a),lt(Hs),lt(Vs))},Zi.\u0275prov=et({token:Zi,factory:Zi.\u0275fac,providedIn:"root"});var Si=new WeakMap,iE=new WeakMap,RR=new WeakSet;class Ws{constructor(t){dr(this,RR),cn(this,Si,{writable:!0,value:void 0}),cn(this,iE,{writable:!0,value:void 0}),Gt(this,Si,""),Gt(this,iE,t),Gt(this,Si,document.baseURI.replace(window.location.origin,"")),ot(this,Si).endsWith("/")&&Gt(this,Si,ot(this,Si).slice(0,-1))}sanitizeHTML(t){if(String.isNullOrWhitespace(t))return"";const e=document.implementation.createHTMLDocument().createElement("p");return e.innerHTML=ot(this,iE).sanitize(Vn.HTML,t),Zn(this,RR,XY).call(this,e),e.innerHTML}sanitizeLink(t){if(String.isNullOrWhitespace(t))return{href:"",text:"",external:!1};let e=t;e.startsWith("/")&&(e=`${window.location.origin}${e}`),e=e.replace(window.location.origin,`${ot(this,Si)}`).replace("http://www.reddit.com/",`${ot(this,Si)}/`).replace("https://www.reddit.com/",`${ot(this,Si)}/`).replace("http://reddit.com/",`${ot(this,Si)}/`).replace("https://reddit.com/",`${ot(this,Si)}/`).replace("http://old.reddit.com/",`${ot(this,Si)}/`).replace("https://old.reddit.com/",`${ot(this,Si)}/`);const r=!e.startsWith(ot(this,Si));if(!r){const u=e.indexOf("?");u>-1&&(e=e.slice(0,u)),e.endsWith("/")&&(e=e.slice(0,-1))}const i=e.replace(ot(this,Si),""),o=document.createElement("a");return o.href=e,o.innerText=i,r&&(o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer nofollow")),{href:e,text:i,external:r,el:o}}}function XY(n){const t=Array.from(n.getElementsByTagName("a"));0!==t.length&&t.forEach(e=>{const r=this.sanitizeLink(e.href);e.replaceWith(r.el)})}Ws.\u0275fac=function(t){return new(t||Ws)(lt(_a))},Ws.\u0275prov=et({token:Ws,factory:Ws.\u0275fac,providedIn:"root"});var Cu=new WeakMap,wR=new WeakSet,PR=new WeakSet;class es{constructor(){dr(this,PR),dr(this,wR),cn(this,Cu,{writable:!0,value:void 0}),Gt(this,Cu,{})}save(t="",e=""){ot(this,Cu)[window.location.href]={yScroll:window.scrollY},Zn(this,wR,qY).call(this,t,e,ot(this,Cu)[window.location.href])}restore(){setTimeout(()=>{const t=ot(this,Cu)[window.location.href];t?(Zn(this,PR,QY).call(this,t),window.scrollTo(0,t.yScroll||0),delete ot(this,Cu)[window.location.href]):window.scrollTo(0,0)},0)}}function qY(n,t,e){if(e.tag_name=n,e.element_id=t,e.element_heights=[],String.isNullOrWhitespace(t)||String.isNullOrWhitespace(n))return;const r=document.querySelectorAll(n);for(let i=0;i<r.length;i++){const o=r[i];if(e.element_heights.push({id:o.id,height:o.getBoundingClientRect().height}),o.id===t)break}}function QY(n){if(String.isNullOrWhitespace(n.element_id)||String.isNullOrWhitespace(n.tag_name)||0===n.element_heights?.length)return n.element_id="",n.tag_name="",void(n.element_heights=[]);const t=document.querySelectorAll(n.tag_name);for(let e=0;e<t.length;e++){const r=t[e],i=n.element_heights.find(o=>o.id===r.id);if(null!=i&&(r.style.height=`${i.height}px`,r.id===n.element_id))break}n.element_id="",n.tag_name="",n.element_heights=[]}es.\u0275fac=function(t){return new(t||es)},es.\u0275prov=et({token:es,factory:es.\u0275fac,providedIn:"root"});class Cd{constructor(t,e){this.eventManagerService=t,this.subscriptionService=e}ngOnInit(){var t=this;return yr(function*(){const e=[t.subscriptionService.loadAsync()];t.eventManagerService.raise(hd);try{yield Promise.allSettled(e)}finally{t.eventManagerService.raise(Za)}})()}}Cd.\u0275fac=function(t){return new(t||Cd)(Ve(Or),Ve(Hs))},Cd.\u0275cmp=Kt({type:Cd,selectors:[["app-root"]],standalone:!0,features:[qn],decls:2,vars:0,template:function(t,e){1&t&&en(0,"throbber")(1,"router-outlet")},dependencies:[oi,Dy,bd],encapsulation:2});const ZY=["mat-button",""],JY=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],e4=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],n4=["mat-icon-button",""],r4=["*"],i4=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],o4=zh(RD(wD(class{constructor(n){this._elementRef=n}})));let oE,OR=(()=>{class n extends o4{constructor(e,r,i,o){super(e),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=vn(Gh),this._isFab=!1;const u=e.nativeElement.classList;for(const h of i4)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(C=>{u.add(C)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){Qf()},n.\u0275dir=Vt({type:n,viewQuery:function(e,r){if(1&e&&yi(Yh,5),2&e){let i;rr(i=ir())&&(r.ripple=i.first)}},features:[Sn]}),n})(),Mu=(()=>{class n extends OR{constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(jr),Ve(yn),Ve(Wo,8))},n.\u0275cmp=Kt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,r){2&e&&(ar("disabled",r.disabled||null),_r("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Sn],attrs:ZY,ngContentSelectors:e4,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Ki(JY),en(0,"span",0),Qn(1),Pt(2,"span",1),Qn(3,1),Nt(),Qn(4,2),en(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(_r("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),St(6),Tt("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Yh],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),zm=(()=>{class n extends OR{constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(jr),Ve(yn),Ve(Wo,8))},n.\u0275cmp=Kt({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,r){2&e&&(ar("disabled",r.disabled||null),_r("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Sn],attrs:n4,ngContentSelectors:r4,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Ki(),en(0,"span",0),Qn(1),en(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(St(3),Tt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[Yh],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Ji=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[Wr,Fc,Wr]}),n})(),l4=1;const Ym={};function xR(n){return n in Ym&&(delete Ym[n],!0)}const u4={setImmediate(n){const t=l4++;return Ym[t]=!0,oE||(oE=Promise.resolve()),oE.then(()=>xR(t)&&n()),t},clearImmediate(n){xR(n)}},{setImmediate:c4,clearImmediate:d4}=u4,$m={setImmediate(...n){const{delegate:t}=$m;return(t?.setImmediate||c4)(...n)},clearImmediate(n){const{delegate:t}=$m;return(t?.clearImmediate||d4)(n)},delegate:void 0},aE=new class h4 extends bv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class f4 extends Ev{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=$m.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&($m.clearImmediate(e),t._scheduled=void 0)}});function NR(n,t){return t?e=>Oc(t.pipe(wi(1),function m4(){return he((n,t)=>{n.subscribe(fe(t,f))})}()),e.pipe(NR(n))):rt((e,r)=>n(e,r).pipe(wi(1),uI(e)))}function LR(n=0,t,e=tV){let r=-1;return null!=t&&(mn(t)?e=t:r=t),new z(i=>{let o=function p4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function FR(n,t=Uh){const e=LR(n,t);return NR(()=>e)}class sE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class BR extends sE{constructor(t,e,r,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class kR extends sE{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class g4 extends sE{constructor(t){super(),this.element=t instanceof Rn?t.nativeElement:t}}class _4{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof BR?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof kR?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof g4?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class v4 extends _4{constructor(t,e,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const h=u.element,C=this._document.createComment("dom-portal");h.parentNode.insertBefore(C,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(h,C)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||Ii.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let y4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({}),n})();const E4=["addListener","removeListener"],b4=["addEventListener","removeEventListener"],T4=["on","off"];function Xm(n,t,e,r){if(m(e)&&(r=e,e=void 0),r)return Xm(n,t,e).pipe(Tv(r));const[i,o]=function M4(n){return m(n.addEventListener)&&m(n.removeEventListener)}(n)?b4.map(u=>h=>n[u](t,h,e)):function S4(n){return m(n.addListener)&&m(n.removeListener)}(n)?E4.map(UR(n,t)):function C4(n){return m(n.on)&&m(n.off)}(n)?T4.map(UR(n,t)):[];if(!i&&Je(n))return rt(u=>Xm(u,t,e))(Te(n));if(!i)throw new TypeError("Invalid event target");return new z(u=>{const h=(...C)=>u.next(1<C.length?C:C[0]);return i(h),()=>o(h)})}function UR(n,t){return e=>r=>n[e](t,r)}const Md={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Md;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new w(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=Md;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Md;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},I4=new class A4 extends bv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class D4 extends Ev{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Md.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Md.cancelAnimationFrame(e),t._scheduled=void 0)}});function lE(n,t=Uh){return function R4(n){return he((t,e)=>{let r=!1,i=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const B=i;i=null,e.next(B)}u&&e.complete()},C=()=>{o=null,u&&e.complete()};t.subscribe(fe(e,B=>{r=!0,i=B,o||Te(n(B)).subscribe(o=fe(e,h,C))},()=>{u=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>LR(n,t))}const w4=["contentWrapper"],P4=["*"],O4=new Ft("VIRTUAL_SCROLL_STRATEGY");let Dd=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new de,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new z(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(lE(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):on()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Vr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=pa(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Xm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(lt(yn),lt(jr),lt(Dn,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jR=(()=>{class n{constructor(e,r,i,o){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new de,this._elementScrolled=new z(u=>this.ngZone.runOutsideAngular(()=>Xm(this.elementRef.nativeElement,"scroll").pipe(Hr(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&0!=wc()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==wc()?e.left=e.right:1==wc()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;aD()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?i:r:"end"==e&&(e=u?r:i),u&&2==wc()?e==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==wc()?e==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(Dd),Ve(yn),Ve(ws,8))},n.\u0275dir=Vt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),uE=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new de,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(lE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(lt(jr),lt(yn),lt(Dn,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VR=new Ft("VIRTUAL_SCROLLABLE");let L4=(()=>{class n extends jR{constructor(e,r,i,o){super(e,r,i,o)}measureViewportSize(e){const r=this.elementRef.nativeElement;return"horizontal"===e?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(Dd),Ve(yn),Ve(ws,8))},n.\u0275dir=Vt({type:n,features:[Sn]}),n})();const B4=typeof requestAnimationFrame<"u"?I4:aE;let k4=(()=>{class n extends L4{constructor(e,r,i,o,u,h,C,B){super(e,h,i,u),this.elementRef=e,this._changeDetectorRef=r,this._scrollStrategy=o,this.scrollable=B,this._platform=vn(jr),this._detachedSubject=new de,this._renderedRangeSubject=new de,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new z(Z=>this._scrollStrategy.scrolledIndexChange.subscribe(ye=>Promise.resolve().then(()=>this.ngZone.run(()=>Z.next(ye))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=w.EMPTY,this._viewportChanges=C.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Xi(e)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(tu(null),lE(0,B4)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Hr(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function F4(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,r="to-start"){e=this.appendOnly&&"to-start"===r?0:e;const o="horizontal"==this.orientation,u=o?"X":"Y";let C=`translate${u}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===r&&(C+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=C&&(this._renderedContentTransform=C,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=e:i.top=e,this.scrollable.scrollTo(i)}scrollToIndex(e,r="auto"){this._scrollStrategy.scrollToIndex(e,r)}measureScrollOffset(e){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let r;const i="left",o="right",u="rtl"==this.dir?.value;r="start"==e?u?o:i:"end"==e?u?i:o:e||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-h}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of e)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(Yi),Ve(yn),Ve(O4,8),Ve(ws,8),Ve(Dd),Ve(uE),Ve(VR,8))},n.\u0275cmp=Kt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,r){if(1&e&&yi(w4,7),2&e){let i;rr(i=ir())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,r){2&e&&_r("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Xn([{provide:jR,useFactory:(t,e)=>t||e,deps:[[new aa,new Bf(VR)],n]}]),Sn,qn],ngContentSelectors:P4,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,r){1&e&&(Ki(),Pt(0,"div",0,1),Qn(2),Nt(),en(3,"div",2)),2&e&&(St(3),Ua("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),qm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[xc,qm,k4,xc,qm]}),n})();const WR=aD();class U4{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=wr(-this._previousScrollPosition.left),t.style.top=wr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),WR&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),WR&&(r.scrollBehavior=o,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class j4{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class KR{enable(){}disable(){}attach(){}}function cE(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function GR(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class V4{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();cE(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let H4=(()=>{class n{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new KR,this.close=u=>new j4(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new U4(this._viewportRuler,this._document),this.reposition=u=>new V4(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(lt(Dd),lt(uE),lt(yn),lt(Dn))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zR{constructor(t){if(this.scrollStrategy=new KR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class W4{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let YR=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K4=(()=>{class n extends YR{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn),lt(yn,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G4=(()=>{class n extends YR{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ha(o)},this._clickListener=o=>{const u=Ha(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const C=this._attachedOverlays.slice();for(let B=C.length-1;B>-1;B--){const Z=C[B];if(Z._outsidePointerEvents.observers.length<1||!Z.hasAttached())continue;if(Z.overlayElement.contains(u)||Z.overlayElement.contains(h))break;const ye=Z._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ye.next(o)):ye.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn),lt(jr),lt(yn,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$R=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||gv()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),gv()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(lt(Dn),lt(jr))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class z4{constructor(t,e,r,i,o,u,h,C,B,Z=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=C,this._outsideClickDispatcher=B,this._animationsDisabled=Z,this._backdropElement=null,this._backdropClick=new de,this._attachments=new de,this._detachments=new de,this._locationChanges=w.EMPTY,this._backdropClickHandler=ye=>this._backdropClick.next(ye),this._backdropTransitionendHandler=ye=>{this._disposeBackdrop(ye.target)},this._keydownEvents=new de,this._outsidePointerEvents=new de,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(wi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=wr(this._config.width),t.height=wr(this._config.height),t.minWidth=wr(this._config.minWidth),t.minHeight=wr(this._config.minHeight),t.maxWidth=wr(this._config.maxWidth),t.maxHeight=wr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=Vh(e||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Hr(qe(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const XR="cdk-overlay-connected-position-bounding-box",Y4=/([A-Za-z%]+)$/;class $4{constructor(t,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de,this._resizeSubscription=w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(XR),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let C=this._getOriginPoint(t,i,h),B=this._getOverlayPoint(C,e,h),Z=this._getOverlayFit(B,e,r,h);if(Z.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,C);this._canFitWithFlexibleDimensions(Z,B,r)?o.push({position:h,origin:C,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(C,h)}):(!u||u.overlayFit.visibleArea<Z.visibleArea)&&(u={overlayFit:Z,overlayPoint:B,originPoint:C,position:h,overlayRect:e})}if(o.length){let h=null,C=-1;for(const B of o){const Z=B.boundingBoxRect.width*B.boundingBoxRect.height*(B.position.weight||1);Z>C&&(C=Z,h=B)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ks(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(XR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;i="start"==r.originX?u:h}return e.left<0&&(i-=e.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,r,i){const o=QR(e);let{x:u,y:h}=t,C=this._getOffset(i,"x"),B=this._getOffset(i,"y");C&&(u+=C),B&&(h+=B);let Me=0-h,xe=h+o.height-r.height,ke=this._subtractOverflows(o.width,0-u,u+o.width-r.width),Qe=this._subtractOverflows(o.height,Me,xe),ft=ke*Qe;return{visibleArea:ft,isCompletelyWithinViewport:o.width*o.height===ft,fitsInViewportVertically:Qe===o.height,fitsInViewportHorizontally:ke==o.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,u=qR(this._overlayRef.getConfig().minHeight),h=qR(this._overlayRef.getConfig().minWidth),B=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=i)&&B}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=QR(e),o=this._viewportRect,u=Math.max(t.x+i.width-o.width,0),h=Math.max(t.y+i.height-o.height,0),C=Math.max(o.top-r.top-t.y,0),B=Math.max(o.left-r.left-t.x,0);let Z=0,ye=0;return Z=i.width<=o.width?B||-u:t.x<this._viewportMargin?o.left-r.left-t.x:0,ye=i.height<=o.height?C||-h:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:Z,y:ye},{x:t.x+Z,y:t.y+ye}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new W4(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let o,u,h,Z,ye,Me;if("top"===e.overlayY)u=t.y,o=r.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=r.height-t.y+2*this._viewportMargin,o=r.height-h+this._viewportMargin;else{const xe=Math.min(r.bottom-t.y+r.top,t.y),ke=this._lastBoundingBoxSize.height;o=2*xe,u=t.y-xe,o>ke&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-ke/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)Me=r.width-t.x+this._viewportMargin,Z=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)ye=t.x,Z=r.right-t.x;else{const xe=Math.min(r.right-t.x+r.left,t.x),ke=this._lastBoundingBoxSize.width;Z=2*xe,ye=t.x-xe,Z>ke&&!this._isInitialRender&&!this._growAfterOpen&&(ye=t.x-ke/2)}return{top:u,left:ye,bottom:h,right:Me,width:Z,height:o}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=wr(r.height),i.top=wr(r.top),i.bottom=wr(r.bottom),i.width=wr(r.width),i.left=wr(r.left),i.right=wr(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=wr(o)),u&&(i.maxWidth=wr(u))}this._lastBoundingBoxSize=r,Ks(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ks(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ks(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const Z=this._viewportRuler.getViewportScrollPosition();Ks(r,this._getExactOverlayY(e,t,Z)),Ks(r,this._getExactOverlayX(e,t,Z))}else r.position="static";let h="",C=this._getOffset(e,"x"),B=this._getOffset(e,"y");C&&(h+=`translateX(${C}px) `),B&&(h+=`translateY(${B}px)`),r.transform=h.trim(),u.maxHeight&&(i?r.maxHeight=wr(u.maxHeight):o&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=wr(u.maxWidth):o&&(r.maxWidth="")),Ks(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=wr(o.y),i}_getExactOverlayX(t,e,r){let u,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=wr(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:GR(t,r),isOriginOutsideView:cE(t,r),isOverlayClipped:GR(e,r),isOverlayOutsideView:cE(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Vh(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Rn)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Ks(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function qR(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Y4);return e&&"px"!==e?null:parseFloat(t)}return n||null}function QR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const ZR="cdk-global-overlay-wrapper";class X4{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ZR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:u,maxHeight:h}=r,C=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),B=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),Z=this._xPosition,ye=this._xOffset,Me="rtl"===this._overlayRef.getConfig().direction;let xe="",ke="",Qe="";C?Qe="flex-start":"center"===Z?(Qe="center",Me?ke=ye:xe=ye):Me?"left"===Z||"end"===Z?(Qe="flex-end",xe=ye):("right"===Z||"start"===Z)&&(Qe="flex-start",ke=ye):"left"===Z||"start"===Z?(Qe="flex-start",xe=ye):("right"===Z||"end"===Z)&&(Qe="flex-end",ke=ye),t.position=this._cssPosition,t.marginLeft=C?"0":xe,t.marginTop=B?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=C?"0":ke,e.justifyContent=Qe,e.alignItems=B?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(ZR),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let q4=(()=>{class n{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new X4}flexibleConnectedTo(e){return new $4(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(lt(uE),lt(Dn),lt(jr),lt($R))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q4=0,Du=(()=>{class n{constructor(e,r,i,o,u,h,C,B,Z,ye,Me,xe){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=C,this._document=B,this._directionality=Z,this._location=ye,this._outsideClickDispatcher=Me,this._animationsModuleType=xe}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),u=new zR(e);return u.direction=u.direction||this._directionality.value,new z4(o,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Q4++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ql)),new v4(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(lt(H4),lt($R),lt(Rl),lt(q4),lt(K4),lt(Ii),lt(yn),lt(Dn),lt(ws),lt(Mh),lt(G4),lt(Wo,8))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e3={provide:new Ft("cdk-connected-overlay-scroll-strategy"),deps:[Du],useFactory:function J4(n){return()=>n.scrollStrategies.reposition()}};let JR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({providers:[Du,e3],imports:[xc,y4,HR,HR]}),n})();const t3=["mat-menu-item",""];function n3(n,t){1&n&&(Df(),Pt(0,"svg",3),en(1,"polygon",4),Nt())}const r3=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],o3=["mat-icon, [matMenuItemIcon]","*"];function a3(n,t){if(1&n){const e=Lr();Pt(0,"div",0),Cn("keydown",function(i){return ur(e),cr(tn()._handleKeydown(i))})("click",function(){return ur(e),cr(tn().closed.emit("click"))})("@transformMenu.start",function(i){return ur(e),cr(tn()._onAnimationStart(i))})("@transformMenu.done",function(i){return ur(e),cr(tn()._onAnimationDone(i))}),Pt(1,"div",1),Qn(2),Nt()()}if(2&n){const e=tn();Tt("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),ar("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const s3=["*"],dE=new Ft("MAT_MENU_PANEL"),l3=wD(RD(class{}));let Ad=(()=>{class n extends l3{constructor(e,r,i,o,u){super(),this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new de,this._focused=new de,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(Dn),Ve(Gh),Ve(dE,8),Ve(Yi))},n.\u0275cmp=Kt({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,r){1&e&&Cn("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(ar("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),_r("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Sn],attrs:t3,ngContentSelectors:o3,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(Ki(r3),Qn(0),Pt(1,"span",0),Qn(2,1),Nt(),en(3,"div",1),zt(4,n3,2,0,"svg",2)),2&e&&(St(3),Tt("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),St(1),Tt("ngIf",r._triggersSubmenu))},dependencies:[kr,Yh],encapsulation:2,changeDetection:0}),n})();const u3=new Ft("MatMenuContent"),Qm={transformMenu:zc("transformMenu",[Os("void",Pi({opacity:0,transform:"scale(0.8)"})),Ya("void => enter",za("120ms cubic-bezier(0, 0, 0.2, 1)",Pi({opacity:1,transform:"scale(1)"}))),Ya("* => void",za("100ms 25ms linear",Pi({opacity:0})))]),fadeInItems:zc("fadeInItems",[Os("showing",Pi({opacity:1})),Ya("void => *",[Pi({opacity:0}),za("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let c3=0;const ew=new Ft("mat-menu-default-options",{providedIn:"root",factory:function d3(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Id=(()=>{class n{constructor(e,r,i,o){this._elementRef=e,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Yl,this._classList={},this._panelAnimationState="void",this._animationDone=new de,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new er,this.close=this.closed,this.panelId="mat-menu-panel-"+c3++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Xi(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Xi(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new CV(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(tu(this._directDescendantItems),ho(e=>qe(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(tu(this._directDescendantItems),ho(r=>qe(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:yv(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(wi(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(tu(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(yn),Ve(ew),Ve(Yi))},n.\u0275dir=Vt({type:n,contentQueries:function(e,r,i){if(1&e&&(zi(i,u3,5),zi(i,Ad,5),zi(i,Ad,4)),2&e){let o;rr(o=ir())&&(r.lazyContent=o.first),rr(o=ir())&&(r._allItems=o),rr(o=ir())&&(r.items=o)}},viewQuery:function(e,r){if(1&e&&yi(Ho,5),2&e){let i;rr(i=ir())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),fE=(()=>{class n extends Id{constructor(e,r,i,o){super(e,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(yn),Ve(ew),Ve(Yi))},n.\u0275cmp=Kt({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,r){2&e&&ar("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Xn([{provide:dE,useExisting:n}]),Sn],ngContentSelectors:s3,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,r){1&e&&(Ki(),zt(0,a3,3,6,"ng-template"))},dependencies:[Zl],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Qm.transformMenu,Qm.fadeInItems]},changeDetection:0}),n})();const tw=new Ft("mat-menu-scroll-strategy"),h3={provide:tw,deps:[Du],useFactory:function f3(n){return()=>n.scrollStrategies.reposition()}},nw=Is({passive:!0});let m3=(()=>{class n{constructor(e,r,i,o,u,h,C,B,Z){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=h,this._dir=C,this._focusMonitor=B,this._ngZone=Z,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=w.EMPTY,this._hoverSubscription=w.EMPTY,this._menuCloseSubscription=w.EMPTY,this._handleTouchStart=ye=>{Av(ye)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new er,this.onMenuOpen=this.menuOpened,this.menuClosed=new er,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof Id?u:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,nw)}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,nw),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Id&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Hr(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Id?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Vr(i=>"void"===i.toState),wi(1),Hr(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new zR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",u="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,u)):e.setPositionClasses(o,u)})}_setPosition(e,r){let[i,o]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[C,B]=[u,h],[Z,ye]=[i,o],Me=0;if(this.triggersSubmenu()){if(ye=i="before"===e.xPosition?"start":"end",o=Z="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const xe=this._parentMaterialMenu.items.first;this._parentInnerPadding=xe?xe._getHostElement().offsetTop:0}Me="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(C="top"===u?"bottom":"top",B="top"===h?"bottom":"top");r.withPositions([{originX:i,originY:C,overlayX:Z,overlayY:u,offsetY:Me},{originX:o,originY:C,overlayX:ye,overlayY:u,offsetY:Me},{originX:i,originY:B,overlayX:Z,overlayY:h,offsetY:-Me},{originX:o,originY:B,overlayX:ye,overlayY:h,offsetY:-Me}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return qe(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:on(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Vr(u=>u!==this._menuItemInstance),Vr(()=>this._menuOpen)):on(),r)}_handleMousedown(e){Dv(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Vr(e=>e===this._menuItemInstance&&!e.disabled),FR(0,aE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Id&&this.menu._isAnimating?this.menu._animationDone.pipe(wi(1),FR(0,aE),Hr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new kR(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(Ve(Du),Ve(Rn),Ve(Gi),Ve(tw),Ve(dE,8),Ve(Ad,10),Ve(ws,8),Ve(Gh),Ve(yn))},n.\u0275dir=Vt({type:n,hostVars:3,hostBindings:function(e,r){1&e&&Cn("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&e&&ar("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),hE=(()=>{class n extends m3{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=zr(n)))(r||n)}}(),n.\u0275dir=Vt({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[Sn]}),n})(),Da=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({providers:[h3],imports:[tr,Fc,Wr,JR,qm,Wr]}),n})();class rw extends Ao{}class iw extends Ao{constructor(t){super(),this.sort_requested=t}}class ow extends Ao{constructor(t){super(),this.sort_requested=t}}class Rd extends Ao{constructor(t){super(),this.subreddit_requested=t}}class aw extends Ao{constructor(t){super(),this.search=t}}class sw extends Ao{constructor(t){super(),this.article=t}}const p3=["best","confidence","top","new","controversial","old"],g3=function(n){return{display:n}};function _3(n,t){if(1&n){const e=Lr();Pt(0,"a",14),Cn("click",function(){const o=ur(e).$implicit;return cr(tn(2).change_sort(o))}),wn(1),Nt()}if(2&n){const e=t.$implicit,r=tn().ngIf;Tt("ngStyle",To(2,g3,r.sort===e?"none":"inherit")),St(1),Qr(" ",e," ")}}function v3(n,t){if(1&n&&(ko(0),Pt(1,"div",1)(2,"span"),wn(3,"Comments"),Nt(),en(4,"span",2),Pt(5,"button",3),wn(6),en(7,"mat-icon",4),Nt(),Pt(8,"button",5),en(9,"mat-icon",6),Nt()(),Pt(10,"mat-menu",null,7),zt(12,_3,2,4,"a",8),Nt(),Pt(13,"mat-menu",9,10),en(15,"mat-icon",11)(16,"mat-icon",12)(17,"mat-icon",13),Nt(),Uo()),2&n){const e=t.ngIf,r=Ar(11),i=Ar(14),o=tn();St(5),Tt("matMenuTriggerFor",r),St(1),Qr(" ",e.sort," "),St(2),Tt("matMenuTriggerFor",i),St(4),Tt("ngForOf",o.POST_COMMENT_SORT)}}var mE=new WeakMap;class wd{constructor(t,e){cn(this,mE,{writable:!0,value:void 0}),this.controller=t,this.POST_COMMENT_SORT=p3,Gt(this,mE,e)}change_sort(t){var e=this;return yr(function*(){ot(e,mE).raise(new iw(t))})()}}wd.\u0275fac=function(t){return new(t||wd)(Ve(Zi),Ve(Or))},wd.\u0275cmp=Kt({type:wd,selectors:[["post-comment-list-header"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(t,e){1&t&&(zt(0,v3,18,4,"ng-container",0),hr(1,"async")),2&t&&Tt("ngIf",mr(1,1,e.controller.post_comments$))},dependencies:[tr,Va,kr,Ac,As,Ji,Mu,zm,Ti,Do,Da,fE,Ad,hE,oi,Sa],changeDetection:0});const y3=["*",[["mat-toolbar-row"]]],E3=["*","mat-toolbar-row"],b3=zh(class{constructor(n){this._elementRef=n}});let pE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),gE=(()=>{class n extends b3{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(jr),Ve(Dn))},n.\u0275cmp=Kt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&zi(i,pE,5),2&e){let o;rr(o=ir())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&_r("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Sn],ngContentSelectors:E3,decls:2,vars:0,template:function(e,r){1&e&&(Ki(y3),Qn(0),Qn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[Wr,Wr]}),n})();const T3=["textPost"],S3=function(n){return{masked:n}};var Zm=new WeakMap,_E=new WeakMap,vE=new WeakMap,yE=new WeakMap,EE=new WeakMap,Jm=new WeakMap,ts=new WeakMap,ep=new WeakMap,tp=new WeakMap,lw=new WeakSet;class Gs{constructor(t,e,r,i,o){dr(this,lw),cn(this,Zm,{writable:!0,value:void 0}),cn(this,_E,{writable:!0,value:void 0}),cn(this,vE,{writable:!0,value:void 0}),cn(this,yE,{writable:!0,value:void 0}),cn(this,EE,{writable:!0,value:void 0}),cn(this,Jm,{writable:!0,value:void 0}),cn(this,ts,{writable:!0,value:void 0}),cn(this,ep,{writable:!0,value:void 0}),cn(this,tp,{writable:!0,value:void 0}),Gt(this,Zm,!0),this._truncated=!0,Gt(this,ts,""),Gt(this,ep,""),Gt(this,_E,t),Gt(this,vE,e),Gt(this,yE,r),Gt(this,EE,i),Gt(this,Jm,o),Gt(this,ts,document.baseURI),ot(this,ts).endsWith("/")&&Gt(this,ts,ot(this,ts).slice(0,-1))}set data(t){null!=t&&(Gt(this,ep,t),Zn(this,lw,C3).call(this))}set post(t){t&&t.nativeElement&&Gt(this,tp,t.nativeElement)}onClick(t){const e=t.target;if(e&&"A"===e.tagName){const r=e.href;r.startsWith(ot(this,ts))&&(t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),ot(this,yE).navigateByUrl(r.replace(ot(this,ts),"")))}else if(ot(this,Zm)){if(this._truncated)return this._truncated=!1,void ot(this,Jm).save();this._truncated=!0,ot(this,Jm).restore()}}}function C3(){this._text=ot(this,vE).bypassSecurityTrustHtml(ot(this,EE).sanitizeHTML(ot(this,ep))),setTimeout(()=>{this._truncated=ot(this,tp).scrollHeight>ot(this,tp).clientHeight,Gt(this,Zm,this._truncated),ot(this,_E).detectChanges()},0)}Gs.\u0275fac=function(t){return new(t||Gs)(Ve(Yi),Ve(_a),Ve(Kr),Ve(Ws),Ve(es))},Gs.\u0275cmp=Kt({type:Gs,selectors:[["text-block"]],viewQuery:function(t,e){if(1&t&&yi(T3,5),2&t){let r;rr(r=ir())&&(e.post=r.first)}},inputs:{data:"data"},standalone:!0,features:[qn],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(t,e){1&t&&(Pt(0,"p",0,1),Cn("click",function(i){return e.onClick(i)}),Nt()),2&t&&Tt("ngClass",To(2,S3,e._truncated))("innerHTML",e._text,Og)},dependencies:[tr,Zl,oi],changeDetection:0});class Pd{constructor(){this.data=null}}Pd.\u0275fac=function(t){return new(t||Pd)},Pd.\u0275cmp=Kt({type:Pd,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:1,vars:1,consts:[[3,"data"]],template:function(t,e){1&t&&en(0,"text-block",0),2&t&&Tt("data",null==e.data?null:e.data.body_html)},dependencies:[Gs],changeDetection:0});class Au{transform(t){if(null==t)return"-";const e=new Date(Date.now()-1e3*t);return e.getUTCFullYear()>1970?e.getUTCFullYear()-1970+"y":e.getUTCMonth()>0?`${e.getUTCMonth()}mo`:e.getUTCDate()>1?e.getUTCDate()-1+"d":e.getUTCHours()>0?`${e.getUTCHours()}h`:`${e.getUTCMinutes()}m`}}Au.\u0275fac=function(t){return new(t||Au)},Au.\u0275pipe=$r({name:"age",type:Au,pure:!0,standalone:!0});class zs{transform(t){if(isNaN(Number(`${t}`))||0===t)return"0";const e=Math.log10(t);return e<3?`${t}`:e<6?`${Math.floor(t/1e3)}K`:e<9?`${Math.floor(t/1e6)}M`:"lots"}}zs.\u0275fac=function(t){return new(t||zs)},zs.\u0275pipe=$r({name:"count",type:zs,pure:!0,standalone:!0});class Od{transform(t){const e=new Date(0);e.setUTCSeconds(t||0);const r=e.toISOString().substring(11,19);return e.getUTCHours()>0?r:e.getUTCMinutes()>0?r.substring(3):r.substring(4)}}function M3(n,t){if(1&n&&(Pt(0,"button",1),en(1,"mat-icon",2),wn(2),hr(3,"count"),Nt()),2&n){const e=tn();St(2),Qr(" ",mr(3,1,e.data.ups),"\n")}}function D3(n,t){if(1&n&&(Pt(0,"button",1),en(1,"mat-icon",3),wn(2),hr(3,"count"),Nt()),2&n){const e=tn();St(2),Qr(" ",mr(3,1,e.data.downs),"\n")}}Od.\u0275fac=function(t){return new(t||Od)},Od.\u0275pipe=$r({name:"time",type:Od,pure:!0,standalone:!0});class xd{}function A3(n,t){1&n&&en(0,"mat-icon",3)}xd.\u0275fac=function(t){return new(t||xd)},xd.\u0275cmp=Kt({type:xd,selectors:[["post-comment-footer"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:2,vars:2,consts:[["mat-button","","disableRipple","",4,"ngIf"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(t,e){1&t&&(zt(0,M3,4,3,"button",0),zt(1,D3,4,3,"button",0)),2&t&&(Tt("ngIf",e.data.ups>0),St(1),Tt("ngIf",e.data.downs>0))},dependencies:[tr,kr,zs,Ji,Mu,Ti,Do,Da,Fc,qo,oi],changeDetection:0});const I3=function(n){return["/u",n]};class Nd{}Nd.\u0275fac=function(t){return new(t||Nd)},Nd.\u0275cmp=Kt({type:Nd,selectors:[["post-comment-header"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:7,vars:8,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"]],template:function(t,e){1&t&&(Pt(0,"section",0)(1,"a",1),wn(2),Nt(),Pt(3,"span"),wn(4),hr(5,"age"),Nt(),zt(6,A3,1,0,"mat-icon",2),Nt()),2&t&&(St(1),Tt("routerLink",To(6,I3,e.data.author)),St(1),Qr("u/",e.data.author,""),St(2),_i(mr(5,4,e.data.created_utc)),St(2),Tt("ngIf",e.data.stickied))},dependencies:[Au,tr,kr,Ti,Do,oi,Sa],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0});class Ld{}Ld.\u0275fac=function(t){return new(t||Ld)},Ld.\u0275cmp=Kt({type:Ld,selectors:[["post-comment"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:3,vars:3,consts:[[3,"data"]],template:function(t,e){1&t&&en(0,"post-comment-header",0)(1,"post-comment-body",0)(2,"post-comment-footer",0),2&t&&(Tt("data",e.data),St(1),Tt("data",e.data),St(1),Tt("data",e.data))},dependencies:[tr,Ji,Ti,Da,qo,oi,Nd,Pd,xd],changeDetection:0});const R3=["hot","hot","top","new","controversial","rising"],w3=function(n){return{display:n}};function P3(n,t){if(1&n){const e=Lr();Pt(0,"a",15),Cn("click",function(){const o=ur(e).$implicit;return cr(tn(2).change_sort(o))}),wn(1),Nt()}if(2&n){const e=t.$implicit,r=tn().ngIf;Tt("ngStyle",To(2,w3,r.sort===e?"none":"inherit")),St(1),Qr(" ",e," ")}}function O3(n,t){if(1&n){const e=Lr();ko(0),Pt(1,"div",1)(2,"span",2),wn(3),Nt(),en(4,"span",3),Pt(5,"button",4),wn(6),en(7,"mat-icon",5),Nt(),Pt(8,"button",6),en(9,"mat-icon",7),Nt()(),Pt(10,"mat-menu",null,8),zt(12,P3,2,4,"a",9),Nt(),Pt(13,"mat-menu",10,11)(15,"mat-icon",12),Cn("click",function(){return ur(e),cr(tn().back_to_home())}),Nt(),en(16,"mat-icon",13)(17,"mat-icon",14),Nt(),Uo()}if(2&n){const e=t.ngIf,r=Ar(11),i=Ar(14),o=tn();St(3),_i(e.subreddit.includes("+")?"multi":e.subreddit),St(2),Tt("matMenuTriggerFor",r),St(1),Qr(" ",e.sort," "),St(2),Tt("matMenuTriggerFor",i),St(4),Tt("ngForOf",o.POST_SORT)}}var np=new WeakMap;class Fd{constructor(t,e){cn(this,np,{writable:!0,value:void 0}),this.controller=t,this.POST_SORT=R3,Gt(this,np,e)}change_sort(t){var e=this;return yr(function*(){ot(e,np).raise(new ow(t))})()}back_to_home(){ot(this,np).raise(rw)}}Fd.\u0275fac=function(t){return new(t||Fd)(Ve(Zi),Ve(Or))},Fd.\u0275cmp=Kt({type:Fd,selectors:[["post-list-header"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(t,e){1&t&&(zt(0,O3,18,5,"ng-container",0),hr(1,"async")),2&t&&Tt("ngIf",mr(1,1,e.controller.posts$))},dependencies:[tr,Va,kr,Ac,As,Ji,Mu,zm,Ti,Do,Da,fE,Ad,hE,oi,Sa],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0});var bE=new WeakMap,uw=new WeakSet;class Bd{constructor(t){dr(this,uw),cn(this,bE,{writable:!0,value:void 0}),Gt(this,bE,t)}set data(t){this._data=t,Zn(this,uw,x3).call(this)}}function x3(){const n=document.implementation.createHTMLDocument().createElement("p");n.innerHTML=this._data.embed,Array.from(n.getElementsByTagName("iframe")).forEach(t=>{t.setAttribute("loading","lazy"),t.style.position="relative",t.style.maxWidth="100vw"}),this._embed=ot(this,bE).bypassSecurityTrustHtml(n.innerHTML)}Bd.\u0275fac=function(t){return new(t||Bd)(Ve(_a))},Bd.\u0275cmp=Kt({type:Bd,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,e){1&t&&en(0,"div",0),2&t&&Tt("innerHTML",e._embed,Og)},dependencies:[tr],changeDetection:0});const N3=["gallery"];function L3(n,t){if(1&n){const e=Lr();Pt(0,"figure")(1,"img",3),Cn("load",function(){return ur(e),cr(tn().onLoad())})("click",function(){const o=ur(e).$implicit;return cr(tn().onClick(o.href))}),Nt()()}if(2&n){const e=t.$implicit,r=tn();St(1),Tt("src",e.src,Al)("srcset",e.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}const F3=function(n){return{"set-scrollbar":n}};var rp=new WeakMap;class kd{constructor(){cn(this,rp,{writable:!0,value:void 0})}set fig(t){t&&t.nativeElement&&Gt(this,rp,t.nativeElement)}onLoad(){ot(this,rp)&&(ot(this,rp).scrollLeft=0)}onClick(t){String.isNullOrWhitespace(t)||window.open(t,"_blank","noopener,noreferrer")}}function B3(n,t){if(1&n&&(Pt(0,"a",4),wn(1),Nt()),2&n){const e=tn(2);Tt("href",e.href,Al),St(1),_i(e.text)}}function k3(n,t){if(1&n&&(Pt(0,"a",5),wn(1),Nt()),2&n){const e=tn(2);Tt("routerLink",e.text),St(1),_i(e.text)}}function U3(n,t){if(1&n&&(Pt(0,"p",1),zt(1,B3,2,2,"a",2),zt(2,k3,2,2,"a",3),Nt()),2&n){const e=tn();St(1),Tt("ngIf",e.is_external),St(1),Tt("ngIf",!e.is_external&&e.show_internal)}}kd.\u0275fac=function(t){return new(t||kd)},kd.\u0275cmp=Kt({type:kd,selectors:[["post-body-image"]],viewQuery:function(t,e){if(1&t&&yi(N3,5),2&t){let r;rr(r=ir())&&(e.fig=r.first)}},inputs:{data:"data"},standalone:!0,features:[qn],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(t,e){1&t&&(Pt(0,"div",0,1),zt(2,L3,2,3,"figure",2),Nt()),2&t&&(Tt("ngClass",To(2,F3,e.data.images.length>1)),St(2),Tt("ngForOf",e.data.images))},dependencies:[tr,Zl,Va],changeDetection:0});var Iu=new WeakMap,TE=new WeakMap,ip=new WeakMap,cw=new WeakSet;class Ud{constructor(t){dr(this,cw),cn(this,Iu,{writable:!0,value:void 0}),cn(this,TE,{writable:!0,value:void 0}),cn(this,ip,{writable:!0,value:void 0}),Gt(this,Iu,""),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,Gt(this,TE,t),Gt(this,Iu,document.baseURI),ot(this,Iu).endsWith("/")&&Gt(this,Iu,ot(this,Iu).slice(0,-1))}set data(t){Gt(this,ip,t),Zn(this,cw,j3).call(this)}}function j3(){const n=ot(this,TE).sanitizeLink(ot(this,ip).url);if(this.href=n.href,this.is_external=n.external,this.is_external)return void(this.text=this.href);this.text=n.text;const t=this.text.indexOf("/r/")+3,e=this.text.indexOf("/",t),r=this.text.slice(t,e);this.show_internal=r.toLowerCase()!==ot(this,ip).subreddit.toLowerCase()}Ud.\u0275fac=function(t){return new(t||Ud)(Ve(Ws))},Ud.\u0275cmp=Kt({type:Ud,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink"]],template:function(t,e){1&t&&zt(0,U3,3,2,"p",0),2&t&&Tt("ngIf",e.is_external||e.show_internal)},dependencies:[tr,kr,oi,Sa],changeDetection:0});class jd{constructor(){this.data=null}}jd.\u0275fac=function(t){return new(t||jd)},jd.\u0275cmp=Kt({type:jd,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:1,vars:1,consts:[[3,"data"]],template:function(t,e){1&t&&en(0,"text-block",0),2&t&&Tt("data",null==e.data?null:e.data.selftext_html)},dependencies:[Gs],changeDetection:0});var V3=U(377);const H3=["video"];function W3(n,t){if(1&n){const e=Lr();Pt(0,"mat-icon",12),Cn("click",function(){return ur(e),tn(),cr(Ar(4).play())}),Nt()}}function K3(n,t){if(1&n){const e=Lr();Pt(0,"mat-icon",13),Cn("click",function(){return ur(e),tn(),cr(Ar(4).pause())}),Nt()}}function G3(n,t){if(1&n){const e=Lr();Pt(0,"mat-icon",16),Cn("click",function(){ur(e),tn(2);const i=Ar(4);return cr(i.muted=!i.muted)}),Nt()}}function z3(n,t){if(1&n){const e=Lr();Pt(0,"mat-icon",17),Cn("click",function(){ur(e),tn(2);const i=Ar(4);return cr(i.muted=!i.muted)}),Nt()}}function Y3(n,t){if(1&n&&(ko(0),zt(1,G3,1,0,"mat-icon",14),zt(2,z3,1,0,"mat-icon",15),Uo()),2&n){tn();const e=Ar(4);St(1),Tt("ngIf",e.muted),St(1),Tt("ngIf",!e.muted)}}const $3=function(n){return{"--p":n}};var Ys=new WeakMap,op=new WeakMap,Vd=new WeakMap,ap=new WeakMap,Hd=new WeakMap,Ru=new WeakMap,si=new WeakMap,dw=new WeakSet,fw=new WeakSet;class Wd{constructor(t){dr(this,fw),dr(this,dw),cn(this,Ys,{writable:!0,value:void 0}),cn(this,op,{writable:!0,value:void 0}),cn(this,Vd,{writable:!0,value:void 0}),cn(this,ap,{writable:!0,value:void 0}),cn(this,Hd,{writable:!0,value:void 0}),cn(this,Ru,{writable:!0,value:void 0}),cn(this,si,{writable:!0,value:void 0}),this.cd=t,Gt(this,op,0),Gt(this,Vd,!1),Gt(this,Hd,!1),Gt(this,Ru,""),this.has_audio=!0,Gt(this,ap,new IntersectionObserver((e,r)=>Zn(this,dw,X3).call(this,e,r),{root:null,rootMargin:"32px",threshold:0}))}set value(t){t&&t.nativeElement&&Gt(this,si,t.nativeElement)}ngOnInit(){var t=this;return yr(function*(){const e=t.data.videos.find(r=>"application/dash+xml"===r.type);Gt(t,Ru,e?.url||t.data.videos[t.data.videos.length-1].url),null!=e?(Gt(t,Vd,!0),yield Zn(t,fw,q3).call(t,ot(t,Ru)),Gt(t,Ys,(0,V3.MediaPlayer)().create()),ot(t,Ys).initialize(ot(t,si),"",!1),ot(t,Ys).setMute(!0),ot(t,Ys).updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:ot(t,op)-1}}}}),ot(t,ap).observe(ot(t,si))):ot(t,ap).observe(ot(t,si))})()}ngOnDestroy(){ot(this,Ys)?.destroy()}onLoadeddata(){ot(this,Vd)||(this.has_audio="mozHasAudio"in ot(this,si)&&ot(this,si).mozHasAudio||"webkitAudioDecodedByteCount"in ot(this,si)&&ot(this,si).webkitAudioDecodedByteCount>0||"audioTracks"in ot(this,si)&&ot(this,si).audioTracks.length>0,ot(this,si).muted=!0)}skip(t,e,r){const i=e.getBoundingClientRect();r.currentTime=(t.pageX-i.left)/e.offsetWidth*r.duration}}function X3(n,t){n[0].isIntersecting?ot(this,Hd)||(ot(this,Vd)?ot(this,Ys).attachSource(ot(this,Ru)):ot(this,si).src=ot(this,Ru),Gt(this,Hd,!0)):!ot(this,Hd)||ot(this,si).paused||ot(this,si).ended||ot(this,si).pause()}function q3(n){return SE.apply(this,arguments)}function SE(){return(SE=yr(function*(n){try{const t=yield fetch(n);if(!t.ok)return;const e=yield t.text();if(String.isNullOrWhitespace(e))return;const r=(new DOMParser).parseFromString(e,"application/xml");if(null==r)return;const i=r.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=null!=i;const o=r.querySelector('AdaptationSet[contentType="video"]');if(null==o)return;const u=o.querySelectorAll("Representation");if(null==u||0===u.length)return;const h=Array.from(u).map(C=>Number(C.getAttribute("bandwidth"))).filter(C=>!isNaN(C));if(null==h||0===h.length)return;Gt(this,op,Math.max(...h))}catch{return}})).apply(this,arguments)}function Q3(n,t){1&n&&en(0,"post-body-embed",1),2&n&&Tt("data",tn()._data)}function Z3(n,t){1&n&&en(0,"post-body-image",1),2&n&&Tt("data",tn()._data)}function J3(n,t){1&n&&en(0,"post-body-text",1),2&n&&Tt("data",tn()._data)}function e$(n,t){1&n&&en(0,"post-body-video",1),2&n&&Tt("data",tn()._data)}function t$(n,t){1&n&&en(0,"post-body-link",1),2&n&&Tt("data",tn()._data)}Wd.\u0275fac=function(t){return new(t||Wd)(Ve(Yi))},Wd.\u0275cmp=Kt({type:Wd,selectors:[["post-body-video"]],viewQuery:function(t,e){if(1&t&&yi(H3,7),2&t){let r;rr(r=ir())&&(e.value=r.first)}},inputs:{data:"data"},standalone:!0,features:[qn],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","disableremoteplayback","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(t,e){if(1&t){const r=Lr();Pt(0,"div",0),en(1,"mat-icon",1)(2,"mat-icon",2),Nt(),Pt(3,"video",3,4),Cn("loadeddata",function(){return e.onLoadeddata()})("click",function(){ur(r);const o=Ar(4);return cr(o.paused||o.ended?o.play():o.pause())})("timeupdate",function(){return e.cd.detectChanges()}),Nt(),Pt(5,"div",5),zt(6,W3,1,0,"mat-icon",6),zt(7,K3,1,0,"mat-icon",7),Pt(8,"div",8,9),Cn("click",function(o){ur(r);const u=Ar(9),h=Ar(4);return cr(e.skip(o,u,h))}),Pt(10,"div",10),wn(11),hr(12,"time"),hr(13,"time"),Nt()(),zt(14,Y3,3,2,"ng-container",11),Nt()}if(2&t){const r=Ar(4);St(6),Tt("ngIf",r.paused||r.ended),St(1),Tt("ngIf",!r.paused&&!r.ended),St(1),Tt("ngStyle",To(10,$3,100*((null==r?null:r.currentTime)||0)/r.duration+"%")),St(3),lh("",mr(12,6,r.currentTime)," / ",mr(13,8,r.duration)," "),St(3),Tt("ngIf",e.has_audio)}},dependencies:[tr,kr,Ac,Ti,Do,Od],changeDetection:0});class Kd{set data(t){this._data=t.is_crosspost?t.crosspost:t}}function n$(n,t){if(1&n){const e=Lr();Pt(0,"button",4),Cn("click",function(){return ur(e),cr(tn().on_share_click())}),en(1,"mat-icon",5),Nt()}}function r$(n,t){if(1&n&&(Pt(0,"button",6),en(1,"mat-icon",7),wn(2),hr(3,"count"),Nt()),2&n){const e=tn();St(2),Qr(" ",mr(3,1,e.data.ups),"\n")}}function i$(n,t){if(1&n&&(Pt(0,"button",6),en(1,"mat-icon",8),wn(2),hr(3,"count"),Nt()),2&n){const e=tn();St(2),Qr(" ",mr(3,1,e.data.downs),"\n")}}Kd.\u0275fac=function(t){return new(t||Kd)},Kd.\u0275cmp=Kt({type:Kd,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(t,e){1&t&&(zt(0,Q3,1,1,"post-body-embed",0),zt(1,Z3,1,1,"post-body-image",0),zt(2,J3,1,1,"post-body-text",0),zt(3,e$,1,1,"post-body-video",0),zt(4,t$,1,1,"post-body-link",0)),2&t&&(Tt("ngIf",null==e._data?null:e._data.has_embed),St(1),Tt("ngIf",null==e._data?null:e._data.has_image),St(1),Tt("ngIf",null==e._data?null:e._data.has_text),St(1),Tt("ngIf",null==e._data?null:e._data.has_video),St(1),Tt("ngIf",null==e._data?null:e._data.has_link))},dependencies:[tr,kr,Bd,kd,Ud,jd,Wd],changeDetection:0});var CE=new WeakMap,$s=new WeakMap;class Gd{constructor(t,e){cn(this,CE,{writable:!0,value:void 0}),cn(this,$s,{writable:!0,value:void 0}),this.controller=t,Gt(this,$s,""),this._can_share=!1,this._can_share="share"in window.navigator,Gt(this,CE,e),Gt(this,$s,document.baseURI),ot(this,$s).endsWith("/")&&Gt(this,$s,ot(this,$s).slice(0,-1))}on_share_click(){const t=`${ot(this,$s)}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:t})}on_comment_click(){ot(this,CE).raise(new sw(this.data.id))}}function o$(n,t){if(1&n){const e=Lr();Pt(0,"a",9),Cn("click",function(i){ur(e);const o=tn();return cr(o.change_subreddit(i,o.post.subreddit))}),wn(1),Nt()}if(2&n){const e=tn();Tt("href","/r/"+e.post.subreddit,Al),St(1),Qr(" r/",e.post.subreddit," ")}}function a$(n,t){if(1&n){const e=Lr();Pt(0,"mat-icon",12),Cn("click",function(){ur(e);const i=tn(2);return cr(i.controller.actions.subscribe(i.post.subreddit))}),Nt()}}function s$(n,t){if(1&n){const e=Lr();Pt(0,"mat-icon",13),Cn("click",function(){ur(e);const i=tn(2);return cr(i.controller.actions.unsubscribe(i.post.subreddit))}),Nt()}}function l$(n,t){if(1&n&&(ko(0),zt(1,a$,1,0,"mat-icon",10),zt(2,s$,1,0,"mat-icon",11),Uo()),2&n){const e=tn();St(1),Tt("ngIf",!e.post.subreddit_subscribed),St(1),Tt("ngIf",e.post.subreddit_subscribed)}}function u$(n,t){1&n&&en(0,"mat-icon",14)}function c$(n,t){1&n&&en(0,"mat-icon",15)}function d$(n,t){1&n&&(Pt(0,"a",16),wn(1,"x-post"),Nt())}Gd.\u0275fac=function(t){return new(t||Gd)(Ve(Zi),Ve(Or))},Gd.\u0275cmp=Kt({type:Gd,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(t,e){1&t&&(zt(0,n$,2,0,"button",0),Pt(1,"button",1),Cn("click",function(){return e.on_comment_click()}),en(2,"mat-icon",2),wn(3),hr(4,"count"),Nt(),zt(5,r$,4,3,"button",3),zt(6,i$,4,3,"button",3)),2&t&&(Tt("ngIf",e._can_share),St(3),Qr(" ",mr(4,4,e.data.num_comments),"\n"),St(2),Tt("ngIf",e.data.ups>0),St(1),Tt("ngIf",e.data.downs>0))},dependencies:[tr,kr,zs,Ji,Mu,zm,Ti,Do,Da,Fc,qo,oi],changeDetection:0});const f$=function(n){return["/u",n]};var ME=new WeakMap,hw=new WeakSet;class zd{constructor(t,e){dr(this,hw),cn(this,ME,{writable:!0,value:void 0}),this.controller=e,this.has_image_gallery=!1,this.part_of_multi=!1,Gt(this,ME,t)}set data(t){this.post=t.post,Zn(this,hw,h$).call(this,t.subreddit)}change_subreddit(t,e){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),ot(this,ME).raise(new Rd(e))}}function h$(n){this.part_of_multi=this.post.subreddit.toLowerCase()!==n.toLowerCase();const t=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=t.has_image&&t.has_image_gallery}function m$(n,t){1&n&&en(0,"post-body",0),2&n&&Tt("data",tn().post)}zd.\u0275fac=function(t){return new(t||zd)(Ve(Or),Ve(Zi))},zd.\u0275cmp=Kt({type:zd,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(t,e){1&t&&(Pt(0,"section",0)(1,"div",1),wn(2),Nt(),Pt(3,"section",2),zt(4,o$,2,2,"a",3),Pt(5,"a",4),wn(6),Nt(),Pt(7,"span"),wn(8),hr(9,"age"),Nt(),zt(10,l$,3,2,"ng-container",5),zt(11,u$,1,0,"mat-icon",6),zt(12,c$,1,0,"mat-icon",7),zt(13,d$,2,0,"a",8),Nt()()),2&t&&(St(2),_i(e.post.title),St(2),Tt("ngIf",e.part_of_multi),St(1),Tt("routerLink",To(11,f$,e.post.author)),St(1),Qr("u/",e.post.author,""),St(2),_i(mr(9,9,e.post.created_utc)),St(2),Tt("ngIf",e.part_of_multi),St(1),Tt("ngIf",!e.part_of_multi&&e.post.stickied),St(1),Tt("ngIf",e.has_image_gallery),St(1),Tt("ngIf",e.post.is_crosspost))},dependencies:[Au,tr,kr,Ji,Ti,Do,Da,Fc,qo,oi,Sa],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0});const p$=function(n,t){return{post:n,subreddit:t}};class wu{constructor(){this.subreddit="",this.show_body=!0}set data(t){this.post=t.item,this.subreddit=t.subreddit,this.show_body=!t.item.stickied||!t.hide_stickied}}wu.\u0275fac=function(t){return new(t||wu)},wu.\u0275cmp=Kt({type:wu,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(t,e){1&t&&(en(0,"post-header",0),zt(1,m$,1,1,"post-body",1),en(2,"post-footer",0)),2&t&&(Tt("data",S_(3,p$,e.post,e.subreddit)),St(1),Tt("ngIf",e.show_body),St(1),Tt("data",e.post))},dependencies:[tr,kr,Ji,Ti,Da,qo,oi,zd,Kd,Gd],changeDetection:0});class Yd{}Yd.\u0275fac=function(t){return new(t||Yd)},Yd.\u0275cmp=Kt({type:Yd,selectors:[["search-page-header"]],standalone:!0,features:[qn],decls:10,vars:1,consts:[[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"]],template:function(t,e){if(1&t&&(Pt(0,"div",0),wn(1," Search for Subreddit "),en(2,"span",1),Pt(3,"button",2),en(4,"mat-icon",3),Nt()(),Pt(5,"mat-menu",4,5),en(7,"mat-icon",6)(8,"mat-icon",7)(9,"mat-icon",8),Nt()),2&t){const r=Ar(6);St(3),Tt("matMenuTriggerFor",r)}},dependencies:[Ji,zm,Ti,Do,Da,fE,hE,oi,Sa],changeDetection:0});var DE=new WeakMap;class $d{constructor(t){cn(this,DE,{writable:!0,value:void 0}),Gt(this,DE,t)}set data(t){this._data=t}change_subreddit(t,e){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),ot(this,DE).raise(new Rd(e))}}$d.\u0275fac=function(t){return new(t||$d)(Ve(Or))},$d.\u0275cmp=Kt({type:$d,selectors:[["search-result"]],inputs:{data:"data"},standalone:!0,features:[qn],decls:13,vars:9,consts:[[3,"href","click"],[3,"data"],["mat-button","","disableRipple",""],["svgIcon","groups"],["svgIcon","person"]],template:function(t,e){1&t&&(Pt(0,"header")(1,"a",0),Cn("click",function(i){return e.change_subreddit(i,e._data.display_name)}),wn(2),Nt()(),en(3,"text-block",1),Pt(4,"footer")(5,"button",2),en(6,"mat-icon",3),wn(7),hr(8,"count"),Nt(),Pt(9,"button",2),en(10,"mat-icon",4),wn(11),hr(12,"count"),Nt()()),2&t&&(St(1),Tt("href","/r"+e._data.display_name,Al),St(1),_i(e._data.display_name),St(1),Tt("data",e._data.public_description_html),St(4),Qr(" ",mr(8,5,e._data.subscribers)," "),St(4),Qr(" ",mr(12,7,e._data.accounts_active)," "))},dependencies:[tr,zs,Ji,Mu,Ti,Do,oi,Gs],changeDetection:0});let mw=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(Ve(la),Ve(Rn))},n.\u0275dir=Vt({type:n}),n})(),Xs=(()=>{class n extends mw{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=zr(n)))(r||n)}}(),n.\u0275dir=Vt({type:n,features:[Sn]}),n})();const Qo=new Ft("NgValueAccessor"),_$={provide:Qo,useExisting:nn(()=>sp),multi:!0},y$=new Ft("CompositionEventMode");let sp=(()=>{class n extends mw{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function v$(){const n=Go()?Go().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(Ve(la),Ve(Rn),Ve(y$,8))},n.\u0275dir=Vt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Cn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Xn([_$]),Sn]}),n})();function ns(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function gw(n){return null!=n&&"number"==typeof n.length}const li=new Ft("NgValidators"),rs=new Ft("NgAsyncValidators"),b$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class T${static min(t){return function _w(n){return t=>{if(ns(t.value)||ns(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function vw(n){return t=>{if(ns(t.value)||ns(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return yw(t)}static requiredTrue(t){return function Ew(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function bw(n){return ns(n.value)||b$.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Tw(n){return t=>ns(t.value)||!gw(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return Sw(t)}static pattern(t){return function Cw(n){if(!n)return lp;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(ns(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return ww(t)}static composeAsync(t){return Pw(t)}}function yw(n){return ns(n.value)?{required:!0}:null}function Sw(n){return t=>gw(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function lp(n){return null}function Mw(n){return null!=n}function Dw(n){return fc(n)?Fe(n):n}function Aw(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Iw(n,t){return t.map(e=>e(n))}function Rw(n){return n.map(t=>function S$(n){return!n.validate}(t)?t:e=>t.validate(e))}function ww(n){if(!n)return null;const t=n.filter(Mw);return 0==t.length?null:function(e){return Aw(Iw(e,t))}}function AE(n){return null!=n?ww(Rw(n)):null}function Pw(n){if(!n)return null;const t=n.filter(Mw);return 0==t.length?null:function(e){return BD(Iw(e,t).map(Dw)).pipe(se(Aw))}}function IE(n){return null!=n?Pw(Rw(n)):null}function Ow(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function xw(n){return n._rawValidators}function Nw(n){return n._rawAsyncValidators}function RE(n){return n?Array.isArray(n)?n:[n]:[]}function up(n,t){return Array.isArray(n)?n.includes(t):n===t}function Lw(n,t){const e=RE(t);return RE(n).forEach(i=>{up(e,i)||e.push(i)}),e}function Fw(n,t){return RE(t).filter(e=>!up(n,e))}class Bw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=AE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=IE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ci extends Bw{get formDirective(){return null}get path(){return null}}class Aa extends Bw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kw{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uw=(()=>{class n extends kw{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Aa,2))},n.\u0275dir=Vt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&_r("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Sn]}),n})();const Xd="VALID",dp="INVALID",Pu="PENDING",qd="DISABLED";function xE(n){return(fp(n)?n.validators:n)||null}function NE(n,t){return(fp(t)?t.asyncValidators:n)||null}function fp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ww{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Xd}get invalid(){return this.status===dp}get pending(){return this.status==Pu}get disabled(){return this.status===qd}get enabled(){return this.status!==qd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Lw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Lw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Fw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Fw(t,this._rawAsyncValidators))}hasValidator(t){return up(this._rawValidators,t)}hasAsyncValidator(t){return up(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qd,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Xd,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xd||this.status===Pu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qd:Xd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pu,this._hasOwnPendingAsyncValidator=!0;const e=Dw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new er,this.statusChanges=new er}_calculateStatus(){return this._allControlsDisabled()?qd:this.errors?dp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pu)?Pu:this._anyControlsHaveStatus(dp)?dp:Xd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){fp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function P$(n){return Array.isArray(n)?AE(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function O$(n){return Array.isArray(n)?IE(n):n||null}(this._rawAsyncValidators)}}class LE extends Ww{constructor(t,e,r){super(xE(e),NE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Hw(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new _t(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function Vw(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new _t(1e3,"");if(!r[e])throw new _t(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Qd=new Ft("CallSetDisabledState",{providedIn:"root",factory:()=>FE}),FE="always";function Zd(n,t,e=FE){BE(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function L$(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Kw(n,t)})}(n,t),function B$(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function F$(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Kw(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function N$(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function mp(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),gp(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function pp(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function BE(n,t){const e=xw(n);null!==t.validator?n.setValidators(Ow(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=Nw(n);null!==t.asyncValidator?n.setAsyncValidators(Ow(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();pp(t._rawValidators,i),pp(t._rawAsyncValidators,i)}function gp(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=xw(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=Nw(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return pp(t._rawValidators,r),pp(t._rawAsyncValidators,r),e}function Kw(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Gw(n,t){BE(n,t)}function zw(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const H$={provide:Ci,useExisting:nn(()=>_p)},Jd=(()=>Promise.resolve())();let _p=(()=>{class n extends Ci{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new er,this.form=new LE({},AE(e),IE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Jd.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Zd(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Jd.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Jd.then(()=>{const r=this._findContainer(e.path),i=new LE({});Gw(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Jd.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Jd.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,zw(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(Ve(li,10),Ve(rs,10),Ve(Qd,8))},n.\u0275dir=Vt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&Cn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xn([H$]),Sn]}),n})();function Yw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function $w(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Xw=class extends Ww{constructor(t=null,e,r){super(xE(e),NE(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=$w(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Yw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Yw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){$w(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},G$={provide:Aa,useExisting:nn(()=>VE)},Zw=(()=>Promise.resolve())();let VE=(()=>{class n extends Aa{constructor(e,r,i,o,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new Xw,this._registered=!1,this.update=new er,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function jE(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===sp?e=o:function j$(n){return Object.getPrototypeOf(n.constructor)===Xs}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function UE(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Zw.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Ql(r);Zw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function hp(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(Ve(Ci,9),Ve(li,10),Ve(rs,10),Ve(Qo,10),Ve(Yi,8),Ve(Qd,8))},n.\u0275dir=Vt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xn([G$]),Sn,ki]}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({}),n})();const Z$={provide:Ci,useExisting:nn(()=>vp)};let vp=(()=>{class n extends Ci{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new er,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Zd(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){mp(e.control||null,e,!1),function V$(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,zw(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(mp(r||null,e),(n=>n instanceof Xw)(i)&&(Zd(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);Gw(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function k$(n,t){return gp(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BE(this.form,this),this._oldForm&&gp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(Ve(li,10),Ve(rs,10),Ve(Qd,8))},n.\u0275dir=Vt({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Cn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xn([Z$]),Sn,ki]}),n})();let qs=(()=>{class n{constructor(){this._validator=lp}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):lp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vt({type:n,features:[ki]}),n})();const c8={provide:li,useExisting:nn(()=>yp),multi:!0};let yp=(()=>{class n extends qs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ql,this.createValidator=e=>yw}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=zr(n)))(r||n)}}(),n.\u0275dir=Vt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&ar("required",r._enabled?"":null)},inputs:{required:"required"},features:[Xn([c8]),Sn]}),n})();const m8={provide:li,useExisting:nn(()=>zE),multi:!0};let zE=(()=>{class n extends qs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function uP(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>Sw(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=zr(n)))(r||n)}}(),n.\u0275dir=Vt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&ar("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Xn([m8]),Sn]}),n})(),g8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[eP]}),n})(),_8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qd,useValue:e.callSetDisabledState??FE}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[g8]}),n})();const y8=["matFormFieldNotchedOutline",""],E8=["*"],b8=["textField"],T8=["iconPrefixContainer"],S8=["textPrefixContainer"];function C8(n,t){1&n&&en(0,"span",19)}function M8(n,t){if(1&n){const e=Lr();Pt(0,"label",17),Cn("cdkObserveContent",function(){return ur(e),cr(tn(2)._refreshOutlineNotchWidth())}),Qn(1,1),zt(2,C8,1,0,"span",18),Nt()}if(2&n){const e=tn(2);Tt("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),ar("for",e._control.id)("aria-owns",e._control.id),St(2),Tt("ngIf",!e.hideRequiredMarker&&e._control.required)}}function D8(n,t){1&n&&zt(0,M8,3,6,"label",16),2&n&&Tt("ngIf",tn()._hasFloatingLabel())}function A8(n,t){1&n&&en(0,"div",20)}function I8(n,t){}function R8(n,t){1&n&&zt(0,I8,0,0,"ng-template",22),2&n&&(tn(2),Tt("ngTemplateOutlet",Ar(1)))}function w8(n,t){if(1&n&&(Pt(0,"div",21),zt(1,R8,1,1,"ng-template",9),Nt()),2&n){const e=tn();Tt("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),St(1),Tt("ngIf",!e._forceDisplayInfixLabel())}}function P8(n,t){1&n&&(Pt(0,"div",23,24),Qn(2,2),Nt())}function O8(n,t){1&n&&(Pt(0,"div",25,26),Qn(2,3),Nt())}function x8(n,t){}function N8(n,t){1&n&&zt(0,x8,0,0,"ng-template",22),2&n&&(tn(),Tt("ngTemplateOutlet",Ar(1)))}function L8(n,t){1&n&&(Pt(0,"div",27),Qn(1,4),Nt())}function F8(n,t){1&n&&(Pt(0,"div",28),Qn(1,5),Nt())}function B8(n,t){1&n&&en(0,"div",29)}function k8(n,t){1&n&&(Pt(0,"div",30),Qn(1,6),Nt()),2&n&&Tt("@transitionMessages",tn()._subscriptAnimationState)}function U8(n,t){if(1&n&&(Pt(0,"mat-hint",34),wn(1),Nt()),2&n){const e=tn(2);Tt("id",e._hintLabelId),St(1),_i(e.hintLabel)}}function j8(n,t){if(1&n&&(Pt(0,"div",31),zt(1,U8,2,2,"mat-hint",32),Qn(2,7),en(3,"div",33),Qn(4,8),Nt()),2&n){const e=tn();Tt("@transitionMessages",e._subscriptAnimationState),St(1),Tt("ngIf",e.hintLabel)}}const V8=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],H8=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let YE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vt({type:n,selectors:[["mat-label"]]}),n})(),W8=0;const _P=new Ft("MatError");let K8=(()=>{class n{constructor(e,r){this.id="mat-mdc-error-"+W8++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(vl("aria-live"),Ve(Rn))},n.\u0275dir=Vt({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,r){2&e&&mc("id",r.id)},inputs:{id:"id"},features:[Xn([{provide:_P,useExisting:n}])]}),n})(),G8=0,$E=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+G8++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,r){2&e&&(mc("id",r.id),ar("align",null),_r("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const z8=new Ft("MatPrefix"),vP=new Ft("MatSuffix");let Y8=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vt({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Xn([{provide:vP,useExisting:n}])]}),n})(),yP=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function $8(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn))},n.\u0275dir=Vt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,r){2&e&&_r("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const EP="mdc-line-ripple--active",Ep="mdc-line-ripple--deactivating";let bP=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,u=o.contains(Ep);"opacity"===i.propertyName&&u&&o.remove(EP,Ep)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(Ep),e.add(EP)}deactivate(){this._elementRef.nativeElement.classList.add(Ep)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(yn))},n.\u0275dir=Vt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),TP=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(yn))},n.\u0275cmp=Kt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,r){2&e&&_r("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:y8,ngContentSelectors:E8,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,r){1&e&&(Ki(),en(0,"div",0),Pt(1,"div",1),Qn(2),Nt(),en(3,"div",2)),2&e&&(St(1),Ua("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const X8={transitionMessages:zc("transitionMessages",[Os("enter",Pi({opacity:1,transform:"translateY(0%)"})),Ya("void => enter",[Pi({opacity:0,transform:"translateY(-5px)"}),za("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let SP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Vt({type:n}),n})();const CP=new Ft("MatFormField"),q8=new Ft("MAT_FORM_FIELD_DEFAULT_OPTIONS");let MP=0,J8=(()=>{class n{constructor(e,r,i,o,u,h,C,B){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=u,this._defaults=h,this._animationMode=C,this._document=B,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+MP++,this._hintLabelId="mat-mdc-hint-"+MP++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new de,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=Boolean(h?.hideRequiredMarker),h.color&&(this.color=h.color))}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Xi(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Hr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),qe(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Hr(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Hr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,u=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(Yi),Ve(yn),Ve(ws),Ve(jr),Ve(q8,8),Ve(Wo,8),Ve(Dn))},n.\u0275cmp=Kt({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(zi(i,YE,5),zi(i,YE,7),zi(i,SP,5),zi(i,z8,5),zi(i,vP,5),zi(i,_P,5),zi(i,$E,5)),2&e){let o;rr(o=ir())&&(r._labelChildNonStatic=o.first),rr(o=ir())&&(r._labelChildStatic=o.first),rr(o=ir())&&(r._formFieldControl=o.first),rr(o=ir())&&(r._prefixChildren=o),rr(o=ir())&&(r._suffixChildren=o),rr(o=ir())&&(r._errorChildren=o),rr(o=ir())&&(r._hintChildren=o)}},viewQuery:function(e,r){if(1&e&&(yi(b8,5),yi(T8,5),yi(S8,5),yi(yP,5),yi(TP,5),yi(bP,5)),2&e){let i;rr(i=ir())&&(r._textField=i.first),rr(i=ir())&&(r._iconPrefixContainer=i.first),rr(i=ir())&&(r._textPrefixContainer=i.first),rr(i=ir())&&(r._floatingLabel=i.first),rr(i=ir())&&(r._notchedOutline=i.first),rr(i=ir())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,r){2&e&&_r("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Xn([{provide:CP,useExisting:n}])],ngContentSelectors:H8,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,r){1&e&&(Ki(V8),zt(0,D8,1,1,"ng-template",null,0,P_),Pt(2,"div",1,2),Cn("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),zt(4,A8,1,0,"div",3),Pt(5,"div",4),zt(6,w8,2,3,"div",5),zt(7,P8,3,0,"div",6),zt(8,O8,3,0,"div",7),Pt(9,"div",8),zt(10,N8,1,1,"ng-template",9),Qn(11),Nt(),zt(12,L8,2,0,"div",10),zt(13,F8,2,0,"div",11),Nt(),zt(14,B8,1,0,"div",12),Nt(),Pt(15,"div",13),zt(16,k8,2,1,"div",14),zt(17,j8,5,2,"div",15),Nt()),2&e&&(St(2),_r("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),St(2),Tt("ngIf",!r._hasOutline()&&!r._control.disabled),St(2),Tt("ngIf",r._hasOutline()),St(1),Tt("ngIf",r._hasIconPrefix),St(1),Tt("ngIf",r._hasTextPrefix),St(2),Tt("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),St(2),Tt("ngIf",r._hasTextSuffix),St(1),Tt("ngIf",r._hasIconSuffix),St(1),Tt("ngIf",!r._hasOutline()),St(1),_r("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Tt("ngSwitch",r._getDisplayedMessages()),St(1),Tt("ngSwitchCase","error"),St(1),Tt("ngSwitchCase","hint"))},dependencies:[kr,uv,Lh,YM,aV,$E,yP,TP,bP],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[X8.transitionMessages]},changeDetection:0}),n})(),XE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[Wr,tr,hD,Wr]}),n})();const IP=Is({passive:!0});let e6=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Dt;const r=pa(e),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new de,u="cdk-text-field-autofilled",h=C=>{"cdk-text-field-autofill-start"!==C.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===C.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>o.next({target:C.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>o.next({target:C.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,IP),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",h,IP)}}),o}stopMonitoring(e){const r=pa(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(lt(jr),lt(yn))},n.\u0275prov=et({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({}),n})();const n6=new Ft("MAT_INPUT_VALUE_ACCESSOR"),r6=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let i6=0;const o6=HV(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new de}});let a6=(()=>{class n extends o6{constructor(e,r,i,o,u,h,C,B,Z,ye){super(h,o,u,i),this._elementRef=e,this._platform=r,this._autofillMonitor=B,this._formField=ye,this._uid="mat-input-"+i6++,this.focused=!1,this.stateChanges=new de,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ke=>oD().has(ke)),this._iOSKeyupListener=ke=>{const Qe=ke.target;!Qe.value&&0===Qe.selectionStart&&0===Qe.selectionEnd&&(Qe.setSelectionRange(1,1),Qe.setSelectionRange(0,0))};const Me=this._elementRef.nativeElement,xe=Me.nodeName.toLowerCase();this._inputValueAccessor=C||Me,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&Z.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===xe,this._isTextarea="textarea"===xe,this._isInFormField=!!ye,this._isNativeSelect&&(this.controlType=Me.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this._disabled}set disabled(e){this._disabled=Xi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(T$.required)??!1}set required(e){this._required=Xi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&oD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Xi(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){r6.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(Ve(Rn),Ve(jr),Ve(Aa,10),Ve(_p,8),Ve(vp,8),Ve(PD),Ve(n6,10),Ve(e6),Ve(yn),Ve(CP,8))},n.\u0275dir=Vt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,r){1&e&&Cn("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(mc("id",r.id)("disabled",r.disabled)("required",r.required),ar("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),_r("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Xn([{provide:SP,useExisting:n}]),Sn,ki]}),n})(),s6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[Wr,XE,XE,t6,Wr]}),n})();const l6=["tooltip"],RP=new Ft("mat-tooltip-scroll-strategy"),d6={provide:RP,deps:[Du],useFactory:function c6(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},h6=new Ft("mat-tooltip-default-options",{providedIn:"root",factory:function f6(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),wP="tooltip-panel",PP=Is({passive:!0});let y6=(()=>{class n{constructor(e,r,i,o,u,h,C,B,Z,ye,Me,xe){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=u,this._platform=h,this._ariaDescriber=C,this._focusMonitor=B,this._dir=ye,this._defaultOptions=Me,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new de,this._scrollStrategy=Z,this._document=xe,Me&&(Me.position&&(this.position=Me.position),Me.positionAtOrigin&&(this.positionAtOrigin=Me.positionAtOrigin),Me.touchGestures&&(this.touchGestures=Me.touchGestures)),ye.change.pipe(Hr(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Xi(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Xi(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=eu(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=eu(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Hr(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,PP)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new BR(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Hr(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Rn)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Hr(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${wP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Hr(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Hr(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Hr(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!yv(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(wi(1),Hr(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:o}=e;let u;if(u="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const C=`${this._cssClassPrefix}-${wP}-`;h.removePanelClass(C+this._currentPosition),h.addPanelClass(C+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(r=e),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const r=e.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,PP)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){Qf()},n.\u0275dir=Vt({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),E6=(()=>{class n extends y6{constructor(e,r,i,o,u,h,C,B,Z,ye,Me,xe){super(e,r,i,o,u,h,C,B,Z,ye,Me,xe),this._tooltipComponent=T6,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const i=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=i?-8:8:"end"===e.originX&&(e.offsetX=i?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(Ve(Du),Ve(Rn),Ve(Dd),Ve(Gi),Ve(yn),Ve(jr),Ve(TV),Ve(Gh),Ve(RP),Ve(ws,8),Ve(h6,8),Ve(Dn))},n.\u0275dir=Vt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[Sn]}),n})(),b6=(()=>{class n{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new de,this._animationsDisabled="NoopAnimations"===r}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(r);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(Ve(Yi),Ve(Wo,8))},n.\u0275dir=Vt({type:n}),n})(),T6=(()=>{class n extends b6{constructor(e,r,i){super(e,i),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(Ve(Yi),Ve(Rn),Ve(Wo,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&yi(l6,7),2&e){let i;rr(i=ir())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&Cn("mouseleave",function(o){return r._handleMouseLeave(o)}),2&e&&Ua("zoom",r.isVisible()?1:null)},features:[Sn],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,r){1&e&&(Pt(0,"div",0,1),Cn("animationend",function(o){return r._handleAnimationEnd(o)}),Pt(2,"div",2),wn(3),Nt()()),2&e&&(_r("mdc-tooltip--multiline",r._isMultiline),Tt("ngClass",r.tooltipClass),St(3),_i(r.message))},dependencies:[Zl],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),S6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({providers:[d6],imports:[LV,tr,JR,Wr,Wr,qm]}),n})();function C6(n,t){if(1&n&&(Pt(0,"mat-label"),wn(1),Nt()),2&n){const e=tn();St(1),_i(e.label)}}function M6(n,t){if(1&n){const e=Lr();Pt(0,"mat-icon",7),Cn("click",function(){return ur(e),cr(tn().onClear())}),Nt()}}function D6(n,t){if(1&n&&(Pt(0,"mat-hint",8),wn(1),Nt()),2&n){const e=tn(),r=Ar(3);St(1),lh("",r.value.length," / ",e._maxlength," ")}}function A6(n,t){if(1&n&&(Pt(0,"mat-error"),wn(1),Nt()),2&n){const e=tn();St(1),_i(e.errMsg)}}const I6=function(n){return{readonly:n}};class ef{constructor(t,e){this.sanitizer=t,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.hideLabel=!1,this.hideClear=!1,this.hideLength=!1,this._model="",this._maxlength=256,this.inputName=e.getUniqueId().toString(),this.modelChange=new er,this.errorStateMatcher=new PD,this.errorStateMatcher.isErrorState=()=>String.hasData(this.errMsg)}set model(t){this._model=t??""}set maxlength(t){!isNaN(t)&&t>0&&(this._maxlength=t)}set style(t){this._style=this.sanitizer.bypassSecurityTrustStyle(t)}onClear(){this._model="",this.onChange()}onChange(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}}ef.\u0275fac=function(t){return new(t||ef)(Ve(_a),Ve(Vs))},ef.\u0275cmp=Kt({type:ef,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",hideLabel:"hideLabel",hideClear:"hideClear",hideLength:"hideLength",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[qn],decls:9,vars:18,consts:[[2,"width","100%",3,"appearance","ngClass"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","keydown.enter"],["inp",""],["matSuffix","","style","cursor: pointer; opacity: 0.54;","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start"],["align","end",4,"ngIf"],["matSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",2,"cursor","pointer","opacity","0.54",3,"click"],["align","end"]],template:function(t,e){if(1&t){const r=Lr();Pt(0,"mat-form-field",0),zt(1,C6,2,1,"mat-label",1),Pt(2,"input",2,3),Cn("ngModelChange",function(o){return e._model=o})("change",function(){return e.onChange()})("keydown.enter",function(){return ur(r),cr(Ar(3).blur())}),Nt(),zt(4,M6,1,0,"mat-icon",4),Pt(5,"mat-hint",5),wn(6),Nt(),zt(7,D6,2,2,"mat-hint",6),zt(8,A6,2,1,"mat-error",1),Nt()}2&t&&(Tt("appearance",e.readonly?"outline":"fill")("ngClass",To(16,I6,e.readonly)),St(1),Tt("ngIf",!e.hideLabel),St(1),Tt("placeholder",e.placeholder)("readonly",e.readonly)("disabled",e.disabled)("required",e.required)("ngModel",e._model)("errorStateMatcher",e.errorStateMatcher),ar("name",e.inputName)("maxlength",e._maxlength)("style",e._style,HT),St(2),Tt("ngIf",!e.readonly&&!e.disabled&&!e.hideClear),St(2),_i(e.hint),St(1),Tt("ngIf",!e.readonly&&!e.disabled&&!e.hideLength&&e._maxlength),St(1),Tt("ngIf",!e.readonly&&!e.disabled))},dependencies:[tr,Zl,kr,_8,sp,Uw,yp,zE,VE,XE,J8,YE,$E,K8,Y8,Ti,Do,s6,a6,S6,E6],styles:["[_nghost-%COMP%]     .readonly .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .readonly .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{padding-bottom:.25em;padding-top:.25em}[_nghost-%COMP%]     .readonly .mat-form-field-underline{display:none}"]});const R6=function(n){return{top:n}};var qE=new WeakMap;class tf{constructor(t,e){cn(this,qE,{writable:!0,value:void 0}),this.controller=e,this.top="2em",Gt(this,qE,t)}ngOnInit(){const t=document.querySelector("search-page-header");null!=t&&(this.top=`${t.offsetHeight}px`)}onModelChange(t){ot(this,qE).raise(new aw(t))}}tf.\u0275fac=function(t){return new(t||tf)(Ve(Or),Ve(Zi))},tf.\u0275cmp=Kt({type:tf,selectors:[["search"]],standalone:!0,features:[qn],decls:4,vars:6,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10",3,"ngStyle"],[3,"model","modelChange"],["inp",""]],template:function(t,e){1&t&&(Pt(0,"form",0)(1,"input-text",1,2),Cn("modelChange",function(i){return e.onModelChange(i)}),hr(3,"async"),Nt()()),2&t&&(Tt("ngStyle",To(4,R6,e.top)),St(1),Tt("model",mr(3,2,e.controller.subreddit_query$).request))},dependencies:[tr,Ac,As,ef,Ji,Ti,Da,qo,oi],changeDetection:0});class nf{}nf.\u0275fac=function(t){return new(t||nf)},nf.\u0275cmp=Kt({type:nf,selectors:[["forbidden"]],decls:4,vars:0,consts:[["color","warn"]],template:function(t,e){1&t&&(Pt(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span"),wn(3,"You are not authorized."),Nt()()())},dependencies:[gE,pE],encapsulation:2});class Ou{}Ou.\u0275fac=function(t){return new(t||Ou)},Ou.\u0275mod=Yn({type:Ou}),Ou.\u0275inj=jt({imports:[qo,oi.forChild([{path:"forbidden",component:nf}])]});const w6=["*"],L6=new Ft("MAT_CARD_CONFIG");let OP=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(Ve(L6,8))},n.\u0275cmp=Kt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,r){2&e&&_r("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:w6,decls:1,vars:0,template:function(e,r){1&e&&(Ki(),Qn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),xP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Yn({type:n}),n.\u0275inj=jt({imports:[Wr,tr,Wr]}),n})();class rf{constructor(t){this.eventManagerService=t}ngOnInit(){this.eventManagerService.raise(Za)}}rf.\u0275fac=function(t){return new(t||rf)(Ve(Or))},rf.\u0275cmp=Kt({type:rf,selectors:[["server-error"]],standalone:!0,features:[qn],decls:4,vars:0,consts:[["color","warn"],["appearance","outlined"]],template:function(t,e){1&t&&(Pt(0,"mat-toolbar",0),wn(1,"Error"),Nt(),Pt(2,"mat-card",1),wn(3,"We are currently experiencing technical difficulties. We apologize for the delay. Please try your request again later."),Nt())},dependencies:[xP,OP,qo,gE],encapsulation:2});class xu{}function X6(n,t){1&n&&(Pt(0,"mat-toolbar-row")(1,"span"),wn(2,"You are not authorized."),Nt()())}function q6(n,t){1&n&&(Pt(0,"mat-toolbar-row")(1,"span"),wn(2,"Not found."),Nt()())}function Q6(n,t){if(1&n&&(Pt(0,"mat-toolbar-row")(1,"span",4),wn(2),Nt()()),2&n){const e=t.$implicit;St(2),_i(e)}}function Z6(n,t){if(1&n&&(Pt(0,"mat-toolbar",1),zt(1,X6,3,0,"mat-toolbar-row",2),zt(2,q6,3,0,"mat-toolbar-row",2),zt(3,Q6,3,1,"mat-toolbar-row",3),Nt()),2&n){const e=tn();St(1),Tt("ngIf",null==e._errors.general?null:e._errors.general.forbidden),St(1),Tt("ngIf",null==e._errors.general?null:e._errors.general.notFound),St(1),Tt("ngForOf",null==e._errors.general?null:e._errors.general.default)}}xu.\u0275fac=function(t){return new(t||xu)},xu.\u0275mod=Yn({type:xu}),xu.\u0275inj=jt({imports:[tr,oi.forChild([{path:"error",component:rf}]),xP,qo]});class Qs{set errors(t){this._errors=t instanceof Error?$o.CreateErrorResult(`${t.message} `).errors:"string"!=typeof t&&"number"!=typeof t?t:$o.CreateErrorResult(`${t} `).errors}}Qs.\u0275fac=function(t){return new(t||Qs)},Qs.\u0275cmp=Kt({type:Qs,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[qn],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(t,e){1&t&&zt(0,Z6,4,3,"mat-toolbar",0),2&t&&Tt("ngIf",null==e._errors?null:e._errors.general)},dependencies:[tr,Va,kr,qo,gE,pE],styles:["[_nghost-%COMP%]{width:100%}"]});const J6=function(n){return{item:n,subreddit:"",hide_stickied:!1,show_comments:!1}};function e5(n,t){if(1&n&&en(0,"post",6),2&n){const e=tn().ngIf;Tt("data",To(1,J6,e.post))}}function t5(n,t){1&n&&en(0,"post-comment",6),2&n&&Tt("data",t.$implicit)}function n5(n,t){if(1&n&&(Pt(0,"div",3),zt(1,e5,1,3,"post",4),zt(2,t5,1,1,"post-comment",5),Nt()),2&n){const e=t.ngIf,r=tn(2);St(1),Tt("ngIf",e.post),St(1),Tt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function r5(n,t){if(1&n&&(ko(0),en(1,"post-comment-list-header")(2,"general-error",1),hr(3,"async"),zt(4,n5,3,3,"div",2),hr(5,"async"),Uo()),2&n){const e=tn();St(2),Tt("errors",mr(3,2,e.controller.errors$)),St(2),Tt("ngIf",mr(5,4,e.controller.post_comments$))}}var bp=new WeakMap,Tp=new WeakMap,Zo=new WeakMap,NP=new WeakSet,LP=new WeakSet,FP=new WeakSet,BP=new WeakSet;class Nu{constructor(t,e,r,i){var o=this;dr(this,BP),dr(this,FP),dr(this,LP),dr(this,NP),cn(this,bp,{writable:!0,value:void 0}),cn(this,Tp,{writable:!0,value:void 0}),cn(this,Zo,{writable:!0,value:void 0}),this.controller=t,Gt(this,Zo,{a:"",i:"",so:"best"}),Gt(this,bp,e),Gt(this,Tp,i),this.vm$=qe(e.handle(iw).pipe(Hn(u=>Zn(this,NP,o5).call(this,u))),e.handle(Rd).pipe(Hn(u=>Zn(this,LP,a5).call(this,u))),r.paramMap.pipe(Hn(function(){var u=yr(function*(h){return yield Zn(o,BP,l5).call(o,h)});return function(h){return u.apply(this,arguments)}}())))}trackByFn(t,e){return e.id}go_to_top(){window.scrollTo(0,0)}}function o5(n){ot(this,Zo).so=n.sort_requested,Zn(this,FP,s5).call(this)}function a5(n){ot(this,Tp).navigate(["r",n.subreddit_requested])}function s5(){let n=Object.trimUnusedProperties(ot(this,Zo));delete n.a,ot(this,Tp).navigate(["comments",ot(this,Zo).a,n])}function l5(n){return QE.apply(this,arguments)}function QE(){return(QE=yr(function*(n){try{ot(this,bp).raise(hd),Gt(this,Zo,{a:"",i:"",so:"best"}),Ja.fromParamMap(ot(this,Zo),n),yield this.controller.actions.listCommentAsync(ot(this,Zo).a,ot(this,Zo).so,ot(this,Zo).i),setTimeout(()=>window.scrollTo(0,0),0)}finally{ot(this,bp).raise(Za)}})).apply(this,arguments)}Nu.\u0275fac=function(t){return new(t||Nu)(Ve(Zi),Ve(Or),Ve(Ta),Ve(Kr))},Nu.\u0275cmp=Kt({type:Nu,selectors:[["ng-component"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"]],template:function(t,e){1&t&&(zt(0,r5,6,6,"ng-container",0),hr(1,"async")),2&t&&Tt("ngIf",mr(1,1,e.vm$))},dependencies:[tr,Va,kr,As,Qs,Ji,Ti,Ld,wd,wu],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});const u5=function(n,t){return{item:n,subreddit:t,hide_stickied:!0,show_comments:!0}};function c5(n,t){if(1&n&&en(0,"post",9),2&n){const e=t.$implicit,r=tn().ngIf;Tt("id",e.id)("data",S_(2,u5,e,r.subreddit))}}function d5(n,t){if(1&n){const e=Lr();Pt(0,"div",3),zt(1,c5,1,5,"post",4),Pt(2,"div",5)(3,"button",6),Cn("click",function(){const o=ur(e).ngIf;return cr(tn(2).next_page(o.after,o.modhash))}),wn(4,"Next"),Nt(),Pt(5,"button",7),Cn("click",function(){return ur(e),cr(tn(2).go_to_top())}),en(6,"mat-icon",8),Nt()()()}if(2&n){const e=t.ngIf,r=tn(2);St(1),Tt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function f5(n,t){if(1&n&&(ko(0),en(1,"post-list-header")(2,"general-error",1),hr(3,"async"),zt(4,d5,7,2,"div",2),hr(5,"async"),Uo()),2&n){const e=tn();St(2),Tt("errors",mr(3,2,e.controller.errors$)),St(2),Tt("ngIf",mr(5,4,e.controller.posts$))}}var Sp=new WeakMap,Cp=new WeakMap,af=new WeakMap,Sr=new WeakMap,kP=new WeakSet,UP=new WeakSet,jP=new WeakSet,VP=new WeakSet,sf=new WeakSet,HP=new WeakSet;class lf{constructor(t,e,r,i,o){var u=this;dr(this,HP),dr(this,sf),dr(this,VP),dr(this,jP),dr(this,UP),dr(this,kP),cn(this,Sp,{writable:!0,value:void 0}),cn(this,Cp,{writable:!0,value:void 0}),cn(this,af,{writable:!0,value:void 0}),cn(this,Sr,{writable:!0,value:void 0}),this.controller=t,Gt(this,Sr,{a:"",m:"",so:"hot",su:""}),this.id="",Gt(this,Sp,e),Gt(this,Cp,i),Gt(this,af,o),this.vm$=qe(e.handle(rw).pipe(Hn(h=>Zn(this,kP,h5).call(this))),e.handle(ow).pipe(Hn(h=>Zn(this,UP,m5).call(this,h))),e.handle(Rd).pipe(Hn(h=>Zn(this,jP,p5).call(this,h))),e.handle(sw).pipe(Hn(h=>Zn(this,VP,g5).call(this,h))),r.paramMap.pipe(Hn(function(){var h=yr(function*(C){return yield Zn(u,HP,_5).call(u,C)});return function(C){return h.apply(this,arguments)}}())))}trackByFn(t,e){return`${e.id}${e.subreddit_subscribed}`}next_page(t,e){ot(this,Sr).a=t,ot(this,Sr).m=e,this.go_to_top(),setTimeout(()=>{ot(this,af).save(),Zn(this,sf,Mp).call(this)},0)}go_to_top(){window.scrollTo(0,0)}}function h5(){ot(this,Sr).a="",ot(this,Sr).m="",ot(this,Sr).so="hot",ot(this,Sr).su="frontpage",Zn(this,sf,Mp).call(this)}function m5(n){ot(this,Sr).a="",ot(this,Sr).m="",ot(this,Sr).so=n.sort_requested,Zn(this,sf,Mp).call(this)}function p5(n){ot(this,Sr).a="",ot(this,Sr).m="",ot(this,Sr).su=n.subreddit_requested,Zn(this,sf,Mp).call(this)}function g5(n){this.id=n.article,ot(this,af).save("post",n.article),ot(this,Cp).navigate(["comments",n.article])}function Mp(){let n=Object.trimUnusedProperties(ot(this,Sr));delete n.su,ot(this,Cp).navigate(["r",ot(this,Sr).su,n])}function _5(n){return ZE.apply(this,arguments)}function ZE(){return(ZE=yr(function*(n){ot(this,Sp).raise(hd),Gt(this,Sr,{a:"",m:"",so:"hot",su:""}),Ja.fromParamMap(ot(this,Sr),n),yield this.controller.actions.listPostAsync(ot(this,Sr).a,ot(this,Sr).m,ot(this,Sr).so,ot(this,Sr).su),ot(this,af).restore(),ot(this,Sp).raise(Za)})).apply(this,arguments)}function v5(n,t){if(1&n&&en(0,"search-result",5),2&n){const e=t.$implicit;Tt("id",e.display_name)("data",e)}}function y5(n,t){if(1&n&&(Pt(0,"div",3),zt(1,v5,1,2,"search-result",4),Nt()),2&n){const e=t.ngIf,r=tn(2);St(1),Tt("ngForOf",e.result)("ngForTrackBy",r.trackByFn)}}function E5(n,t){if(1&n&&(ko(0),en(1,"search-page-header")(2,"general-error",1),hr(3,"async"),en(4,"search"),zt(5,y5,2,2,"div",2),hr(6,"async"),Uo()),2&n){const e=tn();St(2),Tt("errors",mr(3,2,e.controller.errors$)),St(3),Tt("ngIf",mr(6,4,e.controller.subreddit_query$))}}lf.\u0275fac=function(t){return new(t||lf)(Ve(Zi),Ve(Or),Ve(Ta),Ve(Kr),Ve(es))},lf.\u0275cmp=Kt({type:lf,selectors:[["ng-component"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],["mat-raised-button","",3,"click"],["svgIcon","arrow_upward"],[1,"mat-elevation-z5",3,"id","data"]],template:function(t,e){1&t&&(zt(0,f5,6,6,"ng-container",0),hr(1,"async")),2&t&&Tt("ngIf",mr(1,1,e.vm$))},dependencies:[tr,Va,kr,As,Qs,Fd,Ji,Mu,Ti,Do,wu],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});var Dp=new WeakMap,Ap=new WeakMap,Ip=new WeakMap,WP=new WeakSet,KP=new WeakSet,GP=new WeakSet,zP=new WeakSet;class uf{constructor(t,e,r,i,o){var u=this;dr(this,zP),dr(this,GP),dr(this,KP),dr(this,WP),cn(this,Dp,{writable:!0,value:void 0}),cn(this,Ap,{writable:!0,value:void 0}),cn(this,Ip,{writable:!0,value:void 0}),this.controller=r,this.state={q:""},Gt(this,Dp,e),Gt(this,Ap,i),Gt(this,Ip,o),this.vm$=qe(e.handle(aw).pipe(Hn(h=>Zn(this,WP,b5).call(this,h.search))),e.handle(Rd).pipe(Hn(h=>Zn(this,KP,T5).call(this,h))),t.paramMap.pipe(Hn(function(){var h=yr(function*(C){return yield Zn(u,zP,C5).call(u,C)});return function(C){return h.apply(this,arguments)}}())))}trackByFn(t,e){return e.display_name}}function b5(n){const t=String.isNullOrWhitespace(this.state.q);this.state.q=n,Zn(this,GP,S5).call(this,t)}function T5(n){ot(this,Ip).save("search-result",n.subreddit_requested),ot(this,Ap).navigate(["r",n.subreddit_requested])}function S5(n){let t=Object.trimUnusedProperties(this.state);ot(this,Ap).navigate(["s",t],{replaceUrl:n})}function C5(n){return JE.apply(this,arguments)}function JE(){return(JE=yr(function*(n){String.hasData(this.state.q)&&ot(this,Dp).raise(hd),Ja.fromParamMap(this.state,n),yield this.controller.actions.searchAsync(this.state.q),String.hasData(this.state.q)&&(ot(this,Ip).restore(),ot(this,Dp).raise(Za))})).apply(this,arguments)}uf.\u0275fac=function(t){return new(t||uf)(Ve(Ta),Ve(Or),Ve(Zi),Ve(Kr),Ve(es))},uf.\u0275cmp=Kt({type:uf,selectors:[["ng-component"]],standalone:!0,features:[qn],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(t,e){1&t&&(zt(0,E5,7,6,"ng-container",0),hr(1,"async")),2&t&&Tt("ngIf",mr(1,1,e.vm$))},dependencies:[tr,Va,kr,As,Qs,Ji,Yd,tf,$d],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0});const M5=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:lf},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a/:i",component:Nu},{path:"comments/:a",component:Nu},{path:"s",component:uf}];(function L2(n,t){return yk({rootComponent:n,...lA(t)})})(Cd,{providers:[{provide:Sc,useFactory:function D5(n,t){return()=>n.addSvgIcon("arrow_downward",t.bypassSecurityTrustResourceUrl("assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("arrow_upward",t.bypassSecurityTrustResourceUrl("assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("clear",t.bypassSecurityTrustResourceUrl("assets/cancel_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("comment",t.bypassSecurityTrustResourceUrl("assets/comment_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("edit",t.bypassSecurityTrustResourceUrl("assets/edit_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("expand_more",t.bypassSecurityTrustResourceUrl("assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite_filled",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL1_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("fullscreen",t.bypassSecurityTrustResourceUrl("assets/fullscreen_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("go_back",t.bypassSecurityTrustResourceUrl("assets/arrow_back_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("groups",t.bypassSecurityTrustResourceUrl("assets/groups_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("home",t.bypassSecurityTrustResourceUrl("assets/home_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_horiz",t.bypassSecurityTrustResourceUrl("assets/more_horiz_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_vert",t.bypassSecurityTrustResourceUrl("assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("pause",t.bypassSecurityTrustResourceUrl("assets/pause_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("person",t.bypassSecurityTrustResourceUrl("assets/person_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("photo_library",t.bypassSecurityTrustResourceUrl("assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("play_arrow",t.bypassSecurityTrustResourceUrl("assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("push_pin",t.bypassSecurityTrustResourceUrl("assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("search",t.bypassSecurityTrustResourceUrl("assets/search_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("share",t.bypassSecurityTrustResourceUrl("assets/share_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("sort",t.bypassSecurityTrustResourceUrl("assets/sort_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("stop",t.bypassSecurityTrustResourceUrl("assets/stop_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("subscriptions",t.bypassSecurityTrustResourceUrl("assets/subscriptions_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_mute",t.bypassSecurityTrustResourceUrl("assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_off",t.bypassSecurityTrustResourceUrl("assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"))},multi:!0,deps:[Gc,_a]},{provide:hH,useValue:{duration:3e3}},function mK(){return[...fK]}(),function Mz(n,...t){return $T([{provide:fu,multi:!0,useValue:n},[],{provide:Ta,useFactory:uR,deps:[Kr]},{provide:B_,multi:!0,useFactory:cR},t.map(e=>e.\u0275providers)])}(M5),XT(Ca.forRoot({corsConfig:{use:!1,url:""},storageConfig:{keyPrefix:"RedditReader"}}),Ou,xu)]}).catch(n=>console.error(n))},377:Pa=>{window,Pa.exports=function(Ie){var U={};function m(M){if(U[M])return U[M].exports;var T=U[M]={i:M,l:!1,exports:{}};return Ie[M].call(T.exports,T,T.exports,m),T.l=!0,T.exports}return m.m=Ie,m.c=U,m.d=function(M,T,I){m.o(M,T)||Object.defineProperty(M,T,{enumerable:!0,get:I})},m.r=function(M){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})},m.t=function(M,T){if(1&T&&(M=m(M)),8&T||4&T&&"object"==typeof M&&M&&M.__esModule)return M;var I=Object.create(null);if(m.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:M}),2&T&&"string"!=typeof M)for(var w in M)m.d(I,w,function(P){return M[P]}.bind(null,w));return I},m.n=function(M){var T=M&&M.__esModule?function(){return M.default}:function(){return M};return m.d(T,"a",T),T},m.o=function(M,T){return Object.prototype.hasOwnProperty.call(M,T)},m.p="/dist/",m(m.s="./index.js")}({"./externals/base64.js":function(Ie,U,m){var I,w,P,R,D,M_encode=function(I){for(var w=[],P=0;P<I.length;++P){var R=I.charCodeAt(P);R<128?w.push(R):R<2048?(w.push(192|R>>6),w.push(128|63&R)):R<65536?(w.push(224|R>>12),w.push(128|63&R>>6),w.push(128|63&R)):(w.push(240|R>>18),w.push(128|63&R>>12),w.push(128|63&R>>6),w.push(128|63&R))}return w},M_decode=function(I){for(var w=[],P=0;P<I.length;){var R=I[P++];R<128||(R<224?(R=(31&R)<<6,R|=63&I[P++]):R<240?(R=(15&R)<<12,R|=(63&I[P++])<<6,R|=63&I[P++]):(R=(7&R)<<18,R|=(63&I[P++])<<12,R|=(63&I[P++])<<6,R|=63&I[P++])),w.push(String.fromCharCode(R))}return w.join("")},T={};I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=function(l){for(var d=0,f=[],_=0|l.length/3;0<_--;){var N=(l[d]<<16)+(l[d+1]<<8)+l[d+2];d+=3,f.push(I.charAt(63&N>>18)),f.push(I.charAt(63&N>>12)),f.push(I.charAt(63&N>>6)),f.push(I.charAt(63&N))}return l.length-d==2?(f.push(I.charAt(63&(N=(l[d]<<16)+(l[d+1]<<8))>>18)),f.push(I.charAt(63&N>>12)),f.push(I.charAt(63&N>>6)),f.push("=")):l.length-d==1&&(f.push(I.charAt(63&(N=l[d]<<16)>>18)),f.push(I.charAt(63&N>>12)),f.push("==")),f.join("")},P=function(){for(var c=[],l=0;l<I.length;++l)c[I.charCodeAt(l)]=l;return c["=".charCodeAt(0)]=0,c}(),R=function(l){for(var d=0,f=[],_=0|l.length/4;0<_--;){var N=(P[l.charCodeAt(d)]<<18)+(P[l.charCodeAt(d+1)]<<12)+(P[l.charCodeAt(d+2)]<<6)+P[l.charCodeAt(d+3)];f.push(255&N>>16),f.push(255&N>>8),f.push(255&N),d+=4}return f&&("="==l.charAt(d-2)?(f.pop(),f.pop()):"="==l.charAt(d-1)&&f.pop()),f},D={encode:function(c){for(var l=[],d=0;d<c.length;++d)l.push(c.charCodeAt(d));return l},decode:function(c){for(var l=0;l<s.length;++l)a[l]=String.fromCharCode(a[l]);return a.join("")}},T.decodeArray=function(c){var l=R(c);return new Uint8Array(l)},T.encodeASCII=function(c){var l=D.encode(c);return w(l)},T.decodeASCII=function(c){var l=R(c);return D.decode(l)},T.encode=function(c){var l=M_encode(c);return w(l)},T.decode=function(c){var l=R(c);return M_decode(l)},U.decode=T.decode,U.decodeArray=T.decodeArray,U.encode=T.encode,U.encodeASCII=T.encodeASCII},"./externals/cea608-parser.js":function(Ie,U,m){!function(M){"use strict";var T={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},I=function(E){var L=E;return T.hasOwnProperty(E)&&(L=T[E]),String.fromCharCode(L)},w=15,P=32,R={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},D={17:2,18:4,21:6,22:8,23:10,19:13,20:15},c={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(E){this.time=E},log:function(E,L){this.verboseLevel>=this.verboseFilter[E]&&console.log(this.time+" ["+E+"] "+L)}},_=function(E){for(var L=[],G=0;G<E.length;G++)L.push(E[G].toString(16));return L},N=function(E,L,G,ee,Q){this.foreground=E||"white",this.underline=L||!1,this.italics=G||!1,this.background=ee||"black",this.flash=Q||!1};N.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(E){for(var L=["foreground","underline","italics","background","flash"],G=0;G<L.length;G++){var ee=L[G];E.hasOwnProperty(ee)&&(this[ee]=E[ee])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(E){return this.foreground===E.foreground&&this.underline===E.underline&&this.italics===E.italics&&this.background===E.background&&this.flash===E.flash},copy:function(E){this.foreground=E.foreground,this.underline=E.underline,this.italics=E.italics,this.background=E.background,this.flash=E.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var S=function(E,L,G,ee,Q,le){this.uchar=E||" ",this.penState=new N(L,G,ee,Q,le)};S.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(E,L){this.uchar=E,this.penState.copy(L)},setPenState:function(E){this.penState.copy(E)},equals:function(E){return this.uchar===E.uchar&&this.penState.equals(E.penState)},copy:function(E){this.uchar=E.uchar,this.penState.copy(E.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var O=function(){this.chars=[];for(var E=0;E<P;E++)this.chars.push(new S);this.pos=0,this.currPenState=new N};O.prototype={equals:function(E){for(var L=!0,G=0;G<P;G++)if(!this.chars[G].equals(E.chars[G])){L=!1;break}return L},copy:function(E){for(var L=0;L<P;L++)this.chars[L].copy(E.chars[L])},isEmpty:function(){for(var E=!0,L=0;L<P;L++)if(!this.chars[L].isEmpty()){E=!1;break}return E},setCursor:function(E){this.pos!==E&&(this.pos=E),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>P&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=P)},moveCursor:function(E){var L=this.pos+E;if(E>1)for(var G=this.pos+1;G<L+1;G++)this.chars[G].setPenState(this.currPenState);this.setCursor(L)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(E){E>=144&&this.backSpace();var L=I(E);this.pos>=P?f.log("ERROR","Cannot insert "+E.toString(16)+" ("+L+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(L,this.currPenState),this.moveCursor(1))},clearFromPos:function(E){var L;for(L=E;L<P;L++)this.chars[L].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var E=[],L=!0,G=0;G<P;G++){var ee=this.chars[G].uchar;" "!==ee&&(L=!1),E.push(ee)}return L?"":E.join("")},setPenStyles:function(E){this.currPenState.setStyles(E),this.chars[this.pos].setPenState(this.currPenState)}};var b=function(){this.rows=[];for(var E=0;E<w;E++)this.rows.push(new O);this.currRow=14,this.nrRollUpRows=null,this.reset()};b.prototype={reset:function(){for(var E=0;E<w;E++)this.rows[E].clear();this.currRow=14},equals:function(E){for(var L=!0,G=0;G<w;G++)if(!this.rows[G].equals(E.rows[G])){L=!1;break}return L},copy:function(E){for(var L=0;L<w;L++)this.rows[L].copy(E.rows[L])},isEmpty:function(){for(var E=!0,L=0;L<w;L++)if(!this.rows[L].isEmpty()){E=!1;break}return E},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(E){this.rows[this.currRow].insertChar(E)},setPen:function(E){this.rows[this.currRow].setPenStyles(E)},moveCursor:function(E){this.rows[this.currRow].moveCursor(E)},setCursor:function(E){f.log("INFO","setCursor: "+E),this.rows[this.currRow].setCursor(E)},setPAC:function(E){f.log("INFO","pacData = "+JSON.stringify(E));var L=E.row-1;this.nrRollUpRows&&L<this.nrRollUpRows-1&&(L=this.nrRollUpRows-1),this.currRow=L;var G=this.rows[this.currRow];if(null!==E.indent){var Q=Math.max(E.indent-1,0);G.setCursor(E.indent),E.color=G.chars[Q].penState.foreground}this.setPen({foreground:E.color,underline:E.underline,italics:E.italics,background:"black",flash:!1})},setBkgData:function(E){f.log("INFO","bkgData = "+JSON.stringify(E)),this.backSpace(),this.setPen(E),this.insertChar(32)},setRollUpRows:function(E){this.nrRollUpRows=E},rollUp:function(){if(null!==this.nrRollUpRows){f.log("TEXT",this.getDisplayText());var L=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];L.clear(),this.rows.splice(this.currRow,0,L),f.log("INFO","Rolling up")}else f.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(E){E=E||!1;for(var L=[],G="",Q=0;Q<w;Q++){var le=this.rows[Q].getTextString();le&&L.push(E?"Row "+(Q+1)+': "'+le+'"':le.trim())}return L.length>0&&(G=E?"["+L.join(" | ")+"]":L.join("\n")),G},getTextAndFormat:function(){return this.rows}};var v=function(E,L){this.chNr=E,this.outputFilter=L,this.mode=null,this.verbose=0,this.displayedMemory=new b,this.nonDisplayedMemory=new b,this.lastOutputScreen=new b,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};v.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(E){this.outputFilter=E},setPAC:function(E){this.writeScreen.setPAC(E)},setBkgData:function(E){this.writeScreen.setBkgData(E)},setMode:function(E){E!==this.mode&&(this.mode=E,f.log("INFO","MODE="+E),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=E)},insertChars:function(E){for(var L=0;L<E.length;L++)this.writeScreen.insertChar(E[L]);f.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(E){f.log("INFO","RU("+E+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(E)},cc_FON:function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var E=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=E,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(E){f.log("INFO","TO("+E+") - Tab Offset"),this.writeScreen.moveCursor(E)},cc_MIDROW:function(E){var L={flash:!1};if(L.underline=E%2==1,L.italics=E>=46,L.italics)L.foreground="white";else{var G=Math.floor(E/2)-16;L.foreground=["white","green","blue","cyan","red","yellow","magenta"][G]}f.log("INFO","MIDROW: "+JSON.stringify(L)),this.writeScreen.setPen(L)},outputDataUpdate:function(){var E=f.time;null!==E&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(E,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,E,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:E):this.cueStartTime=E,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(E){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,E,this.displayedMemory),this.cueStartTime=E))}};var p=function(E,L,G){this.field=E||1,this.outputs=[L,G],this.channels=[new v(1,L),new v(2,G)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};p.prototype={getHandler:function(E){return this.channels[E].getHandler()},setHandler:function(E,L){this.channels[E].setHandler(L)},addData:function(E,L){var G,ee,Q,le=!1;this.lastTime=E,f.setTime(E);for(var H=0;H<L.length;H+=2)Q=127&L[H+1],(ee=127&L[H])>=16&&ee<=31&&ee===this.lastCmdA&&Q===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+_([ee,Q])+") is dropped")):0!==ee||0!==Q?(f.log("DATA","["+_([L[H],L[H+1]])+"] -> ("+_([ee,Q])+")"),(G=this.parseCmd(ee,Q))||(G=this.parseMidrow(ee,Q)),G||(G=this.parsePAC(ee,Q)),G||(G=this.parseBackgroundAttributes(ee,Q)),!G&&(le=this.parseChars(ee,Q))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(le):f.log("WARNING","No channel found yet. TEXT-MODE?")),G?this.dataCounters.cmd+=2:le?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+_([ee,Q])+" orig: "+_([L[H],L[H+1]])))):this.dataCounters.padding+=2},parseCmd:function(E,L){var G;if(!((20===E||21===E||28===E||29===E)&&32<=L&&L<=47||(23===E||31===E)&&33<=L&&L<=35))return!1;var le=this.channels[(G=20===E||21===E||23===E?1:2)-1];return 20===E||21===E||28===E||29===E?32===L?le.cc_RCL():33===L?le.cc_BS():34===L?le.cc_AOF():35===L?le.cc_AON():36===L?le.cc_DER():37===L?le.cc_RU(2):38===L?le.cc_RU(3):39===L?le.cc_RU(4):40===L?le.cc_FON():41===L?le.cc_RDC():42===L?le.cc_TR():43===L?le.cc_RTD():44===L?le.cc_EDM():45===L?le.cc_CR():46===L?le.cc_ENM():47===L&&le.cc_EOC():le.cc_TO(L-32),this.lastCmdA=E,this.lastCmdB=L,this.currChNr=G,!0},parseMidrow:function(E,L){var G=null;if((17===E||25===E)&&32<=L&&L<=47){if((G=17===E?1:2)!==this.currChNr)return f.log("ERROR","Mismatch channel in midrow parsing"),!1;var ee=this.channels[G-1];return ee.insertChars([32]),ee.cc_MIDROW(L),f.log("DEBUG","MIDROW ("+_([E,L])+")"),this.lastCmdA=E,this.lastCmdB=L,!0}return!1},parsePAC:function(E,L){var G;if(!((17<=E&&E<=23||25<=E&&E<=31)&&64<=L&&L<=127||(16===E||24===E)&&64<=L&&L<=95))return!1;G=E<=23?1:2;var H=this.interpretPAC(64<=L&&L<=95?1===G?R[E]:c[E]:1===G?D[E]:l[E],L);return this.channels[G-1].setPAC(H),this.lastCmdA=E,this.lastCmdB=L,this.currChNr=G,!0},interpretPAC:function(E,L){var G,ee={color:null,italics:!1,indent:null,underline:!1,row:E};return ee.underline=1==(1&(G=L>95?L-96:L-64)),G<=13?ee.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(G/2)]:G<=15?(ee.italics=!0,ee.color="white"):ee.indent=4*Math.floor((G-16)/2),ee},parseChars:function(E,L){var G=null,ee=null,Q=null;if(E>=25?(G=2,Q=E-8):(G=1,Q=E),17<=Q&&Q<=19){var H;f.log("INFO","Special char '"+I(H=17===Q?L+80:18===Q?L+112:L+144)+"' in channel "+G),ee=[H],this.lastCmdA=E,this.lastCmdB=L}else 32<=E&&E<=127&&(ee=0===L?[E]:[E,L],this.lastCmdA=null,this.lastCmdB=null);if(ee){var W=_(ee);f.log("DEBUG","Char codes =  "+W.join(","))}return ee},parseBackgroundAttributes:function(E,L){var G,ee;return!!((16===E||24===E)&&32<=L&&L<=47||(23===E||31===E)&&45<=L&&L<=47)&&(G={},16===E||24===E?(ee=Math.floor((L-32)/2),G.background=d[ee],L%2==1&&(G.background=G.background+"_semi")):45===L?G.background="transparent":(G.foreground="black",47===L&&(G.underline=!0)),this.channels[(E<24?1:2)-1].setBkgData(G),this.lastCmdA=E,this.lastCmdB=L,!0)},reset:function(){for(var E=0;E<this.channels.length;E++)this.channels[E]&&this.channels[E].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(E){for(var L=0;L<this.channels.length;L++)this.channels[L]&&this.channels[L].cueSplitAtTime(E)}};M.logger=f,M.PenState=N,M.CaptionScreen=b,M.Cea608Parser=p,M.findCea608Nalus=function(E,L,G){for(var ee=0,Q=L,H=[],W=function(ve,J,de,ae){if(4!==ve||J<8)return null;var pe=de.getUint8(ae),he=de.getUint16(ae+1),fe=de.getUint32(ae+3),_e=de.getUint8(ae+7);return 181==pe&&49==he&&1195456820==fe&&3==_e};Q<L+G;){if(ee=E.getUint32(Q),6==(31&E.getUint8(Q+4)))for(var x=Q+5,Y=-1;x<Q+4+ee-1;){Y=0;for(var z=255;255===z;)Y+=z=E.getUint8(x),x++;var ie=0;for(z=255;255===z;)ie+=z=E.getUint8(x),x++;W(Y,ie,E,x)&&H.push([x,ie]),x+=ie}Q+=ee+4}return H},M.extractCea608DataFromRange=function(E,L){var G=L[0],ee=[[],[]],Q=31&E.getUint8(G+=8);G+=2;for(var le=0;le<Q;le++){var H=E.getUint8(G),W=4&H,x=3&H;G++;var Y=E.getUint8(G);G++;var z=E.getUint8(G);G++,W&&(127&Y)+(127&z)!=0&&(0===x?(ee[0].push(Y),ee[0].push(z)):1===x&&(ee[1].push(Y),ee[1].push(z)))}return ee}}(U)},"./externals/xml2json.js":function(Ie,U,m){"use strict";m.r(U),U.default=function M(T){T=T||{},function w(){void 0===T.escapeMode&&(T.escapeMode=!0),void 0===T.attributePrefix&&(T.attributePrefix="_"),T.arrayAccessForm=T.arrayAccessForm||"none",T.emptyNodeForm=T.emptyNodeForm||"text",void 0===T.enableToStringFunc&&(T.enableToStringFunc=!0),T.arrayAccessFormPaths=T.arrayAccessFormPaths||[],void 0===T.skipEmptyTextNodesForObj&&(T.skipEmptyTextNodesForObj=!0),void 0===T.stripWhitespaces&&(T.stripWhitespaces=!0),T.datetimeAccessFormPaths=T.datetimeAccessFormPaths||[],void 0===T.useDoubleQuotes&&(T.useDoubleQuotes=!1),T.xmlElementsFilter=T.xmlElementsFilter||[],T.jsonPropertiesFilter=T.jsonPropertiesFilter||[],void 0===T.keepCData&&(T.keepCData=!1),void 0===T.ignoreRoot&&(T.ignoreRoot=!1)}();var P_ELEMENT_NODE=1,P_TEXT_NODE=3,P_CDATA_SECTION_NODE=4,P_COMMENT_NODE=8,P_DOCUMENT_NODE=9;function D(W){var x=W.localName;return null==x&&(x=W.baseName),(null==x||""==x)&&(x=W.nodeName),x}function l(W){return"string"==typeof W?W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):W}function f(W,x,Y,z){for(var ie=0;ie<W.length;ie++){var oe=W[ie];if("string"==typeof oe){if(oe==z)break}else if(oe instanceof RegExp){if(oe.test(z))break}else if("function"==typeof oe&&oe(x,Y,z))break}return ie!=W.length}function _(W,x,Y){"property"===T.arrayAccessForm&&(W[x+"_asArray"]=W[x]instanceof Array?W[x]:[W[x]]),!(W[x]instanceof Array)&&T.arrayAccessFormPaths.length>0&&f(T.arrayAccessFormPaths,W,x,Y)&&(W[x]=[W[x]])}function N(W){var x=W.split(/[-T:+Z]/g),Y=new Date(x[0],x[1]-1,x[2]),z=x[5].split(".");if(Y.setHours(x[3],x[4],z[0]),z.length>1&&Y.setMilliseconds(z[1]),x[6]&&x[7]){var ie=60*x[6]+Number(x[7]);ie=0+("-"==(/\d\d-\d\d:\d\d$/.test(W)?"-":"+")?-1*ie:ie),Y.setMinutes(Y.getMinutes()-ie-Y.getTimezoneOffset())}else-1!==W.indexOf("Z",W.length-1)&&(Y=new Date(Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate(),Y.getHours(),Y.getMinutes(),Y.getSeconds(),Y.getMilliseconds())));return Y}function O(W,x,Y,z){return!(x==P_ELEMENT_NODE&&T.xmlElementsFilter.length>0)||f(T.xmlElementsFilter,W,Y,z)}function b(W,x){if(W.nodeType==P_DOCUMENT_NODE){for(var Y=new Object,z=W.childNodes,ie=0;ie<z.length;ie++)(oe=z[ie]).nodeType==P_ELEMENT_NODE&&(T.ignoreRoot?Y=b(oe):(Y={})[ve=D(oe)]=b(oe));return Y}if(W.nodeType==P_ELEMENT_NODE){(Y=new Object).__cnt=0;var J=[];for(z=W.childNodes,ie=0;ie<z.length;ie++){var oe,ve=D(oe=z[ie]);if(oe.nodeType!=P_COMMENT_NODE){var de=x+"."+ve;if(O(Y,oe.nodeType,ve,de))if(Y.__cnt++,null==Y[ve]){var ae=b(oe,de);("#text"!=ve||/[^\s]/.test(ae))&&((pe={})[ve]=ae,J.push(pe)),Y[ve]=ae,_(Y,ve,de)}else{var pe;null!=Y[ve]&&(Y[ve]instanceof Array||(Y[ve]=[Y[ve]],_(Y,ve,de))),ae=b(oe,de),("#text"!=ve||/[^\s]/.test(ae))&&((pe={})[ve]=ae,J.push(pe)),Y[ve][Y[ve].length]=ae}}}Y.__children=J;for(var he=D(W),fe=0;fe<W.attributes.length;fe++){var _e=W.attributes[fe];Y.__cnt++;for(var se=_e.value,Se=0,ge=T.matchers.length;Se<ge;Se++){var ne=T.matchers[Se];ne.test(_e,he)&&(se=ne.converter(_e.value))}Y[T.attributePrefix+_e.name]=se}var X=function c(W){return W.prefix}(W);return null!=X&&""!=X&&(Y.__cnt++,Y.__prefix=X),null!=Y["#text"]&&(Y.__text=Y["#text"],Y.__text instanceof Array&&(Y.__text=Y.__text.join("\n")),T.stripWhitespaces&&(Y.__text=Y.__text.trim()),delete Y["#text"],"property"==T.arrayAccessForm&&delete Y["#text_asArray"],Y.__text=function S(W,x,Y){if(T.datetimeAccessFormPaths.length>0){var z=Y.split(".#")[0];return f(T.datetimeAccessFormPaths,W,x,z)?N(W):W}return W}(Y.__text,ve,x+"."+ve)),null!=Y["#cdata-section"]&&(Y.__cdata=Y["#cdata-section"],delete Y["#cdata-section"],"property"==T.arrayAccessForm&&delete Y["#cdata-section_asArray"]),0==Y.__cnt&&"text"==T.emptyNodeForm?Y="":1==Y.__cnt&&null!=Y.__text?Y=Y.__text:1!=Y.__cnt||null==Y.__cdata||T.keepCData?Y.__cnt>1&&null!=Y.__text&&T.skipEmptyTextNodesForObj&&(T.stripWhitespaces&&""==Y.__text||""==Y.__text.trim())&&delete Y.__text:Y=Y.__cdata,delete Y.__cnt,T.enableToStringFunc&&(null!=Y.__text||null!=Y.__cdata)&&(Y.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),Y}if(W.nodeType==P_TEXT_NODE||W.nodeType==P_CDATA_SECTION_NODE)return W.nodeValue}function v(W,x,Y,z){var ie="<"+(null!=W&&null!=W.__prefix?W.__prefix+":":"")+x;if(null!=Y)for(var oe=0;oe<Y.length;oe++){var ve=Y[oe],J=W[ve];T.escapeMode&&(J=l(J)),ie+=" "+ve.substr(T.attributePrefix.length)+"=",ie+=T.useDoubleQuotes?'"'+J+'"':"'"+J+"'"}return ie+(z?"/>":">")}function p(W,x){return"</"+(null!=W.__prefix?W.__prefix+":":"")+x+">"}function g(W,x){return!!("property"==T.arrayAccessForm&&function y(W,x){return-1!==W.indexOf(x,W.length-x.length)}(x.toString(),"_asArray")||0==x.toString().indexOf(T.attributePrefix)||0==x.toString().indexOf("__")||W[x]instanceof Function)}function A(W){var x=0;if(W instanceof Object)for(var Y in W)g(W,Y)||x++;return x}function E(W,x,Y){return 0==T.jsonPropertiesFilter.length||""==Y||f(T.jsonPropertiesFilter,W,x,Y)}function L(W){var x=[];if(W instanceof Object)for(var Y in W)-1==Y.toString().indexOf("__")&&0==Y.toString().indexOf(T.attributePrefix)&&x.push(Y);return x}function ee(W){var x="";return W instanceof Object?x+=function G(W){var x="";return null!=W.__cdata&&(x+="<![CDATA["+W.__cdata+"]]>"),null!=W.__text&&(x+=T.escapeMode?l(W.__text):W.__text),x}(W):null!=W&&(x+=T.escapeMode?l(W):W),x}function Q(W,x){return""===W?x:W+"."+x}function le(W,x,Y,z){var ie="";if(0==W.length)ie+=v(W,x,Y,!0);else for(var oe=0;oe<W.length;oe++)ie+=v(W[oe],x,L(W[oe]),!1),ie+=H(W[oe],Q(z,x)),ie+=p(W[oe],x);return ie}function H(W,x){var Y="";if(A(W)>0)for(var ie in W)if(!g(W,ie)&&(""==x||E(W,ie,Q(x,ie)))){var oe=W[ie],ve=L(oe);null==oe||null==oe?Y+=v(oe,ie,ve,!0):oe instanceof Object?oe instanceof Array?Y+=le(oe,ie,ve,x):oe instanceof Date?(Y+=v(oe,ie,ve,!1),Y+=oe.toISOString(),Y+=p(oe,ie)):A(oe)>0||null!=oe.__text||null!=oe.__cdata?(Y+=v(oe,ie,ve,!1),Y+=H(oe,Q(x,ie)),Y+=p(oe,ie)):Y+=v(oe,ie,ve,!0):(Y+=v(oe,ie,ve,!1),Y+=ee(oe),Y+=p(oe,ie))}return Y+ee(W)}this.parseXmlString=function(W){var Y;if(window.ActiveXObject||window,void 0===W)return null;if(window.DOMParser){var z=new window.DOMParser;try{(Y=z.parseFromString(W,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(Y=null)}catch{Y=null}}else 0==W.indexOf("<?")&&(W=W.substr(W.indexOf("?>")+2)),(Y=new ActiveXObject("Microsoft.XMLDOM")).async="false",Y.loadXML(W);return Y},this.asArray=function(W){return void 0===W||null==W?[]:W instanceof Array?W:[W]},this.toXmlDateTime=function(W){return W instanceof Date?W.toISOString():"number"==typeof W?new Date(W).toISOString():null},this.asDateTime=function(W){return"string"==typeof W?N(W):W},this.xml2json=function(W){return b(W)},this.xml_str2json=function(W){var x=this.parseXmlString(W);return null!=x?this.xml2json(x):null},this.json2xml_str=function(W){return H(W,"")},this.json2xml=function(W){var x=this.json2xml_str(W);return this.parseXmlString(x)},this.getVersion=function(){return"1.2.0"}}},"./index.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./index_mediaplayerOnly.js");m.d(U,"MediaPlayer",function(){return M.MediaPlayer});var T=m("./src/streaming/utils/Capabilities.js");m.d(U,"supportsMediaSource",function(){return T.supportsMediaSource});var I=m("./src/streaming/metrics/MetricsReporting.js");m.d(U,"MetricsReporting",function(){return I.default});var w=m("./src/streaming/protection/Protection.js");m.d(U,"Protection",function(){return w.default});var P=m("./src/streaming/MediaPlayerFactory.js");m.d(U,"MediaPlayerFactory",function(){return P.default});var R=m("./src/core/Debug.js");m.d(U,"Debug",function(){return R.default}),dashjs.Protection=w.default,dashjs.MetricsReporting=I.default,dashjs.MediaPlayerFactory=P.default,dashjs.Debug=R.default,dashjs.supportsMediaSource=T.supportsMediaSource,U.default=dashjs},"./index_mediaplayerOnly.js":function(Ie,U,m){"use strict";m.r(U),function(M){var T=m("./src/streaming/MediaPlayer.js");m.d(U,"MediaPlayer",function(){return T.default});var I=m("./src/core/FactoryMaker.js");m.d(U,"FactoryMaker",function(){return I.default});var w=m("./src/core/Debug.js");m.d(U,"Debug",function(){return w.default});var P=m("./src/core/Version.js"),c=(m("./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||M),l=c.dashjs;l||(l=c.dashjs={}),l.MediaPlayer=T.default,l.FactoryMaker=I.default,l.Debug=w.default,l.Version=Object(P.getVersionString)(),U.default=l}.call(this,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":function(Ie,U,m){"use strict";U.byteLength=function c(S){var O=D(S),v=O[1];return 3*(O[0]+v)/4-v},U.toByteArray=function d(S){var O,E,b=D(S),v=b[0],p=b[1],y=new I(function l(S,O,b){return 3*(O+b)/4-b}(0,v,p)),g=0,A=p>0?v-4:v;for(E=0;E<A;E+=4)O=T[S.charCodeAt(E)]<<18|T[S.charCodeAt(E+1)]<<12|T[S.charCodeAt(E+2)]<<6|T[S.charCodeAt(E+3)],y[g++]=O>>16&255,y[g++]=O>>8&255,y[g++]=255&O;return 2===p&&(O=T[S.charCodeAt(E)]<<2|T[S.charCodeAt(E+1)]>>4,y[g++]=255&O),1===p&&(O=T[S.charCodeAt(E)]<<10|T[S.charCodeAt(E+1)]<<4|T[S.charCodeAt(E+2)]>>2,y[g++]=O>>8&255,y[g++]=255&O),y},U.fromByteArray=function N(S){for(var O,b=S.length,v=b%3,p=[],y=16383,g=0,A=b-v;g<A;g+=y)p.push(_(S,g,g+y>A?A:g+y));return 1===v?p.push(M[(O=S[b-1])>>2]+M[O<<4&63]+"=="):2===v&&p.push(M[(O=(S[b-2]<<8)+S[b-1])>>10]+M[O>>4&63]+M[O<<2&63]+"="),p.join("")};for(var M=[],T=[],I=typeof Uint8Array<"u"?Uint8Array:Array,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=0,R=w.length;P<R;++P)M[P]=w[P],T[w.charCodeAt(P)]=P;function D(S){var O=S.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=S.indexOf("=");return-1===b&&(b=O),[b,b===O?0:4-b%4]}function f(S){return M[S>>18&63]+M[S>>12&63]+M[S>>6&63]+M[63&S]}function _(S,O,b){for(var p=[],y=O;y<b;y+=3)p.push(f((S[y]<<16&16711680)+(S[y+1]<<8&65280)+(255&S[y+2])));return p.join("")}T["-".charCodeAt(0)]=62,T["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":function(Ie,U,m){"use strict";function w(R,D){return function c(l,d){for(var O,b,v,f=P(l,"tag"),_=P(d??"*","range"),N=[],S=-1;++S<_.length;)if(O=_[S].toLowerCase(),D||"*"!==O){for(b=-1,v=[];++b<f.length;)if(R(f[b].toLowerCase(),O)){if(!D)return f[b];N.push(f[b])}else v.push(f[b]);f=v}return D?N:void 0}}function P(R,D){var c=R&&"string"==typeof R?[R]:R;if(!c||"object"!=typeof c||!("length"in c))throw new Error("Invalid "+D+" `"+c+"`, expected non-empty string");return c}U.basicFilter=w(function M(R,D){return"*"===D||R===D||R.indexOf(D+"-")>-1},!0),U.extendedFilter=w(function T(R,D){var c=R.split("-"),l=D.split("-"),d=0,f=0;if("*"!==l[f]&&c[d]!==l[f])return!1;for(d++,f++;f<l.length;)if("*"!==l[f]){if(!c[d])return!1;if(c[d]!==l[f]){if(1===c[d].length)return!1;d++}else d++,f++}else f++;return!0},!0),U.lookup=w(function I(R,D){for(var l,c=D;;){if("*"===c||R===c)return!0;if((l=c.lastIndexOf("-"))<0)return!1;"-"===c.charAt(l-2)&&(l-=2),c=c.slice(0,l)}})},"./node_modules/bcp-47-normalize/index.js":function(Ie,U,m){"use strict";Ie.exports=m("./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":function(Ie){Ie.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":function(Ie){Ie.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":function(Ie,U,m){"use strict";var M=m("./node_modules/bcp-47/index.js"),T=m("./node_modules/bcp-47-match/index.js"),I=m("./node_modules/bcp-47-normalize/lib/matches.json"),w=m("./node_modules/bcp-47-normalize/lib/fields.json"),P=m("./node_modules/bcp-47-normalize/lib/defaults.json"),R=m("./node_modules/bcp-47-normalize/lib/many.json");Ie.exports=function d(O,b){var A,v=b||{},p=M.parse(String(O||"").toLowerCase(),v),y=M.stringify(p),g=-1;if(!y)return y;for(;++g<I.length;)T.extendedFilter(y,I[g].from).length&&(f(p,I[g].from,I[g].to),y=M.stringify(p));for(g=-1;++g<w.length;)_(p,w[g].from.field,w[g].from.value)&&N(p,w[g].to.field,w[g].to.value);for(y=M.stringify(Object.assign({},p,l)),g=-1;++g<P.length;)y===P[g]&&(f(p,P[g],P[g].split("-").slice(0,-1).join("-")),y=M.stringify(Object.assign({},p,l)));if(p.extensions.sort(S),v.warning)for(A in R)D.call(R[A],p[A])&&v.warning("Deprecated "+A+" `"+p[A]+"`, expected one of `"+R[A][p[A]].join("`, `")+"`",null,7);return p.script&&(p.script=p.script.charAt(0).toUpperCase()+p.script.slice(1)),p.region&&(p.region=p.region.toUpperCase()),M.stringify(p)};var D={}.hasOwnProperty,c=new Intl.Collator,l={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function f(O,b,v){var A,p=M.parse(b),y=M.parse(v),g=[];for(A in p)p[A]&&p[A].length&&_(O,A,p[A])&&g.push(A);for(A in y)y[A]&&y[A].length&&(g.indexOf(A)>-1||!O[A]||!O[A].length)&&N(O,A,y[A])}function _(O,b,v){var y,g,A,E,p=!1;if(v){if(g=y=O[b],y&&"object"==typeof y)for(g=[],A=-1;++A<y.length;)v.indexOf(E=y[A])<0?g.push(E):p=!0;else y===v&&(g=null,p=!0);O[b]=g}return p}function N(O,b,v){var y,g,A,p=O[b];if(p&&"object"==typeof p)for(y=[].concat(v),g=-1;++g<y.length;)p.indexOf(A=y[g])<0&&p.push(A);else O[b]=v}function S(O,b){return c.compare(O.singleton,b.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":function(Ie){Ie.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":function(Ie){Ie.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":function(Ie,U,m){"use strict";U.parse=m("./node_modules/bcp-47/lib/parse.js"),U.stringify=m("./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":function(Ie){Ie.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":function(Ie,U,m){"use strict";var M=m("./node_modules/is-alphanumerical/index.js"),T=m("./node_modules/is-alphabetical/index.js"),I=m("./node_modules/is-decimal/index.js"),w=m("./node_modules/bcp-47/lib/regular.json"),P=m("./node_modules/bcp-47/lib/normalize.json");Ie.exports=function D(l,d){var b,v,p,f=d||{},_={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},N=String(l),S=N.toLowerCase(),O=0;if(null==l)throw new Error("Expected string, got `"+l+"`");if(R.call(P,S))return(null==f.normalize||f.normalize)&&P[S]?D(P[S]):(_[-1===w.indexOf(S)?"irregular":"regular"]=N,_);for(;T(S.charCodeAt(O))&&O<9;)O++;if(O>1&&O<9){if(_.language=N.slice(0,O),O<4)for(v=0;45===S.charCodeAt(O)&&T(S.charCodeAt(O+1))&&T(S.charCodeAt(O+2))&&T(S.charCodeAt(O+3))&&!T(S.charCodeAt(O+4));){if(v>2)return y(O,3,"Too many extended language subtags, expected at most 3 subtags");_.extendedLanguageSubtags.push(N.slice(O+1,O+4)),O+=4,v++}for(45===S.charCodeAt(O)&&T(S.charCodeAt(O+1))&&T(S.charCodeAt(O+2))&&T(S.charCodeAt(O+3))&&T(S.charCodeAt(O+4))&&!T(S.charCodeAt(O+5))&&(_.script=N.slice(O+1,O+5),O+=5),45===S.charCodeAt(O)&&(T(S.charCodeAt(O+1))&&T(S.charCodeAt(O+2))&&!T(S.charCodeAt(O+3))?(_.region=N.slice(O+1,O+3),O+=3):I(S.charCodeAt(O+1))&&I(S.charCodeAt(O+2))&&I(S.charCodeAt(O+3))&&!I(S.charCodeAt(O+4))&&(_.region=N.slice(O+1,O+4),O+=4));45===S.charCodeAt(O);){for(p=b=O+1;M(S.charCodeAt(p));){if(p-b>7)return y(p,1,"Too long variant, expected at most 8 characters");p++}if(!(p-b>4||p-b>3&&I(S.charCodeAt(b))))break;_.variants.push(N.slice(b,p)),O=p}for(;45===S.charCodeAt(O)&&120!==S.charCodeAt(O+1)&&M(S.charCodeAt(O+1))&&45===S.charCodeAt(O+2)&&M(S.charCodeAt(O+3));){for(p=O+2,v=0;45===S.charCodeAt(p)&&M(S.charCodeAt(p+1))&&M(S.charCodeAt(p+2));)for(p=(b=p+1)+2,v++;M(S.charCodeAt(p));){if(p-b>7)return y(p,2,"Too long extension, expected at most 8 characters");p++}if(!v)return y(p,4,"Empty extension, extensions must have at least 2 characters of content");_.extensions.push({singleton:N.charAt(O+1),extensions:N.slice(O+3,p).split("-")}),O=p}}else O=0;if(0===O&&120===S.charCodeAt(O)||45===S.charCodeAt(O)&&120===S.charCodeAt(O+1))for(p=O=O?O+2:1;45===S.charCodeAt(p)&&M(S.charCodeAt(p+1));){for(p=b=O+1;M(S.charCodeAt(p));){if(p-b>7)return y(p,5,"Too long private-use area, expected at most 8 characters");p++}_.privateuse.push(N.slice(O+1,p)),O=p}return O!==N.length?y(O,6,"Found superfluous content after tag"):_;function y(g,A,E){return f.warning&&f.warning(E,A,g),f.forgiving?_:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var R={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":function(Ie){Ie.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":function(Ie,U,m){"use strict";Ie.exports=function M(T){var P,R,D,I=T||{},w=[];if(I.irregular||I.regular)return I.irregular||I.regular;if(I.language)for(w=w.concat(I.language,I.extendedLanguageSubtags||[],I.script||[],I.region||[],I.variants||[]),P=I.extensions||[],R=-1;++R<P.length;)(D=P[R]).singleton&&D.extensions&&D.extensions.length&&(w=w.concat(D.singleton,D.extensions));return I.privateuse&&I.privateuse.length&&(w=w.concat("x",I.privateuse)),w.join("-")}},"./node_modules/buffer/index.js":function(Ie,U,m){"use strict";(function(M){var T=m("./node_modules/base64-js/index.js"),I=m("./node_modules/ieee754/index.js"),w=m("./node_modules/isarray/index.js");function R(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(q,K){if(R()<K)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(q=new Uint8Array(K)).__proto__=c.prototype:(null===q&&(q=new c(K)),q.length=K),q}function c(q,K,j){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(q,K,j);if("number"==typeof q){if("string"==typeof K)throw new Error("If encoding is specified then the first argument must be a string");return _(this,q)}return l(this,q,K,j)}function l(q,K,j,$){if("number"==typeof K)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&K instanceof ArrayBuffer?function O(q,K,j,$){if(j<0||K.byteLength<j)throw new RangeError("'offset' is out of bounds");if(K.byteLength<j+($||0))throw new RangeError("'length' is out of bounds");return K=void 0===j&&void 0===$?new Uint8Array(K):void 0===$?new Uint8Array(K,j):new Uint8Array(K,j,$),c.TYPED_ARRAY_SUPPORT?(q=K).__proto__=c.prototype:q=S(q,K),q}(q,K,j,$):"string"==typeof K?function N(q,K,j){if(("string"!=typeof j||""===j)&&(j="utf8"),!c.isEncoding(j))throw new TypeError('"encoding" must be a valid string encoding');var $=0|y(K,j),ce=(q=D(q,$)).write(K,j);return ce!==$&&(q=q.slice(0,ce)),q}(q,K,j):function b(q,K){if(c.isBuffer(K)){var j=0|v(K.length);return 0===(q=D(q,j)).length||K.copy(q,0,0,j),q}if(K){if(typeof ArrayBuffer<"u"&&K.buffer instanceof ArrayBuffer||"length"in K)return"number"!=typeof K.length||function Ee(q){return q!=q}(K.length)?D(q,0):S(q,K);if("Buffer"===K.type&&w(K.data))return S(q,K.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(q,K)}function d(q){if("number"!=typeof q)throw new TypeError('"size" argument must be a number');if(q<0)throw new RangeError('"size" argument must not be negative')}function _(q,K){if(d(K),q=D(q,K<0?0:0|v(K)),!c.TYPED_ARRAY_SUPPORT)for(var j=0;j<K;++j)q[j]=0;return q}function S(q,K){var j=K.length<0?0:0|v(K.length);q=D(q,j);for(var $=0;$<j;$+=1)q[$]=255&K[$];return q}function v(q){if(q>=R())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R().toString(16)+" bytes");return 0|q}function y(q,K){if(c.isBuffer(q))return q.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(q)||q instanceof ArrayBuffer))return q.byteLength;"string"!=typeof q&&(q=""+q);var j=q.length;if(0===j)return 0;for(var $=!1;;)switch(K){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return V(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return te(q).length;default:if($)return V(q).length;K=(""+K).toLowerCase(),$=!0}}function g(q,K,j){var $=!1;if((void 0===K||K<0)&&(K=0),K>this.length||((void 0===j||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(K>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return J(this,K,j);case"utf8":case"utf-8":return Y(this,K,j);case"ascii":return oe(this,K,j);case"latin1":case"binary":return ve(this,K,j);case"base64":return x(this,K,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,K,j);default:if($)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),$=!0}}function A(q,K,j){var $=q[K];q[K]=q[j],q[j]=$}function E(q,K,j,$,ce){if(0===q.length)return-1;if("string"==typeof j?($=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,isNaN(j)&&(j=ce?0:q.length-1),j<0&&(j=q.length+j),j>=q.length){if(ce)return-1;j=q.length-1}else if(j<0){if(!ce)return-1;j=0}if("string"==typeof K&&(K=c.from(K,$)),c.isBuffer(K))return 0===K.length?-1:L(q,K,j,$,ce);if("number"==typeof K)return K&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ce?Uint8Array.prototype.indexOf.call(q,K,j):Uint8Array.prototype.lastIndexOf.call(q,K,j):L(q,[K],j,$,ce);throw new TypeError("val must be string, number or Buffer")}function L(q,K,j,$,ce){var we,ue=1,be=q.length,Re=K.length;if(void 0!==$&&("ucs2"===($=String($).toLowerCase())||"ucs-2"===$||"utf16le"===$||"utf-16le"===$)){if(q.length<2||K.length<2)return-1;ue=2,be/=2,Re/=2,j/=2}function Pe(Ge,Le){return 1===ue?Ge[Le]:Ge.readUInt16BE(Le*ue)}if(ce){var Ue=-1;for(we=j;we<be;we++)if(Pe(q,we)===Pe(K,-1===Ue?0:we-Ue)){if(-1===Ue&&(Ue=we),we-Ue+1===Re)return Ue*ue}else-1!==Ue&&(we-=we-Ue),Ue=-1}else for(j+Re>be&&(j=be-Re),we=j;we>=0;we--){for(var Ce=!0,Oe=0;Oe<Re;Oe++)if(Pe(q,we+Oe)!==Pe(K,Oe)){Ce=!1;break}if(Ce)return we}return-1}function G(q,K,j,$){j=Number(j)||0;var ce=q.length-j;$?($=Number($))>ce&&($=ce):$=ce;var ue=K.length;if(ue%2!=0)throw new TypeError("Invalid hex string");$>ue/2&&($=ue/2);for(var be=0;be<$;++be){var Re=parseInt(K.substr(2*be,2),16);if(isNaN(Re))return be;q[j+be]=Re}return be}function ee(q,K,j,$){return me(V(K,q.length-j),q,j,$)}function Q(q,K,j,$){return me(function re(q){for(var K=[],j=0;j<q.length;++j)K.push(255&q.charCodeAt(j));return K}(K),q,j,$)}function le(q,K,j,$){return Q(q,K,j,$)}function H(q,K,j,$){return me(te(K),q,j,$)}function W(q,K,j,$){return me(function k(q,K){for(var j,$,ue=[],be=0;be<q.length&&!((K-=2)<0);++be)$=(j=q.charCodeAt(be))>>8,ue.push(j%256),ue.push($);return ue}(K,q.length-j),q,j,$)}function x(q,K,j){return T.fromByteArray(0===K&&j===q.length?q:q.slice(K,j))}function Y(q,K,j){j=Math.min(q.length,j);for(var $=[],ce=K;ce<j;){var Pe,we,Ue,Ce,ue=q[ce],be=null,Re=ue>239?4:ue>223?3:ue>191?2:1;if(ce+Re<=j)switch(Re){case 1:ue<128&&(be=ue);break;case 2:128==(192&(Pe=q[ce+1]))&&(Ce=(31&ue)<<6|63&Pe)>127&&(be=Ce);break;case 3:we=q[ce+2],128==(192&(Pe=q[ce+1]))&&128==(192&we)&&(Ce=(15&ue)<<12|(63&Pe)<<6|63&we)>2047&&(Ce<55296||Ce>57343)&&(be=Ce);break;case 4:we=q[ce+2],Ue=q[ce+3],128==(192&(Pe=q[ce+1]))&&128==(192&we)&&128==(192&Ue)&&(Ce=(15&ue)<<18|(63&Pe)<<12|(63&we)<<6|63&Ue)>65535&&Ce<1114112&&(be=Ce)}null===be?(be=65533,Re=1):be>65535&&($.push((be-=65536)>>>10&1023|55296),be=56320|1023&be),$.push(be),ce+=Re}return function ie(q){var K=q.length;if(K<=z)return String.fromCharCode.apply(String,q);for(var j="",$=0;$<K;)j+=String.fromCharCode.apply(String,q.slice($,$+=z));return j}($)}U.Buffer=c,U.SlowBuffer=function p(q){return+q!=q&&(q=0),c.alloc(+q)},U.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==M.TYPED_ARRAY_SUPPORT?M.TYPED_ARRAY_SUPPORT:function P(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===q.foo()&&"function"==typeof q.subarray&&0===q.subarray(1,1).byteLength}catch{return!1}}(),U.kMaxLength=R(),c.poolSize=8192,c._augment=function(q){return q.__proto__=c.prototype,q},c.from=function(q,K,j){return l(null,q,K,j)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(q,K,j){return function f(q,K,j,$){return d(K),K<=0?D(q,K):void 0!==j?"string"==typeof $?D(q,K).fill(j,$):D(q,K).fill(j):D(q,K)}(null,q,K,j)},c.allocUnsafe=function(q){return _(null,q)},c.allocUnsafeSlow=function(q){return _(null,q)},c.isBuffer=function(K){return!(null==K||!K._isBuffer)},c.compare=function(K,j){if(!c.isBuffer(K)||!c.isBuffer(j))throw new TypeError("Arguments must be Buffers");if(K===j)return 0;for(var $=K.length,ce=j.length,ue=0,be=Math.min($,ce);ue<be;++ue)if(K[ue]!==j[ue]){$=K[ue],ce=j[ue];break}return $<ce?-1:ce<$?1:0},c.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(K,j){if(!w(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return c.alloc(0);var $;if(void 0===j)for(j=0,$=0;$<K.length;++$)j+=K[$].length;var ce=c.allocUnsafe(j),ue=0;for($=0;$<K.length;++$){var be=K[$];if(!c.isBuffer(be))throw new TypeError('"list" argument must be an Array of Buffers');be.copy(ce,ue),ue+=be.length}return ce},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<K;j+=2)A(this,j,j+1);return this},c.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<K;j+=4)A(this,j,j+3),A(this,j+1,j+2);return this},c.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<K;j+=8)A(this,j,j+7),A(this,j+1,j+6),A(this,j+2,j+5),A(this,j+3,j+4);return this},c.prototype.toString=function(){var K=0|this.length;return 0===K?"":0===arguments.length?Y(this,0,K):g.apply(this,arguments)},c.prototype.equals=function(K){if(!c.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K||0===c.compare(this,K)},c.prototype.inspect=function(){var K="",j=U.INSPECT_MAX_BYTES;return this.length>0&&(K=this.toString("hex",0,j).match(/.{2}/g).join(" "),this.length>j&&(K+=" ... ")),"<Buffer "+K+">"},c.prototype.compare=function(K,j,$,ce,ue){if(!c.isBuffer(K))throw new TypeError("Argument must be a Buffer");if(void 0===j&&(j=0),void 0===$&&($=K?K.length:0),void 0===ce&&(ce=0),void 0===ue&&(ue=this.length),j<0||$>K.length||ce<0||ue>this.length)throw new RangeError("out of range index");if(ce>=ue&&j>=$)return 0;if(ce>=ue)return-1;if(j>=$)return 1;if(this===K)return 0;for(var be=(ue>>>=0)-(ce>>>=0),Re=($>>>=0)-(j>>>=0),Pe=Math.min(be,Re),we=this.slice(ce,ue),Ue=K.slice(j,$),Ce=0;Ce<Pe;++Ce)if(we[Ce]!==Ue[Ce]){be=we[Ce],Re=Ue[Ce];break}return be<Re?-1:Re<be?1:0},c.prototype.includes=function(K,j,$){return-1!==this.indexOf(K,j,$)},c.prototype.indexOf=function(K,j,$){return E(this,K,j,$,!0)},c.prototype.lastIndexOf=function(K,j,$){return E(this,K,j,$,!1)},c.prototype.write=function(K,j,$,ce){if(void 0===j)ce="utf8",$=this.length,j=0;else if(void 0===$&&"string"==typeof j)ce=j,$=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j|=0,isFinite($)?($|=0,void 0===ce&&(ce="utf8")):(ce=$,$=void 0)}var ue=this.length-j;if((void 0===$||$>ue)&&($=ue),K.length>0&&($<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");for(var be=!1;;)switch(ce){case"hex":return G(this,K,j,$);case"utf8":case"utf-8":return ee(this,K,j,$);case"ascii":return Q(this,K,j,$);case"latin1":case"binary":return le(this,K,j,$);case"base64":return H(this,K,j,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,K,j,$);default:if(be)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),be=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var z=4096;function oe(q,K,j){var $="";j=Math.min(q.length,j);for(var ce=K;ce<j;++ce)$+=String.fromCharCode(127&q[ce]);return $}function ve(q,K,j){var $="";j=Math.min(q.length,j);for(var ce=K;ce<j;++ce)$+=String.fromCharCode(q[ce]);return $}function J(q,K,j){var $=q.length;(!K||K<0)&&(K=0),(!j||j<0||j>$)&&(j=$);for(var ce="",ue=K;ue<j;++ue)ce+=F(q[ue]);return ce}function de(q,K,j){for(var $=q.slice(K,j),ce="",ue=0;ue<$.length;ue+=2)ce+=String.fromCharCode($[ue]+256*$[ue+1]);return ce}function ae(q,K,j){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+K>j)throw new RangeError("Trying to access beyond buffer length")}function pe(q,K,j,$,ce,ue){if(!c.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>ce||K<ue)throw new RangeError('"value" argument is out of bounds');if(j+$>q.length)throw new RangeError("Index out of range")}function he(q,K,j,$){K<0&&(K=65535+K+1);for(var ce=0,ue=Math.min(q.length-j,2);ce<ue;++ce)q[j+ce]=(K&255<<8*($?ce:1-ce))>>>8*($?ce:1-ce)}function fe(q,K,j,$){K<0&&(K=4294967295+K+1);for(var ce=0,ue=Math.min(q.length-j,4);ce<ue;++ce)q[j+ce]=K>>>8*($?ce:3-ce)&255}function _e(q,K,j,$,ce,ue){if(j+$>q.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function se(q,K,j,$,ce){return ce||_e(q,0,j,4),I.write(q,K,j,$,23,4),j+4}function Se(q,K,j,$,ce){return ce||_e(q,0,j,8),I.write(q,K,j,$,52,8),j+8}c.prototype.slice=function(K,j){var ce,$=this.length;if((K=~~K)<0?(K+=$)<0&&(K=0):K>$&&(K=$),(j=void 0===j?$:~~j)<0?(j+=$)<0&&(j=0):j>$&&(j=$),j<K&&(j=K),c.TYPED_ARRAY_SUPPORT)(ce=this.subarray(K,j)).__proto__=c.prototype;else{var ue=j-K;ce=new c(ue,void 0);for(var be=0;be<ue;++be)ce[be]=this[be+K]}return ce},c.prototype.readUIntLE=function(K,j,$){K|=0,j|=0,$||ae(K,j,this.length);for(var ce=this[K],ue=1,be=0;++be<j&&(ue*=256);)ce+=this[K+be]*ue;return ce},c.prototype.readUIntBE=function(K,j,$){K|=0,j|=0,$||ae(K,j,this.length);for(var ce=this[K+--j],ue=1;j>0&&(ue*=256);)ce+=this[K+--j]*ue;return ce},c.prototype.readUInt8=function(K,j){return j||ae(K,1,this.length),this[K]},c.prototype.readUInt16LE=function(K,j){return j||ae(K,2,this.length),this[K]|this[K+1]<<8},c.prototype.readUInt16BE=function(K,j){return j||ae(K,2,this.length),this[K]<<8|this[K+1]},c.prototype.readUInt32LE=function(K,j){return j||ae(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},c.prototype.readUInt32BE=function(K,j){return j||ae(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},c.prototype.readIntLE=function(K,j,$){K|=0,j|=0,$||ae(K,j,this.length);for(var ce=this[K],ue=1,be=0;++be<j&&(ue*=256);)ce+=this[K+be]*ue;return ce>=(ue*=128)&&(ce-=Math.pow(2,8*j)),ce},c.prototype.readIntBE=function(K,j,$){K|=0,j|=0,$||ae(K,j,this.length);for(var ce=j,ue=1,be=this[K+--ce];ce>0&&(ue*=256);)be+=this[K+--ce]*ue;return be>=(ue*=128)&&(be-=Math.pow(2,8*j)),be},c.prototype.readInt8=function(K,j){return j||ae(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},c.prototype.readInt16LE=function(K,j){j||ae(K,2,this.length);var $=this[K]|this[K+1]<<8;return 32768&$?4294901760|$:$},c.prototype.readInt16BE=function(K,j){j||ae(K,2,this.length);var $=this[K+1]|this[K]<<8;return 32768&$?4294901760|$:$},c.prototype.readInt32LE=function(K,j){return j||ae(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},c.prototype.readInt32BE=function(K,j){return j||ae(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},c.prototype.readFloatLE=function(K,j){return j||ae(K,4,this.length),I.read(this,K,!0,23,4)},c.prototype.readFloatBE=function(K,j){return j||ae(K,4,this.length),I.read(this,K,!1,23,4)},c.prototype.readDoubleLE=function(K,j){return j||ae(K,8,this.length),I.read(this,K,!0,52,8)},c.prototype.readDoubleBE=function(K,j){return j||ae(K,8,this.length),I.read(this,K,!1,52,8)},c.prototype.writeUIntLE=function(K,j,$,ce){K=+K,j|=0,$|=0,ce||pe(this,K,j,$,Math.pow(2,8*$)-1,0);var be=1,Re=0;for(this[j]=255&K;++Re<$&&(be*=256);)this[j+Re]=K/be&255;return j+$},c.prototype.writeUIntBE=function(K,j,$,ce){K=+K,j|=0,$|=0,ce||pe(this,K,j,$,Math.pow(2,8*$)-1,0);var be=$-1,Re=1;for(this[j+be]=255&K;--be>=0&&(Re*=256);)this[j+be]=K/Re&255;return j+$},c.prototype.writeUInt8=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,1,255,0),c.TYPED_ARRAY_SUPPORT||(K=Math.floor(K)),this[j]=255&K,j+1},c.prototype.writeUInt16LE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[j]=255&K,this[j+1]=K>>>8):he(this,K,j,!0),j+2},c.prototype.writeUInt16BE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[j]=K>>>8,this[j+1]=255&K):he(this,K,j,!1),j+2},c.prototype.writeUInt32LE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[j+3]=K>>>24,this[j+2]=K>>>16,this[j+1]=K>>>8,this[j]=255&K):fe(this,K,j,!0),j+4},c.prototype.writeUInt32BE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[j]=K>>>24,this[j+1]=K>>>16,this[j+2]=K>>>8,this[j+3]=255&K):fe(this,K,j,!1),j+4},c.prototype.writeIntLE=function(K,j,$,ce){if(K=+K,j|=0,!ce){var ue=Math.pow(2,8*$-1);pe(this,K,j,$,ue-1,-ue)}var be=0,Re=1,Pe=0;for(this[j]=255&K;++be<$&&(Re*=256);)K<0&&0===Pe&&0!==this[j+be-1]&&(Pe=1),this[j+be]=(K/Re>>0)-Pe&255;return j+$},c.prototype.writeIntBE=function(K,j,$,ce){if(K=+K,j|=0,!ce){var ue=Math.pow(2,8*$-1);pe(this,K,j,$,ue-1,-ue)}var be=$-1,Re=1,Pe=0;for(this[j+be]=255&K;--be>=0&&(Re*=256);)K<0&&0===Pe&&0!==this[j+be+1]&&(Pe=1),this[j+be]=(K/Re>>0)-Pe&255;return j+$},c.prototype.writeInt8=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,1,127,-128),c.TYPED_ARRAY_SUPPORT||(K=Math.floor(K)),K<0&&(K=255+K+1),this[j]=255&K,j+1},c.prototype.writeInt16LE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[j]=255&K,this[j+1]=K>>>8):he(this,K,j,!0),j+2},c.prototype.writeInt16BE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[j]=K>>>8,this[j+1]=255&K):he(this,K,j,!1),j+2},c.prototype.writeInt32LE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[j]=255&K,this[j+1]=K>>>8,this[j+2]=K>>>16,this[j+3]=K>>>24):fe(this,K,j,!0),j+4},c.prototype.writeInt32BE=function(K,j,$){return K=+K,j|=0,$||pe(this,K,j,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),c.TYPED_ARRAY_SUPPORT?(this[j]=K>>>24,this[j+1]=K>>>16,this[j+2]=K>>>8,this[j+3]=255&K):fe(this,K,j,!1),j+4},c.prototype.writeFloatLE=function(K,j,$){return se(this,K,j,!0,$)},c.prototype.writeFloatBE=function(K,j,$){return se(this,K,j,!1,$)},c.prototype.writeDoubleLE=function(K,j,$){return Se(this,K,j,!0,$)},c.prototype.writeDoubleBE=function(K,j,$){return Se(this,K,j,!1,$)},c.prototype.copy=function(K,j,$,ce){if($||($=0),!ce&&0!==ce&&(ce=this.length),j>=K.length&&(j=K.length),j||(j=0),ce>0&&ce<$&&(ce=$),ce===$||0===K.length||0===this.length)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("sourceStart out of bounds");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),K.length-j<ce-$&&(ce=K.length-j+$);var be,ue=ce-$;if(this===K&&$<j&&j<ce)for(be=ue-1;be>=0;--be)K[be+j]=this[be+$];else if(ue<1e3||!c.TYPED_ARRAY_SUPPORT)for(be=0;be<ue;++be)K[be+j]=this[be+$];else Uint8Array.prototype.set.call(K,this.subarray($,$+ue),j);return ue},c.prototype.fill=function(K,j,$,ce){if("string"==typeof K){if("string"==typeof j?(ce=j,j=0,$=this.length):"string"==typeof $&&(ce=$,$=this.length),1===K.length){var ue=K.charCodeAt(0);ue<256&&(K=ue)}if(void 0!==ce&&"string"!=typeof ce)throw new TypeError("encoding must be a string");if("string"==typeof ce&&!c.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce)}else"number"==typeof K&&(K&=255);if(j<0||this.length<j||this.length<$)throw new RangeError("Out of range index");if($<=j)return this;var be;if(j>>>=0,$=void 0===$?this.length:$>>>0,K||(K=0),"number"==typeof K)for(be=j;be<$;++be)this[be]=K;else{var Re=c.isBuffer(K)?K:V(new c(K,ce).toString()),Pe=Re.length;for(be=0;be<$-j;++be)this[be+j]=Re[be%Pe]}return this};var ge=/[^+\/0-9A-Za-z-_]/g;function F(q){return q<16?"0"+q.toString(16):q.toString(16)}function V(q,K){K=K||1/0;for(var j,$=q.length,ce=null,ue=[],be=0;be<$;++be){if((j=q.charCodeAt(be))>55295&&j<57344){if(!ce){if(j>56319){(K-=3)>-1&&ue.push(239,191,189);continue}if(be+1===$){(K-=3)>-1&&ue.push(239,191,189);continue}ce=j;continue}if(j<56320){(K-=3)>-1&&ue.push(239,191,189),ce=j;continue}j=65536+(ce-55296<<10|j-56320)}else ce&&(K-=3)>-1&&ue.push(239,191,189);if(ce=null,j<128){if((K-=1)<0)break;ue.push(j)}else if(j<2048){if((K-=2)<0)break;ue.push(j>>6|192,63&j|128)}else if(j<65536){if((K-=3)<0)break;ue.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((K-=4)<0)break;ue.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return ue}function te(q){return T.toByteArray(function ne(q){if((q=function X(q){return q.trim?q.trim():q.replace(/^\s+|\s+$/g,"")}(q).replace(ge,"")).length<2)return"";for(;q.length%4!=0;)q+="=";return q}(q))}function me(q,K,j,$){for(var ce=0;ce<$&&!(ce+j>=K.length||ce>=q.length);++ce)K[ce+j]=q[ce];return ce}}).call(this,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":function(Ie,U,m){var M={parseBuffer:function(w){return new T(w).parse()},addBoxProcessor:function(w,P){"string"!=typeof w||"function"!=typeof P||(I.prototype._boxProcessors[w]=P)},createFile:function(){return new T},createBox:function(w,P,R){var D=I.create(w);return P&&P.append(D,R),D},createFullBox:function(w,P,R){var D=M.createBox(w,P,R);return D.version=0,D.flags=0,D},Utils:{}};M.Utils.dataViewToString=function(w,P){var R=P||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(R).decode(w);var D=[],c=0;if("utf-8"===R)for(;c<w.byteLength;){var l=w.getUint8(c++);l<128||(l<224?(l=(31&l)<<6,l|=63&w.getUint8(c++)):l<240?(l=(15&l)<<12,l|=(63&w.getUint8(c++))<<6,l|=63&w.getUint8(c++)):(l=(7&l)<<18,l|=(63&w.getUint8(c++))<<12,l|=(63&w.getUint8(c++))<<6,l|=63&w.getUint8(c++))),D.push(String.fromCharCode(l))}else for(;c<w.byteLength;)D.push(String.fromCharCode(w.getUint8(c++)));return D.join("")},M.Utils.utf8ToByteArray=function(w){var P,R;if(typeof TextEncoder<"u")P=(new TextEncoder).encode(w);else for(P=[],R=0;R<w.length;++R){var D=w.charCodeAt(R);D<128?P.push(D):D<2048?(P.push(192|D>>6),P.push(128|63&D)):D<65536?(P.push(224|D>>12),P.push(128|63&D>>6),P.push(128|63&D)):(P.push(240|D>>18),P.push(128|63&D>>12),P.push(128|63&D>>6),P.push(128|63&D))}return P},M.Utils.appendBox=function(w,P,R){if(P._offset=w._cursor.offset,P._root=w._root?w._root:w,P._raw=w._raw,P._parent=w,-1!==R){if(null==R)return void w.boxes.push(P);var c,D=-1;if("number"==typeof R)D=R;else{if("string"==typeof R)c=R;else{if("object"!=typeof R||!R.type)return void w.boxes.push(P);c=R.type}for(var l=0;l<w.boxes.length;l++)if(c===w.boxes[l].type){D=l+1;break}}w.boxes.splice(D,0,P)}},U.parseBuffer=M.parseBuffer,U.addBoxProcessor=M.addBoxProcessor,U.createFile=M.createFile,U.createBox=M.createBox,U.createFullBox=M.createFullBox,U.Utils=M.Utils,M.Cursor=function(w){this.offset=typeof w>"u"?0:w};var T=function(w){this._cursor=new M.Cursor,this.boxes=[],w&&(this._raw=new DataView(w))};T.prototype.fetch=function(w){var P=this.fetchAll(w,!0);return P.length?P[0]:null},T.prototype.fetchAll=function(w,P){var R=[];return T._sweep.call(this,w,R,P),R},T.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var w=I.parse(this);if(typeof w.type>"u")break;this.boxes.push(w)}return this},T._sweep=function(w,P,R){for(var D in this.type&&this.type==w&&P.push(this),this.boxes){if(P.length&&R)return;T._sweep.call(this.boxes[D],w,P,R)}},T.prototype.write=function(){var P,w=0;for(P=0;P<this.boxes.length;P++)w+=this.boxes[P].getLength(!1);var R=new Uint8Array(w);for(this._rawo=new DataView(R.buffer),this.bytes=R,this._cursor.offset=0,P=0;P<this.boxes.length;P++)this.boxes[P].write();return R.buffer},T.prototype.append=function(w,P){M.Utils.appendBox(this,w,P)};var I=function(){this._cursor=new M.Cursor};I.parse=function(w){var P=new I;return P._offset=w._cursor.offset,P._root=w._root?w._root:w,P._raw=w._raw,P._parent=w,P._parseBox(),w._cursor.offset=P._raw.byteOffset+P._raw.byteLength,P},I.create=function(w){var P=new I;return P.type=w,P.boxes=[],P},I.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],I.prototype._boxProcessors={},I.prototype._procField=function(w,P,R){this._parsing?this[w]=this._readField(P,R):this._writeField(P,R,this[w])},I.prototype._procFieldArray=function(w,P,R,D){var c;if(this._parsing)for(this[w]=[],c=0;c<P;c++)this[w][c]=this._readField(R,D);else for(c=0;c<this[w].length;c++)this._writeField(R,D,this[w][c])},I.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},I.prototype._procEntries=function(w,P,R){var D;if(this._parsing)for(this[w]=[],D=0;D<P;D++)this[w].push({}),R.call(this,this[w][D]);else for(D=0;D<P;D++)R.call(this,this[w][D])},I.prototype._procSubEntries=function(w,P,R,D){var c;if(this._parsing)for(w[P]=[],c=0;c<R;c++)w[P].push({}),D.call(this,w[P][c]);else for(c=0;c<R;c++)D.call(this,w[P][c])},I.prototype._procEntryField=function(w,P,R,D){this._parsing?w[P]=this._readField(R,D):this._writeField(R,D,w[P])},I.prototype._procSubBoxes=function(w,P){var R;if(this._parsing)for(this[w]=[],R=0;R<P;R++)this[w].push(I.parse(this));else for(R=0;R<P;R++)this._rawo?this[w][R].write():this.size+=this[w][R].getLength()},I.prototype._readField=function(w,P){switch(w){case"uint":return this._readUint(P);case"int":return this._readInt(P);case"template":return this._readTemplate(P);case"string":return-1===P?this._readTerminatedString():this._readString(P);case"data":return this._readData(P);case"utf8":return this._readUTF8String();default:return-1}},I.prototype._readInt=function(w){var P=null,R=this._cursor.offset-this._raw.byteOffset;switch(w){case 8:P=this._raw.getInt8(R);break;case 16:P=this._raw.getInt16(R);break;case 32:P=this._raw.getInt32(R);break;case 64:var D=this._raw.getInt32(R),c=this._raw.getInt32(R+4);P=D*Math.pow(2,32)+c}return this._cursor.offset+=w>>3,P},I.prototype._readUint=function(w){var D,c,P=null,R=this._cursor.offset-this._raw.byteOffset;switch(w){case 8:P=this._raw.getUint8(R);break;case 16:P=this._raw.getUint16(R);break;case 24:P=((D=this._raw.getUint16(R))<<8)+(c=this._raw.getUint8(R+2));break;case 32:P=this._raw.getUint32(R);break;case 64:D=this._raw.getUint32(R),c=this._raw.getUint32(R+4),P=D*Math.pow(2,32)+c}return this._cursor.offset+=w>>3,P},I.prototype._readString=function(w){for(var P="",R=0;R<w;R++){var D=this._readUint(8);P+=String.fromCharCode(D)}return P},I.prototype._readTemplate=function(w){return this._readUint(w/2)+this._readUint(w/2)/Math.pow(2,w/2)},I.prototype._readTerminatedString=function(){for(var w="";this._cursor.offset-this._offset<this._raw.byteLength;){var P=this._readUint(8);if(0===P)break;w+=String.fromCharCode(P)}return w},I.prototype._readData=function(w){var P=w>0?w:this._raw.byteLength-(this._cursor.offset-this._offset);if(P>0){var R=new Uint8Array(this._raw.buffer,this._cursor.offset,P);return this._cursor.offset+=P,R}return null},I.prototype._readUTF8String=function(){var w=this._raw.byteLength-(this._cursor.offset-this._offset),P=null;return w>0&&(P=new DataView(this._raw.buffer,this._cursor.offset,w),this._cursor.offset+=w),P&&M.Utils.dataViewToString(P)},I.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},I.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},I.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(I.parse(this))},I.prototype.append=function(w,P){M.Utils.appendBox(this,w,P)},I.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var w=0;w<this.boxes.length;w++)this.size+=this.boxes[w].getLength();return this._data&&this._writeData(this._data),this.size},I.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var w=0;w<this.boxes.length;w++)this.boxes[w].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},I.prototype._writeInt=function(w,P){if(this._rawo){var R=this._cursor.offset-this._rawo.byteOffset;switch(w){case 8:this._rawo.setInt8(R,P);break;case 16:this._rawo.setInt16(R,P);break;case 32:this._rawo.setInt32(R,P);break;case 64:var D=Math.floor(P/Math.pow(2,32)),c=P-D*Math.pow(2,32);this._rawo.setUint32(R,D),this._rawo.setUint32(R+4,c)}this._cursor.offset+=w>>3}else this.size+=w>>3},I.prototype._writeUint=function(w,P){if(this._rawo){var D,c,R=this._cursor.offset-this._rawo.byteOffset;switch(w){case 8:this._rawo.setUint8(R,P);break;case 16:this._rawo.setUint16(R,P);break;case 24:c=255&P,this._rawo.setUint16(R,D=(16776960&P)>>8),this._rawo.setUint8(R+2,c);break;case 32:this._rawo.setUint32(R,P);break;case 64:c=P-(D=Math.floor(P/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(R,D),this._rawo.setUint32(R+4,c)}this._cursor.offset+=w>>3}else this.size+=w>>3},I.prototype._writeString=function(w,P){for(var R=0;R<w;R++)this._writeUint(8,P.charCodeAt(R))},I.prototype._writeTerminatedString=function(w){if(0!==w.length){for(var P=0;P<w.length;P++)this._writeUint(8,w.charCodeAt(P));this._writeUint(8,0)}},I.prototype._writeTemplate=function(w,P){var R=Math.floor(P),D=(P-R)*Math.pow(2,w/2);this._writeUint(w/2,R),this._writeUint(w/2,D)},I.prototype._writeData=function(w){if(w)if(this._rawo){if(w instanceof Array){for(var R=this._cursor.offset-this._rawo.byteOffset,P=0;P<w.length;P++)this._rawo.setInt8(R+P,w[P]);this._cursor.offset+=w.length}w instanceof Uint8Array&&(this._root.bytes.set(w,this._cursor.offset),this._cursor.offset+=w.length)}else this.size+=w.length},I.prototype._writeUTF8String=function(w){var P=M.Utils.utf8ToByteArray(w);if(this._rawo)for(var R=new DataView(this._rawo.buffer,this._cursor.offset,P.length),D=0;D<P.length;D++)R.setUint8(D,P[D]);else this.size+=P.length},I.prototype._writeField=function(w,P,R){switch(w){case"uint":this._writeUint(P,R);break;case"int":this._writeInt(P,R);break;case"template":this._writeTemplate(P,R);break;case"string":-1==P?this._writeTerminatedString(R):this._writeString(P,R);break;case"data":this._writeData(R);break;case"utf8":this._writeUTF8String(R)}},I.prototype._boxProcessors.avc1=I.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},I.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(w){this._procEntryField(w,"segment_duration","uint",1===this.version?64:32),this._procEntryField(w,"media_time","int",1===this.version?64:32),this._procEntryField(w,"media_rate_integer","int",16),this._procEntryField(w,"media_rate_fraction","int",16)})},I.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},I.prototype._boxProcessors.free=I.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},I.prototype._boxProcessors.ftyp=I.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var w=-1;this._parsing&&(w=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",w,"string",4)},I.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},I.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},I.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},I.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},I.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},I.prototype._boxProcessors.mp4a=I.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},I.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},I.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},I.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},I.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},I.prototype._boxProcessors.sdtp=function(){this._procFullBox();var w=-1;this._parsing&&(w=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",w,"uint",8)},I.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(w){this._parsing||(w.reference=(1&w.reference_type)<<31,w.reference|=2147483647&w.referenced_size,w.sap=(1&w.starts_with_SAP)<<31,w.sap|=(3&w.SAP_type)<<28,w.sap|=268435455&w.SAP_delta_time),this._procEntryField(w,"reference","uint",32),this._procEntryField(w,"subsegment_duration","uint",32),this._procEntryField(w,"sap","uint",32),this._parsing&&(w.reference_type=w.reference>>31&1,w.referenced_size=2147483647&w.reference,w.starts_with_SAP=w.sap>>31&1,w.SAP_type=w.sap>>28&7,w.SAP_delta_time=268435455&w.sap)})},I.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},I.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(w){this._procEntryField(w,"ranges_count","uint",32),this._procSubEntries(w,"ranges",w.ranges_count,function(P){this._procEntryField(P,"level","uint",8),this._procEntryField(P,"range_size","uint",24)})})},I.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(w){this._procEntryField(w,"sample_delta","uint",32),this._procEntryField(w,"subsample_count","uint",16),this._procSubEntries(w,"subsamples",w.subsample_count,function(P){this._procEntryField(P,"subsample_size","uint",1===this.version?32:16),this._procEntryField(P,"subsample_priority","uint",8),this._procEntryField(P,"discardable","uint",8),this._procEntryField(P,"codec_specific_parameters","uint",32)})})},I.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},I.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},I.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(w){this._procEntryField(w,"time","uint",1===this.version?64:32),this._procEntryField(w,"moof_offset","uint",1===this.version?64:32),this._procEntryField(w,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(w,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(w,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},I.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},I.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(w){256&this.flags&&this._procEntryField(w,"sample_duration","uint",32),512&this.flags&&this._procEntryField(w,"sample_size","uint",32),1024&this.flags&&this._procEntryField(w,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(w,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},I.prototype._boxProcessors["url "]=I.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},I.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},I.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},I.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},I.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":function(Ie,U,m){function O(b){return Object.prototype.toString.call(b)}U.isArray=function M(b){return Array.isArray?Array.isArray(b):"[object Array]"===O(b)},U.isBoolean=function T(b){return"boolean"==typeof b},U.isNull=function I(b){return null===b},U.isNullOrUndefined=function w(b){return null==b},U.isNumber=function P(b){return"number"==typeof b},U.isString=function R(b){return"string"==typeof b},U.isSymbol=function D(b){return"symbol"==typeof b},U.isUndefined=function c(b){return void 0===b},U.isRegExp=function l(b){return"[object RegExp]"===O(b)},U.isObject=function d(b){return"object"==typeof b&&null!==b},U.isDate=function f(b){return"[object Date]"===O(b)},U.isError=function _(b){return"[object Error]"===O(b)||b instanceof Error},U.isFunction=function N(b){return"function"==typeof b},U.isPrimitive=function S(b){return null===b||"boolean"==typeof b||"number"==typeof b||"string"==typeof b||"symbol"==typeof b||typeof b>"u"},U.isBuffer=m("./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":function(Ie,U,m){"use strict";Ie.exports=m("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":function(Ie,U,m){(function(M,T){var w;w=function(){"use strict";function w(ue){return"function"==typeof ue}var R=Array.isArray?Array.isArray:function(ue){return"[object Array]"===Object.prototype.toString.call(ue)},D=0,c=void 0,l=void 0,d=function(be,Re){L[D]=be,L[D+1]=Re,2===(D+=2)&&(l?l(G):Q())};var N=typeof window<"u"?window:void 0,S=N||{},O=S.MutationObserver||S.WebKitMutationObserver,b=typeof self>"u"&&typeof M<"u"&&"[object process]"==={}.toString.call(M),v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function E(){var ue=setTimeout;return function(){return ue(G,1)}}var L=new Array(1e3);function G(){for(var ue=0;ue<D;ue+=2)(0,L[ue])(L[ue+1]),L[ue]=void 0,L[ue+1]=void 0;D=0}var Q=void 0;function le(ue,be){var Re=this,Pe=new this.constructor(x);void 0===Pe[W]&&re(Pe);var we=Re._state;if(we){var Ue=arguments[we-1];d(function(){return ne(we,Pe,Ue,Re._result)})}else Se(Re,Pe,ue,be);return Pe}function H(ue){if(ue&&"object"==typeof ue&&ue.constructor===this)return ue;var Re=new this(x);return he(Re,ue),Re}Q=b?function p(){return function(){return M.nextTick(G)}}():O?function g(){var ue=0,be=new O(G),Re=document.createTextNode("");return be.observe(Re,{characterData:!0}),function(){Re.data=ue=++ue%2}}():v?function A(){var ue=new MessageChannel;return ue.port1.onmessage=G,function(){return ue.port2.postMessage(0)}}():void 0===N?function ee(){try{var ue=Function("return this")().require("vertx");return c=ue.runOnLoop||ue.runOnContext,function y(){return typeof c<"u"?function(){c(G)}:E()}()}catch{return E()}}():E();var W=Math.random().toString(36).substring(2);function x(){}var Y=void 0;function pe(ue,be,Re){be.constructor===ue.constructor&&Re===le&&be.constructor.resolve===H?function ae(ue,be){1===be._state?_e(ue,be._result):2===be._state?se(ue,be._result):Se(be,void 0,function(Re){return he(ue,Re)},function(Re){return se(ue,Re)})}(ue,be):void 0===Re?_e(ue,be):w(Re)?function de(ue,be,Re){d(function(Pe){var we=!1,Ue=function J(ue,be,Re,Pe){try{ue.call(be,Re,Pe)}catch(we){return we}}(Re,be,function(Ce){we||(we=!0,be!==Ce?he(Pe,Ce):_e(Pe,Ce))},function(Ce){we||(we=!0,se(Pe,Ce))});!we&&Ue&&(we=!0,se(Pe,Ue))},ue)}(ue,be,Re):_e(ue,be)}function he(ue,be){if(ue===be)se(ue,function oe(){return new TypeError("You cannot resolve a promise with itself")}());else if(function I(ue){var be=typeof ue;return null!==ue&&("object"===be||"function"===be)}(be)){var Re=void 0;try{Re=be.then}catch(Pe){return void se(ue,Pe)}pe(ue,be,Re)}else _e(ue,be)}function fe(ue){ue._onerror&&ue._onerror(ue._result),ge(ue)}function _e(ue,be){ue._state===Y&&(ue._result=be,ue._state=1,0!==ue._subscribers.length&&d(ge,ue))}function se(ue,be){ue._state===Y&&(ue._state=2,ue._result=be,d(fe,ue))}function Se(ue,be,Re,Pe){var we=ue._subscribers,Ue=we.length;ue._onerror=null,we[Ue]=be,we[Ue+1]=Re,we[Ue+2]=Pe,0===Ue&&ue._state&&d(ge,ue)}function ge(ue){var be=ue._subscribers,Re=ue._state;if(0!==be.length){for(var Pe=void 0,we=void 0,Ue=ue._result,Ce=0;Ce<be.length;Ce+=3)we=be[Ce+Re],(Pe=be[Ce])?ne(Re,Pe,we,Ue):we(Ue);ue._subscribers.length=0}}function ne(ue,be,Re,Pe){var we=w(Re),Ue=void 0,Ce=void 0,Oe=!0;if(we){try{Ue=Re(Pe)}catch(Ge){Oe=!1,Ce=Ge}if(be===Ue)return void se(be,function ve(){return new TypeError("A promises callback cannot return that same promise.")}())}else Ue=Pe;be._state!==Y||(we&&Oe?he(be,Ue):!1===Oe?se(be,Ce):1===ue?_e(be,Ue):2===ue&&se(be,Ue))}var F=0;function re(ue){ue[W]=F++,ue._state=void 0,ue._result=void 0,ue._subscribers=[]}var te=function(){function ue(be,Re){this._instanceConstructor=be,this.promise=new be(x),this.promise[W]||re(this.promise),R(Re)?(this.length=Re.length,this._remaining=Re.length,this._result=new Array(this.length),0===this.length?_e(this.promise,this._result):(this.length=this.length||0,this._enumerate(Re),0===this._remaining&&_e(this.promise,this._result))):se(this.promise,function k(){return new Error("Array Methods must be provided an Array")}())}return ue.prototype._enumerate=function(Re){for(var Pe=0;this._state===Y&&Pe<Re.length;Pe++)this._eachEntry(Re[Pe],Pe)},ue.prototype._eachEntry=function(Re,Pe){var we=this._instanceConstructor,Ue=we.resolve;if(Ue===H){var Ce=void 0,Oe=void 0,Ge=!1;try{Ce=Re.then}catch($e){Ge=!0,Oe=$e}if(Ce===le&&Re._state!==Y)this._settledAt(Re._state,Pe,Re._result);else if("function"!=typeof Ce)this._remaining--,this._result[Pe]=Re;else if(we===$){var Le=new we(x);Ge?se(Le,Oe):pe(Le,Re,Ce),this._willSettleAt(Le,Pe)}else this._willSettleAt(new we(function($e){return $e(Re)}),Pe)}else this._willSettleAt(Ue(Re),Pe)},ue.prototype._settledAt=function(Re,Pe,we){var Ue=this.promise;Ue._state===Y&&(this._remaining--,2===Re?se(Ue,we):this._result[Pe]=we),0===this._remaining&&_e(Ue,this._result)},ue.prototype._willSettleAt=function(Re,Pe){var we=this;Se(Re,void 0,function(Ue){return we._settledAt(1,Pe,Ue)},function(Ue){return we._settledAt(2,Pe,Ue)})},ue}();var $=function(){function ue(be){this[W]=function V(){return F++}(),this._result=this._state=void 0,this._subscribers=[],x!==be&&("function"!=typeof be&&function K(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ue?function X(ue,be){try{be(function(Pe){he(ue,Pe)},function(Pe){se(ue,Pe)})}catch(Re){se(ue,Re)}}(this,be):function j(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ue.prototype.catch=function(Re){return this.then(null,Re)},ue.prototype.finally=function(Re){var we=this.constructor;return w(Re)?this.then(function(Ue){return we.resolve(Re()).then(function(){return Ue})},function(Ue){return we.resolve(Re()).then(function(){throw Ue})}):this.then(Re,Re)},ue}();return $.prototype.then=le,$.all=function me(ue){return new te(this,ue).promise},$.race=function Ee(ue){var be=this;return R(ue)?new be(function(Re,Pe){for(var we=ue.length,Ue=0;Ue<we;Ue++)be.resolve(ue[Ue]).then(Re,Pe)}):new be(function(Re,Pe){return Pe(new TypeError("You must pass an array to race."))})},$.resolve=H,$.reject=function q(ue){var Re=new this(x);return se(Re,ue),Re},$._setScheduler=function f(ue){l=ue},$._setAsap=function _(ue){d=ue},$._asap=d,$.polyfill=function ce(){var ue=void 0;if(typeof T<"u")ue=T;else if(typeof self<"u")ue=self;else try{ue=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var be=ue.Promise;if(be){var Re=null;try{Re=Object.prototype.toString.call(be.resolve())}catch{}if("[object Promise]"===Re&&!be.cast)return}ue.Promise=$},$.Promise=$,$},Ie.exports=w()}).call(this,m("./node_modules/process/browser.js"),m("./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":function(Ie,U,m){"use strict";var I,M="object"==typeof Reflect?Reflect:null,T=M&&"function"==typeof M.apply?M.apply:function(E,L,G){return Function.prototype.apply.call(E,L,G)};I=M&&"function"==typeof M.ownKeys?M.ownKeys:Object.getOwnPropertySymbols?function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:function(E){return Object.getOwnPropertyNames(E)};var P=Number.isNaN||function(E){return E!=E};function R(){R.init.call(this)}Ie.exports=R,Ie.exports.once=function p(A,E){return new Promise(function(L,G){function ee(le){A.removeListener(E,Q),G(le)}function Q(){"function"==typeof A.removeListener&&A.removeListener("error",ee),L([].slice.call(arguments))}g(A,E,Q,{once:!0}),"error"!==E&&function y(A,E,L){"function"==typeof A.on&&g(A,"error",E,L)}(A,ee,{once:!0})})},R.EventEmitter=R,R.prototype._events=void 0,R.prototype._eventsCount=0,R.prototype._maxListeners=void 0;var D=10;function c(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function l(A){return void 0===A._maxListeners?R.defaultMaxListeners:A._maxListeners}function d(A,E,L,G){var ee,Q,le;if(c(L),void 0===(Q=A._events)?(Q=A._events=Object.create(null),A._eventsCount=0):(void 0!==Q.newListener&&(A.emit("newListener",E,L.listener?L.listener:L),Q=A._events),le=Q[E]),void 0===le)le=Q[E]=L,++A._eventsCount;else if("function"==typeof le?le=Q[E]=G?[L,le]:[le,L]:G?le.unshift(L):le.push(L),(ee=l(A))>0&&le.length>ee&&!le.warned){le.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=A,H.type=E,H.count=le.length,function w(A){console&&console.warn&&console.warn(A)}(H)}return A}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(A,E,L){var G={fired:!1,wrapFn:void 0,target:A,type:E,listener:L},ee=f.bind(G);return ee.listener=L,G.wrapFn=ee,ee}function N(A,E,L){var G=A._events;if(void 0===G)return[];var ee=G[E];return void 0===ee?[]:"function"==typeof ee?L?[ee.listener||ee]:[ee]:L?function v(A){for(var E=new Array(A.length),L=0;L<E.length;++L)E[L]=A[L].listener||A[L];return E}(ee):O(ee,ee.length)}function S(A){var E=this._events;if(void 0!==E){var L=E[A];if("function"==typeof L)return 1;if(void 0!==L)return L.length}return 0}function O(A,E){for(var L=new Array(E),G=0;G<E;++G)L[G]=A[G];return L}function g(A,E,L,G){if("function"==typeof A.on)G.once?A.once(E,L):A.on(E,L);else{if("function"!=typeof A.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A);A.addEventListener(E,function ee(Q){G.once&&A.removeEventListener(E,ee),L(Q)})}}Object.defineProperty(R,"defaultMaxListeners",{enumerable:!0,get:function(){return D},set:function(A){if("number"!=typeof A||A<0||P(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");D=A}}),R.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},R.prototype.setMaxListeners=function(E){if("number"!=typeof E||E<0||P(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this},R.prototype.getMaxListeners=function(){return l(this)},R.prototype.emit=function(E){for(var L=[],G=1;G<arguments.length;G++)L.push(arguments[G]);var ee="error"===E,Q=this._events;if(void 0!==Q)ee=ee&&void 0===Q.error;else if(!ee)return!1;if(ee){var le;if(L.length>0&&(le=L[0]),le instanceof Error)throw le;var H=new Error("Unhandled error."+(le?" ("+le.message+")":""));throw H.context=le,H}var W=Q[E];if(void 0===W)return!1;if("function"==typeof W)T(W,this,L);else{var x=W.length,Y=O(W,x);for(G=0;G<x;++G)T(Y[G],this,L)}return!0},R.prototype.on=R.prototype.addListener=function(E,L){return d(this,E,L,!1)},R.prototype.prependListener=function(E,L){return d(this,E,L,!0)},R.prototype.once=function(E,L){return c(L),this.on(E,_(this,E,L)),this},R.prototype.prependOnceListener=function(E,L){return c(L),this.prependListener(E,_(this,E,L)),this},R.prototype.off=R.prototype.removeListener=function(E,L){var G,ee,Q,le,H;if(c(L),void 0===(ee=this._events))return this;if(void 0===(G=ee[E]))return this;if(G===L||G.listener===L)0==--this._eventsCount?this._events=Object.create(null):(delete ee[E],ee.removeListener&&this.emit("removeListener",E,G.listener||L));else if("function"!=typeof G){for(Q=-1,le=G.length-1;le>=0;le--)if(G[le]===L||G[le].listener===L){H=G[le].listener,Q=le;break}if(Q<0)return this;0===Q?G.shift():function b(A,E){for(;E+1<A.length;E++)A[E]=A[E+1];A.pop()}(G,Q),1===G.length&&(ee[E]=G[0]),void 0!==ee.removeListener&&this.emit("removeListener",E,H||L)}return this},R.prototype.removeAllListeners=function(E){var L,G,ee;if(void 0===(G=this._events))return this;if(void 0===G.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==G[E]&&(0==--this._eventsCount?this._events=Object.create(null):delete G[E]),this;if(0===arguments.length){var le,Q=Object.keys(G);for(ee=0;ee<Q.length;++ee)"removeListener"!==(le=Q[ee])&&this.removeAllListeners(le);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(L=G[E]))this.removeListener(E,L);else if(void 0!==L)for(ee=L.length-1;ee>=0;ee--)this.removeListener(E,L[ee]);return this},R.prototype.listeners=function(E){return N(this,E,!0)},R.prototype.rawListeners=function(E){return N(this,E,!1)},R.listenerCount=function(A,E){return"function"==typeof A.listenerCount?A.listenerCount(E):S.call(A,E)},R.prototype.listenerCount=S,R.prototype.eventNames=function(){return this._eventsCount>0?I(this._events):[]}},"./node_modules/fast-deep-equal/index.js":function(Ie,U,m){"use strict";var M=Array.isArray,T=Object.keys,I=Object.prototype.hasOwnProperty;Ie.exports=function w(P,R){if(P===R)return!0;if(P&&R&&"object"==typeof P&&"object"==typeof R){var l,d,f,D=M(P),c=M(R);if(D&&c){if((d=P.length)!=R.length)return!1;for(l=d;0!=l--;)if(!w(P[l],R[l]))return!1;return!0}if(D!=c)return!1;var _=P instanceof Date,N=R instanceof Date;if(_!=N)return!1;if(_&&N)return P.getTime()==R.getTime();var S=P instanceof RegExp,O=R instanceof RegExp;if(S!=O)return!1;if(S&&O)return P.toString()==R.toString();var b=T(P);if((d=b.length)!==T(R).length)return!1;for(l=d;0!=l--;)if(!I.call(R,b[l]))return!1;for(l=d;0!=l--;)if(!w(P[f=b[l]],R[f]))return!1;return!0}return P!=P&&R!=R}},"./node_modules/ieee754/index.js":function(Ie,U){U.read=function(m,M,T,I,w){var P,R,D=8*w-I-1,c=(1<<D)-1,l=c>>1,d=-7,f=T?w-1:0,_=T?-1:1,N=m[M+f];for(f+=_,P=N&(1<<-d)-1,N>>=-d,d+=D;d>0;P=256*P+m[M+f],f+=_,d-=8);for(R=P&(1<<-d)-1,P>>=-d,d+=I;d>0;R=256*R+m[M+f],f+=_,d-=8);if(0===P)P=1-l;else{if(P===c)return R?NaN:1/0*(N?-1:1);R+=Math.pow(2,I),P-=l}return(N?-1:1)*R*Math.pow(2,P-I)},U.write=function(m,M,T,I,w,P){var R,D,c,l=8*P-w-1,d=(1<<l)-1,f=d>>1,_=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,N=I?0:P-1,S=I?1:-1,O=M<0||0===M&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(D=isNaN(M)?1:0,R=d):(R=Math.floor(Math.log(M)/Math.LN2),M*(c=Math.pow(2,-R))<1&&(R--,c*=2),(M+=R+f>=1?_/c:_*Math.pow(2,1-f))*c>=2&&(R++,c/=2),R+f>=d?(D=0,R=d):R+f>=1?(D=(M*c-1)*Math.pow(2,w),R+=f):(D=M*Math.pow(2,f-1)*Math.pow(2,w),R=0));w>=8;m[T+N]=255&D,N+=S,D/=256,w-=8);for(R=R<<w|D,l+=w;l>0;m[T+N]=255&R,N+=S,R/=256,l-=8);m[T+N-S]|=128*O}},"./node_modules/imsc/src/main/js/doc.js":function(Ie,U,m){!function(M,T,I,w,P){function R(k){if("contents"in k)for(var te=("styleAttrs"in k?k.styleAttrs[w.byName.ruby.qname]:null),me="span"===k.kind&&("container"===te||"textContainer"===te||"baseContainer"===te),Ee=k.contents.length-1;Ee>=0;Ee--)!me||"styleAttrs"in k.contents[Ee]&&w.byName.ruby.qname in k.contents[Ee].styleAttrs?R(k.contents[Ee]):delete k.contents[Ee]}function D(k,te,me,Ee){var q=Ee&&"seq"===Ee.timeContainer,K=0;Ee&&(K=q&&me?me.end:Ee.begin),te.begin=te.explicit_begin?te.explicit_begin+K:K;var j=te.begin,$=null;if("sets"in te)for(var ce=0;ce<te.sets.length;ce++)D(k,te.sets[ce],$,te),j="seq"===te.timeContainer?te.sets[ce].end:Math.max(j,te.sets[ce].end),$=te.sets[ce];if("contents"in te){if("contents"in te)for(var ue=0;ue<te.contents.length;ue++)D(k,te.contents[ue],$,te),j="seq"===te.timeContainer?te.contents[ue].end:Math.max(j,te.contents[ue].end),$=te.contents[ue]}else j=q?te.begin:Number.POSITIVE_INFINITY;te.end=null!==te.explicit_end&&null!==te.explicit_dur?Math.min(te.begin+te.explicit_dur,K+te.explicit_end):null===te.explicit_end&&null!==te.explicit_dur?te.begin+te.explicit_dur:null!==te.explicit_end&&null===te.explicit_dur?K+te.explicit_end:j,delete te.explicit_begin,delete te.explicit_dur,delete te.explicit_end,k._registerEvent(te)}function c(k){this.node=k}function l(){this.events=[],this.head=new d,this.body=null}function d(){this.styling=new f,this.layout=new S}function f(){this.styles={},this.initials={}}function _(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function N(){this.styleAttrs=null}function S(){this.regions={}}function O(k,te){b.call(this,"image"),this.src=k,this.type=te}function b(k){this.kind=k}function v(k){this.id=k}function p(k){this.regionID=k}function y(k){this.styleAttrs=k}function g(k){this.sets=k}function A(k){this.contents=k}function E(k,te,me){this.explicit_begin=k,this.explicit_end=te,this.explicit_dur=me}function L(){b.call(this,"body")}function G(){b.call(this,"div")}function ee(){b.call(this,"p")}function Q(){b.call(this,"span")}function le(){b.call(this,"span")}function H(){b.call(this,"br")}function W(){}function x(){}function Y(k){return k&&"xml:id"in k.attributes&&k.attributes["xml:id"].value||null}function oe(k){return k&&"style"in k.attributes?k.attributes.style.value.split(" "):[]}function ve(k,te){var me={};if(null!==k)for(var Ee in k.attributes){var q=k.attributes[Ee].uri+" "+k.attributes[Ee].local,K=w.byQName[q];if(void 0!==K){var j=K.parse(k.attributes[Ee].value);null!==j?(me[q]=j,K===w.byName.zIndex&&X(te,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):F(te,"Cannot parse styling attribute "+q+" --\x3e "+k.attributes[Ee].value)}}return me}function J(k,te,me){for(var Ee in k.attributes)if(k.attributes[Ee].uri===te&&k.attributes[Ee].local===me)return k.attributes[Ee].value;return null}function fe(k,te,me){var Re,Pe=null;return null!==(Re=/^(\d+(?:\.\d+)?)f$/.exec(me))?null!==te&&(Pe=parseFloat(Re[1])/te):null!==(Re=/^(\d+(?:\.\d+)?)t$/.exec(me))?null!==k&&(Pe=parseFloat(Re[1])/k):null!==(Re=/^(\d+(?:\.\d+)?)ms$/.exec(me))?Pe=parseFloat(Re[1])/1e3:null!==(Re=/^(\d+(?:\.\d+)?)s$/.exec(me))?Pe=parseFloat(Re[1]):null!==(Re=/^(\d+(?:\.\d+)?)h$/.exec(me))?Pe=3600*parseFloat(Re[1]):null!==(Re=/^(\d+(?:\.\d+)?)m$/.exec(me))?Pe=60*parseFloat(Re[1]):null!==(Re=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(me))?Pe=3600*parseInt(Re[1])+60*parseInt(Re[2])+parseFloat(Re[3]):null!==(Re=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(me))&&null!==te&&(Pe=3600*parseInt(Re[1])+60*parseInt(Re[2])+parseInt(Re[3])+(null===Re[4]?0:parseInt(Re[4])/te)),Pe}function se(k,te,me){for(;te.styleRefs.length>0;){var Ee=te.styleRefs.pop();Ee in k.styles?(se(k,k.styles[Ee],me),ge(k.styles[Ee].styleAttrs,te.styleAttrs)):F(me,"Non-existant style id referenced")}}function Se(k,te,me,Ee){for(var q=te.length-1;q>=0;q--){var K=te[q];K in k.styles?ge(k.styles[K].styleAttrs,me):F(Ee,"Non-existant style id referenced")}}function ge(k,te){for(var me in k)!k.hasOwnProperty(me)||me in te||(te[me]=k[me])}function X(k,te){if(k&&k.warn&&k.warn(te))throw te}function F(k,te){if(k&&k.error&&k.error(te))throw te}function V(k,te){throw k&&k.fatal&&k.fatal(te),te}function re(k,te){for(var q,me=0,Ee=k.length-1;me<=Ee;){var K=k[q=Math.floor((me+Ee)/2)];if(K<te)me=q+1;else{if(!(K>te))return{found:!0,index:q};Ee=q-1}}return{found:!1,index:me}}M.fromXML=function(k,te,me){var Ee=T.parser(!0,{xmlns:!0}),q=[],K=[],j=[],$=0,ce=null;Ee.onclosetag=function(we){if(q[0]instanceof W)null!==ce.head&&null!==ce.head.styling&&Se(ce.head.styling,q[0].styleRefs,q[0].styleAttrs,te),delete q[0].styleRefs;else if(q[0]instanceof f)for(var Ue in q[0].styles)!q[0].styles.hasOwnProperty(Ue)||se(q[0],q[0].styles[Ue],te);else if(q[0]instanceof ee||q[0]instanceof Q){if(q[0].contents.length>1){var Oe,Ce=[q[0].contents[0]];for(Oe=1;Oe<q[0].contents.length;Oe++)q[0].contents[Oe]instanceof le&&Ce[Ce.length-1]instanceof le?Ce[Ce.length-1].text+=q[0].contents[Oe].text:Ce.push(q[0].contents[Oe]);q[0].contents=Ce}q[0]instanceof Q&&1===q[0].contents.length&&q[0].contents[0]instanceof le&&(q[0].text=q[0].contents[0].text,delete q[0].contents)}else q[0]instanceof c&&(q[0].node.uri===I.ns_tt&&"metadata"===q[0].node.local?$--:$>0&&me&&"onCloseTag"in me&&me.onCloseTag());j.shift(),K.shift(),q.shift()},Ee.ontext=function(we){if(void 0!==q[0])if(q[0]instanceof Q||q[0]instanceof ee){if(q[0]instanceof Q){var Ue=q[0].styleAttrs[w.byName.ruby.qname];if("container"===Ue||"textContainer"===Ue||"baseContainer"===Ue)return}var Ce=new le;Ce.initFromText(ce,q[0],we,K[0],j[0],te),q[0].contents.push(Ce)}else q[0]instanceof c&&$>0&&me&&"onText"in me&&me.onText(we)},Ee.onopentag=function(we){var Ue=we.attributes["xml:space"];j.unshift(Ue?Ue.value:0===j.length?"default":j[0]);var Ce=we.attributes["xml:lang"];if(K.unshift(Ce?Ce.value:0===K.length?"":K[0]),we.uri===I.ns_tt)if("tt"===we.local)null!==ce&&V(te,"Two <tt> elements at ("+this.line+","+this.column+")"),(ce=new l).initFromNode(we,K[0],te),q.unshift(ce);else if("head"===we.local)q[0]instanceof l||V(te,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),q.unshift(ce.head);else if("styling"===we.local)q[0]instanceof d||V(te,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),q.unshift(ce.head.styling);else if("style"===we.local){var Oe;q[0]instanceof f?((Oe=new _).initFromNode(we,te),Oe.id?ce.head.styling.styles[Oe.id]=Oe:F(te,"<style> element missing @id attribute"),q.unshift(Oe)):q[0]instanceof W?((Oe=new _).initFromNode(we,te),ge(Oe.styleAttrs,q[0].styleAttrs),q.unshift(Oe)):V(te,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===we.local){var Ge;if(q[0]instanceof f){for(var Le in(Ge=new N).initFromNode(we,te),Ge.styleAttrs)!Ge.styleAttrs.hasOwnProperty(Le)||(ce.head.styling.initials[Le]=Ge.styleAttrs[Le]);q.unshift(Ge)}else V(te,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===we.local)q[0]instanceof d||V(te,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),q.unshift(ce.head.layout);else if("region"===we.local){q[0]instanceof S||V(te,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var $e=new W;$e.initFromNode(ce,we,K[0],te),!$e.id||$e.id in ce.head.layout.regions?F(te,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):ce.head.layout.regions[$e.id]=$e,q.unshift($e)}else if("body"===we.local){q[0]instanceof l||V(te,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==ce.body&&V(te,"Second <body> element at "+this.line+","+this.column+")");var Je=new L;Je.initFromNode(ce,we,K[0],te),ce.body=Je,q.unshift(Je)}else if("div"===we.local){q[0]instanceof G||q[0]instanceof L||V(te,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var nt=new G;nt.initFromNode(ce,q[0],we,K[0],te);var at=nt.styleAttrs[w.byName.backgroundImage.qname];at&&(nt.contents.push(new O(at)),delete nt.styleAttrs[w.byName.backgroundImage.qname]),q[0].contents.push(nt),q.unshift(nt)}else if("image"===we.local){q[0]instanceof G||V(te,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var ht=new O;ht.initFromNode(ce,q[0],we,K[0],te),q[0].contents.push(ht),q.unshift(ht)}else if("p"===we.local){q[0]instanceof G||V(te,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Rt=new ee;Rt.initFromNode(ce,q[0],we,K[0],te),q[0].contents.push(Rt),q.unshift(Rt)}else if("span"===we.local){q[0]instanceof Q||q[0]instanceof ee||V(te,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Ht=new Q;Ht.initFromNode(ce,q[0],we,K[0],j[0],te),q[0].contents.push(Ht),q.unshift(Ht)}else if("br"===we.local){q[0]instanceof Q||q[0]instanceof ee||V(te,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Bt=new H;Bt.initFromNode(ce,q[0],we,K[0],te),q[0].contents.push(Bt),q.unshift(Bt)}else if("set"===we.local){q[0]instanceof Q||q[0]instanceof ee||q[0]instanceof G||q[0]instanceof L||q[0]instanceof W||q[0]instanceof H||V(te,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var $t=new x;$t.initFromNode(ce,q[0],we,te),q[0].sets.push($t),q.unshift($t)}else q.unshift(new c(we));else q.unshift(new c(we));if(q[0]instanceof c)if(we.uri===I.ns_tt&&"metadata"===we.local)$++;else if($>0&&me&&"onOpenTag"in me){var Jt=[];for(var De in we.attributes)Jt[we.attributes[De].uri+" "+we.attributes[De].local]={uri:we.attributes[De].uri,local:we.attributes[De].local,value:we.attributes[De].value};me.onOpenTag(we.uri,we.local,Jt)}},Ee.write(k).close(),delete ce.head.styling.styles;var ue=!1;for(var be in ce.head.layout.regions)if(ce.head.layout.regions.hasOwnProperty(be)){ue=!0;break}if(!ue){var Re=W.prototype.createDefaultRegion(ce.lang);ce.head.layout.regions[Re.id]=Re}for(var Pe in ce.head.layout.regions)!ce.head.layout.regions.hasOwnProperty(Pe)||D(ce,ce.head.layout.regions[Pe],null,null);return ce.body&&D(ce,ce.body,null,null),ce.body&&R(ce.body),ce},l.prototype.initFromNode=function(k,te,me){var Ee=function ae(k,te){var me=J(k,I.ns_ttp,"cellResolution"),Ee=15,q=32;if(null!==me){var j=/(\d+) (\d+)/.exec(me);null!==j?(q=parseInt(j[1]),Ee=parseInt(j[2])):X(te,"Malformed cellResolution value (using initial value instead)")}return{w:q,h:Ee}}(k,me);this.cellLength={h:new P.ComputedLength(0,1/Ee.h),w:new P.ComputedLength(1/Ee.w,0)};var q=function pe(k,te){var q,me=J(k,I.ns_ttp,"frameRate"),Ee=30;null!==me&&(null!==(q=/(\d+)/.exec(me))?Ee=parseInt(q[1]):X(te,"Malformed frame rate attribute (using initial value instead)"));var j=J(k,I.ns_ttp,"frameRateMultiplier"),$=1;null!==j&&(null!==(q=/(\d+) (\d+)/.exec(j))?$=parseInt(q[1])/parseInt(q[2]):X(te,"Malformed frame rate multiplier attribute (using initial value instead)"));var ue=$*Ee,be=1,Re=J(k,I.ns_ttp,"tickRate");return null===Re?null!==me&&(be=ue):null!==(q=/(\d+)/.exec(Re))?be=parseInt(q[1]):X(te,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:ue,tickRate:be}}(k,me);this.effectiveFrameRate=q.effectiveFrameRate,this.tickRate=q.tickRate,this.aspectRatio=function de(k,te){var me=J(k,I.ns_ittp,"aspectRatio");null===me&&(me=J(k,I.ns_ttp,"displayAspectRatio"));var Ee=null;if(null!==me){var K=/(\d+)\s+(\d+)/.exec(me);if(null!==K){var j=parseInt(K[1]),$=parseInt(K[2]);0!==j&&0!==$?Ee=j/$:F(te,"Illegal aspectRatio values (ignoring)")}else F(te,"Malformed aspectRatio attribute (ignoring)")}return Ee}(k,me);var K=J(k,I.ns_ttp,"timeBase");null!==K&&"media"!==K&&V(me,"Unsupported time base");var j=function he(k,te){var me=J(k,I.ns_tts,"extent");if(null===me)return null;var Ee=me.split(" ");if(2!==Ee.length)return X(te,"Malformed extent (ignoring)"),null;var q=P.parseLength(Ee[0]),K=P.parseLength(Ee[1]);return K&&q?{h:K,w:q}:(X(te,"Malformed extent values (ignoring)"),null)}(k,me);null===j?this.pxLength={h:null,w:null}:(("px"!==j.h.unit||"px"!==j.w.unit)&&V(me,"Extent on TT must be in px or absent"),this.pxLength={h:new P.ComputedLength(0,1/j.h.value),w:new P.ComputedLength(1/j.w.value,0)}),this.dimensions={h:new P.ComputedLength(0,1),w:new P.ComputedLength(1,0)},this.lang=te},l.prototype._registerEvent=function(k){if(!(k.end<=k.begin)){var te=re(this.events,k.begin);if(te.found||this.events.splice(te.index,0,k.begin),k.end!==Number.POSITIVE_INFINITY){var me=re(this.events,k.end);me.found||this.events.splice(me.index,0,k.end)}}},l.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},l.prototype.getMediaTimeEvents=function(){return this.events},_.prototype.initFromNode=function(k,te){this.id=Y(k),this.styleAttrs=ve(k,te),this.styleRefs=oe(k)},N.prototype.initFromNode=function(k,te){for(var me in this.styleAttrs={},k.attributes)k.attributes[me].uri!==I.ns_itts&&k.attributes[me].uri!==I.ns_ebutts&&k.attributes[me].uri!==I.ns_tts||(this.styleAttrs[k.attributes[me].uri+" "+k.attributes[me].local]=k.attributes[me].value)},O.prototype.initFromNode=function(k,te,me,Ee,q){this.src="src"in me.attributes?me.attributes.src.value:null,this.src||F(q,"Invalid image@src attribute"),this.type="type"in me.attributes?me.attributes.type.value:null,this.type||F(q,"Invalid image@type attribute"),y.prototype.initFromNode.call(this,k,te,me,q),E.prototype.initFromNode.call(this,k,te,me,q),g.prototype.initFromNode.call(this,k,te,me,q),p.prototype.initFromNode.call(this,k,te,me,q),this.lang=Ee},v.prototype.initFromNode=function(k,te,me,Ee){this.id=Y(me)},p.prototype.initFromNode=function(k,te,me,Ee){this.regionID=function z(k){return k&&"region"in k.attributes?k.attributes.region.value:""}(me)},y.prototype.initFromNode=function(k,te,me,Ee){this.styleAttrs=ve(me,Ee),null!==k.head&&null!==k.head.styling&&Se(k.head.styling,oe(me),this.styleAttrs,Ee)},g.prototype.initFromNode=function(k,te,me,Ee){this.sets=[]},A.prototype.initFromNode=function(k,te,me,Ee){this.contents=[]},E.prototype.initFromNode=function(k,te,me,Ee){var q=function _e(k,te,me,Ee){var q=null;me&&"begin"in me.attributes&&null===(q=fe(k.tickRate,k.effectiveFrameRate,me.attributes.begin.value))&&X(Ee,"Malformed begin value "+me.attributes.begin.value+" (using 0)");var K=null;me&&"dur"in me.attributes&&null===(K=fe(k.tickRate,k.effectiveFrameRate,me.attributes.dur.value))&&X(Ee,"Malformed dur value "+me.attributes.dur.value+" (ignoring)");var j=null;return me&&"end"in me.attributes&&null===(j=fe(k.tickRate,k.effectiveFrameRate,me.attributes.end.value))&&X(Ee,"Malformed end value (ignoring)"),{explicit_begin:q,explicit_end:j,explicit_dur:K}}(k,0,me,Ee);this.explicit_begin=q.explicit_begin,this.explicit_end=q.explicit_end,this.explicit_dur=q.explicit_dur,this.timeContainer=function ie(k,te){var me=k&&"timeContainer"in k.attributes?k.attributes.timeContainer.value:null;return me&&"par"!==me?"seq"===me?"seq":(F(te,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(me,Ee)},L.prototype.initFromNode=function(k,te,me,Ee){y.prototype.initFromNode.call(this,k,null,te,Ee),E.prototype.initFromNode.call(this,k,null,te,Ee),g.prototype.initFromNode.call(this,k,null,te,Ee),p.prototype.initFromNode.call(this,k,null,te,Ee),A.prototype.initFromNode.call(this,k,null,te,Ee),this.lang=me},G.prototype.initFromNode=function(k,te,me,Ee,q){y.prototype.initFromNode.call(this,k,te,me,q),E.prototype.initFromNode.call(this,k,te,me,q),g.prototype.initFromNode.call(this,k,te,me,q),p.prototype.initFromNode.call(this,k,te,me,q),A.prototype.initFromNode.call(this,k,te,me,q),this.lang=Ee},ee.prototype.initFromNode=function(k,te,me,Ee,q){y.prototype.initFromNode.call(this,k,te,me,q),E.prototype.initFromNode.call(this,k,te,me,q),g.prototype.initFromNode.call(this,k,te,me,q),p.prototype.initFromNode.call(this,k,te,me,q),A.prototype.initFromNode.call(this,k,te,me,q),this.lang=Ee},Q.prototype.initFromNode=function(k,te,me,Ee,q,K){y.prototype.initFromNode.call(this,k,te,me,K),E.prototype.initFromNode.call(this,k,te,me,K),g.prototype.initFromNode.call(this,k,te,me,K),p.prototype.initFromNode.call(this,k,te,me,K),A.prototype.initFromNode.call(this,k,te,me,K),this.space=q,this.lang=Ee},le.prototype.initFromText=function(k,te,me,Ee,q,K){E.prototype.initFromNode.call(this,k,te,null,K),this.text=me,this.space=q,this.lang=Ee},H.prototype.initFromNode=function(k,te,me,Ee,q){p.prototype.initFromNode.call(this,k,te,me,q),E.prototype.initFromNode.call(this,k,te,me,q),this.lang=Ee},W.prototype.createDefaultRegion=function(k){var te=new W;return v.call(te,""),y.call(te,{}),g.call(te,[]),E.call(te,0,Number.POSITIVE_INFINITY,null),this.lang=k,te},W.prototype.initFromNode=function(k,te,me,Ee){v.prototype.initFromNode.call(this,k,null,te,Ee),E.prototype.initFromNode.call(this,k,null,te,Ee),g.prototype.initFromNode.call(this,k,null,te,Ee),this.styleAttrs=ve(te,Ee),this.styleRefs=oe(te),this.lang=me},x.prototype.initFromNode=function(k,te,me,Ee){E.prototype.initFromNode.call(this,k,te,me,Ee);var q=ve(me,Ee);for(var K in this.qname=null,this.value=null,q)if(q.hasOwnProperty(K)){if(this.qname){F(Ee,"More than one style specified on set");break}this.qname=K,this.value=q[K]}}}(U,typeof sax>"u"?m("./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?m("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?m("./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?m("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":function(Ie,U,m){!function(M,T,I){function w(H,W,x,Y){var z;if("region"===x.kind)(z=document.createElement("div")).style.position="absolute";else if("body"===x.kind)z=document.createElement("div");else if("div"===x.kind)z=document.createElement("div");else if("image"===x.kind){if(z=document.createElement("img"),null!==H.imgResolver&&null!==x.src){var ie=H.imgResolver(x.src,z);ie&&(z.src=ie),z.height=H.regionH,z.width=H.regionW}}else if("p"===x.kind)z=document.createElement("p");else if("span"===x.kind)if("container"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("ruby"),H.ruby=!0;else if("base"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("rb");else if("text"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("rt");else if("baseContainer"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("rbc");else if("textContainer"===x.styleAttrs[I.byName.ruby.qname])z=document.createElement("rtc");else{if("delimiter"===x.styleAttrs[I.byName.ruby.qname])return;z=document.createElement("span")}else"br"===x.kind&&(z=document.createElement("br"));if(z){if(x.lang&&("region"===x.kind||x.lang!==Y.lang)&&(z.lang=x.lang),W.appendChild(z),z.style.margin="0","region"===x.kind){var oe=x.styleAttrs[I.byName.writingMode.qname];"lrtb"===oe||"lr"===oe?(H.ipd="lr",H.bpd="tb"):"rltb"===oe||"rl"===oe?(H.ipd="rl",H.bpd="tb"):"tblr"===oe?(H.ipd="tb",H.bpd="lr"):("tbrl"===oe||"tb"===oe)&&(H.ipd="tb",H.bpd="rl")}else"p"===x.kind&&"tb"===H.bpd&&(H.ipd="ltr"===x.styleAttrs[I.byName.direction.qname]?"lr":"rl");for(var J=0;J<g.length;J++){var de=g[J],ae=x.styleAttrs[de.qname];void 0!==ae&&null!==de.map&&de.map(H,z,x,ae)}var pe=z,he=x.styleAttrs[I.byName.linePadding.qname];if(he&&!he.isZero()){var fe=he.toUsedLength(H.w,H.h);if(fe>0){var _e=Math.ceil(fe)+"px";"tb"===H.bpd?(pe.style.paddingLeft=_e,pe.style.paddingRight=_e):(pe.style.paddingTop=_e,pe.style.paddingBottom=_e),H.lp=he}}var se=x.styleAttrs[I.byName.multiRowAlign.qname];if(se&&"auto"!==se){var Se=document.createElement("span");Se.style.display="inline-block",Se.style.textAlign=se,z.appendChild(Se),pe=Se,H.mra=se}var ge=x.styleAttrs[I.byName.rubyReserve.qname];if(ge&&"none"!==ge[0]&&(H.rubyReserve=ge),x.styleAttrs[I.byName.fillLineGap.qname]&&(H.flg=!0),"span"===x.kind&&x.text){var ne=x.styleAttrs[I.byName.textEmphasis.qname];if(ne&&"none"!==ne.style&&(H.textEmphasis=!0),I.byName.textCombine.qname in x.styleAttrs&&"all"===x.styleAttrs[I.byName.textCombine.qname])z.textContent=x.text,ne&&p(H,z,0,ne);else for(var X="",F=0;F<x.text.length;F++){X+=x.text.charAt(F);var V=x.text.charCodeAt(F);if(V<55296||V>56319||F===x.text.length-1){var re=document.createElement("span");re.textContent=X,ne&&p(H,re,0,ne),z.appendChild(re),X="",re._isd_element=x}}}if("contents"in x)for(var k=0;k<x.contents.length;k++)w(H,pe,x.contents[k],x);var te=[];if("p"===x.kind&&(b(H,pe,te,null),H.rubyReserve&&(function _(H,W){for(var x=0;x<H.length;x++){var Y=document.createElement("ruby"),z=document.createElement("rb");z.textContent="\u200b",Y.appendChild(z);var ie,oe,ve=W.rubyReserve[1].toUsedLength(W.w,W.h)+"px";"both"===W.rubyReserve[0]||"outside"===W.rubyReserve[0]&&1==H.length?((ie=document.createElement("rtc")).style[G]=L?"after":"under",ie.textContent="\u200b",ie.style.fontSize=ve,(oe=document.createElement("rtc")).style[G]=L?"before":"over",oe.textContent="\u200b",oe.style.fontSize=ve,Y.appendChild(ie),Y.appendChild(oe)):((ie=document.createElement("rtc")).textContent="\u200b",ie.style.fontSize=ve,ie.style[G]="after"===W.rubyReserve[0]||"outside"===W.rubyReserve[0]&&x>0?L?"after":"tb"===W.bpd||"rl"===W.bpd?"under":"over":L?"before":"tb"===W.bpd||"rl"===W.bpd?"over":"under",Y.appendChild(ie));for(var de=null,ae=0;ae<H[x].rbc.length;ae++)if("ruby"===H[x].rbc[ae].localName){de=H[x].rbc[ae];for(var pe=0;pe<de.style.length;pe++)Y.style.setProperty(de.style.item(pe),de.style.getPropertyValue(de.style.item(pe)));break}(de=de||H[x].elements[0].node).parentElement.insertBefore(Y,de)}}(te,H),H.rubyReserve=null),(H.ruby||H.rubyReserve)&&(function f(H,W){for(var x=0;x<H.length;x++)for(var Y=0;Y<H[x].rbc.length;Y++)H[x].rbc[Y].style[G]||(H[x].rbc[Y].style[G]=L?0===x?"before":"after":"tb"===W.bpd||"rl"===W.bpd?0===x?"over":"under":0===x?"under":"over")}(te,H),H.ruby=null),H.textEmphasis&&(function d(H,W){for(var x=0;x<H.length;x++)for(var Y=0;Y<H[x].te.length;Y++)H[x].te[Y].style[Q]&&"none"!==H[x].te[Y].style[Q]||(H[x].te[Y].style[Q]="tb"===W.bpd?0===x?"left over":"left under":"rl"===W.bpd?0===x?"right under":"left under":0===x?"left under":"right under")}(te,H),H.textEmphasis=null),H.mra&&(function l(H){for(var W=0;W<H.length-1;W++){var x=H[W].elements.length;if(0!==x&&!1===H[W].br){var Y=document.createElement("br"),z=H[W].elements[x-1].node;z.parentElement.insertBefore(Y,z.nextSibling)}}}(te),H.mra=null),H.lp&&(function c(H,W,x){if(null!==H)for(var Y=0;Y<H.length;Y++){var z=H[Y].elements.length,ie=Math.ceil(W)+"px",oe="-"+Math.ceil(W)+"px";if(0!==z){var ve=H[Y].elements[H[Y].start_elem],J=H[Y].elements[H[Y].end_elem];if(ve===J&&(elementBoundingRect=ve.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===x.ipd?(ve.node.style.marginLeft=oe,ve.node.style.paddingLeft=ie):"rl"===x.ipd?(ve.node.style.paddingRight=ie,ve.node.style.marginRight=oe):"tb"===x.ipd&&(ve.node.style.paddingTop=ie,ve.node.style.marginTop=oe),"lr"===x.ipd?(J.node.style.marginRight=oe,J.node.style.paddingRight=ie):"rl"===x.ipd?(J.node.style.paddingLeft=ie,J.node.style.marginLeft=oe):"tb"===x.ipd&&(J.node.style.paddingBottom=ie,J.node.style.marginBottom=oe)}}}(te,H.lp.toUsedLength(H.w,H.h),H),H.lp=null),function P(H){for(var W=0;W<H.length;W++)for(var x=H[W],Y=1;Y<x.elements.length;)D(x.elements[Y-1].node,x.elements[Y].node)?x.elements.splice(Y,1):Y++;for(var oe,ve,J=[],de=0;de<H.length;de++)for(var ae=0;ae<H[de].elements.length;ae++)(ve=R(oe=H[de].elements[ae].node,J,!1))&&(oe.style.backgroundColor=ve);for(var pe=0;pe<J.length;pe++)J[pe].style.backgroundColor=""}(te),H.flg)){var me=O(pe.getBoundingClientRect(),H);(function N(H,W,x,Y,z){for(var ie=Math.sign(x-W),oe=0;oe<=H.length;oe++){var ve,J,de,ae;if(ve=0===oe?Math.round(W):oe===H.length?Math.round(x):Math.round((H[oe-1].after+H[oe].before)/2),oe>0&&H[oe-1])for(de=0;de<H[oe-1].elements.length;de++)J=ie*(ve-(ae=H[oe-1].elements[de]).after)+"px","lr"===Y.bpd?ae.node.style.paddingRight=J:"rl"===Y.bpd?ae.node.style.paddingLeft=J:"tb"===Y.bpd&&(ae.node.style.paddingBottom=J);if(oe<H.length)for(de=0;de<H[oe].elements.length;de++)J=ie*((ae=H[oe].elements[de]).before-ve)+"px","lr"===Y.bpd?ae.node.style.paddingLeft=J:"rl"===Y.bpd?ae.node.style.paddingRight=J:"tb"===Y.bpd&&(ae.node.style.paddingTop=J)}})(te,me.before,me.after,H),H.flg=null}if("region"===x.kind&&"tb"===H.bpd&&H.enableRollUp&&x.contents.length>0&&"after"===x.styleAttrs[I.byName.displayAlign.qname]){b(H,pe,te,null);var q=new S(""===x.id?"_":x.id,te);if(H.currentISDState[q.id]=q,H.previousISDState&&q.id in H.previousISDState&&H.previousISDState[q.id].plist.length>0&&q.plist.length>1&&q.plist[q.plist.length-2].text===H.previousISDState[q.id].plist[H.previousISDState[q.id].plist.length-1].text){var K=z.firstElementChild,j=q.plist[q.plist.length-1].after-q.plist[q.plist.length-1].before;K.style.bottom="-"+j+"px",K.style.transition="transform 0.4s",K.style.position="relative",K.style.transform="translateY(-"+j+"px)"}}}else!function le(H,W){if(H&&H.error&&H.error(W))throw W}(H.errorHandler,"Error processing ISD element kind: "+x.kind)}function R(H,W,x){return H.style.backgroundColor?(x&&!W.includes(H)&&W.push(H),H.style.backgroundColor):"SPAN"===H.parentElement.nodeName?R(H.parentElement,W,!0):void 0}function D(H,W){if("SPAN"===H.tagName&&"SPAN"===W.tagName&&H._isd_element===W._isd_element){H.textContent+=W.textContent;for(var x=0;x<W.style.length;x++){var Y=W.style[x];(Y.indexOf("border")>=0||Y.indexOf("padding")>=0||Y.indexOf("margin")>=0)&&(H.style[Y]=W.style[Y])}return W.parentElement.removeChild(W),!0}return!1}function S(H,W){this.id=H,this.plist=W}function O(H,W){var x={before:null,after:null,start:null,end:null};return"tb"===W.bpd?(x.before=H.top,x.after=H.bottom,"lr"===W.ipd?(x.start=H.left,x.end=H.right):(x.start=H.right,x.end=H.left)):"lr"===W.bpd?(x.before=H.left,x.after=H.right,x.start=H.top,x.end=H.bottom):"rl"===W.bpd&&(x.before=H.right,x.after=H.left,x.start=H.top,x.end=H.bottom),x}function b(H,W,x,Y){if("rt"!==W.localName&&"rtc"!==W.localName){var z=W.style.backgroundColor||Y;if(0===W.childElementCount)if("span"===W.localName||"rb"===W.localName){var oe=O(W.getBoundingClientRect(),H);if(0!==x.length&&function v(H,W,x,Y){return W<Y&&H>x||Y<=W&&x>=H}(oe.before,oe.after,x[x.length-1].before,x[x.length-1].after)){var ve=Math.sign(oe.after-oe.before),J=Math.sign(oe.end-oe.start);ve*(oe.before-x[x.length-1].before)<0&&(x[x.length-1].before=oe.before),ve*(oe.after-x[x.length-1].after)>0&&(x[x.length-1].after=oe.after),J*(oe.start-x[x.length-1].start)<0&&(x[x.length-1].start=oe.start,x[x.length-1].start_elem=x[x.length-1].elements.length),J*(oe.end-x[x.length-1].end)>0&&(x[x.length-1].end=oe.end,x[x.length-1].end_elem=x[x.length-1].elements.length)}else x.push({before:oe.before,after:oe.after,start:oe.start,end:oe.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});x[x.length-1].text+=W.textContent,x[x.length-1].elements.push({node:W,bgcolor:z,before:oe.before,after:oe.after})}else"br"===W.localName&&0!==x.length&&(x[x.length-1].br=!0);else for(var de=W.firstChild;de;)de.nodeType===Node.ELEMENT_NODE&&(b(H,de,x,z),"ruby"===de.localName||"rtc"===de.localName?x.length>0&&x[x.length-1].rbc.push(de):"span"===de.localName&&de.style[ee]&&"none"!==de.style[ee]&&x.length>0&&x[x.length-1].te.push(de)),de=de.nextSibling}}function p(H,W,x,Y){"none"!==Y.style&&(W.style[ee]="auto"===Y.style?"filled":Y.style+" "+Y.symbol,"before"===Y.position||"after"===Y.position)&&(W.style[Q]="tb"===H.bpd?"before"===Y.position?"left over":"left under":"rl"===H.bpd?"before"===Y.position?"right under":"left under":"before"===Y.position?"left under":"right under")}function y(H,W){this.qname=H,this.map=W}M.render=function(H,W,x,Y,z,ie,oe,ve,J){var de=Y||W.clientHeight,ae=z||W.clientWidth;if(null!==H.aspectRatio){var pe=de*H.aspectRatio;pe>ae?de=Math.round(ae/H.aspectRatio):ae=pe}var he=document.createElement("div");he.style.position="relative",he.style.width=ae+"px",he.style.height=de+"px",he.style.margin="auto",he.style.top=0,he.style.bottom=0,he.style.left=0,he.style.right=0,he.style.zIndex=0;var fe={h:de,w:ae,regionH:null,regionW:null,imgResolver:x,displayForcedOnlyMode:ie||!1,isd:H,errorHandler:oe,previousISDState:ve,enableRollUp:J||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(W.appendChild(he),"contents"in H)for(var _e=0;_e<H.contents.length;_e++)w(fe,he,H.contents[_e],H);return fe.currentISDState};for(var g=[new y("http://www.w3.org/ns/ttml#styling backgroundColor",function(H,W,x,Y){0!==Y[3]&&(W.style.backgroundColor="rgba("+Y[0].toString()+","+Y[1].toString()+","+Y[2].toString()+","+(Y[3]/255).toString()+")")}),new y("http://www.w3.org/ns/ttml#styling color",function(H,W,x,Y){W.style.color="rgba("+Y[0].toString()+","+Y[1].toString()+","+Y[2].toString()+","+(Y[3]/255).toString()+")"}),new y("http://www.w3.org/ns/ttml#styling direction",function(H,W,x,Y){W.style.direction=Y}),new y("http://www.w3.org/ns/ttml#styling display",function(H,W,x,Y){}),new y("http://www.w3.org/ns/ttml#styling displayAlign",function(H,W,x,Y){W.style.display="flex",W.style.flexDirection="column","before"===Y?W.style.justifyContent="flex-start":"center"===Y?W.style.justifyContent="center":"after"===Y&&(W.style.justifyContent="flex-end")}),new y("http://www.w3.org/ns/ttml#styling extent",function(H,W,x,Y){H.regionH=Y.h.toUsedLength(H.w,H.h),H.regionW=Y.w.toUsedLength(H.w,H.h);var z=0,ie=0,oe=x.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];oe&&(z=oe[0].toUsedLength(H.w,H.h)+oe[2].toUsedLength(H.w,H.h),ie=oe[1].toUsedLength(H.w,H.h)+oe[3].toUsedLength(H.w,H.h)),W.style.height=H.regionH-z+"px",W.style.width=H.regionW-ie+"px"}),new y("http://www.w3.org/ns/ttml#styling fontFamily",function(H,W,x,Y){for(var z=[],ie=0;ie<Y.length;ie++)"monospaceSerif"===Y[ie]?(z.push("Courier New"),z.push('"Liberation Mono"'),z.push("Courier"),z.push("monospace")):"proportionalSansSerif"===Y[ie]?(z.push("Arial"),z.push("Helvetica"),z.push('"Liberation Sans"'),z.push("sans-serif")):"monospace"===Y[ie]?z.push("monospace"):"sansSerif"===Y[ie]?z.push("sans-serif"):"serif"===Y[ie]?z.push("serif"):"monospaceSansSerif"===Y[ie]?(z.push("Consolas"),z.push("monospace")):z.push("proportionalSerif"===Y[ie]?"serif":Y[ie]);if(z.length>0){for(var oe=[z[0]],ve=1;ve<z.length;ve++)-1==oe.indexOf(z[ve])&&oe.push(z[ve]);z=oe}W.style.fontFamily=z.join(",")}),new y("http://www.w3.org/ns/ttml#styling shear",function(H,W,x,Y){if(0!==Y){var z=-.9*Y;W.style.transform="tb"===H.bpd?"skewX("+z+"deg)":"skewY("+z+"deg)"}}),new y("http://www.w3.org/ns/ttml#styling fontSize",function(H,W,x,Y){W.style.fontSize=Y.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling fontStyle",function(H,W,x,Y){W.style.fontStyle=Y}),new y("http://www.w3.org/ns/ttml#styling fontWeight",function(H,W,x,Y){W.style.fontWeight=Y}),new y("http://www.w3.org/ns/ttml#styling lineHeight",function(H,W,x,Y){W.style.lineHeight="normal"===Y?"normal":Y.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling opacity",function(H,W,x,Y){W.style.opacity=Y}),new y("http://www.w3.org/ns/ttml#styling origin",function(H,W,x,Y){W.style.top=Y.h.toUsedLength(H.w,H.h)+"px",W.style.left=Y.w.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling overflow",function(H,W,x,Y){W.style.overflow=Y}),new y("http://www.w3.org/ns/ttml#styling padding",function(H,W,x,Y){var z=[];z[0]=Y[0].toUsedLength(H.w,H.h)+"px",z[1]=Y[3].toUsedLength(H.w,H.h)+"px",z[2]=Y[2].toUsedLength(H.w,H.h)+"px",z[3]=Y[1].toUsedLength(H.w,H.h)+"px",W.style.padding=z.join(" ")}),new y("http://www.w3.org/ns/ttml#styling position",function(H,W,x,Y){W.style.top=Y.h.toUsedLength(H.w,H.h)+"px",W.style.left=Y.w.toUsedLength(H.w,H.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling rubyAlign",function(H,W,x,Y){W.style.rubyAlign="spaceAround"===Y?"space-around":"center"}),new y("http://www.w3.org/ns/ttml#styling rubyPosition",function(H,W,x,Y){"before"!==Y&&"after"!==Y||(W.parentElement.style[G]=L?Y:"tb"===H.bpd||"rl"===H.bpd?"before"===Y?"over":"under":"before"===Y?"under":"over")}),new y("http://www.w3.org/ns/ttml#styling showBackground",null),new y("http://www.w3.org/ns/ttml#styling textAlign",function(H,W,x,Y){W.style.textAlign="start"===Y?"rl"===H.ipd?"right":"left":"end"===Y?"rl"===H.ipd?"left":"right":Y}),new y("http://www.w3.org/ns/ttml#styling textDecoration",function(H,W,x,Y){W.style.textDecoration=Y.join(" ").replace("lineThrough","line-through")}),new y("http://www.w3.org/ns/ttml#styling textOutline",function(H,W,x,Y){}),new y("http://www.w3.org/ns/ttml#styling textShadow",function(H,W,x,Y){var z=x.styleAttrs[I.byName.textOutline.qname];if("none"===Y&&"none"===z)W.style.textShadow="";else{var ie=[];if("none"!==z){var oe="rgba("+z.color[0].toString()+","+z.color[1].toString()+","+z.color[2].toString()+","+(z.color[3]/255).toString()+")";ie.push("1px 1px 1px "+oe),ie.push("-1px 1px 1px "+oe),ie.push("1px -1px 1px "+oe),ie.push("-1px -1px 1px "+oe)}if("none"!==Y)for(var ve=0;ve<Y.length;ve++)ie.push(Y[ve].x_off.toUsedLength(H.w,H.h)+"px "+Y[ve].y_off.toUsedLength(H.w,H.h)+"px "+Y[ve].b_radius.toUsedLength(H.w,H.h)+"px rgba("+Y[ve].color[0].toString()+","+Y[ve].color[1].toString()+","+Y[ve].color[2].toString()+","+(Y[ve].color[3]/255).toString()+")");W.style.textShadow=ie.join(",")}}),new y("http://www.w3.org/ns/ttml#styling textCombine",function(H,W,x,Y){W.style.textCombineUpright=Y}),new y("http://www.w3.org/ns/ttml#styling textEmphasis",function(H,W,x,Y){}),new y("http://www.w3.org/ns/ttml#styling unicodeBidi",function(H,W,x,Y){W.style.unicodeBidi="bidiOverride"===Y?"bidi-override":Y}),new y("http://www.w3.org/ns/ttml#styling visibility",function(H,W,x,Y){W.style.visibility=Y}),new y("http://www.w3.org/ns/ttml#styling wrapOption",function(H,W,x,Y){W.style.whiteSpace="wrap"===Y?"preserve"===x.space?"pre-wrap":"normal":"preserve"===x.space?"pre":"noWrap"}),new y("http://www.w3.org/ns/ttml#styling writingMode",function(H,W,x,Y){"lrtb"===Y||"lr"===Y||"rltb"===Y||"rl"===Y?W.style.writingMode="horizontal-tb":"tblr"===Y?W.style.writingMode="vertical-lr":("tbrl"===Y||"tb"===Y)&&(W.style.writingMode="vertical-rl")}),new y("http://www.w3.org/ns/ttml#styling zIndex",function(H,W,x,Y){W.style.zIndex=Y}),new y("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(H,W,x,Y){H.displayForcedOnlyMode&&!1===Y&&(W.style.visibility="hidden")})],A={},E=0;E<g.length;E++)A[g[E].qname]=g[E];var L="webkitRubyPosition"in window.getComputedStyle(document.documentElement),G=L?"webkitRubyPosition":"rubyPosition",ee="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",Q="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(U,typeof imscNames>"u"?m("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?m("./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?m("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":function(Ie,U,m){!function(M,T,I,w){M.generateISD=function(b,v,p){var A,y=new d(b),g={},E={},L=b.head.styling.initials[I.byName.showBackground.qname],G=b.head.styling.initials[I.byName.backgroundColor.qname];for(var ee in b.head.layout.regions)if(b.head.layout.regions.hasOwnProperty(ee)){var Q=b.head.layout.regions[ee],le=Q.styleAttrs[I.byName.showBackground.qname]||L;E[Q.id]=("always"===le||void 0===le)&&void 0!==(Q.styleAttrs[I.byName.backgroundColor.qname]||G)&&!(v<Q.begin||v>=Q.end)}for(var x in b.body&&b.body.regionID&&(E[b.body.regionID]=!0),A=null!==b.body?function W(z,ie){if(ie.contents){var ve={};for(var J in ie)ie.hasOwnProperty(J)&&(ve[J]=ie[J]);return ve.contents=[],ie.contents.filter(function oe(de){return!(z<de.begin||z>=de.end)}).forEach(function(de){var ae=W(z,de);ae.regionID&&(E[ae.regionID]=!0),null!==ae&&ve.contents.push(ae)}),ve}return ie}(v,b.body):null,void 0!==E[""]&&(E[""]=!0),E)if(E[x]){var Y=R(b,v,b.head.layout.regions[x],A,null,"",b.head.layout.regions[x],p,g);null!==Y&&y.contents.push(Y.element)}return y};var P=[I.byName.color.qname,I.byName.textCombine.qname,I.byName.textDecoration.qname,I.byName.textEmphasis.qname,I.byName.textOutline.qname,I.byName.textShadow.qname];function R(b,v,p,y,g,A,E,L,G){if(v<E.begin||v>=E.end)return null;var ee="regionID"in E&&""!==E.regionID?E.regionID:A;if(null!==g&&ee!==p.id&&(!("contents"in E)||"contents"in E&&0===E.contents.length||""!==ee))return null;var Q=new f(E);if("sets"in E)for(var le=0;le<E.sets.length;le++)v<E.sets[le].begin||v>=E.sets[le].end||(Q.styleAttrs[E.sets[le].qname]=E.sets[le].value);var H={};for(var W in Q.styleAttrs)if(Q.styleAttrs.hasOwnProperty(W)&&(H[W]=!0,"region"===Q.kind&&W===I.byName.writingMode.qname&&!(I.byName.direction.qname in Q.styleAttrs))){var x=Q.styleAttrs[W];"lrtb"===x||"lr"===x?Q.styleAttrs[I.byName.direction.qname]="ltr":("rltb"===x||"rl"===x)&&(Q.styleAttrs[I.byName.direction.qname]="rtl")}if(null!==g)for(var Y=0;Y<I.all.length;Y++){var z=I.all[Y];if(z.qname===I.byName.textDecoration.qname){var ie=g.styleAttrs[z.qname],oe=Q.styleAttrs[z.qname],ve=[];void 0===oe?ve=ie:-1===oe.indexOf("none")?((-1===oe.indexOf("noUnderline")&&-1!==ie.indexOf("underline")||-1!==oe.indexOf("underline"))&&ve.push("underline"),(-1===oe.indexOf("noLineThrough")&&-1!==ie.indexOf("lineThrough")||-1!==oe.indexOf("lineThrough"))&&ve.push("lineThrough"),(-1===oe.indexOf("noOverline")&&-1!==ie.indexOf("overline")||-1!==oe.indexOf("overline"))&&ve.push("overline")):ve.push("none"),Q.styleAttrs[z.qname]=ve}else if(z.qname!==I.byName.fontSize.qname||z.qname in Q.styleAttrs||"span"!==Q.kind||"textContainer"!==Q.styleAttrs[I.byName.ruby.qname])if(z.qname!==I.byName.fontSize.qname||z.qname in Q.styleAttrs||"span"!==Q.kind||"text"!==Q.styleAttrs[I.byName.ruby.qname])z.inherit&&z.qname in g.styleAttrs&&!(z.qname in Q.styleAttrs)&&(Q.styleAttrs[z.qname]=g.styleAttrs[z.qname]);else{var de=g.styleAttrs[I.byName.fontSize.qname];Q.styleAttrs[z.qname]="textContainer"===g.styleAttrs[I.byName.ruby.qname]?de:new w.ComputedLength(.5*de.rw,.5*de.rh)}else{var J=g.styleAttrs[I.byName.fontSize.qname];Q.styleAttrs[z.qname]=new w.ComputedLength(.5*J.rw,.5*J.rh)}}for(var ae=0;ae<I.all.length;ae++){var pe=I.all[ae];if(!(pe.qname in Q.styleAttrs||pe.qname===I.byName.position.qname&&I.byName.origin.qname in Q.styleAttrs||pe.qname===I.byName.origin.qname&&I.byName.position.qname in Q.styleAttrs)){var he=b.head.styling.initials[pe.qname]||pe.initial;if(null!==he&&("region"===Q.kind||!1===pe.inherit&&null!==he)){var fe=pe.parse(he);null!==fe?(Q.styleAttrs[pe.qname]=fe,H[pe.qname]=!0):S(L,"Invalid initial value for '"+pe.qname+"' on element '"+Q.kind)}}}for(var _e=0;_e<I.all.length;_e++){var se=I.all[_e];if(se.qname in H&&null!==se.compute){var Se=se.compute(b,g,Q,Q.styleAttrs[se.qname],G);null!==Se?Q.styleAttrs[se.qname]=Se:(Q.styleAttrs[se.qname]=se.compute(b,g,Q,se.parse(se.initial),G),S(L,"Style '"+se.qname+"' on element '"+Q.kind+"' cannot be computed"))}}if("none"===Q.styleAttrs[I.byName.display.qname])return null;var ge=null;null===g?ge=null===y?[]:[y]:"contents"in E&&(ge=E.contents);for(var ne=0;null!==ge&&ne<ge.length;ne++){var X=R(b,v,p,y,Q,ee,ge[ne],L,G);null!==X&&Q.contents.push(X.element)}for(var F in Q.styleAttrs)if(Q.styleAttrs.hasOwnProperty(F)){var V=!1;if("span"===Q.kind){var re=Q.styleAttrs[I.byName.ruby.qname];(V=("container"===re||"textContainer"===re||"baseContainer"===re)&&-1!==P.indexOf(F))||(V="container"!==re&&F===I.byName.rubyAlign.qname),V||(V=!("textContainer"===re||"text"===re)&&F===I.byName.rubyPosition.qname)}if(!V){var k=I.byQName[F];"applies"in k&&(V=-1===k.applies.indexOf(Q.kind))}V&&delete Q.styleAttrs[F]}var te=Q.styleAttrs[I.byName.ruby.qname];if("p"===Q.kind||"span"===Q.kind&&("textContainer"===te||"text"===te)){var me=[];c(Q,me),function D(b){function v(E){return"br"===E.kind||/[\r\n\t ]$/.test(E.text)}function p(E){return"br"===E.kind||"preserve"===E.space&&/^[\r\n]/.test(E.text)}for(var y,g=0;g<b.length;)if("br"!==(y=b[g]).kind&&"preserve"!==y.space){var A=y.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(A)&&(0===g||v(b[g-1]))&&(A=A.substring(1)),y.text=A,0===A.length?b.splice(g,1):g++}else g++;for(g=0;g<b.length;g++)"br"!==(y=b[g]).kind&&"preserve"!==y.space?/[ ]$/.test(y.text)&&(g===b.length-1||p(b[g+1]))&&(y.text=y.text.slice(0,-1)):g++}(me),l(Q)}return"div"===Q.kind&&I.byName.backgroundImage.qname in Q.styleAttrs||"br"===Q.kind||"image"===Q.kind||"contents"in Q&&Q.contents.length>0||"span"===Q.kind&&null!==Q.text||"region"===Q.kind&&"always"===Q.styleAttrs[I.byName.showBackground.qname]?{region_id:ee,element:Q}:null}function c(b,v){if("contents"in b)for(var p=0;p<b.contents.length;p++){var y=b.contents[p],g=y.styleAttrs[I.byName.ruby.qname];"span"===y.kind&&("textContainer"===g||"text"===g)||("contents"in y?c(y,v):("span"===y.kind&&0!==y.text.length||"br"===y.kind)&&v.push(y))}}function l(b){if("br"===b.kind)return!1;if("text"in b)return 0===b.text.length;if("contents"in b){for(var v=b.contents.length;v--;)l(b.contents[v])&&b.contents.splice(v,1);return 0===b.contents.length}}function d(b){this.contents=[],this.aspectRatio=b.aspectRatio,this.lang=b.lang}function f(b){for(var v in this.kind=b.kind||"region",this.lang=b.lang,b.id&&(this.id=b.id),this.styleAttrs={},b.styleAttrs)!b.styleAttrs.hasOwnProperty(v)||(this.styleAttrs[v]=b.styleAttrs[v]);"src"in b&&(this.src=b.src),"type"in b&&(this.type=b.type),"text"in b?this.text=b.text:("region"===this.kind||"contents"in b)&&(this.contents=[]),"space"in b&&(this.space=b.space)}function S(b,v){if(b&&b.error&&b.error(v))throw v}}(U,typeof imscNames>"u"?m("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?m("./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?m("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":function(Ie,U,m){U.generateISD=m("./node_modules/imsc/src/main/js/isd.js").generateISD,U.fromXML=m("./node_modules/imsc/src/main/js/doc.js").fromXML,U.renderHTML=m("./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":function(Ie,U,m){var M;(M=U).ns_tt="http://www.w3.org/ns/ttml",M.ns_tts="http://www.w3.org/ns/ttml#styling",M.ns_ttp="http://www.w3.org/ns/ttml#parameter",M.ns_xml="http://www.w3.org/XML/1998/namespace",M.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",M.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",M.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",M.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":function(Ie,U,m){!function(M,T,I){function w(D,c,l,d,f,_,N,S){this.name=c,this.ns=D,this.qname=D+" "+c,this.inherit=f,this.animatable=_,this.initial=l,this.applies=d,this.parse=N,this.compute=S}for(var P in M.all=[new w(T.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,I.parseColor,null),new w(T.ns_tts,"color","white",["span"],!0,!0,I.parseColor,null),new w(T.ns_tts,"direction","ltr",["p","span"],!0,!0,function(D){return D},null),new w(T.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(D){return D},null),new w(T.ns_tts,"displayAlign","before",["region"],!1,!0,function(D){return D},null),new w(T.ns_tts,"extent","auto",["tt","region"],!1,!0,function(D){if("auto"===D)return D;var c=D.split(" ");if(2!==c.length)return null;var l=I.parseLength(c[0]),d=I.parseLength(c[1]);return d&&l?{h:d,w:l}:null},function(D,c,l,d,f){var _,N;if("auto"===d)_=new I.ComputedLength(0,1);else if(null===(_=I.toComputedLength(d.h.value,d.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===d)N=new I.ComputedLength(1,0);else if(null===(N=I.toComputedLength(d.w.value,d.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:_,w:N}}),new w(T.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(D){for(var c=D.split(","),l=[],d=0;d<c.length;d++)"'"!==c[d].charAt(0)&&'"'!==c[d].charAt(0)&&"default"===c[d]?l.push("monospaceSerif"):l.push(c[d]);return l},null),new w(T.ns_tts,"shear","0%",["p"],!0,!0,I.parseLength,function(D,c,l,d){return"%"!==d.unit?null:Math.abs(d.value)>100?100*Math.sign(d.value):d.value}),new w(T.ns_tts,"fontSize","1c",["span","p"],!0,!0,I.parseLength,function(D,c,l,d,f){return I.toComputedLength(d.value,d.unit,null!==c?c.styleAttrs[M.byName.fontSize.qname]:D.cellLength.h,null!==c?c.styleAttrs[M.byName.fontSize.qname]:D.cellLength.h,D.cellLength.h,D.pxLength.h)}),new w(T.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(D){return D},null),new w(T.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(D){return D},null),new w(T.ns_tts,"lineHeight","normal",["p"],!0,!0,function(D){return"normal"===D?D:I.parseLength(D)},function(D,c,l,d,f){var _;if("normal"===d)_=d;else if(null===(_=I.toComputedLength(d.value,d.unit,l.styleAttrs[M.byName.fontSize.qname],l.styleAttrs[M.byName.fontSize.qname],D.cellLength.h,D.pxLength.h)))return null;return _}),new w(T.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new w(T.ns_tts,"origin","auto",["region"],!1,!0,function(D){if("auto"===D)return D;var c=D.split(" ");if(2!==c.length)return null;var l=I.parseLength(c[0]),d=I.parseLength(c[1]);return d&&l?{h:d,w:l}:null},function(D,c,l,d,f){var _,N;if("auto"===d)_=new I.ComputedLength(0,0);else if(null===(_=I.toComputedLength(d.h.value,d.h.unit,null,D.dimensions.h,null,D.pxLength.h)))return null;if("auto"===d)N=new I.ComputedLength(0,0);else if(null===(N=I.toComputedLength(d.w.value,d.w.unit,null,D.dimensions.w,null,D.pxLength.w)))return null;return{h:_,w:N}}),new w(T.ns_tts,"overflow","hidden",["region"],!1,!0,function(D){return D},null),new w(T.ns_tts,"padding","0px",["region"],!1,!0,function(D){var c=D.split(" ");if(c.length>4)return null;for(var l=[],d=0;d<c.length;d++){var f=I.parseLength(c[d]);if(!f)return null;l.push(f)}return l},function(D,c,l,d,f){var _;if(1===d.length)_=[d[0],d[0],d[0],d[0]];else if(2===d.length)_=[d[0],d[1],d[0],d[1]];else if(3===d.length)_=[d[0],d[1],d[2],d[1]];else{if(4!==d.length)return null;_=[d[0],d[1],d[2],d[3]]}var N=l.styleAttrs[M.byName.writingMode.qname];if("lrtb"===N||"lr"===N)_=[_[0],_[3],_[2],_[1]];else if("rltb"===N||"rl"===N)_=[_[0],_[1],_[2],_[3]];else if("tblr"===N)_=[_[3],_[0],_[1],_[2]];else{if("tbrl"!==N&&"tb"!==N)return null;_=[_[3],_[2],_[1],_[0]]}for(var S=[],O=0;O<_.length;O++)if(0===_[O].value)S[O]=new I.ComputedLength(0,0);else if(S[O]=I.toComputedLength(_[O].value,_[O].unit,l.styleAttrs[M.byName.fontSize.qname],0===O||2===O?l.styleAttrs[M.byName.extent.qname].h:l.styleAttrs[M.byName.extent.qname].w,0===O||2===O?D.cellLength.h:D.cellLength.w,0===O||2===O?D.pxLength.h:D.pxLength.w),null===S[O])return null;return S}),new w(T.ns_tts,"position","top left",["region"],!1,!0,function(D){return I.parsePosition(D)},function(D,c,l,d){var f,_;return null===(f=I.toComputedLength(d.v.offset.value,d.v.offset.unit,null,new I.ComputedLength(-l.styleAttrs[M.byName.extent.qname].h.rw,D.dimensions.h.rh-l.styleAttrs[M.byName.extent.qname].h.rh),null,D.pxLength.h))||("bottom"===d.v.edge&&(f=new I.ComputedLength(-f.rw-l.styleAttrs[M.byName.extent.qname].h.rw,D.dimensions.h.rh-f.rh-l.styleAttrs[M.byName.extent.qname].h.rh)),_=I.toComputedLength(d.h.offset.value,d.h.offset.unit,null,new I.ComputedLength(D.dimensions.w.rw-l.styleAttrs[M.byName.extent.qname].w.rw,-l.styleAttrs[M.byName.extent.qname].w.rh),null,D.pxLength.w),null===f)?null:("right"===d.h.edge&&(_=new I.ComputedLength(D.dimensions.w.rw-_.rw-l.styleAttrs[M.byName.extent.qname].w.rw,-_.rh-l.styleAttrs[M.byName.extent.qname].w.rh)),{h:f,w:_})}),new w(T.ns_tts,"ruby","none",["span"],!1,!0,function(D){return D},null),new w(T.ns_tts,"rubyAlign","center",["span"],!0,!0,function(D){return"center"===D||"spaceAround"===D?D:null},null),new w(T.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(D){return D},null),new w(T.ns_tts,"rubyReserve","none",["p"],!0,!0,function(D){var c=D.split(" "),l=[null,null];if(0===c.length||c.length>2)return null;if("none"!==c[0]&&"both"!==c[0]&&"after"!==c[0]&&"before"!==c[0]&&"outside"!==c[0])return null;if(l[0]=c[0],2===c.length&&"none"!==c[0]){var d=I.parseLength(c[1]);if(!d)return null;l[1]=d}return l},function(D,c,l,d,f){if("none"===d[0])return d;var _;return null===(_=null===d[1]?new I.ComputedLength(.5*l.styleAttrs[M.byName.fontSize.qname].rw,.5*l.styleAttrs[M.byName.fontSize.qname].rh):I.toComputedLength(d[1].value,d[1].unit,l.styleAttrs[M.byName.fontSize.qname],l.styleAttrs[M.byName.fontSize.qname],D.cellLength.h,D.pxLength.h))?null:[d[0],_]}),new w(T.ns_tts,"showBackground","always",["region"],!1,!0,function(D){return D},null),new w(T.ns_tts,"textAlign","start",["p"],!0,!0,function(D){return D},function(D,c,l,d,f){return"left"===d?"start":"right"===d?"end":d}),new w(T.ns_tts,"textCombine","none",["span"],!0,!0,function(D){return"none"===D||"all"===D?D:null},null),new w(T.ns_tts,"textDecoration","none",["span"],!0,!0,function(D){return D.split(" ")},null),new w(T.ns_tts,"textEmphasis","none",["span"],!0,!0,function(D){for(var c=D.split(" "),l={style:null,symbol:null,color:null,position:null},d=0;d<c.length;d++)if("none"===c[d]||"auto"===c[d])l.style=c[d];else if("filled"===c[d]||"open"===c[d])l.style=c[d];else if("circle"===c[d]||"dot"===c[d]||"sesame"===c[d])l.symbol=c[d];else if("current"===c[d])l.color=c[d];else if("outside"===c[d]||"before"===c[d]||"after"===c[d])l.position=c[d];else if(l.color=I.parseColor(c[d]),null===l.color)return null;return null==l.style&&null==l.symbol?l.style="auto":(l.symbol=l.symbol||"circle",l.style=l.style||"filled"),l.position=l.position||"outside",l.color=l.color||"current",l},null),new w(T.ns_tts,"textOutline","none",["span"],!0,!0,function(D){if("none"===D)return D;var c={},l=D.split(" ");if(0===l.length||l.length>2)return null;var d=I.parseColor(l[0]);if(c.color=d,null!==d&&l.shift(),1!==l.length)return null;var f=I.parseLength(l[0]);return f?(c.thickness=f,c):null},function(D,c,l,d,f){if("none"===d)return d;var _={};return _.color=null===d.color?l.styleAttrs[M.byName.color.qname]:d.color,_.thickness=I.toComputedLength(d.thickness.value,d.thickness.unit,l.styleAttrs[M.byName.fontSize.qname],l.styleAttrs[M.byName.fontSize.qname],D.cellLength.h,D.pxLength.h),null===_.thickness?null:_}),new w(T.ns_tts,"textShadow","none",["span"],!0,!0,I.parseTextShadow,function(D,c,l,d){if("none"===d)return d;for(var f=[],_=0;_<d.length;_++){var N={};if(N.x_off=I.toComputedLength(d[_][0].value,d[_][0].unit,null,l.styleAttrs[M.byName.fontSize.qname],null,D.pxLength.w),null===N.x_off||(N.y_off=I.toComputedLength(d[_][1].value,d[_][1].unit,null,l.styleAttrs[M.byName.fontSize.qname],null,D.pxLength.h),null===N.y_off))return null;if(null===d[_][2])N.b_radius=0;else if(N.b_radius=I.toComputedLength(d[_][2].value,d[_][2].unit,null,l.styleAttrs[M.byName.fontSize.qname],null,D.pxLength.h),null===N.b_radius)return null;N.color=null===d[_][3]?l.styleAttrs[M.byName.color.qname]:d[_][3],f.push(N)}return f}),new w(T.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(D){return D},null),new w(T.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(D){return D},null),new w(T.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(D){return D},null),new w(T.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(D){return D},null),new w(T.ns_tts,"zIndex","auto",["region"],!1,!0,function(D){var c;return"auto"===D?c=D:(c=parseInt(D),isNaN(c)&&(c=null)),c},null),new w(T.ns_ebutts,"linePadding","0c",["p"],!0,!1,I.parseLength,function(D,c,l,d,f){return I.toComputedLength(d.value,d.unit,null,null,D.cellLength.w,null)}),new w(T.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(D){return D},null),new w(T.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(D){return D},null),new w(T.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(D){return"true"===D},null),new w(T.ns_itts,"fillLineGap","false",["p"],!0,!0,function(D){return"true"===D},null)],M.byQName={},M.all)M.byQName[M.all[P].qname]=M.all[P];for(var R in M.byName={},M.all)M.byName[M.all[R].name]=M.all[R]}(U,typeof imscNames>"u"?m("./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?m("./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":function(Ie,U,m){!function(M){var T=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,I=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,w=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,P={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};M.parseColor=function(D){var c,l=null,d=P[D.toLowerCase()];return void 0!==d?l=d:null!==(c=T.exec(D))?l=[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),void 0!==c[4]?parseInt(c[4],16):255]:null!==(c=I.exec(D))?l=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),255]:null!==(c=w.exec(D))&&(l=[parseInt(c[1]),parseInt(c[2]),parseInt(c[3]),parseInt(c[4])]),l};var R=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;M.parseLength=function(D){var c,l=null;return null!==(c=R.exec(D))&&(l={value:parseFloat(c[1]),unit:c[2]}),l},M.parseTextShadow=function(D){for(var c=D.match(/([^\(,\)]|\([^\)]+\))+/g),l=[],d=0;d<c.length;d++){var f=c[d].split(" ");if(1===f.length&&"none"===f[0])return"none";if(f.length>1&&f.length<5){var _=[null,null,null,null],N=M.parseLength(f.shift());if(null===N||(_[0]=N,null===(N=M.parseLength(f.shift()))))return null;if(_[1]=N,0===f.length){l.push(_);continue}if(null!==(N=M.parseLength(f[0]))&&(_[2]=N,f.shift()),0===f.length){l.push(_);continue}var S=M.parseColor(f[0]);if(null===S)return null;_[3]=S,l.push(_)}}return l},M.parsePosition=function(D){var c=D.split(" "),l=function(b){return"center"===b||"left"===b||"top"===b||"bottom"===b||"right"===b};if(c.length>4)return null;for(var d=0;d<c.length;d++)if(!l(c[d])){var f=M.parseLength(c[d]);if(null===f)return null;c[d]=f}for(var _={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},N=0;N<c.length;){var S=c[N++];if(l(S)){var O={value:0,unit:"%"};2!==c.length&&N<c.length&&!l(c[N])&&(O=c[N++]),"right"===S?(_.h.edge=S,_.h.offset=O):"bottom"===S?(_.v.edge=S,_.v.offset=O):"left"===S?_.h.offset=O:"top"===S&&(_.v.offset=O)}else{if(1!==c.length&&2!==c.length)return null;1===N?_.h.offset=S:_.v.offset=S}}return _},M.ComputedLength=function(D,c){this.rw=D,this.rh=c},M.ComputedLength.prototype.toUsedLength=function(D,c){return D*this.rw+c*this.rh},M.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},M.toComputedLength=function(D,c,l,d,f,_){return"%"===c&&d?new M.ComputedLength(d.rw*D/100,d.rh*D/100):"em"===c&&l?new M.ComputedLength(l.rw*D,l.rh*D):"c"===c&&f?new M.ComputedLength(D*f.rw,D*f.rh):"px"===c&&_?new M.ComputedLength(D*_.rw,D*_.rh):"rh"===c?new M.ComputedLength(0,D/100):"rw"===c?new M.ComputedLength(D/100,0):null}}(U)},"./node_modules/inherits/inherits_browser.js":function(Ie,U){Ie.exports="function"==typeof Object.create?function(M,T){T&&(M.super_=T,M.prototype=Object.create(T.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}))}:function(M,T){if(T){M.super_=T;var I=function(){};I.prototype=T.prototype,M.prototype=new I,M.prototype.constructor=M}}},"./node_modules/is-alphabetical/index.js":function(Ie,U,m){"use strict";Ie.exports=function M(T){var I="string"==typeof T?T.charCodeAt(0):T;return I>=97&&I<=122||I>=65&&I<=90}},"./node_modules/is-alphanumerical/index.js":function(Ie,U,m){"use strict";var M=m("./node_modules/is-alphabetical/index.js"),T=m("./node_modules/is-decimal/index.js");Ie.exports=function I(w){return M(w)||T(w)}},"./node_modules/is-decimal/index.js":function(Ie,U,m){"use strict";Ie.exports=function M(T){var I="string"==typeof T?T.charCodeAt(0):T;return I>=48&&I<=57}},"./node_modules/isarray/index.js":function(Ie,U){var m={}.toString;Ie.exports=Array.isArray||function(M){return"[object Array]"==m.call(M)}},"./node_modules/path-browserify/index.js":function(Ie,U,m){(function(M){function T(R,D){for(var c=0,l=R.length-1;l>=0;l--){var d=R[l];"."===d?R.splice(l,1):".."===d?(R.splice(l,1),c++):c&&(R.splice(l,1),c--)}if(D)for(;c--;c)R.unshift("..");return R}function w(R,D){if(R.filter)return R.filter(D);for(var c=[],l=0;l<R.length;l++)D(R[l],l,R)&&c.push(R[l]);return c}U.resolve=function(){for(var R="",D=!1,c=arguments.length-1;c>=-1&&!D;c--){var l=c>=0?arguments[c]:M.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(R=l+"/"+R,D="/"===l.charAt(0))}return(D?"/":"")+(R=T(w(R.split("/"),function(d){return!!d}),!D).join("/"))||"."},U.normalize=function(R){var D=U.isAbsolute(R),c="/"===P(R,-1);return!(R=T(w(R.split("/"),function(l){return!!l}),!D).join("/"))&&!D&&(R="."),R&&c&&(R+="/"),(D?"/":"")+R},U.isAbsolute=function(R){return"/"===R.charAt(0)},U.join=function(){var R=Array.prototype.slice.call(arguments,0);return U.normalize(w(R,function(D,c){if("string"!=typeof D)throw new TypeError("Arguments to path.join must be strings");return D}).join("/"))},U.relative=function(R,D){function c(O){for(var b=0;b<O.length&&""===O[b];b++);for(var v=O.length-1;v>=0&&""===O[v];v--);return b>v?[]:O.slice(b,v-b+1)}R=U.resolve(R).substr(1),D=U.resolve(D).substr(1);for(var l=c(R.split("/")),d=c(D.split("/")),f=Math.min(l.length,d.length),_=f,N=0;N<f;N++)if(l[N]!==d[N]){_=N;break}var S=[];for(N=_;N<l.length;N++)S.push("..");return(S=S.concat(d.slice(_))).join("/")},U.sep="/",U.delimiter=":",U.dirname=function(R){if("string"!=typeof R&&(R+=""),0===R.length)return".";for(var D=R.charCodeAt(0),c=47===D,l=-1,d=!0,f=R.length-1;f>=1;--f)if(47===(D=R.charCodeAt(f))){if(!d){l=f;break}}else d=!1;return-1===l?c?"/":".":c&&1===l?"/":R.slice(0,l)},U.basename=function(R,D){var c=function I(R){"string"!=typeof R&&(R+="");var d,D=0,c=-1,l=!0;for(d=R.length-1;d>=0;--d)if(47===R.charCodeAt(d)){if(!l){D=d+1;break}}else-1===c&&(l=!1,c=d+1);return-1===c?"":R.slice(D,c)}(R);return D&&c.substr(-1*D.length)===D&&(c=c.substr(0,c.length-D.length)),c},U.extname=function(R){"string"!=typeof R&&(R+="");for(var D=-1,c=0,l=-1,d=!0,f=0,_=R.length-1;_>=0;--_){var N=R.charCodeAt(_);if(47!==N)-1===l&&(d=!1,l=_+1),46===N?-1===D?D=_:1!==f&&(f=1):-1!==D&&(f=-1);else if(!d){c=_+1;break}}return-1===D||-1===l||0===f||1===f&&D===l-1&&D===c+1?"":R.slice(D,l)};var P=function(R,D,c){return R.substr(D,c)}}).call(this,m("./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":function(Ie,U,m){"use strict";(function(M){Ie.exports=typeof M>"u"||!M.version||0===M.version.indexOf("v0.")||0===M.version.indexOf("v1.")&&0!==M.version.indexOf("v1.8.")?{nextTick:function T(I,w,P,R){if("function"!=typeof I)throw new TypeError('"callback" argument must be a function');var c,l,D=arguments.length;switch(D){case 0:case 1:return M.nextTick(I);case 2:return M.nextTick(function(){I.call(null,w)});case 3:return M.nextTick(function(){I.call(null,w,P)});case 4:return M.nextTick(function(){I.call(null,w,P,R)});default:for(c=new Array(D-1),l=0;l<c.length;)c[l++]=arguments[l];return M.nextTick(function(){I.apply(null,c)})}}}:M}).call(this,m("./node_modules/process/browser.js"))},"./node_modules/process/browser.js":function(Ie,U){var M,T,m=Ie.exports={};function I(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}function P(O){if(M===setTimeout)return setTimeout(O,0);if((M===I||!M)&&setTimeout)return M=setTimeout,setTimeout(O,0);try{return M(O,0)}catch{try{return M.call(null,O,0)}catch{return M.call(this,O,0)}}}!function(){try{M="function"==typeof setTimeout?setTimeout:I}catch{M=I}try{T="function"==typeof clearTimeout?clearTimeout:w}catch{T=w}}();var l,D=[],c=!1,d=-1;function f(){!c||!l||(c=!1,l.length?D=l.concat(D):d=-1,D.length&&_())}function _(){if(!c){var O=P(f);c=!0;for(var b=D.length;b;){for(l=D,D=[];++d<b;)l&&l[d].run();d=-1,b=D.length}l=null,c=!1,function R(O){if(T===clearTimeout)return clearTimeout(O);if((T===w||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(O);try{return T(O)}catch{try{return T.call(null,O)}catch{return T.call(this,O)}}}(O)}}function N(O,b){this.fun=O,this.array=b}function S(){}m.nextTick=function(O){var b=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)b[v-1]=arguments[v];D.push(new N(O,b)),1===D.length&&!c&&P(_)},N.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=S,m.addListener=S,m.once=S,m.off=S,m.removeListener=S,m.removeAllListeners=S,m.emit=S,m.prependListener=S,m.prependOnceListener=S,m.listeners=function(O){return[]},m.binding=function(O){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(O){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":function(Ie,U,m){Ie.exports=m("./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":function(Ie,U,m){"use strict";var M=m("./node_modules/process-nextick-args/index.js"),T=Object.keys||function(_){var N=[];for(var S in _)N.push(S);return N};Ie.exports=l;var I=Object.create(m("./node_modules/core-util-is/lib/util.js"));I.inherits=m("./node_modules/inherits/inherits_browser.js");var w=m("./node_modules/readable-stream/lib/_stream_readable.js"),P=m("./node_modules/readable-stream/lib/_stream_writable.js");I.inherits(l,w);for(var R=T(P.prototype),D=0;D<R.length;D++){var c=R[D];l.prototype[c]||(l.prototype[c]=P.prototype[c])}function l(_){if(!(this instanceof l))return new l(_);w.call(this,_),P.call(this,_),_&&!1===_.readable&&(this.readable=!1),_&&!1===_.writable&&(this.writable=!1),this.allowHalfOpen=!0,_&&!1===_.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||M.nextTick(f,this)}function f(_){_.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(_){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=_,this._writableState.destroyed=_)}}),l.prototype._destroy=function(_,N){this.push(null),this.end(),M.nextTick(N,_)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":function(Ie,U,m){"use strict";Ie.exports=I;var M=m("./node_modules/readable-stream/lib/_stream_transform.js"),T=Object.create(m("./node_modules/core-util-is/lib/util.js"));function I(w){if(!(this instanceof I))return new I(w);M.call(this,w)}T.inherits=m("./node_modules/inherits/inherits_browser.js"),T.inherits(I,M),I.prototype._transform=function(w,P,R){R(null,w)}},"./node_modules/readable-stream/lib/_stream_readable.js":function(Ie,U,m){"use strict";(function(M,T){var I=m("./node_modules/process-nextick-args/index.js");Ie.exports=E;var P,w=m("./node_modules/isarray/index.js");E.ReadableState=A,m("./node_modules/events/events.js");var D=function(X,F){return X.listeners(F).length},c=m("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),l=m("./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,d=M.Uint8Array||function(){};var N=Object.create(m("./node_modules/core-util-is/lib/util.js"));N.inherits=m("./node_modules/inherits/inherits_browser.js");var S=m(0),O=void 0;O=S&&S.debuglog?S.debuglog("stream"):function(){};var p,b=m("./node_modules/readable-stream/lib/internal/streams/BufferList.js"),v=m("./node_modules/readable-stream/lib/internal/streams/destroy.js");N.inherits(E,c);var y=["error","close","destroy","pause","resume"];function A(X,F){var V=F instanceof(P=P||m("./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(X=X||{}).objectMode,V&&(this.objectMode=this.objectMode||!!X.readableObjectMode);var re=X.highWaterMark,k=X.readableHighWaterMark;this.highWaterMark=re||0===re?re:V&&(k||0===k)?k:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(p||(p=m("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new p(X.encoding),this.encoding=X.encoding)}function E(X){if(P=P||m("./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof E))return new E(X);this._readableState=new A(X,this),this.readable=!0,X&&("function"==typeof X.read&&(this._read=X.read),"function"==typeof X.destroy&&(this._destroy=X.destroy)),c.call(this)}function L(X,F,V,re,k){var me,te=X._readableState;return null===F?(te.reading=!1,function x(X,F){if(!F.ended){if(F.decoder){var V=F.decoder.end();V&&V.length&&(F.buffer.push(V),F.length+=F.objectMode?1:V.length)}F.ended=!0,Y(X)}}(X,te)):(k||(me=function ee(X,F){var V;return!function _(X){return l.isBuffer(X)||X instanceof d}(F)&&"string"!=typeof F&&void 0!==F&&!X.objectMode&&(V=new TypeError("Invalid non-string/buffer chunk")),V}(te,F)),me?X.emit("error",me):te.objectMode||F&&F.length>0?("string"!=typeof F&&!te.objectMode&&Object.getPrototypeOf(F)!==l.prototype&&(F=function f(X){return l.from(X)}(F)),re?te.endEmitted?X.emit("error",new Error("stream.unshift() after end event")):G(X,te,F,!0):te.ended?X.emit("error",new Error("stream.push() after EOF")):(te.reading=!1,te.decoder&&!V?(F=te.decoder.write(F),te.objectMode||0!==F.length?G(X,te,F,!1):ie(X,te)):G(X,te,F,!1))):re||(te.reading=!1)),function Q(X){return!X.ended&&(X.needReadable||X.length<X.highWaterMark||0===X.length)}(te)}function G(X,F,V,re){F.flowing&&0===F.length&&!F.sync?(X.emit("data",V),X.read(0)):(F.length+=F.objectMode?1:V.length,re?F.buffer.unshift(V):F.buffer.push(V),F.needReadable&&Y(X)),ie(X,F)}Object.defineProperty(E.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(X){!this._readableState||(this._readableState.destroyed=X)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(X,F){this.push(null),F(X)},E.prototype.push=function(X,F){var re,V=this._readableState;return V.objectMode?re=!0:"string"==typeof X&&((F=F||V.defaultEncoding)!==V.encoding&&(X=l.from(X,F),F=""),re=!0),L(this,X,F,!1,re)},E.prototype.unshift=function(X){return L(this,X,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(X){return p||(p=m("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new p(X),this._readableState.encoding=X,this};function W(X,F){return X<=0||0===F.length&&F.ended?0:F.objectMode?1:X!=X?F.flowing&&F.length?F.buffer.head.data.length:F.length:(X>F.highWaterMark&&(F.highWaterMark=function H(X){return X>=8388608?X=8388608:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}(X)),X<=F.length?X:F.ended?F.length:(F.needReadable=!0,0))}function Y(X){var F=X._readableState;F.needReadable=!1,F.emittedReadable||(O("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?I.nextTick(z,X):z(X))}function z(X){O("emit readable"),X.emit("readable"),pe(X)}function ie(X,F){F.readingMore||(F.readingMore=!0,I.nextTick(oe,X,F))}function oe(X,F){for(var V=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(O("maybeReadMore read 0"),X.read(0),V!==F.length);)V=F.length;F.readingMore=!1}function J(X){O("readable nexttick read 0"),X.read(0)}function ae(X,F){F.reading||(O("resume read 0"),X.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,X.emit("resume"),pe(X),F.flowing&&!F.reading&&X.read(0)}function pe(X){var F=X._readableState;for(O("flow",F.flowing);F.flowing&&null!==X.read(););}function he(X,F){return 0===F.length?null:(F.objectMode?V=F.buffer.shift():!X||X>=F.length?(V=F.decoder?F.buffer.join(""):1===F.buffer.length?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):V=function fe(X,F,V){var re;return X<F.head.data.length?(re=F.head.data.slice(0,X),F.head.data=F.head.data.slice(X)):re=X===F.head.data.length?F.shift():V?function _e(X,F){var V=F.head,re=1,k=V.data;for(X-=k.length;V=V.next;){var te=V.data,me=X>te.length?te.length:X;if(k+=me===te.length?te:te.slice(0,X),0==(X-=me)){me===te.length?(++re,F.head=V.next?V.next:F.tail=null):(F.head=V,V.data=te.slice(me));break}++re}return F.length-=re,k}(X,F):function se(X,F){var V=l.allocUnsafe(X),re=F.head,k=1;for(re.data.copy(V),X-=re.data.length;re=re.next;){var te=re.data,me=X>te.length?te.length:X;if(te.copy(V,V.length-X,0,me),0==(X-=me)){me===te.length?(++k,F.head=re.next?re.next:F.tail=null):(F.head=re,re.data=te.slice(me));break}++k}return F.length-=k,V}(X,F),re}(X,F.buffer,F.decoder),V);var V}function Se(X){var F=X._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,I.nextTick(ge,F,X))}function ge(X,F){!X.endEmitted&&0===X.length&&(X.endEmitted=!0,F.readable=!1,F.emit("end"))}function ne(X,F){for(var V=0,re=X.length;V<re;V++)if(X[V]===F)return V;return-1}E.prototype.read=function(X){O("read",X),X=parseInt(X,10);var F=this._readableState,V=X;if(0!==X&&(F.emittedReadable=!1),0===X&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return O("read: emitReadable",F.length,F.ended),0===F.length&&F.ended?Se(this):Y(this),null;if(0===(X=W(X,F))&&F.ended)return 0===F.length&&Se(this),null;var k,re=F.needReadable;return O("need readable",re),(0===F.length||F.length-X<F.highWaterMark)&&O("length less than watermark",re=!0),F.ended||F.reading?O("reading or ended",re=!1):re&&(O("do read"),F.reading=!0,F.sync=!0,0===F.length&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(X=W(V,F))),null===(k=X>0?he(X,F):null)?(F.needReadable=!0,X=0):F.length-=X,0===F.length&&(F.ended||(F.needReadable=!0),V!==X&&F.ended&&Se(this)),null!==k&&this.emit("data",k),k},E.prototype._read=function(X){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(X,F){var V=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=X;break;case 1:re.pipes=[re.pipes,X];break;default:re.pipes.push(X)}re.pipesCount+=1,O("pipe count=%d opts=%j",re.pipesCount,F);var te=F&&!1===F.end||X===T.stdout||X===T.stderr?Pe:Ee;function me(we,Ue){O("onunpipe"),we===V&&Ue&&!1===Ue.hasUnpiped&&(Ue.hasUnpiped=!0,function j(){O("cleanup"),X.removeListener("close",be),X.removeListener("finish",Re),X.removeListener("drain",q),X.removeListener("error",ue),X.removeListener("unpipe",me),V.removeListener("end",Ee),V.removeListener("end",Pe),V.removeListener("data",ce),K=!0,re.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&q()}())}function Ee(){O("onend"),X.end()}re.endEmitted?I.nextTick(te):V.once("end",te),X.on("unpipe",me);var q=function ve(X){return function(){var F=X._readableState;O("pipeOnDrain",F.awaitDrain),F.awaitDrain&&F.awaitDrain--,0===F.awaitDrain&&D(X,"data")&&(F.flowing=!0,pe(X))}}(V);X.on("drain",q);var K=!1;var $=!1;function ce(we){O("ondata"),$=!1,!1===X.write(we)&&!$&&((1===re.pipesCount&&re.pipes===X||re.pipesCount>1&&-1!==ne(re.pipes,X))&&!K&&(O("false write response, pause",V._readableState.awaitDrain),V._readableState.awaitDrain++,$=!0),V.pause())}function ue(we){O("onerror",we),Pe(),X.removeListener("error",ue),0===D(X,"error")&&X.emit("error",we)}function be(){X.removeListener("finish",Re),Pe()}function Re(){O("onfinish"),X.removeListener("close",be),Pe()}function Pe(){O("unpipe"),V.unpipe(X)}return V.on("data",ce),function g(X,F,V){if("function"==typeof X.prependListener)return X.prependListener(F,V);X._events&&X._events[F]?w(X._events[F])?X._events[F].unshift(V):X._events[F]=[V,X._events[F]]:X.on(F,V)}(X,"error",ue),X.once("close",be),X.once("finish",Re),X.emit("pipe",V),re.flowing||(O("pipe resume"),V.resume()),X},E.prototype.unpipe=function(X){var F=this._readableState,V={hasUnpiped:!1};if(0===F.pipesCount)return this;if(1===F.pipesCount)return X&&X!==F.pipes||(X||(X=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,X&&X.emit("unpipe",this,V)),this;if(!X){var re=F.pipes,k=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var te=0;te<k;te++)re[te].emit("unpipe",this,V);return this}var me=ne(F.pipes,X);return-1===me||(F.pipes.splice(me,1),F.pipesCount-=1,1===F.pipesCount&&(F.pipes=F.pipes[0]),X.emit("unpipe",this,V)),this},E.prototype.addListener=E.prototype.on=function(X,F){var V=c.prototype.on.call(this,X,F);if("data"===X)!1!==this._readableState.flowing&&this.resume();else if("readable"===X){var re=this._readableState;!re.endEmitted&&!re.readableListening&&(re.readableListening=re.needReadable=!0,re.emittedReadable=!1,re.reading?re.length&&Y(this):I.nextTick(J,this))}return V},E.prototype.resume=function(){var X=this._readableState;return X.flowing||(O("resume"),X.flowing=!0,function de(X,F){F.resumeScheduled||(F.resumeScheduled=!0,I.nextTick(ae,X,F))}(this,X)),this},E.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this},E.prototype.wrap=function(X){var F=this,V=this._readableState,re=!1;for(var k in X.on("end",function(){if(O("wrapped end"),V.decoder&&!V.ended){var me=V.decoder.end();me&&me.length&&F.push(me)}F.push(null)}),X.on("data",function(me){O("wrapped data"),V.decoder&&(me=V.decoder.write(me)),V.objectMode&&null==me||!(V.objectMode||me&&me.length)||F.push(me)||(re=!0,X.pause())}),X)void 0===this[k]&&"function"==typeof X[k]&&(this[k]=function(me){return function(){return X[me].apply(X,arguments)}}(k));for(var te=0;te<y.length;te++)X.on(y[te],this.emit.bind(this,y[te]));return this._read=function(me){O("wrapped _read",me),re&&(re=!1,X.resume())},this},Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),E._fromList=he}).call(this,m("./node_modules/webpack/buildin/global.js"),m("./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":function(Ie,U,m){"use strict";Ie.exports=w;var M=m("./node_modules/readable-stream/lib/_stream_duplex.js"),T=Object.create(m("./node_modules/core-util-is/lib/util.js"));function I(D,c){var l=this._transformState;l.transforming=!1;var d=l.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,null!=c&&this.push(c),d(D);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function w(D){if(!(this instanceof w))return new w(D);M.call(this,D),this._transformState={afterTransform:I.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",P)}function P(){var D=this;"function"==typeof this._flush?this._flush(function(c,l){R(D,c,l)}):R(this,null,null)}function R(D,c,l){if(c)return D.emit("error",c);if(null!=l&&D.push(l),D._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(D._transformState.transforming)throw new Error("Calling transform done when still transforming");return D.push(null)}T.inherits=m("./node_modules/inherits/inherits_browser.js"),T.inherits(w,M),w.prototype.push=function(D,c){return this._transformState.needTransform=!1,M.prototype.push.call(this,D,c)},w.prototype._transform=function(D,c,l){throw new Error("_transform() is not implemented")},w.prototype._write=function(D,c,l){var d=this._transformState;if(d.writecb=l,d.writechunk=D,d.writeencoding=c,!d.transforming){var f=this._readableState;(d.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},w.prototype._read=function(D){var c=this._transformState;null!==c.writechunk&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},w.prototype._destroy=function(D,c){var l=this;M.prototype._destroy.call(this,D,function(d){c(d),l.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":function(Ie,U,m){"use strict";(function(M,T,I){var w=m("./node_modules/process-nextick-args/index.js");function R(ae){var pe=this;this.next=null,this.entry=null,this.finish=function(){!function de(ae,pe,he){var fe=ae.entry;for(ae.entry=null;fe;){var _e=fe.callback;pe.pendingcb--,_e(he),fe=fe.next}pe.corkedRequestsFree?pe.corkedRequestsFree.next=ae:pe.corkedRequestsFree=ae}(pe,ae)}}Ie.exports=g;var c,D=!M.browser&&["v0.10","v0.9."].indexOf(M.version.slice(0,5))>-1?T:w.nextTick;g.WritableState=p;var l=Object.create(m("./node_modules/core-util-is/lib/util.js"));l.inherits=m("./node_modules/inherits/inherits_browser.js");var d={deprecate:m("./node_modules/util-deprecate/browser.js")},f=m("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),_=m("./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,N=I.Uint8Array||function(){};var y,b=m("./node_modules/readable-stream/lib/internal/streams/destroy.js");function v(){}function p(ae,pe){c=c||m("./node_modules/readable-stream/lib/_stream_duplex.js");var he=pe instanceof c;this.objectMode=!!(ae=ae||{}).objectMode,he&&(this.objectMode=this.objectMode||!!ae.writableObjectMode);var fe=ae.highWaterMark,_e=ae.writableHighWaterMark;this.highWaterMark=fe||0===fe?fe:he&&(_e||0===_e)?_e:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ae.decodeStrings),this.defaultEncoding=ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ge){!function H(ae,pe){var he=ae._writableState,fe=he.sync,_e=he.writecb;if(function le(ae){ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0}(he),pe)!function Q(ae,pe,he,fe,_e){--pe.pendingcb,he?(w.nextTick(_e,fe),w.nextTick(ve,ae,pe),ae._writableState.errorEmitted=!0,ae.emit("error",fe)):(_e(fe),ae._writableState.errorEmitted=!0,ae.emit("error",fe),ve(ae,pe))}(ae,he,fe,pe,_e);else{var se=z(he);!se&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&Y(ae,he),fe?D(W,ae,he,se,_e):W(ae,he,se,_e)}}(pe,ge)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new R(this)}function g(ae){if(c=c||m("./node_modules/readable-stream/lib/_stream_duplex.js"),!(y.call(g,this)||this instanceof c))return new g(ae);this._writableState=new p(ae,this),this.writable=!0,ae&&("function"==typeof ae.write&&(this._write=ae.write),"function"==typeof ae.writev&&(this._writev=ae.writev),"function"==typeof ae.destroy&&(this._destroy=ae.destroy),"function"==typeof ae.final&&(this._final=ae.final)),f.call(this)}function G(ae,pe,he,fe,_e,se){if(!he){var Se=function L(ae,pe,he){return!ae.objectMode&&!1!==ae.decodeStrings&&"string"==typeof pe&&(pe=_.from(pe,he)),pe}(pe,fe,_e);fe!==Se&&(he=!0,_e="buffer",fe=Se)}var ge=pe.objectMode?1:fe.length;pe.length+=ge;var ne=pe.length<pe.highWaterMark;if(ne||(pe.needDrain=!0),pe.writing||pe.corked){var X=pe.lastBufferedRequest;pe.lastBufferedRequest={chunk:fe,encoding:_e,isBuf:he,callback:se,next:null},X?X.next=pe.lastBufferedRequest:pe.bufferedRequest=pe.lastBufferedRequest,pe.bufferedRequestCount+=1}else ee(ae,pe,!1,ge,fe,_e,se);return ne}function ee(ae,pe,he,fe,_e,se,Se){pe.writelen=fe,pe.writecb=Se,pe.writing=!0,pe.sync=!0,he?ae._writev(_e,pe.onwrite):ae._write(_e,se,pe.onwrite),pe.sync=!1}function W(ae,pe,he,fe){he||function x(ae,pe){0===pe.length&&pe.needDrain&&(pe.needDrain=!1,ae.emit("drain"))}(ae,pe),pe.pendingcb--,fe(),ve(ae,pe)}function Y(ae,pe){pe.bufferProcessing=!0;var he=pe.bufferedRequest;if(ae._writev&&he&&he.next){var _e=new Array(pe.bufferedRequestCount),se=pe.corkedRequestsFree;se.entry=he;for(var Se=0,ge=!0;he;)_e[Se]=he,he.isBuf||(ge=!1),he=he.next,Se+=1;_e.allBuffers=ge,ee(ae,pe,!0,pe.length,_e,"",se.finish),pe.pendingcb++,pe.lastBufferedRequest=null,se.next?(pe.corkedRequestsFree=se.next,se.next=null):pe.corkedRequestsFree=new R(pe),pe.bufferedRequestCount=0}else{for(;he;){var ne=he.chunk;if(ee(ae,pe,!1,pe.objectMode?1:ne.length,ne,he.encoding,he.callback),he=he.next,pe.bufferedRequestCount--,pe.writing)break}null===he&&(pe.lastBufferedRequest=null)}pe.bufferedRequest=he,pe.bufferProcessing=!1}function z(ae){return ae.ending&&0===ae.length&&null===ae.bufferedRequest&&!ae.finished&&!ae.writing}function ie(ae,pe){ae._final(function(he){pe.pendingcb--,he&&ae.emit("error",he),pe.prefinished=!0,ae.emit("prefinish"),ve(ae,pe)})}function ve(ae,pe){var he=z(pe);return he&&(function oe(ae,pe){!pe.prefinished&&!pe.finalCalled&&("function"==typeof ae._final?(pe.pendingcb++,pe.finalCalled=!0,w.nextTick(ie,ae,pe)):(pe.prefinished=!0,ae.emit("prefinish")))}(ae,pe),0===pe.pendingcb&&(pe.finished=!0,ae.emit("finish"))),he}l.inherits(g,f),p.prototype.getBuffer=function(){for(var pe=this.bufferedRequest,he=[];pe;)he.push(pe),pe=pe.next;return he},function(){try{Object.defineProperty(p.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(ae){return!!y.call(this,ae)||this===g&&ae&&ae._writableState instanceof p}})):y=function(ae){return ae instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(ae,pe,he){var fe=this._writableState,_e=!1,se=!fe.objectMode&&function O(ae){return _.isBuffer(ae)||ae instanceof N}(ae);return se&&!_.isBuffer(ae)&&(ae=function S(ae){return _.from(ae)}(ae)),"function"==typeof pe&&(he=pe,pe=null),se?pe="buffer":pe||(pe=fe.defaultEncoding),"function"!=typeof he&&(he=v),fe.ended?function A(ae,pe){var he=new Error("write after end");ae.emit("error",he),w.nextTick(pe,he)}(this,he):(se||function E(ae,pe,he,fe){var _e=!0,se=!1;return null===he?se=new TypeError("May not write null values to stream"):"string"!=typeof he&&void 0!==he&&!pe.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se&&(ae.emit("error",se),w.nextTick(fe,se),_e=!1),_e}(this,fe,ae,he))&&(fe.pendingcb++,_e=G(this,fe,se,ae,pe,he)),_e},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var ae=this._writableState;ae.corked&&(ae.corked--,!ae.writing&&!ae.corked&&!ae.finished&&!ae.bufferProcessing&&ae.bufferedRequest&&Y(this,ae))},g.prototype.setDefaultEncoding=function(pe){if("string"==typeof pe&&(pe=pe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((pe+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+pe);return this._writableState.defaultEncoding=pe,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(ae,pe,he){he(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(ae,pe,he){var fe=this._writableState;"function"==typeof ae?(he=ae,ae=null,pe=null):"function"==typeof pe&&(he=pe,pe=null),null!=ae&&this.write(ae,pe),fe.corked&&(fe.corked=1,this.uncork()),!fe.ending&&!fe.finished&&function J(ae,pe,he){pe.ending=!0,ve(ae,pe),he&&(pe.finished?w.nextTick(he):ae.once("finish",he)),pe.ended=!0,ae.writable=!1}(this,fe,he)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ae){!this._writableState||(this._writableState.destroyed=ae)}}),g.prototype.destroy=b.destroy,g.prototype._undestroy=b.undestroy,g.prototype._destroy=function(ae,pe){this.end(),pe(ae)}}).call(this,m("./node_modules/process/browser.js"),m("./node_modules/timers-browserify/main.js").setImmediate,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":function(Ie,U,m){"use strict";var T=m("./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,I=m(1);function w(P,R,D){P.copy(R,D)}Ie.exports=function(){function P(){(function M(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")})(this,P),this.head=null,this.tail=null,this.length=0}return P.prototype.push=function(D){var c={data:D,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},P.prototype.unshift=function(D){var c={data:D,next:this.head};0===this.length&&(this.tail=c),this.head=c,++this.length},P.prototype.shift=function(){if(0!==this.length){var D=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,D}},P.prototype.clear=function(){this.head=this.tail=null,this.length=0},P.prototype.join=function(D){if(0===this.length)return"";for(var c=this.head,l=""+c.data;c=c.next;)l+=D+c.data;return l},P.prototype.concat=function(D){if(0===this.length)return T.alloc(0);if(1===this.length)return this.head.data;for(var c=T.allocUnsafe(D>>>0),l=this.head,d=0;l;)w(l.data,c,d),d+=l.data.length,l=l.next;return c},P}(),I&&I.inspect&&I.inspect.custom&&(Ie.exports.prototype[I.inspect.custom]=function(){var P=I.inspect({length:this.length});return this.constructor.name+" "+P})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":function(Ie,U,m){"use strict";var M=m("./node_modules/process-nextick-args/index.js");function w(P,R){P.emit("error",R)}Ie.exports={destroy:function T(P,R){var D=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(R?R(P):P&&(!this._writableState||!this._writableState.errorEmitted)&&M.nextTick(w,this,P),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(d){!R&&d?(M.nextTick(w,D,d),D._writableState&&(D._writableState.errorEmitted=!0)):R&&R(d)}),this)},undestroy:function I(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":function(Ie,U,m){Ie.exports=m("./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":function(Ie,U,m){var M=m("./node_modules/buffer/index.js"),T=M.Buffer;function I(P,R){for(var D in P)R[D]=P[D]}function w(P,R,D){return T(P,R,D)}T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?Ie.exports=M:(I(M,U),U.Buffer=w),I(T,w),w.from=function(P,R,D){if("number"==typeof P)throw new TypeError("Argument must not be a number");return T(P,R,D)},w.alloc=function(P,R,D){if("number"!=typeof P)throw new TypeError("Argument must be a number");var c=T(P);return void 0!==R?"string"==typeof D?c.fill(R,D):c.fill(R):c.fill(0),c},w.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return T(P)},w.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return M.SlowBuffer(P)}},"./node_modules/readable-stream/passthrough.js":function(Ie,U,m){Ie.exports=m("./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":function(Ie,U,m){(U=Ie.exports=m("./node_modules/readable-stream/lib/_stream_readable.js")).Stream=U,U.Readable=U,U.Writable=m("./node_modules/readable-stream/lib/_stream_writable.js"),U.Duplex=m("./node_modules/readable-stream/lib/_stream_duplex.js"),U.Transform=m("./node_modules/readable-stream/lib/_stream_transform.js"),U.PassThrough=m("./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":function(Ie,U,m){Ie.exports=m("./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":function(Ie,U,m){Ie.exports=m("./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":function(Ie,U,m){var M=m("./node_modules/buffer/index.js"),T=M.Buffer;function I(P,R){for(var D in P)R[D]=P[D]}function w(P,R,D){return T(P,R,D)}T.from&&T.alloc&&T.allocUnsafe&&T.allocUnsafeSlow?Ie.exports=M:(I(M,U),U.Buffer=w),w.prototype=Object.create(T.prototype),I(T,w),w.from=function(P,R,D){if("number"==typeof P)throw new TypeError("Argument must not be a number");return T(P,R,D)},w.alloc=function(P,R,D){if("number"!=typeof P)throw new TypeError("Argument must be a number");var c=T(P);return void 0!==R?"string"==typeof D?c.fill(R,D):c.fill(R):c.fill(0),c},w.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return T(P)},w.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return M.SlowBuffer(P)}},"./node_modules/sax/lib/sax.js":function(Ie,U,m){(function(M){!function(T){T.parser=function(F,V){return new w(F,V)},T.SAXParser=w,T.SAXStream=f,T.createStream=function d(F,V){return new f(F,V)},T.MAX_BUFFER_LENGTH=65536;var c,I=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function w(F,V){if(!(this instanceof w))return new w(F,V);var re=this;(function R(F){for(var V=0,re=I.length;V<re;V++)F[I[V]]=""})(re),re.q=re.c="",re.bufferCheckPosition=T.MAX_BUFFER_LENGTH,re.opt=V||{},re.opt.lowercase=re.opt.lowercase||re.opt.lowercasetags,re.looseCase=re.opt.lowercase?"toLowerCase":"toUpperCase",re.tags=[],re.closed=re.closedRoot=re.sawRoot=!1,re.tag=re.error=null,re.strict=!!F,re.noscript=!(!F&&!re.opt.noscript),re.state=x.BEGIN,re.strictEntities=re.opt.strictEntities,re.ENTITIES=Object.create(re.strictEntities?T.XML_ENTITIES:T.ENTITIES),re.attribList=[],re.opt.xmlns&&(re.ns=Object.create(A)),re.trackPosition=!1!==re.opt.position,re.trackPosition&&(re.position=re.line=re.column=0),z(re,"onready")}T.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(F){function V(){}return V.prototype=F,new V}),Object.keys||(Object.keys=function(F){var V=[];for(var re in F)F.hasOwnProperty(re)&&V.push(re);return V}),w.prototype={end:function(){de(this)},write:function X(F){var V=this;if(this.error)throw this.error;if(V.closed)return J(V,"Cannot write after close. Assign an onready handler.");if(null===F)return de(V);"object"==typeof F&&(F=F.toString());for(var re=0,k="";k=ne(F,re++),V.c=k,k;)switch(V.trackPosition&&(V.position++,"\n"===k?(V.line++,V.column=0):V.column++),V.state){case x.BEGIN:if(V.state=x.BEGIN_WHITESPACE,"\ufeff"===k)continue;ge(V,k);continue;case x.BEGIN_WHITESPACE:ge(V,k);continue;case x.TEXT:if(V.sawRoot&&!V.closedRoot){for(var te=re-1;k&&"<"!==k&&"&"!==k;)(k=ne(F,re++))&&V.trackPosition&&(V.position++,"\n"===k?(V.line++,V.column=0):V.column++);V.textNode+=F.substring(te,re-1)}"<"!==k||V.sawRoot&&V.closedRoot&&!V.strict?(W(_,k)&&(!V.sawRoot||V.closedRoot)&&ae(V,"Text data outside of root node."),"&"===k?V.state=x.TEXT_ENTITY:V.textNode+=k):(V.state=x.OPEN_WAKA,V.startTagPosition=V.position);continue;case x.SCRIPT:"<"===k?V.state=x.SCRIPT_ENDING:V.script+=k;continue;case x.SCRIPT_ENDING:"/"===k?V.state=x.CLOSE_TAG:(V.script+="<"+k,V.state=x.SCRIPT);continue;case x.OPEN_WAKA:"!"===k?(V.state=x.SGML_DECL,V.sgmlDecl=""):H(_,k)||(H(E,k)?(V.state=x.OPEN_TAG,V.tagName=k):"/"===k?(V.state=x.CLOSE_TAG,V.tagName=""):"?"===k?(V.state=x.PROC_INST,V.procInstName=V.procInstBody=""):(ae(V,"Unencoded <"),V.startTagPosition+1<V.position&&(k=new Array(V.position-V.startTagPosition).join(" ")+k),V.textNode+="<"+k,V.state=x.TEXT));continue;case x.SGML_DECL:"[CDATA["===(V.sgmlDecl+k).toUpperCase()?(ie(V,"onopencdata"),V.state=x.CDATA,V.sgmlDecl="",V.cdata=""):V.sgmlDecl+k==="--"?(V.state=x.COMMENT,V.comment="",V.sgmlDecl=""):"DOCTYPE"===(V.sgmlDecl+k).toUpperCase()?(V.state=x.DOCTYPE,(V.doctype||V.sawRoot)&&ae(V,"Inappropriately located doctype declaration"),V.doctype="",V.sgmlDecl=""):">"===k?(ie(V,"onsgmldeclaration",V.sgmlDecl),V.sgmlDecl="",V.state=x.TEXT):(H(O,k)&&(V.state=x.SGML_DECL_QUOTED),V.sgmlDecl+=k);continue;case x.SGML_DECL_QUOTED:k===V.q&&(V.state=x.SGML_DECL,V.q=""),V.sgmlDecl+=k;continue;case x.DOCTYPE:">"===k?(V.state=x.TEXT,ie(V,"ondoctype",V.doctype),V.doctype=!0):(V.doctype+=k,"["===k?V.state=x.DOCTYPE_DTD:H(O,k)&&(V.state=x.DOCTYPE_QUOTED,V.q=k));continue;case x.DOCTYPE_QUOTED:V.doctype+=k,k===V.q&&(V.q="",V.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:V.doctype+=k,"]"===k?V.state=x.DOCTYPE:H(O,k)&&(V.state=x.DOCTYPE_DTD_QUOTED,V.q=k);continue;case x.DOCTYPE_DTD_QUOTED:V.doctype+=k,k===V.q&&(V.state=x.DOCTYPE_DTD,V.q="");continue;case x.COMMENT:"-"===k?V.state=x.COMMENT_ENDING:V.comment+=k;continue;case x.COMMENT_ENDING:"-"===k?(V.state=x.COMMENT_ENDED,V.comment=ve(V.opt,V.comment),V.comment&&ie(V,"oncomment",V.comment),V.comment=""):(V.comment+="-"+k,V.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==k?(ae(V,"Malformed comment"),V.comment+="--"+k,V.state=x.COMMENT):V.state=x.TEXT;continue;case x.CDATA:"]"===k?V.state=x.CDATA_ENDING:V.cdata+=k;continue;case x.CDATA_ENDING:"]"===k?V.state=x.CDATA_ENDING_2:(V.cdata+="]"+k,V.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===k?(V.cdata&&ie(V,"oncdata",V.cdata),ie(V,"onclosecdata"),V.cdata="",V.state=x.TEXT):"]"===k?V.cdata+="]":(V.cdata+="]]"+k,V.state=x.CDATA);continue;case x.PROC_INST:"?"===k?V.state=x.PROC_INST_ENDING:H(_,k)?V.state=x.PROC_INST_BODY:V.procInstName+=k;continue;case x.PROC_INST_BODY:if(!V.procInstBody&&H(_,k))continue;"?"===k?V.state=x.PROC_INST_ENDING:V.procInstBody+=k;continue;case x.PROC_INST_ENDING:">"===k?(ie(V,"onprocessinginstruction",{name:V.procInstName,body:V.procInstBody}),V.procInstName=V.procInstBody="",V.state=x.TEXT):(V.procInstBody+="?"+k,V.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:H(L,k)?V.tagName+=k:(pe(V),">"===k?_e(V):"/"===k?V.state=x.OPEN_TAG_SLASH:(W(_,k)&&ae(V,"Invalid character in tag name"),V.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===k?(_e(V,!0),se(V)):(ae(V,"Forward-slash in opening tag not followed by >"),V.state=x.ATTRIB);continue;case x.ATTRIB:if(H(_,k))continue;">"===k?_e(V):"/"===k?V.state=x.OPEN_TAG_SLASH:H(E,k)?(V.attribName=k,V.attribValue="",V.state=x.ATTRIB_NAME):ae(V,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===k?V.state=x.ATTRIB_VALUE:">"===k?(ae(V,"Attribute without value"),V.attribValue=V.attribName,fe(V),_e(V)):H(_,k)?V.state=x.ATTRIB_NAME_SAW_WHITE:H(L,k)?V.attribName+=k:ae(V,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===k)V.state=x.ATTRIB_VALUE;else{if(H(_,k))continue;ae(V,"Attribute without value"),V.tag.attributes[V.attribName]="",V.attribValue="",ie(V,"onattribute",{name:V.attribName,value:""}),V.attribName="",">"===k?_e(V):H(E,k)?(V.attribName=k,V.state=x.ATTRIB_NAME):(ae(V,"Invalid attribute name"),V.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(H(_,k))continue;H(O,k)?(V.q=k,V.state=x.ATTRIB_VALUE_QUOTED):(ae(V,"Unquoted attribute value"),V.state=x.ATTRIB_VALUE_UNQUOTED,V.attribValue=k);continue;case x.ATTRIB_VALUE_QUOTED:if(k!==V.q){"&"===k?V.state=x.ATTRIB_VALUE_ENTITY_Q:V.attribValue+=k;continue}fe(V),V.q="",V.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:H(_,k)?V.state=x.ATTRIB:">"===k?_e(V):"/"===k?V.state=x.OPEN_TAG_SLASH:H(E,k)?(ae(V,"No whitespace between attributes"),V.attribName=k,V.attribValue="",V.state=x.ATTRIB_NAME):ae(V,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(W(b,k)){"&"===k?V.state=x.ATTRIB_VALUE_ENTITY_U:V.attribValue+=k;continue}fe(V),">"===k?_e(V):V.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(V.tagName)">"===k?se(V):H(L,k)?V.tagName+=k:V.script?(V.script+="</"+V.tagName,V.tagName="",V.state=x.SCRIPT):(W(_,k)&&ae(V,"Invalid tagname in closing tag"),V.state=x.CLOSE_TAG_SAW_WHITE);else{if(H(_,k))continue;W(E,k)?V.script?(V.script+="</"+k,V.state=x.SCRIPT):ae(V,"Invalid tagname in closing tag."):V.tagName=k}continue;case x.CLOSE_TAG_SAW_WHITE:if(H(_,k))continue;">"===k?se(V):ae(V,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var Ee,q;switch(V.state){case x.TEXT_ENTITY:Ee=x.TEXT,q="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:Ee=x.ATTRIB_VALUE_QUOTED,q="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:Ee=x.ATTRIB_VALUE_UNQUOTED,q="attribValue"}";"===k?(V[q]+=Se(V),V.entity="",V.state=Ee):H(V.entity.length?ee:G,k)?V.entity+=k:(ae(V,"Invalid character in entity name"),V[q]+="&"+V.entity+k,V.entity="",V.state=Ee);continue;default:throw new Error(V,"Unknown state: "+V.state)}return V.position>=V.bufferCheckPosition&&function P(F){for(var V=Math.max(T.MAX_BUFFER_LENGTH,10),re=0,k=0,te=I.length;k<te;k++){var me=F[I[k]].length;if(me>V)switch(I[k]){case"textNode":oe(F);break;case"cdata":ie(F,"oncdata",F.cdata),F.cdata="";break;case"script":ie(F,"onscript",F.script),F.script="";break;default:J(F,"Max buffer length exceeded: "+I[k])}re=Math.max(re,me)}F.bufferCheckPosition=T.MAX_BUFFER_LENGTH-re+F.position}(V),V},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function D(F){oe(F),""!==F.cdata&&(ie(F,"oncdata",F.cdata),F.cdata=""),""!==F.script&&(ie(F,"onscript",F.script),F.script="")}(this)}};try{c=m("./node_modules/stream-browserify/index.js").Stream}catch{c=function(){}}var l=T.EVENTS.filter(function(F){return"error"!==F&&"end"!==F});function f(F,V){if(!(this instanceof f))return new f(F,V);c.apply(this),this._parser=new w(F,V),this.writable=!0,this.readable=!0;var re=this;this._parser.onend=function(){re.emit("end")},this._parser.onerror=function(k){re.emit("error",k),re._parser.error=null},this._decoder=null,l.forEach(function(k){Object.defineProperty(re,"on"+k,{get:function(){return re._parser["on"+k]},set:function(te){if(!te)return re.removeAllListeners(k),re._parser["on"+k]=te,te;re.on(k,te)},enumerable:!0,configurable:!1})})}(f.prototype=Object.create(c.prototype,{constructor:{value:f}})).write=function(F){if("function"==typeof M&&"function"==typeof M.isBuffer&&M.isBuffer(F)){if(!this._decoder){var V=m("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new V("utf8")}F=this._decoder.write(F)}return this._parser.write(F.toString()),this.emit("data",F),!0},f.prototype.end=function(F){return F&&F.length&&this.write(F),this._parser.end(),!0},f.prototype.on=function(F,V){var re=this;return!re._parser["on"+F]&&-1!==l.indexOf(F)&&(re._parser["on"+F]=function(){var k=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);k.splice(0,0,F),re.emit.apply(re,k)}),c.prototype.on.call(re,F,V)};var _="\r\n\t ",N="0124356789",S="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",O="'\"",b=_+">",y="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",A={xml:y,xmlns:g};_=Q(_),N=Q(N),S=Q(S);var E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,G=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ee=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function Q(F){return F.split("").reduce(function(V,re){return V[re]=!0,V},{})}function H(F,V){return function le(F){return"[object RegExp]"===Object.prototype.toString.call(F)}(F)?!!V.match(F):F[V]}function W(F,V){return!H(F,V)}O=Q(O),b=Q(b);var F,V,re,x=0;for(var Y in T.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},T.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(T.ENTITIES).forEach(function(F){var V=T.ENTITIES[F],re="number"==typeof V?String.fromCharCode(V):V;T.ENTITIES[F]=re}),T.STATE)T.STATE[T.STATE[Y]]=Y;function z(F,V,re){F[V]&&F[V](re)}function ie(F,V,re){F.textNode&&oe(F),z(F,V,re)}function oe(F){F.textNode=ve(F.opt,F.textNode),F.textNode&&z(F,"ontext",F.textNode),F.textNode=""}function ve(F,V){return F.trim&&(V=V.trim()),F.normalize&&(V=V.replace(/\s+/g," ")),V}function J(F,V){return oe(F),F.trackPosition&&(V+="\nLine: "+F.line+"\nColumn: "+F.column+"\nChar: "+F.c),V=new Error(V),F.error=V,z(F,"onerror",V),F}function de(F){return F.sawRoot&&!F.closedRoot&&ae(F,"Unclosed root tag"),F.state!==x.BEGIN&&F.state!==x.BEGIN_WHITESPACE&&F.state!==x.TEXT&&J(F,"Unexpected end"),oe(F),F.c="",F.closed=!0,z(F,"onend"),w.call(F,F.strict,F.opt),F}function ae(F,V){if("object"!=typeof F||!(F instanceof w))throw new Error("bad call to strictFail");F.strict&&J(F,V)}function pe(F){F.strict||(F.tagName=F.tagName[F.looseCase]());var V=F.tags[F.tags.length-1]||F,re=F.tag={name:F.tagName,attributes:{}};F.opt.xmlns&&(re.ns=V.ns),F.attribList.length=0,ie(F,"onopentagstart",re)}function he(F,V){var k=F.indexOf(":")<0?["",F]:F.split(":"),te=k[0],me=k[1];return V&&"xmlns"===F&&(te="xmlns",me=""),{prefix:te,local:me}}function fe(F){if(F.strict||(F.attribName=F.attribName[F.looseCase]()),-1!==F.attribList.indexOf(F.attribName)||F.tag.attributes.hasOwnProperty(F.attribName))F.attribName=F.attribValue="";else{if(F.opt.xmlns){var V=he(F.attribName,!0),k=V.local;if("xmlns"===V.prefix)if("xml"===k&&F.attribValue!==y)ae(F,"xml: prefix must be bound to "+y+"\nActual: "+F.attribValue);else if("xmlns"===k&&F.attribValue!==g)ae(F,"xmlns: prefix must be bound to "+g+"\nActual: "+F.attribValue);else{var te=F.tag,me=F.tags[F.tags.length-1]||F;te.ns===me.ns&&(te.ns=Object.create(me.ns)),te.ns[k]=F.attribValue}F.attribList.push([F.attribName,F.attribValue])}else F.tag.attributes[F.attribName]=F.attribValue,ie(F,"onattribute",{name:F.attribName,value:F.attribValue});F.attribName=F.attribValue=""}}function _e(F,V){if(F.opt.xmlns){var re=F.tag,k=he(F.tagName);re.prefix=k.prefix,re.local=k.local,re.uri=re.ns[k.prefix]||"",re.prefix&&!re.uri&&(ae(F,"Unbound namespace prefix: "+JSON.stringify(F.tagName)),re.uri=k.prefix),re.ns&&(F.tags[F.tags.length-1]||F).ns!==re.ns&&Object.keys(re.ns).forEach(function(Pe){ie(F,"onopennamespace",{prefix:Pe,uri:re.ns[Pe]})});for(var me=0,Ee=F.attribList.length;me<Ee;me++){var q=F.attribList[me],K=q[0],j=q[1],$=he(K,!0),ce=$.prefix,be=""===ce?"":re.ns[ce]||"",Re={name:K,value:j,prefix:ce,local:$.local,uri:be};ce&&"xmlns"!==ce&&!be&&(ae(F,"Unbound namespace prefix: "+JSON.stringify(ce)),Re.uri=ce),F.tag.attributes[K]=Re,ie(F,"onattribute",Re)}F.attribList.length=0}F.tag.isSelfClosing=!!V,F.sawRoot=!0,F.tags.push(F.tag),ie(F,"onopentag",F.tag),V||(F.state=F.noscript||"script"!==F.tagName.toLowerCase()?x.TEXT:x.SCRIPT,F.tag=null,F.tagName=""),F.attribName=F.attribValue="",F.attribList.length=0}function se(F){if(!F.tagName)return ae(F,"Weird empty close tag."),F.textNode+="</>",void(F.state=x.TEXT);if(F.script){if("script"!==F.tagName)return F.script+="</"+F.tagName+">",F.tagName="",void(F.state=x.SCRIPT);ie(F,"onscript",F.script),F.script=""}var V=F.tags.length,re=F.tagName;F.strict||(re=re[F.looseCase]());for(var k=re;V--&&F.tags[V].name!==k;)ae(F,"Unexpected close tag");if(V<0)return ae(F,"Unmatched closing tag: "+F.tagName),F.textNode+="</"+F.tagName+">",void(F.state=x.TEXT);F.tagName=re;for(var me=F.tags.length;me-- >V;){var Ee=F.tag=F.tags.pop();F.tagName=F.tag.name,ie(F,"onclosetag",F.tagName);var q={};for(var K in Ee.ns)q[K]=Ee.ns[K];F.opt.xmlns&&Ee.ns!==(F.tags[F.tags.length-1]||F).ns&&Object.keys(Ee.ns).forEach(function($){ie(F,"onclosenamespace",{prefix:$,uri:Ee.ns[$]})})}0===V&&(F.closedRoot=!0),F.tagName=F.attribValue=F.attribName="",F.attribList.length=0,F.state=x.TEXT}function Se(F){var k,V=F.entity,re=V.toLowerCase(),te="";return F.ENTITIES[V]?F.ENTITIES[V]:F.ENTITIES[re]?F.ENTITIES[re]:("#"===(V=re).charAt(0)&&("x"===V.charAt(1)?(V=V.slice(2),te=(k=parseInt(V,16)).toString(16)):(V=V.slice(1),te=(k=parseInt(V,10)).toString(10))),V=V.replace(/^0+/,""),te.toLowerCase()!==V?(ae(F,"Invalid character entity"),"&"+F.entity+";"):String.fromCodePoint(k))}function ge(F,V){"<"===V?(F.state=x.OPEN_WAKA,F.startTagPosition=F.position):W(_,V)&&(ae(F,"Non-whitespace before first tag."),F.textNode=V,F.state=x.TEXT)}function ne(F,V){var re="";return V<F.length&&(re=F.charAt(V)),re}x=T.STATE,String.fromCodePoint||(F=String.fromCharCode,V=Math.floor,re=function(){var k=16384,te=[],q=-1,K=arguments.length;if(!K)return"";for(var j="";++q<K;){var $=Number(arguments[q]);if(!isFinite($)||$<0||$>1114111||V($)!==$)throw RangeError("Invalid code point: "+$);$<=65535?te.push($):te.push(55296+(($-=65536)>>10),$%1024+56320),(q+1===K||te.length>k)&&(j+=F.apply(null,te),te.length=0)}return j},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:re,configurable:!0,writable:!0}):String.fromCodePoint=re)}(U)}).call(this,m("./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":function(Ie,U,m){(function(M,T){!function(I,w){"use strict";if(!I.setImmediate){var l,P=1,R={},D=!1,c=I.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(I);g=g&&g.setTimeout?g:I,"[object process]"==={}.toString.call(I.process)?function S(){l=function(A){T.nextTick(function(){N(A)})}}():function O(){if(I.postMessage&&!I.importScripts){var A=!0,E=I.onmessage;return I.onmessage=function(){A=!1},I.postMessage("","*"),I.onmessage=E,A}}()?function b(){var A="setImmediate$"+Math.random()+"$",E=function(L){L.source===I&&"string"==typeof L.data&&0===L.data.indexOf(A)&&N(+L.data.slice(A.length))};I.addEventListener?I.addEventListener("message",E,!1):I.attachEvent("onmessage",E),l=function(L){I.postMessage(A+L,"*")}}():I.MessageChannel?function v(){var A=new MessageChannel;A.port1.onmessage=function(E){N(E.data)},l=function(E){A.port2.postMessage(E)}}():c&&"onreadystatechange"in c.createElement("script")?function p(){var A=c.documentElement;l=function(E){var L=c.createElement("script");L.onreadystatechange=function(){N(E),L.onreadystatechange=null,A.removeChild(L),L=null},A.appendChild(L)}}():function y(){l=function(A){setTimeout(N,0,A)}}(),g.setImmediate=function d(A){"function"!=typeof A&&(A=new Function(""+A));for(var E=new Array(arguments.length-1),L=0;L<E.length;L++)E[L]=arguments[L+1];return R[P]={callback:A,args:E},l(P),P++},g.clearImmediate=f}function f(A){delete R[A]}function N(A){if(D)setTimeout(N,0,A);else{var E=R[A];if(E){D=!0;try{!function _(A){var E=A.callback,L=A.args;switch(L.length){case 0:E();break;case 1:E(L[0]);break;case 2:E(L[0],L[1]);break;case 3:E(L[0],L[1],L[2]);break;default:E.apply(void 0,L)}}(E)}finally{f(A),D=!1}}}}}(typeof self>"u"?typeof M>"u"?this:M:self)}).call(this,m("./node_modules/webpack/buildin/global.js"),m("./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":function(Ie,U,m){Ie.exports=I;var M=m("./node_modules/events/events.js").EventEmitter;function I(){M.call(this)}m("./node_modules/inherits/inherits_browser.js")(I,M),I.Readable=m("./node_modules/readable-stream/readable-browser.js"),I.Writable=m("./node_modules/readable-stream/writable-browser.js"),I.Duplex=m("./node_modules/readable-stream/duplex-browser.js"),I.Transform=m("./node_modules/readable-stream/transform.js"),I.PassThrough=m("./node_modules/readable-stream/passthrough.js"),I.Stream=I,I.prototype.pipe=function(w,P){var R=this;function D(S){w.writable&&!1===w.write(S)&&R.pause&&R.pause()}function c(){R.readable&&R.resume&&R.resume()}R.on("data",D),w.on("drain",c),!w._isStdio&&(!P||!1!==P.end)&&(R.on("end",d),R.on("close",f));var l=!1;function d(){l||(l=!0,w.end())}function f(){l||(l=!0,"function"==typeof w.destroy&&w.destroy())}function _(S){if(N(),0===M.listenerCount(this,"error"))throw S}function N(){R.removeListener("data",D),w.removeListener("drain",c),R.removeListener("end",d),R.removeListener("close",f),R.removeListener("error",_),w.removeListener("error",_),R.removeListener("end",N),R.removeListener("close",N),w.removeListener("close",N)}return R.on("error",_),w.on("error",_),R.on("end",N),R.on("close",N),w.on("close",N),w.emit("pipe",R),w}},"./node_modules/string_decoder/lib/string_decoder.js":function(Ie,U,m){"use strict";var M=m("./node_modules/safe-buffer/index.js").Buffer,T=M.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(p){var y;switch(this.encoding=function w(p){var y=function I(p){if(!p)return"utf8";for(var y;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(y)return;p=(""+p).toLowerCase(),y=!0}}(p);if("string"!=typeof y&&(M.isEncoding===T||!T(p)))throw new Error("Unknown encoding: "+p);return y||p}(p),this.encoding){case"utf16le":this.text=_,this.end=N,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=S,this.end=O,y=3;break;default:return this.write=b,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(y)}function R(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function l(p){var y=this.lastTotal-this.lastNeed,g=function c(p,y,g){if(128!=(192&y[0]))return p.lastNeed=0,"\ufffd";if(p.lastNeed>1&&y.length>1){if(128!=(192&y[1]))return p.lastNeed=1,"\ufffd";if(p.lastNeed>2&&y.length>2&&128!=(192&y[2]))return p.lastNeed=2,"\ufffd"}}(this,p);return void 0!==g?g:this.lastNeed<=p.length?(p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,y,0,p.length),void(this.lastNeed-=p.length))}function _(p,y){if((p.length-y)%2==0){var g=p.toString("utf16le",y);if(g){var A=g.charCodeAt(g.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function N(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):y}function S(p,y){var g=(p.length-y)%3;return 0===g?p.toString("base64",y):(this.lastNeed=3-g,this.lastTotal=3,1===g?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-g))}function O(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function b(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}U.StringDecoder=P,P.prototype.write=function(p){if(0===p.length)return"";var y,g;if(this.lastNeed){if(void 0===(y=this.fillLast(p)))return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<p.length?y?y+this.text(p,g):this.text(p,g):y||""},P.prototype.end=function f(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"\ufffd":y},P.prototype.text=function d(p,y){var g=function D(p,y,g){var A=y.length-1;if(A<g)return 0;var E=R(y[A]);return E>=0?(E>0&&(p.lastNeed=E-1),E):--A<g||-2===E?0:(E=R(y[A]))>=0?(E>0&&(p.lastNeed=E-2),E):--A<g||-2===E?0:(E=R(y[A]))>=0?(E>0&&(2===E?E=0:p.lastNeed=E-3),E):0}(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=g;var A=p.length-(g-this.lastNeed);return p.copy(this.lastChar,0,A),p.toString("utf8",y,A)},P.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},"./node_modules/timers-browserify/main.js":function(Ie,U,m){(function(M){var T=typeof M<"u"&&M||typeof self<"u"&&self||window,I=Function.prototype.apply;function w(P,R){this._id=P,this._clearFn=R}U.setTimeout=function(){return new w(I.call(setTimeout,T,arguments),clearTimeout)},U.setInterval=function(){return new w(I.call(setInterval,T,arguments),clearInterval)},U.clearTimeout=U.clearInterval=function(P){P&&P.close()},w.prototype.unref=w.prototype.ref=function(){},w.prototype.close=function(){this._clearFn.call(T,this._id)},U.enroll=function(P,R){clearTimeout(P._idleTimeoutId),P._idleTimeout=R},U.unenroll=function(P){clearTimeout(P._idleTimeoutId),P._idleTimeout=-1},U._unrefActive=U.active=function(P){clearTimeout(P._idleTimeoutId);var R=P._idleTimeout;R>=0&&(P._idleTimeoutId=setTimeout(function(){P._onTimeout&&P._onTimeout()},R))},m("./node_modules/setimmediate/setImmediate.js"),U.setImmediate=typeof self<"u"&&self.setImmediate||typeof M<"u"&&M.setImmediate||this&&this.setImmediate,U.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof M<"u"&&M.clearImmediate||this&&this.clearImmediate}).call(this,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":function(Ie,U,m){var M;!function(T,I){"use strict";var D="function",c="undefined",l="object",d="string",_="model",N="name",S="type",O="vendor",b="version",v="architecture",p="console",y="mobile",g="tablet",A="smarttv",E="wearable",L="embedded",ee="Amazon",Q="Apple",H="BlackBerry",W="Browser",x="Chrome",z="Firefox",ie="Google",J="Microsoft",de="Motorola",ae="Opera",pe="Samsung",fe="Sony",_e="Xiaomi",se="Zebra",Se="Facebook",ne=function(ce){for(var ue={},be=0;be<ce.length;be++)ue[ce[be].toUpperCase()]=ce[be];return ue},X=function(ce,ue){return typeof ce===d&&-1!==F(ue).indexOf(F(ce))},F=function(ce){return ce.toLowerCase()},re=function(ce,ue){if(typeof ce===d)return ce=ce.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof ue===c?ce:ce.substring(0,350)},k=function(ce,ue){for(var Re,Pe,we,Ue,Ce,Oe,be=0;be<ue.length&&!Ce;){var Ge=ue[be],Le=ue[be+1];for(Re=Pe=0;Re<Ge.length&&!Ce;)if(Ce=Ge[Re++].exec(ce))for(we=0;we<Le.length;we++)Oe=Ce[++Pe],typeof(Ue=Le[we])===l&&Ue.length>0?2===Ue.length?this[Ue[0]]=typeof Ue[1]==D?Ue[1].call(this,Oe):Ue[1]:3===Ue.length?this[Ue[0]]=typeof Ue[1]!==D||Ue[1].exec&&Ue[1].test?Oe?Oe.replace(Ue[1],Ue[2]):I:Oe?Ue[1].call(this,Oe,Ue[2]):I:4===Ue.length&&(this[Ue[0]]=Oe?Ue[3].call(this,Oe.replace(Ue[1],Ue[2])):I):this[Ue]=Oe||I;be+=2}},te=function(ce,ue){for(var be in ue)if(typeof ue[be]===l&&ue[be].length>0){for(var Re=0;Re<ue[be].length;Re++)if(X(ue[be][Re],ce))return"?"===be?I:be}else if(X(ue[be],ce))return"?"===be?I:be;return ce},Ee={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[N,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[N,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[N,b],[/opios[\/ ]+([\w\.]+)/i],[b,[N,ae+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[N,ae]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[N,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[N,"UC"+W]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[N,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[N,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[N,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[N,"IE"]],[/yabrowser\/([\w\.]+)/i],[b,[N,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[N,/(.+)/,"$1 Secure "+W],b],[/\bfocus\/([\w\.]+)/i],[b,[N,z+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[N,ae+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[N,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[N,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[N,ae+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[N,"MIUI "+W]],[/fxios\/([-\w\.]+)/i],[b,[N,z]],[/\bqihu|(qi?ho?o?|360)browser/i],[[N,"360 "+W]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[N,/(.+)/,"$1 "+W],b],[/(comodo_dragon)\/([\w\.]+)/i],[[N,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[N,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[N],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[N,Se],b],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[N,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[N,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[N,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[N,x+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[N,"Android "+W]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[N,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[N,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,N],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[N,[b,te,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[N,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[N,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[N,z+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[N,b]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,F]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[_,[O,pe],[S,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[_,[O,pe],[S,y]],[/\((ip(?:hone|od)[\w ]*);/i],[_,[O,Q],[S,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[_,[O,Q],[S,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[_,[O,"Huawei"],[S,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[_,[O,"Huawei"],[S,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[_,/_/g," "],[O,_e],[S,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[_,/_/g," "],[O,_e],[S,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[_,[O,"OPPO"],[S,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[_,[O,"Vivo"],[S,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[_,[O,"Realme"],[S,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[_,[O,de],[S,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[_,[O,de],[S,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[_,[O,"LG"],[S,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[_,[O,"LG"],[S,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[_,[O,"Lenovo"],[S,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[_,/_/g," "],[O,"Nokia"],[S,y]],[/(pixel c)\b/i],[_,[O,ie],[S,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[_,[O,ie],[S,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[_,[O,fe],[S,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[_,"Xperia Tablet"],[O,fe],[S,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[_,[O,"OnePlus"],[S,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[_,[O,ee],[S,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[_,/(.+)/g,"Fire Phone $1"],[O,ee],[S,y]],[/(playbook);[-\w\),; ]+(rim)/i],[_,O,[S,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[_,[O,H],[S,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[_,[O,"ASUS"],[S,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[_,[O,"ASUS"],[S,y]],[/(nexus 9)/i],[_,[O,"HTC"],[S,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[O,[_,/_/g," "],[S,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[_,[O,"Acer"],[S,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[_,[O,"Meizu"],[S,y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[_,[O,"Sharp"],[S,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[O,_,[S,y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[O,_,[S,g]],[/(surface duo)/i],[_,[O,J],[S,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[_,[O,"Fairphone"],[S,y]],[/(u304aa)/i],[_,[O,"AT&T"],[S,y]],[/\bsie-(\w*)/i],[_,[O,"Siemens"],[S,y]],[/\b(rct\w+) b/i],[_,[O,"RCA"],[S,g]],[/\b(venue[\d ]{2,7}) b/i],[_,[O,"Dell"],[S,g]],[/\b(q(?:mv|ta)\w+) b/i],[_,[O,"Verizon"],[S,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[_,[O,"Barnes & Noble"],[S,g]],[/\b(tm\d{3}\w+) b/i],[_,[O,"NuVision"],[S,g]],[/\b(k88) b/i],[_,[O,"ZTE"],[S,g]],[/\b(nx\d{3}j) b/i],[_,[O,"ZTE"],[S,y]],[/\b(gen\d{3}) b.+49h/i],[_,[O,"Swiss"],[S,y]],[/\b(zur\d{3}) b/i],[_,[O,"Swiss"],[S,g]],[/\b((zeki)?tb.*\b) b/i],[_,[O,"Zeki"],[S,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[O,"Dragon Touch"],_,[S,g]],[/\b(ns-?\w{0,9}) b/i],[_,[O,"Insignia"],[S,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[_,[O,"NextBook"],[S,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[O,"Voice"],_,[S,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[O,"LvTel"],_,[S,y]],[/\b(ph-1) /i],[_,[O,"Essential"],[S,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[_,[O,"Envizen"],[S,g]],[/\b(trio[-\w\. ]+) b/i],[_,[O,"MachSpeed"],[S,g]],[/\btu_(1491) b/i],[_,[O,"Rotor"],[S,g]],[/(shield[\w ]+) b/i],[_,[O,"Nvidia"],[S,g]],[/(sprint) (\w+)/i],[O,_,[S,y]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[O,J],[S,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[_,[O,se],[S,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[_,[O,se],[S,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[O,_,[S,p]],[/droid.+; (shield) bui/i],[_,[O,"Nvidia"],[S,p]],[/(playstation [345portablevi]+)/i],[_,[O,fe],[S,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[_,[O,J],[S,p]],[/smart-tv.+(samsung)/i],[O,[S,A]],[/hbbtv.+maple;(\d+)/i],[[_,/^/,"SmartTV"],[O,pe],[S,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[O,"LG"],[S,A]],[/(apple) ?tv/i],[O,[_,Q+" TV"],[S,A]],[/crkey/i],[[_,x+"cast"],[O,ie],[S,A]],[/droid.+aft(\w)( bui|\))/i],[_,[O,ee],[S,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[_,[O,"Sharp"],[S,A]],[/(bravia[\w ]+)( bui|\))/i],[_,[O,fe],[S,A]],[/(mitv-\w{5}) bui/i],[_,[O,_e],[S,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[O,re],[_,re],[S,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[S,A]],[/((pebble))app/i],[O,_,[S,E]],[/droid.+; (glass) \d/i],[_,[O,ie],[S,E]],[/droid.+; (wt63?0{2,3})\)/i],[_,[O,se],[S,E]],[/(quest( 2)?)/i],[_,[O,Se],[S,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[O,[S,L]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[_,[S,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[_,[S,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[S,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[S,y]],[/(android[-\w\. ]{0,9});.+buil/i],[_,[O,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[N,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[N,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[N,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,N]],os:[[/microsoft (windows) (vista|xp)/i],[N,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[N,[b,te,Ee]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[N,"Windows"],[b,te,Ee]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[N,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[N,"Mac OS"],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,N],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[N,b],[/\(bb(10);/i],[b,[N,H]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[N,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[N,z+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[N,"webOS"]],[/crkey\/([\d\.]+)/i],[b,[N,x+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[N,"Chromium OS"],b],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[N,b],[/(sunos) ?([\w\.\d]*)/i],[[N,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[N,b]]},K=function(ce,ue){if(typeof ce===l&&(ue=ce,ce=I),!(this instanceof K))return new K(ce,ue).getResult();var be=ce||(typeof T!==c&&T.navigator&&T.navigator.userAgent?T.navigator.userAgent:""),Re=ue?function(ce,ue){var be={};for(var Re in ce)be[Re]=ue[Re]&&ue[Re].length%2==0?ue[Re].concat(ce[Re]):ce[Re];return be}(q,ue):q;return this.getBrowser=function(){var Pe={};return Pe[N]=I,Pe[b]=I,k.call(Pe,be,Re.browser),Pe.major=function(ce){return typeof ce===d?ce.replace(/[^\d\.]/g,"").split(".")[0]:I}(Pe.version),Pe},this.getCPU=function(){var Pe={};return Pe[v]=I,k.call(Pe,be,Re.cpu),Pe},this.getDevice=function(){var Pe={};return Pe[O]=I,Pe[_]=I,Pe[S]=I,k.call(Pe,be,Re.device),Pe},this.getEngine=function(){var Pe={};return Pe[N]=I,Pe[b]=I,k.call(Pe,be,Re.engine),Pe},this.getOS=function(){var Pe={};return Pe[N]=I,Pe[b]=I,k.call(Pe,be,Re.os),Pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return be},this.setUA=function(Pe){return be=typeof Pe===d&&Pe.length>350?re(Pe,350):Pe,this},this.setUA(be),this};K.VERSION="1.0.32",K.BROWSER=ne([N,b,"major"]),K.CPU=ne([v]),K.DEVICE=ne([_,O,S,p,y,A,g,E,L]),K.ENGINE=K.OS=ne([N,b]),typeof U!==c?(typeof Ie!==c&&Ie.exports&&(U=Ie.exports=K),U.UAParser=K):m("./node_modules/webpack/buildin/amd-options.js")?(M=function(){return K}.call(U,m,U,Ie))!==I&&(Ie.exports=M):typeof T!==c&&(T.UAParser=K);var j=typeof T!==c&&(T.jQuery||T.Zepto);if(j&&!j.ua){var $=new K;j.ua=$.getResult(),j.ua.get=function(){return $.getUA()},j.ua.set=function(ce){$.setUA(ce);var ue=$.getResult();for(var be in ue)j.ua[be]=ue[be]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":function(Ie,U,m){(function(M){function I(w){try{if(!M.localStorage)return!1}catch{return!1}var P=M.localStorage[w];return null!=P&&"true"===String(P).toLowerCase()}Ie.exports=function T(w,P){if(I("noDeprecation"))return w;var R=!1;return function D(){if(!R){if(I("throwDeprecation"))throw new Error(P);I("traceDeprecation")?console.trace(P):console.warn(P),R=!0}return w.apply(this,arguments)}}}).call(this,m("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":function(Ie,U){(function(m){Ie.exports=m}).call(this,{})},"./node_modules/webpack/buildin/global.js":function(Ie,U){var m;m=function(){return this}();try{m=m||new Function("return this")()}catch{"object"==typeof window&&(m=window)}Ie.exports=m},"./src/core/Debug.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js"),P=1,R=2,D=3,c=4,l=5;function d(_){_=_||{};var v,p,y,g,N=this.context,S=Object(M.default)(N).getInstance(),O=_.settings,b=[];function E(z){return z&&z.bind?z.bind(window.console):window.console.log.bind(window.console)}function Q(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[P,this].concat(ie))}function le(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[R,this].concat(ie))}function H(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[D,this].concat(ie))}function W(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[c,this].concat(ie))}function x(){for(var z=arguments.length,ie=new Array(z),oe=0;oe<z;oe++)ie[oe]=arguments[oe];Y.apply(void 0,[l,this].concat(ie))}function Y(z,ie){var oe="",ve=null;p&&(ve=(new Date).getTime(),oe+="["+(ve-g)+"]"),y&&ie&&ie.getClassName&&(oe+="["+ie.getClassName()+"]",ie.getType&&(oe+="["+ie.getType()+"]")),oe.length>0&&(oe+=" ");for(var J=arguments.length,de=new Array(J>2?J-2:0),ae=2;ae<J;ae++)de[ae-2]=arguments[ae];Array.apply(null,de).forEach(function(pe){oe+=pe+" "}),b[z]&&O.get().debug.logLevel>=z&&b[z](oe),O&&O.get().debug.dispatchEvent&&S.trigger(T.default.LOG,{message:oe,level:z})}return v={getLogger:function L(z){return{fatal:Q.bind(z),error:le.bind(z),warn:H.bind(z),info:W.bind(z),debug:x.bind(z)}},setLogTimestampVisible:function G(z){p=z},setCalleeNameVisible:function ee(z){y=z}},function A(){p=!0,y=!0,g=(new Date).getTime(),typeof window<"u"&&window.console&&(b[P]=E(window.console.error),b[R]=E(window.console.error),b[D]=E(window.console.warn),b[c]=E(window.console.info),b[l]=E(window.console.debug))}(),v}d.__dashjs_factory_name="Debug";var f=I.default.getSingletonFactory(d);f.LOG_LEVEL_NONE=0,f.LOG_LEVEL_FATAL=P,f.LOG_LEVEL_ERROR=R,f.LOG_LEVEL_WARNING=D,f.LOG_LEVEL_INFO=c,f.LOG_LEVEL_DEBUG=l,I.default.updateSingletonFactory(d.__dashjs_factory_name,f),U.default=f},"./src/core/EventBus.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/MediaPlayerEvents.js");function P(){var D={};function f(S,O,b){var v=-1;return D[S]&&D[S].some(function(p,y){if(p&&p.callback===O&&(!b||b===p.scope))return v=y,!0}),v}return{on:function c(S,O,b){var v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!S)throw new Error("event type cannot be null or undefined");if(!O||"function"!=typeof O)throw new Error("listener must be a function: "+O);var p=v.priority||0;if(!(f(S,O,b)>=0)){D[S]=D[S]||[];var y={callback:O,scope:b,priority:p};b&&b.getStreamId&&(y.streamId=b.getStreamId()),b&&b.getType&&(y.mediaType=b.getType()),v&&v.mode&&(y.mode=v.mode),D[S].some(function(A,E){if(A&&p>A.priority)return D[S].splice(E,0,y),!0})||D[S].push(y)}},off:function l(S,O,b){if(S&&O&&D[S]){var v=f(S,O,b);v<0||(D[S][v]=null)}},trigger:function d(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(S&&D[S]){if((O=O||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");O.type=S,b.streamId&&(O.streamId=b.streamId),b.mediaType&&(O.mediaType=b.mediaType),D[S].filter(function(v){return!(!v||b.streamId&&v.streamId&&v.streamId!==b.streamId||b.mediaType&&v.mediaType&&v.mediaType!==b.mediaType||b.mode&&v.mode&&v.mode!==b.mode||!v.mode&&b.mode&&b.mode===T.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(v){return v&&v.callback.call(v.scope,O)})}},reset:function _(){D={}}}}P.__dashjs_factory_name="EventBus";var R=M.default.getSingletonFactory(P);R.EVENT_PRIORITY_LOW=0,R.EVENT_PRIORITY_HIGH=5e3,M.default.updateSingletonFactory(P.__dashjs_factory_name,R),U.default=R},"./src/core/FactoryMaker.js":function(Ie,U,m){"use strict";m.r(U);var M=function(){var T,I=[],w={},P={};function D(y,g){for(var A in I){var E=I[A];if(E.context===y&&E.name===g)return E.instance}return null}function d(y,g){return g[y]}function f(y,g,A){y in A&&(A[y]=g)}function p(y,g,A){var E,L=y.__dashjs_factory_name,G=g[L];if(G){var ee=G.instance;if(!G.override)return ee.apply({context:g,factory:T},A);for(var Q in E=y.apply({context:g},A),ee=ee.apply({context:g,factory:T,parent:E},A))E.hasOwnProperty(Q)&&(E[Q]=ee[Q])}else E=y.apply({context:g},A);return E.getClassName=function(){return L},E}return T={extend:function R(y,g,A,E){!E[y]&&g&&(E[y]={instance:g,override:A})},getSingletonInstance:D,setSingletonInstance:function c(y,g,A){for(var E in I){var L=I[E];if(L.context===y&&L.name===g)return void(I[E].instance=A)}I.push({name:g,context:y,instance:A})},deleteSingletonInstances:function l(y){I=I.filter(function(g){return g.context!==y})},getSingletonFactory:function v(y){var g=d(y.__dashjs_factory_name,w);return g||(g=function(E){var L;return void 0===E&&(E={}),{getInstance:function(){return L||(L=D(E,y.__dashjs_factory_name)),L||(L=p(y,E,arguments),I.push({name:y.__dashjs_factory_name,context:E,instance:L})),L}}},w[y.__dashjs_factory_name]=g),g},getSingletonFactoryByName:function b(y){return d(y,w)},updateSingletonFactory:function O(y,g){f(y,g,w)},getClassFactory:function S(y){var g=d(y.__dashjs_factory_name,P);return g||(g=function(E){return void 0===E&&(E={}),{create:function(){return p(y,E,arguments)}}},P[y.__dashjs_factory_name]=g),g},getClassFactoryByName:function N(y){return d(y,P)},updateClassFactory:function _(y,g){f(y,g,P)}}}();U.default=M},"./src/core/Settings.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Utils.js"),I=m("./src/core/Debug.js"),w=m("./src/streaming/constants/Constants.js"),P=m("./src/streaming/vo/metrics/HTTPRequest.js"),R=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js");function c(S){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(S)}function l(S,O,b){return(O=function d(S){var O=function f(S,O){if("object"!==c(S)||null===S)return S;var b=S[Symbol.toPrimitive];if(void 0!==b){var v=b.call(S,O||"default");if("object"!==c(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===O?String:Number)(S)}(S,"string");return"symbol"===c(O)?O:String(O)}(O))in S?Object.defineProperty(S,O,{value:b,enumerable:!0,configurable:!0,writable:!0}):S[O]=b,S}function _(){var S,O,v=this.context,p=Object(R.default)(v).getInstance(),y={"streaming.delay.liveDelay":D.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":D.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":D.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":D.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":D.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},g={debug:{logLevel:I.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:w.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:w.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:w.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:w.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(S={},l(S,P.HTTPRequest.MPD_TYPE,500),l(S,P.HTTPRequest.XLINK_EXPANSION_TYPE,500),l(S,P.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.INIT_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),l(S,P.HTTPRequest.LICENSE,1e3),l(S,P.HTTPRequest.OTHER_TYPE,1e3),l(S,"lowLatencyReductionFactor",10),S),retryAttempts:(O={},l(O,P.HTTPRequest.MPD_TYPE,3),l(O,P.HTTPRequest.XLINK_EXPANSION_TYPE,1),l(O,P.HTTPRequest.MEDIA_SEGMENT_TYPE,3),l(O,P.HTTPRequest.INIT_SEGMENT_TYPE,3),l(O,P.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),l(O,P.HTTPRequest.INDEX_SEGMENT_TYPE,3),l(O,P.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),l(O,P.HTTPRequest.LICENSE,3),l(O,P.HTTPRequest.OTHER_TYPE,3),l(O,"lowLatencyMultiplyFactor",5),O),abr:{movingAverageMethod:w.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:w.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:w.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:w.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},A=T.default.clone(g);function E(Q,le,H){for(var W in Q)Q.hasOwnProperty(W)&&(le.hasOwnProperty(W)?"object"!==c(Q[W])||Q[W]instanceof Array||null===Q[W]?(le[W]=T.default.clone(Q[W]),y[H+W]&&p.trigger(y[H+W])):E(Q[W],le[W],H.slice()+W+"."):console.error("Settings parameter "+H+W+" is not supported"))}return{get:function L(){return A},update:function G(Q){"object"===c(Q)&&E(Q,A,"")},reset:function ee(){A=T.default.clone(g)}}}_.__dashjs_factory_name="Settings";var N=M.default.getSingletonFactory(_);U.default=N},"./src/core/Utils.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./node_modules/path-browserify/index.js"),T=m.n(M),I=m("./node_modules/ua-parser-js/src/ua-parser.js");function P(_){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(_)}function D(_,N){for(var S=0;S<N.length;S++){var O=N[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,l(O.key),O)}}function l(_){var N=function d(_,N){if("object"!==P(_)||null===_)return _;var S=_[Symbol.toPrimitive];if(void 0!==S){var O=S.call(_,N||"default");if("object"!==P(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(_)}(_,"string");return"symbol"===P(N)?N:String(N)}var f=function(){function _(){!function R(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}(this,_)}return function c(_,N,S){return N&&D(_.prototype,N),S&&D(_,S),Object.defineProperty(_,"prototype",{writable:!1}),_}(_,null,[{key:"mixin",value:function(S,O,b){var v,p={};if(S)for(var y in O)O.hasOwnProperty(y)&&(v=O[y],(!(y in S)||S[y]!==v&&(!(y in p)||p[y]!==v))&&(S[y]="object"===P(S[y])&&null!==S[y]?_.mixin(S[y],v,b):b(v)));return S}},{key:"clone",value:function(S){if(!S||"object"!==P(S))return S;var O;if(S instanceof Array){O=[];for(var b=0,v=S.length;b<v;++b)b in S&&O.push(_.clone(S[b]))}else O={};return _.mixin(O,S,_.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(S,O){try{if(!O||0===O.length)return S;var b=new URL(S);return O.forEach(function(v){v.key&&v.value&&b.searchParams.set(v.key,v.value)}),b.href}catch{return S}}},{key:"parseHttpHeaders",value:function(S){var O={};if(!S)return O;for(var b=S.trim().split("\r\n"),v=0,p=b.length;v<p;v++){var y=b[v],g=y.indexOf(": ");g>0&&(O[y.substring(0,g)]=y.substring(g+2))}return O}},{key:"generateUuid",value:function(){var S=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var v=(S+16*Math.random())%16|0;return S=Math.floor(S/16),("x"==b?v:3&v|8).toString(16)})}},{key:"generateHashCode",value:function(S){var O=0;if(0===S.length)return O;for(var b=0;b<S.length;b++)O=(O<<5)-O+S.charCodeAt(b),O|=0;return O}},{key:"getRelativeUrl",value:function(S,O){try{var b=new URL(S),v=new URL(O);if(b.protocol=v.protocol,b.origin!==v.origin)return O;var p=T.a.relative(b.pathname.substr(0,b.pathname.lastIndexOf("/")),v.pathname.substr(0,v.pathname.lastIndexOf("/"))),y=0===p.length?1:0;return p+=v.pathname.substr(v.pathname.lastIndexOf("/")+y,v.pathname.length-1),v.pathname.length<p.length?v.pathname:p}catch{return O}}},{key:"parseUserAgent",value:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var O=null===S&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(I.UAParser)(O)}catch{return{}}}}]),_}();U.default=f},"./src/core/Version.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"getVersionString",function(){return T});function T(){return"4.5.2"}},"./src/core/errors/Errors.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,g.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,g.SEGMENT_BASE_LOADER_ERROR_CODE=15,g.TIME_SYNC_FAILED_ERROR_CODE=16,g.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,g.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,g.APPEND_ERROR_CODE=20,g.REMOVE_ERROR_CODE=21,g.DATA_UPDATE_FAILED_ERROR_CODE=22,g.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,g.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,g.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,g.DOWNLOAD_ERROR_ID_SIDX_CODE=26,g.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,g.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,g.DOWNLOAD_ERROR_ID_XLINK_CODE=29,g.MANIFEST_ERROR_ID_PARSE_CODE=31,g.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,g.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,g.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,g.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,g.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",g.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",g.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",g.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",g.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",g.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",g.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",g.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",g.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",g.APPEND_ERROR_MESSAGE="chunk is not defined",g.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",g.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",g.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",g.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",g.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",g.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/errors/ErrorsBase.js").default));U.default=b},"./src/core/errors/ErrorsBase.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(){!function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c)}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"extend",value:function(d,f){if(d){var _=!!f&&f.override,N=!!f&&f.publicOnly;for(var S in d)!d.hasOwnProperty(S)||this[S]&&!_||N&&-1===d[S].indexOf("public_")||(this[S]=d[S])}}}]),c}()},"./src/core/events/CoreEvents.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/events/EventsBase.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function I(b,v){for(var p=0;p<v.length;p++){var y=v[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,P(y.key),y)}}function P(b){var v=function R(b,v){if("object"!==T(b)||null===b)return b;var p=b[Symbol.toPrimitive];if(void 0!==p){var y=p.call(b,v||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(b)}(b,"string");return"symbol"===T(v)?v:String(v)}function c(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&l(b,v)}function l(b,v){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y})(b,v)}function d(b){var v=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=S(b);if(v){var A=S(this).constructor;g=Reflect.construct(y,arguments,A)}else g=y.apply(this,arguments);return f(this,g)}}function f(b,v){if(v&&("object"===T(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}function S(b){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}U.default=function(b){c(p,b);var v=d(p);function p(){var y;return function D(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p),(y=v.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",y.BUFFERING_COMPLETED="bufferingCompleted",y.BUFFER_CLEARED="bufferCleared",y.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",y.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",y.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",y.CURRENT_TRACK_CHANGED="currentTrackChanged",y.DATA_UPDATE_COMPLETED="dataUpdateCompleted",y.INBAND_EVENTS="inbandEvents",y.INITIAL_STREAM_SWITCH="initialStreamSwitch",y.INIT_FRAGMENT_LOADED="initFragmentLoaded",y.INIT_FRAGMENT_NEEDED="initFragmentNeeded",y.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",y.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",y.LOADING_COMPLETED="loadingCompleted",y.LOADING_PROGRESS="loadingProgress",y.LOADING_DATA_PROGRESS="loadingDataProgress",y.LOADING_ABANDONED="loadingAborted",y.MANIFEST_UPDATED="manifestUpdated",y.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",y.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",y.QUOTA_EXCEEDED="quotaExceeded",y.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",y.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",y.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",y.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",y.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",y.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",y.SOURCE_BUFFER_ERROR="sourceBufferError",y.STREAMS_COMPOSED="streamsComposed",y.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",y.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",y.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",y.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",y.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",y.URL_RESOLUTION_FAILED="urlResolutionFailed",y.VIDEO_CHUNK_RECEIVED="videoChunkReceived",y.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",y.XLINK_ELEMENT_LOADED="xlinkElementLoaded",y.XLINK_READY="xlinkReady",y.SEEK_TARGET="seekTarget",y.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",y.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",y.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",y.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",y.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",y}return function w(b,v,p){return v&&I(b.prototype,v),p&&I(b,p),Object.defineProperty(b,"prototype",{writable:!1}),b}(p)}(M.default)},"./src/core/events/Events.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var O=function(v){c(y,v);var p=d(y);function y(){return D(this,y),p.apply(this,arguments)}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/events/CoreEvents.js").default),b=new O;U.default=b},"./src/core/events/EventsBase.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(){!function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c)}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"extend",value:function(d,f){if(d){var _=!!f&&f.override,N=!!f&&f.publicOnly;for(var S in d)!d.hasOwnProperty(S)||this[S]&&!_||N&&-1===d[S].indexOf("public_")||(this[S]=d[S])}}}]),c}()},"./src/dash/DashAdapter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/constants/DashConstants.js"),T=m("./src/dash/vo/RepresentationInfo.js"),I=m("./src/dash/vo/MediaInfo.js"),w=m("./src/dash/vo/StreamInfo.js"),P=m("./src/dash/vo/ManifestInfo.js"),R=m("./src/dash/vo/Event.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/dash/models/DashManifestModel.js"),l=m("./src/dash/models/PatchManifestModel.js"),d=m("./node_modules/bcp-47-normalize/index.js"),f=m.n(d);function _(){var N,S,O,b,v,p,y,g=this.context;function Q(De){return S.getRolesForAdaptation(De).filter(function(Te){return Te.value===M.default.MAIN})[0]}function le(De,Te,Ne){var Ye=S.getAdaptationsForType(b[0].mpd.manifest,De,Te);if(!Ye||0===Ye.length)return null;if(Ye.length>1&&Ne){var st=x(Ne,Te);if(v[Ne.id]&&v[Ne.id][Te])for(var tt=0,ut=Ye.length;tt<ut;tt++)if(H(v[Ne.id][Te],st[tt]))return Ye[tt];for(var yt=0,gt=Ye.length;yt<gt;yt++)if(Q(Ye[yt]))return Ye[yt]}return Ye[0]}function H(De,Te){if(!De||!Te)return!1;var Ne=De.id===Te.id,Ye=De.codec===Te.codec,st=De.viewpoint===Te.viewpoint,tt=De.lang===Te.lang,ut=De.roles.toString()===Te.roles.toString(),yt=De.accessibility.toString()===Te.accessibility.toString(),gt=De.audioChannelConfiguration.toString()===Te.audioChannelConfiguration.toString();return Ne&&Ye&&st&&tt&&ut&&yt&&gt}function W(De,Te,Ne,Ye,st,tt){var gt,Be,Ze,rt,mt,ut=[];if(!Ye||0===Ye.length)return[];var Dt=S.getAdaptationsForPeriod(Te);for(Ze=0,mt=Ye.length;Ze<mt;Ze++)if(gt=$e(Dt[Be=S.getIndexForAdaptation(Ye[Ze],De,Ne.index)]),tt){var Ot=gt.accessibility.length;for(rt=0;rt<Ot;rt++)if(gt){var kt=gt.accessibility[rt];if(0===kt.indexOf("cea-608:")){var un=kt.substring(8).split(";");if("CC"===un[0].substring(0,2))for(rt=0;rt<un.length;rt++)gt||(gt=$e.call(this,Dt[Be])),Je(gt,un[rt].substring(0,3),un[rt].substring(4)),ut.push(gt),gt=null;else for(rt=0;rt<un.length;rt++)gt||(gt=$e.call(this,Dt[Be])),Je(gt,"CC"+(rt+1),un[rt]),ut.push(gt),gt=null}else 0===kt.indexOf("cea-608")&&(Je(gt,p.CC1,"eng"),ut.push(gt),gt=null)}}else st===p.IMAGE?(nt(gt),ut.push(gt),gt=null):gt&&ut.push(gt);return ut}function x(De,Te,Ne){var Ye=b,st=Ne,tt=[];if(st)Rt(),Ye=X(st);else{if(!(b.length>0))return tt;st=b[0].mpd.manifest}var ut=Le(De,Ye),yt=S.getAdaptationsForType(st,De?De.index:null,Te);return tt=W(st,ut,De,yt,Te),Te===p.TEXT&&(yt=S.getAdaptationsForType(st,De?De.index:null,p.VIDEO),tt=tt.concat(W(st,ut,De,yt,Te,!0))),tt}function X(De){var Te=F(De);return S.getRegularPeriods(Te)}function F(De){var Te=Oe(De);return S.getMpd(Te)}function we(){b=[],v={}}function Oe(De){return De||(b.length>0?b[0].mpd.manifest:null)}function Ge(De){try{var Te=Le(De.streamInfo,b),Ne=S.getAdaptationsForPeriod(Te);return De&&De.streamInfo&&void 0!==De.streamInfo.id&&Ne?Ne[De.index]:null}catch{return null}}function Le(De,Te){for(var Ne=Te.length,Ye=0;Ye<Ne;Ye++){var st=Te[Ye];if(De&&De.id===st.id)return st}return null}function $e(De){if(!De)return null;var Ye,Te=new I.default,Ne=De.period.mpd.manifest.Period_asArray[De.period.index].AdaptationSet_asArray[De.index];if(Te.id=De.id,Te.index=De.index,Te.type=De.type,Te.streamInfo=at(De.period),Te.representationCount=S.getRepresentationCount(Ne),Te.labels=S.getLabelsForAdaptation(Ne),Te.lang=S.getLanguageForAdaptation(Ne),Ye=S.getViewpointForAdaptation(Ne),Te.viewpoint=Ye?Ye.value:void 0,Te.accessibility=S.getAccessibilityForAdaptation(Ne).map(function(ut){var yt=ut.value,gt=yt;return ut.schemeIdUri&&ut.schemeIdUri.search("cea-608")>=0&&typeof y<"u"&&(gt=yt?"cea-608:"+yt:"cea-608",Te.embeddedCaptions=!0),gt}),Te.audioChannelConfiguration=S.getAudioChannelConfigurationForAdaptation(Ne).map(function(ut){return ut.value}),0===Te.audioChannelConfiguration.length&&Array.isArray(Ne.Representation_asArray)&&Ne.Representation_asArray.length>0&&(Te.audioChannelConfiguration=S.getAudioChannelConfigurationForRepresentation(Ne.Representation_asArray[0]).map(function(ut){return ut.value})),Te.roles=S.getRolesForAdaptation(Ne).map(function(ut){return ut.value}),Te.codec=S.getCodec(Ne),Te.mimeType=S.getMimeType(Ne),Te.contentProtection=S.getContentProtectionData(Ne),Te.bitrateList=S.getBitrateListForAdaptation(Ne),Te.selectionPriority=S.getSelectionPriority(Ne),Te.contentProtection){var st=Te.contentProtection.map(function(ut){return S.getKID(ut)}).filter(function(ut){return null!==ut});if(st.length){var tt=st[0];Te.contentProtection.forEach(function(ut){ut.keyId=tt})}}return Te.isText=S.getIsText(Ne),Te.supplementalProperties=S.getSupplementalProperties(Ne),Te.isFragmented=S.getIsFragmented(Ne),Te.isEmbedded=!1,Te}function Je(De,Te,Ne){De.id=Te,De.index=100+parseInt(Te.substring(2,3)),De.type=p.TEXT,De.codec="cea-608-in-SEI",De.isEmbedded=!0,De.isFragmented=!1,De.lang=f()(Ne),De.roles=["caption"]}function nt(De){De.type=p.IMAGE}function at(De){var Te=new w.default;return Te.id=De.id,Te.index=De.index,Te.start=De.start,Te.duration=De.duration,Te.manifestInfo=function ht(De){var Te=new P.default;return Te.dvrWindowSize=De.timeShiftBufferDepth,Te.loadedTime=De.manifest.loadedTime,Te.availableFrom=De.availabilityStartTime,Te.minBufferTime=De.manifest.minBufferTime,Te.maxFragmentDuration=De.maxSegmentDuration,Te.duration=S.getDuration(De.manifest),Te.isDynamic=S.getIsDynamic(De.manifest),Te.serviceDescriptions=S.getServiceDescriptions(De.manifest),Te.protocol=De.manifest.protocol,Te}(De.mpd),Te.isLast=1===De.mpd.manifest.Period_asArray.length||Math.abs(Te.start+Te.duration-Te.manifestInfo.duration)<1,Te}function Rt(){if(!p)throw new Error("setConfig function has to be called previously")}function Ht(De){return b.length>0?b[0].mpd.manifest.Period_asArray[De]:null}function $t(De,Te,Ne){var st,tt,ut,yt,gt;if(De)for(st=De.AdaptationSet_asArray,yt=0;yt<st.length;yt+=1)for(ut=st[yt].Representation_asArray,gt=0;gt<ut.length;gt+=1)if(Te===(tt=ut[gt]).id)return Ne?gt:tt;return null}return N={getBandwidthForRepresentation:function ce(De,Te){var Ne;return(Ne=$t(Ht(Te),De))?Ne.bandwidth:null},getIndexForRepresentation:function ue(De,Te){return function Bt(De,Te){var Ne=$t(De,Te,!0);return null!==Ne?Ne:-1}(Ht(Te),De)},getMaxIndexForBufferType:function be(De,Te){return function Jt(De,Te){var Ne,Ye,st,tt;if(!De||!Te)return-1;for(Ye=De.AdaptationSet_asArray,tt=0;tt<Ye.length;tt+=1)if(st=(Ne=Ye[tt]).Representation_asArray,S.getIsTypeOf(Ne,Te))return st.length;return-1}(Ht(Te),De)},convertRepresentationToRepresentationInfo:function G(De){if(De){var Te=new T.default,Ye=S.getRepresentationFor(De.index,De.adaptation.period.mpd.manifest.Period_asArray[De.adaptation.period.index].AdaptationSet_asArray[De.adaptation.index]);return Te.id=De.id,Te.quality=De.index,Te.bandwidth=S.getBandwidth(Ye),Te.fragmentDuration=De.segmentDuration||(De.segments&&De.segments.length>0?De.segments[0].duration:NaN),Te.MSETimeOffset=De.MSETimeOffset,Te.mediaInfo=$e(De.adaptation),Te}return null},getStreamsInfo:function z(De,Te){var Ne=[],Ye=b;if(De&&(Rt(),Ye=X(De)),Ye.length>0){(!Te||Te>Ye.length)&&(Te=Ye.length);for(var st=0;st<Te;st++)Ne.push(at(Ye[st]))}return Ne},getMediaInfoForType:function ee(De,Te){if(0===b.length||!De)return null;var Ne=Le(De,b);if(!Ne)return null;var Ye=S.getAdaptationsForPeriod(Ne),st=le(De.index,Te,De);return st?$e(Ye[S.getIndexForAdaptation(st,b[0].mpd.manifest,De.index)]):null},getAllMediaInfoForType:x,getAdaptationForType:le,getRealAdaptation:function ie(De,Te){var Ne,Ye,st=Le(De,b);return Ne=Te?Te.id:null,b.length>0&&st&&(Ye=Ne?S.getAdaptationForId(Ne,b[0].mpd.manifest,st.index):S.getAdaptationForIndex(Te?Te.index:null,b[0].mpd.manifest,st.index)),Ye},getProducerReferenceTimes:function oe(De,Te){var Ne,Ye,st=Le(De,b);return Ne=Te?Te.id:null,b.length>0&&st&&(Ye=Ne?S.getAdaptationForId(Ne,b[0].mpd.manifest,st.index):S.getAdaptationForIndex(Te?Te.index:null,b[0].mpd.manifest,st.index)),Ye?S.getProducerReferenceTimesForAdaptation(Ye):[]},getRealPeriodByIndex:function J(De){return S.getRealPeriodForIndex(De,b[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function ve(De){try{return S.getEssentialPropertiesForRepresentation(De)}catch{return[]}},getVoRepresentations:function de(De){var Ne=Ge(De);return S.getRepresentationsForAdaptation(Ne)},getEventsFor:function pe(De,Te,Ne){var Ye=[];if(b.length>0){var st=b[0].mpd.manifest;if(De instanceof w.default){var tt=Le(De,b);Ye=S.getEventsForPeriod(tt)}else if(De instanceof I.default){var ut=Le(Ne,b);Ye=S.getEventStreamForAdaptationSet(st,Ge(De),ut)}else if(De instanceof T.default){var yt=Le(Ne,b);Ye=S.getEventStreamForRepresentation(st,Te,yt)}}return Ye},getEvent:function ae(De,Te,Ne,Ye){try{if(!De||!Te||isNaN(Ne)||!Ye)return null;var st=De.scheme_id_uri,tt=De.value;if(!Te[st+"/"+tt])return null;var mt,ut=new R.default,yt=De.timescale||1,gt=Ye.adaptation.period.start,Be=Te[st+"/"+tt],Ze=isNaN(Ye.presentationTimeOffset)?isNaN(Be.presentationTimeOffset)?0:Be.presentationTimeOffset:Ye.presentationTimeOffset,rt=De.presentation_time_delta/yt;mt=0===De.version?gt+Ne-Ze+rt:gt-Ze+rt;var Dt=De.event_duration/yt,Ot=De.id,kt=De.message_data;return ut.eventStream=Be,ut.eventStream.value=tt,ut.eventStream.timescale=yt,ut.duration=Dt,ut.id=Ot,ut.calculatedPresentationTime=mt,ut.messageData=kt,ut.presentationTimeDelta=rt,ut}catch{return null}},getMpd:F,setConfig:function L(De){!De||(De.constants&&(p=De.constants),De.cea608parser&&(y=De.cea608parser),De.errHandler&&S.setConfig({errHandler:De.errHandler}),De.BASE64&&S.setConfig({BASE64:De.BASE64}))},updatePeriods:function Y(De){if(!De)return null;Rt(),b=X(De)},getIsTextTrack:function fe(De){return S.getIsText(De)},getUTCTimingSources:function _e(){var De=Oe();return S.getUTCTimingSources(De)},getSuggestedPresentationDelay:function se(){return S.getSuggestedPresentationDelay(b.length>0?b[0].mpd:null)},getAvailabilityStartTime:function Se(De){var Te=F(De);return S.getAvailabilityStartTime(Te)},getIsTypeOf:function Pe(De,Te){return S.getIsTypeOf(De,Te)},getIsDynamic:function ge(De){var Te=Oe(De);return S.getIsDynamic(Te)},getDuration:function ne(De){var Te=Oe(De);return S.getDuration(Te)},getRegularPeriods:X,getContentSteering:function V(De){return S.getContentSteering(De)},getLocation:function re(De){return S.getLocation(De)},getPatchLocation:function me(De){var Te=S.getPatchLocation(De),Ne=S.getPublishTime(De);if(!Te||!Ne)return null;if(Te.hasOwnProperty("ttl")&&Ne){var Ye=1e3*parseFloat(Te.ttl);if(Ne.getTime()+Ye<=(new Date).getTime())return null}return Te.__text},getManifestUpdatePeriod:function k(De){return S.getManifestUpdatePeriod(De,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function te(De){return S.getPublishTime(De)},getIsDVB:function Ee(De){return S.hasProfile(De,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function q(De){return O.getIsPatch(De)},getBaseURLsFromElement:function K(De){return S.getBaseURLsFromElement(De)},getRepresentationSortFunction:function j(){return S.getRepresentationSortFunction()},getCodec:function $(De,Te,Ne){return S.getCodec(De,Te,Ne)},getPeriodById:function Re(De){if(!De||0===b.length)return null;var Te=b.filter(function(Ne){return Ne.id===De});return Te&&Te.length>0?Te[0]:null},setCurrentMediaInfo:function he(De,Te,Ne){v[De]=v[De]||{},v[De][Te]=v[De][Te]||{},v[De][Te]=Ne},isPatchValid:function Ue(De,Te){var Ne=S.getId(De),Ye=O.getMpdId(Te),st=S.getPublishTime(De),tt=O.getPublishTime(Te),ut=O.getOriginalPublishTime(Te);return!!(Ne&&Ye&&Ne==Ye&&st&&ut&&st.getTime()==ut.getTime()&&tt&&st.getTime()<tt.getTime())},applyPatchToManifest:function Ce(De,Te){O.getPatchOperations(Te).forEach(function(Ne){var Ye=Ne.getMpdTarget(De);if(null!==Ye){var st=Ye.name,tt=Ye.target,ut=Ye.leaf;if(Ne.xpath.findsAttribute()){switch(Ne.action){case"add":case"replace":tt[st]=Ne.value;break;case"remove":delete tt[st]}return}var yt=(tt[st+"_asArray"]||[]).indexOf(ut),gt="prepend"===Ne.position||"before"===Ne.position;if(("remove"===Ne.action||"replace"===Ne.action)&&(delete tt[st],-1!=yt)){var Be=tt[st+"_asArray"];Be.splice(yt,1),Be.length>1?tt[st]=Be:1==Be.length?tt[st]=Be[0]:delete tt[st+"_asArray"]}("add"===Ne.action||"replace"===Ne.action)&&Object.keys(Ne.value).forEach(function(Ze){var rt=Ne.value[Ze],mt=tt[Ze+"_asArray"]||[];0===mt.length&&tt[Ze]&&mt.push(tt[Ze]),0===mt.length?mt=rt:mt.splice.apply(mt,[Ze==st&&-1!=yt?yt+(gt?0:1)+("replace"==Ne.action?-1:0):gt?0:mt.length,0].concat(rt)),tt[Ze+"_asArray"]=mt,tt[Ze]=1==mt.length?mt[0]:mt})}})},areMediaInfosEqual:H,reset:we},function E(){S=Object(c.default)(g).getInstance(),O=Object(l.default)(g).getInstance(),we()}(),N}_.__dashjs_factory_name="DashAdapter",U.default=D.default.getSingletonFactory(_)},"./src/dash/DashHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/FragmentRequest.js"),T=m("./src/streaming/vo/metrics/HTTPRequest.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/streaming/MediaPlayerEvents.js"),P=m("./src/dash/utils/SegmentsUtils.js"),R=m("./src/dash/constants/DashConstants.js");function l(d){var y,g,A,E,L,f=(d=d||{}).eventBus,_=d.debug,N=d.urlUtils,S=d.type,O=d.streamInfo,b=d.segmentsController,v=d.timelineConverter,p=d.baseURLController;function le(){return S}function W(){A=null}function Y(_e,se,Se){var ne,X,ge=p.resolve(Se.path);return ge&&se!==ge.url&&N.isRelative(se)?(ne=ge.url,X=ge.serviceLocation,se&&(ne=N.resolve(se,ne))):ne=se,!N.isRelative(ne)&&(_e.url=ne,_e.serviceLocation=X,!0)}function oe(_e,se){if(null==se)return null;var Se=new M.default,ge=se.representation,ne=ge.adaptation.period.mpd.manifest.Period_asArray[ge.adaptation.period.index].AdaptationSet_asArray[ge.adaptation.index].Representation_asArray[ge.index].bandwidth,X=se.media;return X=Object(P.replaceTokenForTemplate)(X,"Number",se.replacementNumber),X=Object(P.replaceTokenForTemplate)(X,"Time",se.replacementTime),X=Object(P.replaceTokenForTemplate)(X,"Bandwidth",ne),X=Object(P.replaceIDForTemplate)(X,ge.id),X=Object(P.unescapeDollarsInTemplate)(X),Se.mediaType=le(),Se.type=T.HTTPRequest.MEDIA_SEGMENT_TYPE,Se.range=se.mediaRange,Se.startTime=se.presentationStartTime,Se.mediaStartTime=se.mediaStartTime,Se.duration=se.duration,Se.timescale=ge.timescale,Se.availabilityStartTime=se.availabilityStartTime,Se.availabilityEndTime=se.availabilityEndTime,Se.availabilityTimeComplete=ge.availabilityTimeComplete,Se.wallStartTime=se.wallStartTime,Se.quality=ge.index,Se.index=se.index,Se.mediaInfo=_e,Se.adaptationIndex=ge.adaptation.index,Se.representationId=ge.id,Y(Se,X,ge)?Se:void 0}function J(_e,se,Se){var ge=null;if(!se||!se.segmentInfoType)return ge;var ne=b.getSegmentByTime(se,Se);return ne&&(A=ne,g.debug("Index for time "+Se+" is "+ne.index),ge=oe(_e,ne)),ge}function fe(){g.debug("Dynamic stream complete"),L=!0}return y={initialize:function ee(_e){E=_e,L=!1,b.initialize(_e)},getStreamId:function Q(){return O.id},getType:le,getStreamInfo:function H(){return O},getInitRequest:function z(_e,se){return se?function ie(_e,se,Se){var ge=new M.default,ne=se.adaptation.period,X=ne.start;if(ge.mediaType=Se,ge.type=T.HTTPRequest.INIT_SEGMENT_TYPE,ge.range=se.range,ge.availabilityStartTime=v.calcAvailabilityStartTimeFromPresentationTime(X,se,E),ge.availabilityEndTime=v.calcAvailabilityEndTimeFromPresentationTime(X+ne.duration,se,E),ge.quality=se.index,ge.mediaInfo=_e,ge.representationId=se.id,Y(ge,se.initialization,se))return ge.url=Object(P.replaceTokenForTemplate)(ge.url,"Bandwidth",se.bandwidth),ge}(_e,se,le()):null},getSegmentRequestForTime:J,getCurrentIndex:function he(){return A?A.index:-1},getNextSegmentRequest:function ae(_e,se){var Se=null;if(!se||!se.segmentInfoType)return null;var ge=A?A.index+1:0,ne=b.getSegmentByIndex(se,ge,A?A.mediaStartTime:-1);if(ne)Se=oe(_e,ne),A=ne;else{if(E&&!L)return g.debug(le()+" No segment found at index: "+ge+". Wait for next loop"),null;L=!0}return Se},isLastSegmentRequested:function ve(_e,se){if(!_e||!A)return!1;if(L)return!0;if(!isFinite(_e.adaptation.period.duration)||A.presentationStartTime+A.duration>se)return!1;if(_e.mediaFinishedInformation&&!isNaN(_e.mediaFinishedInformation.numberOfSegments)&&!isNaN(A.index)&&A.index>=_e.mediaFinishedInformation.numberOfSegments-1){if(!E||_e.segmentInfoType===R.default.SEGMENT_TEMPLATE)return!0;if(E&&_e.segmentInfoType===R.default.SEGMENT_LIST&&_e.adaptation.period.nextPeriodId)return!0}return!!(E&&_e.adaptation.period.nextPeriodId&&_e.segmentInfoType===R.default.SEGMENT_TIMELINE&&_e.mediaFinishedInformation&&!isNaN(_e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&A&&!isNaN(A.mediaStartTime)&&!isNaN(A.duration)&&A.mediaStartTime+A.duration>=_e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function x(){W(),f.off(w.default.DYNAMIC_TO_STATIC,fe,y)},getNextSegmentRequestIdempotent:function de(_e,se){var ne=b.getSegmentByIndex(se,A?A.index+1:0,A?A.mediaStartTime:-1);return ne?oe(_e,ne):null},getValidTimeAheadOfTargetTime:function pe(_e,se,Se,ge){try{if(isNaN(_e)||!se||!Se)return NaN;if(_e<0&&(_e=0),isNaN(ge)&&(ge=.5),J(se,Se,_e))return _e;if(Se.adaptation.period.start+Se.adaptation.period.duration<_e)return NaN;for(var ne=isFinite(Se.adaptation.period.duration)?Se.adaptation.period.start+Se.adaptation.period.duration:_e+30,X=Math.min(_e+ge,ne),F=NaN,V=null;X<=ne;){var re=null;if(X<=ne&&(re=J(se,Se,X)),re){F=X,V=re;break}X+=ge}if(V){var k=V.startTime+V.duration;return _e>V.startTime&&k-_e>ge?_e:!isNaN(V.startTime)&&_e<V.startTime&&F>V.startTime?V.startTime+.001:Math.min(k-ge,F)}return F}catch{return NaN}}},function G(){g=_.getLogger(y),W(),f.on(w.default.DYNAMIC_TO_STATIC,fe,y)}(),y}l.__dashjs_factory_name="DashHandler",U.default=I.default.getClassFactory(l)},"./src/dash/DashMetrics.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/vo/metrics/HTTPRequest.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/streaming/constants/MetricsConstants.js"),P=m("./src/dash/utils/Round10.js"),R=m("./src/streaming/models/MetricsModel.js"),D=m("./src/core/Utils.js"),c=m("./src/streaming/vo/metrics/PlayList.js");function l(d){var _,N,S,O,f=this.context,b=(d=d||{}).metricsModel;function Q(re){var k=b.getMetricsFor(re,!0);if(!k)return null;var Ee,te=k.HttpList,me=null;if(!te||te.length<=0)return null;for(Ee=te.length-1;Ee>=0;){if(te[Ee].responsecode){me=te[Ee];break}Ee--}return me}function le(re){var k=b.getMetricsFor(re,!0);return k&&k.HttpList?k.HttpList:[]}function W(re,k){if(!re)return null;var te=re[k];return te&&0!==te.length?te[te.length-1]:null}return _={getCurrentRepresentationSwitch:function y(re){return W(b.getMetricsFor(re,!0),w.default.TRACK_SWITCH)},getCurrentBufferState:function A(re){return W(b.getMetricsFor(re,!0),w.default.BUFFER_STATE)},getCurrentBufferLevel:function E(re){var te=W(b.getMetricsFor(re,!0),w.default.BUFFER_LEVEL);return te?P.default.round10(te.level/1e3,-3):0},getCurrentHttpRequest:Q,getHttpRequests:le,getCurrentDroppedFrames:function x(){return W(b.getMetricsFor(M.default.VIDEO,!0),w.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function z(re){return W(b.getMetricsFor(re,!0),w.default.SCHEDULING_INFO)},getCurrentDVRInfo:function he(re){return W(re?b.getMetricsFor(re,!0):b.getMetricsFor(M.default.VIDEO,!0)||b.getMetricsFor(M.default.AUDIO,!0),w.default.DVR_INFO)},getCurrentManifestUpdate:function oe(){return W(b.getMetricsFor(M.default.STREAM),w.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function se(re,k){if(!k)return null;var te={},me=Q(re);me&&(te=D.default.parseHttpHeaders(me._responseHeaders));var Ee=te[k.toLowerCase()];return void 0===Ee?null:Ee},getLatestMPDRequestHeaderValueByID:function _e(re){if(!re)return null;var te,me,Ee,k={};for(Ee=(te=le(M.default.STREAM)).length-1;Ee>=0;Ee--)if((me=te[Ee]).type===T.HTTPRequest.MPD_TYPE){k=D.default.parseHttpHeaders(me._responseHeaders);break}var q=k[re.toLowerCase()];return void 0===q?null:q},addRepresentationSwitch:function g(re,k,te,me,Ee){b.addRepresentationSwitch(re,k,te,me,Ee)},addDVRInfo:function fe(re,k,te,me){b.addDVRInfo(re,k,te,me)},updateManifestUpdateInfo:function ve(re){var k=this.getCurrentManifestUpdate();b.updateManifestUpdateInfo(k,re)},addManifestUpdateStreamInfo:function J(re){if(re){var k=this.getCurrentManifestUpdate();b.addManifestUpdateStreamInfo(k,re.id,re.index,re.start,re.duration)}},addManifestUpdateRepresentationInfo:function pe(re,k){if(re){var te=this.getCurrentManifestUpdate();b.addManifestUpdateRepresentationInfo(te,re.id,re.index,re.streamIndex,k,re.presentationTimeOffset,re.startNumber,re.fragmentInfoType)}},addManifestUpdate:function de(re){b.addManifestUpdate(M.default.STREAM,re.type,re.requestStartDate,re.requestEndDate)},addHttpRequest:function ae(re,k,te,me,Ee){b.addHttpRequest(re.mediaType,null,re.type,re.url,re.quality,k,re.serviceLocation||null,re.range||null,re.requestStartDate,re.firstByteDate,re.requestEndDate,te,re.duration,me,Ee,re.fileLoaderType)},addSchedulingInfo:function ie(re,k){b.addSchedulingInfo(re.mediaType,new Date,re.type,re.startTime,re.availabilityStartTime,re.duration,re.quality,re.range,k)},addRequestsQueue:function H(re,k,te){b.addRequestsQueue(re,k,te)},addBufferLevel:function L(re,k,te){b.addBufferLevel(re,k,te)},addBufferState:function G(re,k,te){b.addBufferState(re,k,te)},addDroppedFrames:function Y(re){b.addDroppedFrames(M.default.VIDEO,re)},addPlayList:function Se(){O&&(b.addPlayList(O),O=null)},addDVBErrors:function V(re){b.addDVBErrors(re)},createPlaylistMetrics:function ge(re,k){(O=new c.PlayList).start=new Date,O.mstart=re,O.starttype=k},createPlaylistTraceMetrics:function ne(re,k,te){!0===N&&(N=!1,(S=new c.PlayListTrace).representationid=re,S.start=new Date,S.mstart=k,S.playbackspeed=null!==te?te.toString():null)},updatePlayListTraceMetrics:function X(re){if(S)for(var k in S)S[k]=re[k]},pushPlayListTraceMetrics:function F(re,k){if(!1===N&&O&&S&&S.start){var te=S.start,me=re.getTime()-te.getTime();S.duration=me,S.stopreason=k,O.trace.push(S),N=!0}},clearAllCurrentMetrics:function ee(){b.clearAllCurrentMetrics()}},function v(){b=b||Object(R.default)(f).getInstance({settings:d.settings}),function p(){N=!0,S=null,O=null}()}(),_}l.__dashjs_factory_name="DashMetrics",U.default=I.default.getSingletonFactory(l)},"./src/dash/SegmentBaseLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/vo/Segment.js"),T=m("./src/streaming/vo/DashJSError.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/streaming/vo/FragmentRequest.js"),P=m("./src/streaming/net/URLLoader.js");function R(){var c,l,d,f,_,N,S,O,b,v,p,y,g,D=this.context;function ee(z,ie,oe,ve){var J=null,de=z?g.resolve(z.path):null,ae=ve||{init:!0,url:de?de.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ie};l.debug("Start searching for initialization.");var pe=Y(ae);O.load({request:pe,success:function(se){if(ae.bytesLoaded=ae.range.end,!(J=f.findInitRange(se)))return ae.range.end=ae.bytesLoaded+ae.bytesToLoad,ee(z,ie,oe,ae);z.range=J,oe(z)},error:function(){oe(z)}}),l.debug("Perform init search: "+ae.url)}function le(z,ie,oe,ve,J,de){if(oe&&(void 0===oe.start||void 0===oe.end)){var ae=oe?oe.toString().split("-"):null;oe=ae?{start:parseFloat(ae[0]),end:parseFloat(ae[1])}:null}J=J||H;var pe=null,he=null,fe=!!oe,_e=z?g.resolve(z.path):null,se={init:!1,url:_e?_e.url:void 0,range:fe?oe:{start:0,end:1500},searching:!fe,bytesLoaded:de?de.bytesLoaded:0,bytesToLoad:1500,mediaType:ie},Se=Y(se);O.load({request:Se,success:function(F){var V=se.bytesToLoad,re=F.byteLength;if(se.bytesLoaded=se.range.end-se.range.start,pe=f.parse(F),(he=pe.getBox("sidx"))&&he.isComplete){var me,Ee,te=he.references;if(null!=te&&te.length>0&&(me=1===te[0].reference_type),me){l.debug("Initiate multiple SIDX load."),se.range.end=se.range.start+he.size;var q,K,j,$,ue=[],be=0,Re=(he.offset||se.range.start)+he.size,Pe=function(Ue){Ue?(ue=ue.concat(Ue),++be>=K&&(ue.sort(function(Ce,Oe){return Ce.startTime-Oe.startTime<0?-1:0}),J(ue,z,ve))):J(null,z,ve)};for(q=0,K=te.length;q<K;q++)j=Re,$=Re+te[q].referenced_size-1,Re+=te[q].referenced_size,le(z,ie,{start:j,end:$},ve,Pe,se)}else l.debug("Parsing segments from SIDX. representation "+ie+" - id: "+z.id+" for range : "+se.range.start+" - "+se.range.end),Ee=function x(z,ie){for(var he,_e,se,oe=z.references,ve=oe.length,J=z.timescale,de=z.earliest_presentation_time,ae=ie.range.start+z.offset+z.first_offset+z.size,pe=[],Se=0;Se<ve;Se++)_e=oe[Se].subsegment_duration,se=oe[Se].referenced_size,(he=new M.default).duration=_e,he.startTime=de,he.timescale=J,he.mediaRange=ae+"-"+(ae+se-1),pe.push(he),de+=_e,ae+=se;return pe}(he,se),J(Ee,z,ve)}else{if(he)se.range.start=he.offset||se.range.start,se.range.end=se.range.start+(he.size||V);else{if(re<se.bytesLoaded)return void J(null,z,ve);var k=pe.getLastBox();k&&k.size?(se.range.start=k.offset+k.size,se.range.end=se.range.start+V):se.range.end+=V}le(z,ie,se.range,ve,null,se)}},error:function(){J(null,z,ve)}}),l.debug("Perform SIDX load for type ".concat(ie," : ").concat(se.url," with range ").concat(se.range.start," - ").concat(se.range.end))}function H(z,ie,oe){oe({segments:z,representation:ie,error:z?void 0:new T.default(b.SEGMENT_BASE_LOADER_ERROR_CODE,b.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Y(z){if(z.url){var ie=new w.default;return ie.setInfo(z),ie}}return c={setConfig:function L(z){z.baseURLController&&(g=z.baseURLController),z.dashMetrics&&(N=z.dashMetrics),z.mediaPlayerModel&&(S=z.mediaPlayerModel),z.errHandler&&(d=z.errHandler),z.boxParser&&(f=z.boxParser),z.debug&&(l=z.debug.getLogger(c)),z.requestModifier&&(_=z.requestModifier),z.errors&&(b=z.errors),z.urlUtils&&(y=z.urlUtils),z.constants&&(v=z.constants),z.dashConstants&&(p=z.dashConstants)},initialize:function E(){O=Object(P.default)(D).create({errHandler:d,dashMetrics:N,mediaPlayerModel:S,requestModifier:_,boxParser:f,errors:b,urlUtils:y,constants:v,dashConstants:p})},loadInitialization:function G(z,ie){return new Promise(function(oe){ee(z,ie,oe)})},loadSegments:function Q(z,ie,oe){return new Promise(function(ve){le(z,ie,oe,ve)})},reset:function W(){O&&(O.abort(),O=null)}}}R.__dashjs_factory_name="SegmentBaseLoader",U.default=I.default.getSingletonFactory(R)},"./src/dash/WebmSegmentBaseLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/utils/EBMLParser.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/dash/vo/Segment.js"),P=m("./src/streaming/vo/FragmentRequest.js"),R=m("./src/streaming/net/URLLoader.js"),D=m("./src/streaming/vo/DashJSError.js");function c(){var d,f,_,N,S,O,b,v,p,y,l=this.context;function G(x,Y,z,ie){var ve,J,de,ae,pe;for(J=[],ae=0,pe=(ve=function L(x){var ie,oe,Y=[],z=Object(M.default)(l).create({data:x});for(z.consumeTagAndSize(_.Segment.Cues);z.moreData()&&z.consumeTagAndSize(_.Segment.Cues.CuePoint,!0);){for((ie={}).CueTime=z.parseTag(_.Segment.Cues.CuePoint.CueTime),ie.CueTracks=[];z.moreData()&&z.consumeTag(_.Segment.Cues.CuePoint.CueTrackPositions,!0);){var ve=z.getMatroskaCodedNum(),J=z.getPos();if((oe={}).Track=z.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===oe.Track)throw new Error("Cue track cannot be 0");oe.ClusterPosition=z.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ie.CueTracks.push(oe),z.setPos(J+ve)}if(0===ie.CueTracks.length)throw new Error("Mandatory cuetrack not found");Y.push(ie)}if(0===Y.length)throw new Error("mandatory cuepoint not found");return Y}(x)).length;ae<pe;ae+=1)(de=new w.default).duration=ae<ve.length-1?ve[ae+1].CueTime-ve[ae].CueTime:ie-ve[ae].CueTime,de.startTime=ve[ae].CueTime,de.timescale=1e3,de.mediaRange=ve[ae].CueTracks[0].ClusterPosition+Y+"-"+(ae<ve.length-1?ve[ae+1].CueTracks[0].ClusterPosition+Y-1:z-1),J.push(de);return f.debug("Parsed cues: "+J.length+" cues."),J}function H(x){var Y=new P.default;return Y.setInfo(x),Y}return d={setConfig:function E(x){if(!(x.baseURLController&&x.dashMetrics&&x.mediaPlayerModel&&x.errHandler))throw new Error(T.default.MISSING_CONFIG_ERROR);y=x.baseURLController,O=x.dashMetrics,b=x.mediaPlayerModel,N=x.errHandler,p=x.errors,f=x.debug.getLogger(d),S=x.requestModifier},initialize:function A(){v=Object(R.default)(l).create({errHandler:N,dashMetrics:O,mediaPlayerModel:b,requestModifier:S,errors:p})},loadInitialization:function Q(x,Y){return new Promise(function(z){var ie=null,oe=x?y.resolve(x.path):null,ve=x?x.range.split("-"):null,J={range:{start:ve?parseFloat(ve[0]):null,end:ve?parseFloat(ve[1]):null},request:ie,url:oe?oe.url:void 0,init:!0,mediaType:Y};f.info("Start loading initialization."),ie=H(J),v.load({request:ie,success:function(){z(x)},error:function(){z(x)}}),f.debug("Perform init load: "+J.url)})},loadSegments:function le(x,Y,z){return new Promise(function(ie){var oe=null,ve=x?y.resolve(x.path):null,J=ve?ve.url:void 0;oe=H({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:oe,url:J,init:!1,mediaType:Y}),f.debug("Parsing ebml header"),v.load({request:oe,success:function(_e){!function ee(x,Y,z,ie){if(x&&0!==x.byteLength){var ve,J,de,ae,oe=Object(M.default)(l).create({data:x}),pe=z?z.split("-"):null,he=null,fe={url:Y,range:{start:pe?parseFloat(pe[0]):null,end:pe?parseFloat(pe[1]):null},request:he};for(f.debug("Parse EBML header: "+fe.url),oe.skipOverElement(_.EBML),oe.consumeTag(_.Segment),de=oe.getMatroskaCodedNum(),de+=oe.getPos(),ae=oe.getPos();oe.moreData()&&!oe.consumeTagAndSize(_.Segment.Info,!0);)if(!(oe.skipOverElement(_.Segment.SeekHead,!0)||oe.skipOverElement(_.Segment.Tracks,!0)||oe.skipOverElement(_.Segment.Cues,!0)||oe.skipOverElement(_.Void,!0)))throw new Error("no valid top level element found");for(;void 0===ve;){var _e=oe.getMatroskaCodedNum(!0),se=oe.getMatroskaCodedNum();_e===_.Segment.Info.Duration.tag?ve=oe[_.Segment.Info.Duration.parse](se):oe.setPos(oe.getPos()+se)}he=H(fe),v.load({request:he,success:function(X){J=G(X,ae,de,ve),ie(J)},error:function(){f.error("Download Error: Cues "+fe.url),ie(null)}}),f.debug("Perform cues load: "+fe.url+" bytes="+fe.range.start+"-"+fe.range.end)}else ie(null)}(_e,J,z,function(se){ie({segments:se,representation:x,error:se?void 0:new D.default(p.SEGMENT_BASE_LOADER_ERROR_CODE,p.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ie({representation:x,error:new D.default(p.SEGMENT_BASE_LOADER_ERROR_CODE,p.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function W(){v&&(v.abort(),v=null)}},function g(){_={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),d}c.__dashjs_factory_name="WebmSegmentBaseLoader",U.default=I.default.getSingletonFactory(c)},"./src/dash/constants/DashConstants.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(U);var c=new(function(){function l(){(function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),l}());U.default=c},"./src/dash/controllers/ContentSteeringController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/net/URLLoader.js"),w=m("./src/core/errors/Errors.js"),P=m("./src/dash/vo/ContentSteeringRequest.js"),R=m("./src/dash/vo/ContentSteeringResponse.js"),D=m("./src/dash/constants/DashConstants.js"),c=m("./src/streaming/MediaPlayerEvents.js"),l=m("./src/core/events/Events.js"),d=m("./src/streaming/constants/Constants.js"),f=m("./src/core/Utils.js"),_=m("./src/streaming/utils/URLUtils.js"),N_THROUGHPUT="_DASH_throughput",N_PATHWAY="_DASH_pathway",N_URL="url";function S(){var v,p,y,g,A,E,L,G,ee,Q,le,H,W,x,Y,O=this.context,b=Object(_.default)(O).getInstance();function ve(F){F&&F.toStreamInfo&&(g=F.toStreamInfo)}function J(F){F&&F.request&&F.request.serviceLocation&&(A=F.request.serviceLocation)}function de(){var F=le.getValue();return Y.getContentSteering(F)}function pe(){return new Promise(function(F){try{var V=de();if(!V||!V.serverUrl)return void F();var re=function he(F){var V=F.proxyServerUrl?F.proxyServerUrl:F.serverUrl;y&&y.reloadUri&&(V=b.isRelative(y.reloadUri)?b.resolve(y.reloadUri,F.serverUrl):y.reloadUri);var re=[];if(g){var k=Y.getIsDynamic(),te=Y.getAllMediaInfoForType(g,d.default.VIDEO).length>0?d.default.VIDEO:d.default.AUDIO,me=W.getThroughputHistory(),Ee=me?me.getAverageThroughput(te,k):NaN;isNaN(Ee)||re.push({key:N_THROUGHPUT,value:1e3*Ee})}return A&&re.push({key:N_PATHWAY,value:A}),F.proxyServerUrl&&F.proxyServerUrl===V&&F.serverUrl&&re.push({key:N_URL,value:encodeURI(F.serverUrl)}),f.default.addAditionalQueryParameterToUrl(V,re)}(V),k=new P.default(re);L.load({request:k,success:function(me){(function fe(F){!F||!F[D.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(F[D.default.CONTENT_STEERING_RESPONSE.VERSION])||((y=new R.default).version=F[D.default.CONTENT_STEERING_RESPONSE.VERSION],F[D.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(F[D.default.CONTENT_STEERING_RESPONSE.TTL])&&(y.ttl=F[D.default.CONTENT_STEERING_RESPONSE.TTL]),F[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(y.reloadUri=F[D.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),F[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(y.serviceLocationPriority=F[D.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),_e())})(me),x.trigger(c.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:y,url:re}),F()},error:function(me){(function Se(F){p.warn("Error fetching data from content steering server",F),_e()})(me),F(me)}})}catch(te){F(te)}})}function _e(){y&&y.ttl&&!isNaN(y.ttl)&&(E&&clearTimeout(E),E=setTimeout(function(){pe()},1e3*y.ttl))}function se(){E&&clearTimeout(E),E=null}function X(){y=null,g=null,A=null,se()}return v={reset:function ne(){X(),x.off(c.default.PERIOD_SWITCH_COMPLETED,ve,v),x.off(l.default.FRAGMENT_LOADING_STARTED,J,v)},setConfig:function ie(F){!F||(F.adapter&&(Y=F.adapter),F.errHandler&&(G=F.errHandler),F.dashMetrics&&(ee=F.dashMetrics),F.mediaPlayerModel&&(Q=F.mediaPlayerModel),F.requestModifier&&(H=F.requestModifier),F.manifestModel&&(le=F.manifestModel),F.abrController&&(W=F.abrController),F.eventBus&&(x=F.eventBus))},loadSteeringData:pe,getCurrentSteeringResponseData:function ge(){return y},shouldQueryBeforeStart:function ae(){var F=de();return F&&F.queryBeforeStart},getSteeringDataFromManifest:de,stopSteeringRequestTimer:se,initialize:function oe(){L=Object(I.default)(O).create({errHandler:G,dashMetrics:ee,mediaPlayerModel:Q,requestModifier:H,errors:w.default}),x.on(c.default.PERIOD_SWITCH_COMPLETED,ve,v),x.on(l.default.FRAGMENT_LOADING_STARTED,J,v)}},function z(){p=Object(T.default)(O).getInstance().getLogger(v),X()}(),v}S.__dashjs_factory_name="ContentSteeringController",U.default=M.default.getSingletonFactory(S)},"./src/dash/controllers/RepresentationController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/streaming/MediaPlayerEvents.js"),w=m("./src/dash/utils/SegmentsUtils.js");function P(R){var p,y,g,A,E,D=(R=R||{}).eventBus,c=R.events,l=R.abrController,d=R.dashMetrics,f=R.playbackController,_=R.timelineConverter,N=R.type,S=R.streamInfo,O=R.dashConstants,b=R.segmentsController,v=R.isDynamic;function ee(){return N}function Q(){if(!(l&&d&&f&&_))throw new Error(M.default.MISSING_CONFIG_ERROR)}function H(){return g}function W(){return E}function x(){y=null,g=!0,A=[]}function ie(ne){return new Promise(function(X,F){var V=ne.hasInitialization(),re=ne.hasSegments(),k=[];k.push(b.updateInitData(ne,V)),k.push(b.updateSegmentData(ne,re)),Promise.all(k).then(function(te){te[0]&&!te[0].error&&(ne=function ve(ne,X){return X&&!X.error&&X.representation?X.representation:ne}(ne,te[0])),te[1]&&!te[1].error&&(ne=function J(ne,X){if(X&&!X.error){var k,te,me,Ee,F=X.segments,V=[],re=0;for(k=0,te=F?F.length:0;k<te;k++)me=F[k],(Ee=Object(w.getTimeBasedSegment)(_,v,ne,me.startTime,me.duration,me.timescale,me.media,me.mediaRange,re))&&(V.push(Ee),Ee=null,re++);return V.length>0&&(ne.segments=V),ne}}(ne,te[1])),function oe(ne){ne.mediaFinishedInformation=b.getMediaFinishedInformation(ne)}(ne),function _e(ne){if(H()){var V,X=d.getCurrentManifestUpdate(),F=!1;if(X){for(var k=0;k<X.representationInfo.length;k++)if((V=X.representationInfo[k]).index===ne.index&&V.mediaType===ee()){F=!0;break}F||d.addManifestUpdateRepresentationInfo(ne,ee())}if(function he(){for(var ne=0,X=A.length;ne<X;ne++){var F=A[ne].segmentInfoType;if(!A[ne].hasInitialization()||(F===O.SEGMENT_BASE||F===O.BASE_URL)&&!A[ne].segments)return!1}return!0}()){l.setPlaybackQuality(N,S,function pe(ne){return A.indexOf(ne)}(E));var te=d.getCurrentDVRInfo(N);te&&d.updateManifestUpdateInfo({latency:te.range.end-f.getTime()}),d.getCurrentRepresentationSwitch(W().adaptation.type)||de(),fe()}}}(ne),X()}).catch(function(te){F(te)})})}function de(){Q();var ne=new Date,X=W(),F=1e3*f.getTime();X&&d.addRepresentationSwitch(X.adaptation.type,ne,F,X.id),D.trigger(I.default.REPRESENTATION_SWITCH,{mediaType:N,streamId:S.id,currentRepresentation:X,numberOfRepresentations:A.length},{streamId:S.id,mediaType:N})}function ae(ne){return null==ne||ne>=A.length?null:A[ne]}function fe(ne){g=!1,D.trigger(c.DATA_UPDATE_COMPLETED,{data:y,currentRepresentation:E,error:ne},{streamId:S.id,mediaType:N})}function Se(ne){E=ne}function ge(ne){if(ne.newDuration){var X=W();X&&X.adaptation.period&&(X.adaptation.period.duration=ne.newDuration)}}return p={getStreamId:function G(){return S.id},getType:ee,getData:function le(){return y},isUpdating:H,updateData:function z(ne,X,F,V,re){if(Q(),g=!0,A=X,Se(ae(re)),y=ne,F!==M.default.VIDEO&&F!==M.default.AUDIO&&(F!==M.default.TEXT||!V))return fe(),Promise.resolve();for(var te=[],me=0,Ee=A.length;me<Ee;me++)te.push(ie(A[me]));return Promise.all(te)},getCurrentRepresentation:W,getRepresentationForQuality:ae,prepareQualityChange:function se(ne){Se(ae(ne)),de()},reset:function Y(){D.off(I.default.MANIFEST_VALIDITY_CHANGED,ge,p),x()}},function L(){x(),D.on(I.default.MANIFEST_VALIDITY_CHANGED,ge,p)}(),p}P.__dashjs_factory_name="RepresentationController",U.default=T.default.getClassFactory(P)},"./src/dash/controllers/SegmentBaseController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/dash/SegmentBaseLoader.js"),I=m("./src/dash/WebmSegmentBaseLoader.js");function w(R){var p,y,g,D=this.context,c=(R=R||{}).eventBus,l=R.events,d=R.dashMetrics,f=R.mediaPlayerModel,_=R.errHandler,N=R.baseURLController,S=R.debug,O=R.boxParser,b=R.requestModifier,v=R.errors;function E(le){return"webm"===(le?le.split("/")[1]:"").toLowerCase()}return p={initialize:function L(){y.initialize(),g.initialize()},getSegmentBaseInitSegment:function G(le){return E(le.representation.mimeType)?g.loadInitialization(le.representation,le.mediaType):y.loadInitialization(le.representation,le.mediaType)},getSegmentList:function ee(le){return E(le.mimeType)?g.loadSegments(le.representation,le.mediaType,le.representation?le.representation.indexRange:null):y.loadSegments(le.representation,le.mediaType,le.representation?le.representation.indexRange:null)},reset:function Q(){y.reset(),g.reset()}},function A(){y=Object(T.default)(D).getInstance(),g=Object(I.default)(D).getInstance(),y.setConfig({baseURLController:N,dashMetrics:d,mediaPlayerModel:f,errHandler:_,eventBus:c,events:l,errors:v,debug:S,boxParser:O,requestModifier:b}),g.setConfig({baseURLController:N,dashMetrics:d,mediaPlayerModel:f,errHandler:_,eventBus:c,events:l,errors:v,debug:S,requestModifier:b})}(),p}w.__dashjs_factory_name="SegmentBaseController";var P=M.default.getSingletonFactory(w);U.default=P},"./src/dash/controllers/SegmentsController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/dash/utils/TimelineSegmentsGetter.js"),I=m("./src/dash/utils/TemplateSegmentsGetter.js"),w=m("./src/dash/utils/ListSegmentsGetter.js"),P=m("./src/dash/utils/SegmentBaseGetter.js");function R(c){var N,S,l=this.context,d=(c=c||{}).dashConstants,f=c.type,_=c.segmentBaseController;function y(L){return L?L.segments?S[d.SEGMENT_BASE]:S[L.segmentInfoType]:null}return N={initialize:function b(L){S[d.SEGMENT_TIMELINE]=Object(T.default)(l).create(c,L),S[d.SEGMENT_TEMPLATE]=Object(I.default)(l).create(c,L),S[d.SEGMENT_LIST]=Object(w.default)(l).create(c,L),S[d.SEGMENT_BASE]=Object(P.default)(l).create(c,L)},updateInitData:function v(L,G){return G?Promise.resolve():_.getSegmentBaseInitSegment({representation:L,mediaType:f})},updateSegmentData:function p(L,G){return G?Promise.resolve():_.getSegmentList({mimeType:L.mimeType,representation:L,mediaType:f})},getSegmentByIndex:function g(L,G,ee){var Q=y(L);return Q?Q.getSegmentByIndex(L,G,ee):null},getSegmentByTime:function A(L,G){var ee=y(L);return ee?ee.getSegmentByTime(L,G):null},getMediaFinishedInformation:function E(L){var G=y(L);return G?G.getMediaFinishedInformation(L):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function O(){S={}}(),N}R.__dashjs_factory_name="SegmentsController";var D=M.default.getClassFactory(R);U.default=D},"./src/dash/controllers/ServiceDescriptionController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/constants/Constants.js"),w=m("./src/dash/constants/DashConstants.js"),P=[I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],R_VIDEO="video",R_AUDIO="audio",R_ANY="any",R_ALL="all";function D(){var l,d,f,_,N,c=this.context;function v(){d={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},f=[]}function Q(x,Y,z){try{d[x][Y]=z/1e3}catch(ie){_.error(ie)}}return l={getServiceDescriptionSettings:function p(){return d},getProducerReferenceTimeOffsets:function le(){return f},calculateProducerReferenceTimeOffsets:function H(x){try{var Y=[];if(x&&x.length>0){var z=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT],ie=N.getAvailabilityStartTime()/1e3;x.forEach(function(oe){var ve=z.reduce(function(J,de){return J.concat(N.getAllMediaInfoForType(oe,de))},[]).reduce(function(J,de){return N.getProducerReferenceTimes(oe,de).forEach(function(pe){var he=N.getVoRepresentations(de);if(he&&he.length>0&&he[0].adaptation&&he[0].segmentInfoType===w.default.SEGMENT_TEMPLATE){var fe=he[0],se=new Date(pe[w.default.WALL_CLOCK_TIME]).getTime()/1e3;J.push({id:pe[w.default.ID],to:ie-(se-(pe[w.default.PRESENTATION_TIME]/fe[w.default.TIMESCALE]-fe[w.default.PRESENTATION_TIME_OFFSET]+oe.start))})}}),J},[]);Y=Y.concat(ve)})}f=Y}catch(oe){_.error(oe),f=[]}},applyServiceDescription:function y(x){if(x&&x.serviceDescriptions){var Y=x.serviceDescriptions.filter(function(oe){return P.includes(oe.schemeIdUri)}),z=x.serviceDescriptions.filter(function(oe){return null==oe.schemeIdUri}),ie=Y.length>0?Y[Y.length-1]:z[z.length-1];!ie||(ie.latency&&ie.latency.target>0&&function g(x){var Y;if(Y=x.schemeIdUri===I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function E(x){return{liveDelay:x.latency.target/1e3,maxDrift:!isNaN(x.latency.max)&&x.latency.max>x.latency.target?(x.latency.max-x.latency.target+500)/1e3:NaN,referenceId:x.latency.referenceId||NaN}}(x):function A(x){return{liveDelay:x.latency.target/1e3,maxDrift:!isNaN(x.latency.max)&&x.latency.max>x.latency.target?(x.latency.max-x.latency.target+500)/1e3:NaN,referenceId:x.latency.referenceId||NaN}}(x),f.length>0){var z=function W(x){var z,Y=0,ie=f.filter(function(oe){return oe.id===x.referenceId});return 0===ie.length?(Y=f.length>0?f[0].to:0,z=f[0].id||NaN):(Y=ie[0].to||0,z=ie[0].id||NaN),{to:Y,id:z}}(Y),ie=z.to,oe=z.id;d.liveDelay=Y.liveDelay-ie,d.liveCatchup.maxDrift=Y.maxDrift,_.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ie," from ProducerReferenceTime element with id ").concat(oe,".\n                Live Delay: ").concat(Y.liveDelay-ie,", Live catchup max drift: ").concat(Y.maxDrift,"\n            "))}else d.liveDelay=Y.liveDelay,d.liveCatchup.maxDrift=Y.maxDrift,_.debug("Found latency properties coming from service description: Live Delay: ".concat(Y.liveDelay,", Live catchup max drift: ").concat(Y.maxDrift))}(ie),ie.playbackRate&&function L(x){var Y=x.playbackRate.min?Math.round(1e3*(x.playbackRate.min-1))/1e3:NaN,z=x.playbackRate.max?Math.round(1e3*(x.playbackRate.max-1))/1e3:NaN;d.liveCatchup.playbackRate.min=Y,d.liveCatchup.playbackRate.max=z,_.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(Y)),_.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(z))}(ie),ie.operatingBandwidth&&function ee(x){if(x&&x.operatingBandwidth&&x.operatingBandwidth.mediaType&&x.operatingBandwidth.mediaType!==R_ALL){var Y={};Y.minBandwidth=x.operatingBandwidth.min,Y.maxBandwidth=x.operatingBandwidth.max,Y.targetBandwidth=x.operatingBandwidth.target;var z=[];x.operatingBandwidth.mediaType===R_VIDEO||x.operatingBandwidth.mediaType===R_AUDIO?z.push(x.operatingBandwidth.mediaType):x.operatingBandwidth.mediaType===R_ANY&&(z.push(R_AUDIO),z.push(R_VIDEO)),z.forEach(function(ie){isNaN(Y.minBandwidth)||Q("minBitrate",ie,Y.minBandwidth),isNaN(Y.maxBandwidth)||Q("maxBitrate",ie,Y.maxBandwidth),isNaN(Y.targetBandwidth)||Q("initialBitrate",ie,Y.targetBandwidth)})}}(ie))}},reset:function b(){v()},setConfig:function O(x){!x||x.adapter&&(N=x.adapter)}},function S(){_=Object(T.default)(c).getInstance().getLogger(l),v()}(),l}D.__dashjs_factory_name="ServiceDescriptionController",U.default=M.default.getSingletonFactory(D)},"./src/dash/models/DashManifestModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/dash/vo/Representation.js"),w=m("./src/dash/vo/AdaptationSet.js"),P=m("./src/dash/vo/Period.js"),R=m("./src/dash/vo/Mpd.js"),D=m("./src/dash/vo/UTCTiming.js"),c=m("./src/dash/vo/Event.js"),l=m("./src/dash/vo/BaseURL.js"),d=m("./src/dash/vo/EventStream.js"),f=m("./src/dash/vo/ProducerReferenceTime.js"),_=m("./src/dash/vo/ContentSteering.js"),N=m("./src/streaming/utils/ObjectUtils.js"),S=m("./src/streaming/utils/URLUtils.js"),O=m("./src/core/FactoryMaker.js"),b=m("./src/core/Debug.js"),v=m("./src/streaming/vo/DashJSError.js"),p=m("./src/core/errors/Errors.js"),y=m("./src/streaming/thumbnail/ThumbnailTracks.js");function g(H,W){var x=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!x){if(Array.isArray(H)||(x=L(H))||W&&H&&"number"==typeof H.length){x&&(H=x);var Y=0,z=function(){};return{s:z,n:function(){return Y>=H.length?{done:!0}:{done:!1,value:H[Y++]}},e:function(de){throw de},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ve,ie=!0,oe=!1;return{s:function(){x=x.call(H)},n:function(){var de=x.next();return ie=de.done,de},e:function(de){oe=!0,ve=de},f:function(){try{!ie&&null!=x.return&&x.return()}finally{if(oe)throw ve}}}}function A(H){return function ee(H){if(Array.isArray(H))return Q(H)}(H)||function G(H){if(typeof Symbol<"u"&&null!=H[Symbol.iterator]||null!=H["@@iterator"])return Array.from(H)}(H)||L(H)||function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(H,W){if(H){if("string"==typeof H)return Q(H,W);var x=Object.prototype.toString.call(H).slice(8,-1);if("Object"===x&&H.constructor&&(x=H.constructor.name),"Map"===x||"Set"===x)return Array.from(H);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Q(H,W)}}function Q(H,W){(null==W||W>H.length)&&(W=H.length);for(var x=0,Y=new Array(W);x<W;x++)Y[x]=H[x];return Y}function le(){var H,W,x,Y,z=this.context,ie=Object(S.default)(z).getInstance(),oe=Number.isInteger||function(Ae){return"number"==typeof Ae&&isFinite(Ae)&&Math.floor(Ae)===Ae};function J(Ae,it){if(!Ae)throw new Error("adaptation is not defined");if(!it)throw new Error("type is not defined");if(Ae.Representation_asArray&&Ae.Representation_asArray.length){var Ct=ht(Ae.Representation_asArray[0]);if(Ct&&Ct.length>0&&y.THUMBNAILS_SCHEME_ID_URIS.indexOf(Ct[0].schemeIdUri)>=0)return it===M.default.IMAGE}if(Ae.ContentComponent_asArray&&Ae.ContentComponent_asArray.length>0){if(Ae.ContentComponent_asArray.length>1)return it===M.default.MUXED;if(Ae.ContentComponent_asArray[0].contentType===it)return!0}var je=it===M.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(it);if(Ae.Representation_asArray&&Ae.Representation_asArray.length&&je.test(Ae.Representation_asArray[0].codecs))return!0;if(Ae.hasOwnProperty(T.default.MIME_TYPE))return je.test(Ae.mimeType);if(Ae.Representation_asArray)for(var ct,At=0;At<Ae.Representation_asArray.length;At++)if((ct=Ae.Representation_asArray[At]).hasOwnProperty(T.default.MIME_TYPE))return je.test(ct.mimeType);return!1}function de(Ae){if(!Ae)throw new Error("adaptation is not defined");if(Ae.hasOwnProperty(T.default.SEGMENT_TEMPLATE)||Ae.hasOwnProperty(T.default.SEGMENT_TIMELINE)||Ae.hasOwnProperty(T.default.SEGMENT_LIST)||Ae.hasOwnProperty(T.default.SEGMENT_BASE))return!0;if(Ae.Representation_asArray&&Ae.Representation_asArray.length>0){var it=Ae.Representation_asArray[0];if(it.hasOwnProperty(T.default.SEGMENT_TEMPLATE)||it.hasOwnProperty(T.default.SEGMENT_TIMELINE)||it.hasOwnProperty(T.default.SEGMENT_LIST)||it.hasOwnProperty(T.default.SEGMENT_BASE))return!0}return!1}function ae(Ae){return J(Ae,M.default.AUDIO)}function pe(Ae){return J(Ae,M.default.VIDEO)}function he(Ae){return J(Ae,M.default.TEXT)}function fe(Ae){return J(Ae,M.default.MUXED)}function _e(Ae){return J(Ae,M.default.IMAGE)}function re(){return function(Ae,it){return Ae.bandwidth-it.bandwidth}}function k(Ae){return Ae&&Array.isArray(Ae.Representation_asArray)&&Ae.Representation_asArray.sort(function(Ae,it){return Ae.bandwidth-it.bandwidth}),Ae}function te(Ae,it){return Ae&&Ae.Period_asArray&&oe(it)&&Ae.Period_asArray[it]?Ae.Period_asArray[it].AdaptationSet_asArray:[]}function me(Ae){return Ae&&Ae.Period_asArray?Ae.Period_asArray:[]}function we(Ae){var it=!1;return Ae&&Ae.hasOwnProperty("type")&&(it=Ae.type===T.default.DYNAMIC),it}function ht(Ae){return Ae&&Ae.EssentialProperty_asArray&&Ae.EssentialProperty_asArray.length?Ae.EssentialProperty_asArray.map(function(it){return{schemeIdUri:it.schemeIdUri,value:it.value}}):null}function $t(Ae){if(!Ae||!Ae.S_asArray)return NaN;var it=Ae.S_asArray[0],Ct=Ae.S_asArray[1];return it.hasOwnProperty("d")?it.d:Ct.t-it.t}function Jt(Ae){return Ae.adaptation.period.start-Ae.presentationTimeOffset}function Ne(Ae,it){if(!Ae)throw new Error("Period cannot be null or undefined");var Ct=P.default.DEFAULT_ID+"_"+it;return Ae.hasOwnProperty(T.default.ID)&&Ae.id.length>0&&"__proto__"!==Ae.id&&(Ct=Ae.id),Ct}function yt(Ae,it,Ct){var Xe,je=[];if(!Ae)return je;for(Xe=0;Xe<Ae.length;Xe++){var ct=new d.default;if(ct.timescale=1,ct.representation=it,!Ae[Xe].hasOwnProperty(M.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");ct.schemeIdUri=Ae[Xe].schemeIdUri,Ae[Xe].hasOwnProperty(T.default.TIMESCALE)&&(ct.timescale=Ae[Xe].timescale),Ae[Xe].hasOwnProperty(T.default.VALUE)&&(ct.value=Ae[Xe].value),je.push(ct),ct.period=Ct}return je}function rt(Ae){var it=[],je=!1;return(Ae.BaseURL_asArray||[Ae.baseUri]).some(function(Xe){if(Xe){var ct=new l.default,At=Xe.__text||Xe;return ie.isRelative(At)&&(je=!0,Ae.baseUri&&(At=ie.resolve(At,Ae.baseUri))),ct.url=At,ct.serviceLocation=Xe.hasOwnProperty(T.default.SERVICE_LOCATION)&&Xe.serviceLocation.length?Xe.serviceLocation:At,Xe.hasOwnProperty(T.default.DVB_PRIORITY)&&(ct.dvb_priority=Xe[T.default.DVB_PRIORITY]),Xe.hasOwnProperty(T.default.DVB_WEIGHT)&&(ct.dvb_weight=Xe[T.default.DVB_WEIGHT]),Xe.hasOwnProperty(T.default.AVAILABILITY_TIME_OFFSET)&&(ct.availabilityTimeOffset=Xe[T.default.AVAILABILITY_TIME_OFFSET]),Xe.hasOwnProperty(T.default.AVAILABILITY_TIME_COMPLETE)&&(ct.availabilityTimeComplete="false"!==Xe[T.default.AVAILABILITY_TIME_COMPLETE]),it.push(ct),je}}),it}return H={getIsTypeOf:J,getIsText:he,getIsFragmented:de,getProducerReferenceTimesForAdaptation:function se(Ae){var it=Ae&&Ae.hasOwnProperty(T.default.PRODUCERREFERENCETIME_ASARRAY)?Ae[T.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Ae&&Ae.hasOwnProperty(T.default.REPRESENTATION_ASARRAY)?Ae[T.default.REPRESENTATION_ASARRAY]:[]).forEach(function(Xe){Xe.hasOwnProperty(T.default.PRODUCERREFERENCETIME_ASARRAY)&&it.push.apply(it,A(Xe[T.default.PRODUCERREFERENCETIME_ASARRAY]))});var je=[];return it.forEach(function(Xe){var ct=new f.default;Xe.hasOwnProperty(T.default.ID)&&(ct[T.default.ID]=Xe[T.default.ID],Xe.hasOwnProperty(T.default.WALL_CLOCK_TIME)&&(ct[T.default.WALL_CLOCK_TIME]=Xe[T.default.WALL_CLOCK_TIME],Xe.hasOwnProperty(T.default.PRESENTATION_TIME)&&(ct[T.default.PRESENTATION_TIME]=Xe[T.default.PRESENTATION_TIME],je.push(ct))))}),je},getLanguageForAdaptation:function Se(Ae){var it="";return Ae&&Ae.hasOwnProperty(T.default.LANG)&&(it=Ae.lang),it},getViewpointForAdaptation:function ge(Ae){return Ae&&Ae.hasOwnProperty(T.default.VIEWPOINT)?Ae.Viewpoint:null},getRolesForAdaptation:function ne(Ae){return Ae&&Ae.hasOwnProperty(T.default.ROLE_ASARRAY)?Ae.Role_asArray:[]},getAccessibilityForAdaptation:function X(Ae){return Ae&&Ae.hasOwnProperty(T.default.ACCESSIBILITY_ASARRAY)?Ae.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function F(Ae){return Ae&&Ae.hasOwnProperty(T.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Ae.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function V(Ae){return Ae&&Ae.hasOwnProperty(T.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Ae.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function K(Ae,it,Ct){var je=te(it,Ct);return je.length>0&&oe(Ae)?je[Ae]:null},getIndexForAdaptation:function j(Ae,it,Ct){if(!Ae)return-1;for(var je=te(it,Ct),Xe=0;Xe<je.length;Xe++)if(Object(N.default)(z).getInstance().areEqual(je[Xe],Ae))return Xe;return-1},getAdaptationForId:function q(Ae,it,Ct){var Xe,ct,je=te(it,Ct);for(Xe=0,ct=je.length;Xe<ct;Xe++)if(je[Xe].hasOwnProperty(T.default.ID)&&je[Xe].id===Ae)return je[Xe];return null},getAdaptationsForType:function $(Ae,it,Ct){var Xe,ct,je=te(Ae,it),At=[];for(Xe=0,ct=je.length;Xe<ct;Xe++)J(je[Xe],Ct)&&At.push(k(je[Xe]));return At},getRealPeriods:me,getRealPeriodForIndex:function Ee(Ae,it){var Ct=me(it);return Ct.length>0&&oe(Ae)?Ct[Ae]:null},getCodec:function ce(Ae,it,Ct){var je=null;if(Ae&&Ae.Representation_asArray&&Ae.Representation_asArray.length>0){var Xe=oe(it)&&it>=0&&it<Ae.Representation_asArray.length?Ae.Representation_asArray[it]:Ae.Representation_asArray[0];Xe&&(je=Xe.mimeType+';codecs="'+Xe.codecs+'"',Ct&&void 0!==Xe.width&&(je+=';width="'+Xe.width+'";height="'+Xe.height+'"'))}return je&&(je=je.replace(/\sprofiles=[^;]*/g,"")),je},getSelectionPriority:function at(Ae){try{var it=Ae&&typeof Ae.selectionPriority<"u"?parseInt(Ae.selectionPriority):1;return isNaN(it)?1:it}catch{return 1}},getMimeType:function ue(Ae){return Ae&&Ae.Representation_asArray&&Ae.Representation_asArray.length>0?Ae.Representation_asArray[0].mimeType:null},getKID:function be(Ae){return Ae&&Ae.hasOwnProperty(T.default.CENC_DEFAULT_KID)?Ae[T.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Re(Ae){if(!Ae||!Array.isArray(Ae.Label_asArray))return[];for(var it=[],Ct=0;Ct<Ae.Label_asArray.length;Ct++)it.push({lang:Ae.Label_asArray[Ct].lang,text:Ae.Label_asArray[Ct].__text||Ae.Label_asArray[Ct]});return it},getContentProtectionData:function Pe(Ae){return Ae&&Ae.hasOwnProperty(T.default.CONTENTPROTECTION_ASARRAY)&&0!==Ae.ContentProtection_asArray.length?Ae.ContentProtection_asArray:null},getIsDynamic:we,getId:function Ue(Ae){return Ae&&Ae[T.default.ID]||null},hasProfile:function Ce(Ae,it){var Ct=!1;return Ae&&Ae.profiles&&Ae.profiles.length>0&&(Ct=-1!==Ae.profiles.indexOf(it)),Ct},getDuration:function Oe(Ae){return Ae&&Ae.hasOwnProperty(T.default.MEDIA_PRESENTATION_DURATION)?Ae.mediaPresentationDuration:Ae&&"dynamic"==Ae.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function Ge(Ae){return Ae&&Ae.bandwidth?Ae.bandwidth:NaN},getManifestUpdatePeriod:function Le(Ae){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Ct=NaN;return Ae&&Ae.hasOwnProperty(T.default.MINIMUM_UPDATE_PERIOD)&&(Ct=Ae.minimumUpdatePeriod),isNaN(Ct)?Ct:Math.max(Ct-it,1)},getPublishTime:function $e(Ae){return Ae&&Ae.hasOwnProperty(T.default.PUBLISH_TIME)?new Date(Ae[T.default.PUBLISH_TIME]):null},getRepresentationCount:function Je(Ae){return Ae&&Array.isArray(Ae.Representation_asArray)?Ae.Representation_asArray.length:0},getBitrateListForAdaptation:function nt(Ae){var it=k(Ae);return(it&&Array.isArray(it.Representation_asArray)?it.Representation_asArray:[]).map(function(je){return{bandwidth:je.bandwidth,width:je.width||0,height:je.height||0,scanType:je.scanType||null,id:je.id||null}})},getRepresentationFor:function Rt(Ae,it){return it&&it.Representation_asArray&&it.Representation_asArray.length>0&&oe(Ae)?it.Representation_asArray[Ae]:null},getRepresentationsForAdaptation:function Bt(Ae){var je,Xe,it=[],Ct=function Ht(Ae){if(Ae&&Ae.period&&oe(Ae.period.index)){var it=Ae.period.mpd.manifest.Period_asArray[Ae.period.index];if(it&&it.AdaptationSet_asArray&&oe(Ae.index))return k(it.AdaptationSet_asArray[Ae.index])}}(Ae);if(Ct&&Ct.Representation_asArray){if(Ae&&Ae.period&&oe(Ae.period.index)){var ct=rt(Ae.period.mpd.manifest);ct&&(Xe=ct[0])}for(var At=0,sn=Ct.Representation_asArray.length;At<sn;++At){var Xt=Ct.Representation_asArray[At],He=new I.default;if(He.index=At,He.adaptation=Ae,Xt.hasOwnProperty(T.default.ID)&&(He.id=Xt.id),Xt.hasOwnProperty(T.default.CODECS)&&(He.codecs=Xt.codecs),Xt.hasOwnProperty(T.default.MIME_TYPE)&&(He.mimeType=Xt[T.default.MIME_TYPE]),Xt.hasOwnProperty(T.default.CODEC_PRIVATE_DATA)&&(He.codecPrivateData=Xt.codecPrivateData),Xt.hasOwnProperty(T.default.BANDWITH)&&(He.bandwidth=Xt.bandwidth),Xt.hasOwnProperty(T.default.WIDTH)&&(He.width=Xt.width),Xt.hasOwnProperty(T.default.HEIGHT)&&(He.height=Xt.height),Xt.hasOwnProperty(T.default.SCAN_TYPE)&&(He.scanType=Xt.scanType),Xt.hasOwnProperty(T.default.MAX_PLAYOUT_RATE)&&(He.maxPlayoutRate=Xt.maxPlayoutRate),Xt.hasOwnProperty(T.default.SEGMENT_BASE)?(je=Xt.SegmentBase,He.segmentInfoType=T.default.SEGMENT_BASE):Xt.hasOwnProperty(T.default.SEGMENT_LIST)?He.segmentInfoType=(je=Xt.SegmentList).hasOwnProperty(T.default.SEGMENT_TIMELINE)?T.default.SEGMENT_TIMELINE:T.default.SEGMENT_LIST:Xt.hasOwnProperty(T.default.SEGMENT_TEMPLATE)?(He.segmentInfoType=(je=Xt.SegmentTemplate).hasOwnProperty(T.default.SEGMENT_TIMELINE)?T.default.SEGMENT_TIMELINE:T.default.SEGMENT_TEMPLATE,je.hasOwnProperty(T.default.INITIALIZATION_MINUS)&&(He.initialization=je.initialization.split("$Bandwidth$").join(Xt.bandwidth).split("$RepresentationID$").join(Xt.id))):He.segmentInfoType=T.default.BASE_URL,He.essentialProperties=ht(Xt),je){if(je.hasOwnProperty(T.default.INITIALIZATION)){var Fe=je.Initialization;Fe.hasOwnProperty(T.default.SOURCE_URL)&&(He.initialization=Fe.sourceURL),Fe.hasOwnProperty(T.default.RANGE)&&(He.range=Fe.range)}else he(Ct)&&de(Ct)&&Ct.mimeType&&-1===Ct.mimeType.indexOf("application/mp4")&&(He.range=0);je.hasOwnProperty(T.default.TIMESCALE)&&(He.timescale=je.timescale),je.hasOwnProperty(T.default.DURATION)?He.segmentDuration=je.duration/He.timescale:Xt.hasOwnProperty(T.default.SEGMENT_TEMPLATE)&&(je=Xt.SegmentTemplate).hasOwnProperty(T.default.SEGMENT_TIMELINE)&&(He.segmentDuration=$t(je.SegmentTimeline)/He.timescale),je.hasOwnProperty(T.default.MEDIA)&&(He.media=je.media),je.hasOwnProperty(T.default.START_NUMBER)&&(He.startNumber=je.startNumber),je.hasOwnProperty(T.default.INDEX_RANGE)&&(He.indexRange=je.indexRange),je.hasOwnProperty(T.default.PRESENTATION_TIME_OFFSET)&&(He.presentationTimeOffset=je.presentationTimeOffset/He.timescale),je.hasOwnProperty(T.default.AVAILABILITY_TIME_OFFSET)?He.availabilityTimeOffset=je.availabilityTimeOffset:Xe&&void 0!==Xe.availabilityTimeOffset&&(He.availabilityTimeOffset=Xe.availabilityTimeOffset),je.hasOwnProperty(T.default.AVAILABILITY_TIME_COMPLETE)?He.availabilityTimeComplete="false"!==je.availabilityTimeComplete:Xe&&void 0!==Xe.availabilityTimeComplete&&(He.availabilityTimeComplete=Xe.availabilityTimeComplete)}He.MSETimeOffset=Jt(He),He.path=[Ae.period.index,Ae.index,At],it.push(He)}}return it},getAdaptationsForPeriod:function De(Ae){var je,Xe,ct,it=Ae&&oe(Ae.index)?Ae.mpd.manifest.Period_asArray[Ae.index]:null,Ct=[];if(it&&it.AdaptationSet_asArray)for(ct=0;ct<it.AdaptationSet_asArray.length;ct++)Xe=it.AdaptationSet_asArray[ct],je=new w.default,Xe.hasOwnProperty(T.default.ID)&&(je.id=Xe.id),je.index=ct,je.period=Ae,fe(Xe)?je.type=M.default.MUXED:ae(Xe)?je.type=M.default.AUDIO:pe(Xe)?je.type=M.default.VIDEO:he(Xe)?je.type=M.default.TEXT:_e(Xe)?je.type=M.default.IMAGE:W.warn("Unknown Adaptation stream type"),Ct.push(je);return Ct},getRegularPeriods:function Te(Ae){var sn,Xt,it=!!Ae&&we(Ae.manifest),Ct=[],je=null,Xe=null,ct=null,At=null;for(Xt=0,sn=Ae&&Ae.manifest&&Ae.manifest.Period_asArray?Ae.manifest.Period_asArray.length:0;Xt<sn;Xt++)(Xe=Ae.manifest.Period_asArray[Xt]).hasOwnProperty(T.default.START)?(At=new P.default).start=Xe.start:null!==je&&je.hasOwnProperty(T.default.DURATION)&&null!==ct?(At=new P.default).start=parseFloat((ct.start+ct.duration).toFixed(5)):0===Xt&&!it&&((At=new P.default).start=0),null!==ct&&isNaN(ct.duration)&&(null!==At?ct.duration=parseFloat((At.start-ct.start).toFixed(5)):W.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==At&&(At.id=Ne(Xe,Xt),At.index=Xt,At.mpd=Ae,Xe.hasOwnProperty(T.default.DURATION)&&(At.duration=Xe.duration),ct&&(ct.nextPeriodId=At.id),Ct.push(At),je=Xe,ct=At),Xe=null,At=null;return 0===Ct.length||null!==ct&&isNaN(ct.duration)&&(ct.duration=parseFloat((function tt(Ae){!function st(){if(!x||!x.hasOwnProperty("error"))throw new Error(M.default.MISSING_CONFIG_ERROR)}();var Ct,it=we(Ae.mpd.manifest);return Ae.mpd.manifest.mediaPresentationDuration?Ct=Ae.mpd.manifest.mediaPresentationDuration:Ae.duration?Ct=Ae.duration:it?Ct=Number.POSITIVE_INFINITY:x.error(new v.default(p.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Ae)),Ct}(ct)-ct.start).toFixed(5))),Ct},getMpd:function Ye(Ae){var it=new R.default;return Ae&&(it.manifest=Ae,Ae.hasOwnProperty(T.default.AVAILABILITY_START_TIME)?it.availabilityStartTime=new Date(Ae.availabilityStartTime.getTime()):Ae.loadedTime&&(it.availabilityStartTime=new Date(Ae.loadedTime.getTime())),Ae.hasOwnProperty(T.default.AVAILABILITY_END_TIME)&&(it.availabilityEndTime=new Date(Ae.availabilityEndTime.getTime())),Ae.hasOwnProperty(T.default.MINIMUM_UPDATE_PERIOD)&&(it.minimumUpdatePeriod=Ae.minimumUpdatePeriod),Ae.hasOwnProperty(T.default.MEDIA_PRESENTATION_DURATION)&&(it.mediaPresentationDuration=Ae.mediaPresentationDuration),Ae.hasOwnProperty(T.default.SUGGESTED_PRESENTATION_DELAY)&&(it.suggestedPresentationDelay=Ae.suggestedPresentationDelay),Ae.hasOwnProperty(T.default.TIMESHIFT_BUFFER_DEPTH)&&(it.timeShiftBufferDepth=Ae.timeShiftBufferDepth),Ae.hasOwnProperty(T.default.MAX_SEGMENT_DURATION)&&(it.maxSegmentDuration=Ae.maxSegmentDuration),Ae.hasOwnProperty(T.default.PUBLISH_TIME)&&(it.publishTime=new Date(Ae.publishTime))),it},getEventsForPeriod:function ut(Ae){var ct,At,it=Ae&&Ae.mpd&&Ae.mpd.manifest?Ae.mpd.manifest:null,Ct=it?it.Period_asArray:null,je=Ct&&Ae&&oe(Ae.index)?Ct[Ae.index].EventStream_asArray:null,Xe=[];if(je)for(ct=0;ct<je.length;ct++){var sn=new d.default;if(sn.period=Ae,sn.timescale=1,!je[ct].hasOwnProperty(M.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(sn.schemeIdUri=je[ct][M.default.SCHEME_ID_URI],je[ct].hasOwnProperty(T.default.TIMESCALE)&&(sn.timescale=je[ct][T.default.TIMESCALE]),je[ct].hasOwnProperty(T.default.VALUE)&&(sn.value=je[ct][T.default.VALUE]),je[ct].hasOwnProperty(T.default.PRESENTATION_TIME_OFFSET)&&(sn.presentationTimeOffset=je[ct][T.default.PRESENTATION_TIME_OFFSET]),At=0;je[ct].Event_asArray&&At<je[ct].Event_asArray.length;At++){var Xt=je[ct].Event_asArray[At],He=new c.default;He.presentationTime=0,He.eventStream=sn,Xt.hasOwnProperty(T.default.PRESENTATION_TIME)&&(He.presentationTime=Xt.presentationTime),He.calculatedPresentationTime=He.presentationTime/sn.timescale+Ae.start-(sn.presentationTimeOffset?sn.presentationTimeOffset/sn.timescale:0),Xt.hasOwnProperty(T.default.DURATION)&&(He.duration=Xt.duration/sn.timescale),He.id=Xt.hasOwnProperty(T.default.ID)?Xt.id:null,He.messageData=Xt.Signal&&Xt.Signal.Binary?Y.decodeArray(Xt.Signal.Binary.toString()):Xt.messageData||Xt.__cdata||Xt.__text,Xe.push(He)}}return Xe},getEssentialPropertiesForRepresentation:ht,getEventStreamForAdaptationSet:function gt(Ae,it,Ct){var je,Xe,ct;return Ae&&Ae.Period_asArray&&it&&it.period&&oe(it.period.index)&&(Xe=Ae.Period_asArray[it.period.index])&&Xe.AdaptationSet_asArray&&oe(it.index)&&(ct=Xe.AdaptationSet_asArray[it.index])&&(je=ct.InbandEventStream_asArray),yt(je,null,Ct)},getEventStreamForRepresentation:function Be(Ae,it,Ct){var je,Xe,ct,At;return Ae&&Ae.Period_asArray&&it&&it.adaptation&&it.adaptation.period&&oe(it.adaptation.period.index)&&(Xe=Ae.Period_asArray[it.adaptation.period.index])&&Xe.AdaptationSet_asArray&&oe(it.adaptation.index)&&(ct=Xe.AdaptationSet_asArray[it.adaptation.index])&&ct.Representation_asArray&&oe(it.index)&&(At=ct.Representation_asArray[it.index])&&(je=At.InbandEventStream_asArray),yt(je,it,Ct)},getUTCTimingSources:function Ze(Ae){var it=we(Ae),Ct=!!Ae&&Ae.hasOwnProperty(T.default.AVAILABILITY_START_TIME),je=Ae?Ae.UTCTiming_asArray:null,Xe=[];return(it||Ct)&&je&&je.forEach(function(ct){var At=new D.default;ct.hasOwnProperty(M.default.SCHEME_ID_URI)&&(At.schemeIdUri=ct.schemeIdUri,ct.hasOwnProperty(T.default.VALUE)&&(At.value=ct.value.toString(),Xe.push(At)))}),Xe},getBaseURLsFromElement:rt,getRepresentationSortFunction:re,getContentSteering:function mt(Ae){if(Ae&&Ae.hasOwnProperty(T.default.CONTENT_STEERING_AS_ARRAY)){var it=Ae[T.default.CONTENT_STEERING_AS_ARRAY][0],Ct=new _.default;return Ct.serverUrl=it.__text,it.hasOwnProperty(T.default.DEFAULT_SERVICE_LOCATION)&&(Ct.defaultServiceLocation=it[T.default.DEFAULT_SERVICE_LOCATION]),it.hasOwnProperty(T.default.QUERY_BEFORE_START)&&(Ct.queryBeforeStart="true"===it[T.default.QUERY_BEFORE_START].toLowerCase()),it.hasOwnProperty(T.default.PROXY_SERVER_URL)&&(Ct.proxyServerUrl=it[T.default.PROXY_SERVER_URL]),Ct}},getLocation:function Dt(Ae){if(Ae&&Ae.hasOwnProperty(M.default.LOCATION))return Ae.Location=Ae.Location_asArray[0],Ae.Location},getPatchLocation:function Ot(Ae){if(Ae&&Ae.hasOwnProperty(T.default.PATCH_LOCATION))return Ae.PatchLocation=Ae.PatchLocation_asArray[0],Ae.PatchLocation},getSuggestedPresentationDelay:function kt(Ae){return Ae&&Ae.hasOwnProperty(T.default.SUGGESTED_PRESENTATION_DELAY)?Ae.suggestedPresentationDelay:null},getAvailabilityStartTime:function mn(Ae){return Ae&&Ae.hasOwnProperty(T.default.AVAILABILITY_START_TIME)&&null!==Ae.availabilityStartTime?Ae.availabilityStartTime.getTime():null},getServiceDescriptions:function un(Ae){var it=[];if(Ae&&Ae.hasOwnProperty(T.default.SERVICE_DESCRIPTION)){var je,Ct=g(Ae.ServiceDescription_asArray);try{for(Ct.s();!(je=Ct.n()).done;){var Xe=je.value,ct=null,At=null,sn=null,Xt=null,He=null,Fe=null;for(var qe in Xe)Xe.hasOwnProperty(qe)&&(qe===T.default.ID?ct=Xe[qe]:qe===T.default.SERVICE_DESCRIPTION_SCOPE?At=Xe[qe].schemeIdUri:qe===T.default.SERVICE_DESCRIPTION_LATENCY?sn={target:parseInt(Xe[qe].target),max:parseInt(Xe[qe].max),min:parseInt(Xe[qe].min),referenceId:parseInt(Xe[qe].referenceId)}:qe===T.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?Xt={max:parseFloat(Xe[qe].max),min:parseFloat(Xe[qe].min)}:qe===T.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?He={mediaType:Xe[qe].mediaType,max:parseInt(Xe[qe].max),min:parseInt(Xe[qe].min),target:parseInt(Xe[qe].target),type:Xe[qe].type,maxQualityDifference:parseInt(Xe[qe].maxQualityDifference)}:qe===T.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Fe={mediaType:Xe[qe].mediaType,max:parseInt(Xe[qe].max),min:parseInt(Xe[qe].min),target:parseInt(Xe[qe].target)}));it.push({id:ct,schemeIdUri:At,latency:sn,playbackRate:Xt,operatingQuality:He,operatingBandwidth:Fe})}}catch(dt){Ct.e(dt)}finally{Ct.f()}}return it},getSupplementalProperties:function Fn(Ae){var it={};if(Ae&&Ae.hasOwnProperty(T.default.SUPPLEMENTAL_PROPERTY)){var je,Ct=g(Ae.SupplementalProperty_asArray);try{for(Ct.s();!(je=Ct.n()).done;){var Xe=je.value;Xe.hasOwnProperty(M.default.SCHEME_ID_URI)&&Xe.hasOwnProperty(T.default.VALUE)&&(it[Xe[M.default.SCHEME_ID_URI]]=Xe[T.default.VALUE])}}catch(ct){Ct.e(ct)}finally{Ct.f()}}return it},setConfig:function nr(Ae){!Ae||(Ae.errHandler&&(x=Ae.errHandler),Ae.BASE64&&(Y=Ae.BASE64))}},function ve(){W=Object(b.default)(z).getInstance().getLogger(H)}(),H}le.__dashjs_factory_name="DashManifestModel",U.default=O.default.getSingletonFactory(le)},"./src/dash/models/PatchManifestModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/constants/DashConstants.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/core/Debug.js"),w=m("./src/dash/vo/SimpleXPath.js"),P=m("./src/dash/vo/PatchOperation.js");function R(){var D,c,l=this.context;return D={getIsPatch:function f(b){return b&&b.hasOwnProperty(M.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function _(b){return b&&b.hasOwnProperty(M.default.PUBLISH_TIME)?new Date(b[M.default.PUBLISH_TIME]):null},getOriginalPublishTime:function N(b){return b&&b.hasOwnProperty(M.default.ORIGINAL_PUBLISH_TIME)?new Date(b[M.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function S(b){return b&&b[M.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function O(b){return b?(b.__children||[]).map(function(v){var p=Object.keys(v)[0];if("add"!==p&&"remove"!==p&&"replace"!==p)return c.warn("Ignoring node of invalid action: ".concat(p)),null;var y=v[p],g=y.sel;if("add"===p&&y.type){if(!y.type.startsWith("@"))return c.warn("Ignoring add action for prefixed namespace declaration: ".concat(y.type,"=").concat(y.__text)),null;g="".concat(g,"/").concat(y.type)}var A=new w.default(g);if(!A.isValid())return c.warn("Ignoring action with invalid selector: ".concat(p," - ").concat(g)),null;var E=null;A.findsAttribute()?E=y.__text||"":"remove"!==p&&(E=y.__children.reduce(function(G,ee){var Q=Object.keys(ee)[0];return"#text"!==Q&&(G[Q]=G[Q]||[],G[Q].push(ee[Q])),G},{}));var L=new P.default(p,A,E);return"add"===p&&(L.position=y.pos),L}).filter(function(v){return!!v}):[]}},function d(){c=Object(I.default)(l).getInstance().getLogger(D)}(),D}R.__dashjs_factory_name="PatchManifestModel",U.default=T.default.getSingletonFactory(R)},"./src/dash/parser/DashParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/dash/parser/objectiron.js"),I=m("./externals/xml2json.js"),w=m("./src/dash/parser/matchers/StringMatcher.js"),P=m("./src/dash/parser/matchers/DurationMatcher.js"),R=m("./src/dash/parser/matchers/DateTimeMatcher.js"),D=m("./src/dash/parser/matchers/NumericMatcher.js"),c=m("./src/dash/parser/matchers/LangMatcher.js"),l=m("./src/dash/parser/maps/RepresentationBaseValuesMap.js"),d=m("./src/dash/parser/maps/SegmentValuesMap.js");function f(_){var O,b,v,p,y,N=this.context,S=(_=_||{}).debug;return O={parse:function L(G){var ee,Q=window.performance.now();if(!(ee=p.xml_str2json(G)))throw new Error("parsing the manifest failed");var le=window.performance.now();ee.Patch?((ee=ee.Patch).add_asArray&&ee.add_asArray.forEach(function(W){return y.run(W)}),ee.replace_asArray&&ee.replace_asArray.forEach(function(W){return y.run(W)})):y.run(ee=ee.MPD);var H=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(le-Q).toPrecision(3)+"ms, objectiron: "+(H-le).toPrecision(3)+"ms, total: "+((H-Q)/1e3).toPrecision(3)+"s)"),ee.protocol="DASH",ee},getMatchers:function A(){return v},getIron:function E(){return y}},function g(){b=S.getLogger(O),v=[new P.default,new R.default,new D.default,new c.default,new w.default],p=new I.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:v}),y=Object(T.default)(N).create({adaptationset:new l.default,period:new d.default})}(),O}f.__dashjs_factory_name="DashParser",U.default=M.default.getClassFactory(f)},"./src/dash/parser/maps/CommonProperty.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l){!function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c);var _;this._name=l,this._merge=(_=l)&&_.length&&_.charAt(0)===_.charAt(0).toUpperCase()}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),c}()},"./src/dash/parser/maps/MapNode.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/maps/CommonProperty.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function w(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,R(_.key),_)}}function R(l){var d=function D(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}U.default=function(){function l(d,f,_){var N=this;(function I(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this._name=d||"",this._properties=[],this._children=_||[],Array.isArray(f)&&f.forEach(function(S){N._properties.push(new M.default(S))})}return function P(l,d,f){return d&&w(l.prototype,d),f&&w(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),l}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/maps/MapNode.js"),T=m("./src/dash/constants/DashConstants.js");function I(v){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function w(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,R(g.key),g)}}function R(v){var p=function D(v,p){if("object"!==I(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==I(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===I(p)?p:String(p)}function l(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&d(v,p)}function d(v,p){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=O(v);if(p){var E=O(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return _(this,A)}}function _(v,p){if(p&&("object"===I(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function N(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function O(v){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}U.default=function(v){l(y,v);var p=f(y);function y(){!function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y);var g=[T.default.PROFILES,T.default.WIDTH,T.default.HEIGHT,T.default.SAR,T.default.FRAMERATE,T.default.AUDIO_SAMPLING_RATE,T.default.MIME_TYPE,T.default.SEGMENT_PROFILES,T.default.CODECS,T.default.MAXIMUM_SAP_PERIOD,T.default.START_WITH_SAP,T.default.MAX_PLAYOUT_RATE,T.default.CODING_DEPENDENCY,T.default.SCAN_TYPE,T.default.FRAME_PACKING,T.default.AUDIO_CHANNEL_CONFIGURATION,T.default.CONTENT_PROTECTION,T.default.ESSENTIAL_PROPERTY,T.default.SUPPLEMENTAL_PROPERTY,T.default.INBAND_EVENT_STREAM];return p.call(this,T.default.ADAPTATION_SET,g,[new M.default(T.default.REPRESENTATION,g,[new M.default(T.default.SUB_REPRESENTATION,g)])])}return function P(v,p,y){return p&&w(v.prototype,p),y&&w(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(M.default)},"./src/dash/parser/maps/SegmentValuesMap.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/maps/MapNode.js"),T=m("./src/dash/constants/DashConstants.js");function I(v){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function w(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,R(g.key),g)}}function R(v){var p=function D(v,p){if("object"!==I(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==I(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===I(p)?p:String(p)}function l(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&d(v,p)}function d(v,p){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=O(v);if(p){var E=O(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return _(this,A)}}function _(v,p){if(p&&("object"===I(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function N(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function O(v){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}U.default=function(v){l(y,v);var p=f(y);function y(){!function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y);var g=[T.default.SEGMENT_BASE,T.default.SEGMENT_TEMPLATE,T.default.SEGMENT_LIST];return p.call(this,T.default.PERIOD,g,[new M.default(T.default.ADAPTATION_SET,g,[new M.default(T.default.REPRESENTATION,g)])])}return function P(v,p,y){return p&&w(v.prototype,p),y&&w(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(M.default)},"./src/dash/parser/matchers/BaseMatcher.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l,d){(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this._test=l,this._converter=d}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),c}()},"./src/dash/parser/matchers/DateTimeMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js");function T(g){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(g)}function I(g,A){for(var E=0;E<A.length;E++){var L=A[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(g,P(L.key),L)}}function P(g){var A=function R(g,A){if("object"!==T(g)||null===g)return g;var E=g[Symbol.toPrimitive];if(void 0!==E){var L=E.call(g,A||"default");if("object"!==T(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(g)}(g,"string");return"symbol"===T(A)?A:String(A)}function c(g,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(A&&A.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),A&&l(g,A)}function l(g,A){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,G){return L.__proto__=G,L})(g,A)}function d(g){var A=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var G,L=S(g);if(A){var ee=S(this).constructor;G=Reflect.construct(L,arguments,ee)}else G=L.apply(this,arguments);return f(this,G)}}function f(g,A){if(A&&("object"===T(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function _(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(g)}function S(g){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(g)}var p=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;U.default=function(g){c(E,g);var A=d(E);function E(){return function D(g,A){if(!(g instanceof A))throw new TypeError("Cannot call a class as a function")}(this,E),A.call(this,function(L){return p.test(L.value)},function(L){var ee,G=p.exec(L);if(ee=Date.UTC(parseInt(G[1],10),parseInt(G[2],10)-1,parseInt(G[3],10),parseInt(G[4],10),parseInt(G[5],10),G[6]&&parseInt(G[6],10)||0,G[7]&&1e3*parseFloat(G[7])||0),G[9]&&G[10]){var Q=60*parseInt(G[9],10)+parseInt(G[10],10);ee+=("+"===G[8]?-1:1)*Q*60*1e3}return new Date(ee)})}return function w(g,A,E){return A&&I(g.prototype,A),E&&I(g,E),Object.defineProperty(g,"prototype",{writable:!1}),g}(E)}(M.default)},"./src/dash/parser/matchers/DurationMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/dash/constants/DashConstants.js");function w(G){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(G)}function P(G,ee){for(var Q=0;Q<ee.length;Q++){var le=ee[Q];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(G,D(le.key),le)}}function D(G){var ee=function c(G,ee){if("object"!==w(G)||null===G)return G;var Q=G[Symbol.toPrimitive];if(void 0!==Q){var le=Q.call(G,ee||"default");if("object"!==w(le))return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ee?String:Number)(G)}(G,"string");return"symbol"===w(ee)?ee:String(ee)}function d(G,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(ee&&ee.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),ee&&f(G,ee)}function f(G,ee){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,H){return le.__proto__=H,le})(G,ee)}function _(G){var ee=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,le=b(G);if(ee){var W=b(this).constructor;H=Reflect.construct(le,arguments,W)}else H=le.apply(this,arguments);return N(this,H)}}function N(G,ee){if(ee&&("object"===w(ee)||"function"==typeof ee))return ee;if(void 0!==ee)throw new TypeError("Derived constructors may only return object or undefined");return function S(G){if(void 0===G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}(G)}function b(G){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(G)}var v=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;U.default=function(G){d(Q,G);var ee=_(Q);function Q(){return function l(G,ee){if(!(G instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,Q),ee.call(this,function(le){for(var H=[I.default.MIN_BUFFER_TIME,I.default.MEDIA_PRESENTATION_DURATION,I.default.MINIMUM_UPDATE_PERIOD,I.default.TIMESHIFT_BUFFER_DEPTH,I.default.MAX_SEGMENT_DURATION,I.default.MAX_SUBSEGMENT_DURATION,I.default.SUGGESTED_PRESENTATION_DELAY,I.default.START,T.default.START_TIME,I.default.DURATION],W=H.length,x=0;x<W;x++)if(le.nodeName===H[x])return v.test(le.value);return!1},function(le){var H=v.exec(le),W=31536e3*parseFloat(H[3]||0)+2592e3*parseFloat(H[5]||0)+86400*parseFloat(H[7]||0)+3600*parseFloat(H[9]||0)+60*parseFloat(H[11]||0)+parseFloat(H[13]||0);return void 0!==H[1]&&(W=-W),W})}return function R(G,ee,Q){return ee&&P(G.prototype,ee),Q&&P(G,Q),Object.defineProperty(G,"prototype",{writable:!1}),G}(Q)}(M.default)},"./src/dash/parser/matchers/LangMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./node_modules/bcp-47-normalize/index.js"),w=m.n(I);function P(g){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(g)}function R(g,A,E){return(A=l(A))in g?Object.defineProperty(g,A,{value:E,enumerable:!0,configurable:!0,writable:!0}):g[A]=E,g}function D(g,A){for(var E=0;E<A.length;E++){var L=A[E];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(g,l(L.key),L)}}function l(g){var A=function d(g,A){if("object"!==P(g)||null===g)return g;var E=g[Symbol.toPrimitive];if(void 0!==E){var L=E.call(g,A||"default");if("object"!==P(L))return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(g)}(g,"string");return"symbol"===P(A)?A:String(A)}function _(g,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(A&&A.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),A&&N(g,A)}function N(g,A){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,G){return L.__proto__=G,L})(g,A)}function S(g){var A=function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var G,L=p(g);if(A){var ee=p(this).constructor;G=Reflect.construct(L,arguments,ee)}else G=L.apply(this,arguments);return O(this,G)}}function O(g,A){if(A&&("object"===P(A)||"function"==typeof A))return A;if(void 0!==A)throw new TypeError("Derived constructors may only return object or undefined");return function b(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(g)}function p(g){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(g)}U.default=function(g){_(E,g);var A=S(E);function E(){return function f(g,A){if(!(g instanceof A))throw new TypeError("Cannot call a class as a function")}(this,E),A.call(this,function(L,G){var ee,Q=(R(ee={},T.default.ADAPTATION_SET,[T.default.LANG]),R(ee,T.default.REPRESENTATION,[T.default.LANG]),R(ee,T.default.CONTENT_COMPONENT,[T.default.LANG]),R(ee,T.default.LABEL,[T.default.LANG]),R(ee,T.default.GROUP_LABEL,[T.default.LANG]),ee);if(Q.hasOwnProperty(G)){var le=Q[G];return void 0!==le&&le.indexOf(L.name)>=0}return!1},function(L){var G=w()(L);return void 0!==G?G:String(L)})}return function c(g,A,E){return A&&D(g.prototype,A),E&&D(g,E),Object.defineProperty(g,"prototype",{writable:!1}),g}(E)}(M.default)},"./src/dash/parser/matchers/NumericMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js");function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}var O=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;U.default=function(v){c(y,v);var p=d(y);function y(){return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),p.call(this,function(g){return O.test(g.value)},function(g){return parseFloat(g)})}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(M.default)},"./src/dash/parser/matchers/StringMatcher.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/parser/matchers/BaseMatcher.js"),T=m("./src/dash/constants/DashConstants.js");function I(p){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(p)}function w(p,y,g){return(y=D(y))in p?Object.defineProperty(p,y,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[y]=g,p}function P(p,y){for(var g=0;g<y.length;g++){var A=y[g];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,D(A.key),A)}}function D(p){var y=function c(p,y){if("object"!==I(p)||null===p)return p;var g=p[Symbol.toPrimitive];if(void 0!==g){var A=g.call(p,y||"default");if("object"!==I(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(p)}(p,"string");return"symbol"===I(y)?y:String(y)}function d(p,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),y&&f(p,y)}function f(p,y){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,E){return A.__proto__=E,A})(p,y)}function _(p){var y=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,A=b(p);if(y){var L=b(this).constructor;E=Reflect.construct(A,arguments,L)}else E=A.apply(this,arguments);return N(this,E)}}function N(p,y){if(y&&("object"===I(y)||"function"==typeof y))return y;if(void 0!==y)throw new TypeError("Derived constructors may only return object or undefined");return function S(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(p)}function b(p){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)})(p)}U.default=function(p){d(g,p);var y=_(g);function g(){return function l(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}(this,g),y.call(this,function(A,E){var L,G=(w(L={},T.default.MPD,[T.default.ID,T.default.PROFILES]),w(L,T.default.PERIOD,[T.default.ID]),w(L,T.default.BASE_URL,[T.default.SERVICE_LOCATION,T.default.BYTE_RANGE]),w(L,T.default.SEGMENT_BASE,[T.default.INDEX_RANGE]),w(L,T.default.INITIALIZATION,[T.default.RANGE]),w(L,T.default.REPRESENTATION_INDEX,[T.default.RANGE]),w(L,T.default.SEGMENT_LIST,[T.default.INDEX_RANGE]),w(L,T.default.BITSTREAM_SWITCHING,[T.default.RANGE]),w(L,T.default.SEGMENT_URL,[T.default.MEDIA_RANGE,T.default.INDEX_RANGE]),w(L,T.default.SEGMENT_TEMPLATE,[T.default.INDEX_RANGE,T.default.MEDIA,T.default.INDEX,T.default.INITIALIZATION_MINUS,T.default.BITSTREAM_SWITCHING_MINUS]),w(L,T.default.ASSET_IDENTIFIER,[T.default.VALUE,T.default.ID]),w(L,T.default.EVENT_STREAM,[T.default.VALUE]),w(L,T.default.ADAPTATION_SET,[T.default.PROFILES,T.default.MIME_TYPE,T.default.SEGMENT_PROFILES,T.default.CODECS,T.default.CONTENT_TYPE]),w(L,T.default.FRAME_PACKING,[T.default.VALUE,T.default.ID]),w(L,T.default.AUDIO_CHANNEL_CONFIGURATION,[T.default.VALUE,T.default.ID]),w(L,T.default.CONTENT_PROTECTION,[T.default.VALUE,T.default.ID]),w(L,T.default.ESSENTIAL_PROPERTY,[T.default.VALUE,T.default.ID]),w(L,T.default.SUPPLEMENTAL_PROPERTY,[T.default.VALUE,T.default.ID]),w(L,T.default.INBAND_EVENT_STREAM,[T.default.VALUE,T.default.ID]),w(L,T.default.ACCESSIBILITY,[T.default.VALUE,T.default.ID]),w(L,T.default.ROLE,[T.default.VALUE,T.default.ID]),w(L,T.default.RATING,[T.default.VALUE,T.default.ID]),w(L,T.default.VIEWPOINT,[T.default.VALUE,T.default.ID]),w(L,T.default.CONTENT_COMPONENT,[T.default.CONTENT_TYPE]),w(L,T.default.REPRESENTATION,[T.default.ID,T.default.DEPENDENCY_ID,T.default.MEDIA_STREAM_STRUCTURE_ID]),w(L,T.default.SUBSET,[T.default.ID]),w(L,T.default.METRICS,[T.default.METRICS_MINUS]),w(L,T.default.REPORTING,[T.default.VALUE,T.default.ID]),L);if(G.hasOwnProperty(E)){var ee=G[E];return void 0!==ee&&ee.indexOf(A.name)>=0}return!1},function(A){return String(A)})}return function R(p,y,g){return y&&P(p.prototype,y),g&&P(p,g),Object.defineProperty(p,"prototype",{writable:!1}),p}(g)}(M.default)},"./src/dash/parser/objectiron.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(P){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(P)}function I(P){function R(d,f){for(var _ in d)f.hasOwnProperty(_)||(f[_]=d[_])}function D(d,f,_){for(var N=0,S=d.length;N<S;++N){var O=d[N];if(f[O.name])if(_[O.name]){if(O.merge){var b=f[O.name],v=_[O.name];"object"===T(b)&&"object"===T(v)?R(b,v):_[O.name]=b+v}}else _[O.name]=f[O.name]}}function c(d,f){for(var _=0,N=d.children.length;_<N;++_){var S=d.children[_],O=f[S.name+"_asArray"];if(O)for(var b=0,v=O.length;b<v;++b){var p=O[b];D(d.properties,f,p),c(S,p)}}}return{run:function l(d){if(null===d||"object"!==T(d))return d;if(d.Period_asArray&&"period"in P)for(var f=P.period,_=d.Period_asArray,N=0,S=_.length;N<S;++N){var O=_[N];if(c(f,O),"adaptationset"in P){var b=O.AdaptationSet_asArray;if(b)for(var v=P.adaptationset,p=0,y=b.length;p<y;++p)c(v,b[p])}}return d}}}I.__dashjs_factory_name="ObjectIron";var w=M.default.getClassFactory(I);U.default=w},"./src/dash/utils/ListSegmentsGetter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/dash/utils/SegmentsUtils.js");function w(R,D){var c=(R=R||{}).timelineConverter;function d(){if(!c||!c.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function _(S,O){if(d(),!S)return null;var b=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentList,v=b.SegmentURL_asArray.length,p=S&&!isNaN(S.startNumber)?S.startNumber:1,y=Math.max(p-1,0),g=Math.max(O-y,0),A=null;if(g<v){var E=b.SegmentURL_asArray[g];(A=Object(I.getIndexBasedSegment)(c,D,S,O))&&(A.replacementTime=(p+O-1)*S.segmentDuration,A.media=E.media?E.media:"",A.mediaRange=E.mediaRange,A.indexRange=E.indexRange)}return A}return{getSegmentByIndex:_,getSegmentByTime:function N(S,O){if(d(),!S)return null;var b=S.segmentDuration;if(isNaN(b))return null;var v=c.calcPeriodRelativeTimeFromMpdRelativeTime(S,O);return _(S,Math.floor(v/b))},getMediaFinishedInformation:function f(S){var O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!S)return O;var b=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentList,v=S&&!isNaN(S.startNumber)?S.startNumber:1,p=Math.max(v-1,0);return O.numberOfSegments=p+b.SegmentURL_asArray.length,O}}}w.__dashjs_factory_name="ListSegmentsGetter";var P=M.default.getClassFactory(w);U.default=P},"./src/dash/utils/Round10.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(U),m.d(U,"default",function(){return D});var D=function(){function l(){!function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,l)}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,null,[{key:"round10",value:function(f,_){return function c(l,d,f){return typeof f>"u"||0==+f?Math[l](d):(f=+f,null===(d=+d)||isNaN(d)||"number"!=typeof f||f%1!=0?NaN:(d=d.toString().split("e"),+((d=(d=Math[l](+(d[0]+"e"+(d[1]?+d[1]-f:-f)))).toString().split("e"))[0]+"e"+(d[1]?+d[1]+f:f))))}("round",f,_)}}]),l}()},"./src/dash/utils/SegmentBaseGetter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js");function I(P){var R=(P=P||{}).timelineConverter;function c(){if(!R||!R.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function d(N,S){if(c(),!N)return null;var b,O=N.segments?N.segments.length:-1;if(S<O&&(b=N.segments[S])&&b.index===S)return b;for(var v=0;v<O;v++)if((b=N.segments[v])&&b.index===S)return b;return null}return{getSegmentByIndex:d,getSegmentByTime:function f(N,S){return c(),d(N,function _(N,S){if(!N)return-1;var p,y,g,A,E,O=N.segments,b=O?O.length:null,v=-1;if(O&&b>0)for(E=0;E<b;E++)if(S+(p=(A=(y=O[E]).duration)/2)>=(g=y.presentationStartTime)&&S-p<g+A){v=y.index;break}return v}(N,S))},getMediaFinishedInformation:function l(N){var S={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!N||!N.segments||(S.numberOfSegments=N.segments.length),S}}}I.__dashjs_factory_name="SegmentBaseGetter";var w=M.default.getClassFactory(I);U.default=w},"./src/dash/utils/SegmentsUtils.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"unescapeDollarsInTemplate",function(){return w}),m.d(U,"replaceIDForTemplate",function(){return P}),m.d(U,"replaceTokenForTemplate",function(){return R}),m.d(U,"getIndexBasedSegment",function(){return l}),m.d(U,"getTimeBasedSegment",function(){return d});var M=m("./src/dash/vo/Segment.js");function T(f,_){for(;f.length<_;)f="0"+f;return f}function w(f){return f&&f.split("$$").join("$")}function P(f,_){if(!_||!f||-1===f.indexOf("$RepresentationID$"))return f;var N=_.toString();return f.split("$RepresentationID$").join(N)}function R(f,_,N){var O,b,v,p,y,g,A=_.length,E="%0".length;if(!f)return f;for(;;){if((O=f.indexOf("$"+_))<0||(b=f.indexOf("$",O+A))<0)return f;if((v=f.indexOf("%0",O+A))>O&&v<b)switch(p=f.charAt(b-1),y=parseInt(f.substring(v+E,b-1),10),p){case"d":case"i":case"u":g=T(N.toString(),y);break;case"x":g=T(N.toString(16),y);break;case"X":g=T(N.toString(16),y).toUpperCase();break;case"o":g=T(N.toString(8),y);break;default:return f}else g=N;f=f.substring(0,O)+g+f.substring(b+1)}}function D(f,_,N,S,O,b,v,p){var y=new M.default;return y.representation=f,y.duration=_,y.presentationStartTime=N,y.mediaStartTime=S,y.availabilityStartTime=O.calcAvailabilityStartTimeFromPresentationTime(b,f,v),y.availabilityEndTime=O.calcAvailabilityEndTimeFromPresentationTime(b+_,f,v),y.wallStartTime=O.calcWallTimeForSegment(y,v),y.replacementNumber=function I(f,_){return f.representation.startNumber+_}(y,p),y.index=p,y}function c(f,_,N,S){var O=_.adaptation.period;if(isFinite(O.duration)&&O.start+O.duration<=N.presentationStartTime)return!1;if(S){if("INF"===_.availabilityTimeOffset)return!0;var b=f.getClientReferenceTime();return N.availabilityStartTime.getTime()<=b&&(!isFinite(N.availabilityEndTime)||N.availabilityEndTime.getTime()>=b)}return!0}function l(f,_,N,S){var O,b,v;O=N.segmentDuration,isNaN(O)&&(O=N.adaptation.period.duration),b=parseFloat((N.adaptation.period.start+S*O).toFixed(5)),v=parseFloat((b+O).toFixed(5));var y=D(N,O,b,f.calcMediaTimeFromPresentationTime(b,N),f,v,_,S);return c(f,N,y,_)?y:null}function d(f,_,N,S,O,b,v,p,y,g){var L,ee,A=S/b,E=O/b;return L=f.calcPresentationTimeFromMediaTime(A,N),c(f,N,ee=D(N,E,L,A,f,L+E,_,y),_)?(ee.replacementTime=g||S,v=R(v,"Number",ee.replacementNumber),v=R(v,"Time",ee.replacementTime),ee.media=v,ee.mediaRange=p,ee):null}},"./src/dash/utils/TemplateSegmentsGetter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/dash/utils/SegmentsUtils.js");function w(R,D){var c=(R=R||{}).timelineConverter;function d(){if(!c||!c.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(T.default.MISSING_CONFIG_ERROR)}function _(S,O){if(d(),!S)return null;var b=S.adaptation.period.mpd.manifest.Period_asArray[S.adaptation.period.index].AdaptationSet_asArray[S.adaptation.index].Representation_asArray[S.index].SegmentTemplate;O=Math.max(O,0);var v=Object(I.getIndexBasedSegment)(c,D,S,O);if(v){v.replacementTime=Math.round((O-1)*S.segmentDuration*S.timescale,10);var p=b.media;p=Object(I.replaceTokenForTemplate)(p,"Number",v.replacementNumber),p=Object(I.replaceTokenForTemplate)(p,"Time",v.replacementTime),v.media=p}return v}return{getSegmentByIndex:_,getSegmentByTime:function N(S,O){if(d(),!S)return null;var b=S.segmentDuration;if(isNaN(b))return null;var v=c.calcPeriodRelativeTimeFromMpdRelativeTime(S,O);return _(S,Math.floor(v/b))},getMediaFinishedInformation:function f(S){var O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!S)return O;var b=S.segmentDuration;return O.numberOfSegments=isNaN(b)?1:Math.ceil(S.adaptation.period.duration/b),O}}}w.__dashjs_factory_name="TemplateSegmentsGetter";var P=M.default.getClassFactory(w);U.default=P},"./src/dash/utils/TimelineConverter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/dash/constants/DashConstants.js"),P=m("./src/dash/models/DashManifestModel.js"),R=m("./src/core/Settings.js"),D=m("./src/streaming/constants/Constants.js"),c=m("./src/streaming/MediaPlayerEvents.js"),l=m("./src/streaming/constants/ConformanceViolationConstants.js");function d(){var S,O,b,v,f=this.context,_=Object(M.default)(f).getInstance(),N=Object(R.default)(f).getInstance();function A(fe){v=fe}function L(fe,_e,se,Se){var ge,ne=_e.adaptation.period.mpd,X=ne.availabilityStartTime;if(Se)ge=se&&ne.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(X.getTime()+1e3*(fe+ne.timeShiftBufferDepth)):ne.availabilityEndTime;else if(se){var F=_e.availabilityTimeOffset;ge=new Date(X.getTime()+1e3*(fe-F))}else ge=X;return ge}function Q(fe,_e){return(fe.getTime()-_e.mpd.availabilityStartTime.getTime()+1e3*v)/1e3}function le(fe,_e){return fe+(_e.adaptation.period.start-_e.presentationTimeOffset)}function ie(fe){var _e={start:NaN,end:NaN},se=fe[0].getAdapter().getRegularPeriods()[0],Se=Q(new Date,se);if(!fe||0===fe.length)return{range:_e,now:Se};fe.forEach(function(ne){var X=ne.getAdapter(),F=X.getMediaInfoForType(ne.getStreamInfo(),D.default.VIDEO)||X.getMediaInfoForType(ne.getStreamInfo(),D.default.AUDIO),re=X.getVoRepresentations(F)[0],k={start:NaN,end:NaN};if(re)if(re.segmentInfoType===w.default.SEGMENT_TIMELINE)k=function J(fe){var V,re,k,te,se=O.getRepresentationFor(fe.index,fe.adaptation.period.mpd.manifest.Period_asArray[fe.adaptation.period.index].AdaptationSet_asArray[fe.adaptation.index]),ge=se.SegmentTemplate.timescale,ne=se.SegmentTemplate.SegmentTimeline.S_asArray,X={start:0,end:0},F=0;for(X.start=le(ne[0].t/ge,fe),k=0,te=ne.length;k<te;k++)re=0,(V=ne[k]).hasOwnProperty("r")&&(re=V.r),F+=V.d*(1+re);return X.end=le((ne[0].t+F)/ge,fe),X}(re);else{var te=re.adaptation.period;k.start=te.start,k.end=Math.max(Se,te.start+te.duration)}!isNaN(k.start)&&(isNaN(_e.start)||_e.start>k.start)&&(_e.start=k.start),!isNaN(k.end)&&(isNaN(_e.end)||_e.end<k.end)&&(_e.end=k.end)}),_e.end=Math.min(Se,_e.end);var ge=ve(fe,_e.end,!0);return _e.end=isNaN(ge)?_e.end:ge,_e.start=se&&se.mpd&&se.mpd.timeShiftBufferDepth&&!isNaN(se.mpd.timeShiftBufferDepth)&&!isNaN(_e.end)?Math.max(_e.end-se.mpd.timeShiftBufferDepth,_e.start):_e.start,_e.start=ve(fe,_e.start),{range:_e,now:Se}}function oe(fe,_e){b=fe-_e.end}function ve(fe,_e){var se=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var Se=0,ge=!1,ne=NaN;!ge&&Se<fe.length;){var X=fe[Se].getStreamInfo();X.start<=_e&&(!isFinite(X.duration)||X.start+X.duration>=_e)?(ne=_e,ge=!0):!se&&X.start>_e&&(isNaN(ne)||X.start<ne)?ne=X.start:se&&X.start+X.duration<_e&&(isNaN(ne)||X.start+X.duration>ne)&&(ne=X.start+X.duration),Se+=1}return ne}catch{return _e}}function ae(fe){void 0!==fe.offset&&!isNaN(fe.offset)&&A(fe.offset/1e3)}function pe(){v=0,b=0}function he(){_.off(T.default.UPDATE_TIME_SYNC_OFFSET,ae,this),pe()}return S={initialize:function y(){pe(),_.on(T.default.UPDATE_TIME_SYNC_OFFSET,ae,this)},getClientTimeOffset:function g(){return v},setClientTimeOffset:A,getClientReferenceTime:function E(){return Date.now()-1e3*b+1e3*v},calcAvailabilityStartTimeFromPresentationTime:function G(fe,_e,se){return L(fe,_e,se)},calcAvailabilityEndTimeFromPresentationTime:function ee(fe,_e,se){return L(fe,_e,se,!0)},calcPresentationTimeFromWallTime:Q,calcPresentationTimeFromMediaTime:le,calcPeriodRelativeTimeFromMpdRelativeTime:function de(fe,_e){return _e-fe.adaptation.period.start},calcMediaTimeFromPresentationTime:function H(fe,_e){return fe-_e.adaptation.period.start+_e.presentationTimeOffset},calcWallTimeForSegment:function W(fe,_e){var Se,ge;return _e&&(Se=fe.presentationStartTime+fe.representation.adaptation.period.mpd.suggestedPresentationDelay,ge=new Date(fe.availabilityStartTime.getTime()+1e3*Se)),ge},calcTimeShiftBufferWindow:function x(fe,_e){if(!_e)return function Y(fe){var _e={start:NaN,end:NaN},se=0,Se=NaN;return fe.forEach(function(ge){var ne=ge.getStreamInfo();se+=ne.duration,(isNaN(Se)||ne.start<Se)&&(Se=ne.start)}),_e.start=Se,_e.end=Se+se,_e}(fe);if(N.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var se=ie(fe);return oe(se.now,se.range),se.range}return function z(fe){var _e={start:NaN,end:NaN};if(!fe||0===fe.length)return _e;var se=fe[0].getAdapter().getRegularPeriods()[0],Se=Q(new Date,se),ge=se.mpd.timeShiftBufferDepth,ne=isNaN(ge)?0:Se-ge;if(_e.start=ve(fe,ne),_e.end=!isNaN(_e.start)&&Se<_e.start?Se:ve(fe,Se,!0),!isNaN(ge)&&_e.end<Se-ge&&(_e.end=NaN),N.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var X=ie(fe);if(X.range.end<_e.start)return _.trigger(c.default.CONFORMANCE_VIOLATION,{level:l.default.LEVELS.WARNING,event:l.default.EVENTS.INVALID_DVR_WINDOW}),oe(X.now,X.range),X.range}return _e}(fe)},reset:he},function p(){O=Object(P.default)(f).getInstance(),he()}(),S}d.__dashjs_factory_name="TimelineConverter",U.default=I.default.getSingletonFactory(d)},"./src/dash/utils/TimelineSegmentsGetter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/dash/utils/SegmentsUtils.js");function w(R,D){var c=(R=R||{}).timelineConverter,l=R.dashMetrics;function f(){if(!c)throw new Error(T.default.MISSING_CONFIG_ERROR)}function N(p,y){var ee,Q,le,H,W,x,Y,g=p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentTemplate||p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentList,E=g.SegmentURL_asArray,L=0,G=-1;Y=p.timescale;var z=!1;for(le=0,H=(ee=g.SegmentTimeline.S_asArray).length;le<H&&!z;le++)for(x=0,(Q=ee[le]).hasOwnProperty("r")&&(x=Q.r),Q.hasOwnProperty("t")&&(L=Q.t),x<0&&(x=S(p,ee[le+1],Q,Y,L/Y)),W=0;W<=x&&!z;W++)(z=y(L,g,E,Q,Y,++G,le))&&(p.segmentDuration=Q.d/Y),L+=Q.d}function S(p,y,g,A,E){var L;if(y&&y.hasOwnProperty("t"))L=y.t/A;else try{var G=0;if(isNaN(p.adaptation.period.start)||isNaN(p.adaptation.period.duration)||!isFinite(p.adaptation.period.duration)){var ee=l.getCurrentDVRInfo();G=isNaN(ee.end)?0:ee.end}else G=p.adaptation.period.start+p.adaptation.period.duration;L=c.calcMediaTimeFromPresentationTime(G,p),p.segmentDuration=g.d/A}catch{L=0}return Math.max(Math.ceil((L-E)/(g.d/A))-1,0)}return{getSegmentByIndex:function O(p,y,g){if(f(),!p)return null;var A=null,E=!1;return N(p,function(L,G,ee,Q,le,H,W){if(E||g<0){var x=G.media,Y=Q.mediaRange;return ee&&(x=ee[W].media||"",Y=ee[W].mediaRange),A=Object(I.getTimeBasedSegment)(c,D,p,L,Q.d,le,x,Y,H,Q.tManifest),!0}return L>=g*le-.5*Q.d&&(E=!0),!1}),A},getSegmentByTime:function b(p,y){if(f(),!p)return null;void 0===y&&(y=null);var g=null,A=c.calcMediaTimeFromPresentationTime(y,p);return N(p,function(E,L,G,ee,Q,le,H){var W=function v(p){return parseFloat(p.toPrecision(15))}(A*Q);if(W<E+ee.d&&W>=E){var x=L.media,Y=ee.mediaRange;return G&&(x=G[H].media||"",Y=G[H].mediaRange),g=Object(I.getTimeBasedSegment)(c,D,p,E,ee.d,Q,x,Y,le,ee.tManifest),!0}return!1}),g},getMediaFinishedInformation:function _(p){if(!p)return 0;var G,ee,Q,le,H,W,x,A=0,E=0,L=0;for(x=p.timescale,le=(G=(p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentTemplate||p.adaptation.period.mpd.manifest.Period_asArray[p.adaptation.period.index].AdaptationSet_asArray[p.adaptation.index].Representation_asArray[p.index].SegmentList).SegmentTimeline.S_asArray).length,Q=0;Q<le;Q++)for(W=0,(ee=G[Q]).hasOwnProperty("r")&&(W=ee.r),ee.hasOwnProperty("t")&&(E=(A=ee.t)/x),W<0&&(W=S(p,G[Q+1],ee,x,E)),H=0;H<=W;H++)L++,E=(A+=ee.d)/x;return{numberOfSegments:L,mediaTimeOfLastSignaledSegment:E}}}}w.__dashjs_factory_name="TimelineSegmentsGetter";var P=M.default.getClassFactory(w);U.default=P},"./src/dash/vo/AdaptationSet.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":function(Ie,U,m){"use strict";function M(d){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function T(d,f){for(var _=0;_<f.length;_++){var N=f[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(d,w(N.key),N)}}function I(d,f,_){return f&&T(d.prototype,f),_&&T(d,_),Object.defineProperty(d,"prototype",{writable:!1}),d}function w(d){var f=function P(d,f){if("object"!==M(d)||null===d)return d;var _=d[Symbol.toPrimitive];if(void 0!==_){var N=_.call(d,f||"default");if("object"!==M(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(d)}(d,"string");return"symbol"===M(f)?f:String(f)}m.r(U);var l=I(function d(f,_,N,S){(function R(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,d),this.url=f||"",this.serviceLocation=_||f||"",this.dvb_priority=N||1,this.dvb_weight=S||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});l.DEFAULT_DVB_PRIORITY=1,l.DEFAULT_DVB_WEIGHT=1,U.default=l},"./src/dash/vo/ContentSteering.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/metrics/HTTPRequest.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function P(l){var d=function R(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}U.default=w(function l(d){(function D(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.url=d||null,this.type=M.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l,d,f){(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.action=l,this.xpath=d,this.value=f,this.position=null}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"getMpdTarget",value:function(d){return this.xpath.getMpdTarget(d,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),c}()},"./src/dash/vo/Period.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U);var D=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});D.DEFAULT_ID="defaultId",U.default=D},"./src/dash/vo/ProducerReferenceTime.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/constants/DashConstants.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function w(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,R(_.key),_)}}function R(l){var d=function D(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}U.default=function(){function l(){(function I(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function P(l,d,f){return d&&w(l.prototype,d),f&&w(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==M.default.BASE_URL&&this.segmentInfoType!==M.default.SEGMENT_BASE&&!this.indexRange}}]),l}()},"./src/dash/vo/RepresentationInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l){var d=this;(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.valid="/"==l[0],this.path=l.split("/").filter(function(f){return 0!==f.length}).map(function(f){var _={name:f},N=f.indexOf("[");if(-1!=N){_.name=f.substring(0,N);var S=f.substring(N+1,f.length-1);d.valid=d.valid&&-1==S.indexOf("[");var O=S.indexOf("=");-1!=O?(_.attribute={name:S.substring(1,O),value:S.substring(O+1)},-1!=["'",'"'].indexOf(_.attribute.value[0])&&(_.attribute.value=_.attribute.value.substring(1,_.attribute.value.length-1))):_.position=parseInt(S,10)-1}return _})}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(d,f){for(var _=null,N=d,S=1,O="MPD";S<this.path.length&&null!==N;){_=N;var b=this.path[S];if(O=b.name,S!==this.path.length-1||!O.startsWith("@")){var v=_[O+"_asArray"]||[];0===v.length&&_[O]&&v.push(_[O]),b.position?N=v[b.position]||null:b.attribute?function(){var p=b.attribute;N=v.filter(function(y){return y[p.name]==p.value})[0]||null}():N=v[0]||null}S++}return null===N?null:O.startsWith("@")?{name:O.substring(1),leaf:N,target:N}:{name:O,leaf:N,target:f?_:N}}}]),c}()},"./src/dash/vo/StreamInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/net/URLLoader.js"),I=m("./src/streaming/vo/HeadRequest.js"),w=m("./src/streaming/vo/DashJSError.js"),P=m("./src/core/FactoryMaker.js");function R(D){var S,O,c=this.context,l=(D=D||{}).eventBus,d=D.events,f=D.urlUtils,_=D.errors,N=D.streamId;return S={checkForExistence:function v(A){var E=function(ee){l.trigger(d.CHECK_FOR_EXISTENCE_COMPLETED,{request:A,exists:ee})};if(A){var L=new I.default(A.url);O.load({request:L,success:function(){E(!0)},error:function(){E(!1)}})}else E(!1)},load:function p(A){var E=function(G,ee){l.trigger(d.LOADING_COMPLETED,{request:A,response:G||null,error:ee||null,sender:S})};A?O.load({request:A,progress:function(G){l.trigger(d.LOADING_PROGRESS,{request:A,stream:G.stream,streamId:N}),G.data&&l.trigger(d.LOADING_DATA_PROGRESS,{request:A,response:G.data||null,error:null,sender:S})},success:function(G){E(G)},error:function(G,ee,Q){E(void 0,new w.default(_.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,Q,ee))},abort:function(G){G&&l.trigger(d.LOADING_ABANDONED,{mediaType:G.mediaType,request:G,sender:S})}}):E(void 0,new w.default(_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function y(){O&&O.abort()},reset:function g(){O&&(O.abort(),O=null)}},function b(){O=Object(T.default)(c).create({errHandler:D.errHandler,errors:_,dashMetrics:D.dashMetrics,mediaPlayerModel:D.mediaPlayerModel,requestModifier:D.requestModifier,urlUtils:f,constants:M.default,boxParser:D.boxParser,dashConstants:D.dashConstants,requestTimeout:D.settings.get().streaming.fragmentRequestTimeout})}(),S}R.__dashjs_factory_name="FragmentLoader",U.default=P.default.getClassFactory(R)},"./src/streaming/ManifestLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/streaming/controllers/XlinkController.js"),w=m("./src/streaming/net/URLLoader.js"),P=m("./src/streaming/utils/URLUtils.js"),R=m("./src/streaming/vo/TextRequest.js"),D=m("./src/streaming/vo/DashJSError.js"),c=m("./src/streaming/vo/metrics/HTTPRequest.js"),l=m("./src/core/EventBus.js"),d=m("./src/core/events/Events.js"),f=m("./src/core/errors/Errors.js"),_=m("./src/core/FactoryMaker.js"),N=m("./src/dash/parser/DashParser.js");function S(b){var E,L,G,ee,Q,v=this.context,p=(b=b||{}).debug,y=b.settings,g=Object(l.default)(v).getInstance(),A=Object(P.default)(v).getInstance(),le=b.mssHandler,H=b.errHandler;function x(oe){g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:oe.manifest})}return E={load:function z(oe){var ve=new R.default(oe,c.HTTPRequest.MPD_TYPE);G.load({request:ve,success:function(de,ae,pe){if(ee){var he,fe,_e;if(pe&&pe!==oe?(fe=A.parseBaseUrl(pe),he=pe):(A.isRelative(oe)&&(oe=A.resolve(oe,window.location.href)),fe=A.parseBaseUrl(oe)),"No Content"==ae)return void g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===Q&&(Q=function Y(oe){var ve=null;return oe.indexOf("SmoothStreamingMedia")>-1?(le&&(ve=le.createMssParser(),le.registerEvents()),ve):oe.indexOf("MPD")>-1||oe.indexOf("Patch")>-1?Object(N.default)(v).create({debug:p}):ve}(de)),null===Q)return void g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(oe))});ee.setMatchers(Q.getMatchers()),ee.setIron(Q.getIron());try{_e=Q.parse(de)}catch{return void g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(oe))})}if(_e){if(_e.url=he||oe,_e.originalUrl||(_e.originalUrl=_e.url),_e.hasOwnProperty(M.default.LOCATION)&&(fe=A.parseBaseUrl(_e.Location_asArray[0]),L.debug("BaseURI set by Location to: "+fe)),y&&y.get().streaming.enableManifestDurationMismatchFix&&_e.mediaPresentationDuration&&_e.Period_asArray.length>1){var se=_e.Period_asArray.reduce(function(Se,ge){return Se+ge.duration},0);!isNaN(se)&&_e.mediaPresentationDuration>se&&(L.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),_e.mediaPresentationDuration=se)}_e.baseUri=fe,_e.loadedTime=new Date,ee.resolveManifestOnLoad(_e),g.trigger(d.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:de})}else g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(oe))})}},error:function(de,ae,pe){g.trigger(d.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new D.default(f.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,f.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(oe,", ").concat(pe))})}})},reset:function ie(){g.off(d.default.XLINK_READY,x,E),le&&le.reset(),ee&&(ee.reset(),ee=null),G&&(G.abort(),G=null)}},function W(){L=p.getLogger(E),g.on(d.default.XLINK_READY,x,E),G=Object(w.default)(v).create({errHandler:b.errHandler,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier,urlUtils:A,constants:M.default,dashConstants:T.default,errors:f.default,requestTimeout:b.settings.get().streaming.manifestRequestTimeout}),ee=Object(I.default)(v).create({errHandler:H,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier,settings:b.settings}),Q=null}(),E}S.__dashjs_factory_name="ManifestLoader";var O=_.default.getClassFactory(S);U.default=O},"./src/streaming/ManifestUpdater.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/streaming/MediaPlayerEvents.js"),w=m("./src/core/FactoryMaker.js"),P=m("./src/core/Debug.js"),R=m("./src/core/errors/Errors.js"),D=m("./src/dash/constants/DashConstants.js"),c=m("./src/streaming/utils/URLUtils.js");function l(){var N,S,O,b,v,p,y,g,A,E,L,G,d=this.context,f=Object(M.default)(d).getInstance(),_=Object(c.default)(d).getInstance();function W(){O=NaN,y=!1,v=!0,p=!1,Y()}function Y(){null!==b&&(clearTimeout(b),b=null)}function z(fe){Y(),!p&&(isNaN(fe)&&!isNaN(O)&&(fe=1e3*O),isNaN(fe)||(S.debug("Refresh manifest in "+fe+" milliseconds."),b=setTimeout(ve,fe)))}function ie(){var fe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y=!0;var _e=A.getValue(),se=_e.url,Se=E.getPatchLocation(_e),ge=E.getLocation(_e);Se&&!fe?se=Se:ge&&(se=ge),_.isRelative(se)&&(se=_.resolve(se,_e.url)),g.load(se)}function oe(fe){if(fe){if(E.getIsPatch(fe)){var _e=fe;fe=A.getValue();var se=E.isPatchValid(fe,_e),Se=se;if(se){var ge=E.getPublishTime(fe);Se=E.applyPatchToManifest(fe,_e);var ne=E.getPublishTime(fe);Se=ge.getTime()!=ne.getTime()}if(!Se)return S.debug("Patch provided is invalid, performing full manifest refresh"),void ie(!0);fe.loadedTime=new Date}}else(fe=A.getValue()).loadedTime=new Date;if(A.getValue()&&A.getValue().type===D.default.DYNAMIC&&fe.type===D.default.STATIC)return f.trigger(T.default.DYNAMIC_TO_STATIC),y=!1,void(p=!0);A.setValue(fe);var X=new Date,F=(X.getTime()-fe.loadedTime.getTime())/1e3;1e3*(O=E.getManifestUpdatePeriod(fe,F))>2147483647&&(O=2147483.647),f.trigger(T.default.MANIFEST_UPDATED,{manifest:fe}),S.info("Manifest has been refreshed at "+X+"["+X.getTime()/1e3+"] "),v||z()}function ve(){if(!v){if(y)return void z(G.get().streaming.manifestUpdateRetryInterval);ie()}}function J(fe){fe.error?fe.error.code===R.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&L.error(fe.error):oe(fe.manifest)}function de(){v=!1,z()}function ae(){(v=!G.get().streaming.scheduling.scheduleWhilePaused)&&Y()}function pe(){y=!1}return N={initialize:function le(){W(),f.on(T.default.STREAMS_COMPOSED,pe,this),f.on(I.default.PLAYBACK_STARTED,de,this),f.on(I.default.PLAYBACK_PAUSED,ae,this),f.on(T.default.INTERNAL_MANIFEST_LOADED,J,this)},setManifest:function H(fe){oe(fe)},refreshManifest:ie,getIsUpdating:function he(){return y},setConfig:function Q(fe){!fe||(fe.manifestModel&&(A=fe.manifestModel),fe.adapter&&(E=fe.adapter),fe.manifestLoader&&(g=fe.manifestLoader),fe.errHandler&&(L=fe.errHandler),fe.settings&&(G=fe.settings))},reset:function x(){f.off(I.default.PLAYBACK_STARTED,de,this),f.off(I.default.PLAYBACK_PAUSED,ae,this),f.off(T.default.STREAMS_COMPOSED,pe,this),f.off(T.default.INTERNAL_MANIFEST_LOADED,J,this),W()}},function ee(){S=Object(P.default)(d).getInstance().getLogger(N)}(),N}l.__dashjs_factory_name="ManifestUpdater",U.default=w.default.getClassFactory(l)},"./src/streaming/MediaPlayer.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./externals/cea608-parser.js"),T=m.n(M),I=m("./src/streaming/constants/Constants.js"),w=m("./src/dash/constants/DashConstants.js"),P=m("./src/streaming/constants/MetricsConstants.js"),R=m("./src/streaming/controllers/PlaybackController.js"),D=m("./src/streaming/controllers/StreamController.js"),c=m("./src/streaming/controllers/GapController.js"),l=m("./src/streaming/controllers/CatchupController.js"),d=m("./src/dash/controllers/ServiceDescriptionController.js"),f=m("./src/dash/controllers/ContentSteeringController.js"),_=m("./src/streaming/controllers/MediaController.js"),N=m("./src/streaming/controllers/BaseURLController.js"),S=m("./src/streaming/ManifestLoader.js"),O=m("./src/streaming/utils/ErrorHandler.js"),b=m("./src/streaming/utils/Capabilities.js"),v=m("./src/streaming/utils/CapabilitiesFilter.js"),p=m("./src/streaming/utils/RequestModifier.js"),y=m("./src/streaming/models/URIFragmentModel.js"),g=m("./src/streaming/models/ManifestModel.js"),A=m("./src/streaming/models/MediaPlayerModel.js"),E=m("./src/streaming/controllers/AbrController.js"),L=m("./src/streaming/net/SchemeLoaderFactory.js"),G=m("./src/streaming/models/VideoModel.js"),ee=m("./src/streaming/models/CmcdModel.js"),Q=m("./src/streaming/utils/DOMStorage.js"),le=m("./src/core/Debug.js"),H=m("./src/core/errors/Errors.js"),W=m("./src/core/EventBus.js"),x=m("./src/core/events/Events.js"),Y=m("./src/streaming/MediaPlayerEvents.js"),z=m("./src/core/FactoryMaker.js"),ie=m("./src/core/Settings.js"),oe=m("./src/core/Version.js"),ve=m("./src/dash/controllers/SegmentBaseController.js"),J=m("./src/dash/DashAdapter.js"),de=m("./src/dash/DashMetrics.js"),ae=m("./src/dash/utils/TimelineConverter.js"),pe=m("./src/streaming/vo/metrics/HTTPRequest.js"),he=m("./externals/base64.js"),fe=m.n(he),_e=m("./node_modules/codem-isoboxer/dist/iso_boxer.js"),se=m.n(_e),Se=m("./src/streaming/vo/DashJSError.js"),ge=m("./src/streaming/utils/SupervisorTools.js"),ne=m("./src/streaming/ManifestUpdater.js"),X=m("./src/streaming/utils/URLUtils.js"),F=m("./src/streaming/utils/BoxParser.js"),V=m("./src/streaming/text/TextController.js"),re=m("./src/streaming/models/CustomParametersModel.js");function k(){var Re,Pe,we,Ue,Ce,Oe,Ge,Le,$e,Je,nt,at,ht,Rt,Ht,Bt,$t,Jt,De,Te,Ne,Ye,st,tt,ut,yt,gt,Be,Ze,rt,mt,Dt,Ot,kt,mn,un,Fn,me="You must first call initialize() and set a source before calling this method",Ee="You must first call initialize() and set a valid source and view before calling this method",q="You must first call attachView() to set the video element before calling this method",j="MediaPlayer not initialized!",$=this.context,ce=Object(W.default)($).getInstance(),ue=Object(ie.default)($).getInstance(),be=Object(le.default)($).getInstance({settings:ue});function Ct(){lt(null),pr(null),Ue=null,ht&&(ht.reset(),ht=null),Rt&&(Rt.reset(),Rt=null),De&&De.reset(),ue.reset(),Bt&&(Bt.reset(),Bt=null)}function Xe(){return!!we&&!!kt.getElement()}function sn(){return Object(oe.getVersionString)()}function qe(){if(!Ge)throw Ee;return gt.isPaused()}function Ke(){if(!Ge)throw Ee;return gt.getIsDynamic()}function _t(ze){var It=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,an=mt.getCurrentDVRInfo(It);if(!an)return 0;var Kt=gt.getOriginalLiveDelay(),fr=an.range.start+ze;return fr>an.range.end-Kt&&(fr=an.range.end-Kt),fr}function dn(ze){if(!Ge)throw Ee;var It=or().currentTime;if(void 0!==ze)It=tt.getTimeRelativeToStreamId(It,ze);else if(gt.getIsDynamic()){var an=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,Kt=mt.getCurrentDVRInfo(an);It=null===Kt||0===It?0:Math.max(0,It-Kt.range.start)}return It}function xn(){if(!Ge)throw Ee;var ze=or().duration;if(gt.getIsDynamic()){var It=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,an=mt.getCurrentDVRInfo(It);ze=an?an.range.end-an.range.start:0}return ze}function Na(ze){Object(ge.checkParameterType)(ze,"boolean"),Le=ze}function nl(){De.restoreDefaultUTCTimingSources()}function pt(){return mt}function or(){if(!kt.getElement())throw q;return kt.getElement()}function pr(ze){if(!Ce)throw j;kt.setElement(ze),ze&&(Li(),function jn(){if(!Rt){var ze=dashjs.MetricsReporting;if("function"==typeof ze){var It=ze($).create();Rt=It.createMetricsReporting({debug:be,eventBus:ce,mediaElement:or(),adapter:$t,dashMetrics:mt,mediaPlayerModel:Jt,events:x.default,constants:I.default,metricsConstants:P.default})}}}(),function al(){if(!Ht){var ze=dashjs.MssHandler;"function"==typeof ze&&(H.default.extend(ze.errors),Ht=ze($).create({eventBus:ce,mediaPlayerModel:Jt,dashMetrics:mt,manifestModel:Dt,playbackController:gt,streamController:tt,protectionController:ht,baseURLController:Ne,errHandler:Te,events:x.default,constants:I.default,debug:be,initSegmentType:pe.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:fe.a,ISOBoxer:se.a,settings:ue}))}}(),tt&&tt.switchToVideoElement()),Ge&&Bp(),Vu()}function pf(ze){if(!Oe)throw me;var It=tt.getActiveStreamInfo();return It?at.getTracksFor(ze,It.id):[]}function lt(ze){var It=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!Ce)throw j;"string"==typeof ze&&mn.initialize(ze),(null==It||isNaN(It))&&(It=NaN),It=Math.max(0,It),we=ze,(Oe||Ge)&&Bp(),Xe()&&Vu(It)}function ol(){if(!Oe)throw me;var ze=tt.getActiveStreamInfo();return ze?tt.getStreamById(ze.id):null}function Bp(){Ge=!1,Oe=!1,$t.reset(),tt.reset(),yt.reset(),rt.reset(),gt.reset(),Be.reset(),Ze.reset(),$e.reset(),at.reset(),Fn.reset(),ht&&(ue.get().streaming.protection.keepProtectionMediaKeys?ht.stop():(ht.reset(),ht=null,Li())),ut.reset(),Ot.reset()}function ob(){var ze=fi();tt||(tt=Object(D.default)($).getInstance()),ut||(ut=Object(V.default)($).create({errHandler:Te,manifestModel:Dt,adapter:$t,mediaController:at,videoModel:kt,settings:ue})),st.setConfig({capabilities:Ye,customParametersModel:De,adapter:$t,settings:ue,manifestModel:Dt,errHandler:Te}),tt.setConfig({capabilities:Ye,capabilitiesFilter:st,manifestLoader:ze,manifestModel:Dt,mediaPlayerModel:Jt,customParametersModel:De,protectionController:ht,textController:ut,adapter:$t,dashMetrics:mt,errHandler:Te,timelineConverter:nt,videoModel:kt,playbackController:gt,serviceDescriptionController:Be,contentSteeringController:Ze,abrController:$e,mediaController:at,settings:ue,baseURLController:Ne,uriFragmentModel:mn,segmentBaseController:Fn}),yt.setConfig({settings:ue,playbackController:gt,streamController:tt,videoModel:kt,timelineConverter:nt,adapter:$t}),gt.setConfig({streamController:tt,serviceDescriptionController:Be,dashMetrics:mt,adapter:$t,videoModel:kt,timelineConverter:nt,settings:ue}),rt.setConfig({streamController:tt,playbackController:gt,mediaPlayerModel:Jt,videoModel:kt,settings:ue}),$e.setConfig({streamController:tt,domStorage:un,mediaPlayerModel:Jt,customParametersModel:De,dashMetrics:mt,adapter:$t,videoModel:kt,settings:ue}),Ot.setConfig({abrController:$e,dashMetrics:mt,playbackController:gt}),Ze.setConfig({adapter:$t,errHandler:Te,dashMetrics:mt,mediaPlayerModel:Jt,manifestModel:Dt,abrController:$e,eventBus:ce,requestModifier:Object(p.default)($).getInstance()}),$e.initialize(),tt.initialize(Le,Ue),ut.initialize(),yt.initialize(),rt.initialize(),Ot.initialize(),Ze.initialize(),Fn.initialize()}function fi(){return Object(S.default)($).create({debug:be,errHandler:Te,dashMetrics:mt,mediaPlayerModel:Jt,requestModifier:Object(p.default)($).getInstance(),mssHandler:Ht,settings:ue})}function Li(){if(ht)return ht;var ze=dashjs.Protection;if("function"==typeof ze){var It=ze($).create();return x.default.extend(ze.events),Y.default.extend(ze.events,{publicOnly:!0}),H.default.extend(ze.errors),Ye||(Ye=Object(b.default)($).getInstance()),ht=It.createProtectionSystem({debug:be,errHandler:Te,videoModel:kt,customParametersModel:De,capabilities:Ye,eventBus:ce,events:x.default,BASE64:fe.a,constants:I.default,cmcdModel:Ot,settings:ue})}return null}function sl(){if(!Ce)throw j;if(Bt)return Bt;var ze=dashjs.OfflineController;if("function"==typeof ze){x.default.extend(ze.events),Y.default.extend(ze.events,{publicOnly:!0}),H.default.extend(ze.errors);var It=fi(),an=Object(ne.default)($).create();return an.setConfig({manifestModel:Dt,adapter:$t,manifestLoader:It,errHandler:Te}),Bt=ze($).create({debug:be,manifestUpdater:an,baseURLController:Ne,manifestLoader:It,manifestModel:Dt,mediaPlayerModel:Jt,abrController:$e,playbackController:gt,adapter:$t,errHandler:Te,dashMetrics:mt,timelineConverter:nt,segmentBaseController:Fn,schemeLoaderFactory:Je,eventBus:ce,events:x.default,errors:H.default,constants:I.default,settings:ue,dashConstants:w.default,urlUtils:Object(X.default)($).getInstance()})}return null}function ll(ze){var It=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,an=mt.getCurrentDVRInfo(It);return an?ze+(an.manifestInfo.availableFrom.getTime()/1e3+an.range.start):0}function Vu(){var ze=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Bt&&Bt.resetRecords(),!Oe&&we&&(Oe=!0,Pe.info("Streaming Initialized"),ob(),"string"==typeof we?tt.load(we,ze):tt.loadWithManifest(we,ze)),!Ge&&Xe()&&(Ge=!0,Pe.info("Playback Initialized"))}return Re={initialize:function it(ze,It,an){var Kt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;Ye||(Ye=Object(b.default)($).getInstance()).setConfig({settings:ue}),Te||(Te=Object(O.default)($).getInstance()),Ye.supportsMediaSource()?(Ce||(Ce=!0,nt=Object(ae.default)($).getInstance(),$e||($e=Object(E.default)($).getInstance()).setConfig({settings:ue}),Je||(Je=Object(L.default)($).getInstance()),gt||(gt=Object(R.default)($).getInstance()),at||(at=Object(_.default)($).getInstance()),tt||(tt=Object(D.default)($).getInstance()),yt||(yt=Object(c.default)($).getInstance()),rt||(rt=Object(l.default)($).getInstance()),Be||(Be=Object(d.default)($).getInstance()),Ze||(Ze=Object(f.default)($).getInstance()),st||(st=Object(v.default)($).getInstance()),$t=Object(J.default)($).getInstance(),Dt=Object(g.default)($).getInstance(),Ot=Object(ee.default)($).getInstance(),mt=Object(de.default)($).getInstance({settings:ue}),un=Object(Q.default)($).getInstance({settings:ue}),$t.setConfig({constants:I.default,cea608parser:T.a,errHandler:Te,BASE64:fe.a}),Ne||(Ne=Object(N.default)($).create()),Ne.setConfig({adapter:$t}),Be.setConfig({adapter:$t}),Fn||(Fn=Object(ve.default)($).getInstance({dashMetrics:mt,mediaPlayerModel:Jt,errHandler:Te,baseURLController:Ne,events:x.default,eventBus:ce,debug:be,boxParser:Object(F.default)($).getInstance(),requestModifier:Object(p.default)($).getInstance(),errors:H.default})),at.setConfig({domStorage:un,settings:ue,customParametersModel:De}),Jt.setConfig({playbackController:gt,serviceDescriptionController:Be}),nl(),Na(void 0===an||an),sl()),ze&&pr(ze),It&&lt(It,Kt),Pe.info("[dash.js "+sn()+"] MediaPlayer has been initialized")):Te.error(new Se.default(H.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,H.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Ae(ze){!ze||(ze.capabilities&&(Ye=ze.capabilities),ze.capabilitiesFilter&&(st=ze.capabilitiesFilter),ze.streamController&&(tt=ze.streamController),ze.textController&&(ut=ze.textController),ze.gapController&&(yt=ze.gapController),ze.playbackController&&(gt=ze.playbackController),ze.serviceDescriptionController&&(Be=ze.serviceDescriptionController),ze.contentSteeringController&&(Ze=ze.contentSteeringController),ze.catchupController&&(rt=ze.catchupController),ze.mediaPlayerModel&&(Jt=ze.mediaPlayerModel),ze.customParametersModel&&(De=ze.customParametersModel),ze.abrController&&($e=ze.abrController),ze.schemeLoaderFactory&&(Je=ze.schemeLoaderFactory),ze.mediaController&&(at=ze.mediaController),ze.settings&&(ue=ze.settings))},on:function ct(ze,It,an,Kt){ce.on(ze,It,an,Kt)},off:function At(ze,It,an){ce.off(ze,It,an)},extend:function Lp(ze,It,an){z.default.extend(ze,It,an,$)},attachView:pr,attachSource:lt,isReady:Xe,play:function He(){if(!Ge)throw Ee;(!Le||qe()&&Ge)&&gt.play(!0)},isPaused:qe,pause:function Fe(){if(!Ge)throw Ee;gt.pause()},isSeeking:function Mt(){if(!Ge)throw Ee;return gt.isSeeking()},isDynamic:Ke,getLowLatencyModeEnabled:function Et(){if(!Ge)throw Ee;return gt.getLowLatencyModeEnabled()},seek:function dt(ze){if(!Ge)throw Ee;if(Object(ge.checkParameterType)(ze,"number"),isNaN(ze))throw I.default.BAD_ARGUMENT_ERROR;ze<0&&(ze=0);var It=gt.getIsDynamic()?_t(ze):ze,an=or();!gt.getIsDynamic()&&an.duration&&(It=Math.min(an.duration,It)),gt.seek(It,!1,!1,!0)},seekToOriginalLive:function xt(){!Ge||!Ke()||gt.seekToOriginalLive()},setPlaybackRate:function Ut(ze){or().playbackRate=ze},getPlaybackRate:function Qt(){return or().playbackRate},setMute:function nn(ze){Object(ge.checkParameterType)(ze,"boolean"),or().muted=ze},isMuted:function Wt(){return or().muted},setVolume:function Kn(ze){if("number"!=typeof ze||isNaN(ze)||ze<0||ze>1)throw I.default.BAD_ARGUMENT_ERROR;or().volume=ze},getVolume:function Gn(){return or().volume},time:dn,duration:xn,timeAsUTC:function Oa(){if(!Ge)throw Ee;return dn()<0?NaN:ll(dn())},durationAsUTC:function ea(){if(!Ge)throw Ee;return ll(xn())},getActiveStream:ol,getDVRWindowSize:function xi(){var ze=tt&&tt.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,It=mt.getCurrentDVRInfo(ze);return It?It.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:_t,getTargetLiveDelay:function di(){if(!Ge)throw Ee;return gt.getOriginalLiveDelay()},convertToTimeCode:function cs(ze){ze=Math.max(ze,0);var It=Math.floor(ze/3600),an=Math.floor(ze%3600/60),Kt=Math.floor(ze%3600%60);return(0===It?"":It<10?"0"+It.toString()+":":It.toString()+":")+(an<10?"0"+an.toString():an.toString())+":"+(Kt<10?"0"+Kt.toString():Kt.toString())},formatUTC:function ju(ze,It,an){var Kt=arguments.length>3&&void 0!==arguments[3]&&arguments[3],fr=new Date(1e3*ze),Fa=fr.toLocaleDateString(It),na=fr.toLocaleTimeString(It,{hour12:an});return Kt?na+" "+Fa:na},getVersion:sn,getDebug:function Xt(){return be},getBufferLength:function Oi(ze){var It=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT];if(ze)return-1!==It.indexOf(ze)?pt().getCurrentBufferLevel(ze)||NaN:(Pe.warn("getBufferLength requested for invalid type"),NaN);var an=It.map(function(fr){return pf(fr).length>0?pt().getCurrentBufferLevel(fr):Number.MAX_VALUE}).reduce(function(fr,Fa){return Math.min(fr,Fa)});return an===Number.MAX_VALUE?NaN:an},getTTMLRenderingDiv:function ro(){return kt?kt.getTTMLRenderingDiv():null},getVideoElement:or,getSource:function La(){if(!we)throw"You must first call attachSource() with a valid source before calling this method";return we},updateSource:function Np(ze){tt.load(we=ze)},getCurrentLiveLatency:function no(){if(!Ce)throw j;return Ge?gt.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function xa(ze){if(!Oe)throw me;return $e.getTopBitrateInfoFor(ze)},setAutoPlay:Na,getAutoPlay:function Lu(){return Le},getDashMetrics:pt,getQualityFor:function to(ze){if(!Oe)throw me;if(ze===I.default.IMAGE){var It=ol();if(!It)return-1;var an=It.getThumbnailController();return an?an.getCurrentTrackIndex():-1}return $e.getQualityFor(ze)},setQualityFor:function Gr(ze,It){var an=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Oe)throw me;if(ze===I.default.IMAGE){var Kt=ol();if(!Kt)return;var fr=Kt.getThumbnailController();fr&&fr.setTrackByIndex(It)}$e.setPlaybackQuality(ze,tt.getActiveStreamInfo(),It,{forceReplace:an})},updatePortalSize:function os(){$e.setElementSize(),$e.setWindowResizeEventCalled(!0)},enableText:function et(ze){var It=tt.getActiveStreamInfo();return!(!It||!ut)&&ut.enableText(It.id,ze)},enableForcedTextStreaming:function ln(ze){return!(!tt.getActiveStreamInfo()||!ut)&&ut.enableForcedTextStreaming(ze)},isTextEnabled:function jt(){var ze=tt.getActiveStreamInfo();return!(!ze||!ut)&&ut.isTextEnabled(ze)},setTextTrack:function En(ze){if(!Ge)throw Ee;var It=tt.getActiveStreamInfo();!It||!ut||ut.setTextTrack(It.id,ze)},getBitrateInfoListFor:function Bu(ze){if(!Oe)throw me;var It=ol();return It?It.getBitrateListFor(ze):[]},getStreamsFromManifest:function mf(ze){if(!Oe)throw me;return $t.getStreamsInfo(ze)},getTracksFor:pf,getTracksForTypeFromManifest:function hn(ze,It,an){if(!Oe)throw me;return(an=an||$t.getStreamsInfo(It,1)[0])?$t.getAllMediaInfoForType(an,ze,It):[]},getCurrentTrackFor:function ku(ze){if(!Oe)throw me;var It=tt.getActiveStreamInfo();return at.getCurrentTrackFor(ze,It.id)},setInitialMediaSettingsFor:function wp(ze,It){if(!Ce)throw j;at.setInitialSettings(ze,It)},getInitialMediaSettingsFor:function Mi(ze){if(!Ce)throw j;return at.getInitialSettings(ze)},setCurrentTrack:function gf(ze){if(!Oe)throw me;at.setTrack(ze)},addABRCustomRule:function ta(ze,It,an){De.addAbrCustomRule(ze,It,an)},removeABRCustomRule:function df(ze){De.removeAbrCustomRule(ze)},removeAllABRCustomRule:function ff(){De.removeAllAbrCustomRule()},getABRCustomRules:function el(){return De.getAbrCustomRules()},getAverageThroughput:function xr(ze){var It=$e.getThroughputHistory(),an=gt.getIsDynamic();return It?It.getAverageThroughput(ze,an):0},retrieveManifest:function us(ze,It){var an=fi(),Kt=this;ce.on(x.default.INTERNAL_MANIFEST_LOADED,function Fa(na){na.error?It(null,na.error):It(na.manifest),ce.off(x.default.INTERNAL_MANIFEST_LOADED,Fa,Kt),an.reset()},Kt),mn.initialize(ze),an.load(ze)},addUTCTimingSource:function tl(ze,It){De.addUTCTimingSource(ze,It)},removeUTCTimingSource:function hf(ze,It){De.removeUTCTimingSource(ze,It)},clearDefaultUTCTimingSources:function Fu(){De.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:nl,setXHRWithCredentialsForType:function Ln(ze,It){De.setXHRWithCredentialsForType(ze,It)},getXHRWithCredentialsForType:function as(ze){return De.getXHRWithCredentialsForType(ze)},getProtectionController:function Pp(){return Li()},attachProtectionController:function Op(ze){ht=ze},setProtectionData:function xp(ze){Ue=ze,tt&&tt.setProtectionData(Ue)},registerLicenseRequestFilter:function ib(ze){De.registerLicenseRequestFilter(ze)},registerLicenseResponseFilter:function ls(ze){De.registerLicenseResponseFilter(ze)},unregisterLicenseRequestFilter:function Uu(ze){De.unregisterLicenseRequestFilter(ze)},unregisterLicenseResponseFilter:function rl(ze){De.unregisterLicenseResponseFilter(ze)},registerCustomCapabilitiesFilter:function tb(ze){De.registerCustomCapabilitiesFilter(ze)},unregisterCustomCapabilitiesFilter:function Jn(ze){De.unregisterCustomCapabilitiesFilter(ze)},setCustomInitialTrackSelectionFunction:function nb(ze){De.setCustomInitialTrackSelectionFunction(ze)},resetCustomInitialTrackSelectionFunction:function rb(){De.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function ss(ze){if(!kt.getElement())throw q;kt.setTTMLRenderingDiv(ze)},attachVttRenderingDiv:function Ro(ze){if(!kt.getElement())throw q;kt.setVttRenderingDiv(ze)},getCurrentTextTrackIndex:function Un(){var It=tt.getActiveStreamInfo();if(It&&ut)return ut.getCurrentTrackIdx(It.id)},provideThumbnail:function _f(ze,It){if("function"==typeof It){if(ze<0)return void It(null);var an=gt.getIsDynamic()?_t(ze):ze,Kt=tt.getStreamForTime(an);if(null===Kt)return void It(null);var fr=Kt.getThumbnailController();return fr?fr.provide(an,It):void It(null)}},getDashAdapter:function Fp(){return $t},getOfflineController:function We(){return sl()},triggerSteeringRequest:function wo(){if(Ze)return Ze.loadSteeringData()},getCurrentSteeringResponseData:function Ni(){if(Ze)return Ze.getCurrentSteeringResponseData()},getSettings:function vf(){return ue.get()},updateSettings:function vn(ze){ue.update(ze)},resetSettings:function il(){ue.reset()},reset:Ct,destroy:function je(){Ct(),z.default.deleteSingletonInstances($)}},function nr(){Pe=be.getLogger(Re),Ce=!1,Ge=!1,Oe=!1,Le=!0,ht=null,Bt=null,Ue=null,$t=null,Fn=null,x.default.extend(Y.default),Jt=Object(A.default)($).getInstance(),De=Object(re.default)($).getInstance(),kt=Object(G.default)($).getInstance(),mn=Object(y.default)($).getInstance()}(),Re}k.__dashjs_factory_name="MediaPlayer";var te=z.default.getClassFactory(k);te.events=Y.default,te.errors=H.default,z.default.updateClassFactory(k.__dashjs_factory_name,te),U.default=te},"./src/streaming/MediaPlayerEvents.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).AST_IN_FUTURE="astInFuture",g.BUFFER_EMPTY="bufferStalled",g.BUFFER_LOADED="bufferLoaded",g.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",g.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",g.DYNAMIC_TO_STATIC="dynamicToStatic",g.ERROR="error",g.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",g.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",g.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",g.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",g.LOG="log",g.MANIFEST_LOADED="manifestLoaded",g.METRICS_CHANGED="metricsChanged",g.METRIC_CHANGED="metricChanged",g.METRIC_ADDED="metricAdded",g.METRIC_UPDATED="metricUpdated",g.PERIOD_SWITCH_STARTED="periodSwitchStarted",g.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",g.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",g.QUALITY_CHANGE_RENDERED="qualityChangeRendered",g.TRACK_CHANGE_RENDERED="trackChangeRendered",g.STREAM_INITIALIZING="streamInitializing",g.STREAM_UPDATED="streamUpdated",g.STREAM_ACTIVATED="streamActivated",g.STREAM_DEACTIVATED="streamDeactivated",g.STREAM_INITIALIZED="streamInitialized",g.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",g.TEXT_TRACKS_ADDED="allTextTracksAdded",g.TEXT_TRACK_ADDED="textTrackAdded",g.TTML_PARSED="ttmlParsed",g.TTML_TO_PARSE="ttmlToParse",g.CAPTION_RENDERED="captionRendered",g.CAPTION_CONTAINER_RESIZE="captionContainerResize",g.CAN_PLAY="canPlay",g.CAN_PLAY_THROUGH="canPlayThrough",g.PLAYBACK_ENDED="playbackEnded",g.PLAYBACK_ERROR="playbackError",g.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",g.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",g.PLAYBACK_LOADED_DATA="playbackLoadedData",g.PLAYBACK_PAUSED="playbackPaused",g.PLAYBACK_PLAYING="playbackPlaying",g.PLAYBACK_PROGRESS="playbackProgress",g.PLAYBACK_RATE_CHANGED="playbackRateChanged",g.PLAYBACK_SEEKED="playbackSeeked",g.PLAYBACK_SEEKING="playbackSeeking",g.PLAYBACK_STALLED="playbackStalled",g.PLAYBACK_STARTED="playbackStarted",g.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",g.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",g.PLAYBACK_WAITING="playbackWaiting",g.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",g.EVENT_MODE_ON_START="eventModeOnStart",g.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",g.CONFORMANCE_VIOLATION="conformanceViolation",g.REPRESENTATION_SWITCH="representationSwitch",g.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",g.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/events/EventsBase.js").default));U.default=b},"./src/streaming/MediaPlayerFactory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/MediaPlayer.js");var w,I=function T(){var l,c="application/dash+xml";function d(N,S,O){if(!N||!/^VIDEO$/i.test(N.nodeName))return null;if(N._dashjs_player)return N._dashjs_player;var b,v=N.id||N.name||"video element";if(!(S=S||[].slice.call(N.querySelectorAll("source")).filter(function(p){return p.type==c})[0])&&N.src)(S=document.createElement("source")).src=N.src;else if(!S&&!N.src)return null;return O=O||{},(b=Object(M.default)(O).create()).initialize(N,S.src,N.autoplay),l||(l=b.getDebug().getLogger()),l.debug("Converted "+v+" to dash.js player and added content: "+S.src),N._dashjs_player=b,b}function _(N){return/^VIDEO$/i.test(N.nodeName)?N:_(N.parentNode)}return{create:d,createAll:function f(N,S){var O=[];N=N||"[data-dashjs-player]";for(var b=(S=S||document).querySelectorAll(N),v=0;v<b.length;v++){var p=d(b[v],null);O.push(p)}for(var y=S.querySelectorAll('source[type="'+c+'"]'),g=0;g<y.length;g++){var E=d(_(y[g]),null);O.push(E)}return O}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?I.createAll():w=window.setInterval(function R(){window.dashjs&&(window.clearInterval(w),I.createAll())},500):window.addEventListener("load",function P(){window.removeEventListener("load",P),I.createAll()})),U.default=I},"./src/streaming/SourceBufferSink.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/streaming/vo/DashJSError.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/core/errors/Errors.js"),P=m("./src/core/Settings.js"),R=m("./src/streaming/constants/Constants.js"),D=m("./src/streaming/vo/metrics/HTTPRequest.js"),c=m("./src/core/events/Events.js");function _(S){var y,g,A,E,L,G,O=this.context,b=Object(P.default)(O).getInstance(),v=S.textController,p=S.eventBus,ee=[],Q=[],le=!1,H=S.mediaSource,W=null;function z(Ee){return new Promise(function(q){me(function(){E.changeType&&E.changeType(Ee),q()})})}function ve(Ee){return E=v.getTextSourceBuffer(Ee),Promise.resolve()}function J(){if("function"==typeof E.addEventListener)try{E.addEventListener("updateend",re,!1),E.addEventListener("error",k,!1),E.addEventListener("abort",k,!1)}catch{G=setInterval(re,50)}else G=setInterval(re,50)}function pe(Ee){return new Promise(function(q){E&&b.get().streaming.buffer.useAppendWindow?me(function(){try{if(!E)return void q();var K=H.duration,j=0;Ee&&!isNaN(Ee.start)&&!isNaN(Ee.duration)&&isFinite(Ee.duration)&&(K=Ee.start+Ee.duration),Ee&&!isNaN(Ee.start)&&(j=Ee.start),(E.appendWindowEnd!==K||E.appendWindowStart!==j)&&(E.appendWindowStart=0,E.appendWindowEnd=K+.01,E.appendWindowStart=Math.max(j-.1,0),A.debug("Updated append window for ".concat(L.type,". Set start to ").concat(E.appendWindowStart," and end to ").concat(E.appendWindowEnd))),q()}catch{A.warn("Failed to set append window"),q()}}):q()})}function he(Ee){return new Promise(function(q){E?me(function(){try{E.timestampOffset!==Ee&&!isNaN(Ee)&&(E.timestampOffset=Ee,A.debug("Set MSE timestamp offset to ".concat(Ee))),q()}catch{q()}}):q()})}function X(){if(!le&&Q.length>0){le=!0;var Ee=Q[0];Q.splice(0,1);var q=function(){le=!1,Q.length>0&&X.call(this),Ee&&Ee.data&&Ee.data.segmentType&&Ee.data.segmentType!==D.HTTPRequest.INIT_SEGMENT_TYPE&&delete Ee.data.bytes,Ee.promise.resolve({chunk:Ee.data})};try{W=Ee.request,0===Ee.data.bytes.byteLength?q.call(this):(E.appendBuffer?E.appendBuffer(Ee.data.bytes):E.append(Ee.data.bytes,Ee.data),me(q.bind(this)))}catch(K){A.fatal('SourceBuffer append failed "'+K+'"'),Q.length>0?X():le=!1,delete Ee.data.bytes,Ee.promise.reject({chunk:Ee.data,error:new T.default(K.code,K.message)})}}}function V(){ee.length>0&&!E.updating&&(ee.shift()(),V())}function re(){E.updating||V()}function k(Ee){!function te(Ee,q){p.trigger(Ee,q||{},{streamId:L.streamInfo.id,mediaType:g})}(c.default.SOURCE_BUFFER_ERROR,{error:Ee.target||{},lastRequestAppended:W})}function me(Ee){ee.push(Ee),E.updating||V()}return y={getType:function de(){return g},getAllBufferRanges:function se(){try{return E.buffered}catch(Ee){return A.error("getAllBufferRanges exception: "+Ee.message),null}},getBuffer:function _e(){return E},append:function Se(Ee){var q=this,K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(j,$){Ee?(Q.push({data:Ee,promise:{resolve:j,reject:$},request:K}),me(X.bind(q))):$({chunk:Ee,error:new T.default(w.default.APPEND_ERROR_CODE,w.default.APPEND_ERROR_MESSAGE)})})},remove:function ne(Ee){return new Promise(function(q,K){var j=Ee.start,$=Ee.end;j>=0&&$>j?me(function(){try{E.remove(j,$),me(function(){q({from:j,to:$,unintended:!1}),Ee.resolve&&Ee.resolve()})}catch(ce){K({from:j,to:$,unintended:!1,error:new T.default(w.default.REMOVE_ERROR_CODE,w.default.REMOVE_ERROR_MESSAGE)}),Ee.reject&&Ee.reject(ce)}}):q()})},abort:function F(){return new Promise(function(Ee){try{Q=[],"open"===H.readyState?me(function(){try{E&&E.abort(),Ee()}catch{Ee()}}):(E&&E.setTextTrack&&"ended"===H.readyState&&E.abort(),Ee())}catch{Ee()}})},reset:function fe(){if(E){try{ee=[],function ae(){try{"function"==typeof E.removeEventListener&&(E.removeEventListener("updateend",re,!1),E.removeEventListener("error",k,!1),E.removeEventListener("abort",k,!1)),clearInterval(G)}catch(Ee){A.error(Ee)}}(),le=!1,Q=[],(!E.getClassName||"TextSourceBuffer"!==E.getClassName())&&(A.debug("Removing sourcebuffer from media source"),H.removeSourceBuffer(E))}catch{}E=null}W=null},updateTimestampOffset:he,initializeForStreamSwitch:function Y(Ee,q,K){g=(L=Ee).type;var j=L.codec;(function ie(Ee){E=Ee.getBuffer()})(K),J();var $=[];return $.push(function ge(){return new Promise(function(Ee){me(function(){var q=E.appendWindowStart,K=E.appendWindowEnd;E&&(E.abort(),E.appendWindowStart=q,E.appendWindowEnd=K),Ee()})})}()),$.push(pe(L.streamInfo)),$.push(z(j)),q&&void 0!==q.MSETimeOffset&&$.push(he(q.MSETimeOffset)),Promise.all($)},initializeForFirstUse:function oe(Ee,q,K){g=(L=q).type;var j=L.codec;try{if(j.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return ve(Ee);E=H.addSourceBuffer(j),J();var $=[];return $.push(pe(L.streamInfo)),K&&void 0!==K.MSETimeOffset&&$.push(he(K.MSETimeOffset)),Promise.all($)}catch(ce){return L.type==R.default.TEXT&&!L.isFragmented||-1!==j.indexOf('codecs="stpp')||-1!==j.indexOf('codecs="vtt')?ve(Ee):Promise.reject(ce)}},updateAppendWindow:pe,changeType:z},function x(){A=Object(M.default)(O).getInstance().getLogger(y)}(),y}_.__dashjs_factory_name="SourceBufferSink";var N=I.default.getClassFactory(_);U.default=N},"./src/streaming/Stream.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/streaming/StreamProcessor.js"),w=m("./src/streaming/controllers/FragmentController.js"),P=m("./src/streaming/thumbnail/ThumbnailController.js"),R=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js"),c=m("./src/core/Debug.js"),l=m("./src/core/errors/Errors.js"),d=m("./src/core/FactoryMaker.js"),f=m("./src/streaming/vo/DashJSError.js"),_=m("./src/streaming/utils/BoxParser.js"),N=m("./src/streaming/utils/URLUtils.js"),S=m("./src/streaming/controllers/BlacklistController.js"),O=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT,M.default.MUXED,M.default.IMAGE];function b(v){v=v||{};var ae,pe,he,fe,_e,se,Se,ge,ne,X,F,V,re,k,te,me,Ee,q,p=this.context,y=Object(R.default)(p).getInstance(),g=Object(N.default)(p).getInstance(),A=v.manifestModel,E=v.mediaPlayerModel,L=v.dashMetrics,G=v.manifestUpdater,ee=v.adapter,Q=v.timelineConverter,le=v.capabilities,H=v.errHandler,W=v.abrController,x=v.playbackController,Y=v.eventController,z=v.mediaController,ie=v.protectionController,oe=v.textController,ve=v.videoModel,J=v.streamInfo,de=v.settings;function Ce(Fe,qe){return new Promise(function(dt,xt){tt(),X=!0,Ze();var Mt=ve.getElement();O.forEach(function(Ke){(Ke!==M.default.VIDEO||!Mt||Mt&&/^VIDEO$/i.test(Mt.nodeName))&&function Oe(Fe,qe){var Ke,dt=ee.getAllMediaInfoForType(J,Fe),xt=[],Mt=null;if(dt&&0!==dt.length){Fe===M.default.VIDEO&&(Se=!0),Fe===M.default.AUDIO&&(ge=!0);for(var Et=0,Ut=dt.length;Et<Ut;Et++)Mt=dt[Et],Fe===M.default.TEXT&&!!Mt.isEmbedded&&(oe.addEmbeddedTrack(J,Mt),xt.push(Mt)),Ge(Mt)&&z.addTrack(Mt);if(xt.length>0&&(z.setInitialMediaSettingsForType(Fe,J),oe.addMediaInfosToBuffer(J,Fe,xt)),0!==(dt=dt.filter(function(nn){return!nn.isEmbedded})).length){if(Fe===M.default.IMAGE)return void(V=Object(P.default)(p).create({streamInfo:J,adapter:ee,baseURLController:v.baseURLController,timelineConverter:v.timelineConverter,debug:me,eventBus:y,events:D.default,dashConstants:T.default,dashMetrics:v.dashMetrics,segmentBaseController:v.segmentBaseController})).initialize();y.trigger(D.default.STREAM_INITIALIZING,{streamInfo:J,mediaInfo:Mt}),z.setInitialMediaSettingsForType(Fe,J);var Qt=function Le(Fe,qe){var dt=Fe&&Fe.length>0?Fe[0]:null,xt=F.getModel(dt?dt.type:null),Mt=dt?dt.type:null,Ke=dt?dt.mimeType:null,Et=dt?dt.isFragmented:null,Ut=Object(I.default)(p).create({streamInfo:J,type:Mt,mimeType:Ke,timelineConverter:Q,adapter:ee,manifestModel:A,mediaPlayerModel:E,fragmentModel:xt,dashMetrics:v.dashMetrics,baseURLController:v.baseURLController,segmentBaseController:v.segmentBaseController,abrController:W,playbackController:x,mediaController:z,textController:oe,errHandler:H,settings:de,boxParser:te,segmentBlacklistController:re});Ut.initialize(qe,Se,Et),he.push(Ut);for(var Qt=0;Qt<Fe.length;Qt++)Ut.addMediaInfo(Fe[Qt]);return Mt===M.default.TEXT&&oe.addMediaInfosToBuffer(J,Mt,Fe,xt),Ut}(dt,qe);(Ke=z.getCurrentTrackFor(Fe,J.id))&&(W.updateTopQualityIndex(Ke),Qt.selectMediaInfo(Fe===M.default.TEXT&&Ke.isEmbedded?dt[0]:Ke))}}else pe.info("No "+Fe+" data.")}(Ke,Fe)}),function $e(Fe){return new Promise(function(qe){var dt={},xt=he.map(function(Mt){return Mt.createBufferSinks(Fe)});Promise.all(xt).then(function(Mt){Mt.forEach(function(Ke){Ke&&(dt[Ke.getType()]=Ke)}),qe(dt)}).catch(function(){qe(dt)})})}(qe).then(function(Ke){if(X=!1,0===he.length){var Et="No streams to play.";H.error(new f.default(l.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Et,A.getValue())),pe.fatal(Et)}else rt();oe.createTracks(J),dt(Ke)}).catch(function(Ke){xt(Ke)})})}function Ge(Fe){var qe=Fe?Fe.type:null;return qe===M.default.MUXED?(pe.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),H.error(new f.default(l.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",A.getValue())),!1):!(qe!==M.default.TEXT&&qe!==M.default.IMAGE&&Fe.contentProtection&&!le.supportsEncryptedMedia()&&(H.error(new f.default(l.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,l.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Je(Fe){for(var qe=he?he.length:0,xt=0;xt<qe;xt++){var Mt=he[xt].getFragmentModel();Mt.abortRequests(),Mt.resetInitialSettings(),he[xt].reset(false,Fe)}oe&&oe.deactivateStream(J),he=[],_e=!1,se=!1,At(!1),$t(!1),y.trigger(D.default.STREAM_DEACTIVATED,{streamInfo:J})}function ht(Fe){Je(Fe),fe=!1,Se=!1,ge=!1,ne={},X=!1,Ee=!1,q=[]}function $t(Fe){Ee=Fe}function Jt(){return J?J.start:NaN}function De(){return J?J.id:null}function Te(){return J}function tt(){if(!ve||!W)throw new Error(M.default.MISSING_CONFIG_ERROR)}function yt(Fe){Fe.error&&(H.error(Fe.error),pe.fatal(Fe.error.message))}function Ze(){if(Y){var Fe=ee.getEventsFor(J);Fe&&Fe.length>0&&Y.addInlineEvents(Fe,J.id)}}function rt(){for(var Fe=he.length,dt=ne.audio||ne.video?new f.default(l.default.DATA_UPDATE_FAILED_ERROR_CODE,l.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,xt=0;xt<Fe;xt++)if(he[xt].isUpdating()||X)return;if(ie){ie.clearMediaInfoArray();for(var Mt=0;Mt<Fe&&he[Mt];Mt++){var Ke=he[Mt].getType(),Et=he[Mt].getMediaInfo();if(Ke===M.default.AUDIO||Ke===M.default.VIDEO||Ke===M.default.TEXT&&Et.isFragmented){var Ut=he[Mt].getMediaInfo();Ut&&ie.initializeForMedia(Ut)}}ie.handleKeySystemFromManifest()}dt?H.error(dt):fe||(fe=!0,ve.waitForReadyState(M.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){y.trigger(D.default.STREAM_INITIALIZED,{streamInfo:J})}))}function Dt(){var Fe=Fn(),qe=Fe.length;if(0!==qe){for(var dt=0;dt<qe;dt++)if(!Fe[dt].isBufferingCompleted()&&(Fe[dt].getType()===M.default.AUDIO||Fe[dt].getType()===M.default.VIDEO))return void pe.debug("onBufferingCompleted - One streamProcessor has finished but",Fe[dt].getType(),"one is not buffering completed");pe.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),se=!0,y.trigger(D.default.STREAM_BUFFERING_COMPLETED,{streamInfo:J},{streamInfo:J})}else pe.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Ot(Fe){ne[Fe.mediaType]=Fe.error,rt()}function kt(Fe){Y&&Y.addInbandEvents(Fe.events,J.id)}function mn(Fe){return Fe&&Fe.type?un(Fe.type):null}function un(Fe){return Fe?Fn().filter(function(dt){return dt.getType()===Fe})[0]:null}function Fn(){for(var qe,dt,Fe=[],xt=0;xt<he.length;xt++)((qe=(dt=he[xt]).getType())===M.default.AUDIO||qe===M.default.VIDEO||qe===M.default.TEXT)&&Fe.push(dt);return Fe}function je(Fe,qe){var dt=Te(),xt=qe.getStreamInfo();if(!xt||!dt)return!0;var Mt=ee.getAdaptationForType(xt.index,Fe,xt),Ke=ee.getAdaptationForType(dt.index,Fe,dt);return Mt&&Ke?!(!Xe(Ke)&&Xe(Mt)):!Mt&&!Ke}function Xe(Fe){return!!Fe&&!!(Fe.ContentProtection||Fe.Representation&&Fe.Representation.length>0&&Fe.Representation[0].ContentProtection)}function ct(Fe,qe){var dt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Fe||!Fe.hasOwnProperty("getStreamInfo"))return!1;var xt=Fe.getStreamInfo(),Mt=dt?dt.getStreamInfo():Te();if(!xt||!Mt)return!1;var Ke=ee.getAdaptationForType(xt.index,qe,xt),Et=ee.getAdaptationForType(Mt.index,qe,Mt);if(!Ke||!Et)return!Ke&&!Et;var Ut=Ke&&Et&&Ke.mimeType===Et.mimeType,Qt=Et.Representation_asArray.map(function(Gn){return Gn.codecs}),nn=Ke.Representation_asArray.map(function(Gn){return Gn.codecs}),Wt=nn.some(function(Gn){return Qt.indexOf(Gn)>-1}),Kn=nn.some(function(Gn){return Qt.some(function(Oi){return le.codecRootCompatibleWithCodec(Oi,Gn)})});return Wt||Kn&&Ut}function At(Fe){k=Fe}function sn(){return k}return ae={initialize:function j(){(function $(){y.on(D.default.BUFFERING_COMPLETED,Dt,ae),y.on(D.default.DATA_UPDATE_COMPLETED,Ot,ae),y.on(D.default.INBAND_EVENTS,kt,ae)})(),function ue(){ie&&(y.on(D.default.KEY_ERROR,yt,ae),y.on(D.default.SERVER_CERTIFICATE_UPDATED,yt,ae),y.on(D.default.LICENSE_REQUEST_COMPLETE,yt,ae),y.on(D.default.KEY_SYSTEM_SELECTED,yt,ae),y.on(D.default.KEY_SESSION_CREATED,yt,ae),y.on(D.default.KEY_STATUSES_CHANGED,yt,ae))}(),oe.initializeForStream(J),y.trigger(D.default.STREAM_UPDATED,{streamInfo:J})},getStreamId:function Re(){return J?J.id:null},activate:function Pe(Fe,qe){return new Promise(function(dt,xt){if(!_e)return sn()?(_e=!0,y.trigger(D.default.STREAM_ACTIVATED,{streamInfo:J}),void dt(qe)):void function we(Fe,qe){return Ce(Fe,qe)}(Fe,qe).then(function(Mt){_e=!0,y.trigger(D.default.STREAM_ACTIVATED,{streamInfo:J}),dt(Mt)}).catch(function(Mt){xt(Mt)});dt(qe)})},deactivate:Je,getIsActive:function nt(){return _e},getDuration:function Ht(){return J?J.duration:NaN},getStartTime:Jt,getId:De,getStreamInfo:Te,getHasAudioTrack:function Ne(){return ge},getHasVideoTrack:function Ye(){return Se},startPreloading:function Ue(Fe,qe){return new Promise(function(dt,xt){sn()?xt():(pe.info("[startPreloading] Preloading next stream with id ".concat(De())),At(!0),Ce(Fe,qe).then(function(){for(var Mt=0;Mt<he.length&&he[Mt];Mt++)he[Mt].setExplicitBufferingTime(Jt()),he[Mt].getScheduleController().startScheduleTimer();dt()}).catch(function(){At(!1),xt()}))})},getThumbnailController:function st(){return V},getBitrateListFor:function ut(Fe){if(tt(),Fe===M.default.IMAGE)return V?V.getBitrateList():[];var qe=function mt(Fe){for(var qe=null,dt=0;dt<he.length;dt++)if((qe=he[dt]).getType()===Fe)return qe.getMediaInfo();return null}(Fe);return W.getBitrateList(qe)},updateData:function Ae(Fe){return new Promise(function(qe){X=!0,J=Fe,Y&&Ze();for(var dt=[],xt=0,Mt=he.length;xt<Mt;xt++){var Ke=he[xt],Et=Ke.getMediaInfo();dt.push(Ke.updateStreamInfo(J));var Ut=ee.getAllMediaInfoForType(J,Ke.getType());if(Ut){Ke.clearMediaInfoArray();for(var Qt=0;Qt<Ut.length;Qt++){var nn=Ut[Qt];Ke.addMediaInfo(Ut[Qt]),ee.areMediaInfosEqual(Et,nn)&&(W.updateTopQualityIndex(nn),dt.push(Ke.selectMediaInfo(nn)))}}}Promise.all(dt).then(function(){for(dt=[];q.length>0;){var Wt=q.pop(),Kn=Wt.newMediaInfo,Gn=mn(Wt.oldMediaInfo);if(!Gn)return;dt.push(Gn.prepareTrackSwitch()),Gn.selectMediaInfo(Kn)}return Promise.all(dt)}).then(function(){X=!1,rt(),y.trigger(D.default.STREAM_UPDATED,{streamInfo:J}),qe()})})},reset:function Rt(Fe){F&&(F.reset(),F=null),W&&J&&W.clearDataForStream(J.id),re&&(re.reset(),re=null),ht(Fe),J=null,function ce(){y.off(D.default.DATA_UPDATE_COMPLETED,Ot,ae),y.off(D.default.BUFFERING_COMPLETED,Dt,ae),y.off(D.default.INBAND_EVENTS,kt,ae)}(),function be(){ie&&(y.off(D.default.KEY_ERROR,yt,ae),y.off(D.default.SERVER_CERTIFICATE_UPDATED,yt,ae),y.off(D.default.LICENSE_REQUEST_COMPLETE,yt,ae),y.off(D.default.KEY_SYSTEM_SELECTED,yt,ae),y.off(D.default.KEY_SESSION_CREATED,yt,ae),y.off(D.default.KEY_STATUSES_CHANGED,yt,ae))}()},getProcessors:Fn,setMediaSource:function at(Fe){for(var qe=0;qe<he.length;)Ge(he[qe].getMediaInfo())?(he[qe].setMediaSource(Fe),qe++):(he[qe].reset(),he.splice(qe,1));if(0===he.length){var dt="No streams to play.";H.error(new f.default(l.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,dt+"nostreams",A.getValue())),pe.fatal(dt)}},isMediaCodecCompatible:function it(Fe){var qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ct(Fe,M.default.VIDEO,qe)&&ct(Fe,M.default.AUDIO,qe)},isProtectionCompatible:function Ct(Fe){return!Fe||je(M.default.VIDEO,Fe)&&je(M.default.AUDIO,Fe)},getPreloaded:sn,getIsEndedEventSignaled:function Bt(){return Ee},setIsEndedEventSignaled:$t,getAdapter:function He(){return ee},getHasFinishedBuffering:function Xt(){return se},setPreloaded:At,startScheduleControllers:function nr(){for(var Fe=he.length,qe=0;qe<Fe&&he[qe];qe++)he[qe].getScheduleController().startScheduleTimer()},prepareTrackChange:function gt(Fe){if(_e&&J){se=!1;var qe=Fe.newMediaInfo,dt=A.getValue();ee.setCurrentMediaInfo(J.id,qe.type,qe);var xt=mn(qe);if(xt){var Mt=x.getTime();pe.info("Stream -  Process track changed at current time "+Mt),dt.refreshManifestOnSwitchTrack?(q.push(Fe),G.getIsUpdating()||(pe.debug("Stream -  Refreshing manifest for switch track"),G.refreshManifest())):xt.selectMediaInfo(qe).then(function(){(qe.type===M.default.VIDEO||qe.type===M.default.AUDIO)&&W.updateTopQualityIndex(qe),xt.prepareTrackSwitch()})}}},prepareQualityChange:function Be(Fe){var qe=un(Fe.mediaType);qe&&qe.prepareQualityChange(Fe)}},function K(){try{me=Object(c.default)(p).getInstance(),pe=me.getLogger(ae),ht(),te=Object(_.default)(p).getInstance(),re=Object(S.default)(p).create({updateEventName:D.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:D.default.SEGMENT_LOCATION_BLACKLIST_ADD}),F=Object(w.default)(p).create({streamInfo:J,mediaPlayerModel:E,dashMetrics:L,errHandler:H,settings:de,boxParser:te,dashConstants:T.default,urlUtils:g})}catch(Fe){throw Fe}}(),ae}b.__dashjs_factory_name="Stream",U.default=d.default.getClassFactory(b)},"./src/streaming/StreamProcessor.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/streaming/constants/MetricsConstants.js"),w=m("./src/streaming/models/FragmentModel.js"),P=m("./src/streaming/controllers/BufferController.js"),R=m("./src/streaming/text/NotFragmentedTextBufferController.js"),D=m("./src/streaming/controllers/ScheduleController.js"),c=m("./src/dash/controllers/RepresentationController.js"),l=m("./src/core/FactoryMaker.js"),d=m("./src/streaming/utils/SupervisorTools.js"),f=m("./src/core/EventBus.js"),_=m("./src/core/events/Events.js"),N=m("./src/dash/DashHandler.js"),S=m("./src/core/errors/Errors.js"),O=m("./src/streaming/vo/DashJSError.js"),b=m("./src/core/Debug.js"),v=m("./src/streaming/utils/RequestModifier.js"),p=m("./src/streaming/utils/URLUtils.js"),y=m("./src/streaming/utils/BoxParser.js"),g=m("./src/streaming/vo/metrics/PlayList.js"),A=m("./src/dash/controllers/SegmentsController.js"),E=m("./src/streaming/vo/metrics/HTTPRequest.js");function L(G){G=G||{};var Se,ge,ne,X,F,V,re,k,te,me,Ee,q,K,ee=this.context,Q=Object(f.default)(ee).getInstance(),le=G.streamInfo,H=G.type,W=G.errHandler,x=G.mimeType,Y=G.timelineConverter,z=G.adapter,ie=G.manifestModel,oe=G.mediaPlayerModel,ve=G.fragmentModel,J=G.abrController,de=G.playbackController,ae=G.mediaController,pe=G.textController,he=G.dashMetrics,fe=G.settings,_e=G.boxParser,se=G.segmentBlacklistController;function ce(){return le.id}function ue(){return H}function be(){return z.getIsTextTrack(k.getData())}function Re(){F=[],X=null,K=0,te=!1,me=!1}function Oe(Ke){var Et=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Ke.sender){if(de.getIsManifestUpdateInProgress())return void at();if((!be()||pe.isTextEnabled())&&V&&Ke.representationId&&!V.appendInitSegmentFromCache(Ke.representationId)){var Ut=k.getCurrentRepresentation();if(0===Ut.range)return void Ge();var Qt=Ee?Ee.getInitRequest(X,Ut):null;Qt?ve.executeRequest(Qt):Et&&(re.setInitSegmentRequired(!0),at())}}}function Ge(Ke){var Et=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(de.getIsManifestUpdateInProgress()||V.getIsPruningInProgress())at();else{var Ut=nt();Ut?(te=!1,Le(Ut)):$e(Et)}}function Le(Ke){isNaN(Ke.startTime+Ke.duration)||(K=Ke.startTime+Ke.duration),Ke.delayLoadingTime=(new Date).getTime()+re.getTimeToLoadDelay(),re.setTimeToLoadDelay(0),function Je(Ke){var Et=Ke.url;return Ke.range&&(Et=Et.concat("_",Ke.range)),se.contains(Et)}(Ke)?(ge.warn("Fragment request url ".concat(Ke.url," for stream id ").concat(le.id," and media type ").concat(H," is on the ignore list and will be skipped")),at()):(ge.debug("Next fragment request url for stream id ".concat(le.id," and media type ").concat(H," is ").concat(Ke.url)),ve.executeRequest(Ke))}function $e(Ke){var Ut,Et=k.getCurrentRepresentation();if(!fe.get().streaming.gaps.enableSeekFix||!te&&0!==de.getTime()||(ne?ne&&Et.segmentInfoType===T.default.SEGMENT_TIMELINE&&(Ut=Ee.getValidTimeAheadOfTargetTime(K,X,Et,fe.get().streaming.gaps.threshold)):Ut=Ee.getValidTimeAheadOfTargetTime(K,X,Et,fe.get().streaming.gaps.threshold),isNaN(Ut)||Ut===K)){if(Ee.isLastSegmentRequested(Et,K)){var nn=Ee.getCurrentIndex();return ge.debug("Segment requesting for stream ".concat(le.id," has finished")),Q.trigger(_.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:nn},{streamId:le.id,mediaType:H}),V.segmentRequestingCompleted(nn),void re.clearScheduleTimer()}Ke&&at()}else de.isSeeking()||0===de.getTime()?(ge.warn("Adjusting playback time ".concat(Ut," because of gap in the manifest. Seeking by ").concat(Ut-K)),de.seek(Ut,!1,!1)):(ge.warn("Adjusting buffering time ".concat(Ut," because of gap in the manifest. Adjusting time by ").concat(Ut-K)),xt(Ut),Ke&&at())}function nt(){var Et,Ke=it();if(isNaN(K)||ue()===M.default.TEXT&&!pe.isTextEnabled())return null;var Ut=te;if(Ee){var Qt=k&&Ke?k.getRepresentationForQuality(Ke.quality):null;Et=Ut?Ee.getSegmentRequestForTime(X,Qt,K):Ee.getNextSegmentRequest(X,Qt)}return Et}function at(){re.startScheduleTimer(de.getLowLatencyModeEnabled()?fe.get().streaming.scheduling.lowLatencyTimeout:fe.get().streaming.scheduling.defaultTimeout)}function ht(Ke){Ke.error||(re.setCurrentRepresentation(z.convertRepresentationToRepresentationInfo(Ke.currentRepresentation)),V.getIsBufferingCompleted()||V.updateBufferTimestampOffset(Ke.currentRepresentation))}function Rt(Ke){he.addBufferState(H,Ke.state,re.getBufferTarget()),Ke.state===I.default.BUFFER_EMPTY&&!de.isSeeking()&&(ge.info("Buffer is empty! Stalling!"),he.pushPlayListTraceMetrics(new Date,g.PlayListTrace.REBUFFERING_REASON))}function Ht(Ke){ve.syncExecutedRequestsWithBufferedRange(V.getBuffer().getAllBufferRanges(),le.duration),Ke.quotaExceeded&&Ke.from>de.getTime()&&xt(Ke.from),Ke.hasEnoughSpaceToAppend&&Ke.quotaExceeded&&re.startScheduleTimer()}function Bt(Ke){if(Ke&&Ke.lastRequestAppended&&Ke.lastRequestAppended.url){var Et=Ke.lastRequestAppended.url;Ke.lastRequestAppended.range&&(Et=Et.concat("_",Ke.lastRequestAppended.range)),ge.warn("Blacklisting segment with url ".concat(Et)),se.add(Et)}}function Te(){Fe(),me=!1}function Ne(Ke){ge.info("onFragmentLoadingAbandoned request: "+Ke.request.url+" has been aborted"),!de.isSeeking()&&!re.getSwitchStrack()&&!me&&(ge.info("onFragmentLoadingAbandoned request: "+Ke.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),Ke.request&&Ke.request.isInitializationRequest()?re.setInitSegmentRequired(!0):xt(Ke.request.startTime+Ke.request.duration/2),re.startScheduleTimer(0))}function Ye(Ke){ge.info("OnFragmentLoadingCompleted for stream id "+le.id+" and media type "+H+" - Url:",Ke.request?Ke.request.url:"undefined",Ke.request.range?", Range:"+Ke.request.range:""),be()&&re.startScheduleTimer(0),Ke.error&&Ke.request.serviceLocation&&function st(Ke){ge.info("Fragment loading completed with an error"),Ke&&Ke.request&&Ke.request.type&&(Ke.request.type===E.HTTPRequest.INIT_SEGMENT_TYPE?Oe({representationId:Ke.request.representationId,sender:{}},!1):Ke.request.type===E.HTTPRequest.MEDIA_SEGMENT_TYPE&&(xt(Ke.request.startTime+Ke.request.duration/2),Ge({},!1)))}(Ke)}function tt(){xt(de.getTime()),Ae().startScheduleTimer()}function ut(Ke){var Et=Ke.currentTrackInfo;if(Et){var Ut=F.find(function(Qt){return Qt.index===Et.index&&Qt.lang===Et.lang});Ut&&Ot(Ut).then(function(){V.setIsBufferingCompleted(!1),xt(de.getTime()),re.setInitSegmentRequired(!0),re.startScheduleTimer()})}}function yt(Ke){xt(Ke.quotaExceededTime),re.clearScheduleTimer()}function Be(){return V?V.getBuffer():null}function Ot(Ke){Ke!==X&&(!Ke||!X||Ke.type===X.type)&&(X=Ke);var Et=z.getRealAdaptation(le,X),Ut=z.getVoRepresentations(X);if(k){var Kn,Qt=k.getData(),nn=J.getMaxAllowedIndexFor(H,le.id),Wt=J.getMinAllowedIndexFor(H,le.id),Oi=null;return null!==Qt&&Qt.id===Et.id||H===M.default.TEXT?Kn=J.getQualityFor(H,le.id):(Oi=J.getThroughputHistory().getAverageThroughput(H,ne)||J.getInitialBitrateFor(H,le.id),Kn=J.getQualityForBitrate(X,Oi,le.id)),void 0!==Wt&&Kn<Wt&&(Kn=Wt),Kn>nn&&(Kn=nn),k.updateData(Et,Ut,H,X.isFragmented,Kn)}return Promise.resolve()}function Ae(){return re}function it(Ke){var Et;return void 0!==Ke?(Object(d.checkInteger)(Ke),Et=k?k.getRepresentationForQuality(Ke):null):Et=k?k.getCurrentRepresentation():null,z.convertRepresentationToRepresentationInfo(Et)}function Ct(){return!!V&&V.getIsBufferingCompleted()}function ct(Ke){var Et=Ke.chunk,Ut=Et.bytes,Qt=Et.quality,nn=it(Qt),Wt=k&&nn?k.getRepresentationForQuality(nn.quality):null;if(nn&&Wt){var Kn=z.getEventsFor(nn.mediaInfo,null,le),Gn=z.getEventsFor(nn,Wt,le);if(Kn&&Kn.length>0||Gn&&Gn.length>0){var xi=function At(Ke,Et,Ut,Qt){try{for(var nn={},Wt=[],Kn=Ut.concat(Qt),Gn=0,Oi=Kn.length;Gn<Oi;Gn++)nn[Kn[Gn].schemeIdUri+"/"+Kn[Gn].value]=Kn[Gn];var xi=Object(y.default)(ee).getInstance().parse(Ke),_t=xi.getBoxes("emsg");if(!_t||0===_t.length)return Wt;for(var di=xi.getBox("sidx"),dn=!di||isNaN(di.earliest_presentation_time)||isNaN(di.timescale)?Et&&!isNaN(Et.mediaStartTime)?Et.mediaStartTime:0:di.earliest_presentation_time/di.timescale,xn=Math.max(dn,0),Oa=k.getCurrentRepresentation(),ea=0,xa=_t.length;ea<xa;ea++){var to=z.getEvent(_t[ea],nn,xn,Oa);to&&Wt.push(to)}return Wt}catch{return[]}}(Ut,ve.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,quality:Qt,index:Et.index})[0],Kn,Gn);Q.trigger(_.default.INBAND_EVENTS,{events:xi},{streamId:le.id})}}}function He(){var Ke=de.getTime();fe.get().streaming.buffer.flushBufferAtTrackSwitch&&de.seek(Ke+.001,!1,!0),xt(Ke),V.setSeekTarget(Ke),re.startScheduleTimer()}function Fe(){var Ke=de.getTime(),Et=V.getContinuousBufferTimeForTargetTime(Ke);xt(isNaN(Et)?Ke:Et),re.startScheduleTimer()}function dt(Ke){Ke&&!isNaN(Ke.time)&&(xt(Ke.time),V.setSeekTarget(Ke.time))}function xt(Ke){K=Ke,te=!0}return Se={initialize:function $(Ke,Et,Ut){q=Object(A.default)(ee).create({events:_.default,eventBus:Q,streamInfo:le,timelineConverter:Y,dashConstants:T.default,segmentBaseController:G.segmentBaseController,type:H}),(Ee=Object(N.default)(ee).create({streamInfo:le,type:H,timelineConverter:Y,dashMetrics:he,mediaPlayerModel:oe,baseURLController:G.baseURLController,errHandler:W,segmentsController:q,settings:fe,boxParser:_e,events:_.default,eventBus:Q,errors:S.default,debug:Object(b.default)(ee).getInstance(),requestModifier:Object(v.default)(ee).getInstance(),dashConstants:T.default,constants:M.default,urlUtils:Object(p.default)(ee).getInstance()})).initialize(ne=le.manifestInfo.isDynamic),J.registerStreamType(H,Se),k=Object(c.default)(ee).create({streamInfo:le,type:H,abrController:J,dashMetrics:he,playbackController:de,timelineConverter:Y,dashConstants:T.default,events:_.default,eventBus:Q,errors:S.default,isDynamic:ne,segmentsController:q}),(V=function qe(Ke,Et){return Ke?Ke!==M.default.TEXT||Et?Object(P.default)(ee).create({streamInfo:le,type:Ke,mediaPlayerModel:oe,manifestModel:ie,fragmentModel:ve,errHandler:W,mediaController:ae,representationController:k,adapter:z,textController:pe,abrController:J,playbackController:de,settings:fe}):Object(R.default)(ee).create({streamInfo:le,type:Ke,mimeType:x,fragmentModel:ve,textController:pe,errHandler:W,settings:fe}):(W.error(new O.default(S.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,S.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(H,Ut))&&V.initialize(Ke),(re=Object(D.default)(ee).create({streamInfo:le,type:H,mimeType:x,adapter:z,dashMetrics:he,mediaPlayerModel:oe,fragmentModel:ve,abrController:J,playbackController:de,textController:pe,mediaController:ae,bufferController:V,settings:fe})).initialize(Et),K=0,te=!1},getStreamId:ce,getType:ue,isUpdating:function we(){return!!k&&k.isUpdating()},getBufferController:function Ze(){return V},getFragmentModel:function rt(){return ve},getScheduleController:Ae,getRepresentationController:function gt(){return k},getRepresentationInfo:it,getBufferLevel:function je(){return V?V.getBufferLevel():0},isBufferingCompleted:Ct,createBufferSinks:function sn(Ke){var Et=Be();return Et?Promise.resolve(Et):V?V.createBufferSink(X,Ke):Promise.resolve(null)},updateStreamInfo:function mt(Ke){return le=Ke,Ct()?Promise.resolve():V.updateAppendWindow()},getStreamInfo:function Dt(){return le},selectMediaInfo:Ot,clearMediaInfoArray:function mn(){F=[]},addMediaInfo:function kt(Ke){-1===F.indexOf(Ke)&&F.push(Ke)},prepareTrackSwitch:function Xt(){return new Promise(function(Ke){ge.debug("Preparing track switch for type ".concat(H));var Et=H===M.default.TEXT||fe.get().streaming.trackSwitchMode[H]===M.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&de.getTimeToStreamEnd(le)>fe.get().streaming.buffer.stallThreshold;if(V.getIsBufferingCompleted()&&!Et)return V.prepareForNonReplacementTrackSwitch(X.codec).then(function(){Q.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:le.id,mediaType:H})}).catch(function(){Q.trigger(_.default.BUFFERING_COMPLETED,{},{streamId:le.id,mediaType:H})}),void Ke();re.clearScheduleTimer(),re.setSwitchTrack(!0),Et?(Q.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:H,streamId:le.id},{mediaType:H,streamId:le.id}),ve.abortRequests(),V.prepareForReplacementTrackSwitch(X.codec).then(function(){var Ut=it();return V.updateBufferTimestampOffset(Ut)}).then(function(){He(),Ke()}).catch(function(){He(),Ke()})):V.prepareForNonReplacementTrackSwitch(X.codec).then(function(){Fe(),Ke()}).catch(function(){Fe(),Ke()})})},prepareQualityChange:function $t(Ke){ge.debug("Preparing quality switch for type ".concat(H));var Et=Ke.newQuality;me=!0,re.clearScheduleTimer();var Ut=it(Et);re.setCurrentRepresentation(Ut),k.prepareQualityChange(Et),ve.abortRequests(),V.updateBufferTimestampOffset(Ut).then(function(){Ke.reason&&Ke.reason.forceReplace?function Jt(){Q.trigger(_.default.BUFFER_REPLACEMENT_STARTED,{mediaType:H,streamId:le.id},{mediaType:H,streamId:le.id}),V.prepareForReplacementQualitySwitch().then(function(){He(),me=!1}).catch(function(){He(),me=!1})}():fe.get().streaming.buffer.fastSwitchEnabled?function De(Ke){var Et=de.getTime(),Ut=1.5*(isNaN(Ke.fragmentDuration)?1:Ke.fragmentDuration),Qt=ve.getRequests({state:w.default.FRAGMENT_MODEL_EXECUTED,time:Et+Ut,threshold:0})[0];if(Qt&&!be()){var nn=V.getBufferLevel(),Wt=J.getAbandonmentStateFor(le.id,H);Qt.quality<Ke.quality&&nn>=Ut&&Wt!==I.default.ABANDON_LOAD?(xt(Et+Ut),re.setCheckPlaybackQuality(!1),re.startScheduleTimer()):Te()}else re.startScheduleTimer();me=!1}(Ut):Te(),he.pushPlayListTraceMetrics(new Date,g.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),he.createPlaylistTraceMetrics(Ut.id,1e3*de.getTime(),de.getPlaybackRate())})},getMediaInfo:function un(){return X},getMediaSource:function Fn(){return V.getMediaSource()},setMediaSource:function nr(Ke){V.setMediaSource(Ke)},getBuffer:Be,setExplicitBufferingTime:xt,finalisePlayList:function Mt(Ke,Et){he.pushPlayListTraceMetrics(Ke,Et)},probeNextRequest:function Xe(){var Ke=it(),Et=k&&Ke?k.getRepresentationForQuality(Ke.quality):null;return Ee.getNextSegmentRequestIdempotent(X,Et)},prepareInnerPeriodPlaybackSeeking:function Ue(Ke){return new Promise(function(Et){if(V.hasBufferAtTime(Ke.seekTime))return V.pruneBuffer(),void Et();re.clearScheduleTimer(),ve.abortRequests(),V.prepareForPlaybackSeek().then(function(){var Qt=V.getAllRangesWithSafetyFactor(Ke.seekTime);return V.clearBuffers(Qt)}).then(function(){var Qt=V.getContinuousBufferTimeForTargetTime(Ke.seekTime);if(!isNaN(Qt)&&!isNaN(le.duration)&&isFinite(le.duration)&&Qt>=le.start+le.duration)V.setIsBufferingCompleted(!0),Et();else{var nn=isNaN(Qt)?Ke.seekTime:Qt;xt(nn),V.setSeekTarget(nn);var Wt=[];Wt.push(V.updateAppendWindow());var Kn=it();Wt.push(V.updateBufferTimestampOffset(Kn)),Promise.all(Wt).then(function(){re.setInitSegmentRequired(!0),re.setCheckPlaybackQuality(!1),re.startScheduleTimer(),Et()})}}).catch(function(Qt){ge.error(Qt)})})},prepareOuterPeriodPlaybackSeeking:function Ce(){return new Promise(function(Ke,Et){try{re.clearScheduleTimer(),ve.abortRequests(),V.prepareForPlaybackSeek().then(function(){return V.pruneAllSafely()}).then(function(){Ke()})}catch(Ut){Et(Ut)}})},reset:function Pe(Ke,Et){Ee&&Ee.reset(),V&&(V.reset(Ke,Et),V=null),re&&(re.reset(),re=null),k&&(k.reset(),k=null),q&&(q=null),J&&J.unRegisterStreamType(ce(),H),Q.off(_.default.DATA_UPDATE_COMPLETED,ht,Se),Q.off(_.default.INIT_FRAGMENT_NEEDED,Oe,Se),Q.off(_.default.MEDIA_FRAGMENT_NEEDED,Ge,Se),Q.off(_.default.MEDIA_FRAGMENT_LOADED,ct,Se),Q.off(_.default.BUFFER_LEVEL_STATE_CHANGED,Rt,Se),Q.off(_.default.BUFFER_CLEARED,Ht,Se),Q.off(_.default.SEEK_TARGET,dt,Se),Q.off(_.default.FRAGMENT_LOADING_ABANDONED,Ne,Se),Q.off(_.default.FRAGMENT_LOADING_COMPLETED,Ye,Se),Q.off(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,tt,Se),Q.off(_.default.SET_NON_FRAGMENTED_TEXT,ut,Se),Q.off(_.default.QUOTA_EXCEEDED,yt,Se),Q.off(_.default.SOURCE_BUFFER_ERROR,Bt,Se),Re(),H=null,le=null}},function j(){ge=Object(b.default)(ee).getInstance().getLogger(Se),Re(),Q.on(_.default.DATA_UPDATE_COMPLETED,ht,Se,{priority:f.default.EVENT_PRIORITY_HIGH}),Q.on(_.default.INIT_FRAGMENT_NEEDED,Oe,Se),Q.on(_.default.MEDIA_FRAGMENT_NEEDED,Ge,Se),Q.on(_.default.MEDIA_FRAGMENT_LOADED,ct,Se),Q.on(_.default.BUFFER_LEVEL_STATE_CHANGED,Rt,Se),Q.on(_.default.BUFFER_CLEARED,Ht,Se),Q.on(_.default.SEEK_TARGET,dt,Se),Q.on(_.default.FRAGMENT_LOADING_ABANDONED,Ne,Se),Q.on(_.default.FRAGMENT_LOADING_COMPLETED,Ye,Se),Q.on(_.default.QUOTA_EXCEEDED,yt,Se),Q.on(_.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,tt,Se),Q.on(_.default.SET_NON_FRAGMENTED_TEXT,ut,Se),Q.on(_.default.SOURCE_BUFFER_ERROR,Bt,Se)}(),Se}L.__dashjs_factory_name="StreamProcessor",U.default=l.default.getClassFactory(L)},"./src/streaming/XlinkLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/DashJSError.js"),T=m("./src/streaming/net/URLLoader.js"),I=m("./src/streaming/vo/metrics/HTTPRequest.js"),w=m("./src/streaming/vo/TextRequest.js"),P=m("./src/core/EventBus.js"),R=m("./src/core/events/Events.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/core/errors/Errors.js");function l(d){d=d||{};var _=this.context,N=Object(P.default)(_).getInstance(),S=Object(T.default)(_).create({errHandler:d.errHandler,dashMetrics:d.dashMetrics,mediaPlayerModel:d.mediaPlayerModel,requestModifier:d.requestModifier,errors:c.default});return{load:function b(p,y,g){var A=function(G,ee){y.resolved=!0,y.resolvedContent=G||null,N.trigger(R.default.XLINK_ELEMENT_LOADED,{element:y,resolveObject:g,error:G||ee?null:new M.default(c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+p)})};if("urn:mpeg:dash:resolve-to-zero:2013"===p)A(null,!0);else{var E=new w.default(p,I.HTTPRequest.XLINK_EXPANSION_TYPE);S.load({request:E,success:function(G){A(G)},error:function(){A(null)}})}},reset:function v(){S&&(S.abort(),S=null)}}}l.__dashjs_factory_name="XlinkLoader",U.default=D.default.getClassFactory(l)},"./src/streaming/constants/ConformanceViolationConstants.js":function(Ie,U,m){"use strict";m.r(U),U.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(U);var c=new(function(){function l(){(function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),l}());U.default=c},"./src/streaming/constants/MetricsConstants.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(U);var c=new(function(){function l(){(function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),l}());U.default=c},"./src/streaming/constants/ProtectionConstants.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(U);var c=new(function(){function l(){(function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.init()}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),l}());U.default=c},"./src/streaming/controllers/AbrController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/rules/abr/ABRRulesCollection.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/streaming/constants/MetricsConstants.js"),w=m("./src/streaming/vo/BitrateInfo.js"),P=m("./src/streaming/models/FragmentModel.js"),R=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js"),c=m("./src/core/FactoryMaker.js"),l=m("./src/streaming/rules/RulesContext.js"),d=m("./src/streaming/rules/SwitchRequest.js"),f=m("./src/streaming/rules/SwitchRequestHistory.js"),_=m("./src/streaming/rules/DroppedFramesHistory.js"),N=m("./src/streaming/rules/ThroughputHistory.js"),S=m("./src/core/Debug.js"),O=m("./src/streaming/vo/metrics/HTTPRequest.js"),b=m("./src/streaming/utils/SupervisorTools.js"),v=m("./src/streaming/MediaPlayerEvents.js");function A(){var Q,le,H,W,x,Y,z,ie,oe,ve,J,de,ae,pe,he,fe,_e,se,Se,ge,ne,X,F,V,re,k,L=this.context,G=Object(S.default)(L).getInstance(),ee=Object(R.default)(L).getInstance();function j(){x={},Y={},ie={},z={},Se={},X={},F={},V={},void 0===ve&&(ve=!1),ge&&ge.reset(),se=void 0,ge=void 0,ne=void 0,clearTimeout(oe),oe=null}function be(Be){var Ze=Be.request.mediaType,rt=Be.streamId;if(Ze&&rt&&z[rt]&&k.get().streaming.abr.autoSwitchBitrate[Ze]){var mt=z[rt][Ze];if(mt){var Dt=Object(l.default)(L).create({abrController:Q,streamProcessor:mt,currentRequest:Be.request,useBufferOccupancyABR:X[Ze],useL2AABR:F[Ze],useLoLPABR:V[Ze],videoModel:pe}),Ot=H.shouldAbandonFragment(Dt,rt);Ot.quality>d.default.NO_CHANGE&&mt.getFragmentModel().getRequests({state:P.default.FRAGMENT_MODEL_LOADING,index:Be.request.index})[0]&&(ie[rt][Ze].state=I.default.ABANDON_LOAD,Se[rt][Ze].reset(),Se[rt][Ze].push({oldValue:ht(Ze,rt),newValue:Ot.quality,confidence:1,reason:Ot.reason}),Rt(Ze,W.getActiveStreamInfo(),Ot.quality,Ot.reason),clearTimeout(oe),oe=setTimeout(function(){ie[rt][Ze].state=I.default.ALLOW_LOAD,oe=null},k.get().streaming.abandonLoadTimeout))}}}function Re(Be){Be.mediaType===T.default.VIDEO&&(void 0!==se&&ge.push(Be.streamId,se,pe.getPlaybackQuality()),se=Be.newQuality)}function Pe(Be){Be.metric===I.default.HTTP_REQUEST&&Be.value&&Be.value.type===O.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Be.mediaType===T.default.AUDIO||Be.mediaType===T.default.VIDEO)&&ne.push(Be.mediaType,Be.value,k.get().streaming.abr.useDeadTimeLatency),Be.metric===I.default.BUFFER_LEVEL&&(Be.mediaType===T.default.AUDIO||Be.mediaType===T.default.VIDEO)&&function Te(Be,Ze){k.get().streaming.abr.ABRStrategy===T.default.ABR_STRATEGY_DYNAMIC&&function Ne(Be,Ze){try{var rt=he.getStableBufferTime(),Ot=X[Be],kt=Ze>(Ot?.5*rt:rt);X[Be]=kt,kt!==Ot&&le.info(kt?"["+Be+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Ze.toFixed(3)+").":"["+Be+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Ze.toFixed(3)+").")}catch(mn){le.error(mn)}}(Be,Ze)}(Be.mediaType,.001*Be.value.level)}function we(Be,Ze){try{return x[Ze]=x[Ze]||{},x[Ze].hasOwnProperty(Be)||(x[Ze][Be]=0),function $e(Be,Ze,rt){if(Ze!==T.default.VIDEO||!k.get().streaming.abr.limitBitrateByPortal||!z[rt]||!z[rt][Ze])return Be;ve||yt();var mt=z[rt][Ze].getStreamInfo(),Dt=ae.getAdaptationForType(mt.index,Ze,mt).Representation_asArray,Ot=Be;if(J>0&&de>0){for(;Ot>0&&Dt[Ot]&&J<Dt[Ot].width&&J-Dt[Ot-1].width<Dt[Ot].width-J;)Ot-=1;for(;Ot<Dt.length-1&&Dt[Ot].width===Dt[Ot+1].width;)Ot+=1}return Ot}(function Le(Be,Ze,rt){var mt=x[rt][Ze],Dt=k.get().streaming.abr.maxRepresentationRatio[Ze];return isNaN(Dt)||Dt>=1||Dt<0?Be:Math.min(Be,Math.round(mt*Dt))}(function Ge(Be,Ze){var rt=x[Ze][Be],mt=rt;if(!z[Ze]||!z[Ze][Be])return mt;var Dt=Ue(Be,Ze);void 0!==Dt&&(mt=Math.max(rt,Dt));var Ot=function Ce(Be,Ze){try{var rt=he.getAbrBitrateParameter("maxBitrate",Be);return rt>-1?Jt(z[Ze][Be].getMediaInfo(),rt,Ze):void 0}catch{return}}(Be,Ze);return void 0!==Ot&&(mt=Math.min(mt,Ot)),mt}(Be,Ze),Be,Ze),Be,Ze)}catch{return}}function Ue(Be,Ze){try{return function Oe(Be,Ze){try{var rt=he.getAbrBitrateParameter("minBitrate",Be);if(rt>-1){var mt=z[Ze][Be].getMediaInfo(),Dt=De(mt),Ot=Jt(mt,rt,Ze);return Dt[Ot]&&Ot<Dt.length-1&&Dt[Ot].bitrate<1e3*rt&&Ot++,Ot}return}catch{return}}(Be,Ze)}catch{return}}function ht(Be){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Ze||(Ze=W.getActiveStreamInfo().id),Be&&z[Ze]&&z[Ze][Be]&&Ze?(Y[Ze]=Y[Ze]||{},Y[Ze].hasOwnProperty(Be)||(Y[Ze][Be]=0),Y[Ze][Be]):0}catch{return 0}}function Rt(Be,Ze,rt){var mt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Ze&&Ze.id&&Be){var Dt=Ze.id,Ot=ht(Be,Dt);Object(b.checkInteger)(rt);var kt=we(Be,Dt);rt!==Ot&&rt>=0&&rt<=kt&&Bt(Be,Ot,rt,kt,mt,Dt)}}function Bt(Be,Ze,rt,mt,Dt,Ot){if(Be&&z[Ot]&&z[Ot][Be]){var kt=z[Ot][Be].getStreamInfo(),mn=kt&&kt.manifestInfo&&kt.manifestInfo.isDynamic,un=re.getCurrentBufferLevel(Be);le.info("Stream ID: "+Ot+" ["+Be+"] switch from "+Ze+" to "+rt+"/"+mt+" (buffer: "+un+") "+(Dt?JSON.stringify(Dt):".")),Y[Ot]=Y[Ot]||{},Y[Ot][Be]=rt;var Fn=function $t(Be,Ze,rt){if(Ze&&z&&z[Be]&&z[Be][Ze]){var mt=De(z[Be][Ze].getMediaInfo());return mt[rt]?mt[rt]:null}return null}(Ot,Be,rt);ee.trigger(D.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Ze,newQuality:rt,reason:Dt,streamInfo:kt,bitrateInfo:Fn,maxIdx:mt,mediaType:Be},{streamId:kt.id,mediaType:Be});var nr=ne.getAverageThroughput(Be,mn);isNaN(nr)||_e.setSavedBitrateSettings(Be,nr)}}function Jt(Be,Ze,rt){var mt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,Dt=Be&&Be.type?z[rt][Be.type].getRepresentationInfo():null;if(k.get().streaming.abr.useDeadTimeLatency&&mt&&Dt&&Dt.fragmentDuration){var Ot=Dt.fragmentDuration;if((mt/=1e3)>Ot)return 0;Ze*=1-mt/Ot}for(var mn=De(Be),un=mn.length-1;un>=0;un--)if(1e3*Ze>=mn[un].bitrate)return un;return 0}function De(Be){var Ze=[];if(!Be||!Be.bitrateList)return Ze;for(var Dt,rt=Be.bitrateList,mt=Be.type,Ot=0,kt=rt.length;Ot<kt;Ot++)(Dt=new w.default).mediaType=mt,Dt.qualityIndex=Ot,Dt.bitrate=rt[Ot].bandwidth,Dt.width=rt[Ot].width,Dt.height=rt[Ot].height,Dt.scanType=rt[Ot].scanType,Ze.push(Dt);return Ze}function yt(){if(pe){var Ze=k.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;J=pe.getClientWidth()*Ze,de=pe.getClientHeight()*Ze}}return Q={initialize:function me(){ge=Object(_.default)(L).create(),ne=Object(N.default)(L).create({settings:k}),(H=Object(M.default)(L).create({dashMetrics:re,customParametersModel:fe,mediaPlayerModel:he,settings:k})).initialize(),ee.on(v.default.QUALITY_CHANGE_RENDERED,Re,Q),ee.on(v.default.METRIC_ADDED,Pe,Q),ee.on(D.default.LOADING_PROGRESS,be,Q)},isPlayingAtTopQuality:function tt(Be){var Ze=Be?Be.id:null,rt=ht(T.default.AUDIO,Ze),mt=ht(T.default.VIDEO,Ze);return rt===we(T.default.AUDIO,Ze)&&mt===we(T.default.VIDEO,Ze)},updateTopQualityIndex:function st(Be){var Ze=Be.type,rt=Be.streamInfo.id,mt=Be.representationCount-1;return x[rt]=x[rt]||{},x[rt][Ze]=mt,mt},clearDataForStream:function gt(Be){ge&&ge.clearForStream(Be),z[Be]&&delete z[Be],Se[Be]&&delete Se[Be],ie[Be]&&delete ie[Be]},getThroughputHistory:function Ye(){return ne},getBitrateList:De,getQualityForBitrate:Jt,getTopBitrateInfoFor:function Je(Be){var Ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Ze||(Ze=W.getActiveStreamInfo().id),Be&&z&&z[Ze]&&z[Ze][Be]){var rt=we(Be,Ze),mt=De(z[Ze][Be].getMediaInfo());return mt[rt]?mt[rt]:null}return null},getMinAllowedIndexFor:Ue,getMaxAllowedIndexFor:we,getInitialBitrateFor:function nt(Be,Ze){if(function ue(){if(!_e||!_e.hasOwnProperty("getSavedBitrateSettings"))throw new Error(T.default.MISSING_CONFIG_ERROR)}(),Be===T.default.TEXT)return NaN;var rt=_e.getSavedBitrateSettings(Be),mt=he.getAbrBitrateParameter("initialBitrate",Be),Dt=k.get().streaming.abr.initialRepresentationRatio[Be];if(-1===mt)if(Dt>-1){var Ot=z[Ze][Be].getStreamInfo(),kt=ae.getAdaptationForType(Ot.index,Be,Ot).Representation_asArray;mt=Array.isArray(kt)?kt[Math.max(Math.round(kt.length*Dt)-1,0)].bandwidth/1e3:0}else mt=isNaN(rt)?Be===T.default.VIDEO?1e3:100:rt;return mt},getQualityFor:ht,getAbandonmentStateFor:function Ht(Be,Ze){return ie[Be]&&ie[Be][Ze]?ie[Be][Ze].state:null},setPlaybackQuality:Rt,checkPlaybackQuality:function at(Be,Ze){try{if(!(Be&&z&&z[Ze]&&z[Ze][Be]))return!1;if(ge){var rt=pe.getPlaybackQuality();rt&&ge.push(Ze,se,rt)}if(!k.get().streaming.abr.autoSwitchBitrate[Be])return!1;var mt=ht(Be,Ze),Dt=Object(l.default)(L).create({abrController:Q,switchHistory:Se[Ze][Be],droppedFramesHistory:ge,streamProcessor:z[Ze][Be],currentValue:mt,useBufferOccupancyABR:X[Be],useL2AABR:F[Be],useLoLPABR:V[Be],videoModel:pe}),Ot=Ue(Be,Ze),kt=we(Be,Ze),mn=H.getMaxQuality(Dt),un=mn.quality;return void 0!==Ot&&(un>d.default.NO_CHANGE?un:mt)<Ot&&(un=Ot),un>kt&&(un=kt),Se[Ze][Be].push({oldValue:mt,newValue:un}),un>d.default.NO_CHANGE&&un!==mt&&(ie[Ze][Be].state===I.default.ALLOW_LOAD||un<mt)&&(Bt(Be,mt,un,kt,mn.reason,Ze),!0)}catch{return!1}},setElementSize:yt,setWindowResizeEventCalled:function ut(Be){ve=Be},registerStreamType:function Ee(Be,Ze){var rt=Ze.getStreamInfo().id;z[rt]||(z[rt]={}),Se[rt]||(Se[rt]={}),ie[rt]||(ie[rt]={}),Se[rt][Be]=Object(f.default)(L).create(),z[rt][Be]=Ze,ie[rt][Be]={},ie[rt][Be].state=I.default.ALLOW_LOAD,function q(Be){var Ze=k.get().streaming.abr.ABRStrategy;Ze===T.default.ABR_STRATEGY_L2A?(X[Be]=!1,V[Be]=!1,F[Be]=!0):Ze===T.default.ABR_STRATEGY_LoLP?(X[Be]=!1,V[Be]=!0,F[Be]=!1):Ze===T.default.ABR_STRATEGY_BOLA?(X[Be]=!0,V[Be]=!1,F[Be]=!1):Ze===T.default.ABR_STRATEGY_THROUGHPUT?(X[Be]=!1,V[Be]=!1,F[Be]=!1):Ze===T.default.ABR_STRATEGY_DYNAMIC&&(X[Be]=!(!X||!X[Be])&&X[Be],V[Be]=!1,F[Be]=!1)}(Be),Be===T.default.VIDEO&&yt()},unRegisterStreamType:function K(Be,Ze){try{z[Be]&&z[Be][Ze]&&delete z[Be][Ze],Se[Be]&&Se[Be][Ze]&&delete Se[Be][Ze],ie[Be]&&ie[Be][Ze]&&delete ie[Be][Ze]}catch{}},setConfig:function ce(Be){!Be||(Be.streamController&&(W=Be.streamController),Be.domStorage&&(_e=Be.domStorage),Be.mediaPlayerModel&&(he=Be.mediaPlayerModel),Be.customParametersModel&&(fe=Be.customParametersModel),Be.dashMetrics&&(re=Be.dashMetrics),Be.adapter&&(ae=Be.adapter),Be.videoModel&&(pe=Be.videoModel),Be.settings&&(k=Be.settings))},reset:function $(){j(),ee.off(D.default.LOADING_PROGRESS,be,Q),ee.off(v.default.QUALITY_CHANGE_RENDERED,Re,Q),ee.off(v.default.METRIC_ADDED,Pe,Q),H&&H.reset()}},function te(){le=G.getLogger(Q),j()}(),Q}A.__dashjs_factory_name="AbrController";var E=c.default.getSingletonFactory(A);E.QUALITY_DEFAULT=0,c.default.updateSingletonFactory(A.__dashjs_factory_name,E),U.default=E},"./src/streaming/controllers/BaseURLController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/models/BaseURLTreeModel.js"),T=m("./src/streaming/utils/BaseURLSelector.js"),I=m("./src/streaming/utils/URLUtils.js"),w=m("./src/dash/vo/BaseURL.js"),P=m("./src/core/FactoryMaker.js"),R=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js");function c(){var l,d,S,O,f=this.context,_=Object(R.default)(f).getInstance(),N=Object(I.default)(f).getInstance();function b(L){S.invalidateSelectedIndexes(L.entry)}return l={reset:function A(){S.reset(),O.reset()},initialize:function E(L){S.setConfig({adapter:d}),function y(L){S.update(L),O.chooseSelector(d.getIsDVB(L))}(L)},resolve:function g(L){var ee=S.getForPath(L).reduce(function(Q,le){var H=O.select(le);return H?(N.isRelative(H.url)?Q.url=N.resolve(H.url,Q.url):(Q.url=H.url,Q.serviceLocation=H.serviceLocation),Q.availabilityTimeOffset=H.availabilityTimeOffset,Q.availabilityTimeComplete=H.availabilityTimeComplete,Q):new w.default},new w.default);if(!N.isRelative(ee.url))return ee},setConfig:function p(L){L.baseURLTreeModel&&(S=L.baseURLTreeModel),L.baseURLSelector&&(O=L.baseURLSelector),L.adapter&&(d=L.adapter)}},function v(){S=Object(M.default)(f).create(),O=Object(T.default)(f).create(),_.on(D.default.SERVICE_LOCATION_BLACKLIST_CHANGED,b,l)}(),l}c.__dashjs_factory_name="BaseURLController",U.default=P.default.getClassFactory(c)},"./src/streaming/controllers/BlacklistController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/EventBus.js");function I(w){w=w||{};var P,R=[],D=Object(T.default)(this.context).getInstance(),c=w.updateEventName,l=w.addBlacklistEventName;function f(O){-1===R.indexOf(O)&&(R.push(O),D.trigger(c,{entry:O}))}function _(O){f(O.entry)}return P={add:f,contains:function d(O){return!!(R.length&&O&&O.length)&&-1!==R.indexOf(O)},reset:function S(){R=[]}},function N(){l&&D.on(l,_,P)}(),P}I.__dashjs_factory_name="BlackListController",U.default=M.default.getClassFactory(I)},"./src/streaming/controllers/BufferController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/constants/MetricsConstants.js"),I=m("./src/streaming/models/FragmentModel.js"),w=m("./src/streaming/SourceBufferSink.js"),P=m("./src/core/EventBus.js"),R=m("./src/core/events/Events.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/core/Debug.js"),l=m("./src/streaming/utils/InitCache.js"),d=m("./src/streaming/vo/DashJSError.js"),f=m("./src/core/errors/Errors.js"),_=m("./src/streaming/vo/metrics/HTTPRequest.js"),N=m("./src/streaming/MediaPlayerEvents.js"),O=.01,v="BufferController";function p(y){y=y||{};var z,ie,oe,ve,J,de,ae,pe,he,fe,_e,se,Se,ge,ne,X,F,V,g=this.context,A=Object(P.default)(g).getInstance(),E=y.errHandler,L=y.fragmentModel,G=y.representationController,ee=y.adapter,Q=y.textController,le=y.abrController,H=y.playbackController,W=y.streamInfo,x=y.type,Y=y.settings;function q(He){de=He}function K(He){return ee.convertRepresentationToRepresentationInfo(G.getRepresentationForQuality(He))}function $(He,Fe,qe){var dt=K(qe);return Fe&&Fe[x]&&(x===M.default.VIDEO||x===M.default.AUDIO)?he.initializeForStreamSwitch(He,dt,Fe[x]):he.initializeForFirstUse(W,He,dt)}function ce(He){Y.get().streaming.cacheInitSegments&&(ie.info("Init fragment finished loading saving to",x+"'s init cache"),ne.save(He.chunk)),ie.debug("Append Init fragment",x," with representationId:",He.chunk.representationId," and quality:",He.chunk.quality,", data size:",He.chunk.bytes.byteLength),Re(He.chunk)}function be(He){Re(He.chunk,He.request)}function Re(He){he.append(He,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(qe){we(qe)}).catch(function(qe){we(qe)}),He.mediaInfo.type===M.default.VIDEO&&At(R.default.VIDEO_CHUNK_RECEIVED,{chunk:He})}function Pe(He){if(He&&He.length>0)for(var Fe=0,qe=He.length;Fe<qe;Fe++)ie.debug("Buffered range: "+He.start(Fe)+" - "+He.end(Fe)+", currentTime = ",H.getTime())}function we(He){if(He.error)return 22===He.error.code&&function Ce(){if(ge=!0,J=.8*Ct(),ie.warn("Quota exceeded, Critical Buffer: "+J),J>0){var He=Math.max(.2*J,1),Fe=J-He,qe=Math.min(Y.get().streaming.buffer.bufferTimeAtTopQuality,.9*Fe),dt=Math.min(Y.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Fe),xt={streaming:{buffer:{bufferToKeep:parseFloat(He.toFixed(5)),bufferTimeAtTopQuality:parseFloat(qe.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(dt.toFixed(5))}}};Y.update(xt)}}(),void((22===He.error.code||!Xe())&&(ie.warn("Clearing playback buffer to overcome quota exceed situation"),At(R.default.QUOTA_EXCEEDED,{criticalBufferLevel:J,quotaExceededTime:He.chunk.start}),yt(ut())));if(he&&(Te(),ge=!1,(_e=He.chunk)&&_e.endFragment)){_e&&!isNaN(_e.index)&&(ae=Math.max(_e.index,ae),Ne());var Fe=he.getAllBufferRanges();_e.segmentType===_.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Pe(Fe),Rt(),function Ue(){if(!isNaN(V)){if(x!==M.default.AUDIO&&x!==M.default.VIDEO)return void(V=NaN);var He=H.getTime(),Fe=Jt(He,0),qe=Jt(V,0);if(Fe&&qe&&Fe.start===qe.start)return void(V=NaN);var dt=G.getCurrentRepresentation().segmentDuration,xt=Jt(V,dt);!xt||(Y.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(He-V)>dt?V<=xt.end&&H.seek(Math.max(V,xt.start),!1,!0):He<xt.start&&H.seek(xt.start,!1,!0))}}()),_e&&At(R.default.BYTES_APPENDED_END_FRAGMENT,{quality:_e.quality,startTime:_e.start,index:_e.index,bufferedRanges:Fe,segmentType:_e.segmentType,mediaType:x})}}function Je(){return new Promise(function(He,Fe){var qe=nt();if(!qe||0===qe.length)return Rt(),void He();yt(qe).then(function(){He()}).catch(function(dt){Fe(dt)})})}function nt(He){var Fe=[],qe=he.getAllBufferRanges();if(!qe||0===qe.length)return Fe;if(!He&&0!==He||isNaN(He))Fe.push({start:qe.start(0),end:qe.end(qe.length-1)+.5});else{var dt=function at(He,Fe){var qe=Y.get().streaming.buffer.bufferToKeep,dt=Fe.start(0);if(He-dt>qe){var Mt=Math.max(0,He-qe),Ke=L.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:He,threshold:O})[0];if(Ke&&(Mt=Math.min(Ke.startTime,Mt)),Mt>0)return{start:dt,end:Mt}}return null}(He,qe),xt=function ht(He,Fe){var qe=Fe.end(Fe.length-1)+.5,dt=je(He),Mt=W.manifestInfo.duration>=Y.get().streaming.buffer.longFormContentDurationThreshold?Y.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Y.get().streaming.buffer.bufferTimeAtTopQuality,Ke=isNaN(dt)?He:Math.min(dt,He+Mt);if(Ke>=Fe.end(Fe.length-1))return null;var Et=L.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:He,threshold:O})[0];if(Et&&(Ke=Math.max(Et.startTime+Et.duration,Ke)),Y.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Qt=0;Qt<Fe.length;Qt++)if(Fe.start(Qt)<=He&&He<=Fe.end(Qt)&&Fe.start(Qt)<=Ke&&Ke<=Fe.end(Qt)){var nn=Ke;Ke=Qt+1<Fe.length?Fe.start(Qt+1):Fe.end(Qt)+1,ie.debug("Buffered range ["+Fe.start(Qt)+", "+Fe.end(Qt)+"] overlaps with targetTime "+He+" and range to be pruned ["+nn+", "+qe+"], using ["+Ke+", "+qe+"] instead"+(Ke<qe?"":" (no actual pruning)"));break}return Ke<Fe.end(Fe.length-1)?{start:Ke,end:qe}:null}(He,qe);dt&&Fe.push(dt),xt&&Fe.push(xt)}return Fe}function Rt(){(!F||x===M.default.TEXT&&Q.isTextEnabled())&&Te()}function Ht(){Ye()}function Bt(){Ye(),V=NaN}function Jt(He,Fe){var Ut,Qt,qe=he.getAllBufferRanges(),dt=0,xt=0,Mt=null,Ke=null,Et=0,nn=isNaN(Fe)?.15:Fe;if(null!=qe){for(Qt=0,Ut=qe.length;Qt<Ut;Qt++)if(dt=qe.start(Qt),xt=qe.end(Qt),null===Mt)Et=Math.abs(dt-He),(He>=dt&&He<xt||Et<=nn)&&(Mt=dt,Ke=xt);else{if(!((Et=dt-Ke)<=nn))break;Ke=xt}if(null!==Mt)return{start:Mt,end:Ke}}return null}function Te(){if(H){var He=Y.get().streaming.gaps.jumpGaps&&!isNaN(Y.get().streaming.gaps.smallGapLimit)?Y.get().streaming.gaps.smallGapLimit:NaN;ve=Math.max(function De(He,Fe){var qe;return Y.get().streaming.gaps.jumpGaps&&(Fe=Y.get().streaming.gaps.smallGapLimit),null===(qe=Jt(He,Fe))?0:qe.end-He}(H.getTime()||0,He),0),At(R.default.BUFFER_LEVEL_UPDATED,{mediaType:x,bufferLevel:ve}),Ye()}}function Ne(){var He=ae>=pe-1,Fe=H.getTimeToStreamEnd(W)-ve<1e-5;(He||Fe)&&!oe&&(Ae(!0),ie.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(W.id," and type ").concat(x)))}function Ye(){x!==M.default.AUDIO&&x!==M.default.VIDEO||((!H.getLowLatencyModeEnabled()&&ve<Y.get().streaming.buffer.stallThreshold||0===ve)&&!oe?st(T.default.BUFFER_EMPTY):(oe||ve>=Y.get().streaming.buffer.stallThreshold||H.getLowLatencyModeEnabled()&&ve>0)&&st(T.default.BUFFER_LOADED))}function st(He){fe===He||He===T.default.BUFFER_EMPTY&&0===H.getTime()||x===M.default.TEXT&&!Q.isTextEnabled()||(fe=He,At(R.default.BUFFER_LEVEL_STATE_CHANGED,{state:He}),At(He===T.default.BUFFER_LOADED?R.default.BUFFER_LOADED:R.default.BUFFER_EMPTY),ie.debug(He===T.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function tt(){!he||x===M.default.TEXT||oe||yt(ut())}function ut(){var He=[],Fe=he.getAllBufferRanges();if(!Fe||0===Fe.length)return He;var qe=H.getTime(),dt=Math.max(0,qe-Y.get().streaming.buffer.bufferToKeep),xt=L.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:qe,threshold:O})[0];if(xt)dt=Math.min(xt.startTime,dt);else if(0===qe&&H.getIsDynamic())return[];if(Fe.start(0)<=dt){for(var Mt={start:0,end:dt},Ke=0;Ke<Fe.length&&Fe.end(Ke)<=dt;Ke++)Mt.end=Fe.end(Ke);Mt.start<Mt.end&&He.push(Mt)}return He}function yt(He){return new Promise(function(Fe,qe){if(He&&he&&0!==He.length){var dt=[];He.forEach(function(xt){dt.push(function gt(He){return new Promise(function(Fe,qe){He.resolve=Fe,He.reject=qe,X.push(He)})}(xt))}),Se||Be(),Promise.all(dt).then(function(){Fe()}).catch(function(xt){qe(xt)})}else Fe()})}function Be(){try{if(0===X.length||!he)return ie.debug("Nothing to prune, halt pruning"),X=[],void(Se=!1);var He=he.getBuffer();if(!He||!He.buffered||0===He.buffered.length)return ie.debug("SourceBuffer is empty (or does not exist), halt pruning"),X=[],void(Se=!1);var Fe=X.shift();ie.debug("".concat(x,": Removing buffer from: ").concat(Fe.start," to ").concat(Fe.end)),Se=!0,H.getTime()<Fe.end&&Ae(!1),he.remove(Fe).then(function(dt){Ze(dt)}).catch(function(dt){Ze(dt)})}catch{Se=!1}}function Ze(He){ie.debug("onRemoved buffer from:",He.from,"to",He.to),Pe(he.getAllBufferRanges()),0===X.length&&(Se=!1,Te()),He.unintended&&(ie.warn("Detected unintended removal from:",He.from,"to",He.to,"setting streamprocessor time to",He.from),At(R.default.SEEK_TARGET,{time:He.from})),Se?Be():(F?F=!1:Te(),At(R.default.BUFFER_CLEARED,{from:He.from,to:He.to,unintended:He.unintended,hasEnoughSpaceToAppend:Xe(),quotaExceeded:ge}))}function rt(He){return new Promise(function(Fe){He&&void 0!==He.MSETimeOffset&&he&&he.updateTimestampOffset?he.updateTimestampOffset(He.MSETimeOffset).then(function(){Fe()}).catch(function(){Fe()}):Fe()})}function mt(){return he&&!oe?he.updateAppendWindow(W):Promise.resolve()}function Ot(){++se*(Y.get().streaming.wallclockTimeUpdateInterval/1e3)>=Y.get().streaming.buffer.bufferPruningInterval&&(se=0,tt())}function kt(){Ye()}function Ae(He){oe!==He&&((oe=He)?At(R.default.BUFFERING_COMPLETED):pe=Number.POSITIVE_INFINITY)}function Ct(){try{var qe,dt,He=he.getAllBufferRanges(),Fe=0;if(!He)return Fe;for(dt=0,qe=He.length;dt<qe;dt++)Fe+=He.end(dt)-He.start(dt);return Fe}catch{return 0}}function je(He){try{var Fe=He,qe=he.getAllBufferRanges();if(!qe||0===qe.length)return NaN;for(var dt=0;Fe===He&&dt<qe.length;){var xt=qe.start(dt),Mt=qe.end(dt);Fe>=xt&&Fe<=Mt&&(Fe=Mt),dt+=1}return Fe===He?NaN:Fe}catch{}}function Xe(){var He=Ct();return isNaN(He)||He<J}function At(He,Fe){A.trigger(He,Fe||{},{streamId:W.id,mediaType:x})}function sn(He,Fe){if(J=Number.POSITIVE_INFINITY,fe=void 0,pe=Number.POSITIVE_INFINITY,ae=0,_e=null,oe=!1,Se=!1,ge=!1,ve=0,se=0,X=[],V=NaN,he){var qe=he;he=null,!He&&!Fe&&qe.abort().then(function(){qe.reset(Fe),qe=null})}F=!1}return z={initialize:function k(He){q(He),A.on(R.default.INIT_FRAGMENT_LOADED,ce,z),A.on(R.default.MEDIA_FRAGMENT_LOADED,be,z),A.on(R.default.WALLCLOCK_TIME_UPDATED,Ot,z),A.on(N.default.PLAYBACK_PLAYING,Bt,z),A.on(N.default.PLAYBACK_PROGRESS,Rt,z),A.on(N.default.PLAYBACK_TIME_UPDATED,Rt,z),A.on(N.default.PLAYBACK_RATE_CHANGED,kt,z),A.on(N.default.PLAYBACK_STALLED,Ht,z)},getStreamId:function te(){return W.id},getType:function me(){return x},getBufferControllerType:function Ee(){return v},createBufferSink:function j(He){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(qe,dt){if(ne&&He&&de){var xt=le.getQualityFor(x,W.id);he=Object(w.default)(g).create({mediaSource:de,textController:Q,eventBus:A}),$(He,Fe,xt).then(function(){return rt(K(xt))}).then(function(){qe(he)}).catch(function(Mt){ie.fatal("Caught error on create SourceBuffer: "+Mt),E.error(new d.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+x)),dt(Mt)})}else qe(null)})},getBuffer:function mn(){return he},getBufferLevel:function un(){return ve},getRangeAt:Jt,hasBufferAtTime:function $t(He){try{var Fe=he.getAllBufferRanges();if(!Fe||0===Fe.length)return!1;for(var qe=0;qe<Fe.length;){var dt=Fe.start(qe),xt=Fe.end(qe);if(He>=dt&&He<=xt)return!0;qe+=1}return!1}catch(Mt){return ie.error(Mt),!1}},pruneBuffer:tt,setMediaSource:q,getMediaSource:function Fn(){return de},appendInitSegmentFromCache:function ue(He){var Fe=ne.extract(W.id,He);return!!Fe&&(ie.info("Append Init fragment",x," with representationId:",Fe.representationId," and quality:",Fe.quality,", data size:",Fe.bytes.byteLength),Re(Fe),!0)},getIsBufferingCompleted:function nr(){return oe},setIsBufferingCompleted:Ae,getIsPruningInProgress:function it(){return Se},reset:function Xt(He,Fe){A.off(R.default.INIT_FRAGMENT_LOADED,ce,this),A.off(R.default.MEDIA_FRAGMENT_LOADED,be,this),A.off(R.default.WALLCLOCK_TIME_UPDATED,Ot,this),A.off(N.default.PLAYBACK_PLAYING,Bt,this),A.off(N.default.PLAYBACK_PROGRESS,Rt,this),A.off(N.default.PLAYBACK_TIME_UPDATED,Rt,this),A.off(N.default.PLAYBACK_RATE_CHANGED,kt,this),A.off(N.default.PLAYBACK_STALLED,Ht,this),sn(He,Fe)},prepareForPlaybackSeek:function Oe(){return oe&&Ae(!1),he.abort()},prepareForReplacementTrackSwitch:function Ge(He){return new Promise(function(Fe,qe){he.abort().then(function(){return mt()}).then(function(){return Y.get().streaming.buffer.useChangeTypeForTrackSwitch?he.changeType(He):Promise.resolve()}).then(function(){return Je()}).then(function(){Ae(!1),Fe()}).catch(function(dt){qe(dt)})})},prepareForNonReplacementTrackSwitch:function $e(He){return new Promise(function(Fe,qe){mt().then(function(){return Y.get().streaming.buffer.useChangeTypeForTrackSwitch?he.changeType(He):Promise.resolve()}).then(function(){Fe()}).catch(function(dt){qe(dt)})})},prepareForReplacementQualitySwitch:function Le(){return new Promise(function(He,Fe){he.abort().then(function(){return mt()}).then(function(){return Je()}).then(function(){Ae(!1),He()}).catch(function(qe){Fe(qe)})})},updateAppendWindow:mt,getAllRangesWithSafetyFactor:nt,getContinuousBufferTimeForTargetTime:je,clearBuffers:yt,pruneAllSafely:Je,updateBufferTimestampOffset:rt,setSeekTarget:function ct(He){V=He},segmentRequestingCompleted:function Dt(He){isNaN(He)||(pe=He,Ne())}},function re(){ie=Object(c.default)(g).getInstance().getLogger(z),ne=Object(l.default)(g).getInstance(),sn()}(),z}p.__dashjs_factory_name=v,U.default=D.default.getClassFactory(p)},"./src/streaming/controllers/CatchupController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/core/EventBus.js"),w=m("./src/streaming/constants/Constants.js"),P=m("./src/streaming/MediaPlayerEvents.js"),R=m("./src/core/events/Events.js"),D=m("./src/streaming/constants/MetricsConstants.js"),c=m("./src/core/Utils.js");function l(){var _,N,S,O,b,v,p,y,g,A,d=this.context,f=Object(I.default)(d).getInstance();function H(){N=!1;var se=c.default.parseUserAgent();S=se&&se.browser&&se.browser.name&&"safari"===se.browser.name.toLowerCase()}function W(){N=!1}function x(se){if(se.streamId===v.getActiveStreamInfo().id&&g){var Se=p.getLiveDelay();p.getBufferLevel()>Se/2&&(g=!1)}}function Y(se){se.streamId===v.getActiveStreamInfo().id&&(g=se.state===D.default.BUFFER_EMPTY)}function z(){y.getCatchupModeEnabled()||O.setPlaybackRate(1)}function ie(){p.getIsDynamic()&&y.getCatchupModeEnabled()&&(y.getCatchupPlaybackRates().max>0||y.getCatchupPlaybackRates().min<0)&&!p.isPaused()&&!p.isSeeking()&&function J(){try{return!(!p.getTime()>0||N)&&(de()===w.default.LIVE_CATCHUP_MODE_LOLP?function pe(se,Se){try{return Math.abs(ve())>0||se<Se}catch{return!1}}(p.getBufferLevel(),b.get().streaming.liveCatchup.playbackBufferMin):function ae(){try{return Math.abs(ve())>0}catch{return!1}}())}catch{return!1}}()&&function oe(){if(!N&&O){var se,Se=O.getPlaybackRate(),ge=y.getCatchupPlaybackRates(),ne=p.getBufferLevel(),X=ve(),F=y.getCatchupMaxDrift();if(!isNaN(F)&&F>0&&X>F)A.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),N=!0,p.seekToCurrentLive(!0,!1);else{var V=p.getCurrentLiveLatency(),re=p.getLiveDelay();se=de()===w.default.LIVE_CATCHUP_MODE_LOLP?function fe(se,Se,ge,ne,X){var F;if(X<ne){var V=Math.abs(se.min),te=2*V/(1+Math.pow(Math.E,-5*(X-ne)));A.debug("[LoL+ playback control_buffer-based] bufferLevel: "+X+", newRate: "+(F=1-V+te))}else{var me=se.max,Ee=.02;F=Math.abs(Se-ge)<=Ee*ge?1:1-me+2*me/(1+Math.pow(Math.E,-5*(Se-ge))),A.debug("[LoL+ playback control_latency-based] latency: "+Se+", newRate: "+F)}return F}(ge,V,re,b.get().streaming.liveCatchup.playbackBufferMin,ne):function he(se,Se,ge,ne){if(g)return 1;var X=Se-ge,F=X<0?Math.abs(se.min):se.max,k=1-F+2*F/(1+Math.pow(Math.E,-5*X));return p.getPlaybackStalled()&&ne<=ge/2&&X>0&&(k=1),k}(ge,V,re,ne);var te=S?.25:.02/(.5/ge.max);se&&Math.abs(Se-se)>=te&&(A.debug("[CatchupController]: Setting playback rate to ".concat(se)),O.setPlaybackRate(se))}}}()}function ve(){return p.getCurrentLiveLatency()-p.getLiveDelay()}function de(){var se=b.get().streaming.liveCatchup.playbackBufferMin;return b.get().streaming.liveCatchup.mode!==w.default.LIVE_CATCHUP_MODE_LOLP||null===se||isNaN(se)?w.default.LIVE_CATCHUP_MODE_DEFAULT:w.default.LIVE_CATCHUP_MODE_LOLP}function _e(){y.getCatchupPlaybackRates(!0)}return _={reset:function le(){(function ee(){f.off(P.default.BUFFER_LEVEL_UPDATED,x,_),f.off(P.default.BUFFER_LEVEL_STATE_CHANGED,Y,_),f.off(P.default.PLAYBACK_PROGRESS,ie,_),f.off(P.default.PLAYBACK_TIME_UPDATED,ie,_),f.off(P.default.PLAYBACK_SEEKED,ie,_),f.off(R.default.SETTING_UPDATED_CATCHUP_ENABLED,z,_),f.off(R.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,_e,_),f.off(R.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,_e,_),f.off(P.default.STREAM_INITIALIZED,_e,_)})(),H(),O.setPlaybackRate(1,!0)},setConfig:function L(se){!se||(se.settings&&(b=se.settings),se.videoModel&&(O=se.videoModel),se.streamController&&(v=se.streamController),se.playbackController&&(p=se.playbackController),se.mediaPlayerModel&&(y=se.mediaPlayerModel))},initialize:function E(){(function G(){f.on(P.default.BUFFER_LEVEL_UPDATED,x,_),f.on(P.default.BUFFER_LEVEL_STATE_CHANGED,Y,_),f.on(P.default.PLAYBACK_PROGRESS,ie,_),f.on(P.default.PLAYBACK_TIME_UPDATED,ie,_),f.on(P.default.PLAYBACK_SEEKED,W,_),f.on(R.default.SETTING_UPDATED_CATCHUP_ENABLED,z,_),f.on(R.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,_e,_),f.on(R.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,_e,_),f.on(P.default.STREAM_INITIALIZED,_e,_)})(),_e()}},function Q(){A=Object(T.default)(d).getInstance().getLogger(_),H()}(),_}l.__dashjs_factory_name="CatchupController",U.default=M.default.getSingletonFactory(l)},"./src/streaming/controllers/EventController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/core/EventBus.js"),w=m("./src/streaming/MediaPlayerEvents.js"),P=m("./src/streaming/net/XHRLoader.js");function R(){var O,b,v,p,y,g,A,E,L,G,ee,D="urn:mpeg:dash:event:2012",__DISCARDED="discarded",__UPDATED="updated",__ADDED="added",N=this.context,S=Object(I.default)(N).getInstance();function le(){if(!A||!E)throw new Error("setConfig function has to be called previously")}function H(){ee=!1,v={},p={},y=null,G=!1,g=Date.now()/1e3}function W(){try{null!==y&&ee&&(clearInterval(y),y=null,ee=!1,function ae(){try{pe(p),pe(v)}catch(k){b.error(k)}}())}catch(k){throw k}}function Y(){try{if(!G){G=!0;var k=E.getTime(),te=k-g;te=g>0?Math.max(0,te):0,z(p,te,k),z(v,te,k),ie(p),ie(v),g=k,G=!1}}catch(me){G=!1,b.error(me)}}function z(k,te,me){try{he(k,function(K){if(void 0!==K){var j=isNaN(K.duration)?0:K.duration;K.calculatedPresentationTime<=me&&K.calculatedPresentationTime+te+j>=me?se(K,w.default.EVENT_MODE_ON_START):(fe(me,j+te,K.calculatedPresentationTime)||function _e(k){try{return k.calculatedPresentationTime>k.eventStream.period.start+k.eventStream.period.duration}catch(me){return b.error(me),!1}}(K))&&(b.debug("Removing event ".concat(K.id," from period ").concat(K.eventStream.period.id," as it is expired or invalid")),function Se(k,te){try{var me=te.eventStream.schemeIdUri,Ee=te.eventStream.period.id,q=te.eventStream.value,K=te.id;k[Ee][me]=k[Ee][me].filter(function(j){return q&&j.eventStream.value&&j.eventStream.value!==q||j.id!==K}),0===k[Ee][me].length&&delete k[Ee][me]}catch(j){b.error(j)}}(k,K))}})}catch(q){b.error(q)}}function ie(k){try{for(var te in k)k.hasOwnProperty(te)&&0===Object.keys(k[te]).length&&delete k[te]}catch(me){b.error(me)}}function J(k,te){var me=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Ee=k.eventStream.schemeIdUri,q=k.eventStream.value,K=k.id,j=__DISCARDED;te[Ee]||(te[Ee]=[]);var $=te[Ee].findIndex(function(ue){return(!q||ue.eventStream.value&&ue.eventStream.value===q)&&ue.id===K});if(-1===$)te[Ee].push(k),k.triggeredReceivedEvent=!1,k.triggeredStartEvent=!1,j=__ADDED;else if(me){var ce=te[Ee][$];k.triggeredReceivedEvent=ce.triggeredReceivedEvent,k.triggeredStartEvent=ce.triggeredStartEvent,te[Ee][$]=k,j=__UPDATED}return j}function de(k){try{1==k.eventStream.value&&S.trigger(w.default.MANIFEST_VALIDITY_CHANGED,{id:k.id,validUntil:k.calculatedPresentationTime,newDuration:4294967295==k.calculatedPresentationTime?NaN:k.calculatedPresentationTime+k.duration,newManifestValidAfter:NaN},{mode:w.default.EVENT_MODE_ON_START})}catch(Ee){b.error(Ee)}}function pe(k){try{var te=E.getTime();he(k,function(q){var K=q.eventStream&&q.eventStream.period&&!isNaN(q.eventStream.period.duration)?q.eventStream.period.duration:NaN,j=q.eventStream&&q.eventStream.period&&!isNaN(q.eventStream.period.start)?q.eventStream.period.start:NaN;isNaN(K)||isNaN(j)||Math.abs(q.calculatedPresentationTime-te)<300&&se(q,w.default.EVENT_MODE_ON_START)})}catch(Ee){b.error(Ee)}}function he(k,te){try{if(k)for(var me=Object.keys(k),Ee=0;Ee<me.length;Ee++)for(var q=k[me[Ee]],K=Object.keys(q),j=0;j<K.length;j++)q[K[j]].forEach(function(ce){void 0!==ce&&te(ce)})}catch(ce){b.error(ce)}}function fe(k,te,me){try{return k-te>me}catch(Ee){return b.error(Ee),!1}}function se(k,te){try{var me=E.getTime(),Ee=k.id;if(te===w.default.EVENT_MODE_ON_RECEIVE&&!k.triggeredReceivedEvent)return b.debug("Received event ".concat(Ee)),k.triggeredReceivedEvent=!0,void S.trigger(k.eventStream.schemeIdUri,{event:k},{mode:te});k.triggeredStartEvent||(k.eventStream.schemeIdUri===D&&1==k.eventStream.value?(0!==k.duration||0!==k.presentationTimeDelta)&&(b.debug("Starting manifest refresh event ".concat(Ee," at ").concat(me)),function ge(){try{le(),A.refreshManifest()}catch(k){b.error(k)}}()):"urn:mpeg:dash:event:callback:2015"===k.eventStream.schemeIdUri&&1==k.eventStream.value?(b.debug("Starting callback event ".concat(Ee," at ").concat(me)),function ne(k){try{Object(P.default)(N).create({}).load({method:"get",url:k,request:{responseType:"arraybuffer"}})}catch(me){b.error(me)}}(k.messageData)):(b.debug("Starting event ".concat(Ee," from period ").concat(k.eventStream.period.id," at ").concat(me)),S.trigger(k.eventStream.schemeIdUri,{event:k},{mode:te})),k.triggeredStartEvent=!0)}catch(q){b.error(q)}}return O={addInlineEvents:function oe(k,te){try{if(le(),v[te]||(v[te]={}),k)for(var me=0;me<k.length;me++){var Ee=k[me];if(!fe(E.getTime(),isNaN(Ee.duration)?0:Ee.duration,Ee.calculatedPresentationTime)){var j=J(Ee,v[te],!0);j===__ADDED?(b.debug("Added inline event with id ".concat(Ee.id," from period ").concat(te)),se(Ee,w.default.EVENT_MODE_ON_RECEIVE)):j===__UPDATED&&b.debug("Updated inline event with id ".concat(Ee.id," from period ").concat(te))}}}catch($){throw $}},addInbandEvents:function ve(k,te){try{le(),p[te]||(p[te]={});for(var me=0;me<k.length;me++){var Ee=k[me];fe(E.getTime(),isNaN(Ee.duration)?0:Ee.duration,Ee.calculatedPresentationTime)||(J(Ee,p[te],!1)===__ADDED?(Ee.eventStream.schemeIdUri===D&&de(Ee),b.debug("Added inband event with id ".concat(Ee.id," from period ").concat(te)),se(Ee,w.default.EVENT_MODE_ON_RECEIVE)):b.debug("Inband event with scheme_id_uri ".concat(Ee.eventStream.schemeIdUri,", value ").concat(Ee.eventStream.value,", period id ").concat(te," and event id ").concat(Ee.id," was ignored because it has been added before.")))}Y()}catch($){throw $}},getInbandEvents:function V(){return p},getInlineEvents:function F(){return v},start:function x(){try{le(),b.debug("Start Event Controller");var k=L.get().streaming.eventControllerRefreshDelay;!ee&&!isNaN(k)&&(ee=!0,y=setInterval(Y,k))}catch(te){throw te}},setConfig:function X(k){try{if(!k)return;k.manifestUpdater&&(A=k.manifestUpdater),k.playbackController&&(E=k.playbackController),k.settings&&(L=k.settings)}catch(te){throw te}},reset:function re(){W(),H()}},function Q(){b=Object(T.default)(N).getInstance().getLogger(O),H()}(),O}R.__dashjs_factory_name="EventController",U.default=M.default.getSingletonFactory(R)},"./src/streaming/controllers/FragmentController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/vo/DataChunk.js"),I=m("./src/streaming/models/FragmentModel.js"),w=m("./src/streaming/FragmentLoader.js"),P=m("./src/streaming/utils/RequestModifier.js"),R=m("./src/core/EventBus.js"),D=m("./src/core/events/Events.js"),c=m("./src/streaming/MediaPlayerEvents.js"),l=m("./src/core/errors/Errors.js"),d=m("./src/core/FactoryMaker.js"),f=m("./src/core/Debug.js");function _(N){N=N||{};var A,E,L,S=this.context,O=Object(R.default)(S).getInstance(),b=N.errHandler,v=N.mediaPlayerModel,p=N.dashMetrics,y=Object(f.default)(S).getInstance(),g=N.streamInfo;function ee(){return g.id}function le(){for(var Y in L)L[Y].reset();L={}}function x(Y){if(Y.sender){var z=Y.request,ie=Y.response,oe=z.isInitializationRequest(),ve=z.mediaInfo.streamInfo;if(Y.error&&(z.mediaType===M.default.AUDIO||z.mediaType===M.default.VIDEO||z.mediaType===M.default.TEXT&&z.mediaInfo.isFragmented)&&O.trigger(D.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:Y.request.serviceLocation}),!ie||!ve)return void E.warn("No "+z.mediaType+" bytes to push or stream is inactive.");var J=function W(Y,z,ie,oe){var ve=new T.default;return ve.streamId=ie,ve.mediaInfo=z.mediaInfo,ve.segmentType=z.type,ve.start=z.startTime,ve.duration=z.duration,ve.end=ve.start+ve.duration,ve.bytes=Y,ve.index=z.index,ve.quality=z.quality,ve.representationId=z.representationId,ve.endFragment=oe,ve}(ie,z,g.id,Y.type!==D.default.FRAGMENT_LOADING_PROGRESS);O.trigger(oe?D.default.INIT_FRAGMENT_LOADED:D.default.MEDIA_FRAGMENT_LOADED,{chunk:J,request:z},{streamId:ve.id,mediaType:z.mediaType})}}return A={getStreamId:ee,getModel:function Q(Y){var z=L[Y];return z||(z=Object(I.default)(S).create({streamInfo:g,type:Y,dashMetrics:p,fragmentLoader:Object(w.default)(S).create({dashMetrics:p,mediaPlayerModel:v,errHandler:b,requestModifier:Object(P.default)(S).getInstance(),settings:N.settings,boxParser:N.boxParser,eventBus:O,events:D.default,errors:l.default,dashConstants:N.dashConstants,urlUtils:N.urlUtils,streamId:ee()}),debug:y,eventBus:O,events:D.default}),L[Y]=z),z},reset:function H(){O.off(c.default.FRAGMENT_LOADING_COMPLETED,x,this),O.off(c.default.FRAGMENT_LOADING_PROGRESS,x,this),le()}},function G(){E=y.getLogger(A),le(),O.on(c.default.FRAGMENT_LOADING_COMPLETED,x,A),O.on(c.default.FRAGMENT_LOADING_PROGRESS,x,A)}(),A}_.__dashjs_factory_name="FragmentController",U.default=d.default.getClassFactory(_)},"./src/streaming/controllers/GapController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/core/events/Events.js"),w=m("./src/core/EventBus.js"),P=m("./src/streaming/constants/Constants.js");function l(){var _,N,S,O,b,v,p,y,g,A,E,L,d=this.context,f=Object(w.default)(d).getInstance();function Q(){(function fe(){L.debug("Stopping the gap controller"),b&&(clearInterval(b),b=null)})(),function x(){f.off(I.default.WALLCLOCK_TIME_UPDATED,ve,this),f.off(I.default.INITIAL_STREAM_SWITCH,oe,this),f.off(I.default.PLAYBACK_SEEKING,Y,this),f.off(I.default.BUFFER_REPLACEMENT_STARTED,z,_),f.off(I.default.TRACK_CHANGE_RENDERED,ie,_)}(),function le(){b=null,v=NaN,O=0,A=null,E={}}()}function Y(){A&&(clearTimeout(A),A=null)}function z(se){try{if(se.streamId!==y.getActiveStreamInfo().id||se.mediaType!==P.default.VIDEO&&se.mediaType!==P.default.AUDIO)return;se.streamId===y.getActiveStreamInfo().id&&(E[se.mediaType]=!0)}catch(Se){L.error(Se)}}function ie(se){!se||!se.mediaType||(E[se.mediaType]=!1)}function oe(){b||function he(){try{b||(L.debug("Starting the gap controller"),b=setInterval(function(){J()&&_e(p.getTime())},100))}catch{}}()}function ve(){if(J(S.get().streaming.gaps.enableSeekFix)&&++O>=10){var se=p.getTime();N===se?_e(se,!0):(N=se,v=NaN),O=0}}function J(){var se=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!y.getActiveStream())return!1;var Se=Object.keys(E).some(function(ne){return E[ne]}),ge=!!se&&de();return!Se&&S.get().streaming.gaps.jumpGaps&&y.getActiveStreamProcessors().length>0&&(!p.isSeeking()||ge)&&!p.isPaused()&&!y.getIsStreamSwitchInProgress()&&!y.getHasMediaOrInitialisationError()}function de(){var se=y.getActiveStream(),Se=parseFloat((se.getStartTime()+se.getDuration()).toFixed(5));return p.getTime()+S.get().streaming.gaps.threshold>=Se}function ae(se,Se){try{if(!se||se.length<=1&&Se>0)return NaN;for(var ge=NaN,ne=0;isNaN(ge)&&ne<se.length;){var X=ne>0?se.end(ne-1):0;Se<se.start(ne)&&X-Se<S.get().streaming.gaps.threshold&&(ge=ne),ne+=1}return ge}catch{return null}}function pe(se,Se){for(var ge=0,ne=se.length;ge<ne;ge++)if(Se>=se.start(ge)&&Se<=se.end(ge))return!0;return!1}function _e(se){var re,Se=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ge=S.get().streaming.gaps.enableStallFix,ne=S.get().streaming.gaps.stallSeek,X=S.get().streaming.gaps.smallGapLimit,F=S.get().streaming.gaps.jumpLargeGaps,V=g.getBufferRange(),k=NaN,te=!1;if(re=ae(V,se),!isNaN(re)){var me=V.start(re),Ee=me-se;Ee>0&&(Ee<=X||F)&&(k=me)}var q=p.getTimeToStreamEnd();if(isNaN(k)&&Se&&isFinite(q)&&!isNaN(q)&&q<X&&(k=parseFloat(p.getStreamEndTime().toFixed(5)),te=!0),ge&&isNaN(k)&&Se&&isNaN(re)&&pe(V,se)&&(0===ne?(L.warn("Toggle play pause to break stall"),g.pause(),g.play()):(L.warn("Jumping ".concat(ne,"s to break stall")),k=se+ne)),k>0&&v!==k&&k>se&&!A){var K=k-se;if(te){var j=y.getStreamForTime(k),$=j&&!!j.getPreloaded();L.warn("Jumping to end of stream because of gap from ".concat(se," to ").concat(k,". Gap duration: ").concat(K)),p.seek(k,!0,$)}else{var ce=p.getIsDynamic(),ue=re>0?V.end(re-1):se,be=ce?1e3*Math.max(0,K-.1):0;A=window.setTimeout(function(){p.seek(k,!0,!0),L.warn("Jumping gap occuring in period ".concat(y.getActiveStream().getStreamId()," starting at ").concat(ue," and ending at ").concat(k,". Jumping by: ").concat(k-ue)),A=null},be)}v=k}}return _={reset:Q,setConfig:function H(se){!se||(se.settings&&(S=se.settings),se.playbackController&&(p=se.playbackController),se.streamController&&(y=se.streamController),se.videoModel&&(g=se.videoModel))},initialize:function G(){!function W(){f.on(I.default.WALLCLOCK_TIME_UPDATED,ve,this),f.on(I.default.INITIAL_STREAM_SWITCH,oe,this),f.on(I.default.PLAYBACK_SEEKING,Y,this),f.on(I.default.BUFFER_REPLACEMENT_STARTED,z,_),f.on(I.default.TRACK_CHANGE_RENDERED,ie,_)}()}},function ee(){L=Object(T.default)(d).getInstance().getLogger(_),Q()}(),_}l.__dashjs_factory_name="GapController",U.default=M.default.getSingletonFactory(l)},"./src/streaming/controllers/MediaController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/EventBus.js"),w=m("./src/core/FactoryMaker.js"),P=m("./src/core/Debug.js"),R=m("./node_modules/bcp-47-normalize/index.js"),D=m.n(R),c=m("./node_modules/bcp-47-match/index.js");function d(){var S,O,b,v,p,y,g,A,_=this.context,N=Object(I.default)(_).getInstance();function ee(j,$){return j&&b[$]&&b[$][j]?b[$][j].list:[]}function Q(j,$){return j&&b[$]&&b[$][j]?b[$][j].current:null}function H(j){var $=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(j&&j.streamInfo){var ce=j.type,be=j.streamInfo.id,Re=Q(ce,be);if(b[be]&&b[be][ce]&&(b[be][ce].current=j,b[be][ce].current&&(ce!==M.default.TEXT&&!ie(j,Re)||ce===M.default.TEXT&&j.isFragmented)&&N.trigger(T.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Re,newMediaInfo:j,switchMode:v.get().streaming.trackSwitchMode[ce]},{streamId:be}),!$)){var Pe=J(j);if(!Pe||!b[be][ce].storeLastSettings)return;Pe.roles&&(Pe.role=Pe.roles[0],delete Pe.roles),Pe.accessibility&&(Pe.accessibility=Pe.accessibility[0]),Pe.audioChannelConfiguration&&(Pe.audioChannelConfiguration=Pe.audioChannelConfiguration[0]),y[ce]=Pe,A.setSavedMediaSettings(ce,Pe)}}}function W(j,$){!j||!$||(p[j]=$)}function x(j){return j?p[j]:null}function ie(j,$){if(!j&&!$)return!0;if(!j||!$)return!1;var ce=j.id===$.id,ue=j.viewpoint===$.viewpoint,be=j.lang===$.lang,Re=j.codec===$.codec,Pe=j.roles.toString()===$.roles.toString(),we=j.accessibility.toString()===$.accessibility.toString(),Ue=j.audioChannelConfiguration.toString()===$.audioChannelConfiguration.toString();return ce&&Re&&ue&&be&&Pe&&we&&Ue}function ve(){b={},y={},function ge(){p={audio:null,video:null,text:null}}()}function J(j){var $={lang:j.lang,viewpoint:j.viewpoint,roles:j.roles,accessibility:j.accessibility,audioChannelConfiguration:j.audioChannelConfiguration};return $.lang||$.viewpoint||$.role&&$.role.length>0||$.accessibility&&$.accessibility.length>0||$.audioChannelConfiguration&&$.audioChannelConfiguration.length>0?$:null}function de(j,$,ce){var ue=[];return j.forEach(function(be){$(ce,be)&&ue.push(be)}),0!==ue.length?ue:j}function ae(j,$){return!j.lang||j.lang instanceof RegExp?$.lang.match(j.lang):""!==$.lang&&Object(c.extendedFilter)($.lang,D()(j.lang)).length>0}function pe(j,$){return null==j.index||$.index===j.index}function he(j,$){return!j.viewpoint||j.viewpoint===$.viewpoint}function fe(j,$){var ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!j.role||!!$.roles.filter(function(be){return be===j.role})[0]||$.type===M.default.AUDIO&&ce}function _e(j,$){return j.accessibility?!!$.accessibility.filter(function(ue){return ue===j.accessibility})[0]:!$.accessibility.length}function se(j,$){return!j.audioChannelConfiguration||!!$.audioChannelConfiguration.filter(function(ue){return ue===j.audioChannelConfiguration})[0]}function X(j){var ue,$=0,ce=[];return j.forEach(function(be){(ue=Math.max.apply(Math,be.bitrateList.map(function(Re){return Re.bandwidth})))>$?($=ue,ce=[be]):ue===$&&ce.push(be)}),ce}function F(j){var ue,$=1/0,ce=[];return j.forEach(function(be){var Re=be.bitrateList.reduce(function(Pe,we){var Ue=Math.max(1,we.width*we.height);return Pe+we.bandwidth/Ue},0);(ue=Re/be.bitrateList.length)<$?($=ue,ce=[be]):ue===$&&ce.push(be)}),ce}function V(j){var ue,$=0,ce=[];return j.forEach(function(be){(ue=be.representationCount)>$?($=ue,ce=[be]):ue===$&&ce.push(be)}),ce}function re(j,$){if(j===M.default.TEXT)return $[0];var ue,ce=v.get().streaming.selectionModeForInitialTrack,be=g.getCustomInitialTrackSelectionFunction();if(be&&"function"==typeof be)ue=be($);else switch(ce){case M.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ue=function k(j){var $=function ne(j){var $=0,ce=[];return j.forEach(function(ue){isNaN(ue.selectionPriority)||(ue.selectionPriority>$?($=ue.selectionPriority,ce=[ue]):ue.selectionPriority===$&&ce.push(ue))}),ce}(j);return $.length>1&&($=X($)),$.length>1&&($=V($)),$}($);break;case M.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ue=function te(j){var $=X(j);return $.length>1&&($=V($)),$}($);break;case M.default.TRACK_SELECTION_MODE_FIRST_TRACK:ue=me($);break;case M.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ue=function Ee(j){var $=F(j);return $.length>1&&($=X($)),$}($);break;case M.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ue=function q(j){var $=V(j);return $.length>1&&($=X(j)),$}($);break;default:O.warn("Track selection mode ".concat(ce," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ue=me($)}return ue.length>0?ue[0]:$[0]}function me(j){return j[0]}return S={setInitialMediaSettingsForType:function L(j,$){var ce=y[j]||x(j),ue=ee(j,$.id),be=[];ce||W(j,ce=A.getSavedMediaSettings(j)),ue&&0!==ue.length&&(ce&&(be=de(be=Array.from(ue),ae,ce),be=de(be,pe,ce),be=de(be,he,ce),j===M.default.AUDIO&&!!y[j]||(be=de(be,fe,ce)),be=de(be,_e,ce),be=de(be,se,ce)),0===be.length?H(re(j,ue),!0):H(be.length>1?re(j,be):be[0]))},addTrack:function G(j){if(j){var $=j.type;if(function z(j){return j===M.default.AUDIO||j===M.default.VIDEO||j===M.default.TEXT||j===M.default.IMAGE}($)){var ce=j.streamInfo.id;b[ce]||(b[ce]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ue=b[ce][$].list,be=0,Re=ue.length;be<Re;++be)if(ie(ue[be],j))return;ue.push(j)}}},getTracksFor:ee,getCurrentTrackFor:Q,isCurrentTrack:function le(j){if(!j)return!1;var $=j.type,ce=j.streamInfo.id;return b[ce]&&b[ce][$]&&ie(b[ce][$].current,j)},setTrack:H,selectInitialTrack:re,setInitialSettings:W,getInitialSettings:x,getTracksWithHighestBitrate:X,getTracksWithHighestEfficiency:F,getTracksWithWidestRange:V,isTracksEqual:ie,matchSettings:function Se(j,$){var ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var ue=!1;if(j.lang){if(j.lang instanceof RegExp)ue=$.lang.match(j.lang);else if(""!==$.lang){var be=D()(j.lang);be&&(ue=Object(c.extendedFilter)($.lang,be).length>0)}}else ue=!0;var Re=null==j.index||$.index===j.index,Pe=!j.viewpoint||j.viewpoint===$.viewpoint,we=!j.role||!!$.roles.filter(function(Oe){return Oe===j.role})[0],Ue=!j.accessibility||!!$.accessibility.filter(function(Oe){return Oe===j.accessibility})[0],Ce=!j.audioChannelConfiguration||!!$.audioChannelConfiguration.filter(function(Oe){return Oe===j.audioChannelConfiguration})[0];return ue&&Re&&Pe&&(we||$.type===M.default.AUDIO&&ce)&&Ue&&Ce}catch(Oe){return!1}},matchSettingsLang:ae,matchSettingsIndex:pe,matchSettingsViewPoint:he,matchSettingsRole:fe,matchSettingsAccessibility:_e,matchSettingsAudioChannelConfig:se,saveTextSettingsDisabled:function Y(){A.setSavedMediaSettings(M.default.TEXT,null)},setConfig:function oe(j){!j||(j.domStorage&&(A=j.domStorage),j.settings&&(v=j.settings),j.customParametersModel&&(g=j.customParametersModel))},reset:ve},function E(){O=Object(P.default)(_).getInstance().getLogger(S),ve()}(),S}d.__dashjs_factory_name="MediaController";var f=w.default.getSingletonFactory(d);w.default.updateSingletonFactory(d.__dashjs_factory_name,f),U.default=f},"./src/streaming/controllers/MediaSourceController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js");function I(){var w,P,R,D=this.context;return w={createMediaSource:function l(){var b="WebKitMediaSource"in window;return"MediaSource"in window?P=new MediaSource:b&&(P=new WebKitMediaSource),P},attachMediaSource:function d(b){var v=window.URL.createObjectURL(P);return b.setSource(v),v},detachMediaSource:function f(b){b.setSource(null)},setDuration:function _(b){!P||"open"!==P.readyState||null===b&&isNaN(b)||P.duration!==b&&(function O(b){for(var v=b.sourceBuffers,p=0;p<v.length;p++)if(v[p].updating)return!0;return!1}(P)?setTimeout(_.bind(null,b),50):(R.info("Set MediaSource duration:"+b),P.duration=b))},setSeekable:function N(b,v){P&&"function"==typeof P.setLiveSeekableRange&&"function"==typeof P.clearLiveSeekableRange&&"open"===P.readyState&&b>=0&&b<v&&(P.clearLiveSeekableRange(),P.setLiveSeekableRange(b,v))},signalEndOfStream:function S(b){if(b&&"open"===b.readyState){for(var v=b.sourceBuffers,p=0;p<v.length;p++)if(v[p].updating||0===v[p].buffered.length)return;R.info("call to mediaSource endOfStream"),b.endOfStream()}}},function c(){R=Object(T.default)(D).getInstance().getLogger(w)}(),w}I.__dashjs_factory_name="MediaSourceController",U.default=M.default.getSingletonFactory(I)},"./src/streaming/controllers/PlaybackController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),w=m("./src/core/FactoryMaker.js"),P=m("./src/core/Debug.js"),R=m("./src/streaming/MediaPlayerEvents.js"),D=m("./src/streaming/constants/MetricsConstants.js");function l(){var _,N,S,O,b,v,p,y,g,A,E,L,G,ee,Q,le,W,x,Y,z,ie,oe,ve,d=this.context,f=Object(T.default)(d).getInstance();function de(){Se(),ee=!1,A=0,E=0,le=0,ie=!1,W=!1,oe=!1,x=NaN,p&&(f.off(I.default.DATA_UPDATE_COMPLETED,$e,_),f.off(I.default.LOADING_PROGRESS,Dt,_),f.off(I.default.MANIFEST_UPDATED,Fn,_),f.off(I.default.STREAMS_COMPOSED,nr,_),f.off(R.default.PLAYBACK_ENDED,yt,_),f.off(R.default.STREAM_INITIALIZING,kt,_),f.off(R.default.REPRESENTATION_SWITCH,mn,_),f.off(R.default.BUFFER_LEVEL_STATE_CHANGED,at,_),Le(),function Ct(){p.removeEventListener("canplay",Je),p.removeEventListener("canplaythrough",nt),p.removeEventListener("play",ht),p.removeEventListener("waiting",Rt),p.removeEventListener("playing",Ht),p.removeEventListener("pause",Bt),p.removeEventListener("error",gt),p.removeEventListener("seeking",$t),p.removeEventListener("seeked",Jt),p.removeEventListener("timeupdate",De),p.removeEventListener("progress",Te),p.removeEventListener("ratechange",Ne),p.removeEventListener("loadedmetadata",Ye),p.removeEventListener("loadeddata",st),p.removeEventListener("stalled",Ot),p.removeEventListener("ended",tt),p.removeEventListener("volumechange",ut)}()),g=null,p=null,L=null,G=null}function fe(){return parseFloat((_e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-re()).toFixed(5))}function _e(je){var Xe=je||L;return Xe.start+Xe.duration}function se(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0];L&&p&&p.getElement()?(je&&G&&V(re()),p.play()):ee=!0}function Se(){L&&p&&p.pause()}function ge(je){var Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],At=arguments.length>3&&void 0!==arguments[3]&&arguments[3];L&&p&&je!==(isNaN(x)?p.getTime():x)&&((Y=!0===ct)||(x=je),N.info("Requesting seek to time: "+je+(Y?" (internal)":"")),G&&At&&V(je),p.setCurrentTime(je,Xe))}function F(){if(L&&p&&G){var je=S&&S.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO,Xe=b.getCurrentDVRInfo(je);return Xe&&Xe.range?Xe.range.end:0}}function V(je){var Xe=new Date(y.getClientReferenceTime()),ct=v.getRegularPeriods()[0],At=y.calcPresentationTimeFromWallTime(Xe,ct);A=At-je}function re(){return L&&p?p.getTime():null}function k(){return L&&p?p.isPaused():null}function te(){return L&&p?p.isSeeking():null}function me(){return L&&p?p.isStalled():null}function Ee(){return L&&p?p.getPlaybackRate():null}function K(){return L&&p?p.getEnded():null}function j(){return G}function Ce(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!k()&&G&&0!==p.getReadyState()&&!te()&&!ie){je||(je=S.hasVideoTrack()?M.default.VIDEO:M.default.AUDIO);var Xe=re(),ct=Oe(Xe,je);!isNaN(ct)&&ct!==Xe&&!te()&&(me()||z||1===p.getReadyState())&&(N.debug("UpdateCurrentTime: Seek to actual time: ".concat(ct," from currentTime: ").concat(Xe)),ge(ct,!1,!1))}}function Oe(je,Xe){var ct=b.getCurrentDVRInfo(Xe),At=ct?ct.range:null;return At?je>At.end?Math.max(At.end-A,At.start):je>0&&je+.25<At.start&&Math.abs(je-At.start)<31536e4?W?Math.max(At.end-A,At.start):At.start:je:NaN}function Ge(){null===g&&(g=setInterval(function(){!function Be(){f.trigger(I.default.WALLCLOCK_TIME_UPDATED,{isDynamic:G,time:new Date}),j()&&(S.addDVRMetric(),k()?function Ze(){var je=Date.now();(!Q||je>Q+500)&&(Q=je,De())}():Ce())}()},ve.get().streaming.wallclockTimeUpdateInterval))}function Le(){clearInterval(g),g=null}function $e(je){var Xe=v.convertRepresentationToRepresentationInfo(je.currentRepresentation),ct=Xe?Xe.mediaInfo.streamInfo:null;null===ct||L.id!==ct.id||(L=ct)}function Je(){f.trigger(I.default.CAN_PLAY)}function nt(){f.trigger(I.default.CAN_PLAY_THROUGH)}function at(je){je.streamId===S.getActiveStreamInfo().id&&(z=je.state===D.default.BUFFER_EMPTY,ve.get().streaming.buffer.setStallState&&p.setStallState(je.mediaType,je.state===D.default.BUFFER_EMPTY))}function ht(){N.info("Native video element event: play"),Ce(),Ge(),f.trigger(I.default.PLAYBACK_STARTED,{startTime:re()})}function Rt(){N.info("Native video element event: waiting"),f.trigger(I.default.PLAYBACK_WAITING,{playingTime:re()})}function Ht(){N.info("Native video element event: playing"),Y=!1,f.trigger(I.default.PLAYBACK_PLAYING,{playingTime:re()})}function Bt(){N.info("Native video element event: pause"),f.trigger(I.default.PLAYBACK_PAUSED,{ended:K()})}function $t(){if(!Y){var je=re();!isNaN(x)&&x!==je&&(je=x),x=NaN,N.info("Seeking to: "+je),Ge(),f.trigger(I.default.PLAYBACK_SEEKING,{seekTime:je,streamId:L.id})}}function Jt(){N.info("Native video element event: seeked"),Y=!1,f.trigger(I.default.PLAYBACK_SEEKED)}function De(){L&&f.trigger(I.default.PLAYBACK_TIME_UPDATED,{timeToEnd:fe(),time:re(),streamId:L.id})}function Te(){f.trigger(I.default.PLAYBACK_PROGRESS,{streamId:L.id})}function Ne(){var je=Ee();N.info("Native video element event: ratechange: ",je),f.trigger(I.default.PLAYBACK_RATE_CHANGED,{playbackRate:je})}function Ye(){N.info("Native video element event: loadedmetadata"),f.trigger(I.default.PLAYBACK_METADATA_LOADED),Ge()}function st(){N.info("Native video element event: loadeddata"),f.trigger(I.default.PLAYBACK_LOADED_DATA)}function tt(){N.info("Native video element event: ended"),Se(),Le();var je=S?S.getActiveStreamInfo():null;!je||f.trigger(I.default.PLAYBACK_ENDED,{isLast:je.isLast})}function ut(){f.trigger(I.default.PLAYBACK_VOLUME_CHANGED)}function yt(je){if(g&&je.isLast){N.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Xe=je.seekTime?je.seekTime:_e();p.setCurrentTime(Xe),Se(),Le()}}function gt(je){f.trigger(I.default.PLAYBACK_ERROR,{error:(je.target||je.srcElement).error})}function Dt(je){if(!1===je.stream&&W&&!isNaN(je.request.duration)){var Xe=1.2*je.request.duration;Xe>A&&(N.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Xe.toFixed(2)),A=Xe,E=Xe)}}function Ot(je){f.trigger(I.default.PLAYBACK_STALLED,{e:je})}function kt(je){!function Ae(je){je&&je.supplementalProperties&&"true"===je.supplementalProperties[M.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(N.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),W=!0)}(je.mediaInfo)}function mn(je){var Xe=S.getActiveStreamInfo();!je||!Xe||!je.currentRepresentation||!je.streamId||je.streamId!==Xe.id||!je.mediaType||je.mediaType!==M.default.VIDEO&&je.mediaType!==M.default.AUDIO||(W=!je.currentRepresentation.availabilityTimeComplete)&&!oe&&(oe=!0)}function Fn(){ie=!0}function nr(){ie=!1}return _={initialize:function ae(je,Xe){L=je,!0!==Xe&&function pe(){(function it(){p.addEventListener("canplay",Je),p.addEventListener("canplaythrough",nt),p.addEventListener("play",ht),p.addEventListener("waiting",Rt),p.addEventListener("playing",Ht),p.addEventListener("pause",Bt),p.addEventListener("error",gt),p.addEventListener("seeking",$t),p.addEventListener("seeked",Jt),p.addEventListener("timeupdate",De),p.addEventListener("progress",Te),p.addEventListener("ratechange",Ne),p.addEventListener("loadedmetadata",Ye),p.addEventListener("loadeddata",st),p.addEventListener("stalled",Ot),p.addEventListener("ended",tt),p.addEventListener("volumechange",ut)})(),G=L.manifestInfo.isDynamic,z=!1,Y=!1,f.on(I.default.DATA_UPDATE_COMPLETED,$e,_),f.on(I.default.LOADING_PROGRESS,Dt,_),f.on(I.default.MANIFEST_UPDATED,Fn,_),f.on(I.default.STREAMS_COMPOSED,nr,_),f.on(R.default.PLAYBACK_ENDED,yt,_,{priority:T.default.EVENT_PRIORITY_HIGH}),f.on(R.default.STREAM_INITIALIZING,kt,_),f.on(R.default.REPRESENTATION_SWITCH,mn,_),f.on(R.default.BUFFER_LEVEL_STATE_CHANGED,at,_),ee&&(ee=!1,se())}()},setConfig:function Ue(je){!je||(je.streamController&&(S=je.streamController),je.serviceDescriptionController&&(O=je.serviceDescriptionController),je.dashMetrics&&(b=je.dashMetrics),je.adapter&&(v=je.adapter),je.videoModel&&(p=je.videoModel),je.timelineConverter&&(y=je.timelineConverter),je.settings&&(ve=je.settings))},getTimeToStreamEnd:fe,getBufferLevel:function rt(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Xe=null;return S.getActiveStreamProcessors().forEach(function(ct){if(!je||0===je.length||-1===je.indexOf(ct.getType())){var At=ct.getBufferLevel();Xe=null===Xe?At:Math.min(Xe,At)}}),Xe},getPlaybackStalled:function he(){return z},getTime:re,getLowLatencyModeEnabled:function mt(){return W},getInitialCatchupModeActivated:function un(){return oe},getIsManifestUpdateInProgress:function ce(){return ie},getPlaybackRate:Ee,getPlayedRanges:function q(){return L&&p?p.getPlayedRanges():null},getEnded:K,getIsDynamic:j,getStreamController:function $(){return S},computeAndSetLiveDelay:function we(je,Xe){var ct,At,sn,Fe=!isNaN(je)&&isFinite(je)?je:NaN,qe=v.getSuggestedPresentationDelay(),dt=O.getServiceDescriptionSettings();return ct=isNaN(ve.get().streaming.delay.liveDelay)?null===ve.get().streaming.delay.liveDelayFragmentCount||isNaN(ve.get().streaming.delay.liveDelayFragmentCount)||isNaN(Fe)?dt&&!isNaN(dt.liveDelay)&&dt.liveDelay>0?dt.liveDelay:!0===ve.get().streaming.delay.useSuggestedPresentationDelay&&null!==qe&&!isNaN(qe)&&qe>0?qe:isNaN(Fe)?Xe&&!isNaN(Xe.minBufferTime)?4*Xe.minBufferTime:4*L.manifestInfo.minBufferTime:4*Fe:Fe*ve.get().streaming.delay.liveDelayFragmentCount:ve.get().streaming.delay.liveDelay,null!==(sn=v.getAvailabilityStartTime())&&(le=sn),At=Xe&&Xe.dvrWindowSize>0?Math.min(ct,Xe.dvrWindowSize):ct,A=At,E=At,At},getLiveDelay:function be(){return A},getOriginalLiveDelay:function Re(){return E},getCurrentLiveLatency:function Pe(){if(!G||isNaN(le))return NaN;var je=re();if(isNaN(je)||0===je)return 0;var Xe=(new Date).getTime()+1e3*y.getClientTimeOffset();return Math.max(((Xe-le-1e3*je)/1e3).toFixed(3),0)},play:se,isPaused:k,isStalled:me,pause:Se,isSeeking:te,getStreamEndTime:_e,seek:ge,seekToOriginalLive:function ne(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],At=F();0!==At&&ge(At-(A=E),je,Xe,ct)},seekToCurrentLive:function X(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Xe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],At=F();0!==At&&ge(At-A,je,Xe,ct)},reset:de,updateCurrentTime:Ce,getAvailabilityStartTime:function ue(){return le}},function J(){N=Object(P.default)(d).getInstance().getLogger(_),de()}(),_}l.__dashjs_factory_name="PlaybackController",U.default=w.default.getSingletonFactory(l)},"./src/streaming/controllers/ScheduleController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/models/FragmentModel.js"),I=m("./src/core/EventBus.js"),w=m("./src/core/events/Events.js"),P=m("./src/core/FactoryMaker.js"),R=m("./src/core/Debug.js"),D=m("./src/streaming/constants/MetricsConstants.js"),c=m("./src/streaming/MediaPlayerEvents.js");function l(d){d=d||{};var E,L,G,ee,Q,le,H,W,x,Y,z,ie,oe,f=this.context,_=Object(I.default)(f).getInstance(),N=d.dashMetrics,S=d.mediaPlayerModel,O=d.fragmentModel,b=d.abrController,v=d.playbackController,p=d.textController,y=d.type,g=d.bufferController,A=d.settings;function he(Oe){if(!g.getIsBufferingCompleted()){fe();var Ge=isNaN(Oe)?0:Oe;le=setTimeout(se,Ge)}}function fe(){le&&(clearTimeout(le),le=null)}function se(){try{if(function ge(){try{return y===M.default.TEXT&&!p.isTextEnabled()||v.isPaused()&&(!v.getStreamController().getInitialPlayback()||!v.getStreamController().getAutoPlay())&&!A.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void fe();if(function ne(){try{return ee&&(isNaN(Y)||z||function _e(){var Ge=b.getMaxAllowedIndexFor(y,L.id);return!(!isNaN(x)&&x==Ge||(G.info("Top quality "+y+" index has changed from "+x+" to "+Ge),x=Ge,0))}()||function X(){return!y||!ee||N.getCurrentBufferLevel(y)<F()}())}catch{return!1}}()){var Oe=!1;oe&&(Oe=b.checkPlaybackQuality(y,L.id)),Oe||function Se(){ie||ee.quality!==Y||z?(z?(G.debug("Switch track for "+y+", representation id = "+ee.id),z=!1):G.debug("Quality has changed, get init request for representationid = "+ee.id),_.trigger(w.default.INIT_FRAGMENT_NEEDED,{representationId:ee.id,sender:E},{streamId:L.id,mediaType:y}),oe=!1,ie=!1):(G.debug("Media segment needed for ".concat(y," and stream id ").concat(L.id)),_.trigger(w.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:L.id,mediaType:y}),oe=!0)}()}else he(v.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}catch{he(v.getLowLatencyModeEnabled()?A.get().streaming.scheduling.lowLatencyTimeout:A.get().streaming.scheduling.defaultTimeout)}}function F(){var Oe=NaN;return!y||!ee||(Oe=y===M.default.TEXT?function V(){try{if(p.isTextEnabled()){if(isNaN(ee.fragmentDuration)){var Oe=N.getCurrentSchedulingInfo(D.default.SCHEDULING_INFO);return Oe?Oe.duration:0}return ee.fragmentDuration}return 0}catch{return 0}}():y===M.default.AUDIO&&H?function re(){try{var Oe=N.getCurrentBufferLevel(M.default.VIDEO);return isNaN(ee.fragmentDuration)?Oe+1:Math.max(Oe+1,ee.fragmentDuration)}catch{return 0}}():function k(){try{var Oe=ee.mediaInfo.streamInfo;return b.isPlayingAtTopQuality(Oe)?Oe.manifestInfo.duration>=A.get().streaming.buffer.longFormContentDurationThreshold?A.get().streaming.buffer.bufferTimeAtTopQualityLongForm:A.get().streaming.buffer.bufferTimeAtTopQuality:S.getStableBufferTime()}catch{return S.getStableBufferTime()}}()),Oe}function Ee(){q(!0)}function q(Oe){if(v&&O){var Ge=O.getRequests({state:T.default.FRAGMENT_MODEL_EXECUTED,time:v.getTime(),threshold:0})[0];Ge&&v.getTime()>=Ge.startTime&&((!W.mediaInfo||Ge.mediaInfo.type===W.mediaInfo.type&&Ge.mediaInfo.id!==W.mediaInfo.id)&&Oe&&_.trigger(w.default.TRACK_CHANGE_RENDERED,{mediaType:y,oldMediaInfo:W.mediaInfo,newMediaInfo:Ge.mediaInfo,streamId:L.id}),(Ge.quality!==W.quality||Ge.adaptationIndex!==W.adaptationIndex)&&Oe&&(G.debug("Quality change rendered for streamId ".concat(L.id," and type ").concat(y)),_.trigger(w.default.QUALITY_CHANGE_RENDERED,{mediaType:y,oldQuality:W.quality,newQuality:Ge.quality,streamId:L.id})),W={mediaInfo:Ge.mediaInfo,quality:Ge.quality,adaptationIndex:Ge.adaptationIndex})}}function K(Oe){G.debug("Appended bytes for ".concat(Oe.mediaType," and stream id ").concat(L.id)),(isNaN(Oe.index)||isNaN(Y))&&(Y=Oe.quality,G.info("["+y+"] lastInitializedRepresentationInfo changed to "+Oe.quality)),he(0)}function j(){O.abortRequests(),fe()}function $(){A.get().streaming.scheduling.scheduleWhilePaused||he()}function ce(Oe){N.updatePlayListTraceMetrics({playbackspeed:Oe.playbackRate.toString()})}function we(){oe=!0,Q=0,Y=NaN,W={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},x=NaN,z=!1,ie=!1}return E={initialize:function J(Oe){H=Oe,_.on(w.default.BYTES_APPENDED_END_FRAGMENT,K,E),_.on(w.default.URL_RESOLUTION_FAILED,j,E),_.on(c.default.PLAYBACK_STARTED,$,E),_.on(c.default.PLAYBACK_RATE_CHANGED,ce,E),_.on(c.default.PLAYBACK_TIME_UPDATED,Ee,E)},getType:function de(){return y},getStreamId:function ae(){return L.id},setCurrentRepresentation:function pe(Oe){ee=Oe},setTimeToLoadDelay:function ue(Oe){Q=Oe},getTimeToLoadDelay:function be(){return Q},setSwitchTrack:function te(Oe){z=Oe},getSwitchStrack:function me(){return z},startScheduleTimer:he,clearScheduleTimer:fe,reset:function Ue(){_.off(w.default.BYTES_APPENDED_END_FRAGMENT,K,E),_.off(w.default.URL_RESOLUTION_FAILED,j,E),_.off(c.default.PLAYBACK_STARTED,$,E),_.off(c.default.PLAYBACK_RATE_CHANGED,ce,E),_.off(c.default.PLAYBACK_TIME_UPDATED,Ee,E),fe(),q(!1),we(),L=null},getBufferTarget:F,getPlaybackController:function Ce(){return v},setCheckPlaybackQuality:function Re(Oe){oe=Oe},setInitSegmentRequired:function Pe(Oe){ie=Oe}},function ve(){G=Object(R.default)(f).getInstance().getLogger(E),we(),L=d.streamInfo}(),E}l.__dashjs_factory_name="ScheduleController",U.default=P.default.getClassFactory(l)},"./src/streaming/controllers/StreamController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/constants/MetricsConstants.js"),I=m("./src/streaming/Stream.js"),w=m("./src/streaming/ManifestUpdater.js"),P=m("./src/core/EventBus.js"),R=m("./src/core/events/Events.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/streaming/vo/metrics/PlayList.js"),l=m("./src/core/Debug.js"),d=m("./src/streaming/utils/InitCache.js"),f=m("./src/streaming/utils/URLUtils.js"),_=m("./src/streaming/MediaPlayerEvents.js"),N=m("./src/streaming/controllers/TimeSyncController.js"),S=m("./src/streaming/controllers/MediaSourceController.js"),O=m("./src/streaming/vo/DashJSError.js"),b=m("./src/core/errors/Errors.js"),v=m("./src/streaming/controllers/EventController.js"),p=m("./src/streaming/constants/ConformanceViolationConstants.js");function y(H){return function L(H){if(Array.isArray(H))return G(H)}(H)||function E(H){if(typeof Symbol<"u"&&null!=H[Symbol.iterator]||null!=H["@@iterator"])return Array.from(H)}(H)||function A(H,W){if(H){if("string"==typeof H)return G(H,W);var x=Object.prototype.toString.call(H).slice(8,-1);if("Object"===x&&H.constructor&&(x=H.constructor.name),"Map"===x||"Set"===x)return Array.from(H);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return G(H,W)}}(H)||function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(H,W){(null==W||W>H.length)&&(W=H.length);for(var x=0,Y=new Array(W);x<W;x++)Y[x]=H[x];return Y}function le(){var x,Y,z,ie,oe,ve,J,de,ae,pe,he,fe,_e,se,Se,ge,ne,X,F,V,re,k,te,me,Ee,q,K,j,$,ce,ue,be,Re,Pe,we,Ue,Ce,Oe,Ge,Le,$e,Je,nt,at,ht,Rt,Ht,Bt,$t,H=this.context,W=Object(P.default)(H).getInstance();function Ye(){if(!(ve&&ve.hasOwnProperty("load")&&k&&k.hasOwnProperty("initialize")&&k.hasOwnProperty("reset")&&k.hasOwnProperty("getClientTimeOffset")&&J&&re&&ae&&Pe))throw new Error(M.default.MISSING_CONFIG_ERROR)}function st(){if(!oe||!oe.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function yt(){!function Be(){try{var We=de.getStreamsInfo();if(!me&&0===We.length)throw new Error("There are no periods in the MPD");me&&We.length>0&&ae.updateManifestUpdateInfo({currentTime:Pe.getTime(),buffered:Re.getBufferRange(),presentationStartTime:We[0].start,clientTimeOffset:k.getClientTimeOffset()}),te.length>0&&function xn(We){0!==We.length?te=te.filter(function(pt){var ln=We.filter(function(jt){return jt.id===pt.getId()}).length>0||pt.getId()===me.getId();return ln||(Y.debug("Removing stream ".concat(pt.getId())),pt.reset(!0)),ln}):Y.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(We);for(var pt=[],et=0,ln=We.length;et<ln;et++){var jt=We[et];pt.push(Ze(jt)),ae.addManifestUpdateStreamInfo(jt)}Promise.all(pt).then(function(){return ht.get().streaming.applyContentSteering&&!me&&fe.shouldQueryBeforeStart()?fe.loadSteeringData():Promise.resolve()}).then(function(){me||rt(We),W.trigger(R.default.STREAMS_COMPOSED),dt()}).catch(function(En){throw En})}catch(En){re.error(new O.default(b.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,En.message+" nostreamscomposed",J.getValue())),ue=!0,xr()}}()}function gt(){Rt=!0}function Ze(We){var pt=el(We.id);return pt?pt.updateData(We):(pt=Object(I.default)(H).create({manifestModel:J,mediaPlayerModel:Ue,dashMetrics:ae,manifestUpdater:oe,adapter:de,timelineConverter:k,capabilities:z,capabilitiesFilter:ie,errHandler:re,baseURLController:_e,segmentBaseController:se,textController:q,abrController:ge,playbackController:Pe,eventController:X,mediaController:ne,protectionController:Ee,videoModel:Re,streamInfo:We,settings:ht}),te.push(pt),pt.initialize(),Promise.resolve())}function rt(We){Xe();var pt=ae.getCurrentDVRInfo().range;if(pt.end<pt.start){Ht&&clearTimeout(Ht);var et=Math.min(1e3*(-1*(pt.end-pt.start)+2),2147483647);return Y.debug("Waiting for ".concat(et," ms before playback can start")),W.trigger(R.default.AST_IN_FUTURE,{delay:et}),void(Ht=setTimeout(function(){rt(We)},et))}ht.get().streaming.applyProducerReferenceTime&&we.calculateProducerReferenceTimeOffsets(We);var ln=We[0].manifestInfo;if(ht.get().streaming.applyServiceDescription&&we.applyServiceDescription(ln),de.getIsDynamic()){var jt=Oa(We,ln);Pe.computeAndSetLiveDelay(jt,ln)}var En=function xi(){var We;if(de.getIsDynamic()){var et=ae.getCurrentDVRInfo();We=(et&&et.range?et.range.end:0)-Pe.getOriginalLiveDelay();var jt=et?et.range:null;if(jt){if(isNaN(Bt)&&-1===Bt.toString().indexOf("posix:")){var Un=_t(!0);isNaN(Un)||(Y.info("Start time from URI parameters: ".concat(Un)),We=Math.min(We,Un))}else{Y.info("Start time provided by the app: ".concat(Bt));var En=di(!0,Bt);isNaN(En)||(We=Math.min(We,En))}var or=ht.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;We=Math.max(We,jt.start+or)}}else if(We=as()[0].getStreamInfo().start,isNaN(Bt)){var Ro=_t(!1);isNaN(Ro)||(Y.info("Start time from URI parameters: ".concat(Ro)),We=Math.max(We,Ro))}else{Y.info("Start time provided by the app: ".concat(Bt));var ss=di(!1,Bt);isNaN(ss)||(We=Math.max(We,ss))}return We}(),Un=je(En),or=null!==Un?Un:te[0];W.trigger(R.default.INITIAL_STREAM_SWITCH,{startTime:En}),mt(or,null,En),function xt(){$e||($e=setInterval(function(){!$&&Pe.getTimeToStreamEnd()<=0&&!Pe.isSeeking()&&W.trigger(R.default.PLAYBACK_ENDED,{isLast:ta().isLast})},200))}()}function mt(We,pt,et){try{if($||!We||pt===We&&We.getIsActive())return;$=!0,W.trigger(R.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:pt?pt.getStreamInfo():null,toStreamInfo:We.getStreamInfo()});var ln=!1;me=We,pt&&(ln=it(We,pt),pt.deactivate(ln)),et=isNaN(et)?!ln&&pt?We.getStreamInfo().start:NaN:et,Y.info("Switch to stream ".concat(We.getId(),". Seektime is ").concat(et,", current playback time is ").concat(Pe.getTime(),". Seamless period switch is set to ").concat(ln)),nt=nt.filter(function(jt){return jt.getId()!==me.getId()}),Pe.initialize(ta(),!!pt),Re.getElement()&&Dt(et,ln)}catch{$=!1}}function Dt(We,pt){var et;function ln(){if(be&&"open"===be.readyState){Y.debug("MediaSource is open!"),window.URL.revokeObjectURL(et),be.removeEventListener("sourceopen",ln),be.removeEventListener("webkitsourceopen",ln),Wt();var En=ae.getCurrentDVRInfo();pe.setSeekable(En.range.start,En.range.end),Ot(We,pt)}}function jt(){be.addEventListener("sourceopen",ln,!1),be.addEventListener("webkitsourceopen",ln,!1),et=pe.attachMediaSource(Re),Y.debug("MediaSource attached to element.  Waiting on open...")}be?pt?Ot(We,pt):(pe.detachMediaSource(Re),jt()):(be=pe.createMediaSource(),jt())}function Ot(We,pt){me.activate(be,pt?Je:void 0,We).then(function(et){if(et){var ln=Object.keys(et);ln.length>0&&et[ln[0]].getBuffer().changeType&&(at=!0),Je=et}isNaN(We)||(W.trigger(R.default.SEEK_TARGET,{time:We},{streamId:me.getId()}),Pe.seek(We,!1,!0),me.startScheduleControllers()),$=!1,W.trigger(R.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:ta()})})}function kt(We){var et=je(We.seekTime);et&&et!==me?et&&et!==me&&(mn(),function nr(We,pt){var et=We&&!isNaN(We.seekTime)?We.seekTime:NaN,jt=me.getProcessors().map(function(En){return En.prepareOuterPeriodPlaybackSeeking(We)});Promise.all(jt).then(function(){mt(pt,me,et)}).catch(function(En){re.error(En)})}(We,et)):(mn(),function Fn(We){me.getProcessors().forEach(function(et){return et.prepareInnerPeriodPlaybackSeeking(We)}),os(c.PlayListTrace.USER_REQUEST_STOP_REASON)}(We)),Na(c.PlayList.SEEK_START_REASON)}function mn(){un()}function un(){nt&&nt.length>0&&(nt.forEach(function(We){We.deactivate(!0)}),nt=[])}function Ae(We){We.newMediaInfo.streamInfo.id===me.getId()&&(un(),me.prepareTrackChange(We))}function it(We,pt){try{return ht.get().streaming.buffer.reuseExistingSourceBuffers&&(pt.isProtectionCompatible(We)||Rt)&&(at||pt.isMediaCodecCompatible(We,pt))}catch{return!1}}function Ct(We){var pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;be&&!We.getPreloaded()&&it(We,pt)&&We.startPreloading(be,Je).then(function(){nt.push(We)})}function je(We){if(isNaN(We))return null;for(var pt=te.length,et=0;et<pt;et++){var ln=te[et];if(We<parseFloat((ln.getStartTime()+ln.getDuration()).toFixed(5)))return ln}return null}function Xe(){try{var We=de.getIsDynamic(),et=de.getStreamsInfo()[0].manifestInfo,ln=Pe.getTime(),jt=k.calcTimeShiftBufferWindow(te,We),En=Et();if(typeof jt.start>"u"||typeof jt.end>"u")return;En&&0!==En.length?En.forEach(function(Un){ae.addDVRInfo(Un.getType(),ln,et,jt)}):ae.addDVRInfo(M.default.VIDEO,ln,et,jt)}catch{}}function ct(We){if(Ge&&j){var pt=Ue.getInitialBufferLevel(),et=[M.default.TEXT];(isNaN(pt)||pt<=Pe.getBufferLevel(et)||de.getIsDynamic()&&pt>Pe.getLiveDelay())&&(Ge=!1,Na(c.PlayList.INITIAL_PLAYOUT_START_REASON),Pe.play())}We&&We.mediaType&&ae.addBufferLevel(We.mediaType,new Date,1e3*We.bufferLevel)}function At(We){We.streamInfo.id===me.getId()&&We.reason&&We.reason.forceReplace&&un(),el(We.streamInfo.id).prepareQualityChange(We)}function sn(){if(de.getIsDynamic()&&0!==Pe.getOriginalLiveDelay()&&me){var We=de.getStreamsInfo();if(We.length>0){var pt=We[0].manifestInfo,et=Oa(We,pt);Pe.computeAndSetLiveDelay(et,pt)}}}function Xt(){if(xa()){var We=Re.getPlaybackQuality();We&&ae.addDroppedFrames(We)}}function He(){Y.debug("[onPlaybackStarted]"),!Ge&&Oe&&Na(c.PlayList.RESUME_FROM_PAUSE_START_REASON),Ge&&(Ge=!1),Le&&(Le=!1,ht.get().streaming.applyContentSteering&&!fe.shouldQueryBeforeStart()&&fe.loadSteeringData()),Oe=!1}function Fe(We){Y.debug("[onPlaybackPaused]"),We.ended||(Oe=!0,os(c.PlayListTrace.USER_REQUEST_STOP_REASON))}function qe(We){Y.debug("Stream with id ".concat(We.streamInfo.id," finished buffering")),be&&We.streamInfo.isLast?(Y.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),pe.signalEndOfStream(be)):dt()}function dt(){if(me&&me.getHasFinishedBuffering())for(var We=function nn(){var We=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var pt=We||me||null;if(pt){var et=pt.getStreamInfo();return te.filter(function(ln){var jt=ln.getStreamInfo();return jt.start>et.start&&et.id!==jt.id})}}catch{return[]}}(me),pt=0;pt<We.length;){var et=We[pt],ln=0===pt?me:We[pt-1];!et.getPreloaded()&&ln.getHasFinishedBuffering()&&be&&Ct(et,ln),pt+=1}}function Mt(){$e&&(clearInterval($e),$e=null)}function Et(){return me?me.getProcessors():[]}function Ut(We){if(me&&!me.getIsEndedEventSignaled()){me.setIsEndedEventSignaled(!0);var pt=function Qt(){var pt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||me||null;if(!pt)return null;for(var et=pt.getStreamInfo(),ln=et.start,jt=0,En=-1,Un=NaN;jt<te.length;){var pr=te[jt].getStreamInfo(),ro=pr.start-ln;ro>0&&(isNaN(Un)||ro<Un)&&et.id!==pr.id&&(Un=ro,En=jt),jt+=1}return En>=0?te[En]:null}();pt?(Y.debug("StreamController onEnded, found next stream with id ".concat(pt.getStreamInfo().id,". Switching from ").concat(me.getStreamInfo().id," to ").concat(pt.getStreamInfo().id)),mt(pt,me,NaN)):(Y.debug("StreamController no next stream found"),me.setIsEndedEventSignaled(!1)),os(pt?c.PlayListTrace.END_OF_PERIOD_STOP_REASON:c.PlayListTrace.END_OF_CONTENT_STOP_REASON)}We&&We.isLast&&(Mt(),fe.stopSteeringRequestTimer())}function Wt(We){var pt=We||ta().manifestInfo.duration;pe.setDuration(pt)}function _t(We){var pt=Se.getURIFragmentData();if(!pt||!pt.t)return NaN;var ln=as()[0].getStreamInfo().start;return pt.t=pt.t.split(",")[0],dn(We,pt.t,ln)}function di(We,pt){var et=0;return We||(et=as()[0].getStreamInfo().start),dn(We,pt,et)}function dn(We,pt,et){var ln=de.getRegularPeriods()[0],jt=pt.toString(),En=-1!==jt.indexOf("posix:")?"now"===jt.substring(6)?Date.now()/1e3:parseFloat(jt.substring(6)):NaN;return We&&!isNaN(En)?k.calcPresentationTimeFromWallTime(new Date(1e3*En),ln):parseFloat(jt)+et}function Oa(We,pt){try{var et=NaN;if(pt&&!isNaN(pt.maxFragmentDuration)&&isFinite(pt.maxFragmentDuration))return pt.maxFragmentDuration;if(We&&1===We.length){var ln=We[0],En=[M.default.VIDEO,M.default.AUDIO,M.default.TEXT].reduce(function(Un,or){var pr=de.getMediaInfoForType(ln,or);return pr&&!1!==pr.isFragmented&&Un.push(pr),Un},[]).reduce(function(Un,or){var pr=de.getVoRepresentations(or);return pr&&pr.length>0&&pr.forEach(function(ro){ro&&Un.push(ro)}),Un},[]).reduce(function(Un,or){var pr=de.convertRepresentationToRepresentationInfo(or);return pr&&pr.fragmentDuration&&!isNaN(pr.fragmentDuration)&&Un.push(pr.fragmentDuration),Un},[]);et=Math.max.apply(Math,y(En))}return isFinite(et)?et:NaN}catch{return NaN}}function ea(We){if(We.error)ue=!0,xr();else{Y.info("Manifest updated... updating data system wide.");var pt=We.manifest;de.updatePeriods(pt);var et=de.getUTCTimingSources();de.getIsDynamic()&&(!et||0===et.length)&&W.trigger(_.default.CONFORMANCE_VIOLATION,{level:p.default.LEVELS.WARNING,event:p.default.EVENTS.NO_UTC_TIMING_ELEMENT});var ln=de.getIsDynamic()?et.concat(Ce.getUTCTimingSources()):et,jt=V.isHTTPS(We.manifest.url);ln.forEach(function(En){En.value.replace(/.*?:\/\//g,"")===ht.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(En.value=En.value.replace(jt?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),jt?"https://":"http://"),Y.debug("Matching default timing source protocol to manifest protocol: ",En.value))}),ie.filterUnsupportedFeatures(pt).then(function(){_e.initialize(pt),he.attemptSync(ln,de.getIsDynamic())})}}function xa(){return!!me&&me.getHasVideoTrack()}function to(){return!!me&&me.getHasAudioTrack()}function os(We,pt){pt=pt||new Date,Et().forEach(function(et){et.finalisePlayList(pt,We)}),ae.addPlayList()}function Na(We){ae.createPlaylistMetrics(1e3*Pe.getTime(),We)}function Lu(We){if(We.error){var pt="";switch(We.error.code){case 1:pt="MEDIA_ERR_ABORTED";break;case 2:pt="MEDIA_ERR_NETWORK";break;case 3:pt="MEDIA_ERR_DECODE",$t.counts.mediaErrorDecode+=1;break;case 4:pt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:pt="MEDIA_ERR_ENCRYPTED";break;default:pt="UNKNOWN"}if("MEDIA_ERR_DECODE"===pt&&ht.get().errors.recoverAttempts.mediaErrorDecode>=$t.counts.mediaErrorDecode)return void function no(){Y.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var We=Pe.getTime();me.deactivate(!1),Y.warn("MediaSource has been resetted. Resuming playback from time ".concat(We)),Dt(We,!1)}();ce=!0,We.error.message&&(pt+=" ("+We.error.message+")"),We.error.msExtendedCode&&(pt+=" (0x"+(We.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),Y.fatal("Video Element Error: "+pt),We.error&&Y.fatal(We.error),re.error(new O.default(We.error.code,pt)),xr()}}function ta(){return me?me.getStreamInfo():null}function el(We){for(var pt=0,et=te.length;pt<et;pt++)if(te[pt].getId()===We)return te[pt];return null}function tl(We){isNaN(We.newDuration)||Wt(We.newDuration)}function nl(){te=[],Bt=NaN,Ee=null,$=!1,me=null,ce=!1,ue=!1,Ge=!0,Le=!0,Oe=!1,j=!0,$e=null,Rt=!1,at=!1,nt=[],Ht=null,$t={counts:{mediaErrorDecode:0}}}function xr(){Ye(),he.reset(),os(ce||ue?c.PlayListTrace.FAILURE_STOP_REASON:c.PlayListTrace.USER_REQUEST_STOP_REASON);for(var We=0,pt=te?te.length:0;We<pt;We++)te[We].reset(ce);(function Ne(){W.off(_.default.PLAYBACK_TIME_UPDATED,Xt,x),W.off(_.default.PLAYBACK_SEEKING,kt,x),W.off(_.default.PLAYBACK_ERROR,Lu,x),W.off(_.default.PLAYBACK_STARTED,He,x),W.off(_.default.PLAYBACK_PAUSED,Fe,x),W.off(_.default.PLAYBACK_ENDED,Ut,x),W.off(_.default.METRIC_ADDED,Ln,x),W.off(_.default.MANIFEST_VALIDITY_CHANGED,tl,x),W.off(_.default.BUFFER_LEVEL_UPDATED,ct,x),W.off(_.default.QUALITY_CHANGE_REQUESTED,At,x),R.default.KEY_SESSION_UPDATED&&W.off(R.default.KEY_SESSION_UPDATED,gt,x),W.off(R.default.MANIFEST_UPDATED,ea,x),W.off(R.default.STREAM_BUFFERING_COMPLETED,qe,x),W.off(R.default.TIME_SYNCHRONIZATION_COMPLETED,yt,x),W.off(R.default.CURRENT_TRACK_CHANGED,Ae,x),W.off(R.default.SETTING_UPDATED_LIVE_DELAY,sn,x),W.off(R.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,sn,x)})(),_e.reset(),oe.reset(),X.reset(),ae.clearAllCurrentMetrics(),J.setValue(null),ve.reset(),k.reset(),F.reset(),be&&(pe.detachMediaSource(Re),be=null),Re=null,Ee&&(Ee=null,K=null,J.getValue()&&W.trigger(R.default.PROTECTION_DESTROYED,{data:J.getValue().url})),Mt(),W.trigger(R.default.STREAM_TEARDOWN_COMPLETE),nl()}function Ln(We){if(We.metric===T.default.DVR_INFO){var pt=to()?M.default.AUDIO:M.default.VIDEO;We.mediaType===pt&&pe.setSeekable(We.value.range.start,We.value.range.end)}}function as(){return te}return x={initialize:function De(We,pt){Ye(),j=We,K=pt,k.initialize(),(oe=Object(w.default)(H).create()).setConfig({manifestModel:J,adapter:de,manifestLoader:ve,errHandler:re,settings:ht}),oe.initialize(),(X=Object(v.default)(H).getInstance()).setConfig({manifestUpdater:oe,playbackController:Pe,settings:ht}),X.start(),he.setConfig({dashMetrics:ae,baseURLController:_e,errHandler:re,settings:ht}),he.initialize(),Ee&&(W.trigger(R.default.PROTECTION_CREATED,{controller:Ee}),Ee.setMediaElement(Re.getElement()),K&&Ee.setProtectionData(K)),function Te(){W.on(_.default.PLAYBACK_TIME_UPDATED,Xt,x),W.on(_.default.PLAYBACK_SEEKING,kt,x),W.on(_.default.PLAYBACK_ERROR,Lu,x),W.on(_.default.PLAYBACK_STARTED,He,x),W.on(_.default.PLAYBACK_PAUSED,Fe,x),W.on(_.default.PLAYBACK_ENDED,Ut,x),W.on(_.default.METRIC_ADDED,Ln,x),W.on(_.default.MANIFEST_VALIDITY_CHANGED,tl,x),W.on(_.default.BUFFER_LEVEL_UPDATED,ct,x),W.on(_.default.QUALITY_CHANGE_REQUESTED,At,x),R.default.KEY_SESSION_UPDATED&&W.on(R.default.KEY_SESSION_UPDATED,gt,x),W.on(R.default.MANIFEST_UPDATED,ea,x),W.on(R.default.STREAM_BUFFERING_COMPLETED,qe,x),W.on(R.default.TIME_SYNCHRONIZATION_COMPLETED,yt,x),W.on(R.default.CURRENT_TRACK_CHANGED,Ae,x),W.on(R.default.SETTING_UPDATED_LIVE_DELAY,sn,x),W.on(R.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,sn,x)}()},getActiveStreamInfo:ta,addDVRMetric:Xe,hasVideoTrack:xa,hasAudioTrack:to,getStreamById:el,getStreamForTime:je,getTimeRelativeToStreamId:function Ke(We,pt){for(var et=null,ln=0,jt=0,En=null,Un=0;Un<te.length;Un++){if(jt=(et=te[Un]).getStartTime(),En=et.getDuration(),Number.isFinite(jt)&&(ln=jt),et.getId()===pt)return We-ln;Number.isFinite(En)&&(ln+=En)}return null},load:function tt(We){var pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Ye(),Bt=pt,ve.load(We)},loadWithManifest:function ut(We){var pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;st(),Bt=pt,oe.setManifest(We)},getActiveStreamProcessors:Et,setConfig:function hf(We){!We||(We.capabilities&&(z=We.capabilities),We.capabilitiesFilter&&(ie=We.capabilitiesFilter),We.manifestLoader&&(ve=We.manifestLoader),We.manifestModel&&(J=We.manifestModel),We.mediaPlayerModel&&(Ue=We.mediaPlayerModel),We.customParametersModel&&(Ce=We.customParametersModel),We.protectionController&&(Ee=We.protectionController),We.adapter&&(de=We.adapter),We.dashMetrics&&(ae=We.dashMetrics),We.errHandler&&(re=We.errHandler),We.timelineConverter&&(k=We.timelineConverter),We.videoModel&&(Re=We.videoModel),We.playbackController&&(Pe=We.playbackController),We.serviceDescriptionController&&(we=We.serviceDescriptionController),We.contentSteeringController&&(fe=We.contentSteeringController),We.textController&&(q=We.textController),We.abrController&&(ge=We.abrController),We.mediaController&&(ne=We.mediaController),We.settings&&(ht=We.settings),We.baseURLController&&(_e=We.baseURLController),We.uriFragmentModel&&(Se=We.uriFragmentModel),We.segmentBaseController&&(se=We.segmentBaseController))},setProtectionData:function Fu(We){K=We,Ee&&Ee.setProtectionData(K)},getIsStreamSwitchInProgress:function df(){return $},switchToVideoElement:function Gr(We){me&&(Pe.initialize(ta()),Dt(We,!1))},getHasMediaOrInitialisationError:function ff(){return ce||ue},getStreams:as,getActiveStream:function Kn(){return me},getInitialPlayback:function Gn(){return Ge},getAutoPlay:function Oi(){return j},reset:xr},function Jt(){Y=Object(l.default)(H).getInstance().getLogger(x),he=Object(N.default)(H).getInstance(),pe=Object(S.default)(H).getInstance(),F=Object(d.default)(H).getInstance(),V=Object(f.default)(H).getInstance(),nl()}(),x}le.__dashjs_factory_name="StreamController",U.default=D.default.getSingletonFactory(le)},"./src/streaming/controllers/TimeSyncController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/DashJSError.js"),T=m("./src/streaming/vo/metrics/HTTPRequest.js"),I=m("./src/core/EventBus.js"),w=m("./src/core/events/Events.js"),P=m("./src/core/errors/Errors.js"),R=m("./src/core/FactoryMaker.js"),D=m("./src/core/Debug.js"),c=m("./src/streaming/utils/URLUtils.js");function v(){var E,L,G,ee,Q,le,H,W,x,Y,z,ie,oe,ve,J,de,y=this.context,g=Object(I.default)(y).getInstance(),A=Object(c.default)(y).getInstance();function he(){W=[],x=[],Y=null,z=null,oe=null,ie=NaN,G=!1,ee=!1,ve=Q.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function se(){!Q.get().streaming.utcSynchronization.enabled||G||ee||!oe||!oe.value||!oe.schemeIdUri||isNaN(ie)||isNaN(Q.get().streaming.utcSynchronization.backgroundAttempts)||z&&(Date.now()-z)/1e3<30||(W=[],ee=!0,Se(isNaN(Q.get().streaming.utcSynchronization.backgroundAttempts)?2:Q.get().streaming.utcSynchronization.backgroundAttempts))}function Se(Pe){try{if(Pe<=0)return void ue();var we=Date.now();le[oe.schemeIdUri](oe.value,function(Ue){var Ce=Date.now(),Oe=ne(we,Ce,Ue);W.push(Oe),Se(Pe-1)},function(){ue()})}catch{ue()}}function ge(){var we=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!x||0===x.length||we>=x.length)F();else{var Ue=x[we];if(Ue)if(le.hasOwnProperty(Ue.schemeIdUri)){var Ce=(new Date).getTime();le[Ue.schemeIdUri](Ue.value,function(Oe){var Ge=(new Date).getTime(),Le=ne(Ce,Ge,Oe);oe=Ue,F(Le)},function(){ge(we+1)})}else ge(we+1);else F()}}function ne(Pe,we,Ue){return Ue-(we-(we-Pe)/2)}function F(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,we=isNaN(Pe);we&&Q.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?j():$(we,Pe)}function re(Pe){var we=Date.parse(Pe);return isNaN(we)&&(we=function V(Pe){var Ge,Le,$e=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Pe);return Ge=Date.UTC(parseInt($e[1],10),parseInt($e[2],10)-1,parseInt($e[3],10),parseInt($e[4],10),parseInt($e[5],10),$e[6]&&(parseInt($e[6],10)||0),$e[7]&&1e3*parseFloat($e[7])||0),$e[9]&&$e[10]&&(Le=60*parseInt($e[9],10)+parseInt($e[10],10),Ge+=("+"===$e[8]?-1:1)*Le*60*1e3),new Date(Ge).getTime()}(Pe)),we}function k(Pe){return Date.parse(Pe)}function te(Pe){return Date.parse(Pe)}function me(Pe,we,Ue){Ue()}function Ee(Pe,we,Ue){var Ce=re(Pe);isNaN(Ce)?Ue():we(Ce)}function q(Pe,we,Ue,Ce,Oe){var Ge,Le,$e=!1,Je=new XMLHttpRequest,nt=Oe?T.HTTPRequest.HEAD:T.HTTPRequest.GET,at=we.match(/\S+/g);if(we=at.shift(),Ge=function(){$e||($e=!0,at.length?q(Pe,at.join(" "),Ue,Ce,Oe):Ce())},Le=function(){var Ht,Bt;200===Je.status&&(Ht=Oe?Je.getResponseHeader("Date"):Je.response,Bt=Pe(Ht),isNaN(Bt)||(Ue(Bt),$e=!0))},A.isRelative(we)){var ht=de.resolve();ht&&(we=A.resolve(we,ht.url))}Je.open(nt,we),Je.timeout=5e3,Je.onload=Le,Je.onloadend=Ge,Je.send()}function K(Pe,we,Ue){q(te,Pe,we,Ue,!0)}function j(){var Pe=H.getLatestMPDRequestHeaderValueByID("Date"),we=null!==Pe?new Date(Pe).getTime():Number.NaN;isNaN(we)?$(!0):$(!1,we-Date.now())}function $(Pe,we){if(!isNaN(ie)&&!isNaN(we)&&!Pe&&function ce(Pe){try{var Le,we=be(Pe),Ue=isNaN(ve)?30:ve,Ce=isNaN(Q.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:Q.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Oe=isNaN(Q.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:Q.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Ge=isNaN(Q.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:Q.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;we?(Le=Math.min(Ue*Ce,Oe),L.debug("Increasing timeBetweenSyncAttempts to ".concat(Le))):(Le=Math.max(Ue/Ce,Ge),L.debug("Decreasing timeBetweenSyncAttempts to ".concat(Le))),ve=Le}catch{}}(we),!Pe&&!isNaN(we)){Y=Date.now(),G=!1;var Ue=isNaN(ie);ie=we,Ue&&se(),L.debug("Completed UTC sync. Setting client - server offset to ".concat(we))}Pe&&(oe=null,G=!1,J.error(new M.default(P.default.TIME_SYNC_FAILED_ERROR_CODE,P.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),g.trigger(w.default.UPDATE_TIME_SYNC_OFFSET,{offset:we}),g.trigger(w.default.TIME_SYNCHRONIZATION_COMPLETED)}function ue(){if(W&&0!==W.length){var Pe=W.reduce(function(we,Ue){return we+Ue},0)/W.length;be(Pe)?L.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(L.debug("Completed background UTC sync. Setting client - server offset to ".concat(Pe)),g.trigger(w.default.UPDATE_TIME_SYNC_OFFSET,{offset:ie=Pe})),ee=!1,z=Date.now()}}function be(Pe){try{if(isNaN(ie))return!0;var we=Q.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(Q.get().streaming.utcSynchronization.maximumAllowedDrift)?Q.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Pe>=ie-we&&Pe<=ie+we}catch{return!0}}return E={initialize:function fe(){he(),le={"urn:mpeg:dash:utc:http-head:2014":K,"urn:mpeg:dash:utc:http-xsdate:2014":q.bind(null,re),"urn:mpeg:dash:utc:http-iso:2014":q.bind(null,k),"urn:mpeg:dash:utc:direct:2014":Ee,"urn:mpeg:dash:utc:http-head:2012":K,"urn:mpeg:dash:utc:http-xsdate:2012":q.bind(null,re),"urn:mpeg:dash:utc:http-iso:2012":q.bind(null,k),"urn:mpeg:dash:utc:direct:2012":Ee,"urn:mpeg:dash:utc:http-ntp:2014":me,"urn:mpeg:dash:utc:ntp:2014":me,"urn:mpeg:dash:utc:sntp:2014":me}},attemptSync:function _e(Pe,we){if(x=Pe,!G){if(!function X(Pe){try{if(!Pe||!Q.get().streaming.utcSynchronization.enabled)return!1;var we=isNaN(ve)?30:ve;return!(Y&&we&&!isNaN(we))||(Date.now()-Y)/1e3>=we}catch{return!0}}(we))return void g.trigger(w.default.TIME_SYNCHRONIZATION_COMPLETED);G=!0,ge()}},setConfig:function pe(Pe){!Pe||(Pe.dashMetrics&&(H=Pe.dashMetrics),Pe.baseURLController&&(de=Pe.baseURLController),Pe.errHandler&&(J=Pe.errHandler),Pe.settings&&(Q=Pe.settings))},reset:function Re(){he(),g.off(w.default.ATTEMPT_BACKGROUND_SYNC,se,E)}},function ae(){L=Object(D.default)(y).getInstance().getLogger(E),g.on(w.default.ATTEMPT_BACKGROUND_SYNC,se,E)}(),E}v.__dashjs_factory_name="TimeSyncController";var p=R.default.getSingletonFactory(v);p.HTTP_TIMEOUT_MS=5e3,R.default.updateSingletonFactory(v.__dashjs_factory_name,p),U.default=p},"./src/streaming/controllers/XlinkController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/XlinkLoader.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),w=m("./src/core/FactoryMaker.js"),P=m("./externals/xml2json.js"),R=m("./src/streaming/utils/URLUtils.js"),D=m("./src/dash/constants/DashConstants.js"),c="onLoad";function f(_){_=_||{};var b,v,p,y,g,A,N=this.context,S=Object(T.default)(N).getInstance(),O=Object(R.default)(N).getInstance();function le(ve,J,de){var pe,he,ae={};ae.elements=ve,ae.type=J,ae.resolveType=de,0===ae.elements.length&&W(ae);for(var fe=0;fe<ae.elements.length;fe++)he=O.isHTTPURL((pe=ae.elements[fe]).url)?pe.url:pe.originalContent.BaseURL+pe.url,A.load(he,pe,ae)}function H(ve){var J,de,he="";if(de=ve.resolveObject,(J=ve.element).resolvedContent){var fe=0;0===J.resolvedContent.indexOf("<?xml")&&(fe=J.resolvedContent.indexOf("?>")+2),he=J.resolvedContent.substr(0,fe)+"<response>"+J.resolvedContent.substr(fe)+"</response>",J.resolvedContent=g.xml_str2json(he)}(function ie(ve){var J;for(J=0;J<ve.elements.length;J++)if(!1===ve.elements[J].resolved)return!1;return!0})(de)&&W(de)}function W(ve){var de,ae,J=[];if(function Y(ve){var de,ae,he,fe,_e,J=[];for(he=ve.elements.length-1;he>=0;he--){if(ae=(de=ve.elements[he]).type+"_asArray",de.resolvedContent){if(de.resolvedContent)for(fe=0;fe<de.resolvedContent[ae].length;fe++)J.push(de.resolvedContent[ae][fe])}else delete de.originalContent["xlink:actuate"],delete de.originalContent["xlink:href"],J.push(de.originalContent);for(de.parentElement[ae].splice(de.index,1),_e=0;_e<J.length;_e++)de.parentElement[ae].splice(de.index+_e,0,J[_e]);J=[]}ve.elements.length>0&&p.run(y)}(ve),"onActuate"===ve.resolveType&&S.trigger(I.default.XLINK_READY,{manifest:y}),ve.resolveType===c)switch(ve.type){case D.default.PERIOD:for(de=0;de<y[D.default.PERIOD+"_asArray"].length;de++)(ae=y[D.default.PERIOD+"_asArray"][de]).hasOwnProperty(D.default.ADAPTATION_SET+"_asArray")&&(J=J.concat(x(ae[D.default.ADAPTATION_SET+"_asArray"],ae,D.default.ADAPTATION_SET,c))),ae.hasOwnProperty(D.default.EVENT_STREAM+"_asArray")&&(J=J.concat(x(ae[D.default.EVENT_STREAM+"_asArray"],ae,D.default.EVENT_STREAM,c)));le(J,D.default.ADAPTATION_SET,c);break;case D.default.ADAPTATION_SET:S.trigger(I.default.XLINK_READY,{manifest:y})}}function x(ve,J,de,ae){var he,fe,_e,pe=[];for(fe=ve.length-1;fe>=0;fe--)(he=ve[fe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===he["xlink:href"]&&ve.splice(fe,1);for(fe=0;fe<ve.length;fe++)(he=ve[fe]).hasOwnProperty("xlink:href")&&he.hasOwnProperty("xlink:actuate")&&he["xlink:actuate"]===ae&&(_e=z(he["xlink:href"],J,de,fe,ae,he),pe.push(_e));return pe}function z(ve,J,de,ae,pe,he){return{url:ve,parentElement:J,type:de,index:ae,resolveType:pe,originalContent:he,resolvedContent:null,resolved:!1}}return b={resolveManifestOnLoad:function ee(ve){g=new P.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:v}),(y=ve).Period_asArray?le(x(y.Period_asArray,y,D.default.PERIOD,c),D.default.PERIOD,c):S.trigger(I.default.XLINK_READY,{manifest:y})},setMatchers:function L(ve){ve&&(v=ve)},setIron:function G(ve){ve&&(p=ve)},reset:function Q(){S.off(I.default.XLINK_ELEMENT_LOADED,H,b),A&&(A.reset(),A=null)}},function E(){S.on(I.default.XLINK_ELEMENT_LOADED,H,b),A=Object(M.default)(N).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings})}(),b}f.__dashjs_factory_name="XlinkController",U.default=w.default.getClassFactory(f)},"./src/streaming/metrics/MetricsReporting.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/utils/DVBErrorsTranslator.js"),T=m("./src/streaming/metrics/MetricsReportingEvents.js"),I=m("./src/streaming/metrics/controllers/MetricsCollectionController.js"),w=m("./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),P=m("./src/streaming/metrics/reporting/ReportingFactory.js");function R(){var c=this.context;return{createMetricsReporting:function f(S){return Object(M.default)(c).getInstance({eventBus:S.eventBus,dashMetrics:S.dashMetrics,metricsConstants:S.metricsConstants,events:S.events}).initialise(),Object(I.default)(c).create(S)},getReportingFactory:function _(){return Object(P.default)(c).getInstance()},getMetricsHandlerFactory:function N(){return Object(w.default)(c).getInstance()}}}R.__dashjs_factory_name="MetricsReporting";var D=dashjs.FactoryMaker.getClassFactory(R);D.events=T.default,dashjs.FactoryMaker.updateClassFactory(R.__dashjs_factory_name,D),U.default=D},"./src/streaming/metrics/MetricsReportingEvents.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",g.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",g.CMCD_DATA_GENERATED="cmcdDataGenerated",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/events/EventsBase.js").default));U.default=b},"./src/streaming/metrics/controllers/MetricsCollectionController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/controllers/MetricsController.js"),T=m("./src/streaming/metrics/utils/ManifestParsing.js"),I=m("./src/streaming/metrics/MetricsReportingEvents.js");function w(P){var R,D={},c=this.context,l=(P=P||{}).eventBus,d=P.events;function f(O){if(!O.error){var b=Object.keys(D);Object(T.default)(c).getInstance({adapter:P.adapter,constants:P.constants}).getMetrics(O.manifest).forEach(function(p){var y=JSON.stringify(p);if(D.hasOwnProperty(y))b.splice(y,1);else try{var g=Object(M.default)(c).create(P);g.initialize(p),D[y]=g}catch{}}),b.forEach(function(p){D[p].reset(),delete D[p]}),l.trigger(I.default.METRICS_INITIALISATION_COMPLETE)}}function _(){Object.keys(D).forEach(function(O){D[O].reset()}),D={}}return R={reset:function S(){l.off(d.MANIFEST_UPDATED,f,R),l.off(d.STREAM_TEARDOWN_COMPLETE,_,R)}},function N(){l.on(d.MANIFEST_UPDATED,f,R),l.on(d.STREAM_TEARDOWN_COMPLETE,_,R)}(),R}w.__dashjs_factory_name="MetricsCollectionController",U.default=dashjs.FactoryMaker.getClassFactory(w)},"./src/streaming/metrics/controllers/MetricsController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/controllers/RangeController.js"),T=m("./src/streaming/metrics/controllers/ReportingController.js"),I=m("./src/streaming/metrics/controllers/MetricsHandlersController.js");function w(P){P=P||{};var R,D,c,d=this.context;function _(){R&&R.reset(),D&&D.reset(),c&&c.reset()}return{initialize:function f(N){try{(c=Object(M.default)(d).create({mediaElement:P.mediaElement})).initialize(N.Range),(D=Object(T.default)(d).create({debug:P.debug,metricsConstants:P.metricsConstants,mediaPlayerModel:P.mediaPlayerModel})).initialize(N.Reporting,c),(R=Object(I.default)(d).create({debug:P.debug,eventBus:P.eventBus,metricsConstants:P.metricsConstants,events:P.events})).initialize(N.metrics,D)}catch(S){throw _(),S}},reset:_}}w.__dashjs_factory_name="MetricsController",U.default=dashjs.FactoryMaker.getClassFactory(w)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function T(I){var P,w=[],R=this.context,D=(I=I||{}).eventBus,c=I.events,l=Object(M.default)(R).getInstance({debug:I.debug,eventBus:I.eventBus,metricsConstants:I.metricsConstants});function d(N){w.forEach(function(S){S.handleNewMetric(N.metric,N.value,N.mediaType)})}return P={initialize:function f(N,S){N.split(",").forEach(function(O,b,v){var p;if(-1!==O.indexOf("(")&&-1===O.indexOf(")")){var y=v[b+1];y&&-1===y.indexOf("(")&&-1!==y.indexOf(")")&&(O+=","+y,delete v[b+1])}(p=l.create(O,S))&&w.push(p)}),D.on(c.METRIC_ADDED,d,P),D.on(c.METRIC_UPDATED,d,P)},reset:function _(){D.off(c.METRIC_ADDED,d,P),D.off(c.METRIC_UPDATED,d,P),w.forEach(function(N){return N.reset()}),w=[]}}}T.__dashjs_factory_name="MetricsHandlersController",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/controllers/RangeController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/utils/CustomTimeRanges.js");function T(I){var R,D,w=!1,P=this.context,c=(I=I||{}).mediaElement;return R={initialize:function l(N){N&&N.length&&(N.forEach(function(S){var O=S.starttime;D.add(O,O+S.duration)}),w=!!N[0]._useWallClockTime)},reset:function d(){D.clear()},isEnabled:function _(){var S,N=D.length;if(!N)return!0;S=w?(new Date).getTime()/1e3:c.currentTime;for(var O=0;O<N;O+=1){var b=D.start(O),v=D.end(O);if(b<=S&&S<v)return!0}return!1}},function f(){D=Object(M.default)(P).create()}(),R}T.__dashjs_factory_name="RangeController",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/controllers/ReportingController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/reporting/ReportingFactory.js");function T(I){var w=[],R=Object(M.default)(this.context).getInstance(I);return{initialize:function D(d,f){d.some(function(_){var N=R.create(_,f);if(N)return w.push(N),!0})},reset:function c(){w.forEach(function(d){return d.reset()}),w=[]},report:function l(d,f){w.forEach(function(_){return _.report(d,f)})}}}T.__dashjs_factory_name="ReportingController",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),T=m("./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),I=m("./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),w=m("./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function P(R){var D,c=(R=R||{}).debug?R.debug.getLogger(D):{},l=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,d=this.context,f={BufferLevel:M.default,DVBErrors:T.default,HttpList:I.default,PlayList:w.default,RepSwitchList:w.default,TcpList:w.default};return{create:function _(O,b){var p,v=O.match(l);if(v){try{(p=f[v[1]](d).create({eventBus:R.eventBus,metricsConstants:R.metricsConstants})).initialize(v[1],b,v[3],v[5])}catch(y){p=null,c.error("MetricsHandlerFactory: Could not create handler for type ".concat(v[1]," with args ").concat(v[3],", ").concat(v[5]," (").concat(y.message,")"))}return p}},register:function N(O,b){f[O]=b},unregister:function S(O){delete f[O]}}}P.__dashjs_factory_name="MetricsHandlerFactory",U.default=dashjs.FactoryMaker.getSingletonFactory(P)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/utils/HandlerHelpers.js");function T(I){I=I||{};var P,R,D,c,l,d=this.context,f=Object(M.default)(d).getInstance(),_=[],N=I.metricsConstants;function O(){var y=function S(){try{return Object.keys(_).map(function(y){return _[y]}).reduce(function(y,g){return y.level<g.level?y:g})}catch{return}}();y&&l!==y.t&&(l=y.t,P.report(D,y))}return{initialize:function b(y,g,A){g&&(R=f.validateN(A),P=g,D=f.reconstructFullMetricName(y,A),c=setInterval(O,R))},reset:function v(){clearInterval(c),c=null,R=0,P=null,l=null},handleNewMetric:function p(y,g,A){y===N.BUFFER_LEVEL&&(_[A]=g)}}}T.__dashjs_factory_name="BufferLevelHandler",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/MetricsReportingEvents.js");U.default=dashjs.FactoryMaker.getClassFactory(function T(I){var P,R=(I=I||{}).eventBus,D=I.metricsConstants;function c(){R.off(M.default.METRICS_INITIALISATION_COMPLETE,c,this),R.trigger(M.default.BECAME_REPORTING_PLAYER)}return{initialize:function l(_,N){N&&(P=N,R.on(M.default.METRICS_INITIALISATION_COMPLETE,c,this))},reset:function d(){P=null},handleNewMetric:function f(_,N){_===D.DVB_ERRORS&&P&&P.report(_,N)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":function(Ie,U,m){"use strict";function M(){var I,w;return{initialize:function P(c,l){I=c,w=l},reset:function R(){w=null,I=void 0},handleNewMetric:function D(c,l){c===I&&w&&w.report(I,l)}}}m.r(U),M.__dashjs_factory_name="GenericMetricHandler",U.default=dashjs.FactoryMaker.getClassFactory(M)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/utils/HandlerHelpers.js");function T(I){I=I||{};var P,R,D,c,l,d=[],f=Object(M.default)(this.context).getInstance(),_=I.metricsConstants;function N(){d.length&&P&&P.report(c,d),d=[]}return{initialize:function S(v,p,y,g){p&&(R=f.validateN(y),P=p,g&&g.length&&(D=g),c=f.reconstructFullMetricName(v,y,g),l=setInterval(N,R))},reset:function O(){clearInterval(l),l=null,R=null,D=null,d=[],P=null},handleNewMetric:function b(v,p){v===_.HTTP_REQUEST&&(!D||D===p.type)&&d.push(p)}}}T.__dashjs_factory_name="HttpListHandler",U.default=dashjs.FactoryMaker.getClassFactory(T)},"./src/streaming/metrics/reporting/ReportingFactory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/reporting/reporters/DVBReporting.js");function T(I){var R,w={"urn:dvb:dash:reporting:2014":M.default},P=this.context,D=(I=I||{}).debug?I.debug.getLogger(R):{},c=I.metricsConstants,l=I.mediaPlayerModel||{};return{create:function d(N,S){var O;try{(O=w[N.schemeIdUri](P).create({metricsConstants:c,mediaPlayerModel:l})).initialize(N,S)}catch(b){O=null,D.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(N.schemeIdUri," (").concat(b.message,")"))}return O},register:function f(N,S){w[N]=S},unregister:function _(N){delete w[N]}}}T.__dashjs_factory_name="ReportingFactory",U.default=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/utils/MetricSerialiser.js"),T=m("./src/streaming/metrics/utils/RNG.js"),I=m("./src/streaming/models/CustomParametersModel.js");function w(P){var R,c,l,d,f,_,N,S,D=this.context,v=[],p=(P=P||{}).metricsConstants;function L(){f=!1,_=!1,N=null,S=null}return R={report:function A(ee,Q){Array.isArray(Q)||(Q=[Q]),_&&S.isEnabled()&&Q.forEach(function(le){var H=c.serialise(le);ee!==p.DVB_ERRORS&&(H="metricname=".concat(ee,"&").concat(H)),function g(ee,Q,le){var H=new XMLHttpRequest;H.withCredentials=l.getXHRWithCredentialsForType(p.HTTP_REQUEST_DVB_REPORTING_TYPE);var W=function(){var Y=v.indexOf(H);-1!==Y&&(v.splice(Y,1),H.status>=200&&H.status<300?Q&&Q():le&&le())};v.push(H);try{H.open("GET",ee),H.onloadend=W,H.onerror=W,H.send()}catch{H.onerror()}}(H="".concat(N,"?").concat(H),null,function(){_=!1})})},initialize:function E(ee,Q){var le;if(S=Q,!(N=ee.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");f||((le=ee.dvb_probability)&&(1e3===le||le/1e3>=d.random())&&(_=!0),f=!0)},reset:function G(){L()}},function y(){c=Object(M.default)(D).getInstance(),d=Object(T.default)(D).getInstance(),l=Object(I.default)(D).getInstance(),L()}(),R}w.__dashjs_factory_name="DVBReporting",U.default=dashjs.FactoryMaker.getClassFactory(w)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/vo/DVBErrors.js"),T=m("./src/streaming/metrics/MetricsReportingEvents.js");function I(w){var P,R,D=(w=w||{}).eventBus,c=w.dashMetrics,l=w.metricsConstants,d=w.events;function f(g){var A=new M.default;if(R){for(var E in g)g.hasOwnProperty(E)&&(A[E]=g[E]);A.mpdurl||(A.mpdurl=R.originalUrl||R.url),A.terror||(A.terror=new Date),c.addDVBErrors(A)}}function _(g){g.error||(R=g.manifest)}function N(g){f({errorcode:M.default.BASE_URL_CHANGED,servicelocation:g.entry})}function S(){f({errorcode:M.default.BECAME_REPORTER})}function b(g){g.metric===l.HTTP_REQUEST&&function O(g){(0===g.responsecode||null==g.responsecode||g.responsecode>=400||g.responsecode<100||g.responsecode>=600)&&f({errorcode:g.responsecode||M.default.CONNECTION_ERROR,url:g.url,terror:g.tresponse,servicelocation:g._serviceLocation})}(g.value)}function v(g){var E;switch(g.error?g.error.code:0){case MediaError.MEDIA_ERR_NETWORK:E=M.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:E=M.default.CORRUPT_MEDIA_OTHER;break;default:return}f({errorcode:E})}return P={initialise:function p(){D.on(d.MANIFEST_UPDATED,_,P),D.on(d.SERVICE_LOCATION_BLACKLIST_CHANGED,N,P),D.on(d.METRIC_ADDED,b,P),D.on(d.METRIC_UPDATED,b,P),D.on(d.PLAYBACK_ERROR,v,P),D.on(T.default.BECAME_REPORTING_PLAYER,S,P)},reset:function y(){D.off(d.MANIFEST_UPDATED,_,P),D.off(d.SERVICE_LOCATION_BLACKLIST_CHANGED,N,P),D.off(d.METRIC_ADDED,b,P),D.off(d.METRIC_UPDATED,b,P),D.off(d.PLAYBACK_ERROR,v,P),D.off(T.default.BECAME_REPORTING_PLAYER,S,P)}}}I.__dashjs_factory_name="DVBErrorsTranslator",U.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/metrics/utils/HandlerHelpers.js":function(Ie,U,m){"use strict";function M(){return{reconstructFullMetricName:function(I,w,P){var R=I;return w&&(R+="("+w,P&&P.length&&(R+=","+P),R+=")"),R},validateN:function(I){if(!I)throw new Error("missing n");if(isNaN(I))throw new Error("n is NaN");if(I<0)throw new Error("n must be positive");return I}}}m.r(U),M.__dashjs_factory_name="HandlerHelpers",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/utils/ManifestParsing.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/metrics/vo/Metrics.js"),T=m("./src/streaming/metrics/vo/Range.js"),I=m("./src/streaming/metrics/vo/Reporting.js");function w(P){var D=(P=P||{}).adapter,c=P.constants;return{getMetrics:function d(f){var _=[];return f&&f.Metrics_asArray&&f.Metrics_asArray.forEach(function(N){var S=new M.default,O=D.getIsDynamic(f);N.hasOwnProperty("metrics")&&(S.metrics=N.metrics,N.Range_asArray&&N.Range_asArray.forEach(function(b){var v=new T.default;v.starttime=function l(f,_,N){var S,O,b=0;return _?b=D.getAvailabilityStartTime(f)/1e3:(S=D.getRegularPeriods(f)).length&&(b=S[0].start),O=b,N&&N.hasOwnProperty(c.START_TIME)&&(O+=N.starttime),O}(f,O,b),v.duration=b.hasOwnProperty("duration")?b.duration:D.getDuration(f),v._useWallClockTime=O,S.Range.push(v)}),N.Reporting_asArray&&(N.Reporting_asArray.forEach(function(b){var v=new I.default;b.hasOwnProperty(c.SCHEME_ID_URI)&&(v.schemeIdUri=b.schemeIdUri,b.hasOwnProperty("value")&&(v.value=b.value),b.hasOwnProperty(c.DVB_REPORTING_URL)&&(v.dvb_reportingUrl=b[c.DVB_REPORTING_URL]),b.hasOwnProperty(c.DVB_PROBABILITY)&&(v.dvb_probability=b[c.DVB_PROBABILITY]),S.Reporting.push(v))}),_.push(S)))}),_}}}w.__dashjs_factory_name="ManifestParsing",U.default=dashjs.FactoryMaker.getSingletonFactory(w)},"./src/streaming/metrics/utils/MetricSerialiser.js":function(Ie,U,m){"use strict";function M(){return{serialise:function T(I){var R,D,w=[],P=[];for(R in I)if(I.hasOwnProperty(R)&&0!==R.indexOf("_")){if(null==(D=I[R])&&(D=""),Array.isArray(D)){if(!D.length)continue;P=[],D.forEach(function(c){var l="Object"!==Object.prototype.toString.call(c).slice(8,-1);P.push(l?c:T(c))}),D=P.map(encodeURIComponent).join(",")}else"string"==typeof D?D=encodeURIComponent(D):D instanceof Date?D=D.toISOString():"number"==typeof D&&(D=Math.round(D));w.push(R+"="+D)}return w.join("&")}}}m.r(U),M.__dashjs_factory_name="MetricSerialiser",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/utils/RNG.js":function(Ie,U,m){"use strict";function M(){var R,D,c,T=window.crypto||window.msCrypto,I=Uint32Array,w=Math.pow(2,8*I.BYTES_PER_ELEMENT)-1;function l(){T&&(R||(R=new I(10)),T.getRandomValues(R),D=0)}return c={random:function d(f,_){var N;return f||(f=0),_||(_=1),T?(D===R.length&&l(),N=R[D]/w,D+=1):N=Math.random(),N*(_-f)+f}},l(),c}m.r(U),M.__dashjs_factory_name="RNG",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/metrics/vo/DVBErrors.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U);var D=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});D.SSL_CONNECTION_FAILED_PREFIX="SSL",D.DNS_RESOLUTION_FAILED="C00",D.HOST_UNREACHABLE="C01",D.CONNECTION_REFUSED="C02",D.CONNECTION_ERROR="C03",D.CORRUPT_MEDIA_ISOBMFF="M00",D.CORRUPT_MEDIA_OTHER="M01",D.BASE_URL_CHANGED="F00",D.BECAME_REPORTER="S00",U.default=D},"./src/streaming/metrics/vo/Metrics.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function T(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,w(_.key),_)}}function I(l,d,f){return d&&T(l.prototype,d),f&&T(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function w(l){var d=function P(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(U);U.default=I(function l(){(function R(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/utils/ObjectUtils.js"),T=m("./src/core/FactoryMaker.js");function I(_){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(_)}function w(_,N){for(var S=0;S<N.length;S++){var O=N[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,R(O.key),O)}}function P(_,N,S){return N&&w(_.prototype,N),S&&w(_,S),Object.defineProperty(_,"prototype",{writable:!1}),_}function R(_){var N=function D(_,N){if("object"!==I(_)||null===_)return _;var S=_[Symbol.toPrimitive];if(void 0!==S){var O=S.call(_,N||"default");if("object"!==I(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(_)}(_,"string");return"symbol"===I(N)?N:String(N)}var l=NaN,d=P(function _(N,S){(function c(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")})(this,_),this.data={baseUrls:N||null,selectedIdx:S||l},this.children=[]});function f(){var _,N,S,O=this.context,b=Object(M.default)(O).getInstance();function g(le,H,W){var x=S.getBaseURLsFromElement(W);le[H]?b.areEqual(x,le[H].data.baseUrls)||(le[H].data.baseUrls=x,le[H].data.selectedIdx=l):le[H]=new d(x)}function A(le){!function y(){if(!S||!S.hasOwnProperty("getBaseURLsFromElement")||!S.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var H=S.getBaseURLsFromElement(le);b.areEqual(H,N.data.baseUrls)||(N.data.baseUrls=H,N.data.selectedIdx=l),le&&le.Period_asArray&&le.Period_asArray.forEach(function(W,x){g(N.children,x,W),W.AdaptationSet_asArray&&W.AdaptationSet_asArray.forEach(function(Y,z){g(N.children[x].children,z,Y),Y.Representation_asArray&&Y.Representation_asArray.sort(S.getRepresentationSortFunction()).forEach(function(ie,oe){g(N.children[x].children[z].children,oe,ie)})})})}function E(le,H){var W=H||N;le(W.data),W.children&&W.children.forEach(function(x){return E(le,x)})}function ee(){N=new d}return _={reset:ee,update:function G(le){A(le)},getForPath:function Q(le){var H=N,W=[H.data];return le&&le.forEach(function(x){(H=H.children[x])&&W.push(H.data)}),W.filter(function(x){return x.baseUrls.length})},invalidateSelectedIndexes:function L(le){E(function(H){isNaN(H.selectedIdx)||le===H.baseUrls[H.selectedIdx].serviceLocation&&(H.selectedIdx=l)})},setConfig:function p(le){le.adapter&&(S=le.adapter)}},function v(){ee()}(),_}f.__dashjs_factory_name="BaseURLTreeModel",U.default=T.default.getClassFactory(f)},"./src/streaming/models/CmcdModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/streaming/MediaPlayerEvents.js"),I=m("./src/streaming/metrics/MetricsReportingEvents.js"),w=m("./src/core/FactoryMaker.js"),P=m("./src/core/Settings.js"),R=m("./src/streaming/constants/Constants.js"),D=m("./src/streaming/vo/metrics/HTTPRequest.js"),c=m("./src/dash/models/DashManifestModel.js"),l=m("./src/core/Utils.js");function d(g,A){var E=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!E){if(Array.isArray(g)||(E=function f(g,A){if(g){if("string"==typeof g)return _(g,A);var E=Object.prototype.toString.call(g).slice(8,-1);if("Object"===E&&g.constructor&&(E=g.constructor.name),"Map"===E||"Set"===E)return Array.from(g);if("Arguments"===E||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return _(g,A)}}(g))||A&&g&&"number"==typeof g.length){E&&(g=E);var L=0,G=function(){};return{s:G,n:function(){return L>=g.length?{done:!0}:{done:!1,value:g[L++]}},e:function(W){throw W},f:G}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var le,ee=!0,Q=!1;return{s:function(){E=E.call(g)},n:function(){var W=E.next();return ee=W.done,W},e:function(W){Q=!0,le=W},f:function(){try{!ee&&null!=E.return&&E.return()}finally{if(Q)throw le}}}}function _(g,A){(null==A||A>g.length)&&(A=g.length);for(var E=0,L=new Array(A);E<A;E++)L[E]=g[E];return L}var O_MANIFEST="m",O_AUDIO="a",O_VIDEO="v",O_INIT="i",O_CAPTION="c",O_ISOBMFF_TEXT_TRACK="tt",O_ENCRYPTION_KEY="k",O_OTHER="o",b_DASH="d",b_MSS="s",v_VOD="v",v_LIVE="l";function y(){var g,A,E,L,G,ee,Q,le,H,W,x=this.context,Y=Object(M.default)(x).getInstance(),z=Object(P.default)(x).getInstance();function J(){E={pr:1,nor:null,st:null,sf:null,sid:"".concat(l.default.generateUuid()),cid:null},H={},le={},W={},ae()}function de(){ae()}function ae(){if(ee){var Ce=ee.getStreamController();if(Ce&&"function"==typeof Ce.getActiveStream){var Oe=Ce.getActiveStream();!Oe||(Q=Oe.getProcessors())}}}function fe(Ce,Oe){var $e,Ge={},Le=d(Oe);try{for(Le.s();!($e=Le.n()).done;){var Je=$e.value;Ce[Je]&&(Ge[Je]=Ce[Je])}}catch(nt){Le.e(nt)}finally{Le.f()}return Ge}function se(Ce){var Oe=z.get().streaming.cmcd.enabledKeys;return Ce.filter(function(Ge){return Oe.includes(Ge)})}function Se(Ce){try{return Ce.type===D.HTTPRequest.MPD_TYPE?function ne(){var Ce=k();return Ce.ot=O_MANIFEST,Ce}():Ce.type===D.HTTPRequest.MEDIA_SEGMENT_TYPE?(function F(Ce){W.hasOwnProperty(Ce)||(W[Ce]=!1),le.hasOwnProperty(Ce)||(le[Ce]=!1),H.hasOwnProperty(Ce)||(H[Ce]=!1)}(Ce.mediaType),function X(Ce){var Ht,Oe=k(),Ge=function te(Ce){try{return parseInt(Ce.mediaInfo.bitrateList[Ce.quality].bandwidth/1e3)}catch{return null}}(Ce),Le=function Ee(Ce){try{return isNaN(Ce.duration)?null:Math.round(1e3*Ce.duration)}catch{return null}}(Ce),$e=function q(Ce){try{return 100*parseInt(L.getThroughputHistory().getSafeAverageThroughput(Ce)/100)}catch{return null}}(Ce.mediaType),Je=function K(Ce){try{var Oe=E.pr,Ge=G.getCurrentBufferLevel(Ce);return isNaN(Oe)||isNaN(Ge)?null:100*parseInt(Ge/Oe*10)}catch{return null}}(Ce.mediaType),nt=j(Ce.mediaType),at=function me(Ce){try{var Oe=L.getTopBitrateInfoFor(Ce);return Math.round(Oe.bitrate/1e3)}catch{return null}}(Ce.mediaType),ht=E.pr,Rt=function Pe(Ce){if(Q&&0!==Q.length){var Ge,Oe=d(Q);try{for(Oe.s();!(Ge=Oe.n()).done;){var Le=Ge.value;if(Le.getType()===Ce)return Le.probeNextRequest()}}catch($e){Oe.e($e)}finally{Oe.f()}}}(Ce.mediaType);Ce.mediaType===R.default.VIDEO&&(Ht=O_VIDEO),Ce.mediaType===R.default.AUDIO&&(Ht=O_AUDIO),Ce.mediaType===R.default.TEXT&&(Ht="application/mp4"===Ce.mediaInfo.mimeType?O_ISOBMFF_TEXT_TRACK:O_CAPTION);var Bt=z.get().streaming.cmcd.rtp;return Bt||(Bt=function we(Ce){var Oe=ee.getPlaybackRate();Oe||(Oe=1);var Ge=Ce.quality,$e=Ce.mediaInfo,Je=Ce.duration,nt=j(Ce.mediaType);0===nt&&(nt=500);var Ht=$e.bitrateList[Ge].bandwidth*Je/1e3/(nt/Oe/1e3),Bt=z.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(z.get().streaming.cmcd.rtpSafetyFactor)?z.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Ht*Bt/100)+1)}(Ce)),Oe.rtp=Bt,Rt&&(Ce.url!==Rt.url?Oe.nor=encodeURIComponent(l.default.getRelativeUrl(Ce.url,Rt.url)):Rt.range&&(Oe.nrr=Rt.range)),Ge&&(Oe.br=Ge),Ht&&(Oe.ot=Ht),isNaN(Le)||(Oe.d=Le),isNaN($e)||(Oe.mtp=$e),isNaN(Je)||(Oe.dl=Je),isNaN(nt)||(Oe.bl=nt),isNaN(at)||(Oe.tb=at),!isNaN(ht)&&1!==ht&&(Oe.pr=ht),H[Ce.mediaType]&&(Oe.bs=!0,H[Ce.mediaType]=!1),(le[Ce.mediaType]||!W[Ce.mediaType])&&(Oe.su=!0,le[Ce.mediaType]=!1,W[Ce.mediaType]=!0),Oe}(Ce)):Ce.type===D.HTTPRequest.INIT_SEGMENT_TYPE?function V(){var Ce=k();return Ce.ot=O_INIT,Ce.su=!0,Ce}():Ce.type===D.HTTPRequest.OTHER_TYPE||Ce.type===D.HTTPRequest.XLINK_EXPANSION_TYPE?function re(){var Ce=k();return Ce.ot=O_OTHER,Ce}():Ce.type===D.HTTPRequest.LICENSE?function ge(Ce){var Oe=k();return Oe.ot=O_ENCRYPTION_KEY,Oe}():null}catch{return null}}function k(){var Ce={},Oe=z.get().streaming.cmcd.cid?z.get().streaming.cmcd.cid:E.cid;return Ce.v=1,Ce.sid=z.get().streaming.cmcd.sid?z.get().streaming.cmcd.sid:E.sid,Ce.sid="".concat(Ce.sid),Oe&&(Ce.cid="".concat(Oe)),!isNaN(E.pr)&&1!==E.pr&&null!==E.pr&&(Ce.pr=E.pr),E.st&&(Ce.st=E.st),E.sf&&(Ce.sf=E.sf),Ce}function j(Ce){try{var Oe=G.getCurrentBufferLevel(Ce);return isNaN(Oe)?null:100*parseInt(10*Oe)}catch{return null}}function $(Ce){try{E.pr=Ce.playbackRate}catch{}}function ce(Ce){try{var Oe=g.getIsDynamic(Ce.data),Le=Ce.protocol&&"MSS"===Ce.protocol?b_MSS:b_DASH;E.st="".concat(Oe?v_LIVE:v_VOD),E.sf="".concat(Le)}catch{}}function ue(Ce){try{Ce.state&&Ce.mediaType&&Ce.state===T.default.BUFFER_EMPTY&&(H[Ce.mediaType]||(H[Ce.mediaType]=!0),le[Ce.mediaType]||(le[Ce.mediaType]=!0))}catch{}}function be(){for(var Ce in H)H.hasOwnProperty(Ce)&&(H[Ce]=!0);for(var Oe in le)le.hasOwnProperty(Oe)&&(le[Oe]=!0)}function Re(Ce){try{if(!Ce)return null;var Oe=Object.keys(Ce).sort(function($e,Je){return $e.localeCompare(Je)}),Ge=Oe.length,Le=Oe.reduce(function($e,Je,nt){return"v"===Je&&1===Ce[Je]||($e+="string"==typeof Ce[Je]&&"ot"!==Je&&"sf"!==Je&&"st"!==Je?"".concat(Je,"=").concat(JSON.stringify(Ce[Je])):"".concat(Je,"=").concat(Ce[Je]),nt<Ge-1&&($e+=",")),$e},"");return(Le=Le.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return A={getQueryParameter:function pe(Ce){try{if(z.get().streaming.cmcd&&z.get().streaming.cmcd.enabled){var Oe=Se(Ce),Le=Re(function he(Ce){try{var Oe=z.get().streaming.cmcd.enabledKeys;return Object.keys(Ce).filter(function(Ge){return Oe.includes(Ge)}).reduce(function(Ge,Le){return Ge[Le]=Ce[Le],Ge},{})}catch{return Ce}}(Oe));return Y.trigger(I.default.CMCD_DATA_GENERATED,{url:Ce.url,mediaType:Ce.mediaType,cmcdData:Oe,cmcdString:Le}),{key:"CMCD",value:Le}}return null}catch{return null}},getHeaderParameters:function _e(Ce){try{if(z.get().streaming.cmcd&&z.get().streaming.cmcd.enabled){var Oe=Se(Ce),Ge=fe(Oe,se(["br","d","ot","tb"])),Le=fe(Oe,se(["bl","dl","mtp","nor","nrr","su"])),$e=fe(Oe,se(["bs","rtp"])),Je=fe(Oe,se(["cid","pr","sf","sid","st","v"])),nt={"CMCD-Object":Re(Ge),"CMCD-Request":Re(Le),"CMCD-Status":Re($e),"CMCD-Session":Re(Je)};return Y.trigger(I.default.CMCD_DATA_GENERATED,{url:Ce.url,mediaType:Ce.mediaType,cmcdData:Oe,headers:nt}),nt}return null}catch{return null}},setConfig:function ve(Ce){!Ce||(Ce.abrController&&(L=Ce.abrController),Ce.dashMetrics&&(G=Ce.dashMetrics),Ce.playbackController&&(ee=Ce.playbackController))},reset:function Ue(){Y.off(T.default.PLAYBACK_RATE_CHANGED,$,this),Y.off(T.default.MANIFEST_LOADED,ce,this),Y.off(T.default.BUFFER_LEVEL_STATE_CHANGED,ue,A),Y.off(T.default.PLAYBACK_SEEKED,be,A),J()},initialize:function oe(){Y.on(T.default.PLAYBACK_RATE_CHANGED,$,A),Y.on(T.default.MANIFEST_LOADED,ce,A),Y.on(T.default.BUFFER_LEVEL_STATE_CHANGED,ue,A),Y.on(T.default.PLAYBACK_SEEKED,be,A),Y.on(T.default.PERIOD_SWITCH_COMPLETED,de,A)}},function ie(){g=Object(c.default)(x).getInstance(),J()}(),A}y.__dashjs_factory_name="CmcdModel",U.default=w.default.getSingletonFactory(y)},"./src/streaming/models/CustomParametersModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/vo/UTCTiming.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/core/Settings.js"),w=m("./src/streaming/utils/SupervisorTools.js"),P=m("./src/streaming/rules/abr/ABRRulesCollection.js"),R=m("./src/streaming/constants/Constants.js");function c(){var l,d,f,_,N,S,O,b,v=this.context,p=Object(I.default)(v).getInstance();function g(){_=[],N=[],S=[],b=[],O=null,d=[]}function ve(F,V){var re=-1;F.some(function(k,te){if(k===V)return re=te,!0}),!(re<0)&&F.splice(re,1)}function J(F){var V;for(V=0;V<b.length;V++)if(b[V].rulename===F)return V;return-1}function fe(F,V){se(F,V);var re=new M.default;re.schemeIdUri=F,re.value=V,d.push(re)}function se(F,V){Object(w.checkParameterType)(F,"string"),Object(w.checkParameterType)(V,"string"),d.forEach(function(re,k){re.schemeIdUri===F&&re.value===V&&d.splice(k,1)})}return l={getCustomInitialTrackSelectionFunction:function ee(){return O},setCustomInitialTrackSelectionFunction:function L(F){O=F},resetCustomInitialTrackSelectionFunction:function G(){O=null},getLicenseResponseFilters:function le(){return N},getLicenseRequestFilters:function Q(){return _},getCustomCapabilitiesFilters:function z(){return S},registerCustomCapabilitiesFilter:function ie(F){S.push(F)},registerLicenseResponseFilter:function W(F){N.push(F)},registerLicenseRequestFilter:function H(F){_.push(F)},unregisterCustomCapabilitiesFilter:function oe(F){ve(S,F)},unregisterLicenseResponseFilter:function Y(F){ve(N,F)},unregisterLicenseRequestFilter:function x(F){ve(_,F)},addAbrCustomRule:function de(F,V,re){if("string"!=typeof F||F!==P.default.ABANDON_FRAGMENT_RULES&&F!==P.default.QUALITY_SWITCH_RULES||"string"!=typeof V)throw R.default.BAD_ARGUMENT_ERROR;var k=J(V);-1===k?b.push({type:F,rulename:V,rule:re}):(b[k].type=F,b[k].rule=re)},removeAllAbrCustomRule:function pe(){b=[]},removeAbrCustomRule:function ae(F){if(F){var V=J(F);-1!==V&&b.splice(V,1)}else b=[]},getAbrCustomRules:function he(){return b},addUTCTimingSource:fe,removeUTCTimingSource:se,getUTCTimingSources:function _e(){return d},clearDefaultUTCTimingSources:function Se(){d=[]},restoreDefaultUTCTimingSources:function ge(){var F=p.get().streaming.utcSynchronization.defaultTimingSource;fe(F.scheme,F.value)},setXHRWithCredentialsForType:function ne(F,V){F?f[F]=!!V:Object.keys(f).forEach(function(re){ne(re,V)})},getXHRWithCredentialsForType:function X(F){var V=f[F];return void 0===V?f.default:V},setConfig:function E(){},reset:function A(){g()}},function y(){f={default:false},g()}(),l}c.__dashjs_factory_name="CustomParametersModel",U.default=T.default.getSingletonFactory(c)},"./src/streaming/models/FragmentModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/vo/FragmentRequest.js"),I="loading",w="executed",R="failed";function D(l){var v,p,y,g,d=(l=l||{}).eventBus,f=l.events,_=l.dashMetrics,N=l.fragmentLoader,S=l.debug,O=l.streamInfo,b=l.type;function G(ge){var te;return!!ge&&(te=!1,y.some(function(me){if(function(k,te){return!isNaN(k.index)&&k.startTime===te.startTime&&k.adaptationIndex===te.adaptationIndex&&k.type===te.type}(ge,me)||function(k,te){return isNaN(k.index)&&isNaN(te.index)&&k.quality===te.quality}(ge,me)||function(k,te){return k.action===T.default.ACTION_COMPLETE&&k.action===te.action}(ge,me))return te=!0}),te)}function le(ge){return isNaN(ge.duration)?.25:Math.min(ge.duration/8,.5)}function H(ge){y=y.filter(function(ne){var X=le(ne);return isNaN(ne.startTime)||void 0!==ge&&ne.startTime>=ge-X})}function x(ge,ne){ne<=ge+.5||(y=y.filter(function(X){var F=le(X);return isNaN(X.startTime)||X.startTime>=ne-F||isNaN(X.duration)||X.startTime+X.duration<=ge+F}))}function ve(ge,ne,X){for(var V=ge.length-1;V>=0;V--){var re=ge[V],k=re.startTime,te=k+re.duration;if(X=isNaN(X)?le(re):X,!isNaN(k)&&!isNaN(te)&&ne+X>=k&&ne-X<te||isNaN(k)&&isNaN(ne))return re}return null}function ae(ge,ne){_.addSchedulingInfo(ge,ne),_.addRequestsQueue(ge.mediaType,g,y)}function pe(ge){ge.sender===N&&(g.splice(g.indexOf(ge.request),1),ge.response&&!ge.error&&y.push(ge.request),ae(ge.request,ge.error?R:w),d.trigger(f.FRAGMENT_LOADING_COMPLETED,{request:ge.request,response:ge.response,error:ge.error,sender:this},{streamId:O.id,mediaType:b}))}function he(ge){ge.sender===N&&d.trigger(f.FRAGMENT_LOADING_PROGRESS,{request:ge.request,response:ge.response,error:ge.error,sender:this},{streamId:O.id,mediaType:b})}function fe(ge){ge.sender===N&&d.trigger(f.FRAGMENT_LOADING_ABANDONED,{request:ge.request},{streamId:O.id,mediaType:b})}function _e(){y=[],g=[]}return v={getStreamId:function E(){return O.id},getType:function L(){return b},getRequests:function Q(ge){var X=[];return(ge?ge.state instanceof Array?ge.state:[ge.state]:[]).forEach(function(F){var V=function de(ge){var ne;switch(ge){case I:ne=g;break;case w:ne=y;break;default:ne=[]}return ne}(F);X=X.concat(function J(ge,ne){return ne.hasOwnProperty("time")?[ve(ge,ne.time,ne.threshold)]:ge.filter(function(X){for(var F in ne)if("state"!==F&&ne.hasOwnProperty(F)&&X[F]!=ne[F])return!1;return!0})}(V,ge))}),X},isFragmentLoaded:G,isFragmentLoadedOrPending:function ee(ge){var F,ne=!1,X=0;if(!(ne=G(ge)))for(X=0;X<g.length;X++)ge.url===(F=g[X]).url&&ge.startTime===F.startTime&&(ne=!0);return ne},removeExecutedRequestsBeforeTime:H,removeExecutedRequestsAfterTime:function W(ge){y=y.filter(function(ne){return isNaN(ne.startTime)||void 0!==ge&&ne.startTime<ge})},syncExecutedRequestsWithBufferedRange:function Y(ge,ne){if(ge&&0!==ge.length){for(var X=0,F=0,V=ge.length;F<V;F++)x(X,ge.start(F)),X=ge.end(F);ne>0&&x(X,ne)}else H()},abortRequests:function z(){p.debug("abort requests"),N.abort(),g=[]},executeRequest:function ie(ge){ge.action===T.default.ACTION_DOWNLOAD?(ae(ge,I),g.push(ge),function oe(ge){d.trigger(f.FRAGMENT_LOADING_STARTED,{request:ge},{streamId:O.id,mediaType:b}),N.load(ge)}(ge)):p.warn("Unknown request action.")},reset:function se(){d.off(f.LOADING_COMPLETED,pe,this),d.off(f.LOADING_DATA_PROGRESS,he,this),d.off(f.LOADING_ABANDONED,fe,this),N&&N.reset(),_e()},resetInitialSettings:_e,addExecutedRequest:function Se(ge){y.push(ge)}},function A(){p=S.getLogger(v),_e(),d.on(f.LOADING_COMPLETED,pe,v),d.on(f.LOADING_DATA_PROGRESS,he,v),d.on(f.LOADING_ABANDONED,fe,v)}(),v}D.__dashjs_factory_name="FragmentModel";var c=M.default.getClassFactory(D);c.FRAGMENT_MODEL_LOADING=I,c.FRAGMENT_MODEL_EXECUTED=w,c.FRAGMENT_MODEL_CANCELED="canceled",c.FRAGMENT_MODEL_FAILED=R,M.default.updateClassFactory(D.__dashjs_factory_name,c),U.default=c},"./src/streaming/models/LowLatencyThroughputModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/core/FactoryMaker.js");function I(){var d,f,l=this.context,_={};function N(){f=Object(M.default)(l).getInstance().getLogger(d)}function S(y){for(var g={},A=0,E=0,L=0,G=0,ee=y.length,Q=0;Q<ee;++Q)A+=y[Q].chunkDownloadTimeRelativeMS,E+=y[Q].bufferLevel,L+=y[Q].chunkDownloadTimeRelativeMS*y[Q].bufferLevel,G+=y[Q].chunkDownloadTimeRelativeMS*y[Q].chunkDownloadTimeRelativeMS;return g.m=(L-A*E/ee)/(G-A*A/ee),g.b=E/ee-g.m*A/ee,function(le){return g.m*le+g.b}}function O(y){var A,g=!0,E=y.reduce(function(L,G){return L+G.bufferLevelAtSegmentEnd},0)/y.length;return y.forEach(function(L){Math.abs(L.bufferLevelAtSegmentEnd/L.bufferLevelAtSegmentStart)<.95&&(g=!1),L.bufferLevelAtSegmentEnd/E<.8&&(g=!1),A?A>L.bitrate&&(g=!1):A=L.bitrate}),g}return d={setup:N,addMeasurement:function p(y,g,A,E,L){y&&y.mediaType&&!_[y.mediaType]&&(_[y.mediaType]=[]);var G=y.mediaInfo.bitrateList.find(function(ee){return ee.id===y.representationId});_[y.mediaType].push({index:y.index,repId:y.representationId,mediaType:y.mediaType,requestTimeMS:E,adjustedAvailabilityStartTimeMS:y.availabilityStartTime.getTime(),segDurationMS:1e3*y.duration,chunksDurationMS:A.reduce(function(ee,Q){return ee+Q.chunkDownloadDurationMS},0),segmentBytes:A.reduce(function(ee,Q){return ee+Q.chunkBytes},0),bitrate:G&&G.bandwidth,bitrateList:y.mediaInfo.bitrateList,chunkMeasurements:A,fetchDownloadDurationMS:g,throughputCapacityDelayMS:L,getEstimatedBufferLevel:S(A.slice(1))}),_[y.mediaType].length>10&&_[y.mediaType].shift()},getThroughputCapacityDelayMS:function v(y,g){var A=_[y.mediaType]&&_[y.mediaType].slice(-3);return!A||A.length<3||!O(A)?0:g/4>250?250:g/4},getEstimatedDownloadDurationMS:function b(y){var g=_[y.mediaType].slice(-1).pop(),A=_[y.mediaType].slice(-3),E=g.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;g.bufferLevelAtSegmentStart=g.getEstimatedBufferLevel(E/2),g.bufferLevelAtSegmentEnd=g.getEstimatedBufferLevel(E);var L=O(A),G=L?.6:.8;if(g.isBufferStable&&1.05*g.segDurationMS<g.fetchDownloadDurationMS)return g.fetchDownloadDurationMS;if(!L||g.segDurationMS<g.fetchDownloadDurationMS||g.adjustedAvailabilityStartTimeMS<=g.requestTimeMS+g.throughputCapacityDelayMS-g.segDurationMS)return.8*g.fetchDownloadDurationMS;for(var ee=g.requestTimeMS+g.throughputCapacityDelayMS-g.adjustedAvailabilityStartTimeMS,Q=0,le=0,H=0,W=0;W<g.chunkMeasurements.length;W++){var x=g.chunkMeasurements[W];if(ee<le+x.chunkDownloadDurationMS)break;le+=x.chunkDownloadDurationMS,Q+=x.chunkBytes,H++}if(ee<0&&f.warn("request time was before adjusted availibitly start time"),Q&&le&&H>.2*g.chunkMeasurements.length){var z=g.segmentBytes/(Q/le);return g.fetchDownloadDurationMS<z?g.fetchDownloadDurationMS*G:z*G}var ie=g.bitrate;return g.bitrateList.some(function(oe){if(oe.bandwidth>g.bitrate)return ie=oe.bandwidth,!0}),ie===g.bitrate?g.fetchDownloadDurationMS*G:G*g.segmentBytes*8*1e3/ie}},N(),d}I.__dashjs_factory_name="LowLatencyThroughputModel",U.default=T.default.getSingletonFactory(I)},"./src/streaming/models/ManifestModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js");function w(){var c,P=this.context,R=Object(M.default)(P).getInstance();return{getValue:function l(){return c},setValue:function d(f){c=f,f&&R.trigger(T.default.MANIFEST_LOADED,{data:f})}}}w.__dashjs_factory_name="ManifestModel",U.default=I.default.getSingletonFactory(w)},"./src/streaming/models/MediaPlayerModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/core/Settings.js"),f=-.5;function N(){var S,O,b,v,p=this.context,y=Object(I.default)(p).getInstance();function E(ie,oe){return isNaN(ie)?0:ie>0?(oe&&O.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie<f?(oe&&O.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(f,": ").concat(-50,"% playback speed.")),f):ie}function L(ie,oe){return isNaN(ie)?0:ie<0?(oe&&O.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ie>1?(oe&&O.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ie}function W(){var ie=y.get().streaming.buffer.stableBufferTime>0?y.get().streaming.buffer.stableBufferTime:y.get().streaming.buffer.fastSwitchEnabled?20:12,oe=b.getLiveDelay();return!isNaN(oe)&&oe>0?Math.min(ie,oe):ie}return S={getCatchupMaxDrift:function G(){if(!isNaN(y.get().streaming.liveCatchup.maxDrift)&&y.get().streaming.liveCatchup.maxDrift>0)return y.get().streaming.liveCatchup.maxDrift;var ie=v.getServiceDescriptionSettings();return ie&&ie.liveCatchup&&!isNaN(ie.liveCatchup.maxDrift)&&ie.liveCatchup.maxDrift>0?ie.liveCatchup.maxDrift:12},getCatchupModeEnabled:function Q(){return null!==y.get().streaming.liveCatchup.enabled?y.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:W,getInitialBufferLevel:function H(){var ie=y.get().streaming.buffer.initialBufferLevel;return isNaN(ie)||ie<0?0:Math.min(W(),ie)},getRetryAttemptsForType:function x(ie){var oe=isNaN(y.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:y.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?y.get().streaming.retryAttempts[ie]*oe:y.get().streaming.retryAttempts[ie]},getRetryIntervalsForType:function Y(ie){var oe=isNaN(y.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:y.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?y.get().streaming.retryIntervals[ie]/oe:y.get().streaming.retryIntervals[ie]},getCatchupPlaybackRates:function ee(ie){var oe=y.get().streaming.liveCatchup.playbackRate;if(!isNaN(oe.min)||!isNaN(oe.max))return{min:E(oe.min,ie),max:L(oe.max,ie)};var ve=v.getServiceDescriptionSettings();if(ve&&ve.liveCatchup&&(!isNaN(ve.liveCatchup.playbackRate.min)||!isNaN(ve.liveCatchup.playbackRate.max))){var J=ve.liveCatchup.playbackRate;return{min:E(J.min,ie),max:L(J.max,ie)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function le(ie,oe){try{var ve=y.get().streaming.abr[ie][oe];if(!isNaN(ve)&&-1!==ve)return ve;var J=v.getServiceDescriptionSettings();return J&&J[ie]&&!isNaN(J[ie][oe])?J[ie][oe]:-1}catch{return-1}},setConfig:function A(ie){ie.playbackController&&(b=ie.playbackController),ie.serviceDescriptionController&&(v=ie.serviceDescriptionController)},reset:function z(){}},function g(){O=Object(M.default)(p).getInstance().getLogger(S)}(),S}N.__dashjs_factory_name="MediaPlayerModel",U.default=T.default.getSingletonFactory(N)},"./src/streaming/models/MetricsModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/constants/MetricsConstants.js"),I=m("./src/streaming/vo/MetricsList.js"),w=m("./src/streaming/vo/metrics/HTTPRequest.js"),P=m("./src/streaming/vo/metrics/RepresentationSwitch.js"),R=m("./src/streaming/vo/metrics/BufferLevel.js"),D=m("./src/streaming/vo/metrics/BufferState.js"),c=m("./src/streaming/vo/metrics/DVRInfo.js"),l=m("./src/streaming/vo/metrics/DroppedFrames.js"),d=m("./src/streaming/vo/metrics/ManifestUpdate.js"),f=m("./src/streaming/vo/metrics/SchedulingInfo.js"),_=m("./src/core/EventBus.js"),N=m("./src/streaming/vo/metrics/RequestsQueue.js"),S=m("./src/core/events/Events.js"),O=m("./src/core/FactoryMaker.js");function b(v){var A,E,p=(v=v||{}).settings,y=this.context,g=Object(_.default)(y).getInstance();function G(){g.trigger(S.default.METRICS_CHANGED)}function ee(F){g.trigger(S.default.METRIC_CHANGED,{mediaType:F}),G()}function Q(F,V,re){g.trigger(S.default.METRIC_UPDATED,{mediaType:F,metric:V,value:re}),ee(F)}function le(F,V,re){g.trigger(S.default.METRIC_ADDED,{mediaType:F,metric:V,value:re}),ee(F)}function x(F,V){var re=null;return F&&(E.hasOwnProperty(F)?re=E[F]:V||(re=new I.default,E[F]=re)),re}function Y(F,V,re){var k=x(F);null!==k&&(k[V].push(re),k[V].length>p.get().streaming.metrics.maxListDepth&&k[V].shift())}function ve(F,V,re){Y(F,V,re),le(F,V,re)}return A={clearCurrentMetricsForType:function H(F){delete E[F],ee(F)},clearAllCurrentMetrics:function W(){E={},G()},getMetricsFor:x,addHttpRequest:function ie(F,V,re,k,te,me,Ee,q,K,j,$,ce,ue,be,Re,Pe){var we=new w.HTTPRequest;me&&me!==k&&(ie(F,null,re,k,te,null,null,q,K,null,null,null,ue,null,null,Pe),we.actualurl=me),we.tcpid=V,we.type=re,we.url=k,we.range=q,we.trequest=K,we.tresponse=j,we.responsecode=ce,we._tfinish=$,we._stream=F,we._mediaduration=ue,we._quality=te,we._responseHeaders=be,we._serviceLocation=Ee,we._fileLoaderType=Pe,Re?Re.forEach(function(Ue){!function z(F,V,re,k){var te=new w.HTTPRequestTrace;return te.s=V,te.d=re,te.b=k,F.trace.push(te),F.interval||(F.interval=0),F.interval+=re,te}(we,Ue.s,Ue.d,Ue.b)}):(delete we.interval,delete we.trace),ve(F,T.default.HTTP_REQUEST,we)},addRepresentationSwitch:function oe(F,V,re,k,te){var me=new P.default;me.t=V,me.mt=re,me.to=k,te?me.lto=te:delete me.lto,ve(F,T.default.TRACK_SWITCH,me)},addBufferLevel:function J(F,V,re){var k=new R.default;k.t=V,k.level=re,ve(F,T.default.BUFFER_LEVEL,k)},addBufferState:function de(F,V,re){var k=new D.default;k.target=re,k.state=V,ve(F,T.default.BUFFER_STATE,k)},addDVRInfo:function ae(F,V,re,k){var te=new c.default;te.time=V,te.range=k,te.manifestInfo=re,ve(F,T.default.DVR_INFO,te)},addDroppedFrames:function pe(F,V){var re=new l.default,k=x(F).DroppedFrames;!V||(re.time=V.creationTime,re.droppedFrames=V.droppedVideoFrames,!(k.length>0&&k[k.length-1]==re)&&ve(F,T.default.DROPPED_FRAMES,re))},addSchedulingInfo:function he(F,V,re,k,te,me,Ee,q,K){var j=new f.default;j.mediaType=F,j.t=V,j.type=re,j.startTime=k,j.availabilityStartTime=te,j.duration=me,j.quality=Ee,j.range=q,j.state=K,ve(F,T.default.SCHEDULING_INFO,j)},addRequestsQueue:function fe(F,V,re){var k=new N.default;k.loadingRequests=V,k.executedRequests=re,x(F).RequestsQueue=k,le(F,T.default.REQUESTS_QUEUE,k)},addManifestUpdate:function _e(F,V,re,k,te,me,Ee,q,K,j){var $=new d.ManifestUpdate;$.mediaType=F,$.type=V,$.requestTime=re,$.fetchTime=k,$.availabilityStartTime=te,$.presentationStartTime=me,$.clientTimeOffset=Ee,$.currentTime=q,$.buffered=K,$.latency=j,Y(M.default.STREAM,T.default.MANIFEST_UPDATE,$),le(F,T.default.MANIFEST_UPDATE,$)},updateManifestUpdateInfo:function se(F,V){if(F){for(var re in V)F[re]=V[re];Q(F.mediaType,T.default.MANIFEST_UPDATE,F)}},addManifestUpdateStreamInfo:function Se(F,V,re,k,te){if(F){var me=new d.ManifestUpdateStreamInfo;me.id=V,me.index=re,me.start=k,me.duration=te,F.streamInfo.push(me),Q(F.mediaType,T.default.MANIFEST_UPDATE_STREAM_INFO,F)}},addManifestUpdateRepresentationInfo:function ge(F,V,re,k,te,me,Ee,q){if(F&&F.representationInfo){var K=new d.ManifestUpdateRepresentationInfo;K.id=V,K.index=re,K.streamIndex=k,K.mediaType=te,K.startNumber=Ee,K.fragmentInfoType=q,K.presentationTimeOffset=me,F.representationInfo.push(K),Q(F.mediaType,T.default.MANIFEST_UPDATE_TRACK_INFO,F)}},addPlayList:function ne(F){F.trace&&Array.isArray(F.trace)?F.trace.forEach(function(V){V.hasOwnProperty("subreplevel")&&!V.subreplevel&&delete V.subreplevel}):delete F.trace,ve(M.default.STREAM,T.default.PLAY_LIST,F)},addDVBErrors:function X(F){ve(M.default.STREAM,T.default.DVB_ERRORS,F)}},function L(){E={}}(),A}b.__dashjs_factory_name="MetricsModel",U.default=O.default.getSingletonFactory(b)},"./src/streaming/models/URIFragmentModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/URIFragmentData.js"),T=m("./src/core/FactoryMaker.js");function I(){var P;return{initialize:function R(c){if(P=new M.default,!c)return null;var l=c.indexOf("#");if(-1!==l)for(var d=c.substr(l+1).split("&"),f=0,_=d.length;f<_;++f){var N=d[f],S=N.indexOf("=");if(-1!==S){var O=N.substring(0,S);P.hasOwnProperty(O)&&(P[O]=N.substr(S+1))}}},getURIFragmentData:function D(){return P}}}I.__dashjs_factory_name="URIFragmentModel",U.default=T.default.getSingletonFactory(I)},"./src/streaming/models/VideoModel.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),w=m("./src/core/Debug.js"),P=m("./src/streaming/constants/Constants.js"),R=new Map([[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[P.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function D(){var c,l,d,f,_,N,b=this.context,v=Object(T.default)(b).getInstance(),p=[];function E(){d&&(d.playbackRate=1,d.removeEventListener("canplay",E))}function ve(){return p.length>0}function pe(){if(d&&ve()&&0===d.playbackRate){var Ce=document.createEvent("Event");Ce.initEvent("waiting",!0,!1),d.dispatchEvent(Ce)}}function V(Ce,Oe){d&&d.addEventListener(Ce,Oe)}function re(Ce,Oe){d&&d.removeEventListener(Ce,Oe)}function k(){return d?d.readyState:NaN}function te(){return d?d.buffered:null}function ue(Ce,Oe,Ge,Le,$e){if(d)for(var Je=0;Je<d.textTracks.length;Je++)if(d.textTracks[Je].kind===Ce&&(!Oe||d.textTracks[Je].label==Oe)&&d.textTracks[Je].language===Ge&&d.textTracks[Je].isTTML===Le&&d.textTracks[Je].isEmbedded===$e)return d.textTracks[Je];return null}function we(Ce,Oe){Ce===P.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||k()>=Ce?Oe():function Ue(Ce,Oe){V(Ce,function Le(){re(Ce,Le),Oe(Ce)})}(R.get(Ce),Oe)}return c={initialize:function g(){v.on(I.default.PLAYBACK_PLAYING,pe,this)},setCurrentTime:function G(Ce,Oe){f=Ce,we(P.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(d){if(d.currentTime===f)return void(f=NaN);try{f=Oe?function ee(Ce){var Oe=te(),Ge=Ce,Le=9999999999;if(Oe)for(var $e=0;$e<Oe.length;$e++){var Je=Oe.start($e),nt=Oe.end($e),at=Math.abs(Je-Ce),ht=Math.abs(nt-Ce);if(Ce>=Je&&Ce<=nt)return Ce;at<Le&&(Le=at,Ge=Je),ht<Le&&(Le=ht,Ge=nt)}return Ge}(f):f,d.currentTime=f,f=NaN}catch(Ge){0===d.readyState&&Ge.code===Ge.INVALID_STATE_ERR&&setTimeout(function(){d.currentTime=f,f=NaN},400)}}})},play:function fe(){if(d){d.autoplay=!0;var Ce=d.play();Ce&&Ce.catch&&typeof Promise<"u"&&Ce.catch(function(Oe){"NotAllowedError"===Oe.name&&v.trigger(I.default.PLAYBACK_NOT_ALLOWED),l.warn("Caught pending play exception - continuing (".concat(Oe,")"))})}},isPaused:function _e(){return d?d.paused:null},pause:function se(){d&&(d.pause(),d.autoplay=!1)},isStalled:ve,isSeeking:function Se(){return d?d.seeking||!isNaN(f):null},getTime:function ge(){return d?isNaN(f)?d.currentTime:f:null},getPlaybackRate:function ne(){return d?d.playbackRate:null},setPlaybackRate:function L(Ce){!d||(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&d.readyState<=2&&Ce>0?d.addEventListener("canplay",E):d.playbackRate=Ce)},getPlayedRanges:function X(){return d?d.played:null},getEnded:function F(){return d?d.ended:null},setStallState:function oe(Ce,Oe){!function ae(Ce,Oe){Oe?function J(Ce){null===Ce||!d||d.seeking||-1!==p.indexOf(Ce)||p.push(Ce)}(Ce):function de(Ce){var Oe=p.indexOf(Ce);null!==Ce&&-1!==Oe&&p.splice(Oe,1)}(Ce)}(Ce,Oe)},getElement:function Q(){return d},setElement:function le(Ce){if(!(null==Ce||Ce&&/^(VIDEO|AUDIO)$/i.test(Ce.nodeName)))throw"element is not video or audio DOM type!";(d=Ce)&&(d.preload="auto")},setSource:function H(Ce){d&&(Ce?d.src=Ce:(d.removeAttribute("src"),d.load()))},getSource:function W(){return d?d.src:null},getTTMLRenderingDiv:function x(){return _},setTTMLRenderingDiv:function z(Ce){(_=Ce).style.position="absolute",_.style.display="flex",_.style.overflow="hidden",_.style.pointerEvents="none",_.style.top=0,_.style.left=0},getVttRenderingDiv:function Y(){return N},setVttRenderingDiv:function ie(Ce){N=Ce},getPlaybackQuality:function he(){if(!d)return null;var Ce="webkitDroppedFrameCount"in d&&"webkitDecodedFrameCount"in d,Ge=null;return"getVideoPlaybackQuality"in d?Ge=d.getVideoPlaybackQuality():Ce&&(Ge={droppedVideoFrames:d.webkitDroppedFrameCount,totalVideoFrames:d.webkitDroppedFrameCount+d.webkitDecodedFrameCount,creationTime:new Date}),Ge},addEventListener:V,removeEventListener:re,getReadyState:k,getBufferRange:te,getClientWidth:function me(){return d?d.clientWidth:NaN},getClientHeight:function Ee(){return d?d.clientHeight:NaN},getTextTracks:function ce(){return d?d.textTracks:[]},getTextTrack:ue,addTextTrack:function be(Ce,Oe,Ge,Le,$e){if(!d)return null;var Je=ue(Ce,Oe,Ge,Le,$e);return Je||((Je=d.addTextTrack(Ce,Oe,Ge)).isEmbedded=$e,Je.isTTML=Le),Je},appendChild:function Re(Ce){d&&(d.appendChild(Ce),void 0!==Ce.isTTML&&(d.textTracks[d.textTracks.length-1].isTTML=Ce.isTTML,d.textTracks[d.textTracks.length-1].isEmbedded=Ce.isEmbedded))},removeChild:function Pe(Ce){d&&d.removeChild(Ce)},getVideoWidth:function q(){return d?d.videoWidth:NaN},getVideoHeight:function K(){return d?d.videoHeight:NaN},getVideoRelativeOffsetTop:function j(){var Ce=d.parentNode.host||d.parentNode;return Ce?d.getBoundingClientRect().top-Ce.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function $(){var Ce=d.parentNode.host||d.parentNode;return Ce?d.getBoundingClientRect().left-Ce.getBoundingClientRect().left:NaN},waitForReadyState:we,reset:function A(){v.off(I.default.PLAYBACK_PLAYING,pe,this)}},function y(){l=Object(w.default)(b).getInstance().getLogger(c),f=NaN}(),c}D.__dashjs_factory_name="VideoModel",U.default=M.default.getSingletonFactory(D)},"./src/streaming/net/FetchLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Settings.js"),I=m("./src/streaming/constants/Constants.js"),w=m("./src/streaming/utils/RequestModifier.js");function P(S,O){return function c(S){if(Array.isArray(S))return S}(S)||function D(S,O){var b=null==S?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(null!=b){var v,p,y,g,A=[],E=!0,L=!1;try{if(y=(b=b.call(S)).next,0===O){if(Object(b)!==b)return;E=!1}else for(;!(E=(v=y.call(b)).done)&&(A.push(v.value),A.length!==O);E=!0);}catch(G){L=!0,p=G}finally{try{if(!E&&null!=b.return&&(g=b.return(),Object(g)!==g))return}finally{if(L)throw p}}return A}}(S,O)||d(S,O)||function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(S,O){if(S){if("string"==typeof S)return f(S,O);var b=Object.prototype.toString.call(S).slice(8,-1);if("Object"===b&&S.constructor&&(b=S.constructor.name),"Map"===b||"Set"===b)return Array.from(S);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return f(S,O)}}function f(S,O){(null==O||O>S.length)&&(O=S.length);for(var b=0,v=new Array(O);b<O;b++)v[b]=S[b];return v}function _(S){var A,O=this.context,b=(S=S||{}).requestModifier,v=S.lowLatencyThroughputModel,p=S.boxParser,y=Object(T.default)(O).getInstance();function G(x){var J,Y=new Date,z=x.request,ie=new Headers;if(z.range&&ie.append("Range","bytes="+z.range),x.headers)for(var oe in x.headers){var ve=x.headers[oe];ve&&ie.append(oe,ve)}z.requestStartDate||(z.requestStartDate=Y),b&&b.modifyRequestHeader&&b.modifyRequestHeader({setRequestHeader:function(_e,se){ie.append(_e,se)}},{url:x.url}),"function"==typeof window.AbortController&&(J=new AbortController,x.abortController=J,J.signal.onabort=x.onabort);var de={method:x.method,headers:ie,credentials:x.withCredentials?"include":void 0,signal:J?J.signal:void 0},ae=y.get().streaming.abr.fetchThroughputCalculationMode,pe=Date.now(),he=0;new Promise(function(fe){if(ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&v&&(he=v.getThroughputCapacityDelayMS(z,1e3*A.getCurrentBufferLevel(z.mediaType))))return setTimeout(fe,he);fe()}).then(function(){var fe=Date.now();fetch(x.url,de).then(function(_e){x.response||(x.response={}),x.response.status=_e.status,x.response.statusText=_e.statusText,x.response.responseURL=_e.url,_e.ok||x.onerror();var ge,se="",Se=function l(S,O){var b=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!b){if(Array.isArray(S)||(b=d(S))||O&&S&&"number"==typeof S.length){b&&(S=b);var v=0,p=function(){};return{s:p,n:function(){return v>=S.length?{done:!0}:{done:!1,value:S[v++]}},e:function(L){throw L},f:p}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A,y=!0,g=!1;return{s:function(){b=b.call(S)},n:function(){var L=b.next();return y=L.done,L},e:function(L){g=!0,A=L},f:function(){try{!y&&null!=b.return&&b.return()}finally{if(g)throw A}}}}(_e.headers.keys());try{for(Se.s();!(ge=Se.n()).done;){var ne=ge.value;se+=ne+": "+_e.headers.get(ne)+"\r\n"}}catch(we){Se.e(we)}finally{Se.f()}if(x.response.responseHeaders=se,!_e.body)return _e.arrayBuffer().then(function(we){x.response.response=we,x.progress({loaded:we.byteLength,total:we.byteLength,stream:!1}),x.onload(),x.onend()});var Ce,Oe,X=parseInt(_e.headers.get("Content-Length"),10),F=0,V=!1,re=new Uint8Array,k=0;if(ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&v){var me=fe,Ee=0,K=P(_e.body.tee(),2),$=K[1];Ce=K[0].getReader(),Oe=[],Ce.read().then(function Ge(Le){var $e=Le.value,Je=Le.done;if(Ee=Date.now(),$e&&$e.length){var nt=Ee-me,at=$e.length;Oe.push({chunkDownloadTimeRelativeMS:Ee-fe,chunkDownloadDurationMS:nt,chunkBytes:at,kbps:Math.round(8*at/(nt/1e3)),bufferLevel:A.getCurrentBufferLevel(z.mediaType)})}if(Je){var ht=Ee-fe,Rt=Oe.reduce(function(Ht,Bt){return Ht+Bt.chunkBytes},0);return v.addMeasurement(z,ht,Oe,pe,he,se),void x.progress({loaded:Rt,total:Rt,lengthComputable:!0,time:v.getEstimatedDownloadDurationMS(z),stream:!0})}return me=Date.now(),Ce.read().then(Ge)}),x.reader=$.getReader()}else x.reader=_e.body.getReader();var ce=[],ue=[],be=[],Re=!0;ee(x,function we(Ue){var Ce=Ue.value;if(Ue.done){if(re){if(ae!==I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Ge=null,Le=null;ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Ge=function W(x,Y){try{var z,ie;z=x.filter(function(fe,_e){return _e<x.length-1}),ie=Y.filter(function(fe,_e){return _e<Y.length-1});var oe=[];if(z.length>1){for(var ve=0,J=0,de=0;de<z.length;de++)if(z[de]&&ie[de]){var ae=ie[de].ts-z[de].ts;if(ae>1)oe.push(8*ie[de].bytes/ae);else{0===J&&(J=z[de].ts);var pe=ie[de].ts-J;pe>1?(oe.push(8*ve/pe),ve=0,J=0):ve+=ie[de].bytes}}if(oe.length>0)return oe.reduce(function(fe,_e){return fe+_e},0)/oe.length}return null}catch{return null}}(ue,be))&&(Le=8*F/Ge):ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Le=H(ce,F)),x.progress({loaded:F,total:isNaN(X)?F:X,lengthComputable:!0,time:Le,stream:!0})}x.response.response=re.buffer}return x.onload(),void x.onend()}if(Ce&&Ce.length>0){re=function Q(x,Y){if(0===x.length)return Y;var z=new Uint8Array(x.length+Y.length);return z.set(x),z.set(Y,x.length),z}(re,Ce),F+=Ce.length,ce.push({ts:Date.now(),bytes:Ce.length}),ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Re&&p.findLastTopIsoBoxCompleted(["moof"],re,k).found&&(Re=!1,ue.push({ts:performance.now(),bytes:Ce.length}));var Je=p.findLastTopIsoBoxCompleted(["moov","mdat"],re,k);if(Je.found){var at,nt=Je.lastCompletedOffset+Je.size;ae===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Re&&(Re=!0,be.push({ts:performance.now(),bytes:re.length})),nt===re.length?(at=re,re=new Uint8Array):(at=new Uint8Array(re.subarray(0,nt)),re=re.subarray(nt)),x.progress({data:at.buffer,lengthComputable:!1,noTrace:!0}),k=0}else k=Je.lastCompletedOffset,V||(x.progress({lengthComputable:!1,noTrace:!0}),V=!0)}ee(x,we)})}).catch(function(_e){x.onerror&&x.onerror(_e)})})}function ee(x,Y){x.reader.read().then(Y).catch(function(z){x.onerror&&200===x.response.status&&x.onerror(z)})}function H(x,Y){try{if((x=x.filter(function(oe){return oe.bytes>Y/4/x.length})).length>1){var z=0,ie=(x[x.length-1].ts-x[0].ts)/x.length;return x.forEach(function(oe,ve){var J=x[ve+1];if(J){var de=J.ts-oe.ts;z+=de<ie?de:0}}),z}return null}catch{return null}}return{load:function L(x){b&&b.modifyRequest?Object(w.modifyRequest)(x,b).then(function(){return G(x)}):G(x)},abort:function le(x){if(x.abortController)x.abortController.abort();else if(x.reader)try{x.reader.cancel(),x.onabort()}catch{}},calculateDownloadedTime:H,setup:function E(x){A=x.dashMetrics}}}_.__dashjs_factory_name="FetchLoader";var N=M.default.getClassFactory(_);U.default=N},"./src/streaming/net/HTTPLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/net/XHRLoader.js"),T=m("./src/streaming/net/FetchLoader.js"),I=m("./src/streaming/vo/metrics/HTTPRequest.js"),w=m("./src/core/FactoryMaker.js"),P=m("./src/streaming/vo/DashJSError.js"),R=m("./src/streaming/models/CmcdModel.js"),D=m("./src/core/Utils.js"),c=m("./src/core/Debug.js"),l=m("./src/core/EventBus.js"),d=m("./src/core/events/Events.js"),f=m("./src/core/Settings.js"),_=m("./src/streaming/constants/Constants.js"),N=m("./src/streaming/models/LowLatencyThroughputModel.js"),S=m("./src/streaming/models/CustomParametersModel.js");function O(A){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(A)}function b(A,E,L){return(E=function v(A){var E=function p(A,E){if("object"!==O(A)||null===A)return A;var L=A[Symbol.toPrimitive];if(void 0!==L){var G=L.call(A,E||"default");if("object"!==O(G))return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(A)}(A,"string");return"symbol"===O(E)?E:String(E)}(E))in A?Object.defineProperty(A,E,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[E]=L,A}function y(A){var z,ie,oe,ve,J,de,ae,pe,he,E=this.context,L=(A=A||{}).errHandler,G=A.dashMetrics,ee=A.mediaPlayerModel,Q=A.requestModifier,le=A.boxParser,H=A.errors,W=A.requestTimeout||0,x=Object(l.default)(E).getInstance(),Y=Object(f.default)(E).getInstance();function _e(ne,X){var K,F=ne.request,V=[],re=!0,k=!0,te=new Date,me=te,Ee=0,q=null;if(!Q||!G||!L)throw new Error("config object is not correct or missing");var Pe,j=function(at){if(k=!1,F.requestStartDate=te,F.requestEndDate=new Date,F.firstByteDate=F.firstByteDate||te,F.fileLoaderType=q,!F.checkExistenceOnly){var ht=K.response?K.response.responseURL:null,Rt=K.response?K.response.status:null,Ht=K.response&&K.response.getAllResponseHeaders?K.response.getAllResponseHeaders():K.response?K.response.responseHeaders:[];G.addHttpRequest(F,ht,Rt,Ht,at?V:null),F.type===I.HTTPRequest.MPD_TYPE&&G.addManifestUpdate(F)}},$=function(){if(-1!==ie.indexOf(K)&&(ie.splice(ie.indexOf(K),1),k))if(j(!1),X>0){try{Y.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&F.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE&&ee.getRetryAttemptsForType(I.HTTPRequest.MEDIA_SEGMENT_TYPE)===X&&x.trigger(d.default.ATTEMPT_BACKGROUND_SYNC)}catch{}X--;var ht={config:ne};ve.push(ht),ht.timeout=setTimeout(function(){-1!==ve.indexOf(ht)&&(ve.splice(ve.indexOf(ht),1),_e(ne,X))},ee.getRetryIntervalsForType(F.type))}else{if(F.type===I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;L.error(new P.default(J[F.type],F.url+" is not available",{request:F,response:K.response})),ne.error&&ne.error(F,"error",K.response.statusText),ne.complete&&ne.complete(F,K.response.statusText)}};F.hasOwnProperty("availabilityTimeComplete")&&!1===F.availabilityTimeComplete&&window.fetch&&"arraybuffer"===F.responseType&&F.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE?((Pe=Object(T.default)(E).create({requestModifier:Q,lowLatencyThroughputModel:pe,boxParser:le})).setup({dashMetrics:G}),q=_.default.FILE_LOADER_TYPES.FETCH):(Pe=Object(M.default)(E).create({requestModifier:Q}),q=_.default.FILE_LOADER_TYPES.XHR);var we=null,Ue=Q.modifyRequestURL?Q.modifyRequestURL(F.url):F.url;if(Y.get().streaming.cmcd&&Y.get().streaming.cmcd.enabled){var Ce=Y.get().streaming.cmcd.mode;if(Ce===_.default.CMCD_MODE_QUERY){var Oe=function se(ne){try{var X=[],F=de.getQueryParameter(ne);return F&&X.push(F),X}catch{return[]}}(F);Ue=D.default.addAditionalQueryParameterToUrl(Ue,Oe)}else Ce===_.default.CMCD_MODE_HEADER&&(we=de.getHeaderParameters(F))}F.url=Ue;var Ge=F.checkExistenceOnly?I.HTTPRequest.HEAD:I.HTTPRequest.GET,Le=ae.getXHRWithCredentialsForType(F.type);K={url:Ue,method:Ge,withCredentials:Le,request:F,onload:function(){K.response.status>=200&&K.response.status<=299&&(j(!0),ne.success&&ne.success(K.response.response,K.response.statusText,K.response.responseURL),ne.complete&&ne.complete(F,K.response.statusText))},onend:$,onerror:$,progress:function(at){var ht=new Date;re&&(re=!1,(!at.lengthComputable||at.lengthComputable&&at.total!==at.loaded)&&(F.firstByteDate=ht)),at.lengthComputable&&(F.bytesLoaded=at.loaded,F.bytesTotal=at.total),at.noTrace||(V.push({s:me,d:at.time?at.time:ht.getTime()-me.getTime(),b:[at.loaded?at.loaded-Ee:0]}),me=ht,Ee=at.loaded),ne.progress&&at&&ne.progress(at)},onabort:function(){ne.abort&&ne.abort(F)},ontimeout:function(at){var ht;ht=at.lengthComputable?"Request timeout: loaded: "+at.loaded+", out of: "+at.total+" : "+(at.loaded/at.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",he.warn(ht)},loader:Pe,timeout:W,headers:we};var $e=(new Date).getTime();if(isNaN(F.delayLoadingTime)||$e>=F.delayLoadingTime)ie.push(K),Pe.load(K);else{var Je={httpRequest:K};oe.push(Je),Je.delayTimeout=setTimeout(function(){if(-1!==oe.indexOf(Je)){oe.splice(oe.indexOf(Je),1);try{te=new Date,me=te,ie.push(Je.httpRequest),Pe.load(Je.httpRequest)}catch{Je.httpRequest.onerror()}}},F.delayLoadingTime-$e)}}return z={load:function Se(ne){ne.request?_e(ne,ee.getRetryAttemptsForType(ne.request.type)):ne.error&&ne.error(ne.request,"error")},abort:function ge(){ve.forEach(function(ne){clearTimeout(ne.timeout),ne.config.request&&ne.config.abort&&ne.config.abort(ne.config.request)}),ve=[],oe.forEach(function(ne){return clearTimeout(ne.delayTimeout)}),oe=[],ie.forEach(function(ne){ne.request.type!==I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(ne.onloadend=ne.onerror=ne.onprogress=void 0,ne.loader.abort(ne))}),ie=[]}},function fe(){var ne;he=Object(c.default)(E).getInstance().getLogger(z),ie=[],oe=[],ve=[],de=Object(R.default)(E).getInstance(),pe=Object(N.default)(E).getInstance(),ae=Object(S.default)(E).getInstance(),b(ne={},I.HTTPRequest.MPD_TYPE,H.DOWNLOAD_ERROR_ID_MANIFEST_CODE),b(ne,I.HTTPRequest.XLINK_EXPANSION_TYPE,H.DOWNLOAD_ERROR_ID_XLINK_CODE),b(ne,I.HTTPRequest.INIT_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),b(ne,I.HTTPRequest.MEDIA_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),b(ne,I.HTTPRequest.INDEX_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),b(ne,I.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),b(ne,I.HTTPRequest.OTHER_TYPE,H.DOWNLOAD_ERROR_ID_CONTENT_CODE),J=ne}(),z}y.__dashjs_factory_name="HTTPLoader";var g=w.default.getClassFactory(y);U.default=g},"./src/streaming/net/SchemeLoaderFactory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/net/HTTPLoader.js");function I(){var R;function l(){R={}}function f(){l()}return function _(){f()}(),{getLoader:function d(N){for(var S in R)if(R.hasOwnProperty(S)&&N.startsWith(S))return R[S];return T.default},registerLoader:function D(N,S){R[N]=S},unregisterLoader:function c(N){R[N]&&delete R[N]},unregisterAllLoader:l,reset:f}}I.__dashjs_factory_name="SchemeLoaderFactory";var w=M.default.getSingletonFactory(I);U.default=w},"./src/streaming/net/URLLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/net/SchemeLoaderFactory.js");function I(P){P=P||{};var c,l,R=this.context;return c=Object(T.default)(R).getInstance(),{load:function d(_){if(!l){var N=c.getLoader(_&&_.request?_.request.url:null);l=N(R).create({errHandler:P.errHandler,mediaPlayerModel:P.mediaPlayerModel,requestModifier:P.requestModifier,dashMetrics:P.dashMetrics,boxParser:P.boxParser?P.boxParser:null,constants:P.constants?P.constants:null,dashConstants:P.dashConstants?P.dashConstants:null,urlUtils:P.urlUtils?P.urlUtils:null,requestTimeout:isNaN(P.requestTimeout)?0:P.requestTimeout,errors:P.errors})}l.load(_)},abort:function f(){l&&l.abort()}}}I.__dashjs_factory_name="URLLoader";var w=M.default.getClassFactory(I);U.default=w},"./src/streaming/net/XHRLoader.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/utils/RequestModifier.js");function I(P){var R=(P=P||{}).requestModifier;function l(f){var _=new Date,N=f.request,S=new XMLHttpRequest;if(S.open(f.method,f.url,!0),N.responseType&&(S.responseType=N.responseType),N.range&&S.setRequestHeader("Range","bytes="+N.range),N.requestStartDate||(N.requestStartDate=_),R&&R.modifyRequestHeader&&(S=R.modifyRequestHeader(S,{url:f.url})),f.headers)for(var O in f.headers){var b=f.headers[O];b&&S.setRequestHeader(O,b)}S.withCredentials=f.withCredentials,S.onload=f.onload,S.onloadend=f.onend,S.onerror=f.onerror,S.onprogress=f.progress,S.onabort=f.onabort,S.ontimeout=f.ontimeout,S.timeout=f.timeout,S.send(),f.response=S}return{load:function c(f){R&&R.modifyRequest?Object(T.modifyRequest)(f,R).then(function(){return l(f)}):l(f)},abort:function d(f){var _=f.response;_.onloadend=_.onerror=_.onprogress=void 0,_.abort()}}}I.__dashjs_factory_name="XHRLoader";var w=M.default.getClassFactory(I);U.default=w},"./src/streaming/protection/CommonEncryption.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function P(l){var d=function R(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}m.r(U);var D={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};U.default=function(){function l(){!function T(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,l)}return function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,null,[{key:"findCencContentProtection",value:function(f){for(var _=null,N=0;N<f.length;++N){var S=f[N];"urn:mpeg:dash:mp4protection:2011"===S.schemeIdUri.toLowerCase()&&("cenc"===S.value.toLowerCase()||"cbcs"===S.value.toLowerCase())&&(_=S)}return _}},{key:"getPSSHData",value:function(f){var _=8,N=new DataView(f),S=N.getUint8(_);return _+=20,S>0&&(_+=4+16*N.getUint32(_)),f.slice(_+=4)}},{key:"getPSSHForKeySystem",value:function(f,_){var N=l.parsePSSHList(_);return f&&N.hasOwnProperty(f.uuid.toLowerCase())?N[f.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(f,_){return"pssh"in f?(f.pssh.__text=f.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),_.decodeArray(f.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(f){if(null==f)return[];for(var _=new DataView(f.buffer||f),S={},O=0;;){var v,p=void 0,y=void 0,g=O;if(O>=_.buffer.byteLength)break;if(v=O+_.getUint32(O),1886614376===_.getUint32(O+=4))if(0===(p=_.getUint8(O+=4))||1===p){O++,O+=3,y="";var A=void 0,E=void 0;for(A=0;A<4;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=4,y+="-",A=0;A<2;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=2,y+="-",A=0;A<2;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=2,y+="-",A=0;A<2;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;for(O+=2,y+="-",A=0;A<6;A++)y+=1===(E=_.getUint8(O+A).toString(16)).length?"0"+E:E;O+=6,O+=4,S[y=y.toLowerCase()]=_.buffer.slice(g,v),O=v}else O=v;else O=v}return S}},{key:"getLicenseServerUrlFromMediaInfo",value:function(f,_){try{if(!f||0===f.length)return null;for(var N=0,S=null;N<f.length&&!S;){var O=f[N];if(O&&O.contentProtection&&O.contentProtection.length>0){var b=O.contentProtection.filter(function(L){return L.schemeIdUri&&L.schemeIdUri===_});if(b&&b.length>0)for(var v=0;v<b.length&&!S;){for(var p=b[v],y=0;y<D.attributes.length&&!S;){for(var g=0,A=D.attributes[y];g<D.prefixes.length&&!S;)p[A]&&p[A].__prefix&&p[A].__prefix===D.prefixes[g]&&p[A].__text&&(S=p[A].__text),g+=1;y+=1}v+=1}}N+=1}return S}catch{return null}}}]),l}()},"./src/streaming/protection/Protection.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/controllers/ProtectionController.js"),T=m("./src/streaming/protection/controllers/ProtectionKeyController.js"),I=m("./src/streaming/protection/ProtectionEvents.js"),w=m("./src/streaming/protection/errors/ProtectionErrors.js"),P=m("./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),R=m("./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),D=m("./src/streaming/protection/models/ProtectionModel_01b.js"),c=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],l=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function d(){var _,N=this.context;function b(v,p){for(var y=0;y<p.length;y++){var g=p[y];if("function"==typeof v[g[Object.keys(g)[0]]])return g}return null}return _={createProtectionSystem:function S(v){var p=null,y=Object(T.default)(N).getInstance();y.setConfig({debug:v.debug,BASE64:v.BASE64,settings:v.settings}),y.initialize();var g=function O(v){var p=v.debug,y=p.getLogger(_),g=v.eventBus,A=v.errHandler,E=v.videoModel?v.videoModel.getElement():null;return E&&void 0===E.onencrypted||E&&void 0===E.mediaKeys?b(E,l)?(y.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(R.default)(N).create({debug:p,eventBus:g,events:v.events,api:b(E,l)})):b(E,c)?(y.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(D.default)(N).create({debug:p,eventBus:g,errHandler:A,events:v.events,api:b(E,c)})):(y.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(y.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(P.default)(N).create({debug:p,eventBus:g,events:v.events}))}(v);return!p&&g&&(p=Object(M.default)(N).create({protectionModel:g,protectionKeyController:y,eventBus:v.eventBus,debug:v.debug,events:v.events,BASE64:v.BASE64,constants:v.constants,cmcdModel:v.cmcdModel,customParametersModel:v.customParametersModel,settings:v.settings}),v.capabilities.setEncryptedMediaSupported(!0)),p}}}d.__dashjs_factory_name="Protection";var f=dashjs.FactoryMaker.getClassFactory(d);f.events=I.default,f.errors=w.default,dashjs.FactoryMaker.updateClassFactory(d.__dashjs_factory_name,f),U.default=f},"./src/streaming/protection/ProtectionEvents.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",g.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",g.KEY_ADDED="public_keyAdded",g.KEY_ERROR="public_keyError",g.KEY_MESSAGE="public_keyMessage",g.KEY_SESSION_CLOSED="public_keySessionClosed",g.KEY_SESSION_CREATED="public_keySessionCreated",g.KEY_SESSION_REMOVED="public_keySessionRemoved",g.KEY_STATUSES_CHANGED="public_keyStatusesChanged",g.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",g.KEY_SYSTEM_SELECTED="public_keySystemSelected",g.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",g.LICENSE_REQUEST_SENDING="public_licenseRequestSending",g.NEED_KEY="needkey",g.PROTECTION_CREATED="public_protectioncreated",g.PROTECTION_DESTROYED="public_protectiondestroyed",g.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",g.TEARDOWN_COMPLETE="protectionTeardownComplete",g.VIDEO_ELEMENT_SELECTED="videoElementSelected",g.KEY_SESSION_UPDATED="public_keySessionUpdated",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/events/EventsBase.js").default));U.default=b},"./src/streaming/protection/controllers/ProtectionController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/CommonEncryption.js"),T=m("./src/streaming/protection/vo/MediaCapability.js"),I=m("./src/streaming/protection/vo/KeySystemConfiguration.js"),w=m("./src/streaming/protection/errors/ProtectionErrors.js"),P=m("./src/streaming/vo/DashJSError.js"),R=m("./src/streaming/protection/vo/LicenseRequest.js"),D=m("./src/streaming/protection/vo/LicenseResponse.js"),c=m("./src/streaming/vo/metrics/HTTPRequest.js"),l=m("./src/core/Utils.js"),d=m("./src/streaming/constants/Constants.js"),f=m("./src/core/FactoryMaker.js");function _(y){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(y)}function p(y){var Y,z,ie,oe,ve,J,de,ae,pe,he,fe,g=(y=y||{}).protectionKeyController,A=y.protectionModel,E=y.eventBus,L=y.events,G=y.debug,ee=y.BASE64,Q=y.constants,le=[],H=y.cmcdModel,W=y.settings,x=y.customParametersModel;function se(){if(!(E&&E.hasOwnProperty("on")&&g&&g.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function X(Te,Ne){ae||pe?ae&&V():function F(Te,Ne){if(!pe){pe=!0;var ut,Ye=[];Te=Te.sort(function(yt,gt){return(ve&&ve[yt.ks.systemString]&&ve[yt.ks.systemString].priority>=0?ve[yt.ks.systemString].priority:Te.length)-(ve&&ve[gt.ks.systemString]&&ve[gt.ks.systemString].priority>=0?ve[gt.ks.systemString].priority:Te.length)});for(var st=0;st<Te.length;st++){var tt=Oe(Te[st]);Ye.push({ks:Te[st].ks,configs:[tt],protData:Te[st].protData})}A.requestKeySystemAccess(Ye).then(function(yt){return z.info("DRM: KeySystem Access Granted for system string ("+((ut=yt.data).mksa&&ut.mksa.selectedSystemString?ut.mksa.selectedSystemString:ut.keySystem.systemString)+")!  Selecting key system..."),A.selectKeySystem(ut)}).then(function(yt){if(ae=yt,pe=!1,A){E.trigger(L.KEY_SYSTEM_SELECTED,{data:ut});var gt=me(ae);gt&&gt.serverCertificate&&gt.serverCertificate.length>0&&A.setServerCertificate(ee.decodeArray(gt.serverCertificate).buffer),V()}}).catch(function(yt){ae=null,pe=!1,Ne||E.trigger(L.KEY_SYSTEM_SELECTED,{data:null,error:new P.default(w.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,w.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+yt.error)})})}}(Te,Ne)}function V(){for(var Te,Ne=0;Ne<ie.length;Ne++)for(Te=0;Te<ie[Ne].length;Te++)if(ae===ie[Ne][Te].ks){re(ie[Ne][Te]);break}ie=[]}function re(Te){if(g.isClearKey(ae)&&Te.protData&&Te.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Te.protData.clearkeys).length){var Ne={kids:Object.keys(Te.protData.clearkeys)};Te.initData=(new TextEncoder).encode(JSON.stringify(Ne))}Te.sessionId?k(Te):null!==Te.initData&&te(Te)}function k(Te){se(),A.loadKeySession(Te)}function te(Te){var Ne=M.default.getPSSHForKeySystem(ae,Te?Te.initData:null);if(Ne){if(function K(Te){if(!Te)return!1;try{for(var Ne=A.getSessions(),Ye=0;Ye<Ne.length;Ye++)if(Ne[Ye].getKeyId()===Te)return!0;return!1}catch{return!1}}(Te.keyId)||j(Ne))return;try{Te.initData=Ne,A.createKeySession(Te)}catch(Ye){E.trigger(L.KEY_SESSION_CREATED,{data:null,error:new P.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+Ye.message)})}}else Te&&Te.initData?A.createKeySession(Te):E.trigger(L.KEY_SESSION_CREATED,{data:null,error:new P.default(w.default.KEY_SESSION_CREATED_ERROR_CODE,w.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(ae?ae.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function me(Te){if(Te){var Ne=Te.systemString;if(ve)return Ne in ve?ve[Ne]:null}return null}function j(Te){if(!Te)return!1;try{for(var Ne=A.getAllInitData(),Ye=0;Ye<Ne.length;Ye++)if(g.initDataEquals(Te,Ne[Ye]))return z.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function be(Te){se(),Te?(A.setMediaElement(Te),E.on(L.NEED_KEY,$t,Y)):null===Te&&(A.setMediaElement(Te),E.off(L.NEED_KEY,$t,Y))}function Oe(Te){var Ne=Te.protData,Ye=[],st=[],tt=Ne&&Ne.audioRobustness&&Ne.audioRobustness.length>0?Ne.audioRobustness:de,ut=Ne&&Ne.videoRobustness&&Ne.videoRobustness.length>0?Ne.videoRobustness:de,yt=Te.sessionType,gt=Ne&&Ne.distinctiveIdentifier?Ne.distinctiveIdentifier:"optional",Be=Ne&&Ne.persistentState?Ne.persistentState:"temporary"===yt?"optional":"required";return oe.forEach(function(Ze){Ze.type===Q.AUDIO?Ye.push(new T.default(Ze.codec,tt)):Ze.type===Q.VIDEO&&st.push(new T.default(Ze.codec,ut))}),new I.default(Ye,st,gt,Be,[yt])}function Ge(Te){Te.error?E.trigger(L.KEY_STATUSES_CHANGED,{data:null,error:Te.error}):z.debug("DRM: key status = "+Te.status)}function Le(Te){z.debug("DRM: onKeyMessage");var Ne=Te.data;E.trigger(L.KEY_MESSAGE,{data:Ne});var Ye=Ne.messageType?Ne.messageType:"license-request",st=Ne.message,tt=Ne.sessionToken,ut=me(ae),yt=g.getLicenseServerModelInstance(ae,ut,Ye),gt={sessionToken:tt,messageType:Ye};if(st&&0!==st.byteLength){if(!yt)return z.debug("DRM: License server request not required for this message (type = "+Te.data.messageType+").  Session ID = "+tt.getSessionId()),void $e(gt);if(g.isClearKey(ae)){var Be=g.processClearKeyLicenseRequest(ae,ut,st);if(Be&&Be.keyPairs&&Be.keyPairs.length>0)return z.debug("DRM: ClearKey license request handled by application!"),$e(gt),void A.updateKeySession(tt,Be)}!function Je(Te,Ne,Ye){var st=Te.sessionToken,tt=Te.messageType?Te.messageType:"license-request",ut={sessionToken:st,messageType:tt},yt=ae?ae.systemString:null,gt=function ht(Te,Ne,Ye,st,tt){var ut=null,yt=st.message;if(Te&&Te.serverURL){var gt=Te.serverURL;"string"==typeof gt&&""!==gt?ut=gt:"object"===_(gt)&&gt.hasOwnProperty(Ne)&&(ut=gt[Ne])}else if(Te&&Te.laURL&&""!==Te.laURL)ut=Te.laURL;else if(!(ut=M.default.getLicenseServerUrlFromMediaInfo(oe,ae.schemeIdURI))&&!g.isClearKey(ae)){var Be=M.default.getPSSHData(Ye.initData);(ut=ae.getLicenseServerURLFromInitData(Be))||(ut=st.laURL)}return tt.getServerURLFromMessage(ut,yt,Ne)}(Ye,tt,st,Te,Ne);if(gt){var Be={},Ze=!1;Ye&&Rt(Be,Ye.httpRequestHeaders);var rt=Te.message;Rt(Be,ae.getRequestHeadersFromMessage(rt)),Object.keys(Be).forEach(function(Xe){"authorization"===Xe.toLowerCase()&&(Ze=!0)}),Ye&&"boolean"==typeof Ye.withCredentials&&(Ze=Ye.withCredentials);var Dt=function(ct){if(A)if(ct.status>=200&&ct.status<=299){var At=l.default.parseHttpHeaders(ct.getAllResponseHeaders?ct.getAllResponseHeaders():null),sn=new D.default(ct.responseURL,At,ct.response);Bt(x.getLicenseResponseFilters(),sn).then(function(){var He=Ne.getLicenseMessage(sn.data,yt,tt);null!==He?($e(ut),A.updateKeySession(st,He)):Ht(ct,ut,yt,tt,Ne)})}else Ht(ct,ut,yt,tt,Ne)},Ot=function(ct){$e(ut,new P.default(w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+yt+' update, XHR aborted. status is "'+ct.statusText+'" ('+ct.status+"), readyState is "+ct.readyState))},kt=function(ct){$e(ut,new P.default(w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+yt+' update, XHR error. status is "'+ct.statusText+'" ('+ct.status+"), readyState is "+ct.readyState))},mn=ae.getLicenseRequestFromMessage(rt),un=Ne.getHTTPMethod(tt),Fn=Ne.getResponseType(yt,tt),nr=Ye&&!isNaN(Ye.httpTimeout)?Ye.httpTimeout:8e3,Ae=st.getSessionId()||null,it=new R.default(gt,un,Fn,Be,Ze,tt,Ae,mn),Ct=isNaN(W.get().streaming.retryAttempts[c.HTTPRequest.LICENSE])?3:W.get().streaming.retryAttempts[c.HTTPRequest.LICENSE];Bt(x.getLicenseRequestFilters(),it).then(function(){nt(it,Ct,nr,Dt,Ot,kt)})}else $e(ut,new P.default(w.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Ne,yt,ut)}else $e(gt,new P.default(w.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function $e(Te,Ne){E.trigger(L.LICENSE_REQUEST_COMPLETE,{data:Te,error:Ne})}function nt(Te,Ne,Ye,st,tt,ut){var yt=new XMLHttpRequest;if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled&&W.get().streaming.cmcd.mode===d.default.CMCD_MODE_QUERY){var Be=H.getQueryParameter({url:Te.url,type:c.HTTPRequest.LICENSE});Be&&(Te.url=l.default.addAditionalQueryParameterToUrl(Te.url,[Be]))}for(var Ze in yt.open(Te.method,Te.url,!0),yt.responseType=Te.responseType,yt.withCredentials=Te.withCredentials,Ye>0&&(yt.timeout=Ye),Te.headers)yt.setRequestHeader(Ze,Te.headers[Ze]);if(W.get().streaming.cmcd&&W.get().streaming.cmcd.enabled&&W.get().streaming.cmcd.mode===d.default.CMCD_MODE_HEADER){var mt=H.getHeaderParameters({url:Te.url,type:c.HTTPRequest.LICENSE});if(mt)for(var Dt in mt){var Ot=mt[Dt];Ot&&yt.setRequestHeader(Dt,Ot)}}var kt=function(){Ne--;var un=isNaN(W.get().streaming.retryIntervals[c.HTTPRequest.LICENSE])?1e3:W.get().streaming.retryIntervals[c.HTTPRequest.LICENSE];fe=setTimeout(function(){nt(Te,Ne,Ye,st,tt,ut)},un)};yt.onload=function(){he=null,this.status>=200&&this.status<=299||Ne<=0?st(this):(z.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Ne),kt())},yt.ontimeout=yt.onerror=function(){he=null,Ne<=0?ut(this):(z.warn("License request network request failed . Retrying it... Pending retries: "+Ne),kt())},yt.onabort=function(){tt(this)},E.trigger(L.LICENSE_REQUEST_SENDING,{url:Te.url,headers:Te.headers,payload:Te.data,sessionId:Te.sessionId}),he=yt,yt.send(Te.data)}function at(){he&&(he.onloadend=he.onerror=he.onprogress=void 0,he.abort(),he=null),fe&&(clearTimeout(fe),fe=null)}function Rt(Te,Ne){if(Ne)for(var Ye in Ne)Te[Ye]=Ne[Ye]}function Ht(Te,Ne,Ye,st,tt){var ut="NONE",yt=null;Te.response&&(ut=tt.getErrorResponse(Te.response,Ye,st),yt={serverResponse:Te.response||null,responseCode:Te.status||null,responseText:Te.statusText||null}),$e(Ne,new P.default(w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Ye+' update, XHR complete. status is "'+Te.statusText+'" ('+Te.status+"), readyState is "+Te.readyState+".  Response is "+ut,yt))}function Bt(Te,Ne){return Te?Te.reduce(function(Ye,st){return Ye.then(function(){return st(Ne)})},Promise.resolve()):Promise.resolve()}function $t(Te,Ne){if(!W.get().streaming.protection.ignoreEmeEncryptedEvent){if(z.debug("DRM: onNeedKey"),"cenc"!==Te.key.initDataType)return void z.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Te.key.initDataType);if(0===oe.length&&(z.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Ne=typeof Ne>"u"?1:Ne+1)<5))return void le.push(setTimeout(function(){$t(Te,Ne)},500));var Ye=Te.key.initData;if(ArrayBuffer.isView(Ye)&&(Ye=Ye.buffer),ae){var st=M.default.getPSSHForKeySystem(ae,Ye);if(st&&j(st))return}z.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Ye)));var tt=g.getSupportedKeySystemsFromSegmentPssh(Ye,ve,J);if(0===tt.length)return void z.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function ne(Te){ie.push(Te),X(Te,!1)}(tt)}}return Y={initializeForMedia:function Se(Te){if(!Te)throw new Error("mediaInfo can not be null or undefined");se(),oe.push(Te)},clearMediaInfoArray:function Ee(){oe=[]},handleKeySystemFromManifest:function ge(){if(oe&&0!==oe.length){var Te=[];oe.forEach(function(Ne){var Ye=g.getSupportedKeySystemsFromContentProtection(Ne.contentProtection,ve,J);Ye.length>0&&(0===Te.length&&(Te=Ye),ie.push(Ye))}),Te&&Te.length>0&&X(Te,!0)}},createKeySession:te,loadKeySession:k,removeKeySession:function $(Te){se(),A.removeKeySession(Te)},closeKeySession:function ce(Te){se(),A.closeKeySession(Te)},setServerCertificate:function ue(Te){se(),A.setServerCertificate(Te)},setMediaElement:be,setSessionType:function Re(Te){J=Te},setRobustnessLevel:function Pe(Te){de=Te},setProtectionData:function we(Te){ve=Te,g.setProtectionData(Te)},getSupportedKeySystemsFromContentProtection:function q(Te){return se(),g.getSupportedKeySystemsFromContentProtection(Te,ve,J)},getKeySystems:function Jt(){return g?g.getKeySystems():[]},setKeySystems:function De(Te){g&&g.setKeySystems(Te)},stop:function Ue(){at(),A&&A.stop()},reset:function Ce(){E.off(L.INTERNAL_KEY_MESSAGE,Le,Y),E.off(L.INTERNAL_KEY_STATUS_CHANGED,Ge,Y),se(),at(),be(null),ae=null,pe=!1,A&&(A.reset(),A=null),le.forEach(function(Te){return clearTimeout(Te)}),le=[],oe=[],ie=[]}},function _e(){z=G.getLogger(Y),ie=[],oe=[],J="temporary",de="",he=null,fe=null,E.on(L.INTERNAL_KEY_MESSAGE,Le,Y),E.on(L.INTERNAL_KEY_STATUS_CHANGED,Ge,Y)}(),Y}p.__dashjs_factory_name="ProtectionController",U.default=f.default.getClassFactory(p)},"./src/streaming/protection/controllers/ProtectionKeyController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/CommonEncryption.js"),T=m("./src/streaming/protection/drm/KeySystemClearKey.js"),I=m("./src/streaming/protection/drm/KeySystemW3CClearKey.js"),w=m("./src/streaming/protection/drm/KeySystemWidevine.js"),P=m("./src/streaming/protection/drm/KeySystemPlayReady.js"),R=m("./src/streaming/protection/servers/DRMToday.js"),D=m("./src/streaming/protection/servers/PlayReady.js"),c=m("./src/streaming/protection/servers/Widevine.js"),l=m("./src/streaming/protection/servers/ClearKey.js"),d=m("./src/streaming/constants/ProtectionConstants.js");function f(){var N,S,O,b,v,p,y,g,_=this.context;function ie(J,de){return de&&J in de?de[J]:null}function oe(J,de){return J&&J.sessionId?J.sessionId:de&&de.sessionId?de.sessionId:null}function ve(J,de){return J&&J.sessionType?J.sessionType:de}return N={initialize:function E(){var J;b=[],J=Object(P.default)(_).getInstance({BASE64:v,settings:p}),b.push(J),J=Object(w.default)(_).getInstance({BASE64:v}),b.push(J),J=Object(T.default)(_).getInstance({BASE64:v}),b.push(J),y=J,J=Object(I.default)(_).getInstance({BASE64:v,debug:S}),b.push(J),g=J},setProtectionData:function z(J){for(var ae=0;ae<b.length;ae++){var pe=b[ae];pe.hasOwnProperty("init")&&pe.init((fe=pe.systemString,_e=void 0,_e=null,J&&(_e=fe in J?J[fe]:null),_e))}var fe,_e},isClearKey:function Q(J){return J===y||J===g},initDataEquals:function le(J,de){if(J.byteLength===de.byteLength){for(var ae=new Uint8Array(J),pe=new Uint8Array(de),he=0;he<ae.length;he++)if(ae[he]!==pe[he])return!1;return!0}return!1},getKeySystems:function L(){return b},setKeySystems:function G(J){b=J},getKeySystemBySystemString:function ee(J){for(var de=0;de<b.length;de++)if(b[de].systemString===J)return b[de];return null},getSupportedKeySystemsFromContentProtection:function H(J,de,ae){var pe,he,fe,_e,se=[];if(J){var Se=M.default.findCencContentProtection(J);for(fe=0;fe<b.length;++fe){var ge=ie((he=b[fe]).systemString,de);for(_e=0;_e<J.length;++_e)if((pe=J[_e]).schemeIdUri.toLowerCase()===he.schemeIdURI){var ne=he.getInitData(pe,Se);se.push({ks:b[fe],keyId:pe.keyId,initData:ne,protData:ge,cdmData:he.getCDMData(ge?ge.cdmData:null),sessionId:oe(ge,pe),sessionType:ve(ge,ae)})}}}return se},getSupportedKeySystemsFromSegmentPssh:function W(J,de,ae){for(var fe,pe=[],he=M.default.parsePSSHList(J),se=0;se<b.length;++se){var Se=ie((fe=b[se]).systemString,de);fe.uuid in he&&pe.push({ks:fe,initData:he[fe.uuid],protData:Se,cdmData:fe.getCDMData(Se?Se.cdmData:null),sessionId:oe(Se),sessionType:ve(Se,ae)})}return pe},getLicenseServerModelInstance:function x(J,de,ae){if("license-release"===ae||"individualization-request"===ae)return null;var pe=null;return de&&de.hasOwnProperty("drmtoday")?pe=Object(R.default)(_).getInstance({BASE64:v}):J.systemString===d.default.WIDEVINE_KEYSTEM_STRING?pe=Object(c.default)(_).getInstance():J.systemString===d.default.PLAYREADY_KEYSTEM_STRING?pe=Object(D.default)(_).getInstance():J.systemString===d.default.CLEARKEY_KEYSTEM_STRING&&(pe=Object(l.default)(_).getInstance()),pe},processClearKeyLicenseRequest:function Y(J,de,ae){try{return J.getClearKeysFromProtectionData(de,ae)}catch{return O.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function A(J){!J||(J.debug&&(O=(S=J.debug).getLogger(N)),J.BASE64&&(v=J.BASE64),J.settings&&(p=J.settings))}}}f.__dashjs_factory_name="ProtectionKeyController",U.default=dashjs.FactoryMaker.getSingletonFactory(f)},"./src/streaming/protection/drm/KeySystemClearKey.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/vo/KeyPair.js"),T=m("./src/streaming/protection/vo/ClearKeyKeySet.js"),I=m("./src/streaming/protection/CommonEncryption.js"),w=m("./src/streaming/constants/ProtectionConstants.js"),P="e2719d58-a985-b3c9-781a-b030af78d30e",R=w.default.CLEARKEY_KEYSTEM_STRING;function c(l){var f=(l=l||{}).BASE64;function S(y){try{var g=y.replace(/-/g,"");return(g=btoa(g.match(/\w{2}/g).map(function(A){return String.fromCharCode(parseInt(A,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:P,schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:R,getInitData:function N(y,g){try{var A=I.default.parseInitDataFromContentProtection(y,f);if(!A&&g){var L={kids:[S(g["cenc:default_KID"])]};A=(new TextEncoder).encode(JSON.stringify(L))}return A}catch{return null}},getRequestHeadersFromMessage:function O(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function b(y){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(y))))},getLicenseServerURLFromInitData:function v(){return null},getCDMData:function p(){return null},getClearKeysFromProtectionData:function _(y,g){var A=null;if(y){for(var E=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g))),L=[],G=0;G<E.kids.length;G++){var ee=E.kids[G],Q=y.clearkeys&&y.clearkeys.hasOwnProperty(ee)?y.clearkeys[ee]:null;if(!Q)throw new Error("DRM: ClearKey keyID ("+ee+") is not known!");L.push(new M.default(ee,Q))}A=new T.default(L)}return A}}}c.__dashjs_factory_name="KeySystemClearKey",U.default=dashjs.FactoryMaker.getSingletonFactory(c)},"./src/streaming/protection/drm/KeySystemPlayReady.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/CommonEncryption.js"),T=m("./src/streaming/constants/ProtectionConstants.js"),I="9a04f079-9840-4286-ab92-e65be0885f95",w=T.default.PLAYREADY_KEYSTEM_STRING;function D(c){var d="utf-16",f=(c=c||{}).BASE64,_=c.settings;function N(){if(!f||!f.hasOwnProperty("decodeArray")||!f.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:I,schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:w,getInitData:function v(g){var ee,Q,le,H,W,A=new Uint8Array([112,115,115,104,0,0,0,0]),E=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),L=0,G=null;if(N(),!g)return null;if("pssh"in g)return M.default.parseInitDataFromContentProtection(g,f);if("pro"in g)G=f.decodeArray(g.pro.__text);else{if(!("prheader"in g))return null;G=f.decodeArray(g.prheader.__text)}return Q=4+A.length+E.length+4+(ee=G.length),le=new ArrayBuffer(Q),H=new Uint8Array(le),(W=new DataView(le)).setUint32(L,Q),H.set(A,L+=4),H.set(E,L+=A.length),W.setUint32(L+=E.length,ee),H.set(G,L+=4),L+=ee,H.buffer},getRequestHeadersFromMessage:function S(g){var A,E,L={},G=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&g&&g.byteLength%2==1)return L["Content-Type"]="text/xml; charset=utf-8",L;var ee="utf-16"===d?new Uint16Array(g):new Uint8Array(g);A=String.fromCharCode.apply(null,ee);for(var Q=(E=G.parseFromString(A,"application/xml")).getElementsByTagName("name"),le=E.getElementsByTagName("value"),H=0;H<Q.length;H++)L[Q[H].childNodes[0].nodeValue]=le[H].childNodes[0].nodeValue;return L.hasOwnProperty("Content")&&(L["Content-Type"]=L.Content,delete L.Content),L.hasOwnProperty("Content-Type")||(L["Content-Type"]="text/xml; charset=utf-8"),L},getLicenseRequestFromMessage:function O(g){var A=null,E=new DOMParser;if(_&&_.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===d&&g&&g.byteLength%2==1)return g;var L="utf-16"===d?new Uint16Array(g):new Uint8Array(g);N();var G=String.fromCharCode.apply(null,L),ee=E.parseFromString(G,"application/xml");if(!ee.getElementsByTagName("PlayReadyKeyMessage")[0])return g;var Q=ee.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Q&&(A=f.decode(Q)),A},getLicenseServerURLFromInitData:function b(g){if(g)for(var A=new DataView(g),E=A.getUint16(4,!0),L=6,G=new DOMParser,ee=0;ee<E;ee++){var Q=A.getUint16(L,!0),le=A.getUint16(L+=2,!0);if(L+=2,1===Q){var H=g.slice(L,L+le),W=String.fromCharCode.apply(null,new Uint16Array(H)),x=G.parseFromString(W,"application/xml");if(x.getElementsByTagName("LA_URL")[0]){var Y=x.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(Y)return Y}if(x.getElementsByTagName("LUI_URL")[0]){var z=x.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(z)return z}}else L+=le}return null},getCDMData:function y(g){var A,E,L,G;if(N(),!g)return null;for(A=[],G=0;G<g.length;++G)A.push(g.charCodeAt(G)),A.push(0);for(A=String.fromCharCode.apply(null,A),A=f.encode(A),E='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",A),L=[],G=0;G<E.length;++G)L.push(E.charCodeAt(G)),L.push(0);return new Uint8Array(L).buffer},setPlayReadyMessageFormat:function p(g){if("utf-8"!==g&&"utf-16"!==g)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');d=g}}}D.__dashjs_factory_name="KeySystemPlayReady",U.default=dashjs.FactoryMaker.getSingletonFactory(D)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/vo/KeyPair.js"),T=m("./src/streaming/protection/vo/ClearKeyKeySet.js"),I=m("./src/streaming/protection/CommonEncryption.js"),w=m("./src/streaming/constants/ProtectionConstants.js"),P="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",R=w.default.CLEARKEY_KEYSTEM_STRING;function c(l){var d,f=l.BASE64,_=l.debug.getLogger(d);return{uuid:P,schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:R,getInitData:function S(y){return I.default.parseInitDataFromContentProtection(y,f)},getRequestHeadersFromMessage:function O(){return null},getLicenseRequestFromMessage:function b(y){return new Uint8Array(y)},getLicenseServerURLFromInitData:function v(){return null},getCDMData:function p(){return null},getClearKeysFromProtectionData:function N(y,g){var A=null;if(y){for(var E=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g))),L=[],G=0;G<E.kids.length;G++){var ee=E.kids[G],Q=y.clearkeys&&y.clearkeys.hasOwnProperty(ee)?y.clearkeys[ee]:null;if(!Q)throw new Error("DRM: ClearKey keyID ("+ee+") is not known!");L.push(new M.default(ee,Q))}A=new T.default(L),_.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return A}}}c.__dashjs_factory_name="KeySystemW3CClearKey",U.default=dashjs.FactoryMaker.getSingletonFactory(c)},"./src/streaming/protection/drm/KeySystemWidevine.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/CommonEncryption.js"),T=m("./src/streaming/constants/ProtectionConstants.js"),I="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",w=T.default.WIDEVINE_KEYSTEM_STRING;function R(D){var l=(D=D||{}).BASE64;return{uuid:I,schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:w,getInitData:function d(O){return M.default.parseInitDataFromContentProtection(O,l)},getRequestHeadersFromMessage:function f(){return null},getLicenseRequestFromMessage:function _(O){return new Uint8Array(O)},getLicenseServerURLFromInitData:function N(){return null},getCDMData:function S(){return null}}}R.__dashjs_factory_name="KeySystemWidevine",U.default=dashjs.FactoryMaker.getSingletonFactory(R)},"./src/streaming/protection/errors/ProtectionErrors.js":function(Ie,U,m){"use strict";function T(v){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function I(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,P(g.key),g)}}function P(v){var p=function R(v,p){if("object"!==T(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==T(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===T(p)?p:String(p)}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&l(v,p)}function l(v,p){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function d(v){var p=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=S(v);if(p){var E=S(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return f(this,A)}}function f(v,p){if(p&&("object"===T(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function _(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function S(v){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}m.r(U);var b=new(function(v){c(y,v);var p=d(y);function y(){var g;return function D(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(g=p.call(this)).MEDIA_KEYERR_CODE=100,g.MEDIA_KEYERR_UNKNOWN_CODE=101,g.MEDIA_KEYERR_CLIENT_CODE=102,g.MEDIA_KEYERR_SERVICE_CODE=103,g.MEDIA_KEYERR_OUTPUT_CODE=104,g.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,g.MEDIA_KEYERR_DOMAIN_CODE=106,g.MEDIA_KEY_MESSAGE_ERROR_CODE=107,g.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,g.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,g.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,g.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,g.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,g.KEY_SESSION_CREATED_ERROR_CODE=113,g.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,g.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",g.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",g.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",g.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",g.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",g.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",g.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",g.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",g.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",g.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",g.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",g.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",g.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",g.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",g}return function w(v,p,y){return p&&I(v.prototype,p),y&&I(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(m("./src/core/errors/ErrorsBase.js").default));U.default=b},"./src/streaming/protection/models/ProtectionModel_01b.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/controllers/ProtectionKeyController.js"),T=m("./src/streaming/protection/vo/NeedKey.js"),I=m("./src/streaming/vo/DashJSError.js"),w=m("./src/streaming/protection/vo/KeyMessage.js"),P=m("./src/streaming/protection/vo/KeySystemConfiguration.js"),R=m("./src/streaming/protection/vo/KeySystemAccess.js"),D=m("./src/streaming/protection/errors/ProtectionErrors.js");function c(l){var b,v,p,y,g,A,E,L,G,d=this.context,f=(l=l||{}).eventBus,_=l.events,N=l.debug,S=l.api,O=l.errHandler;function Q(){p&&he();for(var fe=0;fe<E.length;fe++)oe(E[fe]);f.trigger(_.TEARDOWN_COMPLETE)}function oe(fe){try{p[S.cancelKeyRequest](y.systemString,fe.sessionId)}catch(_e){f.trigger(_.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+fe.sessionId+") "+_e.message})}}function pe(fe,_e){if(!_e||!fe)return null;for(var se=fe.length,Se=0;Se<se;Se++)if(fe[Se].sessionId==_e)return fe[Se];return null}function he(){p.removeEventListener(S.keyerror,G),p.removeEventListener(S.needkey,G),p.removeEventListener(S.keymessage,G),p.removeEventListener(S.keyadded,G)}return b={getAllInitData:function le(){for(var fe=[],_e=0;_e<A.length;_e++)fe.push(A[_e].initData);for(var se=0;se<E.length;se++)fe.push(E[se].initData);return fe},getSessions:function H(){return E.concat(A)},requestKeySystemAccess:function W(fe){return new Promise(function(_e,se){var Se=p;Se||(Se=document.createElement("video"));for(var ge=!1,ne=0;ne<fe.length;ne++)for(var X=fe[ne].ks.systemString,F=fe[ne].configs,V=null,re=null,k=0;k<F.length;k++){var te=F[k].videoCapabilities;if(te&&0!==te.length){re=[];for(var me=0;me<te.length;me++)""!==Se.canPlayType(te[me].contentType,X)&&re.push(te[me])}if(re&&(!re||0!==re.length)){ge=!0;var Ee=new P.default(V,re),q=g.getKeySystemBySystemString(X),K=new R.default(q,Ee);f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:K}),_e({data:K});break}}if(!ge){var j="Key system access denied! -- No valid audio/video content configurations detected!";f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:j}),se({error:j})}})},selectKeySystem:function x(fe){return y=fe.keySystem,Promise.resolve(y)},setMediaElement:function Y(fe){if(p!==fe){if(p){he();for(var _e=0;_e<E.length;_e++)oe(E[_e]);E=[]}(p=fe)&&(p.addEventListener(S.keyerror,G),p.addEventListener(S.needkey,G),p.addEventListener(S.keymessage,G),p.addEventListener(S.keyadded,G),f.trigger(_.VIDEO_ELEMENT_SELECTED))}},createKeySession:function z(fe){if(!y)throw new Error("Can not create sessions until you have selected a key system");if(L||0===E.length){var _e={sessionId:null,keyId:fe.keyId,initData:fe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return A.push(_e),p[S.generateKeyRequest](y.systemString,new Uint8Array(fe.initData)),_e}throw new Error("Multiple sessions not allowed!")},updateKeySession:function ie(fe,_e){var se=fe.sessionId;if(g.isClearKey(y))for(var Se=0;Se<_e.keyPairs.length;Se++)p[S.addKey](y.systemString,_e.keyPairs[Se].key,_e.keyPairs[Se].keyID,se);else p[S.addKey](y.systemString,new Uint8Array(_e),new Uint8Array(fe.initData),se);f.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:oe,setServerCertificate:function ve(){},loadKeySession:function J(){},removeKeySession:function de(){},stop:Q,reset:Q},function ee(){v=N.getLogger(b),p=null,y=null,A=[],E=[],g=Object(M.default)(d).getInstance(),G=function ae(){return{handleEvent:function(_e){var se=null;switch(_e.type){case S.needkey:var Se=ArrayBuffer.isView(_e.initData)?_e.initData.buffer:_e.initData;f.trigger(_.NEED_KEY,{key:new T.default(Se,"cenc")});break;case S.keyerror:if((se=pe(E,_e.sessionId))||(se=pe(A,_e.sessionId)),se){var ge=D.default.MEDIA_KEYERR_CODE,ne="";switch(_e.errorCode.code){case 1:ge=D.default.MEDIA_KEYERR_UNKNOWN_CODE,ne+="MEDIA_KEYERR_UNKNOWN - "+D.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:ge=D.default.MEDIA_KEYERR_CLIENT_CODE,ne+="MEDIA_KEYERR_CLIENT - "+D.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:ge=D.default.MEDIA_KEYERR_SERVICE_CODE,ne+="MEDIA_KEYERR_SERVICE - "+D.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:ge=D.default.MEDIA_KEYERR_OUTPUT_CODE,ne+="MEDIA_KEYERR_OUTPUT - "+D.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:ge=D.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,ne+="MEDIA_KEYERR_HARDWARECHANGE - "+D.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:ge=D.default.MEDIA_KEYERR_DOMAIN_CODE,ne+="MEDIA_KEYERR_DOMAIN - "+D.default.MEDIA_KEYERR_DOMAIN_MESSAGE}f.trigger(_.KEY_ERROR,{error:new I.default(ge,ne+="  System Code = "+_e.systemCode,se)})}else v.error("No session token found for key error");break;case S.keyadded:(se=pe(E,_e.sessionId))||(se=pe(A,_e.sessionId)),se?(v.debug("DRM: Key added."),f.trigger(_.KEY_ADDED,{data:se})):v.debug("No session token found for key added");break;case S.keymessage:if((L=null!=_e.sessionId)?!(se=pe(E,_e.sessionId))&&A.length>0&&(se=A.shift(),E.push(se),se.sessionId=_e.sessionId,f.trigger(_.KEY_SESSION_CREATED,{data:se})):A.length>0&&(se=A.shift(),E.push(se),0!==A.length&&O.error(new I.default(D.default.MEDIA_KEY_MESSAGE_ERROR_CODE,D.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),se){var X=ArrayBuffer.isView(_e.message)?_e.message.buffer:_e.message;se.keyMessage=X,f.trigger(_.INTERNAL_KEY_MESSAGE,{data:new w.default(se,X,_e.defaultURL)})}else v.warn("No session token found for key message")}}}}()}(),b}c.__dashjs_factory_name="ProtectionModel_01b",U.default=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/controllers/ProtectionKeyController.js"),T=m("./src/streaming/protection/vo/NeedKey.js"),I=m("./src/streaming/protection/errors/ProtectionErrors.js"),w=m("./src/streaming/vo/DashJSError.js"),P=m("./src/streaming/protection/vo/KeyMessage.js"),R=m("./src/streaming/protection/vo/KeySystemAccess.js"),D=m("./src/streaming/constants/ProtectionConstants.js"),c={};function l(d){var O,b,v,p,y,g,A,E,f=this.context,_=(d=d||{}).eventBus,N=d.events,S=d.debug;function W(ge,ne,X,F){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var V="Insecure origins are not allowed";return _.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{error:V}),void F({error:V})}var te=ge[ne].ks,me=te.systemString;(function x(ge,ne){return new Promise(function(X,F){Y(ge,ne,0,X,F)})})((ge[ne].protData&&ge[ne].protData.systemStringPriority?ge[ne].protData.systemStringPriority:null)||(c[me]?c[me]:[me]),ge[ne].configs).then(function(q){var K="function"==typeof q.getConfiguration?q.getConfiguration():null,j=new R.default(te,K);j.mksa=q,_.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{data:j}),X({data:j})}).catch(function(q){if(ne+1<ge.length)W(ge,ne+1,X,F);else{var K="Key system access denied! ";_.trigger(N.KEY_SYSTEM_ACCESS_COMPLETE,{error:K+q.message}),F({error:K+q.message})}})}function Y(ge,ne,X,F,V){var re=ge[X];b.debug("Requesting key system access for system string ".concat(re)),navigator.requestMediaKeySystemAccess(re,ne).then(function(k){k.selectedSystemString=re,F(k)}).catch(function(k){X+1<ge.length?Y(ge,ne,X+1,F,V):V(k)})}function he(ge){var ne=ge.session;return ne.removeEventListener("keystatuseschange",ge),ne.removeEventListener("message",ge),ne.close()}function _e(ge){for(var ne=0;ne<g.length;ne++)if(g[ne]===ge){g.splice(ne,1);break}}function se(ge){var ne,X;return ge&&ge.length>0&&(ge[0]&&("string"==typeof ge[0]?ne=ge[0]:X=ge[0]),ge[1]&&("string"==typeof ge[1]?ne=ge[1]:X=ge[1])),{status:ne,keyId:X}}function Se(ge,ne){var X={session:ge,keyId:ne.keyId,initData:ne.initData,sessionId:ne.sessionId,sessionType:ne.sessionType,handleEvent:function(V){switch(V.type){case"keystatuseschange":_.trigger(N.KEY_STATUSES_CHANGED,{data:this}),V.target.keyStatuses.forEach(function(){var k=se(arguments);_.trigger(N.INTERNAL_KEY_STATUS_CHANGED,"expired"===k.status?{error:new w.default(I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:k)});break;case"message":var re=ArrayBuffer.isView(V.message)?V.message.buffer:V.message;_.trigger(N.INTERNAL_KEY_MESSAGE,{data:new P.default(this,re,void 0,V.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return ge.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return ge.expiration},getKeyStatuses:function(){return ge.keyStatuses},getUsable:function(){var V=!1;return ge.keyStatuses.forEach(function(){"usable"===se(arguments).status&&(V=!0)}),V}};return ge.addEventListener("keystatuseschange",X),ge.addEventListener("message",X),ge.closed.then(function(){_e(X),b.debug("DRM: Session closed.  SessionID = "+X.getSessionId()),_.trigger(N.KEY_SESSION_CLOSED,{data:X.getSessionId()})}),g.push(X),X}return O={getAllInitData:function Q(){for(var ge=[],ne=0;ne<g.length;ne++)g[ne].initData&&ge.push(g[ne].initData);return ge},getSessions:function le(){return g},requestKeySystemAccess:function H(ge){return new Promise(function(ne,X){W(ge,0,ne,X)})},selectKeySystem:function z(ge){return new Promise(function(ne,X){ge.mksa.createMediaKeys().then(function(F){return v=ge.keySystem,y=F,p?p.setMediaKeys(y):Promise.resolve()}).then(function(){ne(v)}).catch(function(){X({error:"Error selecting keys system ("+ge.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function ie(ge){p!==ge&&(p&&(p.removeEventListener("encrypted",A),p.setMediaKeys&&p.setMediaKeys(null)),(p=ge)&&(p.addEventListener("encrypted",A),p.setMediaKeys&&y&&p.setMediaKeys(y)))},setServerCertificate:function oe(ge){if(!v||!y)throw new Error("Can not set server certificate until you have selected a key system");y.setServerCertificate(ge).then(function(){b.info("DRM: License server certificate successfully updated."),_.trigger(N.SERVER_CERTIFICATE_UPDATED)}).catch(function(ne){_.trigger(N.SERVER_CERTIFICATE_UPDATED,{error:new w.default(I.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,I.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+ne.name)})})},createKeySession:function ve(ge){if(!v||!y)throw new Error("Can not create sessions until you have selected a key system");var ne=y.createSession(ge.sessionType),X=Se(ne,ge);ne.generateRequest(v.systemString===D.default.CLEARKEY_KEYSTEM_STRING&&(ge.initData||ge.protData&&ge.protData.clearkeys)?D.default.INITIALIZATION_DATA_TYPE_KEYIDS:D.default.INITIALIZATION_DATA_TYPE_CENC,ge.initData).then(function(){b.debug("DRM: Session created.  SessionID = "+X.getSessionId()),_.trigger(N.KEY_SESSION_CREATED,{data:X})}).catch(function(V){_e(X),_.trigger(N.KEY_SESSION_CREATED,{data:null,error:new w.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+V.name)})})},updateKeySession:function J(ge,ne){var X=ge.session;E.isClearKey(v)&&(ne=ne.toJWK()),X.update(ne).then(function(){_.trigger(N.KEY_SESSION_UPDATED)}).catch(function(F){_.trigger(N.KEY_ERROR,{error:new w.default(I.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+F.name,ge)})})},loadKeySession:function de(ge){if(!v||!y)throw new Error("Can not load sessions until you have selected a key system");for(var ne=ge.sessionId,X=0;X<g.length;X++)if(ne===g[X].sessionId)return void b.warn("DRM: Ignoring session ID because we have already seen it!");var F=y.createSession(ge.sessionType),V=Se(F,ge);F.load(ne).then(function(re){re?(b.debug("DRM: Session loaded.  SessionID = "+V.getSessionId()),_.trigger(N.KEY_SESSION_CREATED,{data:V})):(_e(V),_.trigger(N.KEY_SESSION_CREATED,{data:null,error:new w.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+ne+")")}))}).catch(function(re){_e(V),_.trigger(N.KEY_SESSION_CREATED,{data:null,error:new w.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+ne+")! "+re.name)})})},removeKeySession:function ae(ge){ge.session.remove().then(function(){b.debug("DRM: Session removed.  SessionID = "+ge.getSessionId()),_.trigger(N.KEY_SESSION_REMOVED,{data:ge.getSessionId()})},function(X){_.trigger(N.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+ge.getSessionId()+"). "+X.name})})},closeKeySession:function pe(ge){he(ge).catch(function(ne){_e(ge),_.trigger(N.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+ge.getSessionId()+") "+ne.name})})},stop:function ee(){for(var ge,ne=0;ne<g.length;ne++)(ge=g[ne]).getUsable()||he(ge).catch(function(){_e(ge)})},reset:function G(){var ne,ge=g.length;0!==ge?function(){for(var X=function(re){_e(re),0===g.length&&(p?(p.removeEventListener("encrypted",A),p.setMediaKeys(null).then(function(){_.trigger(N.TEARDOWN_COMPLETE)})):_.trigger(N.TEARDOWN_COMPLETE))},F=0;F<ge;F++)!function(V){ne.session.closed.then(function(){X(V)}),he(ne).catch(function(){X(V)})}(ne=g[F])}():_.trigger(N.TEARDOWN_COMPLETE)}},function L(){b=S.getLogger(O),v=null,p=null,y=null,g=[],E=Object(M.default)(f).getInstance(),A=function fe(){return{handleEvent:function(ne){if("encrypted"===ne.type&&ne.initData){var X=ArrayBuffer.isView(ne.initData)?ne.initData.buffer:ne.initData;_.trigger(N.NEED_KEY,{key:new T.default(X,ne.initDataType)})}}}}()}(),O}c[D.default.PLAYREADY_KEYSTEM_STRING]=[D.default.PLAYREADY_KEYSTEM_STRING,D.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],c[D.default.WIDEVINE_KEYSTEM_STRING]=[D.default.WIDEVINE_KEYSTEM_STRING],c[D.default.CLEARKEY_KEYSTEM_STRING]=[D.default.CLEARKEY_KEYSTEM_STRING],l.__dashjs_factory_name="ProtectionModel_21Jan2015",U.default=dashjs.FactoryMaker.getClassFactory(l)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/controllers/ProtectionKeyController.js"),T=m("./src/streaming/protection/vo/NeedKey.js"),I=m("./src/streaming/vo/DashJSError.js"),w=m("./src/streaming/protection/errors/ProtectionErrors.js"),P=m("./src/streaming/protection/vo/KeyMessage.js"),R=m("./src/streaming/protection/vo/KeySystemConfiguration.js"),D=m("./src/streaming/protection/vo/KeySystemAccess.js");function c(l){var O,b,v,p,y,g,A,E,L,d=this.context,f=(l=l||{}).eventBus,_=l.events,N=l.debug,S=l.api;function ee(){try{for(var he=0;he<A.length;he++)ie(A[he]);v&&v.removeEventListener(S.needkey,E),f.trigger(_.TEARDOWN_COMPLETE)}catch(fe){f.trigger(_.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+fe.message})}}function ie(he){var fe=he.session;fe.removeEventListener(S.error,he),fe.removeEventListener(S.message,he),fe.removeEventListener(S.ready,he),fe.removeEventListener(S.close,he);for(var _e=0;_e<A.length;_e++)if(A[_e]===he){A.splice(_e,1);break}fe[S.release]()}function ae(){var he=null,fe=function(){v.removeEventListener("loadedmetadata",he),v[S.setMediaKeys](y),f.trigger(_.VIDEO_ELEMENT_SELECTED)};v.readyState>=1?fe():(he=fe.bind(this),v.addEventListener("loadedmetadata",he))}return O={getAllInitData:function Q(){for(var he=[],fe=0;fe<A.length;fe++)he.push(A[fe].initData);return he},getSessions:function le(){return A},requestKeySystemAccess:function H(he){return new Promise(function(fe,_e){for(var se=!1,Se=0;Se<he.length;Se++)for(var ge=he[Se].ks.systemString,ne=he[Se].configs,X=null,F=null,V=0;V<ne.length;V++){var re=ne[V].audioCapabilities,k=ne[V].videoCapabilities;if(re&&0!==re.length){X=[];for(var te=0;te<re.length;te++)window[S.MediaKeys].isTypeSupported(ge,re[te].contentType)&&X.push(re[te])}if(k&&0!==k.length){F=[];for(var me=0;me<k.length;me++)window[S.MediaKeys].isTypeSupported(ge,k[me].contentType)&&F.push(k[me])}if(!(!X&&!F||X&&0===X.length||F&&0===F.length)){se=!0;var Ee=new R.default(X,F),q=L.getKeySystemBySystemString(ge),K=new D.default(q,Ee);f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{data:K}),fe({data:K});break}}if(!se){var j="Key system access denied! -- No valid audio/video content configurations detected!";f.trigger(_.KEY_SYSTEM_ACCESS_COMPLETE,{error:j}),_e({error:j})}})},selectKeySystem:function W(he){return new Promise(function(fe,_e){try{y=he.mediaKeys=new window[S.MediaKeys](he.keySystem.systemString),p=he.keySystem,g=he,v&&ae(),fe(p)}catch{_e({error:"Error selecting keys system ("+p.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function x(he){v!==he&&(v&&v.removeEventListener(S.needkey,E),(v=he)&&(v.addEventListener(S.needkey,E),y&&ae()))},createKeySession:function Y(he){if(!p||!y||!g)throw new Error("Can not create sessions until you have selected a key system");var fe=null;if(g.ksConfiguration.videoCapabilities&&g.ksConfiguration.videoCapabilities.length>0&&(fe=g.ksConfiguration.videoCapabilities[0]),null===fe&&g.ksConfiguration.audioCapabilities&&g.ksConfiguration.audioCapabilities.length>0&&(fe=g.ksConfiguration.audioCapabilities[0]),null===fe)throw new Error("Can not create sessions for unknown content types.");var se=y.createSession(fe.contentType,new Uint8Array(he.initData),he.cdmData?new Uint8Array(he.cdmData):null),Se=function pe(he,fe){return{session:he,keyId:fe.keyId,initData:fe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(se){switch(se.type){case S.error:f.trigger(_.KEY_ERROR,{error:new I.default(w.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case S.message:var ge=ArrayBuffer.isView(se.message)?se.message.buffer:se.message;f.trigger(_.INTERNAL_KEY_MESSAGE,{data:new P.default(this,ge,se.destinationURL)});break;case S.ready:b.debug("DRM: Key added."),f.trigger(_.KEY_ADDED);break;case S.close:b.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),f.trigger(_.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(se,he);se.addEventListener(S.error,Se),se.addEventListener(S.message,Se),se.addEventListener(S.ready,Se),se.addEventListener(S.close,Se),A.push(Se),b.debug("DRM: Session created.  SessionID = "+Se.getSessionId()),f.trigger(_.KEY_SESSION_CREATED,{data:Se})},updateKeySession:function z(he,fe){var _e=he.session;L.isClearKey(p)?_e.update(new Uint8Array(fe.toJWK())):_e.update(new Uint8Array(fe)),f.trigger(_.KEY_SESSION_UPDATED)},closeKeySession:ie,setServerCertificate:function oe(){},loadKeySession:function ve(){},removeKeySession:function J(){},stop:ee,reset:ee},function G(){b=N.getLogger(O),v=null,p=null,y=null,g=null,A=[],L=Object(M.default)(d).getInstance(),E=function de(){return{handleEvent:function(fe){if(fe.type===S.needkey&&fe.initData){var _e=ArrayBuffer.isView(fe.initData)?fe.initData.buffer:fe.initData;f.trigger(_.NEED_KEY,{key:new T.default(_e,"cenc")})}}}}()}(),O}c.__dashjs_factory_name="ProtectionModel_3Feb2014",U.default=dashjs.FactoryMaker.getClassFactory(c)},"./src/streaming/protection/servers/ClearKey.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/protection/vo/KeyPair.js"),T=m("./src/streaming/protection/vo/ClearKeyKeySet.js");function I(){return{getServerURLFromMessage:function P(d){return d},getHTTPMethod:function R(){return"POST"},getResponseType:function D(){return"json"},getLicenseMessage:function c(d){if(!d.hasOwnProperty("keys"))return null;for(var f=[],_=0;_<d.keys.length;_++){var N=d.keys[_],S=N.kid.replace(/=/g,""),O=N.k.replace(/=/g,"");f.push(new M.default(S,O))}return new T.default(f)},getErrorResponse:function l(d){return String.fromCharCode.apply(null,new Uint8Array(d))}}}I.__dashjs_factory_name="ClearKey",U.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/protection/servers/DRMToday.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/ProtectionConstants.js");function T(I){var w=(I=I||{}).BASE64,P={};return P[M.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(S){return w.decodeArray(S.license)},getErrorResponse:function(S){return S}},P[M.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(S){return S},getErrorResponse:function(S){return String.fromCharCode.apply(null,new Uint8Array(S))}},{getServerURLFromMessage:function c(N){return N},getHTTPMethod:function l(){return"POST"},getResponseType:function d(N){return P[N].responseType},getLicenseMessage:function f(N,S){return function D(){if(!w||!w.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),P[S].getLicenseMessage(N)},getErrorResponse:function _(N,S){return P[S].getErrorResponse(N)}}}T.__dashjs_factory_name="DRMToday",U.default=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/protection/servers/PlayReady.js":function(Ie,U,m){"use strict";function M(){var I="http://schemas.xmlsoap.org/soap/envelope/";function w(_){var N=String.fromCharCode.apply(null,new Uint8Array(_));return decodeURIComponent(escape(N))}function P(_){if(window.DOMParser){var N=w(_),O=(new window.DOMParser).parseFromString(N,"text/xml"),b=O?O.getElementsByTagNameNS(I,"Envelope")[0]:null,v=b?b.getElementsByTagNameNS(I,"Body")[0]:null;if(v&&v.getElementsByTagNameNS(I,"Fault")[0])return null}return _}function R(_){var N="",S="",O="",b=-1,v=-1;if(window.DOMParser){var p=w(_),g=(new window.DOMParser).parseFromString(p,"text/xml"),A=g?g.getElementsByTagNameNS(I,"Envelope")[0]:null,E=A?A.getElementsByTagNameNS(I,"Body")[0]:null,L=E?E.getElementsByTagNameNS(I,"Fault")[0]:null,G=L?L.getElementsByTagName("detail")[0]:null,ee=G?G.getElementsByTagName("Exception")[0]:null,Q=null;if(null===L)return p;N=(Q=L.getElementsByTagName("faultstring")[0].firstChild)?Q.nodeValue:null,null!==ee&&(S=(Q=ee.getElementsByTagName("StatusCode")[0])?Q.firstChild.nodeValue:null,b=(O=(Q=ee.getElementsByTagName("Message")[0])?Q.firstChild.nodeValue:null)?O.lastIndexOf("[")+1:-1,v=O?O.indexOf("]"):-1,O=O?O.substring(b,v):"")}var le="code: ".concat(S,", name: ").concat(N);return O&&(le+=", message: ".concat(O)),le}return{getServerURLFromMessage:function D(_){return _},getHTTPMethod:function c(){return"POST"},getResponseType:function l(){return"arraybuffer"},getLicenseMessage:function d(_){return P.call(this,_)},getErrorResponse:function f(_){return R.call(this,_)}}}m.r(U),M.__dashjs_factory_name="PlayReady",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/protection/servers/Widevine.js":function(Ie,U,m){"use strict";function M(){return{getServerURLFromMessage:function I(c){return c},getHTTPMethod:function w(){return"POST"},getResponseType:function P(){return"arraybuffer"},getLicenseMessage:function R(c){return c},getErrorResponse:function D(c){return String.fromCharCode.apply(null,new Uint8Array(c))}}}m.r(U),M.__dashjs_factory_name="Widevine",U.default=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/protection/vo/ClearKeyKeySet.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l,d){if(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c),d&&"persistent"!==d&&"temporary"!==d)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=l,this.type=d}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"toJWK",value:function(){var d,f=this.keyPairs.length,_={keys:[]};for(d=0;d<f;d++)_.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[d].keyID,k:this.keyPairs[d].key});this.type&&(_.type=this.type);var S=JSON.stringify(_),O=S.length,b=new ArrayBuffer(O),v=new Uint8Array(b);for(d=0;d<O;d++)v[d]=S.charCodeAt(d);return b}}]),c}()},"./src/streaming/protection/vo/KeyMessage.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d,f,_){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.sessionToken=l,this.message=d,this.defaultURL=f,this.messageType=_||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.keyID=l,this.key=d})},"./src/streaming/protection/vo/KeySystemAccess.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.keySystem=l,this.ksConfiguration=d})},"./src/streaming/protection/vo/KeySystemConfiguration.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d,f,_,N){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.initDataTypes=["cenc"],l&&l.length&&(this.audioCapabilities=l),d&&d.length&&(this.videoCapabilities=d),this.distinctiveIdentifier=f,this.persistentState=_,this.sessionTypes=N})},"./src/streaming/protection/vo/LicenseRequest.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d,f,_,N,S,O,b){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=l,this.method=d,this.responseType=f,this.headers=_,this.withCredentials=N,this.messageType=S,this.sessionId=O,this.data=b})},"./src/streaming/protection/vo/LicenseResponse.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d,f){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=l,this.headers=d,this.data=f})},"./src/streaming/protection/vo/MediaCapability.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.contentType=l,this.robustness=d})},"./src/streaming/protection/vo/NeedKey.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.initData=l,this.initDataType=d})},"./src/streaming/rules/DroppedFramesHistory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var w={},P={},R={};return{push:function D(f,_,N){if(_){w[f]||(w[f]=[],P[f]=0,R[f]=0);var S=N&&N.droppedVideoFrames?N.droppedVideoFrames:0,O=N&&N.totalVideoFrames?N.totalVideoFrames:0,b=S-P[f];P[f]=S;var v=O-R[f];R[f]=O;var p=w[f];isNaN(_)||(p[_]?(p[_].droppedVideoFrames+=b,p[_].totalVideoFrames+=v):p[_]={droppedVideoFrames:b,totalVideoFrames:v})}},getFrameHistory:function c(f){return w[f]},clearForStream:function l(f){try{delete w[f],delete P[f],delete R[f]}catch{}},reset:function d(){w={},P={},R={}}}}T.__dashjs_factory_name="DroppedFramesHistory";var I=M.default.getClassFactory(T);U.default=I},"./src/streaming/rules/RulesContext.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){var P=(I=I||{}).abrController,R=I.switchHistory,D=I.droppedFramesHistory,c=I.currentRequest,l=I.useBufferOccupancyABR,d=I.useL2AABR,f=I.useLoLPABR,_=I.streamProcessor?I.streamProcessor.getScheduleController():null,N=I.streamProcessor?I.streamProcessor.getRepresentationInfo():null,S=I.videoModel?I.videoModel:null;function v(){return N?N.mediaInfo:null}return{getMediaType:function O(){var H=v();return H?H.type:null},getMediaInfo:v,getDroppedFramesHistory:function L(){return D},getCurrentRequest:function G(){return c},getSwitchHistory:function A(){return R},getStreamInfo:function b(){var H=v();return H?H.streamInfo:null},getScheduleController:function y(){return _},getAbrController:function g(){return P},getRepresentationInfo:function p(){return N},useBufferOccupancyABR:function ee(){return l},useL2AABR:function Q(){return d},useLoLPABR:function le(){return f},getVideoModel:function E(){return S}}}T.__dashjs_factory_name="RulesContext",U.default=M.default.getClassFactory(T)},"./src/streaming/rules/SwitchRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),I={DEFAULT:.5,STRONG:1,WEAK:0};function w(R,D,c){return{quality:void 0===R?-1:R,reason:void 0===D?null:D,priority:function N(S){var O=I.DEFAULT;return(S===I.DEFAULT||S===I.STRONG||S===I.WEAK)&&(O=S),O}(c)}}w.__dashjs_factory_name="SwitchRequest";var P=M.default.getClassFactory(w);P.NO_CHANGE=-1,P.PRIORITY=I,M.default.updateClassFactory(w.__dashjs_factory_name,P),U.default=P},"./src/streaming/rules/SwitchRequestHistory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/rules/SwitchRequest.js");function w(){var R=[],D=[];return{push:function c(f){f.newValue===T.default.NO_CHANGE&&(f.newValue=f.oldValue),R[f.oldValue]||(R[f.oldValue]={noDrops:0,drops:0,dropSize:0});var _=f.newValue-f.oldValue,N=_<0?1:0,S=N?-_:0,O=N?0:1;if(R[f.oldValue].drops+=N,R[f.oldValue].dropSize+=S,R[f.oldValue].noDrops+=O,D.push({idx:f.oldValue,noDrop:O,drop:N,dropSize:S}),D.length>8){var b=D.shift();R[b.idx].drops-=b.drop,R[b.idx].dropSize-=b.dropSize,R[b.idx].noDrops-=b.noDrop}},getSwitchRequests:function l(){return R},reset:function d(){R=[],D=[]}}}w.__dashjs_factory_name="SwitchRequestHistory";var P=M.default.getClassFactory(w);U.default=P},"./src/streaming/rules/ThroughputHistory.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/FactoryMaker.js");function I(w){var b,v,p,y,g,O=(w=w||{}).settings;function G(J,de,ae,pe){var he=Math.pow(.5,ae/pe.fast);J.fastEstimate=(1-he)*de+he*J.fastEstimate;var fe=Math.pow(.5,ae/pe.slow);J.slowEstimate=(1-fe)*de+fe*J.slowEstimate,J.totalWeight+=ae}function Q(J,de,ae){return O.get().streaming.abr.movingAverageMethod!==M.default.MOVING_AVERAGE_SLIDING_WINDOW?function H(J,de){var ae=J?g.throughputHalfLife:g.latencyHalfLife,pe=J?p[de]:y[de];if(!pe||pe.totalWeight<=0)return NaN;var he=pe.fastEstimate/(1-Math.pow(.5,pe.totalWeight/ae.fast)),fe=pe.slowEstimate/(1-Math.pow(.5,pe.totalWeight/ae.slow));return J?Math.min(he,fe):Math.max(he,fe)}(J,de):function le(J,de,ae){var pe=function ee(J,de,ae){var pe,he;if(J?(pe=b[de],he=ae?3:4):(pe=v[de],he=4),pe){if(he>=pe.length)he=pe.length;else if(J)for(var fe=1;fe<he;++fe){var _e=pe[pe.length-fe]/pe[pe.length-fe-1];if((_e>=1.3||_e<=1/1.3)&&(he+=1)===pe.length)break}}else he=0;return he}(J,de,ae),fe=(J?b:v)[de];return 0!==pe&&fe&&0!==fe.length?(fe=fe.slice(-pe)).reduce(function(_e,se){return _e+se})/fe.length:NaN}(J,de,ae)}function W(J,de){return Q(!0,J,de)}function z(J){b[J]=b[J]||[],v[J]=v[J]||[],p[J]=p[J]||{fastEstimate:0,slowEstimate:0,totalWeight:0},y[J]=y[J]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function oe(){b={},v={},p={},y={}}var ve={push:function L(J,de,ae){if(de.trace&&de.trace.length){var _e,pe=de.tresponse.getTime()-de.trequest.getTime()||1,he=de._tfinish.getTime()-de.tresponse.getTime()||1,fe=de.trace.reduce(function(Se,ge){return Se+ge.b[0]},0),se=0;if(0!==(_e=de._fileLoaderType&&de._fileLoaderType===M.default.FILE_LOADER_TYPES.FETCH?de.trace.reduce(function(Se,ge){return Se+ge.d},0):ae?he:pe+he)&&(se=Math.round(8*fe/_e)),z(J),function E(J,de,ae){return J===M.default.VIDEO?ae<O.get().streaming.cacheLoadThresholds[M.default.VIDEO]:J===M.default.AUDIO?ae<O.get().streaming.cacheLoadThresholds[M.default.AUDIO]:void 0}(J,0,he)){if(b[J].length>0&&!b[J].hasCachedEntries)return;b[J].hasCachedEntries=!0}else b[J]&&b[J].hasCachedEntries&&function ie(J){delete b[J],delete v[J],delete p[J],delete y[J],z(J)}(J);b[J].push(se),b[J].length>20&&b[J].shift(),v[J].push(pe),v[J].length>20&&v[J].shift(),G(p[J],se,.001*he,g.throughputHalfLife),G(y[J],pe,1,g.latencyHalfLife)}},getAverageThroughput:W,getSafeAverageThroughput:function x(J,de){var ae=W(J,de);return isNaN(ae)||(ae*=O.get().streaming.abr.bandwidthSafetyFactor),ae},getAverageLatency:function Y(J){return Q(!1,J)},reset:oe};return function A(){g={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},oe()}(),ve}I.__dashjs_factory_name="ThroughputHistory",U.default=T.default.getClassFactory(I)},"./src/streaming/rules/abr/ABRRulesCollection.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/rules/abr/ThroughputRule.js"),T=m("./src/streaming/rules/abr/InsufficientBufferRule.js"),I=m("./src/streaming/rules/abr/AbandonRequestsRule.js"),w=m("./src/streaming/rules/abr/DroppedFramesRule.js"),P=m("./src/streaming/rules/abr/SwitchHistoryRule.js"),R=m("./src/streaming/rules/abr/BolaRule.js"),D=m("./src/streaming/rules/abr/L2ARule.js"),c=m("./src/streaming/rules/abr/lolp/LoLpRule.js"),l=m("./src/core/FactoryMaker.js"),d=m("./src/streaming/rules/SwitchRequest.js"),f=m("./src/streaming/constants/Constants.js"),_="qualitySwitchRules",N="abandonFragmentRules";function S(b){var L,G,v=this.context,p=(b=b||{}).mediaPlayerModel,y=b.customParametersModel,g=b.dashMetrics,A=b.settings;function Q(z){return z.filter(function(ie){return ie.quality>d.default.NO_CHANGE})}function le(z){var ve,J,de,ae,pe,ie={},oe=null;if(0!==z.length){for(ie[d.default.PRIORITY.STRONG]={quality:d.default.NO_CHANGE,reason:null},ie[d.default.PRIORITY.WEAK]={quality:d.default.NO_CHANGE,reason:null},ie[d.default.PRIORITY.DEFAULT]={quality:d.default.NO_CHANGE,reason:null},ve=0,J=z.length;ve<J;ve+=1)(de=z[ve]).quality!==d.default.NO_CHANGE&&(ie[de.priority].quality===d.default.NO_CHANGE||ie[de.priority].quality>de.quality)&&(ie[de.priority].quality=de.quality,ie[de.priority].reason=de.reason||null);return ie[d.default.PRIORITY.WEAK].quality!==d.default.NO_CHANGE&&(oe=ie[d.default.PRIORITY.WEAK]),ie[d.default.PRIORITY.DEFAULT].quality!==d.default.NO_CHANGE&&(oe=ie[d.default.PRIORITY.DEFAULT]),ie[d.default.PRIORITY.STRONG].quality!==d.default.NO_CHANGE&&(oe=ie[d.default.PRIORITY.STRONG]),oe&&(ae=oe.quality,pe=oe.reason),Object(d.default)(v).create(ae,pe)}}return{initialize:function ee(){L=[],G=[],A.get().streaming.abr.useDefaultABRRules&&(A.get().streaming.abr.ABRStrategy===f.default.ABR_STRATEGY_L2A?L.push(Object(D.default)(v).create({dashMetrics:g,settings:A})):A.get().streaming.abr.ABRStrategy===f.default.ABR_STRATEGY_LoLP?L.push(Object(c.default)(v).create({dashMetrics:g})):(L.push(Object(R.default)(v).create({dashMetrics:g,mediaPlayerModel:p,settings:A})),L.push(Object(M.default)(v).create({dashMetrics:g})),A.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&L.push(Object(T.default)(v).create({dashMetrics:g,settings:A})),A.get().streaming.abr.additionalAbrRules.switchHistoryRule&&L.push(Object(P.default)(v).create()),A.get().streaming.abr.additionalAbrRules.droppedFramesRule&&L.push(Object(w.default)(v).create()),A.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&G.push(Object(I.default)(v).create({dashMetrics:g,mediaPlayerModel:p,settings:A})))),y.getAbrCustomRules().forEach(function(ie){ie.type===_&&L.push(ie.rule(v).create()),ie.type===N&&G.push(ie.rule(v).create())})},reset:function x(){[L,G].forEach(function(z){z&&z.length&&z.forEach(function(ie){return ie.reset&&ie.reset()})}),L=[],G=[]},getMaxQuality:function H(z){return le(Q(L.map(function(J){return J.getMaxIndex(z)})))||Object(d.default)(v).create()},getMinSwitchRequest:le,shouldAbandonFragment:function W(z,ie){return le(Q(G.map(function(de){return de.shouldAbandon(z,ie)})))||Object(d.default)(v).create()},getQualitySwitchRules:function Y(){return L}}}S.__dashjs_factory_name="ABRRulesCollection";var O=l.default.getClassFactory(S);O.QUALITY_SWITCH_RULES=_,O.ABANDON_FRAGMENT_RULES=N,l.default.updateSingletonFactory(S.__dashjs_factory_name,O),U.default=O},"./src/streaming/rules/abr/AbandonRequestsRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/rules/SwitchRequest.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/core/Debug.js");function w(P){var N,S,O,b,v,l=this.context,d=(P=P||{}).mediaPlayerModel,f=P.dashMetrics,_=P.settings;function E(){O={},b={},v=[]}return N={shouldAbandon:function A(L){var G=Object(M.default)(l).create(M.default.NO_CHANGE,{name:w.__dashjs_factory_name});if(!(L&&L.hasOwnProperty("getMediaInfo")&&L.hasOwnProperty("getMediaType")&&L.hasOwnProperty("getCurrentRequest")&&L.hasOwnProperty("getRepresentationInfo")&&L.hasOwnProperty("getAbrController")))return G;var ee=L.getMediaInfo(),Q=L.getMediaType(),le=L.getStreamInfo(),H=le?le.id:null,W=L.getCurrentRequest();if(!isNaN(W.index)){!function y(L,G){O[L]=O[L]||{},O[L][G]=O[L][G]||{}}(Q,W.index);var x=d.getStableBufferTime();if(f.getCurrentBufferLevel(Q)>x)return G;var z=O[Q][W.index];if(null===z||null===W.firstByteDate||b.hasOwnProperty(z.id))return G;if(void 0===z.firstByteTime&&(v[Q]=[],z.firstByteTime=W.firstByteDate.getTime(),z.segmentDuration=W.duration,z.bytesTotal=W.bytesTotal,z.id=W.index),z.bytesLoaded=W.bytesLoaded,z.elapsedTime=(new Date).getTime()-z.firstByteTime,z.bytesLoaded>0&&z.elapsedTime>0&&function g(L,G){v[L]=v[L]||[],v[L].push(G)}(Q,Math.round(8*z.bytesLoaded/z.elapsedTime)),v[Q].length>=5&&z.elapsedTime>500&&z.bytesLoaded<z.bytesTotal){var ie=v[Q].reduce(function(fe,_e){return fe+_e},0);if(z.measuredBandwidthInKbps=Math.round(ie/v[Q].length),z.estimatedTimeOfDownload=+(8*z.bytesTotal/z.measuredBandwidthInKbps/1e3).toFixed(2),z.estimatedTimeOfDownload<1.8*z.segmentDuration||0===L.getRepresentationInfo().quality)return G;if(!b.hasOwnProperty(z.id)){var oe=L.getAbrController(),ve=z.bytesTotal-z.bytesLoaded,J=oe.getBitrateList(ee),de=oe.getQualityForBitrate(ee,z.measuredBandwidthInKbps*_.get().streaming.abr.bandwidthSafetyFactor,H),ae=oe.getMinAllowedIndexFor(Q,H),pe=void 0!==ae?Math.max(ae,de):de;ve>z.bytesTotal*J[pe].bitrate/J[oe.getQualityFor(Q,H)].bitrate&&(G.quality=pe,G.reason.throughput=z.measuredBandwidthInKbps,G.reason.fragmentID=z.id,b[z.id]=z,S.debug("["+Q+"] frag id",z.id," is asking to abandon and switch to quality to ",pe," measured bandwidth was",z.measuredBandwidthInKbps),delete O[Q][z.id])}}else z.bytesLoaded===z.bytesTotal&&delete O[Q][z.id]}return G},reset:E},function p(){S=Object(I.default)(l).getInstance().getLogger(N),E()}(),N}w.__dashjs_factory_name="AbandonRequestsRule",U.default=T.default.getClassFactory(w)},"./src/streaming/rules/abr/BolaRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/MetricsConstants.js"),T=m("./src/streaming/rules/SwitchRequest.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/streaming/vo/metrics/HTTPRequest.js"),P=m("./src/core/EventBus.js"),R=m("./src/core/events/Events.js"),D=m("./src/core/Debug.js"),c=m("./src/streaming/MediaPlayerEvents.js"),l=m("./src/streaming/constants/Constants.js"),N=10;function b(v){var E,L,G,p=this.context,y=(v=v||{}).dashMetrics,g=v.mediaPlayerModel,A=Object(P.default)(p).getInstance();function le(ne,X,F){var V=F.reduce(function(me,Ee,q){return Ee>F[me]?q:me},0);if(0===V)return null;var re=Math.max(ne,N+2*X.length),k=(F[V]-1)/(re/N-1);return{gp:k,Vp:N/k}}function H(ne){var X={},V=ne.getMediaInfo().bitrateList.map(function(me){return me.bandwidth}),re=function Q(ne){return ne.map(function(X){return Math.log(X)})}(V);re=re.map(function(me){return me-re[0]+1});var k=g.getStableBufferTime(),te=le(k,V,re);return te?(X.state=1,X.bitrates=V,X.utilities=re,X.stableBufferTime=k,X.Vp=te.Vp,X.gp=te.gp,X.lastQuality=0,W(X)):X.state=0,X}function W(ne){ne.placeholderBuffer=0,ne.mostAdvancedSegmentStart=NaN,ne.lastSegmentWasReplacement=!1,ne.lastSegmentStart=NaN,ne.lastSegmentDurationS=NaN,ne.lastSegmentRequestTimeMs=NaN,ne.lastSegmentFinishTimeMs=NaN}function x(ne,X){var F=g.getStableBufferTime();if(ne.stableBufferTime!==F){var V=le(F,ne.bitrates,ne.utilities);if(V.Vp!==ne.Vp||V.gp!==ne.gp){var re=y.getCurrentBufferLevel(X),k=re+ne.placeholderBuffer;k-=N,k*=V.Vp/ne.Vp,k+=N,ne.stableBufferTime=F,ne.Vp=V.Vp,ne.gp=V.gp,ne.placeholderBuffer=Math.max(0,k-re)}}}function ie(ne,X){return ne.Vp*(ne.utilities[X]+ne.gp)}function oe(ne,X){for(var F=ne.bitrates[X],V=ne.utilities[X],re=0,k=X-1;k>=0;--k)if(ne.utilities[k]<ne.utilities[X]){var te=ne.bitrates[k];re=Math.max(re,ne.Vp*(ne.gp+(F*ne.utilities[k]-te*V)/(F-te)))}return re}function J(ne){var F=ne.mediaType===l.default.AUDIO?[l.default.AUDIO]:G;for(var V in F)G.hasOwnProperty(V)&&2===G[V].state&&(G[V].placeholderBuffer=0)}function de(){for(var ne in G)if(G.hasOwnProperty(ne)){var X=G[ne];0!==X.state&&(X.state=1,W(X))}}function ae(ne){if(ne&&ne.chunk&&ne.chunk.mediaInfo){var X=G[ne.chunk.mediaInfo.type];if(X&&0!==X.state){var F=ne.chunk.start;isNaN(X.mostAdvancedSegmentStart)||F>X.mostAdvancedSegmentStart?(X.mostAdvancedSegmentStart=F,X.lastSegmentWasReplacement=!1):X.lastSegmentWasReplacement=!0,X.lastSegmentStart=F,X.lastSegmentDurationS=ne.chunk.duration,X.lastQuality=ne.chunk.quality,he(X,ne.chunk.mediaInfo.type)}}}function pe(ne){if(ne&&ne.metric===M.default.HTTP_REQUEST&&ne.value&&ne.value.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&ne.value.trace&&ne.value.trace.length){var X=G[ne.mediaType];X&&0!==X.state&&(X.lastSegmentRequestTimeMs=ne.value.trequest.getTime(),X.lastSegmentFinishTimeMs=ne.value._tfinish.getTime(),he(X,ne.mediaType))}}function he(ne,X){if(!isNaN(ne.lastSegmentStart)&&!isNaN(ne.lastSegmentRequestTimeMs)&&!isNaN(ne.placeholderBuffer)){if(ne.placeholderBuffer*=.99,!isNaN(ne.lastSegmentFinishTimeMs)){var V=y.getCurrentBufferLevel(X)+.001*(ne.lastSegmentFinishTimeMs-ne.lastSegmentRequestTimeMs),re=ie(ne,ne.lastQuality),k=Math.max(0,re-V);ne.placeholderBuffer=Math.min(k,ne.placeholderBuffer)}ne.lastSegmentWasReplacement&&!isNaN(ne.lastSegmentDurationS)&&(ne.placeholderBuffer+=ne.lastSegmentDurationS),ne.lastSegmentStart=NaN,ne.lastSegmentRequestTimeMs=NaN}}function fe(ne){if(ne){var X=G[ne.mediaType];X&&0!==X.state&&(X.abrQuality=ne.newQuality)}}function _e(ne){if(ne){var X=G[ne.mediaType];if(X&&0!==X.state){var V,F=y.getCurrentBufferLevel(ne.mediaType);V=X.abrQuality>0?oe(X,X.abrQuality):N;var re=Math.max(0,V-F);X.placeholderBuffer=Math.min(X.placeholderBuffer,re)}}}function Se(){G={}}return E={getMaxIndex:function se(ne){var X=Object(T.default)(p).create();if(!(ne&&ne.hasOwnProperty("getMediaInfo")&&ne.hasOwnProperty("getMediaType")&&ne.hasOwnProperty("getScheduleController")&&ne.hasOwnProperty("getStreamInfo")&&ne.hasOwnProperty("getAbrController")&&ne.hasOwnProperty("useBufferOccupancyABR")))return X;var F=ne.getMediaInfo(),V=ne.getMediaType(),re=ne.getScheduleController(),k=ne.getStreamInfo(),te=ne.getAbrController(),me=te.getThroughputHistory(),Ee=k?k.id:null,q=k&&k.manifestInfo&&k.manifestInfo.isDynamic,K=ne.useBufferOccupancyABR();if(X.reason=X.reason||{},!K)return X;re.setTimeToLoadDelay(0);var j=function Y(ne){var X=ne.getMediaType(),F=G[X];return F?0!==F.state&&x(F,X):(F=H(ne),G[X]=F),F}(ne);if(0===j.state)return X;var Re,$=y.getCurrentBufferLevel(V),ce=me.getAverageThroughput(V,q),ue=me.getSafeAverageThroughput(V,q),be=me.getAverageLatency(V);if(X.reason.state=j.state,X.reason.throughput=ce,X.reason.latency=be,isNaN(ce))return X;switch(j.state){case 1:Re=te.getQualityForBitrate(F,ue,Ee,be),X.quality=Re,X.reason.throughput=ue,j.placeholderBuffer=Math.max(0,oe(j,Re)-$),j.lastQuality=Re,!isNaN(j.lastSegmentDurationS)&&$>=j.lastSegmentDurationS&&(j.state=2);break;case 2:(function ve(ne,X){var F=Date.now();isNaN(ne.lastSegmentFinishTimeMs)?isNaN(ne.lastCallTimeMs)||(ne.placeholderBuffer+=Math.max(0,.001*(F-ne.lastCallTimeMs))):ne.placeholderBuffer+=Math.max(0,.001*(F-ne.lastSegmentFinishTimeMs)),ne.lastCallTimeMs=F,ne.lastSegmentStart=NaN,ne.lastSegmentRequestTimeMs=NaN,ne.lastSegmentFinishTimeMs=NaN,x(ne,X)})(j,V),Re=function z(ne,X){for(var F=ne.bitrates.length,V=NaN,re=NaN,k=0;k<F;++k){var te=(ne.Vp*(ne.utilities[k]+ne.gp)-X)/ne.bitrates[k];(isNaN(re)||te>=re)&&(re=te,V=k)}return V}(j,$+j.placeholderBuffer);var Pe=te.getQualityForBitrate(F,ue,Ee,be);Re>j.lastQuality&&Re>Pe&&(Re=Math.max(Pe,j.lastQuality));var we=Math.max(0,$+j.placeholderBuffer-ie(j,Re));we<=j.placeholderBuffer?(j.placeholderBuffer-=we,we=0):(we-=j.placeholderBuffer,j.placeholderBuffer=0,Re<te.getMaxAllowedIndexFor(V,Ee)?re.setTimeToLoadDelay(1e3*we):we=0),X.quality=Re,X.reason.throughput=ce,X.reason.latency=be,X.reason.bufferLevel=$,X.reason.placeholderBuffer=j.placeholderBuffer,X.reason.delay=we,j.lastQuality=Re;break;default:L.debug("BOLA ABR rule invoked in bad state."),X.quality=te.getQualityForBitrate(F,ue,Ee,be),X.reason.state=j.state,X.reason.throughput=ue,X.reason.latency=be,j.state=1,W(j)}return X},reset:function ge(){Se(),A.off(c.default.BUFFER_EMPTY,J,E),A.off(c.default.PLAYBACK_SEEKING,de,E),A.off(c.default.METRIC_ADDED,pe,E),A.off(c.default.QUALITY_CHANGE_REQUESTED,fe,E),A.off(c.default.FRAGMENT_LOADING_ABANDONED,_e,E),A.off(R.default.MEDIA_FRAGMENT_LOADED,ae,E)}},function ee(){L=Object(D.default)(p).getInstance().getLogger(E),Se(),A.on(c.default.BUFFER_EMPTY,J,E),A.on(c.default.PLAYBACK_SEEKING,de,E),A.on(c.default.METRIC_ADDED,pe,E),A.on(c.default.QUALITY_CHANGE_REQUESTED,fe,E),A.on(c.default.FRAGMENT_LOADING_ABANDONED,_e,E),A.on(R.default.MEDIA_FRAGMENT_LOADED,ae,E)}(),E}b.__dashjs_factory_name="BolaRule",U.default=I.default.getClassFactory(b)},"./src/streaming/rules/abr/DroppedFramesRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/rules/SwitchRequest.js"),I=m("./src/core/Debug.js");function w(){var R,D,P=this.context;return R={getMaxIndex:function f(_){var N=Object(T.default)(P).create();if(!_||!_.hasOwnProperty("getDroppedFramesHistory"))return N;var S=_.getDroppedFramesHistory(),O=_.getStreamInfo().id;if(S){var b=S.getFrameHistory(O);if(!b||0===b.length)return N;for(var v=0,p=0,y=T.default.NO_CHANGE,g=1;g<b.length;g++)if(b[g]&&(v=b[g].droppedVideoFrames,(p=b[g].totalVideoFrames)>375&&v/p>.15)){D.debug("index: "+(y=g-1)+" Dropped Frames: "+v+" Total Frames: "+p);break}return Object(T.default)(P).create(y,{droppedFrames:v})}return N}},function d(){D=Object(I.default)(P).getInstance().getLogger(R)}(),R}w.__dashjs_factory_name="DroppedFramesRule",U.default=M.default.getClassFactory(w)},"./src/streaming/rules/abr/InsufficientBufferRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/core/Debug.js"),P=m("./src/streaming/rules/SwitchRequest.js"),R=m("./src/streaming/constants/Constants.js"),D=m("./src/streaming/constants/MetricsConstants.js"),c=m("./src/streaming/MediaPlayerEvents.js");function l(d){d=d||{};var b,v,p,N=this.context,S=Object(M.default)(N).getInstance(),O=d.dashMetrics;function L(){(p={})[R.default.VIDEO]={ignoreCount:2},p[R.default.AUDIO]={ignoreCount:2}}function G(){L()}function ee(le){!isNaN(le.startTime)&&(le.mediaType===R.default.AUDIO||le.mediaType===R.default.VIDEO)&&p[le.mediaType].ignoreCount>0&&p[le.mediaType].ignoreCount--}return b={getMaxIndex:function A(le){var H=Object(P.default)(N).create();if(!le||!le.hasOwnProperty("getMediaType"))return H;!function g(){if(!O||!O.hasOwnProperty("getCurrentBufferLevel")||!O.hasOwnProperty("getCurrentBufferState"))throw new Error(R.default.MISSING_CONFIG_ERROR)}();var W=le.getMediaType(),x=O.getCurrentBufferState(W),z=le.getRepresentationInfo().fragmentDuration,ie=le.getStreamInfo(),oe=ie?ie.id:null,ve=le.getScheduleController(),J=ie&&ie.manifestInfo&&ie.manifestInfo.isDynamic;if(function E(le,H){return!le&&p[H].ignoreCount>0}(ve.getPlaybackController().getLowLatencyModeEnabled(),W)||!z)return H;if(x&&x.state===D.default.BUFFER_EMPTY)v.debug("["+W+"] Switch to index 0; buffer is empty."),H.quality=0,H.reason="InsufficientBufferRule: Buffer is empty";else{var pe=le.getMediaInfo(),he=le.getAbrController(),fe=he.getThroughputHistory(),_e=O.getCurrentBufferLevel(W),se=fe.getAverageThroughput(W,J),Se=fe.getAverageLatency(W);H.quality=he.getQualityForBitrate(pe,se*(_e/z)*.5,oe,Se),H.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return H},reset:function Q(){L(),S.off(c.default.PLAYBACK_SEEKING,G,b),S.off(T.default.BYTES_APPENDED_END_FRAGMENT,ee,b)}},function y(){v=Object(w.default)(N).getInstance().getLogger(b),L(),S.on(c.default.PLAYBACK_SEEKING,G,b),S.on(T.default.BYTES_APPENDED_END_FRAGMENT,ee,b)}(),b}l.__dashjs_factory_name="InsufficientBufferRule",U.default=I.default.getClassFactory(l)},"./src/streaming/rules/abr/L2ARule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/MetricsConstants.js"),T=m("./src/streaming/rules/SwitchRequest.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/streaming/vo/metrics/HTTPRequest.js"),P=m("./src/core/EventBus.js"),R=m("./src/core/events/Events.js"),D=m("./src/core/Debug.js"),c=m("./src/streaming/constants/Constants.js");function _(N){var v,p,y,g,S=this.context,O=(N=N||{}).dashMetrics,b=Object(P.default)(S).getInstance();function E(J){var de={},ae=J.getMediaInfo(),pe=ae.bitrateList.map(function(he){return he.bandwidth/1e3});return de.state=1,de.bitrates=pe,de.lastQuality=0,function L(J){!J||!J.type||(y[J.type]={},y[J.type].w=[],y[J.type].prev_w=[],y[J.type].Q=0,y[J.type].segment_request_start_s=0,y[J.type].segment_download_finish_s=0,y[J.type].B_target=1.5)}(ae),G(de),de}function G(J){J.placeholderBuffer=0,J.mostAdvancedSegmentStart=NaN,J.lastSegmentWasReplacement=!1,J.lastSegmentStart=NaN,J.lastSegmentDurationS=NaN,J.lastSegmentRequestTimeMs=NaN,J.lastSegmentFinishTimeMs=NaN}function Q(){for(var J in p)if(p.hasOwnProperty(J)){var de=p[J];0!==de.state&&(de.state=1,G(de))}}function le(J){if(J&&J.chunk&&J.chunk.mediaInfo){var de=p[J.chunk.mediaInfo.type],ae=y[J.chunk.mediaInfo.type];if(de&&0!==de.state){var pe=J.chunk.start;isNaN(de.mostAdvancedSegmentStart)||pe>de.mostAdvancedSegmentStart?(de.mostAdvancedSegmentStart=pe,de.lastSegmentWasReplacement=!1):de.lastSegmentWasReplacement=!0,de.lastSegmentStart=pe,de.lastSegmentDurationS=J.chunk.duration,de.lastQuality=J.chunk.quality,W(de,ae)}}}function H(J){if(J&&J.metric===M.default.HTTP_REQUEST&&J.value&&J.value.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&J.value.trace&&J.value.trace.length){var de=p[J.mediaType],ae=y[J.mediaType];de&&0!==de.state&&(de.lastSegmentRequestTimeMs=J.value.trequest.getTime(),de.lastSegmentFinishTimeMs=J.value._tfinish.getTime(),W(de,ae))}}function W(J,de){!isNaN(J.lastSegmentStart)&&!isNaN(J.lastSegmentRequestTimeMs)&&(de.segment_request_start_s=.001*J.lastSegmentRequestTimeMs,de.segment_download_finish_s=.001*J.lastSegmentFinishTimeMs,J.lastSegmentStart=NaN,J.lastSegmentRequestTimeMs=NaN)}function x(J){if(J&&J.mediaType){var de=p[J.mediaType];de&&0!==de.state&&(de.abrQuality=J.newQuality)}}function Y(J,de){if(J.length!==de.length)return-1;for(var ae=0,pe=0;pe<J.length;pe++)ae+=J[pe]*de[pe];return ae}function oe(){p={},y={}}return v={getMaxIndex:function ie(J){var j,de=Object(T.default)(S).create(),pe=Math.pow(4,.99),he=Math.max(Math.pow(4,1),pe*Math.sqrt(4)),fe=J.getMediaInfo(),_e=J.getMediaType(),se=fe.bitrateList.map(function(nt){return nt.bandwidth}),Se=se.length,ge=J.getScheduleController(),ne=J.getStreamInfo(),X=J.getAbrController(),F=X.getThroughputHistory(),V=ne&&ne.manifestInfo&&ne.manifestInfo.isDynamic,re=J.useL2AABR(),k=O.getCurrentBufferLevel(_e,!0),te=F.getSafeAverageThroughput(_e,V),me=F.getAverageThroughput(_e,V),q=F.getAverageLatency(_e),$=J.getVideoModel().getPlaybackRate();if(!(J&&J.hasOwnProperty("getMediaInfo")&&J.hasOwnProperty("getMediaType")&&J.hasOwnProperty("getScheduleController")&&J.hasOwnProperty("getStreamInfo")&&J.hasOwnProperty("getAbrController")&&J.hasOwnProperty("useL2AABR")&&(de.reason=de.reason||{},re&&_e!==c.default.AUDIO)))return de;ge.setTimeToLoadDelay(0);var ce=function ee(J){var de=J.getMediaType(),ae=p[de];return ae||(ae=E(J),p[de]=ae),ae}(J);if(0===ce.state)return de;var ue=y[_e];if(!ue||(de.reason.state=ce.state,de.reason.throughput=me,de.reason.latency=q,isNaN(me)))return de;switch(ce.state){case 1:if(j=X.getQualityForBitrate(fe,te,ne.id,q),de.quality=j,de.reason.throughput=te,ce.lastQuality=j,!isNaN(ce.lastSegmentDurationS)&&k>=ue.B_target){ce.state=2,ue.Q=pe;for(var be=0;be<Se;++be)ue.prev_w[be]=be===ce.lastQuality?1:0}break;case 2:var Re=[],Pe=O.getCurrentHttpRequest(_e).trace.reduce(function(nt,at){return nt+at.d},0),we=O.getCurrentHttpRequest(_e).trace.reduce(function(nt,at){return nt+at.b[0]},0),Ue=Math.round(8*we/Pe);Ue<1&&(Ue=1);for(var Ce=ce.lastSegmentDurationS,Oe=1,Ge=0;Ge<Se;++Ge)se[Ge]=se[Ge]/1e3,$*se[Ge]>Ue&&(Oe=-1),ue.w[Ge]=ue.prev_w[Ge]+Oe*(Ce/(2*he))*((ue.Q+pe)*($*se[Ge]/Ue));ue.w=function z(J){for(var de=J.length,ae=!1,pe=[],he=0;he<de;++he)pe[he]=J[he];for(var fe=J.sort(function(X,F){return F-X}),_e=0,se=0,Se=[],ge=0;ge<de-1;++ge)if((se=((_e+=fe[ge])-1)/(ge+1))>=fe[ge+1]){ae=!0;break}ae||(se=(_e+fe[de-1]-1)/de);for(var ne=0;ne<de;++ne)Se[ne]=Math.max(pe[ne]-se,0);return Se}(ue.w);for(var Le=0;Le<Se;++Le)Re[Le]=ue.w[Le]-ue.prev_w[Le],ue.prev_w[Le]=ue.w[Le];ue.Q=Math.max(0,ue.Q-Ce+Ce*$*((Y(se,ue.prev_w)+Y(se,Re))/Ue));for(var $e=[],Je=0;Je<Se;++Je)$e[Je]=Math.abs(se[Je]-Y(ue.w,se));(j=$e.indexOf(Math.min.apply(Math,$e)))>ce.lastQuality&&se[ce.lastQuality+1]<=Ue&&(j=ce.lastQuality+1),se[j]>=Ue&&(ue.Q=2*Math.max(pe,ue.Q)),de.quality=j,de.reason.throughput=me,de.reason.latency=q,de.reason.bufferLevel=k,ce.lastQuality=de.quality;break;default:g.debug("L2A ABR rule invoked in bad state."),de.quality=X.getQualityForBitrate(fe,te,ne.id,q),de.reason.state=ce.state,de.reason.throughput=te,de.reason.latency=q,ce.state=1,G(ce)}return de},reset:function ve(){oe(),b.off(R.default.PLAYBACK_SEEKING,Q,v),b.off(R.default.MEDIA_FRAGMENT_LOADED,le,v),b.off(R.default.METRIC_ADDED,H,v),b.off(R.default.QUALITY_CHANGE_REQUESTED,x,v)}},function A(){g=Object(D.default)(S).getInstance().getLogger(v),oe(),b.on(R.default.PLAYBACK_SEEKING,Q,v),b.on(R.default.MEDIA_FRAGMENT_LOADED,le,v),b.on(R.default.METRIC_ADDED,H,v),b.on(R.default.QUALITY_CHANGE_REQUESTED,x,v)}(),v}_.__dashjs_factory_name="L2ARule",U.default=I.default.getClassFactory(_)},"./src/streaming/rules/abr/SwitchHistoryRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/rules/SwitchRequest.js");function w(){var R,D,P=this.context;return R={getMaxIndex:function f(_){for(var N=_?_.getSwitchHistory():null,S=N?N.getSwitchRequests():[],O=0,b=0,v=0,p=Object(I.default)(P).create(),y=0;y<S.length;y++)if(void 0!==S[y]&&(v+=S[y].dropSize,(O+=S[y].drops)+(b+=S[y].noDrops)>=6&&O/b>.075)){p.quality=y>0&&S[y].drops>0?y-1:y,p.reason={index:p.quality,drops:O,noDrops:b,dropSize:v},D.debug("Switch history rule index: "+p.quality+" samples: "+(O+b)+" drops: "+O);break}return p}},function d(){D=Object(T.default)(P).getInstance().getLogger(R)}(),R}w.__dashjs_factory_name="SwitchHistoryRule",U.default=M.default.getClassFactory(w)},"./src/streaming/rules/abr/ThroughputRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/rules/SwitchRequest.js"),I=m("./src/streaming/constants/Constants.js"),w=m("./src/streaming/constants/MetricsConstants.js");function P(R){var D=this.context,c=(R=R||{}).dashMetrics;return{getMaxIndex:function _(S){var O=Object(T.default)(D).create();if(!(S&&S.hasOwnProperty("getMediaInfo")&&S.hasOwnProperty("getMediaType")&&S.hasOwnProperty("useBufferOccupancyABR")&&S.hasOwnProperty("getAbrController")&&S.hasOwnProperty("getScheduleController")))return O;!function f(){if(!c||!c.hasOwnProperty("getCurrentBufferState"))throw new Error(I.default.MISSING_CONFIG_ERROR)}();var b=S.getMediaInfo(),v=S.getMediaType(),p=c.getCurrentBufferState(v),y=S.getScheduleController(),g=S.getAbrController(),A=S.getStreamInfo(),E=A?A.id:null,L=A&&A.manifestInfo?A.manifestInfo.isDynamic:null,G=g.getThroughputHistory(),ee=G.getSafeAverageThroughput(v,L),Q=G.getAverageLatency(v),le=S.useBufferOccupancyABR();return isNaN(ee)||!p||le||g.getAbandonmentStateFor(E,v)!==w.default.ABANDON_LOAD&&(p.state===w.default.BUFFER_LOADED||L)&&(O.quality=g.getQualityForBitrate(b,ee,E,Q),y.setTimeToLoadDelay(0),O.reason={throughput:ee,latency:Q}),O},reset:function N(){}}}P.__dashjs_factory_name="ThroughputRule",U.default=M.default.getClassFactory(P)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I_MANUAL="manual_weight_selection",I_RANDOM="random_weight_selection",I_DYNAMIC="dynamic_weight_selection";function w(){var R,D,c,l,d,f,_,N,S,P=this.context;function v(){c=null,l=1,d=100,f=0,_=null,N=null,S=I_DYNAMIC}function p(){var ie=0;if(c)for(var oe=0;oe<c.length;oe++){var ve=c[oe];ve.state.throughput>ie&&(ie=ve.state.throughput)}return ie}function g(ie,oe,ve){var J=ie.map(function(ae,pe){return ve[pe]*Math.pow(ae-oe[pe],2)}).reduce(function(ae,pe){return ae+pe});return(J<0?-1:1)*Math.sqrt(Math.abs(J))}function A(ie,oe){return g([ie.state.throughput,ie.state.latency,ie.state.rebuffer,ie.state.switch],[oe.state.throughput,oe.state.latency,oe.state.rebuffer,oe.state.switch],[1,1,1,1])}function E(ie,oe,ve){for(var J=0;J<oe.length;J++){var de=oe[J],pe=A(de,ie);L(de,ve,Math.exp(-1*Math.pow(pe,2)/(2*Math.pow(.1,2))))}}function L(ie,oe,ve){var J=ie.state,de=[.01,.01,.01,.01];J.throughput=J.throughput+(oe[0]-J.throughput)*de[0]*ve,J.latency=J.latency+(oe[1]-J.latency)*de[1]*ve,J.rebuffer=J.rebuffer+(oe[2]-J.rebuffer)*de[2]*ve,J.switch=J.switch+(oe[3]-J.switch)*de[3]*ve}return R={getNextQuality:function ee(ie,oe,ve,J,de,ae,pe){var he=ve,fe=J,_e=oe,se=function x(ie){if(!c){c=[];var oe=ie.bitrateList,ve=[];f=oe[0].bandwidth,oe.forEach(function(ae){ve.push(ae.bandwidth),ae.bandwidth<f&&(f=ae.bandwidth)}),l=function y(ie){var oe=ie.map(function(ve){return Math.pow(ve,2)}).reduce(function(ve,J){return ve+J});return Math.sqrt(oe)}(ve);for(var J=0;J<oe.length;J++)c.push({qualityIndex:J,bitrate:oe[J].bandwidth,state:{throughput:oe[J].bandwidth/l,latency:0,rebuffer:0,switch:0}});N=function z(ie){var oe=[],ve=function Y(ie){for(var oe=[],ve=0;ve<ie;ve++){var J=[Math.random()*p(),Math.random(),Math.random(),Math.random()];oe.push(J)}return oe}(Math.pow(ie.length,2));oe.push(ve[0]);for(var J=[1,1,1,1],de=1;de<ie.length;de++){for(var ae=null,pe=null,he=0;he<ve.length;he++){for(var fe=ve[he],_e=null,se=0;se<oe.length;se++){var Se=g(fe,oe[se],J);(null===_e||Se<_e)&&(_e=Se)}(null===pe||_e>pe)&&(ae=fe,pe=_e)}oe.push(ae)}for(var ge=null,ne=null,X=0;X<oe.length;X++){for(var F=0,V=0;V<oe.length;V++)X!==V&&(F+=g(oe[X],oe[V],J));(null===ge||F>ge)&&(ge=F,ne=X)}var re=[];for(re.push(oe[ne]),oe.splice(ne,1);oe.length>0;){for(var k=null,te=null,me=0;me<oe.length;me++){var Ee=g(re[0],oe[me],J);(null===k||Ee<k)&&(k=Ee,te=me)}re.push(oe[te]),oe.splice(te,1)}return re}(c)}return c}(ie),Se=oe/l;Se>1&&(Se=p()),ve/=d,D.debug("getNextQuality called throughput:".concat(Se," latency:").concat(ve," bufferSize:").concat(J," currentQualityIndex:").concat(ae," playbackRate:").concat(de));var V=se[ae],re=V.bitrate*pe.getSegmentDuration()/_e,k=Math.max(0,re-fe);if(fe-re<pe.getMinBuffer())return D.debug("Buffer is low for bitrate= ".concat(V.bitrate," downloadTime=").concat(re," currentBuffer=").concat(fe," rebuffer=").concat(k)),function G(ie,oe){var ve=0,J=ie;if(c)for(var de=0;de<c.length;de++){var ae=c[de];ae.bitrate<ie.bitrate&&ae.bitrate>ve&&oe>ae.bitrate&&(ve=ae.bitrate,J=ae)}return J}(V,_e).qualityIndex;switch(S){case I_MANUAL:!function Q(){_=[.4,.4,.4,.4]}();break;case I_RANDOM:!function le(ie){_=function W(ie,oe){for(var ve=[],J=Math.sqrt(2/ie),de=0;de<oe;de++)ve.push(Math.random()*J);return _=ve}(ie.length,4)}(se);break;default:!function H(ie,oe,ve,J,de,ae,pe){_||(_=N[N.length-1]);var he=ie.findWeightVector(oe,ve,J,de,ae,pe);null!==he&&-1!==he&&(_=he)}(pe,se,he,fe,k,_e,de)}for(var te=null,me=null,Ee=null,q=0;q<se.length;q++){var K=se[q],j=K.state,$=[j.throughput,j.latency,j.rebuffer,j.switch],ce=_.slice(),ue=pe.getNextBufferWithBitrate(K.bitrate,fe,_e),be=ue<pe.getMinBuffer();be&&D.debug("Buffer is low for bitrate=".concat(K.bitrate," downloadTime=").concat(re," currentBuffer=").concat(fe," nextBuffer=").concat(ue)),(K.bitrate>oe-1e4||be)&&K.bitrate!==f&&(ce[0]=100);var Re=g($,[Se,0,0,0],ce);(null===te||Re<te)&&(te=Re,me=K.qualityIndex,Ee=K)}var Pe=Math.abs(V.bitrate-Ee.bitrate)/l;return E(V,se,[Se,ve,k,Pe]),E(Ee,se,[Se,0,0,Pe]),me},reset:function b(){v()}},function O(){D=Object(T.default)(P).getInstance().getLogger(R),v()}(),R}w.__dashjs_factory_name="LearningAbrController",U.default=M.default.getClassFactory(w)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/rules/abr/lolp/QoeInfo.js");function I(){var w,P,R,D,c;function d(){P=null,R=null,D=null,c=null}function _(p,y,g,A){var E=new T.default;return E.type=p,E.weights.bitrateReward=y||1,E.weights.bitrateSwitchPenalty=1,E.weights.rebufferPenalty=g||1e3,E.weights.latencyPenalty=[],E.weights.latencyPenalty.push({threshold:1.1,penalty:.05*A}),E.weights.latencyPenalty.push({threshold:1e8,penalty:.1*g}),E.weights.playbackSpeedPenalty=A||200,E}function S(p,y,g,A,E){E.bitrateWSum+=E.weights.bitrateReward*p,E.lastBitrate&&(E.bitrateSwitchWSum+=E.weights.bitrateSwitchPenalty*Math.abs(p-E.lastBitrate)),E.lastBitrate=p,E.rebufferWSum+=E.weights.rebufferPenalty*y;for(var L=0;L<E.weights.latencyPenalty.length;L++){var G=E.weights.latencyPenalty[L];if(g<=G.threshold){E.latencyWSum+=G.penalty*g;break}}E.playbackSpeedWSum+=E.weights.playbackSpeedPenalty*Math.abs(1-A),E.totalQoe=E.bitrateWSum-E.bitrateSwitchWSum-E.rebufferWSum-E.latencyWSum-E.playbackSpeedWSum}return w={setupPerSegmentQoe:function f(p,y,g){P=_("segment",p,y,g),R=p,D=y,c=g},logSegmentMetrics:function N(p,y,g,A){P&&S(p,y,g,A,P)},getPerSegmentQoe:function O(){return P},calculateSingleUseQoe:function b(p,y,g,A){var E=null;return R&&D&&c&&(E=_("segment",R,D,c)),E?(S(p,y,g,A,E),E.totalQoe):0},reset:function v(){d()}},function l(){d()}(),w}I.__dashjs_factory_name="LoLpQoeEvaluator",U.default=M.default.getClassFactory(I)},"./src/streaming/rules/abr/lolp/LoLpRule.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/streaming/rules/abr/lolp/LearningAbrController.js"),w=m("./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),P=m("./src/streaming/rules/SwitchRequest.js"),R=m("./src/streaming/constants/MetricsConstants.js"),D=m("./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),c=m("./src/streaming/constants/Constants.js");function f(_){var O,b,v,p,N=(_=_||{}).dashMetrics,S=this.context;return b={getMaxIndex:function g(L){try{var G=Object(P.default)(S).create(),ee=L.getMediaInfo().type,Q=L.getAbrController(),le=L.getStreamInfo(),H=Q.getQualityFor(ee,le.id),W=L.getMediaInfo(),x=N.getCurrentBufferState(ee),Y=L.getScheduleController(),z=N.getCurrentBufferLevel(ee,!0),ie=le&&le.manifestInfo?le.manifestInfo.isDynamic:null,oe=Y.getPlaybackController(),ve=oe.getCurrentLiveLatency();if(!L.useLoLPABR()||ee===c.default.AUDIO)return G;ve||(ve=0);var J=oe.getPlaybackRate(),ae=Q.getThroughputHistory().getSafeAverageThroughput(ee,ie);if(O.debug("Throughput ".concat(Math.round(ae)," kbps")),isNaN(ae)||!x||Q.getAbandonmentStateFor(le.id,ee)===R.default.ABANDON_LOAD)return G;for(var pe=W.bitrateList,he=L.getRepresentationInfo().fragmentDuration,fe=pe[0].bandwidth/1e3,_e=pe[pe.length-1].bandwidth/1e3,se=0;se<pe.length;se++){var Se=pe[se].bandwidth/1e3;Se>_e?_e=Se:Se<fe&&(fe=Se)}var ne=pe[H].bandwidth/1e3,X=N.getCurrentHttpRequest(ee,!0),F=(X.tresponse.getTime()-X.trequest.getTime())/1e3,V=F>he?F-he:0;p.setupPerSegmentQoe(he,_e,fe),p.logSegmentMetrics(ne,V,ve,J);var re=Object(D.default)(S).create({targetLatency:1.5,bufferMin:.3,segmentDuration:he,qoeEvaluator:p});return G.quality=v.getNextQuality(W,1e3*ae,ve,z,J,H,re),G.reason={throughput:ae,latency:ve},G.priority=P.default.PRIORITY.STRONG,Y.setTimeToLoadDelay(0),G.quality!==H&&console.log("[TgcLearningRule]["+ee+"] requesting switch to index: ",G.quality,"Average throughput",Math.round(ae),"kbps"),G}catch(k){throw k}},reset:function E(){!function A(){v.reset(),p.reset()}()}},function y(){O=Object(M.default)(S).getInstance().getLogger(b),v=Object(I.default)(S).create(),p=Object(w.default)(S).create()}(),b}f.__dashjs_factory_name="LoLPRule",U.default=T.default.getClassFactory(f)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){var c,f,_,w=I.targetLatency,P=I.bufferMin,R=I.segmentDuration,D=I.qoeEvaluator;function y(){return R}function A(E,L){var G=y();return L>G?E-G:E+G-L}return c={getMinBuffer:function p(){return P},getSegmentDuration:y,getNextBufferWithBitrate:function g(E,L,G){return A(L,E*R/G)},getNextBuffer:A,findWeightVector:function O(E,L,G,ee,Q,le){var H=null,W=null,x=null,Y=Math.abs(L-_);return E.forEach(function(z){f.forEach(function(ie){var oe_latency=ie[1],oe_buffer=ie[2],ve=z.bitrate*R/Q,J=A(G,ve),de=Math.max(1e-5,ve-J),fe=D.calculateSingleUseQoe(z.bitrate,(0===oe_buffer?10:1/oe_buffer)*de,(0===oe_latency?10:1/oe_latency)*z.state.latency,le);(null===H||fe>H)&&function b(E,L,G){return!(E>w+G)&&L>=P}(L,J,Y)&&(H=fe,W=ie,x=z.bitrate)})}),null===W&&null===x&&(W=-1),_=L,W}},function N(){!function S(){f=function v(E,L){return function Q(le,H,W){if(W===H)return le;for(var x=le.length,Y=0;Y<x;Y++)for(var z=le.shift(),ie=0;ie<E.length;ie++)le.push(z.concat(E[ie]));return Q(le,H,W+1)}(E.map(function(Q){return[Q]}),L,1)}([.2,.4,.6,.8,1],4),_=0}()}(),c}T.__dashjs_factory_name="LoLpWeightSelector",U.default=M.default.getClassFactory(T)},"./src/streaming/rules/abr/lolp/QoeInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var I=0;function P(_){for(var N="",S=0;S<_.length;++S)N+=_[S].uchar;return N.length-N.replace(/^\s+/,"").length}function R(_){return"left: "+3.125*_.x+"%; top: "+6.66*_.y1+"%; width: "+(100-3.125*_.x)+"%; height: "+6.66*Math.max(_.y2-1-_.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(_){return"red"===_?"rgb(255, 0, 0)":"green"===_?"rgb(0, 255, 0)":"blue"===_?"rgb(0, 0, 255)":"cyan"===_?"rgb(0, 255, 255)":"magenta"===_?"rgb(255, 0, 255)":"yellow"===_?"rgb(255, 255, 0)":"white"===_?"rgb(255, 255, 255)":"black"===_?"rgb(0, 0, 0)":_}function c(_,N){var S=_.videoHeight/15;return N?"font-size: "+S+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(N.foreground?D(N.foreground):"rgb(255, 255, 255)")+"; font-style: "+(N.italics?"italic":"normal")+"; text-decoration: "+(N.underline?"underline":"none")+"; white-space: pre; background-color: "+(N.background?D(N.background):"transparent")+";":"font-size: "+S+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function l(_){return _.replace(/^\s+/g,"")}function d(_){return _.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function f(_,N,S,O){var ee,Q,b=null,p=!1,y=-1,g={start:N,end:S,spans:[]},A="style_cea608_white_black",E={},L={},G=[];for(ee=0;ee<15;++ee){var le=O.rows[ee],H="",W=null;if(!1===le.isEmpty()){var x=P(le.chars);null===b&&(b={x,y1:ee,y2:ee+1,p:[]}),x!==y&&p&&(b.p.push(g),g={start:N,end:S,spans:[]},b.y2=ee,b.name="region_"+b.x+"_"+b.y1+"_"+b.y2,!1===E.hasOwnProperty(b.name)?(G.push(b),E[b.name]=b):E[b.name].p.contat(b.p),b={x,y1:ee,y2:ee+1,p:[]});for(var Y=0;Y<le.chars.length;++Y){var z=le.chars[Y],ie=z.penState;if(null===W||!ie.equals(W)){H.trim().length>0&&(g.spans.push({name:A,line:H,row:ee}),H="");var oe="style_cea608_"+ie.foreground+"_"+ie.background;ie.underline&&(oe+="_underline"),ie.italics&&(oe+="_italics"),L.hasOwnProperty(oe)||(L[oe]=JSON.parse(JSON.stringify(ie))),W=ie,A=oe}H+=z.uchar}H.trim().length>0&&g.spans.push({name:A,line:H,row:ee}),p=!0,y=x}else p=!1,y=-1,b&&(b.p.push(g),g={start:N,end:S,spans:[]},b.y2=ee,b.name="region_"+b.x+"_"+b.y1+"_"+b.y2,!1===E.hasOwnProperty(b.name)?(G.push(b),E[b.name]=b):E[b.name].p.contat(b.p),b=null)}b&&(b.p.push(g),b.y2=ee+1,b.name="region_"+b.x+"_"+b.y1+"_"+b.y2,!1===E.hasOwnProperty(b.name)?(G.push(b),E[b.name]=b):E[b.name].p.contat(b.p),b=null);var ve=[];for(ee=0;ee<G.length;++ee){var J=G[ee],de="sub_cea608_"+I++,ae=document.createElement("div");ae.id=de;var pe=R(J);ae.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+pe;var he=document.createElement("div");he.className="paragraph bodyStyle",he.style.cssText=c(_);var fe=document.createElement("div");fe.className="cueUniWrapper",fe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var _e=0;_e<J.p.length;++_e){var se=J.p[_e],Se=0;for(Q=0;Q<se.spans.length;++Q){var ge=se.spans[Q];if(ge.line.length>0){if(0!==Q&&Se!=ge.row){var ne=document.createElement("br");ne.className="lineBreak",fe.appendChild(ne)}var X=!1;Se===ge.row&&(X=!0),Se=ge.row;var F=L[ge.name],V=document.createElement("span");V.className="spanPadding "+ge.name+" customSpanColor",V.style.cssText=c(_,F),V.textContent=0!==Q&&X?Q===se.spans.length-1?d(ge.line):ge.line:se.spans.length>1&&Q<se.spans.length-1&&ge.row===se.spans[Q+1].row?l(ge.line):ge.line.trim(),fe.appendChild(V)}}}he.appendChild(fe),ae.appendChild(he);var re={bodyStyle:["%",90]};for(var k in L)L.hasOwnProperty(k)&&(re[k]=["%",90]);ve.push({type:"html",start:N,end:S,cueHTMLElement:ae,cueID:de,cellResolution:[32,15],isFromCEA608:!0,fontSize:re,lineHeight:{},linePadding:{}})}return ve}}}T.__dashjs_factory_name="EmbeddedTextHtmlRender",U.default=M.default.getSingletonFactory(T)},"./src/streaming/text/NotFragmentedTextBufferController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/streaming/utils/InitCache.js"),P=m("./src/streaming/SourceBufferSink.js"),R=m("./src/streaming/vo/DashJSError.js"),D=m("./src/core/errors/Errors.js"),c="NotFragmentedTextBufferController";function l(d){d=d||{};var v,p,y,g,A,E,f=this.context,_=Object(M.default)(f).getInstance(),N=d.textController,S=d.errHandler,O=d.streamInfo,b=d.type;function x(me){g=me}function ve(me){p!==me&&(p=me)&&function te(me,Ee){_.trigger(me,Ee||{},{streamId:O.id,mediaType:b})}(T.default.BUFFERING_COMPLETED)}function ae(me){!me.chunk.bytes||p||(E.save(me.chunk),A.append(me.chunk),ve(!0))}return v={initialize:function ee(me){x(me)},getStreamId:function le(){return O.id},getType:function H(){return b},getBufferControllerType:function G(){return c},createBufferSink:function Q(me){return new Promise(function(Ee,q){try{(A=Object(P.default)(f).create({mediaSource:g,textController:N,eventBus:_})).initializeForFirstUse(O,me),y||(A.getBuffer()&&"function"==typeof A.getBuffer().initialize&&A.getBuffer().initialize(),y=!0),Ee(A)}catch(K){S.error(new R.default(D.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,D.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+b)),q(K)}})},getBuffer:function W(){return A},getBufferLevel:function ie(){return 0},getRangeAt:function pe(){return null},pruneBuffer:function Se(){},hasBufferAtTime:function he(){return!0},getAllRangesWithSafetyFactor:function fe(){return[]},getContinuousBufferTimeForTargetTime:function _e(){return Number.POSITIVE_INFINITY},setMediaSource:x,getMediaSource:function Y(){return g},appendInitSegmentFromCache:function de(me){return null!==E.extract(O.id,me)},getIsBufferingCompleted:function oe(){return p},setIsBufferingCompleted:ve,getIsPruningInProgress:function z(){return!1},reset:function J(me){_.off(T.default.INIT_FRAGMENT_LOADED,ae,v),!me&&A&&(A.abort(),A.reset(),A=null)},clearBuffers:function se(){return Promise.resolve()},prepareForPlaybackSeek:function ne(){return Promise.resolve()},prepareForReplacementTrackSwitch:function X(){return p=!1,Promise.resolve()},setSeekTarget:function V(){},updateAppendWindow:function F(){return Promise.resolve()},pruneAllSafely:function k(){return Promise.resolve()},updateBufferTimestampOffset:function ge(){return Promise.resolve()},segmentRequestingCompleted:function re(){}},function L(){y=!1,g=null,p=!1,E=Object(w.default)(f).getInstance(),_.on(T.default.INIT_FRAGMENT_LOADED,ae,v)}(),v}l.__dashjs_factory_name=c,U.default=I.default.getClassFactory(l)},"./src/streaming/text/TextController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/FactoryMaker.js"),I=m("./src/streaming/text/TextSourceBuffer.js"),w=m("./src/streaming/text/TextTracks.js"),P=m("./src/streaming/utils/VTTParser.js"),R=m("./src/streaming/utils/VttCustomRenderingParser.js"),D=m("./src/streaming/utils/TTMLParser.js"),c=m("./src/core/EventBus.js"),l=m("./src/core/events/Events.js"),d=m("./src/streaming/MediaPlayerEvents.js"),f=m("./src/streaming/utils/SupervisorTools.js");function _(N){var A,E,L,G,ee,Q,le,H,W,x,Y,z,S=this.context,O=N.adapter,b=N.errHandler,v=N.manifestModel,p=N.mediaController,y=N.videoModel,g=N.settings;function fe(Ee){var q=Ee.tracks,K=Ee.index,j=Ee.streamId;if(!1===g.get().streaming.text.defaultEnabled&&!ge()||z)X(j,-1);else{var ce=p.getCurrentTrackFor(M.default.TEXT,j);if(ce){var ue={lang:ce.lang,role:ce.roles[0],index:ce.index,codec:ce.codec,accessibility:ce.accessibility[0]};q.some(function(be,Re){if(p.matchSettings(ue,be))return X(j,Re),K=Re,!0})}W=!1}E[j].lastEnabledIndex=K,H.trigger(d.default.TEXT_TRACKS_ADDED,{enabled:ge(),index:K,tracks:q,streamId:j}),Y=!0}function _e(Ee){try{var q=Ee.streamId;if(!G[q]||isNaN(Ee.time))return;G[q].manualCueProcessing(Ee.time)}catch{}}function se(Ee){try{var q=Ee.streamId;if(!G[q])return;G[q].disableManualTracks()}catch{}}function ge(){var Ee=!0;return W&&!x&&(Ee=!1),Ee}function X(Ee,q){(W=-1===q)&&p&&p.saveTextSettingsDisabled();var K=re(Ee);if(K!==q&&G[Ee]){G[Ee].disableManualTracks(),G[Ee].setModeForTrackIdx(K,M.default.TEXT_HIDDEN),G[Ee].setCurrentTrackIdx(q),G[Ee].setModeForTrackIdx(q,M.default.TEXT_SHOWING);var j=G[Ee].getCurrentTrackInfo();j&&j.isFragmented&&!j.isEmbedded?function F(Ee,q,K){if(L[Ee])for(var $=L[Ee].getConfig().fragmentedTracks,ce=0;ce<$.length;ce++){var ue=$[ce];if(q.lang===ue.lang&&(ue.id?q.id===ue.id:q.index===ue.index)){var be=p.getCurrentTrackFor(M.default.TEXT,Ee);(ue.id?be.id!==ue.id:be.index!==ue.index)?(G[Ee].deleteCuesFromTrackIdx(K),L[Ee].setCurrentFragmentedTrackIdx(ce)):-1===K&&H.trigger(l.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:Ee,mediaType:M.default.TEXT})}}}(Ee,j,K):j&&!j.isFragmented&&function V(Ee,q){H.trigger(l.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:q},{streamId:Ee,mediaType:M.default.TEXT})}(Ee,j),p.setTrack(j)}}function re(Ee){return G[Ee].getCurrentTrackIdx()}function te(){L={},G={},E={},W=!0,Y=!1,z=!1}return A={deactivateStream:function k(Ee){if(Ee){var q=Ee.id;L[q]&&L[q].resetMediaInfos(),G[q]&&G[q].deleteAllTextTracks()}},initialize:function oe(){H.on(l.default.TEXT_TRACKS_QUEUE_INITIALIZED,fe,A),g.get().streaming.text.webvtt.customRenderingEnabled&&(H.on(l.default.PLAYBACK_TIME_UPDATED,_e,A),H.on(l.default.PLAYBACK_SEEKING,se,A))},initializeForStream:function ve(Ee){var q=Ee.id,K=Object(w.default)(S).create({videoModel:y,settings:g,streamInfo:Ee});K.initialize(),G[q]=K;var j=Object(I.default)(S).create({errHandler:b,adapter:O,manifestModel:v,mediaController:p,videoModel:y,textTracks:K,vttParser:ee,vttCustomRenderingParser:Q,ttmlParser:le,streamInfo:Ee,settings:g});j.initialize(),L[q]=j,E[q]={},E[q].lastEnabledIndex=-1},createTracks:function J(Ee){var q=Ee.id;!G[q]||G[q].createTracks()},getTextSourceBuffer:function ae(Ee){var q=Ee.id;if(L&&L[q])return L[q]},getAllTracksAreDisabled:function pe(){return W},addEmbeddedTrack:function he(Ee,q){var K=Ee.id;!L[K]||L[K].addEmbeddedTrack(q)},enableText:function Se(Ee,q){Object(f.checkParameterType)(q,"boolean"),ge()!==q&&(q&&X(Ee,E[Ee].lastEnabledIndex),q||(E[Ee].lastEnabledIndex=re(Ee),Y?X(Ee,-1):z=!0))},isTextEnabled:ge,setTextTrack:X,getCurrentTrackIdx:re,enableForcedTextStreaming:function ne(Ee){Object(f.checkParameterType)(Ee,"boolean"),x=Ee},addMediaInfosToBuffer:function de(Ee,q,K){var $=Ee.id;!L[$]||L[$].addMediaInfos(q,K,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function me(){te(),H.off(l.default.TEXT_TRACKS_QUEUE_INITIALIZED,fe,A),g.get().streaming.text.webvtt.customRenderingEnabled&&(H.off(l.default.PLAYBACK_TIME_UPDATED,_e,A),H.off(l.default.PLAYBACK_SEEKING,se,A)),Object.keys(L).forEach(function(Ee){L[Ee].resetEmbedded(),L[Ee].reset()})}},function ie(){x=!1,Y=!1,z=!1,ee=Object(P.default)(S).getInstance(),Q=Object(R.default)(S).getInstance(),le=Object(D.default)(S).getInstance(),H=Object(c.default)(S).getInstance(),te()}(),A}_.__dashjs_factory_name="TextController",U.default=T.default.getClassFactory(_)},"./src/streaming/text/TextSourceBuffer.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/vo/metrics/HTTPRequest.js"),I=m("./src/streaming/vo/TextTrackInfo.js"),w=m("./src/streaming/utils/BoxParser.js"),P=m("./src/streaming/utils/CustomTimeRanges.js"),R=m("./src/core/FactoryMaker.js"),D=m("./src/core/Debug.js"),c=m("./src/streaming/text/EmbeddedTextHtmlRender.js"),l=m("./node_modules/codem-isoboxer/dist/iso_boxer.js"),d=m.n(l),f=m("./externals/cea608-parser.js"),_=m.n(f),N=m("./src/core/EventBus.js"),S=m("./src/core/events/Events.js"),O=m("./src/streaming/vo/DashJSError.js"),b=m("./src/core/errors/Errors.js");function v(p){var z,ie,oe,ve,J,de,ae,pe,he,fe,_e,se,Se,ge,ne,X,y=p.errHandler,g=p.manifestModel,A=p.mediaController,E=p.videoModel,L=p.textTracks,G=p.vttParser,ee=p.vttCustomRenderingParser,Q=p.ttmlParser,le=p.streamInfo,H=p.settings,W=this.context,x=Object(N.default)(W).getInstance(),Y=!1;function k(){(function re(){de=null,pe=NaN,he=[],fe=null,ae=!1})(),J=[],ve=null}function Ee(De){var Te=new I.default;for(var Ye in De)Te[Ye]=De[Ye];Te.labels=De.labels,Te.defaultTrack=function Rt(De){var Te=!1;return se.length>1&&De.isEmbedded?Te=De.id&&De.id===M.default.CC1:1===se.length?De.id&&"string"==typeof De.id&&"CC"===De.id.substring(0,2)&&(Te=!0):0===se.length&&(Te=De.index===J[0].index),Te}(De),Te.isFragmented=De.isFragmented,Te.isEmbedded=!!De.isEmbedded,Te.isTTML=function Pe(De){return De.codec&&De.codec.search(M.default.STPP)>=0||De.mimeType&&De.mimeType.search(M.default.TTML)>=0}(De),Te.kind=function we(De,Te){var Ne=De.roles&&De.roles.length>0?Te[De.roles[0]]:Te.caption;return Ne===Te.caption||Ne===Te.subtitle?Ne:Te.caption}(De,{subtitle:"subtitles",caption:"captions"}),L.addTextTrack(Te)}function j(De){var Te=De.chunk;Te.mediaInfo.embeddedCaptions&&Ue(Te.bytes,Te)}function Re(De){_e=De}function Ue(De,Te){var Ne=Te.mediaInfo,Ye=Ne.type,tt=Ne.codec||Ne.mimeType;tt?-1!==Ne.codec.indexOf("application/mp4")?function Ce(De,Te,Ne){var Ye;if("InitializationSegment"===Te.segmentType)ae=!0,pe=oe.getMediaTimescaleFromMoov(De);else{if(!ae)return;(Ye=oe.getSamplesInfo(De).sampleList).length>0&&(fe=Ye[0].cts-Te.start*pe),Ne.search(M.default.STPP)>=0?function Oe(De,Te,Ne){var Ye,st;for(ve=null!==ve?ve:Ht(Ne),Ye=0;Ye<Te.length;Ye++){var tt=Te[Ye],ut=tt.cts,yt=ht(),gt=yt+ut/pe;z.buffered.add(gt,gt+tt.duration/pe);var Ze=new DataView(De,tt.offset,tt.subSizes[0]),rt=d.a.Utils.dataViewToString(Ze,M.default.UTF8),mt=[],Dt=tt.offset+tt.subSizes[0];for(st=1;st<tt.subSizes.length;st++){var Ot=new Uint8Array(De,Dt,tt.subSizes[st]),kt=String.fromCharCode.apply(null,Ot);mt.push(kt),Dt+=tt.subSizes[st]}try{var mn=g.getValue(),Fn=ve.parse(rt,mn.ttmlTimeIsRelative?ut/pe:0,ut/pe,(ut+tt.duration)/pe,mt);L.addCaptions(_e,yt,Fn)}catch(nr){de.removeExecutedRequestsBeforeTime(),this.remove(),ie.error("TTML parser error: "+nr.message)}}}(De,Ye,Ne):function Ge(De,Te){var Ne,Ye,st,tt=[];for(Ne=0;Ne<Te.length;Ne++){var ut=Te[Ne];ut.cts-=fe;var gt=ht()+ut.cts/pe;z.buffered.add(gt,gt+ut.duration/pe);var Ze=De.slice(ut.offset,ut.offset+ut.size),rt=d.a.parseBuffer(Ze);for(Ye=0;Ye<rt.boxes.length;Ye++){var mt=rt.boxes[Ye];if(ie.debug("VTT box1: "+mt.type),"vtte"!==mt.type&&"vttc"===mt.type)for(ie.debug("VTT vttc boxes.length = "+mt.boxes.length),st=0;st<mt.boxes.length;st++){var Dt=mt.boxes[st];if(ie.debug("VTT box2: "+Dt.type),"payl"===Dt.type){var Ot=Dt.cue_text;ie.debug("VTT cue_text = "+Ot);var kt=ut.cts/pe,mn=(ut.cts+ut.duration)/pe;tt.push({start:kt,end:mn,data:Ot,styles:{}}),ie.debug("VTT "+kt+"-"+mn+" : "+Ot)}}}}tt.length>0&&L.addCaptions(_e,0,tt)}(De,Ye)}}(De,Te,tt):Ye===M.default.VIDEO?function $e(De,Te){var Ne,Ye;if(Te.segmentType===T.HTTPRequest.INIT_SEGMENT_TYPE)0===Se&&(Se=oe.getMediaTimescaleFromMoov(De));else if(Te.segmentType===T.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===Se)return void ie.warn("CEA-608: No timescale for embeddedTextTrack yet");var st=(Ye=oe.getSamplesInfo(De)).lastSequenceNumber;if(!ne[0]&&!ne[1]&&function Je(){for(var De,Te=0;Te<se.length;Te++){if(-1===(De=L.getTrackIdxForId(se[Te].id)))return void ie.warn("CEA-608: data before track is ready.");var Ne=nt(De);ne[Te]=new _.a.Cea608Parser(Te+1,{newCue:Ne},null)}}(),Se){if(null!==ge&&st!==ge+Ye.numSequences)for(Ne=0;Ne<ne.length;Ne++)ne[Ne]&&ne[Ne].reset();for(var tt=function at(De,Te){if(0===Te.length)return null;for(var Ne={splits:[],fields:[[],[]]},Ye=new DataView(De),st=0;st<Te.length;st++)for(var tt=Te[st],ut=_.a.findCea608Nalus(Ye,tt.offset,tt.size),yt=null,gt=0,Be=0;Be<ut.length;Be++)for(var Ze=_.a.extractCea608DataFromRange(Ye,ut[Be]),rt=0;rt<2;rt++)if(Ze[rt].length>0){tt.cts!==yt?gt=0:gt+=1;var mt=ht();Ne.fields[rt].push([tt.cts+mt*Se,Ze[rt],gt]),yt=tt.cts}return Ne.fields.forEach(function(Ot){Ot.sort(function(kt,mn){return kt[0]===mn[0]?kt[2]-mn[2]:kt[0]-mn[0]})}),Ne}(De,Ye.sampleList),ut=0;ut<ne.length;ut++){var yt=tt.fields[ut],gt=ne[ut];if(gt)for(Ne=0;Ne<yt.length;Ne++)gt.addData(yt[Ne][0]/Se,yt[Ne][1])}ge=st}}}(De,Te):function Le(De,Te,Ne){var Ye,st,tt=new DataView(De,0,De.byteLength);st=d.a.Utils.dataViewToString(tt,M.default.UTF8);try{Ye=Ht(Ne).parse(st,0),L.addCaptions(L.getCurrentTrackIdx(),0,Ye),z.buffered&&z.buffered.add(Te.start,Te.end)}catch(ut){y.error(new O.default(b.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,b.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+ut.message,st))}}(De,Te,tt):ie.error("No text type defined")}function nt(De){return function Te(Ne,Ye,st){var tt;(tt=E.getTTMLRenderingDiv()?X.createHTMLCaptionsFromScreen(E.getElement(),Ne,Ye,st):[{start:Ne,end:Ye,data:st.getDisplayText(),styles:{}}])&&L.addCaptions(De,0,tt)}}function ht(){return isNaN(z.timestampOffset)?0:z.timestampOffset}function Ht(De){var Te;return De.search(M.default.VTT)>=0?Te=H.get().streaming.text.webvtt.customRenderingEnabled&&ee?ee:G:(De.search(M.default.TTML)>=0||De.search(M.default.STPP)>=0)&&(Te=Q),Te}function $t(De){se.forEach(function(Te){var Ne=L.getTrackIdxForId(Te.id);Ne>=0&&L.deleteCuesFromTrackIdx(Ne,De.from,De.to)})}return z={initialize:function te(){Y||function $(){se=[],_e=null,Se=0,ne=[],ge=null,Y=!0,X=Object(c.default)(W).getInstance(),x.on(S.default.VIDEO_CHUNK_RECEIVED,j,z),x.on(S.default.BUFFER_CLEARED,$t,z)}()},addMediaInfos:function me(De,Te,Ne){if(J=J.concat(Te),De===M.default.TEXT&&Te[0].isFragmented&&!Te[0].isEmbedded){de=Ne,z.buffered=Object(P.default)(W).create(),he=A.getTracksFor(M.default.TEXT,le.id).filter(function(ut){return ut.isFragmented});for(var Ye=A.getCurrentTrackFor(M.default.TEXT,le.id),st=0;st<he.length;st++)if(he[st]===Ye){Re(st);break}}for(var tt=0;tt<Te.length;tt++)Ee(Te[tt])},resetMediaInfos:function Jt(){J=[]},getStreamId:function V(){return le.id},append:Ue,abort:function q(){},addEmbeddedTrack:function ue(De){if(Y&&De)if(De.id===M.default.CC1||De.id===M.default.CC3){for(var Te=0;Te<se.length;Te++)if(se[Te].id===De.id)return;se.push(De)}else ie.warn("Embedded track "+De.id+" not supported!")},resetEmbedded:function ce(){x.off(S.default.VIDEO_CHUNK_RECEIVED,j,z),x.off(S.default.BUFFER_CLEARED,$t,z),L&&L.deleteAllTextTracks(),Y=!1,se=[],ne=[null,null],ge=null},getConfig:function be(){return{fragmentModel:de,fragmentedTracks:he,videoModel:E}},setCurrentFragmentedTrackIdx:Re,remove:function Bt(De,Te){void 0===De&&De===Te&&(De=z.buffered.start(0),Te=z.buffered.end(z.buffered.length-1)),z.buffered.remove(De,Te),L.deleteCuesFromTrackIdx(_e,De,Te)},reset:function K(){k(),J=[],oe=null}},function F(){ie=Object(D.default)(W).getInstance().getLogger(z),oe=Object(w.default)(W).getInstance(),k()}(),z}v.__dashjs_factory_name="TextSourceBuffer",U.default=R.default.getClassFactory(v)},"./src/streaming/text/TextTracks.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),w=m("./src/streaming/MediaPlayerEvents.js"),P=m("./src/core/FactoryMaker.js"),R=m("./src/core/Debug.js"),D=m("./node_modules/imsc/src/main/js/main.js");function l(N,S){var O=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!O){if(Array.isArray(N)||(O=function d(N,S){if(N){if("string"==typeof N)return f(N,S);var O=Object.prototype.toString.call(N).slice(8,-1);if("Object"===O&&N.constructor&&(O=N.constructor.name),"Map"===O||"Set"===O)return Array.from(N);if("Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return f(N,S)}}(N))||S&&N&&"number"==typeof N.length){O&&(N=O);var b=0,v=function(){};return{s:v,n:function(){return b>=N.length?{done:!0}:{done:!1,value:N[b++]}},e:function(E){throw E},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,p=!0,y=!1;return{s:function(){O=O.call(N)},n:function(){var E=O.next();return p=E.done,E},e:function(E){y=!0,g=E},f:function(){try{!p&&null!=O.return&&O.return()}finally{if(y)throw g}}}}function f(N,S){(null==S||S>N.length)&&(S=N.length);for(var O=0,b=new Array(S);O<S;O++)b[O]=N[O];return b}function _(N){var y,g,A,E,L,G,ee,Q,le,H,W,x,Y,z,ie,oe,ve,J,S=this.context,O=Object(T.default)(S).getInstance(),b=N.videoModel,v=N.streamInfo,p=N.settings;function he(Le){return b.addTextTrack(Le.kind,void 0!==Le.id?Le.id:Le.lang,Le.lang,Le.isTTML,Le.isEmbedded)}function se(Le,$e,Je,nt,at,ht){var Bt=0,$t=0;Le/$e>Je/nt?Bt=($t=$e)/nt*Je:$t=(Bt=Le)/Je*nt;var Jt,De,Te=0,Ne=0;return Bt/$t>at?(Ne=$t,Te=$t*at):(Te=Bt,Ne=Bt/at),Jt=(Le-Te)/2,De=($e-Ne)/2,ht?{x:Jt+.1*Te,y:De+.1*Ne,w:.8*Te,h:.8*Ne}:{x:Jt,y:De,w:Te,h:Ne}}function Se(Le,$e){var Je=b.getClientWidth(),nt=b.getClientHeight(),at=b.getVideoWidth(),ht=b.getVideoHeight(),Rt=b.getVideoRelativeOffsetTop(),Ht=b.getVideoRelativeOffsetLeft();if(0!==at&&0!==ht){var Bt=at/ht,$t=!1;Le.isFromCEA608&&(Bt=3.5/3,$t=!0);var Jt=se.call(this,Je,nt,at,ht,Bt,$t),De=Jt.w,Te=Jt.h,Ne=Jt.x,Ye=Jt.y;if(De!=le||Te!=H||Ne!=ee||Ye!=Q||$e){if(ee=Ne+Ht,Q=Ye+Rt,le=De,H=Te,W){var st=W.style;st&&(st.left=ee+"px",st.top=Q+"px",st.width=le+"px",st.height=H+"px",st.zIndex=z&&document[z]||ie?ve:null,O.trigger(w.default.CAPTION_CONTAINER_RESIZE))}var tt=Le.activeCues;if(tt)for(var ut=tt.length,yt=0;yt<ut;++yt){var gt=tt[yt];gt.scaleCue(gt)}}}}function ge(Le){var nt,at,ht,Rt,Ht;if(Le.cellResolution){var Bt=[le/Le.cellResolution[0],H/Le.cellResolution[1]];if(Le.linePadding)for(nt in Le.linePadding)if(Le.linePadding.hasOwnProperty(nt)){at=(Le.linePadding[nt]*Bt[0]).toString();for(var Jt=document.getElementsByClassName("spanPadding"),De=0;De<Jt.length;De++)Jt[De].style.cssText=Jt[De].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+at),Jt[De].style.cssText=Jt[De].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+at)}if(Le.fontSize){for(nt in Le.fontSize)if(Le.fontSize.hasOwnProperty(nt)){"%"===Le.fontSize[nt][0]?ht=Le.fontSize[nt][1]/100:"c"===Le.fontSize[nt][0]&&(ht=Le.fontSize[nt][1]),at=(ht*Bt[1]).toString(),Ht="defaultFontSize"!==nt?document.getElementsByClassName(nt):document.getElementsByClassName("paragraph");for(var Te=0;Te<Ht.length;Te++)Ht[Te].style.cssText=Ht[Te].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+at)}if(Le.lineHeight)for(nt in Le.lineHeight)if(Le.lineHeight.hasOwnProperty(nt)){"%"===Le.lineHeight[nt][0]?Rt=Le.lineHeight[nt][1]/100:"c"===Le.fontSize[nt][0]&&(Rt=Le.lineHeight[nt][1]),at=(Rt*Bt[1]).toString(),Ht=document.getElementsByClassName(nt);for(var Ne=0;Ne<Ht.length;Ne++)Ht[Ne].style.cssText=Ht[Ne].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+at)}}}if(Le.isd){var Ye=document.getElementById(Le.cueID);Ye&&W.removeChild(Ye),ne(Le)}}function ne(Le){if(W){var $e=document.createElement("div");W.appendChild($e),oe=Object(D.renderHTML)(Le.isd,$e,function(Je){var nt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,at=/^#(.*)$/;if(nt.test(Je)){var ht=nt.exec(Je),Rt=parseInt(ht[4],10)-1;return"data:image/png;base64,"+btoa(Le.images[Rt])}if(at.test(Je)){var $t=at.exec(Je);return"data:image/png;base64,"+Le.embeddedImages[$t[1]]}return null},W.clientHeight,W.clientWidth,!1,function(Je){g.info("renderCaption :",Je)},oe,!0),$e.id=Le.cueID,O.trigger(w.default.CAPTION_RENDERED,{captionDiv:$e,currentTrackIdx:G})}}function X(Le,$e,Je){var nt=me(Le);if(nt&&Array.isArray(Je)&&0!==Je.length)for(var at=0;at<Je.length;at++){var ht=void 0,Rt=Je[at];nt.cellResolution=Rt.cellResolution,nt.isFromCEA608=Rt.isFromCEA608,!isNaN(Rt.start)&&!isNaN(Rt.end)&&(ht="html"===Rt.type&&W?F(Rt,$e,nt):Rt.data?V(Rt,$e,nt):null);try{ht?$(nt,ht)||(p.get().streaming.text.webvtt.customRenderingEnabled?(nt.manualCueList||(nt.manualCueList=[]),nt.manualCueList.push(ht)):nt.addCue(ht)):g.error("impossible to display subtitles.")}catch(Ht){throw ue(nt),nt.addCue(ht),Ht}}}function F(Le,$e,Je){var nt=this,at=new A(Le.start+$e,Le.end+$e,"");return at.cueHTMLElement=Le.cueHTMLElement,at.isd=Le.isd,at.images=Le.images,at.embeddedImages=Le.embeddedImages,at.cueID=Le.cueID,at.scaleCue=ge.bind(nt),at.cellResolution=Le.cellResolution,at.lineHeight=Le.lineHeight,at.linePadding=Le.linePadding,at.fontSize=Le.fontSize,W.style.left=ee+"px",W.style.top=Q+"px",W.style.width=le+"px",W.style.height=H+"px",at.onenter=function(){Je.mode===M.default.TEXT_SHOWING&&(this.isd?(ne(this),g.debug("Cue enter id:"+this.cueID)):(W.appendChild(this.cueHTMLElement),ge.call(nt,this),O.trigger(w.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:G})))},at.onexit=function(){if(W)for(var ht=W.childNodes,Rt=0;Rt<ht.length;++Rt)ht[Rt].id===this.cueID&&(g.debug("Cue exit id:"+ht[Rt].id),W.removeChild(ht[Rt]),--Rt)},at}function V(Le,$e,Je){var nt=new A(Le.start-$e,Le.end-$e,Le.data);if(nt.cueID="".concat(nt.startTime,"_").concat(nt.endTime),nt.isActive=!1,Le.styles)try{void 0!==Le.styles.align&&"align"in nt&&(nt.align=Le.styles.align),void 0!==Le.styles.line&&"line"in nt&&(nt.line=Le.styles.line),void 0!==Le.styles.position&&"position"in nt&&(nt.position=Le.styles.position),void 0!==Le.styles.size&&"size"in nt&&(nt.size=Le.styles.size)}catch(at){g.error(at)}return nt.onenter=function(){Je.mode===M.default.TEXT_SHOWING&&O.trigger(w.default.CAPTION_RENDERED,{currentTrackIdx:G})},nt}function te(){var nt,$e=[],Je=l(b.getTextTracks());try{for(Je.s();!(nt=Je.n()).done;){var at=nt.value;at.manualMode===M.default.TEXT_SHOWING&&$e.push(at)}}catch(ht){Je.e(ht)}finally{Je.f()}return $e}function me(Le){return Le>=0&&E[Le]?b.getTextTrack(E[Le].kind,E[Le].id,E[Le].lang,E[Le].isTTML,E[Le].isEmbedded):null}function K(Le){var $e=this;if(Le!==G){var Je=me(G=Le);j.call(this,Je),Y&&(clearInterval(Y),Y=null),Je&&"html"===Je.renderingType&&(Se.call(this,Je,!0),window.ResizeObserver?(J=new window.ResizeObserver(function(){Se.call($e,Je,!0)})).observe(b.getElement()):Y=setInterval(Se.bind(this,Je),500))}}function j(Le){Ce.call(this),Le&&"html"===Le.renderingType?we.call(this):Ue.call(this)}function $(Le,$e){if(!Le.cues)return!1;for(var Je=0;Je<Le.cues.length;Je++)if(Le.cues[Je].startTime===$e.startTime&&Le.cues[Je].endTime===$e.endTime)return!0;return!1}function ce(Le,$e,Je){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN($e)||(nt?Le.startTime:Le.endTime)>=$e)&&(isNaN(Je)||(nt?Le.endTime:Le.startTime)<=Je)}function ue(Le,$e,Je){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Le.cues)for(var at=Le.cues,Rt=at.length-1;Rt>=0;Rt--)ce(at[Rt],$e,Je,nt)&&(at[Rt].onexit&&at[Rt].onexit(),Le.removeCue(at[Rt]))}function we(){var Le=document.getElementById("native-cue-style");if(!Le){(Le=document.createElement("style")).id="native-cue-style",document.head.appendChild(Le);var $e=Le.sheet,Je=b.getElement();try{Je&&$e.insertRule(Je.id?"#"+Je.id+"::cue {background: transparent}":0!==Je.classList.length?"."+Je.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(nt){g.info(""+nt.message)}}}function Ue(){var Le=document.getElementById("native-cue-style");Le&&document.head.removeChild(Le)}function Ce(){if(W)for(;W.firstChild;)W.removeChild(W.firstChild)}return y={initialize:function ae(){typeof window>"u"||typeof navigator>"u"||(A=window.VTTCue||window.TextTrackCue,E=[],L=[],G=-1,ee=0,Q=0,le=0,H=0,W=null,x=null,Y=null,ie=!1,ve=2147483647,oe=null,void 0!==document.fullscreenElement?z="fullscreenElement":void 0!==document.webkitIsFullScreen?z="webkitIsFullScreen":document.msFullscreenElement?z="msFullscreenElement":document.mozFullScreen&&(z="mozFullScreen"))},getStreamId:function pe(){return v.id},addTextTrack:function fe(Le){E.push(Le)},addCaptions:X,createTracks:function _e(){E.sort(function(Ht,Bt){return Ht.index-Bt.index}),W=b.getTTMLRenderingDiv(),x=b.getVttRenderingDiv();for(var Le=-1,$e=0;$e<E.length;$e++){var Je=he(E[$e]);L.push(Je),E[$e].defaultTrack&&(Je.default=!0,Le=$e);var nt=me($e);nt&&(nt.mode=M.default.TEXT_SHOWING,nt.renderingType=W&&(E[$e].isTTML||E[$e].isEmbedded)?"html":"default"),X($e,0,E[$e].captionData),O.trigger(w.default.TEXT_TRACK_ADDED)}if(K.call(this,Le),Le>=0){O.on(w.default.PLAYBACK_METADATA_LOADED,function Ht(){var Bt=me(Le);Bt&&"html"===Bt.renderingType&&Se.call(this,Bt,!0),O.off(w.default.PLAYBACK_METADATA_LOADED,Ht,this)},this);for(var ht=0;ht<E.length;ht++){var Rt=me(ht);Rt&&(Rt.mode=ht===Le?M.default.TEXT_SHOWING:M.default.TEXT_HIDDEN,Rt.manualMode=ht===Le?M.default.TEXT_SHOWING:M.default.TEXT_HIDDEN)}}O.trigger(I.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:G,tracks:E,streamId:v.id})},getCurrentTrackIdx:function Ee(){return G},setCurrentTrackIdx:K,getTrackIdxForId:function q(Le){for(var $e=-1,Je=0;Je<E.length;Je++)if(E[Je].id===Le){$e=Je;break}return $e},getCurrentTrackInfo:function Ge(){return E[G]},setModeForTrackIdx:function Oe(Le,$e){var Je=me(Le);Je&&Je.mode!==$e&&(Je.mode=$e),Je&&Je.manualMode!==$e&&(Je.manualMode=$e)},deleteCuesFromTrackIdx:function be(Le,$e,Je){var nt=me(Le);nt&&ue(nt,$e,Je)},deleteAllTextTracks:function Re(){for(var Le=L?L.length:0,$e=0;$e<Le;$e++){var Je=me($e);Je&&ue.call(this,Je,v.start,v.start+v.duration,!1)}L=[],E=[],Y&&(clearInterval(Y),Y=null),J&&b&&(J.unobserve(b.getElement()),J=null),G=-1,Ce.call(this)},deleteTextTrack:function Pe(Le){b.removeChild(L[Le]),L.splice(Le,1)},manualCueProcessing:function re(Le){var $e=te();if($e&&$e.length>0){var nt=$e[0].manualCueList;nt&&nt.length>0&&nt.forEach(function(at){if(at.startTime<=Le&&at.endTime>=Le&&!at.isActive)at.isActive=!0,WebVTT.processCues(window,[at],x,at.cueID);else if(at.isActive&&(at.startTime>Le||at.endTime<Le)&&(at.isActive=!1,x))for(var ht=x.childNodes,Rt=0;Rt<ht.length;++Rt)ht[Rt].id===at.cueID&&(x.removeChild(ht[Rt]),--Rt)})}},disableManualTracks:function k(){var Le=te();if(Le&&Le.length>0){var Je=Le[0].manualCueList;Je&&Je.length>0&&Je.forEach(function(nt){if(nt.isActive&&(nt.isActive=!1,x))for(var at=x.childNodes,ht=0;ht<at.length;++ht)at[ht].id===nt.cueID&&(x.removeChild(at[ht]),--ht)})}}},function de(){g=Object(R.default)(S).getInstance().getLogger(y)}(),y}_.__dashjs_factory_name="TextTracks",U.default=P.default.getClassFactory(_)},"./src/streaming/thumbnail/ThumbnailController.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/constants/Constants.js"),I=m("./src/streaming/vo/Thumbnail.js"),w=m("./src/streaming/thumbnail/ThumbnailTracks.js"),P=m("./src/streaming/vo/BitrateInfo.js"),R=m("./src/dash/utils/SegmentsUtils.js");function D(c){var f,_,l=this.context,d=c.streamInfo;function p(E){_.setTrackByIndex(E)}function A(){_&&_.reset()}return f={getStreamId:function O(){return d.id},initialize:function S(){_.addTracks();var E=_.getTracks();E&&E.length>0&&p(0)},provide:function b(E,L){if("function"==typeof L){var Q,G=_.getCurrentTrack();if(!G||G.segmentDuration<=0||null==E)return void L(null);(Q=_.getThumbnailRequestForTime(E))&&(G.segmentDuration=Q.duration);var le=Math.floor(E%G.segmentDuration*G.tilesHor*G.tilesVert/G.segmentDuration),H=new I.default;if(H.width=Math.floor(G.widthPerTile),H.height=Math.floor(G.heightPerTile),H.x=Math.floor(le%G.tilesHor)*G.widthPerTile,H.y=Math.floor(le/G.tilesHor)*G.heightPerTile,"readThumbnail"in G)return G.readThumbnail(E,function(x){H.url=x,L(H)});if(Q)H.url=Q.url,G.segmentDuration=NaN;else{var W=Math.floor(E/G.segmentDuration);H.url=function v(E,L){var G=L+E.startNumber,ee=Object(R.replaceTokenForTemplate)(E.templateUrl,"Number",G);return ee=Object(R.replaceTokenForTemplate)(ee,"Time",(G-1)*E.segmentDuration*E.timescale),ee=Object(R.replaceTokenForTemplate)(ee,"Bandwidth",E.bandwidth),Object(R.unescapeDollarsInTemplate)(ee)}(G,W)}L(H)}},setTrackByIndex:p,getCurrentTrackIndex:function y(){return _.getCurrentTrackIndex()},getBitrateList:function g(){var E=_.getTracks(),L=0;return E.map(function(G){var ee=new P.default;return ee.mediaType=T.default.IMAGE,ee.qualityIndex=L++,ee.bitrate=G.bitrate,ee.width=G.width,ee.height=G.height,ee})},reset:A},function N(){A(),_=Object(w.default)(l).create({streamInfo:d,adapter:c.adapter,baseURLController:c.baseURLController,timelineConverter:c.timelineConverter,debug:c.debug,eventBus:c.eventBus,events:c.events,dashConstants:c.dashConstants,dashMetrics:c.dashMetrics,segmentBaseController:c.segmentBaseController})}(),f}D.__dashjs_factory_name="ThumbnailController",U.default=M.default.getClassFactory(D)},"./src/streaming/thumbnail/ThumbnailTracks.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"THUMBNAILS_SCHEME_ID_URIS",function(){return f});var M=m("./src/streaming/constants/Constants.js"),T=m("./src/dash/constants/DashConstants.js"),I=m("./src/core/FactoryMaker.js"),w=m("./src/streaming/vo/ThumbnailTrackInfo.js"),P=m("./src/streaming/utils/URLUtils.js"),R=m("./src/dash/utils/SegmentsUtils.js"),D=m("./src/streaming/utils/BoxParser.js"),c=m("./src/streaming/net/XHRLoader.js"),l=m("./src/dash/DashHandler.js"),d=m("./src/dash/controllers/SegmentsController.js"),f=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function _(N){var G,ee,Q,le,H,W,x,Y,S=this.context,O=N.adapter,b=N.baseURLController,v=N.streamInfo,p=N.timelineConverter,y=N.debug,g=N.eventBus,A=N.events,E=N.dashConstants,L=Object(P.default)(S).getInstance();function oe(Se,ge){var ne=new w.default;ne.id=Se.id,ne.bitrate=Se.bandwidth,ne.width=Se.width,ne.height=Se.height,ne.tilesHor=1,ne.tilesVert=1,Se.essentialProperties&&Se.essentialProperties.forEach(function(X){if(f.indexOf(X.schemeIdUri)>=0&&X.value){var F=X.value.split("x");2===F.length&&!isNaN(F[0])&&!isNaN(F[1])&&(ne.tilesHor=parseInt(F[0],10),ne.tilesVert=parseInt(F[1],10))}}),ge?W.updateSegmentData(Se).then(function(X){!function ve(Se,ge,ne){var X=[],F=function J(Se,ge){var F,V,re,k,ne=[],X=0;for(F=0,V=Se.segments.length;F<V;F++)re=Se.segments[F],(k=Object(R.getTimeBasedSegment)(p,O.getIsDynamic(),ge,re.startTime,re.duration,re.timescale,re.media,re.mediaRange,X))&&(ne.push(k),k=null,X++);return ne}(ne,ge);ge.segments=F,Se.segmentDuration=ge.segments[0].duration,Se.readThumbnail=function(V,re){var k=null;X.some(function(te){if(te.start<=V&&te.end>V)return k=te.url,!0}),k?re(k):ge.segments.some(function(te){if(te.mediaStartTime<=V&&te.mediaStartTime+te.duration>V){var me=b.resolve(ge.path);return x.load({method:"get",url:me.url,request:{range:te.mediaRange,responseType:"arraybuffer"},onload:function(q){var K=Y.getSamplesInfo(q.target.response),j=new Blob([q.target.response.slice(K.sampleList[0].offset,K.sampleList[0].offset+K.sampleList[0].size)],{type:"image/jpeg"}),$=window.URL.createObjectURL(j);X.push({start:te.mediaStartTime,end:te.mediaStartTime+te.duration,url:$}),re&&re($)}}),!0}})}}(ne,Se,X)}):(ne.startNumber=Se.startNumber,ne.segmentDuration=Se.segmentDuration,ne.timescale=Se.timescale,ne.templateUrl=function de(Se){var ge=L.isRelative(Se.media)?L.resolve(Se.media,b.resolve(Se.path).url):Se.media;return ge?Object(R.replaceIDForTemplate)(ge,Se.id):""}(Se)),ne.tilesHor>0&&ne.tilesVert>0&&(ne.widthPerTile=ne.width/ne.tilesHor,ne.heightPerTile=ne.height/ne.tilesVert,ee.push(ne))}function se(){ee=[],le=-1,H=null}return G={getTracks:function ae(){return ee},addTracks:function ie(){if(v&&O&&(H=O.getMediaInfoForType(v,M.default.IMAGE))){var Se=O.getVoRepresentations(H);Se&&Se.length>0&&Se.forEach(function(ge){(ge.segmentInfoType===T.default.SEGMENT_TEMPLATE&&ge.segmentDuration>0&&ge.media||ge.segmentInfoType===T.default.SEGMENT_TIMELINE)&&oe(ge),ge.segmentInfoType===T.default.SEGMENT_BASE&&oe(ge,!0)}),ee.length>0&&ee.sort(function(ge,ne){return ge.bitrate-ne.bitrate})}},reset:se,setTrackByIndex:function fe(Se){!ee||0===ee.length||(Se>=ee.length&&(Se=ee.length-1),le=Se)},getCurrentTrack:function he(){return le<0?null:ee[le]},getCurrentTrackIndex:function pe(){return le},getThumbnailRequestForTime:function _e(Se){for(var ge,ne=O.getVoRepresentations(H),X=0;X<ne.length;X++)if(ee[le].id===ne[X].id){ge=ne[X];break}return Q.getSegmentRequestForTime(H,ge,Se)}},function z(){se(),x=Object(c.default)(S).create({}),Y=Object(D.default)(S).getInstance(),W=Object(d.default)(S).create({events:A,eventBus:g,streamInfo:v,timelineConverter:p,dashConstants:E,dashMetrics:N.dashMetrics,segmentBaseController:N.segmentBaseController,type:M.default.IMAGE}),(Q=Object(l.default)(S).create({streamInfo:v,type:M.default.IMAGE,timelineConverter:p,segmentsController:W,baseURLController:b,debug:y,eventBus:g,events:A,dashConstants:E,urlUtils:L})).initialize(!!O&&O.getIsDynamic())}(),G}_.__dashjs_factory_name="ThumbnailTracks",U.default=I.default.getClassFactory(_)},"./src/streaming/utils/BaseURLSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/errors/Errors.js"),T=m("./src/core/EventBus.js"),I=m("./src/core/events/Events.js"),w=m("./src/streaming/controllers/BlacklistController.js"),P=m("./src/streaming/utils/baseUrlResolution/DVBSelector.js"),R=m("./src/streaming/utils/baseUrlResolution/BasicSelector.js"),D=m("./src/core/FactoryMaker.js"),c=m("./src/streaming/vo/DashJSError.js"),l=m("./src/streaming/utils/SupervisorTools.js"),d=m("./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),f=m("./src/core/Settings.js");function _(){var b,v,p,y,g,A,N=this.context,S=Object(T.default)(N).getInstance(),O=Object(f.default)(N).getInstance();function Q(){v.reset()}return b={chooseSelector:function G(le){Object(l.checkParameterType)(le,"boolean"),A=le?y:p},select:function ee(le){if(le){if(O.get().streaming.applyContentSteering){var H=g.selectBaseUrlIndex(le);!isNaN(H)&&-1!==H&&(le.selectedIdx=H)}if(!isNaN(le.selectedIdx))return le.baseUrls[le.selectedIdx];var W=A.select(le.baseUrls);return W?(le.selectedIdx=le.baseUrls.indexOf(W),W):(S.trigger(I.default.URL_RESOLUTION_FAILED,{error:new c.default(M.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,M.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(A===p&&Q()))}},reset:Q,setConfig:function L(le){le.selector&&(A=le.selector),le.contentSteeringSelector&&(g=le.contentSteeringSelector)}},function E(){v=Object(w.default)(N).create({updateEventName:I.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:I.default.SERVICE_LOCATION_BLACKLIST_ADD}),p=Object(R.default)(N).create({blacklistController:v}),y=Object(P.default)(N).create({blacklistController:v}),(g=Object(d.default)(N).create()).setConfig({blacklistController:v}),A=p}(),b}_.__dashjs_factory_name="BaseURLSelector",U.default=D.default.getClassFactory(_)},"./src/streaming/utils/BoxParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/Debug.js"),T=m("./src/streaming/utils/IsoFile.js"),I=m("./src/core/FactoryMaker.js"),w=m("./node_modules/codem-isoboxer/dist/iso_boxer.js"),P=m.n(w),R=m("./src/streaming/vo/IsoBoxSearchInfo.js");function D(){var c,l,d=this.context;function _(g){if(!g)return null;void 0===g.fileStart&&(g.fileStart=0);var A=P.a.parseBuffer(g),E=Object(T.default)(d).create();return E.setData(A),E}function b(g,A){return g[A+3]>>>0|g[A+2]<<8>>>0|g[A+1]<<16>>>0|g[A]<<24>>>0}function v(g,A){return String.fromCharCode(g[A++])+String.fromCharCode(g[A++])+String.fromCharCode(g[A++])+String.fromCharCode(g[A])}return l={parse:_,findLastTopIsoBoxCompleted:function N(g,A,E){if(void 0===E&&(E=0),!A||E+8>=A.byteLength)return new R.default(0,!1);for(var G,L=A instanceof ArrayBuffer?new Uint8Array(A):A,ee=0;E<L.byteLength;){var Q=b(L,E),le=v(L,E+4);if(0===Q)break;E+Q<=L.byteLength&&(g.indexOf(le)>=0?G=new R.default(E,!0,Q):ee=E+Q),E+=Q}return G||new R.default(ee,!1)},getMediaTimescaleFromMoov:function O(g){var A=_(g),E=A?A.getBox("mdhd"):void 0;return E?E.timescale:NaN},getSamplesInfo:function S(g){if(!g||0===g.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var G,Q,le,H,W,x,Y,z,ie,oe,ve,J,de,ae,pe,he,A=_(g),E=A.getBoxes("moof"),L=A.getBoxes("mfhd");pe=A.getBoxes("moof").length,ae=L[L.length-1].sequence_number,Q=0,W=[];var fe=-1,_e=-1;for(oe=0;oe<E.length;oe++){var se=E[oe],Se=se.getChildBoxes("traf");for(z=0;z<Se.length;z++){var ge=Se[z],ne=ge.getChildBox("tfhd"),X=ge.getChildBox("tfdt");H=X.baseMediaDecodeTime;var F=ge.getChildBoxes("trun"),V=ge.getChildBoxes("subs");for(ie=0;ie<F.length;ie++){var re=F[ie];for(Q=re.sample_count,de=(ne.base_data_offset||0)+(re.data_offset||0),Y=0;Y<Q;Y++){var k={dts:H,cts:H+(void 0!==(x=re.samples[Y]).sample_composition_time_offset?x.sample_composition_time_offset:0),duration:G=void 0!==x.sample_duration?x.sample_duration:ne.default_sample_duration,offset:se.offset+de,size:le=void 0!==x.sample_size?x.sample_size:ne.default_sample_size,subSizes:[le]};if(V)for(ve=0;ve<V.length;ve++){var te=V[ve];if(fe<te.entry_count-1&&Y>_e&&(fe++,_e+=te.entries[fe].sample_delta),Y==_e){k.subSizes=[];var me=te.entries[fe];for(J=0;J<me.subsample_count;J++)k.subSizes.push(me.subsamples[J].subsample_size)}}W.push(k),de+=le,H+=G}}he=H-X.baseMediaDecodeTime}}return{sampleList:W,lastSequenceNumber:ae,totalDuration:he,numSequences:pe}},findInitRange:function p(g){var A=null,G=_(g);if(!G)return A;var ee=G.getBox("ftyp"),Q=G.getBox("moov");return c.debug("Searching for initialization."),Q&&Q.isComplete&&c.debug("Found the initialization.  Range: "+(A=(ee?ee.offset:Q.offset)+"-"+(Q.offset+Q.size-1))),A},parsePayload:function y(g,A,E){if(void 0===E&&(E=0),!A||E+8>=A.byteLength)return new R.default(0,!1);for(var G,L=A instanceof ArrayBuffer?new Uint8Array(A):A,ee=0;E<L.byteLength;){var Q=b(L,E),le=v(L,E+4);if(0===Q)break;E+Q<=L.byteLength&&(g.indexOf(le)>=0?G=new R.default(E,!0,Q,le):ee=E+Q),E+=Q}return G||new R.default(ee,!1)}},function f(){c=Object(M.default)(d).getInstance().getLogger(l)}(),l}D.__dashjs_factory_name="BoxParser",U.default=I.default.getSingletonFactory(D)},"./src/streaming/utils/Capabilities.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"supportsMediaSource",function(){return P});var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/thumbnail/ThumbnailTracks.js"),I=m("./src/streaming/constants/Constants.js"),w=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function P(){var D="WebKitMediaSource"in window,c="MediaSource"in window;return D||c}function R(){var D,c,l;return D={setConfig:function f(g){!g||g.settings&&(c=g.settings)},supportsMediaSource:P,supportsEncryptedMedia:function _(){return l},supportsCodec:function S(g,A){return A!==I.default.AUDIO&&A!==I.default.VIDEO?Promise.resolve(!0):function O(g,A){return c.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(g.codec&&A===I.default.AUDIO||A===I.default.VIDEO&&g.codec&&g.width&&g.height&&g.bitrate&&g.framerate)}(g,A)?function v(g,A){return new Promise(function(E){if(g&&g.codec){var L={type:"media-source"};L[A]={},L[A].contentType=g.codec,L[A].width=g.width,L[A].height=g.height,L[A].bitrate=parseInt(g.bitrate),L[A].framerate=parseFloat(g.framerate),navigator.mediaCapabilities.decodingInfo(L).then(function(G){E(G.supported)}).catch(function(){E(!1)})}else E(!1)})}(g,A):function b(g){return new Promise(function(A){if(g&&g.codec){var E=g.codec;g.width&&g.height&&(E+=';width="'+g.width+'";height="'+g.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(E)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(E)?A(!0):A(!1)}else A(!1)})}(g)},setEncryptedMediaSupported:function N(g){l=g},supportsEssentialProperty:function p(g){try{return-1!==T.THUMBNAILS_SCHEME_ID_URIS.indexOf(g.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function y(g,A){for(var G,E=g.split(".")[0],L=0===A.indexOf(E),ee=0;ee<w.length;ee++)if(w[ee].codec===E){G=w[ee];break}return G?L||G.compatibleCodecs.some(function(Q){return 0===A.indexOf(Q)}):L}},function d(){l=!1}(),D}R.__dashjs_factory_name="Capabilities",U.default=M.default.getSingletonFactory(R)},"./src/streaming/utils/CapabilitiesFilter.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/constants/Constants.js"),w=m("./src/core/EventBus.js"),P=m("./src/core/events/Events.js");function R(){var l,d,f,_,N,S,D=this.context,c=Object(w.default)(D).getInstance();function p(Q,le){if(!le||!le.Period_asArray||0===le.Period_asArray.length)return Promise.resolve();var H=[];return le.Period_asArray.forEach(function(W){H.push(function y(Q,le){return new Promise(function(H){if(Q&&Q.AdaptationSet_asArray&&0!==Q.AdaptationSet_asArray.length){var W=[];Q.AdaptationSet_asArray.forEach(function(x){d.getIsTypeOf(x,le)&&W.push(function g(Q,le){return new Promise(function(H){if(Q.Representation_asArray&&0!==Q.Representation_asArray.length){var W=[],x=[];Q.Representation_asArray.forEach(function(Y,z){var ie=d.getCodec(Q,z,!1),oe=function A(Q,le,H){switch(Q){case I.default.VIDEO:return function E(Q,le){return{codec:le,width:Q.width||null,height:Q.height||null,framerate:Q.frameRate||null,bitrate:Q.bandwidth||null}}(le,H);case I.default.AUDIO:return function L(Q,le){return{codec:le,bitrate:Q.bandwidth||null,samplerate:Q.audioSamplingRate||null}}(le,H);default:return null}}(le,Y,ie);x.push(oe),W.push(f.supportsCodec(oe,le))}),Promise.all(W).then(function(Y){Q.Representation_asArray=Q.Representation_asArray.filter(function(z,ie){return Y[ie]||S.debug("[Stream] Codec ".concat(x[ie].codec," not supported ")),Y[ie]}),H()}).catch(function(){H()})}else H()})}(x,le))}),Promise.all(W).then(function(){Q.AdaptationSet_asArray=Q.AdaptationSet_asArray.filter(function(x){var Y=x.Representation_asArray&&x.Representation_asArray.length>0;return Y||(c.trigger(P.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:x}),S.warn("AdaptationSet has been removed because of no supported Representation")),Y}),H()}).catch(function(){H()})}else H()})}(W,Q))}),Promise.all(H)}return l={setConfig:function b(Q){!Q||(Q.adapter&&(d=Q.adapter),Q.capabilities&&(f=Q.capabilities),Q.settings&&(_=Q.settings),Q.customParametersModel&&(N=Q.customParametersModel))},filterUnsupportedFeatures:function v(Q){return new Promise(function(le){var H=[];H.push(p(I.default.VIDEO,Q)),H.push(p(I.default.AUDIO,Q)),Promise.all(H).then(function(){_.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function G(Q){!Q||!Q.Period_asArray||0===Q.Period_asArray.length||Q.Period_asArray.forEach(function(le){le.AdaptationSet_asArray=le.AdaptationSet_asArray.filter(function(H){return!H.Representation_asArray||0===H.Representation_asArray.length||(H.Representation_asArray=H.Representation_asArray.filter(function(W){var x=d.getEssentialPropertiesForRepresentation(W);if(x&&x.length>0)for(var Y=0;Y<x.length;){if(!f.supportsEssentialProperty(x[Y]))return S.debug("[Stream] EssentialProperty not supported: "+x[Y].schemeIdUri),!1;Y+=1}return!0}),H.Representation_asArray&&H.Representation_asArray.length>0)})})}(Q),function ee(Q){var le=N.getCustomCapabilitiesFilters();!le||0===le.length||!Q||!Q.Period_asArray||0===Q.Period_asArray.length||Q.Period_asArray.forEach(function(H){H.AdaptationSet_asArray=H.AdaptationSet_asArray.filter(function(W){return!W.Representation_asArray||0===W.Representation_asArray.length||(W.Representation_asArray=W.Representation_asArray.filter(function(x){return!le.some(function(Y){return!Y(x)})}),W.Representation_asArray&&W.Representation_asArray.length>0)})})}(Q),le()}).catch(function(){le()})})}},function O(){S=Object(T.default)(D).getInstance().getLogger(l)}(),l}R.__dashjs_factory_name="CapabilitiesFilter",U.default=M.default.getSingletonFactory(R)},"./src/streaming/utils/CustomTimeRanges.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/utils/SupervisorTools.js");function I(){return{customTimeRangeArray:[],length:0,add:function R(_,N){var S=0;for(S=0;S<this.customTimeRangeArray.length&&_>this.customTimeRangeArray[S].start;S++);for(this.customTimeRangeArray.splice(S,0,{start:_,end:N}),S=0;S<this.customTimeRangeArray.length-1;S++)this.mergeRanges(S,S+1)&&S--;this.length=this.customTimeRangeArray.length},clear:function D(){this.customTimeRangeArray=[],this.length=0},remove:function c(_,N){for(var S=0;S<this.customTimeRangeArray.length;S++)if(_<=this.customTimeRangeArray[S].start&&N>=this.customTimeRangeArray[S].end)this.customTimeRangeArray.splice(S,1),S--;else{if(_>this.customTimeRangeArray[S].start&&N<this.customTimeRangeArray[S].end){this.customTimeRangeArray.splice(S+1,0,{start:N,end:this.customTimeRangeArray[S].end}),this.customTimeRangeArray[S].end=_;break}_>this.customTimeRangeArray[S].start&&_<this.customTimeRangeArray[S].end?this.customTimeRangeArray[S].end=_:N>this.customTimeRangeArray[S].start&&N<this.customTimeRangeArray[S].end&&(this.customTimeRangeArray[S].start=N)}this.length=this.customTimeRangeArray.length},mergeRanges:function l(_,N){var S=this.customTimeRangeArray[_],O=this.customTimeRangeArray[N];return S.start<=O.start&&O.start<=S.end&&S.end<=O.end?(S.end=O.end,this.customTimeRangeArray.splice(N,1),!0):O.start<=S.start&&S.start<=O.end&&O.end<=S.end?(S.start=O.start,this.customTimeRangeArray.splice(N,1),!0):O.start<=S.start&&S.start<=O.end&&S.end<=O.end?(this.customTimeRangeArray.splice(_,1),!0):S.start<=O.start&&O.start<=S.end&&O.end<=S.end&&(this.customTimeRangeArray.splice(N,1),!0)},start:function d(_){return Object(T.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].start},end:function f(_){return Object(T.checkInteger)(_),_>=this.customTimeRangeArray.length||_<0?NaN:this.customTimeRangeArray[_].end}}}I.__dashjs_factory_name="CustomTimeRanges",U.default=M.default.getClassFactory(I)},"./src/streaming/utils/DOMStorage.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/streaming/constants/Constants.js"),w=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],P="dashjs_?_bitrate",R="dashjs_?_settings",D="localStorage",l="lastBitrate",d="lastMediaSettings";function f(N){var b,v,p,S=this.context,O=(N=N||{}).settings;function g(W){if(void 0!==p)return p;p=!1;var z;try{typeof window<"u"&&(z=window[W])}catch(ie){return v.warn("DOMStorage access denied: "+ie.message),p}if(!z||W!==D&&"sessionStorage"!==W)return p;try{z.setItem("1","1"),z.removeItem("1"),p=!0}catch(ie){v.warn("DOMStorage is supported, but cannot be used: "+ie.message)}return p}function E(){var W=6e5;return Math.round((new Date).getTime()/W)*W}function L(W,x){return g(W)&&O.get().streaming[x+"CachingInfo"].enabled}function G(){if(!O)throw new Error(I.default.MISSING_CONFIG_ERROR)}return b={getSavedBitrateSettings:function Q(W){if(G(),!O.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var x=NaN;if(L(D,l)){var Y=P.replace(/\?/,W);try{var z=JSON.parse(localStorage.getItem(Y))||{},ie=(new Date).getTime()-parseInt(z.timestamp,10)>=O.get().streaming.lastBitrateCachingInfo.ttl||!1,oe=parseFloat(z.bitrate);isNaN(oe)||ie?ie&&localStorage.removeItem(Y):(x=oe,v.debug("Last saved bitrate for "+W+" was "+oe))}catch{return null}}return x},setSavedBitrateSettings:function H(W,x){if(L(D,l)&&x){var Y=P.replace(/\?/,W);try{localStorage.setItem(Y,JSON.stringify({bitrate:x.toFixed(3),timestamp:E()}))}catch(z){v.error(z.message)}}},getSavedMediaSettings:function ee(W){if(G(),!O.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var x=null;if(L(D,d)){var Y=R.replace(/\?/,W);try{var z=JSON.parse(localStorage.getItem(Y))||{},ie=(new Date).getTime()-parseInt(z.timestamp,10)>=O.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;x=z.settings,ie&&(localStorage.removeItem(Y),x=null)}catch{return null}}return x},setSavedMediaSettings:function le(W,x){if(L(D,d)){var Y=R.replace(/\?/,W);try{localStorage.setItem(Y,JSON.stringify({settings:x,timestamp:E()}))}catch(z){v.error(z.message)}}}},function y(){v=Object(T.default)(S).getInstance().getLogger(b),function A(){g(D)&&w.forEach(function(W){var x=localStorage.getItem(W.oldKey);if(x){localStorage.removeItem(W.oldKey);try{localStorage.setItem(W.newKey,x)}catch(Y){v.error(Y.message)}}})}()}(),b}f.__dashjs_factory_name="DOMStorage";var _=M.default.getSingletonFactory(f);U.default=_},"./src/streaming/utils/DefaultURLUtils.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var I,w=/^[a-z][a-z0-9+\-_.]*:/i,P=/^https?:\/\//i,R=/^https:\/\//i,D=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,c=function(L,G){try{return new window.URL(L,G).toString()}catch{return L}},l=function(L,G){var ee=f;if(!G||!O(L))return L;b(L)&&(ee=_),v(L)&&(ee=S);var Q=ee(G),le="/"!==Q.charAt(Q.length-1)&&"/"!==L.charAt(0)?"/":"";return[Q,L].join(le)};function f(E){var L=E.indexOf("/"),G=E.lastIndexOf("/");return-1!==L?G===L+1?E:(-1!==E.indexOf("?")&&(E=E.substring(0,E.indexOf("?"))),E.substring(0,G+1)):""}function _(E){var L=E.match(D);return L?L[1]:""}function S(E){var L=E.match(w);return L?L[0]:""}function O(E){return!w.test(E)}function b(E){return O(E)&&"/"===E.charAt(0)}function v(E){return 0===E.indexOf("//")}return function d(){try{new window.URL("x","http://y"),I=c}catch{}finally{I=I||l}}(),{parseBaseUrl:f,parseOrigin:_,parseScheme:S,isRelative:O,isPathAbsolute:b,isSchemeRelative:v,isHTTPURL:function p(E){return P.test(E)},isHTTPS:function y(E){return R.test(E)},removeHostname:function N(E){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(E)[2].substring(1)},resolve:function g(E,L){return I(E,L)}}}T.__dashjs_factory_name="DefaultURLUtils",U.default=M.default.getSingletonFactory(T)},"./src/streaming/utils/EBMLParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){I=I||{};var w,P=new DataView(I.data),R=0;function l(v,p){var y=!0,g=0;if(void 0===p&&(p=!1),v.tag>16777215?(P.getUint32(R)!==v.tag&&(y=!1),g=4):v.tag>65535?(256*P.getUint16(R)+P.getUint8(R+2)!==v.tag&&(y=!1),g=3):v.tag>255?(P.getUint16(R)!==v.tag&&(y=!1),g=2):(P.getUint8(R)!==v.tag&&(y=!1),g=1),!y&&v.required&&!p)throw new Error("required tag not found");return y&&(R+=g),y}function N(v){var p=1,y=128,A=-1,E=0,L=P.getUint8(R),G=0;for(G=0;G<8;G+=1){if((L&y)===y){E=void 0===v?L&~y:L,A=G;break}y>>=1}for(G=0;G<A;G+=1,p+=1)E=E<<8|255&P.getUint8(R+p);return R+=p,E}return w={getPos:function D(){return R},setPos:function c(v){R=v},consumeTag:l,consumeTagAndSize:function d(v,p){var y=l(v,p);return y&&N(),y},parseTag:function f(v){var p;return l(v),p=N(),w[v.parse](p)},skipOverElement:function _(v,p){var g,y=l(v,p);return y&&(g=N(),R+=g),y},getMatroskaCodedNum:N,getMatroskaFloat:function S(v){var p;switch(v){case 4:p=P.getFloat32(R),R+=4;break;case 8:p=P.getFloat64(R),R+=8}return p},getMatroskaUint:function O(v){for(var p=0,y=0;y<v;y+=1)p<<=8,p|=255&P.getUint8(R+y);return R+=v,p},moreData:function b(){return R<P.byteLength}}}T.__dashjs_factory_name="EBMLParser",U.default=M.default.getClassFactory(T)},"./src/streaming/utils/ErrorHandler.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/EventBus.js"),T=m("./src/core/events/Events.js"),I=m("./src/core/FactoryMaker.js");function w(){var R=this.context,D=Object(M.default)(R).getInstance();return{error:function c(l){D.trigger(T.default.ERROR,{error:l})}}}w.__dashjs_factory_name="ErrorHandler",U.default=I.default.getSingletonFactory(w)},"./src/streaming/utils/InitCache.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var I={};return{save:function w(c){var l=c.streamId,d=c.representationId;I[l]=I[l]||{},I[l][d]=c},extract:function P(c,l){return I&&I[c]&&I[c][l]?I[c][l]:null},reset:function R(){I={}}}}T.__dashjs_factory_name="InitCache",U.default=M.default.getSingletonFactory(T)},"./src/streaming/utils/IsoFile.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/IsoBox.js"),T=m("./src/core/FactoryMaker.js");function I(){var P;function D(f){var _=[];if(!f||!P||"function"!=typeof P.fetchAll)return _;for(var S,N=P.fetchAll(f),O=0,b=N.length;O<b;O++)(S=d(N[O]))&&_.push(S);return _}function d(f){if(!f)return null;var _=new M.default(f);return f.hasOwnProperty("_incomplete")&&(_.isComplete=!f._incomplete),_}return{getBox:function R(f){return f&&P&&P.boxes&&0!==P.boxes.length&&"function"==typeof P.fetch?d(P.fetch(f)):null},getBoxes:D,setData:function c(f){P=f},getLastBox:function l(){if(!P||!P.boxes||!P.boxes.length)return null;var _=D(P.boxes[P.boxes.length-1].type);return _.length>0?_[_.length-1]:null}}}I.__dashjs_factory_name="IsoFile",U.default=T.default.getClassFactory(I)},"./src/streaming/utils/ObjectUtils.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./node_modules/fast-deep-equal/index.js"),I=m.n(T);function w(){return{areEqual:function R(D,c){return I()(D,c)}}}w.__dashjs_factory_name="ObjectUtils",U.default=M.default.getSingletonFactory(w)},"./src/streaming/utils/RequestModifier.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"modifyRequest",function(){return T});var M=m("./src/core/FactoryMaker.js");function T(w,P){var R={url:w.url,method:w.method,headers:Object.assign({},w.headers),credentials:w.withCredentials?"include":void 0};return Promise.resolve(P.modifyRequest(R)).then(function(){return Object.assign(w,R,{withCredentials:"include"===R.credentials})})}function I(){return{modifyRequest:null,modifyRequestURL:function P(D){return D},modifyRequestHeader:function R(D,c){return D}}}I.__dashjs_factory_name="RequestModifier",U.default=M.default.getSingletonFactory(I)},"./src/streaming/utils/SupervisorTools.js":function(Ie,U,m){"use strict";m.r(U),m.d(U,"checkParameterType",function(){return I}),m.d(U,"checkInteger",function(){return w}),m.d(U,"checkRange",function(){return P}),m.d(U,"checkIsVideoOrAudioType",function(){return R});var M=m("./src/streaming/constants/Constants.js");function T(D){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(D)}function I(D,c){if(T(D)!==c)throw M.default.BAD_ARGUMENT_ERROR}function w(D){if(null===D||isNaN(D)||D%1!=0)throw M.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function P(D,c,l){if(D<c||D>l)throw M.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function R(D){if("string"!=typeof D||D!==M.default.AUDIO&&D!==M.default.VIDEO)throw M.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js"),I=m("./src/core/EventBus.js"),w=m("./src/core/events/Events.js"),P=m("./node_modules/imsc/src/main/js/main.js"),D=m("./src/streaming/MediaPlayerEvents.js"),c=m("./src/streaming/constants/ConformanceViolationConstants.js");function l(){var _,N,d=this.context,f=Object(I.default)(d).getInstance(),S=0;function b(){var p="cue_TTML_"+S;return S++,p}return _={parse:function v(p,y,g,A,E){var ee,Q,le,L="",G=[],H={},W={},x="",Y="",z={onOpenTag:function(de,ae,pe){if(pe[" imagetype"]&&!pe[" imageType"]&&(f.trigger(D.default.CONFORMANCE_VIOLATION,{level:c.default.LEVELS.ERROR,event:c.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),pe[" imageType"]=pe[" imagetype"]),"image"===ae&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===de||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===de)){if(!pe[" imageType"]||"PNG"!==pe[" imageType"].value)return void N.warn("smpte-tt imageType != PNG. Discarded");x=pe["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){x&&(W[x]=Y.trim()),Y="",x=""},onText:function(de){x&&(Y+=de)}};if(!p)throw L="no ttml data to parse",new Error(L);H.data=p,f.trigger(w.default.TTML_TO_PARSE,H);var ie=Object(P.fromXML)(H.data,function(J){L=J},z);f.trigger(w.default.TTML_PARSED,{ttmlString:H.data,ttmlDoc:ie});var oe=ie.getMediaTimeEvents();for(le=0;le<oe.length;le++){var ve=Object(P.generateISD)(ie,oe[le],function(J){L=J});ve.contents.some(function(J){return J.contents.length})&&(ee=oe[le]+y<g?g:oe[le]+y)<(Q=oe[le+1]+y>A?A:oe[le+1]+y)&&G.push({start:ee,end:Q,type:"html",cueID:b(),isd:ve,images:E,embeddedImages:W})}if(""!==L)throw N.error(L),new Error(L);return G}},function O(){N=Object(T.default)(d).getInstance().getLogger(_)}(),_}l.__dashjs_factory_name="TTMLParser",U.default=M.default.getSingletonFactory(l)},"./src/streaming/utils/URLUtils.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/streaming/utils/DefaultURLUtils.js");function I(){var R,D=[],c=this.context;function _(L,G,ee){var Q=function l(L){var G;for(G=0;G<D.length;G++)if(D[G].regex.test(L))return D[G].utils;return R}(ee||G);return Q&&"function"==typeof Q[L]?Q[L](G,ee):R[L](G,ee)}return function d(){R=Object(T.default)(c).getInstance()}(),{registerUrlRegex:function f(L,G){D.push({regex:L,utils:G})},parseBaseUrl:function N(L){return _("parseBaseUrl",L)},parseOrigin:function S(L){return _("parseOrigin",L)},parseScheme:function b(L){return _("parseScheme",L)},isRelative:function v(L){return _("isRelative",L)},isPathAbsolute:function p(L){return _("isPathAbsolute",L)},isSchemeRelative:function y(L){return _("isSchemeRelative",L)},isHTTPURL:function g(L){return _("isHTTPURL",L)},isHTTPS:function A(L){return _("isHTTPS",L)},removeHostname:function O(L){return _("removeHostname",L)},resolve:function E(L,G){return _("resolve",L,G)}}}I.__dashjs_factory_name="URLUtils";var w=M.default.getSingletonFactory(I);U.default=w},"./src/streaming/utils/VTTParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/core/Debug.js");function w(){var R,D,c,l,d,f,P=this.context;function S(p){var y=p.split(":"),g=y.length-1;return p=60*parseInt(y[g-1],10)+parseFloat(y[g]),2===g&&(p+=3600*parseInt(y[0],10)),p}function O(p){var y=p.split(l),g=y[1].split(f);return g.shift(),y[1]=g[0],g.shift(),{cuePoints:y,styles:b(g)}}function b(p){var y={};return p.forEach(function(g){if(g.split(/:/).length>1){var A=g.split(/:/)[1];A&&-1!=A.search(/%/)&&(A=parseInt(A.replace(/%/,""),10)),(g.match(/align/)||g.match(/A/))&&(y.align=A),(g.match(/line/)||g.match(/L/))&&(y.line=A),(g.match(/position/)||g.match(/P/))&&(y.position=A),(g.match(/size/)||g.match(/S/))&&(y.size=A)}}),y}function v(p,y){for(var L,g=y,A="",E="";""!==p[g]&&g<p.length;)g++;if((L=g-y)>1)for(var G=0;G<L;G++){if((E=p[y+G]).match(l)){A="";break}A+=E,G!==L-1&&(A+="\n")}else(E=p[y]).match(l)||(A=E);return A}return R={parse:function N(p){var g,A,y=[];if(!p)return y;g=(p=p.split(c)).length,A=-1;for(var E=0;E<g;E++){var L=p[E];if(L.length>0&&"WEBVTT"!==L&&L.match(l)){var G=O(L),ee=G.cuePoints,Q=G.styles,le=v(p,E+1),H=S(ee[0].replace(d,"")),W=S(ee[1].replace(d,""));!isNaN(H)&&!isNaN(W)&&H>=A&&W>H?""!==le?(A=H,y.push({start:H,end:W,data:le,styles:Q})):D.error("Skipping cue due to empty/malformed cue text"):D.error("Skipping cue due to incorrect cue timing")}}return y}},function _(){D=Object(T.default)(P).getInstance().getLogger(R),c=/(?:\r\n|\r|\n)/gm,l=/-->/,d=/(^[\s]+|[\s]+$)/g,f=/\s\b/g}(),R}w.__dashjs_factory_name="VTTParser",U.default=M.default.getSingletonFactory(w)},"./src/streaming/utils/VttCustomRenderingParser.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(){var I,w;return I={parse:function R(D){var c=[];return w.oncue=function(l){l.start=l.startTime,l.end=l.endTime,l.data=l.text,l.styles={align:l.align,line:l.line,position:l.position,size:l.size},c.push(l)},w.parse(D),c}},function P(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(w=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),I}T.__dashjs_factory_name="VttCustomRenderingParser",U.default=M.default.getSingletonFactory(T)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){var P=(I=I||{}).blacklistController;return{select:function R(D){var l,c=0;return D&&D.some(function(d,f){return c=f,!P.contains(d.serviceLocation)})&&(l=D[c]),l}}}T.__dashjs_factory_name="BasicSelector",U.default=M.default.getClassFactory(T)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js"),T=m("./src/dash/controllers/ContentSteeringController.js");function I(){var P,R,D,w=this.context;function f(){for(var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],S=0,O=NaN,b=function(){var y=_[S],g=N.findIndex(function(A){return A.serviceLocation&&A.serviceLocation===y});if(-1!==g&&!D.contains(N[g].serviceLocation))return O=g,"break";S+=1};S<_.length&&"break"!==b(););return O}return P={selectBaseUrlIndex:function d(_){var N=NaN;if(isNaN(_.selectedIdx)){var S=R.getSteeringDataFromManifest();S&&S.defaultServiceLocation&&(N=f([S.defaultServiceLocation],_.baseUrls))}var O=R.getCurrentSteeringResponseData();return _.baseUrls&&_.baseUrls.length&&O&&O.serviceLocationPriority&&O.serviceLocationPriority.length&&(N=f(O.serviceLocationPriority,_.baseUrls)),N},setConfig:function l(_){_.blacklistController&&(D=_.blacklistController),_.contentSteeringController&&(R=_.contentSteeringController)}},function c(){R=Object(T.default)(w).getInstance()}(),P}I.__dashjs_factory_name="ContentSteeringSelector",U.default=M.default.getClassFactory(I)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/core/FactoryMaker.js");function T(I){var P=(I=I||{}).blacklistController;return{select:function c(l){return l&&function D(l){var O,b,_=0,N=[],S=0;if((b=l.sort(function(p,y){var g=p.dvb_priority-y.dvb_priority;return isNaN(g)?0:g}).filter(function(p,y,g){return!y||g[0].dvb_priority&&p.dvb_priority&&g[0].dvb_priority===p.dvb_priority})).length)return b.length>1&&(b.forEach(function(v){N.push(_+=v.dvb_weight)}),O=Math.floor(Math.random()*(_-1)),N.every(function(v,p){return S=p,!(O<v)})),b[S]}(function R(l){var d=[];return l.filter(function(S){return!P.contains(S.serviceLocation)||(S.dvb_priority&&d.push(S.dvb_priority),!1)}).filter(function(S){return!(d.length&&S.dvb_priority&&-1!==d.indexOf(S.dvb_priority))})}(l))}}}T.__dashjs_factory_name="DVBSelector",U.default=M.default.getClassFactory(T)},"./src/streaming/vo/BitrateInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d,f){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.code=l||null,this.message=d||null,this.data=f||null})},"./src/streaming/vo/DataChunk.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/metrics/HTTPRequest.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function w(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,R(_.key),_)}}function R(l){var d=function D(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}var c=function(){function l(d){(function I(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.action=l.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=d||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function P(l,d,f){return d&&w(l.prototype,d),f&&w(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}(l,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===M.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(f){this.type=f&&f.init?M.HTTPRequest.INIT_SEGMENT_TYPE:M.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=f&&f.url?f.url:null,this.range=f&&f.range?f.range.start+"-"+f.range.end:null,this.mediaType=f&&f.mediaType?f.mediaType:null}}]),l}();c.ACTION_DOWNLOAD="download",c.ACTION_COMPLETE="complete",U.default=c},"./src/streaming/vo/HeadRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/vo/FragmentRequest.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function I(b,v){for(var p=0;p<v.length;p++){var y=v[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,P(y.key),y)}}function P(b){var v=function R(b,v){if("object"!==T(b)||null===b)return b;var p=b[Symbol.toPrimitive];if(void 0!==p){var y=p.call(b,v||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(b)}(b,"string");return"symbol"===T(v)?v:String(v)}function c(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&l(b,v)}function l(b,v){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y})(b,v)}function d(b){var v=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=S(b);if(v){var A=S(this).constructor;g=Reflect.construct(y,arguments,A)}else g=y.apply(this,arguments);return f(this,g)}}function f(b,v){if(v&&("object"===T(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}function S(b){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}U.default=function(b){c(p,b);var v=d(p);function p(y){var g;return function D(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p),(g=v.call(this,y)).checkForExistenceOnly=!0,g}return function w(b,v,p){return v&&I(b.prototype,v),p&&I(b,p),Object.defineProperty(b,"prototype",{writable:!1}),b}(p)}(M.default)},"./src/streaming/vo/IsoBox.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function I(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,P(f.key),f)}}function P(c){var l=function R(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=function(){function c(l){if(function T(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,c),this.offset=l._offset,this.type=l.type,this.size=l.size,this.boxes=[],l.boxes)for(var d=0;d<l.boxes.length;d++)this.boxes.push(new c(l.boxes[d]));switch(this.isComplete=!0,l.type){case"sidx":if(this.timescale=l.timescale,this.earliest_presentation_time=l.earliest_presentation_time,this.first_offset=l.first_offset,this.references=l.references,l.references){this.references=[];for(var f=0;f<l.references.length;f++)this.references.push({reference_type:l.references[f].reference_type,referenced_size:l.references[f].referenced_size,subsegment_duration:l.references[f].subsegment_duration})}break;case"emsg":this.id=l.id,this.version=1===l.version?1:0,this.value=l.value,this.timescale=l.timescale,this.scheme_id_uri=l.scheme_id_uri,this.presentation_time_delta=1===l.version?l.presentation_time:l.presentation_time_delta,this.event_duration=l.event_duration,this.message_data=l.message_data;break;case"mdhd":this.timescale=l.timescale;break;case"mfhd":this.sequence_number=l.sequence_number;break;case"subs":this.entry_count=l.entry_count,this.entries=l.entries;break;case"tfhd":this.base_data_offset=l.base_data_offset,this.sample_description_index=l.sample_description_index,this.default_sample_duration=l.default_sample_duration,this.default_sample_size=l.default_sample_size,this.default_sample_flags=l.default_sample_flags,this.flags=l.flags;break;case"tfdt":this.version=l.version,this.baseMediaDecodeTime=l.baseMediaDecodeTime,this.flags=l.flags;break;case"trun":if(this.sample_count=l.sample_count,this.first_sample_flags=l.first_sample_flags,this.data_offset=l.data_offset,this.flags=l.flags,this.samples=l.samples,l.samples){this.samples=[];for(var N=0,S=l.samples.length;N<S;N++)this.samples.push({sample_size:l.samples[N].sample_size,sample_duration:l.samples[N].sample_duration,sample_composition_time_offset:l.samples[N].sample_composition_time_offset})}}}return function w(c,l,d){return l&&I(c.prototype,l),d&&I(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}(c,[{key:"getChildBox",value:function(d){for(var f=0;f<this.boxes.length;f++)if(this.boxes[f].type===d)return this.boxes[f]}},{key:"getChildBoxes",value:function(d){for(var f=[],_=0;_<this.boxes.length;_++)this.boxes[_].type===d&&f.push(this.boxes[_]);return f}}]),c}()},"./src/streaming/vo/IsoBoxSearchInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(l,d,f){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.lastCompletedOffset=l,this.found=d,this.size=f})},"./src/streaming/vo/MetricsList.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/Constants.js"),T=m("./src/streaming/vo/FragmentRequest.js");function I(v){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function w(v,p){for(var y=0;y<p.length;y++){var g=p[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,R(g.key),g)}}function R(v){var p=function D(v,p){if("object"!==I(v)||null===v)return v;var y=v[Symbol.toPrimitive];if(void 0!==y){var g=y.call(v,p||"default");if("object"!==I(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(v)}(v,"string");return"symbol"===I(p)?p:String(p)}function l(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),p&&d(v,p)}function d(v,p){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,A){return g.__proto__=A,g})(v,p)}function f(v){var p=function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,g=O(v);if(p){var E=O(this).constructor;A=Reflect.construct(g,arguments,E)}else A=g.apply(this,arguments);return _(this,A)}}function _(v,p){if(p&&("object"===I(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return function N(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(v)}function O(v){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}U.default=function(v){l(y,v);var p=f(y);function y(g,A){var E;return function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,y),(E=p.call(this)).url=g||null,E.type=A||null,E.mediaType=M.default.STREAM,E.responseType="",E}return function P(v,p,y){return p&&w(v.prototype,p),y&&w(v,y),Object.defineProperty(v,"prototype",{writable:!1}),v}(y)}(T.default)},"./src/streaming/vo/TextTrackInfo.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/dash/vo/MediaInfo.js");function T(b){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function I(b,v){for(var p=0;p<v.length;p++){var y=v[p];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,P(y.key),y)}}function P(b){var v=function R(b,v){if("object"!==T(b)||null===b)return b;var p=b[Symbol.toPrimitive];if(void 0!==p){var y=p.call(b,v||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(b)}(b,"string");return"symbol"===T(v)?v:String(v)}function c(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),v&&l(b,v)}function l(b,v){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,g){return y.__proto__=g,y})(b,v)}function d(b){var v=function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,y=S(b);if(v){var A=S(this).constructor;g=Reflect.construct(y,arguments,A)}else g=y.apply(this,arguments);return f(this,g)}}function f(b,v){if(v&&("object"===T(v)||"function"==typeof v))return v;if(void 0!==v)throw new TypeError("Derived constructors may only return object or undefined");return function _(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}function S(b){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)})(b)}U.default=function(b){c(p,b);var v=d(p);function p(){var y;return function D(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p),(y=v.call(this)).captionData=null,y.label=null,y.defaultTrack=!1,y.kind=null,y.isFragmented=!1,y.isEmbedded=!1,y.isTTML=null,y}return function w(b,v,p){return v&&I(b.prototype,v),p&&I(b,p),Object.defineProperty(b,"prototype",{writable:!1}),b}(p)}(M.default)},"./src/streaming/vo/Thumbnail.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":function(Ie,U,m){"use strict";m.r(U);var M=m("./src/streaming/constants/MetricsConstants.js");function T(l){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function I(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,P(_.key),_)}}function w(l,d,f){return d&&I(l.prototype,d),f&&I(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function P(l){var d=function R(l,d){if("object"!==T(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==T(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===T(d)?d:String(d)}U.default=w(function l(){(function D(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,l),this.target=null,this.state=M.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function T(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,w(_.key),_)}}function I(l,d,f){return d&&T(l.prototype,d),f&&T(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function w(l){var d=function P(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}function R(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}m.r(U),m.d(U,"HTTPRequest",function(){return D}),m.d(U,"HTTPRequestTrace",function(){return c});var D=I(function l(){R(this,l),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),c=I(function l(){R(this,l),this.s=null,this.d=null,this.b=[]});D.GET="GET",D.HEAD="HEAD",D.MPD_TYPE="MPD",D.XLINK_EXPANSION_TYPE="XLinkExpansion",D.INIT_SEGMENT_TYPE="InitializationSegment",D.INDEX_SEGMENT_TYPE="IndexSegment",D.MEDIA_SEGMENT_TYPE="MediaSegment",D.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",D.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",D.DVB_REPORTING_TYPE="DVBReporting",D.LICENSE="license",D.CONTENT_STEERING_TYPE="ContentSteering",D.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":function(Ie,U,m){"use strict";function M(d){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function T(d,f){for(var _=0;_<f.length;_++){var N=f[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(d,w(N.key),N)}}function I(d,f,_){return f&&T(d.prototype,f),_&&T(d,_),Object.defineProperty(d,"prototype",{writable:!1}),d}function w(d){var f=function P(d,f){if("object"!==M(d)||null===d)return d;var _=d[Symbol.toPrimitive];if(void 0!==_){var N=_.call(d,f||"default");if("object"!==M(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(d)}(d,"string");return"symbol"===M(f)?f:String(f)}function R(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}m.r(U),m.d(U,"ManifestUpdate",function(){return D}),m.d(U,"ManifestUpdateStreamInfo",function(){return c}),m.d(U,"ManifestUpdateRepresentationInfo",function(){return l});var D=I(function d(){R(this,d),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),c=I(function d(){R(this,d),this.id=null,this.index=null,this.start=null,this.duration=null}),l=I(function d(){R(this,d),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":function(Ie,U,m){"use strict";function M(l){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(l)}function T(l,d){for(var f=0;f<d.length;f++){var _=d[f];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,w(_.key),_)}}function I(l,d,f){return d&&T(l.prototype,d),f&&T(l,f),Object.defineProperty(l,"prototype",{writable:!1}),l}function w(l){var d=function P(l,d){if("object"!==M(l)||null===l)return l;var f=l[Symbol.toPrimitive];if(void 0!==f){var _=f.call(l,d||"default");if("object"!==M(_))return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===M(d)?d:String(d)}function R(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}m.r(U),m.d(U,"PlayList",function(){return D}),m.d(U,"PlayListTrace",function(){return c});var D=I(function l(){R(this,l),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});D.INITIAL_PLAYOUT_START_REASON="initial_playout",D.SEEK_START_REASON="seek",D.RESUME_FROM_PAUSE_START_REASON="resume",D.METRICS_COLLECTION_START_REASON="metrics_collection_start";var c=I(function l(){R(this,l),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});c.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",c.REBUFFERING_REASON="rebuffering",c.USER_REQUEST_STOP_REASON="user_request",c.END_OF_PERIOD_STOP_REASON="end_of_period",c.END_OF_CONTENT_STOP_REASON="end_of_content",c.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",c.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":function(Ie,U,m){"use strict";function M(c){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(c)}function T(c,l){for(var d=0;d<l.length;d++){var f=l[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,w(f.key),f)}}function I(c,l,d){return l&&T(c.prototype,l),d&&T(c,d),Object.defineProperty(c,"prototype",{writable:!1}),c}function w(c){var l=function P(c,l){if("object"!==M(c)||null===c)return c;var d=c[Symbol.toPrimitive];if(void 0!==d){var f=d.call(c,l||"default");if("object"!==M(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(c)}(c,"string");return"symbol"===M(l)?l:String(l)}m.r(U),U.default=I(function c(){(function R(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:function(Ie,U){},1:function(Ie,U){}}).default},37:()=>{var Pa,Ie;Ie=Pa||(Pa={}),function(U){var m="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),M=T(Ie);function T(I,w){return function(P,R){"function"!=typeof I[P]&&Object.defineProperty(I,P,{configurable:!0,writable:!0,value:R}),w&&w(P,R)}}typeof m.Reflect>"u"?m.Reflect=Ie:M=T(m.Reflect,M),function(U){var m=Object.prototype.hasOwnProperty,M="function"==typeof Symbol,T=M&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",I=M&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",w="function"==typeof Object.create,P={__proto__:[]}instanceof Array,R=!w&&!P,D={create:w?function(){return j(Object.create(null))}:P?function(){return j({__proto__:null})}:function(){return j({})},has:R?function($,ce){return m.call($,ce)}:function($,ce){return ce in $},get:R?function($,ce){return m.call($,ce)?$[ce]:void 0}:function($,ce){return $[ce]}},c=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Ee(){var $={},ce=[],ue=function(){function we(Ue,Ce,Oe){this._index=0,this._keys=Ue,this._values=Ce,this._selector=Oe}return we.prototype["@@iterator"]=function(){return this},we.prototype[I]=function(){return this},we.prototype.next=function(){var Ue=this._index;if(Ue>=0&&Ue<this._keys.length){var Ce=this._selector(this._keys[Ue],this._values[Ue]);return Ue+1>=this._keys.length?(this._index=-1,this._keys=ce,this._values=ce):this._index++,{value:Ce,done:!1}}return{value:void 0,done:!0}},we.prototype.throw=function(Ue){throw this._index>=0&&(this._index=-1,this._keys=ce,this._values=ce),Ue},we.prototype.return=function(Ue){return this._index>=0&&(this._index=-1,this._keys=ce,this._values=ce),{value:Ue,done:!0}},we}();return function(){function we(){this._keys=[],this._values=[],this._cacheKey=$,this._cacheIndex=-2}return Object.defineProperty(we.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),we.prototype.has=function(Ue){return this._find(Ue,!1)>=0},we.prototype.get=function(Ue){var Ce=this._find(Ue,!1);return Ce>=0?this._values[Ce]:void 0},we.prototype.set=function(Ue,Ce){var Oe=this._find(Ue,!0);return this._values[Oe]=Ce,this},we.prototype.delete=function(Ue){var Ce=this._find(Ue,!1);if(Ce>=0){for(var Oe=this._keys.length,Ge=Ce+1;Ge<Oe;Ge++)this._keys[Ge-1]=this._keys[Ge],this._values[Ge-1]=this._values[Ge];return this._keys.length--,this._values.length--,Ue===this._cacheKey&&(this._cacheKey=$,this._cacheIndex=-2),!0}return!1},we.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=$,this._cacheIndex=-2},we.prototype.keys=function(){return new ue(this._keys,this._values,be)},we.prototype.values=function(){return new ue(this._keys,this._values,Re)},we.prototype.entries=function(){return new ue(this._keys,this._values,Pe)},we.prototype["@@iterator"]=function(){return this.entries()},we.prototype[I]=function(){return this.entries()},we.prototype._find=function(Ue,Ce){return this._cacheKey!==Ue&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ue)),this._cacheIndex<0&&Ce&&(this._cacheIndex=this._keys.length,this._keys.push(Ue),this._values.push(void 0)),this._cacheIndex},we}();function be(we,Ue){return we}function Re(we,Ue){return Ue}function Pe(we,Ue){return[we,Ue]}}():Map,f=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function q(){return function(){function $(){this._map=new d}return Object.defineProperty($.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),$.prototype.has=function(ce){return this._map.has(ce)},$.prototype.add=function(ce){return this._map.set(ce,ce),this},$.prototype.delete=function(ce){return this._map.delete(ce)},$.prototype.clear=function(){this._map.clear()},$.prototype.keys=function(){return this._map.keys()},$.prototype.values=function(){return this._map.values()},$.prototype.entries=function(){return this._map.entries()},$.prototype["@@iterator"]=function(){return this.keys()},$.prototype[I]=function(){return this.keys()},$}()}():Set,N=new(l||"function"!=typeof WeakMap?function K(){var ce=D.create(),ue=be();return function(){function Ce(){this._key=be()}return Ce.prototype.has=function(Oe){var Ge=Re(Oe,!1);return void 0!==Ge&&D.has(Ge,this._key)},Ce.prototype.get=function(Oe){var Ge=Re(Oe,!1);return void 0!==Ge?D.get(Ge,this._key):void 0},Ce.prototype.set=function(Oe,Ge){return Re(Oe,!0)[this._key]=Ge,this},Ce.prototype.delete=function(Oe){var Ge=Re(Oe,!1);return void 0!==Ge&&delete Ge[this._key]},Ce.prototype.clear=function(){this._key=be()},Ce}();function be(){var Ce;do{Ce="@@WeakMap@@"+Ue()}while(D.has(ce,Ce));return ce[Ce]=!0,Ce}function Re(Ce,Oe){if(!m.call(Ce,ue)){if(!Oe)return;Object.defineProperty(Ce,ue,{value:D.create()})}return Ce[ue]}function Pe(Ce,Oe){for(var Ge=0;Ge<Oe;++Ge)Ce[Ge]=255*Math.random()|0;return Ce}function Ue(){var Ce=function we(Ce){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(Ce)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(Ce)):Pe(new Uint8Array(Ce),Ce):Pe(new Array(Ce),Ce)}(16);Ce[6]=79&Ce[6]|64,Ce[8]=191&Ce[8]|128;for(var Oe="",Ge=0;Ge<16;++Ge){var Le=Ce[Ge];(4===Ge||6===Ge||8===Ge)&&(Oe+="-"),Le<16&&(Oe+="0"),Oe+=Le.toString(16).toLowerCase()}return Oe}}():WeakMap);function Q($,ce,ue){var be=N.get($);if(ve(be)){if(!ue)return;be=new d,N.set($,be)}var Re=be.get(ce);if(ve(Re)){if(!ue)return;Re=new d,be.set(ce,Re)}return Re}function le($,ce,ue){if(H($,ce,ue))return!0;var Re=me(ce);return!J(Re)&&le($,Re,ue)}function H($,ce,ue){var be=Q(ce,ue,!1);return!ve(be)&&function fe($){return!!$}(be.has($))}function W($,ce,ue){if(H($,ce,ue))return x($,ce,ue);var Re=me(ce);return J(Re)?void 0:W($,Re,ue)}function x($,ce,ue){var be=Q(ce,ue,!1);if(!ve(be))return be.get($)}function Y($,ce,ue,be){Q(ue,be,!0).set($,ce)}function z($,ce){var ue=ie($,ce),be=me($);if(null===be)return ue;var Re=z(be,ce);if(Re.length<=0)return ue;if(ue.length<=0)return Re;for(var Pe=new f,we=[],Ue=0,Ce=ue;Ue<Ce.length;Ue++)Pe.has(Oe=Ce[Ue])||(Pe.add(Oe),we.push(Oe));for(var Le=0,$e=Re;Le<$e.length;Le++){var Oe;Pe.has(Oe=$e[Le])||(Pe.add(Oe),we.push(Oe))}return we}function ie($,ce){var ue=[],be=Q($,ce,!1);if(ve(be))return ue;for(var Pe=function V($){var ce=F($,I);if(!ge(ce))throw new TypeError;var ue=ce.call($);if(!ae(ue))throw new TypeError;return ue}(be.keys()),we=0;;){var Ue=k(Pe);if(!Ue)return ue.length=we,ue;var Ce=re(Ue);try{ue[we]=Ce}catch(Oe){try{te(Pe)}finally{throw Oe}}we++}}function oe($){if(null===$)return 1;switch(typeof $){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===$?1:6;default:return 6}}function ve($){return void 0===$}function J($){return null===$}function ae($){return"object"==typeof $?null!==$:"function"==typeof $}function pe($,ce){switch(oe($)){case 0:case 1:case 2:case 3:case 4:case 5:return $}var ue=3===ce?"string":5===ce?"number":"default",be=F($,T);if(void 0!==be){var Re=be.call($,ue);if(ae(Re))throw new TypeError;return Re}return function he($,ce){if("string"===ce){var ue=$.toString;if(ge(ue)&&!ae(be=ue.call($)))return be;if(ge(Re=$.valueOf)&&!ae(be=Re.call($)))return be}else{var Re;if(ge(Re=$.valueOf)&&!ae(be=Re.call($)))return be;var be,Pe=$.toString;if(ge(Pe)&&!ae(be=Pe.call($)))return be}throw new TypeError}($,"default"===ue?"number":ue)}function se($){var ce=pe($,3);return function de($){return"symbol"==typeof $}(ce)?ce:function _e($){return""+$}(ce)}function Se($){return Array.isArray?Array.isArray($):$ instanceof Object?$ instanceof Array:"[object Array]"===Object.prototype.toString.call($)}function ge($){return"function"==typeof $}function ne($){return"function"==typeof $}function F($,ce){var ue=$[ce];if(null!=ue){if(!ge(ue))throw new TypeError;return ue}}function re($){return $.value}function k($){var ce=$.next();return!ce.done&&ce}function te($){var ce=$.return;ce&&ce.call($)}function me($){var ce=Object.getPrototypeOf($);if("function"!=typeof $||$===c||ce!==c)return ce;var ue=$.prototype,be=ue&&Object.getPrototypeOf(ue);if(null==be||be===Object.prototype)return ce;var Re=be.constructor;return"function"!=typeof Re||Re===$?ce:Re}function j($){return $.__=void 0,delete $.__,$}U("decorate",function S($,ce,ue,be){if(ve(ue)){if(!Se($))throw new TypeError;if(!ne(ce))throw new TypeError;return function G($,ce){for(var ue=$.length-1;ue>=0;--ue){var Re=(0,$[ue])(ce);if(!ve(Re)&&!J(Re)){if(!ne(Re))throw new TypeError;ce=Re}}return ce}($,ce)}if(!Se($))throw new TypeError;if(!ae(ce))throw new TypeError;if(!ae(be)&&!ve(be)&&!J(be))throw new TypeError;return J(be)&&(be=void 0),function ee($,ce,ue,be){for(var Re=$.length-1;Re>=0;--Re){var we=(0,$[Re])(ce,ue,be);if(!ve(we)&&!J(we)){if(!ae(we))throw new TypeError;be=we}}return be}($,ce,ue=se(ue),be)}),U("metadata",function O($,ce){return function ue(be,Re){if(!ae(be))throw new TypeError;if(!ve(Re)&&!function X($){switch(oe($)){case 3:case 4:return!0;default:return!1}}(Re))throw new TypeError;Y($,ce,be,Re)}}),U("defineMetadata",function b($,ce,ue,be){if(!ae(ue))throw new TypeError;return ve(be)||(be=se(be)),Y($,ce,ue,be)}),U("hasMetadata",function v($,ce,ue){if(!ae(ce))throw new TypeError;return ve(ue)||(ue=se(ue)),le($,ce,ue)}),U("hasOwnMetadata",function p($,ce,ue){if(!ae(ce))throw new TypeError;return ve(ue)||(ue=se(ue)),H($,ce,ue)}),U("getMetadata",function y($,ce,ue){if(!ae(ce))throw new TypeError;return ve(ue)||(ue=se(ue)),W($,ce,ue)}),U("getOwnMetadata",function g($,ce,ue){if(!ae(ce))throw new TypeError;return ve(ue)||(ue=se(ue)),x($,ce,ue)}),U("getMetadataKeys",function A($,ce){if(!ae($))throw new TypeError;return ve(ce)||(ce=se(ce)),z($,ce)}),U("getOwnMetadataKeys",function E($,ce){if(!ae($))throw new TypeError;return ve(ce)||(ce=se(ce)),ie($,ce)}),U("deleteMetadata",function L($,ce,ue){if(!ae(ce))throw new TypeError;ve(ue)||(ue=se(ue));var be=Q(ce,ue,!1);if(ve(be)||!be.delete($))return!1;if(be.size>0)return!0;var Re=N.get(ce);return Re.delete(ue),Re.size>0||N.delete(ce),!0})}(M)}()}},Pa=>{Pa(Pa.s=629)}]);