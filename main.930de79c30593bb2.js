(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{654:(Xa,Qa,Ri)=>{"use strict";function Yn(t){return"function"==typeof t}function Wo(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Et=Wo(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ze(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class H{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Yn(r))try{r()}catch(o){n=o instanceof Et?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{f(o)}catch(l){n=n??[],l instanceof Et?n=[...n,...l.errors]:n.push(l)}}if(n)throw new Et(n)}}add(n){var e;if(n&&n!==this)if(this.closed)f(n);else{if(n instanceof H){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ze(e,n)}remove(n){const{_finalizers:e}=this;e&&ze(e,n),n instanceof H&&n._removeParent(this)}}H.EMPTY=(()=>{const t=new H;return t.closed=!0,t})();const ve=H.EMPTY;function N(t){return t instanceof H||t&&"closed"in t&&Yn(t.remove)&&Yn(t.add)&&Yn(t.unsubscribe)}function f(t){Yn(t)?t():t.unsubscribe()}const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I={setTimeout(t,n,...e){const{delegate:r}=I;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=I;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function A(t){I.setTimeout(()=>{const{onUnhandledError:n}=d;if(!n)throw t;n(t)})}function v(){}const S=y("C",void 0,void 0);function y(t,n,e){return{kind:t,value:n,error:e}}let T=null;function j(t){if(d.useDeprecatedSynchronousErrorHandling){const n=!T;if(n&&(T={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=T;if(T=null,e)throw r}}else t()}class Y extends H{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,N(n)&&n.add(this)):this.destination=Pe}static create(n,e,r){return new k(n,e,r)}next(n){this.isStopped?de(function h(t){return y("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?de(function D(t){return y("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?de(S,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $=Function.prototype.bind;function fe(t,n){return $.call(t,n)}class Z{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){X(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){X(r)}else X(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){X(e)}}}class k extends Y{constructor(n,e,r){let i;if(super(),Yn(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&d.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&fe(n.next,o),error:n.error&&fe(n.error,o),complete:n.complete&&fe(n.complete,o)}):i=n}this.destination=new Z(i)}}function X(t){d.useDeprecatedSynchronousErrorHandling?function Q(t){d.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=t)}(t):A(t)}function de(t,n){const{onStoppedNotification:e}=d;e&&I.setTimeout(()=>e(t,n))}const Pe={closed:!0,next:v,error:function ue(t){throw t},complete:v},gt="function"==typeof Symbol&&Symbol.observable||"@@observable";function _e(t){return t}function ut(t){return 0===t.length?_e:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let Ve=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function Qe(t){return t&&t instanceof Y||function ot(t){return t&&Yn(t.next)&&Yn(t.error)&&Yn(t.complete)}(t)&&N(t)}(e)?e:new k(e,r,i);return j(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=ke(r))((i,o)=>{const l=new k({next:c=>{try{e(c)}catch(u){o(u),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[gt](){return this}pipe(...e){return ut(e)(this)}toPromise(e){return new(e=ke(e))((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return t.create=n=>new t(n),t})();function ke(t){var n;return null!==(n=t??d.Promise)&&void 0!==n?n:Promise}const Rt=Wo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xe=(()=>{class t extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new et(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Rt}next(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?ve:(this.currentObservers=null,o.push(e),new H(()=>{this.currentObservers=null,ze(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new Ve;return e.source=this,e}}return t.create=(n,e)=>new et(n,e),t})();class et extends xe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:ve}}function jt(t){return Yn(t?.lift)}function Ct(t){return n=>{if(jt(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(t,n,e,r,i){return new yt(t,n,e,r,i)}class yt extends Y{constructor(n,e,r,i,o,l){super(n),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=e?function(c){try{e(c)}catch(u){n.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function pe(t,n){return Ct((e,r)=>{let i=0;e.subscribe(Je(r,o=>{r.next(t.call(n,o,i++))}))})}function _n(t){return this instanceof _n?(this.v=t,this):new _n(t)}function Xn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function tt(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(l){return new Promise(function(c,u){!function i(o,l,c,u){Promise.resolve(u).then(function(m){o({value:m,done:c})},l)}(c,u,(l=t[o](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const qs=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function zt(t){return Yn(t?.then)}function Ut(t){return Yn(t[gt])}function Ht(t){return Symbol.asyncIterator&&Yn(t?.[Symbol.asyncIterator])}function ft(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mt=function At(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function St(t){return Yn(t?.[mt])}function en(t){return function Dn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(ge){r[ge]&&(i[ge]=function(Re){return new Promise(function(Ke,ct){o.push([ge,Re,Ke,ct])>1||c(ge,Re)})})}function c(ge,Re){try{!function u(ge){ge.value instanceof _n?Promise.resolve(ge.value.v).then(m,x):W(o[0][2],ge)}(r[ge](Re))}catch(Ke){W(o[0][3],Ke)}}function m(ge){c("next",ge)}function x(ge){c("throw",ge)}function W(ge,Re){ge(Re),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield _n(e.read());if(i)return yield _n(void 0);yield yield _n(r)}}finally{e.releaseLock()}})}function nn(t){return Yn(t?.getReader)}function fn(t){if(t instanceof Ve)return t;if(null!=t){if(Ut(t))return function An(t){return new Ve(n=>{const e=t[gt]();if(Yn(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(qs(t))return function sn(t){return new Ve(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(zt(t))return function Lt(t){return new Ve(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,A)})}(t);if(Ht(t))return vn(t);if(St(t))return function yn(t){return new Ve(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(nn(t))return function Un(t){return vn(en(t))}(t)}throw ft(t)}function vn(t){return new Ve(n=>{(function nr(t,n){var e,r,i,o;return function Fe(t,n,e,r){return new(e||(e=Promise))(function(o,l){function c(x){try{m(r.next(x))}catch(W){l(W)}}function u(x){try{m(r.throw(x))}catch(W){l(W)}}function m(x){x.done?o(x.value):function i(o){return o instanceof e?o:new e(function(l){l(o)})}(x.value).then(c,u)}m((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Xn(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function _r(t,n,e,r=0,i=!1){const o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Dt(t,n,e=1/0){return Yn(n)?Dt((r,i)=>pe((o,l)=>n(r,o,i,l))(fn(t(r,i))),e):("number"==typeof n&&(e=n),Ct((r,i)=>function On(t,n,e,r,i,o,l,c){const u=[];let m=0,x=0,W=!1;const ge=()=>{W&&!u.length&&!m&&n.complete()},Re=ct=>m<r?Ke(ct):u.push(ct),Ke=ct=>{o&&n.next(ct),m++;let Ft=!1;fn(e(ct,x++)).subscribe(Je(n,Qt=>{i?.(Qt),o?Re(Qt):n.next(Qt)},()=>{Ft=!0},void 0,()=>{if(Ft)try{for(m--;u.length&&m<r;){const Qt=u.shift();l?_r(n,l,()=>Ke(Qt)):Ke(Qt)}ge()}catch(Qt){n.error(Qt)}}))};return t.subscribe(Je(n,Re,()=>{W=!0,ge()})),()=>{c?.()}}(r,i,t,e)))}function Zt(t=1/0){return Dt(_e,t)}const Jt=new Ve(t=>t.complete());function br(t){return t&&Yn(t.schedule)}function Sr(t){return t[t.length-1]}function Mi(t){return Yn(Sr(t))?t.pop():void 0}function di(t){return br(Sr(t))?t.pop():void 0}function mi(t,n=0){return Ct((e,r)=>{e.subscribe(Je(r,i=>_r(r,t,()=>r.next(i),n),()=>_r(r,t,()=>r.complete(),n),i=>_r(r,t,()=>r.error(i),n)))})}function ti(t,n=0){return Ct((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Gi(t,n){if(!t)throw new Error("Iterable cannot be null");return new Ve(e=>{_r(e,n,()=>{const r=t[Symbol.asyncIterator]();_r(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ci(t,n){return n?function kc(t,n){if(null!=t){if(Ut(t))return function zi(t,n){return fn(t).pipe(ti(n),mi(n))}(t,n);if(qs(t))return function Ys(t,n){return new Ve(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(zt(t))return function ya(t,n){return fn(t).pipe(ti(n),mi(n))}(t,n);if(Ht(t))return Gi(t,n);if(St(t))return function Uo(t,n){return new Ve(e=>{let r;return _r(e,n,()=>{r=t[mt](),_r(e,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){return void e.error(l)}o?e.complete():e.next(i)},0,!0)}),()=>Yn(r?.return)&&r.return()})}(t,n);if(nn(t))return function Pc(t,n){return Gi(en(t),n)}(t,n)}throw ft(t)}(t,n):fn(t)}function So(...t){const n=di(t),e=function zr(t,n){return"number"==typeof Sr(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?fn(r[0]):Zt(e)(Ci(r,n)):Jt}class qi extends xe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function $n(...t){return Ci(t,di(t))}function Wt(t={}){const{connector:n=(()=>new xe),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let l,c,u,m=0,x=!1,W=!1;const ge=()=>{c?.unsubscribe(),c=void 0},Re=()=>{ge(),l=u=void 0,x=W=!1},Ke=()=>{const ct=l;Re(),ct?.unsubscribe()};return Ct((ct,Ft)=>{m++,!W&&!x&&ge();const Qt=u=u??n();Ft.add(()=>{m--,0===m&&!W&&!x&&(c=Rn(Ke,i))}),Qt.subscribe(Ft),!l&&m>0&&(l=new k({next:xt=>Qt.next(xt),error:xt=>{W=!0,ge(),c=Rn(Re,e,xt),Qt.error(xt)},complete:()=>{x=!0,ge(),c=Rn(Re,r),Qt.complete()}}),fn(ct).subscribe(l))})(o)}}function Rn(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new k({next:()=>{r.unsubscribe(),t()}});return fn(n(...e)).subscribe(r)}function Gn(t,n){return Ct((e,r)=>{let i=null,o=0,l=!1;const c=()=>l&&!i&&r.complete();e.subscribe(Je(r,u=>{i?.unsubscribe();let m=0;const x=o++;fn(t(u,x)).subscribe(i=Je(r,W=>r.next(n?n(u,W,x,m++):W),()=>{i=null,c()}))},()=>{l=!0,c()}))})}function ai(t,n=_e){return t=t??$r,Ct((e,r)=>{let i,o=!0;e.subscribe(Je(r,l=>{const c=n(l);(o||!t(i,c))&&(o=!1,i=c,r.next(l))}))})}function $r(t,n){return t===n}function rr(t){for(let n in t)if(t[n]===rr)return n;throw Error("Could not find renamed property on target object.")}function Mr(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Ir(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ir).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function li(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Vr=rr({__forward_ref__:rr});function wr(t){return t.__forward_ref__=wr,t.toString=function(){return Ir(this())},t}function jn(t){return Xo(t)?t():t}function Xo(t){return"function"==typeof t&&t.hasOwnProperty(Vr)&&t.__forward_ref__===wr}function lo(t){return t&&!!t.\u0275providers}const ds="https://g.co/ng/security#xss";class Gt extends Error{constructor(n,e){super(function fs(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function ir(t){return"string"==typeof t?t:null==t?"":String(t)}function Ea(t,n){throw new Gt(-201,!1)}function Ti(t,n){null==t&&function er(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function bn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ja(t){return Ed(t,Ul)||Ed(t,Fh)}function Ed(t,n){return t.hasOwnProperty(n)?t[n]:null}function Bc(t){return t&&(t.hasOwnProperty(Td)||t.hasOwnProperty(Lh))?t[Td]:null}const Ul=rr({\u0275prov:rr}),Td=rr({\u0275inj:rr}),Fh=rr({ngInjectableDef:rr}),Lh=rr({ngInjectorDef:rr});var Tr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tr||{});let Uc;function Bh(){return Uc}function _o(t){const n=Uc;return Uc=t,n}function Vl(t,n,e){const r=Ja(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Tr.Optional?null:void 0!==n?n:void Ea(Ir(t))}const Gr=globalThis;class on{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=bn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const el={},wd="__NG_DI_FLAG__",tl="ngTempTokenPath",l_=/\n/gm,Cd="__source";let Sa;function Ms(t){const n=Sa;return Sa=t,n}function nl(t,n=Tr.Default){if(void 0===Sa)throw new Gt(-203,!1);return null===Sa?Vl(t,void 0,n):Sa.get(t,n&Tr.Optional?null:void 0,n)}function Xt(t,n=Tr.Default){return(Bh()||nl)(jn(t),n)}function Yt(t,n=Tr.Default){return Xt(t,jl(n))}function jl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Id(t){const n=[];for(let e=0;e<t.length;e++){const r=jn(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Gt(900,!1);let i,o=Tr.Default;for(let l=0;l<r.length;l++){const c=r[l],u=Zl(c);"number"==typeof u?-1===u?i=c.token:o|=u:i=c}n.push(Xt(i,o))}else n.push(Xt(r))}return n}function Hl(t,n){return t[wd]=n,t.prototype[wd]=n,t}function Zl(t){return t[wd]}function Jo(t){return{toString:t}.toString()}var Gc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gc||{}),co=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(co||{});const ps={},xr=[],rl=rr({\u0275cmp:rr}),Dd=rr({\u0275dir:rr}),il=rr({\u0275pipe:rr}),xd=rr({\u0275mod:rr}),Ns=rr({\u0275fac:rr}),Ca=rr({__NG_ELEMENT_ID__:rr}),qc=rr({__NG_ENV_ID__:rr});function jh(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}function ol(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],l=e[r++],c=e[r++];t.setAttribute(n,l,c,o)}else{const o=i,l=e[++r];Hh(o)?t.setProperty(n,o,l):t.setAttribute(n,o,l),r++}}return r}function Rd(t){return 3===t||4===t||6===t}function Hh(t){return 64===t.charCodeAt(0)}function Ia(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||Yc(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function Yc(t,n,e,r,i){let o=0,l=t.length;if(-1===n)l=-1;else for(;o<t.length;){const c=t[o++];if("number"==typeof c){if(c===n){l=-1;break}if(c>n){l=o-1;break}}}for(;o<t.length;){const c=t[o];if("number"==typeof c)break;if(c===e){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(t.splice(l,0,n),o=l+1),t.splice(o++,0,e),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Zh="ng-template";function $c(t,n,e){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const l=t[r++];if(e&&"class"===o&&-1!==jh(l.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function zh(t){return 4===t.type&&t.value!==Zh}function u_(t,n,e){return n===(4!==t.type||e?t.value:Zh)}function Md(t,n,e){let r=4;const i=t.attrs||[],o=function d_(t){for(let n=0;n<t.length;n++)if(Rd(t[n]))return n;return t.length}(i);let l=!1;for(let c=0;c<n.length;c++){const u=n[c];if("number"!=typeof u){if(!l)if(4&r){if(r=2|1&r,""!==u&&!u_(t,u,e)||""===u&&1===n.length){if(uo(r))return!1;l=!0}}else{const m=8&r?u:n[++c];if(8&r&&null!==t.attrs){if(!$c(t.attrs,m,e)){if(uo(r))return!1;l=!0}continue}const W=Nd(8&r?"class":u,i,zh(t),e);if(-1===W){if(uo(r))return!1;l=!0;continue}if(""!==m){let ge;ge=W>o?"":i[W+1].toLowerCase();const Re=8&r?ge:null;if(Re&&-1!==jh(Re,m,0)||2&r&&m!==ge){if(uo(r))return!1;l=!0}}}}else{if(!l&&!uo(r)&&!uo(u))return!1;if(l&&uo(u))continue;l=!1,r=u|1&r}}return uo(r)||l}function uo(t){return 0==(1&t)}function Nd(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){const l=n[i];if(l===t)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=n[++i];for(;"string"==typeof c;)c=n[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function f_(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Gh(t,n,e=!1){for(let r=0;r<n.length;r++)if(Md(t,n[r],e))return!0;return!1}function h_(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function qh(t,n){return t?":not("+n.trim()+")":n}function sl(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let l=t[e];if("string"==typeof l)if(2&r){const c=t[++e];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!uo(l)&&(n+=qh(o,i),i=""),r=l,o=o||!uo(r);e++}return""!==i&&(n+=qh(o,i)),n}function vr(t){return Jo(()=>{const n=Fd(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||co.Emulated,styles:t.styles||xr,_:null,schemas:t.schemas||null,tView:null,id:""};Ld(e);const r=t.dependencies;return e.directiveDefs=Xc(r,!1),e.pipeDefs=Xc(r,!0),e.id=function Yh(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function p_(t){return Rr(t)||ki(t)}function kd(t){return null!==t}function Kr(t){return Jo(()=>({type:t.type,bootstrap:t.bootstrap||xr,declarations:t.declarations||xr,imports:t.imports||xr,exports:t.exports||xr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zl(t,n){if(null==t)return ps;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,n&&(n[i]=o)}return e}function kn(t){return Jo(()=>{const n=Fd(t);return Ld(n),n})}function Pi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Rr(t){return t[rl]||null}function ki(t){return t[Dd]||null}function fo(t){return t[il]||null}function Co(t,n){const e=t[xd]||null;if(!e&&!0===n)throw new Error(`Type ${Ir(t)} does not have '\u0275mod' property.`);return e}function Fd(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ps,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||xr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zl(t.inputs,n),outputs:zl(t.outputs)}}function Ld(t){t.features?.forEach(n=>n(t))}function Xc(t,n){if(!t)return null;const e=n?fo:p_;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(kd)}const vi=0,Mn=1,fr=2,ni=3,Vo=4,Gl=5,no=6,Da=7,yi=8,es=9,xa=10,ur=11,al=12,$h=13,Ra=14,wi=15,Ma=16,Ws=17,ms=18,ql=19,Bd=20,Ks=21,Os=22,ll=23,cl=24,pr=25,Qc=1,Ud=2,gs=7,Na=9,Yi=11;function ho(t){return Array.isArray(t)&&"object"==typeof t[Qc]}function ro(t){return Array.isArray(t)&&!0===t[Qc]}function Vd(t){return 0!=(4&t.flags)}function Xs(t){return t.componentOffset>-1}function eu(t){return 1==(1&t.flags)}function jo(t){return!!t.template}function Yl(t){return 0!=(512&t[fr])}function Oa(t,n){return t.hasOwnProperty(Ns)?t[Ns]:null}const Qs=Symbol("SIGNAL");function Xh(t,n){return(null===t||"object"!=typeof t)&&Object.is(t,n)}let Fi=null,nu=!1;function Io(t){const n=Fi;return Fi=t,n}const ru={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function iu(t){if(nu)throw new Error("");if(null===Fi)return;const n=Fi.nextProducerIndex++;Js(Fi),n<Fi.producerNode.length&&Fi.producerNode[n]!==t&&Xl(Fi)&&Kl(Fi.producerNode[n],Fi.producerIndexOfThis[n]),Fi.producerNode[n]!==t&&(Fi.producerNode[n]=t,Fi.producerIndexOfThis[n]=Xl(Fi)?ep(t,Fi,n):0),Fi.producerLastReadVersion[n]=t.version}function $l(t){if(!Xl(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Jh(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ou(t){if(void 0===t.liveConsumerNode)return;const n=nu;nu=!0;try{for(const e of t.liveConsumerNode)e.dirty||Qh(e)}finally{nu=n}}function Wl(){return!1!==Fi?.consumerAllowSignalWrites}function Qh(t){t.dirty=!0,ou(t),t.consumerMarkedDirty?.(t)}function Pa(t){return t&&(t.nextProducerIndex=0),Io(t)}function su(t,n){if(Io(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xl(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Kl(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Jh(t){Js(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||($l(e),r!==e.version))return!0}return!1}function jd(t){if(Js(t),Xl(t))for(let n=0;n<t.producerNode.length;n++)Kl(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ep(t,n,e){if(Hd(t),Js(t),0===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ep(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Kl(t,n){if(Hd(t),Js(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Kl(t.producerNode[r],t.producerIndexOfThis[r]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];Js(i),i.producerIndexOfThis[r]=n}}function Xl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Js(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Hd(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ka(t,n){const e=Object.create(C_);e.computation=t,n?.equal&&(e.equal=n.equal);const r=()=>{if($l(e),iu(e),e.value===Ql)throw e.error;return e.value};return r[Qs]=e,r}const au=Symbol("UNSET"),Zd=Symbol("COMPUTING"),Ql=Symbol("ERRORED"),C_=(()=>({...ru,value:au,dirty:!0,error:null,equal:Xh,producerMustRecompute:t=>t.value===au||t.value===Zd,producerRecomputeValue(t){if(t.value===Zd)throw new Error("Detected cycle in computations.");const n=t.value;t.value=Zd;const e=Pa(t);let r;try{r=t.computation()}catch(i){r=Ql,t.error=i}finally{su(t,e)}n!==au&&n!==Ql&&r!==Ql&&t.equal(n,r)?t.value=n:(t.value=r,t.version++)}}))();let np=function tp(){throw new Error};function lu(){np()}let cu=null;function _s(t,n){const e=Object.create(uu);function r(){return iu(e),e.value}return e.value=t,n?.equal&&(e.equal=n.equal),r.set=_,r.update=p,r.mutate=b,r.asReadonly=M,r[Qs]=e,r}const uu=(()=>({...ru,equal:Xh,readonlyFn:void 0}))();function ip(t){t.version++,ou(t),cu?.()}function _(t){const n=this[Qs];Wl()||lu(),n.equal(n.value,t)||(n.value=t,ip(n))}function p(t){Wl()||lu(),_.call(this,t(this[Qs].value))}function b(t){const n=this[Qs];Wl()||lu(),t(n.value),ip(n)}function M(){const t=this[Qs];if(void 0===t.readonlyFn){const n=()=>this();n[Qs]=t,t.readonlyFn=n}return t.readonlyFn}function F(t){const n=Io(null);try{return t()}finally{Io(n)}}const C=()=>{},U=(()=>({...ru,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:C}))();class re{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function K(){return V}function V(t){return t.type.prototype.ngOnChanges&&(t.setInput=ee),ne}function ne(){const t=me(this),n=t?.current;if(n){const e=t.previous;if(e===ps)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function ee(t,n,e,r){const i=this.declaredInputs[e],o=me(t)||function Te(t,n){return t[Ie]=n}(t,{previous:ps,current:null}),l=o.current||(o.current={}),c=o.previous,u=c[i];l[i]=new re(u&&u.currentValue,n,c===ps),t[r]=n}K.ngInherit=!0;const Ie="__ngSimpleChanges__";function me(t){return t[Ie]||null}const be=function(t,n,e){},le="svg";function w(t){for(;Array.isArray(t);)t=t[vi];return t}function G(t,n){return w(n[t])}function L(t,n){return w(n[t.index])}function se(t,n){return t.data[n]}function ie(t,n){return t[n]}function he(t,n){const e=n[t];return ho(e)?e:e[vi]}function Me(t,n){return null==n?null:t[n]}function Xe(t){t[Ws]=0}function Be(t){1024&t[fr]||(t[fr]|=1024,He(t,1))}function Ue(t){1024&t[fr]&&(t[fr]&=-1025,He(t,-1))}function He(t,n){let e=t[ni];if(null===e)return;e[Gl]+=n;let r=e;for(e=e[ni];null!==e&&(1===n&&1===r[Gl]||-1===n&&0===r[Gl]);)e[Gl]+=n,r=e,e=e[ni]}function Nt(t,n){if(256==(256&t[fr]))throw new Gt(911,!1);null===t[Ks]&&(t[Ks]=[]),t[Ks].push(n)}const dt={lFrame:ea(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Oe(){return dt.bindingsEnabled}function Ye(){return null!==dt.skipHydrationRootTNode}function bt(){return dt.lFrame.lView}function rn(){return dt.lFrame.tView}function un(t){return dt.lFrame.contextLView=t,t[yi]}function hn(t){return dt.lFrame.contextLView=null,t}function En(){let t=Fn();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fn(){return dt.lFrame.currentTNode}function Qn(t,n){const e=dt.lFrame;e.currentTNode=t,e.isParent=n}function Jn(){return dt.lFrame.isParent}function lr(){dt.lFrame.isParent=!1}function cn(){const t=dt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function lt(){return dt.lFrame.bindingIndex++}function je(t){const n=dt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function It(t,n){const e=dt.lFrame;e.bindingIndex=e.bindingRootIndex=t,gn(n)}function gn(t){dt.lFrame.currentDirectiveIndex=t}function Lr(){return dt.lFrame.currentQueryIndex}function Ni(t){dt.lFrame.currentQueryIndex=t}function Br(t){const n=t[Mn];return 2===n.type?n.declTNode:1===n.type?t[no]:null}function $i(t,n,e){if(e&Tr.SkipSelf){let i=n,o=t;for(;!(i=i.parent,null!==i||e&Tr.Host||(i=Br(o),null===i||(o=o[Ra],10&i.type))););if(null===i)return!1;n=i,t=o}const r=dt.lFrame=vs();return r.currentTNode=n,r.lView=t,!0}function Ii(t){const n=vs(),e=t[Mn];dt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function vs(){const t=dt.lFrame,n=null===t?null:t.child;return null===n?ea(t):n}function ea(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ho(){const t=dt.lFrame;return dt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ys=Ho;function po(){const t=Ho();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bi(){return dt.lFrame.selectedIndex}function vo(t){dt.lFrame.selectedIndex=t}function Xr(){const t=dt.lFrame;return se(t.tView,t.selectedIndex)}function Fa(){dt.lFrame.currentNamespace=le}let vt=!0;function $t(){return vt}function Cn(t){vt=t}function dr(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:m,ngOnDestroy:x}=o;l&&(t.contentHooks??=[]).push(-e,l),c&&((t.contentHooks??=[]).push(e,c),(t.contentCheckHooks??=[]).push(e,c)),u&&(t.viewHooks??=[]).push(-e,u),m&&((t.viewHooks??=[]).push(e,m),(t.viewCheckHooks??=[]).push(e,m)),null!=x&&(t.destroyHooks??=[]).push(e,x)}}function hr(t,n,e){kr(t,n,3,e)}function qn(t,n,e,r){(3&t[fr])===e&&kr(t,n,e,r)}function Ur(t,n){let e=t[fr];(3&e)===n&&(e&=8191,e+=1,t[fr]=e)}function kr(t,n,e,r){const o=r??-1,l=n.length-1;let c=0;for(let u=void 0!==r?65535&t[Ws]:0;u<l;u++)if("number"==typeof n[u+1]){if(c=n[u],null!=r&&c>=r)break}else n[u]<0&&(t[Ws]+=65536),(c<o||-1==o)&&(hl(t,e,n,u),t[Ws]=(4294901760&t[Ws])+u+2),u++}function bs(t,n){be(4,t,n);const e=Io(null);try{n.call(t)}finally{Io(e),be(5,t,n)}}function hl(t,n,e,r){const i=e[r]<0,o=e[r+1],c=t[i?-e[r]:e[r]];i?t[fr]>>13<t[Ws]>>16&&(3&t[fr])===n&&(t[fr]+=8192,bs(c,o)):bs(c,o)}const du=-1;class zd{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function D_(t){return t!==du}function Gd(t){return 32767&t}function qd(t,n){let e=function fN(t){return t>>16}(t),r=n;for(;e>0;)r=r[Ra],e--;return r}let x_=!0;function op(t){const n=x_;return x_=t,n}const q0=255,Y0=5;let hN=0;const na={};function sp(t,n){const e=$0(t,n);if(-1!==e)return e;const r=n[Mn];r.firstCreatePass&&(t.injectorIndex=n.length,R_(r.data,t),R_(n,null),R_(r.blueprint,null));const i=ap(t,n),o=t.injectorIndex;if(D_(i)){const l=Gd(i),c=qd(i,n),u=c[Mn].data;for(let m=0;m<8;m++)n[o+m]=c[l+m]|u[l+m]}return n[o+8]=i,o}function R_(t,n){t.push(0,0,0,0,0,0,0,0,n)}function $0(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ap(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=tT(i),null===r)return du;if(e++,i=i[Ra],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return du}function M_(t,n,e){!function pN(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ca)&&(r=e[Ca]),null==r&&(r=e[Ca]=hN++);const i=r&q0;n.data[t+(i>>Y0)]|=1<<i}(t,n,e)}function W0(t,n,e){if(e&Tr.Optional||void 0!==t)return t;Ea()}function K0(t,n,e,r){if(e&Tr.Optional&&void 0===r&&(r=null),!(e&(Tr.Self|Tr.Host))){const i=t[es],o=_o(void 0);try{return i?i.get(n,r,e&Tr.Optional):Vl(n,r,e&Tr.Optional)}finally{_o(o)}}return W0(r,0,e)}function X0(t,n,e,r=Tr.Default,i){if(null!==t){if(2048&n[fr]&&!(r&Tr.Self)){const l=function bN(t,n,e,r,i){let o=t,l=n;for(;null!==o&&null!==l&&2048&l[fr]&&!(512&l[fr]);){const c=Q0(o,l,e,r|Tr.Self,na);if(c!==na)return c;let u=o.parent;if(!u){const m=l[Bd];if(m){const x=m.get(e,na,r);if(x!==na)return x}u=tT(l),l=l[Ra]}o=u}return i}(t,n,e,r,na);if(l!==na)return l}const o=Q0(t,n,e,r,na);if(o!==na)return o}return K0(n,e,r,i)}function Q0(t,n,e,r,i){const o=function _N(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ca)?t[Ca]:void 0;return"number"==typeof n?n>=0?n&q0:yN:n}(e);if("function"==typeof o){if(!$i(n,t,r))return r&Tr.Host?W0(i,0,r):K0(n,e,r,i);try{let l;if(l=o(r),null!=l||r&Tr.Optional)return l;Ea()}finally{ys()}}else if("number"==typeof o){let l=null,c=$0(t,n),u=du,m=r&Tr.Host?n[wi][no]:null;for((-1===c||r&Tr.SkipSelf)&&(u=-1===c?ap(t,n):n[c+8],u!==du&&eT(r,!1)?(l=n[Mn],c=Gd(u),n=qd(u,n)):c=-1);-1!==c;){const x=n[Mn];if(J0(o,c,x.data)){const W=gN(c,n,e,l,r,m);if(W!==na)return W}u=n[c+8],u!==du&&eT(r,n[Mn].data[c+8]===m)&&J0(o,c,n)?(l=x,c=Gd(u),n=qd(u,n)):c=-1}}return i}function gN(t,n,e,r,i,o){const l=n[Mn],c=l.data[t+8],x=lp(c,l,e,null==r?Xs(c)&&x_:r!=l&&0!=(3&c.type),i&Tr.Host&&o===c);return null!==x?ec(n,l,x,c):na}function lp(t,n,e,r,i){const o=t.providerIndexes,l=n.data,c=1048575&o,u=t.directiveStart,x=o>>20,ge=i?c+x:t.directiveEnd;for(let Re=r?c:c+x;Re<ge;Re++){const Ke=l[Re];if(Re<u&&e===Ke||Re>=u&&Ke.type===e)return Re}if(i){const Re=l[u];if(Re&&jo(Re)&&Re.type===e)return u}return null}function ec(t,n,e,r){let i=t[e];const o=n.data;if(function cN(t){return t instanceof zd}(i)){const l=i;l.resolving&&function Fc(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Gt(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Nr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ir(t)}(o[e]));const c=op(l.canSeeViewProviders);l.resolving=!0;const m=l.injectImpl?_o(l.injectImpl):null;$i(t,r,Tr.Default);try{i=t[e]=l.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Hn(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const l=V(n);(e.preOrderHooks??=[]).push(t,l),(e.preOrderCheckHooks??=[]).push(t,l)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==m&&_o(m),op(c),l.resolving=!1,ys()}}return i}function J0(t,n,e){return!!(e[n+(t>>Y0)]&1<<t)}function eT(t,n){return!(t&Tr.Self||t&Tr.Host&&n)}class Ao{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return X0(this._tNode,this._lView,n,jl(r),e)}}function yN(){return new Ao(En(),bt())}function Wi(t){return Jo(()=>{const n=t.prototype.constructor,e=n[Ns]||N_(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ns]||N_(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function N_(t){return Xo(t)?()=>{const n=N_(jn(t));return n&&n()}:Oa(t)}function tT(t){const n=t[Mn],e=n.type;return 2===e?n.declTNode:1===e?t[no]:null}function tc(t){return function mN(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(Rd(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===n)return e[i+1];i+=2}}}return null}(En(),t)}const hu="__parameters__";function mu(t,n,e){return Jo(()=>{const r=function O_(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const l=new i(...o);return c.annotation=l,c;function c(u,m,x){const W=u.hasOwnProperty(hu)?u[hu]:Object.defineProperty(u,hu,{value:[]})[hu];for(;W.length<=x;)W.push(null);return(W[x]=W[x]||[]).push(l),u}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function _u(t,n){t.forEach(e=>Array.isArray(e)?_u(e,n):n(e))}function rT(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function cp(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Wd(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function ts(t,n,e){let r=vu(t,n);return r>=0?t[1|r]=e:(r=~r,function AN(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function P_(t,n){const e=vu(t,n);if(e>=0)return t[1|e]}function vu(t,n){return function iT(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const o=r+(i-r>>1),l=t[o<<e];if(n===l)return o<<e;l>n?i=o:r=o+1}return~(i<<e)}(t,n,1)}const yu=Hl(mu("Optional"),8),dp=Hl(mu("SkipSelf"),4);function gp(t){return 128==(128&t.flags)}var pl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(pl||{});const $N=/^>|^->|<!--|-->|--!>|<!-$/g,WN=/(<|>)/g,KN="\u200b$1\u200b";const U_=new Map;let XN=0;const j_="__ngContext__";function yo(t,n){ho(n)?(t[j_]=n[ql],function JN(t){U_.set(t[ql],t)}(n)):t[j_]=n}let H_;function Z_(t,n){return H_(t,n)}function Qd(t){const n=t[ni];return ro(n)?n[ni]:n}function ST(t){return IT(t[al])}function CT(t){return IT(t[Vo])}function IT(t){for(;null!==t&&!ro(t);)t=t[Vo];return t}function Tu(t,n,e,r,i){if(null!=r){let o,l=!1;ro(r)?o=r:ho(r)&&(l=!0,r=r[vi]);const c=w(r);0===t&&null!==e?null==i?RT(n,e,c):nc(n,e,c,i||null,!0):1===t&&null!==e?nc(n,e,c,i||null,!0):2===t?function wp(t,n,e){const r=Ep(t,n);r&&function vO(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,c,l):3===t&&n.destroyNode(c),null!=o&&function EO(t,n,e,r,i){const o=e[gs];o!==w(e)&&Tu(n,t,r,o,i);for(let c=Yi;c<e.length;c++){const u=e[c];ef(u[Mn],u,t,n,r,o)}}(n,t,o,e,i)}}function z_(t,n){return t.createComment(function gT(t){return t.replace($N,n=>n.replace(WN,KN))}(n))}function yp(t,n,e){return t.createElement(n,e)}function DT(t,n){const e=t[Na],r=e.indexOf(n);Ue(n),e.splice(r,1)}function bp(t,n){if(t.length<=Yi)return;const e=Yi+n,r=t[e];if(r){const i=r[Ma];null!==i&&i!==t&&DT(i,r),n>0&&(t[e-1][Vo]=r[Vo]);const o=cp(t,Yi+n);!function uO(t,n){ef(t,n,n[ur],2,null,null),n[vi]=null,n[no]=null}(r[Mn],r);const l=o[ms];null!==l&&l.detachView(o[Mn]),r[ni]=null,r[Vo]=null,r[fr]&=-129}return r}function G_(t,n){if(!(256&n[fr])){const e=n[ur];n[ll]&&jd(n[ll]),n[cl]&&jd(n[cl]),e.destroyNode&&ef(t,n,e,3,null,null),function hO(t){let n=t[al];if(!n)return q_(t[Mn],t);for(;n;){let e=null;if(ho(n))e=n[al];else{const r=n[Yi];r&&(e=r)}if(!e){for(;n&&!n[Vo]&&n!==t;)ho(n)&&q_(n[Mn],n),n=n[ni];null===n&&(n=t),ho(n)&&q_(n[Mn],n),e=n&&n[Vo]}n=e}}(n)}}function q_(t,n){if(!(256&n[fr])){n[fr]&=-129,n[fr]|=256,function _O(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof zd)){const o=e[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=i[o[l]],u=o[l+1];be(4,c,u);try{u.call(c)}finally{be(5,c,u)}}else{be(4,i,o);try{o.call(i)}finally{be(5,i,o)}}}}}(t,n),function gO(t,n){const e=t.cleanup,r=n[Da];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const l=e[o+3];l>=0?r[l]():r[-l].unsubscribe(),o+=2}else e[o].call(r[e[o+1]]);null!==r&&(n[Da]=null);const i=n[Ks];if(null!==i){n[Ks]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,n),1===n[Mn].type&&n[ur].destroy();const e=n[Ma];if(null!==e&&ro(n[ni])){e!==n[ni]&&DT(e,n);const r=n[ms];null!==r&&r.detachView(t)}!function eO(t){U_.delete(t[ql])}(n)}}function Y_(t,n,e){return function xT(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[vi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===co.None||o===co.Emulated)return null}return L(r,e)}}(t,n.parent,e)}function nc(t,n,e,r,i){t.insertBefore(n,e,r,i)}function RT(t,n,e){t.appendChild(n,e)}function MT(t,n,e,r,i){null!==r?nc(t,n,e,r,i):RT(t,n,e)}function Ep(t,n){return t.parentNode(n)}function NT(t,n,e){return PT(t,n,e)}let $_,Sp,Q_,Cp,PT=function OT(t,n,e){return 40&t.type?L(t,e):null};function Tp(t,n,e,r){const i=Y_(t,r,n),o=n[ur],c=NT(r.parent||n[no],r,n);if(null!=i)if(Array.isArray(e))for(let u=0;u<e.length;u++)MT(o,i,e[u],c,!1);else MT(o,i,e,c,!1);void 0!==$_&&$_(o,r,n,e,i)}function Jd(t,n){if(null!==n){const e=n.type;if(3&e)return L(n,t);if(4&e)return W_(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Jd(t,r);{const i=t[n.index];return ro(i)?W_(-1,i):w(i)}}if(32&e)return Z_(n,t)()||w(t[n.index]);{const r=FT(t,n);return null!==r?Array.isArray(r)?r[0]:Jd(Qd(t[wi]),r):Jd(t,n.next)}}return null}function FT(t,n){return null!==n?t[wi][no].projection[n.projection]:null}function W_(t,n){const e=Yi+t+1;if(e<n.length){const r=n[e],i=r[Mn].firstChild;if(null!==i)return Jd(r,i)}return n[gs]}function K_(t,n,e,r,i,o,l){for(;null!=e;){const c=r[e.index],u=e.type;if(l&&0===n&&(c&&yo(w(c),r),e.flags|=2),32!=(32&e.flags))if(8&u)K_(t,n,e.child,r,i,o,!1),Tu(n,t,i,c,o);else if(32&u){const m=Z_(e,r);let x;for(;x=m();)Tu(n,t,i,x,o);Tu(n,t,i,c,o)}else 16&u?BT(t,n,r,e,i,o):Tu(n,t,i,c,o);e=l?e.projectionNext:e.next}}function ef(t,n,e,r,i,o){K_(e,r,t.firstChild,n,i,o,!1)}function BT(t,n,e,r,i,o){const l=e[wi],u=l[no].projection[r.projection];if(Array.isArray(u))for(let m=0;m<u.length;m++)Tu(n,t,i,u[m],o);else{let m=u;const x=l[ni];gp(r)&&(m.flags|=128),K_(t,n,m,x,i,o,!0)}}function UT(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function VT(t,n,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&ol(t,n,r),null!==i&&UT(t,n,i),null!==o&&function wO(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}function wu(t){return function X_(){if(void 0===Sp&&(Sp=null,Gr.trustedTypes))try{Sp=Gr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sp}()?.createHTML(t)||t}function Su(){if(void 0!==Q_)return Q_;if(typeof document<"u")return document;throw new Gt(210,!1)}function J_(){if(void 0===Cp&&(Cp=null,Gr.trustedTypes))try{Cp=Gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cp}function jT(t){return J_()?.createHTML(t)||t}function ZT(t){return J_()?.createScriptURL(t)||t}class rc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ds})`}}class DO extends rc{getTypeName(){return"HTML"}}class xO extends rc{getTypeName(){return"Style"}}class RO extends rc{getTypeName(){return"Script"}}class MO extends rc{getTypeName(){return"URL"}}class NO extends rc{getTypeName(){return"ResourceURL"}}function ns(t){return t instanceof rc?t.changingThisBreaksApplicationSecurity:t}function ra(t,n){const e=function OO(t){return t instanceof rc&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${ds})`)}return e===n}class UO{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(wu(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class VO{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=wu(n),e}}const HO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ip(t){return(t=String(t)).match(HO)?t:"unsafe:"+t}function Ba(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function tf(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const GT=Ba("area,br,col,hr,img,wbr"),qT=Ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YT=Ba("rp,rt"),ev=tf(GT,tf(qT,Ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tf(YT,Ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tf(YT,qT)),tv=Ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$T=tf(tv,Ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ZO=Ba("script,style,template");class zO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!ev.hasOwnProperty(e))return this.sanitizedSomething=!0,!ZO.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),l=o.name,c=l.toLowerCase();if(!$T.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;tv[c]&&(u=Ip(u)),this.buf.push(" ",l,'="',WT(u),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();ev.hasOwnProperty(e)&&!GT.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(WT(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const GO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qO=/([^\#-~ |!])/g;function WT(t){return t.replace(/&/g,"&amp;").replace(GO,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(qO,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ap;function KT(t,n){let e=null;try{Ap=Ap||function zT(t){const n=new VO(t);return function jO(){try{return!!(new window.DOMParser).parseFromString(wu(""),"text/html")}catch{return!1}}()?new UO(n):n}(t);let r=n?String(n):"";e=Ap.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Ap.getInertBodyElement(r)}while(r!==o);return wu((new zO).sanitizeChildren(nv(e)||e))}finally{if(e){const r=nv(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function nv(t){return"content"in t&&function YO(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Li=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Li||{});function rv(t){const n=nf();return n?jT(n.sanitize(Li.HTML,t)||""):ra(t,"HTML")?jT(ns(t)):KT(Su(),ir(t))}function XT(t){const n=nf();return n?n.sanitize(Li.STYLE,t)||"":ra(t,"Style")?ns(t):ir(t)}function ic(t){const n=nf();return n?n.sanitize(Li.URL,t)||"":ra(t,"URL")?ns(t):Ip(ir(t))}function QT(t){const n=nf();if(n)return ZT(n.sanitize(Li.RESOURCE_URL,t)||"");if(ra(t,"ResourceURL"))return ZT(ns(t));throw new Gt(904,!1)}function nf(){const t=bt();return t&&t[xa].sanitizer}const rf=new on("ENVIRONMENT_INITIALIZER"),ew=new on("INJECTOR",-1),tw=new on("INJECTOR_DEF_TYPES");class iv{get(n,e=el){if(e===el){const r=new Error(`NullInjectorError: No provider for ${Ir(n)}!`);throw r.name="NullInjectorError",r}return e}}function ov(t){return{\u0275providers:t}}function QO(...t){return{\u0275providers:nw(0,t),\u0275fromNgModule:!0}}function nw(t,...n){const e=[],r=new Set;let i;const o=l=>{e.push(l)};return _u(n,l=>{const c=l;Dp(c,o,[],r)&&(i||=[],i.push(c))}),void 0!==i&&rw(i,o),e}function rw(t,n){for(let e=0;e<t.length;e++){const{ngModule:r,providers:i}=t[e];sv(i,o=>{n(o,r)})}}function Dp(t,n,e,r){if(!(t=jn(t)))return!1;let i=null,o=Bc(t);const l=!o&&Rr(t);if(o||l){if(l&&!l.standalone)return!1;i=t}else{const u=t.ngModule;if(o=Bc(u),!o)return!1;i=u}const c=r.has(i);if(l){if(c)return!1;if(r.add(i),l.dependencies){const u="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const m of u)Dp(m,n,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let m;r.add(i);try{_u(o.imports,x=>{Dp(x,n,e,r)&&(m||=[],m.push(x))})}finally{}void 0!==m&&rw(m,n)}if(!c){const m=Oa(i)||(()=>new i);n({provide:i,useFactory:m,deps:xr},i),n({provide:tw,useValue:i,multi:!0},i),n({provide:rf,useValue:()=>Xt(i),multi:!0},i)}const u=o.providers;if(null!=u&&!c){const m=t;sv(u,x=>{n(x,m)})}}}return i!==t&&void 0!==t.providers}function sv(t,n){for(let e of t)lo(e)&&(e=e.\u0275providers),Array.isArray(e)?sv(e,n):n(e)}const JO=rr({provide:String,useValue:rr});function av(t){return null!==t&&"object"==typeof t&&JO in t}function oc(t){return"function"==typeof t}const lv=new on("Set Injector scope."),xp={},tP={};let cv;function Rp(){return void 0===cv&&(cv=new iv),cv}class ks{}class Cu extends ks{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dv(n,l=>this.processProvider(l)),this.records.set(ew,Iu(void 0,this)),i.has("environment")&&this.records.set(ks,Iu(void 0,this));const o=this.records.get(lv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tw.multi,xr,Tr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Ms(this),r=_o(void 0);try{return n()}finally{Ms(e),_o(r)}}get(n,e=el,r=Tr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(qc))return n[qc](this);r=jl(r);const o=Ms(this),l=_o(void 0);try{if(!(r&Tr.SkipSelf)){let u=this.records.get(n);if(void 0===u){const m=function sP(t){return"function"==typeof t||"object"==typeof t&&t instanceof on}(n)&&Ja(n);u=m&&this.injectableDefInScope(m)?Iu(uv(n),xp):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(r&Tr.Self?Rp():this.parent).get(n,e=r&Tr.Optional&&e===el?null:e)}catch(c){if("NullInjectorError"===c.name){if((c[tl]=c[tl]||[]).unshift(Ir(n)),o)throw c;return function Ad(t,n,e,r){const i=t[tl];throw n[Cd]&&i.unshift(n[Cd]),t.message=function qr(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ir(n);if(Array.isArray(n))i=n.map(Ir).join(" -> ");else if("object"==typeof n){let o=[];for(let l in n)if(n.hasOwnProperty(l)){let c=n[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):Ir(c)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(l_,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[tl]=null,t}(c,n,"R3InjectorError",this.source)}throw c}finally{_o(l),Ms(o)}}resolveInjectorInitializers(){const n=Ms(this),e=_o(void 0);try{const i=this.get(rf.multi,xr,Tr.Self);for(const o of i)o()}finally{Ms(n),_o(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Ir(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Gt(205,!1)}processProvider(n){let e=oc(n=jn(n))?n:jn(n&&n.provide);const r=function rP(t){return av(t)?Iu(void 0,t.useValue):Iu(sw(t),xp)}(n);if(oc(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Iu(void 0,xp,!0),i.factory=()=>Id(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===xp&&(e.value=tP,e.value=e.factory()),"object"==typeof e.value&&e.value&&function oP(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=jn(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function uv(t){const n=Ja(t),e=null!==n?n.factory:Oa(t);if(null!==e)return e;if(t instanceof on)throw new Gt(204,!1);if(t instanceof Function)return function nP(t){const n=t.length;if(n>0)throw Wd(n,"?"),new Gt(204,!1);const e=function kh(t){return t&&(t[Ul]||t[Fh])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Gt(204,!1)}function sw(t,n,e){let r;if(oc(t)){const i=jn(t);return Oa(i)||uv(i)}if(av(t))r=()=>jn(t.useValue);else if(function ow(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Id(t.deps||[]));else if(function iw(t){return!(!t||!t.useExisting)}(t))r=()=>Xt(jn(t.useExisting));else{const i=jn(t&&(t.useClass||t.provide));if(!function iP(t){return!!t.deps}(t))return Oa(i)||uv(i);r=()=>new i(...Id(t.deps))}return r}function Iu(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function dv(t,n){for(const e of t)Array.isArray(e)?dv(e,n):e&&lo(e)?dv(e.\u0275providers,n):n(e)}const Mp=new on("AppId",{providedIn:"root",factory:()=>aP}),aP="ng",aw=new on("Platform Initializer"),sc=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ts=new on("AnimationModuleType"),fv=new on("CSP nonce",{providedIn:"root",factory:()=>Su().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lw=(t,n,e)=>null;function bv(t,n,e=!1){return lw(t,n,e)}class _P{}class dw{}class yP{resolveComponentFactory(n){throw function vP(t){const n=Error(`No component factory found for ${Ir(t)}.`);return n.ngComponent=t,n}(n)}}let lf=(()=>{class t{static#e=this.NULL=new yP}return t})();function bP(){return xu(En(),bt())}function xu(t,n){return new Ar(L(t,n))}let Ar=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=bP}return t})();function EP(t){return t instanceof Ar?t.nativeElement:t}class cf{}let Ua=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function TP(){const t=bt(),e=he(En().index,t);return(ho(e)?e:t)[ur]}()}return t})(),wP=(()=>{class t{static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:()=>null})}return t})();class ac{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const SP=new ac("16.2.12"),wv={};function Lp(t){if(!Bh()&&!function c_(){return Sa}())throw new Gt(-203,!1)}function gw(t,n=null,e=null,r){const i=_w(t,n,e,r);return i.resolveInjectorInitializers(),i}function _w(t,n=null,e=null,r,i=new Set){const o=[e||xr,QO(t)];return r=r||("object"==typeof t?void 0:Ir(t)),new Cu(o,n||Rp(),r||null,i)}let Do=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=el;static#t=this.NULL=new iv;static create(e,r){if(Array.isArray(e))return gw({name:""},r,e,"");{const i=e.name??"";return gw({name:i},e.parent,e.providers,i)}}static#n=this.\u0275prov=bn({token:t,providedIn:"any",factory:()=>Xt(ew)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Sv(t){return t.ngOriginalError}class ws{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Sv(n);for(;e&&Sv(e);)e=Sv(e);return e||null}}let uf=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=MP;static#t=this.__NG_ENV_ID__=e=>e}return t})();class RP extends uf{constructor(n){super(),this._lView=n}onDestroy(n){return Nt(this._lView,n),()=>function Ot(t,n){if(null===t[Ks])return;const e=t[Ks].indexOf(n);-1!==e&&t[Ks].splice(e,1)}(this._lView,n)}}function MP(){return new RP(bt())}function Cv(t){return n=>{setTimeout(t,void 0,n)}}const jr=class NP extends xe{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,o=e||(()=>null),l=r;if(n&&"object"==typeof n){const u=n;i=u.next?.bind(u),o=u.error?.bind(u),l=u.complete?.bind(u)}this.__isAsync&&(o=Cv(o),i&&(i=Cv(i)),l&&(l=Cv(l)));const c=super.subscribe({next:i,error:o,complete:l});return n instanceof H&&n.add(c),c}};function yw(...t){}class or{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jr(!1),this.onMicrotaskEmpty=new jr(!1),this.onStable=new jr(!1),this.onError=new jr(!1),typeof Zone>"u")throw new Gt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function OP(){const t="function"==typeof Gr.requestAnimationFrame;let n=Gr[t?"requestAnimationFrame":"setTimeout"],e=Gr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function FP(t){const n=()=>{!function kP(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Gr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Av(t),t.isCheckStableRunning=!0,Iv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Av(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,l,c)=>{if(function BP(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(c))return e.invokeTask(i,o,l,c);try{return bw(t),e.invokeTask(i,o,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),Ew(t)}},onInvoke:(e,r,i,o,l,c,u)=>{try{return bw(t),e.invoke(i,o,l,c,u)}finally{t.shouldCoalesceRunChangeDetection&&n(),Ew(t)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Av(t),Iv(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!or.isInAngularZone())throw new Gt(909,!1)}static assertNotInAngularZone(){if(or.isInAngularZone())throw new Gt(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,n,PP,yw,yw);try{return o.runTask(l,e,r)}finally{o.cancelTask(l)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const PP={};function Iv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Av(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ew(t){t._nesting--,Iv(t)}const Tw=new on("",{providedIn:"root",factory:ww});function ww(){const t=Yt(or);let n=!0;return So(new Ve(i=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(n),i.complete()})}),new Ve(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{or.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const l=t.onUnstable.subscribe(()=>{or.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),l.unsubscribe()}}).pipe(Wt()))}function Va(t){return t instanceof Function?t():t}let Dv=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:()=>new t})}return t})();function df(t){for(;t;){t[fr]|=64;const n=Qd(t);if(Yl(t)&&!n)return t;t=n}return null}const Dw=new on("",{providedIn:"root",factory:()=>!1});let Up=null;function Nw(t,n){return t[n]??kw()}function Ow(t,n){const e=kw();e.producerNode?.length&&(t[n]=Up,e.lView=t,Up=Pw())}const $P={...ru,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{df(t.lView)},lView:null};function Pw(){return Object.create($P)}function kw(){return Up??=Pw(),Up}const mr={};function Kt(t){Fw(rn(),bt(),bi()+t,!1)}function Fw(t,n,e,r){if(!r)if(3==(3&n[fr])){const o=t.preOrderCheckHooks;null!==o&&hr(n,o,e)}else{const o=t.preOrderHooks;null!==o&&qn(n,o,0,e)}vo(e)}function _t(t,n=Tr.Default){const e=bt();return null===e?Xt(t,n):X0(En(),e,jn(t),n)}function Vp(){throw new Error("invalid")}function jp(t,n,e,r,i,o,l,c,u,m,x){const W=n.blueprint.slice();return W[vi]=i,W[fr]=140|r,(null!==m||t&&2048&t[fr])&&(W[fr]|=2048),Xe(W),W[ni]=W[Ra]=t,W[yi]=e,W[xa]=l||t&&t[xa],W[ur]=c||t&&t[ur],W[es]=u||t&&t[es]||null,W[no]=o,W[ql]=function QN(){return XN++}(),W[Os]=x,W[Bd]=m,W[wi]=2==n.type?t[wi]:W,W}function Nu(t,n,e,r,i){let o=t.data[n];if(null===o)o=function xv(t,n,e,r,i){const o=Fn(),l=Jn(),u=t.data[n]=function nk(t,n,e,r,i,o){let l=n?n.injectorIndex:-1,c=0;return Ye()&&(c|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(l?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,n,e,r,i),function Ee(){return dt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const l=function Ln(){const t=dt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return Qn(o,!0),o}function ff(t,n,e,r){if(0===e)return-1;const i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Lw(t,n,e,r,i){const o=Nw(n,ll),l=bi(),c=2&r;try{vo(-1),c&&n.length>pr&&Fw(t,n,pr,!1),be(c?2:0,i);const m=c?o:null,x=Pa(m);try{null!==m&&(m.dirty=!1),e(r,i)}finally{su(m,x)}}finally{c&&null===n[ll]&&Ow(n,ll),vo(l),be(c?3:1,i)}}function Rv(t,n,e){if(Vd(n)){const r=Io(null);try{const o=n.directiveEnd;for(let l=n.directiveStart;l<o;l++){const c=t.data[l];c.contentQueries&&c.contentQueries(1,e[l],l)}}finally{Io(r)}}}function Mv(t,n,e){Oe()&&(function ck(t,n,e,r){const i=e.directiveStart,o=e.directiveEnd;Xs(e)&&function gk(t,n,e){const r=L(n,t),i=Bw(e);let l=16;e.signals?l=4096:e.onPush&&(l=64);const c=Hp(t,jp(t,i,null,l,r,n,null,t[xa].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=c}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||sp(e,n),yo(r,n);const l=e.initialInputs;for(let c=i;c<o;c++){const u=t.data[c],m=ec(n,t,c,e);yo(m,n),null!==l&&_k(0,c-i,m,u,0,l),jo(u)&&(he(e.index,n)[yi]=ec(n,t,c,e))}}(t,n,e,L(e,n)),64==(64&e.flags)&&Zw(t,n,e))}function Nv(t,n,e=L){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const l=r[o+1],c=-1===l?e(n,t):t[l];t[i++]=c}}}function Bw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ov(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ov(t,n,e,r,i,o,l,c,u,m,x){const W=pr+r,ge=W+i,Re=function KP(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:mr);return e}(W,ge),Ke="function"==typeof m?m():m;return Re[Mn]={type:t,blueprint:Re,template:e,queries:null,viewQuery:c,declTNode:n,data:Re.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:u,consts:Ke,incompleteFirstPass:!1,ssrId:x}}let Uw=t=>null;function Vw(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const o=t[i];null===r?jw(e,n,i,o):r.hasOwnProperty(i)&&jw(e,n,r[i],o)}return e}function jw(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function rs(t,n,e,r,i,o,l,c){const u=L(n,e);let x,m=n.inputs;!c&&null!=m&&(x=m[r])?(Bv(t,e,x,r,i),Xs(n)&&function ok(t,n){const e=he(n,t);16&e[fr]||(e[fr]|=64)}(e,n.index)):3&n.type&&(r=function ik(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=l?l(i,n.value||"",r):i,o.setProperty(u,r,i))}function Pv(t,n,e,r){if(Oe()){const i=null===r?null:{"":-1},o=function dk(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const l=e[o];if(Gh(n,l.selectors,!1))if(r||(r=[]),jo(l))if(null!==l.findHostDirectiveDefs){const c=[];i=i||new Map,l.findHostDirectiveDefs(l,c,i),r.unshift(...c,l),kv(t,n,c.length)}else r.unshift(l),kv(t,n,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,r,i),r.push(l)}return null===r?null:[r,i]}(t,e);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&Hw(t,n,e,l,i,c),i&&function fk(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const o=e[n[i+1]];if(null==o)throw new Gt(-301,!1);r.push(n[i],o)}}}(e,r,i)}e.mergedAttrs=Ia(e.mergedAttrs,e.attrs)}function Hw(t,n,e,r,i,o){for(let m=0;m<r.length;m++)M_(sp(e,n),t,r[m].type);!function pk(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let m=0;m<r.length;m++){const x=r[m];x.providersResolver&&x.providersResolver(x)}let l=!1,c=!1,u=ff(t,n,r.length,null);for(let m=0;m<r.length;m++){const x=r[m];e.mergedAttrs=Ia(e.mergedAttrs,x.hostAttrs),mk(t,e,n,u,x),hk(u,x,i),null!==x.contentQueries&&(e.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(e.flags|=64);const W=x.type.prototype;!l&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),l=!0),!c&&(W.ngOnChanges||W.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),c=!0),u++}!function rk(t,n,e){const i=n.directiveEnd,o=t.data,l=n.attrs,c=[];let u=null,m=null;for(let x=n.directiveStart;x<i;x++){const W=o[x],ge=e?e.get(W):null,Ke=ge?ge.outputs:null;u=Vw(W.inputs,x,u,ge?ge.inputs:null),m=Vw(W.outputs,x,m,Ke);const ct=null===u||null===l||zh(n)?null:vk(u,x,l);c.push(ct)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=c,n.inputs=u,n.outputs=m}(t,e,o)}function Zw(t,n,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,l=function tn(){return dt.lFrame.currentDirectiveIndex}();try{vo(o);for(let c=r;c<i;c++){const u=t.data[c],m=n[c];gn(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&uk(u,m)}}finally{vo(-1),gn(l)}}function uk(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function kv(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function hk(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;jo(n)&&(e[""]=t)}}function mk(t,n,e,r,i){t.data[r]=i;const o=i.factory||(i.factory=Oa(i.type)),l=new zd(o,jo(i),_t);t.blueprint[r]=l,e[r]=l,function ak(t,n,e,r,i){const o=i.hostBindings;if(o){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const c=~n.index;(function lk(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(l)!=c&&l.push(c),l.push(e,r,o)}}(t,n,r,ff(t,e,i.hostVars,mr),i)}function ia(t,n,e,r,i,o){const l=L(t,n);!function Fv(t,n,e,r,i,o,l){if(null==o)t.removeAttribute(n,i,e);else{const c=null==l?ir(o):l(o,r||"",i);t.setAttribute(n,i,c,e)}}(n[ur],l,o,t.value,e,r,i)}function _k(t,n,e,r,i,o){const l=o[n];if(null!==l)for(let c=0;c<l.length;)zw(r,e,l[c++],l[c++],l[c++])}function zw(t,n,e,r,i){const o=Io(null);try{const l=t.inputTransforms;null!==l&&l.hasOwnProperty(r)&&(i=l[r].call(n,i)),null!==t.setInput?t.setInput(n,i,e,r):n[r]=i}finally{Io(o)}}function vk(t,n,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const l=t[o];for(let c=0;c<l.length;c+=2)if(l[c]===n){r.push(o,l[c+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Gw(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function qw(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const l=t.data[o];Ni(e[r]),l.contentQueries(2,n[o],o)}}}function Hp(t,n){return t[al]?t[$h][Vo]=n:t[al]=n,t[$h]=n,n}function Lv(t,n,e){Ni(0);const r=Io(null);try{n(t,e)}finally{Io(r)}}function Yw(t){return t[Da]||(t[Da]=[])}function $w(t){return t.cleanup||(t.cleanup=[])}function Kw(t,n){const e=t[es],r=e?e.get(ws,null):null;r&&r.handleError(n)}function Bv(t,n,e,r,i){for(let o=0;o<e.length;){const l=e[o++],c=e[o++];zw(t.data[l],n[l],r,c,i)}}function ja(t,n,e){const r=G(n,t);!function AT(t,n,e){t.setValue(n,e)}(t[ur],r,e)}function yk(t,n){const e=he(n,t),r=e[Mn];!function bk(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[vi];null!==i&&null===e[Os]&&(e[Os]=bv(i,e[es])),Uv(r,e,e[yi])}function Uv(t,n,e){Ii(n);try{const r=t.viewQuery;null!==r&&Lv(1,r,e);const i=t.template;null!==i&&Lw(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&qw(t,n),t.staticViewQueries&&Lv(2,t.viewQuery,e);const o=t.components;null!==o&&function Ek(t,n){for(let e=0;e<n.length;e++)yk(t,n[e])}(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[fr]&=-5,po()}}let Xw=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const o=typeof Zone>"u"?null:Zone.current,l=function P(t,n,e){const r=Object.create(U);e&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=n;const i=l=>{r.cleanupFn=l};return r.ref={notify:()=>Qh(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Jh(r))return;r.hasRun=!0;const l=Pa(r);try{r.cleanupFn(),r.cleanupFn=C,r.fn(i)}finally{su(r,l)}},cleanup:()=>r.cleanupFn()},r.ref}(e,m=>{this.all.has(m)&&this.queue.set(m,o)},i);let c;this.all.add(l),l.notify();const u=()=>{l.cleanup(),c?.(),this.all.delete(l),this.queue.delete(l)};return c=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Zp(t,n){!n?.injector&&Lp();const e=n?.injector??Yt(Do),r=e.get(Xw),i=!0!==n?.manualCleanup?e.get(uf):null;return r.create(t,i,!!n?.allowSignalWrites)}function zp(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(null!==n)for(let l=0;l<n.length;l++){const c=n[l];"number"==typeof c?o=c:1==o?i=li(i,c):2==o&&(r=li(r,c+": "+n[++l]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function hf(t,n,e,r,i=!1){for(;null!==e;){const o=n[e.index];null!==o&&r.push(w(o)),ro(o)&&Qw(o,r);const l=e.type;if(8&l)hf(t,n,e.child,r);else if(32&l){const c=Z_(e,n);let u;for(;u=c();)r.push(u)}else if(16&l){const c=FT(n,e);if(Array.isArray(c))r.push(...c);else{const u=Qd(n[wi]);hf(u[Mn],u,c,r,!0)}}e=i?e.projectionNext:e.next}return r}function Qw(t,n){for(let e=Yi;e<t.length;e++){const r=t[e],i=r[Mn].firstChild;null!==i&&hf(r[Mn],r,i,n)}t[gs]!==t[vi]&&n.push(t[gs])}function Gp(t,n,e,r=!0){const i=n[xa],o=i.rendererFactory,l=i.afterRenderEventManager;o.begin?.(),l?.begin();try{Jw(t,n,t.template,e)}catch(u){throw r&&Kw(n,u),u}finally{o.end?.(),i.effectManager?.flush(),l?.end()}}function Jw(t,n,e,r){const i=n[fr];if(256!=(256&i)){n[xa].effectManager?.flush(),Ii(n);try{Xe(n),function Bt(t){return dt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Lw(t,n,e,2,r);const l=3==(3&i);if(l){const m=t.preOrderCheckHooks;null!==m&&hr(n,m,null)}else{const m=t.preOrderHooks;null!==m&&qn(n,m,0,null),Ur(n,0)}if(function wk(t){for(let n=ST(t);null!==n;n=CT(n)){if(!n[Ud])continue;const e=n[Na];for(let r=0;r<e.length;r++){Be(e[r])}}}(n),eS(n,2),null!==t.contentQueries&&qw(t,n),l){const m=t.contentCheckHooks;null!==m&&hr(n,m)}else{const m=t.contentHooks;null!==m&&qn(n,m,1),Ur(n,1)}!function WP(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=Nw(n,cl);try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)vo(~o);else{const l=o,c=e[++i],u=e[++i];It(c,l),r.dirty=!1;const m=Pa(r);try{u(2,n[l])}finally{su(r,m)}}}}finally{null===n[cl]&&Ow(n,cl),vo(-1)}}(t,n);const c=t.components;null!==c&&nS(n,c,0);const u=t.viewQuery;if(null!==u&&Lv(2,u,r),l){const m=t.viewCheckHooks;null!==m&&hr(n,m)}else{const m=t.viewHooks;null!==m&&qn(n,m,2),Ur(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[fr]&=-73,Ue(n)}finally{po()}}}function eS(t,n){for(let e=ST(t);null!==e;e=CT(e))for(let r=Yi;r<e.length;r++)tS(e[r],n)}function Sk(t,n,e){tS(he(n,t),e)}function tS(t,n){if(!function z(t){return 128==(128&t[fr])}(t))return;const e=t[Mn],r=t[fr];if(80&r&&0===n||1024&r||2===n)Jw(e,t,e.template,t[yi]);else if(t[Gl]>0){eS(t,1);const i=e.components;null!==i&&nS(t,i,1)}}function nS(t,n,e){for(let r=0;r<n.length;r++)Sk(t,n[r],e)}class pf{get rootNodes(){const n=this._lView,e=n[Mn];return hf(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yi]}set context(n){this._lView[yi]=n}get destroyed(){return 256==(256&this._lView[fr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ni];if(ro(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(bp(n,r),cp(e,r))}this._attachedToViewContainer=!1}G_(this._lView[Mn],this._lView)}onDestroy(n){Nt(this._lView,n)}markForCheck(){df(this._cdRefInjectingView||this._lView)}detach(){this._lView[fr]&=-129}reattach(){this._lView[fr]|=128}detectChanges(){Gp(this._lView[Mn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Gt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fO(t,n){ef(t,n,n[ur],2,null,null)}(this._lView[Mn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Gt(902,!1);this._appRef=n}}class Ck extends pf{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Gp(n[Mn],n,n[yi],!1)}checkNoChanges(){}get context(){return null}}class rS extends lf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Rr(n);return new mf(e,this.ngModule)}}function iS(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class Ak{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=jl(r);const i=this.injector.get(n,wv,r);return i!==wv||e===wv?i:this.parentInjector.get(n,e,r)}}class mf extends dw{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=iS(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return iS(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Od(t){return t.map(sl).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=(i=i||this.ngModule)instanceof ks?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new Ak(n,o):n,c=l.get(cf,null);if(null===c)throw new Gt(407,!1);const W={rendererFactory:c,sanitizer:l.get(wP,null),effectManager:l.get(Xw,null),afterRenderEventManager:l.get(Dv,null)},ge=c.createRenderer(null,this.componentDef),Re=this.componentDef.selectors[0][0]||"div",Ke=r?function XP(t,n,e,r){const o=r.get(Dw,!1)||e===co.ShadowDom,l=t.selectRootElement(n,o);return function QP(t){Uw(t)}(l),l}(ge,r,this.componentDef.encapsulation,l):yp(ge,Re,function Ik(t){const n=t.toLowerCase();return"svg"===n?le:"math"===n?"math":null}(Re)),Qt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let xt=null;null!==Ke&&(xt=bv(Ke,l,!0));const Sn=Ov(0,null,null,1,0,null,null,null,null,null,null),Pn=jp(null,Sn,null,Qt,null,null,W,ge,l,null,xt);let ar,si;Ii(Pn);try{const pi=this.componentDef;let go,cs=null;pi.findHostDirectiveDefs?(go=[],cs=new Map,pi.findHostDirectiveDefs(pi,go,cs),go.push(pi)):go=[pi];const Gs=function xk(t,n){const e=t[Mn],r=pr;return t[r]=n,Nu(e,r,2,"#host",null)}(Pn,Ke),e_=function Rk(t,n,e,r,i,o,l){const c=i[Mn];!function Mk(t,n,e,r){for(const i of t)n.mergedAttrs=Ia(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(zp(n,n.mergedAttrs,!0),null!==e&&VT(r,e,n))}(r,t,n,l);let u=null;null!==n&&(u=bv(n,i[es]));const m=o.rendererFactory.createRenderer(n,e);let x=16;e.signals?x=4096:e.onPush&&(x=64);const W=jp(i,Bw(e),null,x,i[t.index],t,o,m,null,null,u);return c.firstCreatePass&&kv(c,t,r.length-1),Hp(i,W),i[t.index]=W}(Gs,Ke,pi,go,Pn,W,ge);si=se(Sn,pr),Ke&&function Ok(t,n,e,r){if(r)ol(t,e,["ng-version",SP.full]);else{const{attrs:i,classes:o}=function Pd(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&n.push(o,t[++r]):8===i&&e.push(o);else{if(!uo(i))break;i=o}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&ol(t,e,i),o&&o.length>0&&UT(t,e,o.join(" "))}}(ge,pi,Ke,r),void 0!==e&&function Pk(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(si,this.ngContentSelectors,e),ar=function Nk(t,n,e,r,i,o){const l=En(),c=i[Mn],u=L(l,i);Hw(c,i,l,e,null,r);for(let x=0;x<e.length;x++)yo(ec(i,c,l.directiveStart+x,l),i);Zw(c,i,l),u&&yo(u,i);const m=ec(i,c,l.directiveStart+l.componentOffset,l);if(t[yi]=i[yi]=m,null!==o)for(const x of o)x(m,n);return Rv(c,l,t),m}(e_,pi,go,cs,Pn,[kk]),Uv(Sn,Pn,null)}finally{po()}return new Dk(this.componentType,ar,xu(si,Pn),Pn,si)}}class Dk extends _P{constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Ck(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;Bv(o[Mn],o,i,n,e),this.previousInputValues.set(n,e),df(he(this._tNode.index,o))}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function kk(){const t=En();dr(bt()[Mn],t)}function gr(t){let n=function oS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(jo(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Gt(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const l=t;l.inputs=qp(t.inputs),l.inputTransforms=qp(t.inputTransforms),l.declaredInputs=qp(t.declaredInputs),l.outputs=qp(t.outputs);const c=i.hostBindings;c&&Uk(t,c);const u=i.viewQuery,m=i.contentQueries;if(u&&Lk(t,u),m&&Bk(t,m),Mr(t.inputs,i.inputs),Mr(t.declaredInputs,i.declaredInputs),Mr(t.outputs,i.outputs),null!==i.inputTransforms&&(null===l.inputTransforms&&(l.inputTransforms={}),Mr(l.inputTransforms,i.inputTransforms)),jo(i)&&i.data.animation){const x=t.data;x.animation=(x.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let l=0;l<o.length;l++){const c=o[l];c&&c.ngInherit&&c(t),c===gr&&(e=!1)}}n=Object.getPrototypeOf(n)}!function Fk(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Ia(i.hostAttrs,e=Ia(e,i.hostAttrs))}}(r)}function qp(t){return t===ps?{}:t===xr?[]:t}function Lk(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function Bk(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,o)=>{n(r,i,o),e(r,i,o)}:n}function Uk(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function cS(t){const n=t.inputConfig,e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(e[r]=i[2])}t.inputTransforms=e}function Yp(t){return!!Vv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Vv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function oa(t,n,e){return t[n]=e}function bo(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function lc(t,n,e,r){const i=bo(t,n,e);return bo(t,n+1,r)||i}function ri(t,n,e,r){const i=bt();return bo(i,lt(),n)&&(rn(),ia(Xr(),i,t,n,e,r)),ri}function ku(t,n,e,r,i,o){const c=lc(t,function pt(){return dt.lFrame.bindingIndex}(),e,i);return je(2),c?n+ir(e)+r+ir(i)+o:mr}function xn(t,n,e,r,i,o,l,c){const u=bt(),m=rn(),x=t+pr,W=m.firstCreatePass?function uF(t,n,e,r,i,o,l,c,u){const m=n.consts,x=Nu(n,t,4,l||null,Me(m,c));Pv(n,e,x,Me(m,u)),dr(n,x);const W=x.tView=Ov(2,x,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,m,null);return null!==n.queries&&(n.queries.template(n,x),W.queries=n.queries.embeddedTView(x)),x}(x,m,u,n,e,r,i,o,l):m.data[x];Qn(W,!1);const ge=TS(m,u,W,t);$t()&&Tp(m,u,ge,W),yo(ge,u),Hp(u,u[x]=Gw(ge,u,ge,W)),eu(W)&&Mv(m,u,W),null!=l&&Nv(u,W,c)}let TS=function wS(t,n,e,r){return Cn(!0),n[ur].createComment("")};function Bi(t){return ie(function Pt(){return dt.lFrame.contextLView}(),pr+t)}function qt(t,n,e){const r=bt();return bo(r,lt(),n)&&rs(rn(),Xr(),r,t,n,r[ur],e,!1),qt}function qv(t,n,e,r,i){const l=i?"class":"style";Bv(t,e,n.inputs[l],l,r)}function an(t,n,e,r){const i=bt(),o=rn(),l=pr+t,c=i[ur],u=o.firstCreatePass?function pF(t,n,e,r,i,o){const l=n.consts,u=Nu(n,t,2,r,Me(l,i));return Pv(n,e,u,Me(l,o)),null!==u.attrs&&zp(u,u.attrs,!1),null!==u.mergedAttrs&&zp(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(l,o,i,n,e,r):o.data[l],m=SS(o,i,u,c,n,t);i[l]=m;const x=eu(u);return Qn(u,!0),VT(c,m,u),32!=(32&u.flags)&&$t()&&Tp(o,i,m,u),0===function Le(){return dt.lFrame.elementDepthCount}()&&yo(m,i),function it(){dt.lFrame.elementDepthCount++}(),x&&(Mv(o,i,u),Rv(o,u,i)),null!==r&&Nv(i,u),an}function dn(){let t=En();Jn()?lr():(t=t.parent,Qn(t,!1));const n=t;(function nt(t){return dt.skipHydrationRootTNode===t})(n)&&function mn(){dt.skipHydrationRootTNode=null}(),function Ne(){dt.lFrame.elementDepthCount--}();const e=rn();return e.firstCreatePass&&(dr(e,t),Vd(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function uN(t){return 0!=(8&t.flags)}(n)&&qv(e,n,bt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function dN(t){return 0!=(16&t.flags)}(n)&&qv(e,n,bt(),n.stylesWithoutHost,!1),dn}function Kn(t,n,e,r){return an(t,n,e,r),dn(),Kn}let SS=(t,n,e,r,i,o)=>(Cn(!0),yp(r,i,function fl(){return dt.lFrame.currentNamespace}()));function sa(t,n,e){const r=bt(),i=rn(),o=t+pr,l=i.firstCreatePass?function _F(t,n,e,r,i){const o=n.consts,l=Me(o,r),c=Nu(n,t,8,"ng-container",l);return null!==l&&zp(c,l,!0),Pv(n,e,c,Me(o,i)),null!==n.queries&&n.queries.elementStart(n,c),c}(o,i,r,n,e):i.data[o];Qn(l,!0);const c=CS(i,r,l,t);return r[o]=c,$t()&&Tp(i,r,c,l),yo(c,r),eu(l)&&(Mv(i,r,l),Rv(i,l,r)),null!=e&&Nv(r,l),sa}function aa(){let t=En();const n=rn();return Jn()?lr():(t=t.parent,Qn(t,!1)),n.firstCreatePass&&(dr(n,t),Vd(t)&&n.queries.elementEnd(t)),aa}function bf(t,n,e){return sa(t,n,e),aa(),bf}let CS=(t,n,e,r)=>(Cn(!0),z_(n[ur],""));function Ai(){return bt()}function Ef(t){return!!t&&"function"==typeof t.then}function IS(t){return!!t&&"function"==typeof t.subscribe}function sr(t,n,e,r){const i=bt(),o=rn(),l=En();return function DS(t,n,e,r,i,o,l){const c=eu(r),m=t.firstCreatePass&&$w(t),x=n[yi],W=Yw(n);let ge=!0;if(3&r.type||l){const ct=L(r,n),Ft=l?l(ct):ct,Qt=W.length,xt=l?Pn=>l(w(Pn[r.index])):r.index;let Sn=null;if(!l&&c&&(Sn=function bF(t,n,e,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===e&&i[o+1]===r){const c=n[Da],u=i[o+2];return c.length>u?c[u]:null}"string"==typeof l&&(o+=2)}return null}(t,n,i,r.index)),null!==Sn)(Sn.__ngLastListenerFn__||Sn).__ngNextListenerFn__=o,Sn.__ngLastListenerFn__=o,ge=!1;else{o=RS(r,n,x,o,!1);const Pn=e.listen(Ft,i,o);W.push(o,Pn),m&&m.push(i,xt,Qt,Qt+1)}}else o=RS(r,n,x,o,!1);const Re=r.outputs;let Ke;if(ge&&null!==Re&&(Ke=Re[i])){const ct=Ke.length;if(ct)for(let Ft=0;Ft<ct;Ft+=2){const ar=n[Ke[Ft]][Ke[Ft+1]].subscribe(o),si=W.length;W.push(o,ar),m&&m.push(i,r.index,si,-(si+1))}}}(o,i,i[ur],l,t,n,r),sr}function xS(t,n,e,r){try{return be(6,n,e),!1!==e(r)}catch(i){return Kw(t,i),!1}finally{be(7,n,e)}}function RS(t,n,e,r,i){return function o(l){if(l===Function)return r;df(t.componentOffset>-1?he(t.index,n):n);let u=xS(n,e,r,l),m=o.__ngNextListenerFn__;for(;m;)u=xS(n,e,m,l)&&u,m=m.__ngNextListenerFn__;return i&&!1===u&&l.preventDefault(),u}}function Nn(t=1){return function Ps(t){return(dt.lFrame.contextLView=function ta(t,n){for(;t>0;)n=n[Ra],t--;return n}(t,dt.lFrame.contextLView))[yi]}(t)}function EF(t,n){let e=null;const r=function Wc(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?Gh(t,o,!0):h_(r,o))return i}else e=i}return e}function la(t){const n=bt()[wi][no];if(!n.projection){const r=n.projection=Wd(t?t.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const l=t?EF(o,t):0;null!==l&&(i[l]?i[l].projectionNext=o:r[l]=o,i[l]=o),o=o.next}}}function Di(t,n=0,e){const r=bt(),i=rn(),o=Nu(i,pr+t,16,null,e||null);null===o.projection&&(o.projection=n),lr(),(!r[Os]||Ye())&&32!=(32&o.flags)&&function bO(t,n,e){BT(n[ur],0,n,e,Y_(t,e,n),NT(e.parent||n[no],e,n))}(i,r,o)}function Qp(t,n){return t<<17|n<<2}function ml(t){return t>>17&32767}function $v(t){return 2|t}function cc(t){return(131068&t)>>2}function Wv(t,n){return-131069&t|n<<2}function Kv(t){return 1|t}function VS(t,n,e,r,i){const o=t[e+1],l=null===n;let c=r?ml(o):cc(o),u=!1;for(;0!==c&&(!1===u||l);){const x=t[c+1];AF(t[c],n)&&(u=!0,t[c+1]=r?Kv(x):$v(x)),c=r?ml(x):cc(x)}u&&(t[e+1]=r?$v(o):Kv(o))}function AF(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&vu(t,n)>=0}function Zu(t,n,e){return Fs(t,n,e,!1),Zu}function Ei(t,n){return Fs(t,n,null,!0),Ei}function Fs(t,n,e,r){const i=bt(),o=rn(),l=je(2);o.firstUpdatePass&&function $S(t,n,e,r){const i=t.data;if(null===i[e+1]){const o=i[bi()],l=function YS(t,n){return n>=t.expandoStartIndex}(t,e);(function QS(t,n){return 0!=(t.flags&(n?8:16))})(o,r)&&null===n&&!l&&(n=!1),n=function FF(t,n,e,r){const i=function Wn(t){const n=dt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=Tf(e=Xv(null,t,n,e,r),n.attrs,r),o=null);else{const l=n.directiveStylingLast;if(-1===l||t[l]!==i)if(e=Xv(i,t,n,e,r),null===o){let u=function LF(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==cc(r))return t[ml(r)]}(t,n,r);void 0!==u&&Array.isArray(u)&&(u=Xv(null,t,n,u[1],r),u=Tf(u,n.attrs,r),function BF(t,n,e,r){t[ml(e?n.classBindings:n.styleBindings)]=r}(t,n,r,u))}else o=function UF(t,n,e){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Tf(r,t[o].hostAttrs,e);return Tf(r,n.attrs,e)}(t,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),e}(i,o,n,r),function CF(t,n,e,r,i,o){let l=o?n.classBindings:n.styleBindings,c=ml(l),u=cc(l);t[r]=e;let x,m=!1;if(Array.isArray(e)?(x=e[1],(null===x||vu(e,x)>0)&&(m=!0)):x=e,i)if(0!==u){const ge=ml(t[c+1]);t[r+1]=Qp(ge,c),0!==ge&&(t[ge+1]=Wv(t[ge+1],r)),t[c+1]=function wF(t,n){return 131071&t|n<<17}(t[c+1],r)}else t[r+1]=Qp(c,0),0!==c&&(t[c+1]=Wv(t[c+1],r)),c=r;else t[r+1]=Qp(u,0),0===c?c=r:t[u+1]=Wv(t[u+1],r),u=r;m&&(t[r+1]=$v(t[r+1])),VS(t,x,r,!0),VS(t,x,r,!1),function IF(t,n,e,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&vu(o,n)>=0&&(e[r+1]=Kv(e[r+1]))}(n,x,t,r,o),l=Qp(c,u),o?n.classBindings=l:n.styleBindings=l}(i,o,n,e,l,r)}}(o,t,l,r),n!==mr&&bo(i,l,n)&&function KS(t,n,e,r,i,o,l,c){if(!(3&n.type))return;const u=t.data,m=u[c+1],x=function SF(t){return 1==(1&t)}(m)?XS(u,n,e,i,cc(m),l):void 0;Jp(x)||(Jp(o)||function TF(t){return 2==(2&t)}(m)&&(o=XS(u,null,e,i,c,l)),function TO(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:pl.DashCase;null==i?t.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=pl.Important),t.setStyle(e,r,i,o))}}(r,l,G(bi(),e),i,o))}(o,o.data[bi()],i,i[ur],t,i[l+1]=function ZF(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ir(ns(t)))),t}(n,e),r,l)}function Xv(t,n,e,r,i){let o=null;const l=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<l&&(o=n[c],r=Tf(r,o.hostAttrs,i),o!==t);)c++;return null!==t&&(e.directiveStylingLast=c),r}function Tf(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?i=l:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ts(t,l,!!e||n[++o]))}return void 0===t?null:t}function XS(t,n,e,r,i,o){const l=null===n;let c;for(;i>0;){const u=t[i],m=Array.isArray(u),x=m?u[1]:u,W=null===x;let ge=e[i+1];ge===mr&&(ge=W?xr:void 0);let Re=W?P_(ge,r):x===r?ge:void 0;if(m&&!Jp(Re)&&(Re=P_(u,r)),Jp(Re)&&(c=Re,l))return c;const Ke=t[i+1];i=l?ml(Ke):cc(Ke)}if(null!==n){let u=o?n.residualClasses:n.residualStyles;null!=u&&(c=P_(u,r))}return c}function Jp(t){return void 0!==t}function Or(t,n=""){const e=bt(),r=rn(),i=t+pr,o=r.firstCreatePass?Nu(r,i,1,n,null):r.data[i],l=JS(r,e,o,n,t);e[i]=l,$t()&&Tp(r,e,l,o),Qn(o,!1)}let JS=(t,n,e,r,i)=>(Cn(!0),function vp(t,n){return t.createText(n)}(n[ur],r));function xo(t){return zo("",t,""),xo}function zo(t,n,e){const r=bt(),i=function Pu(t,n,e,r){return bo(t,lt(),e)?n+ir(e)+r:mr}(r,t,n,e);return i!==mr&&ja(r,bi(),i),zo}function em(t,n,e,r,i){const o=bt(),l=ku(o,t,n,e,r,i);return l!==mr&&ja(o,bi(),l),em}function wf(t,n,e){const r=bt();return bo(r,lt(),n)&&rs(rn(),Xr(),r,t,n,r[ur],e,!0),wf}const Gu="en-US";let yC=Gu;function ey(t,n,e,r,i){if(t=jn(t),Array.isArray(t))for(let o=0;o<t.length;o++)ey(t[o],n,e,r,i);else{const o=rn(),l=bt(),c=En();let u=oc(t)?t:jn(t.provide);const m=sw(t),x=1048575&c.providerIndexes,W=c.directiveStart,ge=c.providerIndexes>>20;if(oc(t)||!t.multi){const Re=new zd(m,i,_t),Ke=ny(u,n,i?x:x+ge,W);-1===Ke?(M_(sp(c,l),o,u),ty(o,t,n.length),n.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(Re),l.push(Re)):(e[Ke]=Re,l[Ke]=Re)}else{const Re=ny(u,n,x+ge,W),Ke=ny(u,n,x,x+ge),Ft=Ke>=0&&e[Ke];if(i&&!Ft||!i&&!(Re>=0&&e[Re])){M_(sp(c,l),o,u);const Qt=function d2(t,n,e,r,i){const o=new zd(t,e,_t);return o.multi=[],o.index=n,o.componentProviders=0,zC(o,i,r&&!e),o}(i?u2:c2,e.length,i,r,m);!i&&Ft&&(e[Ke].providerFactory=Qt),ty(o,t,n.length,0),n.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),e.push(Qt),l.push(Qt)}else ty(o,t,Re>-1?Re:Ke,zC(e[i?Ke:Re],m,!i&&r));!i&&r&&Ft&&e[Ke].componentProviders++}}}function ty(t,n,e,r){const i=oc(n),o=function eP(t){return!!t.useClass}(n);if(i||o){const u=(o?jn(n.useClass):n).prototype.ngOnDestroy;if(u){const m=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const x=m.indexOf(e);-1===x?m.push(e,[r,u]):m[x+1].push(r,u)}else m.push(e,u)}}}function zC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function ny(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function c2(t,n,e,r){return ry(this.multi,[])}function u2(t,n,e,r){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=ec(e,e[Mn],this.providerFactory.index,r);o=c.slice(0,l),ry(i,o);for(let u=l;u<c.length;u++)o.push(c[u])}else o=[],ry(i,o);return o}function ry(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Yr(t,n=[]){return e=>{e.providersResolver=(r,i)=>function l2(t,n,e){const r=rn();if(r.firstCreatePass){const i=jo(t);ey(e,r.data,r.blueprint,i,!0),ey(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}class dc{}class GC{}class iy extends dc{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rS(this);const i=Co(n);this._bootstrapComponents=Va(i.bootstrap),this._r3Injector=_w(n,e,[{provide:dc,useValue:this},{provide:lf,useValue:this.componentFactoryResolver},...r],Ir(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class oy extends GC{constructor(n){super(),this.moduleType=n}create(n){return new iy(this.moduleType,n,[])}}class qC extends dc{constructor(n){super(),this.componentFactoryResolver=new rS(this),this.instance=null;const e=new Cu([...n.providers,{provide:dc,useValue:this},{provide:lf,useValue:this.componentFactoryResolver}],n.parent||Rp(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function YC(t,n,e=null){return new qC({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let p2=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=nw(0,e.type),i=r.length>0?YC([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=bn({token:t,providedIn:"environment",factory:()=>new t(Xt(ks))})}return t})();function Qr(t){t.getStandaloneInjector=n=>n.get(p2).getOrCreateStandaloneInjector(t)}function da(t,n,e,r){return eI(bt(),cn(),t,n,e,r)}function ay(t,n,e,r,i){return function tI(t,n,e,r,i,o,l){const c=n+e;return lc(t,c,i,o)?oa(t,c+2,l?r.call(l,i,o):r(i,o)):xf(t,c+2)}(bt(),cn(),t,n,e,r,i)}function xf(t,n){const e=t[n];return e===mr?void 0:e}function eI(t,n,e,r,i,o){const l=n+e;return bo(t,l,i)?oa(t,l+1,o?r.call(o,i):r(i)):xf(t,l+1)}function gl(t,n){const e=rn();let r;const i=t+pr;e.firstCreatePass?(r=function M2(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=Oa(r.type)),c=_o(_t);try{const u=op(!1),m=o();return op(u),function hF(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,bt(),i,m),m}finally{_o(c)}}function _l(t,n,e){const r=t+pr,i=bt(),o=ie(i,r);return function Rf(t,n){return t[Mn].data[n].pure}(i,r)?eI(i,cn(),n,o.transform,e,o):o.transform(e)}function F2(){return this._results[Symbol.iterator]()}class qu{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new jr)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=qu.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=F2)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const i=function Es(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function CN(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function B2(t,n,e,r=!0){const i=n[Mn];if(function pO(t,n,e,r){const i=Yi+r,o=e.length;r>0&&(e[i-1][Vo]=n),r<o-Yi?(n[Vo]=e[i],rT(e,Yi+r,n)):(e.push(n),n[Vo]=null),n[ni]=e;const l=n[Ma];null!==l&&e!==l&&function mO(t,n){const e=t[Na];n[wi]!==n[ni][ni][wi]&&(t[Ud]=!0),null===e?t[Na]=[n]:e.push(n)}(l,n);const c=n[ms];null!==c&&c.insertView(t),n[fr]|=128}(i,n,t,e),r){const o=W_(e,t),l=n[ur],c=Ep(l,t[gs]);null!==c&&function dO(t,n,e,r,i,o){r[vi]=i,r[no]=n,ef(t,r,e,1,i,o)}(i,t[no],l,n,c,o)}}let fa=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=j2}return t})();const U2=fa,V2=class extends U2{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){const i=function L2(t,n,e,r){const i=n.tView,c=jp(t,i,e,4096&t[fr]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);c[Ma]=t[n.index];const m=t[ms];return null!==m&&(c[ms]=m.createEmbeddedView(i)),Uv(i,c,e),c}(this._declarationLView,this._declarationTContainer,n,{injector:e,hydrationInfo:r});return new pf(i)}};function j2(){return om(En(),bt())}function om(t,n){return 4&t.type?new V2(n,t,xu(t,n)):null}let is=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Y2}return t})();function Y2(){return dI(En(),bt())}const $2=is,cI=class extends $2{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return xu(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const n=ap(this._hostTNode,this._hostLView);if(D_(n)){const e=qd(n,this._hostLView),r=Gd(n);return new Ao(e[Mn].data[r+8],e)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=uI(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-Yi}createEmbeddedView(n,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const c=n.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(c,i,false),c}createComponent(n,e,r,i,o){const l=n&&!function $d(t){return"function"==typeof t}(n);let c;if(l)c=e;else{const ct=e||{};c=ct.index,r=ct.injector,i=ct.projectableNodes,o=ct.environmentInjector||ct.ngModuleRef}const u=l?n:new mf(Rr(n)),m=r||this.parentInjector;if(!o&&null==u.ngModule){const Ft=(l?m:this.parentInjector).get(ks,null);Ft&&(o=Ft)}Rr(u.componentType??{});const Re=u.create(m,i,null,o);return this.insertImpl(Re.hostView,c,false),Re}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const i=n._lView;if(function we(t){return ro(t[ni])}(i)){const u=this.indexOf(n);if(-1!==u)this.detach(u);else{const m=i[ni],x=new cI(m,m[no],m[ni]);x.detach(x.indexOf(n))}}const l=this._adjustIndex(e),c=this._lContainer;return B2(c,i,l,!r),n.attachToViewContainerRef(),rT(ly(c),l,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=uI(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=bp(this._lContainer,e);r&&(cp(ly(this._lContainer),e),G_(r[Mn],r))}detach(n){const e=this._adjustIndex(n,-1),r=bp(this._lContainer,e);return r&&null!=cp(ly(this._lContainer),e)?new pf(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function uI(t){return t[8]}function ly(t){return t[8]||(t[8]=[])}function dI(t,n){let e;const r=n[t.index];return ro(r)?e=r:(e=Gw(r,n,null,t),n[t.index]=e,Hp(n,e)),fI(e,n,t,r),new cI(e,t,n)}let fI=function hI(t,n,e,r){if(t[gs])return;let i;i=8&e.type?w(r):function W2(t,n){const e=t[ur],r=e.createComment(""),i=L(n,t);return nc(e,Ep(e,i),r,function yO(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[gs]=i};class cy{constructor(n){this.queryList=n,this.matches=null}clone(){return new cy(this.queryList)}setDirty(){this.queryList.setDirty()}}class uy{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const l=e.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new uy(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==vI(n,e).matches&&this.queries[e].setDirty()}}class pI{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class dy{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new dy(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class fy{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new fy(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,e,Q2(e,o)),this.matchTNodeWithReadOption(n,e,lp(e,n,o,!1,!1))}else r===fa?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,lp(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ar||i===is||i===fa&&4&e.type)this.addMatch(e.index,-2);else{const o=lp(e,n,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function Q2(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function eB(t,n,e,r){return-1===e?function J2(t,n){return 11&t.type?xu(t,n):4&t.type?om(t,n):null}(n,t):-2===e?function tB(t,n,e){return e===Ar?xu(n,t):e===fa?om(n,t):e===is?dI(n,t):void 0}(t,n,r):ec(t,t[Mn],e,n)}function mI(t,n,e,r){const i=n[ms].queries[r];if(null===i.matches){const o=t.data,l=e.matches,c=[];for(let u=0;u<l.length;u+=2){const m=l[u];c.push(m<0?null:eB(n,o[m],l[u+1],e.metadata.read))}i.matches=c}return i.matches}function hy(t,n,e,r){const i=t.queries.getByIndex(e),o=i.matches;if(null!==o){const l=mI(t,n,i,e);for(let c=0;c<o.length;c+=2){const u=o[c];if(u>0)r.push(l[c/2]);else{const m=o[c+1],x=n[-u];for(let W=Yi;W<x.length;W++){const ge=x[W];ge[Ma]===ge[ni]&&hy(ge[Mn],ge,m,r)}if(null!==x[Na]){const W=x[Na];for(let ge=0;ge<W.length;ge++){const Re=W[ge];hy(Re[Mn],Re,m,r)}}}}}return r}function ii(t){const n=bt(),e=rn(),r=Lr();Ni(r+1);const i=vI(e,r);if(t.dirty&&function ce(t){return 4==(4&t[fr])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?hy(e,n,r,[]):mI(e,n,i,r);t.reset(o,EP),t.notifyOnChanges()}return!0}return!1}function Mo(t,n,e){const r=rn();r.firstCreatePass&&(_I(r,new pI(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),gI(r,bt(),n)}function qo(t,n,e,r){const i=rn();if(i.firstCreatePass){const o=En();_I(i,new pI(n,e,r),o.index),function rB(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}gI(i,bt(),e)}function oi(){return function nB(t,n){return t[ms].queries[n].queryList}(bt(),Lr())}function gI(t,n,e){const r=new qu(4==(4&e));(function tk(t,n,e,r){const i=Yw(n);i.push(e),t.firstCreatePass&&$w(t).push(r,i.length-1)})(t,n,r,r.destroy),null===n[ms]&&(n[ms]=new uy),n[ms].queries.push(new cy(r))}function _I(t,n,e){null===t.queries&&(t.queries=new dy),t.queries.track(new fy(n,e))}function vI(t,n){return t.queries.getByIndex(n)}function py(t,n){return om(t,n)}const kI=new on("Application Initializer");let by=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=Yt(kI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const o=i();if(Ef(o))e.push(o);else if(IS(o)){const l=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});e.push(l)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),FI=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const ha=new on("LocaleId",{providedIn:"root",factory:()=>Yt(ha,Tr.Optional|Tr.SkipSelf)||function SB(){return typeof $localize<"u"&&$localize.locale||Gu}()});let LI=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qi(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class AB{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let DB=(()=>{class t{compileModuleSync(e){return new oy(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=Va(Co(e).declarations).reduce((l,c)=>{const u=Rr(c);return u&&l.push(new mf(u)),l},[]);return new AB(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const jI=new on("");let vl=null;const Iy=new on("PlatformDestroyListeners"),Ay=new on("appBootstrapListener");function tU(t){try{const{rootComponent:n,appProviders:e,platformProviders:r}=t,i=function eU(t=[]){if(vl)return vl;const n=function GI(t=[],n){return Do.create({name:n,providers:[{provide:lv,useValue:"platform"},{provide:Iy,useValue:new Set([()=>vl=null])},...t]})}(t);return vl=n,function ZI(){!function I_(t){np=t}(()=>{throw new Gt(600,!1)})}(),function zI(t){t.get(aw,null)?.forEach(e=>e())}(n),n}(r),o=[sU(),...e||[]],c=new qC({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(or);return u.run(()=>{c.resolveInjectorInitializers();const m=c.get(ws,null);let x;u.runOutsideAngular(()=>{x=u.onError.subscribe({next:Re=>{m.handleError(Re)}})});const W=()=>c.destroy(),ge=i.get(Iy);return ge.add(W),c.onDestroy(()=>{x.unsubscribe(),ge.delete(W)}),function $I(t,n,e){try{const r=e();return Ef(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(m,u,()=>{const Re=c.get(by);return Re.runInitializers(),Re.donePromise.then(()=>{!function bC(t){Ti(t,"Expected localeId to be defined"),"string"==typeof t&&(yC=t.toLowerCase().replace(/_/g,"-"))}(c.get(ha,Gu)||Gu);const ct=c.get(yl);return void 0!==n&&ct.bootstrap(n),ct})})})}catch(n){return Promise.reject(n)}}let yl=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yt(XI),this.zoneIsStable=Yt(Tw),this.componentTypes=[],this.components=[],this.isStable=Yt(LI).hasPendingTasks.pipe(Gn(e=>e?$n(!1):this.zoneIsStable),ai(),Wt()),this._injector=Yt(ks)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof dw;if(!this._injector.get(by).done)throw!i&&function Aa(t){const n=Rr(t)||ki(t)||fo(t);return null!==n&&n.standalone}(e),new Gt(405,!1);let l;l=i?e:this._injector.get(lf).resolveComponentFactory(e),this.componentTypes.push(l.componentType);const c=function QB(t){return t.isBoundToModule}(l)?void 0:this._injector.get(dc),m=l.create(Do.NULL,[],r||l.selector,c),x=m.location.nativeElement,W=m.injector.get(jI,null);return W?.registerApplication(x),m.onDestroy(()=>{this.detachView(m.hostView),um(this.components,m),W?.unregisterApplication(x)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Gt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;um(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(Ay,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>um(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Gt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function um(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const XI=new on("",{providedIn:"root",factory:()=>Yt(ws).handleError.bind(void 0)});function iU(){const t=Yt(or),n=Yt(ws);return e=>t.runOutsideAngular(()=>n.handleError(e))}let oU=(()=>{class t{constructor(){this.zone=Yt(or),this.applicationRef=Yt(yl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QI(t){return[{provide:or,useFactory:t},{provide:rf,multi:!0,useFactory:()=>{const n=Yt(oU,{optional:!0});return()=>n.initialize()}},{provide:XI,useFactory:iU},{provide:Tw,useFactory:ww}]}function sU(t){return ov([[],QI(()=>new or(function YI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}(t)))])}let Oo=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=aU}return t})();function aU(t){return function lU(t,n,e){if(Xs(t)&&!e){const r=he(t.index,n);return new pf(r,r)}return 47&t.type?new pf(n[wi],n):null}(En(),bt(),16==(16&t))}class nA{constructor(){}supports(n){return Yp(n)}create(n){return new pU(n)}}const hU=(t,n)=>n;class pU{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||hU}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const l=!r||e&&e.currentIndex<iA(r,i,o)?e:r,c=iA(l,i,o),u=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,null==l.previousIndex)i++;else{o||(o=[]);const m=c-i,x=u-i;if(m!=x){for(let ge=0;ge<m;ge++){const Re=ge<o.length?o[ge]:o[ge]=0,Ke=Re+ge;x<=Ke&&Ke<m&&(o[ge]=Re+1)}o[l.previousIndex]=x-m}}c!==u&&n(l,c,u)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Yp(n))throw new Gt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,l,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)o=n[c],l=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,o,l,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,l,c),r=!0),e=e._next}else i=0,function qk(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,c=>{l=this._trackByFn(i,c),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,c,l,i)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,l,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new mU(e,r),o,i),n}_verifyReinsertion(n,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new rA),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rA),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class mU{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gU{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class rA{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new gU,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iA(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}class oA{constructor(){}supports(n){return n instanceof Map||Vv(n)}create(){return new _U}}class _U{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Vv(n)))throw new Gt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const r=n._prev;return e._next=n,e._prev=r,n._prev=e,r&&(r._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,e);const o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}const r=new vU(n);return this._records.set(n,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(r=>e(n[r],r))}}class vU{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sA(){return new hm([new nA])}let hm=(()=>{class t{static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:sA});constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||sA()),deps:[[t,new dp,new yu]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Gt(901,!1)}}return t})();function aA(){return new Of([new oA])}let Of=(()=>{class t{static#e=this.\u0275prov=bn({token:t,providedIn:"root",factory:aA});constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||aA()),deps:[[t,new dp,new yu]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Gt(901,!1)}}return t})();function Wu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Py=null;function bl(){return Py}class OU{}const Cr=new on("DocumentToken");let gA=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:function(){return Yt(PU)},providedIn:"platform"})}return t})(),PU=(()=>{class t extends gA{constructor(){super(),this._doc=Yt(Cr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bl().getBaseHref(this._doc)}onPopState(e){const r=bl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=bl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function _A(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function vA(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function hc(t){return t&&"?"!==t[0]?"?"+t:t}let mm=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:function(){return Yt(FU)},providedIn:"root"})}return t})();const kU=new on("appBaseHref");let FU=(()=>{class t extends mm{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Yt(Cr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _A(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+hc(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const l=this.prepareExternalUrl(i+hc(o));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){const l=this.prepareExternalUrl(i+hc(o));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(gA),Xt(kU,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gm=(()=>{class t{constructor(e){this._subject=new jr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function UU(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(vA(yA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+hc(r))}normalize(e){return t.stripTrailingSlash(function BU(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,yA(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hc(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static#e=this.normalizeQueryParams=hc;static#t=this.joinWithSlash=_A;static#n=this.stripTrailingSlash=vA;static#r=this.\u0275fac=function(r){return new(r||t)(Xt(mm))};static#i=this.\u0275prov=bn({token:t,factory:function(){return function LU(){return new gm(Xt(mm))}()},providedIn:"root"})}return t})();function yA(t){return t.replace(/\/index.html$/,"")}const zy=/\s+/,DA=[];let Xu=(()=>{class t{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=DA,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(zy):DA}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(zy):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(zy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(_t(hm),_t(Of),_t(Ar),_t(Ua))};static#t=this.\u0275dir=kn({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class CV{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let El=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new CV(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===o?void 0:o);else if(null!==o){const c=r.get(o);r.move(c,l),RA(c,i)}});for(let i=0,o=r.length;i<o;i++){const c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{RA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(_t(is),_t(fa),_t(hm))};static#t=this.\u0275dir=kn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function RA(t,n){t.context.$implicit=n.item}let Qi=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new IV,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){MA("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){MA("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(_t(is),_t(fa))};static#t=this.\u0275dir=kn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class IV{constructor(){this.$implicit=null,this.ngIf=null}}function MA(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ir(n)}'.`)}class Gy{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Am=(()=>{class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=kn({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return t})(),NA=(()=>{class t{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new Gy(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(r){return new(r||t)(_t(is),_t(fa),_t(Am,9))};static#t=this.\u0275dir=kn({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return t})(),Dm=(()=>{class t{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split("."),l=-1===i.indexOf("-")?void 0:pl.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(Of),_t(Ua))};static#t=this.\u0275dir=kn({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),qy=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=r.createEmbeddedView(i,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||t)(_t(is))};static#t=this.\u0275dir=kn({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[K]})}return t})(),Ff=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({})}return t})();const kA="browser";function FA(t){return"server"===t}class Cj extends OU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xy extends Cj{static makeCurrent(){!function NU(t){Py||(Py=t)}(new Xy)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Ij(){return Bf=Bf||document.querySelector("base"),Bf?Bf.getAttribute("href"):null}();return null==e?null:function Aj(t){Mm=Mm||document.createElement("a"),Mm.setAttribute("href",t);const n=Mm.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Bf=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function wV(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Mm,Bf=null,xj=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})();const Qy=new on("EventManagerPlugins");let jA=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new Gt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Qy),Xt(or))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})();class HA{constructor(n){this._doc=n}}const Jy="ng-app-id";let ZA=(()=>{class t{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=FA(o),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Jy}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(Jy),o;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Jy,this.appId),l}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const o=this.styleRef,l=o.get(r)?.elements;l?l.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr),Xt(Mp),Xt(fv,8),Xt(sc))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})();const eb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tb=/%COMP%/g,Oj=new on("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function GA(t,n){return n.map(e=>e.replace(tb,t))}let nb=(()=>{class t{constructor(e,r,i,o,l,c,u,m=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=c,this.ngZone=u,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=FA(c),this.defaultRenderer=new rb(e,l,u,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===co.ShadowDom&&(r={...r,encapsulation:co.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof YA?i.applyToHost(e):i instanceof ib&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const l=this.doc,c=this.ngZone,u=this.eventManager,m=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,W=this.platformIsServer;switch(r.encapsulation){case co.Emulated:o=new YA(u,m,r,this.appId,x,l,c,W);break;case co.ShadowDom:return new Lj(u,m,e,r,l,c,this.nonce,W);default:o=new ib(u,m,r,x,l,c,W)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(jA),Xt(ZA),Xt(Mp),Xt(Oj),Xt(Cr),Xt(sc),Xt(or),Xt(fv))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})();class rb{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(eb[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(qA(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(qA(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Gt(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const o=eb[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=eb[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(pl.DashCase|pl.Important)?n.style.setProperty(e,r,i&pl.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&pl.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=bl().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function qA(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Lj extends rb{constructor(n,e,r,i,o,l,c,u){super(n,o,l,u),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=GA(i.id,i.styles);for(const x of m){const W=document.createElement("style");c&&W.setAttribute("nonce",c),W.textContent=x,this.shadowRoot.appendChild(W)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ib extends rb{constructor(n,e,r,i,o,l,c,u){super(n,o,l,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=u?GA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class YA extends ib{constructor(n,e,r,i,o,l,c,u){const m=i+"-"+r.id;super(n,e,r,o,l,c,u,m),this.contentAttr=function Pj(t){return"_ngcontent-%COMP%".replace(tb,t)}(m),this.hostAttr=function kj(t){return"_nghost-%COMP%".replace(tb,t)}(m)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}const $A=["alt","control","meta","shift"],Uj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function WA(t){return{appProviders:[...$j,...t?.providers??[]],platformProviders:qj}}const qj=[{provide:sc,useValue:kA},{provide:aw,useValue:function Zj(){Xy.makeCurrent()},multi:!0},{provide:Cr,useFactory:function Gj(){return function AO(t){Q_=t}(document),document},deps:[]}],$j=[{provide:lv,useValue:"root"},{provide:ws,useFactory:function zj(){return new ws},deps:[]},{provide:Qy,useClass:(()=>{class t extends HA{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})(),multi:!0,deps:[Cr,or,sc]},{provide:Qy,useClass:(()=>{class t extends HA{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const o=t.parseEventName(r),l=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bl().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let l="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),l="code."),$A.forEach(m=>{const x=r.indexOf(m);x>-1&&(r.splice(x,1),l+=m+".")}),l+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=l,u}static matchEventFullKeyCode(e,r){let i=Uj[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$A.forEach(l=>{l!==i&&(0,Vj[l])(e)&&(o+=l+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})(),multi:!0,deps:[Cr]},nb,ZA,jA,{provide:cf,useExisting:nb},{provide:class nj{},useClass:xj,deps:[]},[]];let KA=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr))};static#t=this.\u0275prov=bn({token:t,factory:function(r){let i=null;return i=r?new r:function Kj(){return new KA(Xt(Cr))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let Vs=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:function(r){let i=null;return i=r?new(r||t):Xt(JA),i},providedIn:"root"})}return t})(),JA=(()=>{class t extends Vs{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Li.NONE:return r;case Li.HTML:return ra(r,"HTML")?ns(r):KT(this._doc,String(r)).toString();case Li.STYLE:return ra(r,"Style")?ns(r):r;case Li.SCRIPT:if(ra(r,"Script"))return ns(r);throw new Gt(5200,!1);case Li.URL:return ra(r,"URL")?ns(r):Ip(String(r));case Li.RESOURCE_URL:if(ra(r,"ResourceURL"))return ns(r);throw new Gt(5201,!1);default:throw new Gt(5202,!1)}}bypassSecurityTrustHtml(e){return function PO(t){return new DO(t)}(e)}bypassSecurityTrustStyle(e){return function kO(t){return new xO(t)}(e)}bypassSecurityTrustScript(e){return function FO(t){return new RO(t)}(e)}bypassSecurityTrustUrl(e){return function LO(t){return new MO(t)}(e)}bypassSecurityTrustResourceUrl(e){return function BO(t){return new NO(t)}(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr))};static#t=this.\u0275prov=bn({token:t,factory:function(r){let i=null;return i=r?new r:function e3(t){return new JA(t.get(Cr))}(Xt(Do)),i},providedIn:"root"})}return t})();function tD(t,n,e,r,i,o,l){try{var c=t[o](l),u=c.value}catch(m){return void e(m)}c.done?n(u):Promise.resolve(u).then(r,i)}function ui(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var o=t.apply(n,e);function l(u){tD(o,r,i,l,c,"next",u)}function c(u){tD(o,r,i,l,c,"throw",u)}l(void 0)})}}const Nm=Wo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:n3}=Array,{getPrototypeOf:r3,prototype:o3,keys:s3}=Object;function nD(t){if(1===t.length){const n=t[0];if(n3(n))return{args:n,keys:null};if(function a3(t){return t&&"object"==typeof t&&r3(t)===o3}(n)){const e=s3(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:l3}=Array;function sb(t){return pe(n=>function c3(t,n){return l3(n)?t(...n):t(n)}(t,n))}function rD(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function ab(...t){const n=di(t),e=Mi(t),{args:r,keys:i}=nD(t);if(0===r.length)return Ci([],n);const o=new Ve(function u3(t,n,e=_e){return r=>{iD(n,()=>{const{length:i}=t,o=new Array(i);let l=i,c=i;for(let u=0;u<i;u++)iD(n,()=>{const m=Ci(t[u],n);let x=!1;m.subscribe(Je(r,W=>{o[u]=W,x||(x=!0,c--),c||r.next(e(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,n,i?l=>rD(i,l):_e));return e?o.pipe(sb(e)):o}function iD(t,n,e){t?_r(e,t,n):n()}function Uf(...t){return function d3(){return Zt(1)}()(Ci(t,di(t)))}function oD(t){return new Ve(n=>{fn(t()).subscribe(n)})}function Qu(t,n){const e=Yn(t)?t:()=>t,r=i=>i.error(e());return new Ve(n?i=>n.schedule(r,0,i):r)}function lb(){return Ct((t,n)=>{let e=null;t._refCount++;const r=Je(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class sD extends Ve{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,jt(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new H;const e=this.getSubject();n.add(this.source.subscribe(Je(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=H.EMPTY)}return n}refCount(){return lb()(this)}}function ko(t){return t<=0?()=>Jt:Ct((n,e)=>{let r=0;n.subscribe(Je(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Vf(...t){const n=di(t);return Ct((e,r)=>{(n?Uf(t,e,n):Uf(t,e)).subscribe(r)})}function io(t,n){return Ct((e,r)=>{let i=0;e.subscribe(Je(r,o=>t.call(n,o,i++)&&r.next(o)))})}function Om(t){return Ct((n,e)=>{let r=!1;n.subscribe(Je(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function aD(t=f3){return Ct((n,e)=>{let r=!1;n.subscribe(Je(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function f3(){return new Nm}function pc(t,n){const e=arguments.length>=2;return r=>r.pipe(t?io((i,o)=>t(i,o,r)):_e,ko(1),e?Om(n):aD(()=>new Nm))}function jf(t,n){return Yn(n)?Dt(t,n,1):Dt(t,1)}function Jr(t,n,e){const r=Yn(t)||n||e?{next:t,error:n,complete:e}:t;return r?Ct((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let c=!0;i.subscribe(Je(o,u=>{var m;null===(m=r.next)||void 0===m||m.call(r,u),o.next(u)},()=>{var u;c=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var m;c=!1,null===(m=r.error)||void 0===m||m.call(r,u),o.error(u)},()=>{var u,m;c&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(m=r.finalize)||void 0===m||m.call(r)}))}):_e}function wl(t){return Ct((n,e)=>{let o,r=null,i=!1;r=n.subscribe(Je(e,void 0,void 0,l=>{o=fn(t(l,wl(t)(n))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function cb(t){return t<=0?()=>Jt:Ct((n,e)=>{let r=[];n.subscribe(Je(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function lD(t){return pe(()=>t)}function Pm(t){return Ct((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Vi(t){return Ct((n,e)=>{fn(t).subscribe(Je(e,()=>e.complete(),v)),!e.closed&&n.subscribe(e)})}const yr="primary",Hf=Symbol("RouteTitle");class g3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ju(t){return new g3(t)}function _3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const l=r[o],c=t[o];if(l.startsWith(":"))i[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function pa(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!cD(t[i],n[i]))return!1;return!0}function cD(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,o)=>r[o]===i)}return t===n}function uD(t){return t.length>0?t[t.length-1]:null}function Sl(t){return function t3(t){return!!t&&(t instanceof Ve||Yn(t.lift)&&Yn(t.subscribe))}(t)?t:Ef(t)?Ci(Promise.resolve(t)):$n(t)}const y3={exact:function hD(t,n,e){if(!mc(t.segments,n.segments)||!km(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!hD(t.children[r],n.children[r],e))return!1;return!0},subset:pD},dD={exact:function b3(t,n){return pa(t,n)},subset:function E3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>cD(t[e],n[e]))},ignored:()=>!0};function fD(t,n,e){return y3[e.paths](t.root,n.root,e.matrixParams)&&dD[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function pD(t,n,e){return mD(t,n,n.segments,e)}function mD(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!mc(i,e)||n.hasChildren()||!km(i,e,r))}if(t.segments.length===e.length){if(!mc(t.segments,e)||!km(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!pD(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(mc(t.segments,i)&&km(t.segments,i,r)&&t.children[yr])&&mD(t.children[yr],n,o,r)}}function km(t,n,e){return n.every((r,i)=>dD[e](t[i].parameters,r.parameters))}class ed{constructor(n=new ei([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return S3.serialize(this)}}class ei{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fm(this)}}class Zf{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ju(this.parameters)),this._parameterMap}toString(){return vD(this)}}function mc(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let zf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:function(){return new ub},providedIn:"root"})}return t})();class ub{parse(n){const e=new k3(n);return new ed(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Gf(n.root,!0)}`,r=function A3(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(i=>`${Lm(e)}=${Lm(i)}`).join("&"):`${Lm(e)}=${Lm(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function C3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const S3=new ub;function Fm(t){return t.segments.map(n=>vD(n)).join("/")}function Gf(t,n){if(!t.hasChildren())return Fm(t);if(n){const e=t.children[yr]?Gf(t.children[yr],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==yr&&r.push(`${i}:${Gf(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function w3(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===yr&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==yr&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===yr?[Gf(t.children[yr],!1)]:[`${i}:${Gf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[yr]?`${Fm(t)}/${e[0]}`:`${Fm(t)}/(${e.join("//")})`}}function gD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lm(t){return gD(t).replace(/%3B/gi,";")}function db(t){return gD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bm(t){return decodeURIComponent(t)}function _D(t){return Bm(t.replace(/\+/g,"%20"))}function vD(t){return`${db(t.path)}${function I3(t){return Object.keys(t).map(n=>`;${db(n)}=${db(t[n])}`).join("")}(t.parameters)}`}const D3=/^[^\/()?;#]+/;function fb(t){const n=t.match(D3);return n?n[0]:""}const x3=/^[^\/()?;=#]+/,M3=/^[^=?&#]+/,O3=/^[^&#]+/;class k3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ei([],{}):new ei([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[yr]=new ei(n,e)),r}parseSegment(){const n=fb(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Gt(4009,!1);return this.capture(n),new Zf(Bm(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function R3(t){const n=t.match(x3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=fb(this.remaining);i&&(r=i,this.capture(r))}n[Bm(e)]=Bm(r)}parseQueryParam(n){const e=function N3(t){const n=t.match(M3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function P3(t){const n=t.match(O3);return n?n[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=_D(e),o=_D(r);if(n.hasOwnProperty(i)){let l=n[i];Array.isArray(l)||(l=[l],n[i]=l),l.push(o)}else n[i]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fb(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Gt(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=yr);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[yr]:new ei([],l),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Gt(4011,!1)}}function yD(t){return t.segments.length>0?new ei([],{[yr]:t}):t}function bD(t){const n={};for(const r of Object.keys(t.children)){const o=bD(t.children[r]);if(r===yr&&0===o.segments.length&&o.hasChildren())for(const[l,c]of Object.entries(o.children))n[l]=c;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function F3(t){if(1===t.numberOfChildren&&t.children[yr]){const n=t.children[yr];return new ei(t.segments.concat(n.segments),n.children)}return t}(new ei(t.segments,n))}function gc(t){return t instanceof ed}function ED(t){let n;const i=yD(function e(o){const l={};for(const u of o.children){const m=e(u);l[u.outlet]=m}const c=new ei(o.url,l);return o===t&&(n=c),c}(t.root));return n??i}function TD(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return hb(i,i,i,e,r);const o=function B3(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new SD(!0,0,t);let n=0,e=!1;const r=t.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([u,m])=>{c[u]="string"==typeof m?m.split("/"):m}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?e=!0:".."===c?n++:""!=c&&i.push(c))}),i):[...i,o]},[]);return new SD(e,n,r)}(n);if(o.toRoot())return hb(i,i,new ei([],{}),e,r);const l=function U3(t,n,e){if(t.isAbsolute)return new Vm(n,!0,0);if(!e)return new Vm(n,!1,NaN);if(null===e.parent)return new Vm(e,!0,0);const r=Um(t.commands[0])?0:1;return function V3(t,n,e){let r=t,i=n,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Gt(4005,!1);i=r.segments.length}return new Vm(r,!1,i-o)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),c=l.processChildren?Yf(l.segmentGroup,l.index,o.commands):CD(l.segmentGroup,l.index,o.commands);return hb(i,l.segmentGroup,c,e,r)}function Um(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qf(t){return"object"==typeof t&&null!=t&&t.outlets}function hb(t,n,e,r,i){let l,o={};r&&Object.entries(r).forEach(([u,m])=>{o[u]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),l=t===n?e:wD(t,n,e);const c=yD(bD(l));return new ed(c,o,i)}function wD(t,n,e){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===n?e:wD(o,n,e)}),new ei(t.segments,r)}class SD{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Um(r[0]))throw new Gt(4003,!1);const i=r.find(qf);if(i&&i!==uD(r))throw new Gt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vm{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function CD(t,n,e){if(t||(t=new ei([],{})),0===t.segments.length&&t.hasChildren())return Yf(t,n,e);const r=function H3(t,n,e){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return o;const l=t.segments[i],c=e[r];if(qf(c))break;const u=`${c}`,m=r<e.length-1?e[r+1]:null;if(i>0&&void 0===u)break;if(u&&m&&"object"==typeof m&&void 0===m.outlets){if(!AD(u,m,l))return o;r+=2}else{if(!AD(u,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new ei(t.segments.slice(0,r.pathIndex),{});return o.children[yr]=new ei(t.segments.slice(r.pathIndex),t.children),Yf(o,0,i)}return r.match&&0===i.length?new ei(t.segments,{}):r.match&&!t.hasChildren()?pb(t,n,e):r.match?Yf(t,0,i):pb(t,n,e)}function Yf(t,n,e){if(0===e.length)return new ei(t.segments,{});{const r=function j3(t){return qf(t[0])?t[0].outlets:{[yr]:t}}(e),i={};if(Object.keys(r).some(o=>o!==yr)&&t.children[yr]&&1===t.numberOfChildren&&0===t.children[yr].segments.length){const o=Yf(t.children[yr],n,e);return new ei(t.segments,o.children)}return Object.entries(r).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[o]=CD(t.children[o],n,l))}),Object.entries(t.children).forEach(([o,l])=>{void 0===r[o]&&(i[o]=l)}),new ei(t.segments,i)}}function pb(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const o=e[i];if(qf(o)){const u=Z3(o.outlets);return new ei(r,u)}if(0===i&&Um(e[0])){r.push(new Zf(t.segments[n].path,ID(e[0]))),i++;continue}const l=qf(o)?o.outlets[yr]:`${o}`,c=i<e.length-1?e[i+1]:null;l&&c&&Um(c)?(r.push(new Zf(l,ID(c))),i+=2):(r.push(new Zf(l,{})),i++)}return new ei(r,{})}function Z3(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=pb(new ei([],{}),0,r))}),n}function ID(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function AD(t,n,e){return t==e.path&&pa(n,e.parameters)}const $f="imperative";class ma{constructor(n,e){this.id=n,this.url=e}}class mb extends ma{constructor(n,e,r="imperative",i=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class td extends ma{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wf extends ma{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kf extends ma{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=16}}class jm extends ma{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DD extends ma{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z3 extends ma{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G3 extends ma{constructor(n,e,r,i,o){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class q3 extends ma{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y3 extends ma{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $3{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class W3{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class K3{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X3{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q3{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J3{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gb{}class _b{constructor(n){this.url=n}}class eH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xf,this.attachRef=null}}let Xf=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new eH,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class xD{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=vb(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=vb(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=yb(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return yb(n,this._root).map(e=>e.value)}}function vb(t,n){if(t===n.value)return n;for(const e of n.children){const r=vb(t,e);if(r)return r}return null}function yb(t,n){if(t===n.value)return[n];for(const e of n.children){const r=yb(t,e);if(r.length)return r.unshift(n),r}return[]}class za{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function nd(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class RD extends xD{constructor(n,e){super(n),this.snapshot=e,bb(this,n)}toString(){return this.snapshot.toString()}}function MD(t,n){const e=function tH(t,n){const l=new Hm([],{},{},"",{},yr,n,null,{});return new OD("",new za(l,[]))}(0,n),r=new qi([new Zf("",{})]),i=new qi({}),o=new qi({}),l=new qi({}),c=new qi(""),u=new ga(r,i,l,c,o,yr,n,e.root);return u.snapshot=e.root,new RD(new za(u,[]),e)}class ga{constructor(n,e,r,i,o,l,c,u){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=l,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pe(m=>m[Hf]))??$n(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(n=>Ju(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(n=>Ju(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ND(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function nH(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Hm{get title(){return this.data?.[Hf]}constructor(n,e,r,i,o,l,c,u,m){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=c,this.routeConfig=u,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ju(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OD extends xD{constructor(n,e){super(e),this.url=n,bb(this,e)}toString(){return PD(this._root)}}function bb(t,n){n.value._routerState=t,n.children.forEach(e=>bb(t,e))}function PD(t){const n=t.children.length>0?` { ${t.children.map(PD).join(", ")} } `:"";return`${t.value}${n}`}function Eb(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,pa(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),pa(n.params,e.params)||t.paramsSubject.next(e.params),function v3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!pa(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),pa(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Tb(t,n){const e=pa(t.params,n.params)&&function T3(t,n){return mc(t,n)&&t.every((e,r)=>pa(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Tb(t.parent,n.parent))}let wb=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=yr,this.activateEvents=new jr,this.deactivateEvents=new jr,this.attachEvents=new jr,this.detachEvents=new jr,this.parentContexts=Yt(Xf),this.location=Yt(is),this.changeDetector=Yt(Oo),this.environmentInjector=Yt(ks),this.inputBinder=Yt(Zm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Gt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Gt(4013,!1);this._activatedRoute=e;const i=this.location,l=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new rH(e,c,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=kn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[K]})}return t})();class rH{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===ga?this.route:n===Xf?this.childContexts:this.parent.get(n,e)}}const Zm=new on("");function Qf(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function oH(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qf(t,r,i);return Qf(t,r)})}(t,n,e);return new za(r,i)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=n.value,l.children=n.children.map(c=>Qf(t,c)),l}}const r=function sH(t){return new ga(new qi(t.url),new qi(t.params),new qi(t.queryParams),new qi(t.fragment),new qi(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(o=>Qf(t,o));return new za(r,i)}}const Sb="ngNavigationCancelingError";function FD(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=gc(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=LD(!1,0,n);return i.url=e,i.navigationBehaviorOptions=r,i}function LD(t,n,e){const r=new Error("NavigationCancelingError: "+(t||""));return r[Sb]=!0,r.cancellationCode=n,e&&(r.url=e),r}function BD(t){return t&&t[Sb]}let UD=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=vr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:1,vars:0,template:function(r,i){1&r&&Kn(0,"router-outlet")},dependencies:[wb],encapsulation:2})}return t})();function Cb(t){const n=t.children&&t.children.map(Cb),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==yr&&(e.component=UD),e}function js(t){return t.outlet||yr}function Jf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class pH{constructor(n,e,r,i,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),Eb(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=nd(e);n.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(i===o)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(n,e,l.children)}else this.deactivateChildRoutes(n,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=nd(n);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(r&&r.outlet){const l=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:c})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,o=nd(n);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=nd(e);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new J3(o.value.snapshot))}),n.children.length&&this.forwardEvent(new X3(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,o=e?e.value:null;if(Eb(i),i===o)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,l.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),Eb(c.route.value),this.activateChildRoutes(n,null,l.children)}else{const c=Jf(i.snapshot);l.attachRef=null,l.route=i,l.injector=c,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(n,null,l.children)}}else this.activateChildRoutes(n,null,r)}}class VD{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class zm{constructor(n,e){this.component=n,this.route=e}}function mH(t,n,e){const r=t._root;return eh(r,n?n._root:null,e,[r.value])}function rd(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function Ph(t){return null!==Ja(t)}(t)?n.get(t):t:r}function eh(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=nd(n);return t.children.forEach(l=>{(function _H(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,l=n?n.value:null,c=e?e.getContext(t.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const u=function vH(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!mc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!mc(t.url,n.url)||!pa(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tb(t,n)||!pa(t.queryParams,n.queryParams);default:return!Tb(t,n)}}(l,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new VD(r)):(o.data=l.data,o._resolvedData=l._resolvedData),eh(t,n,o.component?c?c.children:null:e,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new zm(c.outlet.component,l))}else l&&th(n,c,i),i.canActivateChecks.push(new VD(r)),eh(t,null,o.component?c?c.children:null:e,r,i)})(l,o[l.value.outlet],e,r.concat([l.value]),i),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,c])=>th(c,e.getContext(l),i)),i}function th(t,n,e){const r=nd(t),i=t.value;Object.entries(r).forEach(([o,l])=>{th(l,i.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new zm(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function nh(t){return"function"==typeof t}function jD(t){return t instanceof Nm||"EmptyError"===t?.name}const Gm=Symbol("INITIAL_VALUE");function id(){return Gn(t=>ab(t.map(n=>n.pipe(ko(1),Vf(Gm)))).pipe(pe(n=>{for(const e of n)if(!0!==e){if(e===Gm)return Gm;if(!1===e||e instanceof ed)return e}return!0}),io(n=>n!==Gm),ko(1)))}function HD(t){return function Ge(...t){return ut(t)}(Jr(n=>{if(gc(n))throw FD(0,n)}),pe(n=>!0===n))}class qm{constructor(n){this.segmentGroup=n||null}}class ZD{constructor(n){this.urlTree=n}}function od(t){return Qu(new qm(t))}function zD(t){return Qu(new ZD(t))}class BH{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new Gt(4002,!1)}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $n(r);if(i.numberOfChildren>1||!i.children[yr])return Qu(new Gt(4e3,!1));i=i.children[yr]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreateUrlTree(n,e,r,i){const o=this.createSegmentGroup(n,e.root,r,i);return new ed(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const c=o.substring(1);r[i]=e[c]}else r[i]=o}),r}createSegmentGroup(n,e,r,i){const o=this.createSegments(n,e.segments,r,i);let l={};return Object.entries(e.children).forEach(([c,u])=>{l[c]=this.createSegmentGroup(n,u,r,i)}),new ei(o,l)}createSegments(n,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new Gt(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const Ib={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UH(t,n,e,r,i){const o=Ab(t,n,e);return o.matched?(r=function lH(t,n){return t.providers&&!t._injector&&(t._injector=YC(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function kH(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?$n(i.map(l=>{const c=rd(l,t);return Sl(function SH(t){return t&&nh(t.canMatch)}(c)?c.canMatch(n,e):t.runInContext(()=>c(n,e)))})).pipe(id(),HD()):$n(!0)}(r,n,e).pipe(pe(l=>!0===l?o:{...Ib}))):$n(o)}function Ab(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...Ib}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||_3)(e,t,n);if(!i)return{...Ib};const o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function GD(t,n,e,r){return e.length>0&&function HH(t,n,e){return e.some(r=>Ym(t,n,r)&&js(r)!==yr)}(t,e,r)?{segmentGroup:new ei(n,jH(r,new ei(e,t.children))),slicedSegments:[]}:0===e.length&&function ZH(t,n,e){return e.some(r=>Ym(t,n,r))}(t,e,r)?{segmentGroup:new ei(t.segments,VH(t,0,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ei(t.segments,t.children),slicedSegments:e}}function VH(t,n,e,r,i){const o={};for(const l of r)if(Ym(t,e,l)&&!i[js(l)]){const c=new ei([],{});o[js(l)]=c}return{...i,...o}}function jH(t,n){const e={};e[yr]=n;for(const r of t)if(""===r.path&&js(r)!==yr){const i=new ei([],{});e[js(r)]=i}return e}function Ym(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class YH{constructor(n,e,r,i,o,l,c){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new BH(this.urlSerializer,this.urlTree)}noMatchError(n){return new Gt(4002,!1)}recognize(){const n=GD(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,yr).pipe(wl(e=>{if(e instanceof ZD)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof qm?this.noMatchError(e):e}),pe(e=>{const r=new Hm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yr,this.rootComponentType,null,{}),i=new za(r,e),o=new OD("",i),l=function L3(t,n,e=null,r=null){return TD(ED(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root),{state:o,tree:l}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,yr).pipe(wl(r=>{throw r instanceof qm?this.noMatchError(r):r}))}inheritParamsAndData(n){const e=n.value,r=ND(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0)}processChildren(n,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ci(i).pipe(jf(o=>{const l=r.children[o],c=function fH(t,n){const e=t.filter(r=>js(r)===n);return e.push(...t.filter(r=>js(r)!==n)),e}(e,o);return this.processSegmentGroup(n,c,l,o)}),function p3(t,n){return Ct(function h3(t,n,e,r,i){return(o,l)=>{let c=e,u=n,m=0;o.subscribe(Je(l,x=>{const W=m++;u=c?t(u,x,W):(c=!0,x),r&&l.next(u)},i&&(()=>{c&&l.next(u),l.complete()})))}}(t,n,arguments.length>=2,!0))}((o,l)=>(o.push(...l),o)),Om(null),function m3(t,n){const e=arguments.length>=2;return r=>r.pipe(t?io((i,o)=>t(i,o,r)):_e,cb(1),e?Om(n):aD(()=>new Nm))}(),Dt(o=>{if(null===o)return od(r);const l=qD(o);return function $H(t){t.sort((n,e)=>n.value.outlet===yr?-1:e.value.outlet===yr?1:n.value.outlet.localeCompare(e.value.outlet))}(l),$n(l)}))}processSegment(n,e,r,i,o,l){return Ci(e).pipe(jf(c=>this.processSegmentAgainstRoute(c._injector??n,e,c,r,i,o,l).pipe(wl(u=>{if(u instanceof qm)return $n(null);throw u}))),pc(c=>!!c),wl(c=>{if(jD(c))return function GH(t,n,e){return 0===n.length&&!t.children[e]}(r,i,o)?$n([]):od(r);throw c}))}processSegmentAgainstRoute(n,e,r,i,o,l,c){return function zH(t,n,e,r){return!!(js(t)===r||r!==yr&&Ym(n,e,t))&&("**"===t.path||Ab(n,t,e).matched)}(r,i,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,l,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,o,l):od(i):od(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zD(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Dt(l=>{const c=new ei(l,{});return this.processSegment(n,e,c,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,i,o,l){const{matched:c,consumedSegments:u,remainingSegments:m,positionalParamSegments:x}=Ab(e,i,o);if(!c)return od(e);const W=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,x);return i.redirectTo.startsWith("/")?zD(W):this.applyRedirects.lineralizeSegments(i,W).pipe(Dt(ge=>this.processSegment(n,r,e,ge.concat(m),l,!1)))}matchSegmentAgainstRoute(n,e,r,i,o,l){let c;if("**"===r.path){const u=i.length>0?uD(i).parameters:{};c=$n({snapshot:new Hm(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YD(r),js(r),r.component??r._loadedComponent??null,r,$D(r)),consumedSegments:[],remainingSegments:[]}),e.children={}}else c=UH(e,r,i,n).pipe(pe(({matched:u,consumedSegments:m,remainingSegments:x,parameters:W})=>u?{snapshot:new Hm(m,W,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YD(r),js(r),r.component??r._loadedComponent??null,r,$D(r)),consumedSegments:m,remainingSegments:x}:null));return c.pipe(Gn(u=>null===u?od(e):this.getChildConfig(n=r._injector??n,r,i).pipe(Gn(({routes:m})=>{const x=r._loadedInjector??n,{snapshot:W,consumedSegments:ge,remainingSegments:Re}=u,{segmentGroup:Ke,slicedSegments:ct}=GD(e,ge,Re,m);if(0===ct.length&&Ke.hasChildren())return this.processChildren(x,m,Ke).pipe(pe(Qt=>null===Qt?null:[new za(W,Qt)]));if(0===m.length&&0===ct.length)return $n([new za(W,[])]);const Ft=js(r)===o;return this.processSegment(x,m,Ke,ct,Ft?yr:o,!0).pipe(pe(Qt=>[new za(W,Qt)]))}))))}getChildConfig(n,e,r){return e.children?$n({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?$n({routes:e._loadedRoutes,injector:e._loadedInjector}):function PH(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?$n(!0):$n(i.map(l=>{const c=rd(l,t);return Sl(function bH(t){return t&&nh(t.canLoad)}(c)?c.canLoad(n,e):t.runInContext(()=>c(n,e)))})).pipe(id(),HD())}(n,e,r).pipe(Dt(i=>i?this.configLoader.loadChildren(n,e).pipe(Jr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function LH(t){return Qu(LD(!1,3))}())):$n({routes:[],injector:n})}}function WH(t){const n=t.value.routeConfig;return n&&""===n.path}function qD(t){const n=[],e=new Set;for(const r of t){if(!WH(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=qD(r.children);n.push(new za(r.value,i))}return n.filter(r=>!e.has(r))}function YD(t){return t.data||{}}function $D(t){return t.resolve||{}}function WD(t){return"string"==typeof t.title||null===t.title}function Db(t){return Gn(n=>{const e=t(n);return e?Ci(e).pipe(pe(()=>n)):$n(n)})}const $m=new on("ROUTES");let KD=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Yt(DB)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return $n(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Sl(e.loadComponent()).pipe(pe(XD),Jr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Pm(()=>{this.componentLoaders.delete(e)})),i=new sD(r,()=>new xe).pipe(lb());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $n({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function nZ(t,n,e,r){return Sl(t.loadChildren()).pipe(pe(XD),Dt(i=>i instanceof GC||Array.isArray(i)?$n(i):Ci(n.compileModuleAsync(i))),pe(i=>{r&&r(t);let o,l,c=!1;return Array.isArray(i)?(l=i,!0):(o=i.create(e).injector,l=o.get($m,[],{optional:!0,self:!0}).flat()),{routes:l.map(Cb),injector:o}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(Pm(()=>{this.childrenLoaders.delete(r)})),l=new sD(o,()=>new xe).pipe(lb());return this.childrenLoaders.set(r,l),l}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XD(t){return function rZ(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Wm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xe,this.transitionAbortSubject=new xe,this.configLoader=Yt(KD),this.environmentInjector=Yt(ks),this.urlSerializer=Yt(zf),this.rootContexts=Yt(Xf),this.inputBindingEnabled=null!==Yt(Zm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$n(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new W3(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new $3(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new qi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:e.urlHandlingStrategy.extract(r),urlAfterRedirects:e.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$f,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(io(o=>0!==o.id),pe(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Gn(o=>{this.currentTransition=o;let l=!1,c=!1;return $n(o).pipe(Jr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gn(u=>{const m=u.currentBrowserUrl.toString(),x=!e.navigated||u.extractedUrl.toString()!==m||m!==u.currentUrlTree.toString();if(!x&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const ge="";return this.events.next(new Kf(u.id,this.urlSerializer.serialize(u.rawUrl),ge,0)),u.resolve(null),Jt}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return $n(u).pipe(Gn(ge=>{const Re=this.transitions?.getValue();return this.events.next(new mb(ge.id,this.urlSerializer.serialize(ge.extractedUrl),ge.source,ge.restoredState)),Re!==this.transitions?.getValue()?Jt:Promise.resolve(ge)}),function KH(t,n,e,r,i,o){return Dt(l=>function qH(t,n,e,r,i,o,l="emptyOnly"){return new YH(t,n,e,r,i,l,o).recognize()}(t,n,e,r,l.extractedUrl,i,o).pipe(pe(({state:c,tree:u})=>({...l,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Jr(ge=>{o.targetSnapshot=ge.targetSnapshot,o.urlAfterRedirects=ge.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ge.urlAfterRedirects};const Re=new DD(ge.id,this.urlSerializer.serialize(ge.extractedUrl),this.urlSerializer.serialize(ge.urlAfterRedirects),ge.targetSnapshot);this.events.next(Re)}));if(x&&e.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:ge,extractedUrl:Re,source:Ke,restoredState:ct,extras:Ft}=u,Qt=new mb(ge,this.urlSerializer.serialize(Re),Ke,ct);this.events.next(Qt);const xt=MD(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:xt,urlAfterRedirects:Re,extras:{...Ft,skipLocationChange:!1,replaceUrl:!1}},$n(o)}{const ge="";return this.events.next(new Kf(u.id,this.urlSerializer.serialize(u.extractedUrl),ge,1)),u.resolve(null),Jt}}),Jr(u=>{const m=new z3(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}),pe(u=>(this.currentTransition=o={...u,guards:mH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function IH(t,n){return Dt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?$n({...e,guardsResult:!0}):function AH(t,n,e,r){return Ci(t).pipe(Dt(i=>function OH(t,n,e,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?$n(o.map(c=>{const u=Jf(n)??i,m=rd(c,u);return Sl(function wH(t){return t&&nh(t.canDeactivate)}(m)?m.canDeactivate(t,n,e,r):u.runInContext(()=>m(t,n,e,r))).pipe(pc())})).pipe(id()):$n(!0)}(i.component,i.route,e,n,r)),pc(i=>!0!==i,!0))}(l,r,i,t).pipe(Dt(c=>c&&function yH(t){return"boolean"==typeof t}(c)?function DH(t,n,e,r){return Ci(n).pipe(jf(i=>Uf(function RH(t,n){return null!==t&&n&&n(new K3(t)),$n(!0)}(i.route.parent,r),function xH(t,n){return null!==t&&n&&n(new Q3(t)),$n(!0)}(i.route,r),function NH(t,n,e){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(l=>function gH(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(l)).filter(l=>null!==l).map(l=>oD(()=>$n(l.guards.map(u=>{const m=Jf(l.node)??e,x=rd(u,m);return Sl(function TH(t){return t&&nh(t.canActivateChild)}(x)?x.canActivateChild(r,t):m.runInContext(()=>x(r,t))).pipe(pc())})).pipe(id())));return $n(o).pipe(id())}(t,i.path,e),function MH(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return $n(!0);const i=r.map(o=>oD(()=>{const l=Jf(n)??e,c=rd(o,l);return Sl(function EH(t){return t&&nh(t.canActivate)}(c)?c.canActivate(n,t):l.runInContext(()=>c(n,t))).pipe(pc())}));return $n(i).pipe(id())}(t,i.route,e))),pc(i=>!0!==i,!0))}(r,o,t,n):$n(c)),pe(c=>({...e,guardsResult:c})))})}(this.environmentInjector,u=>this.events.next(u)),Jr(u=>{if(o.guardsResult=u.guardsResult,gc(u.guardsResult))throw FD(0,u.guardsResult);const m=new G3(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(m)}),io(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),Db(u=>{if(u.guards.canActivateChecks.length)return $n(u).pipe(Jr(m=>{const x=new q3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(x)}),Gn(m=>{let x=!1;return $n(m).pipe(function XH(t,n){return Dt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return $n(e);let o=0;return Ci(i).pipe(jf(l=>function QH(t,n,e,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!WD(i)&&(o[Hf]=i.title),function JH(t,n,e,r){const i=function eZ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $n({});const o={};return Ci(i).pipe(Dt(l=>function tZ(t,n,e,r){const i=Jf(n)??r,o=rd(t,i);return Sl(o.resolve?o.resolve(n,e):i.runInContext(()=>o(n,e)))}(t[l],n,e,r).pipe(pc(),Jr(c=>{o[l]=c}))),cb(1),lD(o),wl(l=>jD(l)?Jt:Qu(l)))}(o,t,n,r).pipe(pe(l=>(t._resolvedData=l,t.data=ND(t,e).resolve,i&&WD(i)&&(t.data[Hf]=i.title),null)))}(l.route,r,t,n)),Jr(()=>o++),cb(1),Dt(l=>o===i.length?$n(e):Jt))})}(e.paramsInheritanceStrategy,this.environmentInjector),Jr({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(m,"",2)}}))}),Jr(m=>{const x=new Y3(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(x)}))}),Db(u=>{const m=x=>{const W=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&W.push(this.configLoader.loadComponent(x.routeConfig).pipe(Jr(ge=>{x.component=ge}),pe(()=>{})));for(const ge of x.children)W.push(...m(ge));return W};return ab(m(u.targetSnapshot.root)).pipe(Om(),ko(1))}),Db(()=>this.afterPreactivation()),pe(u=>{const m=function iH(t,n,e){const r=Qf(t,n._root,e?e._root:void 0);return new RD(r,n)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:m},o}),Jr(()=>{this.events.next(new gb)}),((t,n,e,r)=>pe(i=>(new pH(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ko(1),Jr({next:u=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new td(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{l=!0}}),Vi(this.transitionAbortSubject.pipe(Jr(u=>{throw u}))),Pm(()=>{l||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),wl(u=>{if(c=!0,BD(u))this.events.next(new Wf(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function aH(t){return BD(t)&&gc(t.url)}(u)?this.events.next(new _b(u.url)):o.resolve(!1);else{this.events.next(new jm(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(u))}catch(m){o.reject(m)}}return Jt}))}))}cancelNavigationTransition(e,r,i){const o=new Wf(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QD(t){return t!==$f}let JD=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===yr);return r}getResolvedTitleForRoute(e){return e.data[Hf]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:function(){return Yt(iZ)},providedIn:"root"})}return t})(),iZ=(()=>{class t extends JD{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(KA))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:function(){return Yt(aZ)},providedIn:"root"})}return t})();class sZ{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let aZ=(()=>{class t extends sZ{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const xb=new on("",{providedIn:"root",factory:()=>({})});let lZ=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:function(){return Yt(cZ)},providedIn:"root"})}return t})(),cZ=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(rh||{});function uZ(t){throw t}function dZ(t,n,e){return n.parse("/")}const fZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Yt(FI),this.isNgZoneEnabled=!1,this._events=new xe,this.options=Yt(xb,{optional:!0})||{},this.pendingTasks=Yt(LI),this.errorHandler=this.options.errorHandler||uZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Yt(lZ),this.routeReuseStrategy=Yt(oZ),this.titleStrategy=Yt(JD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Yt($m,{optional:!0})?.flat()??[],this.navigationTransitions=Yt(Wm),this.urlSerializer=Yt(zf),this.location=Yt(gm),this.componentInputBindingEnabled=!!Yt(Zm,{optional:!0}),this.eventsSubscription=new H,this.isNgZoneEnabled=Yt(or)instanceof or&&or.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ed,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=MD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(tx(r)&&this._events.next(r));if(r instanceof mb)QD(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Kf)this.rawUrlTree=i.rawUrl;else if(r instanceof DD){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof gb)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Wf)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof _b){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||QD(i.source)};this.scheduleNavigation(o,$f,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof jm&&this.restoreHistory(i,!0),r instanceof td&&(this.navigated=!0),tx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$f,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const c=this.parseUrl(e);this.scheduleNavigation(c,r,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Cb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:c,preserveFragment:u}=r,m=u?this.currentUrlTree.fragment:l;let W,x=null;switch(c){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}null!==x&&(x=this.removeEmptyProps(x));try{W=ED(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),W=this.currentUrlTree.root}return TD(W,e,x,m??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=gc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$f,null,r)}navigate(e,r={skipLocationChange:!1}){return function pZ(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new Gt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...fZ}:!1===r?{...hZ}:r,gc(e))return fD(this.currentUrlTree,e,i);const o=this.parseUrl(e);return fD(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let c,u,m;l?(c=l.resolve,u=l.reject,m=l.promise):m=new Promise((W,ge)=>{c=W,u=ge});const x=this.pendingTasks.add();return function ex(t,n){t.events.pipe(io(e=>e instanceof td||e instanceof Wf||e instanceof jm||e instanceof Kf),pe(e=>e instanceof td||e instanceof Kf?rh.COMPLETE:e instanceof Wf&&(0===e.code||1===e.code)?rh.REDIRECTING:rh.FAILED),io(e=>e!==rh.REDIRECTING),ko(1)).subscribe(()=>{n()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(W=>Promise.reject(W))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tx(t){return!(t instanceof gb||t instanceof _b)}let Ga=(()=>{class t{constructor(e,r,i,o,l,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=l,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new xe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof td&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function JT(t,n,e){return function XO(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?QT:ic}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Fo),_t(ga),tc("tabindex"),_t(Ua),_t(Ar),_t(mm))};static#t=this.\u0275dir=kn({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&sr("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&ri("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Wu],skipLocationChange:["skipLocationChange","skipLocationChange",Wu],replaceUrl:["replaceUrl","replaceUrl",Wu],routerLink:"routerLink"},standalone:!0,features:[cS,K]})}return t})();const Rb=new on("");function rx(t){return t.routerState.root}function ix(){const t=Yt(Do);return n=>{const e=t.get(yl);if(n!==e.components[0])return;const r=t.get(Fo),i=t.get(ox);1===t.get(Mb)&&r.initialNavigation(),t.get(sx,null,Tr.Optional)?.setUpPreloading(),t.get(Rb,null,Tr.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ox=new on("",{factory:()=>new xe}),Mb=new on("",{providedIn:"root",factory:()=>1}),sx=new on("");let wZ=(()=>{class t{#e=Yt(Vs);set data(e){this._data=e,this.#t()}#t(){const e=document.implementation.createHTMLDocument().createElement("p");e.innerHTML=this._data.embed,Array.from(e.getElementsByTagName("iframe")).forEach(r=>{r.setAttribute("loading","lazy"),r.style.position="relative",r.style.maxWidth="100vw"}),this._embed=this.#e.bypassSecurityTrustHtml(e.innerHTML)}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=vr({type:t,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(r,i){1&r&&Kn(0,"div",0),2&r&&qt("innerHTML",i._embed,rv)},changeDetection:0})}return t})();const SZ=["gallery"];function CZ(t,n){if(1&t){const e=Ai();an(0,"figure")(1,"img",3),sr("load",function(){return un(e),hn(Nn().onLoad())})("click",function(){const o=un(e).$implicit;return hn(Nn().onClick(o.href))}),dn()()}if(2&t){const e=n.$implicit,r=Nn();Kt(1),qt("src",e.src,ic)("srcset",e.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}const IZ=function(t){return{"set-scrollbar":t}};let AZ=(()=>{class t{#e;set fig(e){e&&e.nativeElement&&(this.#e=e.nativeElement)}onLoad(){this.#e&&(this.#e.scrollLeft=0)}onClick(e){String.isNullOrWhitespace(e)||window.open(e,"_blank","noopener,noreferrer")}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=vr({type:t,selectors:[["post-body-image"]],viewQuery:function(r,i){if(1&r&&Mo(SZ,5),2&r){let o;ii(o=oi())&&(i.fig=o.first)}},inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(r,i){1&r&&(an(0,"div",0,1),xn(2,CZ,2,3,"figure",2),dn()),2&r&&(qt("ngClass",da(2,IZ,i.data.images.length>1)),Kt(2),qt("ngForOf",i.data.images))},dependencies:[Xu,El],changeDetection:0})}return t})(),lx=(()=>{class t{#e="";#t=Yt(Vs);constructor(){this.#e=document.baseURI.replace(window.location.origin,""),this.#e.endsWith("/")&&(this.#e=this.#e.slice(0,-1))}sanitizeHTML(e){if(String.isNullOrWhitespace(e))return"";const r=document.implementation.createHTMLDocument().createElement("p");return r.innerHTML=this.#t.sanitize(Li.HTML,e),this.#n(r),r.innerHTML}sanitizeLink(e){if(String.isNullOrWhitespace(e))return{href:"",text:"",external:!1};let r=e;r.startsWith("/")&&(r=`${window.location.origin}${r}`),r=r.replace(window.location.origin,`${this.#e}`).replace("http://www.reddit.com/",`${this.#e}/`).replace("https://www.reddit.com/",`${this.#e}/`).replace("http://np.reddit.com/",`${this.#e}/`).replace("https://np.reddit.com/",`${this.#e}/`).replace("http://reddit.com/",`${this.#e}/`).replace("https://reddit.com/",`${this.#e}/`).replace("http://old.reddit.com/",`${this.#e}/`).replace("https://old.reddit.com/",`${this.#e}/`);const i=!r.startsWith(this.#e);if(!i){const c=r.indexOf("?");c>-1&&(r=r.slice(0,c)),r.endsWith("/")&&(r=r.slice(0,-1))}const o=r.replace(this.#e,""),l=document.createElement("a");return l.href=r,l.innerText=o,i&&(l.setAttribute("target","_blank"),l.setAttribute("rel","noopener noreferrer nofollow")),{href:r,text:o,external:i,el:l}}#n(e){const r=Array.from(e.getElementsByTagName("a"));0!==r.length&&r.forEach(i=>{const o=this.sanitizeLink(i.href);i.replaceWith(o.el)})}static#r=this.\u0275fac=function(r){return new(r||t)};static#i=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Km=(()=>{class t{#e={};save(e="",r=""){this.#e[window.location.href]={yScroll:window.scrollY},this.#t(e,r,this.#e[window.location.href])}#t(e,r,i){if(i.tag_name=e,i.element_id=r,i.element_heights=[],String.isNullOrWhitespace(r)||String.isNullOrWhitespace(e))return;const o=document.querySelectorAll(e);for(let l=0;l<o.length;l++){const c=o[l];if(i.element_heights.push({id:c.id,height:c.getBoundingClientRect().height}),c.id===r)break}}restore(){setTimeout(()=>{const e=this.#e[window.location.href];e?(this.#n(e),window.scrollTo(0,e.yScroll||0),delete this.#e[window.location.href]):window.scrollTo(0,0)},50)}#n(e){if(String.isNullOrWhitespace(e.element_id)||String.isNullOrWhitespace(e.tag_name)||0===e.element_heights?.length)return e.element_id="",e.tag_name="",void(e.element_heights=[]);const r=document.querySelectorAll(e.tag_name);for(let i=0;i<r.length;i++){const o=r[i],l=e.element_heights.find(c=>c.id===o.id);if(null!=l&&(o.style.height=`${l.height}px`,o.id===e.element_id))break}e.element_id="",e.tag_name="",e.element_heights=[]}static#r=this.\u0275fac=function(r){return new(r||t)};static#i=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DZ(t,n){if(1&t&&(an(0,"a",4),Or(1),dn()),2&t){const e=Nn(2);qt("href",e.href,ic),Kt(1),xo(e.text)}}function xZ(t,n){if(1&t){const e=Ai();an(0,"a",5),sr("click",function(){return un(e),hn(Nn(2).on_internal_click())}),Or(1),dn()}if(2&t){const e=Nn(2);qt("routerLink",e.text),Kt(1),xo(e.text)}}function RZ(t,n){if(1&t&&(an(0,"p",1),xn(1,DZ,2,2,"a",2),xn(2,xZ,2,2,"a",3),dn()),2&t){const e=Nn();Kt(1),qt("ngIf",e.is_external),Kt(1),qt("ngIf",!e.is_external&&e.show_internal)}}let MZ=(()=>{class t{#e;#t;#n;#r;set data(e){this.#r=e,this.#i()}constructor(){this.#e="",this.#t=Yt(lx),this.#n=Yt(Km),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,this.#e=document.baseURI,this.#e.endsWith("/")&&(this.#e=this.#e.slice(0,-1))}#i(){const e=this.#t.sanitizeLink(this.#r.url);if(this.href=e.href,this.is_external=e.external,this.is_external)return void(this.text=this.href);this.text=e.text;const r=this.text.indexOf("/r/")+3,i=this.text.indexOf("/",r),o=this.text.slice(r,i);this.show_internal=o.toLowerCase()!==this.#r.subreddit.toLowerCase()}on_internal_click(){this.#n.save("post",this.#r.id)}static#s=this.\u0275fac=function(r){return new(r||t)};static#o=this.\u0275cmp=vr({type:t,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink","click"]],template:function(r,i){1&r&&xn(0,RZ,3,2,"p",0),2&r&&qt("ngIf",i.is_external||i.show_internal)},dependencies:[Qi,Ga],changeDetection:0})}return t})();const NZ=["textPost"],OZ=function(t){return{masked:t}};let Ob,Nb=(()=>{class t{#e;#t;#n;#r;#i;#s;#o;#a;set data(e){null!=e&&(this.#a=e,this.#c())}#l;set post(e){e&&e.nativeElement&&(this.#l=e.nativeElement)}constructor(e,r,i,o,l){this.#e=!0,this._truncated=!0,this.#o="",this.#a="",this.#t=e,this.#n=r,this.#r=i,this.#i=o,this.#s=l,this.#o=document.baseURI,this.#o.endsWith("/")&&(this.#o=this.#o.slice(0,-1))}#c(){this._text=this.#n.bypassSecurityTrustHtml(this.#i.sanitizeHTML(this.#a)),setTimeout(()=>{this._truncated=this.#l.scrollHeight>this.#l.clientHeight,this.#e=this._truncated,this.#t.detectChanges()},0)}onClick(e){const r=e.target;if(r&&"A"===r.tagName){const i=r.href;i.startsWith(this.#o)&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),this.#r.navigateByUrl(i.replace(this.#o,"")))}else if(this.#e){if(this._truncated)return this._truncated=!1,void this.#s.save();this._truncated=!0,this.#s.restore()}}static#u=this.\u0275fac=function(r){return new(r||t)(_t(Oo),_t(Vs),_t(Fo),_t(lx),_t(Km))};static#d=this.\u0275cmp=vr({type:t,selectors:[["text-block"]],viewQuery:function(r,i){if(1&r&&Mo(NZ,5),2&r){let o;ii(o=oi())&&(i.post=o.first)}},inputs:{data:"data"},standalone:!0,features:[Qr],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(r,i){1&r&&(an(0,"p",0,1),sr("click",function(l){return i.onClick(l)}),dn()),2&r&&qt("ngClass",da(2,OZ,i._truncated))("innerHTML",i._text,rv)},dependencies:[Xu],changeDetection:0})}return t})(),PZ=(()=>{class t{constructor(){this.data=null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=vr({type:t,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[[3,"data"]],template:function(r,i){1&r&&Kn(0,"text-block",0),2&r&&qt("data",null==i.data?null:i.data.selftext_html)},dependencies:[Nb],changeDetection:0})}return t})();try{Ob=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ob=!1}let sd,Ji=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function ej(t){return t===kA}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ob)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(sc))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const cx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ux(){if(sd)return sd;if("object"!=typeof document||!document)return sd=new Set(cx),sd;let t=document.createElement("input");return sd=new Set(cx.filter(n=>(t.setAttribute("type",n),t.type===n))),sd}let ih,vc,Pb;function _c(t){return function kZ(){if(null==ih&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ih=!0}))}finally{ih=ih||!1}return ih}()?t:!!t.capture}function FZ(){if(null==vc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vc=!1,vc;if("scrollBehavior"in document.documentElement.style)vc=!0;else{const t=Element.prototype.scrollTo;vc=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return vc}function Cl(t){return t.composedPath?t.composedPath()[0]:t.target}function kb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Bb(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class t4 extends H{constructor(n,e){super()}schedule(n,e=0){return this}}const Qm={setInterval(t,n,...e){const{delegate:r}=Qm;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Qm;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Ub extends t4{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return Qm.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Qm.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ze(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const Vb={now:()=>(Vb.delegate||Date).now(),delegate:void 0};class oh{constructor(n,e=oh.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}oh.now=Vb.now;class jb extends oh{constructor(n,e=oh.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const Jm=new jb(Ub),n4=Jm;function Hb(t,n=Jm){return Ct((e,r)=>{let i=null,o=null,l=null;const c=()=>{if(i){i.unsubscribe(),i=null;const m=o;o=null,r.next(m)}};function u(){const m=l+t,x=n.now();if(x<m)return i=this.schedule(void 0,m-x),void r.add(i);c()}e.subscribe(Je(r,m=>{o=m,l=n.now(),i||(i=n.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function px(t){return io((n,e)=>t<=e)}function oo(t){return null!=t&&"false"!=`${t}`}function yc(t,n=0){return function r4(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function eg(t){return Array.isArray(t)?t:[t]}function ji(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Il(t){return t instanceof Ar?t.nativeElement:t}let i4=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mx=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({providers:[i4]})}return t})();const gx=new Set;let bc,o4=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):a4}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function s4(t,n){if(!gx.has(t))try{bc||(bc=document.createElement("style"),n&&(bc.nonce=n),bc.setAttribute("type","text/css"),document.head.appendChild(bc)),bc.sheet&&(bc.sheet.insertRule(`@media ${t} {body{ }}`,0),gx.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Ji),Xt(fv,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function a4(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let l4=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new xe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _x(eg(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=ab(_x(eg(e)).map(l=>this._registerQuery(l).observable));return o=Uf(o.pipe(ko(1)),o.pipe(px(1),Hb(0))),o.pipe(pe(l=>{const c={matches:!1,breakpoints:{}};return l.forEach(({matches:u,query:m})=>{c.matches=c.matches||u,c.breakpoints[m]=u}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new Ve(l=>{const c=u=>this._zone.run(()=>l.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Vf(r),pe(({matches:l})=>({query:e,matches:l})),Vi(this._destroySubject)),mql:r};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(o4),Xt(or))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _x(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function tg(t,n){return(t.getAttribute(n)||"").match(/\S+/g)||[]}const yx="cdk-describedby-message",ng="cdk-describedby-host";let Zb=0,d4=(()=>{class t{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Zb++,this._document=e,this._id=Yt(Mp)+"-"+Zb++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const o=zb(r,i);"string"!=typeof r?(bx(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const o=zb(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof r){const l=this._messageRegistry.get(o);l&&0===l.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${ng}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(ng);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");bx(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(zb(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=tg(e,"aria-describedby").filter(i=>0!=i.indexOf(yx));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function c4(t,n,e){const r=tg(t,n);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),t.setAttribute(n,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute(ng,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function u4(t,n,e){const i=tg(t,n).filter(o=>o!=e.trim());i.length?t.setAttribute(n,i.join(" ")):t.removeAttribute(n)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute(ng)}_isElementDescribedByMessage(e,r){const i=tg(e,"aria-describedby"),o=this._messageRegistry.get(r),l=o&&o.messageElement.id;return!!l&&-1!=i.indexOf(l)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=e.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr),Xt(Ji))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zb(t,n){return"string"==typeof t?`${n||""}/${t}`:t}function bx(t,n){t.id||(t.id=`${yx}-${n}-${Zb++}`)}class f4{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xe,this._typeaheadSubscription=H.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new xe,this.change=new xe,n instanceof qu&&(this._itemChangesSubscription=n.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Jr(e=>this._pressedLetters.push(e)),Hb(n),io(()=>this._pressedLetters.length>0),pe(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,l=r[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,e=10){return this._pageUpAndDown={enabled:n,delta:e},this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!n[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((i||Bb(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof qu?this._items.toArray():this._items}}class h4 extends f4{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function Gb(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function qb(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const y4=new on("cdk-input-modality-detector-options"),b4={ignoreKeys:[18,17,224,91,16]},ad=_c({passive:!0,capture:!0});let E4=(()=>{class t{get mostRecentModality(){return this._modality.value}constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new qi(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(c=>c===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Cl(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Gb(l)?"keyboard":"mouse"),this._mostRecentTarget=Cl(l))},this._onTouchstart=l=>{qb(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cl(l))},this._options={...b4,...o},this.modalityDetected=this._modality.pipe(px(1)),this.modalityChanged=this.modalityDetected.pipe(ai()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,ad),i.addEventListener("mousedown",this._onMousedown,ad),i.addEventListener("touchstart",this._onTouchstart,ad)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ad),document.removeEventListener("mousedown",this._onMousedown,ad),document.removeEventListener("touchstart",this._onTouchstart,ad))}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Ji),Xt(or),Xt(Cr),Xt(y4,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const w4=new on("cdk-focus-monitor-default-options"),rg=_c({passive:!0,capture:!0});let sh=(()=>{class t{constructor(e,r,i,o,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xe,this._rootNodeFocusAndBlurListener=c=>{for(let m=Cl(c);m;m=m.parentElement)"focus"===c.type?this._onFocus(c,m):this._onBlur(c,m)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,r=!1){const i=Il(e);if(!this._platform.isBrowser||1!==i.nodeType)return $n();const o=function BZ(t){if(function LZ(){if(null==Pb){const t=typeof document<"u"?document.head:null;Pb=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Pb}()){const n=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const c={checkChildren:r,subject:new xe,rootNode:o};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const r=Il(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=Il(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=Cl(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,rg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,rg)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(or),Xt(Ji),Xt(E4),Xt(Cr,8),Xt(w4,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const wx="cdk-high-contrast-black-on-white",Sx="cdk-high-contrast-white-on-black",Yb="cdk-high-contrast-active";let Cx=(()=>{class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=Yt(l4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Yb,wx,Sx),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Yb,wx):2===r&&e.add(Yb,Sx)}}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Ji),Xt(Cr))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),S4=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cx))};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[mx]})}return t})();const C4=new on("cdk-dir-doc",{providedIn:"root",factory:function I4(){return Yt(Cr)}}),A4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ig=(()=>{class t{constructor(e){this.value="ltr",this.change=new jr,e&&(this.value=function D4(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?A4.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(C4,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ah=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({})}return t})();const R4=new on("mat-sanity-checks",{providedIn:"root",factory:function x4(){return!0}});let eo=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!kb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cx),Xt(R4,8),Xt(Cr))};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[ah,ah]})}return t})();function Dx(t){return class extends t{get disabled(){return this._disabled}set disabled(n){this._disabled=oo(n)}constructor(...n){super(...n),this._disabled=!1}}}function og(t,n){return class extends t{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=n,this.color=n}}}function $b(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=oo(n)}constructor(...n){super(...n),this._disableRipple=!1}}}function M4(t,n=0){return class extends t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?yc(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}}}function N4(t){return class extends t{updateErrorState(){const n=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==n&&(this.errorState=o,this.stateChanges.next())}constructor(...n){super(...n),this.errorState=!1}}}let xx=(()=>{class t{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class P4{constructor(n,e,r,i=!1){this._renderer=n,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Rx=_c({passive:!0,capture:!0});class k4{constructor(){this._events=new Map,this._delegateEventHandler=n=>{const e=Cl(n);e&&this._events.get(n.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(n))})}}addHandler(n,e,r,i){const o=this._events.get(e);if(o){const l=o.get(r);l?l.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),n.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Rx)})}removeHandler(n,e,r){const i=this._events.get(n);if(!i)return;const o=i.get(e);o&&(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,Rx)))}}const Mx={enterDuration:225,exitDuration:150},Nx=_c({passive:!0,capture:!0}),Ox=["mousedown","touchstart"],Px=["mouseup","mouseleave","touchend","touchcancel"];class sg{static#e=this._eventManager=new k4;constructor(n,e,r,i){this._target=n,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Il(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Mx,...r.animation};r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);const l=r.radius||function L4(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),c=n-i.left,u=e-i.top,m=o.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=c-l+"px",x.style.top=u-l+"px",x.style.height=2*l+"px",x.style.width=2*l+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(x);const W=window.getComputedStyle(x),Re=W.transitionDuration,Ke="none"===W.transitionProperty||"0s"===Re||"0s, 0s"===Re||0===i.width&&0===i.height,ct=new P4(this,x,r,Ke);x.style.transform="scale3d(1, 1, 1)",ct.state=0,r.persistent||(this._mostRecentTransientRipple=ct);let Ft=null;return!Ke&&(m||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Qt=()=>this._finishRippleTransition(ct),xt=()=>this._destroyRipple(ct);x.addEventListener("transitionend",Qt),x.addEventListener("transitioncancel",xt),Ft={onTransitionEnd:Qt,onTransitionCancel:xt}}),this._activeRipples.set(ct,Ft),(Ke||!m)&&this._finishRippleTransition(ct),ct}fadeOutRipple(n){if(2===n.state||3===n.state)return;const e=n.element,r={...Mx,...n.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=Il(n);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Ox.forEach(r=>{sg._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Px.forEach(e=>{this._triggerElement.addEventListener(e,this,Nx)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const e=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!e||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const e=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==e&&(n.element.removeEventListener("transitionend",e.onTransitionEnd),n.element.removeEventListener("transitioncancel",e.onTransitionCancel)),n.element.remove()}_onMousedown(n){const e=Gb(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!qb(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(Ox.forEach(e=>sg._eventManager.removeHandler(e,n,this)),this._pointerUpEventsRegistered&&Px.forEach(e=>n.removeEventListener(e,this,Nx)))}}const kx=new on("mat-ripple-global-options");let Wb=(()=>{class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new sg(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(or),_t(Ji),_t(kx,8),_t(Ts,8))};static#t=this.\u0275dir=kn({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&Ei("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})(),ch=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[eo,eo]})}return t})();const Fx={capture:!0},Lx=["focus","click","mouseenter","touchstart"],Kb="mat-ripple-loader-uninitialized",Xb="mat-ripple-loader-class-name",Bx="mat-ripple-loader-centered",ag="mat-ripple-loader-disabled";let B4=(()=>{class t{constructor(){this._document=Yt(Cr,{optional:!0}),this._animationMode=Yt(Ts,{optional:!0}),this._globalRippleOptions=Yt(kx,{optional:!0}),this._platform=Yt(Ji),this._ngZone=Yt(or),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const i=e.target.closest(`[${Kb}]`);i&&this.createRipple(i)},this._ngZone.runOutsideAngular(()=>{for(const e of Lx)this._document?.addEventListener(e,this._onInteraction,Fx)})}ngOnDestroy(){for(const e of Lx)this._document?.removeEventListener(e,this._onInteraction,Fx)}configureRipple(e,r){e.setAttribute(Kb,""),(r.className||!e.hasAttribute(Xb))&&e.setAttribute(Xb,r.className||""),r.centered&&e.setAttribute(Bx,""),r.disabled&&e.setAttribute(ag,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,r){const i=e.matRipple;i?i.disabled=r:r?e.setAttribute(ag,""):e.removeAttribute(ag)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(Xb)),e.append(r);const i=new Wb(new Ar(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=e,i.centered=e.hasAttribute(Bx),i.disabled=e.hasAttribute(ag),this.attachRipple(e,i),i}attachRipple(e,r){e.removeAttribute(Kb),e.matRipple=r}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ux(...t){const n=Mi(t),{args:e,keys:r}=nD(t),i=new Ve(o=>{const{length:l}=e;if(!l)return void o.complete();const c=new Array(l);let u=l,m=l;for(let x=0;x<l;x++){let W=!1;fn(e[x]).subscribe(Je(o,ge=>{W||(W=!0,m--),c[x]=ge},()=>u--,void 0,()=>{(!u||!W)&&(m||o.next(r?rD(r,c):c),o.complete())}))}});return n?i.pipe(sb(n)):i}class Qb{}class Ya{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ya?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Ya;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ya?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const i=("a"===n.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=n.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(c=>-1===o.indexOf(c)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class U4{encodeKey(n){return Vx(n)}encodeValue(n){return Vx(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const j4=/%(\d[a-f0-9])/gi,H4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vx(t){return encodeURIComponent(t).replace(j4,(n,e)=>H4[e]??n)}function lg(t){return`${t}`}class Al{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new U4,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function V4(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,c]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],u=e.get(l)||[];u.push(c),e.set(l,u)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],i=Array.isArray(r)?r.map(lg):[lg(r)];this.map.set(e,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Al({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(lg(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(lg(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class Z4{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function jx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Hx(t){return typeof Blob<"u"&&t instanceof Blob}function Zx(t){return typeof FormData<"u"&&t instanceof FormData}class uh{constructor(n,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function z4(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ya),this.context||(this.context=new Z4),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+l}}else this.params=new Al,this.urlWithParams=e}serializeBody(){return null===this.body?null:jx(this.body)||Hx(this.body)||Zx(this.body)||function G4(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Al?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Zx(this.body)?null:Hx(this.body)?this.body.type||null:jx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Al?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,l=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,c=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let u=n.headers||this.headers,m=n.params||this.params;const x=n.context??this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((W,ge)=>W.set(ge,n.setHeaders[ge]),u)),n.setParams&&(m=Object.keys(n.setParams).reduce((W,ge)=>W.set(ge,n.setParams[ge]),m)),new uh(e,r,o,{params:m,headers:u,context:x,reportProgress:c,responseType:i,withCredentials:l})}}var eE=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(eE||{});class q4{constructor(n,e=200,r="OK"){this.headers=n.headers||new Ya,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class dh extends q4{constructor(n={}){super(n),this.type=eE.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new dh({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}function tE(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let nE=(()=>{class t{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof uh)o=e;else{let u,m;u=i.headers instanceof Ya?i.headers:new Ya(i.headers),i.params&&(m=i.params instanceof Al?i.params:new Al({fromObject:i.params})),o=new uh(e,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:m,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=$n(o).pipe(jf(u=>this.handler.handle(u)));if(e instanceof uh||"events"===i.observe)return l;const c=l.pipe(io(u=>u instanceof dh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(pe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(pe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(pe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(pe(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Al).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,tE(i,r))}post(e,r,i={}){return this.request("POST",e,tE(i,r))}put(e,r,i={}){return this.request("PUT",e,tE(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Qb))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})();const h5=["*"];let dg;function fh(t){return function p5(){if(void 0===dg&&(dg=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(dg=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return dg}()?.createHTML(t)||t}function Jx(t){return Error(`Unable to find icon with the name "${t}"`)}function eR(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function tR(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Tc{constructor(n,e,r){this.url=n,this.svgText=e,this.options=r}}let hh=(()=>{class t{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Tc(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){const l=this._sanitizer.sanitize(Li.HTML,i);if(!l)throw tR(i);const c=fh(l);return this._addSvgIconConfig(e,r,new Tc("",c,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Tc(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const o=this._sanitizer.sanitize(Li.HTML,r);if(!o)throw tR(r);const l=fh(o);return this._addSvgIconSetConfig(e,new Tc("",l,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(Li.RESOURCE_URL,e);if(!r)throw eR(e);const i=this._cachedIconsByUrl.get(r);return i?$n(fg(i)):this._loadSvgIconFromConfig(new Tc(e,null)).pipe(Jr(o=>this._cachedIconsByUrl.set(r,o)),pe(o=>fg(o)))}getNamedSvgIcon(e,r=""){const i=nR(r,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):Qu(Jx(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?$n(fg(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(pe(r=>fg(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?$n(i):Ux(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(wl(c=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(Li.RESOURCE_URL,l.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(m)),$n(null)})))).pipe(pe(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw Jx(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(l,e,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Jr(r=>e.svgText=r),pe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?$n(null):this._fetchIcon(e).pipe(Jr(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const o=e.querySelector(`[id="${r}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const c=this._svgElementFromString(fh("<svg></svg>"));return c.appendChild(l),this._setSvgAttributes(c,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(fh("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:l,value:c}=i[o];"id"!==l&&r.setAttribute(l,c)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function m5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize(Li.RESOURCE_URL,r);if(!l)throw eR(r);const c=this._inProgressUrlFetches.get(l);if(c)return c;const u=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe(pe(m=>fh(m)),Pm(()=>this._inProgressUrlFetches.delete(l)),Wt());return this._inProgressUrlFetches.set(l,u),u}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(nR(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,e);if(o)return _5(o)?new Tc(o.url,null,o.options):new Tc(o,null)}}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(nE,8),Xt(Vs),Xt(Cr,8),Xt(ws))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fg(t){return t.cloneNode(!0)}function nR(t,n){return t+":"+n}function _5(t){return!(!t.url||!t.options)}const v5=og(class{constructor(t){this._elementRef=t}}),y5=new on("MAT_ICON_DEFAULT_OPTIONS"),b5=new on("mat-icon-location",{providedIn:"root",factory:function E5(){const t=Yt(Cr),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),rR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],T5=rR.map(t=>`[${t}]`).join(", "),w5=/^url\(['"]?#(.*?)['"]?\)$/;let xl=(()=>{class t extends v5{get inline(){return this._inline}set inline(e){this._inline=oo(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,o,l,c){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=H.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(T5),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)rR.forEach(l=>{const c=r[o],u=c.getAttribute(l),m=u?u.match(w5):null;if(m){let x=i.get(c);x||(x=[],i.set(c,x)),x.push({name:l,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(ko(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(hh),tc("aria-hidden"),_t(b5),_t(ws),_t(y5,8))};static#t=this.\u0275cmp=vr({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(r,i){2&r&&(ri("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Ei("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[gr],ngContentSelectors:h5,decls:1,vars:0,template:function(r,i){1&r&&(la(),Di(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),ss=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[eo,eo]})}return t})(),S5=(()=>{class t{transform(e){const r=new Date(0);r.setUTCSeconds(e||0);const i=r.toISOString().substring(11,19);return r.getUTCHours()>0?i:r.getUTCMinutes()>0?i.substring(3):i.substring(4)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Pi({name:"time",type:t,pure:!0,standalone:!0})}return t})();var C5=Ri(584);const I5=["video"];function A5(t,n){if(1&t){const e=Ai();an(0,"mat-icon",12),sr("click",function(){return un(e),Nn(),hn(Bi(4).play())}),dn()}}function D5(t,n){if(1&t){const e=Ai();an(0,"mat-icon",13),sr("click",function(){return un(e),Nn(),hn(Bi(4).pause())}),dn()}}function x5(t,n){if(1&t){const e=Ai();an(0,"mat-icon",16),sr("click",function(){un(e),Nn(2);const i=Bi(4);return hn(i.muted=!i.muted)}),dn()}}function R5(t,n){if(1&t){const e=Ai();an(0,"mat-icon",17),sr("click",function(){un(e),Nn(2);const i=Bi(4);return hn(i.muted=!i.muted)}),dn()}}function M5(t,n){if(1&t&&(sa(0),xn(1,x5,1,0,"mat-icon",14),xn(2,R5,1,0,"mat-icon",15),aa()),2&t){Nn();const e=Bi(4);Kt(1),qt("ngIf",e.muted),Kt(1),qt("ngIf",!e.muted)}}const N5=function(t){return{"--p":t}};let O5=(()=>{class t{constructor(){this.#e=new IntersectionObserver((e,r)=>this.#a(e,r),{root:null,rootMargin:"32px",threshold:0}),this.#n=!1,this.#r=0,this.#i=!1,this.#s="",this.has_audio=!0,this.cd=Yt(Oo)}#e;#t;#n;#r;#i;#s;#o;set value(e){e&&e.nativeElement&&(this.#o=e.nativeElement)}#a(e,r){e[0].isIntersecting?this.#n||(this.#i?this.#t.attachSource(this.#s):this.#o.src=this.#s,this.#n=!0):this.#n&&(this.#o.paused||this.#o.ended||this.#o.pause())}ngOnInit(){var e=this;return ui(function*(){const r=e.data.videos.find(i=>"application/dash+xml"===i.type);e.#s=r?.url||e.data.videos[e.data.videos.length-1].url,null!=r?(e.#i=!0,yield e.#l(e.#s),e.#t=(0,C5.MediaPlayer)().create(),e.#t.initialize(e.#o,"",!1),e.#t.setMute(!0),e.#t.updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:e.#r-1}}}}),e.#e.observe(e.#o)):e.#e.observe(e.#o)})()}ngOnDestroy(){this.#t?.destroy()}onLoadeddata(){this.#i||(this.has_audio="mozHasAudio"in this.#o&&this.#o.mozHasAudio||"webkitAudioDecodedByteCount"in this.#o&&this.#o.webkitAudioDecodedByteCount>0||"audioTracks"in this.#o&&this.#o.audioTracks.length>0,this.#o.muted=!0)}skip(e,r,i){const o=r.getBoundingClientRect();i.currentTime=(e.pageX-o.left)/r.offsetWidth*i.duration}#l(e){var r=this;return ui(function*(){try{const i=yield fetch(e);if(!i.ok)return;const o=yield i.text();if(String.isNullOrWhitespace(o))return;const l=(new DOMParser).parseFromString(o,"application/xml");if(null==l)return;const c=l.querySelector('AdaptationSet[contentType="audio"]');r.has_audio=null!=c;const u=l.querySelector('AdaptationSet[contentType="video"]');if(null==u)return;const m=u.querySelectorAll("Representation");if(null==m||0===m.length)return;const x=Array.from(m).map(W=>Number(W.getAttribute("bandwidth"))).filter(W=>!isNaN(W));if(null==x||0===x.length)return;r.#r=Math.max(...x)}catch{return}})()}static#c=this.\u0275fac=function(r){return new(r||t)};static#u=this.\u0275cmp=vr({type:t,selectors:[["post-body-video"]],viewQuery:function(r,i){if(1&r&&Mo(I5,7),2&r){let o;ii(o=oi())&&(i.value=o.first)}},inputs:{data:"data"},standalone:!0,features:[Qr],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(r,i){if(1&r){const o=Ai();an(0,"div",0),Kn(1,"mat-icon",1)(2,"mat-icon",2),dn(),an(3,"video",3,4),sr("loadeddata",function(){return i.onLoadeddata()})("click",function(){un(o);const c=Bi(4);return hn(c.paused||c.ended?c.play():c.pause())})("timeupdate",function(){return i.cd.detectChanges()}),dn(),an(5,"div",5),xn(6,A5,1,0,"mat-icon",6),xn(7,D5,1,0,"mat-icon",7),an(8,"div",8,9),sr("click",function(c){un(o);const u=Bi(9),m=Bi(4);return hn(i.skip(c,u,m))}),an(10,"div",10),Or(11),gl(12,"time"),gl(13,"time"),dn()(),xn(14,M5,3,2,"ng-container",11),dn()}if(2&r){const o=Bi(4);Kt(6),qt("ngIf",o.paused||o.ended),Kt(1),qt("ngIf",!o.paused&&!o.ended),Kt(1),qt("ngStyle",da(10,N5,100*((null==o?null:o.currentTime)||0)/o.duration+"%")),Kt(3),em("",_l(12,6,o.currentTime)," / ",_l(13,8,o.duration)," "),Kt(3),qt("ngIf",i.has_audio)}},dependencies:[ss,xl,Qi,Dm,S5],changeDetection:0})}return t})();function P5(t,n){1&t&&Kn(0,"post-body-embed",1),2&t&&qt("data",Nn()._data)}function k5(t,n){1&t&&Kn(0,"post-body-image",1),2&t&&qt("data",Nn()._data)}function F5(t,n){1&t&&Kn(0,"post-body-text",1),2&t&&qt("data",Nn()._data)}function L5(t,n){1&t&&Kn(0,"post-body-video",1),2&t&&qt("data",Nn()._data)}function B5(t,n){1&t&&Kn(0,"post-body-link",1),2&t&&qt("data",Nn()._data)}let U5=(()=>{class t{set data(e){this._data=e.is_crosspost?e.crosspost:e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=vr({type:t,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(r,i){1&r&&(xn(0,P5,1,1,"post-body-embed",0),xn(1,k5,1,1,"post-body-image",0),xn(2,F5,1,1,"post-body-text",0),xn(3,L5,1,1,"post-body-video",0),xn(4,B5,1,1,"post-body-link",0)),2&r&&(qt("ngIf",null==i._data?null:i._data.has_embed),Kt(1),qt("ngIf",null==i._data?null:i._data.has_image),Kt(1),qt("ngIf",null==i._data?null:i._data.has_text),Kt(1),qt("ngIf",null==i._data?null:i._data.has_video),Kt(1),qt("ngIf",null==i._data?null:i._data.has_link))},dependencies:[Qi,wZ,AZ,MZ,PZ,O5],changeDetection:0})}return t})();class Rl{}class iR extends Rl{}var As=function(t){return t.Listing="Listing",t.Comment="t1",t.Account="t2",t.Link="t3",t.Message="t4",t.Subreddit="t5",t.Award="t6",t.More="more",t}(As||{});const V5=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function iE(t,n){let e={};return function j5(t,n){if(n.is_crosspost=String.hasData(t.crosspost_parent)&&Array.isArray(t.crosspost_parent_list)&&t.crosspost_parent_list.length>0,t.media?.reddit_video)n.has_video=!0;else if(t.preview?.reddit_video_preview)n.has_video=!0;else if(t.preview&&Array.isArray(t.preview.images)&&t.preview.images[0].variants&&"mp4"in t.preview.images[0].variants)n.has_video=!0;else if(t.media_embed?.content)n.has_embed=!0;else{if(String.hasData(t.selftext_html)&&(n.has_text=!0),t.thumbnail&&"default"===t.thumbnail&&(n.has_link=!0),t.post_hint&&"link"===t.post_hint&&"imgur.com"!==t.domain&&(n.has_link=!0),!t.preview||!Array.isArray(t.preview.images))return t.gallery_data?(n.has_image=!0,void(n.has_image_gallery=!0)):void(V5.some(e=>t.url.endsWith(e))?n.has_image=!0:!n.has_image&&!n.has_text&&(n.has_link=!0));n.has_image=!0}}(t,e),function H5(t,n){n.author=t.author,n.created_utc=t.created_utc,n.downs=t.downs,n.id=t.id,n.num_comments=t.num_comments,n.stickied=t.stickied,n.subreddit=t.subreddit,n.title=t.title,n.ups=t.ups,n.url=t.url}(t,e),function Z5(t,n,e){n.is_crosspost&&(n.crosspost=iE(t.crosspost_parent_list[0],e))}(t,e,n),function z5(t,n){n.has_embed&&(n.embed=t.media_embed.content)}(t,e),function G5(t,n){n.has_image&&(n.images=null!=t.gallery_data?function q5(t){return t.gallery_data.items.map(n=>{const e=t.media_metadata[n.media_id];return"valid"!==e.status?{src:"",srcset:"",href:t.url}:{src:e.o?e.o[0].u:e.s.u,srcset:e.p.map(r=>`${r.u} ${r.x}w`).join(","),href:t.url}})}(t):null!=t.preview?function Y5(t){const n=t.preview.images[0];return[{src:n.source.url,srcset:n.resolutions.map(e=>`${e.url} ${e.width}w`).join(","),href:t.url}]}(t):function $5(t){return[{src:t.url,srcset:t.url,href:t.url}]}(t))}(t,e),function J5(t,n){n.has_link&&(n.url=t.url)}(t,e),function e8(t,n){n.has_text&&(n.selftext_html=t.selftext_html)}(t,e),function W5(t,n,e){n.has_video&&(n.videos=t.media&&t.media.reddit_video?function K5(t){return[{url:t.media.reddit_video.dash_url,type:"application/dash+xml"},{url:t.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:t.media.reddit_video.fallback_url,type:"video/mp4"}]}(t):t.preview&&t.preview.reddit_video_preview?function X5(t){return[{url:t.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:t.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:t.preview.reddit_video_preview.fallback_url,type:"video/mp4"}]}(t):function Q5(t){return[{url:t.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(t),!e&&(n.videos=n.videos.filter(r=>"video/mp4"==r.type)))}(t,e,n),e}let oR=(()=>{class t{transform(e){if(null==e)return"-";const r=new Date(Date.now()-1e3*e);return r.getUTCFullYear()>1970?r.getUTCFullYear()-1970+"y":r.getUTCMonth()>0?`${r.getUTCMonth()}mo`:r.getUTCDate()>1?r.getUTCDate()-1+"d":r.getUTCHours()>0?`${r.getUTCHours()}h`:`${r.getUTCMinutes()}m`}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Pi({name:"age",type:t,pure:!0,standalone:!0})}return t})(),t8=(()=>{class t{transform(e){if(isNaN(+`${e}`)||0===e)return"0";const r=Math.log10(e);return r<3?`${e}`:r<6?`${Math.floor(e/1e3)}K`:r<9?`${Math.floor(e/1e6)}M`:"lots"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275pipe=Pi({name:"count",type:t,pure:!0,standalone:!0})}return t})();class sR{constructor(n,e){this.storage=n,this.keyPrefix=e,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(n,e,r){const i=this.createItemKey(n),o=new n8;o.value=e,null!=r&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(n){const e=this.createItemKey(n),r=this.storage.getItem(e);return null===r?null:JSON.parse(r).value}remove(n){this.storage.removeItem(this.createItemKey(n))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const n=[],e=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;const l=this.storage.getItem(o);if(!l)continue;const c=JSON.parse(l);c.expiresOn&&e>c.expiresOn&&n.push(o)}n.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(n){return`${this.keyPrefix}.${n}`}}class n8{}class oE{constructor(){this.keyPrefix=""}}let r8=(()=>{class t extends sR{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,e.keyPrefix)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(oE))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),i8=(()=>{class t{#e="profile";#t=Yt(r8);#n={};#r=JSON.stringify(this.#n);#i=new xe;#s=this.#i.pipe(Hb(300)).subscribe(()=>this.#a());#o=!1;get(e){return this.#n[e]}set(e,r){this.#n[e]=r,this.#i.next("")}load(){var e=this;return ui(function*(){if(e.#o)return;const r=e.#t.get(e.#e);null!=r&&(e.#n=r,e.#r=JSON.stringify(e.#n),e.#o=!0)})()}#a(){const e=JSON.stringify(this.#n);e!==this.#r&&(this.#r=e,this.#t.set(this.#e,this.#n))}ngOnDestroy(){this.#s.unsubscribe()}static#l=this.\u0275fac=function(r){return new(r||t)};static#c=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aR=(()=>{class t{#e="subreddits";#t=[];#n=Yt(i8);add(e){String.isNullOrWhitespace(e)||this.#t.includes(e)||(this.#t.push(e),this.#t.sort(),this.#n.set(this.#e,this.#t))}get(){return[...this.#t]}remove(e){String.isNullOrWhitespace(e)||(this.#t=this.#t.filter(r=>r!==e),this.#n.set(this.#e,this.#t))}loadAsync(){var e=this;return ui(function*(){yield e.#n.load(),e.#t=["algotrading","android","angular","angular2","angularjs","artificial","askreddit","askscience","bestof","ChatGPT","ChatGPTCoding","ChatGPTPromptGenius","coding","computing","csharp","deeplearning","desmoines","dotnet","funny","futurology","GooglePixel","interestingasfuck","javascript","mademesmile","microsoft","nextfuckinglevel","personalfinance","pixel_phones","programming","science","space","starshipporn","startrek","technology","typescript","web_design","worldnews"]})()}static#r=this.\u0275fac=function(r){return new(r||t)};static#i=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ds=(()=>{class t{#e=new xe;constructor(){}raise(e){if(null==e)throw new Error("domainEvent missing");let r="function"==typeof e?new e:"object"==typeof e?e:null;if(!(r&&r instanceof Rl))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");this.#e.next(r)}handle(e){return this.#e.pipe(io(r=>r instanceof e),pe(r=>r))}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class wc extends Rl{}class Sc extends Rl{#e;get kill(){return this.#e}constructor(n=!1){super(),this.#e=n}}function ld(t){t||(Lp(),t=Yt(uf));const n=new Ve(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(Vi(n))}const E8=["determinateSpinner"];function T8(t,n){if(1&t&&(Fa(),an(0,"svg",11),Kn(1,"circle",12),dn()),2&t){const e=Nn();ri("viewBox",e._viewBox()),Kt(1),Zu("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),ri("r",e._circleRadius())}}const w8=og(class{constructor(t){this._elementRef=t}},"primary"),S8=new on("mat-progress-spinner-default-options",{providedIn:"root",factory:function C8(){return{diameter:vR}}}),vR=100;let A8=(()=>{class t extends w8{constructor(e,r,i){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=vR,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.color&&(this.color=this.defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,yc(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=yc(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=yc(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(Ts,8),_t(S8))};static#t=this.\u0275cmp=vr({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,i){if(1&r&&Mo(E8,5),2&r){let o;ii(o=oi())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(r,i){2&r&&(ri("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),Zu("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),Ei("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[gr],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,i){if(1&r&&(xn(0,T8,2,8,"ng-template",null,0,py),an(2,"div",1,2),Fa(),an(4,"svg",3),Kn(5,"circle",4),dn()(),function La(){!function Jl(){dt.lFrame.currentNamespace=null}()}(),an(6,"div",5)(7,"div",6)(8,"div",7),bf(9,8),dn(),an(10,"div",9),bf(11,8),dn(),an(12,"div",10),bf(13,8),dn()()()),2&r){const o=Bi(1);Kt(4),ri("viewBox",i._viewBox()),Kt(1),Zu("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),ri("r",i._circleRadius()),Kt(4),qt("ngTemplateOutlet",o),Kt(2),qt("ngTemplateOutlet",o),Kt(2),qt("ngTemplateOutlet",o)}},dependencies:[qy],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return t})(),D8=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[Ff,eo]})}return t})();function x8(t,n){1&t&&(an(0,"div",1),Kn(1,"mat-spinner",2),dn())}let R8=(()=>{class t{#e;#t;constructor(e){this.#e=0,this.#t=250,this.show=_s(!1),e.handle(wc).pipe(ld()).subscribe(r=>this.#n()),e.handle(Sc).pipe(ld()).subscribe(r=>this.#r(r))}#n(){this.#e++,window.setTimeout(()=>{0!==this.#e&&this.show.set(!0)},this.#t)}#r(e){e.kill?this.#e=0:this.#e>0&&this.#e--,0===this.#e&&this.show.set(!1)}static#i=this.\u0275fac=function(r){return new(r||t)(_t(Ds))};static#s=this.\u0275cmp=vr({type:t,selectors:[["throbber"]],standalone:!0,features:[Qr],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(r,i){1&r&&xn(0,x8,2,0,"div",0),2&r&&qt("ngIf",i.show())},dependencies:[D8,A8,Qi],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"],changeDetection:0})}return t})(),M8=(()=>{class t{#e=Yt(Ds);#t=Yt(aR);ngOnInit(){var e=this;return ui(function*(){const r=[e.#t.loadAsync()];e.#e.raise(wc);try{yield Promise.allSettled(r)}finally{e.#e.raise(Sc)}})()}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=vr({type:t,selectors:[["app-root"]],standalone:!0,features:[Qr],decls:2,vars:0,template:function(r,i){1&r&&Kn(0,"throbber")(1,"router-outlet")},dependencies:[wb,R8],encapsulation:2})}return t})();class yR{}class N8{}const $a="*";function mh(t,n){return{type:7,name:t,definitions:n,options:{}}}function Nl(t,n=null){return{type:4,styles:n,timings:t}}function bR(t,n=null){return{type:2,steps:t,options:n}}function $o(t){return{type:6,styles:t,offset:null}}function Cc(t,n,e){return{type:0,name:t,styles:n,options:e}}function Ol(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}class gh{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class ER{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++r==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function TR(t){return new Gt(3e3,!1)}function Pl(t){switch(t.length){case 0:return new gh;case 1:return t[0];default:return new ER(t)}}function wR(t,n,e=new Map,r=new Map){const i=[],o=[];let l=-1,c=null;if(n.forEach(u=>{const m=u.get("offset"),x=m==l,W=x&&c||new Map;u.forEach((ge,Re)=>{let Ke=Re,ct=ge;if("offset"!==Re)switch(Ke=t.normalizePropertyName(Ke,i),ct){case"!":ct=e.get(Re);break;case $a:ct=r.get(Re);break;default:ct=t.normalizeStyleValue(Re,Ke,ct,i)}W.set(Ke,ct)}),x||o.push(W),c=W,l=m}),i.length)throw function tz(t){return new Gt(3502,!1)}();return o}function uE(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&dE(e,"start",t)));break;case"done":t.onDone(()=>r(e&&dE(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&dE(e,"destroy",t)))}}function dE(t,n,e){const o=fE(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),l=t._data;return null!=l&&(o._data=l),o}function fE(t,n,e,r,i="",o=0,l){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!l}}function as(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function SR(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const hz=(()=>typeof document>"u"?null:document.documentElement)();function hE(t){const n=t.parentNode||t.host||null;return n===hz?null:n}let Ic=null,CR=!1;function IR(t,n){for(;n;){if(n===t)return!0;n=hE(n)}return!1}function AR(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let DR=(()=>{class t{validateStyleProperty(e){return function mz(t){Ic||(Ic=function gz(){return typeof document<"u"?document.body:null}()||{},CR=!!Ic.style&&"WebkitAppearance"in Ic.style);let n=!0;return Ic.style&&!function pz(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in Ic.style,!n&&CR&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ic.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return IR(e,r)}getParentElement(e){return hE(e)}query(e,r,i){return AR(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,l,c=[],u){return new gh(i,o)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})(),pE=(()=>{class t{static#e=this.NOOP=new DR}return t})();const _z=1e3,mE="ng-enter",gg="ng-leave",_g="ng-trigger",vg=".ng-trigger",RR="ng-animating",gE=".ng-animating";function Wa(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:_E(parseFloat(n[1]),n[2])}function _E(t,n){return"s"===n?t*_z:t}function yg(t,n,e){return t.hasOwnProperty("duration")?t:function yz(t,n,e){let i,o=0,l="";if("string"==typeof t){const c=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return n.push(TR()),{duration:0,delay:0,easing:""};i=_E(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(o=_E(parseFloat(u),c[4]));const m=c[5];m&&(l=m)}else i=t;if(!e){let c=!1,u=n.length;i<0&&(n.push(function O8(){return new Gt(3100,!1)}()),c=!0),o<0&&(n.push(function P8(){return new Gt(3101,!1)}()),c=!0),c&&n.splice(u,0,TR())}return{duration:i,delay:o,easing:l}}(t,n,e)}function _h(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function MR(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function kl(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function _a(t,n,e){n.forEach((r,i)=>{const o=yE(i);e&&!e.has(i)&&e.set(i,t.style[o]),t.style[o]=r})}function Ac(t,n){n.forEach((e,r)=>{const i=yE(r);t.style[i]=""})}function vh(t){return Array.isArray(t)?1==t.length?t[0]:bR(t):t}const vE=new RegExp("{{\\s*(.+?)\\s*}}","g");function OR(t){let n=[];if("string"==typeof t){let e;for(;e=vE.exec(t);)n.push(e[1]);vE.lastIndex=0}return n}function yh(t,n,e){const r=t.toString(),i=r.replace(vE,(o,l)=>{let c=n[l];return null==c&&(e.push(function F8(t){return new Gt(3003,!1)}()),c=""),c.toString()});return i==r?t:i}function bg(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Tz=/-+([a-z0-9])/g;function yE(t){return t.replace(Tz,(...n)=>n[1].toUpperCase())}function ls(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function L8(t){return new Gt(3004,!1)}()}}function PR(t,n){return window.getComputedStyle(t)[n]}const Eg="*";function Cz(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Iz(t,n,e){if(":"==t[0]){const u=function Az(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function X8(t){return new Gt(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof u)return void n.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function K8(t){return new Gt(3015,!1)}()),n;const i=r[1],o=r[2],l=r[3];n.push(kR(i,l));"<"==o[0]&&!(i==Eg&&l==Eg)&&n.push(kR(l,i))}(r,e,n)):e.push(t),e}const Tg=new Set(["true","1"]),wg=new Set(["false","0"]);function kR(t,n){const e=Tg.has(t)||wg.has(t),r=Tg.has(n)||wg.has(n);return(i,o)=>{let l=t==Eg||t==i,c=n==Eg||n==o;return!l&&e&&"boolean"==typeof i&&(l=i?Tg.has(t):wg.has(t)),!c&&r&&"boolean"==typeof o&&(c=o?Tg.has(n):wg.has(n)),l&&c}}const Dz=new RegExp("s*:selfs*,?","g");function bE(t,n,e,r){return new xz(t).build(n,e,r)}class xz{constructor(n){this._driver=n}build(n,e,r){const i=new Nz(e);return this._resetContextStyleTimingState(i),ls(this,vh(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],l=[];return"@"==n.name.charAt(0)&&e.errors.push(function U8(){return new Gt(3006,!1)}()),n.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const u=c,m=u.name;m.toString().split(/\s*,\s*/).forEach(x=>{u.name=x,o.push(this.visitState(u,e))}),u.name=m}else if(1==c.type){const u=this.visitTransition(c,e);r+=u.queryCount,i+=u.depCount,l.push(u)}else e.errors.push(function V8(){return new Gt(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:l,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const o=new Set,l=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{OR(u).forEach(m=>{l.hasOwnProperty(m)||o.add(m)})})}),o.size&&(bg(o.values()),e.errors.push(function j8(t,n){return new Gt(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=ls(this,vh(n.animation),e);return{type:1,matchers:Cz(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Dc(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>ls(this,r,e)),options:Dc(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const o=n.steps.map(l=>{e.currentTime=r;const c=ls(this,l,e);return i=Math.max(i,e.currentTime),c});return e.currentTime=i,{type:3,steps:o,options:Dc(n.options)}}visitAnimate(n,e){const r=function Pz(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return EE(yg(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=EE(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=yg(e,n);return EE(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,o=n.styles?n.styles:$o({});if(5==o.type)i=this.visitKeyframes(o,e);else{let l=n.styles,c=!1;if(!l){c=!0;const m={};r.easing&&(m.easing=r.easing),l=$o(m)}e.currentTime+=r.duration+r.delay;const u=this.visitStyle(l,e);u.isEmptyStep=c,i=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let c of i)"string"==typeof c?c===$a?r.push(c):e.errors.push(new Gt(3002,!1)):r.push(MR(c));let o=!1,l=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(l=c.get("easing"),c.delete("easing")),!o))for(let u of c.values())if(u.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:l,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),n.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,u)=>{const m=e.collectedStyles.get(e.currentQuerySelector),x=m.get(u);let W=!0;x&&(o!=i&&o>=x.startTime&&i<=x.endTime&&(e.errors.push(function Z8(t,n,e,r,i){return new Gt(3010,!1)}()),W=!1),o=x.startTime),W&&m.set(u,{startTime:o,endTime:i}),e.options&&function Ez(t,n,e){const r=n.params||{},i=OR(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function k8(t){return new Gt(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function z8(){return new Gt(3011,!1)}()),r;let o=0;const l=[];let c=!1,u=!1,m=0;const x=n.steps.map(Qt=>{const xt=this._makeStyleAst(Qt,e);let Sn=null!=xt.offset?xt.offset:function Oz(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(xt.styles),Pn=0;return null!=Sn&&(o++,Pn=xt.offset=Sn),u=u||Pn<0||Pn>1,c=c||Pn<m,m=Pn,l.push(Pn),xt});u&&e.errors.push(function G8(){return new Gt(3012,!1)}()),c&&e.errors.push(function q8(){return new Gt(3200,!1)}());const W=n.steps.length;let ge=0;o>0&&o<W?e.errors.push(function Y8(){return new Gt(3202,!1)}()):0==o&&(ge=1/(W-1));const Re=W-1,Ke=e.currentTime,ct=e.currentAnimateTimings,Ft=ct.duration;return x.forEach((Qt,xt)=>{const Sn=ge>0?xt==Re?1:ge*xt:l[xt],Pn=Sn*Ft;e.currentTime=Ke+ct.delay+Pn,ct.duration=Pn,this._validateStyleAst(Qt,e),Qt.offset=Sn,r.styles.push(Qt)}),r}visitReference(n,e){return{type:8,animation:ls(this,vh(n.animation),e),options:Dc(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Dc(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Dc(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[o,l]=function Rz(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Dz,"")),t=t.replace(/@\*/g,vg).replace(/@\w+/g,e=>vg+"-"+e.slice(1)).replace(/:animating/g,gE),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+o:o,as(e.collectedStyles,e.currentQuerySelector,new Map);const c=ls(this,vh(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:c,originalSelector:n.selector,options:Dc(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function $8(){return new Gt(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:yg(n.timings,e.errors,!0);return{type:12,animation:ls(this,vh(n.animation),e),timings:r,options:null}}}class Nz{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Dc(t){return t?(t=_h(t)).params&&(t.params=function Mz(t){return t?_h(t):null}(t.params)):t={},t}function EE(t,n,e){return{duration:t,delay:n,easing:e}}function TE(t,n,e,r,i,o,l=null,c=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:c}}class Sg{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Lz=new RegExp(":enter","g"),Uz=new RegExp(":leave","g");function wE(t,n,e,r,i,o=new Map,l=new Map,c,u,m=[]){return(new Vz).buildKeyframes(t,n,e,r,i,o,l,c,u,m)}class Vz{buildKeyframes(n,e,r,i,o,l,c,u,m,x=[]){m=m||new Sg;const W=new SE(n,e,m,i,o,x,[]);W.options=u;const ge=u.delay?Wa(u.delay):0;W.currentTimeline.delayNextStep(ge),W.currentTimeline.setStyles([l],null,W.errors,u),ls(this,r,W);const Re=W.timelines.filter(Ke=>Ke.containsAnimation());if(Re.length&&c.size){let Ke;for(let ct=Re.length-1;ct>=0;ct--){const Ft=Re[ct];if(Ft.element===e){Ke=Ft;break}}Ke&&!Ke.allowOnlyTimelineStyles()&&Ke.setStyles([c],null,W.errors,u)}return Re.length?Re.map(Ke=>Ke.buildKeyframes()):[TE(e,[],[],[],0,ge,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const o=i?.delay;if(o){const l="number"==typeof o?o:Wa(yh(o,i?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(n,e,r){let o=e.currentTimeline.currentTime;const l=null!=r.duration?Wa(r.duration):null,c=null!=r.delay?Wa(r.delay):null;return 0!==l&&n.forEach(u=>{const m=e.appendInstructionToTimeline(u,l,c);o=Math.max(o,m.duration+m.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),ls(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const o=n.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cg);const l=Wa(o.delay);i.delayNextStep(l)}n.steps.length&&(n.steps.forEach(l=>ls(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?Wa(n.options.delay):0;n.steps.forEach(l=>{const c=e.createSubContext(n.options);o&&c.delayNextStep(o),ls(this,l,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return yg(e.params?yh(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(o):r.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,c=e.createSubContext().currentTimeline;c.easing=r.easing,n.styles.forEach(u=>{c.forwardTime((u.offset||0)*o),c.setStyles(u.styles,u.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(i+o),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},o=i.delay?Wa(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cg);let l=r;const c=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=c.length;let u=null;c.forEach((m,x)=>{e.currentQueryIndex=x;const W=e.createSubContext(n.options,m);o&&W.delayNextStep(o),m===e.element&&(u=W.currentTimeline),ls(this,n.animation,W),W.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,W.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,o=n.timings,l=Math.abs(o.duration),c=l*(e.currentQueryTotal-1);let u=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":u=c-u;break;case"full":u=r.currentStaggerTime}const x=e.currentTimeline;u&&x.delayNextStep(u);const W=x.currentTime;ls(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-W+(i.startTime-r.currentTimeline.startTime)}}const Cg={};class SE{constructor(n,e,r,i,o,l,c,u){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Ig(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Wa(r.duration)),null!=r.delay&&(i.delay=Wa(r.delay));const o=r.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!l.hasOwnProperty(c))&&(l[c]=yh(o[c],l,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,o=new SE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=Cg,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},o=new jz(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,o,l){let c=[];if(i&&c.push(this.element),n.length>0){n=(n=n.replace(Lz,"."+this._enterClassName)).replace(Uz,"."+this._leaveClassName);let m=this._driver.query(this.element,n,1!=r);0!==r&&(m=r<0?m.slice(m.length+r,m.length):m.slice(0,r)),c.push(...m)}return!o&&0==c.length&&l.push(function W8(t){return new Gt(3014,!1)}()),c}}class Ig{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Ig(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||$a),this._currentKeyframe.set(e,$a);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},l=function Hz(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let o of r)e.set(o,$a)}else kl(i,e)}),e}(n,this._globalTimelineStyles);for(let[c,u]of l){const m=yh(u,o,r);this._pendingStyles.set(c,m),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??$a),this._updateStyle(c,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,u)=>{const m=kl(c,new Map,this._backFill);m.forEach((x,W)=>{"!"===x?n.add(W):x===$a&&e.add(W)}),r||m.set("offset",u/this.duration),i.push(m)});const o=n.size?bg(n.values()):[],l=e.size?bg(e.values()):[];if(r){const c=i[0],u=new Map(c);c.set("offset",0),u.set("offset",1),i=[c,u]}return TE(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class jz extends Ig{constructor(n,e,r,i,o,l,c=!1){super(n,e,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=r+e,c=e/l,u=kl(n[0]);u.set("offset",0),o.push(u);const m=kl(n[0]);m.set("offset",BR(c)),o.push(m);const x=n.length-1;for(let W=1;W<=x;W++){let ge=kl(n[W]);const Re=ge.get("offset");ge.set("offset",BR((e+Re*r)/l)),o.push(ge)}r=l,e=0,i="",n=o}return TE(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function BR(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class CE{}const Zz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zz extends CE{normalizePropertyName(n,e){return yE(n)}normalizeStyleValue(n,e,r,i){let o="";const l=r.toString().trim();if(Zz.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function B8(t,n){return new Gt(3005,!1)}())}return l+o}}function UR(t,n,e,r,i,o,l,c,u,m,x,W,ge){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:l,timelines:c,queriedElements:u,preStyleProps:m,postStyleProps:x,totalTime:W,errors:ge}}const IE={};class VR{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function Gz(t,n,e,r,i){return t.some(o=>o(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,o,l,c,u,m,x){const W=[],ge=this.ast.options&&this.ast.options.params||IE,Ke=this.buildStyles(r,c&&c.params||IE,W),ct=u&&u.params||IE,Ft=this.buildStyles(i,ct,W),Qt=new Set,xt=new Map,Sn=new Map,Pn="void"===i,ar={params:qz(ct,ge),delay:this.ast.options?.delay},si=x?[]:wE(n,e,this.ast.animation,o,l,Ke,Ft,ar,m,W);let pi=0;if(si.forEach(cs=>{pi=Math.max(cs.duration+cs.delay,pi)}),W.length)return UR(e,this._triggerName,r,i,Pn,Ke,Ft,[],[],xt,Sn,pi,W);si.forEach(cs=>{const Gs=cs.element,e_=as(xt,Gs,new Set);cs.preStyleProps.forEach(Nc=>e_.add(Nc));const Mh=as(Sn,Gs,new Set);cs.postStyleProps.forEach(Nc=>Mh.add(Nc)),Gs!==e&&Qt.add(Gs)});const go=bg(Qt.values());return UR(e,this._triggerName,r,i,Pn,Ke,Ft,si,go,xt,Sn,pi)}}function qz(t,n){const e=_h(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class Yz{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=_h(this.defaultParams);return Object.keys(n).forEach(o=>{const l=n[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,c)=>{l&&(l=yh(l,i,e));const u=this.normalizer.normalizePropertyName(c,e);l=this.normalizer.normalizeStyleValue(c,u,l,e),r.set(c,l)})}),r}}class Wz{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new Yz(i.style,i.options&&i.options.params||{},r))}),jR(this.states,"true","1"),jR(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new VR(n,i,this.states))}),this.fallbackTransition=function Kz(t,n,e){return new VR(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,c)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(l=>l.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function jR(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const Xz=new Sg;class Qz{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],o=bE(this._driver,e,r,[]);if(r.length)throw function nz(t){return new Gt(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,r){const i=n.element,o=wR(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],o=this._animations.get(n);let l;const c=new Map;if(o?(l=wE(this._driver,e,o,mE,gg,new Map,new Map,r,Xz,i),l.forEach(x=>{const W=as(c,x.element,new Map);x.postStyleProps.forEach(ge=>W.set(ge,null))})):(i.push(function rz(){return new Gt(3300,!1)}()),l=[]),i.length)throw function iz(t){return new Gt(3504,!1)}();c.forEach((x,W)=>{x.forEach((ge,Re)=>{x.set(Re,this._driver.computeStyle(W,Re,$a))})});const m=Pl(l.map(x=>{const W=c.get(x.element);return this._buildPlayer(x,new Map,W)}));return this._playersById.set(n,m),m.onDestroy(()=>this.destroy(n)),this.players.push(m),m}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function oz(t){return new Gt(3301,!1)}();return e}listen(n,e,r,i){const o=fE(e,"","","");return uE(this._getPlayer(n),r,o,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const o=this._getPlayer(n);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const HR="ng-animate-queued",AE="ng-animate-disabled",rG=[],ZR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hs="__ng_removed";class DE{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function lG(t){return t??null}(r?n.value:n),r){const o=_h(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const bh="void",xE=new DE(bh);class oG{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,xs(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function sz(t,n){return new Gt(3302,!1)}();if(null==r||0==r.length)throw function az(t){return new Gt(3303,!1)}();if(!function cG(t){return"start"==t||"done"==t}(r))throw function lz(t,n){return new Gt(3400,!1)}();const o=as(this._elementListeners,n,[]),l={name:e,phase:r,callback:i};o.push(l);const c=as(this._engine.statesByElement,n,new Map);return c.has(e)||(xs(n,_g),xs(n,_g+"-"+e),c.set(e,xE)),()=>{this._engine.afterFlush(()=>{const u=o.indexOf(l);u>=0&&o.splice(u,1),this._triggers.has(e)||c.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function cz(t){return new Gt(3401,!1)}();return e}trigger(n,e,r,i=!0){const o=this._getTrigger(e),l=new RE(this.id,e,n);let c=this._engine.statesByElement.get(n);c||(xs(n,_g),xs(n,_g+"-"+e),this._engine.statesByElement.set(n,c=new Map));let u=c.get(e);const m=new DE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&m.absorbOptions(u.options),c.set(e,m),u||(u=xE),m.value!==bh&&u.value===m.value){if(!function fG(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(u.params,m.params)){const ct=[],Ft=o.matchStyles(u.value,u.params,ct),Qt=o.matchStyles(m.value,m.params,ct);ct.length?this._engine.reportError(ct):this._engine.afterFlush(()=>{Ac(n,Ft),_a(n,Qt)})}return}const ge=as(this._engine.playersByElement,n,[]);ge.forEach(ct=>{ct.namespaceId==this.id&&ct.triggerName==e&&ct.queued&&ct.destroy()});let Re=o.matchTransition(u.value,m.value,n,m.params),Ke=!1;if(!Re){if(!i)return;Re=o.fallbackTransition,Ke=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:Re,fromState:u,toState:m,player:l,isFallbackTransition:Ke}),Ke||(xs(n,HR),l.onStart(()=>{ud(n,HR)})),l.onDone(()=>{let ct=this.players.indexOf(l);ct>=0&&this.players.splice(ct,1);const Ft=this._engine.playersByElement.get(n);if(Ft){let Qt=Ft.indexOf(l);Qt>=0&&Ft.splice(Qt,1)}}),this.players.push(l),ge.push(l),l}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,vg,!0);r.forEach(i=>{if(i[Hs])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const o=this._engine.statesByElement.get(n),l=new Map;if(o){const c=[];if(o.forEach((u,m)=>{if(l.set(m,u.value),this._triggers.has(m)){const x=this.trigger(n,m,bh,i);x&&c.push(x)}}),c.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,l),r&&Pl(c).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const u=this._triggers.get(l).fallbackTransition,m=r.get(l)||xE,x=new DE(bh),W=new RE(this.id,l,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:l,transition:u,fromState:m,toState:x,player:W,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(n):[];if(o&&o.length)i=!0;else{let l=n;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const o=n[Hs];(!o||o===ZR)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){xs(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,l=this._elementListeners.get(o);l&&l.forEach(c=>{if(c.name==r.triggerName){const u=fE(o,r.triggerName,r.fromState.value,r.toState.value);u._data=n,uE(r.player,c.phase,u,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class sG{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new oG(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,c=this.driver.getParentElement(e);for(;c;){const u=i.get(c);if(u){const m=r.indexOf(u);r.splice(m+1,0,n),l=!0;break}c=this.driver.getParentElement(c)}l||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(n,e,r,i){if(Ag(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!Ag(e))return;const o=e[Hs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(n){const l=this._fetchNamespace(n);l&&l.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),xs(n,AE)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ud(n,AE))}removeNode(n,e,r){if(Ag(e)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,o){this.collectedLeaveElements.push(e),e[Hs]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,r,i,o){return Ag(e)?this._fetchNamespace(n).listen(e,r,i,o):()=>{}}_buildInstruction(n,e,r,i,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,vg,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,gE,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Pl(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Hs];if(e&&e.setForRemoval){if(n[Hs]=ZR,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(AE)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)xs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Pl(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function uz(t){return new Gt(3402,!1)}()}_flushAnimations(n,e){const r=new Sg,i=[],o=new Map,l=[],c=new Map,u=new Map,m=new Map,x=new Set;this.disabledNodes.forEach(Zn=>{x.add(Zn);const tr=this.driver.query(Zn,".ng-animate-queued",!0);for(let cr=0;cr<tr.length;cr++)x.add(tr[cr])});const W=this.bodyNode,ge=Array.from(this.statesByElement.keys()),Re=qR(ge,this.collectedEnterElements),Ke=new Map;let ct=0;Re.forEach((Zn,tr)=>{const cr=mE+ct++;Ke.set(tr,cr),Zn.forEach(Fr=>xs(Fr,cr))});const Ft=[],Qt=new Set,xt=new Set;for(let Zn=0;Zn<this.collectedLeaveElements.length;Zn++){const tr=this.collectedLeaveElements[Zn],cr=tr[Hs];cr&&cr.setForRemoval&&(Ft.push(tr),Qt.add(tr),cr.hasAnimation?this.driver.query(tr,".ng-star-inserted",!0).forEach(Fr=>Qt.add(Fr)):xt.add(tr))}const Sn=new Map,Pn=qR(ge,Array.from(Qt));Pn.forEach((Zn,tr)=>{const cr=gg+ct++;Sn.set(tr,cr),Zn.forEach(Fr=>xs(Fr,cr))}),n.push(()=>{Re.forEach((Zn,tr)=>{const cr=Ke.get(tr);Zn.forEach(Fr=>ud(Fr,cr))}),Pn.forEach((Zn,tr)=>{const cr=Sn.get(tr);Zn.forEach(Fr=>ud(Fr,cr))}),Ft.forEach(Zn=>{this.processLeaveNode(Zn)})});const ar=[],si=[];for(let Zn=this._namespaceList.length-1;Zn>=0;Zn--)this._namespaceList[Zn].drainQueuedTransitions(e).forEach(cr=>{const Fr=cr.player,so=cr.element;if(ar.push(Fr),this.collectedEnterElements.length){const To=so[Hs];if(To&&To.setForMove){if(To.previousTriggersValues&&To.previousTriggersValues.has(cr.triggerName)){const Oc=To.previousTriggersValues.get(cr.triggerName),Rs=this.statesByElement.get(cr.element);if(Rs&&Rs.has(cr.triggerName)){const t_=Rs.get(cr.triggerName);t_.value=Oc,Rs.set(cr.triggerName,t_)}}return void Fr.destroy()}}const va=!W||!this.driver.containsElement(W,so),us=Sn.get(so),Bl=Ke.get(so),Si=this._buildInstruction(cr,r,Bl,us,va);if(Si.errors&&Si.errors.length)return void si.push(Si);if(va)return Fr.onStart(()=>Ac(so,Si.fromStyles)),Fr.onDestroy(()=>_a(so,Si.toStyles)),void i.push(Fr);if(cr.isFallbackTransition)return Fr.onStart(()=>Ac(so,Si.fromStyles)),Fr.onDestroy(()=>_a(so,Si.toStyles)),void i.push(Fr);const lN=[];Si.timelines.forEach(To=>{To.stretchStartingKeyframe=!0,this.disabledNodes.has(To.element)||lN.push(To)}),Si.timelines=lN,r.append(so,Si.timelines),l.push({instruction:Si,player:Fr,element:so}),Si.queriedElements.forEach(To=>as(c,To,[]).push(Fr)),Si.preStyleProps.forEach((To,Oc)=>{if(To.size){let Rs=u.get(Oc);Rs||u.set(Oc,Rs=new Set),To.forEach((t_,S0)=>Rs.add(S0))}}),Si.postStyleProps.forEach((To,Oc)=>{let Rs=m.get(Oc);Rs||m.set(Oc,Rs=new Set),To.forEach((t_,S0)=>Rs.add(S0))})});if(si.length){const Zn=[];si.forEach(tr=>{Zn.push(function dz(t,n){return new Gt(3505,!1)}())}),ar.forEach(tr=>tr.destroy()),this.reportError(Zn)}const pi=new Map,go=new Map;l.forEach(Zn=>{const tr=Zn.element;r.has(tr)&&(go.set(tr,tr),this._beforeAnimationBuild(Zn.player.namespaceId,Zn.instruction,pi))}),i.forEach(Zn=>{const tr=Zn.element;this._getPreviousPlayers(tr,!1,Zn.namespaceId,Zn.triggerName,null).forEach(Fr=>{as(pi,tr,[]).push(Fr),Fr.destroy()})});const cs=Ft.filter(Zn=>$R(Zn,u,m)),Gs=new Map;GR(Gs,this.driver,xt,m,$a).forEach(Zn=>{$R(Zn,u,m)&&cs.push(Zn)});const Mh=new Map;Re.forEach((Zn,tr)=>{GR(Mh,this.driver,new Set(Zn),u,"!")}),cs.forEach(Zn=>{const tr=Gs.get(Zn),cr=Mh.get(Zn);Gs.set(Zn,new Map([...tr?.entries()??[],...cr?.entries()??[]]))});const Nc=[],sN=[],aN={};l.forEach(Zn=>{const{element:tr,player:cr,instruction:Fr}=Zn;if(r.has(tr)){if(x.has(tr))return cr.onDestroy(()=>_a(tr,Fr.toStyles)),cr.disabled=!0,cr.overrideTotalTime(Fr.totalTime),void i.push(cr);let so=aN;if(go.size>1){let us=tr;const Bl=[];for(;us=us.parentNode;){const Si=go.get(us);if(Si){so=Si;break}Bl.push(us)}Bl.forEach(Si=>go.set(Si,so))}const va=this._buildAnimation(cr.namespaceId,Fr,pi,o,Mh,Gs);if(cr.setRealPlayer(va),so===aN)Nc.push(cr);else{const us=this.playersByElement.get(so);us&&us.length&&(cr.parentPlayer=Pl(us)),i.push(cr)}}else Ac(tr,Fr.fromStyles),cr.onDestroy(()=>_a(tr,Fr.toStyles)),sN.push(cr),x.has(tr)&&i.push(cr)}),sN.forEach(Zn=>{const tr=o.get(Zn.element);if(tr&&tr.length){const cr=Pl(tr);Zn.setRealPlayer(cr)}}),i.forEach(Zn=>{Zn.parentPlayer?Zn.syncPlayerEvents(Zn.parentPlayer):Zn.destroy()});for(let Zn=0;Zn<Ft.length;Zn++){const tr=Ft[Zn],cr=tr[Hs];if(ud(tr,gg),cr&&cr.hasAnimation)continue;let Fr=[];if(c.size){let va=c.get(tr);va&&va.length&&Fr.push(...va);let us=this.driver.query(tr,gE,!0);for(let Bl=0;Bl<us.length;Bl++){let Si=c.get(us[Bl]);Si&&Si.length&&Fr.push(...Si)}}const so=Fr.filter(va=>!va.destroyed);so.length?uG(this,tr,so):this.processLeaveNode(tr)}return Ft.length=0,Nc.forEach(Zn=>{this.players.push(Zn),Zn.onDone(()=>{Zn.destroy();const tr=this.players.indexOf(Zn);this.players.splice(tr,1)}),Zn.play()}),Nc}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,o){let l=[];if(e){const c=this.playersByQueriedElement.get(n);c&&(l=c)}else{const c=this.playersByElement.get(n);if(c){const u=!o||o==bh;c.forEach(m=>{m.queued||!u&&m.triggerName!=i||l.push(m)})}}return(r||i)&&(l=l.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),l}_beforeAnimationBuild(n,e,r){const o=e.element,l=e.isRemovalTransition?void 0:n,c=e.isRemovalTransition?void 0:e.triggerName;for(const u of e.timelines){const m=u.element,x=m!==o,W=as(r,m,[]);this._getPreviousPlayers(m,x,l,c,e.toState).forEach(Re=>{const Ke=Re.getRealPlayer();Ke.beforeDestroy&&Ke.beforeDestroy(),Re.destroy(),W.push(Re)})}Ac(o,e.fromStyles)}_buildAnimation(n,e,r,i,o,l){const c=e.triggerName,u=e.element,m=[],x=new Set,W=new Set,ge=e.timelines.map(Ke=>{const ct=Ke.element;x.add(ct);const Ft=ct[Hs];if(Ft&&Ft.removedBeforeQueried)return new gh(Ke.duration,Ke.delay);const Qt=ct!==u,xt=function dG(t){const n=[];return YR(t,n),n}((r.get(ct)||rG).map(pi=>pi.getRealPlayer())).filter(pi=>!!pi.element&&pi.element===ct),Sn=o.get(ct),Pn=l.get(ct),ar=wR(this._normalizer,Ke.keyframes,Sn,Pn),si=this._buildPlayer(Ke,ar,xt);if(Ke.subTimeline&&i&&W.add(ct),Qt){const pi=new RE(n,c,ct);pi.setRealPlayer(si),m.push(pi)}return si});m.forEach(Ke=>{as(this.playersByQueriedElement,Ke.element,[]).push(Ke),Ke.onDone(()=>function aG(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,Ke.element,Ke))}),x.forEach(Ke=>xs(Ke,RR));const Re=Pl(ge);return Re.onDestroy(()=>{x.forEach(Ke=>ud(Ke,RR)),_a(u,e.toStyles)}),W.forEach(Ke=>{as(i,Ke,[]).push(Re)}),Re}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new gh(n.duration,n.delay)}}class RE{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new gh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>uE(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){as(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Ag(t){return t&&1===t.nodeType}function zR(t,n){const e=t.style.display;return t.style.display=n??"none",e}function GR(t,n,e,r,i){const o=[];e.forEach(u=>o.push(zR(u)));const l=[];r.forEach((u,m)=>{const x=new Map;u.forEach(W=>{const ge=n.computeStyle(m,W,i);x.set(W,ge),(!ge||0==ge.length)&&(m[Hs]=iG,l.push(m))}),t.set(m,x)});let c=0;return e.forEach(u=>zR(u,o[c++])),l}function qR(t,n){const e=new Map;if(t.forEach(c=>e.set(c,[])),0==n.length)return e;const i=new Set(n),o=new Map;function l(c){if(!c)return 1;let u=o.get(c);if(u)return u;const m=c.parentNode;return u=e.has(m)?m:i.has(m)?1:l(m),o.set(c,u),u}return n.forEach(c=>{const u=l(c);1!==u&&e.get(u).push(c)}),e}function xs(t,n){t.classList?.add(n)}function ud(t,n){t.classList?.remove(n)}function uG(t,n,e){Pl(e).onDone(()=>t.processLeaveNode(n))}function YR(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof ER?YR(r.players,n):n.push(r)}}function $R(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(o=>i.add(o)):n.set(t,r),e.delete(t),!0}class Dg{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new sG(n,e,r),this._timelineEngine=new Qz(n,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(n,e,r,i,o){const l=n+"-"+i;let c=this._triggerCache[l];if(!c){const u=[],x=bE(this._driver,o,u,[]);if(u.length)throw function ez(t,n){return new Gt(3404,!1)}();c=function $z(t,n,e){return new Wz(t,n,e)}(i,x,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(e,i,c)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[o,l]=SR(r);this._timelineEngine.command(o,e,l,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,o){if("@"==r.charAt(0)){const[l,c]=SR(r);return this._timelineEngine.listen(l,e,c,o)}return this._transitionEngine.listen(n,e,r,i,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let pG=(()=>{class t{static#e=this.initialStylesByElement=new WeakMap;constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&_a(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_a(this._element,this._initialStyles),this._endStyles&&(_a(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ac(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ac(this._element,this._endStyles),this._endStyles=null),_a(this._element,this._initialStyles),this._state=3)}}return t})();function ME(t){let n=null;return t.forEach((e,r)=>{(function mG(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class WR{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:PR(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class gG{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return IR(n,e)}getParentElement(n){return hE(n)}query(n,e,r){return AR(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,o,l=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(u.easing=o);const m=new Map,x=l.filter(Re=>Re instanceof WR);(function wz(t,n){return 0===t||0===n})(r,i)&&x.forEach(Re=>{Re.currentSnapshot.forEach((Ke,ct)=>m.set(ct,Ke))});let W=function bz(t){return t.length?t[0]instanceof Map?t:t.map(n=>MR(n)):[]}(e).map(Re=>kl(Re));W=function Sz(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((o,l)=>{r.has(l)||i.push(l),r.set(l,o)}),i.length)for(let o=1;o<n.length;o++){let l=n[o];i.forEach(c=>l.set(c,PR(t,c)))}}return n}(n,W,m);const ge=function hG(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=ME(n[0]),n.length>1&&(r=ME(n[n.length-1]))):n instanceof Map&&(e=ME(n)),e||r?new pG(t,e,r):null}(n,W);return new WR(n,W,u,ge)}}let _G=(()=>{class t extends yR{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:co.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?bR(e):e;return KR(this._renderer,null,r,"register",[i]),new vG(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(cf),Xt(Cr))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})();class vG extends N8{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new yG(this._id,n,e||{},this._renderer)}}class yG{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return KR(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function KR(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const XR="@.disabled";let bG=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,l)=>{const c=l?.parentNode(o);c&&l.removeChild(c,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(o);return x||(x=new QR("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,x)),x}const l=r.id,c=r.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const u=x=>{Array.isArray(x)?x.forEach(u):this.engine.registerTrigger(l,c,e,x.name,x)};return r.data.animation.forEach(u),new EG(this,c,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,c]=o;l(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(cf),Xt(Dg),Xt(or))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})();class QR{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==XR?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class EG extends QR{constructor(n,e,r,i,o){super(e,r,i,o),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==XR?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function TG(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function wG(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(n,e,r)}}const AG=[{provide:pE,useFactory:()=>new gG},{provide:Ts,useValue:"BrowserAnimations"},...[{provide:yR,useClass:_G},{provide:CE,useFactory:function CG(){return new zz}},{provide:Dg,useClass:(()=>{class t extends Dg{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr),Xt(pE),Xt(CE),Xt(yl))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac})}return t})()},{provide:cf,useFactory:function IG(t,n,e){return new bG(t,n,e)},deps:[nb,Dg,or]}]];function NE(){return(NE=ui(function*(t){const n=document.baseURI.includes("localhost")?"https://localhost:4200/":document.baseURI,e=yield fetch(new URL(`${n}${t}`));return e.ok?yield e.text():""})).apply(this,arguments)}class OG extends xe{constructor(n=1/0,e=1/0,r=Vb){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:l}=this;e||(r.push(n),!i&&r.push(o.now()+l)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let l=0;l<o.length&&!n.closed;l+=r?1:2)n.next(o[l]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const l=e.now();let c=0;for(let u=1;u<r.length&&r[u]<=l;u+=2)c=u;c&&r.splice(0,c+1)}}}class kG{constructor(n){this._box=n,this._destroyed=new xe,this._resizeSubject=new xe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new Ve(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),r.unsubscribe(),this._elementObservables.delete(n)}}).pipe(io(e=>e.some(r=>r.target===n)),function PG(t,n,e){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:e}=t):r=t??1/0,Wt({connector:()=>new OG(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}),Vi(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let FG=(()=>{class t{constructor(){this._observers=new Map,this._ngZone=Yt(or)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new kG(i)),this._observers.get(i).observe(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const LG=["notch"],BG=["matFormFieldNotchedOutline",""],UG=["*"],VG=["textField"],jG=["iconPrefixContainer"],HG=["textPrefixContainer"];function ZG(t,n){1&t&&Kn(0,"span",19)}function zG(t,n){if(1&t&&(an(0,"label",17),Di(1,1),xn(2,ZG,1,0,"span",18),dn()),2&t){const e=Nn(2);qt("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),ri("for",e._control.id),Kt(2),qt("ngIf",!e.hideRequiredMarker&&e._control.required)}}function GG(t,n){1&t&&xn(0,zG,3,5,"label",16),2&t&&qt("ngIf",Nn()._hasFloatingLabel())}function qG(t,n){1&t&&Kn(0,"div",20)}function YG(t,n){}function $G(t,n){1&t&&xn(0,YG,0,0,"ng-template",22),2&t&&(Nn(2),qt("ngTemplateOutlet",Bi(1)))}function WG(t,n){if(1&t&&(an(0,"div",21),xn(1,$G,1,1,"ng-template",9),dn()),2&t){const e=Nn();qt("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),Kt(1),qt("ngIf",!e._forceDisplayInfixLabel())}}function KG(t,n){1&t&&(an(0,"div",23,24),Di(2,2),dn())}function XG(t,n){1&t&&(an(0,"div",25,26),Di(2,3),dn())}function QG(t,n){}function JG(t,n){1&t&&xn(0,QG,0,0,"ng-template",22),2&t&&(Nn(),qt("ngTemplateOutlet",Bi(1)))}function e6(t,n){1&t&&(an(0,"div",27),Di(1,4),dn())}function t6(t,n){1&t&&(an(0,"div",28),Di(1,5),dn())}function n6(t,n){1&t&&Kn(0,"div",29)}function r6(t,n){1&t&&(an(0,"div",30),Di(1,6),dn()),2&t&&qt("@transitionMessages",Nn()._subscriptAnimationState)}function i6(t,n){if(1&t&&(an(0,"mat-hint",34),Or(1),dn()),2&t){const e=Nn(2);qt("id",e._hintLabelId),Kt(1),xo(e.hintLabel)}}function o6(t,n){if(1&t&&(an(0,"div",31),xn(1,i6,2,2,"mat-hint",32),Di(2,7),Kn(3,"div",33),Di(4,8),dn()),2&t){const e=Nn();qt("@transitionMessages",e._subscriptAnimationState),Kt(1),qt("ngIf",e.hintLabel)}}const s6=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],a6=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let OE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=kn({type:t,selectors:[["mat-label"]]})}return t})(),l6=0;const eM=new on("MatError");let c6=(()=>{class t{constructor(e,r){this.id="mat-mdc-error-"+l6++,e||r.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(r){return new(r||t)(tc("aria-live"),_t(Ar))};static#t=this.\u0275dir=kn({type:t,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,i){2&r&&wf("id",i.id)},inputs:{id:"id"},features:[Yr([{provide:eM,useExisting:t}])]})}return t})(),u6=0,PE=(()=>{class t{constructor(){this.align="start",this.id="mat-mdc-hint-"+u6++}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=kn({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(wf("id",i.id),ri("align",null),Ei("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}})}return t})();const d6=new on("MatPrefix"),tM=new on("MatSuffix");let f6=(()=>{class t{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=kn({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Yr([{provide:tM,useExisting:t}])]})}return t})();const nM=new on("FloatingLabelParent");let rM=(()=>{class t{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=Yt(FG),this._ngZone=Yt(or),this._parent=Yt(nM),this._resizeSubscription=new H}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function h6(t){if(null!==t.offsetParent)return t.scrollWidth;const e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar))};static#t=this.\u0275dir=kn({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&Ei("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return t})();const iM="mdc-line-ripple--active",Rg="mdc-line-ripple--deactivating";let oM=(()=>{class t{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,l=o.contains(Rg);"opacity"===i.propertyName&&l&&o.remove(iM,Rg)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(Rg),e.add(iM)}deactivate(){this._elementRef.nativeElement.classList.add(Rg)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(or))};static#t=this.\u0275dir=kn({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),sM=(()=>{class t{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(or))};static#t=this.\u0275cmp=vr({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&Mo(LG,5),2&r){let o;ii(o=oi())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&Ei("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:BG,ngContentSelectors:UG,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(la(),Kn(0,"div",0),an(1,"div",1,2),Di(3),dn(),Kn(4,"div",3))},encapsulation:2,changeDetection:0})}return t})();const p6={transitionMessages:mh("transitionMessages",[Cc("enter",$o({opacity:1,transform:"translateY(0%)"})),Ol("void => enter",[$o({opacity:0,transform:"translateY(-5px)"}),Nl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let aM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=kn({type:t})}return t})();const lM=new on("MatFormField"),cM=new on("MAT_FORM_FIELD_DEFAULT_OPTIONS");let uM=0,_6=(()=>{class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=oo(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,o,l,c,u,m){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=l,this._defaults=c,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+uM++,this._hintLabelId="mat-mdc-hint-"+uM++,this._subscriptAnimationState="",this._destroyed=new xe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Vi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),So(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Vi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(Oo),_t(or),_t(ig),_t(Ji),_t(cM,8),_t(Ts,8),_t(Cr))};static#t=this.\u0275cmp=vr({type:t,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(1&r&&(qo(o,OE,5),qo(o,OE,7),qo(o,aM,5),qo(o,d6,5),qo(o,tM,5),qo(o,eM,5),qo(o,PE,5)),2&r){let l;ii(l=oi())&&(i._labelChildNonStatic=l.first),ii(l=oi())&&(i._labelChildStatic=l.first),ii(l=oi())&&(i._formFieldControl=l.first),ii(l=oi())&&(i._prefixChildren=l),ii(l=oi())&&(i._suffixChildren=l),ii(l=oi())&&(i._errorChildren=l),ii(l=oi())&&(i._hintChildren=l)}},viewQuery:function(r,i){if(1&r&&(Mo(VG,5),Mo(jG,5),Mo(HG,5),Mo(rM,5),Mo(sM,5),Mo(oM,5)),2&r){let o;ii(o=oi())&&(i._textField=o.first),ii(o=oi())&&(i._iconPrefixContainer=o.first),ii(o=oi())&&(i._textPrefixContainer=o.first),ii(o=oi())&&(i._floatingLabel=o.first),ii(o=oi())&&(i._notchedOutline=o.first),ii(o=oi())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){2&r&&Ei("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Yr([{provide:lM,useExisting:t},{provide:nM,useExisting:t}])],ngContentSelectors:a6,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(r,i){1&r&&(la(s6),xn(0,GG,1,1,"ng-template",null,0,py),an(2,"div",1,2),sr("click",function(l){return i._control.onContainerClick(l)}),xn(4,qG,1,0,"div",3),an(5,"div",4),xn(6,WG,2,2,"div",5),xn(7,KG,3,0,"div",6),xn(8,XG,3,0,"div",7),an(9,"div",8),xn(10,JG,1,1,"ng-template",9),Di(11),dn(),xn(12,e6,2,0,"div",10),xn(13,t6,2,0,"div",11),dn(),xn(14,n6,1,0,"div",12),dn(),an(15,"div",13),xn(16,r6,2,1,"div",14),xn(17,o6,5,2,"div",15),dn()),2&r&&(Kt(2),Ei("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),Kt(2),qt("ngIf",!i._hasOutline()&&!i._control.disabled),Kt(2),qt("ngIf",i._hasOutline()),Kt(1),qt("ngIf",i._hasIconPrefix),Kt(1),qt("ngIf",i._hasTextPrefix),Kt(2),qt("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),Kt(2),qt("ngIf",i._hasTextSuffix),Kt(1),qt("ngIf",i._hasIconSuffix),Kt(1),qt("ngIf",!i._hasOutline()),Kt(1),Ei("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),qt("ngSwitch",i._getDisplayedMessages()),Kt(1),qt("ngSwitchCase","error"),Kt(1),qt("ngSwitchCase","hint"))},dependencies:[Qi,qy,Am,NA,PE,rM,sM,oM],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[p6.transitionMessages]},changeDetection:0})}return t})(),kE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[eo,Ff,mx,eo]})}return t})();class y6{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const E6=new on("mat-snack-bar-default-options",{providedIn:"root",factory:function b6(){return new y6}}),w6=["mat-button",""],S6=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],C6=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],A6=["mat-icon-button",""],D6=["*"],x6=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],R6=og(Dx($b(class{constructor(t){this._elementRef=t}})));let FE,hM=(()=>{class t extends R6{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=oo(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=oo(e),this._updateRippleDisabled()}constructor(e,r,i,o){super(e),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=Yt(sh),this._rippleLoader=Yt(B4),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=e.nativeElement.classList;for(const c of x6)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(u=>{l.add(u)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){Vp()};static#t=this.\u0275dir=kn({type:t,features:[gr]})}return t})(),Mg=(()=>{class t extends hM{constructor(e,r,i,o){super(e,r,i,o)}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(Ji),_t(or),_t(Ts,8))};static#t=this.\u0275cmp=vr({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(r,i){2&r&&(ri("disabled",i.disabled||null),Ei("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[gr],attrs:w6,ngContentSelectors:C6,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(la(S6),Kn(0,"span",0),Di(1),an(2,"span",1),Di(3,1),dn(),Di(4,2),Kn(5,"span",2)(6,"span",3)),2&r&&Ei("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return t})(),Ng=(()=>{class t extends hM{constructor(e,r,i,o){super(e,r,i,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(Ji),_t(or),_t(Ts,8))};static#t=this.\u0275cmp=vr({type:t,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(r,i){2&r&&(ri("disabled",i.disabled||null),Ei("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[gr],attrs:A6,ngContentSelectors:D6,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(la(),Kn(0,"span",0),Di(1),Kn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return t})(),Zs=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[eo,ch,eo]})}return t})(),O6=1;const Og={};function pM(t){return t in Og&&(delete Og[t],!0)}const P6={setImmediate(t){const n=O6++;return Og[n]=!0,FE||(FE=Promise.resolve()),FE.then(()=>pM(n)&&t()),n},clearImmediate(t){pM(t)}},{setImmediate:k6,clearImmediate:F6}=P6,Pg={setImmediate(...t){const{delegate:n}=Pg;return(n?.setImmediate||k6)(...t)},clearImmediate(t){const{delegate:n}=Pg;return(n?.clearImmediate||F6)(t)},delegate:void 0},LE=new class B6 extends jb{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class L6 extends Ub{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Pg.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:o}=n;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Pg.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});function mM(t,n){return n?e=>Uf(n.pipe(ko(1),function U6(){return Ct((t,n)=>{t.subscribe(Je(n,v))})}()),e.pipe(mM(t))):Dt((e,r)=>fn(t(e,r)).pipe(ko(1),lD(e)))}function gM(t=0,n,e=n4){let r=-1;return null!=n&&(br(n)?e=n:r=n),new Ve(i=>{let o=function V6(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let l=0;return e.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function _M(t,n=Jm){const e=gM(t,n);return mM(()=>e)}class BE{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class vM extends BE{constructor(n,e,r,i,o){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class yM extends BE{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class j6 extends BE{constructor(n){super(),this.element=n instanceof Ar?n.nativeElement:n}}class H6{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof vM?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof yM?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof j6?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Z6 extends H6{constructor(n,e,r,i,o){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const c=l.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=o}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||Do.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let z6=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({})}return t})();const G6=["addListener","removeListener"],q6=["addEventListener","removeEventListener"],Y6=["on","off"];function UE(t,n,e,r){if(Yn(e)&&(r=e,e=void 0),r)return UE(t,n,e).pipe(sb(r));const[i,o]=function K6(t){return Yn(t.addEventListener)&&Yn(t.removeEventListener)}(t)?q6.map(l=>c=>t[l](n,c,e)):function $6(t){return Yn(t.addListener)&&Yn(t.removeListener)}(t)?G6.map(bM(t,n)):function W6(t){return Yn(t.on)&&Yn(t.off)}(t)?Y6.map(bM(t,n)):[];if(!i&&qs(t))return Dt(l=>UE(l,n,e))(fn(t));if(!i)throw new TypeError("Invalid event target");return new Ve(l=>{const c=(...u)=>l.next(1<u.length?u:u[0]);return i(c),()=>o(c)})}function bM(t,n){return e=>r=>t[e](n,r)}const Eh={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Eh;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(o=>{e=void 0,t(o)});return new H(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=Eh;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Eh;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class Q6 extends jb{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class X6 extends Ub{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Eh.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:o}=n;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(Eh.cancelAnimationFrame(e),n._scheduled=void 0)}});function EM(t,n=Jm){return function eq(t){return Ct((n,e)=>{let r=!1,i=null,o=null,l=!1;const c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const m=i;i=null,e.next(m)}l&&e.complete()},u=()=>{o=null,l&&e.complete()};n.subscribe(Je(e,m=>{r=!0,i=m,o||fn(t(m)).subscribe(o=Je(e,c,u))},()=>{l=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>gM(t,n))}let TM=(()=>{class t{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new xe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ve(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(EM(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$n()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(io(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Il(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>UE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(or),Xt(Ji),Xt(Cr,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wM=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new xe,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(EM(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Ji),Xt(or),Xt(Cr,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kg=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({})}return t})(),SM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[ah,kg,ah,kg]})}return t})();const CM=FZ();class rq{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=ji(-this._previousScrollPosition.left),n.style.top=ji(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,i=this._document.body.style,o=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),CM&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),CM&&(r.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class iq{constructor(n,e,r,i){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(io(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class IM{enable(){}disable(){}attach(){}}function VE(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function AM(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class oq{constructor(n,e,r,i){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();VE(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let sq=(()=>{class t{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new IM,this.close=l=>new iq(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new rq(this._viewportRuler,this._document),this.reposition=l=>new oq(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(TM),Xt(wM),Xt(or),Xt(Cr))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class DM{constructor(n){if(this.scrollStrategy=new IM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const r of e)void 0!==n[r]&&(this[r]=n[r])}}}class aq{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let xM=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lq=(()=>{class t extends xM{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const c=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(i)):c.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr),Xt(or,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cq=(()=>{class t extends xM{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Cl(o)},this._clickListener=o=>{const l=Cl(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let m=u.length-1;m>-1;m--){const x=u[m];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(l)||x.overlayElement.contains(c))break;const W=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>W.next(o)):W.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr),Xt(Ji),Xt(or,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RM=(()=>{class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||kb()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),kb()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Cr),Xt(Ji))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class uq{constructor(n,e,r,i,o,l,c,u,m,x=!1){this._portalOutlet=n,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=c,this._location=u,this._outsideClickDispatcher=m,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new xe,this._attachments=new xe,this._detachments=new xe,this._locationChanges=H.EMPTY,this._backdropClickHandler=W=>this._backdropClick.next(W),this._backdropTransitionendHandler=W=>{this._disposeBackdrop(W.target)},this._keydownEvents=new xe,this._outsidePointerEvents=new xe,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ko(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=ji(this._config.width),n.height=ji(this._config.height),n.minWidth=ji(this._config.minWidth),n.minHeight=ji(this._config.minHeight),n.maxWidth=ji(this._config.maxWidth),n.maxHeight=ji(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,r){const i=eg(e||[]).filter(o=>!!o);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Vi(So(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const MM="cdk-overlay-connected-position-bounding-box",dq=/([A-Za-z%]+)$/;class fq{get positions(){return this._preferredPositions}constructor(n,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xe,this._resizeSubscription=H.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(MM),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let l;for(let c of this._preferredPositions){let u=this._getOriginPoint(n,i,c),m=this._getOverlayPoint(u,e,c),x=this._getOverlayFit(m,e,r,c);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(x,m,r)?o.push({position:c,origin:u,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!l||l.overlayFit.visibleArea<x.visibleArea)&&(l={overlayFit:x,overlayPoint:m,originPoint:u,position:c,overlayRect:e})}if(o.length){let c=null,u=-1;for(const m of o){const x=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);x>u&&(u=x,c=m)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let i,o;if("center"==r.originX)i=n.left+n.width/2;else{const l=this._isRtl()?n.right:n.left,c=this._isRtl()?n.left:n.right;i="start"==r.originX?l:c}return e.left<0&&(i-=e.left),o="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(n,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:n.x+i,y:n.y+o}}_getOverlayFit(n,e,r,i){const o=OM(e);let{x:l,y:c}=n,u=this._getOffset(i,"x"),m=this._getOffset(i,"y");u&&(l+=u),m&&(c+=m);let ge=0-c,Re=c+o.height-r.height,Ke=this._subtractOverflows(o.width,0-l,l+o.width-r.width),ct=this._subtractOverflows(o.height,ge,Re),Ft=Ke*ct;return{visibleArea:Ft,isCompletelyWithinViewport:o.width*o.height===Ft,fitsInViewportVertically:ct===o.height,fitsInViewportHorizontally:Ke==o.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,l=NM(this._overlayRef.getConfig().minHeight),c=NM(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=l&&l<=i)&&(n.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const i=OM(e),o=this._viewportRect,l=Math.max(n.x+i.width-o.width,0),c=Math.max(n.y+i.height-o.height,0),u=Math.max(o.top-r.top-n.y,0),m=Math.max(o.left-r.left-n.x,0);let x=0,W=0;return x=i.width<=o.width?m||-l:n.x<this._viewportMargin?o.left-r.left-n.x:0,W=i.height<=o.height?u||-c:n.y<this._viewportMargin?o.top-r.top-n.y:0,this._previousPushAmount={x,y:W},{x:n.x+x,y:n.y+W}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new aq(n,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,e){const r=this._viewportRect,i=this._isRtl();let o,l,c,x,W,ge;if("top"===e.overlayY)l=n.y,o=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)c=r.height-n.y+2*this._viewportMargin,o=r.height-c+this._viewportMargin;else{const Re=Math.min(r.bottom-n.y+r.top,n.y),Ke=this._lastBoundingBoxSize.height;o=2*Re,l=n.y-Re,o>Ke&&!this._isInitialRender&&!this._growAfterOpen&&(l=n.y-Ke/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)ge=r.width-n.x+this._viewportMargin,x=n.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)W=n.x,x=r.right-n.x;else{const Re=Math.min(r.right-n.x+r.left,n.x),Ke=this._lastBoundingBoxSize.width;x=2*Re,W=n.x-Re,x>Ke&&!this._isInitialRender&&!this._growAfterOpen&&(W=n.x-Ke/2)}return{top:l,left:W,bottom:c,right:ge,width:x,height:o}}_setBoundingBoxStyles(n,e){const r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=ji(r.height),i.top=ji(r.top),i.bottom=ji(r.bottom),i.width=ji(r.width),i.left=ji(r.left),i.right=ji(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=ji(o)),l&&(i.maxWidth=ji(l))}this._lastBoundingBoxSize=r,xc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){xc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const x=this._viewportRuler.getViewportScrollPosition();xc(r,this._getExactOverlayY(e,n,x)),xc(r,this._getExactOverlayX(e,n,x))}else r.position="static";let c="",u=this._getOffset(e,"x"),m=this._getOffset(e,"y");u&&(c+=`translateX(${u}px) `),m&&(c+=`translateY(${m}px)`),r.transform=c.trim(),l.maxHeight&&(i?r.maxHeight=ji(l.maxHeight):o&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=ji(l.maxWidth):o&&(r.maxWidth="")),xc(this._pane.style,r)}_getExactOverlayY(n,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===n.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=ji(o.y),i}_getExactOverlayX(n,e,r){let l,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),l=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=ji(o.x),i}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:AM(n,r),isOriginOutsideView:VE(n,r),isOverlayClipped:AM(e,r),isOverlayOutsideView:VE(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&eg(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof Ar)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}}function xc(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function NM(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(dq);return e&&"px"!==e?null:parseFloat(n)}return t||null}function OM(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const PM="cdk-global-overlay-wrapper";class hq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(PM),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:c}=r,u=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),m=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),x=this._xPosition,W=this._xOffset,ge="rtl"===this._overlayRef.getConfig().direction;let Re="",Ke="",ct="";u?ct="flex-start":"center"===x?(ct="center",ge?Ke=W:Re=W):ge?"left"===x||"end"===x?(ct="flex-end",Re=W):("right"===x||"start"===x)&&(ct="flex-start",Ke=W):"left"===x||"start"===x?(ct="flex-start",Re=W):("right"===x||"end"===x)&&(ct="flex-end",Ke=W),n.position=this._cssPosition,n.marginLeft=u?"0":Re,n.marginTop=m?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=u?"0":Ke,e.justifyContent=ct,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(PM),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let pq=(()=>{class t{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new hq}flexibleConnectedTo(e){return new fq(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(wM),Xt(Cr),Xt(Ji),Xt(RM))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mq=0,dd=(()=>{class t{constructor(e,r,i,o,l,c,u,m,x,W,ge,Re){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=c,this._ngZone=u,this._document=m,this._directionality=x,this._location=W,this._outsideClickDispatcher=ge,this._animationsModuleType=Re}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),l=new DM(e);return l.direction=l.direction||this._directionality.value,new uq(o,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+mq++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(yl)),new Z6(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(sq),Xt(RM),Xt(lf),Xt(pq),Xt(lq),Xt(Do),Xt(or),Xt(Cr),Xt(ig),Xt(gm),Xt(cq),Xt(Ts,8))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const vq={provide:new on("cdk-connected-overlay-scroll-strategy"),deps:[dd],useFactory:function _q(t){return()=>t.scrollStrategies.reposition()}};let kM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({providers:[dd,vq],imports:[ah,z6,SM,SM]})}return t})();const yq=["mat-menu-item",""];function bq(t,n){1&t&&(Fa(),an(0,"svg",3),Kn(1,"polygon",4),dn())}const Eq=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Tq=["mat-icon, [matMenuItemIcon]","*"];function wq(t,n){if(1&t){const e=Ai();an(0,"div",0),sr("keydown",function(i){return un(e),hn(Nn()._handleKeydown(i))})("click",function(){return un(e),hn(Nn().closed.emit("click"))})("@transformMenu.start",function(i){return un(e),hn(Nn()._onAnimationStart(i))})("@transformMenu.done",function(i){return un(e),hn(Nn()._onAnimationDone(i))}),an(1,"div",1),Di(2),dn()()}if(2&t){const e=Nn();qt("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),ri("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Sq=["*"],jE=new on("MAT_MENU_PANEL"),Cq=$b(Dx(class{}));let Th=(()=>{class t extends Cq{constructor(e,r,i,o,l){super(),this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new xe,this._focused=new xe,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(Cr),_t(sh),_t(jE,8),_t(Oo))};static#t=this.\u0275cmp=vr({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,i){1&r&&sr("click",function(l){return i._checkDisabled(l)})("mouseenter",function(){return i._handleMouseEnter()}),2&r&&(ri("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),Ei("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[gr],attrs:yq,ngContentSelectors:Tq,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,i){1&r&&(la(Eq),Di(0),an(1,"span",0),Di(2,1),dn(),Kn(3,"div",1),xn(4,bq,2,0,"svg",2)),2&r&&(Kt(3),qt("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),Kt(1),qt("ngIf",i._triggersSubmenu))},dependencies:[Qi,Wb],encapsulation:2,changeDetection:0})}return t})();const Iq=new on("MatMenuContent"),Fg={transformMenu:mh("transformMenu",[Cc("void",$o({opacity:0,transform:"scale(0.8)"})),Ol("void => enter",Nl("120ms cubic-bezier(0, 0, 0.2, 1)",$o({opacity:1,transform:"scale(1)"}))),Ol("* => void",Nl("100ms 25ms linear",$o({opacity:0})))]),fadeInItems:mh("fadeInItems",[Cc("showing",$o({opacity:1})),Ol("void => *",[$o({opacity:0}),Nl("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Aq=0;const FM=new on("mat-menu-default-options",{providedIn:"root",factory:function Dq(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let wh=(()=>{class t{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=oo(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=oo(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,o){this._elementRef=e,this._ngZone=r,this._changeDetectorRef=o,this._directDescendantItems=new qu,this._classList={},this._panelAnimationState="void",this._animationDone=new xe,this.closed=new jr,this.close=this.closed,this.panelId="mat-menu-panel-"+Aq++,this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this._overlapTrigger=i.overlapTrigger,this._hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new h4(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Vf(this._directDescendantItems),Gn(e=>So(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Vf(this._directDescendantItems),Gn(r=>So(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:Bb(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(ko(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Vf(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(or),_t(FM),_t(Oo))};static#t=this.\u0275dir=kn({type:t,contentQueries:function(r,i,o){if(1&r&&(qo(o,Iq,5),qo(o,Th,5),qo(o,Th,4)),2&r){let l;ii(l=oi())&&(i.lazyContent=l.first),ii(l=oi())&&(i._allItems=l),ii(l=oi())&&(i.items=l)}},viewQuery:function(r,i){if(1&r&&Mo(fa,5),2&r){let o;ii(o=oi())&&(i.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return t})(),HE=(()=>{class t extends wh{constructor(e,r,i,o){super(e,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(or),_t(FM),_t(Oo))};static#t=this.\u0275cmp=vr({type:t,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(r,i){2&r&&ri("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Yr([{provide:jE,useExisting:t}]),gr],ngContentSelectors:Sq,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(r,i){1&r&&(la(),xn(0,wq,3,6,"ng-template"))},dependencies:[Xu],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Fg.transformMenu,Fg.fadeInItems]},changeDetection:0})}return t})();const LM=new on("mat-menu-scroll-strategy"),Rq={provide:LM,deps:[dd],useFactory:function xq(t){return()=>t.scrollStrategies.reposition()}},BM=_c({passive:!0});let Mq=(()=>{class t{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,o,l,c,u,m,x){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=c,this._dir=u,this._focusMonitor=m,this._ngZone=x,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=H.EMPTY,this._hoverSubscription=H.EMPTY,this._menuCloseSubscription=H.EMPTY,this._changeDetectorRef=Yt(Oo),this._handleTouchStart=W=>{qb(W)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new jr,this.onMenuOpen=this.menuOpened,this.menuClosed=new jr,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=l instanceof wh?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,BM)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,BM),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof wh&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Vi(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof wh?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(io(i=>"void"===i.toState),ko(1),Vi(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new DM({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",l="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,l)):e.setPositionClasses(o,l)})}_setPosition(e,r){let[i,o]="before"===e.xPosition?["end","start"]:["start","end"],[l,c]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[u,m]=[l,c],[x,W]=[i,o],ge=0;if(this.triggersSubmenu()){if(W=i="before"===e.xPosition?"start":"end",o=x="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Re=this._parentMaterialMenu.items.first;this._parentInnerPadding=Re?Re._getHostElement().offsetTop:0}ge="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(u="top"===l?"bottom":"top",m="top"===c?"bottom":"top");r.withPositions([{originX:i,originY:u,overlayX:x,overlayY:l,offsetY:ge},{originX:o,originY:u,overlayX:W,overlayY:l,offsetY:ge},{originX:i,originY:m,overlayX:x,overlayY:c,offsetY:-ge},{originX:o,originY:m,overlayX:W,overlayY:c,offsetY:-ge}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return So(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:$n(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(io(l=>l!==this._menuItemInstance),io(()=>this._menuOpen)):$n(),r)}_handleMousedown(e){Gb(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(io(e=>e===this._menuItemInstance&&!e.disabled),_M(0,LE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof wh&&this.menu._isAnimating?this.menu._animationDone.pipe(ko(1),_M(0,LE),Vi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new yM(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(r){return new(r||t)(_t(dd),_t(Ar),_t(is),_t(LM),_t(jE,8),_t(Th,10),_t(ig,8),_t(sh),_t(or))};static#t=this.\u0275dir=kn({type:t,hostVars:3,hostBindings:function(r,i){1&r&&sr("click",function(l){return i._handleClick(l)})("mousedown",function(l){return i._handleMousedown(l)})("keydown",function(l){return i._handleKeydown(l)}),2&r&&ri("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return t})(),ZE=(()=>{class t extends Mq{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275dir=kn({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[gr]})}return t})(),fd=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({providers:[Rq],imports:[Ff,ch,eo,kM,kg,eo]})}return t})();class UM extends Rl{constructor(n){super(),this.sort_requested=n}}const Nq=["hot","top","new","controversial","rising"];let Oq=(()=>{class t extends sR{constructor(e){if(!e||!e.keyPrefix||0===e.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,e.keyPrefix)}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(oE))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zE=(()=>{class t{constructor(e){this.sessionStorageService=e,this.key="UniqueId"}getUniqueId(){let e=this.sessionStorageService.get(this.key);return null==e&&(e=0),this.sessionStorageService.set(this.key,++e),e}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Oq))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();String.isNullOrWhitespace||(String.isNullOrWhitespace=function(t){return null==t||t.trim().length<1}),String.hasData||(String.hasData=t=>!String.isNullOrWhitespace(t)),String.toDate||(String.toDate=function(t){if(null==t||""===t)return null;if(t instanceof Date)return t;if(!(t instanceof String))return null;const n=t.split("/");if(3!==n.length)return null;const e=Number(n[0]),r=Number(n[1]);let i=Number(n[2]);if(isNaN(e)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,e-1,r);return o.getMonth()+1!==e||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o});class GE{}Object.trimUnusedProperties||(Object.trimUnusedProperties=function(t){if(null==t)return;if(null==t)return null;let n={...t};for(var e in n){const r=n[e];(null==r||Array.isArray(r)&&0===r.length)&&delete n[e],"string"==typeof r&&String.isNullOrWhitespace(r)&&delete n[e],"number"==typeof r&&0===r&&delete n[e]}return n});class qE{}function Pq(t,n,e,r){return YE.apply(this,arguments)}function YE(){return(YE=ui(function*(t,n,e,r){this.set_posts({items:[],subreddit:""}),this.set_errors({});const i=this.subscriptionService.get();let o=r;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let l=new URLSearchParams;l.set("limit","20"),l.set("raw_json","1"),String.hasData(t)&&l.set("after",t),String.hasData(n)&&l.set("modhash",n);const c=new URL(`https://www.reddit.com/r/${o}/${e}.json`);c.search=`${l}`;try{const u=yield fetch(c);if(!u.ok){let ge=u.statusText||"Not Found";try{const Re=yield u.json();Re&&"reason"in Re&&(ge=Re.reason)}catch{}return void this.set_errors(ge)}const m=yield u.json();if(m.kind!==As.Listing)return void this.set_errors(`Listing's kind isn't ${As.Listing}, its ${m.kind} instead`);if(m.data?.children.some(ge=>ge.kind!==As.Link))return void this.set_errors(`Not all of Listing's children are of kind ${As.Link}`);const x=m.data,W=x.children.filter(ge=>null!=ge.data).map(ge=>iE(ge.data,this.is_MSE_supported()));W.forEach(ge=>ge.subreddit_subscribed=i.includes(ge.subreddit)),this.set_posts({after:x.after,items:W,modhash:x.modhash,sort:e,subreddit:o})}catch(u){this.set_errors(u)}})).apply(this,arguments)}function kq(t){return $E.apply(this,arguments)}function $E(){return($E=ui(function*(t){this.subscriptionService.add(t);const n=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=n.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}function Fq(t){return WE.apply(this,arguments)}function WE(){return(WE=ui(function*(t){this.subscriptionService.remove(t);const n=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=n.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}let Lg=(()=>{class t{constructor(){this.domSanitizer=Yt(Vs),this.subscriptionService=Yt(aR),this.uniqueIdService=Yt(zE),this.#e=new GE,this.#t=new qE,this.#n=_s({posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""}}),this.#r=_s({}),this.errors=this.#r.asReadonly(),this.#i="MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported,this.posts=ka(()=>{const e=this.#n().posts;return null==e?null:{after:e.after,items:e.items?.map(r=>this.#s(r)),modhash:e.modhash,sort:e.sort,subreddit:e.subreddit}}),this.actions={listPostAsync:Pq.bind(this),subscribe:kq.bind(this),unsubscribe:Fq.bind(this)}}#e;#t;#n;#r;set_errors(e){null!=e&&this.#r.set(e||{})}#i;is_MSE_supported(){return this.#i}#s(e){const r=JSON.parse(JSON.stringify(e));return r.images&&(r.images=r.images.map(i=>Object.freeze(i))),r.videos&&(r.videos=r.videos.map(i=>Object.freeze(i))),Object.freeze(r)}get_posts(){return F(this.#n).posts}set_posts(e){this.#n.mutate(r=>{const i=r.posts;i.after=String.hasData(e.after)?e.after:"",null!=e.items&&(i.items=e.items),i.modhash=String.hasData(e.modhash)?e.modhash:"",null!=e.sort&&(i.sort=e.sort),null!=e.subreddit&&(i.subreddit=e.subreddit)}),this.set_errors(null)}static#o=this.\u0275fac=function(r){return new(r||t)};static#a=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Lq=function(t){return{display:t}};function Bq(t,n){if(1&t){const e=Ai();an(0,"a",14),sr("click",function(){const o=un(e).$implicit;return hn(Nn(2).change_sort(o))}),Or(1),dn()}if(2&t){const e=n.$implicit,r=Nn().ngIf;qt("ngStyle",da(2,Lq,r.sort===e?"none":"inherit")),Kt(1),zo(" ",e," ")}}function Uq(t,n){if(1&t){const e=Ai();sa(0),an(1,"div",1)(2,"div",2),Or(3),dn(),an(4,"button",3),Or(5),Kn(6,"mat-icon",4),dn(),an(7,"button",5),Kn(8,"mat-icon",6),dn()(),an(9,"mat-menu",null,7),xn(11,Bq,2,4,"a",8),dn(),an(12,"mat-menu",9,10)(14,"mat-icon",11),sr("click",function(){return un(e),hn(Nn().back_to_home())}),dn(),Kn(15,"mat-icon",12)(16,"mat-icon",13),dn(),aa()}if(2&t){const e=n.ngIf,r=Bi(10),i=Bi(13),o=Nn();Kt(3),zo(" ",e.subreddit.includes("+")?"multi":e.subreddit," "),Kt(1),qt("matMenuTriggerFor",r),Kt(1),zo(" ",e.sort," "),Kt(2),qt("matMenuTriggerFor",i),Kt(4),qt("ngForOf",o.POST_SORT)}}let Vq=(()=>{class t{constructor(){this.#e=Yt(Ds),this.POST_SORT=Nq,this.controller=Yt(Lg)}#e;change_sort(e){var r=this;return ui(function*(){r.#e.raise(new UM(e))})()}back_to_home(){this.#e.raise(iR)}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=vr({type:t,selectors:[["page-header"]],standalone:!0,features:[Qr],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){1&r&&xn(0,Uq,17,5,"ng-container",0),2&r&&qt("ngIf",i.controller.posts())},dependencies:[Qi,El,Dm,Zs,Mg,Ng,ss,xl,fd,HE,Th,ZE,Ga],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0})}return t})();const jq=["*",[["mat-toolbar-row"]]],Hq=["*","mat-toolbar-row"],Zq=og(class{constructor(t){this._elementRef=t}});let VM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=kn({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),zq=(()=>{class t extends Zq{constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(Ji),_t(Cr))};static#t=this.\u0275cmp=vr({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(1&r&&qo(o,VM,5),2&r){let l;ii(l=oi())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,i){2&r&&Ei("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[gr],ngContentSelectors:Hq,decls:2,vars:0,template:function(r,i){1&r&&(la(jq),Di(0),Di(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return t})(),Bg=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[eo,eo]})}return t})();class jM extends Rl{constructor(n){super(),this.article=n}}function Gq(t,n){if(1&t){const e=Ai();an(0,"button",4),sr("click",function(){return un(e),hn(Nn().on_share_click())}),Kn(1,"mat-icon",5),dn()}}function qq(t,n){if(1&t&&(an(0,"button",6),Kn(1,"mat-icon",7),Or(2),gl(3,"count"),dn()),2&t){const e=Nn();Kt(2),zo(" ",_l(3,1,e.data.ups),"\n")}}function Yq(t,n){if(1&t&&(an(0,"button",6),Kn(1,"mat-icon",8),Or(2),gl(3,"count"),dn()),2&t){const e=Nn();Kt(2),zo(" ",_l(3,1,e.data.downs),"\n")}}let $q=(()=>{class t{#e;#t;constructor(){this.#e=Yt(Ds),this.#t="",this._can_share="share"in window.navigator,this.controller=Yt(Lg),this.#t=document.baseURI,this.#t.endsWith("/")&&(this.#t=this.#t.slice(0,-1))}on_share_click(){const e=`${this.#t}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:e})}on_comment_click(){this.#e.raise(new jM(this.data.id))}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=vr({type:t,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(r,i){1&r&&(xn(0,Gq,2,0,"button",0),an(1,"button",1),sr("click",function(){return i.on_comment_click()}),Kn(2,"mat-icon",2),Or(3),gl(4,"count"),dn(),xn(5,qq,4,3,"button",3),xn(6,Yq,4,3,"button",3)),2&r&&(qt("ngIf",i._can_share),Kt(3),zo(" ",_l(4,4,i.data.num_comments),"\n"),Kt(2),qt("ngIf",i.data.ups>0),Kt(1),qt("ngIf",i.data.downs>0))},dependencies:[t8,Zs,Mg,Ng,ss,xl,fd,ch,Bg,Qi],changeDetection:0})}return t})();class Sh extends Rl{constructor(n){super(),this.subreddit_requested=n}}function Wq(t,n){if(1&t){const e=Ai();an(0,"a",9),sr("click",function(i){un(e);const o=Nn();return hn(o.change_subreddit(i,o.post.subreddit))}),Or(1),dn()}if(2&t){const e=Nn();qt("href","/r/"+e.post.subreddit,ic),Kt(1),zo(" r/",e.post.subreddit," ")}}function Kq(t,n){if(1&t){const e=Ai();an(0,"mat-icon",12),sr("click",function(){un(e);const i=Nn(2);return hn(i.controller.actions.subscribe(i.post.subreddit))}),dn()}}function Xq(t,n){if(1&t){const e=Ai();an(0,"mat-icon",13),sr("click",function(){un(e);const i=Nn(2);return hn(i.controller.actions.unsubscribe(i.post.subreddit))}),dn()}}function Qq(t,n){if(1&t&&(sa(0),xn(1,Kq,1,0,"mat-icon",10),xn(2,Xq,1,0,"mat-icon",11),aa()),2&t){const e=Nn();Kt(1),qt("ngIf",!e.post.subreddit_subscribed),Kt(1),qt("ngIf",e.post.subreddit_subscribed)}}function Jq(t,n){1&t&&Kn(0,"mat-icon",14)}function eY(t,n){1&t&&Kn(0,"mat-icon",15)}function tY(t,n){1&t&&(an(0,"a",16),Or(1,"x-post"),dn())}const nY=function(t){return["/u",t]};let rY=(()=>{class t{constructor(){this.#e=Yt(Ds),this.controller=Yt(Lg),this.has_image_gallery=!1,this.part_of_multi=!1}#e;set data(e){this.post=e.post,this.#t(e.subreddit)}#t(e){this.part_of_multi=this.post.subreddit.toLowerCase()!==e.toLowerCase();const r=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=r.has_image&&r.has_image_gallery}change_subreddit(e,r){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.#e.raise(new Sh(r))}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=vr({type:t,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(r,i){1&r&&(an(0,"section",0)(1,"div",1),Or(2),dn(),an(3,"section",2),xn(4,Wq,2,2,"a",3),an(5,"a",4),Or(6),dn(),an(7,"span"),Or(8),gl(9,"age"),dn(),xn(10,Qq,3,2,"ng-container",5),xn(11,Jq,1,0,"mat-icon",6),xn(12,eY,1,0,"mat-icon",7),xn(13,tY,2,0,"a",8),dn()()),2&r&&(Kt(2),xo(i.post.title),Kt(2),qt("ngIf",i.part_of_multi),Kt(1),qt("routerLink",da(11,nY,i.post.author)),Kt(1),zo("u/",i.post.author,""),Kt(2),xo(_l(9,9,i.post.created_utc)),Kt(2),qt("ngIf",i.part_of_multi),Kt(1),qt("ngIf",!i.part_of_multi&&i.post.stickied),Kt(1),qt("ngIf",i.has_image_gallery),Kt(1),qt("ngIf",i.post.is_crosspost))},dependencies:[oR,Zs,ss,xl,fd,ch,Bg,Qi,Ga],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0})}return t})();function iY(t,n){1&t&&Kn(0,"post-body",0),2&t&&qt("data",Nn().post)}const oY=function(t,n){return{post:t,subreddit:n}};let HM=(()=>{class t{constructor(){this.subreddit="",this.show_body=!0}set data(e){this.post=e.item,this.subreddit=e.subreddit,this.show_body=!e.item.stickied||!e.hide_stickied}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=vr({type:t,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(r,i){1&r&&(Kn(0,"post-header",0),xn(1,iY,1,1,"post-body",1),Kn(2,"post-footer",0)),2&r&&(qt("data",ay(3,oY,i.post,i.subreddit)),Kt(1),qt("ngIf",i.show_body),Kt(1),qt("data",i.post))},dependencies:[Qi,U5,$q,rY],changeDetection:0})}return t})();Ri(307);class sY{}class hd{static sort(n,e,r){let i;n.sort((o,l)=>{let c=0,u=o[e],m=l[e];return null==u&&null==m?0:(null==u&&(void 0===i&&(i=this.#e(m)),u=i),null==m&&(void 0===i&&(i=this.#e(u)),m=i),"string"==typeof u&&(c=u.localeCompare(m)),"number"==typeof u&&(c=u-m),"boolean"==typeof u&&(c=u===m?0:u?1:-1),u instanceof Date&&(c=u.valueOf()-m.valueOf()),"desc"===r&&(c=-c),c)})}static#e(n){switch(typeof n){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return n instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}static fromParamMap(n,e){const r={};e.keys.forEach(o=>r[o]=`${e.get(o)}`);const i=hd.adapt(n,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!e.has(o))return;const l=e.getAll(o);i[o]="string"!=typeof l?1!==l.length?l:l[0].split(","):l.split(",")}),i}static adapt(n,e){if(null==n)return null;"function"==typeof n&&(n=new n);const r="string"==typeof e?String.isNullOrWhitespace(e)?{}:JSON.parse(e):e,i={};return Object.keys(r).forEach(o=>{const l=o[0].toLowerCase()+o.slice(1);i[l]=r[o]}),this.#t(n,i),Object.keys(n).filter(o=>"object"==typeof n[o]&&n[o]instanceof sY).forEach(o=>this.adapt(n[o],o in i?i[o]:this.#i(i,`${o}_`))),n}static#t(n,e){null==n||null==e||this.#r(n).forEach(r=>{if(void 0===e[r])return;let i=typeof n[r];if("object"===i)switch(Reflect.getMetadata("design:type",n,r)){case String:i="string";break;case Boolean:i="boolean";break;case Number:i="number"}switch(i){case"string":n[r]=null===e[r]?n[r]:"string"==typeof e[r]?e[r]:e[r].toString();break;case"boolean":n[r]=null===e[r]?n[r]:this.#n(e[r]);break;case"number":n[r]=null===e[r]?n[r]:"number"==typeof e[r]?e[r]:Number(e[r]);break;case"object":if((n[r]instanceof Date||Reflect.getMetadata("design:type",n,r)===Date)&&(n[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(n[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",n,r)){const o=Reflect.getMetadata("design:type",n,r);e[r].forEach(l=>n[r].push(hd.adapt(o,l)))}}})}static#n(n){const e=typeof n;return"boolean"===e?n:"string"===e?"true"===n.toLowerCase():!!n}static#r(n){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(n).forEach(i=>!r.includes(i)&&r.push(i))}while((n=Object.getPrototypeOf(n))&&!e.includes(n));return r}static#i(n,e){const r={};return Object.keys(n).filter(i=>i.startsWith(e)).forEach(i=>r[i.replace(e,"")]=n[i]),r}}class Ch{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(n,e){const r=new Ch;return r.addError(n,e),r}addError(n,e){if(e&&String.hasData(e)){const i=e.split(".");let o=this.errors;for(let l=0;l<i.length;l++){const c=i[l],u=c[0].toLowerCase()+c.slice(1);l<i.length-1?(o[u]={},o=o[u]):o[u]=n}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),n.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(n),void(this.hasErrors=!0);const r=n[0].toLowerCase()+n.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}function aY(t,n){1&t&&(an(0,"mat-toolbar-row")(1,"span"),Or(2,"You are not authorized."),dn()())}function lY(t,n){1&t&&(an(0,"mat-toolbar-row")(1,"span"),Or(2,"Not found."),dn()())}function cY(t,n){if(1&t&&(an(0,"mat-toolbar-row")(1,"span",4),Or(2),dn()()),2&t){const e=n.$implicit;Kt(2),xo(e)}}function uY(t,n){if(1&t&&(an(0,"mat-toolbar",1),xn(1,aY,3,0,"mat-toolbar-row",2),xn(2,lY,3,0,"mat-toolbar-row",2),xn(3,cY,3,1,"mat-toolbar-row",3),dn()),2&t){const e=Nn();Kt(1),qt("ngIf",null==e._errors.general?null:e._errors.general.forbidden),Kt(1),qt("ngIf",null==e._errors.general?null:e._errors.general.notFound),Kt(1),qt("ngForOf",null==e._errors.general?null:e._errors.general.default)}}let KE=(()=>{class t{set errors(e){this._errors=e instanceof Error?Ch.CreateErrorResult(`${e.message} `).errors:e instanceof Ch?e.errors:"string"!=typeof e&&"number"!=typeof e?e:Ch.CreateErrorResult(`${e} `).errors}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=vr({type:t,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(r,i){1&r&&xn(0,uY,4,3,"mat-toolbar",0),2&r&&qt("ngIf",null==i._errors?null:i._errors.general)},dependencies:[Bg,zq,VM,El,Qi],styles:["[_nghost-%COMP%]{width:100%}"]})}return t})();class ZM extends Rl{constructor(n){super(),this.sort_requested=n}}const dY=["best","confidence","top","new","controversial","old"];function mY(t,n){return XE.apply(this,arguments)}function XE(){return(XE=ui(function*(t,n,e=""){this.set_post_comments({items:[],post:null});const r=new URL(`https://www.reddit.com/comments/${t}.json`);r.searchParams.set("sort",`${n}`),r.searchParams.set("limit","100"),r.searchParams.set("raw_json","1"),r.searchParams.set("threaded","false"),String.hasData(e)&&r.searchParams.set("comment",e);try{const i=yield fetch(r);if(!i.ok)return void this.set_errors(i.statusText);const o=yield i.json(),l=o[0],c=o[1];if(c.kind!==As.Listing)return void this.set_errors(`Comment listing's kind isn't ${As.Listing}, its ${c.kind} instead`);if(c.data?.children.some(x=>x.kind!==As.Comment&&x.kind!==As.More))return void this.set_errors(`Not all of comment listing's children are of kind ${As.Comment} or ${As.More}`);const u=function pY(t){const n=[];let e;for(let r=0;r<t.length;r++){const i=t[r];if(i.parent_id.startsWith("t3_")){n.push(i);continue}if(!i.parent_id.startsWith("t1_"))continue;const o=i.parent_id.replace("t1_",""),l=n.find(c=>c.id===o);l&&(e=l,e.children??=[]),e&&e.children.push(i)}return n}(c.data.children.filter(x=>x.kind==As.Comment&&null!=x.data).map(x=>function fY(t){let n={};return function hY(t,n){n.author=t.author,n.body_html=t.body_html,n.created_utc=t.created_utc,n.downs=t.downs,n.id=t.id,n.stickied=t.stickied,n.ups=t.ups,n.parent_id=t.parent_id}(t,n),n}(x.data))),m=iE(l.data.children[0].data,this.is_MSE_supported());this.set_post_comments({article:t,items:u,sort:n,post:m})}catch(i){this.set_errors(i)}})).apply(this,arguments)}let zM=(()=>{class t{constructor(){this.domSanitizer=Yt(Vs),this.uniqueIdService=Yt(zE),this.#e=new GE,this.#t=new qE,this.#n=_s({post_comments:{article:"",items:null,sort:"best",post:null}}),this.#r=_s({}),this.errors=this.#r.asReadonly(),this.#i="MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported,this.post_comments=ka(()=>{const e=this.#n().post_comments;return null==e||null==e.items?null:{items:e.items?.map(r=>this.#s(r)),sort:e.sort,post:e.post}}),this.actions={listCommentAsync:mY.bind(this)}}#e;#t;#n;#r;set_errors(e){null!=e&&this.#r.set(e||{})}#i;is_MSE_supported(){return this.#i}#s(e){const r=JSON.parse(JSON.stringify(e));return Object.freeze(r)}set_post_comments(e){this.#n.mutate(r=>{const i=r.post_comments;i.article=String.hasData(e.article)?e.article:"",void 0!==e.items&&(i.items=e.items),null!=e.sort&&(i.sort=e.sort),void 0!==e.post&&(i.post=e.post)}),this.set_errors(null)}static#o=this.\u0275fac=function(r){return new(r||t)};static#a=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const gY=function(t){return{display:t}};function _Y(t,n){if(1&t){const e=Ai();an(0,"a",13),sr("click",function(){const o=un(e).$implicit;return hn(Nn(2).change_sort(o))}),Or(1),dn()}if(2&t){const e=n.$implicit,r=Nn().ngIf;qt("ngStyle",da(2,gY,r.sort===e?"none":"inherit")),Kt(1),zo(" ",e," ")}}function vY(t,n){if(1&t&&(sa(0),an(1,"div",1)(2,"span"),Or(3,"Comments"),dn(),an(4,"button",2),Or(5),Kn(6,"mat-icon",3),dn(),an(7,"button",4),Kn(8,"mat-icon",5),dn()(),an(9,"mat-menu",null,6),xn(11,_Y,2,4,"a",7),dn(),an(12,"mat-menu",8,9),Kn(14,"mat-icon",10)(15,"mat-icon",11)(16,"mat-icon",12),dn(),aa()),2&t){const e=n.ngIf,r=Bi(10),i=Bi(13),o=Nn();Kt(4),qt("matMenuTriggerFor",r),Kt(1),zo(" ",e.sort," "),Kt(2),qt("matMenuTriggerFor",i),Kt(4),qt("ngForOf",o.POST_COMMENT_SORT)}}let yY=(()=>{class t{constructor(){this.#e=Yt(Ds),this.POST_COMMENT_SORT=dY,this.controller=Yt(zM)}#e;change_sort(e){var r=this;return ui(function*(){r.#e.raise(new ZM(e))})()}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=vr({type:t,selectors:[["page-header"]],standalone:!0,features:[Qr],decls:1,vars:1,consts:[[4,"ngIf"],[1,"toolbar"],["type","button","mat-button","",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"],["mat-menu-item","",3,"ngStyle","click"]],template:function(r,i){1&r&&xn(0,vY,17,4,"ng-container",0),2&r&&qt("ngIf",i.controller.post_comments())},dependencies:[Zs,Mg,Ng,ss,xl,fd,HE,Th,ZE,El,Qi,Dm,Ga],changeDetection:0})}return t})(),bY=(()=>{class t{constructor(){this.data=null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=vr({type:t,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:1,vars:1,consts:[[3,"data"]],template:function(r,i){1&r&&Kn(0,"text-block",0),2&r&&qt("data",null==i.data?null:i.data.body_html)},dependencies:[Nb],changeDetection:0})}return t})();function EY(t,n){1&t&&Kn(0,"mat-icon",4)}function TY(t,n){if(1&t){const e=Ai();an(0,"mat-icon",7),sr("click",function(){un(e);const i=Nn(2);return hn(i.collapseClick.emit(i.data.id))}),dn()}}function wY(t,n){if(1&t){const e=Ai();an(0,"mat-icon",8),sr("click",function(){un(e);const i=Nn(2);return hn(i.collapseClick.emit(i.data.id))}),dn()}}function SY(t,n){if(1&t&&(sa(0),xn(1,TY,1,0,"mat-icon",5),xn(2,wY,1,0,"mat-icon",6),aa()),2&t){const e=Nn();Kt(1),qt("ngIf",!e.isCollapsed),Kt(1),qt("ngIf",e.isCollapsed)}}const CY=function(t){return["/u",t]};let IY=(()=>{class t{constructor(){this.canCollapse=!0,this.isCollapsed=!1,this.collapseClick=new jr}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=vr({type:t,selectors:[["post-comment-header"]],inputs:{data:"data",canCollapse:"canCollapse",isCollapsed:"isCollapsed"},outputs:{collapseClick:"collapseClick"},standalone:!0,features:[Qr],decls:8,vars:9,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],[4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","expand_more","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","expand_less","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","expand_more",2,"transform","scale(.75)",3,"click"],["svgIcon","expand_less",2,"transform","scale(.75)",3,"click"]],template:function(r,i){1&r&&(an(0,"section",0)(1,"a",1),Or(2),dn(),an(3,"span"),Or(4),gl(5,"age"),dn(),xn(6,EY,1,0,"mat-icon",2),xn(7,SY,3,2,"ng-container",3),dn()),2&r&&(Kt(1),qt("routerLink",da(7,CY,i.data.author)),Kt(1),zo("u/",i.data.author,""),Kt(2),xo(_l(5,5,i.data.created_utc)),Kt(2),qt("ngIf",i.data.stickied),Kt(1),qt("ngIf",i.canCollapse))},dependencies:[oR,ss,xl,Qi,Ga],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0})}return t})();function AY(t,n){1&t&&Kn(0,"post-comment-body",2),2&t&&qt("data",Nn().data)}let DY=(()=>{class t{constructor(){this.canCollapse=!1,this.isCollapsed=!1,this.collapseClick=new jr}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=vr({type:t,selectors:[["post-comment"]],inputs:{data:"data",canCollapse:"canCollapse",isCollapsed:"isCollapsed"},outputs:{collapseClick:"collapseClick"},standalone:!0,features:[Qr],decls:2,vars:4,consts:[[3,"data","canCollapse","isCollapsed","collapseClick"],[3,"data",4,"ngIf"],[3,"data"]],template:function(r,i){1&r&&(an(0,"post-comment-header",0),sr("collapseClick",function(l){return i.collapseClick.emit(l)}),dn(),xn(1,AY,1,1,"post-comment-body",1)),2&r&&(qt("data",i.data)("canCollapse",i.canCollapse)("isCollapsed",i.isCollapsed),Kt(1),qt("ngIf",!i.isCollapsed))},dependencies:[Qi,IY,bY],changeDetection:0})}return t})();const xY=function(t){return{item:t,subreddit:"",hide_stickied:!1,show_comments:!1}};function RY(t,n){if(1&t&&Kn(0,"post",5),2&t){const e=Nn().ngIf;qt("data",da(1,xY,e.post))}}function MY(t,n){if(1&t){const e=Ai();an(0,"post-comment",13),sr("collapseClick",function(){un(e);const i=Nn(3).$implicit;return hn(Nn(2).onCollapseClick(i.id))}),dn()}2&t&&qt("data",n.$implicit)("canCollapse",!0)}function NY(t,n){if(1&t&&(an(0,"div"),xn(1,MY,1,2,"post-comment",12),dn()),2&t){const e=Nn(2).$implicit,r=Nn(2);Kt(1),qt("ngForOf",e.children)("ngForTrackBy",r.trackByFn)}}function OY(t,n){if(1&t&&(an(0,"div",9),Kn(1,"div",10),xn(2,NY,2,2,"div",11),dn()),2&t){const e=Nn().$implicit,r=Nn(2);Kt(2),qt("ngIf",!r.collapsed[e.id])}}function PY(t,n){if(1&t){const e=Ai();an(0,"section",6)(1,"post-comment",7),sr("collapseClick",function(i){return un(e),hn(Nn(2).onCollapseClick(i))}),dn(),xn(2,OY,3,1,"div",8),dn()}if(2&t){const e=n.$implicit,r=Nn(2);Kt(1),qt("data",e)("id",e.id)("canCollapse",!0)("isCollapsed",r.collapsed[e.id]),Kt(1),qt("ngIf",e.children)}}function kY(t,n){if(1&t&&(an(0,"div",2),xn(1,RY,1,3,"post",3),xn(2,PY,3,5,"section",4),dn()),2&t){const e=n.ngIf,r=Nn();Kt(1),qt("ngIf",e.post),Kt(1),qt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}let GM=(()=>{class t{#e;#t;#n;#r;constructor(){var e=this;this.#e=Yt(Ds),this.#t=Yt(Fo),this.#n=Yt(ga),this.#r={a:"",i:"",so:"best"},this.controller=Yt(zM),this.showHideReplies={},this.collapsed={},So(this.#e.handle(ZM).pipe(Jr(r=>this.#i(r))),this.#e.handle(Sh).pipe(Jr(r=>this.#s(r))),this.#n.paramMap.pipe(Jr(function(){var r=ui(function*(i){return yield e.#a(i)});return function(i){return r.apply(this,arguments)}}()))).pipe(ld()).subscribe(),Zp(()=>{const r=this.controller.post_comments();!r||!r.items||0===r.items.length||r.items.forEach(i=>this.collapsed[i.id]=i.stickied)})}trackByFn(e,r){return r.id}onCollapseClick(e){this.collapsed[e]=!this.collapsed[e],setTimeout(()=>{const r=document.getElementById(e);r&&r.scrollIntoView({block:"nearest"})},0)}#i(e){this.#r.so=e.sort_requested,this.#o(!0)}#s(e){this.#t.navigate(["r",e.subreddit_requested])}#o(e=!1){let r=Object.trimUnusedProperties(this.#r);delete r.a,this.#t.navigate(["comments",this.#r.a,r],{replaceUrl:e})}#a(e){var r=this;return ui(function*(){try{r.#e.raise(wc),r.#r={a:"",i:"",so:"best"},hd.fromParamMap(r.#r,e),yield r.controller.actions.listCommentAsync(r.#r.a,r.#r.so,r.#r.i),setTimeout(()=>window.scrollTo(0,0),100)}finally{r.#e.raise(Sc)}})()}static#l=this.\u0275fac=function(r){return new(r||t)};static#c=this.\u0275cmp=vr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"],[1,"mat-elevation-z5"],[3,"data","id","canCollapse","isCollapsed","collapseClick"],["style","display: flex;",4,"ngIf"],[2,"display","flex"],[2,"border-left",".25em var(--primary-color) solid"],[4,"ngIf"],[3,"data","canCollapse","collapseClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"data","canCollapse","collapseClick"]],template:function(r,i){1&r&&(Kn(0,"page-header")(1,"general-error",0),xn(2,kY,3,3,"div",1)),2&r&&(Kt(1),qt("errors",i.controller.errors()),Kt(1),qt("ngIf",i.controller.post_comments()))},dependencies:[KE,Zs,ss,El,Qi,DY,yY,HM],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0})}return t})();const FY=function(t,n){return{item:t,subreddit:n,hide_stickied:!0,show_comments:!0}};function LY(t,n){if(1&t&&Kn(0,"post",6),2&t){const e=n.$implicit,r=Nn().ngIf;qt("id",e.id)("data",ay(2,FY,e,r.subreddit))}}function BY(t,n){if(1&t){const e=Ai();an(0,"div",2),xn(1,LY,1,5,"post",3),an(2,"div",4)(3,"button",5),sr("click",function(){const o=un(e).ngIf;return hn(Nn().next_page(o.after,o.modhash))}),Or(4,"Next"),dn()()()}if(2&t){const e=n.ngIf,r=Nn();Kt(1),qt("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}let UY=(()=>{class t{#e;#t;#n;#r;#i;constructor(){var e=this;this.#e=Yt(Ds),this.#t=Yt(Fo),this.#n=Yt(ga),this.#r=Yt(Km),this.#i={a:"",m:"",so:"hot",su:""},this.controller=Yt(Lg),this.id="",So(this.#e.handle(iR).pipe(Jr(r=>this.#s())),this.#e.handle(UM).pipe(Jr(r=>this.#o(r))),this.#e.handle(Sh).pipe(Jr(r=>this.#a(r))),this.#e.handle(jM).pipe(Jr(r=>this.#l(r))),this.#n.paramMap.pipe(Jr(function(){var r=ui(function*(i){return yield e.#u(i)});return function(i){return r.apply(this,arguments)}}()))).pipe(ld()).subscribe()}trackByFn(e,r){return`${r.id}${r.subreddit_subscribed}`}#s(){this.#i.a="",this.#i.m="",this.#i.so="hot",this.#i.su="frontpage",this.#c()}#o(e){this.#i.a="",this.#i.m="",this.#i.so=e.sort_requested,this.#c()}#a(e){this.#i.a="",this.#i.m="",this.#i.su=e.subreddit_requested,this.#c()}#l(e){this.id=e.article,this.#r.save("post",e.article),this.#t.navigate(["comments",e.article])}#c(){let e=Object.trimUnusedProperties(this.#i);delete e.su,this.#t.navigate(["r",this.#i.su,e])}next_page(e,r){this.#i.a=e,this.#i.m=r,this.go_to_top(),setTimeout(()=>{this.#r.save(),this.#c()},0)}go_to_top(){window.scrollTo(0,0)}#u(e){var r=this;return ui(function*(){r.#e.raise(wc),r.#i={a:"",m:"",so:"hot",su:""},hd.fromParamMap(r.#i,e),yield r.controller.actions.listPostAsync(r.#i.a,r.#i.m,r.#i.so,r.#i.su),r.#r.restore(),r.#e.raise(Sc)})()}static#d=this.\u0275fac=function(r){return new(r||t)};static#f=this.\u0275cmp=vr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:3,vars:2,consts:[[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],[1,"mat-elevation-z5",3,"id","data"]],template:function(r,i){1&r&&(Kn(0,"page-header")(1,"general-error",0),xn(2,BY,5,2,"div",1)),2&r&&(Kt(1),qt("errors",i.controller.errors()),Kt(1),qt("ngIf",i.controller.posts()))},dependencies:[KE,Zs,Mg,ss,El,Qi,HM,Vq],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0})}return t})(),VY=(()=>{class t{#e='input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select';focusFirst(){window.setTimeout(()=>{const e=document.querySelectorAll(this.#e);0!==e.length&&e[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const e=Array.from(document.querySelectorAll(this.#e)).filter(r=>this.#t(r));0!==e.length&&e[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const e=Array.from(document.querySelectorAll(this.#e));if(0===e.length)return;let r=e.findIndex(i=>i===document.activeElement);for(r<0&&(r=0);r<e.length;){if(this.#t(e[r]))return void e[r].focus();r++}},50)}#t(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement?!e.disabled&&String.isNullOrWhitespace(e.value):"MAT-SELECT"===e.nodeName&&String.isNullOrWhitespace(e.innerText)}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jY=(()=>{class t{scrollIntoView(){window.setTimeout(()=>{let e=document.querySelector(".generalError");if(e)return void e.scrollIntoView({behavior:"smooth"});if(e=document.querySelector(".mat-form-field-invalid,.has-error"),!e)return;e.scrollIntoView({behavior:"smooth",block:"nearest"});const r=e.querySelector("input");if(r)return r.select(),void r.focus();const i=e.querySelector("select,mat-select");i&&i.focus()},50)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qM=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ua),_t(Ar))};static#t=this.\u0275dir=kn({type:t})}return t})(),Rc=(()=>{class t extends qM{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275dir=kn({type:t,features:[gr]})}return t})();const zs=new on("NgValueAccessor"),ZY={provide:zs,useExisting:wr(()=>Ug),multi:!0},GY=new on("CompositionEventMode");let Ug=(()=>{class t extends qM{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zY(){const t=bl()?bl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ua),_t(Ar),_t(GY,8))};static#t=this.\u0275dir=kn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&sr("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[Yr([ZY]),gr]})}return t})();function Fl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function $M(t){return null!=t&&"number"==typeof t.length}const Eo=new on("NgValidators"),Ll=new on("NgAsyncValidators"),qY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class YY{static min(n){return function WM(t){return n=>{if(Fl(n.value)||Fl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function KM(t){return n=>{if(Fl(n.value)||Fl(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return XM(n)}static requiredTrue(n){return function QM(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function JM(t){return Fl(t.value)||qY.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function e1(t){return n=>Fl(n.value)||!$M(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function t1(t){return n=>$M(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function n1(t){if(!t)return Vg;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Fl(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return c1(n)}static composeAsync(n){return u1(n)}}function XM(t){return Fl(t.value)?{required:!0}:null}function Vg(t){return null}function r1(t){return null!=t}function o1(t){return Ef(t)?Ci(t):t}function s1(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function a1(t,n){return n.map(e=>e(t))}function l1(t){return t.map(n=>function $Y(t){return!t.validate}(n)?n:e=>n.validate(e))}function c1(t){if(!t)return null;const n=t.filter(r1);return 0==n.length?null:function(e){return s1(a1(e,n))}}function QE(t){return null!=t?c1(l1(t)):null}function u1(t){if(!t)return null;const n=t.filter(r1);return 0==n.length?null:function(e){return Ux(a1(e,n).map(o1)).pipe(pe(s1))}}function JE(t){return null!=t?u1(l1(t)):null}function d1(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function f1(t){return t._rawValidators}function h1(t){return t._rawAsyncValidators}function e0(t){return t?Array.isArray(t)?t:[t]:[]}function jg(t,n){return Array.isArray(t)?t.includes(n):t===n}function p1(t,n){const e=e0(n);return e0(t).forEach(i=>{jg(e,i)||e.push(i)}),e}function m1(t,n){return e0(n).filter(e=>!jg(t,e))}class g1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=QE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=JE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Lo extends g1{get formDirective(){return null}get path(){return null}}class Ka extends g1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _1{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let t0=(()=>{class t extends _1{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ka,2))};static#t=this.\u0275dir=kn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ei("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[gr]})}return t})();const Ih="VALID",Zg="INVALID",pd="PENDING",Ah="DISABLED";function o0(t){return(zg(t)?t.validators:t)||null}function s0(t,n){return(zg(n)?n.asyncValidators:t)||null}function zg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class E1{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Ih}get invalid(){return this.status===Zg}get pending(){return this.status==pd}get disabled(){return this.status===Ah}get enabled(){return this.status!==Ah}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(p1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(p1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(m1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(m1(n,this._rawAsyncValidators))}hasValidator(n){return jg(this._rawValidators,n)}hasAsyncValidator(n){return jg(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=pd,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Ah,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Ih,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ih||this.status===pd)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ah:Ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=pd,this._hasOwnPendingAsyncValidator=!0;const e=o1(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new jr,this.statusChanges=new jr}_calculateStatus(){return this._allControlsDisabled()?Ah:this.errors?Zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pd)?pd:this._anyControlsHaveStatus(Zg)?Zg:Ih}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){zg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function JY(t){return Array.isArray(t)?QE(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function e$(t){return Array.isArray(t)?JE(t):t||null}(this._rawAsyncValidators)}}class a0 extends E1{constructor(n,e,r){super(o0(e),s0(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function b1(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new Gt(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function y1(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new Gt(1e3,"");if(!r[e])throw new Gt(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const md=new on("CallSetDisabledState",{providedIn:"root",factory:()=>Gg}),Gg="always";function Dh(t,n,e=Gg){l0(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function r$(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&T1(t,n)})}(t,n),function o$(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function i$(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&T1(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function n$(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Yg(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Wg(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $g(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function l0(t,n){const e=f1(t);null!==n.validator?t.setValidators(d1(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=h1(t);null!==n.asyncValidator?t.setAsyncValidators(d1(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();$g(n._rawValidators,i),$g(n._rawAsyncValidators,i)}function Wg(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=f1(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==n.validator);o.length!==i.length&&(e=!0,t.setValidators(o))}}if(null!==n.asyncValidator){const i=h1(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==n.asyncValidator);o.length!==i.length&&(e=!0,t.setAsyncValidators(o))}}}const r=()=>{};return $g(n._rawValidators,r),$g(n._rawAsyncValidators,r),e}function T1(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function w1(t,n){l0(t,n)}function S1(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const u$={provide:Lo,useExisting:wr(()=>Kg)},xh=(()=>Promise.resolve())();let Kg=(()=>{class t extends Lo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new jr,this.form=new a0({},QE(e),JE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){xh.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Dh(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){xh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){xh.then(()=>{const r=this._findContainer(e.path),i=new a0({});w1(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){xh.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){xh.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,S1(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Eo,10),_t(Ll,10),_t(md,8))};static#t=this.\u0275dir=kn({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&sr("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yr([u$]),gr]})}return t})();function C1(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function I1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const A1=class extends E1{constructor(n=null,e,r){super(o0(e),s0(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=I1(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){C1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){C1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){I1(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},h$={provide:Ka,useExisting:wr(()=>Xg)},R1=(()=>Promise.resolve())();let Xg=(()=>{class t extends Ka{constructor(e,r,i,o,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this.control=new A1,this._registered=!1,this.name="",this.update=new jr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function d0(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===Ug?e=o:function l$(t){return Object.getPrototypeOf(t.constructor)===Rc}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function u0(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){R1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&Wu(r);R1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function qg(t,n){return[...n.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Lo,9),_t(Eo,10),_t(Ll,10),_t(zs,10),_t(Oo,8),_t(md,8))};static#t=this.\u0275dir=kn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Yr([h$]),gr,K]})}return t})(),N1=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({})}return t})();const b$={provide:Lo,useExisting:wr(()=>Qg)};let Qg=(()=>{class t extends Lo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new jr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Dh(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Yg(e.control||null,e,!1),function c$(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,S1(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Yg(r||null,e),(t=>t instanceof A1)(i)&&(Dh(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);w1(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function s$(t,n){return Wg(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){l0(this.form,this),this._oldForm&&Wg(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Eo,10),_t(Ll,10),_t(md,8))};static#t=this.\u0275dir=kn({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&sr("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yr([b$]),gr,K]})}return t})(),Mc=(()=>{class t{constructor(){this._validator=Vg}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vg,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=kn({type:t,features:[K]})}return t})();const N$={provide:Eo,useExisting:wr(()=>Jg),multi:!0};let Jg=(()=>{class t extends Mc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Wu,this.createValidator=e=>XM}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275dir=kn({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ri("required",i._enabled?"":null)},inputs:{required:"required"},features:[Yr([N$]),gr]})}return t})(),B$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[N1]})}return t})(),K1=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:md,useValue:e.callSetDisabledState??Gg}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[B$]})}return t})(),V$=(()=>{class t{constructor(){this._listeners=[]}notify(e,r){for(let i of this._listeners)i(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const j$=["input"],H$=["*"];let X1=0;class Q1{constructor(n,e){this.source=n,this.value=e}}const Z$={provide:zs,useExisting:wr(()=>eN),multi:!0},J1=new on("MatRadioGroup"),z$=new on("mat-radio-default-options",{providedIn:"root",factory:function G$(){return{color:"accent"}}});let q$=(()=>{class t{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=oo(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=oo(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+X1++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new jr}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Q1(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Oo))};static#t=this.\u0275dir=kn({type:t,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}return t})();class Y${constructor(n){this._elementRef=n}}const $$=$b(M4(Y$));let W$=(()=>{class t extends $${get checked(){return this._checked}set checked(e){const r=oo(e);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(oo(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=oo(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,r,i,o,l,c,u,m){super(r),this._changeDetector=i,this._focusMonitor=o,this._radioDispatcher=l,this._providerOverride=u,this._uniqueId="mat-radio-"+ ++X1,this.id=this._uniqueId,this.change=new jr,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===c,m&&(this.tabIndex=yc(m,0))}focus(e,r){r?this._focusMonitor.focusVia(this._inputElement,r,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,r)=>{e!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Q1(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let r;if(r=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}static#e=this.\u0275fac=function(r){Vp()};static#t=this.\u0275dir=kn({type:t,viewQuery:function(r,i){if(1&r&&Mo(j$,5),2&r){let o;ii(o=oi())&&(i._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[gr]})}return t})(),eN=(()=>{class t extends q${static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=Wi(t)))(i||t)}}();static#t=this.\u0275dir=kn({type:t,selectors:[["mat-radio-group"]],contentQueries:function(r,i,o){if(1&r&&qo(o,tN,5),2&r){let l;ii(l=oi())&&(i._radios=l)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[Yr([Z$,{provide:J1,useExisting:t}]),gr]})}return t})(),tN=(()=>{class t extends W${constructor(e,r,i,o,l,c,u,m){super(e,r,i,o,l,c,u,m)}static#e=this.\u0275fac=function(r){return new(r||t)(_t(J1,8),_t(Ar),_t(Oo),_t(sh),_t(V$),_t(Ts,8),_t(z$,8),tc("tabindex"))};static#t=this.\u0275cmp=vr({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(r,i){1&r&&sr("focus",function(){return i._inputElement.nativeElement.focus()}),2&r&&(ri("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ei("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[gr],ngContentSelectors:H$,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,i){if(1&r&&(la(),an(0,"div",0,1)(2,"div",2)(3,"div",3),sr("click",function(l){return i._onTouchTargetClick(l)}),dn(),an(4,"input",4,5),sr("change",function(l){return i._onInputInteraction(l)}),dn(),an(6,"div",6),Kn(7,"div",7)(8,"div",8),dn(),an(9,"div",9),Kn(10,"div",10),dn()(),an(11,"label",11),Di(12),dn()()),2&r){const o=Bi(1);Ei("mdc-form-field--align-end","before"==i.labelPosition),Kt(2),Ei("mdc-radio--disabled",i.disabled),Kt(2),qt("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),ri("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),Kt(5),qt("matRippleTrigger",o)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),Kt(2),qt("for",i.inputId)}},dependencies:[Wb],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return t})(),K$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[eo,Ff,ch,eo]})}return t})();function X$(t){F(this.request)!=t&&this.update_state({request:t,search_result_reddit:null,search_result_reddit_names:null})}function Q$(t){F(this.search_kind)!=t&&this.update_state({search_kind:t})}function J$(){return g0.apply(this,arguments)}function g0(){return(g0=ui(function*(){const t=F(this.request);try{const n=yield e9.call(this,t);this.update_state({request:t,search_result_reddit:n})}catch(n){this.update_state({errors:n})}})).apply(this,arguments)}function e9(t){return _0.apply(this,arguments)}function _0(){return(_0=ui(function*(t){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${t} site:reddit.com -wiki`)}&num=60`,i=yield fetch(r);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;l.innerHTML=this.domSanitizer.sanitize(Li.HTML,o);const c=[],u=l.querySelectorAll('a[href*="reddit.com/r/"]');for(let m=0;m<u.length;m++){const x=u[m];if(!x.hasChildNodes()||!Array.from(x.childNodes).some(ar=>ar.textContent?.includes("reddit.com")))continue;const W=x.href.indexOf("reddit.com/r/")+13,ge=x.href.indexOf("?",W);let Re=x.href.slice(W,ge);if(Re.endsWith("/")&&(Re=Re.slice(0,-1)),null!=c.find(ar=>ar.url==Re))continue;const ct=x.href.indexOf("/",W),Ft=x.querySelector(".MBeuO")?.innerText||x.href.slice(W,ct),Qt=x.childNodes.length-1,xt=x.childNodes[Qt].textContent?.split(" : r/")[0]||"";let Sn=x.parentElement;if(0==m){for(;Sn&&!Sn.innerText.includes("Hi guys, has anyone had any experience with this");)Sn=Sn.parentElement;if(Sn){const ar=Sn.innerHTML;console.log(Sn.innerHTML),c.push({text:`<plaintext>${ar}</plaintext>`,display_name:Ft,url:Re})}else c.push({text:xt,display_name:Ft,url:Re});continue}for(;Sn&&!Sn.querySelector(".lhLbod");)Sn=Sn.parentElement;const Pn=Sn?.querySelector(".lhLbod")?.parentElement?.innerText;c.push({text:Pn||xt,display_name:Ft,url:Re})}return c})).apply(this,arguments)}function t9(){return v0.apply(this,arguments)}function v0(){return(v0=ui(function*(){const t=F(this.request);try{const e=(yield n9.call(this,t)).filter(r=>null!=r).map(r=>({accounts_active:0,display_name:r,public_description_html:"",subscribers:0,title:"",url:"",id:""}));this.update_state({request:t,search_result_reddit_names:e})}catch(n){this.update_state({errors:n})}})).apply(this,arguments)}function n9(t){return y0.apply(this,arguments)}function y0(){return(y0=ui(function*(t){const n=[r9.call(this,t),i9.call(this,t)],r=(yield Promise.allSettled(n)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(r)]})).apply(this,arguments)}function r9(t){return b0.apply(this,arguments)}function b0(){return(b0=ui(function*(t){const n=new URLSearchParams;n.set("query",t),n.set("exact","false"),n.set("include_over_18","true"),n.set("typeahead_active","false"),n.set("include_unadvertisable","true");const e=new URL("https://www.reddit.com/api/search_reddit_names.json");e.search=`${n}`;try{const r=yield fetch(e);return r.ok?(yield r.json()).names:null}catch{return null}})).apply(this,arguments)}function i9(t){return E0.apply(this,arguments)}function E0(){return(E0=ui(function*(t){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${t} site:reddit.com -comments -wiki`)}&num=60`,i=yield fetch(r);if(!i.ok){if(403===i.status&&"cors"===i.type)return void window.location.assign("https://cors-anywhere.herokuapp.com/corsdemo");throw new Error(i.statusText)}const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const u=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:u})}else l.innerHTML=this.domSanitizer.sanitize(Li.HTML,o);const c=[];return l.querySelectorAll('a[href*="reddit.com/r/"]').forEach(u=>{const m=u,x=m.href.indexOf("reddit.com/r/")+13,W=m.href.indexOf("&",x),ge=m.href.indexOf("/",x),Re=W>-1&&ge>-1?Math.min(W,ge):W>-1?W:ge,Ke=decodeURIComponent(m.href.slice(x,Re));Ke.includes("+")?Ke.split("+").forEach(ct=>!c.includes(ct)&&c.push(ct)):!c.includes(Ke)&&c.push(Ke)}),c})).apply(this,arguments)}function o9(){return w0.apply(this,arguments)}function w0(){return(w0=ui(function*(){const t=F(this.request);if(String.isNullOrWhitespace(t))return;const n=F(this.search_kind);"Reddit"!=n?"RedditNames"!=n||null==F(this.search_result_reddit_names)&&(yield t9.call(this)):null==F(this.search_result_reddit)&&(yield J$.call(this))})).apply(this,arguments)}let Rh=(()=>{class t{constructor(){this.domSanitizer=Yt(Vs),this.#e=new GE,this.#t=new qE,this.#n={errors:_s({}),request:_s(""),search_kind:_s("RedditNames"),search_result_reddit_names:_s(null),search_result_reddit:_s(null)},this.errors=ka(()=>Object.freeze(structuredClone(this.#n.errors()))),this.request=ka(()=>this.#n.request()),this.search_kind=ka(()=>this.#n.search_kind()),this.search_result_reddit_names=ka(()=>this.#n.search_result_reddit_names()),this.search_result_reddit=ka(()=>this.#n.search_result_reddit()),this.actions={updateSearchKind:Q$.bind(this),updateRequest:X$.bind(this),searchAsync:o9.bind(this)}}#e;#t;#n;update_state(e){void 0!==e.errors&&this.#n.errors.set(e.errors||{}),void 0!==e.request&&this.#n.request.set(e.request||""),void 0!==e.search_kind&&this.#n.search_kind.set(e.search_kind||"RedditNames"),void 0!==e.search_result_reddit&&this.#n.search_result_reddit.set(e.search_result_reddit),void 0!==e.search_result_reddit_names&&this.#n.search_result_reddit_names.set(e.search_result_reddit_names)}static#r=this.\u0275fac=function(r){return new(r||t)};static#i=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s9=(()=>{class t{constructor(){this.#e=Yt(Ds),this.store=Yt(Rh)}#e;onSearchKindChangeAsync(e){var r=this;return ui(function*(){r.#e.raise(wc),r.store.actions.updateSearchKind(e.value),yield r.store.actions.searchAsync(),r.#e.raise(Sc)})()}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=vr({type:t,selectors:[["page-header"]],standalone:!0,features:[Qr],decls:14,vars:2,consts:[[1,"toolbar"],[3,"ngModel","change"],["value","RedditNames"],["value","Reddit"],["type","button","mat-icon-button","","aria-label","menu",2,"margin-left","auto",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","trending_up","routerLink","/r/popular"]],template:function(r,i){if(1&r&&(an(0,"div",0),Or(1," Search "),an(2,"mat-radio-group",1),sr("change",function(l){return i.onSearchKindChangeAsync(l)}),an(3,"mat-radio-button",2),Or(4,"Reddit Names"),dn(),an(5,"mat-radio-button",3),Or(6,"Reddit"),dn()(),an(7,"button",4),Kn(8,"mat-icon",5),dn()(),an(9,"mat-menu",6,7),Kn(11,"mat-icon",8)(12,"mat-icon",9)(13,"mat-icon",10),dn()),2&r){const o=Bi(10);Kt(2),qt("ngModel",i.store.search_kind()),Kt(5),qt("matMenuTriggerFor",o)}},dependencies:[K1,t0,Xg,Zs,Ng,ss,xl,fd,HE,ZE,K$,eN,tN,Ga],changeDetection:0})}return t})();const nN=_c({passive:!0});let a9=(()=>{class t{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Jt;const r=Il(e),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new xe,l="cdk-text-field-autofilled",c=u=>{"cdk-text-field-autofill-start"!==u.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===u.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",c,nN),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",c,nN)}}),o}stopMonitoring(e){const r=Il(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}static#e=this.\u0275fac=function(r){return new(r||t)(Xt(Ji),Xt(or))};static#t=this.\u0275prov=bn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({})}return t})();const c9=new on("MAT_INPUT_VALUE_ACCESSOR"),u9=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let d9=0;const f9=N4(class{constructor(t,n,e,r){this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new xe}});let h9=(()=>{class t extends f9{get disabled(){return this._disabled}set disabled(e){this._disabled=oo(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(YY.required)??!1}set required(e){this._required=oo(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ux().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=oo(e)}constructor(e,r,i,o,l,c,u,m,x,W){super(c,o,l,i),this._elementRef=e,this._platform=r,this._autofillMonitor=m,this._formField=W,this._uid="mat-input-"+d9++,this.focused=!1,this.stateChanges=new xe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ke=>ux().has(Ke)),this._iOSKeyupListener=Ke=>{const ct=Ke.target;!ct.value&&0===ct.selectionStart&&0===ct.selectionEnd&&(ct.setSelectionRange(1,1),ct.setSelectionRange(0,0))};const ge=this._elementRef.nativeElement,Re=ge.nodeName.toLowerCase();this._inputValueAccessor=u||ge,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&x.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Re,this._isTextarea="textarea"===Re,this._isInFormField=!!W,this._isNativeSelect&&(this.controlType=ge.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){u9.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Ar),_t(Ji),_t(Ka,10),_t(Kg,8),_t(Qg,8),_t(xx),_t(c9,10),_t(a9),_t(or),_t(lM,8))};static#t=this.\u0275dir=kn({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,i){1&r&&sr("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&r&&(wf("id",i.id)("disabled",i.disabled)("required",i.required),ri("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Ei("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Yr([{provide:aM,useExisting:t}]),gr,K]})}return t})(),p9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({imports:[eo,kE,kE,l9,eo]})}return t})();const m9=["tooltip"],rN=new on("mat-tooltip-scroll-strategy"),v9={provide:rN,deps:[dd],useFactory:function _9(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},b9=new on("mat-tooltip-default-options",{providedIn:"root",factory:function y9(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),iN="tooltip-panel",oN=_c({passive:!0});let I9=(()=>{class t{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=oo(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=oo(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=yc(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=yc(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,i,o,l,c,u,m,x,W,ge,Re){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=l,this._platform=c,this._ariaDescriber=u,this._focusMonitor=m,this._dir=W,this._defaultOptions=ge,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new xe,this._scrollStrategy=x,this._document=Re,ge&&(this._showDelay=ge.showDelay,this._hideDelay=ge.hideDelay,ge.position&&(this.position=ge.position),ge.positionAtOrigin&&(this.positionAtOrigin=ge.positionAtOrigin),ge.touchGestures&&(this.touchGestures=ge.touchGestures)),W.change.pipe(Vi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Vi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,oN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new vM(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Vi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Ar)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(Vi(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${iN}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Vi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Vi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Vi(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Bb(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:o,y:l}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:l}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(ko(1),Vi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:o}=e;let l;if(l="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",l!==this._currentPosition){const c=this._overlayRef;if(c){const u=`${this._cssClassPrefix}-${iN}-`;c.removePanelClass(u+this._currentPosition),c.addPanelClass(u+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(r=e),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const r=e.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,oN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(r){Vp()};static#t=this.\u0275dir=kn({type:t,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return t})(),A9=(()=>{class t extends I9{constructor(e,r,i,o,l,c,u,m,x,W,ge,Re){super(e,r,i,o,l,c,u,m,x,W,ge,Re),this._tooltipComponent=x9,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const i=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=i?-8:8:"end"===e.originX&&(e.offsetX=i?8:-8),e}static#e=this.\u0275fac=function(r){return new(r||t)(_t(dd),_t(Ar),_t(TM),_t(is),_t(or),_t(Ji),_t(d4),_t(sh),_t(rN),_t(ig,8),_t(b9,8),_t(Cr))};static#t=this.\u0275dir=kn({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,i){2&r&&Ei("mat-mdc-tooltip-disabled",i.disabled)},exportAs:["matTooltip"],features:[gr]})}return t})(),D9=(()=>{class t{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new xe,this._animationsDisabled="NoopAnimations"===r}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(r);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Oo),_t(Ts,8))};static#t=this.\u0275dir=kn({type:t})}return t})(),x9=(()=>{class t extends D9{constructor(e,r,i){super(e,i),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(r){return new(r||t)(_t(Oo),_t(Ar),_t(Ts,8))};static#t=this.\u0275cmp=vr({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(r,i){if(1&r&&Mo(m9,7),2&r){let o;ii(o=oi())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,i){1&r&&sr("mouseleave",function(l){return i._handleMouseLeave(l)}),2&r&&Zu("zoom",i.isVisible()?1:null)},features:[gr],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(r,i){1&r&&(an(0,"div",0,1),sr("animationend",function(l){return i._handleAnimationEnd(l)}),an(2,"div",2),Or(3),dn()()),2&r&&(Ei("mdc-tooltip--multiline",i._isMultiline),qt("ngClass",i.tooltipClass),Kt(3),xo(i.message))},dependencies:[Xu],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return t})(),R9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Kr({type:t});static#n=this.\u0275inj=Pr({providers:[v9],imports:[S4,Ff,kM,eo,eo,kg]})}return t})();class M9{static debounce(n,e=300){let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>n(...o),e)}}}function N9(t,n){if(1&t){const e=Ai();an(0,"mat-icon",7),sr("click",function(){return un(e),hn(Nn().onClear())}),dn()}}function O9(t,n){if(1&t&&(an(0,"mat-hint",8),Or(1),dn()),2&t){const e=Nn();Kt(1),xo(e.hint)}}function P9(t,n){if(1&t&&(an(0,"mat-hint",9),Or(1),dn()),2&t){const e=Nn(),r=Bi(4);Kt(1),em("",r.value.length," / ",e._maxlength," ")}}function k9(t,n){if(1&t&&(an(0,"mat-error"),Or(1),dn()),2&t){const e=Nn();Kt(1),xo(e.errMsg)}}const F9=function(t){return{readonly:t}};let L9=(()=>{class t{set model(e){this._model=e??""}set maxlength(e){!isNaN(e)&&e>0&&(this._maxlength=e)}set style(e){this._style=this.sanitizer.bypassSecurityTrustStyle(e)}#e;constructor(e,r){this.sanitizer=e,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.updateOnInput=!1,this._model="",this._maxlength=256,this.inputName=r.getUniqueId().toString(),this.modelChange=new jr,this.errorStateMatcher=new xx,this.errorStateMatcher.isErrorState=()=>!this.disabled&&!this.readonly&&String.hasData(this.errMsg),this.#e=M9.debounce(()=>this.#t())}onClear(){this._model="",this.#t()}onChange(){!this.updateOnInput&&this.#t()}onInput(){this.updateOnInput&&this.#e()}#t(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}static#n=this.\u0275fac=function(r){return new(r||t)(_t(Vs),_t(zE))};static#r=this.\u0275cmp=vr({type:t,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",updateOnInput:"updateOnInput",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[Qr],decls:9,vars:17,consts:[[2,"width","100%",3,"ngClass"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","input"],["inp",""],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start",4,"ngIf"],["align","end",4,"ngIf"],[4,"ngIf"],["matIconSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click"],["align","start"],["align","end"]],template:function(r,i){1&r&&(an(0,"mat-form-field",0)(1,"mat-label"),Or(2),dn(),an(3,"input",1,2),sr("ngModelChange",function(l){return i._model=l})("change",function(){return i.onChange()})("input",function(){return i.onInput()}),dn(),xn(5,N9,1,0,"mat-icon",3),xn(6,O9,2,1,"mat-hint",4),xn(7,P9,2,2,"mat-hint",5),xn(8,k9,2,1,"mat-error",6),dn()),2&r&&(qt("ngClass",da(15,F9,i.readonly)),Kt(2),xo(i.label),Kt(1),qt("placeholder",i.placeholder)("readonly",i.readonly)("disabled",i.disabled)("required",i.required)("ngModel",i._model)("errorStateMatcher",i.errorStateMatcher),ri("name",i.inputName)("maxlength",i._maxlength)("style",i._style,XT),Kt(2),qt("ngIf",!i.readonly&&!i.disabled),Kt(1),qt("ngIf",!i.readonly&&!i.disabled),Kt(1),qt("ngIf",!i.readonly&&!i.disabled&&i._maxlength),Kt(1),qt("ngIf",!i.readonly&&!i.disabled))},dependencies:[K1,Ug,t0,Jg,Xg,ss,xl,kE,_6,OE,PE,c6,f6,p9,h9,R9,A9,Xu,Qi],encapsulation:2})}return t})(),B9=(()=>{class t{constructor(){this.#e=Yt(Ds),this.store=Yt(Rh)}#e;ngOnInit(){}onModelChange(e){var r=this;return ui(function*(){r.#e.raise(wc),r.store.actions.updateRequest(e),yield r.store.actions.searchAsync(),r.#e.raise(Sc)})()}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=vr({type:t,selectors:[["search-input"]],standalone:!0,features:[Qr],decls:3,vars:1,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10","top","50px"],[3,"model","modelChange"],["inp",""]],template:function(r,i){1&r&&(an(0,"div",0)(1,"input-text",1,2),sr("modelChange",function(l){return i.onModelChange(l)}),dn()()),2&r&&(Kt(1),qt("model",i.store.request()))},dependencies:[L9,Zs,ss,fd,Bg],changeDetection:0})}return t})(),U9=(()=>{class t{#e=Yt(ga);#t=Yt(Fo);on_click(e,r){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.#t.navigate(["/r"].concat(r.url.split("/")),{relativeTo:this.#e})}static#n=this.\u0275fac=function(r){return new(r||t)};static#r=this.\u0275cmp=vr({type:t,selectors:[["search-result-reddit"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:4,vars:3,consts:[[3,"href","click"],[3,"data"]],template:function(r,i){1&r&&(an(0,"header")(1,"a",0),sr("click",function(l){return i.on_click(l,i.data)}),Or(2),dn()(),Kn(3,"text-block",1)),2&r&&(Kt(1),qt("href","/r"+i.data.display_name,ic),Kt(1),xo(i.data.display_name),Kt(1),qt("data",i.data.text))},dependencies:[Zs,ss,Nb],changeDetection:0})}return t})(),V9=(()=>{class t{constructor(){this.#e=Yt(Ds),this.store=Yt(Rh)}#e;change_subreddit(e,r){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.#e.raise(new Sh(r))}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=vr({type:t,selectors:[["search-result-reddit-names"]],inputs:{data:"data"},standalone:!0,features:[Qr],decls:3,vars:2,consts:[[3,"href","click"]],template:function(r,i){1&r&&(an(0,"header")(1,"a",0),sr("click",function(l){return i.change_subreddit(l,i.data.display_name)}),Or(2),dn()()),2&r&&(Kt(1),qt("href","/r"+i.data.display_name,ic),Kt(1),xo(i.data.display_name))},dependencies:[Zs,ss],changeDetection:0})}return t})();function j9(t,n){if(1&t&&Kn(0,"search-result-reddit-names",4),2&t){const e=n.$implicit;qt("id",e.display_name)("data",e)}}function H9(t,n){if(1&t&&(an(0,"div",2),xn(1,j9,1,2,"search-result-reddit-names",3),dn()),2&t){const e=n.ngIf,r=Nn(2);Kt(1),qt("ngForOf",e)("ngForTrackBy",r.trackByFn)}}function Z9(t,n){if(1&t&&(sa(0),xn(1,H9,2,2,"div",1),aa()),2&t){const e=Nn();Kt(1),qt("ngIf",e.store.search_result_reddit_names())}}function z9(t,n){if(1&t&&Kn(0,"search-result-reddit",6),2&t){const e=n.$implicit;qt("id",e.display_name)("data",e)}}function G9(t,n){if(1&t&&(an(0,"div",2),xn(1,z9,1,2,"search-result-reddit",5),dn()),2&t){const e=n.ngIf,r=Nn(2);Kt(1),qt("ngForOf",e)("ngForTrackBy",r.trackByFn)}}function q9(t,n){if(1&t&&(sa(0),xn(1,G9,2,2,"div",1),aa()),2&t){const e=Nn();Kt(1),qt("ngIf",e.store.search_result_reddit())}}let Y9=(()=>{class t{constructor(){this.store=Yt(Rh)}trackByFn(e,r){return r.display_name}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=vr({type:t,selectors:[["search-result"]],standalone:!0,features:[Qr],decls:2,vars:2,consts:[[4,"ngIf"],["class","layout",4,"ngIf"],[1,"layout"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","data"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(r,i){1&r&&(xn(0,Z9,2,1,"ng-container",0),xn(1,q9,2,1,"ng-container",0)),2&r&&(qt("ngIf","RedditNames"===i.store.search_kind()),Kt(1),qt("ngIf","Reddit"===i.store.search_kind()))},dependencies:[El,Qi,U9,V9],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0})}return t})();class $9{constructor(){this.q="",this.k=0}}const W9=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:UY},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a",component:GM},{path:"comments/:a/:i",component:GM},{path:"s",component:(()=>{class t{#e;#t;#n;#r;#i;#s;#o;constructor(){this.#e=Yt(VY),this.#t=Yt(jY),this.#n=Yt(Ds),this.#r=!0,this.#i=Yt(ga),this.#s=Yt(Fo),this.#o=Yt(Km),this.pageState=new $9,this.store=Yt(Rh),Zp(()=>{const e=this.store.errors();Object.keys(e).length>0&&this.#t.scrollIntoView()}),Zp(()=>{const e=this.store.request(),r=this.store.search_kind();this.#r?this.#r=!1:(this.#c(e,r),this.#u())}),So(this.#n.handle(Sh).pipe(Jr(e=>this.#a(e)))).pipe(ld()).subscribe()}ngOnInit(){var e=this;return ui(function*(){e.#n.raise(wc),hd.adapt(e.pageState,e.#i.snapshot.queryParams),e.#l(),yield e.store.actions.searchAsync(),e.#o.restore(),e.#e.focusFirst(),e.#n.raise(Sc)})()}#a(e){this.#o.save(),this.#s.navigate(["r",e.subreddit_requested])}#l(){this.store.actions.updateRequest(this.pageState.q),this.store.actions.updateSearchKind(1==this.pageState.k?"Reddit":"RedditNames")}#c(e,r){this.pageState.k="Reddit"===r?1:0,this.pageState.q=e}#u(){const e=Object.trimUnusedProperties(Object.assign({},this.pageState));this.#s.navigate([],{queryParams:e,replaceUrl:!0})}static#d=this.\u0275fac=function(r){return new(r||t)};static#f=this.\u0275cmp=vr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qr],decls:4,vars:1,consts:[[3,"errors"]],template:function(r,i){1&r&&Kn(0,"page-header")(1,"general-error",0)(2,"search-input")(3,"search-result"),2&r&&(Kt(1),qt("errors",i.store.errors()))},dependencies:[KE,Zs,B9,s9,Y9],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0})}return t})()}];(function Hj(t,n){return tU({rootComponent:t,...WA(n)})})(M8,{providers:[[{provide:kI,useFactory:function RG(t,n){return ui(function*(){const r=[{name:"arrow_downward",url:"assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"arrow_upward",url:"assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg"},{name:"clear",url:"assets/cancel_FILL0_wght400_GRAD0_opsz24.svg"},{name:"comment",url:"assets/comment_FILL0_wght400_GRAD0_opsz24.svg"},{name:"expand_less",url:"assets/expand_less_FILL0_wght400_GRAD0_opsz24.svg"},{name:"expand_more",url:"assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg"},{name:"favorite_filled",url:"assets/favorite_FILL1_wght400_GRAD0_opsz24.svg"},{name:"favorite",url:"assets/favorite_FILL0_wght400_GRAD0_opsz24.svg"},{name:"groups",url:"assets/groups_FILL0_wght400_GRAD0_opsz24.svg"},{name:"home",url:"assets/home_FILL0_wght400_GRAD0_opsz24.svg"},{name:"more_vert",url:"assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg"},{name:"pause",url:"assets/pause_FILL0_wght400_GRAD0_opsz24.svg"},{name:"person",url:"assets/person_FILL0_wght400_GRAD0_opsz24.svg"},{name:"photo_library",url:"assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg"},{name:"play_arrow",url:"assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg"},{name:"push_pin",url:"assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg"},{name:"search",url:"assets/search_FILL0_wght400_GRAD0_opsz24.svg"},{name:"share",url:"assets/share_FILL0_wght400_GRAD0_opsz24.svg"},{name:"trending_up",url:"assets/trending_up_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_mute",url:"assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg"},{name:"volume_off",url:"assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"}].map(i=>function MG(t){return NE.apply(this,arguments)}(i.url).then(o=>t.addSvgIconLiteral(i.name,n.bypassSecurityTrustHtml(o))));yield Promise.allSettled(r)})},multi:!0,deps:[hh,Vs]}],[{provide:oE,useValue:{keyPrefix:"RedditReader"}}],[{provide:cM,useValue:{subscriptSizing:"dynamic"}},{provide:E6,useValue:{duration:3e3}}],function xG(){return[...AG]}(),function yZ(t,...n){return ov([{provide:$m,multi:!0,useValue:t},[],{provide:ga,useFactory:rx,deps:[Fo]},{provide:Ay,multi:!0,useFactory:ix},n.map(e=>e.\u0275providers)])}(W9)]}).catch(t=>console.error(t))},584:Xa=>{self,Xa.exports=function(){var Qa={4593:function(Et,ze){var H,ve,N,f,d,v={};H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ve=function(S){for(var D=0,h=[],y=0|S.length/3;0<y--;){var T=(S[D]<<16)+(S[D+1]<<8)+S[D+2];D+=3,h.push(H.charAt(63&T>>18)),h.push(H.charAt(63&T>>12)),h.push(H.charAt(63&T>>6)),h.push(H.charAt(63&T))}return S.length-D==2?(h.push(H.charAt(63&(T=(S[D]<<16)+(S[D+1]<<8))>>18)),h.push(H.charAt(63&T>>12)),h.push(H.charAt(63&T>>6)),h.push("=")):S.length-D==1&&(h.push(H.charAt(63&(T=S[D]<<16)>>18)),h.push(H.charAt(63&T>>12)),h.push("==")),h.join("")},N=function(){for(var S=[],D=0;D<64;++D)S[H.charCodeAt(D)]=D;return S["=".charCodeAt(0)]=0,S}(),f=function(S){for(var D=0,h=[],y=0|S.length/4;0<y--;){var T=(N[S.charCodeAt(D)]<<18)+(N[S.charCodeAt(D+1)]<<12)+(N[S.charCodeAt(D+2)]<<6)+N[S.charCodeAt(D+3)];h.push(255&T>>16),h.push(255&T>>8),h.push(255&T),D+=4}return h&&("="==S.charAt(D-2)?(h.pop(),h.pop()):"="==S.charAt(D-1)&&h.pop()),h},d={encode:function(S){for(var D=[],h=0;h<S.length;++h)D.push(S.charCodeAt(h));return D},decode:function(S){for(var D=0;D<s.length;++D)a[D]=String.fromCharCode(a[D]);return a.join("")}},v.decodeArray=function(S){var D=f(S);return new Uint8Array(D)},v.encodeASCII=function(S){var D=d.encode(S);return ve(D)},v.decodeASCII=function(S){var D=f(S);return d.decode(D)},v.encode=function(S){var D=function(S){for(var D=[],h=0;h<S.length;++h){var y=S.charCodeAt(h);y<128?D.push(y):y<2048?(D.push(192|y>>6),D.push(128|63&y)):y<65536?(D.push(224|y>>12),D.push(128|63&y>>6),D.push(128|63&y)):(D.push(240|y>>18),D.push(128|63&y>>12),D.push(128|63&y>>6),D.push(128|63&y))}return D}(S);return ve(D)},v.decode=function(S){return function(S){for(var D=[],h=0;h<S.length;){var y=S[h++];y<128||(y<224?(y=(31&y)<<6,y|=63&S[h++]):y<240?(y=(15&y)<<12,y|=(63&S[h++])<<6,y|=63&S[h++]):(y=(7&y)<<18,y|=(63&S[h++])<<12,y|=(63&S[h++])<<6,y|=63&S[h++])),D.push(String.fromCharCode(y))}return D.join("")}(f(S))},ze.decode=v.decode,ze.decodeArray=v.decodeArray,ze.encode=v.encode,ze.encodeASCII=v.encodeASCII},452:function(Et,ze){!function(H){"use strict";var ve={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},N=function(Z){var k=Z;return ve.hasOwnProperty(Z)&&(k=ve[Z]),String.fromCharCode(k)},f=15,d=32,I={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},A={17:2,18:4,21:6,22:8,23:10,19:13,20:15},v={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},S={25:2,26:4,29:6,30:8,31:10,27:13,28:15},D=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],h={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(Z){this.time=Z},log:function(Z,k){this.verboseLevel>=this.verboseFilter[Z]&&console.log(this.time+" ["+Z+"] "+k)}},y=function(Z){for(var k=[],X=0;X<Z.length;X++)k.push(Z[X].toString(16));return k},T=function(Z,k,X,ue,de){this.foreground=Z||"white",this.underline=k||!1,this.italics=X||!1,this.background=ue||"black",this.flash=de||!1};T.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(Z){for(var k=["foreground","underline","italics","background","flash"],X=0;X<k.length;X++){var ue=k[X];Z.hasOwnProperty(ue)&&(this[ue]=Z[ue])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(Z){return this.foreground===Z.foreground&&this.underline===Z.underline&&this.italics===Z.italics&&this.background===Z.background&&this.flash===Z.flash},copy:function(Z){this.foreground=Z.foreground,this.underline=Z.underline,this.italics=Z.italics,this.background=Z.background,this.flash=Z.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var j=function(Z,k,X,ue,de,Pe){this.uchar=Z||" ",this.penState=new T(k,X,ue,de,Pe)};j.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(Z,k){this.uchar=Z,this.penState.copy(k)},setPenState:function(Z){this.penState.copy(Z)},equals:function(Z){return this.uchar===Z.uchar&&this.penState.equals(Z.penState)},copy:function(Z){this.uchar=Z.uchar,this.penState.copy(Z.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var Q=function(){this.chars=[];for(var Z=0;Z<d;Z++)this.chars.push(new j);this.pos=0,this.currPenState=new T};Q.prototype={equals:function(Z){for(var k=!0,X=0;X<d;X++)if(!this.chars[X].equals(Z.chars[X])){k=!1;break}return k},copy:function(Z){for(var k=0;k<d;k++)this.chars[k].copy(Z.chars[k])},isEmpty:function(){for(var Z=!0,k=0;k<d;k++)if(!this.chars[k].isEmpty()){Z=!1;break}return Z},setCursor:function(Z){this.pos!==Z&&(this.pos=Z),this.pos<0?(h.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>d&&(h.log("ERROR","Too large cursor position "+this.pos),this.pos=d)},moveCursor:function(Z){var k=this.pos+Z;if(Z>1)for(var X=this.pos+1;X<k+1;X++)this.chars[X].setPenState(this.currPenState);this.setCursor(k)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(Z){Z>=144&&this.backSpace();var k=N(Z);this.pos>=d?h.log("ERROR","Cannot insert "+Z.toString(16)+" ("+k+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(k,this.currPenState),this.moveCursor(1))},clearFromPos:function(Z){var k;for(k=Z;k<d;k++)this.chars[k].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var Z=[],k=!0,X=0;X<d;X++){var ue=this.chars[X].uchar;" "!==ue&&(k=!1),Z.push(ue)}return k?"":Z.join("")},setPenStyles:function(Z){this.currPenState.setStyles(Z),this.chars[this.pos].setPenState(this.currPenState)}};var Y=function(){this.rows=[];for(var Z=0;Z<f;Z++)this.rows.push(new Q);this.currRow=14,this.nrRollUpRows=null,this.reset()};Y.prototype={reset:function(){for(var Z=0;Z<f;Z++)this.rows[Z].clear();this.currRow=14},equals:function(Z){for(var k=!0,X=0;X<f;X++)if(!this.rows[X].equals(Z.rows[X])){k=!1;break}return k},copy:function(Z){for(var k=0;k<f;k++)this.rows[k].copy(Z.rows[k])},isEmpty:function(){for(var Z=!0,k=0;k<f;k++)if(!this.rows[k].isEmpty()){Z=!1;break}return Z},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(Z){this.rows[this.currRow].insertChar(Z)},setPen:function(Z){this.rows[this.currRow].setPenStyles(Z)},moveCursor:function(Z){this.rows[this.currRow].moveCursor(Z)},setCursor:function(Z){h.log("INFO","setCursor: "+Z),this.rows[this.currRow].setCursor(Z)},setPAC:function(Z){h.log("INFO","pacData = "+JSON.stringify(Z));var k=Z.row-1;this.nrRollUpRows&&k<this.nrRollUpRows-1&&(k=this.nrRollUpRows-1),this.currRow=k;var X=this.rows[this.currRow];if(null!==Z.indent){var de=Math.max(Z.indent-1,0);X.setCursor(Z.indent),Z.color=X.chars[de].penState.foreground}this.setPen({foreground:Z.color,underline:Z.underline,italics:Z.italics,background:"black",flash:!1})},setBkgData:function(Z){h.log("INFO","bkgData = "+JSON.stringify(Z)),this.backSpace(),this.setPen(Z),this.insertChar(32)},setRollUpRows:function(Z){this.nrRollUpRows=Z},rollUp:function(){if(null!==this.nrRollUpRows){h.log("TEXT",this.getDisplayText());var k=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];k.clear(),this.rows.splice(this.currRow,0,k),h.log("INFO","Rolling up")}else h.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(Z){Z=Z||!1;for(var k=[],X="",de=0;de<f;de++){var Pe=this.rows[de].getTextString();Pe&&k.push(Z?"Row "+(de+1)+': "'+Pe+'"':Pe.trim())}return k.length>0&&(X=Z?"["+k.join(" | ")+"]":k.join("\n")),X},getTextAndFormat:function(){return this.rows}};var $=function(Z,k){this.chNr=Z,this.outputFilter=k,this.mode=null,this.verbose=0,this.displayedMemory=new Y,this.nonDisplayedMemory=new Y,this.lastOutputScreen=new Y,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};$.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(Z){this.outputFilter=Z},setPAC:function(Z){this.writeScreen.setPAC(Z)},setBkgData:function(Z){this.writeScreen.setBkgData(Z)},setMode:function(Z){Z!==this.mode&&(this.mode=Z,h.log("INFO","MODE="+Z),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=Z)},insertChars:function(Z){for(var k=0;k<Z.length;k++)this.writeScreen.insertChar(Z[k]);h.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(h.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){h.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){h.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){h.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(Z){h.log("INFO","RU("+Z+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(Z)},cc_FON:function(){h.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){h.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){h.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){h.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){h.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){h.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){h.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(h.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var Z=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=Z,this.writeScreen=this.nonDisplayedMemory,h.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(Z){h.log("INFO","TO("+Z+") - Tab Offset"),this.writeScreen.moveCursor(Z)},cc_MIDROW:function(Z){var k={flash:!1};if(k.underline=Z%2==1,k.italics=Z>=46,k.italics)k.foreground="white";else{var X=Math.floor(Z/2)-16;k.foreground=["white","green","blue","cyan","red","yellow","magenta"][X]}h.log("INFO","MIDROW: "+JSON.stringify(k)),this.writeScreen.setPen(k)},outputDataUpdate:function(){var Z=h.time;null!==Z&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(Z,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,Z,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:Z):this.cueStartTime=Z,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(Z){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,Z,this.displayedMemory),this.cueStartTime=Z))}};var fe=function(Z,k,X){this.field=Z||1,this.outputs=[k,X],this.channels=[new $(1,k),new $(2,X)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};fe.prototype={getHandler:function(Z){return this.channels[Z].getHandler()},setHandler:function(Z,k){this.channels[Z].setHandler(k)},addData:function(Z,k){var X,ue,de,Pe=!1;this.lastTime=Z,h.setTime(Z);for(var gt=0;gt<k.length;gt+=2)de=127&k[gt+1],(ue=127&k[gt])>=16&&ue<=31&&ue===this.lastCmdA&&de===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,h.log("DEBUG","Repeated command ("+y([ue,de])+") is dropped")):0!==ue||0!==de?(h.log("DATA","["+y([k[gt],k[gt+1]])+"] -> ("+y([ue,de])+")"),(X=this.parseCmd(ue,de))||(X=this.parseMidrow(ue,de)),X||(X=this.parsePAC(ue,de)),X||(X=this.parseBackgroundAttributes(ue,de)),X||(Pe=this.parseChars(ue,de))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Pe):h.log("WARNING","No channel found yet. TEXT-MODE?")),X?this.dataCounters.cmd+=2:Pe?this.dataCounters.char+=2:(this.dataCounters.other+=2,h.log("WARNING","Couldn't parse cleaned data "+y([ue,de])+" orig: "+y([k[gt],k[gt+1]])))):this.dataCounters.padding+=2},parseCmd:function(Z,k){var X;if(!((20===Z||21===Z||28===Z||29===Z)&&32<=k&&k<=47||(23===Z||31===Z)&&33<=k&&k<=35))return!1;var ue=this.channels[(X=20===Z||21===Z||23===Z?1:2)-1];return 20===Z||21===Z||28===Z||29===Z?32===k?ue.cc_RCL():33===k?ue.cc_BS():34===k?ue.cc_AOF():35===k?ue.cc_AON():36===k?ue.cc_DER():37===k?ue.cc_RU(2):38===k?ue.cc_RU(3):39===k?ue.cc_RU(4):40===k?ue.cc_FON():41===k?ue.cc_RDC():42===k?ue.cc_TR():43===k?ue.cc_RTD():44===k?ue.cc_EDM():45===k?ue.cc_CR():46===k?ue.cc_ENM():47===k&&ue.cc_EOC():ue.cc_TO(k-32),this.lastCmdA=Z,this.lastCmdB=k,this.currChNr=X,!0},parseMidrow:function(Z,k){var X=null;if((17===Z||25===Z)&&32<=k&&k<=47){if((X=17===Z?1:2)!==this.currChNr)return h.log("ERROR","Mismatch channel in midrow parsing"),!1;var ue=this.channels[X-1];return ue.insertChars([32]),ue.cc_MIDROW(k),h.log("DEBUG","MIDROW ("+y([Z,k])+")"),this.lastCmdA=Z,this.lastCmdB=k,!0}return!1},parsePAC:function(Z,k){var X;if(!((17<=Z&&Z<=23||25<=Z&&Z<=31)&&64<=k&&k<=127||(16===Z||24===Z)&&64<=k&&k<=95))return!1;X=Z<=23?1:2;var de=this.interpretPAC(64<=k&&k<=95?1===X?I[Z]:v[Z]:1===X?A[Z]:S[Z],k);return this.channels[X-1].setPAC(de),this.lastCmdA=Z,this.lastCmdB=k,this.currChNr=X,!0},interpretPAC:function(Z,k){var X,ue={color:null,italics:!1,indent:null,underline:!1,row:Z};return ue.underline=1==(1&(X=k>95?k-96:k-64)),X<=13?ue.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(X/2)]:X<=15?(ue.italics=!0,ue.color="white"):ue.indent=4*Math.floor((X-16)/2),ue},parseChars:function(Z,k){var Pe,X=null,ue=null,de=null;if(Z>=25?(X=2,de=Z-8):(X=1,de=Z),17<=de&&de<=19?(h.log("INFO","Special char '"+N(Pe=17===de?k+80:18===de?k+112:k+144)+"' in channel "+X),ue=[Pe],this.lastCmdA=Z,this.lastCmdB=k):32<=Z&&Z<=127&&(ue=0===k?[Z]:[Z,k],this.lastCmdA=null,this.lastCmdB=null),ue){var gt=y(ue);h.log("DEBUG","Char codes =  "+gt.join(","))}return ue},parseBackgroundAttributes:function(Z,k){var X,ue;return((16===Z||24===Z)&&32<=k&&k<=47||(23===Z||31===Z)&&45<=k&&k<=47)&&(X={},16===Z||24===Z?(ue=Math.floor((k-32)/2),X.background=D[ue],k%2==1&&(X.background=X.background+"_semi")):45===k?X.background="transparent":(X.foreground="black",47===k&&(X.underline=!0)),this.channels[(Z<24?1:2)-1].setBkgData(X),this.lastCmdA=Z,this.lastCmdB=k,!0)},reset:function(){for(var Z=0;Z<this.channels.length;Z++)this.channels[Z]&&this.channels[Z].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(Z){for(var k=0;k<this.channels.length;k++)this.channels[k]&&this.channels[k].cueSplitAtTime(Z)}},H.logger=h,H.PenState=T,H.CaptionScreen=Y,H.Cea608Parser=fe,H.findCea608Nalus=function(Z,k,X){for(var ue=0,de=k,Pe=[],gt=function(ke,ot,Qe,Rt){if(4!==ke||ot<8)return null;var xe=Qe.getUint8(Rt),et=Qe.getUint16(Rt+1),jt=Qe.getUint32(Rt+3),Ct=Qe.getUint8(Rt+7);return 181==xe&&49==et&&1195456820==jt&&3==Ct};de<k+X;){if(ue=Z.getUint32(de),6==(31&Z.getUint8(de+4)))for(var _e=de+5,Ge=-1;_e<de+4+ue-1;){Ge=0;for(var ut=255;255===ut;)Ge+=ut=Z.getUint8(_e),_e++;var Ve=0;for(ut=255;255===ut;)Ve+=ut=Z.getUint8(_e),_e++;gt(Ge,Ve,Z,_e)&&Pe.push([_e,Ve]),_e+=Ve}de+=ue+4}return Pe},H.extractCea608DataFromRange=function(Z,k){var X=k[0],ue=[[],[]],de=31&Z.getUint8(X+=8);X+=2;for(var Pe=0;Pe<de;Pe++){var gt=Z.getUint8(X),_e=4&gt,Ge=3&gt;X++;var ut=Z.getUint8(X);X++;var Ve=Z.getUint8(X);X++,_e&&(127&ut)+(127&Ve)!=0&&(0===Ge?(ue[0].push(ut),ue[0].push(Ve)):1===Ge&&(ue[1].push(ut),ue[1].push(Ve)))}return ue}}(ze)},8416:function(Et,ze,H){"use strict";var ve=H(7688),N=H(5448),f=H(6398),d=H(2032),I=(H(5530),typeof window<"u"&&window||H.g),A=I.dashjs;A||(A=I.dashjs={}),A.MediaPlayer=ve.Z,A.FactoryMaker=N.Z,A.Debug=f.Z,A.Version=(0,d.e)()},6398:function(Et,ze,H){"use strict";var ve=H(5595),N=H(8512),f=H(5448),d=1,I=2,A=3,v=4,S=5;function D(y){y=y||{};var T,j,Q,Y,fe=(0,ve.Z)(this.context).getInstance(),Z=y.settings,k=[];function X(ut){return ut&&ut.bind?ut.bind(window.console):window.console.log.bind(window.console)}function ue(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[d,this].concat(Ve))}function de(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[I,this].concat(Ve))}function Pe(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[A,this].concat(Ve))}function gt(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[v,this].concat(Ve))}function _e(){for(var ut=arguments.length,Ve=new Array(ut),ke=0;ke<ut;ke++)Ve[ke]=arguments[ke];Ge.apply(void 0,[S,this].concat(Ve))}function Ge(ut,Ve){var ke="",ot=null;j&&(ot=(new Date).getTime(),ke+="["+(ot-Y)+"]"),Q&&Ve&&Ve.getClassName&&(ke+="["+Ve.getClassName()+"]",Ve.getType&&(ke+="["+Ve.getType()+"]")),ke.length>0&&(ke+=" ");for(var Qe=arguments.length,Rt=new Array(Qe>2?Qe-2:0),xe=2;xe<Qe;xe++)Rt[xe-2]=arguments[xe];Array.apply(null,Rt).forEach(function(et){ke+=et+" "}),k[ut]&&Z&&Z.get().debug.logLevel>=ut&&k[ut](ke),Z&&Z.get().debug.dispatchEvent&&fe.trigger(N.Z.LOG,{message:ke,level:ut})}return T={getLogger:function(ut){return{fatal:ue.bind(ut),error:de.bind(ut),warn:Pe.bind(ut),info:gt.bind(ut),debug:_e.bind(ut)}},setLogTimestampVisible:function(ut){j=ut},setCalleeNameVisible:function(ut){Q=ut}},j=!0,Q=!0,Y=(new Date).getTime(),typeof window<"u"&&window.console&&(k[d]=X(window.console.error),k[I]=X(window.console.error),k[A]=X(window.console.warn),k[v]=X(window.console.info),k[S]=X(window.console.debug)),T}D.__dashjs_factory_name="Debug";var h=f.Z.getSingletonFactory(D);h.LOG_LEVEL_NONE=0,h.LOG_LEVEL_FATAL=d,h.LOG_LEVEL_ERROR=I,h.LOG_LEVEL_WARNING=A,h.LOG_LEVEL_INFO=v,h.LOG_LEVEL_DEBUG=S,f.Z.updateSingletonFactory(D.__dashjs_factory_name,h),ze.Z=h},5595:function(Et,ze,H){"use strict";var ve=H(5448),N=H(8825);function f(){var I={};function A(S,D,h){var y=-1;return I[S]&&I[S].some(function(T,j){if(T&&T.callback===D&&(!h||h===T.scope))return y=j,!0}),y}var v={on:function(S,D,h){var y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!S)throw new Error("event type cannot be null or undefined");if(!D||"function"!=typeof D)throw new Error("listener must be a function: "+D);var T=y.priority||0;if(!(A(S,D,h)>=0)){I[S]=I[S]||[];var j={callback:D,scope:h,priority:T};h&&h.getStreamId&&(j.streamId=h.getStreamId()),h&&h.getType&&(j.mediaType=h.getType()),y&&y.mode&&(j.mode=y.mode),I[S].some(function(Y,$){if(Y&&T>Y.priority)return I[S].splice($,0,j),!0})||I[S].push(j)}},off:function(S,D,h){if(S&&D&&I[S]){var y=A(S,D,h);y<0||(I[S][y]=null)}},trigger:function(S){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(S&&I[S]){if((D=D||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");D.type=S,h.streamId&&(D.streamId=h.streamId),h.mediaType&&(D.mediaType=h.mediaType),I[S].filter(function(y){return!(!y||h.streamId&&y.streamId&&y.streamId!==h.streamId||h.mediaType&&y.mediaType&&y.mediaType!==h.mediaType||h.mode&&y.mode&&y.mode!==h.mode||!y.mode&&h.mode&&h.mode===N.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(y){return y&&y.callback.call(y.scope,D)})}},reset:function(){I={}}};return v}f.__dashjs_factory_name="EventBus";var d=ve.Z.getSingletonFactory(f);d.EVENT_PRIORITY_LOW=0,d.EVENT_PRIORITY_HIGH=5e3,ve.Z.updateSingletonFactory(f.__dashjs_factory_name,d),ze.Z=d},5448:function(Et,ze){"use strict";var H=function(){var ve,N=[],f={},d={};function I(D,h){for(var y in N){var T=N[y];if(T.context===D&&T.name===h)return T.instance}return null}function A(D,h){return h[D]}function v(D,h,y){D in y&&(y[D]=h)}function S(D,h,y){var T,j=D.__dashjs_factory_name,Q=h[j];if(Q){var Y=Q.instance;if(!Q.override)return Y.apply({context:h,factory:ve},y);for(var $ in T=D.apply({context:h},y),Y=Y.apply({context:h,factory:ve,parent:T},y))T.hasOwnProperty($)&&(T[$]=Y[$])}else T=D.apply({context:h},y);return T.getClassName=function(){return j},T}return ve={extend:function(D,h,y,T){!T[D]&&h&&(T[D]={instance:h,override:y})},getSingletonInstance:I,setSingletonInstance:function(D,h,y){for(var T in N){var j=N[T];if(j.context===D&&j.name===h)return void(N[T].instance=y)}N.push({name:h,context:D,instance:y})},deleteSingletonInstances:function(D){N=N.filter(function(h){return h.context!==D})},getSingletonFactory:function(D){var h=A(D.__dashjs_factory_name,f);return h||(h=function(y){var T;return void 0===y&&(y={}),{getInstance:function(){return T||(T=I(y,D.__dashjs_factory_name)),T||(T=S(D,y,arguments),N.push({name:D.__dashjs_factory_name,context:y,instance:T})),T}}},f[D.__dashjs_factory_name]=h),h},getSingletonFactoryByName:function(D){return A(D,f)},updateSingletonFactory:function(D,h){v(D,h,f)},getClassFactory:function(D){var h=A(D.__dashjs_factory_name,d);return h||(h=function(y){return void 0===y&&(y={}),{create:function(){return S(D,y,arguments)}}},d[D.__dashjs_factory_name]=h),h},getClassFactoryByName:function(D){return A(D,d)},updateClassFactory:function(D,h){v(D,h,d)}},ve}();ze.Z=H},1264:function(Et,ze,H){"use strict";var ve=H(5448),N=H(703),f=H(6398),d=H(3393),I=H(7855),A=H(5595),v=H(8512);function S(T){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(T)}function D(T,j,Q){return j in T?Object.defineProperty(T,j,{value:Q,enumerable:!0,configurable:!0,writable:!0}):T[j]=Q,T}function h(){var T,j,Y=(0,A.Z)(this.context).getInstance(),$={"streaming.delay.liveDelay":v.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":v.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":v.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":v.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":v.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},fe={debug:{logLevel:f.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:d.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:d.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:d.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:d.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(T={},D(T,I.w.MPD_TYPE,500),D(T,I.w.XLINK_EXPANSION_TYPE,500),D(T,I.w.MEDIA_SEGMENT_TYPE,1e3),D(T,I.w.INIT_SEGMENT_TYPE,1e3),D(T,I.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),D(T,I.w.INDEX_SEGMENT_TYPE,1e3),D(T,I.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),D(T,I.w.LICENSE,1e3),D(T,I.w.OTHER_TYPE,1e3),D(T,"lowLatencyReductionFactor",10),T),retryAttempts:(j={},D(j,I.w.MPD_TYPE,3),D(j,I.w.XLINK_EXPANSION_TYPE,1),D(j,I.w.MEDIA_SEGMENT_TYPE,3),D(j,I.w.INIT_SEGMENT_TYPE,3),D(j,I.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),D(j,I.w.INDEX_SEGMENT_TYPE,3),D(j,I.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),D(j,I.w.LICENSE,3),D(j,I.w.OTHER_TYPE,3),D(j,"lowLatencyMultiplyFactor",5),j),abr:{movingAverageMethod:d.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:d.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:d.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:d.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},Z=N.Z.clone(fe);function k(X,ue,de){for(var Pe in X)X.hasOwnProperty(Pe)&&(ue.hasOwnProperty(Pe)?"object"!==S(X[Pe])||X[Pe]instanceof Array||null===X[Pe]?(ue[Pe]=N.Z.clone(X[Pe]),$[de+Pe]&&Y.trigger($[de+Pe])):k(X[Pe],ue[Pe],de.slice()+Pe+"."):console.error("Settings parameter "+de+Pe+" is not supported"))}return{get:function(){return Z},update:function(X){"object"===S(X)&&k(X,Z,"")},reset:function(){Z=N.Z.clone(fe)}}}h.__dashjs_factory_name="Settings";var y=ve.Z.getSingletonFactory(h);ze.Z=y},703:function(Et,ze,H){"use strict";var ve=H(3875),N=H.n(ve),f=H(1067);function d(v){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(v)}var A=function(){function v(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,v)}var D;return D=[{key:"mixin",value:function(h,y,T){var j,Q={};if(h)for(var Y in y)y.hasOwnProperty(Y)&&(j=y[Y],Y in h&&(h[Y]===j||Y in Q&&Q[Y]===j)||(h[Y]="object"===d(h[Y])&&null!==h[Y]?v.mixin(h[Y],j,T):T(j)));return h}},{key:"clone",value:function(h){if(!h||"object"!==d(h))return h;var y;if(h instanceof Array){y=[];for(var T=0,j=h.length;T<j;++T)T in h&&y.push(v.clone(h[T]))}else y={};return v.mixin(y,h,v.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(h,y){try{if(!y||0===y.length)return h;var T=new URL(h);return y.forEach(function(j){j.key&&j.value&&T.searchParams.set(j.key,j.value)}),T.href}catch{return h}}},{key:"parseHttpHeaders",value:function(h){var y={};if(!h)return y;for(var T=h.trim().split("\r\n"),j=0,Q=T.length;j<Q;j++){var Y=T[j],$=Y.indexOf(": ");$>0&&(y[Y.substring(0,$)]=Y.substring($+2))}return y}},{key:"generateUuid",value:function(){var h=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(y){var T=(h+16*Math.random())%16|0;return h=Math.floor(h/16),("x"==y?T:3&T|8).toString(16)})}},{key:"generateHashCode",value:function(h){var y=0;if(0===h.length)return y;for(var T=0;T<h.length;T++)y=(y<<5)-y+h.charCodeAt(T),y|=0;return y}},{key:"getRelativeUrl",value:function(h,y){try{var T=new URL(h),j=new URL(y);if(T.protocol=j.protocol,T.origin!==j.origin)return y;var Q=N().relative(T.pathname.substr(0,T.pathname.lastIndexOf("/")),j.pathname.substr(0,j.pathname.lastIndexOf("/"))),Y=0===Q.length?1:0;return Q+=j.pathname.substr(j.pathname.lastIndexOf("/")+Y,j.pathname.length-1),j.pathname.length<Q.length?j.pathname:Q}catch{return y}}},{key:"parseUserAgent",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var y=null===h&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,f.UAParser)(y)}catch{return{}}}},{key:"stringHasProtocol",value:function(h){return/(http(s?)):\/\//i.test(h)}}],D&&function I(v,S){for(var D=0;D<S.length;D++){var h=S[D];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}(v,D),v}();ze.Z=A},2032:function(Et,ze,H){"use strict";function ve(){return"4.7.2"}H.d(ze,{e:function(){return ve}})},2230:function(Et,ze){"use strict";var ve=function(){function N(){!function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}(this,N)}var d;return(d=[{key:"extend",value:function(I,A){if(I){var v=!!A&&A.override,S=!!A&&A.publicOnly;for(var D in I)!I.hasOwnProperty(D)||this[D]&&!v||S&&-1===I[D].indexOf("public_")||(this[D]=I[D])}}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}();ze.Z=ve},4351:function(Et,ze,H){"use strict";function ve(A){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(A)}function N(A,v){return(N=Object.setPrototypeOf||function(S,D){return S.__proto__=D,S})(A,v)}function d(A){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(A)}var I=function(A){!function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&N(y,T)}(h,A);var v,S,D=(v=h,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,T=d(v);if(S){var j=d(this).constructor;y=Reflect.construct(T,arguments,j)}else y=T.apply(this,arguments);return function f(A,v){return!v||"object"!==ve(v)&&"function"!=typeof v?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(A):v}(this,y)});function h(){var y;return function(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}(this,h),(y=D.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",y.BUFFERING_COMPLETED="bufferingCompleted",y.BUFFER_CLEARED="bufferCleared",y.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",y.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",y.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",y.CMSD_STATIC_HEADER="cmsdStaticHeader",y.CURRENT_TRACK_CHANGED="currentTrackChanged",y.DATA_UPDATE_COMPLETED="dataUpdateCompleted",y.INBAND_EVENTS="inbandEvents",y.INITIAL_STREAM_SWITCH="initialStreamSwitch",y.INIT_FRAGMENT_LOADED="initFragmentLoaded",y.INIT_FRAGMENT_NEEDED="initFragmentNeeded",y.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",y.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",y.LOADING_COMPLETED="loadingCompleted",y.LOADING_PROGRESS="loadingProgress",y.LOADING_DATA_PROGRESS="loadingDataProgress",y.LOADING_ABANDONED="loadingAborted",y.MANIFEST_UPDATED="manifestUpdated",y.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",y.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",y.QUOTA_EXCEEDED="quotaExceeded",y.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",y.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",y.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",y.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",y.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",y.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",y.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",y.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",y.SOURCE_BUFFER_ERROR="sourceBufferError",y.STREAMS_COMPOSED="streamsComposed",y.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",y.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",y.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",y.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",y.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",y.URL_RESOLUTION_FAILED="urlResolutionFailed",y.VIDEO_CHUNK_RECEIVED="videoChunkReceived",y.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",y.XLINK_ELEMENT_LOADED="xlinkElementLoaded",y.XLINK_READY="xlinkReady",y.SEEK_TARGET="seekTarget",y.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",y.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",y.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",y.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",y.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",y}return h}(H(8342).Z);ze.Z=I},8512:function(Et,ze,H){"use strict";function ve(S){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(S)}function f(S,D){return(f=Object.setPrototypeOf||function(h,y){return h.__proto__=y,h})(S,D)}function I(S){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(S)}var A=function(S){!function(j,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(Q&&Q.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Q&&f(j,Q)}(T,S);var D,h,y=(D=T,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var j,Q=I(D);if(h){var Y=I(this).constructor;j=Reflect.construct(Q,arguments,Y)}else j=Q.apply(this,arguments);return function d(S,D){return!D||"object"!==ve(D)&&"function"!=typeof D?function(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(S):D}(this,j)});function T(){return function N(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")}(this,T),y.apply(this,arguments)}return T}(H(4351).Z),v=new A;ze.Z=v},8342:function(Et,ze){"use strict";var ve=function(){function N(){!function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}(this,N)}var d;return(d=[{key:"extend",value:function(I,A){if(I){var v=!!A&&A.override,S=!!A&&A.publicOnly;for(var D in I)!I.hasOwnProperty(D)||this[D]&&!v||S&&-1===I[D].indexOf("public_")||(this[D]=I[D])}}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}();ze.Z=ve},9326:function(Et,ze,H){"use strict";var ve=H(3186),N=H(7855),f=H(5448),d=H(8825),I=H(7387),A=H(1553);function v(S){var D,h,y,T,j,Q=(S=S||{}).eventBus,$=S.urlUtils,fe=S.type,Z=S.streamInfo,k=S.segmentsController,X=S.timelineConverter,ue=S.baseURLController;function de(){return fe}function Pe(){y=null}function gt(Ve,ke,ot){var Qe,Rt,xe=ue.resolve(ot.path),et={};return xe&&ke!==xe.url&&$.isRelative(ke)?(Qe=xe.url,Rt=xe.serviceLocation,et=xe.queryParams,ke&&(Qe=$.resolve(ke,Qe))):Qe=ke,!$.isRelative(Qe)&&(Ve.url=Qe,Ve.serviceLocation=Rt,Ve.queryParams=et,!0)}function _e(Ve,ke){if(null==ke)return null;var ot=new ve.Z,Qe=ke.representation,Rt=Qe.adaptation.period.mpd.manifest.Period_asArray[Qe.adaptation.period.index].AdaptationSet_asArray[Qe.adaptation.index].Representation_asArray[Qe.index].bandwidth,xe=ke.media;return xe=(0,I.vi)(xe,"Number",ke.replacementNumber),xe=(0,I.vi)(xe,"Time",ke.replacementTime),xe=(0,I.vi)(xe,"Bandwidth",Rt),xe=(0,I.Aj)(xe,Qe.id),xe=(0,I.eR)(xe),ot.mediaType=de(),ot.type=N.w.MEDIA_SEGMENT_TYPE,ot.range=ke.mediaRange,ot.startTime=ke.presentationStartTime,ot.mediaStartTime=ke.mediaStartTime,ot.duration=ke.duration,ot.timescale=Qe.timescale,ot.availabilityStartTime=ke.availabilityStartTime,ot.availabilityEndTime=ke.availabilityEndTime,ot.availabilityTimeComplete=Qe.availabilityTimeComplete,ot.wallStartTime=ke.wallStartTime,ot.quality=Qe.index,ot.index=ke.index,ot.mediaInfo=Ve,ot.adaptationIndex=Qe.adaptation.index,ot.representationId=Qe.id,gt(ot,xe,Qe)?ot:void 0}function Ge(Ve,ke,ot){var Qe=null;if(!ke||!ke.segmentInfoType)return Qe;var Rt=k.getSegmentByTime(ke,ot);return Rt&&(y=Rt,h.debug("Index for time "+ot+" is "+Rt.index),Qe=_e(Ve,Rt)),Qe}function ut(){h.debug("Dynamic stream complete"),j=!0}return D={initialize:function(Ve){T=Ve,j=!1,k.initialize(Ve)},getStreamId:function(){return Z.id},getType:de,getStreamInfo:function(){return Z},getInitRequest:function(Ve,ke){return ke?function(ot,Qe,Rt){var xe=new ve.Z,et=Qe.adaptation.period,jt=et.start;if(xe.mediaType=Rt,xe.type=N.w.INIT_SEGMENT_TYPE,xe.range=Qe.range,xe.availabilityStartTime=X.calcAvailabilityStartTimeFromPresentationTime(jt,Qe,T),xe.availabilityEndTime=X.calcAvailabilityEndTimeFromPresentationTime(jt+et.duration,Qe,T),xe.quality=Qe.index,xe.mediaInfo=ot,xe.representationId=Qe.id,gt(xe,Qe.initialization,Qe))return xe.url=(0,I.vi)(xe.url,"Bandwidth",Qe.bandwidth),xe}(Ve,ke,de()):null},getSegmentRequestForTime:Ge,getCurrentIndex:function(){return y?y.index:-1},getNextSegmentRequest:function(Ve,ke){var ot=null;if(!ke||!ke.segmentInfoType)return null;var Qe=y?y.index+1:0,Rt=k.getSegmentByIndex(ke,Qe,y?y.mediaStartTime:-1);if(Rt)ot=_e(Ve,Rt),y=Rt;else{if(T&&!j)return h.debug(de()+" No segment found at index: "+Qe+". Wait for next loop"),null;j=!0}return ot},isLastSegmentRequested:function(Ve,ke){return!(!Ve||!y||!j&&(!isFinite(Ve.adaptation.period.duration)||y.presentationStartTime+y.duration>ke||!(Ve.mediaFinishedInformation&&!isNaN(Ve.mediaFinishedInformation.numberOfSegments)&&!isNaN(y.index)&&y.index>=Ve.mediaFinishedInformation.numberOfSegments-1&&(!T||Ve.segmentInfoType===A.Z.SEGMENT_TEMPLATE||T&&Ve.segmentInfoType===A.Z.SEGMENT_LIST&&Ve.adaptation.period.nextPeriodId)||T&&Ve.adaptation.period.nextPeriodId&&Ve.segmentInfoType===A.Z.SEGMENT_TIMELINE&&Ve.mediaFinishedInformation&&!isNaN(Ve.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&y&&!isNaN(y.mediaStartTime)&&!isNaN(y.duration)&&y.mediaStartTime+y.duration>=Ve.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)))},reset:function(){Pe(),Q.off(d.Z.DYNAMIC_TO_STATIC,ut,D)},getNextSegmentRequestIdempotent:function(Ve,ke){var Qe=k.getSegmentByIndex(ke,y?y.index+1:0,y?y.mediaStartTime:-1);return Qe?_e(Ve,Qe):null},getValidTimeAheadOfTargetTime:function(Ve,ke,ot,Qe){try{if(isNaN(Ve)||!ke||!ot)return NaN;if(Ve<0&&(Ve=0),isNaN(Qe)&&(Qe=.5),Ge(ke,ot,Ve))return Ve;if(ot.adaptation.period.start+ot.adaptation.period.duration<Ve)return NaN;for(var Rt=isFinite(ot.adaptation.period.duration)?ot.adaptation.period.start+ot.adaptation.period.duration:Ve+30,xe=Math.min(Ve+Qe,Rt),et=NaN,jt=null;xe<=Rt;){var Ct=null;if(xe<=Rt&&(Ct=Ge(ke,ot,xe)),Ct){et=xe,jt=Ct;break}xe+=Qe}if(jt){var Je=jt.startTime+jt.duration;return Ve>jt.startTime&&Je-Ve>Qe?Ve:!isNaN(jt.startTime)&&Ve<jt.startTime&&et>jt.startTime?jt.startTime+.001:Math.min(Je-Qe,et)}return et}catch{return NaN}}},h=S.debug.getLogger(D),Pe(),Q.on(d.Z.DYNAMIC_TO_STATIC,ut,D),D}v.__dashjs_factory_name="DashHandler",ze.Z=f.Z.getClassFactory(v)},1553:function(Et,ze){"use strict";var ve=new(function(){function N(){(function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")})(this,N),this.init()}var d;return(d=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}());ze.Z=ve},7802:function(Et,ze,H){"use strict";var ve=H(5448),N=H(1724),f=H(3636),d=H(1736),I=H(5246);function A(S){var D,h,y=this.context,T=(S=S||{}).dashConstants,j=S.type,Q=S.segmentBaseController;function Y($){return $?$.segments?h[T.SEGMENT_BASE]:h[$.segmentInfoType]:null}return D={initialize:function($){h[T.SEGMENT_TIMELINE]=(0,N.Z)(y).create(S,$),h[T.SEGMENT_TEMPLATE]=(0,f.Z)(y).create(S,$),h[T.SEGMENT_LIST]=(0,d.Z)(y).create(S,$),h[T.SEGMENT_BASE]=(0,I.Z)(y).create(S,$)},updateInitData:function($,fe){return fe?Promise.resolve():Q.getSegmentBaseInitSegment({representation:$,mediaType:j})},updateSegmentData:function($,fe){return fe?Promise.resolve():Q.getSegmentList({mimeType:$.mimeType,representation:$,mediaType:j})},getSegmentByIndex:function($,fe,Z){var k=Y($);return k?k.getSegmentByIndex($,fe,Z):null},getSegmentByTime:function($,fe){var Z=Y($);return Z?Z.getSegmentByTime($,fe):null},getMediaFinishedInformation:function($){var fe=Y($);return fe?fe.getMediaFinishedInformation($):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},h={},D}A.__dashjs_factory_name="SegmentsController";var v=ve.Z.getClassFactory(A);ze.Z=v},1736:function(Et,ze,H){"use strict";var ve=H(5448),N=H(3393),f=H(7387);function d(A,v){var S=(A=A||{}).timelineConverter;function D(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(N.Z.MISSING_CONFIG_ERROR)}function h(y,T){if(D(),!y)return null;var j=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentList,Q=j.SegmentURL_asArray.length,Y=y&&!isNaN(y.startNumber)?y.startNumber:1,$=Math.max(Y-1,0),fe=Math.max(T-$,0),Z=null;if(fe<Q){var k=j.SegmentURL_asArray[fe];(Z=(0,f.NF)(S,v,y,T))&&(Z.replacementTime=(Y+T-1)*y.segmentDuration,Z.media=k.media?k.media:"",Z.mediaRange=k.mediaRange,Z.indexRange=k.indexRange)}return Z}return{getSegmentByIndex:h,getSegmentByTime:function(y,T){if(D(),!y)return null;var j=y.segmentDuration;if(isNaN(j))return null;var Q=S.calcPeriodRelativeTimeFromMpdRelativeTime(y,T);return h(y,Math.floor(Q/j))},getMediaFinishedInformation:function(y){var T={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!y)return T;var j=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentList,Q=y&&!isNaN(y.startNumber)?y.startNumber:1,Y=Math.max(Q-1,0);return T.numberOfSegments=Y+j.SegmentURL_asArray.length,T}}}d.__dashjs_factory_name="ListSegmentsGetter";var I=ve.Z.getClassFactory(d);ze.Z=I},5246:function(Et,ze,H){"use strict";var ve=H(5448),N=H(3393);function f(I){var A=(I=I||{}).timelineConverter;function v(){if(!A||!A.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(N.Z.MISSING_CONFIG_ERROR)}function S(D,h){if(v(),!D)return null;var y,T=D.segments?D.segments.length:-1;if(h<T&&(y=D.segments[h])&&y.index===h)return y;for(var j=0;j<T;j++)if((y=D.segments[j])&&y.index===h)return y;return null}return{getSegmentByIndex:S,getSegmentByTime:function(D,h){return v(),S(D,function(T,j){if(!T)return-1;var Q,Y,$,fe,Z,k=T.segments,X=k?k.length:null,ue=-1;if(k&&X>0)for(Z=0;Z<X;Z++)if($=(Y=k[Z]).presentationStartTime,j+(Q=(fe=Y.duration)/2)>=$&&j-Q<$+fe){ue=Y.index;break}return ue}(D,h))},getMediaFinishedInformation:function(D){var h={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return D&&D.segments&&(h.numberOfSegments=D.segments.length),h}}}f.__dashjs_factory_name="SegmentBaseGetter";var d=ve.Z.getClassFactory(f);ze.Z=d},7387:function(Et,ze,H){"use strict";H.d(ze,{Aj:function(){return d},NF:function(){return S},TJ:function(){return D},eR:function(){return f},vi:function(){return I}});var ve=H(2011);function N(h,y){for(;h.length<y;)h="0"+h;return h}function f(h){return h&&h.split("$$").join("$")}function d(h,y){if(!y||!h||-1===h.indexOf("$RepresentationID$"))return h;var T=y.toString();return h.split("$RepresentationID$").join(T)}function I(h,y,T){var j,Q,Y,$,fe,Z,k=y.length;if(!h)return h;for(;;){if((j=h.indexOf("$"+y))<0||(Q=h.indexOf("$",j+k))<0)return h;if((Y=h.indexOf("%0",j+k))>j&&Y<Q)switch($=h.charAt(Q-1),fe=parseInt(h.substring(Y+2,Q-1),10),$){case"d":case"i":case"u":Z=N(T.toString(),fe);break;case"x":Z=N(T.toString(16),fe);break;case"X":Z=N(T.toString(16),fe).toUpperCase();break;case"o":Z=N(T.toString(8),fe);break;default:return h}else Z=T;h=h.substring(0,j)+Z+h.substring(Q+1)}}function A(h,y,T,j,Q,Y,$,fe){var k=new ve.Z;return k.representation=h,k.duration=y,k.presentationStartTime=T,k.mediaStartTime=j,k.availabilityStartTime=Q.calcAvailabilityStartTimeFromPresentationTime(Y,h,$),k.availabilityEndTime=Q.calcAvailabilityEndTimeFromPresentationTime(Y+y,h,$),k.wallStartTime=Q.calcWallTimeForSegment(k,$),k.replacementNumber=k.representation.startNumber+fe,k.index=fe,k}function v(h,y,T,j){var Q=y.adaptation.period;if(isFinite(Q.duration)&&Q.start+Q.duration<=T.presentationStartTime)return!1;if(j){if("INF"===y.availabilityTimeOffset)return!0;var Y=h.getClientReferenceTime();return T.availabilityStartTime.getTime()<=Y&&(!isFinite(T.availabilityEndTime)||T.availabilityEndTime.getTime()>=Y)}return!0}function S(h,y,T,j){var Q,Y,$;Q=T.segmentDuration,isNaN(Q)&&(Q=T.adaptation.period.duration),Y=parseFloat((T.adaptation.period.start+j*Q).toFixed(5)),$=parseFloat((Y+Q).toFixed(5));var fe=A(T,Q,Y,h.calcMediaTimeFromPresentationTime(Y,T),h,$,y,j);return v(h,T,fe,y)?fe:null}function D(h,y,T,j,Q,Y,$,fe,Z,k){var X,ue,de=j/Y,Pe=Q/Y;return X=h.calcPresentationTimeFromMediaTime(de,T),v(h,T,ue=A(T,Pe,X,de,h,X+Pe,y,Z),y)?(ue.replacementTime=k||j,$=I($,"Number",ue.replacementNumber),$=I($,"Time",ue.replacementTime),ue.media=$,ue.mediaRange=fe,ue):null}},3636:function(Et,ze,H){"use strict";var ve=H(5448),N=H(3393),f=H(7387);function d(A,v){var S=(A=A||{}).timelineConverter;function D(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(N.Z.MISSING_CONFIG_ERROR)}function h(y,T){if(D(),!y)return null;var j=y.adaptation.period.mpd.manifest.Period_asArray[y.adaptation.period.index].AdaptationSet_asArray[y.adaptation.index].Representation_asArray[y.index].SegmentTemplate;T=Math.max(T,0);var Q=(0,f.NF)(S,v,y,T);if(Q){Q.replacementTime=Math.round((T-1)*y.segmentDuration*y.timescale,10);var Y=j.media;Y=(0,f.vi)(Y,"Number",Q.replacementNumber),Y=(0,f.vi)(Y,"Time",Q.replacementTime),Q.media=Y}return Q}return{getSegmentByIndex:h,getSegmentByTime:function(y,T){if(D(),!y)return null;var j=y.segmentDuration;if(isNaN(j))return null;var Q=S.calcPeriodRelativeTimeFromMpdRelativeTime(y,T);return h(y,Math.floor(Q/j))},getMediaFinishedInformation:function(y){var T={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!y)return T;var j=y.segmentDuration;return T.numberOfSegments=isNaN(j)?1:Math.ceil(y.adaptation.period.duration/j),T}}}d.__dashjs_factory_name="TemplateSegmentsGetter";var I=ve.Z.getClassFactory(d);ze.Z=I},1724:function(Et,ze,H){"use strict";var ve=H(5448),N=H(3393),f=H(7387);function d(A,v){var S=(A=A||{}).timelineConverter,D=A.dashMetrics;function h(){if(!S)throw new Error(N.Z.MISSING_CONFIG_ERROR)}function y(j,Q){var Y,$,fe,Z,k,X,ue,de=j.adaptation.period.mpd.manifest.Period_asArray[j.adaptation.period.index].AdaptationSet_asArray[j.adaptation.index].Representation_asArray[j.index].SegmentTemplate||j.adaptation.period.mpd.manifest.Period_asArray[j.adaptation.period.index].AdaptationSet_asArray[j.adaptation.index].Representation_asArray[j.index].SegmentList,gt=de.SegmentURL_asArray,_e=0,Ge=-1;ue=j.timescale;var ut=!1;for(fe=0,Z=(Y=de.SegmentTimeline.S_asArray).length;fe<Z&&!ut;fe++)for(X=0,($=Y[fe]).hasOwnProperty("r")&&(X=$.r),$.hasOwnProperty("t")&&(_e=$.t),X<0&&(X=T(j,Y[fe+1],$,ue,_e/ue)),k=0;k<=X&&!ut;k++)(ut=Q(_e,de,gt,$,ue,++Ge,fe))&&(j.segmentDuration=$.d/ue),_e+=$.d}function T(j,Q,Y,$,fe){var Z;if(Q&&Q.hasOwnProperty("t"))Z=Q.t/$;else try{var k=0;if(isNaN(j.adaptation.period.start)||isNaN(j.adaptation.period.duration)||!isFinite(j.adaptation.period.duration)){var X=D.getCurrentDVRInfo();k=isNaN(X.end)?0:X.end}else k=j.adaptation.period.start+j.adaptation.period.duration;Z=S.calcMediaTimeFromPresentationTime(k,j),j.segmentDuration=Y.d/$}catch{Z=0}return Math.max(Math.ceil((Z-fe)/(Y.d/$))-1,0)}return{getSegmentByIndex:function(j,Q,Y){if(h(),!j)return null;var $=null,fe=!1;return y(j,function(Z,k,X,ue,de,Pe,gt){if(fe||Y<0){var _e=k.media,Ge=ue.mediaRange;return X&&(_e=X[gt].media||"",Ge=X[gt].mediaRange),$=(0,f.TJ)(S,v,j,Z,ue.d,de,_e,Ge,Pe,ue.tManifest),!0}return Z>=Y*de-.5*ue.d&&(fe=!0),!1}),$},getSegmentByTime:function(j,Q){if(h(),!j)return null;void 0===Q&&(Q=null);var Y=null,$=S.calcMediaTimeFromPresentationTime(Q,j);return y(j,function(fe,Z,k,X,ue,de,Pe){var gt=parseFloat(($*ue).toPrecision(15));if(gt<fe+X.d&&gt>=fe){var _e=Z.media,Ge=X.mediaRange;return k&&(_e=k[Pe].media||"",Ge=k[Pe].mediaRange),Y=(0,f.TJ)(S,v,j,fe,X.d,ue,_e,Ge,de,X.tManifest),!0}return!1}),Y},getMediaFinishedInformation:function(j){if(!j)return 0;var Q,Y,$,fe,Z,k,X,de=0,Pe=0,gt=0;for(X=j.timescale,fe=(Q=(j.adaptation.period.mpd.manifest.Period_asArray[j.adaptation.period.index].AdaptationSet_asArray[j.adaptation.index].Representation_asArray[j.index].SegmentTemplate||j.adaptation.period.mpd.manifest.Period_asArray[j.adaptation.period.index].AdaptationSet_asArray[j.adaptation.index].Representation_asArray[j.index].SegmentList).SegmentTimeline.S_asArray).length,$=0;$<fe;$++)for(k=0,(Y=Q[$]).hasOwnProperty("r")&&(k=Y.r),Y.hasOwnProperty("t")&&(Pe=(de=Y.t)/X),k<0&&(k=T(j,Q[$+1],Y,X,Pe)),Z=0;Z<=k;Z++)gt++,Pe=(de+=Y.d)/X;return{numberOfSegments:gt,mediaTimeOfLastSignaledSegment:Pe}}}}d.__dashjs_factory_name="TimelineSegmentsGetter";var I=ve.Z.getClassFactory(d);ze.Z=I},2011:function(Et,ze){"use strict";ze.Z=function H(){(function(ve,N){if(!(ve instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:function(Et,ze){"use strict";ze.Z=function H(){(function(ve,N){if(!(ve instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.schemeIdUri="",this.value=""}},7688:function(Et,ze,H){"use strict";H.d(ze,{Z:function(){return ip}});var ve=H(452),N=H.n(ve),f=H(3393),d=H(1553),I=H(3860),A=H(5595),v=H(8512),S=H(5448),D=H(6398),h=H(8825);function y(){var _,p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me,Se,te,be,le,ye,w,q,G=this.context,L=(0,A.Z)(G).getInstance();function B(){ce(),ee=!1,re=0,K=0,me=0,ye=!1,Se=!1,w=!1,te=NaN,C&&(L.off(v.Z.DATA_UPDATE_COMPLETED,Ne,_),L.off(v.Z.LOADING_PROGRESS,Tn,_),L.off(v.Z.MANIFEST_UPDATED,Bt,_),L.off(v.Z.STREAMS_COMPOSED,lt,_),L.off(h.Z.PLAYBACK_ENDED,lr,_),L.off(h.Z.STREAM_INITIALIZING,cn,_),L.off(h.Z.REPRESENTATION_SWITCH,pt,_),L.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,nt,_),it(),C.removeEventListener("canplay",Oe),C.removeEventListener("canplaythrough",Ye),C.removeEventListener("play",st),C.removeEventListener("waiting",Vt),C.removeEventListener("playing",kt),C.removeEventListener("pause",mn),C.removeEventListener("error",Pt),C.removeEventListener("seeking",bt),C.removeEventListener("seeked",rn),C.removeEventListener("timeupdate",un),C.removeEventListener("progress",hn),C.removeEventListener("ratechange",En),C.removeEventListener("loadedmetadata",Fn),C.removeEventListener("loadeddata",Ln),C.removeEventListener("stalled",wn),C.removeEventListener("ended",Qn),C.removeEventListener("volumechange",Jn)),J=null,C=null,V=null,ne=null}function se(){return parseFloat((ie(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-Xe()).toFixed(5))}function ie(je){var Ee=je||V;return Ee.start+Ee.duration}function he(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0];V&&C&&C.getElement()?(je&&ne&&Me(Xe()),C.play()):ee=!0}function ce(){V&&C&&C.pause()}function z(je){var Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],rt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=arguments.length>3&&void 0!==arguments[3]&&arguments[3];V&&C&&C.getElement()&&je!==(isNaN(te)?C.getTime():te)&&((be=!0===rt)||(te=je),p.info("Requesting seek to time: "+je+(be?" (internal)":"")),ne&&It&&Me(je),C.setCurrentTime(je,Ee))}function we(){if(V&&C&&ne){var je=b&&b.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,Ee=F.getCurrentDVRInfo(je);return Ee&&Ee.range?Ee.range.end:0}}function Me(je){var Ee=new Date(U.getClientReferenceTime()),rt=P.getRegularPeriods()[0],It=U.calcPresentationTimeFromWallTime(Ee,rt);re=It-je}function Xe(){return V&&C?C.getTime():null}function Be(){return V&&C?C.isPaused():null}function Ue(){return V&&C?C.isSeeking():null}function He(){return V&&C?C.isStalled():null}function Nt(){return V&&C?C.getPlaybackRate():null}function Ot(){return V&&C?C.getEnded():null}function dt(){return ne}function wt(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!Be()&&ne&&0!==C.getReadyState()&&!Ue()&&!ye){je||(je=b.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO);var Ee=Xe(),rt=function pn(je,Ee){var rt=F.getCurrentDVRInfo(Ee),It=rt?rt.range:null;return It?je>It.end?Math.max(It.end-re,It.start):je>0&&je+.25<It.start&&Math.abs(je-It.start)<31536e4?Se?Math.max(It.end-re,It.start):It.start:je:NaN}(Ee,je);!isNaN(rt)&&rt!==Ee&&!Ue()&&(He()||le||1===C.getReadyState())&&(p.debug("UpdateCurrentTime: Seek to actual time: ".concat(rt," from currentTime: ").concat(Ee)),z(rt,!1,!1))}}function Le(){null===J&&(J=setInterval(function(){var je;L.trigger(v.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:ne,time:new Date}),dt()&&(b.addDVRMetric(),Be()?(je=Date.now(),(!Ie||je>Ie+500)&&(Ie=je,un())):wt())},q.get().streaming.wallclockTimeUpdateInterval))}function it(){clearInterval(J),J=null}function Ne(je){var Ee=P.convertRepresentationToRepresentationInfo(je.currentRepresentation),rt=Ee?Ee.mediaInfo.streamInfo:null;null!==rt&&V.id===rt.id&&(V=rt)}function Oe(){L.trigger(v.Z.CAN_PLAY)}function Ye(){L.trigger(v.Z.CAN_PLAY_THROUGH)}function nt(je){je.streamId===b.getActiveStreamInfo().id&&(le=je.state===I.Z.BUFFER_EMPTY,q.get().streaming.buffer.setStallState&&C.setStallState(je.mediaType,je.state===I.Z.BUFFER_EMPTY))}function st(){p.info("Native video element event: play"),wt(),Le(),L.trigger(v.Z.PLAYBACK_STARTED,{startTime:Xe()})}function Vt(){p.info("Native video element event: waiting"),L.trigger(v.Z.PLAYBACK_WAITING,{playingTime:Xe()})}function kt(){p.info("Native video element event: playing"),be=!1,L.trigger(v.Z.PLAYBACK_PLAYING,{playingTime:Xe()})}function mn(){p.info("Native video element event: pause"),L.trigger(v.Z.PLAYBACK_PAUSED,{ended:Ot()})}function bt(){if(!be){var je=Xe();isNaN(te)||te===je||(je=te),te=NaN,p.info("Seeking to: "+je),Le(),L.trigger(v.Z.PLAYBACK_SEEKING,{seekTime:je,streamId:V.id})}}function rn(){p.info("Native video element event: seeked"),be=!1,L.trigger(v.Z.PLAYBACK_SEEKED)}function un(){V&&L.trigger(v.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:se(),time:Xe(),streamId:V.id})}function hn(){L.trigger(v.Z.PLAYBACK_PROGRESS,{streamId:V.id})}function En(){var je=Nt();p.info("Native video element event: ratechange: ",je),L.trigger(v.Z.PLAYBACK_RATE_CHANGED,{playbackRate:je})}function Fn(){p.info("Native video element event: loadedmetadata"),L.trigger(v.Z.PLAYBACK_METADATA_LOADED),Le()}function Ln(){p.info("Native video element event: loadeddata"),L.trigger(v.Z.PLAYBACK_LOADED_DATA)}function Qn(){p.info("Native video element event: ended"),ce(),it();var je=b?b.getActiveStreamInfo():null;je&&L.trigger(v.Z.PLAYBACK_ENDED,{isLast:je.isLast})}function Jn(){L.trigger(v.Z.PLAYBACK_VOLUME_CHANGED)}function lr(je){if(J&&je.isLast){p.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var Ee=je.seekTime?je.seekTime:ie();C.setCurrentTime(Ee),ce(),it()}}function Pt(je){L.trigger(v.Z.PLAYBACK_ERROR,{error:(je.target||je.srcElement).error})}function Tn(je){if(!1===je.stream&&Se&&!isNaN(je.request.duration)){var Ee=1.2*je.request.duration;Ee>re&&(p.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",Ee.toFixed(2)),re=Ee,K=Ee)}}function wn(je){L.trigger(v.Z.PLAYBACK_STALLED,{e:je})}function cn(je){var Ee;(Ee=je.mediaInfo)&&Ee.supplementalProperties&&"true"===Ee.supplementalProperties[f.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(p.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),Se=!0)}function pt(je){var Ee=b.getActiveStreamInfo();je&&Ee&&je.currentRepresentation&&je.streamId&&je.streamId===Ee.id&&je.mediaType&&(je.mediaType===f.Z.VIDEO||je.mediaType===f.Z.AUDIO)&&(Se=!je.currentRepresentation.availabilityTimeComplete)&&!w&&(w=!0)}function Bt(){ye=!0}function lt(){ye=!1}return _={initialize:function(je,Ee){V=je,!0!==Ee&&(C.addEventListener("canplay",Oe),C.addEventListener("canplaythrough",Ye),C.addEventListener("play",st),C.addEventListener("waiting",Vt),C.addEventListener("playing",kt),C.addEventListener("pause",mn),C.addEventListener("error",Pt),C.addEventListener("seeking",bt),C.addEventListener("seeked",rn),C.addEventListener("timeupdate",un),C.addEventListener("progress",hn),C.addEventListener("ratechange",En),C.addEventListener("loadedmetadata",Fn),C.addEventListener("loadeddata",Ln),C.addEventListener("stalled",wn),C.addEventListener("ended",Qn),C.addEventListener("volumechange",Jn),ne=V.manifestInfo.isDynamic,le=!1,be=!1,L.on(v.Z.DATA_UPDATE_COMPLETED,Ne,_),L.on(v.Z.LOADING_PROGRESS,Tn,_),L.on(v.Z.MANIFEST_UPDATED,Bt,_),L.on(v.Z.STREAMS_COMPOSED,lt,_),L.on(h.Z.PLAYBACK_ENDED,lr,_,{priority:A.Z.EVENT_PRIORITY_HIGH}),L.on(h.Z.STREAM_INITIALIZING,cn,_),L.on(h.Z.REPRESENTATION_SWITCH,pt,_),L.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,nt,_),ee&&(ee=!1,he()))},setConfig:function(je){je&&(je.streamController&&(b=je.streamController),je.serviceDescriptionController&&(M=je.serviceDescriptionController),je.dashMetrics&&(F=je.dashMetrics),je.adapter&&(P=je.adapter),je.videoModel&&(C=je.videoModel),je.timelineConverter&&(U=je.timelineConverter),je.settings&&(q=je.settings))},getTimeToStreamEnd:se,getBufferLevel:function(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Ee=null;return b.getActiveStreamProcessors().forEach(function(rt){if(!je||0===je.length||-1===je.indexOf(rt.getType())){var It=rt.getBufferLevel();Ee=null===Ee?It:Math.min(Ee,It)}}),Ee},getPlaybackStalled:function(){return le},getTime:Xe,getLowLatencyModeEnabled:function(){return Se},getInitialCatchupModeActivated:function(){return w},getIsManifestUpdateInProgress:function(){return ye},getPlaybackRate:Nt,getPlayedRanges:function(){return V&&C?C.getPlayedRanges():null},getEnded:Ot,getIsDynamic:dt,getStreamController:function(){return b},computeAndSetLiveDelay:function(je,Ee){var rt,It,tn,gn=!isNaN(je)&&isFinite(je)?je:NaN,Wn=P.getSuggestedPresentationDelay(),Lr=M.getServiceDescriptionSettings();return rt=isNaN(q.get().streaming.delay.liveDelay)?null===q.get().streaming.delay.liveDelayFragmentCount||isNaN(q.get().streaming.delay.liveDelayFragmentCount)||isNaN(gn)?Lr&&!isNaN(Lr.liveDelay)&&Lr.liveDelay>0?Lr.liveDelay:!0===q.get().streaming.delay.useSuggestedPresentationDelay&&null!==Wn&&!isNaN(Wn)&&Wn>0?Wn:isNaN(gn)?Ee&&!isNaN(Ee.minBufferTime)?4*Ee.minBufferTime:4*V.manifestInfo.minBufferTime:4*gn:gn*q.get().streaming.delay.liveDelayFragmentCount:q.get().streaming.delay.liveDelay,null!==(tn=P.getAvailabilityStartTime())&&(me=tn),It=Ee&&Ee.dvrWindowSize>0?Math.min(rt,Ee.dvrWindowSize):rt,re=It,K=It,It},getLiveDelay:function(){return re},getOriginalLiveDelay:function(){return K},getCurrentLiveLatency:function(){if(!ne||isNaN(me))return NaN;var je=Xe();if(isNaN(je)||0===je)return 0;var Ee=(new Date).getTime()+1e3*U.getClientTimeOffset();return Math.max(((Ee-me-1e3*je)/1e3).toFixed(3),0)},play:he,isPaused:Be,isStalled:He,pause:ce,isSeeking:Ue,getStreamEndTime:ie,seek:z,seekToOriginalLive:function(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],rt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=we();0!==It&&z(It-(re=K),je,Ee,rt)},seekToCurrentLive:function(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ee=arguments.length>1&&void 0!==arguments[1]&&arguments[1],rt=arguments.length>2&&void 0!==arguments[2]&&arguments[2],It=we();0!==It&&z(It-re,je,Ee,rt)},reset:B,updateCurrentTime:wt,getAvailabilityStartTime:function(){return me}},p=(0,D.Z)(G).getInstance().getLogger(_),B(),_}y.__dashjs_factory_name="PlaybackController";var T=S.Z.getSingletonFactory(y),j=H(3186),Q="loading",Y="executed",$="failed";function fe(_){var p,b,M,F,P=(_=_||{}).eventBus,C=_.events,U=_.dashMetrics,J=_.fragmentLoader,K=_.streamInfo,V=_.type;function ne(w){var q;return!!w&&(q=!1,M.some(function(G){if(L=w,B=G,!isNaN(L.index)&&L.startTime===B.startTime&&L.adaptationIndex===B.adaptationIndex&&L.type===B.type||(se=w,ie=G,isNaN(se.index)&&isNaN(ie.index)&&se.quality===ie.quality)||function(se,ie){return se.action===j.Z.ACTION_COMPLETE&&se.action===ie.action}(w,G))return q=!0;var se,ie,L,B}),q)}function ee(w){return isNaN(w.duration)?.25:Math.min(w.duration/8,.5)}function Ie(w){M=M.filter(function(q){var G=ee(q);return isNaN(q.startTime)||void 0!==w&&q.startTime>=w-G})}function me(w,q){q<=w+.5||(M=M.filter(function(G){var L=ee(G);return isNaN(G.startTime)||G.startTime>=q-L||isNaN(G.duration)||G.startTime+G.duration<=w+L}))}function Te(w,q,G){for(var L=w.length-1;L>=0;L--){var B=w[L],se=B.startTime,ie=se+B.duration;if(G=isNaN(G)?ee(B):G,!isNaN(se)&&!isNaN(ie)&&q+G>=se&&q-G<ie||isNaN(se)&&isNaN(q))return B}return null}function Se(w,q){U.addSchedulingInfo(w,q),U.addRequestsQueue(w.mediaType,F,M)}function te(w){w.sender===J&&(F.splice(F.indexOf(w.request),1),w.response&&!w.error&&M.push(w.request),Se(w.request,w.error?$:Y),P.trigger(C.FRAGMENT_LOADING_COMPLETED,{request:w.request,response:w.response,error:w.error,sender:this},{streamId:K.id,mediaType:V}))}function be(w){w.sender===J&&P.trigger(C.FRAGMENT_LOADING_PROGRESS,{request:w.request,response:w.response,error:w.error,sender:this},{streamId:K.id,mediaType:V})}function le(w){w.sender===J&&P.trigger(C.FRAGMENT_LOADING_ABANDONED,{request:w.request},{streamId:K.id,mediaType:V})}function ye(){M=[],F=[]}return p={getStreamId:function(){return K.id},getType:function(){return V},getRequests:function(w){var G=[];return(w?w.state instanceof Array?w.state:[w.state]:[]).forEach(function(L){var se,ie,B=function(se){var ie;switch(se){case Q:ie=F;break;case Y:ie=M;break;default:ie=[]}return ie}(L);G=G.concat((se=B,(ie=w).hasOwnProperty("time")?[Te(se,ie.time,ie.threshold)]:se.filter(function(he){for(var ce in ie)if("state"!==ce&&ie.hasOwnProperty(ce)&&he[ce]!=ie[ce])return!1;return!0})))}),G},isFragmentLoaded:ne,isFragmentLoadedOrPending:function(w){var q,G=!1,L=0;if(!(G=ne(w)))for(L=0;L<F.length;L++)w.url===(q=F[L]).url&&w.startTime===q.startTime&&(G=!0);return G},removeExecutedRequestsBeforeTime:Ie,removeExecutedRequestsAfterTime:function(w){M=M.filter(function(q){return isNaN(q.startTime)||void 0!==w&&q.startTime<w})},syncExecutedRequestsWithBufferedRange:function(w,q){if(w&&0!==w.length){for(var G=0,L=0,B=w.length;L<B;L++)me(G,w.start(L)),G=w.end(L);q>0&&me(G,q)}else Ie()},abortRequests:function(){b.debug("abort requests"),J.abort(),F=[]},executeRequest:function(w){var q;w.action===j.Z.ACTION_DOWNLOAD?(Se(w,Q),F.push(w),P.trigger(C.FRAGMENT_LOADING_STARTED,{request:q=w},{streamId:K.id,mediaType:V}),J.load(q)):b.warn("Unknown request action.")},reset:function(){P.off(C.LOADING_COMPLETED,te,this),P.off(C.LOADING_DATA_PROGRESS,be,this),P.off(C.LOADING_ABANDONED,le,this),J&&J.reset(),ye()},resetInitialSettings:ye,addExecutedRequest:function(w){M.push(w)}},b=_.debug.getLogger(p),ye(),P.on(C.LOADING_COMPLETED,te,p),P.on(C.LOADING_DATA_PROGRESS,be,p),P.on(C.LOADING_ABANDONED,le,p),p}fe.__dashjs_factory_name="FragmentModel";var Z=S.Z.getClassFactory(fe);Z.FRAGMENT_MODEL_LOADING=Q,Z.FRAGMENT_MODEL_EXECUTED=Y,Z.FRAGMENT_MODEL_CANCELED="canceled",Z.FRAGMENT_MODEL_FAILED=$,S.Z.updateClassFactory(fe.__dashjs_factory_name,Z);var k=Z,X=H(5459);function ue(_){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function de(_,p){return(de=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function gt(_){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var _e=new(function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&de(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=gt(p);if(b){var U=gt(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function Pe(_,p){return!p||"object"!==ue(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){var P;return function(C,U){if(!(C instanceof U))throw new TypeError("Cannot call a class as a function")}(this,F),(P=M.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,P.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,P.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,P.SEGMENT_BASE_LOADER_ERROR_CODE=15,P.TIME_SYNC_FAILED_ERROR_CODE=16,P.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,P.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,P.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,P.APPEND_ERROR_CODE=20,P.REMOVE_ERROR_CODE=21,P.DATA_UPDATE_FAILED_ERROR_CODE=22,P.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,P.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,P.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,P.DOWNLOAD_ERROR_ID_SIDX_CODE=26,P.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,P.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,P.DOWNLOAD_ERROR_ID_XLINK_CODE=29,P.MANIFEST_ERROR_ID_PARSE_CODE=31,P.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,P.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,P.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,P.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,P.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",P.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",P.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",P.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",P.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",P.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",P.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",P.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",P.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",P.APPEND_ERROR_MESSAGE="chunk is not defined",P.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",P.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",P.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",P.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",P.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",P.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",P}return F}(H(2230).Z)),Ge=H(1264),ut=H(7855);function Ve(_){var p,b,M,F,P,C,U=this.context,J=(0,Ge.Z)(U).getInstance(),re=_.textController,K=_.eventBus,V=[],ne=[],ee=!1,Ie=_.mediaSource,me=null;function Te(B){return new Promise(function(se){L(function(){F.changeType&&F.changeType(B),se()})})}function Se(B){return F=re.getTextSourceBuffer(B),Promise.resolve()}function te(){if("function"==typeof F.addEventListener)try{F.addEventListener("updateend",q,!1),F.addEventListener("error",G,!1),F.addEventListener("abort",G,!1)}catch{C=setInterval(q,50)}else C=setInterval(q,50)}function be(B){return new Promise(function(se){F&&J.get().streaming.buffer.useAppendWindow?L(function(){try{if(!F)return void se();var ie=Ie.duration,he=0;B&&!isNaN(B.start)&&!isNaN(B.duration)&&isFinite(B.duration)&&(ie=B.start+B.duration),B&&!isNaN(B.start)&&(he=B.start),F.appendWindowEnd===ie&&F.appendWindowStart===he||(F.appendWindowStart=0,F.appendWindowEnd=ie+.01,F.appendWindowStart=Math.max(he-.1,0),M.debug("Updated append window for ".concat(P.type,". Set start to ").concat(F.appendWindowStart," and end to ").concat(F.appendWindowEnd))),se()}catch{M.warn("Failed to set append window"),se()}}):se()})}function le(B){return new Promise(function(se){F?L(function(){try{F.timestampOffset===B||isNaN(B)||(F.timestampOffset=B,M.debug("Set MSE timestamp offset to ".concat(B))),se()}catch{se()}}):se()})}function ye(){if(!ee&&ne.length>0){ee=!0;var B=ne[0];ne.splice(0,1);var se=function(){ee=!1,ne.length>0&&ye.call(this),B&&B.data&&B.data.segmentType&&B.data.segmentType!==ut.w.INIT_SEGMENT_TYPE&&delete B.data.bytes,B.promise.resolve({chunk:B.data})};try{me=B.request,0===B.data.bytes.byteLength?se.call(this):(F.appendBuffer?F.appendBuffer(B.data.bytes):F.append(B.data.bytes,B.data),L(se.bind(this)))}catch(ie){M.fatal('SourceBuffer append failed "'+ie+'"'),ne.length>0?ye():ee=!1,delete B.data.bytes,B.promise.reject({chunk:B.data,error:new X.Z(ie.code,ie.message)})}}}function w(){V.length>0&&(F.updating||(V.shift()(),w()))}function q(){F.updating||w()}function G(B){K.trigger(v.Z.SOURCE_BUFFER_ERROR,{error:B.target||{},lastRequestAppended:me},{streamId:P.streamInfo.id,mediaType:b})}function L(B){V.push(B),F.updating||w()}return p={getType:function(){return b},getAllBufferRanges:function(){try{return F.buffered}catch(B){return M.error("getAllBufferRanges exception: "+B.message),null}},getBuffer:function(){return F},append:function(B){var se=this,ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(he,ce){B?(ne.push({data:B,promise:{resolve:he,reject:ce},request:ie}),L(ye.bind(se))):ce({chunk:B,error:new X.Z(_e.APPEND_ERROR_CODE,_e.APPEND_ERROR_MESSAGE)})})},remove:function(B){return new Promise(function(se,ie){var he=B.start,ce=B.end;he>=0&&ce>he?L(function(){try{F.remove(he,ce),L(function(){se({from:he,to:ce,unintended:!1}),B.resolve&&B.resolve()})}catch(z){ie({from:he,to:ce,unintended:!1,error:new X.Z(_e.REMOVE_ERROR_CODE,_e.REMOVE_ERROR_MESSAGE)}),B.reject&&B.reject(z)}}):se()})},abort:function(){return new Promise(function(B){try{ne=[],"open"===Ie.readyState?L(function(){try{F&&F.abort(),B()}catch{B()}}):(F&&F.setTextTrack&&"ended"===Ie.readyState&&F.abort(),B())}catch{B()}})},reset:function(){if(F){try{V=[],function(){try{"function"==typeof F.removeEventListener&&(F.removeEventListener("updateend",q,!1),F.removeEventListener("error",G,!1),F.removeEventListener("abort",G,!1)),clearInterval(C)}catch(B){M.error(B)}}(),ee=!1,ne=[],F.getClassName&&"TextSourceBuffer"===F.getClassName()||(M.debug("Removing sourcebuffer from media source"),Ie.removeSourceBuffer(F))}catch{}F=null}me=null},updateTimestampOffset:le,initializeForStreamSwitch:function(B,se,ie){b=(P=B).type;var he=P.codec;F=ie.getBuffer(),te();var ce=[];return ce.push(new Promise(function(z){L(function(){var we=F.appendWindowStart,Me=F.appendWindowEnd;F&&(F.abort(),F.appendWindowStart=we,F.appendWindowEnd=Me),z()})})),ce.push(be(P.streamInfo)),J.get().streaming.buffer.useChangeTypeForTrackSwitch&&ce.push(Te(he)),se&&void 0!==se.MSETimeOffset&&ce.push(le(se.MSETimeOffset)),Promise.all(ce)},initializeForFirstUse:function(B,se,ie){b=(P=se).type;var he=P.codec;try{if(he.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Se(B);F=Ie.addSourceBuffer(he),te();var ce=[];return ce.push(be(P.streamInfo)),ie&&void 0!==ie.MSETimeOffset&&ce.push(le(ie.MSETimeOffset)),Promise.all(ce)}catch(z){return P.type==f.Z.TEXT&&!P.isFragmented||-1!==he.indexOf('codecs="stpp')||-1!==he.indexOf('codecs="vtt')||-1!==he.indexOf("text/vtt")?Se(B):Promise.reject(z)}},updateAppendWindow:be,changeType:Te},M=(0,D.Z)(U).getInstance().getLogger(p),p}Ve.__dashjs_factory_name="SourceBufferSink";var ke=S.Z.getClassFactory(Ve);function ot(_){var p,b,M,P=[],C=_;function U(J,re){return P=P.filter(function(K){return!((isNaN(re)||K.start<re)&&(isNaN(J)||K.end>J))}),Promise.resolve()}return p={getAllBufferRanges:function(){for(var J=[],re=0;re<P.length;re++){var K=P[re];0===J.length||K.start>J[J.length-1].end?J.push({start:K.start,end:K.end}):J[J.length-1].end=K.end}var V={start:function(ne){return J[ne].start},end:function(ne){return J[ne].end}};return Object.defineProperty(V,"length",{get:function(){return J.length}}),V},append:function(J){return"InitializationSegment"!==J.segmentType?(P.push(J),P.sort(function(re,K){return re.start-K.start}),M=null):M=J,b.debug("PreBufferSink appended chunk s: "+J.start+"; e: "+J.end),C&&C({chunk:J}),Promise.resolve()},remove:U,abort:function(){return Promise.resolve()},discharge:function(J,re){var V,ne,K=(V=J,ne=re,P.filter(function(ee){return(isNaN(ne)||ee.start<ne)&&(isNaN(V)||ee.end>V)}));return M&&(K.push(M),M=null),U(J,re),K},reset:function(){P=[],M=null,C=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(J){J()},getBuffer:function(){return this}},b=(0,D.Z)(this.context).getInstance().getLogger(p),p}ot.__dashjs_factory_name="PreBufferSink";var Qe=S.Z.getClassFactory(ot);function Rt(){var _={};return{save:function(p){var b=p.streamId,M=p.representationId;_[b]=_[b]||{},_[b][M]=p},extract:function(p,b){return _&&_[p]&&_[p][b]?_[p][b]:null},reset:function(){_={}}}}Rt.__dashjs_factory_name="InitCache";var xe=S.Z.getSingletonFactory(Rt),jt="BufferController";function Ct(_){_=_||{};var p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me,Te,Se,te,be,le,ye,w=this.context,q=(0,A.Z)(w).getInstance(),G=_.errHandler,L=_.fragmentModel,B=_.representationController,se=_.adapter,ie=_.textController,he=_.abrController,ce=_.playbackController,z=_.streamInfo,we=_.type,Me=_.settings;function Xe(lt){var je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(Ee,rt){C=lt,re&&je&&"function"==typeof re.discharge?(K=re,Ue(je).then(function(){Ee()}).catch(function(It){rt(It)})):Ee()})}function Be(lt){return se.convertRepresentationToRepresentationInfo(B.getRepresentationForQuality(lt))}function Ue(lt){var je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Ee,rt){te&&lt?C?(V=!1,function Nt(lt,je){return new Promise(function(Ee,rt){var tn,gn,Wn,Lr,It=he.getQualityFor(we,z.id);re=ke(w).create({mediaSource:C,textController:ie,eventBus:q}),(tn=lt,gn=je,Wn=It,Lr=Be(Wn),gn&&gn[we]&&(we===f.Z.VIDEO||we===f.Z.AUDIO)?re.initializeForStreamSwitch(tn,Lr,gn[we]):re.initializeForFirstUse(z,tn,Lr)).then(function(){return Ln(Be(It))}).then(function(){Ee(re)}).catch(function(tn){b.fatal("Caught error on create SourceBuffer: "+tn),G.error(new X.Z(_e.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,_e.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+we)),rt(tn)})})}(lt,je).then(function(It){Ee(It)}).catch(function(It){rt(It)})):(V=!0,function He(){var lt=this;return new Promise(function(je,Ee){var rt=he.getQualityFor(we,z.id);re=Qe(w).create(Le.bind(lt)),Ln(Be(rt)).then(function(){je(re)}).catch(function(){Ee()})})}().then(function(It){Ee(It)}).catch(function(It){rt(It)})):Ee(null)})}function Ot(lt){Me.get().streaming.cacheInitSegments&&(b.info("Init fragment finished loading saving to",we+"'s init cache"),te.save(lt.chunk)),b.debug("Append Init fragment",we," with representationId:",lt.chunk.representationId," and quality:",lt.chunk.quality,", data size:",lt.chunk.bytes.byteLength),wt(lt.chunk)}function dt(lt){wt(lt.chunk,lt.request)}function wt(lt){re&&(re.append(lt,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Ee){Le(Ee)}).catch(function(Ee){Le(Ee)}),lt.mediaInfo.type===f.Z.VIDEO&&pt(v.Z.VIDEO_CHUNK_RECEIVED,{chunk:lt}))}function pn(lt){if(lt&&lt.length>0)for(var je=0,Ee=lt.length;je<Ee;je++)b.debug("Buffered range: "+lt.start(je)+" - "+lt.end(je)+", currentTime = ",ce.getTime())}function Le(lt){if(lt.error)return 22===lt.error.code&&function(){if(Se=!0,P=.8*Tn(),b.warn("Quota exceeded, Critical Buffer: "+P),P>0){var rt=Math.max(.2*P,1),It=P-rt,tn=Math.min(Me.get().streaming.buffer.bufferTimeAtTopQuality,.9*It),gn=Math.min(Me.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*It),Wn={streaming:{buffer:{bufferToKeep:parseFloat(rt.toFixed(5)),bufferTimeAtTopQuality:parseFloat(tn.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(gn.toFixed(5))}}};Me.update(Wn)}}(),void(22!==lt.error.code&&cn()||(b.warn("Clearing playback buffer to overcome quota exceed situation"),pt(v.Z.QUOTA_EXCEEDED,{criticalBufferLevel:P,quotaExceededTime:lt.chunk.start}),hn(un())));if(re&&(Vt(),Se=!1,(Ie=lt.chunk)&&Ie.endFragment)){Ie&&!isNaN(Ie.index)&&(U=Math.max(Ie.index,U),kt());var je=re.getAllBufferRanges();Ie.segmentType===ut.w.MEDIA_SEGMENT_TYPE&&(pn(je),Oe(),function(){if(!isNaN(ye)&&!V)if(we===f.Z.AUDIO||we===f.Z.VIDEO){var rt=ce.getTime(),It=st(rt,0),tn=st(ye,0);if(It&&tn&&It.start===tn.start)ye=NaN;else{var gn=B.getCurrentRepresentation().segmentDuration,Wn=st(ye,gn);Wn&&(Me.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(rt-ye)>gn?ye<=Wn.end&&ce.seek(Math.max(ye,Wn.start),!1,!0):rt<Wn.start&&ce.seek(Wn.start,!1,!0))}}else ye=NaN}());var Ee=!1;ne&&(ne.indexOf(Ie)>0&&(Ee=!0),ne=null),Ie&&!Ee&&pt(v.Z.BYTES_APPENDED_END_FRAGMENT,{quality:Ie.quality,startTime:Ie.start,index:Ie.index,bufferedRanges:je,segmentType:Ie.segmentType,mediaType:we})}}function it(){return new Promise(function(lt,je){var Ee=Ne();if(!Ee||0===Ee.length)return Oe(),void lt();hn(Ee).then(function(){lt()}).catch(function(rt){je(rt)})})}function Ne(lt){var je=[],Ee=re.getAllBufferRanges();if(!Ee||0===Ee.length)return je;if(!lt&&0!==lt||isNaN(lt))je.push({start:Ee.start(0),end:Ee.end(Ee.length-1)+.5});else{var rt=function(tn,gn){var Wn=Me.get().streaming.buffer.bufferToKeep,Lr=gn.start(0);if(tn-Lr>Wn){var Ni=Math.max(0,tn-Wn),Br=L.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:tn,threshold:.01})[0];if(Br&&(Ni=Math.min(Br.startTime,Ni)),Ni>0)return{start:Lr,end:Ni}}return null}(lt,Ee),It=function(tn,gn){var Wn=gn.end(gn.length-1)+.5,Lr=wn(tn),Ni=z.manifestInfo.duration>=Me.get().streaming.buffer.longFormContentDurationThreshold?Me.get().streaming.buffer.bufferTimeAtTopQualityLongForm:Me.get().streaming.buffer.bufferTimeAtTopQuality,Br=isNaN(Lr)?tn:Math.min(Lr,tn+Ni);if(Br>=gn.end(gn.length-1))return null;var $i=L.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:tn,threshold:.01})[0];if($i&&(Br=Math.max($i.startTime+$i.duration,Br)),Me.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var Ii=0;Ii<gn.length;Ii++)if(gn.start(Ii)<=tn&&tn<=gn.end(Ii)&&gn.start(Ii)<=Br&&Br<=gn.end(Ii)){var vs=Br;Br=Ii+1<gn.length?gn.start(Ii+1):gn.end(Ii)+1,b.debug("Buffered range ["+gn.start(Ii)+", "+gn.end(Ii)+"] overlaps with targetTime "+tn+" and range to be pruned ["+vs+", "+Wn+"], using ["+Br+", "+Wn+"] instead"+(Br<Wn?"":" (no actual pruning)"));break}return Br<gn.end(gn.length-1)?{start:Br,end:Wn}:null}(lt,Ee);rt&&je.push(rt),It&&je.push(It)}return je}function Oe(){(!le||we===f.Z.TEXT&&ie.isTextEnabled())&&Vt()}function Ye(){mn()}function nt(){mn(),ye=NaN}function st(lt,je){if(!re)return null;var Ee,rt,It=re.getAllBufferRanges(),tn=0,gn=0,Wn=null,Lr=null,Ni=0,Br=isNaN(je)?.15:je;if(null!=It){for(rt=0,Ee=It.length;rt<Ee;rt++)if(tn=It.start(rt),gn=It.end(rt),null===Wn)Ni=Math.abs(tn-lt),(lt>=tn&&lt<gn||Ni<=Br)&&(Wn=tn,Lr=gn);else{if(!((Ni=tn-Lr)<=Br))break;Lr=gn}if(null!==Wn)return{start:Wn,end:Lr}}return null}function Vt(){if(ce){var lt=ce.getTime()||0;V&&(lt=isNaN(ye)?0:ye);var je=Me.get().streaming.gaps.jumpGaps&&!isNaN(Me.get().streaming.gaps.smallGapLimit)?Me.get().streaming.gaps.smallGapLimit:NaN;F=Math.max((Ee=lt,rt=je,Me.get().streaming.gaps.jumpGaps&&(rt=Me.get().streaming.gaps.smallGapLimit),null===(It=st(Ee,rt))?0:It.end-Ee),0),pt(v.Z.BUFFER_LEVEL_UPDATED,{mediaType:we,bufferLevel:F}),mn()}var Ee,rt,It}function kt(){var lt=U>=J-1,je=ce.getTimeToStreamEnd(z)-F<1e-5;!lt&&!je||M||(Pt(!0),b.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(z.id," and type ").concat(we)))}function mn(){we!==f.Z.AUDIO&&we!==f.Z.VIDEO||((!ce.getLowLatencyModeEnabled()&&F<Me.get().streaming.buffer.stallThreshold||0===F)&&!M?bt(I.Z.BUFFER_EMPTY):(M||F>=Me.get().streaming.buffer.stallThreshold||ce.getLowLatencyModeEnabled()&&F>0)&&bt(I.Z.BUFFER_LOADED))}function bt(lt){ee===lt||lt===I.Z.BUFFER_EMPTY&&0===ce.getTime()||we===f.Z.TEXT&&!ie.isTextEnabled()||(ee=lt,pt(v.Z.BUFFER_LEVEL_STATE_CHANGED,{state:lt}),pt(lt===I.Z.BUFFER_LOADED?v.Z.BUFFER_LOADED:v.Z.BUFFER_EMPTY),b.debug(lt===I.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function rn(){re&&we!==f.Z.TEXT&&(M||hn(un()))}function un(){var lt=[],je=re.getAllBufferRanges();if(!je||0===je.length)return lt;var Ee=ce.getTime(),rt=Math.max(0,Ee-Me.get().streaming.buffer.bufferToKeep),It=L.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Ee,threshold:.01})[0];if(It)rt=Math.min(It.startTime,rt);else if(0===Ee&&ce.getIsDynamic())return[];if(je.start(0)<=rt){for(var tn={start:0,end:rt},gn=0;gn<je.length&&je.end(gn)<=rt;gn++)tn.end=je.end(gn);tn.start<tn.end&&lt.push(tn)}return lt}function hn(lt){return new Promise(function(je,Ee){if(lt&&re&&0!==lt.length){var rt=[];lt.forEach(function(It){var tn;rt.push((tn=It,new Promise(function(gn,Wn){tn.resolve=gn,tn.reject=Wn,be.push(tn)})))}),Te||En(),Promise.all(rt).then(function(){je()}).catch(function(It){Ee(It)})}else je()})}function En(){try{if(0===be.length||!re)return b.debug("Nothing to prune, halt pruning"),be=[],void(Te=!1);var lt=re.getBuffer();if(!lt||!lt.buffered||0===lt.buffered.length)return b.debug("SourceBuffer is empty (or does not exist), halt pruning"),be=[],void(Te=!1);var je=be.shift();b.debug("".concat(we,": Removing buffer from: ").concat(je.start," to ").concat(je.end)),Te=!0,ce.getTime()<je.end&&Pt(!1),re.remove(je).then(function(Ee){Fn(Ee)}).catch(function(Ee){Fn(Ee)})}catch{Te=!1}}function Fn(lt){b.debug("onRemoved buffer from:",lt.from,"to",lt.to),re&&(pn(re.getAllBufferRanges()),0===be.length&&(Te=!1,Vt()),lt.unintended&&(b.warn("Detected unintended removal from:",lt.from,"to",lt.to,"setting streamprocessor time to",lt.from),pt(v.Z.SEEK_TARGET,{time:lt.from})),Te?En():(le?le=!1:Vt(),pt(v.Z.BUFFER_CLEARED,{from:lt.from,to:lt.to,unintended:lt.unintended,hasEnoughSpaceToAppend:cn(),quotaExceeded:Se})))}function Ln(lt){return new Promise(function(je){lt&&void 0!==lt.MSETimeOffset&&re&&re.updateTimestampOffset?re.updateTimestampOffset(lt.MSETimeOffset).then(function(){je()}).catch(function(){je()}):je()})}function Qn(){return re&&!M?re.updateAppendWindow(z):Promise.resolve()}function Jn(){++me*(Me.get().streaming.wallclockTimeUpdateInterval/1e3)>=Me.get().streaming.buffer.bufferPruningInterval&&(me=0,rn())}function lr(){mn()}function Pt(lt){(M=lt)?pt(v.Z.BUFFERING_COMPLETED):J=Number.POSITIVE_INFINITY}function Tn(){try{var lt,je,Ee=re.getAllBufferRanges(),rt=0;if(!Ee)return rt;for(je=0,lt=Ee.length;je<lt;je++)rt+=Ee.end(je)-Ee.start(je);return rt}catch{return 0}}function wn(lt){try{var je=lt,Ee=re.getAllBufferRanges();if(!Ee||0===Ee.length)return NaN;for(var rt=0;je===lt&&rt<Ee.length;){var It=Ee.start(rt),tn=Ee.end(rt);je>=It&&je<=tn&&(je=tn),rt+=1}return je===lt?NaN:je}catch{}}function cn(){var lt=Tn();return isNaN(lt)||lt<P}function pt(lt,je){q.trigger(lt,je||{},{streamId:z.id,mediaType:we})}function Bt(lt,je){if(P=Number.POSITIVE_INFINITY,ee=void 0,J=Number.POSITIVE_INFINITY,U=0,Ie=null,M=!1,Te=!1,Se=!1,F=0,me=0,be=[],ye=NaN,V=!1,re){var Ee=re;re=null,lt||je||Ee.abort().then(function(){Ee.reset(je),Ee=null})}le=!1}return p={initialize:function(lt){Xe(lt),q.on(v.Z.INIT_FRAGMENT_LOADED,Ot,p),q.on(v.Z.MEDIA_FRAGMENT_LOADED,dt,p),q.on(v.Z.WALLCLOCK_TIME_UPDATED,Jn,p),q.on(h.Z.PLAYBACK_PLAYING,nt,p),q.on(h.Z.PLAYBACK_PROGRESS,Oe,p),q.on(h.Z.PLAYBACK_TIME_UPDATED,Oe,p),q.on(h.Z.PLAYBACK_RATE_CHANGED,lr,p),q.on(h.Z.PLAYBACK_STALLED,Ye,p)},getStreamId:function(){return z.id},getType:function(){return we},getBufferControllerType:function(){return jt},createBufferSink:Ue,dischargePreBuffer:function(){if(re&&K&&"function"==typeof K.discharge){var lt=K.getAllBufferRanges();if(lt.length>0){for(var je="Beginning "+we+"PreBuffer discharge, adding buffer for:",Ee=0;Ee<lt.length;Ee++)je+=" start: "+lt.start(Ee)+", end: "+lt.end(Ee)+";";b.debug(je)}else b.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");ne=[];for(var rt=K.discharge(),It=null,tn=0;tn<rt.length;tn++){var gn=rt[tn];if(gn.segmentType!==ut.w.INIT_SEGMENT_TYPE){var Wn=te.extract(gn.streamId,gn.representationId);Wn&&It!==Wn&&(ne.push(Wn),re.append(Wn),It=Wn)}ne.push(gn),re.append(gn)}K.reset(),K=null}},getBuffer:function(){return re},getBufferLevel:function(){return F},getRangeAt:st,hasBufferAtTime:function(lt){try{var je=re.getAllBufferRanges();if(!je||0===je.length)return!1;for(var Ee=0;Ee<je.length;){var rt=je.start(Ee),It=je.end(Ee);if(lt>=rt&&lt<=It)return!0;Ee+=1}return!1}catch(tn){return b.error(tn),!1}},pruneBuffer:rn,setMediaSource:Xe,getMediaSource:function(){return C},appendInitSegmentFromCache:function(lt){var je=te.extract(z.id,lt);return!!je&&(b.info("Append Init fragment",we," with representationId:",je.representationId," and quality:",je.quality,", data size:",je.bytes.byteLength),wt(je),!0)},getIsBufferingCompleted:function(){return M},setIsBufferingCompleted:Pt,getIsPruningInProgress:function(){return Te},reset:function(lt,je){q.off(v.Z.INIT_FRAGMENT_LOADED,Ot,this),q.off(v.Z.MEDIA_FRAGMENT_LOADED,dt,this),q.off(v.Z.WALLCLOCK_TIME_UPDATED,Jn,this),q.off(h.Z.PLAYBACK_PLAYING,nt,this),q.off(h.Z.PLAYBACK_PROGRESS,Oe,this),q.off(h.Z.PLAYBACK_TIME_UPDATED,Oe,this),q.off(h.Z.PLAYBACK_RATE_CHANGED,lr,this),q.off(h.Z.PLAYBACK_STALLED,Ye,this),Bt(lt,je)},prepareForPlaybackSeek:function(){return M&&Pt(!1),re.abort()},prepareForReplacementTrackSwitch:function(lt){return new Promise(function(je,Ee){re.abort().then(function(){return Qn()}).then(function(){return Me.get().streaming.buffer.useChangeTypeForTrackSwitch?re.changeType(lt):Promise.resolve()}).then(function(){return it()}).then(function(){Pt(!1),je()}).catch(function(rt){Ee(rt)})})},prepareForNonReplacementTrackSwitch:function(lt){return new Promise(function(je,Ee){Qn().then(function(){return Me.get().streaming.buffer.useChangeTypeForTrackSwitch?re.changeType(lt):Promise.resolve()}).then(function(){je()}).catch(function(rt){Ee(rt)})})},prepareForForceReplacementQualitySwitch:function(lt){return new Promise(function(je,Ee){re.abort().then(function(){return Qn()}).then(function(){return it()}).then(function(){return Ln(lt)}).then(function(){Pt(!1),je()}).catch(function(rt){Ee(rt)})})},updateAppendWindow:Qn,getAllRangesWithSafetyFactor:Ne,getContinuousBufferTimeForTargetTime:wn,clearBuffers:hn,pruneAllSafely:it,updateBufferTimestampOffset:Ln,setSeekTarget:function(lt){ye=lt},segmentRequestingCompleted:function(lt){isNaN(lt)||(J=lt,kt())}},b=(0,D.Z)(w).getInstance().getLogger(p),te=xe(w).getInstance(),Bt(),p}Ct.__dashjs_factory_name=jt;var Je=S.Z.getClassFactory(Ct),yt="NotFragmentedTextBufferController";function pe(_){_=_||{};var p,b,M,F,P,C,U=this.context,J=(0,A.Z)(U).getInstance(),re=_.textController,K=_.errHandler,V=_.streamInfo,ne=_.type;function ee(Te){F=Te}function Ie(Te){b!==Te&&(b=Te)&&J.trigger(v.Z.BUFFERING_COMPLETED,{},{streamId:V.id,mediaType:ne})}function me(Te){Te.chunk.bytes&&!b&&(C.save(Te.chunk),P.append(Te.chunk),Ie(!0))}return p={initialize:function(Te){ee(Te)},getStreamId:function(){return V.id},getType:function(){return ne},getBufferControllerType:function(){return yt},createBufferSink:function(Te){return new Promise(function(Se,te){try{(P=ke(U).create({mediaSource:F,textController:re,eventBus:J})).initializeForFirstUse(V,Te),M||(P.getBuffer()&&"function"==typeof P.getBuffer().initialize&&P.getBuffer().initialize(),M=!0),Se(P)}catch(be){K.error(new X.Z(_e.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,_e.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+ne)),te(be)}})},dischargePreBuffer:function(){},getBuffer:function(){return P},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:ee,getMediaSource:function(){return F},appendInitSegmentFromCache:function(Te){return null!==C.extract(V.id,Te)},getIsBufferingCompleted:function(){return b},setIsBufferingCompleted:Ie,getIsPruningInProgress:function(){return!1},reset:function(Te){J.off(v.Z.INIT_FRAGMENT_LOADED,me,p),!Te&&P&&(P.abort(),P.reset(),P=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return b=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},M=!1,F=null,b=!1,C=xe(U).getInstance(),J.on(v.Z.INIT_FRAGMENT_LOADED,me,p),p}pe.__dashjs_factory_name=yt;var Ae=S.Z.getClassFactory(pe);function at(_){_=_||{};var p,b,M,F,P,C,U,J,re,K,V,ne,ee=this.context,Ie=(0,A.Z)(ee).getInstance(),me=_.dashMetrics,Te=_.mediaPlayerModel,Se=_.fragmentModel,te=_.abrController,be=_.playbackController,le=_.textController,ye=_.type,w=_.bufferController,q=_.representationController,G=_.settings;function L(Be){if(!w.getIsBufferingCompleted()){B();var Ue=isNaN(Be)?0:Be;P=setTimeout(se,Ue)}}function B(){P&&(clearTimeout(P),P=null)}function se(){try{if(function(){try{return ye===f.Z.TEXT&&!le.isTextEnabled()||be.isPaused()&&(!be.getStreamController().getInitialPlayback()||!be.getStreamController().getAutoPlay())&&!G.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void B();if(function(){try{return q.getCurrentRepresentationInfo()&&(isNaN(re)||K||(Nt=te.getMaxAllowedIndexFor(ye,b.id),!(!isNaN(J)&&J==Nt||(M.info("Top quality "+ye+" index has changed from "+J+" to "+Nt),J=Nt,0)))||(Ot=q.getCurrentRepresentationInfo(),!ye||!Ot||me.getCurrentBufferLevel(ye)<ie()))}catch{return!1}var Ot,Nt}()){var Be=!1;ne&&(Be=te.checkPlaybackQuality(ye,b.id)),Be||(Ue=q.getCurrentRepresentationInfo(),V||Ue.quality!==re||K?(K?(M.debug("Switch track for "+ye+", representation id = "+Ue.id),K=!1):M.debug("Quality has changed, get init request for representationid = "+Ue.id),Ie.trigger(v.Z.INIT_FRAGMENT_NEEDED,{representationId:Ue.id,sender:p},{streamId:b.id,mediaType:ye}),ne=!1,V=!1):(M.debug("Media segment needed for ".concat(ye," and stream id ").concat(b.id)),Ie.trigger(v.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:b.id,mediaType:ye}),ne=!0))}else L(be.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}catch{L(be.getLowLatencyModeEnabled()?G.get().streaming.scheduling.lowLatencyTimeout:G.get().streaming.scheduling.defaultTimeout)}var Ue}function ie(){var Be=NaN,Ue=q.getCurrentRepresentationInfo();return ye&&Ue&&(Be=ye===f.Z.TEXT?function(){try{if(le.isTextEnabled()){var He=q.getCurrentRepresentationInfo();if(isNaN(He.fragmentDuration)){var Nt=me.getCurrentSchedulingInfo(I.Z.SCHEDULING_INFO);return Nt?Nt.duration:0}return He.fragmentDuration}return 0}catch{return 0}}():ye===f.Z.AUDIO&&C?function(){try{var He=me.getCurrentBufferLevel(f.Z.VIDEO),Nt=q.getCurrentRepresentationInfo();return isNaN(Nt.fragmentDuration)?He+1:Math.max(He+1,Nt.fragmentDuration)}catch{return 0}}():function(){try{var He=q.getCurrentRepresentationInfo().mediaInfo.streamInfo;return te.isPlayingAtTopQuality(He)?He.manifestInfo.duration>=G.get().streaming.buffer.longFormContentDurationThreshold?G.get().streaming.buffer.bufferTimeAtTopQualityLongForm:G.get().streaming.buffer.bufferTimeAtTopQuality:Te.getStableBufferTime()}catch{return Te.getStableBufferTime()}}()),Be}function he(){ce(!0)}function ce(Be){if(be&&Se){var Ue=Se.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:be.getTime(),threshold:0})[0];Ue&&be.getTime()>=Ue.startTime&&((!U.mediaInfo||Ue.mediaInfo.type===U.mediaInfo.type&&Ue.mediaInfo.index!==U.mediaInfo.index)&&Be&&Ie.trigger(v.Z.TRACK_CHANGE_RENDERED,{mediaType:ye,oldMediaInfo:U.mediaInfo,newMediaInfo:Ue.mediaInfo,streamId:b.id}),Ue.quality===U.quality&&Ue.adaptationIndex===U.adaptationIndex||!Be||(M.debug("Quality change rendered for streamId ".concat(b.id," and type ").concat(ye)),Ie.trigger(v.Z.QUALITY_CHANGE_RENDERED,{mediaType:ye,oldQuality:U.quality,newQuality:Ue.quality,streamId:b.id})),U={mediaInfo:Ue.mediaInfo,quality:Ue.quality,adaptationIndex:Ue.adaptationIndex})}}function z(){Se.abortRequests(),B()}function we(){G.get().streaming.scheduling.scheduleWhilePaused||L()}function Me(Be){me.updatePlayListTraceMetrics({playbackspeed:Be.playbackRate.toString()})}function Xe(){ne=!0,F=0,re=NaN,U={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},J=NaN,K=!1,V=!1}return p={initialize:function(Be){C=Be,Ie.on(v.Z.URL_RESOLUTION_FAILED,z,p),Ie.on(h.Z.PLAYBACK_STARTED,we,p),Ie.on(h.Z.PLAYBACK_RATE_CHANGED,Me,p),Ie.on(h.Z.PLAYBACK_TIME_UPDATED,he,p)},getType:function(){return ye},getStreamId:function(){return b.id},setTimeToLoadDelay:function(Be){F=Be},getTimeToLoadDelay:function(){return F},setSwitchTrack:function(Be){K=Be},getSwitchTrack:function(){return K},startScheduleTimer:L,clearScheduleTimer:B,reset:function(){Ie.off(v.Z.URL_RESOLUTION_FAILED,z,p),Ie.off(h.Z.PLAYBACK_STARTED,we,p),Ie.off(h.Z.PLAYBACK_RATE_CHANGED,Me,p),Ie.off(h.Z.PLAYBACK_TIME_UPDATED,he,p),B(),ce(!1),Xe(),b=null},getBufferTarget:ie,getPlaybackController:function(){return be},setCheckPlaybackQuality:function(Be){ne=Be},setInitSegmentRequired:function(Be){V=Be},setLastInitializedQuality:function(Be){re=Be}},M=(0,D.Z)(ee).getInstance().getLogger(p),Xe(),b=_.streamInfo,p}at.__dashjs_factory_name="ScheduleController";var E=S.Z.getClassFactory(at),g=H(7387);function R(_){var p,b,M,F,P,C,U=(_=_||{}).eventBus,J=_.events,re=_.abrController,K=_.dashMetrics,V=_.playbackController,ne=_.timelineConverter,ee=_.type,Ie=_.streamInfo,me=_.dashConstants,Te=_.segmentsController,Se=_.isDynamic,te=_.adapter;function be(){return ee}function le(){return M}function ye(){return C}function w(){b=null,M=!0,F=[],P=null}function q(he){return new Promise(function(ce,z){var we=he.hasInitialization(),Me=he.hasSegments(),Xe=[];Xe.push(Te.updateInitData(he,we)),Xe.push(Te.updateSegmentData(he,Me)),Promise.all(Xe).then(function(Be){var Ue,Nt;Be[0]&&!Be[0].error&&(he=(Nt=Be[0])&&!Nt.error&&Nt.representation?Nt.representation:he),Be[1]&&!Be[1].error&&(he=function(He,Nt){if(Nt&&!Nt.error){var Ot,dt,wt,pn,Le=Nt.segments,it=[],Ne=0;for(Ot=0,dt=Le?Le.length:0;Ot<dt;Ot++)(pn=(0,g.TJ)(ne,Se,He,(wt=Le[Ot]).startTime,wt.duration,wt.timescale,wt.media,wt.mediaRange,Ne))&&(it.push(pn),pn=null,Ne++);return it.length>0&&(He.segments=it),He}}(he,Be[1])),(Ue=he).mediaFinishedInformation=Te.getMediaFinishedInformation(Ue),function(He){if(le()){var Nt,dt=K.getCurrentManifestUpdate(),wt=!1;if(dt){for(var pn=0;pn<dt.representationInfo.length;pn++)if((Nt=dt.representationInfo[pn]).index===He.index&&Nt.mediaType===be()){wt=!0;break}wt||K.addManifestUpdateRepresentationInfo(He,be())}if(function(){for(var it=0,Ne=F.length;it<Ne;it++){var Oe=F[it].segmentInfoType;if(!F[it].hasInitialization()||(Oe===me.SEGMENT_BASE||Oe===me.BASE_URL)&&!F[it].segments)return!1}return!0}()){re.setPlaybackQuality(ee,Ie,F.indexOf(C));var Le=K.getCurrentDVRInfo(ee);Le&&K.updateManifestUpdateInfo({latency:Le.range.end-V.getTime()}),K.getCurrentRepresentationSwitch(ye().adaptation.type)||G(),B()}}}(he),ce()}).catch(function(Be){z(Be)})})}function G(){!function(){if(!(re&&K&&V&&ne))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var he=new Date,ce=ye(),z=1e3*V.getTime();ce&&K.addRepresentationSwitch(ce.adaptation.type,he,z,ce.id),U.trigger(h.Z.REPRESENTATION_SWITCH,{mediaType:ee,streamId:Ie.id,currentRepresentation:ce,numberOfRepresentations:F.length},{streamId:Ie.id,mediaType:ee})}function L(he){return null==he||he>=F.length?null:F[he]}function B(he){M=!1,U.trigger(J.DATA_UPDATE_COMPLETED,{data:b,currentRepresentation:C,error:he},{streamId:Ie.id,mediaType:ee})}function se(he){P=te.convertRepresentationToRepresentationInfo(C=he)}function ie(he){if(he.newDuration){var ce=ye();ce&&ce.adaptation.period&&(ce.adaptation.period.duration=he.newDuration)}}return p={getStreamId:function(){return Ie.id},getType:be,getData:function(){return b},isUpdating:le,updateData:function(he,ce,z,we,Me){return new Promise(function(Xe,Be){if(M=!0,F=ce,b=he,se(L(Me)),z!==f.Z.VIDEO&&z!==f.Z.AUDIO&&(z!==f.Z.TEXT||!we))return B(),void Xe();for(var Ue=[],He=0,Nt=F.length;He<Nt;He++)Ue.push(q(F[He]));Promise.all(Ue).then(function(){se(L(Me)),Xe()}).catch(function(dt){Be(dt)})})},getCurrentRepresentation:ye,getCurrentRepresentationInfo:function(){return P},getRepresentationForQuality:L,prepareQualityChange:function(he){se(L(he)),G()},reset:function(){U.off(h.Z.MANIFEST_VALIDITY_CHANGED,ie,p),w()}},w(),U.on(h.Z.MANIFEST_VALIDITY_CHANGED,ie,p),p}R.__dashjs_factory_name="RepresentationController";var O=S.Z.getClassFactory(R),ae=H(3106),oe=H(9326),De=H(7473),We=H(2594);function $e(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var Fe=function _(){$e(this,_),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Fe.INITIAL_PLAYOUT_START_REASON="initial_playout",Fe.SEEK_START_REASON="seek",Fe.RESUME_FROM_PAUSE_START_REASON="resume",Fe.METRICS_COLLECTION_START_REASON="metrics_collection_start";var qe=function _(){$e(this,_),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};qe.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",qe.REBUFFERING_REASON="rebuffering",qe.USER_REQUEST_STOP_REASON="user_request",qe.END_OF_PERIOD_STOP_REASON="end_of_period",qe.END_OF_CONTENT_STOP_REASON="end_of_content",qe.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",qe.FAILURE_STOP_REASON="failure";var ht=H(7802);function Ce(){return{ntpToUTC:function(_){var p=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(p.getTime()+_).getTime()}}}Ce.__dashjs_factory_name="TimeUtils";var tt=S.Z.getSingletonFactory(Ce);function Ze(_){_=_||{};var p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me=this.context,Te=(0,A.Z)(me).getInstance(),Se=_.streamInfo,te=_.type,be=_.errHandler,le=_.mimeType,ye=_.timelineConverter,w=_.adapter,q=_.manifestModel,G=_.mediaPlayerModel,L=_.fragmentModel,B=_.abrController,se=_.playbackController,ie=_.mediaController,he=_.textController,ce=_.dashMetrics,z=_.settings,we=_.boxParser,Me=_.segmentBlacklistController;function Xe(){return Se.id}function Be(){return te}function Ue(){return w.getIsTextTrack(J.getData())}function He(){P=[],F=null,ee=0,re=!1,K=!1,Ie=null}function Nt(pt){return!isNaN(pt)&&!isNaN(Se.duration)&&isFinite(Se.duration)&&pt>=Se.start+Se.duration}function Ot(pt){var Bt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(pt.sender)if(se.getIsManifestUpdateInProgress())it();else if((!Ue()||he.isTextEnabled())&&C&&pt.representationId&&!C.appendInitSegmentFromCache(pt.representationId)){var lt=J.getCurrentRepresentation();if(0===lt.range)return void dt();var je=V?V.getInitRequest(F,lt):null;je?L.executeRequest(je):Bt&&(U.setInitSegmentRequired(!0),it())}}function dt(pt){var Bt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(se.getIsManifestUpdateInProgress()||C.getIsPruningInProgress())it();else{var lt=function Le(){var pt,Bt=Ln();if(isNaN(ee)||Be()===f.Z.TEXT&&!he.isTextEnabled())return null;if(V){var lt=J&&Bt?J.getRepresentationForQuality(Bt.quality):null;pt=re?V.getSegmentRequestForTime(F,lt,ee):V.getNextSegmentRequest(F,lt)}return pt}();lt?(re=!1,function wt(pt){var Bt,lt;isNaN(pt.startTime+pt.duration)||(ee=pt.startTime+pt.duration),pt.delayLoadingTime=(new Date).getTime()+U.getTimeToLoadDelay(),U.setTimeToLoadDelay(0),lt=(Bt=pt).url,Bt.range&&(lt=lt.concat("_",Bt.range)),Me.contains(lt)?(b.warn("Fragment request url ".concat(pt.url," for stream id ").concat(Se.id," and media type ").concat(te," is on the ignore list and will be skipped")),it()):(b.debug("Next fragment request url for stream id ".concat(Se.id," and media type ").concat(te," is ").concat(pt.url)),L.executeRequest(pt))}(lt)):function pn(pt){var Bt,lt=J.getCurrentRepresentation();if(!z.get().streaming.gaps.enableSeekFix||!re&&0!==se.getTime()||(M?M&&lt.segmentInfoType===d.Z.SEGMENT_TIMELINE&&(Bt=V.getValidTimeAheadOfTargetTime(ee,F,lt,z.get().streaming.gaps.threshold)):Bt=V.getValidTimeAheadOfTargetTime(ee,F,lt,z.get().streaming.gaps.threshold),isNaN(Bt)||Bt===ee)){if(V.isLastSegmentRequested(lt,ee)){var je=V.getCurrentIndex();return b.debug("Segment requesting for stream ".concat(Se.id," has finished")),Te.trigger(v.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:je},{streamId:Se.id,mediaType:te}),C.segmentRequestingCompleted(je),void U.clearScheduleTimer()}pt&&it()}else se.isSeeking()||0===se.getTime()?(b.warn("Adjusting playback time ".concat(Bt," because of gap in the manifest. Seeking by ").concat(Bt-ee)),se.seek(Bt,!1,!1)):(b.warn("Adjusting buffering time ".concat(Bt," because of gap in the manifest. Adjusting time by ").concat(Bt-ee)),cn(Bt),pt&&it())}(Bt)}}function it(){U.startScheduleTimer(se.getLowLatencyModeEnabled()?z.get().streaming.scheduling.lowLatencyTimeout:z.get().streaming.scheduling.defaultTimeout)}function Ne(pt){pt.error||C.getIsBufferingCompleted()||C.updateBufferTimestampOffset(pt.currentRepresentation)}function Oe(pt){ce.addBufferState(te,pt.state,U.getBufferTarget()),pt.state!==I.Z.BUFFER_EMPTY||se.isSeeking()||(b.info("Buffer is empty! Stalling!"),ce.pushPlayListTraceMetrics(new Date,qe.REBUFFERING_REASON))}function Ye(pt){L.syncExecutedRequestsWithBufferedRange(C.getBuffer().getAllBufferRanges(),Se.duration),pt.quotaExceeded&&pt.from>se.getTime()&&cn(pt.from),pt.hasEnoughSpaceToAppend&&pt.quotaExceeded&&U.startScheduleTimer()}function nt(pt){if(pt&&pt.lastRequestAppended&&pt.lastRequestAppended.url){var Bt=pt.lastRequestAppended.url;pt.lastRequestAppended.range&&(Bt=Bt.concat("_",pt.lastRequestAppended.range)),b.warn("Blacklisting segment with url ".concat(Bt)),Me.add(Bt)}}function st(pt){b.debug("Appended bytes for ".concat(pt.mediaType," and stream id ").concat(pt.streamId)),pt.segmentType===ut.w.INIT_SEGMENT_TYPE&&(U.setLastInitializedQuality(pt.quality),b.info("["+te+"] lastInitializedRepresentationInfo changed to "+pt.quality)),Ie?Vt(Ie):U.startScheduleTimer(0)}function Vt(pt){var Bt=L.getRequests({state:k.FRAGMENT_MODEL_LOADING});if(Bt&&Bt.length>0)return b.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(Ie=pt);C.updateBufferTimestampOffset(pt).then(function(){F.segmentAlignment||F.subSegmentAlignment?U.startScheduleTimer():Tn(),Ie=null,K=!1}).catch(function(){Ie=null,K=!1})}function kt(pt){b.info("onFragmentLoadingAbandoned request: "+pt.request.url+" has been aborted"),se.isSeeking()||U.getSwitchTrack()||K||(b.info("onFragmentLoadingAbandoned request: "+pt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),pt.request&&pt.request.isInitializationRequest()?U.setInitSegmentRequired(!0):cn(pt.request.startTime+pt.request.duration/2),U.startScheduleTimer(0))}function mn(pt){var Bt;b.info("OnFragmentLoadingCompleted for stream id "+Se.id+" and media type "+te+" - Url:",pt.request?pt.request.url:"undefined",pt.request.range?", Range:"+pt.request.range:""),Ue()&&U.startScheduleTimer(0),pt.error&&pt.request.serviceLocation&&(Bt=pt,b.info("Fragment loading completed with an error"),Bt&&Bt.request&&Bt.request.type&&(Bt.request.type===ut.w.INIT_SEGMENT_TYPE?Ot({representationId:Bt.request.representationId,sender:{}},!1):Bt.request.type===ut.w.MEDIA_SEGMENT_TYPE&&(cn(Bt.request.startTime+Bt.request.duration/2),dt({},!1))))}function bt(){cn(se.getTime()),Fn().startScheduleTimer()}function rn(pt){var Bt=pt.currentTrackInfo;if(Bt){var lt=P.find(function(je){return je.index===Bt.index&&je.lang===Bt.lang});lt&&En(lt).then(function(){C.setIsBufferingCompleted(!1),cn(se.getTime()),U.setInitSegmentRequired(!0),U.startScheduleTimer()})}}function un(pt){cn(pt.quotaExceededTime),U.clearScheduleTimer()}function hn(){return C?C.getBuffer():null}function En(pt){pt===F||pt&&F&&pt.type!==F.type||(F=pt);var Bt=w.getRealAdaptation(Se,F),lt=w.getVoRepresentations(F);if(J){var je,Ee=J.getData(),rt=B.getMaxAllowedIndexFor(te,Se.id),It=B.getMinAllowedIndexFor(te,Se.id),tn=null;return null!==Ee&&Ee.id===Bt.id||te===f.Z.TEXT?je=B.getQualityFor(te,Se.id):(tn=B.getThroughputHistory().getAverageThroughput(te,M)||B.getInitialBitrateFor(te,Se.id),je=B.getQualityForBitrate(F,tn,Se.id)),void 0!==It&&je<It&&(je=It),je>rt&&(je=rt),J.updateData(Bt,lt,te,F.isFragmented,je)}return Promise.resolve()}function Fn(){return U}function Ln(pt){var Bt;return void 0!==pt?((0,ae.SE)(pt),Bt=J?J.getRepresentationForQuality(pt):null):Bt=J?J.getCurrentRepresentation():null,w.convertRepresentationToRepresentationInfo(Bt)}function Qn(){return!!C&&C.getIsBufferingCompleted()}function Jn(pt){if(z.get().streaming.enableManifestTimescaleMismatchFix){var Bt=pt.chunk,lt=Bt.bytes,je=Ln(Bt.quality),Ee=J&&je?J.getRepresentationForQuality(je.quality):null;je&&Ee&&(Ee.timescale=we.getMediaTimescaleFromMoov(lt))}}function lr(pt){var Br,$i,Ii,vs,Bt=pt.chunk,lt=Bt.bytes,je=Bt.quality,Ee=Ln(je),rt=J&&Ee?J.getRepresentationForQuality(Ee.quality):null;if(Ee&&rt){var It;if(z.get().streaming.parseInbandPrft&&pt.request.type===ut.w.MEDIA_SEGMENT_TYPE){var tn=(Br=It=It||we.parse(lt),$i=rt.timescale,Ii=Br.getBoxes("prft"),vs=[],Ii.forEach(function(ea){vs.push(function(Ho,ys){var po="unknown";switch(Ho.flags){case 0:po=d.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:po=d.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:po=d.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var Ps=1e3*Ho.ntp_timestamp_sec+Ho.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:po,ntpTimestamp:Ps=tt(me).getInstance().ntpToUTC(Ps),mediaTime:Ho.media_time/ys}}(ea,$i))}),vs);tn&&tn.length&&Te.trigger(h.Z.INBAND_PRFT,{data:tn},{streamId:Se.id,mediaType:te})}var gn=w.getEventsFor(Ee.mediaInfo,null,Se),Wn=w.getEventsFor(Ee,rt,Se);if(gn&&gn.length>0||Wn&&Wn.length>0){var Lr=L.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,quality:je,index:Bt.index})[0],Ni=function(Br,$i,Ii,vs){try{for(var ea={},Ho=[],ys=Ii.concat(vs),po=0,Ps=ys.length;po<Ps;po++)ea[ys[po].schemeIdUri+"/"+ys[po].value]=ys[po];var ta=Br.getBoxes("emsg");if(!ta||0===ta.length)return Ho;for(var bi=Br.getBox("sidx"),vo=!bi||isNaN(bi.earliest_presentation_time)||isNaN(bi.timescale)?$i&&!isNaN($i.mediaStartTime)?$i.mediaStartTime:0:bi.earliest_presentation_time/bi.timescale,Xr=Math.max(vo,0),Fa=J.getCurrentRepresentation(),dl=0,La=ta.length;dl<La;dl++){var Jl=w.getEvent(ta[dl],ea,Xr,Fa);Jl&&Ho.push(Jl)}return Ho}catch{return[]}}(It=It||we.parse(lt),Lr,gn,Wn);Te.trigger(v.Z.INBAND_EVENTS,{events:Ni},{streamId:Se.id})}}}function Pt(){var pt=se.getTime();z.get().streaming.buffer.flushBufferAtTrackSwitch&&se.seek(pt+.001,!1,!0),cn(pt),C.setSeekTarget(pt),U.startScheduleTimer()}function Tn(){var pt=se.getTime(),Bt=C.getContinuousBufferTimeForTargetTime(pt);cn(isNaN(Bt)?pt:Bt),U.startScheduleTimer()}function wn(pt){pt&&!isNaN(pt.time)&&(cn(pt.time),C.setSeekTarget(pt.time))}function cn(pt){ee=pt,re=!0}return p={initialize:function(pt,Bt,lt){var je;ne=(0,ht.Z)(me).create({events:v.Z,eventBus:Te,streamInfo:Se,timelineConverter:ye,dashConstants:d.Z,segmentBaseController:_.segmentBaseController,type:te}),(V=(0,oe.Z)(me).create({streamInfo:Se,type:te,timelineConverter:ye,dashMetrics:ce,mediaPlayerModel:G,baseURLController:_.baseURLController,errHandler:be,segmentsController:ne,settings:z,boxParser:we,events:v.Z,eventBus:Te,errors:_e,debug:(0,D.Z)(me).getInstance(),requestModifier:(0,De.Z)(me).getInstance(),dashConstants:d.Z,constants:f.Z,urlUtils:(0,We.Z)(me).getInstance()})).initialize(M=Se.manifestInfo.isDynamic),B.registerStreamType(te,p),J=O(me).create({streamInfo:Se,type:te,abrController:B,dashMetrics:ce,playbackController:se,timelineConverter:ye,dashConstants:d.Z,events:v.Z,eventBus:Te,errors:_e,isDynamic:M,adapter:w,segmentsController:ne}),(C=(je=te)?je!==f.Z.TEXT||lt?Je(me).create({streamInfo:Se,type:je,mediaPlayerModel:G,manifestModel:q,fragmentModel:L,errHandler:be,mediaController:ie,representationController:J,adapter:w,textController:he,abrController:B,playbackController:se,settings:z}):Ae(me).create({streamInfo:Se,type:je,mimeType:le,fragmentModel:L,textController:he,errHandler:be,settings:z}):(be.error(new X.Z(_e.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,_e.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null))&&C.initialize(pt),(U=E(me).create({streamInfo:Se,type:te,mimeType:le,adapter:w,dashMetrics:ce,mediaPlayerModel:G,fragmentModel:L,abrController:B,playbackController:se,textController:he,mediaController:ie,bufferController:C,representationController:J,settings:z})).initialize(Bt),ee=0,re=!1},getStreamId:Xe,getType:Be,isUpdating:function(){return!!J&&J.isUpdating()},getBufferController:function(){return C},dischargePreBuffer:function(){C.dischargePreBuffer()},getFragmentModel:function(){return L},getScheduleController:Fn,getRepresentationController:function(){return J},getRepresentationInfo:Ln,getBufferLevel:function(){return C?C.getBufferLevel():0},isBufferingCompleted:Qn,createBufferSinks:function(pt){var Bt=hn();return Bt?Promise.resolve(Bt):C?C.createBufferSink(F,pt):Promise.resolve(null)},updateStreamInfo:function(pt){return Se=pt,Qn()?Promise.resolve():C.updateAppendWindow()},getStreamInfo:function(){return Se},selectMediaInfo:En,clearMediaInfoArray:function(){P=[]},addMediaInfo:function(pt){-1===P.indexOf(pt)&&P.push(pt)},prepareTrackSwitch:function(){return new Promise(function(pt){b.debug("Preparing track switch for type ".concat(te));var Bt=te===f.Z.TEXT||z.get().streaming.trackSwitchMode[te]===f.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&se.getTimeToStreamEnd(Se)>z.get().streaming.buffer.stallThreshold;if(C.getIsBufferingCompleted()&&!Bt)return C.prepareForNonReplacementTrackSwitch(F.codec).then(function(){Te.trigger(v.Z.BUFFERING_COMPLETED,{},{streamId:Se.id,mediaType:te})}).catch(function(){Te.trigger(v.Z.BUFFERING_COMPLETED,{},{streamId:Se.id,mediaType:te})}),void pt();U.clearScheduleTimer(),U.setSwitchTrack(!0),Bt?(Te.trigger(v.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:te,streamId:Se.id},{mediaType:te,streamId:Se.id}),L.abortRequests(),C.prepareForReplacementTrackSwitch(F.codec).then(function(){var lt=Ln();return C.updateBufferTimestampOffset(lt)}).then(function(){Pt(),pt()}).catch(function(){Pt(),pt()})):C.prepareForNonReplacementTrackSwitch(F.codec).then(function(){Tn(),pt()}).catch(function(){Tn(),pt()})})},prepareQualityChange:function(pt){Ie&&b.warning("Canceling queued representation switch to ".concat(Ie.quality," for ").concat(te)),b.debug("Preparing quality switch for type ".concat(te));var Bt=pt.newQuality;K=!0,U.clearScheduleTimer(),J.prepareQualityChange(Bt);var je,lt=Ln(Bt);pt.reason&&pt.reason.forceReplace?(je=lt,L.abortRequests(),Te.trigger(v.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:te,streamId:Se.id},{mediaType:te,streamId:Se.id}),C.prepareForForceReplacementQualitySwitch(je).then(function(){Pt(),K=!1}).catch(function(){Pt(),K=!1})):z.get().streaming.buffer.fastSwitchEnabled?function(je){var Ee=se.getTime(),rt=1.5*(isNaN(je.fragmentDuration)?1:je.fragmentDuration),It=L.getRequests({state:k.FRAGMENT_MODEL_EXECUTED,time:Ee+rt,threshold:0})[0];if(It&&!Ue()){var tn=C.getBufferLevel(),gn=B.getAbandonmentStateFor(Se.id,te);It.quality<je.quality&&tn>=rt&&gn!==I.Z.ABANDON_LOAD?C.updateBufferTimestampOffset(je).then(function(){L.abortRequests(),cn(Ee+rt),U.setCheckPlaybackQuality(!1),U.startScheduleTimer(),K=!1}).catch(function(){K=!1}):Vt(je)}else U.startScheduleTimer(),K=!1}(lt):Vt(lt),ce.pushPlayListTraceMetrics(new Date,qe.REPRESENTATION_SWITCH_STOP_REASON),ce.createPlaylistTraceMetrics(lt.id,1e3*se.getTime(),se.getPlaybackRate())},getMediaInfo:function(){return F},getMediaSource:function(){return C.getMediaSource()},setMediaSource:function(pt){return C.setMediaSource(pt,F)},getBuffer:hn,setExplicitBufferingTime:cn,finalisePlayList:function(pt,Bt){ce.pushPlayListTraceMetrics(pt,Bt)},probeNextRequest:function(){var pt=Ln(),Bt=J&&pt?J.getRepresentationForQuality(pt.quality):null;return V.getNextSegmentRequestIdempotent(F,Bt)},prepareInnerPeriodPlaybackSeeking:function(pt){return new Promise(function(Bt){if(C.hasBufferAtTime(pt.seekTime))return C.pruneBuffer(),Nt(C.getContinuousBufferTimeForTargetTime(pt.seekTime))&&C.setIsBufferingCompleted(!0),void Bt();U.clearScheduleTimer(),L.abortRequests(),C.prepareForPlaybackSeek().then(function(){var lt=C.getAllRangesWithSafetyFactor(pt.seekTime);return C.clearBuffers(lt)}).then(function(){var lt=C.getContinuousBufferTimeForTargetTime(pt.seekTime);if(Nt(lt))C.setIsBufferingCompleted(!0),Bt();else{var je=isNaN(lt)?pt.seekTime:lt;cn(je),C.setSeekTarget(je);var Ee=[];Ee.push(C.updateAppendWindow());var rt=Ln();Ee.push(C.updateBufferTimestampOffset(rt)),Promise.all(Ee).then(function(){U.setInitSegmentRequired(!0),U.setCheckPlaybackQuality(!1),U.startScheduleTimer(),Bt()})}}).catch(function(lt){b.error(lt)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(pt,Bt){try{U.clearScheduleTimer(),L.abortRequests(),C.prepareForPlaybackSeek().then(function(){return C.pruneAllSafely()}).then(function(){pt()})}catch(lt){Bt(lt)}})},reset:function(pt,Bt){V&&V.reset(),C&&(C.reset(pt,Bt),C=null),U&&(U.reset(),U=null),J&&(J.reset(),J=null),ne&&(ne=null),B&&B.unRegisterStreamType(Xe(),te),Te.off(v.Z.DATA_UPDATE_COMPLETED,Ne,p),Te.off(v.Z.INIT_FRAGMENT_NEEDED,Ot,p),Te.off(v.Z.MEDIA_FRAGMENT_NEEDED,dt,p),Te.off(v.Z.INIT_FRAGMENT_LOADED,Jn,p),Te.off(v.Z.MEDIA_FRAGMENT_LOADED,lr,p),Te.off(v.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,p),Te.off(v.Z.BUFFER_CLEARED,Ye,p),Te.off(v.Z.SEEK_TARGET,wn,p),Te.off(v.Z.FRAGMENT_LOADING_ABANDONED,kt,p),Te.off(v.Z.FRAGMENT_LOADING_COMPLETED,mn,p),Te.off(v.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,bt,p),Te.off(v.Z.SET_NON_FRAGMENTED_TEXT,rn,p),Te.off(v.Z.QUOTA_EXCEEDED,un,p),Te.off(v.Z.SOURCE_BUFFER_ERROR,nt,p),Te.off(v.Z.BYTES_APPENDED_END_FRAGMENT,st,p),He(),te=null,Se=null}},b=(0,D.Z)(me).getInstance().getLogger(p),He(),Te.on(v.Z.DATA_UPDATE_COMPLETED,Ne,p,{priority:A.Z.EVENT_PRIORITY_HIGH}),Te.on(v.Z.INIT_FRAGMENT_NEEDED,Ot,p),Te.on(v.Z.MEDIA_FRAGMENT_NEEDED,dt,p),Te.on(v.Z.INIT_FRAGMENT_LOADED,Jn,p),Te.on(v.Z.MEDIA_FRAGMENT_LOADED,lr,p),Te.on(v.Z.BUFFER_LEVEL_STATE_CHANGED,Oe,p),Te.on(v.Z.BUFFER_CLEARED,Ye,p),Te.on(v.Z.SEEK_TARGET,wn,p),Te.on(v.Z.FRAGMENT_LOADING_ABANDONED,kt,p),Te.on(v.Z.FRAGMENT_LOADING_COMPLETED,mn,p),Te.on(v.Z.QUOTA_EXCEEDED,un,p),Te.on(v.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,bt,p),Te.on(v.Z.SET_NON_FRAGMENTED_TEXT,rn,p),Te.on(v.Z.SOURCE_BUFFER_ERROR,nt,p),Te.on(v.Z.BYTES_APPENDED_END_FRAGMENT,st,p),p}Ze.__dashjs_factory_name="StreamProcessor";var Tt=S.Z.getClassFactory(Ze),Mt=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},ln=H(9032);function _n(_,p){if(_){if("string"==typeof _)return Dn(_,p);var b=Object.prototype.toString.call(_).slice(8,-1);return"Object"===b&&_.constructor&&(b=_.constructor.name),"Map"===b||"Set"===b?Array.from(_):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?Dn(_,p):void 0}}function Dn(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,M=new Array(p);b<p;b++)M[b]=_[b];return M}function In(_){var b,F=(_=_||{}).requestModifier,P=_.lowLatencyThroughputModel,C=_.boxParser,U=(0,Ge.Z)(this.context).getInstance();function J(V){var ne,ee=new Date,Ie=V.request,me=new Headers;if(Ie.range&&me.append("Range","bytes="+Ie.range),V.headers)for(var Te in V.headers){var Se=V.headers[Te];Se&&me.append(Te,Se)}Ie.requestStartDate||(Ie.requestStartDate=ee),F&&F.modifyRequestHeader&&F.modifyRequestHeader({setRequestHeader:function(w,q){me.append(w,q)}},{url:V.url}),"function"==typeof window.AbortController&&(ne=new AbortController,V.abortController=ne,ne.signal.onabort=V.onabort);var te={method:V.method,headers:me,credentials:V.withCredentials?"include":void 0,signal:ne?ne.signal:void 0},be=U.get().streaming.abr.fetchThroughputCalculationMode,le=Date.now(),ye=0;new Promise(function(w){if(be===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P&&(ye=P.getThroughputCapacityDelayMS(Ie,1e3*b.getCurrentBufferLevel(Ie.mediaType))))return setTimeout(w,ye);w()}).then(function(){var w=Date.now();fetch(V.url,te).then(function(q){V.response||(V.response={}),V.response.status=q.status,V.response.statusText=q.statusText,V.response.responseURL=q.url,q.ok||V.onerror();var G,L="",B=function(Oe,Ye){var nt;if(typeof Symbol>"u"||null==Oe[Symbol.iterator]){if(Array.isArray(Oe)||(nt=_n(Oe))){nt&&(Oe=nt);var st=0,Vt=function(){};return{s:Vt,n:function(){return st>=Oe.length?{done:!0}:{done:!1,value:Oe[st++]}},e:function(rn){throw rn},f:Vt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var kt,mn=!0,bt=!1;return{s:function(){nt=Oe[Symbol.iterator]()},n:function(){var rn=nt.next();return mn=rn.done,rn},e:function(rn){bt=!0,kt=rn},f:function(){try{mn||null==nt.return||nt.return()}finally{if(bt)throw kt}}}}(q.headers.keys());try{for(B.s();!(G=B.n()).done;){var se=G.value;L+=se+": "+q.headers.get(se)+"\r\n"}}catch(Oe){B.e(Oe)}finally{B.f()}if(V.response.responseHeaders=L,!q.body)return q.arrayBuffer().then(function(Oe){V.response.response=Oe,V.progress({loaded:Oe.byteLength,total:Oe.byteLength,stream:!1}),V.onload(),V.onend()});var ie,he,ce,we=parseInt(q.headers.get("Content-Length"),10),Me=0,Xe=!1,Be=new Uint8Array,Ue=0;if(be===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P){var He=w,Nt=0,Ot=(2,function(Oe){if(Array.isArray(Oe))return Oe}(ce=q.body.tee())||function(Oe,Ye){if(typeof Symbol<"u"&&Symbol.iterator in Object(Oe)){var nt=[],st=!0,Vt=!1,kt=void 0;try{for(var mn,bt=Oe[Symbol.iterator]();!(st=(mn=bt.next()).done)&&(nt.push(mn.value),2!==nt.length);st=!0);}catch(rn){Vt=!0,kt=rn}finally{try{st||null==bt.return||bt.return()}finally{if(Vt)throw kt}}return nt}}(ce)||_n(ce,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),wt=Ot[1];ie=Ot[0].getReader(),he=[],ie.read().then(function Oe(Ye){var nt=Ye.value,st=Ye.done;if(Nt=Date.now(),nt&&nt.length){var Vt=Nt-He,kt=nt.length;he.push({chunkDownloadTimeRelativeMS:Nt-w,chunkDownloadDurationMS:Vt,chunkBytes:kt,kbps:Math.round(8*kt/(Vt/1e3)),bufferLevel:b.getCurrentBufferLevel(Ie.mediaType)})}if(st){var mn=Nt-w,bt=he.reduce(function(rn,un){return rn+un.chunkBytes},0);return P.addMeasurement(Ie,mn,he,le,ye,L),void V.progress({loaded:bt,total:bt,lengthComputable:!0,time:P.getEstimatedDownloadDurationMS(Ie),stream:!0})}return He=Date.now(),ie.read().then(Oe)}),V.reader=wt.getReader()}else V.reader=q.body.getReader();var pn=[],Le=[],it=[],Ne=!0;re(V,function Oe(Ye){var nt=Ye.value;if(Ye.done){if(Be){if(be!==f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var st=null,Vt=null;be===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(st=function(rn,un){try{var hn,En;hn=rn.filter(function(Tn,wn){return wn<rn.length-1}),En=un.filter(function(Tn,wn){return wn<un.length-1});var Fn=[];if(hn.length>1){for(var Ln=0,Qn=0,Jn=0;Jn<hn.length;Jn++)if(hn[Jn]&&En[Jn]){var lr=En[Jn].ts-hn[Jn].ts;if(lr>1)Fn.push(8*En[Jn].bytes/lr),Qn=0;else{0===Qn&&(Qn=hn[Jn].ts,Ln=0);var Pt=En[Jn].ts-Qn;Pt>1?(Fn.push(8*(Ln+=En[Jn].bytes)/Pt),Qn=0):Ln+=En[Jn].bytes}}if(Fn.length>0)return Fn.reduce(function(Tn,wn){return Tn+wn},0)/Fn.length}return null}catch{return null}}(Le,it))&&(Vt=8*Me/st):be===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Vt=K(pn,Me)),V.progress({loaded:Me,total:isNaN(we)?Me:we,lengthComputable:!0,time:Vt,stream:!0})}V.response.response=Be.buffer}return V.onload(),void V.onend()}if(nt&&nt.length>0){Be=function(rn,un){if(0===rn.length)return un;var hn=new Uint8Array(rn.length+un.length);return hn.set(rn),hn.set(un,rn.length),hn}(Be,nt),Me+=nt.length,pn.push({ts:Date.now(),bytes:nt.length}),be===f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ne&&C.findLastTopIsoBoxCompleted(["moof"],Be,Ue).found&&(Ne=!1,Le.push({ts:performance.now(),bytes:nt.length}));var kt=C.findLastTopIsoBoxCompleted(["moov","mdat"],Be,Ue);if(kt.found){var mn,bt=kt.lastCompletedOffset+kt.size;be!==f.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||Ne||(Ne=!0,it.push({ts:performance.now(),bytes:Be.length})),bt===Be.length?(mn=Be,Be=new Uint8Array):(mn=new Uint8Array(Be.subarray(0,bt)),Be=Be.subarray(bt)),V.progress({data:mn.buffer,lengthComputable:!1,noTrace:!0}),Ue=0}else Ue=kt.lastCompletedOffset,Xe||(V.progress({lengthComputable:!1,noTrace:!0}),Xe=!0)}re(V,Oe)})}).catch(function(q){V.onerror&&V.onerror(q)})})}function re(V,ne){V.reader.read().then(ne).catch(function(ee){V.onerror&&200===V.response.status&&V.onerror(ee)})}function K(V,ne){try{if((V=V.filter(function(me){return me.bytes>ne/4/V.length})).length>1){var ee=0,Ie=(V[V.length-1].ts-V[0].ts)/V.length;return V.forEach(function(me,Te){var Se=V[Te+1];if(Se){var te=Se.ts-me.ts;ee+=te<Ie?te:0}}),ee}return null}catch{return null}}return{load:function(V){F&&F.modifyRequest?(0,De.k)(V,F).then(function(){return J(V)}):J(V)},abort:function(V){if(V.abortController)V.abortController.abort();else if(V.reader)try{V.reader.cancel(),V.onabort()}catch{}},calculateDownloadedTime:K,setup:function(V){b=V.dashMetrics}}}In.__dashjs_factory_name="FetchLoader";var Xn=S.Z.getClassFactory(In),Bn=H(1180);var gi=function(){function _(){(function(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var b;return(b=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==d.Z.BASE_URL&&this.segmentInfoType!==d.Z.SEGMENT_BASE&&!this.indexRange}}])&&function Er(_,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}(_.prototype,b),_}(),Dr=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.period=null,this.index=-1,this.type=null},ao=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};ao.DEFAULT_ID="defaultId";var _i=ao,Hi=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},wo=H(2610),Zi=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},Bo=function _(p,b,M,F){(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=p||"",this.serviceLocation=b||p||"",this.dvb_priority=M||1,this.dvb_weight=F||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};Bo.DEFAULT_DVB_PRIORITY=1,Bo.DEFAULT_DVB_WEIGHT=1;var Ko=Bo,qs=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},zt=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Ut=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0};var ft=function(){function _(){(function(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")})(this,_),this.schemeIdUri=null,this.value=null,this.id=null}var b;return(b=[{key:"init",value:function(M){return M&&(this.schemeIdUri=M.schemeIdUri?M.schemeIdUri:null,this.value=M.value?M.value:null,this.id=M.id?M.id:null),this}}])&&function Ht(_,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}(_.prototype,b),_}(),At=H(3101),mt=H.n(At);function St(){return{areEqual:function(_,p){return mt()(_,p)}}}St.__dashjs_factory_name="ObjectUtils";var en=S.Z.getSingletonFactory(St),nn=H(7803),fn=function _(p,b){(function(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=p||"",this.serviceLocation=b||null,this.queryParams={}},An=function _(p,b,M){(function(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=p||"",this.serviceLocation=b||null,this.ttl=M||NaN,this.queryParams={}};function sn(_,p){var b;if(typeof Symbol>"u"||null==_[Symbol.iterator]){if(Array.isArray(_)||(b=Lt(_))||p&&_&&"number"==typeof _.length){b&&(_=b);var M=0,F=function(){};return{s:F,n:function(){return M>=_.length?{done:!0}:{done:!1,value:_[M++]}},e:function(J){throw J},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,C=!0,U=!1;return{s:function(){b=_[Symbol.iterator]()},n:function(){var J=b.next();return C=J.done,J},e:function(J){U=!0,P=J},f:function(){try{C||null==b.return||b.return()}finally{if(U)throw P}}}}function Lt(_,p){if(_){if("string"==typeof _)return yn(_,p);var b=Object.prototype.toString.call(_).slice(8,-1);return"Object"===b&&_.constructor&&(b=_.constructor.name),"Map"===b||"Set"===b?Array.from(_):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?yn(_,p):void 0}}function yn(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,M=new Array(p);b<p;b++)M[b]=_[b];return M}function vn(){var _,p,b,M,F=this.context,P=(0,We.Z)(F).getInstance(),C=Number.isInteger||function(w){return"number"==typeof w&&isFinite(w)&&Math.floor(w)===w};function U(w,q){if(!w)throw new Error("adaptation is not defined");if(!q)throw new Error("type is not defined");if(w.Representation_asArray&&w.Representation_asArray.length){var G=Te(w.Representation_asArray[0]);if(G&&G.length>0&&nn.Y.indexOf(G[0].schemeIdUri)>=0)return q===f.Z.IMAGE}if(w.ContentComponent_asArray&&w.ContentComponent_asArray.length>0){if(w.ContentComponent_asArray.length>1)return q===f.Z.MUXED;if(w.ContentComponent_asArray[0].contentType===q)return!0}var L=q===f.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(q);if(w.Representation_asArray&&w.Representation_asArray.length&&L.test(w.Representation_asArray[0].codecs))return!0;if(w.hasOwnProperty(d.Z.MIME_TYPE))return L.test(w.mimeType);if(w.Representation_asArray)for(var se,ie=0;ie<w.Representation_asArray.length;ie++)if((se=w.Representation_asArray[ie]).hasOwnProperty(d.Z.MIME_TYPE))return L.test(se.mimeType);return!1}function J(w){if(!w)throw new Error("adaptation is not defined");if(w.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)||w.hasOwnProperty(d.Z.SEGMENT_TIMELINE)||w.hasOwnProperty(d.Z.SEGMENT_LIST)||w.hasOwnProperty(d.Z.SEGMENT_BASE))return!0;if(w.Representation_asArray&&w.Representation_asArray.length>0){var q=w.Representation_asArray[0];if(q.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)||q.hasOwnProperty(d.Z.SEGMENT_TIMELINE)||q.hasOwnProperty(d.Z.SEGMENT_LIST)||q.hasOwnProperty(d.Z.SEGMENT_BASE))return!0}return!1}function re(w){return U(w,f.Z.VIDEO)}function K(w){return U(w,f.Z.TEXT)}function V(w){return U(w,f.Z.IMAGE)}function ne(w){return w&&Array.isArray(w.Representation_asArray)&&w.Representation_asArray.sort(function(q,G){return q.bandwidth-G.bandwidth}),w}function ee(w,q){return w&&w.Period_asArray&&C(q)&&w.Period_asArray[q]?w.Period_asArray[q].AdaptationSet_asArray:[]}function Ie(w){return w&&w.Period_asArray?w.Period_asArray:[]}function me(w){var q=!1;return w&&w.hasOwnProperty("type")&&(q=w.type===d.Z.DYNAMIC),q}function Te(w){return w&&w.EssentialProperty_asArray&&w.EssentialProperty_asArray.length?w.EssentialProperty_asArray.map(function(q){return{schemeIdUri:q.schemeIdUri,value:q.value}}):null}function Se(w){if(!w||!w.S_asArray)return NaN;var q=w.S_asArray[0],G=w.S_asArray[1];return q.hasOwnProperty("d")?q.d:G.t-q.t}function te(w,q){if(!w)throw new Error("Period cannot be null or undefined");var G=_i.DEFAULT_ID+"_"+q;return w.hasOwnProperty(d.Z.ID)&&w.id.length>0&&"__proto__"!==w.id&&(G=w.id),G}function be(w,q,G){var L,B=[];if(!w)return B;for(L=0;L<w.length;L++){var se=new qs;if(se.timescale=1,se.representation=q,!w[L].hasOwnProperty(f.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");se.schemeIdUri=w[L].schemeIdUri,w[L].hasOwnProperty(d.Z.TIMESCALE)&&(se.timescale=w[L].timescale),w[L].hasOwnProperty(d.Z.VALUE)&&(se.value=w[L].value),B.push(se),se.period=G}return B}function le(w){var q=[],L=!1;return(w.BaseURL_asArray||[w.baseUri]).some(function(B){if(B){var se=new Ko,ie=B.__text||B;return P.isRelative(ie)&&(L=!0,w.baseUri&&(ie=P.resolve(ie,w.baseUri))),se.url=ie,se.serviceLocation=B.hasOwnProperty(d.Z.SERVICE_LOCATION)&&B.serviceLocation.length?B.serviceLocation:ie,B.hasOwnProperty(d.Z.DVB_PRIORITY)&&(se.dvb_priority=B[d.Z.DVB_PRIORITY]),B.hasOwnProperty(d.Z.DVB_WEIGHT)&&(se.dvb_weight=B[d.Z.DVB_WEIGHT]),B.hasOwnProperty(d.Z.AVAILABILITY_TIME_OFFSET)&&(se.availabilityTimeOffset=B[d.Z.AVAILABILITY_TIME_OFFSET]),B.hasOwnProperty(d.Z.AVAILABILITY_TIME_COMPLETE)&&(se.availabilityTimeComplete="false"!==B[d.Z.AVAILABILITY_TIME_COMPLETE]),q.push(se),L}}),q}function ye(w){var q=new Ut;return q.serverUrl=w.__text,w.hasOwnProperty(d.Z.DEFAULT_SERVICE_LOCATION)&&(q.defaultServiceLocation=w[d.Z.DEFAULT_SERVICE_LOCATION],q.defaultServiceLocationArray=q.defaultServiceLocation.split(" ")),w.hasOwnProperty(d.Z.QUERY_BEFORE_START)&&(q.queryBeforeStart="true"===w[d.Z.QUERY_BEFORE_START].toLowerCase()),w.hasOwnProperty(d.Z.CLIENT_REQUIREMENT)&&(q.clientRequirement="false"!==w[d.Z.CLIENT_REQUIREMENT].toLowerCase()),q}return _={getIsTypeOf:U,getIsText:K,getIsFragmented:J,getProducerReferenceTimesForAdaptation:function(w){var q=w&&w.hasOwnProperty(d.Z.PRODUCERREFERENCETIME_ASARRAY)?w[d.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(w&&w.hasOwnProperty(d.Z.REPRESENTATION_ASARRAY)?w[d.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(L){var B;L.hasOwnProperty(d.Z.PRODUCERREFERENCETIME_ASARRAY)&&q.push.apply(q,function(se){if(Array.isArray(se))return yn(se)}(B=L[d.Z.PRODUCERREFERENCETIME_ASARRAY])||function(se){if(typeof Symbol<"u"&&Symbol.iterator in Object(se))return Array.from(se)}(B)||Lt(B)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())});var G=[];return q.forEach(function(L){var B=new zt;L.hasOwnProperty(d.Z.ID)&&(B[d.Z.ID]=L[d.Z.ID],L.hasOwnProperty(d.Z.WALL_CLOCK_TIME)&&(B[d.Z.WALL_CLOCK_TIME]=L[d.Z.WALL_CLOCK_TIME],L.hasOwnProperty(d.Z.PRESENTATION_TIME)&&(B[d.Z.PRESENTATION_TIME]=L[d.Z.PRESENTATION_TIME],L.hasOwnProperty(d.Z.INBAND)&&(B[d.Z.INBAND]="false"!==L[d.Z.INBAND]),L.hasOwnProperty(d.Z.TYPE)&&(B[d.Z.TYPE]=L[d.Z.TYPE]),G.push(B))))}),G},getLanguageForAdaptation:function(w){var q="";return w&&w.hasOwnProperty(d.Z.LANG)&&(q=w.lang),q},getViewpointForAdaptation:function(w){return w&&w.hasOwnProperty(d.Z.VIEWPOINT_ASARRAY)&&w[d.Z.VIEWPOINT_ASARRAY].length?w[d.Z.VIEWPOINT_ASARRAY].map(function(q){return(new ft).init(q)}):[]},getRolesForAdaptation:function(w){return w&&w.hasOwnProperty(d.Z.ROLE_ASARRAY)&&w[d.Z.ROLE_ASARRAY].length?w[d.Z.ROLE_ASARRAY].map(function(q){return(new ft).init(q)}):[]},getAccessibilityForAdaptation:function(w){return w&&w.hasOwnProperty(d.Z.ACCESSIBILITY_ASARRAY)&&w[d.Z.ACCESSIBILITY_ASARRAY].length?w[d.Z.ACCESSIBILITY_ASARRAY].map(function(q){return(new ft).init(q)}):[]},getAudioChannelConfigurationForAdaptation:function(w){return w&&w.hasOwnProperty(d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&w[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?w[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(q){return(new ft).init(q)}):[]},getAudioChannelConfigurationForRepresentation:function(w){return w&&w.hasOwnProperty(d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&w[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?w[d.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(q){return(new ft).init(q)}):[]},getAdaptationForIndex:function(w,q,G){var L=ee(q,G);return L.length>0&&C(w)?L[w]:null},getIndexForAdaptation:function(w,q,G){if(!w)return-1;for(var L=ee(q,G),B=0;B<L.length;B++)if(en(F).getInstance().areEqual(L[B],w))return B;return-1},getAdaptationForId:function(w,q,G){var L,B,se=ee(q,G);for(L=0,B=se.length;L<B;L++)if(se[L].hasOwnProperty(d.Z.ID)&&se[L].id===w)return se[L];return null},getAdaptationsForType:function(w,q,G){var L,B,se=ee(w,q),ie=[];for(L=0,B=se.length;L<B;L++)U(se[L],G)&&ie.push(ne(se[L]));return ie},getRealPeriods:Ie,getRealPeriodForIndex:function(w,q){var G=Ie(q);return G.length>0&&C(w)?G[w]:null},getCodec:function(w,q,G){var L=null;if(w&&w.Representation_asArray&&w.Representation_asArray.length>0){var B=C(q)&&q>=0&&q<w.Representation_asArray.length?w.Representation_asArray[q]:w.Representation_asArray[0];B&&(L=B.mimeType+';codecs="'+B.codecs+'"',G&&void 0!==B.width&&(L+=';width="'+B.width+'";height="'+B.height+'"'))}return L&&(L=L.replace(/\sprofiles=[^;]*/g,"")),L},getSelectionPriority:function(w){try{var q=w&&void 0!==w.selectionPriority?parseInt(w.selectionPriority):1;return isNaN(q)?1:q}catch{return 1}},getMimeType:function(w){return w&&w.Representation_asArray&&w.Representation_asArray.length>0?w.Representation_asArray[0].mimeType:null},getKID:function(w){return w&&w.hasOwnProperty(d.Z.CENC_DEFAULT_KID)?w[d.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(w){if(!w||!Array.isArray(w.Label_asArray))return[];for(var q=[],G=0;G<w.Label_asArray.length;G++)q.push({lang:w.Label_asArray[G].lang,text:w.Label_asArray[G].__text||w.Label_asArray[G]});return q},getContentProtectionData:function(w){return w&&w.hasOwnProperty(d.Z.CONTENTPROTECTION_ASARRAY)&&0!==w.ContentProtection_asArray.length?w.ContentProtection_asArray:null},getIsDynamic:me,getId:function(w){return w&&w[d.Z.ID]||null},hasProfile:function(w,q){var G=!1;return w&&w.profiles&&w.profiles.length>0&&(G=-1!==w.profiles.indexOf(q)),G},getDuration:function(w){return w&&w.hasOwnProperty(d.Z.MEDIA_PRESENTATION_DURATION)?w.mediaPresentationDuration:w&&"dynamic"==w.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(w){return w&&w.bandwidth?w.bandwidth:NaN},getManifestUpdatePeriod:function(w){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,G=NaN;return w&&w.hasOwnProperty(d.Z.MINIMUM_UPDATE_PERIOD)&&(G=w.minimumUpdatePeriod),isNaN(G)?G:Math.max(G-q,1)},getPublishTime:function(w){return w&&w.hasOwnProperty(d.Z.PUBLISH_TIME)?new Date(w[d.Z.PUBLISH_TIME]):null},getRepresentationCount:function(w){return w&&Array.isArray(w.Representation_asArray)?w.Representation_asArray.length:0},getBitrateListForAdaptation:function(w){var q=ne(w);return(q&&Array.isArray(q.Representation_asArray)?q.Representation_asArray:[]).map(function(G){return{bandwidth:G.bandwidth,width:G.width||0,height:G.height||0,scanType:G.scanType||null,id:G.id||null}})},getRepresentationFor:function(w,q){return q&&q.Representation_asArray&&q.Representation_asArray.length>0&&C(w)?q.Representation_asArray[w]:null},getRepresentationsForAdaptation:function(w){var q,G,L,B,se=[],ie=function(Be){if(Be&&Be.period&&C(Be.period.index)){var Ue=Be.period.mpd.manifest.Period_asArray[Be.period.index];if(Ue&&Ue.AdaptationSet_asArray&&C(Be.index))return ne(Ue.AdaptationSet_asArray[Be.index])}}(w);if(ie&&ie.Representation_asArray){if(w&&w.period&&C(w.period.index)){var he=le(w.period.mpd.manifest);he&&(G=he[0])}for(var ce=0,z=ie.Representation_asArray.length;ce<z;++ce){var we=ie.Representation_asArray[ce],Me=new gi;if(Me.index=ce,Me.adaptation=w,we.hasOwnProperty(d.Z.ID)&&(Me.id=we.id),we.hasOwnProperty(d.Z.CODECS)&&(Me.codecs=we.codecs),we.hasOwnProperty(d.Z.MIME_TYPE)&&(Me.mimeType=we[d.Z.MIME_TYPE]),we.hasOwnProperty(d.Z.CODEC_PRIVATE_DATA)&&(Me.codecPrivateData=we.codecPrivateData),we.hasOwnProperty(d.Z.BANDWITH)&&(Me.bandwidth=we.bandwidth),we.hasOwnProperty(d.Z.WIDTH)&&(Me.width=we.width),we.hasOwnProperty(d.Z.HEIGHT)&&(Me.height=we.height),we.hasOwnProperty(d.Z.SCAN_TYPE)&&(Me.scanType=we.scanType),we.hasOwnProperty(d.Z.MAX_PLAYOUT_RATE)&&(Me.maxPlayoutRate=we.maxPlayoutRate),we.hasOwnProperty(d.Z.SEGMENT_BASE)?(q=we.SegmentBase,Me.segmentInfoType=d.Z.SEGMENT_BASE):we.hasOwnProperty(d.Z.SEGMENT_LIST)?Me.segmentInfoType=(q=we.SegmentList).hasOwnProperty(d.Z.SEGMENT_TIMELINE)?d.Z.SEGMENT_TIMELINE:d.Z.SEGMENT_LIST:we.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)?(Me.segmentInfoType=(q=we.SegmentTemplate).hasOwnProperty(d.Z.SEGMENT_TIMELINE)?d.Z.SEGMENT_TIMELINE:d.Z.SEGMENT_TEMPLATE,q.hasOwnProperty(d.Z.INITIALIZATION_MINUS)&&(Me.initialization=q.initialization.split("$Bandwidth$").join(we.bandwidth).split("$RepresentationID$").join(we.id))):Me.segmentInfoType=d.Z.BASE_URL,Me.essentialProperties=Te(we),q){if(q.hasOwnProperty(d.Z.INITIALIZATION)){var Xe=q.Initialization;Xe.hasOwnProperty(d.Z.SOURCE_URL)&&(Me.initialization=Xe.sourceURL),Xe.hasOwnProperty(d.Z.RANGE)&&(Me.range=Xe.range)}else K(ie)&&J(ie)&&ie.mimeType&&-1===ie.mimeType.indexOf("application/mp4")&&(Me.range=0);q.hasOwnProperty(d.Z.TIMESCALE)&&(Me.timescale=q.timescale),q.hasOwnProperty(d.Z.DURATION)?Me.segmentDuration=q.duration/Me.timescale:we.hasOwnProperty(d.Z.SEGMENT_TEMPLATE)&&(q=we.SegmentTemplate).hasOwnProperty(d.Z.SEGMENT_TIMELINE)&&(Me.segmentDuration=Se(q.SegmentTimeline)/Me.timescale),q.hasOwnProperty(d.Z.MEDIA)&&(Me.media=q.media),q.hasOwnProperty(d.Z.START_NUMBER)&&(Me.startNumber=q.startNumber),q.hasOwnProperty(d.Z.INDEX_RANGE)&&(Me.indexRange=q.indexRange),q.hasOwnProperty(d.Z.PRESENTATION_TIME_OFFSET)&&(Me.presentationTimeOffset=q.presentationTimeOffset/Me.timescale),q.hasOwnProperty(d.Z.AVAILABILITY_TIME_OFFSET)?Me.availabilityTimeOffset=q.availabilityTimeOffset:G&&void 0!==G.availabilityTimeOffset&&(Me.availabilityTimeOffset=G.availabilityTimeOffset),q.hasOwnProperty(d.Z.AVAILABILITY_TIME_COMPLETE)?Me.availabilityTimeComplete="false"!==q.availabilityTimeComplete:G&&void 0!==G.availabilityTimeComplete&&(Me.availabilityTimeComplete=G.availabilityTimeComplete)}Me.MSETimeOffset=(B=(L=Me).presentationTimeOffset,L.adaptation.period.start-B),Me.path=[w.period.index,w.index,ce],se.push(Me)}}return se},getAdaptationsForPeriod:function(w){var q,G,L,B=w&&C(w.index)?w.mpd.manifest.Period_asArray[w.index]:null,se=[];if(B&&B.AdaptationSet_asArray)for(L=0;L<B.AdaptationSet_asArray.length;L++)G=B.AdaptationSet_asArray[L],q=new Dr,G.hasOwnProperty(d.Z.ID)&&(q.id=G.id),q.index=L,q.period=w,U(G,f.Z.MUXED)?q.type=f.Z.MUXED:U(G,f.Z.AUDIO)?q.type=f.Z.AUDIO:re(G)?q.type=f.Z.VIDEO:K(G)?q.type=f.Z.TEXT:V(G)?q.type=f.Z.IMAGE:p.warn("Unknown Adaptation stream type"),se.push(q);return se},getRegularPeriods:function(w){var q,G,L=!!w&&me(w.manifest),B=[],se=null,ie=null,he=null,ce=null;for(G=0,q=w&&w.manifest&&w.manifest.Period_asArray?w.manifest.Period_asArray.length:0;G<q;G++)(ie=w.manifest.Period_asArray[G]).hasOwnProperty(d.Z.START)?(ce=new _i).start=ie.start:null!==se&&se.hasOwnProperty(d.Z.DURATION)&&null!==he?(ce=new _i).start=parseFloat((he.start+he.duration).toFixed(5)):0!==G||L||((ce=new _i).start=0),null!==he&&isNaN(he.duration)&&(null!==ce?he.duration=parseFloat((ce.start-he.start).toFixed(5)):p.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==ce&&(ce.id=te(ie,G),ce.index=G,ce.mpd=w,ie.hasOwnProperty(d.Z.DURATION)&&(ce.duration=ie.duration),he&&(he.nextPeriodId=ce.id),B.push(ce),se=ie,he=ce),ie=null,ce=null;return 0===B.length||null!==he&&isNaN(he.duration)&&(he.duration=parseFloat((function(z){!function(){if(!b||!b.hasOwnProperty("error"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var we,Me=me(z.mpd.manifest);return z.mpd.manifest.mediaPresentationDuration?we=z.mpd.manifest.mediaPresentationDuration:z.duration?we=z.duration:Me?we=Number.POSITIVE_INFINITY:b.error(new X.Z(_e.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",z)),we}(he)-he.start).toFixed(5))),B},getMpd:function(w){var q=new Hi;return w&&(q.manifest=w,w.hasOwnProperty(d.Z.AVAILABILITY_START_TIME)?q.availabilityStartTime=new Date(w.availabilityStartTime.getTime()):w.loadedTime&&(q.availabilityStartTime=new Date(w.loadedTime.getTime())),w.hasOwnProperty(d.Z.AVAILABILITY_END_TIME)&&(q.availabilityEndTime=new Date(w.availabilityEndTime.getTime())),w.hasOwnProperty(d.Z.MINIMUM_UPDATE_PERIOD)&&(q.minimumUpdatePeriod=w.minimumUpdatePeriod),w.hasOwnProperty(d.Z.MEDIA_PRESENTATION_DURATION)&&(q.mediaPresentationDuration=w.mediaPresentationDuration),w.hasOwnProperty(d.Z.SUGGESTED_PRESENTATION_DELAY)&&(q.suggestedPresentationDelay=w.suggestedPresentationDelay),w.hasOwnProperty(d.Z.TIMESHIFT_BUFFER_DEPTH)&&(q.timeShiftBufferDepth=w.timeShiftBufferDepth),w.hasOwnProperty(d.Z.MAX_SEGMENT_DURATION)&&(q.maxSegmentDuration=w.maxSegmentDuration),w.hasOwnProperty(d.Z.PUBLISH_TIME)&&(q.publishTime=new Date(w.publishTime))),q},getEventsForPeriod:function(w){var q,G,L=w&&w.mpd&&w.mpd.manifest?w.mpd.manifest:null,B=L?L.Period_asArray:null,se=B&&w&&C(w.index)?B[w.index].EventStream_asArray:null,ie=[];if(se)for(q=0;q<se.length;q++){var he=new qs;if(he.period=w,he.timescale=1,!se[q].hasOwnProperty(f.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(he.schemeIdUri=se[q][f.Z.SCHEME_ID_URI],se[q].hasOwnProperty(d.Z.TIMESCALE)&&(he.timescale=se[q][d.Z.TIMESCALE]),se[q].hasOwnProperty(d.Z.VALUE)&&(he.value=se[q][d.Z.VALUE]),se[q].hasOwnProperty(d.Z.PRESENTATION_TIME_OFFSET)&&(he.presentationTimeOffset=se[q][d.Z.PRESENTATION_TIME_OFFSET]),G=0;se[q].Event_asArray&&G<se[q].Event_asArray.length;G++){var ce=se[q].Event_asArray[G],z=new Zi;z.presentationTime=0,z.eventStream=he,ce.hasOwnProperty(d.Z.PRESENTATION_TIME)&&(z.presentationTime=ce.presentationTime),z.calculatedPresentationTime=z.presentationTime/he.timescale+w.start-(he.presentationTimeOffset?he.presentationTimeOffset/he.timescale:0),ce.hasOwnProperty(d.Z.DURATION)&&(z.duration=ce.duration/he.timescale),z.id=ce.hasOwnProperty(d.Z.ID)?ce.id:null,z.messageData=ce.Signal&&ce.Signal.Binary?M.decodeArray(ce.Signal.Binary.toString()):ce.messageData||ce.__cdata||ce.__text,ie.push(z)}}return ie},getEssentialPropertiesForRepresentation:Te,getEventStreamForAdaptationSet:function(w,q,G){var L,B,se;return w&&w.Period_asArray&&q&&q.period&&C(q.period.index)&&(B=w.Period_asArray[q.period.index])&&B.AdaptationSet_asArray&&C(q.index)&&(se=B.AdaptationSet_asArray[q.index])&&(L=se.InbandEventStream_asArray),be(L,null,G)},getEventStreamForRepresentation:function(w,q,G){var L,B,se,ie;return w&&w.Period_asArray&&q&&q.adaptation&&q.adaptation.period&&C(q.adaptation.period.index)&&(B=w.Period_asArray[q.adaptation.period.index])&&B.AdaptationSet_asArray&&C(q.adaptation.index)&&(se=B.AdaptationSet_asArray[q.adaptation.index])&&se.Representation_asArray&&C(q.index)&&(ie=se.Representation_asArray[q.index])&&(L=ie.InbandEventStream_asArray),be(L,q,G)},getUTCTimingSources:function(w){var q=me(w),G=!!w&&w.hasOwnProperty(d.Z.AVAILABILITY_START_TIME),L=w?w.UTCTiming_asArray:null,B=[];return(q||G)&&L&&L.forEach(function(se){var ie=new wo.Z;se.hasOwnProperty(f.Z.SCHEME_ID_URI)&&(ie.schemeIdUri=se.schemeIdUri,se.hasOwnProperty(d.Z.VALUE)&&(ie.value=se.value.toString(),B.push(ie)))}),B},getBaseURLsFromElement:le,getRepresentationSortFunction:function(){return function(w,q){return w.bandwidth-q.bandwidth}},getContentSteering:function(w){if(w&&w.hasOwnProperty(d.Z.CONTENT_STEERING_AS_ARRAY))return ye(w[d.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(w){return w&&w.hasOwnProperty(d.Z.LOCATION_AS_ARRAY)?w[d.Z.LOCATION_AS_ARRAY].map(function(q){var G=q.__text||q,L=q.hasOwnProperty(d.Z.SERVICE_LOCATION)?q[d.Z.SERVICE_LOCATION]:null;return new fn(G,L)}):[]},getPatchLocation:function(w){return w&&w.hasOwnProperty(d.Z.PATCH_LOCATION_AS_ARRAY)?w[d.Z.PATCH_LOCATION_AS_ARRAY].map(function(q){var G=q.__text||q,L=q.hasOwnProperty(d.Z.SERVICE_LOCATION)?q[d.Z.SERVICE_LOCATION]:null,B=q.hasOwnProperty(d.Z.TTL)?1e3*parseFloat(q[d.Z.TTL]):NaN;return new An(G,L,B)}):[]},getSuggestedPresentationDelay:function(w){return w&&w.hasOwnProperty(d.Z.SUGGESTED_PRESENTATION_DELAY)?w.suggestedPresentationDelay:null},getAvailabilityStartTime:function(w){return w&&w.hasOwnProperty(d.Z.AVAILABILITY_START_TIME)&&null!==w.availabilityStartTime?w.availabilityStartTime.getTime():null},getServiceDescriptions:function(w){var q=[];if(w&&w.hasOwnProperty(d.Z.SERVICE_DESCRIPTION)){var G,L=sn(w.ServiceDescription_asArray);try{for(L.s();!(G=L.n()).done;){var B=G.value,se=null,ie=null,he=null,ce=null,z=null,we=null,Me=null;for(var Xe in B)B.hasOwnProperty(Xe)&&(Xe===d.Z.ID?se=B[Xe]:Xe===d.Z.SERVICE_DESCRIPTION_SCOPE?ie=B[Xe].schemeIdUri:Xe===d.Z.SERVICE_DESCRIPTION_LATENCY?he={target:parseInt(B[Xe].target),max:parseInt(B[Xe].max),min:parseInt(B[Xe].min),referenceId:parseInt(B[Xe].referenceId)}:Xe===d.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?ce={max:parseFloat(B[Xe].max),min:parseFloat(B[Xe].min)}:Xe===d.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?z={mediaType:B[Xe].mediaType,max:parseInt(B[Xe].max),min:parseInt(B[Xe].min),target:parseInt(B[Xe].target),type:B[Xe].type,maxQualityDifference:parseInt(B[Xe].maxQualityDifference)}:Xe===d.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?we={mediaType:B[Xe].mediaType,max:parseInt(B[Xe].max),min:parseInt(B[Xe].min),target:parseInt(B[Xe].target)}:Xe===d.Z.CONTENT_STEERING&&(Me=ye(B[Xe])));q.push({id:se,schemeIdUri:ie,latency:he,playbackRate:ce,operatingQuality:z,operatingBandwidth:we,contentSteering:Me})}}catch(Be){L.e(Be)}finally{L.f()}}return q},getSegmentAlignment:function(w){return!(!w||!w.hasOwnProperty(d.Z.SEGMENT_ALIGNMENT))&&"true"===w[d.Z.SEGMENT_ALIGNMENT]},getSubSegmentAlignment:function(w){return!(!w||!w.hasOwnProperty(d.Z.SUB_SEGMENT_ALIGNMENT))&&"true"===w[d.Z.SUB_SEGMENT_ALIGNMENT]},getSupplementalPropertiesForAdaptation:function(w){var q={};if(w&&w.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var G,L=sn(w.SupplementalProperty_asArray);try{for(L.s();!(G=L.n()).done;){var B=G.value;B.hasOwnProperty(f.Z.SCHEME_ID_URI)&&B.hasOwnProperty(d.Z.VALUE)&&(q[B[f.Z.SCHEME_ID_URI]]=B[d.Z.VALUE])}}catch(se){L.e(se)}finally{L.f()}}return q},getSupplementalPropertiesAsArrayForAdaptation:function(w){return w&&w.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&w.SupplementalProperty_asArray.length?w.SupplementalProperty_asArray.map(function(q){return(new ft).init(q)}):[]},getSupplementalPropertiesForRepresentation:function(w){var q={};if(w&&w.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var G,L=sn(w.SupplementalProperty_asArray);try{for(L.s();!(G=L.n()).done;){var B=G.value;B.hasOwnProperty(f.Z.SCHEME_ID_URI)&&B.hasOwnProperty(d.Z.VALUE)&&(q[B[f.Z.SCHEME_ID_URI]]=B[d.Z.VALUE])}}catch(se){L.e(se)}finally{L.f()}}return q},getSupplementalPropertiesAsArrayForRepresentation:function(w){return w&&w.hasOwnProperty(d.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&w.SupplementalProperty_asArray.length?w.SupplementalProperty_asArray.map(function(q){return(new ft).init(q)}):[]},setConfig:function(w){w&&(w.errHandler&&(b=w.errHandler),w.BASE64&&(M=w.BASE64))}},p=(0,D.Z)(F).getInstance().getLogger(_),_}vn.__dashjs_factory_name="DashManifestModel";var Un=S.Z.getSingletonFactory(vn),nr=H(703);function _r(_,p){var b;if(typeof Symbol>"u"||null==_[Symbol.iterator]){if(Array.isArray(_)||(b=function(J,re){if(J){if("string"==typeof J)return On(J,undefined);var K=Object.prototype.toString.call(J).slice(8,-1);return"Object"===K&&J.constructor&&(K=J.constructor.name),"Map"===K||"Set"===K?Array.from(J):"Arguments"===K||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?On(J,undefined):void 0}}(_))||p&&_&&"number"==typeof _.length){b&&(_=b);var M=0,F=function(){};return{s:F,n:function(){return M>=_.length?{done:!0}:{done:!1,value:_[M++]}},e:function(J){throw J},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,C=!0,U=!1;return{s:function(){b=_[Symbol.iterator]()},n:function(){var J=b.next();return C=J.done,J},e:function(J){U=!0,P=J},f:function(){try{C||null==b.return||b.return()}finally{if(U)throw P}}}}function On(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,M=new Array(p);b<p;b++)M[b]=_[b];return M}function Dt(){var _,p,b,M,F,P,C,U,J,re,K=this.context,V=(0,A.Z)(K).getInstance(),ne=(0,Ge.Z)(K).getInstance();function ee(){b={pr:1,nor:null,st:null,sf:null,sid:"".concat(nr.Z.generateUuid()),cid:null},J={},U={},re={},me()}function Ie(){me()}function me(){if(P){var B=P.getStreamController();if(B&&"function"==typeof B.getActiveStream){var se=B.getActiveStream();se&&(C=se.getProcessors())}}}function Te(B,se){var ie,he={},ce=_r(se);try{for(ce.s();!(ie=ce.n()).done;){var z=ie.value;B[z]&&(he[z]=B[z])}}catch(we){ce.e(we)}finally{ce.f()}return he}function Se(B){var se=ne.get().streaming.cmcd.enabledKeys;return B.filter(function(ie){return se.includes(ie)})}function te(B){try{return B.type===ut.w.MPD_TYPE?((ie=be()).ot="m",ie):B.type===ut.w.MEDIA_SEGMENT_TYPE?(re.hasOwnProperty(se=B.mediaType)||(re[se]=!1),U.hasOwnProperty(se)||(U[se]=!1),J.hasOwnProperty(se)||(J[se]=!1),function(he){var ce,z=be(),we=function(wt){try{return parseInt(wt.mediaInfo.bitrateList[wt.quality].bandwidth/1e3)}catch{return null}}(he),Me=function(wt){try{return isNaN(wt.duration)?NaN:Math.round(1e3*wt.duration)}catch{return null}}(he),Xe=function(wt){try{return 100*parseInt(M.getThroughputHistory().getSafeAverageThroughput(wt)/100)}catch{return null}}(he.mediaType),Be=function(wt){try{var pn=b.pr,Le=F.getCurrentBufferLevel(wt);return isNaN(pn)||isNaN(Le)?null:100*parseInt(Le/pn*10)}catch{return null}}(he.mediaType),Ue=le(he.mediaType),He=function(wt){try{var pn=M.getTopBitrateInfoFor(wt);return Math.round(pn.bitrate/1e3)}catch{return null}}(he.mediaType),Nt=b.pr,Ot=function(wt){if(C&&0!==C.length){var pn,Le=_r(C);try{for(Le.s();!(pn=Le.n()).done;){var it=pn.value;if(it.getType()===wt)return it.probeNextRequest()}}catch(Ne){Le.e(Ne)}finally{Le.f()}}}(he.mediaType);he.mediaType===f.Z.VIDEO&&(ce="v"),he.mediaType===f.Z.AUDIO&&(ce="a"),he.mediaType===f.Z.TEXT&&(ce="application/mp4"===he.mediaInfo.mimeType?"tt":"c");var dt=ne.get().streaming.cmcd.rtp;return dt||(dt=function(wt){try{var pn=P.getPlaybackRate();pn||(pn=1);var Le=wt.quality,Ne=wt.mediaInfo,Oe=wt.duration;if(!Ne)return NaN;var Ye=le(wt.mediaType);0===Ye&&(Ye=500);var nt=Ne.bitrateList[Le].bandwidth*Oe/1e3/(Ye/pn/1e3),st=ne.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(ne.get().streaming.cmcd.rtpSafetyFactor)?ne.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(nt*st/100)+1)}catch{return NaN}}(he)),isNaN(dt)||(z.rtp=dt),Ot&&(he.url!==Ot.url?z.nor=encodeURIComponent(nr.Z.getRelativeUrl(he.url,Ot.url)):Ot.range&&(z.nrr=Ot.range)),we&&(z.br=we),ce&&(z.ot=ce),isNaN(Me)||(z.d=Me),isNaN(Xe)||(z.mtp=Xe),isNaN(Be)||(z.dl=Be),isNaN(Ue)||(z.bl=Ue),isNaN(He)||(z.tb=He),isNaN(Nt)||1===Nt||(z.pr=Nt),J[he.mediaType]&&(z.bs=!0,J[he.mediaType]=!1),!U[he.mediaType]&&re[he.mediaType]||(z.su=!0,U[he.mediaType]=!1,re[he.mediaType]=!0),z}(B)):B.type===ut.w.INIT_SEGMENT_TYPE?((he=be()).ot="i",he.su=!0,he):B.type===ut.w.OTHER_TYPE||B.type===ut.w.XLINK_EXPANSION_TYPE?function(){var he=be();return he.ot="o",he}():B.type===ut.w.LICENSE?((ce=be()).ot="k",ce):null}catch{return null}var ce,he,se,ie}function be(){var B={},se=ne.get().streaming.cmcd.cid?ne.get().streaming.cmcd.cid:b.cid;return B.v=1,B.sid=ne.get().streaming.cmcd.sid?ne.get().streaming.cmcd.sid:b.sid,B.sid="".concat(B.sid),se&&(B.cid="".concat(se)),isNaN(b.pr)||1===b.pr||null===b.pr||(B.pr=b.pr),b.st&&(B.st=b.st),b.sf&&(B.sf=b.sf),B}function le(B){try{var se=F.getCurrentBufferLevel(B);return isNaN(se)?null:100*parseInt(10*se)}catch{return null}}function ye(B){try{b.pr=B.playbackRate}catch{}}function w(B){try{var se=_.getIsDynamic(B.data)?"l":"v",ie=B.protocol&&"MSS"===B.protocol?"s":"d";b.st="".concat(se),b.sf="".concat(ie)}catch{}}function q(B){try{B.state&&B.mediaType&&B.state===h.Z.BUFFER_EMPTY&&(J[B.mediaType]||(J[B.mediaType]=!0),U[B.mediaType]||(U[B.mediaType]=!0))}catch{}}function G(){for(var B in J)J.hasOwnProperty(B)&&(J[B]=!0);for(var se in U)U.hasOwnProperty(se)&&(U[se]=!0)}function L(B){try{if(!B)return null;var se=Object.keys(B).sort(function(ce,z){return ce.localeCompare(z)}),ie=se.length,he=se.reduce(function(ce,z,we){return"v"===z&&1===B[z]||(ce+="string"==typeof B[z]&&"ot"!==z&&"sf"!==z&&"st"!==z?"".concat(z,"=").concat(JSON.stringify(B[z])):"".concat(z,"=").concat(B[z]),we<ie-1&&(ce+=",")),ce},"");return(he=he.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return p={getQueryParameter:function(B){try{if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled){var se=te(B),he=L(function(ce){try{var z=ne.get().streaming.cmcd.enabledKeys;return Object.keys(ce).filter(function(we){return z.includes(we)}).reduce(function(we,Me){return we[Me]=ce[Me],we},{})}catch{return ce}}(se));return V.trigger(Bn.Z.CMCD_DATA_GENERATED,{url:B.url,mediaType:B.mediaType,cmcdData:se,cmcdString:he}),{key:"CMCD",value:he}}return null}catch{return null}},getHeaderParameters:function(B){try{if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled){var se=te(B),ie=Te(se,Se(["br","d","ot","tb"])),he=Te(se,Se(["bl","dl","mtp","nor","nrr","su"])),ce=Te(se,Se(["bs","rtp"])),z=Te(se,Se(["cid","pr","sf","sid","st","v"])),we={"CMCD-Object":L(ie),"CMCD-Request":L(he),"CMCD-Status":L(ce),"CMCD-Session":L(z)};return V.trigger(Bn.Z.CMCD_DATA_GENERATED,{url:B.url,mediaType:B.mediaType,cmcdData:se,headers:we}),we}return null}catch{return null}},setConfig:function(B){B&&(B.abrController&&(M=B.abrController),B.dashMetrics&&(F=B.dashMetrics),B.playbackController&&(P=B.playbackController))},reset:function(){V.off(h.Z.PLAYBACK_RATE_CHANGED,ye,this),V.off(h.Z.MANIFEST_LOADED,w,this),V.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,q,p),V.off(h.Z.PLAYBACK_SEEKED,G,p),ee()},initialize:function(){V.on(h.Z.PLAYBACK_RATE_CHANGED,ye,p),V.on(h.Z.MANIFEST_LOADED,w,p),V.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,q,p),V.on(h.Z.PLAYBACK_SEEKED,G,p),V.on(h.Z.PERIOD_SWITCH_COMPLETED,Ie,p)}},_=Un(K).getInstance(),ee(),p}Dt.__dashjs_factory_name="CmcdModel";var Zt=S.Z.getSingletonFactory(Dt);function Jt(_){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Vn(_,p){Vn=function(U,J){return new P(U,void 0,J)};var b=br(RegExp),M=RegExp.prototype,F=new WeakMap;function P(U,J,re){var K=b.call(this,U,J);return F.set(K,re||F.get(U)),K}function C(U,J){var re=F.get(J);return Object.keys(re).reduce(function(K,V){return K[V]=U[re[V]],K},Object.create(null))}return function zn(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),p&&di(_,p)}(P,b),P.prototype.exec=function(U){var J=M.exec.call(this,U);return J&&(J.groups=C(J,this)),J},P.prototype[Symbol.replace]=function(U,J){if("string"==typeof J){var re=F.get(this);return M[Symbol.replace].call(this,U,J.replace(/\$<([^>]+)>/g,function(V,ne){return"$"+re[ne]}))}if("function"==typeof J){var K=this;return M[Symbol.replace].call(this,U,function(){var V=[];return V.push.apply(V,arguments),"object"!==Jt(V[V.length-1])&&V.push(C(V,K)),J.apply(this,V)})}return M[Symbol.replace].call(this,U,J)},Vn.apply(this,arguments)}function br(_){var p="function"==typeof Map?new Map:void 0;return br=function(b){if(null===b||-1===Function.toString.call(b).indexOf("[native code]"))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==p){if(p.has(b))return p.get(b);p.set(b,F)}function F(){return Sr(b,arguments,zr(this).constructor)}return F.prototype=Object.create(b.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),di(F,b)},br(_)}function Sr(_,p,b){return(Sr=function Mi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(M,F,P){var C=[null];C.push.apply(C,F);var U=new(Function.bind.apply(M,C));return P&&di(U,P.prototype),U}).apply(null,arguments)}function di(_,p){return(di=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function zr(_){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var ti="dynamic",Ys="cmsd-"+ti,Uo="stream",Gi=["mb","st","sf","v"],Pc={video:"v",audio:"a",text:"tt",stream:Uo},kc=/^[-0-9]/;function Ci(){var _,p,b,M,F=this.context,P=(0,A.Z)(F).getInstance();function C(){b={},M={}}function U(ee){ee&&Object.keys(ee).forEach(function(Ie){Gi.includes(Ie)||delete ee[Ie]})}function J(ee){return!ee||"false"!==ee.toLowerCase()&&(kc.test(ee)?parseInt(ee,10):ee.replace(/["]+/g,""))}function re(ee){try{for(var Ie={},me=ee.split(","),Te=0;Te<me.length;Te++){var Se=me[Te].split("="),te=Se[0],be=J(Se[1]);Ie[te]=be}return Ie}catch(le){p.error("Failed to parse CMSD-Static response header value:",le)}}function K(ee){try{for(var Ie={},me=ee.split(","),Te=me[me.length-1].split(";"),Se=1;Se<Te.length;Se++){var te=Te[Se].split("="),be=te[0],le=J(te[1]);Ie[be]=le}return Ie}catch(ye){return p.error("Failed to parse CMSD-Dynamic response header value:",ye),[]}}function V(ee){return Pc[ee]||"o"}function ne(ee,Ie,me){var Te="static"===ee?b:M;return(Te[Ie]||{})[me]||(Te[Uo]||{})[me]}return _={setConfig:function(){},initialize:function(){},reset:function(){C()},parseResponseHeaders:function(ee,Ie){for(var me=null,Te=null,Se=ee.split("\r\n"),te=Se.length-1;te>=0;te--){var be=Se[te].match(Vn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(be&&be.groups){var le=be.groups.key.toLowerCase(),ye=be.groups.value;switch(le){case"cmsd-static":me=re(ye),P.trigger(v.Z.CMSD_STATIC_HEADER,me);break;case Ys:Te||(Te=K(ye))}}}var w=Uo;return me&&me.ot?w=me.ot:Ie&&(w=V(Ie)),U(b[w]),U(M[w]),me&&(b[w]=Object.assign(b[w]||{},me)),Te&&(M[w]=Object.assign(M[w]||{},Te)),{static:me,dynamic:Te}},getMaxBitrate:function(ee){var Ie=V(ee);return ne(ti,Ie,"mb")||-1},getEstimatedThroughput:function(ee){var Ie=V(ee);return ne(ti,Ie,"etp")||null},getResponseDelay:function(ee){var Ie=V(ee);return ne(ti,Ie,"rd")||null},getRoundTripTime:function(ee){var Ie=V(ee);return ne(ti,Ie,"rtt")||null}},p=(0,D.Z)(F).getInstance().getLogger(_),C(),_}Ci.__dashjs_factory_name="CmsdModel";var So=S.Z.getSingletonFactory(Ci);function qi(){var _,p,b=this.context,M={};function F(){p=(0,D.Z)(b).getInstance().getLogger(_)}function P(U){for(var J={},re=0,K=0,V=0,ne=0,ee=U.length,Ie=0;Ie<ee;++Ie)re+=U[Ie].chunkDownloadTimeRelativeMS,K+=U[Ie].bufferLevel,V+=U[Ie].chunkDownloadTimeRelativeMS*U[Ie].bufferLevel,ne+=U[Ie].chunkDownloadTimeRelativeMS*U[Ie].chunkDownloadTimeRelativeMS;return J.m=(V-re*K/ee)/(ne-re*re/ee),J.b=K/ee-J.m*re/ee,function(me){return J.m*me+J.b}}function C(U){var J,re=!0,K=U.reduce(function(V,ne){return V+ne.bufferLevelAtSegmentEnd},0)/U.length;return U.forEach(function(V){Math.abs(V.bufferLevelAtSegmentEnd/V.bufferLevelAtSegmentStart)<.95&&(re=!1),V.bufferLevelAtSegmentEnd/K<.8&&(re=!1),J?J>V.bitrate&&(re=!1):J=V.bitrate}),re}return _={setup:F,addMeasurement:function(U,J,re,K,V){U&&U.mediaType&&!M[U.mediaType]&&(M[U.mediaType]=[]);var ne=U.mediaInfo.bitrateList.find(function(ee){return ee.id===U.representationId});M[U.mediaType].push({index:U.index,repId:U.representationId,mediaType:U.mediaType,requestTimeMS:K,adjustedAvailabilityStartTimeMS:U.availabilityStartTime.getTime(),segDurationMS:1e3*U.duration,chunksDurationMS:re.reduce(function(ee,Ie){return ee+Ie.chunkDownloadDurationMS},0),segmentBytes:re.reduce(function(ee,Ie){return ee+Ie.chunkBytes},0),bitrate:ne&&ne.bandwidth,bitrateList:U.mediaInfo.bitrateList,chunkMeasurements:re,fetchDownloadDurationMS:J,throughputCapacityDelayMS:V,getEstimatedBufferLevel:P(re.slice(1))}),M[U.mediaType].length>10&&M[U.mediaType].shift()},getThroughputCapacityDelayMS:function(U,J){var re=M[U.mediaType]&&M[U.mediaType].slice(-3);return!re||re.length<3?0:C(re)?J/4>250?250:J/4:0},getEstimatedDownloadDurationMS:function(U){var J=M[U.mediaType].slice(-1).pop(),re=M[U.mediaType].slice(-3),K=J.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;J.bufferLevelAtSegmentStart=J.getEstimatedBufferLevel(K/2),J.bufferLevelAtSegmentEnd=J.getEstimatedBufferLevel(K);var V=C(re),ne=V?.6:.8;if(J.isBufferStable&&1.05*J.segDurationMS<J.fetchDownloadDurationMS)return J.fetchDownloadDurationMS;if(!V||J.segDurationMS<J.fetchDownloadDurationMS||J.adjustedAvailabilityStartTimeMS<=J.requestTimeMS+J.throughputCapacityDelayMS-J.segDurationMS)return.8*J.fetchDownloadDurationMS;for(var ee=J.requestTimeMS+J.throughputCapacityDelayMS-J.adjustedAvailabilityStartTimeMS,Ie=0,me=0,Te=0,Se=0;Se<J.chunkMeasurements.length;Se++){var te=J.chunkMeasurements[Se];if(ee<me+te.chunkDownloadDurationMS)break;me+=te.chunkDownloadDurationMS,Ie+=te.chunkBytes,Te++}if(ee<0&&p.warn("request time was before adjusted availibitly start time"),Ie&&me&&Te>.2*J.chunkMeasurements.length){var le=J.segmentBytes/(Ie/me);return J.fetchDownloadDurationMS<le?J.fetchDownloadDurationMS*ne:le*ne}var ye=J.bitrate;return J.bitrateList.some(function(w){if(w.bandwidth>J.bitrate)return ye=w.bandwidth,!0}),ye===J.bitrate?J.fetchDownloadDurationMS*ne:ne*J.segmentBytes*8*1e3/ye}},F(),_}qi.__dashjs_factory_name="LowLatencyThroughputModel";var $n=S.Z.getSingletonFactory(qi),Wt=H(5717);function Rn(_,p,b){return p in _?Object.defineProperty(_,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[p]=b,_}function Gn(_){var p,b,M,F,P,C,U,J,re,K,V,ne=this.context,ee=(_=_||{}).errHandler,Ie=_.dashMetrics,me=_.mediaPlayerModel,Te=_.requestModifier,Se=_.boxParser,te=_.errors,be=_.requestTimeout||0,le=(0,A.Z)(ne).getInstance(),ye=(0,Ge.Z)(ne).getInstance();function w(q,G){var L,B=q.request,se=[],ie=!0,he=!0,ce=new Date,z=ce,we=0,Me=null,Xe=null;if(!Te||!Ie||!ee)throw new Error("config object is not correct or missing");var Be,Ue=function(Ye){B.requestStartDate=ce,B.requestEndDate=new Date,B.firstByteDate=B.firstByteDate||ce,B.fileLoaderType=Xe;var nt=L.response?L.response.responseURL:null,st=L.response?L.response.status:null,Vt=L.response&&L.response.getAllResponseHeaders?L.response.getAllResponseHeaders():L.response?L.response.responseHeaders:null,kt=Vt&&ye.get().streaming.cmsd&&ye.get().streaming.cmsd.enabled?U.parseResponseHeaders(Vt,B.mediaType):null;Ie.addHttpRequest(B,nt,st,Vt,Ye?se:null,kt)},He=function(Ye){he=!1,Ue(Ye),B.type===ut.w.MPD_TYPE&&(Ie.addManifestUpdate(B),le.trigger(v.Z.MANIFEST_LOADING_FINISHED,{request:B}))},Nt=function(){if(Me&&(clearTimeout(Me),Me=null),-1!==b.indexOf(L)&&(b.splice(b.indexOf(L),1),he))if(He(!1),G>0){try{ye.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&B.type===ut.w.MEDIA_SEGMENT_TYPE&&me.getRetryAttemptsForType(ut.w.MEDIA_SEGMENT_TYPE)===G&&le.trigger(v.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}G--;var Ye={config:q};F.push(Ye),Ye.timeout=setTimeout(function(){-1!==F.indexOf(Ye)&&(F.splice(F.indexOf(Ye),1),w(q,G))},me.getRetryIntervalsForType(B.type))}else{if(B.type===ut.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;ee.error(new X.Z(P[B.type],B.url+" is not available",{request:B,response:L.response})),q.error&&q.error(B,"error",L.response.statusText,L.response),q.complete&&q.complete(B,L.response.statusText)}};B.hasOwnProperty("availabilityTimeComplete")&&!1===B.availabilityTimeComplete&&window.fetch&&"arraybuffer"===B.responseType&&B.type===ut.w.MEDIA_SEGMENT_TYPE?((Be=Xn(ne).create({requestModifier:Te,lowLatencyThroughputModel:re,boxParser:Se})).setup({dashMetrics:Ie}),Xe=f.Z.FILE_LOADER_TYPES.FETCH):(Be=(0,ln.Z)(ne).create({requestModifier:Te}),Xe=f.Z.FILE_LOADER_TYPES.XHR);var Ot=null,dt=Te.modifyRequestURL?Te.modifyRequestURL(B.url):B.url;if(ye.get().streaming.cmcd&&ye.get().streaming.cmcd.enabled){var wt=ye.get().streaming.cmcd.mode;if(wt===f.Z.CMCD_MODE_QUERY){var pn=function(Ye){try{var nt=[],st=C.getQueryParameter(Ye);return st&&nt.push(st),nt}catch{return[]}}(B);dt=nr.Z.addAditionalQueryParameterToUrl(dt,pn)}else wt===f.Z.CMCD_MODE_HEADER&&(Ot=C.getHeaderParameters(B))}var Le=J.getXHRWithCredentialsForType(B.type);if(B.queryParams){var it=Object.keys(B.queryParams).map(function(Ye){return{key:Ye,value:B.queryParams[Ye]}});dt=nr.Z.addAditionalQueryParameterToUrl(dt,it)}B.url=dt,L={url:dt,method:ut.w.GET,withCredentials:Le,request:B,onload:function(){L.response.status>=200&&L.response.status<=299&&(He(!0),q.success&&q.success(L.response.response,L.response.statusText,L.response.responseURL),q.complete&&q.complete(B,L.response.statusText))},onend:Nt,onerror:Nt,progress:function(Ye){var nt=new Date;ie&&(ie=!1,(!Ye.lengthComputable||Ye.lengthComputable&&Ye.total!==Ye.loaded)&&(B.firstByteDate=nt)),Ye.lengthComputable&&(B.bytesLoaded=Ye.loaded,B.bytesTotal=Ye.total),Ye.noTrace||(se.push({s:z,d:Ye.time?Ye.time:nt.getTime()-z.getTime(),b:[Ye.loaded?Ye.loaded-we:0]}),z=nt,we=Ye.loaded),Me&&(clearTimeout(Me),Me=null),ye.get().streaming.fragmentRequestProgressTimeout>0&&(Me=setTimeout(function(){K.warn("Abort request "+L.url+" due to progress timeout"),L.response.onabort=null,L.loader.abort(L),Nt()},ye.get().streaming.fragmentRequestProgressTimeout)),q.progress&&Ye&&q.progress(Ye)},onabort:function(){Ue(!0),Me&&(clearTimeout(Me),Me=null),q.abort&&q.abort(B)},ontimeout:function(Ye){var nt;nt=Ye.lengthComputable?"Request timeout: loaded: "+Ye.loaded+", out of: "+Ye.total+" : "+(Ye.loaded/Ye.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",K.warn(nt)},loader:Be,timeout:be,headers:Ot};var Ne=(new Date).getTime();if(isNaN(B.delayLoadingTime)||Ne>=B.delayLoadingTime)b.push(L),Be.load(L);else{var Oe={httpRequest:L};M.push(Oe),Oe.delayTimeout=setTimeout(function(){if(-1!==M.indexOf(Oe)){M.splice(M.indexOf(Oe),1);try{z=ce=new Date,b.push(Oe.httpRequest),Be.load(Oe.httpRequest)}catch{Oe.httpRequest.onerror()}}},B.delayLoadingTime-Ne)}}return p={load:function(q){q.request?w(q,me.getRetryAttemptsForType(q.request.type)):q.error&&q.error(q.request,"error")},abort:function(){F.forEach(function(q){clearTimeout(q.timeout),q.config.request&&q.config.abort&&q.config.abort(q.config.request)}),F=[],M.forEach(function(q){return clearTimeout(q.delayTimeout)}),M=[],b.forEach(function(q){q.request.type!==ut.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(q.onloadend=q.onerror=q.onprogress=void 0,q.loader.abort(q))}),b=[]}},K=(0,D.Z)(ne).getInstance().getLogger(p),b=[],M=[],F=[],C=Zt(ne).getInstance(),U=So(ne).getInstance(),re=$n(ne).getInstance(),J=(0,Wt.Z)(ne).getInstance(),Rn(V={},ut.w.MPD_TYPE,te.DOWNLOAD_ERROR_ID_MANIFEST_CODE),Rn(V,ut.w.XLINK_EXPANSION_TYPE,te.DOWNLOAD_ERROR_ID_XLINK_CODE),Rn(V,ut.w.INIT_SEGMENT_TYPE,te.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),Rn(V,ut.w.MEDIA_SEGMENT_TYPE,te.DOWNLOAD_ERROR_ID_CONTENT_CODE),Rn(V,ut.w.INDEX_SEGMENT_TYPE,te.DOWNLOAD_ERROR_ID_CONTENT_CODE),Rn(V,ut.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,te.DOWNLOAD_ERROR_ID_CONTENT_CODE),Rn(V,ut.w.OTHER_TYPE,te.DOWNLOAD_ERROR_ID_CONTENT_CODE),P=V,p}Gn.__dashjs_factory_name="HTTPLoader";var ai=S.Z.getClassFactory(Gn);function $r(){var _;function p(){_={}}function b(){p()}return b(),{getLoader:function(M){for(var F in _)if(_.hasOwnProperty(F)&&M.startsWith(F))return _[F];return ai},registerLoader:function(M,F){_[M]=F},unregisterLoader:function(M){_[M]&&delete _[M]},unregisterAllLoader:p,reset:b}}$r.__dashjs_factory_name="SchemeLoaderFactory";var rr=S.Z.getSingletonFactory($r);function Mr(_){_=_||{};var p,b,M=this.context;return p=rr(M).getInstance(),{load:function(F){if(!b){var P=p.getLoader(F&&F.request?F.request.url:null);b=P(M).create({errHandler:_.errHandler,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,dashMetrics:_.dashMetrics,boxParser:_.boxParser?_.boxParser:null,constants:_.constants?_.constants:null,dashConstants:_.dashConstants?_.dashConstants:null,urlUtils:_.urlUtils?_.urlUtils:null,requestTimeout:isNaN(_.requestTimeout)?0:_.requestTimeout,errors:_.errors})}b.load(F)},abort:function(){b&&b.abort()}}}Mr.__dashjs_factory_name="URLLoader";var Ir=S.Z.getClassFactory(Mr);function li(_){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Vr(_,p){return(Vr=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function jn(_){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var Xo=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Vr(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=jn(p);if(b){var U=jn(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function wr(_,p){return!p||"object"!==li(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(P){var C;return function(U,J){if(!(U instanceof J))throw new TypeError("Cannot call a class as a function")}(this,F),(C=M.call(this,P)).checkForExistenceOnly=!0,C}return F}(j.Z);function lo(_){var p,b,F=(_=_||{}).eventBus,P=_.events,C=_.urlUtils,U=_.errors,J=_.streamId;return p={checkForExistence:function(re){var K=function(ne){F.trigger(P.CHECK_FOR_EXISTENCE_COMPLETED,{request:re,exists:ne})};if(re){var V=new Xo(re.url);b.load({request:V,success:function(){K(!0)},error:function(){K(!1)}})}else K(!1)},load:function(re){var K=function(V,ne){F.trigger(P.LOADING_COMPLETED,{request:re,response:V||null,error:ne||null,sender:p})};re?b.load({request:re,progress:function(V){F.trigger(P.LOADING_PROGRESS,{request:re,stream:V.stream,streamId:J}),V.data&&F.trigger(P.LOADING_DATA_PROGRESS,{request:re,response:V.data||null,error:null,sender:p})},success:function(V){K(V)},error:function(V,ne,ee){K(void 0,new X.Z(U.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ee,ne))},abort:function(V){V&&F.trigger(P.LOADING_ABANDONED,{mediaType:V.mediaType,request:V,sender:p})}}):K(void 0,new X.Z(U.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,U.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){b&&b.abort()},reset:function(){b&&(b.abort(),b=null)}},b=Ir(this.context).create({errHandler:_.errHandler,errors:U,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,urlUtils:C,constants:f.Z,boxParser:_.boxParser,dashConstants:_.dashConstants,requestTimeout:_.settings.get().streaming.fragmentRequestTimeout}),p}lo.__dashjs_factory_name="FragmentLoader";var ba=S.Z.getClassFactory(lo);function ds(){return{modifyResponseAsync:function(_){return Promise.resolve(_)}}}ds.__dashjs_factory_name="SegmentResponseModifier";var Gt=S.Z.getSingletonFactory(ds);function fs(_){_=_||{};var p,b,M,F=this.context,P=(0,A.Z)(F).getInstance(),C=_.errHandler,U=_.mediaPlayerModel,J=_.dashMetrics,re=(0,D.Z)(F).getInstance(),K=Gt(F).getInstance(),V=_.streamInfo;function ne(){return V.id}function ee(){for(var me in M)M[me].reset();M={}}function Ie(me){if(me.sender){var Te=me.request,Se=me.response,te=Te.isInitializationRequest(),be=Te.mediaInfo.streamInfo;if(me.error&&(Te.mediaType===f.Z.AUDIO||Te.mediaType===f.Z.VIDEO||Te.mediaType===f.Z.TEXT&&Te.mediaInfo.isFragmented)&&P.trigger(v.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:me.request.serviceLocation}),Se&&be){var le=(ye=Se,w=Te,q=V.id,G=me.type!==v.Z.FRAGMENT_LOADING_PROGRESS,(L=new Mt).streamId=q,L.mediaInfo=w.mediaInfo,L.segmentType=w.type,L.start=w.startTime,L.duration=w.duration,L.end=L.start+L.duration,L.bytes=ye,L.index=w.index,L.quality=w.quality,L.representationId=w.representationId,L.endFragment=G,L);K.modifyResponseAsync(le).then(function(ye){P.trigger(te?v.Z.INIT_FRAGMENT_LOADED:v.Z.MEDIA_FRAGMENT_LOADED,{chunk:ye,request:Te},{streamId:be.id,mediaType:Te.mediaType})}).catch(function(ye){b.error(ye),P.trigger(te?v.Z.INIT_FRAGMENT_LOADED:v.Z.MEDIA_FRAGMENT_LOADED,{chunk:le,request:Te},{streamId:be.id,mediaType:Te.mediaType})})}else b.warn("No "+Te.mediaType+" bytes to push or stream is inactive.")}var ye,w,q,G,L}return b=re.getLogger(p={getStreamId:ne,getModel:function(me){var Te=M[me];return Te||(Te=k(F).create({streamInfo:V,type:me,dashMetrics:J,fragmentLoader:ba(F).create({dashMetrics:J,mediaPlayerModel:U,errHandler:C,requestModifier:(0,De.Z)(F).getInstance(),settings:_.settings,boxParser:_.boxParser,eventBus:P,events:v.Z,errors:_e,dashConstants:_.dashConstants,urlUtils:_.urlUtils,streamId:ne()}),debug:re,eventBus:P,events:v.Z}),M[me]=Te),Te},reset:function(){P.off(h.Z.FRAGMENT_LOADING_COMPLETED,Ie,this),P.off(h.Z.FRAGMENT_LOADING_PROGRESS,Ie,this),ee()}}),ee(),P.on(h.Z.FRAGMENT_LOADING_COMPLETED,Ie,p),P.on(h.Z.FRAGMENT_LOADING_PROGRESS,Ie,p),p}fs.__dashjs_factory_name="FragmentController";var ir=S.Z.getClassFactory(fs),Nr=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},Fc=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function gd(_){var p,b,M=this.context,F=_.streamInfo;function P(U){b.setTrackByIndex(U)}function C(){b&&b.reset()}return p={getStreamId:function(){return F.id},initialize:function(){b.addTracks();var U=b.getTracks();U&&U.length>0&&P(0)},provide:function(U,J){if("function"==typeof J){var K,V=b.getCurrentTrack();if(!V||V.segmentDuration<=0||null==U)J(null);else{(K=b.getThumbnailRequestForTime(U))&&(V.segmentDuration=K.duration);var ne=Math.floor(U%V.segmentDuration*V.tilesHor*V.tilesVert/V.segmentDuration),ee=new Nr;if(ee.width=Math.floor(V.widthPerTile),ee.height=Math.floor(V.heightPerTile),ee.x=Math.floor(ne%V.tilesHor)*V.widthPerTile,ee.y=Math.floor(ne/V.tilesHor)*V.heightPerTile,"readThumbnail"in V)return V.readThumbnail(U,function(me){ee.url=me,J(ee)});if(K)ee.url=K.url,V.segmentDuration=NaN;else{var Ie=Math.floor(U/V.segmentDuration);ee.url=(te=(0,g.vi)((me=V).templateUrl,"Number",Se=Ie+me.startNumber),te=(0,g.vi)(te,"Time",(Se-1)*me.segmentDuration*me.timescale),te=(0,g.vi)(te,"Bandwidth",me.bandwidth),(0,g.eR)(te))}J(ee)}}var me,Se,te},setTrackByIndex:P,getCurrentTrackIndex:function(){return b.getCurrentTrackIndex()},getBitrateList:function(){var U=b.getTracks(),J=0;return U.map(function(re){var K=new Fc;return K.mediaType=f.Z.IMAGE,K.qualityIndex=J++,K.bitrate=re.bitrate,K.width=re.width,K.height=re.height,K})},reset:C},C(),b=(0,nn.Z)(M).create({streamInfo:F,adapter:_.adapter,baseURLController:_.baseURLController,timelineConverter:_.timelineConverter,debug:_.debug,eventBus:_.eventBus,events:_.events,dashConstants:_.dashConstants,dashMetrics:_.dashMetrics,segmentBaseController:_.segmentBaseController}),p}gd.__dashjs_factory_name="ThumbnailController";var _d=S.Z.getClassFactory(gd),Ea=H(7417);function to(_){var p;_=_||{};var b=[],M=(0,A.Z)(this.context).getInstance(),F=_.updateEventName,P=_.addBlacklistEventName;function C(U){-1===b.indexOf(U)&&(b.push(U),M.trigger(F,{entry:U}))}return p={add:C,contains:function(U){return!!(b.length&&U&&U.length)&&-1!==b.indexOf(U)},reset:function(){b=[]}},P&&M.on(P,function(U){C(U.entry)},p),p}to.__dashjs_factory_name="BlackListController";var Lc=S.Z.getClassFactory(to),vd=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT,f.Z.MUXED,f.Z.IMAGE];function yd(_){_=_||{};var p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me,Te,Se,te,be=this.context,le=(0,A.Z)(be).getInstance(),ye=(0,We.Z)(be).getInstance(),w=_.manifestModel,q=_.mediaPlayerModel,G=_.dashMetrics,L=_.manifestUpdater,B=_.adapter,se=_.timelineConverter,ie=_.capabilities,he=_.errHandler,ce=_.abrController,z=_.playbackController,we=_.eventController,Me=_.mediaController,Xe=_.protectionController,Be=_.textController,Ue=_.videoModel,He=_.streamInfo,Nt=_.settings;function Ot(Pt,Tn){return new Promise(function(wn,cn){nt(),K=!0,Vt();var pt=Ue.getElement(),Bt=[];vd.forEach(function(lt){(lt!==f.Z.TEXT||Pt)&&(lt!==f.Z.VIDEO||!pt||pt&&/^VIDEO$/i.test(pt.nodeName))&&Bt.push(dt(lt,Pt))}),Promise.all(Bt).then(function(){return lt=Tn,new Promise(function(je){var Ee={},rt=M.map(function(It){return It.createBufferSinks(lt)});Promise.all(rt).then(function(It){It.forEach(function(tn){tn&&(Ee[tn.getType()]=tn)}),je(Ee)}).catch(function(){je(Ee)})});var lt}).then(function(lt){if(K=!1,0===M.length){var je="No streams to play.";he.error(new X.Z(_e.MANIFEST_ERROR_ID_NOSTREAMS_CODE,je,w.getValue())),b.fatal(je)}else kt();Pt&&Be.createTracks(He),wn(lt)}).catch(function(lt){cn(lt)})})}function dt(Pt,Tn){var wn,cn=B.getAllMediaInfoForType(He,Pt),pt=[],Bt=null;if(!cn||0===cn.length)return b.info("No "+Pt+" data."),Promise.resolve();Pt===f.Z.VIDEO&&(U=!0),Pt===f.Z.AUDIO&&(J=!0);for(var lt=0,je=cn.length;lt<je;lt++)Bt=cn[lt],Pt===f.Z.TEXT&&Bt.isEmbedded&&(Be.addEmbeddedTrack(He,Bt),pt.push(Bt)),wt(Bt)&&Me.addTrack(Bt);if(pt.length>0&&(Me.setInitialMediaSettingsForType(Pt,He),Be.addMediaInfosToBuffer(He,Pt,pt)),0===(cn=cn.filter(function(rt){return!rt.isEmbedded})).length)return Promise.resolve();if(Pt===f.Z.IMAGE)return(ne=_d(be).create({streamInfo:He,adapter:B,baseURLController:_.baseURLController,timelineConverter:_.timelineConverter,debug:Te,eventBus:le,events:v.Z,dashConstants:d.Z,dashMetrics:_.dashMetrics,segmentBaseController:_.segmentBaseController})).initialize(),Promise.resolve();le.trigger(v.Z.STREAM_INITIALIZING,{streamInfo:He,mediaInfo:Bt}),Me.setInitialMediaSettingsForType(Pt,He);var Ee=function(rt,It){var tn=rt&&rt.length>0?rt[0]:null,gn=V.getModel(tn?tn.type:null),Wn=tn?tn.type:null,Lr=tn?tn.mimeType:null,Ni=tn?tn.isFragmented:null,Br=Tt(be).create({streamInfo:He,type:Wn,mimeType:Lr,timelineConverter:se,adapter:B,manifestModel:w,mediaPlayerModel:q,fragmentModel:gn,dashMetrics:_.dashMetrics,baseURLController:_.baseURLController,segmentBaseController:_.segmentBaseController,abrController:ce,playbackController:z,mediaController:Me,textController:Be,errHandler:he,settings:Nt,boxParser:me,segmentBlacklistController:ee});Br.initialize(It,U,Ni),M.push(Br);for(var $i=0;$i<rt.length;$i++)Br.addMediaInfo(rt[$i]);return Wn===f.Z.TEXT&&Be.addMediaInfosToBuffer(He,Wn,rt,gn),Br}(cn,Tn);return(wn=Me.getCurrentTrackFor(Pt,He.id))?(ce.updateTopQualityIndex(wn),Ee.selectMediaInfo(Pt===f.Z.TEXT&&wn.isEmbedded?cn[0]:wn)):Promise.resolve()}function wt(Pt){var wn=Pt?Pt.type:null;return wn===f.Z.MUXED?(b.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),he.error(new X.Z(_e.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",w.getValue())),!1):!(wn!==f.Z.TEXT&&wn!==f.Z.IMAGE&&Pt.contentProtection&&!ie.supportsEncryptedMedia()&&(he.error(new X.Z(_e.CAPABILITY_MEDIAKEYS_ERROR_CODE,_e.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function pn(Pt){for(var Tn=M?M.length:0,wn=0;wn<Tn;wn++){var cn=M[wn].getFragmentModel();cn.abortRequests(),cn.resetInitialSettings(),M[wn].reset(!1,Pt)}Be&&Be.deactivateStream(He),M=[],P=!1,C=!1,Jn(!1),it(!1),le.trigger(v.Z.STREAM_DEACTIVATED,{streamInfo:He})}function Le(Pt){pn(Pt),F=!1,U=!1,J=!1,re={},K=!1,Se=!1,te=[]}function it(Pt){Se=Pt}function Ne(){return He?He.start:NaN}function Oe(){return He?He.id:null}function Ye(){return He}function nt(){if(!Ue||!ce)throw new Error(f.Z.MISSING_CONFIG_ERROR)}function st(Pt){Pt.error&&(he.error(Pt.error),b.fatal(Pt.error.message))}function Vt(){if(we){var Pt=B.getEventsFor(He);Pt&&Pt.length>0&&we.addInlineEvents(Pt,He.id)}}function kt(){for(var Pt=M.length,Tn=re.audio||re.video?new X.Z(_e.DATA_UPDATE_FAILED_ERROR_CODE,_e.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,wn=0;wn<Pt;wn++)if(M[wn].isUpdating()||K)return;if(Xe){Xe.clearMediaInfoArray();for(var cn=0;cn<Pt&&M[cn];cn++){var pt=M[cn].getType(),Bt=M[cn].getMediaInfo();if(pt===f.Z.AUDIO||pt===f.Z.VIDEO||pt===f.Z.TEXT&&Bt.isFragmented){var lt=M[cn].getMediaInfo();lt&&Xe.initializeForMedia(lt)}}Xe.handleKeySystemFromManifest()}Tn?he.error(Tn):F||(F=!0,Ue.waitForReadyState(f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){le.trigger(v.Z.STREAM_INITIALIZED,{streamInfo:He})}))}function mn(){var Pt=En(),Tn=Pt.length;if(0!==Tn){for(var wn=0;wn<Tn;wn++)if(!Pt[wn].isBufferingCompleted()&&(Pt[wn].getType()===f.Z.AUDIO||Pt[wn].getType()===f.Z.VIDEO))return void b.debug("onBufferingCompleted - One streamProcessor has finished but",Pt[wn].getType(),"one is not buffering completed");b.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),C=!0,le.trigger(v.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:He},{streamInfo:He})}else b.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function bt(Pt){re[Pt.mediaType]=Pt.error,kt()}function rn(Pt){we&&we.addInbandEvents(Pt.events,He.id)}function un(Pt){return Pt&&Pt.type?hn(Pt.type):null}function hn(Pt){return Pt?En().filter(function(Tn){return Tn.getType()===Pt})[0]:null}function En(){for(var Pt,Tn,wn=[],cn=0;cn<M.length;cn++)(Pt=(Tn=M[cn]).getType())!==f.Z.AUDIO&&Pt!==f.Z.VIDEO&&Pt!==f.Z.TEXT||wn.push(Tn);return wn}function Fn(Pt,Tn){var wn=Ye(),cn=Tn.getStreamInfo();if(!cn||!wn)return!0;var pt=B.getAdaptationForType(cn.index,Pt,cn),Bt=B.getAdaptationForType(wn.index,Pt,wn);return pt&&Bt?!(!Ln(Bt)&&Ln(pt)):!pt&&!Bt}function Ln(Pt){return!!Pt&&!!(Pt.ContentProtection||Pt.Representation_asArray&&Pt.Representation_asArray.length>0&&Pt.Representation_asArray[0].ContentProtection)}function Qn(Pt,Tn){var wn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Pt||!Pt.hasOwnProperty("getStreamInfo"))return!1;var cn=Pt.getStreamInfo(),pt=wn?wn.getStreamInfo():Ye();if(!cn||!pt)return!1;var Bt=B.getAdaptationForType(cn.index,Tn,cn),lt=B.getAdaptationForType(pt.index,Tn,pt);if(!Bt||!lt)return!Bt&&!lt;var je=Bt&&lt&&Bt.mimeType===lt.mimeType,Ee=lt.Representation_asArray.map(function(gn){return gn.codecs}),rt=Bt.Representation_asArray.map(function(gn){return gn.codecs}),It=rt.some(function(gn){return Ee.indexOf(gn)>-1}),tn=rt.some(function(gn){return Ee.some(function(Wn){return ie.codecRootCompatibleWithCodec(Wn,gn)})});return It||tn&&je}function Jn(Pt){Ie=Pt}function lr(){return Ie}return p={initialize:function(){le.on(v.Z.BUFFERING_COMPLETED,mn,p),le.on(v.Z.DATA_UPDATE_COMPLETED,bt,p),le.on(v.Z.INBAND_EVENTS,rn,p),Xe&&(le.on(v.Z.KEY_ERROR,st,p),le.on(v.Z.SERVER_CERTIFICATE_UPDATED,st,p),le.on(v.Z.LICENSE_REQUEST_COMPLETE,st,p),le.on(v.Z.KEY_SYSTEM_SELECTED,st,p),le.on(v.Z.KEY_SESSION_CREATED,st,p),le.on(v.Z.KEY_STATUSES_CHANGED,st,p)),Be.initializeForStream(He),le.trigger(v.Z.STREAM_UPDATED,{streamInfo:He})},getStreamId:function(){return He?He.id:null},activate:function(Pt,Tn){return new Promise(function(wn,cn){if(!P)return lr()?(P=!0,le.trigger(v.Z.STREAM_ACTIVATED,{streamInfo:He}),void wn(Tn)):void(pt=Pt,Bt=Tn,Ot(pt,Bt)).then(function(pt){P=!0,le.trigger(v.Z.STREAM_ACTIVATED,{streamInfo:He}),wn(pt)}).catch(function(pt){cn(pt)});var pt,Bt;wn(Tn)})},deactivate:pn,getIsActive:function(){return P},getDuration:function(){return He?He.duration:NaN},getStartTime:Ne,getId:Oe,getStreamInfo:Ye,getHasAudioTrack:function(){return J},getHasVideoTrack:function(){return U},startPreloading:function(Pt,Tn){return new Promise(function(wn,cn){lr()?cn():(b.info("[startPreloading] Preloading next stream with id ".concat(Oe())),Jn(!0),Ot(Pt,Tn).then(function(){for(var pt=0;pt<M.length&&M[pt];pt++)M[pt].setExplicitBufferingTime(Ne()),M[pt].getScheduleController().startScheduleTimer();wn()}).catch(function(){Jn(!1),cn()}))})},initializeForTextWithMediaSource:function(Pt){return new Promise(function(Tn,wn){dt(f.Z.TEXT,Pt).then(function(){return(cn=hn(f.Z.TEXT))?cn.createBufferSinks():Promise.resolve();var cn}).then(function(){Be.createTracks(He),Tn()}).catch(function(cn){wn(cn)})})},getThumbnailController:function(){return ne},getBitrateListFor:function(Pt){if(nt(),Pt===f.Z.IMAGE)return ne?ne.getBitrateList():[];var Tn=function(wn){for(var cn=null,pt=0;pt<M.length;pt++)if((cn=M[pt]).getType()===wn)return cn.getMediaInfo();return null}(Pt);return ce.getBitrateList(Tn)},updateData:function(Pt){return new Promise(function(Tn){K=!0,He=Pt,we&&Vt();for(var wn=[],cn=0,pt=M.length;cn<pt;cn++){var Bt=M[cn],lt=Bt.getMediaInfo();wn.push(Bt.updateStreamInfo(He));var je=B.getAllMediaInfoForType(He,Bt.getType());if(je=je.filter(function(It){return!It.isEmbedded})){Bt.clearMediaInfoArray();for(var Ee=0;Ee<je.length;Ee++){var rt=je[Ee];Bt.addMediaInfo(je[Ee]),B.areMediaInfosEqual(lt,rt)&&(ce.updateTopQualityIndex(rt),wn.push(Bt.selectMediaInfo(rt)))}}}Promise.all(wn).then(function(){for(wn=[];te.length>0;){var It=te.pop(),tn=It.newMediaInfo,gn=un(It.oldMediaInfo);if(!gn)return;wn.push(gn.prepareTrackSwitch()),wn.push(gn.selectMediaInfo(tn))}return Promise.all(wn)}).then(function(){K=!1,kt(),le.trigger(v.Z.STREAM_UPDATED,{streamInfo:He}),Tn()})})},reset:function(Pt){V&&(V.reset(),V=null),ce&&He&&ce.clearDataForStream(He.id),ee&&(ee.reset(),ee=null),Le(Pt),He=null,le.off(v.Z.DATA_UPDATE_COMPLETED,bt,p),le.off(v.Z.BUFFERING_COMPLETED,mn,p),le.off(v.Z.INBAND_EVENTS,rn,p),Xe&&(le.off(v.Z.KEY_ERROR,st,p),le.off(v.Z.SERVER_CERTIFICATE_UPDATED,st,p),le.off(v.Z.LICENSE_REQUEST_COMPLETE,st,p),le.off(v.Z.KEY_SYSTEM_SELECTED,st,p),le.off(v.Z.KEY_SESSION_CREATED,st,p),le.off(v.Z.KEY_STATUSES_CHANGED,st,p))},getProcessors:En,setMediaSource:function(Pt){return new Promise(function(Tn,wn){for(var cn=[],pt=0;pt<M.length;)wt(M[pt].getMediaInfo())?(cn.push(M[pt].setMediaSource(Pt)),pt++):(M[pt].reset(),M.splice(pt,1));Promise.all(cn).then(function(){for(var Bt=0;Bt<M.length;Bt++)M[Bt].dischargePreBuffer();if(0===M.length){var lt="No streams to play.";he.error(new X.Z(_e.MANIFEST_ERROR_ID_NOSTREAMS_CODE,lt+"nostreams",w.getValue())),b.fatal(lt)}Tn()}).catch(function(Bt){b.error(Bt),wn(Bt)})})},isMediaCodecCompatible:function(Pt){var Tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Qn(Pt,f.Z.VIDEO,Tn)&&Qn(Pt,f.Z.AUDIO,Tn)},isProtectionCompatible:function(Pt){return!Pt||Fn(f.Z.VIDEO,Pt)&&Fn(f.Z.AUDIO,Pt)},getPreloaded:lr,getIsEndedEventSignaled:function(){return Se},setIsEndedEventSignaled:it,getAdapter:function(){return B},getHasFinishedBuffering:function(){return C},setPreloaded:Jn,startScheduleControllers:function(){for(var Pt=M.length,Tn=0;Tn<Pt&&M[Tn];Tn++)M[Tn].getScheduleController().startScheduleTimer()},prepareTrackChange:function(Pt){if(P&&He){C=!1;var Tn=Pt.newMediaInfo,wn=w.getValue();B.setCurrentMediaInfo(He.id,Tn.type,Tn);var cn=un(Tn);if(cn){var pt=z.getTime();b.info("Stream -  Process track changed at current time "+pt),wn.refreshManifestOnSwitchTrack?(te.push(Pt),L.getIsUpdating()||(b.debug("Stream -  Refreshing manifest for switch track"),L.refreshManifest())):cn.selectMediaInfo(Tn).then(function(){Tn.type!==f.Z.VIDEO&&Tn.type!==f.Z.AUDIO||ce.updateTopQualityIndex(Tn),cn.prepareTrackSwitch()})}}},prepareQualityChange:function(Pt){var Tn=hn(Pt.mediaType);Tn&&Tn.prepareQualityChange(Pt)}},function(){try{Te=(0,D.Z)(be).getInstance(),b=Te.getLogger(p),Le(),me=(0,Ea.Z)(be).getInstance(),ee=Lc(be).create({updateEventName:v.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:v.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),V=ir(be).create({streamInfo:He,mediaPlayerModel:q,dashMetrics:G,errHandler:he,settings:Nt,boxParser:me,dashConstants:d.Z,urlUtils:ye})}catch(Pt){throw Pt}}(),p}yd.__dashjs_factory_name="Stream";var hs=S.Z.getClassFactory(yd),Nh=function _(p){(function(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")})(this,_),this.url=p||null,this.type=ut.w.CONTENT_STEERING_TYPE,this.responseType="json"},Wr=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function Ta(){var _,p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me=this.context,Te=(0,We.Z)(me).getInstance();function Se(ce){w(ce,"baseUrl")}function te(ce){w(ce,"location")}function be(ce){if(ce&&ce.request&&ce.request.serviceLocation&&ce.request.requestStartDate&&ce.request.requestEndDate&&!isNaN(ce.request.bytesTotal)){var z=ce.request.serviceLocation,we=ce.request.requestEndDate.getTime()-ce.request.requestStartDate.getTime();ye(z,parseInt(8*ce.request.bytesTotal/we*1e3))}}function le(ce){ce&&ce.httpRequest&&ce.httpRequest._serviceLocation&&!isNaN(ce.throughput)&&ye(ce.httpRequest._serviceLocation,1e3*ce.throughput)}function ye(ce,z){F[ce]||(F[ce]=[]),F[ce].push(z),F[ce].length>4&&F[ce].shift()}function w(ce,z){if(ce&&ce.request&&ce.request.serviceLocation){var we=ce.request.serviceLocation;-1===M[z].all.indexOf(we)&&M[z].all.push(we),M[z].current=we}}function q(){var ce=K.getValue(),z=Ie.getContentSteering(ce);return z||(z=ne.getServiceDescriptionSettings().contentSteering),z}function G(){return new Promise(function(ce){try{var z=q();if(!z||!z.serverUrl)return void ce();var we=function(Xe){var Be=Xe.serverUrl;b&&b.reloadUri&&(Be=Te.isRelative(b.reloadUri)?Te.resolve(b.reloadUri,Xe.serverUrl):b.reloadUri);var Ue=[],He=M.baseUrl.all.concat(M.location.all);if(He.length>0){var Nt=He.map(function(wt){return{serviceLocation:wt,throughput:function(Le){if(!Le||!F[Le]||0===F[Le].length)return-1;var it=F[Le].reduce(function(Ne,Oe){return Ne+Oe})/F[Le].length;return parseInt(it)}(wt)}});Nt.sort(function(wt,pn){return pn.throughput-wt.throughput});var Ot="",dt="";Nt.forEach(function(wt,pn){0!==pn&&(Ot="".concat(Ot,","),wt.throughput>-1&&(dt="".concat(dt,","))),Ot="".concat(Ot).concat(wt.serviceLocation),wt.throughput>-1&&(dt="".concat(dt).concat(wt.throughput))}),Ue.push({key:"_DASH_pathway",value:'"'.concat(Ot,'"')}),Ue.push({key:"_DASH_throughput",value:dt})}return nr.Z.addAditionalQueryParameterToUrl(Be,Ue)}(z),Me=new Nh(we);C.load({request:Me,success:function(Xe){var Be;(Be=Xe)&&Be[d.Z.CONTENT_STEERING_RESPONSE.VERSION]&&1===parseInt(Be[d.Z.CONTENT_STEERING_RESPONSE.VERSION])&&((b=new Wr).version=Be[d.Z.CONTENT_STEERING_RESPONSE.VERSION],Be[d.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Be[d.Z.CONTENT_STEERING_RESPONSE.TTL])&&(b.ttl=Be[d.Z.CONTENT_STEERING_RESPONSE.TTL]),Be[d.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(b.reloadUri=Be[d.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Be[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(b.pathwayPriority=Be[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Be[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(b.pathwayClones=Be[d.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],b.pathwayClones=b.pathwayClones.filter(function(Ue){return(He=Ue)[d.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&He[d.Z.CONTENT_STEERING_RESPONSE.ID]&&He[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&He[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][d.Z.CONTENT_STEERING_RESPONSE.HOST];var He})),se()),ee.trigger(h.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:b,url:we}),ce()},error:function(Xe,Be,Ue,He){(function(Nt,Ot){try{switch(p.warn("Error fetching data from content steering server",Nt),Ot.status){case 410:break;case 429:var dt=Ot&&Ot.getResponseHeader?Ot.getResponseHeader("retry-after"):null;null!==dt&&(b||(b={}),b.ttl=parseInt(dt)),se();break;default:se()}}catch(wt){p.error(wt)}})(Xe,He),ce(Xe)},complete:function(){M.baseUrl.all=L(M.baseUrl),M.location.all=L(M.location)}})}catch(Xe){ce(Xe)}})}function L(ce){return ce.all&&0!==ce.all.length&&ce.current?ce.all.filter(function(z){return z===ce.current}):[]}function B(ce){try{var z=[];return ce&&0!==ce.length&&b&&b.pathwayClones&&0!==b.pathwayClones.length&&b.pathwayClones.forEach(function(we){var Me=ce.filter(function(Nt){return we[d.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===Nt.serviceLocation}),Xe=null;if(Me&&Me.length>0&&(Xe=Me[0]),Xe){var Be=new URL(Xe.url),Ue=we[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][d.Z.CONTENT_STEERING_RESPONSE.HOST];Ue=nr.Z.stringHasProtocol(Ue)?Ue:"".concat(Be.protocol,"//").concat(Ue);var He={synthesizedUrl:"".concat(Ue).concat(Be.pathname),serviceLocation:we[d.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:we[d.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][d.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Xe};z.push(He)}}),z}catch(we){return p.error(we),[]}}function se(){b&&b.ttl&&!isNaN(b.ttl)&&(P&&clearTimeout(P),P=setTimeout(function(){G()},1e3*b.ttl))}function ie(){P&&clearTimeout(P),P=null}function he(){b=null,F={},M={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},ie()}return _={reset:function(){he(),ee.off(h.Z.FRAGMENT_LOADING_STARTED,Se,_),ee.off(h.Z.MANIFEST_LOADING_STARTED,te,_),ee.off(h.Z.MANIFEST_LOADING_FINISHED,be,_),ee.off(h.Z.THROUGHPUT_MEASUREMENT_STORED,le,_)},setConfig:function(ce){ce&&(ce.adapter&&(Ie=ce.adapter),ce.errHandler&&(U=ce.errHandler),ce.dashMetrics&&(J=ce.dashMetrics),ce.mediaPlayerModel&&(re=ce.mediaPlayerModel),ce.requestModifier&&(V=ce.requestModifier),ce.manifestModel&&(K=ce.manifestModel),ce.serviceDescriptionController&&(ne=ce.serviceDescriptionController),ce.eventBus&&(ee=ce.eventBus))},loadSteeringData:G,getCurrentSteeringResponseData:function(){return b},shouldQueryBeforeStart:function(){var ce=q();return!!ce&&ce.queryBeforeStart},getSteeringDataFromManifest:q,stopSteeringRequestTimer:ie,getSynthesizedBaseUrlElements:function(ce){try{return B(ce).map(function(z){var we=new Ko(z.synthesizedUrl,z.serviceLocation);return we.queryParams=z.queryParams,we.dvb_priority=z.reference.dvb_priority,we.dvb_weight=z.reference.dvb_weight,we.availabilityTimeOffset=z.reference.availabilityTimeOffset,we.availabilityTimeComplete=z.reference.availabilityTimeComplete,we})}catch(z){return p.error(z),[]}},getSynthesizedLocationElements:function(ce){try{return B(ce).map(function(z){var we=new fn(z.synthesizedUrl,z.serviceLocation);return we.queryParams=z.queryParams,we})}catch(z){return p.error(z),[]}},initialize:function(){C=Ir(me).create({errHandler:U,dashMetrics:J,mediaPlayerModel:re,requestModifier:V,errors:_e}),ee.on(h.Z.FRAGMENT_LOADING_STARTED,Se,_),ee.on(h.Z.MANIFEST_LOADING_STARTED,te,_),ee.on(h.Z.MANIFEST_LOADING_FINISHED,be,_),ee.on(h.Z.THROUGHPUT_MEASUREMENT_STORED,le,_)}},p=(0,D.Z)(me).getInstance().getLogger(_),he(),_}Ta.__dashjs_factory_name="ContentSteeringController";var wa=S.Z.getSingletonFactory(Ta);function $s(){var _,p,b,M=this.context,F=(0,Ge.Z)(M).getInstance();return _={select:function(P){if(!P||0===P.length)return null;var U,J,C=null;return F.get().streaming.applyContentSteering&&(U=P,C=(J=b.getCurrentSteeringResponseData())&&J.pathwayPriority&&J.pathwayPriority.length>0?function(){for(var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],V=0,ne=null,ee=function(){var Ie=re[V],me=K.findIndex(function(Te){return Te.serviceLocation&&Te.serviceLocation===Ie});if(-1!==me&&!p.contains(K[me].serviceLocation))return ne=K[me],"break";V+=1};V<re.length&&"break"!==ee(););return ne}(J.pathwayPriority,U):null),C||(C=function(U){return U[0]}(P)),C},setConfig:function(P){P.blacklistController&&(p=P.blacklistController),P.contentSteeringController&&(b=P.contentSteeringController)},reset:function(){p.reset()}},p=Lc(M).create({updateEventName:v.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:v.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),b=wa(M).getInstance(),_}$s.__dashjs_factory_name="LocationSelector";var Oh=S.Z.getClassFactory($s);function Qo(){var _,p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie=this.context,me=(0,A.Z)(Ie).getInstance(),Te=(0,We.Z)(Ie).getInstance();function Se(){b=NaN,C=!1,F=!0,P=!1,te()}function te(){null!==M&&(clearTimeout(M),M=null)}function be(ie){te(),P||(isNaN(ie)&&!isNaN(b)&&(ie=1e3*b),isNaN(ie)||(p.debug("Refresh manifest in "+ie+" milliseconds."),M=setTimeout(q,ie)))}function le(){var ie=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C=!0;var he=J.getValue(),ce=he.url,z=null,we=K.getPatchLocation(he),Me=re.select(we),Xe=null;if(Me&&!ie)ce=Me.url,z=Me.serviceLocation,Xe=Me.queryParams;else{var Be=function ye(ie){var he=K.getLocation(ie),ce=ne.getSynthesizedLocationElements(he);return he.concat(ce)}(he),Ue=re.select(Be);Ue&&(ce=Ue.url,z=Ue.serviceLocation,Xe=Ue.queryParams)}Te.isRelative(ce)&&(ce=Te.resolve(ce,he.url)),U.load(ce,z,Xe)}function w(ie){if(ie){if(K.getIsPatch(ie)){var he=ie;ie=J.getValue();var ce=K.isPatchValid(ie,he),z=ce;if(ce){var we=K.getPublishTime(ie);z=K.applyPatchToManifest(ie,he);var Me=K.getPublishTime(ie);z=we.getTime()!=Me.getTime()}if(!z)return p.debug("Patch provided is invalid, performing full manifest refresh"),void le(!0);ie.loadedTime=new Date}}else(ie=J.getValue()).loadedTime=new Date;if(J.getValue()&&J.getValue().type===d.Z.DYNAMIC&&ie.type===d.Z.STATIC)return me.trigger(v.Z.DYNAMIC_TO_STATIC),C=!1,void(P=!0);J.setValue(ie);var Xe=new Date,Be=(Xe.getTime()-ie.loadedTime.getTime())/1e3;1e3*(b=K.getManifestUpdatePeriod(ie,Be))>2147483647&&(b=2147483.647),me.trigger(v.Z.MANIFEST_UPDATED,{manifest:ie}),p.info("Manifest has been refreshed at "+Xe+"["+Xe.getTime()/1e3+"] "),F||be()}function q(){F||(C?be(ee.get().streaming.manifestUpdateRetryInterval):le())}function G(ie){ie.error?ie.error.code===_e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&V.error(ie.error):w(ie.manifest)}function L(){F=!1,be()}function B(){(F=!ee.get().streaming.scheduling.scheduleWhilePaused)&&te()}function se(){C=!1}return _={initialize:function(){Se(),me.on(v.Z.STREAMS_COMPOSED,se,this),me.on(h.Z.PLAYBACK_STARTED,L,this),me.on(h.Z.PLAYBACK_PAUSED,B,this),me.on(v.Z.INTERNAL_MANIFEST_LOADED,G,this)},setManifest:function(ie){w(ie)},refreshManifest:le,getIsUpdating:function(){return C},setConfig:function(ie){ie&&(ie.manifestModel&&(J=ie.manifestModel),ie.adapter&&(K=ie.adapter),ie.manifestLoader&&(U=ie.manifestLoader),ie.errHandler&&(V=ie.errHandler),ie.locationSelector&&(re=ie.locationSelector),ie.settings&&(ee=ie.settings),ie.contentSteeringController&&(ne=ie.contentSteeringController))},reset:function(){me.off(h.Z.PLAYBACK_STARTED,L,this),me.off(h.Z.PLAYBACK_PAUSED,B,this),me.off(v.Z.STREAMS_COMPOSED,se,this),me.off(v.Z.INTERNAL_MANIFEST_LOADED,G,this),Se()}},p=(0,D.Z)(Ie).getInstance().getLogger(_),re=Oh(Ie).create(),_}Qo.__dashjs_factory_name="ManifestUpdater";var bd=S.Z.getClassFactory(Qo);function Ti(){var _,p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me,Te=this.context,Se=(0,A.Z)(Te).getInstance(),te=(0,We.Z)(Te).getInstance();function be(){U=[],J=[],re=null,K=null,ne=null,V=NaN,b=!1,M=!1,ee=F.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function le(){F.get().streaming.utcSynchronization.enabled&&!b&&!M&&ne&&ne.value&&ne.schemeIdUri&&!isNaN(V)&&!isNaN(F.get().streaming.utcSynchronization.backgroundAttempts)&&(K&&(Date.now()-K)/1e3<30||(U=[],M=!0,ye(isNaN(F.get().streaming.utcSynchronization.backgroundAttempts)?2:F.get().streaming.utcSynchronization.backgroundAttempts)))}function ye(Ue){try{if(Ue<=0)return void Xe();var He=Date.now();P[ne.schemeIdUri](ne.value,function(Nt){var Ot=Date.now(),dt=q(He,Ot,Nt);U.push(dt),ye(Ue-1)},function(){Xe()})}catch{Xe()}}function w(){var He=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!J||0===J.length||He>=J.length)G();else{var Nt=J[He];if(Nt)if(P.hasOwnProperty(Nt.schemeIdUri)){var Ot=(new Date).getTime();P[Nt.schemeIdUri](Nt.value,function(dt){var wt=(new Date).getTime(),pn=q(Ot,wt,dt);ne=Nt,G(pn)},function(){w(He+1)})}else w(He+1);else G()}}function q(Ue,He,Nt){return Nt-(He-(He-Ue)/2)}function G(){var Ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,He=isNaN(Ue);He&&F.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function we(){var Ue=C.getLatestMPDRequestHeaderValueByID("Date"),He=null!==Ue?new Date(Ue).getTime():Number.NaN;isNaN(He)?Me(!0):Me(!1,He-Date.now())}():Me(He,Ue)}function L(Ue){var Ot,dt,wt,He=Date.parse(Ue);return isNaN(He)&&(wt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Ue),Ot=Date.UTC(parseInt(wt[1],10),parseInt(wt[2],10)-1,parseInt(wt[3],10),parseInt(wt[4],10),parseInt(wt[5],10),wt[6]&&(parseInt(wt[6],10)||0),wt[7]&&1e3*parseFloat(wt[7])||0),wt[9]&&wt[10]&&(dt=60*parseInt(wt[9],10)+parseInt(wt[10],10),Ot+=("+"===wt[8]?-1:1)*dt*60*1e3),He=new Date(Ot).getTime()),He}function B(Ue){return Date.parse(Ue)}function se(Ue){return Date.parse(Ue)}function ie(Ue,He,Nt){Nt()}function he(Ue,He,Nt){var Ot=L(Ue);isNaN(Ot)?Nt():He(Ot)}function ce(Ue,He,Nt,Ot,dt){var wt,pn,Le=!1,it=new XMLHttpRequest,Ne=dt?ut.w.HEAD:ut.w.GET,Oe=He.match(/\S+/g);if(He=Oe.shift(),wt=function(){Le||(Le=!0,Oe.length?ce(Ue,Oe.join(" "),Nt,Ot,dt):Ot())},pn=function(){var nt,st;200===it.status&&(nt=dt?it.getResponseHeader("Date"):it.response,st=Ue(nt),isNaN(st)||(Nt(st),Le=!0))},te.isRelative(He)){var Ye=me.resolve();Ye&&(He=te.resolve(He,Ye.url))}it.open(Ne,He),it.timeout=5e3,it.onload=pn,it.onloadend=wt,it.send()}function z(Ue,He,Nt){ce(se,Ue,He,Nt,!0)}function Me(Ue,He){if(isNaN(V)||isNaN(He)||Ue||function(Ot){try{var dt,wt=Be(Ot),pn=isNaN(ee)?30:ee,Le=isNaN(F.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:F.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,it=isNaN(F.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:F.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Ne=isNaN(F.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:F.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;wt?(dt=Math.min(pn*Le,it),p.debug("Increasing timeBetweenSyncAttempts to ".concat(dt))):(dt=Math.max(pn/Le,Ne),p.debug("Decreasing timeBetweenSyncAttempts to ".concat(dt))),ee=dt}catch{}}(He),!Ue&&!isNaN(He)){re=Date.now(),b=!1;var Nt=isNaN(V);V=He,Nt&&le(),p.debug("Completed UTC sync. Setting client - server offset to ".concat(He))}Ue&&(ne=null,b=!1,Ie.error(new X.Z(_e.TIME_SYNC_FAILED_ERROR_CODE,_e.TIME_SYNC_FAILED_ERROR_MESSAGE))),Se.trigger(v.Z.UPDATE_TIME_SYNC_OFFSET,{offset:He}),Se.trigger(v.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Xe(){if(U&&0!==U.length){var Ue=U.reduce(function(He,Nt){return He+Nt},0)/U.length;Be(Ue)?p.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(p.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ue)),Se.trigger(v.Z.UPDATE_TIME_SYNC_OFFSET,{offset:V=Ue})),M=!1,K=Date.now()}}function Be(Ue){try{if(isNaN(V))return!0;var He=F.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(F.get().streaming.utcSynchronization.maximumAllowedDrift)?F.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ue>=V-He&&Ue<=V+He}catch{return!0}}return _={initialize:function(){be(),P={"urn:mpeg:dash:utc:http-head:2014":z,"urn:mpeg:dash:utc:http-xsdate:2014":ce.bind(null,L),"urn:mpeg:dash:utc:http-iso:2014":ce.bind(null,B),"urn:mpeg:dash:utc:direct:2014":he,"urn:mpeg:dash:utc:http-head:2012":z,"urn:mpeg:dash:utc:http-xsdate:2012":ce.bind(null,L),"urn:mpeg:dash:utc:http-iso:2012":ce.bind(null,B),"urn:mpeg:dash:utc:direct:2012":he,"urn:mpeg:dash:utc:http-ntp:2014":ie,"urn:mpeg:dash:utc:ntp:2014":ie,"urn:mpeg:dash:utc:sntp:2014":ie}},attemptSync:function(Ue,He){J=Ue,b||(function(Nt){try{if(!Nt||!F.get().streaming.utcSynchronization.enabled)return!1;var Ot=isNaN(ee)?30:ee;return!(re&&Ot&&!isNaN(Ot))||(Date.now()-re)/1e3>=Ot}catch{return!0}}(He)?(b=!0,w()):Se.trigger(v.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Ue){Ue&&(Ue.dashMetrics&&(C=Ue.dashMetrics),Ue.baseURLController&&(me=Ue.baseURLController),Ue.errHandler&&(Ie=Ue.errHandler),Ue.settings&&(F=Ue.settings))},reset:function(){be(),Se.off(v.Z.ATTEMPT_BACKGROUND_SYNC,le,_)}},p=(0,D.Z)(Te).getInstance().getLogger(_),Se.on(v.Z.ATTEMPT_BACKGROUND_SYNC,le,_),_}Ti.__dashjs_factory_name="TimeSyncController";var er=S.Z.getSingletonFactory(Ti);er.HTTP_TIMEOUT_MS=5e3,S.Z.updateSingletonFactory(Ti.__dashjs_factory_name,er);var C0=er;function n_(){var _,p,b,M;return _={createMediaSource:function(){var P="WebKitMediaSource"in window;return"MediaSource"in window?p=new MediaSource:P&&(p=new WebKitMediaSource),p},attachMediaSource:function(P){var C=window.URL.createObjectURL(p);return P.setSource(C),C},detachMediaSource:function(P){P.setSource(null)},setDuration:function P(C){p&&"open"===p.readyState&&(null===C&&isNaN(C)||p.duration!==C&&(C!==1/0||b.get().streaming.buffer.mediaSourceDurationInfinity||(C=Math.pow(2,32)),function(U){for(var J=U.sourceBuffers,re=0;re<J.length;re++)if(J[re].updating)return!0;return!1}(p)?setTimeout(P.bind(null,C),50):(M.info("Set MediaSource duration:"+C),p.duration=C)))},setSeekable:function(P,C){p&&"function"==typeof p.setLiveSeekableRange&&"function"==typeof p.clearLiveSeekableRange&&"open"===p.readyState&&P>=0&&P<C&&(p.clearLiveSeekableRange(),p.setLiveSeekableRange(P,C))},signalEndOfStream:function(P){if(P&&"open"===P.readyState){for(var C=P.sourceBuffers,U=0;U<C.length;U++)if(C[U].updating||0===C[U].buffered.length)return;M.info("call to mediaSource endOfStream"),P.endOfStream()}},setConfig:function(P){P&&P.settings&&(b=P.settings)}},M=(0,D.Z)(this.context).getInstance().getLogger(_),_}n_.__dashjs_factory_name="MediaSourceController";var I0=S.Z.getSingletonFactory(n_);function bn(){var _,p,b,M,F,P,C,U,J,re,K,V="urn:mpeg:dash:event:2012",ee="updated",Ie="added",me=this.context,Te=(0,A.Z)(me).getInstance();function Se(){if(!C||!U)throw new Error("setConfig function has to be called previously")}function te(){K=!1,b={},M={},F=null,re=!1,P=Date.now()/1e3}function be(){try{if(!re){re=!0;var ie=U.getTime(),he=ie-P;he=P>0?Math.max(0,he):0,le(M,he,ie),le(b,he,ie),ye(M),ye(b),P=ie,re=!1}}catch(ce){re=!1,p.error(ce)}}function le(ie,he,ce){try{L(ie,function(z){if(void 0!==z){var we=isNaN(z.duration)?0:z.duration;z.calculatedPresentationTime<=ce&&z.calculatedPresentationTime+he+we>=ce?se(z,h.Z.EVENT_MODE_ON_START):(B(ce,we+he,z.calculatedPresentationTime)||function(Me){try{return Me.calculatedPresentationTime>Me.eventStream.period.start+Me.eventStream.period.duration}catch(Be){return p.error(Be),!1}}(z))&&(p.debug("Removing event ".concat(z.id," from period ").concat(z.eventStream.period.id," as it is expired or invalid")),function(Me,Xe){try{var Be=Xe.eventStream.schemeIdUri,Ue=Xe.eventStream.period.id,He=Xe.eventStream.value,Nt=Xe.id;Me[Ue][Be]=Me[Ue][Be].filter(function(Ot){return He&&Ot.eventStream.value&&Ot.eventStream.value!==He||Ot.id!==Nt}),0===Me[Ue][Be].length&&delete Me[Ue][Be]}catch(Ot){p.error(Ot)}}(ie,z))}})}catch(z){p.error(z)}}function ye(ie){try{for(var he in ie)ie.hasOwnProperty(he)&&0===Object.keys(ie[he]).length&&delete ie[he]}catch(ce){p.error(ce)}}function w(ie,he){var ce=arguments.length>2&&void 0!==arguments[2]&&arguments[2],z=ie.eventStream.schemeIdUri,we=ie.eventStream.value,Me=ie.id,Xe="discarded";he[z]||(he[z]=[]);var Be=he[z].findIndex(function(He){return(!we||He.eventStream.value&&He.eventStream.value===we)&&He.id===Me});if(-1===Be)he[z].push(ie),ie.triggeredReceivedEvent=!1,ie.triggeredStartEvent=!1,Xe=Ie;else if(ce){var Ue=he[z][Be];ie.triggeredReceivedEvent=Ue.triggeredReceivedEvent,ie.triggeredStartEvent=Ue.triggeredStartEvent,he[z][Be]=ie,Xe=ee}return Xe}function q(ie){try{1==ie.eventStream.value&&Te.trigger(h.Z.MANIFEST_VALIDITY_CHANGED,{id:ie.id,validUntil:ie.calculatedPresentationTime,newDuration:4294967295==ie.calculatedPresentationTime?NaN:ie.calculatedPresentationTime+ie.duration,newManifestValidAfter:NaN},{mode:h.Z.EVENT_MODE_ON_START})}catch(z){p.error(z)}}function G(ie){try{var he=U.getTime();L(ie,function(ce){var z=ce.eventStream&&ce.eventStream.period&&!isNaN(ce.eventStream.period.duration)?ce.eventStream.period.duration:NaN,we=ce.eventStream&&ce.eventStream.period&&!isNaN(ce.eventStream.period.start)?ce.eventStream.period.start:NaN;isNaN(z)||isNaN(we)||Math.abs(ce.calculatedPresentationTime-he)<300&&se(ce,h.Z.EVENT_MODE_ON_START)})}catch(ce){p.error(ce)}}function L(ie,he){try{if(ie)for(var ce=Object.keys(ie),z=0;z<ce.length;z++)for(var we=ie[ce[z]],Me=Object.keys(we),Xe=0;Xe<Me.length;Xe++)we[Me[Xe]].forEach(function(Be){void 0!==Be&&he(Be)})}catch(Be){p.error(Be)}}function B(ie,he,ce){try{return ie-he>ce}catch(z){return p.error(z),!1}}function se(ie,he){try{var ce=U.getTime(),z=ie.id;if(he===h.Z.EVENT_MODE_ON_RECEIVE&&!ie.triggeredReceivedEvent)return p.debug("Received event ".concat(z)),ie.triggeredReceivedEvent=!0,void Te.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:he});ie.triggeredStartEvent||(ie.eventStream.schemeIdUri===V&&1==ie.eventStream.value?0===ie.duration&&0===ie.presentationTimeDelta||(p.debug("Starting manifest refresh event ".concat(z," at ").concat(ce)),function(){try{Se(),C.refreshManifest()}catch(we){p.error(we)}}()):"urn:mpeg:dash:event:callback:2015"===ie.eventStream.schemeIdUri&&1==ie.eventStream.value?(p.debug("Starting callback event ".concat(z," at ").concat(ce)),function(we){try{(0,ln.Z)(me).create({}).load({method:"get",url:we,request:{responseType:"arraybuffer"}})}catch(Me){p.error(Me)}}(ie.messageData)):(p.debug("Starting event ".concat(z," from period ").concat(ie.eventStream.period.id," at ").concat(ce)),Te.trigger(ie.eventStream.schemeIdUri,{event:ie},{mode:he})),ie.triggeredStartEvent=!0)}catch(we){p.error(we)}}return _={addInlineEvents:function(ie,he){try{if(Se(),b[he]||(b[he]={}),ie)for(var ce=0;ce<ie.length;ce++){var z=ie[ce];if(!B(U.getTime(),isNaN(z.duration)?0:z.duration,z.calculatedPresentationTime)){var we=w(z,b[he],!0);we===Ie?(p.debug("Added inline event with id ".concat(z.id," from period ").concat(he)),se(z,h.Z.EVENT_MODE_ON_RECEIVE)):we===ee&&p.debug("Updated inline event with id ".concat(z.id," from period ").concat(he))}}}catch(Me){throw Me}},addInbandEvents:function(ie,he){try{Se(),M[he]||(M[he]={});for(var ce=0;ce<ie.length;ce++){var z=ie[ce];B(U.getTime(),isNaN(z.duration)?0:z.duration,z.calculatedPresentationTime)||(w(z,M[he],!1)===Ie?(z.eventStream.schemeIdUri===V&&q(z),p.debug("Added inband event with id ".concat(z.id," from period ").concat(he)),se(z,h.Z.EVENT_MODE_ON_RECEIVE)):p.debug("Inband event with scheme_id_uri ".concat(z.eventStream.schemeIdUri,", value ").concat(z.eventStream.value,", period id ").concat(he," and event id ").concat(z.id," was ignored because it has been added before.")))}be()}catch(we){throw we}},getInbandEvents:function(){return M},getInlineEvents:function(){return b},start:function(){try{Se(),p.debug("Start Event Controller");var ie=J.get().streaming.eventControllerRefreshDelay;K||isNaN(ie)||(K=!0,F=setInterval(be,ie))}catch(he){throw he}},setConfig:function(ie){try{if(!ie)return;ie.manifestUpdater&&(C=ie.manifestUpdater),ie.playbackController&&(U=ie.playbackController),ie.settings&&(J=ie.settings)}catch(he){throw he}},reset:function(){(function(){try{null!==F&&K&&(clearInterval(F),F=null,K=!1,function(){try{G(M),G(b)}catch(ie){p.error(ie)}}())}catch(ie){throw ie}})(),te()}},p=(0,D.Z)(me).getInstance().getLogger(_),te(),_}bn.__dashjs_factory_name="EventController";var A0=S.Z.getSingletonFactory(bn),Pr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function Ja(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,M=new Array(p);b<p;b++)M[b]=_[b];return M}function Ph(){var _,p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me,Te,Se,te,be,le,ye,w,q,G,L,B,se,ie,he,ce,z,we,Me,Xe,Be,Ue,He,Nt,Ot,dt,wt,pn,Le,it,Ne,Oe,Ye,nt=this.context,st=(0,A.Z)(nt).getInstance();function Vt(){if(!(P&&P.hasOwnProperty("load")&&le&&le.hasOwnProperty("initialize")&&le.hasOwnProperty("reset")&&le.hasOwnProperty("getClientTimeOffset")&&C&&be&&J&&we))throw new Error(f.Z.MISSING_CONFIG_ERROR)}function mn(){!function(){try{var vt=U.getStreamsInfo();if(!w&&0===vt.length)throw new Error("There are no periods in the MPD");w&&vt.length>0&&J.updateManifestUpdateInfo({currentTime:we.getTime(),buffered:z.getBufferRange(),presentationStartTime:vt[0].start,clientTimeOffset:le.getClientTimeOffset()}),ye.length>0&&(0!==(hr=vt).length?ye=ye.filter(function(qn){var Ur=hr.filter(function(kr){return kr.id===qn.getId()}).length>0||qn.getId()===w.getId();return Ur||(p.debug("Removing stream ".concat(qn.getId())),qn.reset(!0)),Ur}):p.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects."));for(var $t=[],Cn=0,Hn=vt.length;Cn<Hn;Cn++){var dr=vt[Cn];$t.push(rn(dr)),J.addManifestUpdateStreamInfo(dr)}Promise.all($t).then(function(){return new Promise(function(hr,qn){w?hr():un(vt,hr,qn)})}).then(function(){st.trigger(v.Z.STREAMS_COMPOSED),gn()}).catch(function(hr){throw hr})}catch(hr){be.error(new X.Z(_e.MANIFEST_ERROR_ID_NOSTREAMS_CODE,hr.message+" nostreamscomposed",C.getValue())),he=!0,La()}var hr}()}function bt(){it=!0}function rn(vt){var $t=Xr(vt.id);return $t?$t.updateData(vt):($t=hs(nt).create({manifestModel:C,mediaPlayerModel:Xe,dashMetrics:J,manifestUpdater:F,adapter:U,timelineConverter:le,capabilities:b,capabilitiesFilter:M,errHandler:be,baseURLController:ne,segmentBaseController:ee,textController:G,abrController:me,playbackController:we,eventController:Se,mediaController:Te,protectionController:q,videoModel:z,streamInfo:vt,settings:Le}),ye.push($t),$t.initialize(),Promise.resolve())}function un(vt,$t,Cn){try{pt();var Hn=J.getCurrentDVRInfo().range;if(Hn.end<Hn.start){Ne&&clearTimeout(Ne);var dr=Math.min(1e3*(-1*(Hn.end-Hn.start)+2),2147483647);return p.debug("Waiting for ".concat(dr," ms before playback can start")),st.trigger(v.Z.AST_IN_FUTURE,{delay:dr}),void(Ne=setTimeout(function(){un(vt,$t,Cn)},dr))}Le.get().streaming.applyProducerReferenceTime&&Me.calculateProducerReferenceTimeOffsets(vt);var hr=vt[0].manifestInfo;if(Le.get().streaming.applyServiceDescription&&Me.applyServiceDescription(hr),U.getIsDynamic()){var qn=ea(vt,hr);we.computeAndSetLiveDelay(qn,hr)}(Le.get().streaming.applyContentSteering&&V.shouldQueryBeforeStart()?V.loadSteeringData():Promise.resolve()).then(function(){var Ur=C.getValue();Ur&&ne.update(Ur),hn(),$t()}).catch(function(Ur){p.error(Ur),hn(),$t()})}catch(Ur){Cn(Ur)}}function hn(){var vt=function(){var Hn;if(U.getIsDynamic()){var dr=J.getCurrentDVRInfo();Hn=(dr&&dr.range?dr.range.end:0)-we.getOriginalLiveDelay();var hr=dr?dr.range:null;if(hr){if(isNaN(Oe)&&-1===Oe.toString().indexOf("posix:")){var qn=$i(!0);isNaN(qn)||(p.info("Start time from URI parameters: ".concat(qn)),Hn=Math.min(Hn,qn))}else{p.info("Start time provided by the app: ".concat(Oe));var Ur=Ii(!0,Oe);isNaN(Ur)||(Hn=Math.min(Hn,Ur))}var kr=Le.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Hn=Math.max(Hn,hr.start+kr)}}else if(Hn=fl()[0].getStreamInfo().start,isNaN(Oe)){var bs=$i(!1);isNaN(bs)||(p.info("Start time from URI parameters: ".concat(bs)),Hn=Math.max(Hn,bs))}else{p.info("Start time provided by the app: ".concat(Oe));var hl=Ii(!1,Oe);isNaN(hl)||(Hn=Math.max(Hn,hl))}return Hn}(),$t=cn(vt),Cn=null!==$t?$t:ye[0];st.trigger(v.Z.INITIAL_STREAM_SWITCH,{startTime:vt}),En(Cn,null,vt),Ot||(Ot=setInterval(function(){!se&&we.getTimeToStreamEnd()<=0&&!we.isSeeking()&&st.trigger(v.Z.PLAYBACK_ENDED,{isLast:vo().isLast})},200))}function En(vt,$t,Cn){try{if(se||!vt||$t===vt&&vt.getIsActive())return;se=!0,st.trigger(v.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:$t?$t.getStreamInfo():null,toStreamInfo:vt.getStreamInfo()});var Hn=!1;w=vt,$t&&(Hn=Tn(vt,$t),$t.deactivate(Hn)),Cn=isNaN(Cn)?!Hn&&$t?vt.getStreamInfo().start:NaN:Cn,p.info("Switch to stream ".concat(vt.getId(),". Seektime is ").concat(Cn,", current playback time is ").concat(we.getTime(),". Seamless period switch is set to ").concat(Hn)),wt=wt.filter(function(dr){return dr.getId()!==w.getId()}),we.initialize(vo(),!!$t),z.getElement()?Fn(Cn,Hn,!1):Ln(Cn,Hn)}catch{se=!1}}function Fn(vt,$t){var Cn,Hn=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function dr(){if(ce&&"open"===ce.readyState){p.debug("MediaSource is open!"),window.URL.revokeObjectURL(Cn),ce.removeEventListener("sourceopen",dr),ce.removeEventListener("webkitsourceopen",dr),Br();var qn=J.getCurrentDVRInfo();re.setSeekable(qn.range.start,qn.range.end),Hn?(isNaN(vt)||we.seek(vt,!0,!0),w.setMediaSource(ce).then(function(){w.initializeForTextWithMediaSource(ce)})):Ln(vt,$t)}}function hr(){ce.addEventListener("sourceopen",dr,!1),ce.addEventListener("webkitsourceopen",dr,!1),Cn=re.attachMediaSource(z),p.debug("MediaSource attached to element.  Waiting on open...")}ce?$t?Ln(vt,$t):(re.detachMediaSource(z),hr()):(ce=re.createMediaSource(),hr())}function Ln(vt,$t){w.activate(ce,$t?dt:void 0,vt).then(function(Cn){if(Cn){var Hn=Object.keys(Cn);Hn.length>0&&Cn[Hn[0]].getBuffer().changeType&&(pn=!0),dt=Cn}isNaN(vt)||(st.trigger(v.Z.SEEK_TARGET,{time:vt},{streamId:w.getId()}),we.seek(vt,!1,!0),w.startScheduleControllers()),se=!1,st.trigger(v.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:vo()})})}function Qn(vt){var Cn,Hn,dr,hr,$t=cn(vt.seekTime);$t&&$t!==w?$t&&$t!==w&&(Jn(),Hn=$t,dr=(Cn=vt)&&!isNaN(Cn.seekTime)?Cn.seekTime:NaN,hr=w.getProcessors().map(function(qn){return qn.prepareOuterPeriodPlaybackSeeking(Cn)}),Promise.all(hr).then(function(){En(Hn,w,dr)}).catch(function(qn){be.error(qn)})):(Jn(),function(Cn){w.getProcessors().forEach(function(Hn){return Hn.prepareInnerPeriodPlaybackSeeking(Cn)}),Ps(qe.USER_REQUEST_STOP_REASON)}(vt)),ta(Fe.SEEK_START_REASON)}function Jn(){lr()}function lr(){wt&&wt.length>0&&(wt.forEach(function(vt){vt.deactivate(!0)}),wt=[])}function Pt(vt){if(vt.newMediaInfo.streamInfo.id===w.getId()){if(lr(),Le.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&vt.oldMediaInfo&&vt.oldMediaInfo.codec!==vt.newMediaInfo.codec){var $t=we.getTime();return w.deactivate(!1),void Fn($t,!1,!1)}w.prepareTrackChange(vt)}}function Tn(vt,$t){try{return Le.get().streaming.buffer.reuseExistingSourceBuffers&&($t.isProtectionCompatible(vt)||it)&&(pn&&Le.get().streaming.buffer.useChangeTypeForTrackSwitch||$t.isMediaCodecCompatible(vt,$t))}catch{return!1}}function wn(vt){var $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ce&&!vt.getPreloaded()&&Tn(vt,$t)&&vt.startPreloading(ce,dt).then(function(){wt.push(vt)})}function cn(vt){if(isNaN(vt))return null;for(var $t=ye.length,Cn=0;Cn<$t;Cn++){var Hn=ye[Cn];if(vt<parseFloat((Hn.getStartTime()+Hn.getDuration()).toFixed(5)))return Hn}return null}function pt(){try{var vt=U.getIsDynamic(),$t=U.getStreamsInfo()[0].manifestInfo,Cn=we.getTime(),Hn=le.calcTimeShiftBufferWindow(ye,vt),dr=Lr();if(void 0===Hn.start||void 0===Hn.end)return;dr&&0!==dr.length?dr.forEach(function(hr){J.addDVRInfo(hr.getType(),Cn,$t,Hn)}):J.addDVRInfo(f.Z.VIDEO,Cn,$t,Hn)}catch{}}function Bt(vt){if(He&&B){var $t=Xe.getInitialBufferLevel(),Cn=[f.Z.TEXT];(isNaN($t)||$t<=we.getBufferLevel(Cn)||U.getIsDynamic()&&$t>we.getLiveDelay())&&(He=!1,ta(Fe.INITIAL_PLAYOUT_START_REASON),we.play())}vt&&vt.mediaType&&J.addBufferLevel(vt.mediaType,new Date,1e3*vt.bufferLevel)}function lt(vt){vt.streamInfo.id===w.getId()&&vt.reason&&vt.reason.forceReplace&&lr(),Xr(vt.streamInfo.id).prepareQualityChange(vt)}function je(){if(U.getIsDynamic()&&0!==we.getOriginalLiveDelay()&&w){var vt=U.getStreamsInfo();if(vt.length>0){var $t=vt[0].manifestInfo,Cn=ea(vt,$t);we.computeAndSetLiveDelay(Cn,$t)}}}function Ee(){if(ys()){var vt=z.getPlaybackQuality();vt&&J.addDroppedFrames(vt)}}function rt(){p.debug("[onPlaybackStarted]"),!He&&Ue&&ta(Fe.RESUME_FROM_PAUSE_START_REASON),He&&(He=!1),Nt&&(Nt=!1,Le.get().streaming.applyContentSteering&&!V.shouldQueryBeforeStart()&&V.loadSteeringData()),Ue=!1}function It(vt){p.debug("[onPlaybackPaused]"),vt.ended||(Ue=!0,Ps(qe.USER_REQUEST_STOP_REASON))}function tn(vt){p.debug("Stream with id ".concat(vt.streamInfo.id," finished buffering")),ce&&vt.streamInfo.isLast?(p.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),re.signalEndOfStream(ce)):gn()}function gn(){if(w&&w.getHasFinishedBuffering())for(var vt=function(){var dr=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var hr=dr||w||null;if(hr){var qn=hr.getStreamInfo();return ye.filter(function(Ur){var kr=Ur.getStreamInfo();return kr.start>qn.start&&qn.id!==kr.id})}}catch{return[]}}(w),$t=0;$t<vt.length;){var Cn=vt[$t],Hn=0===$t?w:vt[$t-1];!Cn.getPreloaded()&&Hn.getHasFinishedBuffering()&&ce&&wn(Cn,Hn),$t+=1}}function Wn(){Ot&&(clearInterval(Ot),Ot=null)}function Lr(){return w?w.getProcessors():[]}function Ni(vt){if(w&&!w.getIsEndedEventSignaled()){w.setIsEndedEventSignaled(!0);var $t=function(){var Hn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||w||null;if(!Hn)return null;for(var dr=Hn.getStreamInfo(),hr=dr.start,qn=0,Ur=-1,kr=NaN;qn<ye.length;){var bs=ye[qn].getStreamInfo(),hl=bs.start-hr;hl>0&&(isNaN(kr)||hl<kr)&&dr.id!==bs.id&&(kr=hl,Ur=qn),qn+=1}return Ur>=0?ye[Ur]:null}();$t?(p.debug("StreamController onEnded, found next stream with id ".concat($t.getStreamInfo().id,". Switching from ").concat(w.getStreamInfo().id," to ").concat($t.getStreamInfo().id)),En($t,w,NaN)):(p.debug("StreamController no next stream found"),w.setIsEndedEventSignaled(!1)),Ps($t?qe.END_OF_PERIOD_STOP_REASON:qe.END_OF_CONTENT_STOP_REASON)}vt&&vt.isLast&&(Wn(),V.stopSteeringRequestTimer())}function Br(vt){var $t=vt||vo().manifestInfo.duration;re.setDuration($t)}function $i(vt){var $t=Ie.getURIFragmentData();if(!$t||!$t.t)return NaN;var Cn=fl()[0].getStreamInfo().start;return $t.t=$t.t.split(",")[0],vs(vt,$t.t,Cn)}function Ii(vt,$t){var Cn=0;return vt||(Cn=fl()[0].getStreamInfo().start),vs(vt,$t,Cn)}function vs(vt,$t,Cn){var Hn=U.getRegularPeriods()[0],dr=$t.toString(),hr=-1!==dr.indexOf("posix:")?"now"===dr.substring(6)?Date.now()/1e3:parseFloat(dr.substring(6)):NaN;return vt&&!isNaN(hr)?le.calcPresentationTimeFromWallTime(new Date(1e3*hr),Hn):parseFloat(dr)+Cn}function ea(vt,$t){try{var Cn=NaN;if($t&&!isNaN($t.maxFragmentDuration)&&isFinite($t.maxFragmentDuration))return $t.maxFragmentDuration;if(vt&&1===vt.length){var Hn=vt[0],dr=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT].reduce(function(qn,Ur){var kr=U.getMediaInfoForType(Hn,Ur);return kr&&!1!==kr.isFragmented&&qn.push(kr),qn},[]).reduce(function(qn,Ur){var kr=U.getVoRepresentations(Ur);return kr&&kr.length>0&&kr.forEach(function(bs){bs&&qn.push(bs)}),qn},[]).reduce(function(qn,Ur){var kr=U.convertRepresentationToRepresentationInfo(Ur);return kr&&kr.fragmentDuration&&!isNaN(kr.fragmentDuration)&&qn.push(kr.fragmentDuration),qn},[]);Cn=Math.max.apply(Math,function(qn){if(Array.isArray(qn))return Ja(qn)}(hr=dr)||function(qn){if(typeof Symbol<"u"&&Symbol.iterator in Object(qn))return Array.from(qn)}(hr)||function(qn,Ur){if(qn){if("string"==typeof qn)return Ja(qn,undefined);var kr=Object.prototype.toString.call(qn).slice(8,-1);return"Object"===kr&&qn.constructor&&(kr=qn.constructor.name),"Map"===kr||"Set"===kr?Array.from(qn):"Arguments"===kr||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(kr)?Ja(qn,undefined):void 0}}(hr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}return isFinite(Cn)?Cn:NaN}catch{return NaN}var hr}function Ho(vt){if(vt.error)he=!0,La();else{p.info("Manifest updated... updating data system wide.");var $t=vt.manifest;U.updatePeriods($t);var Cn=U.getUTCTimingSources();!U.getIsDynamic()||Cn&&0!==Cn.length||st.trigger(h.Z.CONFORMANCE_VIOLATION,{level:Pr.LEVELS.WARNING,event:Pr.EVENTS.NO_UTC_TIMING_ELEMENT});var Hn=U.getIsDynamic()?Cn.concat(Be.getUTCTimingSources()):Cn;M.filterUnsupportedFeatures($t).then(function(){ne.initialize($t),K.attemptSync(Hn,U.getIsDynamic())})}}function ys(){return!!w&&w.getHasVideoTrack()}function po(){return!!w&&w.getHasAudioTrack()}function Ps(vt,$t){$t=$t||new Date,Lr().forEach(function(Cn){Cn.finalisePlayList($t,vt)}),J.addPlayList()}function ta(vt){J.createPlaylistMetrics(1e3*we.getTime(),vt)}function bi(vt){if(vt.error){var $t="";switch(vt.error.code){case 1:$t="MEDIA_ERR_ABORTED";break;case 2:$t="MEDIA_ERR_NETWORK";break;case 3:$t="MEDIA_ERR_DECODE",Ye.counts.mediaErrorDecode+=1;break;case 4:$t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:$t="MEDIA_ERR_ENCRYPTED";break;default:$t="UNKNOWN"}"MEDIA_ERR_DECODE"===$t&&Le.get().errors.recoverAttempts.mediaErrorDecode>=Ye.counts.mediaErrorDecode?function(){p.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Cn=we.getTime();w.deactivate(!1),p.warn("MediaSource has been resetted. Resuming playback from time ".concat(Cn)),Fn(Cn,!1,!1)}():(ie=!0,vt.error.message&&($t+=" ("+vt.error.message+")"),vt.error.msExtendedCode&&($t+=" (0x"+(vt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),p.fatal("Video Element Error: "+$t),vt.error&&p.fatal(vt.error),be.error(new X.Z(vt.error.code,$t)),La())}}function vo(){return w?w.getStreamInfo():null}function Xr(vt){for(var $t=0,Cn=ye.length;$t<Cn;$t++)if(ye[$t].getId()===vt)return ye[$t];return null}function Fa(vt){isNaN(vt.newDuration)||Br(vt.newDuration)}function dl(){ye=[],Oe=NaN,q=null,se=!1,w=null,ie=!1,he=!1,He=!0,Nt=!0,Ue=!1,B=!0,Ot=null,it=!1,pn=!1,wt=[],Ne=null,Ye={counts:{mediaErrorDecode:0}}}function La(){Vt(),K.reset(),Ps(ie||he?qe.FAILURE_STOP_REASON:qe.USER_REQUEST_STOP_REASON);for(var vt=0,$t=ye?ye.length:0;vt<$t;vt++)ye[vt].reset(ie);st.off(h.Z.PLAYBACK_TIME_UPDATED,Ee,_),st.off(h.Z.PLAYBACK_SEEKING,Qn,_),st.off(h.Z.PLAYBACK_ERROR,bi,_),st.off(h.Z.PLAYBACK_STARTED,rt,_),st.off(h.Z.PLAYBACK_PAUSED,It,_),st.off(h.Z.PLAYBACK_ENDED,Ni,_),st.off(h.Z.METRIC_ADDED,Jl,_),st.off(h.Z.MANIFEST_VALIDITY_CHANGED,Fa,_),st.off(h.Z.BUFFER_LEVEL_UPDATED,Bt,_),st.off(h.Z.QUALITY_CHANGE_REQUESTED,lt,_),v.Z.KEY_SESSION_UPDATED&&st.off(v.Z.KEY_SESSION_UPDATED,bt,_),st.off(v.Z.MANIFEST_UPDATED,Ho,_),st.off(v.Z.STREAM_BUFFERING_COMPLETED,tn,_),st.off(v.Z.TIME_SYNCHRONIZATION_COMPLETED,mn,_),st.off(v.Z.CURRENT_TRACK_CHANGED,Pt,_),st.off(v.Z.SETTING_UPDATED_LIVE_DELAY,je,_),st.off(v.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,je,_),ne.reset(),F.reset(),Se.reset(),J.clearAllCurrentMetrics(),C.setValue(null),P.reset(),le.reset(),te.reset(),ce&&(re.detachMediaSource(z),ce=null),z=null,q&&(q=null,L=null,C.getValue()&&st.trigger(v.Z.PROTECTION_DESTROYED,{data:C.getValue().url})),Wn(),st.trigger(v.Z.STREAM_TEARDOWN_COMPLETE),dl()}function Jl(vt){if(vt.metric===I.Z.DVR_INFO){var $t=po()?f.Z.AUDIO:f.Z.VIDEO;vt.mediaType===$t&&re.setSeekable(vt.value.range.start,vt.value.range.end)}}function fl(){return ye}return _={initialize:function(vt,$t){Vt(),B=vt,L=$t,le.initialize(),(F=bd(nt).create()).setConfig({manifestModel:C,adapter:U,manifestLoader:P,errHandler:be,settings:Le,contentSteeringController:V}),F.initialize(),(Se=A0(nt).getInstance()).setConfig({manifestUpdater:F,playbackController:we,settings:Le}),Se.start(),K.setConfig({dashMetrics:J,baseURLController:ne,errHandler:be,settings:Le}),K.initialize(),re.setConfig({settings:Le}),q&&(st.trigger(v.Z.PROTECTION_CREATED,{controller:q}),q.setMediaElement(z.getElement()),L&&q.setProtectionData(L)),st.on(h.Z.PLAYBACK_TIME_UPDATED,Ee,_),st.on(h.Z.PLAYBACK_SEEKING,Qn,_),st.on(h.Z.PLAYBACK_ERROR,bi,_),st.on(h.Z.PLAYBACK_STARTED,rt,_),st.on(h.Z.PLAYBACK_PAUSED,It,_),st.on(h.Z.PLAYBACK_ENDED,Ni,_),st.on(h.Z.METRIC_ADDED,Jl,_),st.on(h.Z.MANIFEST_VALIDITY_CHANGED,Fa,_),st.on(h.Z.BUFFER_LEVEL_UPDATED,Bt,_),st.on(h.Z.QUALITY_CHANGE_REQUESTED,lt,_),v.Z.KEY_SESSION_UPDATED&&st.on(v.Z.KEY_SESSION_UPDATED,bt,_),st.on(v.Z.MANIFEST_UPDATED,Ho,_),st.on(v.Z.STREAM_BUFFERING_COMPLETED,tn,_),st.on(v.Z.TIME_SYNCHRONIZATION_COMPLETED,mn,_),st.on(v.Z.CURRENT_TRACK_CHANGED,Pt,_),st.on(v.Z.SETTING_UPDATED_LIVE_DELAY,je,_),st.on(v.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,je,_)},getActiveStreamInfo:vo,addDVRMetric:pt,hasVideoTrack:ys,hasAudioTrack:po,getStreamById:Xr,getStreamForTime:cn,getTimeRelativeToStreamId:function(vt,$t){for(var Cn=null,Hn=0,dr=0,hr=null,qn=0;qn<ye.length;qn++){if(dr=(Cn=ye[qn]).getStartTime(),hr=Cn.getDuration(),Number.isFinite(dr)&&(Hn=dr),Cn.getId()===$t)return vt-Hn;Number.isFinite(hr)&&(Hn+=hr)}return null},load:function(vt){var $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;Vt(),Oe=$t,P.load(vt)},loadWithManifest:function(vt){var $t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function kt(){if(!F||!F.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Oe=$t,F.setManifest(vt)},getActiveStreamProcessors:Lr,setConfig:function(vt){vt&&(vt.capabilities&&(b=vt.capabilities),vt.capabilitiesFilter&&(M=vt.capabilitiesFilter),vt.manifestLoader&&(P=vt.manifestLoader),vt.manifestModel&&(C=vt.manifestModel),vt.mediaPlayerModel&&(Xe=vt.mediaPlayerModel),vt.customParametersModel&&(Be=vt.customParametersModel),vt.protectionController&&(q=vt.protectionController),vt.adapter&&(U=vt.adapter),vt.dashMetrics&&(J=vt.dashMetrics),vt.errHandler&&(be=vt.errHandler),vt.timelineConverter&&(le=vt.timelineConverter),vt.videoModel&&(z=vt.videoModel),vt.playbackController&&(we=vt.playbackController),vt.serviceDescriptionController&&(Me=vt.serviceDescriptionController),vt.contentSteeringController&&(V=vt.contentSteeringController),vt.textController&&(G=vt.textController),vt.abrController&&(me=vt.abrController),vt.mediaController&&(Te=vt.mediaController),vt.settings&&(Le=vt.settings),vt.baseURLController&&(ne=vt.baseURLController),vt.uriFragmentModel&&(Ie=vt.uriFragmentModel),vt.segmentBaseController&&(ee=vt.segmentBaseController))},setProtectionData:function(vt){L=vt,q&&q.setProtectionData(L)},getIsStreamSwitchInProgress:function(){return se},switchToVideoElement:function(vt){w&&(we.initialize(vo()),Fn(vt,!1,!0))},getHasMediaOrInitialisationError:function(){return ie||he},getStreams:fl,getActiveStream:function(){return w},getInitialPlayback:function(){return He},getAutoPlay:function(){return B},reset:La},p=(0,D.Z)(nt).getInstance().getLogger(_),K=C0(nt).getInstance(),re=I0(nt).getInstance(),te=xe(nt).getInstance(),dl(),_}Ph.__dashjs_factory_name="StreamController";var Ed=S.Z.getSingletonFactory(Ph);function kh(){var _,p,b,M,F,P,C,U,J,re,K,V,ne=this.context,ee=(0,A.Z)(ne).getInstance();function Ie(){V.debug("Stopping the gap controller"),F&&(clearInterval(F),F=null),function(){ee.off(v.Z.WALLCLOCK_TIME_UPDATED,be,this),ee.off(v.Z.INITIAL_STREAM_SWITCH,te,this),ee.off(v.Z.PLAYBACK_SEEKING,me,this),ee.off(v.Z.BUFFER_REPLACEMENT_STARTED,Te,_),ee.off(v.Z.TRACK_CHANGE_RENDERED,Se,_)}(),F=null,P=NaN,M=0,re=null,K={}}function me(){re&&(clearTimeout(re),re=null)}function Te(L){try{if(L.streamId!==U.getActiveStreamInfo().id||L.mediaType!==f.Z.VIDEO&&L.mediaType!==f.Z.AUDIO)return;L.streamId===U.getActiveStreamInfo().id&&(K[L.mediaType]=!0)}catch(B){V.error(B)}}function Se(L){L&&L.mediaType&&(K[L.mediaType]=!1)}function te(){F||function(){try{F||(V.debug("Starting the gap controller"),F=setInterval(function(){le()&&G(C.getTime())},100))}catch{}}()}function be(){if(le(b.get().streaming.gaps.enableSeekFix)&&++M>=10){var L=C.getTime();p===L?G(L,!0):(p=L,P=NaN),M=0}}function le(){var L=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!U.getActiveStream())return!1;var B=Object.keys(K).some(function(ie){return K[ie]}),se=!!L&&function ye(){var L=U.getActiveStream(),B=parseFloat((L.getStartTime()+L.getDuration()).toFixed(5));return C.getTime()+b.get().streaming.gaps.threshold>=B}();return!B&&b.get().streaming.gaps.jumpGaps&&U.getActiveStreamProcessors().length>0&&(!C.isSeeking()||se)&&!C.isPaused()&&!U.getIsStreamSwitchInProgress()&&!U.getHasMediaOrInitialisationError()}function G(L){var B,se=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ie=b.get().streaming.gaps.enableStallFix,he=b.get().streaming.gaps.stallSeek,ce=b.get().streaming.gaps.smallGapLimit,z=b.get().streaming.gaps.jumpLargeGaps,we=J.getBufferRange(),Me=NaN,Xe=!1;if(B=function w(L,B){try{if(!L||L.length<=1&&B>0)return NaN;for(var se=NaN,ie=0;isNaN(se)&&ie<L.length;){var he=ie>0?L.end(ie-1):0;B<L.start(ie)&&he-B<b.get().streaming.gaps.threshold&&(se=ie),ie+=1}return se}catch{return null}}(we,L),!isNaN(B)){var Be=we.start(B),Ue=Be-L;Ue>0&&(Ue<=ce||z)&&(Me=Be)}var He=C.getTimeToStreamEnd();if(isNaN(Me)&&se&&isFinite(He)&&!isNaN(He)&&He<ce&&(Me=parseFloat(C.getStreamEndTime().toFixed(5)),Xe=!0),ie&&isNaN(Me)&&se&&isNaN(B)&&function q(L,B){for(var se=0,ie=L.length;se<ie;se++)if(B>=L.start(se)&&B<=L.end(se))return!0;return!1}(we,L)&&(0===he?(V.warn("Toggle play pause to break stall"),J.pause(),J.play()):(V.warn("Jumping ".concat(he,"s to break stall")),Me=L+he)),Me>0&&P!==Me&&Me>L&&!re){var Nt=Me-L;if(Xe){var Ot=U.getStreamForTime(Me),dt=Ot&&!!Ot.getPreloaded();V.warn("Jumping to end of stream because of gap from ".concat(L," to ").concat(Me,". Gap duration: ").concat(Nt)),C.seek(Me,!0,dt)}else{var wt=C.getIsDynamic(),pn=B>0?we.end(B-1):L,Le=wt?1e3*Math.max(0,Nt-.1):0;re=window.setTimeout(function(){C.seek(Me,!0,!0),V.warn("Jumping gap occuring in period ".concat(U.getActiveStream().getStreamId()," starting at ").concat(pn," and ending at ").concat(Me,". Jumping by: ").concat(Me-pn)),re=null},Le)}P=Me}}return _={reset:Ie,setConfig:function(L){L&&(L.settings&&(b=L.settings),L.playbackController&&(C=L.playbackController),L.streamController&&(U=L.streamController),L.videoModel&&(J=L.videoModel))},initialize:function(){!function(){ee.on(v.Z.WALLCLOCK_TIME_UPDATED,be,this),ee.on(v.Z.INITIAL_STREAM_SWITCH,te,this),ee.on(v.Z.PLAYBACK_SEEKING,me,this),ee.on(v.Z.BUFFER_REPLACEMENT_STARTED,Te,_),ee.on(v.Z.TRACK_CHANGE_RENDERED,Se,_)}()}},V=(0,D.Z)(ne).getInstance().getLogger(_),Ie(),_}kh.__dashjs_factory_name="GapController";var Bc=S.Z.getSingletonFactory(kh);function Ul(){var _,p,b,M,F,P,C,U,J,re,K=this.context,V=(0,A.Z)(K).getInstance();function ne(){p=!1;var ye=nr.Z.parseUserAgent();b=ye&&ye.browser&&ye.browser.name&&"safari"===ye.browser.name.toLowerCase()}function ee(){p=!1}function Ie(ye){if(ye.streamId===P.getActiveStreamInfo().id&&J){var w=C.getLiveDelay();C.getBufferLevel()>w/2&&(J=!1)}}function me(ye){ye.streamId===P.getActiveStreamInfo().id&&(J=ye.state===I.Z.BUFFER_EMPTY)}function Te(){U.getCatchupModeEnabled()||M.setPlaybackRate(1)}function Se(){C.getIsDynamic()&&U.getCatchupModeEnabled()&&(U.getCatchupPlaybackRates().max>0||U.getCatchupPlaybackRates().min<0)&&!C.isPaused()&&!C.isSeeking()&&function(){try{return!(!C.getTime()>0||p)&&(be()===f.Z.LIVE_CATCHUP_MODE_LOLP?function(ye,w){try{return Math.abs(te())>0||ye<w}catch{return!1}}(C.getBufferLevel(),F.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(te())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!p&&M){var ye,w=M.getPlaybackRate(),q=U.getCatchupPlaybackRates(),G=C.getBufferLevel(),L=te(),B=U.getCatchupMaxDrift();if(!isNaN(B)&&B>0&&L>B)re.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),p=!0,C.seekToCurrentLive(!0,!1);else{var se=C.getCurrentLiveLatency(),ie=C.getLiveDelay();ye=be()===f.Z.LIVE_CATCHUP_MODE_LOLP?function(ce,z,we,Me,Xe){var Be;if(Xe<Me){var Ue=Math.abs(ce.min);Be=1-Ue+2*Ue/(1+Math.pow(Math.E,-5*(Xe-Me))),re.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Xe+", newRate: "+Be)}else{var Nt=ce.max;Be=Math.abs(z-we)<=.02*we?1:1-Nt+2*Nt/(1+Math.pow(Math.E,-5*(z-we))),re.debug("[LoL+ playback control_latency-based] latency: "+z+", newRate: "+Be)}return Be}(q,se,ie,F.get().streaming.liveCatchup.playbackBufferMin,G):function(ce,z,we,Me){if(J)return 1;var Xe=z-we,Be=Xe<0?Math.abs(ce.min):ce.max,He=1-Be+2*Be/(1+Math.pow(Math.E,-5*Xe));return C.getPlaybackStalled()&&Me<=we/2&&Xe>0&&(He=1),He}(q,se,ie,G);var he=b?.25:.02/(.5/q.max);ye&&Math.abs(w-ye)>=he&&(re.debug("[CatchupController]: Setting playback rate to ".concat(ye)),M.setPlaybackRate(ye))}}}()}function te(){return C.getCurrentLiveLatency()-C.getLiveDelay()}function be(){var ye=F.get().streaming.liveCatchup.playbackBufferMin;return F.get().streaming.liveCatchup.mode!==f.Z.LIVE_CATCHUP_MODE_LOLP||null===ye||isNaN(ye)?f.Z.LIVE_CATCHUP_MODE_DEFAULT:f.Z.LIVE_CATCHUP_MODE_LOLP}function le(){U.getCatchupPlaybackRates(!0)}return _={reset:function(){V.off(h.Z.BUFFER_LEVEL_UPDATED,Ie,_),V.off(h.Z.BUFFER_LEVEL_STATE_CHANGED,me,_),V.off(h.Z.PLAYBACK_PROGRESS,Se,_),V.off(h.Z.PLAYBACK_TIME_UPDATED,Se,_),V.off(h.Z.PLAYBACK_SEEKED,ee,_),V.off(v.Z.SETTING_UPDATED_CATCHUP_ENABLED,Te,_),V.off(v.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,le,_),V.off(v.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,le,_),V.off(h.Z.STREAM_INITIALIZED,le,_),ne(),M.setPlaybackRate(1,!0)},setConfig:function(ye){ye&&(ye.settings&&(F=ye.settings),ye.videoModel&&(M=ye.videoModel),ye.streamController&&(P=ye.streamController),ye.playbackController&&(C=ye.playbackController),ye.mediaPlayerModel&&(U=ye.mediaPlayerModel))},initialize:function(){V.on(h.Z.BUFFER_LEVEL_UPDATED,Ie,_),V.on(h.Z.BUFFER_LEVEL_STATE_CHANGED,me,_),V.on(h.Z.PLAYBACK_PROGRESS,Se,_),V.on(h.Z.PLAYBACK_TIME_UPDATED,Se,_),V.on(h.Z.PLAYBACK_SEEKED,ee,_),V.on(v.Z.SETTING_UPDATED_CATCHUP_ENABLED,Te,_),V.on(v.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,le,_),V.on(v.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,le,_),V.on(h.Z.STREAM_INITIALIZED,le,_),le()}},re=(0,D.Z)(K).getInstance().getLogger(_),ne(),_}Ul.__dashjs_factory_name="CatchupController";var Td=S.Z.getSingletonFactory(Ul),Fh=[f.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME];function Uc(){var _,p,b,M,F;function C(){p={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},b=[]}function U(J,re,K){try{p[J][re]=K/1e3}catch(V){M.error(V)}}return _={getServiceDescriptionSettings:function(){return p},getProducerReferenceTimeOffsets:function(){return b},calculateProducerReferenceTimeOffsets:function(J){try{var re=[];if(J&&J.length>0){var K=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT],V=F.getAvailabilityStartTime()/1e3;J.forEach(function(ne){var ee=K.reduce(function(Ie,me){return Ie.concat(F.getAllMediaInfoForType(ne,me))},[]).reduce(function(Ie,me){return F.getProducerReferenceTimes(ne,me).forEach(function(Te){var Se=F.getVoRepresentations(me);if(Se&&Se.length>0&&Se[0].adaptation&&Se[0].segmentInfoType===d.Z.SEGMENT_TEMPLATE){var te=Se[0],be=new Date(Te[d.Z.WALL_CLOCK_TIME]).getTime()/1e3-(Te[d.Z.PRESENTATION_TIME]/te[d.Z.TIMESCALE]-te[d.Z.PRESENTATION_TIME_OFFSET]+ne.start);Ie.push({id:Te[d.Z.ID],to:V-be})}}),Ie},[]);re=re.concat(ee)})}b=re}catch(ne){M.error(ne),b=[]}},applyServiceDescription:function(J){if(J&&J.serviceDescriptions){var re=J.serviceDescriptions.filter(function(ne){return Fh.includes(ne.schemeIdUri)}),K=J.serviceDescriptions.filter(function(ne){return null==ne.schemeIdUri}),V=re.length>0?re[re.length-1]:K[K.length-1];V&&(V.latency&&V.latency.target>0&&function(ne){var ee,Se;if(ee={liveDelay:(Se=ne).latency.target/1e3,maxDrift:!isNaN(Se.latency.max)&&Se.latency.max>Se.latency.target?(Se.latency.max-Se.latency.target+500)/1e3:NaN,referenceId:Se.latency.referenceId||NaN},b.length>0){var Ie=function(Se){var te,be=0,le=b.filter(function(ye){return ye.id===Se.referenceId});return 0===le.length?(be=b.length>0?b[0].to:0,te=b[0].id||NaN):(be=le[0].to||0,te=le[0].id||NaN),{to:be,id:te}}(ee),me=Ie.to,Te=Ie.id;p.liveDelay=ee.liveDelay-me,p.liveCatchup.maxDrift=ee.maxDrift,M.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(me," from ProducerReferenceTime element with id ").concat(Te,".\n                Live Delay: ").concat(ee.liveDelay-me,", Live catchup max drift: ").concat(ee.maxDrift,"\n            "))}else p.liveDelay=ee.liveDelay,p.liveCatchup.maxDrift=ee.maxDrift,M.debug("Found latency properties coming from service description: Live Delay: ".concat(ee.liveDelay,", Live catchup max drift: ").concat(ee.maxDrift))}(V),V.playbackRate&&(ee=(ne=V).playbackRate.min?Math.round(1e3*(ne.playbackRate.min-1))/1e3:NaN,Ie=ne.playbackRate.max?Math.round(1e3*(ne.playbackRate.max-1))/1e3:NaN,p.liveCatchup.playbackRate.min=ee,p.liveCatchup.playbackRate.max=Ie,M.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(ee)),M.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(Ie))),V.operatingBandwidth&&function(ne){if(ne&&ne.operatingBandwidth&&ne.operatingBandwidth.mediaType&&"all"!==ne.operatingBandwidth.mediaType){var ee={};ee.minBandwidth=ne.operatingBandwidth.min,ee.maxBandwidth=ne.operatingBandwidth.max,ee.targetBandwidth=ne.operatingBandwidth.target;var Ie=[];"video"===ne.operatingBandwidth.mediaType||"audio"===ne.operatingBandwidth.mediaType?Ie.push(ne.operatingBandwidth.mediaType):"any"===ne.operatingBandwidth.mediaType&&(Ie.push("audio"),Ie.push("video")),Ie.forEach(function(me){isNaN(ee.minBandwidth)||U("minBitrate",me,ee.minBandwidth),isNaN(ee.maxBandwidth)||U("maxBitrate",me,ee.maxBandwidth),isNaN(ee.targetBandwidth)||U("initialBitrate",me,ee.targetBandwidth)})}}(V),V.contentSteering&&function(ne){p.contentSteering=ne.contentSteering}(V))}var ne,ee,Ie},reset:function(){C()},setConfig:function(J){J&&J.adapter&&(F=J.adapter)}},M=(0,D.Z)(this.context).getInstance().getLogger(_),C(),_}Uc.__dashjs_factory_name="ServiceDescriptionController";var Bh=S.Z.getSingletonFactory(Uc),_o=H(3973),Vl=H.n(_o),r_=H(3039);function Gr(){var _,p,b,M,F,P,C,U,J=this.context,re=(0,A.Z)(J).getInstance();function K(z,we){return z&&b[we]&&b[we][z]?b[we][z].list:[]}function V(z,we){return z&&b[we]&&b[we][z]?b[we][z].current:null}function ne(z){var we=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(z&&z.streamInfo){var Me=z.type,Be=z.streamInfo.id,Ue=V(Me,Be);if(b[Be]&&b[Be][Me]&&(b[Be][Me].current=z,b[Be][Me].current&&(Me!==f.Z.TEXT&&!me(z,Ue)||Me===f.Z.TEXT&&z.isFragmented)&&re.trigger(v.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ue,newMediaInfo:z,switchMode:M.get().streaming.trackSwitchMode[Me]},{streamId:Be}),!we)){var He=function Se(z){var we={lang:z.lang,viewpoint:z.viewpoint,roles:z.roles,accessibility:z.accessibility,audioChannelConfiguration:z.audioChannelConfiguration,codec:z.codec};return we.lang||we.viewpoint||we.role&&we.role.length>0||we.accessibility&&we.accessibility.length>0||we.audioChannelConfiguration&&we.audioChannelConfiguration.length>0?we:null}(z);if(!He||!b[Be][Me].storeLastSettings)return;He.roles&&(He.role=He.roles[0],delete He.roles),He.accessibility&&(He.accessibility=He.accessibility[0]),He.audioChannelConfiguration&&(He.audioChannelConfiguration=He.audioChannelConfiguration[0]),P[Me]=He,U.setSavedMediaSettings(Me,He)}}}function ee(z,we){z&&we&&(F[z]=we)}function Ie(z){return z?F[z]:null}function me(z,we){if(!z&&!we)return!0;if(!z||!we)return!1;var Me=z.id===we.id,Xe=z.viewpoint===we.viewpoint,Be=JSON.stringify(z.viewpointsWithSchemeIdUri)===JSON.stringify(we.viewpointsWithSchemeIdUri),Ue=z.lang===we.lang,He=z.codec===we.codec,Nt=z.roles.toString()===we.roles.toString(),Ot=JSON.stringify(z.rolesWithSchemeIdUri)===JSON.stringify(we.rolesWithSchemeIdUri),dt=z.accessibility.toString()===we.accessibility.toString(),wt=JSON.stringify(z.accessibilitiesWithSchemeIdUri)===JSON.stringify(we.accessibilitiesWithSchemeIdUri),pn=z.audioChannelConfiguration.toString()===we.audioChannelConfiguration.toString(),Le=JSON.stringify(z.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(we.audioChannelConfigurationsWithSchemeIdUri);return Me&&He&&Xe&&Be&&Ue&&Nt&&Ot&&dt&&wt&&pn&&Le}function Te(){b={},P={},F={audio:null,video:null,text:null}}function te(z,we,Me){var Xe=[];return z.forEach(function(Be){we(Me,Be)&&Xe.push(Be)}),0!==Xe.length?Xe:z}function be(z,we){return!z.lang||z.lang instanceof RegExp?we.lang.match(z.lang):""!==we.lang&&(0,r_.extendedFilter)(we.lang,Vl()(z.lang)).length>0}function le(z,we){return null==z.index||we.index===z.index}function ye(z,we){return!z.viewpoint||z.viewpoint===we.viewpoint}function w(z,we){var Me=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!z.role||!!we.roles.filter(function(Be){return Be===z.role})[0]||we.type===f.Z.AUDIO&&Me}function q(z,we){return z.accessibility?!!we.accessibility.filter(function(Me){return Me===z.accessibility})[0]:!we.accessibility.length}function G(z,we){return!z.audioChannelConfiguration||!!we.audioChannelConfiguration.filter(function(Me){return Me===z.audioChannelConfiguration})[0]}function L(z,we){return!z.codec||z.codec===we.codec}function B(z){var we,Me=0,Xe=[];return z.forEach(function(Be){(we=Math.max.apply(Math,Be.bitrateList.map(function(Ue){return Ue.bandwidth})))>Me?(Me=we,Xe=[Be]):we===Me&&Xe.push(Be)}),Xe}function se(z){var we,Me=1/0,Xe=[];return z.forEach(function(Be){var Ue=Be.bitrateList.reduce(function(He,Nt){var Ot=Math.max(1,Nt.width*Nt.height);return He+Nt.bandwidth/Ot},0);(we=Ue/Be.bitrateList.length)<Me?(Me=we,Xe=[Be]):we===Me&&Xe.push(Be)}),Xe}function ie(z){var we,Me=0,Xe=[];return z.forEach(function(Be){(we=Be.representationCount)>Me?(Me=we,Xe=[Be]):we===Me&&Xe.push(Be)}),Xe}function he(z,we){if(z===f.Z.TEXT)return we[0];var Me,He,Nt,Ot,Xe=M.get().streaming.selectionModeForInitialTrack,Be=C.getCustomInitialTrackSelectionFunction();if(Be&&"function"==typeof Be)Me=Be(we);else switch(Xe){case f.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:He=0,Nt=[],we.forEach(function(dt){isNaN(dt.selectionPriority)||(dt.selectionPriority>He?(He=dt.selectionPriority,Nt=[dt]):dt.selectionPriority===He&&Nt.push(dt))}),(Ot=Nt).length>1&&(Ot=B(Ot)),Ot.length>1&&(Ot=ie(Ot)),Me=Ot;break;case f.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Me=function(Ue){var He=B(Ue);return He.length>1&&(He=ie(He)),He}(we);break;case f.Z.TRACK_SELECTION_MODE_FIRST_TRACK:Me=ce(we);break;case f.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Me=function(Ue){var He=se(Ue);return He.length>1&&(He=B(He)),He}(we);break;case f.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:Me=function(Ue){var He=ie(Ue);return He.length>1&&(He=B(Ue)),He}(we);break;default:p.warn("Track selection mode ".concat(Xe," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),Me=ce(we)}return Me.length>0?Me[0]:we[0]}function ce(z){return z[0]}return _={setInitialMediaSettingsForType:function(z,we){var Me=P[z]||Ie(z),Xe=K(z,we.id),Be=[];Me||((Me=U.getSavedMediaSettings(z))&&delete Me.codec,ee(z,Me)),Xe&&0!==Xe.length&&(Me&&(Be=te(Be=Array.from(Xe),be,Me),Be=te(Be,le,Me),Be=te(Be,ye,Me),z===f.Z.AUDIO&&P[z]||(Be=te(Be,w,Me)),Be=te(Be,q,Me),Be=te(Be,G,Me),Be=te(Be,L,Me)),0===Be.length?ne(he(z,Xe),!0):ne(Be.length>1?he(z,Be):Be[0]))},addTrack:function(z){if(z){var we=z.type;if((Me=we)===f.Z.AUDIO||Me===f.Z.VIDEO||Me===f.Z.TEXT||Me===f.Z.IMAGE){var Me,Xe,Be=z.streamInfo.id;b[Be]||(b[Be]={audio:{list:[],storeLastSettings:Xe=M.get().streaming.saveLastMediaSettingsForCurrentStreamingSession,current:null},video:{list:[],storeLastSettings:Xe,current:null},text:{list:[],storeLastSettings:Xe,current:null},image:{list:[],storeLastSettings:Xe,current:null}});for(var Ue=b[Be][we].list,He=0,Nt=Ue.length;He<Nt;++He)if(me(Ue[He],z))return;Ue.push(z)}}},getTracksFor:K,getCurrentTrackFor:V,isCurrentTrack:function(z){if(!z)return!1;var we=z.type,Me=z.streamInfo.id;return b[Me]&&b[Me][we]&&me(b[Me][we].current,z)},setTrack:ne,selectInitialTrack:he,setInitialSettings:ee,getInitialSettings:Ie,getTracksWithHighestBitrate:B,getTracksWithHighestEfficiency:se,getTracksWithWidestRange:ie,isTracksEqual:me,matchSettings:function(z,we){var Me=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var Xe=!1;if(z.lang){if(z.lang instanceof RegExp)Xe=we.lang.match(z.lang);else if(""!==we.lang){var Be=Vl()(z.lang);Be&&(Xe=(0,r_.extendedFilter)(we.lang,Be).length>0)}}else Xe=!0;var Ue=null==z.index||we.index===z.index,He=!z.viewpoint||z.viewpoint===we.viewpoint,Nt=!z.role||!!we.roles.filter(function(wt){return wt===z.role})[0],Ot=!z.accessibility||!!we.accessibility.filter(function(wt){return wt===z.accessibility})[0],dt=!z.audioChannelConfiguration||!!we.audioChannelConfiguration.filter(function(wt){return wt===z.audioChannelConfiguration})[0];return Xe&&Ue&&He&&(Nt||we.type===f.Z.AUDIO&&Me)&&Ot&&dt}catch{return!1}},matchSettingsLang:be,matchSettingsIndex:le,matchSettingsViewPoint:ye,matchSettingsRole:w,matchSettingsAccessibility:q,matchSettingsAudioChannelConfig:G,saveTextSettingsDisabled:function(){U.setSavedMediaSettings(f.Z.TEXT,null)},setConfig:function(z){z&&(z.domStorage&&(U=z.domStorage),z.settings&&(M=z.settings),z.customParametersModel&&(C=z.customParametersModel))},reset:Te},p=(0,D.Z)(J).getInstance().getLogger(_),Te(),_}Gr.__dashjs_factory_name="MediaController";var i_=S.Z.getSingletonFactory(Gr);S.Z.updateSingletonFactory(Gr.__dashjs_factory_name,i_);var D0=i_,Vc=function _(p,b){(function(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")})(this,_),this.data={baseUrls:p||null,selectedIdx:b||NaN},this.children=[]};function jc(){var _,p,b,M,P=en(this.context).getInstance();function C(K,V,ne){var ee=U(ne);K[V]?P.areEqual(ee,K[V].data.baseUrls)||(K[V].data.baseUrls=ee,K[V].data.selectedIdx=NaN):K[V]=new Vc(ee)}function U(K){var V=b.getBaseURLsFromElement(K),ne=M.getSynthesizedBaseUrlElements(V);return ne&&ne.length>0&&(V=V.concat(ne)),V}function J(K,V){var ne=V||p;K(ne.data),ne.children&&ne.children.forEach(function(ee){return J(K,ee)})}function re(){p=new Vc}return _={reset:re,update:function(K){!function(V){!function(){if(!b||!b.hasOwnProperty("getBaseURLsFromElement")||!b.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var ne=U(V);P.areEqual(ne,p.data.baseUrls)||(p.data.baseUrls=ne,p.data.selectedIdx=NaN),V&&V.Period_asArray&&V.Period_asArray.forEach(function(ee,Ie){C(p.children,Ie,ee),ee.AdaptationSet_asArray&&ee.AdaptationSet_asArray.forEach(function(me,Te){C(p.children[Ie].children,Te,me),me.Representation_asArray&&me.Representation_asArray.sort(b.getRepresentationSortFunction()).forEach(function(Se,te){C(p.children[Ie].children[Te].children,te,Se)})})})}(K)},getForPath:function(K){var V=p,ne=[V.data];return K&&K.forEach(function(ee){(V=V.children[ee])&&ne.push(V.data)}),ne.filter(function(ee){return ee.baseUrls.length})},invalidateSelectedIndexes:function(K){J(function(V){isNaN(V.selectedIdx)||K===V.baseUrls[V.selectedIdx].serviceLocation&&(V.selectedIdx=NaN)})},setConfig:function(K){K.adapter&&(b=K.adapter),K.contentSteeringController&&(M=K.contentSteeringController)},getBaseUrls:function(K){return U(K)}},re(),_}jc.__dashjs_factory_name="BaseURLTreeModel";var Uh=S.Z.getClassFactory(jc);function Hc(_){var p=(_=_||{}).blacklistController;return{select:function(b){return b&&function(F){var P,C,U=0,J=[],re=0;if((C=F.sort(function(K,V){var ne=K.dvb_priority-V.dvb_priority;return isNaN(ne)?0:ne}).filter(function(K,V,ne){return!V||ne[0].dvb_priority&&K.dvb_priority&&ne[0].dvb_priority===K.dvb_priority})).length)return C.length>1&&(C.forEach(function(K){J.push(U+=K.dvb_weight)}),P=Math.floor(Math.random()*(U-1)),J.every(function(K,V){return re=V,!(P<K)})),C[re]}((M=[],b.filter(function(F){return!p.contains(F.serviceLocation)||(F.dvb_priority&&M.push(F.dvb_priority),!1)}).filter(function(F){return!M.length||!F.dvb_priority||-1===M.indexOf(F.dvb_priority)})));var M}}}Hc.__dashjs_factory_name="DVBSelector";var o_=S.Z.getClassFactory(Hc);function Zc(_){var p=(_=_||{}).blacklistController;return{select:function(b){var M,F=0;return b&&b.some(function(P,C){return F=C,!p.contains(P.serviceLocation)})&&(M=b[F]),M}}}Zc.__dashjs_factory_name="BasicSelector";var x0=S.Z.getClassFactory(Zc);function s_(){var _,p,b;function F(){for(var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],U=0,J=NaN,re=function(){var V=P[U],ne=C.findIndex(function(ee){return ee.serviceLocation&&ee.serviceLocation===V});if(-1!==ne&&!b.contains(C[ne].serviceLocation))return J=ne,"break";U+=1};U<P.length&&"break"!==re(););return J}return _={selectBaseUrlIndex:function(P){var C=NaN;if(isNaN(P.selectedIdx)){var U=p.getSteeringDataFromManifest();U&&U.defaultServiceLocationArray.length>0&&(C=F(U.defaultServiceLocationArray,P.baseUrls))}var J=p.getCurrentSteeringResponseData();return P.baseUrls&&P.baseUrls.length&&J&&J.pathwayPriority&&J.pathwayPriority.length&&(C=F(J.pathwayPriority,P.baseUrls)),C},setConfig:function(P){P.blacklistController&&(b=P.blacklistController),P.contentSteeringController&&(p=P.contentSteeringController)}},p=wa(this.context).getInstance(),_}s_.__dashjs_factory_name="ContentSteeringSelector";var R0=S.Z.getClassFactory(s_);function a_(){var _,p,b,M,F,P,C=this.context,U=(0,A.Z)(C).getInstance(),J=(0,Ge.Z)(C).getInstance();function re(){p.reset()}return _={chooseSelector:function(K){(0,ae.PS)(K,"boolean"),P=K?M:b},select:function(K){if(K){if(J.get().streaming.applyContentSteering){var V=F.selectBaseUrlIndex(K);isNaN(V)||-1===V||(K.selectedIdx=V)}if(!isNaN(K.selectedIdx))return K.baseUrls[K.selectedIdx];var ne=P.select(K.baseUrls);return ne?(K.selectedIdx=K.baseUrls.indexOf(ne),ne):(U.trigger(v.Z.URL_RESOLUTION_FAILED,{error:new X.Z(_e.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,_e.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(P===b&&re()))}},reset:re,setConfig:function(K){K.selector&&(P=K.selector),K.contentSteeringSelector&&(F=K.contentSteeringSelector)}},p=Lc(C).create({updateEventName:v.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:v.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),b=x0(C).create({blacklistController:p}),M=o_(C).create({blacklistController:p}),(F=R0(C).create()).setConfig({blacklistController:p}),P=b,_}a_.__dashjs_factory_name="BaseURLSelector";var M0=S.Z.getClassFactory(a_);function el(){var _,p,b,M,F,P=this.context,C=(0,A.Z)(P).getInstance(),U=(0,We.Z)(P).getInstance();function J(K){b.update(K),M.chooseSelector(p.getIsDVB(K)),C.trigger(h.Z.BASE_URLS_UPDATED,{baseUrls:re(K)})}function re(K){return b.getBaseUrls(K)}return _={reset:function(){b.reset(),M.reset()},initialize:function(K){b.setConfig({adapter:p,contentSteeringController:F}),J(K)},resolve:function(K){var V=b.getForPath(K).reduce(function(ne,ee){var Ie=M.select(ee);return Ie?(U.isRelative(Ie.url)?ne.url=U.resolve(Ie.url,ne.url):(ne.url=Ie.url,ne.serviceLocation=Ie.serviceLocation),ne.availabilityTimeOffset=Ie.availabilityTimeOffset,ne.availabilityTimeComplete=Ie.availabilityTimeComplete,ne.queryParams=Ie.queryParams,ne):new Ko},new Ko);if(!U.isRelative(V.url))return V},setConfig:function(K){K.baseURLTreeModel&&(b=K.baseURLTreeModel),K.baseURLSelector&&(M=K.baseURLSelector),K.adapter&&(p=K.adapter),K.contentSteeringController&&(F=K.contentSteeringController)},getBaseUrls:re,update:J},b=Uh(P).create(),M=M0(P).create(),C.on(v.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(K){b.invalidateSelectedIndexes(K.entry)},_),_}el.__dashjs_factory_name="BaseURLController";var wd=S.Z.getClassFactory(el);function tl(_){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Sd(_,p){return(Sd=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function zc(_){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var Cd=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Sd(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=zc(p);if(b){var U=zc(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function l_(_,p){return!p||"object"!==tl(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(P,C){var U;return function(J,re){if(!(J instanceof re))throw new TypeError("Cannot call a class as a function")}(this,F),(U=M.call(this)).url=P||null,U.type=C||null,U.mediaType=f.Z.STREAM,U.responseType="",U}return F}(j.Z);function Sa(_){_=_||{};var p=this.context,b=(0,A.Z)(p).getInstance(),M=Ir(p).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,errors:_e});return{load:function(F,P,C){var U=function(re,K){P.resolved=!0,P.resolvedContent=re||null,b.trigger(v.Z.XLINK_ELEMENT_LOADED,{element:P,resolveObject:C,error:re||K?null:new X.Z(_e.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,_e.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+F)})};if("urn:mpeg:dash:resolve-to-zero:2013"===F)U(null,!0);else{var J=new Cd(F,ut.w.XLINK_EXPANSION_TYPE);M.load({request:J,success:function(re){U(re)},error:function(){U(null)}})}},reset:function(){M&&(M.abort(),M=null)}}}Sa.__dashjs_factory_name="XlinkLoader";var c_=S.Z.getClassFactory(Sa),Ms=function(_){function p(te){var be=te.localName;return null==be&&(be=te.baseName),null!=be&&""!=be||(be=te.nodeName),be}function b(te){return"string"==typeof te?te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):te}function M(te,be,le,ye){for(var w=0;w<te.length;w++){var q=te[w];if("string"==typeof q){if(q==ye)break}else if(q instanceof RegExp){if(q.test(ye))break}else if("function"==typeof q&&q(be,le,ye))break}return w!=te.length}function F(te,be,le){"property"===_.arrayAccessForm&&(te[be+"_asArray"]=te[be]instanceof Array?te[be]:[te[be]]),!(te[be]instanceof Array)&&_.arrayAccessFormPaths.length>0&&M(_.arrayAccessFormPaths,te,be,le)&&(te[be]=[te[be]])}function P(te){var be=te.split(/[-T:+Z]/g),le=new Date(be[0],be[1]-1,be[2]),ye=be[5].split(".");if(le.setHours(be[3],be[4],ye[0]),ye.length>1&&le.setMilliseconds(ye[1]),be[6]&&be[7]){var w=60*be[6]+Number(be[7]);w=0+("-"==(/\d\d-\d\d:\d\d$/.test(te)?"-":"+")?-1*w:w),le.setMinutes(le.getMinutes()-w-le.getTimezoneOffset())}else-1!==te.indexOf("Z",te.length-1)&&(le=new Date(Date.UTC(le.getFullYear(),le.getMonth(),le.getDate(),le.getHours(),le.getMinutes(),le.getSeconds(),le.getMilliseconds())));return le}function C(te,be,le,ye){return!(1==be&&_.xmlElementsFilter.length>0)||M(_.xmlElementsFilter,te,le,ye)}function U(te,be){if(9==te.nodeType){for(var le=new Object,ye=te.childNodes,w=0;w<ye.length;w++)1==(G=ye[w]).nodeType&&(_.ignoreRoot?le=U(G):(le={})[L=p(G)]=U(G));return le}if(1==te.nodeType){(le=new Object).__cnt=0;var q=[];for(ye=te.childNodes,w=0;w<ye.length;w++){var G,L=p(G=ye[w]);if(8!=G.nodeType){var B=be+"."+L;if(C(le,G.nodeType,L,B))if(le.__cnt++,null==le[L]){var se=U(G,B);("#text"!=L||/[^\s]/.test(se))&&((ie={})[L]=se,q.push(ie)),le[L]=se,F(le,L,B)}else{var ie;null!=le[L]&&(le[L]instanceof Array||(le[L]=[le[L]],F(le,L,B))),se=U(G,B),("#text"!=L||/[^\s]/.test(se))&&((ie={})[L]=se,q.push(ie)),le[L][le[L].length]=se}}}le.__children=q;for(var he=p(te),ce=0;ce<te.attributes.length;ce++){var z=te.attributes[ce];le.__cnt++;for(var we=z.value,Me=0,Xe=_.matchers.length;Me<Xe;Me++){var Be=_.matchers[Me];Be.test(z,he)&&(we=Be.converter(z.value))}le[_.attributePrefix+z.name]=we}var Ue=te.prefix;return null!=Ue&&""!=Ue&&(le.__cnt++,le.__prefix=Ue),null!=le["#text"]&&(le.__text=le["#text"],le.__text instanceof Array&&(le.__text=le.__text.join("\n")),_.stripWhitespaces&&(le.__text=le.__text.trim()),delete le["#text"],"property"==_.arrayAccessForm&&delete le["#text_asArray"],le.__text=function(He,Nt,Ot){if(_.datetimeAccessFormPaths.length>0){var dt=Ot.split(".#")[0];return M(_.datetimeAccessFormPaths,He,Nt,dt)?P(He):He}return He}(le.__text,L,be+"."+L)),null!=le["#cdata-section"]&&(le.__cdata=le["#cdata-section"],delete le["#cdata-section"],"property"==_.arrayAccessForm&&delete le["#cdata-section_asArray"]),0==le.__cnt&&"text"==_.emptyNodeForm?le="":1==le.__cnt&&null!=le.__text?le=le.__text:1!=le.__cnt||null==le.__cdata||_.keepCData?le.__cnt>1&&null!=le.__text&&_.skipEmptyTextNodesForObj&&(_.stripWhitespaces&&""==le.__text||""==le.__text.trim())&&delete le.__text:le=le.__cdata,delete le.__cnt,!_.enableToStringFunc||null==le.__text&&null==le.__cdata||(le.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),le}if(3==te.nodeType||4==te.nodeType)return te.nodeValue}function J(te,be,le,ye){var w="<"+(null!=te&&null!=te.__prefix?te.__prefix+":":"")+be;if(null!=le)for(var q=0;q<le.length;q++){var G=le[q],L=te[G];_.escapeMode&&(L=b(L)),w+=" "+G.substr(_.attributePrefix.length)+"=",w+=_.useDoubleQuotes?'"'+L+'"':"'"+L+"'"}return w+(ye?"/>":">")}function re(te,be){return"</"+(null!=te.__prefix?te.__prefix+":":"")+be+">"}function K(te,be){return"property"==_.arrayAccessForm&&(ye="_asArray",-1!==(le=be.toString()).indexOf(ye,le.length-8))||0==be.toString().indexOf(_.attributePrefix)||0==be.toString().indexOf("__")||te[be]instanceof Function;var le,ye}function V(te){var be=0;if(te instanceof Object)for(var le in te)K(te,le)||be++;return be}function ne(te,be,le){return 0==_.jsonPropertiesFilter.length||""==le||M(_.jsonPropertiesFilter,te,be,le)}function ee(te){var be=[];if(te instanceof Object)for(var le in te)-1==le.toString().indexOf("__")&&0==le.toString().indexOf(_.attributePrefix)&&be.push(le);return be}function Ie(te){var le,ye,be="";return te instanceof Object?be+=(ye="",null!=(le=te).__cdata&&(ye+="<![CDATA["+le.__cdata+"]]>"),null!=le.__text&&(ye+=_.escapeMode?b(le.__text):le.__text),ye):null!=te&&(be+=_.escapeMode?b(te):te),be}function me(te,be){return""===te?be:te+"."+be}function Te(te,be,le,ye){var w="";if(0==te.length)w+=J(te,be,le,!0);else for(var q=0;q<te.length;q++)w+=J(te[q],be,ee(te[q]),!1),w+=Se(te[q],me(ye,be)),w+=re(te[q],be);return w}function Se(te,be){var le="";if(V(te)>0)for(var ye in te)if(!K(te,ye)&&(""==be||ne(te,ye,me(be,ye)))){var w=te[ye],q=ee(w);null==w||null==w?le+=J(w,ye,q,!0):w instanceof Object?w instanceof Array?le+=Te(w,ye,q,be):w instanceof Date?(le+=J(w,ye,q,!1),le+=w.toISOString(),le+=re(w,ye)):V(w)>0||null!=w.__text||null!=w.__cdata?(le+=J(w,ye,q,!1),le+=Se(w,me(be,ye)),le+=re(w,ye)):le+=J(w,ye,q,!0):(le+=J(w,ye,q,!1),le+=Ie(w),le+=re(w,ye))}return le+Ie(te)}void 0===(_=_||{}).escapeMode&&(_.escapeMode=!0),void 0===_.attributePrefix&&(_.attributePrefix="_"),_.arrayAccessForm=_.arrayAccessForm||"none",_.emptyNodeForm=_.emptyNodeForm||"text",void 0===_.enableToStringFunc&&(_.enableToStringFunc=!0),_.arrayAccessFormPaths=_.arrayAccessFormPaths||[],void 0===_.skipEmptyTextNodesForObj&&(_.skipEmptyTextNodesForObj=!0),void 0===_.stripWhitespaces&&(_.stripWhitespaces=!0),_.datetimeAccessFormPaths=_.datetimeAccessFormPaths||[],void 0===_.useDoubleQuotes&&(_.useDoubleQuotes=!1),_.xmlElementsFilter=_.xmlElementsFilter||[],_.jsonPropertiesFilter=_.jsonPropertiesFilter||[],void 0===_.keepCData&&(_.keepCData=!1),void 0===_.ignoreRoot&&(_.ignoreRoot=!1),this.parseXmlString=function(te){var be;if(window,void 0===te)return null;if(window.DOMParser){var le=new window.DOMParser;try{(be=le.parseFromString(te,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(be=null)}catch{be=null}}else 0==te.indexOf("<?")&&(te=te.substr(te.indexOf("?>")+2)),(be=new ActiveXObject("Microsoft.XMLDOM")).async="false",be.loadXML(te);return be},this.asArray=function(te){return void 0===te||null==te?[]:te instanceof Array?te:[te]},this.toXmlDateTime=function(te){return te instanceof Date?te.toISOString():"number"==typeof te?new Date(te).toISOString():null},this.asDateTime=function(te){return"string"==typeof te?P(te):te},this.xml2json=function(te){return U(te)},this.xml_str2json=function(te){var be=this.parseXmlString(te);return null!=be?this.xml2json(be):null},this.json2xml_str=function(te){return Se(te,"")},this.json2xml=function(te){var be=this.json2xml_str(te);return this.parseXmlString(be)},this.getVersion=function(){return"1.2.0"}},nl="onLoad";function Xt(_){_=_||{};var p,b,M,F,P,C,U=this.context,J=(0,A.Z)(U).getInstance(),re=(0,We.Z)(U).getInstance();function K(me,Te,Se){var te,be,le={};le.elements=me,le.type=Te,le.resolveType=Se,0===le.elements.length&&ne(le);for(var ye=0;ye<le.elements.length;ye++)be=re.isHTTPURL((te=le.elements[ye]).url)?te.url:te.originalContent.BaseURL+te.url,C.load(be,te,le)}function V(me){var Te,Se,te="";if(Se=me.resolveObject,(Te=me.element).resolvedContent){var be=0;0===Te.resolvedContent.indexOf("<?xml")&&(be=Te.resolvedContent.indexOf("?>")+2),te=Te.resolvedContent.substr(0,be)+"<response>"+Te.resolvedContent.substr(be)+"</response>",Te.resolvedContent=P.xml_str2json(te)}(function(le){var ye;for(ye=0;ye<le.elements.length;ye++)if(!1===le.elements[ye].resolved)return!1;return!0})(Se)&&ne(Se)}function ne(me){var Te,Se,te=[];if(function(be){var le,ye,q,G,L,B=[];for(q=be.elements.length-1;q>=0;q--){if(ye=(le=be.elements[q]).type+"_asArray",le.resolvedContent){if(le.resolvedContent)for(G=0;G<le.resolvedContent[ye].length;G++)B.push(le.resolvedContent[ye][G])}else delete le.originalContent["xlink:actuate"],delete le.originalContent["xlink:href"],B.push(le.originalContent);for(le.parentElement[ye].splice(le.index,1),L=0;L<B.length;L++)le.parentElement[ye].splice(le.index+L,0,B[L]);B=[]}be.elements.length>0&&M.run(F)}(me),"onActuate"===me.resolveType&&J.trigger(v.Z.XLINK_READY,{manifest:F}),me.resolveType===nl)switch(me.type){case d.Z.PERIOD:for(Te=0;Te<F[d.Z.PERIOD+"_asArray"].length;Te++)(Se=F[d.Z.PERIOD+"_asArray"][Te]).hasOwnProperty(d.Z.ADAPTATION_SET+"_asArray")&&(te=te.concat(ee(Se[d.Z.ADAPTATION_SET+"_asArray"],Se,d.Z.ADAPTATION_SET,nl))),Se.hasOwnProperty(d.Z.EVENT_STREAM+"_asArray")&&(te=te.concat(ee(Se[d.Z.EVENT_STREAM+"_asArray"],Se,d.Z.EVENT_STREAM,nl)));K(te,d.Z.ADAPTATION_SET,nl);break;case d.Z.ADAPTATION_SET:J.trigger(v.Z.XLINK_READY,{manifest:F})}}function ee(me,Te,Se,te){var be,le,ye,w=[];for(le=me.length-1;le>=0;le--)(be=me[le]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===be["xlink:href"]&&me.splice(le,1);for(le=0;le<me.length;le++)(be=me[le]).hasOwnProperty("xlink:href")&&be.hasOwnProperty("xlink:actuate")&&be["xlink:actuate"]===te&&(ye=Ie(be["xlink:href"],Te,Se,le,te,be),w.push(ye));return w}function Ie(me,Te,Se,te,be,le){return{url:me,parentElement:Te,type:Se,index:te,resolveType:be,originalContent:le,resolvedContent:null,resolved:!1}}return p={resolveManifestOnLoad:function(me){P=new Ms({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:b}),(F=me).Period_asArray?K(ee(F.Period_asArray,F,d.Z.PERIOD,nl),d.Z.PERIOD,nl):J.trigger(v.Z.XLINK_READY,{manifest:F})},setMatchers:function(me){me&&(b=me)},setIron:function(me){me&&(M=me)},reset:function(){J.off(v.Z.XLINK_ELEMENT_LOADED,V,p),C&&(C.reset(),C=null)}},J.on(v.Z.XLINK_ELEMENT_LOADED,V,p),C=c_(U).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings}),p}Xt.__dashjs_factory_name="XlinkController";var Vh=S.Z.getClassFactory(Xt);function Yt(_){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function jl(_){function p(F,P){for(var C in F)P.hasOwnProperty(C)||(P[C]=F[C])}function b(F,P,C){for(var U=0,J=F.length;U<J;++U){var re=F[U];if(P[re.name])if(C[re.name]){if(re.merge){var K=P[re.name],V=C[re.name];"object"===Yt(K)&&"object"===Yt(V)?p(K,V):C[re.name]=K+V}}else C[re.name]=P[re.name]}}function M(F,P){for(var C=0,U=F.children.length;C<U;++C){var J=F.children[C],re=P[J.name+"_asArray"];if(re)for(var K=0,V=re.length;K<V;++K){var ne=re[K];b(F.properties,P,ne),M(J,ne)}}}return{run:function(F){if(null===F||"object"!==Yt(F))return F;if(F.Period_asArray&&"period"in _)for(var P=_.period,C=F.Period_asArray,U=0,J=C.length;U<J;++U){var re=C[U];if(M(P,re),"adaptationset"in _){var K=re.AdaptationSet_asArray;if(K)for(var V=_.adaptationset,ne=0,ee=K.length;ne<ee;++ne)M(V,K[ne])}}return F}}}jl.__dashjs_factory_name="ObjectIron";var Id=S.Z.getClassFactory(jl);var Zl=function(){function _(M,F){(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_),this._test=M,this._converter=F}var b;return(b=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&function Hl(_,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}(_.prototype,b),_}();function Ad(_){return(Ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function qr(_,p,b){return p in _?Object.defineProperty(_,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[p]=b,_}function Jo(_,p){return(Jo=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function co(_){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var ps=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Jo(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=co(p);if(b){var U=co(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function Gc(_,p){return!p||"object"!==Ad(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),M.call(this,function(P,C){var U,J=(qr(U={},d.Z.MPD,[d.Z.ID,d.Z.PROFILES]),qr(U,d.Z.PERIOD,[d.Z.ID]),qr(U,d.Z.BASE_URL,[d.Z.SERVICE_LOCATION,d.Z.BYTE_RANGE]),qr(U,d.Z.SEGMENT_BASE,[d.Z.INDEX_RANGE]),qr(U,d.Z.INITIALIZATION,[d.Z.RANGE]),qr(U,d.Z.REPRESENTATION_INDEX,[d.Z.RANGE]),qr(U,d.Z.SEGMENT_LIST,[d.Z.INDEX_RANGE]),qr(U,d.Z.BITSTREAM_SWITCHING,[d.Z.RANGE]),qr(U,d.Z.SEGMENT_URL,[d.Z.MEDIA_RANGE,d.Z.INDEX_RANGE]),qr(U,d.Z.SEGMENT_TEMPLATE,[d.Z.INDEX_RANGE,d.Z.MEDIA,d.Z.INDEX,d.Z.INITIALIZATION_MINUS,d.Z.BITSTREAM_SWITCHING_MINUS]),qr(U,d.Z.ASSET_IDENTIFIER,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.EVENT_STREAM,[d.Z.VALUE]),qr(U,d.Z.ADAPTATION_SET,[d.Z.PROFILES,d.Z.MIME_TYPE,d.Z.SEGMENT_PROFILES,d.Z.CODECS,d.Z.CONTENT_TYPE]),qr(U,d.Z.FRAME_PACKING,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.AUDIO_CHANNEL_CONFIGURATION,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.CONTENT_PROTECTION,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.ESSENTIAL_PROPERTY,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.SUPPLEMENTAL_PROPERTY,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.INBAND_EVENT_STREAM,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.ACCESSIBILITY,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.ROLE,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.RATING,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.VIEWPOINT,[d.Z.VALUE,d.Z.ID]),qr(U,d.Z.CONTENT_COMPONENT,[d.Z.CONTENT_TYPE]),qr(U,d.Z.REPRESENTATION,[d.Z.ID,d.Z.DEPENDENCY_ID,d.Z.MEDIA_STREAM_STRUCTURE_ID]),qr(U,d.Z.SUBSET,[d.Z.ID]),qr(U,d.Z.METRICS,[d.Z.METRICS_MINUS]),qr(U,d.Z.REPORTING,[d.Z.VALUE,d.Z.ID]),U);if(J.hasOwnProperty(C)){var re=J[C];return void 0!==re&&re.indexOf(P.name)>=0}return!1},function(P){return String(P)})}return F}(Zl);function xr(_){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function rl(_,p){return(rl=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function il(_){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var xd=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,Ns=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&rl(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=il(p);if(b){var U=il(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function Dd(_,p){return!p||"object"!==xr(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),M.call(this,function(P){for(var C=[d.Z.MIN_BUFFER_TIME,d.Z.MEDIA_PRESENTATION_DURATION,d.Z.MINIMUM_UPDATE_PERIOD,d.Z.TIMESHIFT_BUFFER_DEPTH,d.Z.MAX_SEGMENT_DURATION,d.Z.MAX_SUBSEGMENT_DURATION,d.Z.SUGGESTED_PRESENTATION_DELAY,d.Z.START,f.Z.START_TIME,d.Z.DURATION],U=C.length,J=0;J<U;J++)if(P.nodeName===C[J])return xd.test(P.value);return!1},function(P){var C=xd.exec(P),U=31536e3*parseFloat(C[3]||0)+2592e3*parseFloat(C[5]||0)+86400*parseFloat(C[7]||0)+3600*parseFloat(C[9]||0)+60*parseFloat(C[11]||0)+parseFloat(C[13]||0);return void 0!==C[1]&&(U=-U),U})}return F}(Zl);function Ca(_){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function qc(_,p){return(qc=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function ol(_){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var Rd=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,Hh=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&qc(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=ol(p);if(b){var U=ol(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function jh(_,p){return!p||"object"!==Ca(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),M.call(this,function(P){return Rd.test(P.value)},function(P){var C,U=Rd.exec(P);if(C=Date.UTC(parseInt(U[1],10),parseInt(U[2],10)-1,parseInt(U[3],10),parseInt(U[4],10),parseInt(U[5],10),U[6]&&parseInt(U[6],10)||0,U[7]&&1e3*parseFloat(U[7])||0),U[9]&&U[10]){var J=60*parseInt(U[9],10)+parseInt(U[10],10);C+=("+"===U[8]?-1:1)*J*60*1e3}return new Date(C)})}return F}(Zl);function Ia(_){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Yc(_,p){return(Yc=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function $c(_){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var zh=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,u_=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Yc(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=$c(p);if(b){var U=$c(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function Zh(_,p){return!p||"object"!==Ia(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),M.call(this,function(P){return zh.test(P.value)},function(P){return parseFloat(P)})}return F}(Zl);function Md(_){return(Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function uo(_,p,b){return p in _?Object.defineProperty(_,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[p]=b,_}function Nd(_,p){return(Nd=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function Wc(_){return(Wc=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var d_=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Nd(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Wc(p);if(b){var U=Wc(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function Gh(_,p){return!p||"object"!==Md(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){return function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}(this,F),M.call(this,function(P,C){var U,J=(uo(U={},d.Z.ADAPTATION_SET,[d.Z.LANG]),uo(U,d.Z.REPRESENTATION,[d.Z.LANG]),uo(U,d.Z.CONTENT_COMPONENT,[d.Z.LANG]),uo(U,d.Z.LABEL,[d.Z.LANG]),uo(U,d.Z.GROUP_LABEL,[d.Z.LANG]),U);if(J.hasOwnProperty(C)){var re=J[C];return void 0!==re&&re.indexOf(P.name)>=0}return!1},function(P){var C=Vl()(P);return void 0!==C?C:String(P)})}return F}(Zl);var h_=function(){function _(M){var F;(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_),this._name=M,this._merge=(F=M)&&F.length&&F.charAt(0)===F.charAt(0).toUpperCase()}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&function f_(_,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}(_.prototype,b),_}();var sl=function(){function _(M,F,P){var C=this;(function(U,J){if(!(U instanceof J))throw new TypeError("Cannot call a class as a function")})(this,_),this._name=M||"",this._properties=[],this._children=P||[],Array.isArray(F)&&F.forEach(function(U){C._properties.push(new h_(U))})}var b;return(b=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&function qh(_,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}(_.prototype,b),_}();function Od(_){return(Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Pd(_,p){return(Pd=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function Kc(_){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var p_=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Pd(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Kc(p);if(b){var U=Kc(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function vr(_,p){return!p||"object"!==Od(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){!function(C,U){if(!(C instanceof U))throw new TypeError("Cannot call a class as a function")}(this,F);var P=[d.Z.PROFILES,d.Z.WIDTH,d.Z.HEIGHT,d.Z.SAR,d.Z.FRAMERATE,d.Z.AUDIO_SAMPLING_RATE,d.Z.MIME_TYPE,d.Z.SEGMENT_PROFILES,d.Z.CODECS,d.Z.MAXIMUM_SAP_PERIOD,d.Z.START_WITH_SAP,d.Z.MAX_PLAYOUT_RATE,d.Z.CODING_DEPENDENCY,d.Z.SCAN_TYPE,d.Z.FRAME_PACKING,d.Z.AUDIO_CHANNEL_CONFIGURATION,d.Z.CONTENT_PROTECTION,d.Z.ESSENTIAL_PROPERTY,d.Z.ESSENTIAL_PROPERTY+"_asArray",d.Z.SUPPLEMENTAL_PROPERTY,d.Z.INBAND_EVENT_STREAM];return M.call(this,d.Z.ADAPTATION_SET,P,[new sl(d.Z.REPRESENTATION,P,[new sl(d.Z.SUB_REPRESENTATION,P)])])}return F}(sl);function kd(_){return(kd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Kr(_,p){return(Kr=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function zl(_){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var kn=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Kr(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=zl(p);if(b){var U=zl(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function m_(_,p){return!p||"object"!==kd(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){!function(C,U){if(!(C instanceof U))throw new TypeError("Cannot call a class as a function")}(this,F);var P=[d.Z.SEGMENT_BASE,d.Z.SEGMENT_TEMPLATE,d.Z.SEGMENT_LIST];return M.call(this,d.Z.PERIOD,P,[new sl(d.Z.ADAPTATION_SET,P,[new sl(d.Z.REPRESENTATION,P)])])}return F}(sl);function Pi(_){var p,b,M,F,P,C=this.context;return p={parse:function(J){var re,K=window.performance.now();if(!(re=F.xml_str2json(J)))throw new Error("parsing the manifest failed");var V=window.performance.now();re.Patch?((re=re.Patch).add_asArray&&re.add_asArray.forEach(function(ee){return P.run(ee)}),re.replace_asArray&&re.replace_asArray.forEach(function(ee){return P.run(ee)})):P.run(re=re.MPD);var ne=window.performance.now();return b.info("Parsing complete: ( xml2json: "+(V-K).toPrecision(3)+"ms, objectiron: "+(ne-V).toPrecision(3)+"ms, total: "+((ne-K)/1e3).toPrecision(3)+"s)"),re.protocol="DASH",re},getMatchers:function(){return M},getIron:function(){return P}},b=(_=_||{}).debug.getLogger(p),M=[new Ns,new Hh,new u_,new d_,new ps],F=new Ms({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:M}),P=Id(C).create({adaptationset:new p_,period:new kn}),p}Pi.__dashjs_factory_name="DashParser";var Rr=S.Z.getClassFactory(Pi);function ki(_){var p,b,M,F,P,C=this.context,U=(_=_||{}).debug,J=_.settings,re=(0,A.Z)(C).getInstance(),K=(0,We.Z)(C).getInstance(),V=_.mssHandler,ne=_.errHandler;function ee(me){re.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:me.manifest})}return p={load:function(me){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,te=new Date,be=new Cd(me,ut.w.MPD_TYPE);Te&&(be.serviceLocation=Te),Se&&(be.queryParams=Se),be.requestStartDate||(be.requestStartDate=te),re.trigger(v.Z.MANIFEST_LOADING_STARTED,{request:be}),M.load({request:be,success:function(le,ye,w){var q,G,L;if(F)if(w&&w!==me?(G=K.parseBaseUrl(w),q=w):(K.isRelative(me)&&(me=K.resolve(me,window.location.href)),G=K.parseBaseUrl(me)),"No Content"!=ye)if(null===P&&(P=function Ie(me){var Te=null;return me.indexOf("SmoothStreamingMedia")>-1?(V&&(Te=V.createMssParser(),V.createMssFragmentProcessor(),V.registerEvents()),Te):me.indexOf("MPD")>-1||me.indexOf("Patch")>-1?Rr(C).create({debug:U}):Te}(le)),null!==P){F.setMatchers(P.getMatchers()),F.setIron(P.getIron());try{L=P.parse(le)}catch{return void re.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new X.Z(_e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,_e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(me))})}if(L){if(L.url=q||me,L.originalUrl||(L.originalUrl=L.url),J&&J.get().streaming.enableManifestDurationMismatchFix&&L.mediaPresentationDuration&&L.Period_asArray.length>1){var B=L.Period_asArray.reduce(function(se,ie){return se+ie.duration},0);!isNaN(B)&&L.mediaPresentationDuration>B&&(b.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),L.mediaPresentationDuration=B)}L.baseUri=G,L.loadedTime=new Date,F.resolveManifestOnLoad(L),re.trigger(v.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:le})}else re.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new X.Z(_e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,_e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(me))})}else re.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new X.Z(_e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,_e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(me))});else re.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(le,ye,w){re.trigger(v.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new X.Z(_e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,_e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(me,", ").concat(w))})}})},reset:function(){re.off(v.Z.XLINK_READY,ee,p),V&&V.reset(),F&&(F.reset(),F=null),M&&(M.abort(),M=null)}},b=U.getLogger(p),re.on(v.Z.XLINK_READY,ee,p),M=Ir(C).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,urlUtils:K,constants:f.Z,dashConstants:d.Z,errors:_e,requestTimeout:_.settings.get().streaming.manifestRequestTimeout}),F=Vh(C).create({errHandler:ne,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings}),P=null,p}ki.__dashjs_factory_name="ManifestLoader";var fo=S.Z.getClassFactory(ki);function Aa(){var p=(0,A.Z)(this.context).getInstance();return{error:function(b){p.trigger(v.Z.ERROR,{error:b})}}}Aa.__dashjs_factory_name="ErrorHandler";var Co=S.Z.getSingletonFactory(Aa),Fd=H(1715);function Ld(){var _,p,b,M,F,P,C=this.context,U=(0,A.Z)(C).getInstance();function J(re,K){if(!K||!K.Period_asArray||0===K.Period_asArray.length)return Promise.resolve();var V=[];return K.Period_asArray.forEach(function(ne){var ee,Ie;V.push((ee=ne,Ie=re,new Promise(function(me){if(ee&&ee.AdaptationSet_asArray&&0!==ee.AdaptationSet_asArray.length){var Te=[];ee.AdaptationSet_asArray.forEach(function(Se){var te,be;p.getIsTypeOf(Se,Ie)&&Te.push((te=Se,be=Ie,new Promise(function(le){if(te.Representation_asArray&&0!==te.Representation_asArray.length){var ye=[],w=[];te.Representation_asArray.forEach(function(q,G){var L=p.getCodec(te,G,!1),B=function(se,ie,he){switch(se){case f.Z.VIDEO:return{codec:he,width:(ce=ie).width||null,height:ce.height||null,framerate:ce.frameRate||null,bitrate:ce.bandwidth||null};case f.Z.AUDIO:return function(ce,z){return{codec:z,bitrate:ce.bandwidth||null,samplerate:ce.audioSamplingRate||null}}(ie,he);default:return null}var ce}(be,q,L);w.push(B),ye.push(b.supportsCodec(B,be))}),Promise.all(ye).then(function(q){te.Representation_asArray=te.Representation_asArray.filter(function(G,L){return q[L]||P.debug("[Stream] Codec ".concat(w[L].codec," not supported ")),q[L]}),le()}).catch(function(){le()})}else le()})))}),Promise.all(Te).then(function(){ee.AdaptationSet_asArray=ee.AdaptationSet_asArray.filter(function(Se){var te=Se.Representation_asArray&&Se.Representation_asArray.length>0;return te||(U.trigger(v.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:Se}),P.warn("AdaptationSet has been removed because of no supported Representation")),te}),me()}).catch(function(){me()})}else me()})))}),Promise.all(V)}return _={setConfig:function(re){re&&(re.adapter&&(p=re.adapter),re.capabilities&&(b=re.capabilities),re.settings&&(M=re.settings),re.customParametersModel&&(F=re.customParametersModel))},filterUnsupportedFeatures:function(re){return new Promise(function(K){var V=[];V.push(J(f.Z.VIDEO,re)),V.push(J(f.Z.AUDIO,re)),Promise.all(V).then(function(){var ne;M.get().streaming.capabilities.filterUnsupportedEssentialProperties&&(ne=re)&&ne.Period_asArray&&0!==ne.Period_asArray.length&&ne.Period_asArray.forEach(function(ee){ee.AdaptationSet_asArray=ee.AdaptationSet_asArray.filter(function(Ie){return!Ie.Representation_asArray||0===Ie.Representation_asArray.length||(Ie.Representation_asArray=Ie.Representation_asArray.filter(function(me){var Te=p.getEssentialPropertiesForRepresentation(me);if(Te&&Te.length>0)for(var Se=0;Se<Te.length;){if(!b.supportsEssentialProperty(Te[Se]))return P.debug("[Stream] EssentialProperty not supported: "+Te[Se].schemeIdUri),!1;Se+=1}return!0}),Ie.Representation_asArray&&Ie.Representation_asArray.length>0)})}),function(ne){var ee=F.getCustomCapabilitiesFilters();ee&&0!==ee.length&&ne&&ne.Period_asArray&&0!==ne.Period_asArray.length&&ne.Period_asArray.forEach(function(Ie){Ie.AdaptationSet_asArray=Ie.AdaptationSet_asArray.filter(function(me){return!me.Representation_asArray||0===me.Representation_asArray.length||(me.Representation_asArray=me.Representation_asArray.filter(function(Te){return!ee.some(function(Se){return!Se(Te)})}),me.Representation_asArray&&me.Representation_asArray.length>0)})})}(re),K()}).catch(function(){K()})})}},P=(0,D.Z)(C).getInstance().getLogger(_),_}Ld.__dashjs_factory_name="CapabilitiesFilter";var Xc=S.Z.getSingletonFactory(Ld),g_=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Yh(){var _;return{initialize:function(p){if(_=new g_,!p)return null;var b=p.indexOf("#");if(-1!==b)for(var M=p.substr(b+1).split("&"),F=0,P=M.length;F<P;++F){var C=M[F],U=C.indexOf("=");if(-1!==U){var J=C.substring(0,U);_.hasOwnProperty(J)&&(_[J]=C.substr(U+1))}}},getURIFragmentData:function(){return _}}}Yh.__dashjs_factory_name="URIFragmentModel";var vi=S.Z.getSingletonFactory(Yh);function Mn(){var _,b=(0,A.Z)(this.context).getInstance();return{getValue:function(){return _},setValue:function(M){_=M,M&&b.trigger(v.Z.MANIFEST_LOADED,{data:M})}}}Mn.__dashjs_factory_name="ManifestModel";var fr=S.Z.getSingletonFactory(Mn);function Vo(){var _,p,b,M,F=this.context,P=(0,Ge.Z)(F).getInstance();function C(re,K){return isNaN(re)?0:re>0?(K&&p.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):re<-.5?(K&&p.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(-.5,": ").concat(-50,"% playback speed.")),-.5):re}function U(re,K){return isNaN(re)?0:re<0?(K&&p.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):re>1?(K&&p.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):re}function J(){var re=P.get().streaming.buffer.stableBufferTime>0?P.get().streaming.buffer.stableBufferTime:P.get().streaming.buffer.fastSwitchEnabled?20:12,K=b.getLiveDelay();return!isNaN(K)&&K>0?Math.min(re,K):re}return _={getCatchupMaxDrift:function(){if(!isNaN(P.get().streaming.liveCatchup.maxDrift)&&P.get().streaming.liveCatchup.maxDrift>0)return P.get().streaming.liveCatchup.maxDrift;var re=M.getServiceDescriptionSettings();return re&&re.liveCatchup&&!isNaN(re.liveCatchup.maxDrift)&&re.liveCatchup.maxDrift>0?re.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return null!==P.get().streaming.liveCatchup.enabled?P.get().streaming.liveCatchup.enabled:b.getInitialCatchupModeActivated()},getStableBufferTime:J,getInitialBufferLevel:function(){var re=P.get().streaming.buffer.initialBufferLevel;return isNaN(re)||re<0?0:Math.min(J(),re)},getRetryAttemptsForType:function(re){var K=isNaN(P.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:P.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return b.getLowLatencyModeEnabled()?P.get().streaming.retryAttempts[re]*K:P.get().streaming.retryAttempts[re]},getRetryIntervalsForType:function(re){var K=isNaN(P.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:P.get().streaming.retryIntervals.lowLatencyReductionFactor;return b.getLowLatencyModeEnabled()?P.get().streaming.retryIntervals[re]/K:P.get().streaming.retryIntervals[re]},getCatchupPlaybackRates:function(re){var K=P.get().streaming.liveCatchup.playbackRate;if(!isNaN(K.min)||!isNaN(K.max))return{min:C(K.min,re),max:U(K.max,re)};var V=M.getServiceDescriptionSettings();if(V&&V.liveCatchup&&(!isNaN(V.liveCatchup.playbackRate.min)||!isNaN(V.liveCatchup.playbackRate.max))){var ne=V.liveCatchup.playbackRate;return{min:C(ne.min,re),max:U(ne.max,re)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(re,K){try{var V=P.get().streaming.abr[re][K];if(!isNaN(V)&&-1!==V)return V;var ne=M.getServiceDescriptionSettings();return ne&&ne[re]&&!isNaN(ne[re][K])?ne[re][K]:-1}catch{return-1}},setConfig:function(re){re.playbackController&&(b=re.playbackController),re.serviceDescriptionController&&(M=re.serviceDescriptionController)},reset:function(){}},p=(0,D.Z)(F).getInstance().getLogger(_),_}Vo.__dashjs_factory_name="MediaPlayerModel";var Gl=S.Z.getSingletonFactory(Vo),no=H(1767);function Da(_){var p=(_=_||{}).abrController,b=_.switchHistory,M=_.droppedFramesHistory,F=_.currentRequest,P=_.useBufferOccupancyABR,C=_.useL2AABR,U=_.useLoLPABR,J=_.streamProcessor?_.streamProcessor.getScheduleController():null,re=_.streamProcessor?_.streamProcessor.getRepresentationInfo():null,K=_.videoModel?_.videoModel:null;function V(){return re?re.mediaInfo:null}return{getMediaType:function(){var ne=V();return ne?ne.type:null},getMediaInfo:V,getDroppedFramesHistory:function(){return M},getCurrentRequest:function(){return F},getSwitchHistory:function(){return b},getStreamInfo:function(){var ne=V();return ne?ne.streamInfo:null},getScheduleController:function(){return J},getAbrController:function(){return p},getRepresentationInfo:function(){return re},useBufferOccupancyABR:function(){return P},useL2AABR:function(){return C},useLoLPABR:function(){return U},getVideoModel:function(){return K}}}Da.__dashjs_factory_name="RulesContext";var yi=S.Z.getClassFactory(Da),es=H(2068);function xa(){var _=[],p=[];return{push:function(b){b.newValue===es.Z.NO_CHANGE&&(b.newValue=b.oldValue),_[b.oldValue]||(_[b.oldValue]={noDrops:0,drops:0,dropSize:0});var M=b.newValue-b.oldValue,F=M<0?1:0,P=F?-M:0,C=F?0:1;if(_[b.oldValue].drops+=F,_[b.oldValue].dropSize+=P,_[b.oldValue].noDrops+=C,p.push({idx:b.oldValue,noDrop:C,drop:F,dropSize:P}),p.length>8){var U=p.shift();_[U.idx].drops-=U.drop,_[U.idx].dropSize-=U.dropSize,_[U.idx].noDrops-=U.noDrop}},getSwitchRequests:function(){return _},reset:function(){_=[],p=[]}}}xa.__dashjs_factory_name="SwitchRequestHistory";var ur=S.Z.getClassFactory(xa);function al(){var _={},p={},b={};return{push:function(M,F,P){if(F){_[M]||(_[M]=[],p[M]=0,b[M]=0);var C=P&&P.droppedVideoFrames?P.droppedVideoFrames:0,U=P&&P.totalVideoFrames?P.totalVideoFrames:0,J=C-p[M];p[M]=C;var re=U-b[M];b[M]=U;var K=_[M];isNaN(F)||(K[F]?(K[F].droppedVideoFrames+=J,K[F].totalVideoFrames+=re):K[F]={droppedVideoFrames:J,totalVideoFrames:re})}},getFrameHistory:function(M){return _[M]},clearForStream:function(M){try{delete _[M],delete p[M],delete b[M]}catch{}},reset:function(){_={},p={},b={}}}}al.__dashjs_factory_name="DroppedFramesHistory";var $h=S.Z.getClassFactory(al);function Ra(_){var p,b,M,F,P,U=(_=_||{}).settings,J=(0,A.Z)(this.context).getInstance();function re(me,Te,Se,te){var be=Math.pow(.5,Se/te.fast);me.fastEstimate=(1-be)*Te+be*me.fastEstimate;var le=Math.pow(.5,Se/te.slow);me.slowEstimate=(1-le)*Te+le*me.slowEstimate,me.totalWeight+=Se}function K(me,Te,Se){return U.get().streaming.abr.movingAverageMethod!==f.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(te,be){var le=te?P.throughputHalfLife:P.latencyHalfLife,ye=te?M[be]:F[be];if(!ye||ye.totalWeight<=0)return NaN;var w=ye.fastEstimate/(1-Math.pow(.5,ye.totalWeight/le.fast)),q=ye.slowEstimate/(1-Math.pow(.5,ye.totalWeight/le.slow));return te?Math.min(w,q):Math.max(w,q)}(me,Te):(ye=function(q,G,L){var B,se;if(q?(B=p[G],se=L?3:4):(B=b[G],se=4),B){if(se>=B.length)se=B.length;else if(q)for(var ie=1;ie<se;++ie){var he=B[B.length-ie]/B[B.length-ie-1];if((he>=1.3||he<=.7692307692307692)&&(se+=1)===B.length)break}}else se=0;return se}(te=me,be=Te,Se),w=(te?p:b)[be],0!==ye&&w&&0!==w.length?(w=w.slice(-ye)).reduce(function(q,G){return q+G})/w.length:NaN);var te,be,ye,w}function V(me,Te){return K(!0,me,Te)}function ne(me){p[me]=p[me]||[],b[me]=b[me]||[],M[me]=M[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0},F[me]=F[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function ee(){p={},b={},M={},F={}}var Ie={push:function(me,Te,Se){if(Te.trace&&Te.trace.length){var te,be=Te.tresponse.getTime()-Te.trequest.getTime()||1,le=Te._tfinish.getTime()-Te.tresponse.getTime()||1,ye=Te.trace.reduce(function(L,B){return L+B.b[0]},0),w=0;if(0!==(te=Te._fileLoaderType&&Te._fileLoaderType===f.Z.FILE_LOADER_TYPES.FETCH?Te.trace.reduce(function(L,B){return L+B.d},0):Se?le:be+le)&&(w=Math.round(8*ye/te)),Te.cmsd){var q=Te.cmsd.dynamic&&Te.cmsd.dynamic.etp?Te.cmsd.dynamic.etp:null;if(q){var G=U.get().streaming.cmsd.abr.etpWeightRatio;G>0&&G<=1&&(w=w*(1-G)+q*G)}}if(ne(me),se=le,(L=me)===f.Z.VIDEO?se<U.get().streaming.cacheLoadThresholds[f.Z.VIDEO]:L===f.Z.AUDIO?se<U.get().streaming.cacheLoadThresholds[f.Z.AUDIO]:void 0){if(p[me].length>0&&!p[me].hasCachedEntries)return;p[me].hasCachedEntries=!0}else p[me]&&p[me].hasCachedEntries&&function(L){delete p[L],delete b[L],delete M[L],delete F[L],ne(L)}(me);p[me].push(w),J.trigger(h.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:w,mediaType:me,httpRequest:Te}),p[me].length>20&&p[me].shift(),b[me].push(be),b[me].length>20&&b[me].shift(),re(M[me],w,.001*le,P.throughputHalfLife),re(F[me],be,1,P.latencyHalfLife)}var L,se},getAverageThroughput:V,getSafeAverageThroughput:function(me,Te){var Se=V(me,Te);return isNaN(Se)||(Se*=U.get().streaming.abr.bandwidthSafetyFactor),Se},getAverageLatency:function(me){return K(!1,me)},reset:ee};return P={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},ee(),Ie}Ra.__dashjs_factory_name="ThroughputHistory";var wi=S.Z.getClassFactory(Ra);function Ma(){var _,p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me,Te,Se,te,be,le,ye,w,q,G,L,B,se=this.context,ie=(0,D.Z)(se).getInstance(),he=(0,A.Z)(se).getInstance();function ce(){F={},P={},U={},C={},be={},w={},q={},G={},void 0===re&&(re=!1),le&&le.reset(),te=void 0,le=void 0,ye=void 0,clearTimeout(J),J=null}function z(Le){var it=Le.request.mediaType,Ne=Le.streamId;if(it&&Ne&&C[Ne]&&B.get().streaming.abr.autoSwitchBitrate[it]){var Oe=C[Ne][it];if(Oe){var Ye=yi(se).create({abrController:_,streamProcessor:Oe,currentRequest:Le.request,useBufferOccupancyABR:w[it],useL2AABR:q[it],useLoLPABR:G[it],videoModel:ee}),nt=b.shouldAbandonFragment(Ye,Ne);nt.quality>es.Z.NO_CHANGE&&Oe.getFragmentModel().getRequests({state:k.FRAGMENT_MODEL_LOADING,index:Le.request.index})[0]&&(U[Ne][it].state=I.Z.ABANDON_LOAD,be[Ne][it].reset(),be[Ne][it].push({oldValue:Ue(it,Ne),newValue:nt.quality,confidence:1,reason:nt.reason}),He(it,M.getActiveStreamInfo(),nt.quality,nt.reason),clearTimeout(J),J=setTimeout(function(){U[Ne][it].state=I.Z.ALLOW_LOAD,J=null},B.get().streaming.abandonLoadTimeout))}}}function we(Le){Le.mediaType===f.Z.VIDEO&&(void 0!==te&&le.push(Le.streamId,te,ee.getPlaybackQuality()),te=Le.newQuality)}function Me(Le){var it,Ne;Le.metric!==I.Z.HTTP_REQUEST||!Le.value||Le.value.type!==ut.w.MEDIA_SEGMENT_TYPE||Le.mediaType!==f.Z.AUDIO&&Le.mediaType!==f.Z.VIDEO||ye.push(Le.mediaType,Le.value,B.get().streaming.abr.useDeadTimeLatency),Le.metric!==I.Z.BUFFER_LEVEL||Le.mediaType!==f.Z.AUDIO&&Le.mediaType!==f.Z.VIDEO||(it=Le.mediaType,Ne=.001*Le.value.level,B.get().streaming.abr.ABRStrategy===f.Z.ABR_STRATEGY_DYNAMIC&&function(Oe,Ye){try{var nt=Ie.getStableBufferTime(),kt=w[Oe],mn=Ye>(kt?.5*nt:nt);w[Oe]=mn,mn!==kt&&p.info(mn?"["+Oe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Ye.toFixed(3)+").":"["+Oe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Ye.toFixed(3)+").")}catch(bt){p.error(bt)}}(it,Ne))}function Xe(Le,it){try{var Ne;return F[it]=F[it]||{},F[it].hasOwnProperty(Le)||(F[it][Le]=0),Ne=function(Oe,Ye){var nt=F[Ye][Oe],st=nt;if(!C[Ye]||!C[Ye][Oe])return st;var Vt=Be(Oe,Ye);void 0!==Vt&&(st=Math.max(nt,Vt));var kt=function(mn,bt){try{var rn=Ie.getAbrBitrateParameter("maxBitrate",mn);return rn>-1?dt(C[bt][mn].getMediaInfo(),rn,bt):void 0}catch{return}}(Oe,Ye);return void 0!==kt&&(st=Math.min(st,kt)),st}(Le,it),Oe=Ne,st=F[it][Ye=Le],Vt=B.get().streaming.abr.maxRepresentationRatio[Ye],Ne=function(Oe,Ye,nt){if(Ye!==f.Z.VIDEO||!B.get().streaming.abr.limitBitrateByPortal||!C[nt]||!C[nt][Ye])return Oe;re||pn();var st=C[nt][Ye].getStreamInfo(),Vt=ne.getAdaptationForType(st.index,Ye,st).Representation_asArray,kt=Oe;if(K>0&&V>0){for(;kt>0&&Vt[kt]&&K<Vt[kt].width&&K-Vt[kt-1].width<Vt[kt].width-K;)kt-=1;for(;kt<Vt.length-1&&Vt[kt].width===Vt[kt+1].width;)kt+=1}return kt}(Ne=isNaN(Vt)||Vt>=1||Vt<0?Oe:Math.min(Oe,Math.round(st*Vt)),Le,it),B.get().streaming.cmsd.enabled&&B.get().streaming.cmsd.abr.applyMb&&(Ne=function(Oe,Ye,nt){if("video"!==Ye)return Oe;var st=Te.getMaxBitrate(Ye);if(st<0)return Oe;var Vt=Ot(nt,"audio",Ue("audio",nt));st-=Vt?Vt.bitrate/1e3:0;var kt=dt(C[nt][Ye].getMediaInfo(),st,nt);return p.debug("Stream ID: "+nt+" ["+Ye+"] Apply max bit rate from CMSD: "+st),Math.min(Oe,kt)}(Ne,Le,it)),Ne}catch{return}var Oe,Ye,st,Vt}function Be(Le,it){try{return function(Ne,Oe){try{var Ye=Ie.getAbrBitrateParameter("minBitrate",Ne);if(Ye>-1){var nt=C[Oe][Ne].getMediaInfo(),st=wt(nt),Vt=dt(nt,Ye,Oe);return st[Vt]&&Vt<st.length-1&&st[Vt].bitrate<1e3*Ye&&Vt++,Vt}return}catch{return}}(Le,it)}catch{return}}function Ue(Le){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return it||(it=M.getActiveStreamInfo().id),Le&&C[it]&&C[it][Le]&&it?(P[it]=P[it]||{},P[it].hasOwnProperty(Le)||(P[it][Le]=0),P[it][Le]):0}catch{return 0}}function He(Le,it,Ne){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(it&&it.id&&Le){var Ye=it.id,nt=Ue(Le,Ye);(0,ae.SE)(Ne);var st=Xe(Le,Ye);Ne!==nt&&Ne>=0&&Ne<=st&&Nt(Le,nt,Ne,st,Oe,Ye)}}function Nt(Le,it,Ne,Oe,Ye,nt){if(Le&&C[nt]&&C[nt][Le]){var st=C[nt][Le].getStreamInfo(),Vt=st&&st.manifestInfo&&st.manifestInfo.isDynamic,kt=L.getCurrentBufferLevel(Le);p.info("Stream ID: "+nt+" ["+Le+"] switch from "+it+" to "+Ne+"/"+Oe+" (buffer: "+kt+") "+(Ye?JSON.stringify(Ye):".")),P[nt]=P[nt]||{},P[nt][Le]=Ne;var mn=Ot(nt,Le,Ne);he.trigger(v.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:it,newQuality:Ne,reason:Ye,streamInfo:st,bitrateInfo:mn,maxIdx:Oe,mediaType:Le},{streamId:st.id,mediaType:Le});var bt=ye.getAverageThroughput(Le,Vt);isNaN(bt)||Se.setSavedBitrateSettings(Le,bt)}}function Ot(Le,it,Ne){if(it&&C&&C[Le]&&C[Le][it]){var Oe=wt(C[Le][it].getMediaInfo());return Oe[Ne]?Oe[Ne]:null}return null}function dt(Le,it,Ne){var Oe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,Ye=Le&&Le.type?C[Ne][Le.type].getRepresentationInfo():null;if(B.get().streaming.abr.useDeadTimeLatency&&Oe&&Ye&&Ye.fragmentDuration){var nt=Ye.fragmentDuration;if((Oe/=1e3)>nt)return 0;it*=1-Oe/nt}for(var Vt=wt(Le),kt=Vt.length-1;kt>=0;kt--)if(1e3*it>=Vt[kt].bitrate)return kt;return 0}function wt(Le){var it=[];if(!Le||!Le.bitrateList)return it;for(var Ne,Oe=Le.bitrateList,Ye=Le.type,nt=0,st=Oe.length;nt<st;nt++)(Ne=new Fc).mediaType=Ye,Ne.qualityIndex=nt,Ne.bitrate=Oe[nt].bandwidth,Ne.width=Oe[nt].width,Ne.height=Oe[nt].height,Ne.scanType=Oe[nt].scanType,it.push(Ne);return it}function pn(){if(ee){var Le=B.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;K=ee.getClientWidth()*Le,V=ee.getClientHeight()*Le}}return _={initialize:function(){le=$h(se).create(),ye=wi(se).create({settings:B}),(b=(0,no.Z)(se).create({dashMetrics:L,customParametersModel:me,mediaPlayerModel:Ie,settings:B})).initialize(),he.on(h.Z.QUALITY_CHANGE_RENDERED,we,_),he.on(h.Z.METRIC_ADDED,Me,_),he.on(v.Z.LOADING_PROGRESS,z,_)},isPlayingAtTopQuality:function(Le){var it=Le?Le.id:null,Ne=Ue(f.Z.AUDIO,it),Oe=Ue(f.Z.VIDEO,it);return Ne===Xe(f.Z.AUDIO,it)&&Oe===Xe(f.Z.VIDEO,it)},updateTopQualityIndex:function(Le){var it=Le.type,Ne=Le.streamInfo.id,Oe=Le.representationCount-1;return F[Ne]=F[Ne]||{},F[Ne][it]=Oe,Oe},clearDataForStream:function(Le){le&&le.clearForStream(Le),C[Le]&&delete C[Le],be[Le]&&delete be[Le],U[Le]&&delete U[Le]},getThroughputHistory:function(){return ye},getBitrateList:wt,getQualityForBitrate:dt,getTopBitrateInfoFor:function(Le){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(it||(it=M.getActiveStreamInfo().id),Le&&C&&C[it]&&C[it][Le]){var Ne=Xe(Le,it),Oe=wt(C[it][Le].getMediaInfo());return Oe[Ne]?Oe[Ne]:null}return null},getMinAllowedIndexFor:Be,getMaxAllowedIndexFor:Xe,getInitialBitrateFor:function(Le,it){if(function(){if(!Se||!Se.hasOwnProperty("getSavedBitrateSettings"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}(),Le===f.Z.TEXT)return NaN;var Ne=Se.getSavedBitrateSettings(Le),Oe=Ie.getAbrBitrateParameter("initialBitrate",Le),Ye=B.get().streaming.abr.initialRepresentationRatio[Le];if(-1===Oe)if(Ye>-1){var nt=C[it][Le].getStreamInfo(),st=ne.getAdaptationForType(nt.index,Le,nt).Representation_asArray;Oe=Array.isArray(st)?st[Math.max(Math.round(st.length*Ye)-1,0)].bandwidth/1e3:0}else Oe=isNaN(Ne)?Le===f.Z.VIDEO?1e3:100:Ne;return Oe},getQualityFor:Ue,getAbandonmentStateFor:function(Le,it){return U[Le]&&U[Le][it]?U[Le][it].state:null},setPlaybackQuality:He,checkPlaybackQuality:function(Le,it){try{if(!(Le&&C&&C[it]&&C[it][Le]))return!1;if(le){var Ne=ee.getPlaybackQuality();Ne&&le.push(it,te,Ne)}if(!B.get().streaming.abr.autoSwitchBitrate[Le])return!1;var Oe=Ue(Le,it),Ye=yi(se).create({abrController:_,switchHistory:be[it][Le],droppedFramesHistory:le,streamProcessor:C[it][Le],currentValue:Oe,useBufferOccupancyABR:w[Le],useL2AABR:q[Le],useLoLPABR:G[Le],videoModel:ee}),nt=Be(Le,it),st=Xe(Le,it),Vt=b.getMaxQuality(Ye),kt=Vt.quality;return void 0!==nt&&(kt>es.Z.NO_CHANGE?kt:Oe)<nt&&(kt=nt),kt>st&&(kt=st),be[it][Le].push({oldValue:Oe,newValue:kt}),kt>es.Z.NO_CHANGE&&kt!==Oe&&(U[it][Le].state===I.Z.ALLOW_LOAD||kt<Oe)&&(Nt(Le,Oe,kt,st,Vt.reason,it),!0)}catch{return!1}},setElementSize:pn,setWindowResizeEventCalled:function(Le){re=Le},registerStreamType:function(Le,it){var Oe,Ye,Ne=it.getStreamInfo().id;C[Ne]||(C[Ne]={}),be[Ne]||(be[Ne]={}),U[Ne]||(U[Ne]={}),be[Ne][Le]=ur(se).create(),C[Ne][Le]=it,U[Ne][Le]={},U[Ne][Le].state=I.Z.ALLOW_LOAD,Oe=Le,(Ye=B.get().streaming.abr.ABRStrategy)===f.Z.ABR_STRATEGY_L2A?(w[Oe]=!1,G[Oe]=!1,q[Oe]=!0):Ye===f.Z.ABR_STRATEGY_LoLP?(w[Oe]=!1,G[Oe]=!0,q[Oe]=!1):Ye===f.Z.ABR_STRATEGY_BOLA?(w[Oe]=!0,G[Oe]=!1,q[Oe]=!1):Ye===f.Z.ABR_STRATEGY_THROUGHPUT?(w[Oe]=!1,G[Oe]=!1,q[Oe]=!1):Ye===f.Z.ABR_STRATEGY_DYNAMIC&&(w[Oe]=!(!w||!w[Oe])&&w[Oe],G[Oe]=!1,q[Oe]=!1),Le===f.Z.VIDEO&&pn()},unRegisterStreamType:function(Le,it){try{C[Le]&&C[Le][it]&&delete C[Le][it],be[Le]&&be[Le][it]&&delete be[Le][it],U[Le]&&U[Le][it]&&delete U[Le][it]}catch{}},setConfig:function(Le){Le&&(Le.streamController&&(M=Le.streamController),Le.domStorage&&(Se=Le.domStorage),Le.mediaPlayerModel&&(Ie=Le.mediaPlayerModel),Le.customParametersModel&&(me=Le.customParametersModel),Le.cmsdModel&&(Te=Le.cmsdModel),Le.dashMetrics&&(L=Le.dashMetrics),Le.adapter&&(ne=Le.adapter),Le.videoModel&&(ee=Le.videoModel),Le.settings&&(B=Le.settings))},reset:function(){ce(),he.off(v.Z.LOADING_PROGRESS,z,_),he.off(h.Z.QUALITY_CHANGE_RENDERED,we,_),he.off(h.Z.METRIC_ADDED,Me,_),b&&b.reset()}},p=ie.getLogger(_),ce(),_}Ma.__dashjs_factory_name="AbrController";var Ws=S.Z.getSingletonFactory(Ma);Ws.QUALITY_DEFAULT=0,S.Z.updateSingletonFactory(Ma.__dashjs_factory_name,Ws);var ms=Ws,ql=new Map([[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Bd(){var _,p,b,M,F,P,C,U,J=this.context,re=(0,A.Z)(J).getInstance(),K=[];function V(){b&&(b.playbackRate=1,b.removeEventListener("canplay",V))}function ne(){return K.length>0}function ee(){if(b&&ne()&&0===b.playbackRate){var le=document.createEvent("Event");le.initEvent("waiting",!0,!1),b.dispatchEvent(le)}}function Ie(le,ye){b&&b.addEventListener(le,ye)}function me(le,ye){b&&b.removeEventListener(le,ye)}function Te(){return b?b.readyState:NaN}function Se(){return b?b.buffered:null}function te(le,ye,w,q,G){if(b)for(var L=0;L<b.textTracks.length;L++)if(b.textTracks[L].kind===le&&(!ye||b.textTracks[L].label==ye)&&b.textTracks[L].language===w&&b.textTracks[L].isTTML===q&&b.textTracks[L].isEmbedded===G)return b.textTracks[L];return null}function be(le,ye){return le===f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||Te()>=le?(ye(),null):(w=ql.get(le),q=ye,Ie(w,G=function L(){me(w,L),q(w)}),{func:G,event:w});var w,q,G}return _={addEventListener:Ie,addTextTrack:function(le,ye,w,q,G){if(!b)return null;var L=te(le,ye,w,q,G);return L||((L=b.addTextTrack(le,ye,w)).isEmbedded=G,L.isTTML=q),L},appendChild:function(le){b&&(b.appendChild(le),void 0!==le.isTTML&&(b.textTracks[b.textTracks.length-1].isTTML=le.isTTML,b.textTracks[b.textTracks.length-1].isEmbedded=le.isEmbedded))},getBufferRange:Se,getClientHeight:function(){return b?b.clientHeight:NaN},getClientWidth:function(){return b?b.clientWidth:NaN},getElement:function(){return b},getEnded:function(){return b?b.ended:null},getPlaybackQuality:function(){if(!b)return null;var le="webkitDroppedFrameCount"in b&&"webkitDecodedFrameCount"in b,ye=null;return"getVideoPlaybackQuality"in b?ye=b.getVideoPlaybackQuality():le&&(ye={droppedVideoFrames:b.webkitDroppedFrameCount,totalVideoFrames:b.webkitDroppedFrameCount+b.webkitDecodedFrameCount,creationTime:new Date}),ye},getPlaybackRate:function(){return b?b.playbackRate:null},getPlayedRanges:function(){return b?b.played:null},getReadyState:Te,getSource:function(){return b?b.src:null},getTTMLRenderingDiv:function(){return P},getTextTrack:te,getTextTracks:function(){return b?b.textTracks:[]},getTime:function(){return b?isNaN(M)?b.currentTime:M:null},getVideoHeight:function(){return b?b.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(b){var le=b.parentNode.host||b.parentNode;return le?b.getBoundingClientRect().left-le.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(b){var le=b.parentNode.host||b.parentNode;return le?b.getBoundingClientRect().top-le.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return b?b.videoWidth:NaN},getVttRenderingDiv:function(){return C},initialize:function(){re.on(v.Z.PLAYBACK_PLAYING,ee,this)},isPaused:function(){return b?b.paused:null},isSeeking:function(){return b?b.seeking||!isNaN(M):null},isStalled:ne,pause:function(){b&&(b.pause(),b.autoplay=!1)},play:function(){if(b){b.autoplay=!0;var le=b.play();le&&le.catch&&typeof Promise<"u"&&le.catch(function(ye){"NotAllowedError"===ye.name&&re.trigger(v.Z.PLAYBACK_NOT_ALLOWED),p.warn("Caught pending play exception - continuing (".concat(ye,")"))})}},removeChild:function(le){b&&b.removeChild(le)},removeEventListener:me,reset:function(){clearTimeout(U),re.off(v.Z.PLAYBACK_PLAYING,ee,this)},setCurrentTime:function(le,ye){b&&(F&&F.func&&F.event&&me(F.event,F.func),M=le,F=be(f.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(b)if(b.currentTime!==M)try{M=ye?function(w){var q=Se(),G=w,L=9999999999;if(q)for(var B=0;B<q.length;B++){var se=q.start(B),ie=q.end(B),he=Math.abs(se-w),ce=Math.abs(ie-w);if(w>=se&&w<=ie)return w;he<L&&(L=he,G=se),ce<L&&(L=ce,G=ie)}return G}(M):M,isNaN(M)||(b.currentTime=M),M=NaN}catch(w){0===b.readyState&&w.code===w.INVALID_STATE_ERR&&(U=setTimeout(function(){b.currentTime=M,M=NaN},400))}else M=NaN}))},setElement:function(le){if(!(null==le||le&&/^(VIDEO|AUDIO)$/i.test(le.nodeName)))throw"element is not video or audio DOM type!";(b=le)&&(b.preload="auto")},setPlaybackRate:function(le){b&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&b.readyState<=2&&le>0?b.addEventListener("canplay",V):b.playbackRate=le)},setSource:function(le){b&&(le?b.src=le:(b.removeAttribute("src"),b.load()))},setStallState:function(le,ye){var w,G;w=le,ye?null!==(G=w)&&b&&!b.seeking&&-1===K.indexOf(G)&&K.push(G):function(G){var L=K.indexOf(G);null!==G&&-1!==L&&K.splice(L,1)}(w)},setTTMLRenderingDiv:function(le){(P=le).style.position="absolute",P.style.display="flex",P.style.overflow="hidden",P.style.pointerEvents="none",P.style.top=0,P.style.left=0},setVttRenderingDiv:function(le){C=le},waitForReadyState:be},p=(0,D.Z)(J).getInstance().getLogger(_),M=NaN,_}Bd.__dashjs_factory_name="VideoModel";var Ks=S.Z.getSingletonFactory(Bd),Os=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],ll="dashjs_?_bitrate",cl="dashjs_?_settings",pr="localStorage",__="lastBitrate",Qc="lastMediaSettings";function Ud(_){var p,b,M,P=(_=_||{}).settings;function C(K){if(void 0!==M)return M;var V;M=!1;try{typeof window<"u"&&(V=window[K])}catch(ne){return b.warn("DOMStorage access denied: "+ne.message),M}if(!V||K!==pr&&"sessionStorage"!==K)return M;try{V.setItem("1","1"),V.removeItem("1"),M=!0}catch(ne){b.warn("DOMStorage is supported, but cannot be used: "+ne.message)}return M}function U(){var K=6e5;return Math.round((new Date).getTime()/K)*K}function J(K,V){return C(K)&&P.get().streaming[V+"CachingInfo"].enabled}function re(){if(!P)throw new Error(f.Z.MISSING_CONFIG_ERROR)}return p={getSavedBitrateSettings:function(K){if(re(),!P.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var V=NaN;if(J(pr,__)){var ne=ll.replace(/\?/,K);try{var ee=JSON.parse(localStorage.getItem(ne))||{},Ie=(new Date).getTime()-parseInt(ee.timestamp,10)>=P.get().streaming.lastBitrateCachingInfo.ttl||!1,me=parseFloat(ee.bitrate);isNaN(me)||Ie?Ie&&localStorage.removeItem(ne):(V=me,b.debug("Last saved bitrate for "+K+" was "+me))}catch{return null}}return V},setSavedBitrateSettings:function(K,V){if(J(pr,__)&&V){var ne=ll.replace(/\?/,K);try{localStorage.setItem(ne,JSON.stringify({bitrate:V.toFixed(3),timestamp:U()}))}catch(ee){b.error(ee.message)}}},getSavedMediaSettings:function(K){if(re(),!P.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var V=null;if(J(pr,Qc)){var ne=cl.replace(/\?/,K);try{var ee=JSON.parse(localStorage.getItem(ne))||{},Ie=(new Date).getTime()-parseInt(ee.timestamp,10)>=P.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;V=ee.settings,Ie&&(localStorage.removeItem(ne),V=null)}catch{return null}}return V},setSavedMediaSettings:function(K,V){if(J(pr,Qc)){var ne=cl.replace(/\?/,K);try{localStorage.setItem(ne,JSON.stringify({settings:V,timestamp:U()}))}catch(ee){b.error(ee.message)}}}},b=(0,D.Z)(this.context).getInstance().getLogger(p),C(pr)&&Os.forEach(function(K){var V=localStorage.getItem(K.oldKey);if(V){localStorage.removeItem(K.oldKey);try{localStorage.setItem(K.newKey,V)}catch(ne){b.error(ne.message)}}}),p}Ud.__dashjs_factory_name="DOMStorage";var gs=S.Z.getSingletonFactory(Ud),Jc=H(2032),Na=H(2011);function ul(){var _,p,b,M,F,P,C,U,J,re,K,V,ne,ee=this.context;function Ie(te,be,le,ye){var w=null,q=te?ne.resolve(te.path):null,G=ye||{init:!0,url:q?q.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:be};p.debug("Start searching for initialization.");var L=Se(G);U.load({request:L,success:function(B){if(G.bytesLoaded=G.range.end,!(w=M.findInitRange(B)))return G.range.end=G.bytesLoaded+G.bytesToLoad,Ie(te,be,le,G);te.range=w,le(te)},error:function(){le(te)}}),p.debug("Perform init search: "+G.url)}function me(te,be,le,ye,w,q){if(le&&(void 0===le.start||void 0===le.end)){var G=le?le.toString().split("-"):null;le=G?{start:parseFloat(G[0]),end:parseFloat(G[1])}:null}w=w||Te;var L=null,B=null,se=!!le,ie=te?ne.resolve(te.path):null,he={init:!1,url:ie?ie.url:void 0,range:se?le:{start:0,end:1500},searching:!se,bytesLoaded:q?q.bytesLoaded:0,bytesToLoad:1500,mediaType:be},ce=Se(he);U.load({request:ce,success:function(z){var we=he.bytesToLoad,Me=z.byteLength;if(he.bytesLoaded=he.range.end-he.range.start,L=M.parse(z),(B=L.getBox("sidx"))&&B.isComplete){var Xe,Be,Ue=B.references;if(null!=Ue&&Ue.length>0&&(Xe=1===Ue[0].reference_type),Xe){var He,Nt,Ot,dt;p.debug("Initiate multiple SIDX load."),he.range.end=he.range.start+B.size;var wt=[],pn=0,Le=(B.offset||he.range.start)+B.size,it=function(Oe){Oe?(wt=wt.concat(Oe),++pn>=Nt&&(wt.sort(function(Ye,nt){return Ye.startTime-nt.startTime<0?-1:0}),w(wt,te,ye))):w(null,te,ye)};for(He=0,Nt=Ue.length;He<Nt;He++)Ot=Le,dt=Le+Ue[He].referenced_size-1,Le+=Ue[He].referenced_size,me(te,be,{start:Ot,end:dt},ye,it,he)}else p.debug("Parsing segments from SIDX. representation "+be+" - id: "+te.id+" for range : "+he.range.start+" - "+he.range.end),Be=function(Oe,Ye){for(var nt,Vt,kt,mn=Oe.references,bt=mn.length,rn=Oe.timescale,un=Oe.earliest_presentation_time,hn=Ye.range.start+Oe.offset+Oe.first_offset+Oe.size,En=[],Fn=0;Fn<bt;Fn++)Vt=mn[Fn].subsegment_duration,kt=mn[Fn].referenced_size,(nt=new Na.Z).duration=Vt,nt.startTime=un,nt.timescale=rn,nt.mediaRange=hn+"-"+(hn+kt-1),En.push(nt),un+=Vt,hn+=kt;return En}(B,he),w(Be,te,ye)}else{if(B)he.range.start=B.offset||he.range.start,he.range.end=he.range.start+(B.size||we);else{if(Me<he.bytesLoaded)return void w(null,te,ye);var Ne=L.getLastBox();Ne&&Ne.size?(he.range.start=Ne.offset+Ne.size,he.range.end=he.range.start+we):he.range.end+=we}me(te,be,he.range,ye,null,he)}},error:function(){w(null,te,ye)}}),p.debug("Perform SIDX load for type ".concat(be," : ").concat(he.url," with range ").concat(he.range.start," - ").concat(he.range.end))}function Te(te,be,le){le({segments:te,representation:be,error:te?void 0:new X.Z(J.SEGMENT_BASE_LOADER_ERROR_CODE,J.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function Se(te){if(te.url){var be=new j.Z;return be.setInfo(te),be}}return _={setConfig:function(te){te.baseURLController&&(ne=te.baseURLController),te.dashMetrics&&(P=te.dashMetrics),te.mediaPlayerModel&&(C=te.mediaPlayerModel),te.errHandler&&(b=te.errHandler),te.boxParser&&(M=te.boxParser),te.debug&&(p=te.debug.getLogger(_)),te.requestModifier&&(F=te.requestModifier),te.errors&&(J=te.errors),te.urlUtils&&(V=te.urlUtils),te.constants&&(re=te.constants),te.dashConstants&&(K=te.dashConstants)},initialize:function(){U=Ir(ee).create({errHandler:b,dashMetrics:P,mediaPlayerModel:C,requestModifier:F,boxParser:M,errors:J,urlUtils:V,constants:re,dashConstants:K})},loadInitialization:function(te,be){return new Promise(function(le){Ie(te,be,le)})},loadSegments:function(te,be,le){return new Promise(function(ye){me(te,be,le,ye)})},reset:function(){U&&(U.abort(),U=null)}}}ul.__dashjs_factory_name="SegmentBaseLoader";var Yi=S.Z.getSingletonFactory(ul);function v_(_){var p;_=_||{};var b=new DataView(_.data),M=0;function F(C,U){var J=!0,re=0;if(void 0===U&&(U=!1),C.tag>16777215?(b.getUint32(M)!==C.tag&&(J=!1),re=4):C.tag>65535?(256*b.getUint16(M)+b.getUint8(M+2)!==C.tag&&(J=!1),re=3):C.tag>255?(b.getUint16(M)!==C.tag&&(J=!1),re=2):(b.getUint8(M)!==C.tag&&(J=!1),re=1),!J&&C.required&&!U)throw new Error("required tag not found");return J&&(M+=re),J}function P(C){var U=1,J=128,re=-1,K=0,V=b.getUint8(M),ne=0;for(ne=0;ne<8;ne+=1){if((V&J)===J){K=void 0===C?V&~J:V,re=ne;break}J>>=1}for(ne=0;ne<re;ne+=1,U+=1)K=K<<8|255&b.getUint8(M+U);return M+=U,K}return p={getPos:function(){return M},setPos:function(C){M=C},consumeTag:F,consumeTagAndSize:function(C,U){var J=F(C,U);return J&&P(),J},parseTag:function(C){var U;return F(C),U=P(),p[C.parse](U)},skipOverElement:function(C,U){var J,re=F(C,U);return re&&(J=P(),M+=J),re},getMatroskaCodedNum:P,getMatroskaFloat:function(C){var U;switch(C){case 4:U=b.getFloat32(M),M+=4;break;case 8:U=b.getFloat64(M),M+=8}return U},getMatroskaUint:function(C){if(C>4)return function(re){for(var K=Math.floor(Number.MAX_SAFE_INTEGER/256),V=0,ne=0;ne<re;ne+=1){if(V>K)throw new Error("Value exceeds safe integer limit");V*=256;var ee=b.getUint8(M+ne);if(V>Number.MAX_SAFE_INTEGER-ee)throw new Error("Value exceeds safe integer limit");V+=ee}return M+=re,V}(C);for(var U=0,J=0;J<C;J+=1)U<<=8,U|=255&b.getUint8(M+J);return M+=C,U>>>0},moreData:function(){return M<b.byteLength}}}v_.__dashjs_factory_name="EBMLParser";var ho=S.Z.getClassFactory(v_);function ro(){var _,p,b,M,F,P,C,U,J,re,K=this.context;function V(ne){var ee=new j.Z;return ee.setInfo(ne),ee}return _={setConfig:function(ne){if(!(ne.baseURLController&&ne.dashMetrics&&ne.mediaPlayerModel&&ne.errHandler))throw new Error(f.Z.MISSING_CONFIG_ERROR);re=ne.baseURLController,P=ne.dashMetrics,C=ne.mediaPlayerModel,M=ne.errHandler,J=ne.errors,p=ne.debug.getLogger(_),F=ne.requestModifier},initialize:function(){U=Ir(K).create({errHandler:M,dashMetrics:P,mediaPlayerModel:C,requestModifier:F,errors:J})},loadInitialization:function(ne,ee){return new Promise(function(Ie){var me=null,Te=ne?re.resolve(ne.path):null,Se=ne?ne.range.split("-"):null,te={range:{start:Se?parseFloat(Se[0]):null,end:Se?parseFloat(Se[1]):null},request:me,url:Te?Te.url:void 0,init:!0,mediaType:ee};p.info("Start loading initialization."),me=V(te),U.load({request:me,success:function(){Ie(ne)},error:function(){Ie(ne)}}),p.debug("Perform init load: "+te.url)})},loadSegments:function(ne,ee,Ie){return new Promise(function(me){var Te=null,Se=ne?re.resolve(ne.path):null,te=Se?Se.url:void 0;Te=V({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Te,url:te,init:!1,mediaType:ee}),p.debug("Parsing ebml header"),U.load({request:Te,success:function(be){!function(le,ye,w,q){if(le&&0!==le.byteLength){var G,L,B,se,ie=ho(K).create({data:le}),he=w?w.split("-"):null,ce=null,z={url:ye,range:{start:he?parseFloat(he[0]):null,end:he?parseFloat(he[1]):null},request:ce};for(p.debug("Parse EBML header: "+z.url),ie.skipOverElement(b.EBML),ie.consumeTag(b.Segment),B=ie.getMatroskaCodedNum(),B+=ie.getPos(),se=ie.getPos();ie.moreData()&&!ie.consumeTagAndSize(b.Segment.Info,!0);)if(!(ie.skipOverElement(b.Segment.SeekHead,!0)||ie.skipOverElement(b.Segment.Tracks,!0)||ie.skipOverElement(b.Segment.Cues,!0)||ie.skipOverElement(b.Void,!0)))throw new Error("no valid top level element found");for(;void 0===G;){var we=ie.getMatroskaCodedNum(!0),Me=ie.getMatroskaCodedNum();we===b.Segment.Info.Duration.tag?G=ie[b.Segment.Info.Duration.parse](Me):ie.setPos(ie.getPos()+Me)}ce=V(z),U.load({request:ce,success:function(Xe){L=function(Be,Ue,He,Nt){var dt,wt,pn,Le,it;for(wt=[],Le=0,it=(dt=function(Ye){var nt,st,Vt=[],kt=ho(K).create({data:Ye});for(kt.consumeTagAndSize(b.Segment.Cues);kt.moreData()&&kt.consumeTagAndSize(b.Segment.Cues.CuePoint,!0);){for((nt={}).CueTime=kt.parseTag(b.Segment.Cues.CuePoint.CueTime),nt.CueTracks=[];kt.moreData()&&kt.consumeTag(b.Segment.Cues.CuePoint.CueTrackPositions,!0);){var mn=kt.getMatroskaCodedNum(),bt=kt.getPos();if((st={}).Track=kt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===st.Track)throw new Error("Cue track cannot be 0");st.ClusterPosition=kt.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),nt.CueTracks.push(st),kt.setPos(bt+mn)}if(0===nt.CueTracks.length)throw new Error("Mandatory cuetrack not found");Vt.push(nt)}if(0===Vt.length)throw new Error("mandatory cuepoint not found");return Vt}(Be)).length;Le<it;Le+=1)(pn=new Na.Z).duration=Le<dt.length-1?dt[Le+1].CueTime-dt[Le].CueTime:Nt-dt[Le].CueTime,pn.startTime=dt[Le].CueTime,pn.timescale=1e3,pn.mediaRange=dt[Le].CueTracks[0].ClusterPosition+Ue+"-"+(Le<dt.length-1?dt[Le+1].CueTracks[0].ClusterPosition+Ue-1:He-1),wt.push(pn);return p.debug("Parsed cues: "+wt.length+" cues."),wt}(Xe,se,B,G),q(L)},error:function(){p.error("Download Error: Cues "+z.url),q(null)}}),p.debug("Perform cues load: "+z.url+" bytes="+z.range.start+"-"+z.range.end)}else q(null)}(be,te,Ie,function(le){me({segments:le,representation:ne,error:le?void 0:new X.Z(J.SEGMENT_BASE_LOADER_ERROR_CODE,J.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){me({representation:ne,error:new X.Z(J.SEGMENT_BASE_LOADER_ERROR_CODE,J.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){U&&(U.abort(),U=null)}},b={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},_}ro.__dashjs_factory_name="WebmSegmentBaseLoader";var Vd=S.Z.getSingletonFactory(ro);function Xs(_){var p,b,M,F=this.context,P=(_=_||{}).eventBus,C=_.events,U=_.dashMetrics,J=_.mediaPlayerModel,re=_.errHandler,K=_.baseURLController,V=_.debug,ne=_.boxParser,ee=_.requestModifier,Ie=_.errors;function me(Te){return"webm"===(Te?Te.split("/")[1]:"").toLowerCase()}return p={initialize:function(){b.initialize(),M.initialize()},getSegmentBaseInitSegment:function(Te){return me(Te.representation.mimeType)?M.loadInitialization(Te.representation,Te.mediaType):b.loadInitialization(Te.representation,Te.mediaType)},getSegmentList:function(Te){return me(Te.mimeType)?M.loadSegments(Te.representation,Te.mediaType,Te.representation?Te.representation.indexRange:null):b.loadSegments(Te.representation,Te.mediaType,Te.representation?Te.representation.indexRange:null)},reset:function(){b.reset(),M.reset()}},b=Yi(F).getInstance(),M=Vd(F).getInstance(),b.setConfig({baseURLController:K,dashMetrics:U,mediaPlayerModel:J,errHandler:re,eventBus:P,events:C,errors:Ie,debug:V,boxParser:ne,requestModifier:ee}),M.setConfig({baseURLController:K,dashMetrics:U,mediaPlayerModel:J,errHandler:re,eventBus:P,events:C,errors:Ie,debug:V,requestModifier:ee}),p}Xs.__dashjs_factory_name="SegmentBaseController";var eu=S.Z.getSingletonFactory(Xs),jo=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},Yl=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},Wh=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},y_=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null};var b_=function(){function _(M){var F=this;(function(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_),this.valid="/"==M[0],this.path=M.split("/").filter(function(P){return 0!==P.length}).map(function(P){var C={name:P},U=P.indexOf("[");if(-1!=U){C.name=P.substring(0,U);var J=P.substring(U+1,P.length-1);F.valid=F.valid&&-1==J.indexOf("[");var re=J.indexOf("=");-1!=re?(C.attribute={name:J.substring(1,re),value:J.substring(re+1)},-1!=["'",'"'].indexOf(C.attribute.value[0])&&(C.attribute.value=C.attribute.value.substring(1,C.attribute.value.length-1))):C.position=parseInt(J,10)-1}return C})}var b;return(b=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"findsTextReplace",value:function(){return"text()"===this.path[this.path.length-1].name}},{key:"getMpdTarget",value:function(M,F){for(var P=null,C=M,U=1,J="MPD";U<this.path.length&&null!==C;){P=C;var re=this.path[U];if(J=re.name,U!==this.path.length-1||!J.startsWith("@")&&"text()"!==J){var K=P[J+"_asArray"]||[];0===K.length&&P[J]&&K.push(P[J]),re.position?C=K[re.position]||null:re.attribute?function(){var V=re.attribute;C=K.filter(function(ne){return ne[V.name]==V.value})[0]||null}():C=K[0]||null}U++}return null===C?null:J.startsWith("@")?{name:J.substring(1),leaf:C,target:C}:"text()"===J?{name:"__text",leaf:C,target:C}:{name:J,leaf:C,target:F?P:C}}}])&&function N0(_,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}(_.prototype,b),_}();var O0=function(){function _(M,F,P){(function(C,U){if(!(C instanceof U))throw new TypeError("Cannot call a class as a function")})(this,_),this.action=M,this.xpath=F,this.value=P,this.position=null}var b;return(b=[{key:"getMpdTarget",value:function(M){return this.xpath.getMpdTarget(M,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}])&&function E_(_,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}(_.prototype,b),_}();function T_(){var _,p;return _={getIsPatch:function(M){return M&&M.hasOwnProperty(d.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(M){return M&&M.hasOwnProperty(d.Z.PUBLISH_TIME)?new Date(M[d.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(M){return M&&M.hasOwnProperty(d.Z.ORIGINAL_PUBLISH_TIME)?new Date(M[d.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(M){return M&&M[d.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(M){return M?(M.__children||[]).map(function(F){var P=Object.keys(F)[0];if("add"!==P&&"remove"!==P&&"replace"!==P)return p.warn("Ignoring node of invalid action: ".concat(P)),null;var C=F[P],U=C.sel;if("add"===P&&C.type){if(!C.type.startsWith("@"))return p.warn("Ignoring add action for prefixed namespace declaration: ".concat(C.type,"=").concat(C.__text)),null;U="".concat(U,"/").concat(C.type)}var J=new b_(U);if(!J.isValid())return p.warn("Ignoring action with invalid selector: ".concat(P," - ").concat(U)),null;var re=null;J.findsAttribute()||J.findsTextReplace()?re=C.__text||"":"remove"!==P&&(re=C.__children.reduce(function(V,ne){var ee=Object.keys(ne)[0];return"#text"!==ee&&(V[ee]=V[ee]||[],V[ee].push(ne[ee])),V},{}));var K=new O0(P,J,re);return"add"===P&&(K.position=C.pos),K}).filter(function(F){return!!F}):[]}},p=(0,D.Z)(this.context).getInstance().getLogger(_),_}T_.__dashjs_factory_name="PatchManifestModel";var P0=S.Z.getSingletonFactory(T_);function w_(){var _,p,b,M,F,P,C,U=this.context;function J(G,L,B){var ie=p.getAdaptationsForType(M[0].mpd.manifest,G,L);if(!ie||0===ie.length)return null;if(ie.length>1&&B){var he=V(B,L);if(F[B.id]&&F[B.id][L])for(var ce=0,z=ie.length;ce<z;ce++)if(re(F[B.id][L],he[ce]))return ie[ce];for(var we=0,Me=ie.length;we<Me;we++)if(p.getRolesForAdaptation(ie[we]).filter(function(Xe){return Xe.value===d.Z.MAIN})[0])return ie[we]}return ie[0]}function re(G,L){if(!G||!L)return!1;var B=G.id===L.id,se=G.codec===L.codec,ie=G.viewpoint===L.viewpoint,he=JSON.stringify(G.viewpointsWithSchemeIdUri)===JSON.stringify(L.viewpointsWithSchemeIdUri),ce=G.lang===L.lang,z=G.roles.toString()===L.roles.toString(),we=JSON.stringify(G.rolesWithSchemeIdUri)===JSON.stringify(L.rolesWithSchemeIdUri),Me=G.accessibility.toString()===L.accessibility.toString(),Xe=JSON.stringify(G.accessibilitiesWithSchemeIdUri)===JSON.stringify(L.accessibilitiesWithSchemeIdUri),Be=G.audioChannelConfiguration.toString()===L.audioChannelConfiguration.toString(),Ue=JSON.stringify(G.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(L.audioChannelConfigurationsWithSchemeIdUri);return B&&se&&ie&&he&&ce&&z&&we&&Me&&Xe&&Be&&Ue}function K(G,L,B,se,ie,he){var z,we,Me,Xe,Be,Ue=[];if(!se||0===se.length)return[];var He=p.getAdaptationsForPeriod(L);for(Me=0,Be=se.length;Me<Be;Me++)if(z=te(He[we=p.getIndexForAdaptation(se[Me],G,B.index)]),he){var Nt=z.accessibility.length;for(Xe=0;Xe<Nt;Xe++)if(z){var Ot=z.accessibility[Xe];if(0===Ot.indexOf("cea-608:")){var dt=Ot.substring(8).split(";");if("CC"===dt[0].substring(0,2))for(Xe=0;Xe<dt.length;Xe++)z||(z=te.call(this,He[we])),be(z,dt[Xe].substring(0,3),dt[Xe].substring(4)),Ue.push(z),z=null;else for(Xe=0;Xe<dt.length;Xe++)z||(z=te.call(this,He[we])),be(z,"CC"+(Xe+1),dt[Xe]),Ue.push(z),z=null}else 0===Ot.indexOf("cea-608")&&(be(z,P.CC1,"eng"),Ue.push(z),z=null)}}else ie===P.IMAGE?(z.type=P.IMAGE,Ue.push(z),z=null):z&&Ue.push(z);return Ue}function V(G,L,B){var se=M,ie=B,he=[];if(ie)ye(),se=ne(ie);else{if(!(M.length>0))return he;ie=M[0].mpd.manifest}var ce=Se(G,se),z=p.getAdaptationsForType(ie,G?G.index:null,L);return he=K(ie,ce,G,z,L),L===P.TEXT&&(z=p.getAdaptationsForType(ie,G?G.index:null,P.VIDEO),he=he.concat(K(ie,ce,G,z,L,!0))),he}function ne(G){var L=ee(G);return p.getRegularPeriods(L)}function ee(G){var L=me(G);return p.getMpd(L)}function Ie(){M=[],F={}}function me(G){return G||(M.length>0?M[0].mpd.manifest:null)}function Te(G){try{var L=Se(G.streamInfo,M),B=p.getAdaptationsForPeriod(L);return G&&G.streamInfo&&void 0!==G.streamInfo.id&&B?B[G.index]:null}catch{return null}}function Se(G,L){for(var B=L.length,se=0;se<B;se++){var ie=L[se];if(G&&G.id===ie.id)return ie}return null}function te(G){if(!G)return null;var L,B,se,ie,he,ce=new Yl,z=G.period.mpd.manifest.Period_asArray[G.period.index].AdaptationSet_asArray[G.index];if(ce.id=G.id,ce.index=G.index,ce.type=G.type,ce.streamInfo=le(G.period),ce.representationCount=p.getRepresentationCount(z),ce.labels=p.getLabelsForAdaptation(z),ce.lang=p.getLanguageForAdaptation(z),ce.segmentAlignment=p.getSegmentAlignment(z),ce.subSegmentAlignment=p.getSubSegmentAlignment(z),L=p.getViewpointForAdaptation(z),ce.viewpoint=L.length?L[0].value:void 0,ce.viewpointsWithSchemeIdUri=L,he=p.getAccessibilityForAdaptation(z),ce.accessibility=he.map(function(Ue){var He=Ue.value,Nt=He;return Ue.schemeIdUri&&Ue.schemeIdUri.search("cea-608")>=0&&void 0!==C&&(Nt=He?"cea-608:"+He:"cea-608",ce.embeddedCaptions=!0),Nt}),ce.accessibilitiesWithSchemeIdUri=he,B=p.getAudioChannelConfigurationForAdaptation(z),ce.audioChannelConfiguration=B.map(function(Ue){return Ue.value}),ce.audioChannelConfigurationsWithSchemeIdUri=B,0===ce.audioChannelConfiguration.length&&Array.isArray(z.Representation_asArray)&&z.Representation_asArray.length>0&&(se=p.getAudioChannelConfigurationForRepresentation(z.Representation_asArray[0]),ce.audioChannelConfiguration=se.map(function(Ue){return Ue.value}),ce.audioChannelConfigurationsWithSchemeIdUri=se),ie=p.getRolesForAdaptation(z),ce.roles=ie.map(function(Ue){return Ue.value}),ce.rolesWithSchemeIdUri=ie,ce.codec=p.getCodec(z),ce.mimeType=p.getMimeType(z),ce.contentProtection=p.getContentProtectionData(z),ce.bitrateList=p.getBitrateListForAdaptation(z),ce.selectionPriority=p.getSelectionPriority(z),ce.contentProtection){var we=ce.contentProtection.map(function(Ue){return p.getKID(Ue)}).filter(function(Ue){return null!==Ue});if(we.length){var Me=we[0];ce.contentProtection.forEach(function(Ue){Ue.keyId=Me})}}if(ce.isText=p.getIsText(z),ce.supplementalProperties=p.getSupplementalPropertiesForAdaptation(z),(!ce.supplementalProperties||0===Object.keys(ce.supplementalProperties).length)&&Array.isArray(z.Representation_asArray)&&z.Representation_asArray.length>0){var Xe=z.Representation_asArray.map(function(Ue){return p.getSupplementalPropertiesForRepresentation(Ue)});Xe.every(function(Ue){return JSON.stringify(Ue)===JSON.stringify(Xe[0])})&&(ce.supplementalProperties=Xe[0])}if(ce.supplementalPropertiesAsArray=p.getSupplementalPropertiesAsArrayForAdaptation(z),(!ce.supplementalPropertiesAsArray||0===ce.supplementalPropertiesAsArray.length)&&Array.isArray(z.Representation_asArray)&&z.Representation_asArray.length>0){var Be=z.Representation_asArray.map(function(Ue){return p.getSupplementalPropertiesAsArrayForRepresentation(Ue)});Be.every(function(Ue){return JSON.stringify(Ue)===JSON.stringify(Be[0])})&&(ce.supplementalPropertiesAsArray=Be[0])}return ce.isFragmented=p.getIsFragmented(z),ce.isEmbedded=!1,ce}function be(G,L,B){G.id=L,G.index=100+parseInt(L.substring(2,3)),G.type=P.TEXT,G.codec="cea-608-in-SEI",G.isEmbedded=!0,G.isFragmented=!1,G.lang=Vl()(B),G.roles=["caption"],G.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function le(G){var L,B,se=new Wh;return se.id=G.id,se.index=G.index,se.start=G.start,se.duration=G.duration,se.manifestInfo=(L=G.mpd,(B=new y_).dvrWindowSize=L.timeShiftBufferDepth,B.loadedTime=L.manifest.loadedTime,B.availableFrom=L.availabilityStartTime,B.minBufferTime=L.manifest.minBufferTime,B.maxFragmentDuration=L.maxSegmentDuration,B.duration=p.getDuration(L.manifest),B.isDynamic=p.getIsDynamic(L.manifest),B.serviceDescriptions=p.getServiceDescriptions(L.manifest),B.protocol=L.manifest.protocol,B),se.isLast=1===G.mpd.manifest.Period_asArray.length||Math.abs(se.start+se.duration-se.manifestInfo.duration)<1,se}function ye(){if(!P)throw new Error("setConfig function has to be called previously")}function w(G){return M.length>0?M[0].mpd.manifest.Period_asArray[G]:null}function q(G,L,B){var se,ie,he,ce,z;if(G)for(se=G.AdaptationSet_asArray,ce=0;ce<se.length;ce+=1)for(he=se[ce].Representation_asArray,z=0;z<he.length;z+=1)if(L===(ie=he[z]).id)return B?z:ie;return null}return _={getBandwidthForRepresentation:function(G,L){var B;return(B=q(w(L),G))?B.bandwidth:null},getIndexForRepresentation:function(G,L){return null!==(ie=q(w(L),G,!0))?ie:-1;var ie},getMaxIndexForBufferType:function(G,L){return function(B,se){var ie,he,ce,z;if(!B||!se)return-1;for(he=B.AdaptationSet_asArray,z=0;z<he.length;z+=1)if(ce=(ie=he[z]).Representation_asArray,p.getIsTypeOf(ie,se))return ce.length;return-1}(w(L),G)},convertRepresentationToRepresentationInfo:function(G){if(G){var L=new jo,se=p.getRepresentationFor(G.index,G.adaptation.period.mpd.manifest.Period_asArray[G.adaptation.period.index].AdaptationSet_asArray[G.adaptation.index]);return L.id=G.id,L.quality=G.index,L.bandwidth=p.getBandwidth(se),L.fragmentDuration=G.segmentDuration||(G.segments&&G.segments.length>0?G.segments[0].duration:NaN),L.MSETimeOffset=G.MSETimeOffset,L.mediaInfo=te(G.adaptation),L}return null},getStreamsInfo:function(G,L){var B=[],se=M;if(G&&(ye(),se=ne(G)),se.length>0){(!L||L>se.length)&&(L=se.length);for(var ie=0;ie<L;ie++)B.push(le(se[ie]))}return B},getMediaInfoForType:function(G,L){if(0===M.length||!G)return null;var B=Se(G,M);if(!B)return null;var se=p.getAdaptationsForPeriod(B),ie=J(G.index,L,G);return ie?te(se[p.getIndexForAdaptation(ie,M[0].mpd.manifest,G.index)]):null},getAllMediaInfoForType:V,getAdaptationForType:J,getRealAdaptation:function(G,L){var B,se,ie=Se(G,M);return B=L?L.id:null,M.length>0&&ie&&(se=B?p.getAdaptationForId(B,M[0].mpd.manifest,ie.index):p.getAdaptationForIndex(L?L.index:null,M[0].mpd.manifest,ie.index)),se},getProducerReferenceTimes:function(G,L){var B,se,ie=Se(G,M);return B=L?L.id:null,M.length>0&&ie&&(se=B?p.getAdaptationForId(B,M[0].mpd.manifest,ie.index):p.getAdaptationForIndex(L?L.index:null,M[0].mpd.manifest,ie.index)),se?p.getProducerReferenceTimesForAdaptation(se):[]},getRealPeriodByIndex:function(G){return p.getRealPeriodForIndex(G,M[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(G){try{return p.getEssentialPropertiesForRepresentation(G)}catch{return[]}},getVoRepresentations:function(G){var L=Te(G);return p.getRepresentationsForAdaptation(L)},getEventsFor:function(G,L,B){var se=[];if(M.length>0){var ie=M[0].mpd.manifest;if(G instanceof Wh){var he=Se(G,M);se=p.getEventsForPeriod(he)}else if(G instanceof Yl){var ce=Se(B,M);se=p.getEventStreamForAdaptationSet(ie,Te(G),ce)}else if(G instanceof jo){var z=Se(B,M);se=p.getEventStreamForRepresentation(ie,L,z)}}return se},getEvent:function(G,L,B,se){try{if(!G||!L||isNaN(B)||!se)return null;var ie=G.scheme_id_uri,he=G.value;if(!L[ie+"/"+he])return null;var ce,z=new Zi,we=G.timescale||1,Me=se.adaptation.period.start,Xe=L[ie+"/"+he],Be=isNaN(se.presentationTimeOffset)?isNaN(Xe.presentationTimeOffset)?0:Xe.presentationTimeOffset:se.presentationTimeOffset,Ue=G.presentation_time_delta/we;ce=0===G.version?Me+B-Be+Ue:Me-Be+Ue;var He=G.event_duration/we,Nt=G.id,Ot=G.message_data;return z.eventStream=Xe,z.eventStream.value=he,z.eventStream.timescale=we,z.duration=He,z.id=Nt,z.calculatedPresentationTime=ce,z.messageData=Ot,z.presentationTimeDelta=Ue,z}catch{return null}},getMpd:ee,setConfig:function(G){G&&(G.constants&&(P=G.constants),G.cea608parser&&(C=G.cea608parser),G.errHandler&&p.setConfig({errHandler:G.errHandler}),G.BASE64&&p.setConfig({BASE64:G.BASE64}))},updatePeriods:function(G){if(!G)return null;ye(),M=ne(G)},getIsTextTrack:function(G){return p.getIsText(G)},getUTCTimingSources:function(){var G=me();return p.getUTCTimingSources(G)},getSuggestedPresentationDelay:function(){return p.getSuggestedPresentationDelay(M.length>0?M[0].mpd:null)},getAvailabilityStartTime:function(G){var L=ee(G);return p.getAvailabilityStartTime(L)},getIsTypeOf:function(G,L){return p.getIsTypeOf(G,L)},getIsDynamic:function(G){var L=me(G);return p.getIsDynamic(L)},getDuration:function(G){var L=me(G);return p.getDuration(L)},getRegularPeriods:ne,getContentSteering:function(G){return p.getContentSteering(G)},getLocation:function(G){return p.getLocation(G)},getPatchLocation:function(G){var L=p.getPatchLocation(G),B=p.getPublishTime(G);return L&&0!==L.length&&B?L.filter(function(se){return isNaN(se.ttl)||B.getTime()+se.ttl>(new Date).getTime()}):[]},getManifestUpdatePeriod:function(G){return p.getManifestUpdatePeriod(G,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function(G){return p.getPublishTime(G)},getIsDVB:function(G){return p.hasProfile(G,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(G){return b.getIsPatch(G)},getBaseURLsFromElement:function(G){return p.getBaseURLsFromElement(G)},getRepresentationSortFunction:function(){return p.getRepresentationSortFunction()},getCodec:function(G,L,B){return p.getCodec(G,L,B)},getPeriodById:function(G){if(!G||0===M.length)return null;var L=M.filter(function(B){return B.id===G});return L&&L.length>0?L[0]:null},setCurrentMediaInfo:function(G,L,B){F[G]=F[G]||{},F[G][L]=F[G][L]||{},F[G][L]=B},isPatchValid:function(G,L){var B=p.getId(G),se=b.getMpdId(L),ie=p.getPublishTime(G),he=b.getPublishTime(L),ce=b.getOriginalPublishTime(L);return!!(B&&se&&B==se&&ie&&ce&&ie.getTime()==ce.getTime()&&he&&ie.getTime()<he.getTime())},applyPatchToManifest:function(G,L){b.getPatchOperations(L).forEach(function(B){var se=B.getMpdTarget(G);if(null!==se){var ie=se.name,he=se.target,ce=se.leaf;if(B.xpath.findsAttribute()||"__text"===ie)switch(B.action){case"add":case"replace":he[ie]=B.value;break;case"remove":delete he[ie]}else{var z=(he[ie+"_asArray"]||[]).indexOf(ce),we="prepend"===B.position||"before"===B.position;if(("remove"===B.action||"replace"===B.action)&&(delete he[ie],-1!=z)){var Me=he[ie+"_asArray"];Me.splice(z,1),Me.length>1?he[ie]=Me:1==Me.length?he[ie]=Me[0]:delete he[ie+"_asArray"]}"add"!==B.action&&"replace"!==B.action||Object.keys(B.value).forEach(function(Xe){var Be=B.value[Xe],Ue=he[Xe+"_asArray"]||[];0===Ue.length&&he[Xe]&&Ue.push(he[Xe]),0===Ue.length?Ue=Be:Ue.splice.apply(Ue,[Xe==ie&&-1!=z?z+(we?0:1)+("replace"==B.action?-1:0):we?0:Ue.length,0].concat(Be)),he[Xe+"_asArray"]=Ue,he[Xe]=1==Ue.length?Ue[0]:Ue})}}})},areMediaInfosEqual:re,reset:Ie},p=Un(U).getInstance(),b=P0(U).getInstance(),Ie(),_}w_.__dashjs_factory_name="DashAdapter";var k0=S.Z.getSingletonFactory(w_);var L0=function(){function _(){!function(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")}(this,_)}var b;return(b=[{key:"round10",value:function(M,F){return P="round",C=M,void 0===(U=F)||0==+U?Math[P](C):(U=+U,null===(C=+C)||isNaN(C)||"number"!=typeof U||U%1!=0?NaN:(C=C.toString().split("e"),+((C=(C=Math[P](+(C[0]+"e"+(C[1]?+C[1]-U:-U)))).toString().split("e"))[0]+"e"+(C[1]?+C[1]+U:U))));var P,C,U}}])&&function F0(_,p){for(var b=0;b<p.length;b++){var M=p[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}(_,b),_}(),B0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},U0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.t=null,this.mt=null,this.to=null,this.lto=null},V0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.t=null,this.level=null},j0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.target=null,this.state=I.Z.BUFFER_EMPTY},H0=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.time=null,this.range=null,this.manifestInfo=null},Kh=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.time=null,this.droppedFrames=null};function tu(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var Z0=function _(){tu(this,_),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},z0=function _(){tu(this,_),this.id=null,this.index=null,this.start=null,this.duration=null},G0=function _(){tu(this,_),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},Oa=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},Qs=function _(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,_),this.loadingRequests=[],this.executedRequests=[]};function S_(_){var p,b,M=(_=_||{}).settings,P=(0,A.Z)(this.context).getInstance();function C(){P.trigger(v.Z.METRICS_CHANGED)}function U(ee){P.trigger(v.Z.METRIC_CHANGED,{mediaType:ee}),C()}function J(ee,Ie,me){P.trigger(v.Z.METRIC_UPDATED,{mediaType:ee,metric:Ie,value:me}),U(ee)}function re(ee,Ie,me){P.trigger(v.Z.METRIC_ADDED,{mediaType:ee,metric:Ie,value:me}),U(ee)}function K(ee,Ie){var me=null;return ee&&(b.hasOwnProperty(ee)?me=b[ee]:Ie||(me=new B0,b[ee]=me)),me}function V(ee,Ie,me){var Te=K(ee);null!==Te&&(Te[Ie].push(me),Te[Ie].length>M.get().streaming.metrics.maxListDepth&&Te[Ie].shift())}function ne(ee,Ie,me){V(ee,Ie,me),re(ee,Ie,me)}return p={clearCurrentMetricsForType:function(ee){delete b[ee],U(ee)},clearAllCurrentMetrics:function(){b={},C()},getMetricsFor:K,addHttpRequest:function ee(Ie,me,Te,Se,te,be,le,ye,w,q,G,L,B,se,ie,he,ce){var z=new ut.w;be&&be!==Se&&(ee(Ie,null,Te,Se,te,null,null,ye,w,null,null,null,B,null,null,he,ce),z.actualurl=be),z.tcpid=me,z.type=Te,z.url=Se,z.range=ye,z.trequest=w,z.tresponse=q,z.responsecode=L,z.cmsd=ce,z._tfinish=G,z._stream=Ie,z._mediaduration=B,z._quality=te,z._responseHeaders=se,z._serviceLocation=le,z._fileLoaderType=he,ie?ie.forEach(function(we){var Me,Xe,Be,Ue,He;Me=z,Xe=we.s,Be=we.d,Ue=we.b,(He=new ut.O).s=Xe,He.d=Be,He.b=Ue,Me.trace.push(He),Me.interval||(Me.interval=0),Me.interval+=Be}):(delete z.interval,delete z.trace),ne(Ie,I.Z.HTTP_REQUEST,z)},addRepresentationSwitch:function(ee,Ie,me,Te,Se){var te=new U0;te.t=Ie,te.mt=me,te.to=Te,Se?te.lto=Se:delete te.lto,ne(ee,I.Z.TRACK_SWITCH,te)},addBufferLevel:function(ee,Ie,me){var Te=new V0;Te.t=Ie,Te.level=me,ne(ee,I.Z.BUFFER_LEVEL,Te)},addBufferState:function(ee,Ie,me){var Te=new j0;Te.target=me,Te.state=Ie,ne(ee,I.Z.BUFFER_STATE,Te)},addDVRInfo:function(ee,Ie,me,Te){var Se=new H0;Se.time=Ie,Se.range=Te,Se.manifestInfo=me,ne(ee,I.Z.DVR_INFO,Se)},addDroppedFrames:function(ee,Ie){var me=new Kh,Te=K(ee).DroppedFrames;Ie&&(me.time=Ie.creationTime,me.droppedFrames=Ie.droppedVideoFrames,Te.length>0&&Te[Te.length-1]==me||ne(ee,I.Z.DROPPED_FRAMES,me))},addSchedulingInfo:function(ee,Ie,me,Te,Se,te,be,le,ye){var w=new Oa;w.mediaType=ee,w.t=Ie,w.type=me,w.startTime=Te,w.availabilityStartTime=Se,w.duration=te,w.quality=be,w.range=le,w.state=ye,ne(ee,I.Z.SCHEDULING_INFO,w)},addRequestsQueue:function(ee,Ie,me){var Te=new Qs;Te.loadingRequests=Ie,Te.executedRequests=me,K(ee).RequestsQueue=Te,re(ee,I.Z.REQUESTS_QUEUE,Te)},addManifestUpdate:function(ee,Ie,me,Te,Se,te,be,le,ye,w){var q=new Z0;q.mediaType=ee,q.type=Ie,q.requestTime=me,q.fetchTime=Te,q.availabilityStartTime=Se,q.presentationStartTime=te,q.clientTimeOffset=be,q.currentTime=le,q.buffered=ye,q.latency=w,V(f.Z.STREAM,I.Z.MANIFEST_UPDATE,q),re(ee,I.Z.MANIFEST_UPDATE,q)},updateManifestUpdateInfo:function(ee,Ie){if(ee){for(var me in Ie)ee[me]=Ie[me];J(ee.mediaType,I.Z.MANIFEST_UPDATE,ee)}},addManifestUpdateStreamInfo:function(ee,Ie,me,Te,Se){if(ee){var te=new z0;te.id=Ie,te.index=me,te.start=Te,te.duration=Se,ee.streamInfo.push(te),J(ee.mediaType,I.Z.MANIFEST_UPDATE_STREAM_INFO,ee)}},addManifestUpdateRepresentationInfo:function(ee,Ie,me,Te,Se,te,be,le){if(ee&&ee.representationInfo){var ye=new G0;ye.id=Ie,ye.index=me,ye.streamIndex=Te,ye.mediaType=Se,ye.startNumber=be,ye.fragmentInfoType=le,ye.presentationTimeOffset=te,ee.representationInfo.push(ye),J(ee.mediaType,I.Z.MANIFEST_UPDATE_TRACK_INFO,ee)}},addPlayList:function(ee){ee.trace&&Array.isArray(ee.trace)?ee.trace.forEach(function(Ie){Ie.hasOwnProperty("subreplevel")&&!Ie.subreplevel&&delete Ie.subreplevel}):delete ee.trace,ne(f.Z.STREAM,I.Z.PLAY_LIST,ee)},addDVBErrors:function(ee){ne(f.Z.STREAM,I.Z.DVB_ERRORS,ee)}},b={},p}S_.__dashjs_factory_name="MetricsModel";var Xh=S.Z.getSingletonFactory(S_);function Fi(_){var p,b,M,F,C=(_=_||{}).metricsModel;function U(K){var V=C.getMetricsFor(K,!0);if(!V)return null;var ne,ee=V.HttpList,Ie=null;if(!ee||ee.length<=0)return null;for(ne=ee.length-1;ne>=0;){if(ee[ne].responsecode){Ie=ee[ne];break}ne--}return Ie}function J(K){var V=C.getMetricsFor(K,!0);return V&&V.HttpList?V.HttpList:[]}function re(K,V){if(!K)return null;var ne=K[V];return ne&&0!==ne.length?ne[ne.length-1]:null}return p={getCurrentRepresentationSwitch:function(K){return re(C.getMetricsFor(K,!0),I.Z.TRACK_SWITCH)},getCurrentBufferState:function(K){return re(C.getMetricsFor(K,!0),I.Z.BUFFER_STATE)},getCurrentBufferLevel:function(K){var V=re(C.getMetricsFor(K,!0),I.Z.BUFFER_LEVEL);return V?L0.round10(V.level/1e3,-3):0},getCurrentHttpRequest:U,getHttpRequests:J,getCurrentDroppedFrames:function(){return re(C.getMetricsFor(f.Z.VIDEO,!0),I.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(K){return re(C.getMetricsFor(K,!0),I.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(K){return re(K?C.getMetricsFor(K,!0):C.getMetricsFor(f.Z.VIDEO,!0)||C.getMetricsFor(f.Z.AUDIO,!0),I.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return re(C.getMetricsFor(f.Z.STREAM),I.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(K,V){if(!V)return null;var ne={},ee=U(K);ee&&(ne=nr.Z.parseHttpHeaders(ee._responseHeaders));var Ie=ne[V.toLowerCase()];return void 0===Ie?null:Ie},getLatestMPDRequestHeaderValueByID:function(K){if(!K)return null;var V,ne,ee,Ie={};for(ee=(V=J(f.Z.STREAM)).length-1;ee>=0;ee--)if((ne=V[ee]).type===ut.w.MPD_TYPE){Ie=nr.Z.parseHttpHeaders(ne._responseHeaders);break}var me=Ie[K.toLowerCase()];return void 0===me?null:me},addRepresentationSwitch:function(K,V,ne,ee,Ie){C.addRepresentationSwitch(K,V,ne,ee,Ie)},addDVRInfo:function(K,V,ne,ee){C.addDVRInfo(K,V,ne,ee)},updateManifestUpdateInfo:function(K){var V=this.getCurrentManifestUpdate();C.updateManifestUpdateInfo(V,K)},addManifestUpdateStreamInfo:function(K){if(K){var V=this.getCurrentManifestUpdate();C.addManifestUpdateStreamInfo(V,K.id,K.index,K.start,K.duration)}},addManifestUpdateRepresentationInfo:function(K,V){if(K){var ne=this.getCurrentManifestUpdate();C.addManifestUpdateRepresentationInfo(ne,K.id,K.index,K.streamIndex,V,K.presentationTimeOffset,K.startNumber,K.fragmentInfoType)}},addManifestUpdate:function(K){C.addManifestUpdate(f.Z.STREAM,K.type,K.requestStartDate,K.requestEndDate)},addHttpRequest:function(K,V,ne,ee,Ie,me){C.addHttpRequest(K.mediaType,null,K.type,K.url,K.quality,V,K.serviceLocation||null,K.range||null,K.requestStartDate,K.firstByteDate,K.requestEndDate,ne,K.duration,ee,Ie,K.fileLoaderType,me)},addSchedulingInfo:function(K,V){C.addSchedulingInfo(K.mediaType,new Date,K.type,K.startTime,K.availabilityStartTime,K.duration,K.quality,K.range,V)},addRequestsQueue:function(K,V,ne){C.addRequestsQueue(K,V,ne)},addBufferLevel:function(K,V,ne){C.addBufferLevel(K,V,ne)},addBufferState:function(K,V,ne){C.addBufferState(K,V,ne)},addDroppedFrames:function(K){C.addDroppedFrames(f.Z.VIDEO,K)},addPlayList:function(){F&&(C.addPlayList(F),F=null)},addDVBErrors:function(K){C.addDVBErrors(K)},createPlaylistMetrics:function(K,V){(F=new Fe).start=new Date,F.mstart=K,F.starttype=V},createPlaylistTraceMetrics:function(K,V,ne){!0===b&&(b=!1,(M=new qe).representationid=K,M.start=new Date,M.mstart=V,M.playbackspeed=null!==ne?ne.toString():null)},updatePlayListTraceMetrics:function(K){if(M)for(var V in M)M[V]=K[V]},pushPlayListTraceMetrics:function(K,V){if(!1===b&&F&&M&&M.start){var ne=M.start,ee=K.getTime()-ne.getTime();M.duration=ee,M.stopreason=V,F.trace.push(M),b=!0}},clearAllCurrentMetrics:function(){C.clearAllCurrentMetrics()}},C=C||Xh(this.context).getInstance({settings:_.settings}),b=!0,M=null,F=null,p}Fi.__dashjs_factory_name="DashMetrics";var nu=S.Z.getSingletonFactory(Fi);function Io(){var _,p,b,M,F=this.context,P=(0,A.Z)(F).getInstance(),C=(0,Ge.Z)(F).getInstance();function U(Se){M=Se}function J(Se,te,be,le){var ye,w=te.adaptation.period.mpd,q=w.availabilityStartTime;if(le)ye=be&&w.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(q.getTime()+1e3*(Se+w.timeShiftBufferDepth)):w.availabilityEndTime;else if(be){var G=te.availabilityTimeOffset;ye=new Date(q.getTime()+1e3*(Se-G))}else ye=q;return ye}function re(Se,te){return(Se.getTime()-te.mpd.availabilityStartTime.getTime()+1e3*M)/1e3}function K(Se,te){return Se+(te.adaptation.period.start-te.presentationTimeOffset)}function V(Se){var te={start:NaN,end:NaN},be=Se[0].getAdapter().getRegularPeriods()[0],le=re(new Date,be);if(!Se||0===Se.length)return{range:te,now:le};Se.forEach(function(w){var q=w.getAdapter(),G=q.getMediaInfoForType(w.getStreamInfo(),f.Z.VIDEO)||q.getMediaInfoForType(w.getStreamInfo(),f.Z.AUDIO),L=q.getVoRepresentations(G)[0],B={start:NaN,end:NaN};if(L)if(L.segmentInfoType===d.Z.SEGMENT_TIMELINE)B=function(ie){var he,ce,z,we,Xe=p.getRepresentationFor(ie.index,ie.adaptation.period.mpd.manifest.Period_asArray[ie.adaptation.period.index].AdaptationSet_asArray[ie.adaptation.index]),Be=Xe.SegmentTemplate||Xe.SegmentList,He=Be.timescale,Nt=Be.SegmentTimeline.S_asArray,Ot={start:0,end:0},dt=Nt[0].t,wt=!isNaN(dt),pn=wt?dt:0,Le=0;for(wt&&(Ot.start=K(pn/He,ie)),z=0,we=Nt.length;z<we;z++)ce=0,(he=Nt[z]).hasOwnProperty("r")&&(ce=he.r),Le+=he.d*(1+ce);return Ot.end=K((pn+Le)/He,ie),Ot}(L);else{var se=L.adaptation.period;B.start=se.start,B.end=Math.max(le,se.start+se.duration)}!isNaN(B.start)&&(isNaN(te.start)||te.start>B.start)&&(te.start=B.start),!isNaN(B.end)&&(isNaN(te.end)||te.end<B.end)&&(te.end=B.end)}),te.end=Math.min(le,te.end);var ye=ee(Se,te.end,!0);return te.end=isNaN(ye)?te.end:ye,te.start=be&&be.mpd&&be.mpd.timeShiftBufferDepth&&!isNaN(be.mpd.timeShiftBufferDepth)&&!isNaN(te.end)?Math.max(te.end-be.mpd.timeShiftBufferDepth,te.start):te.start,te.start=ee(Se,te.start),{range:te,now:le}}function ne(Se,te){b=Se-te.end}function ee(Se,te){var be=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var le=0,ye=!1,w=NaN;!ye&&le<Se.length;){var q=Se[le].getStreamInfo();q.start<=te&&(!isFinite(q.duration)||q.start+q.duration>=te)?(w=te,ye=!0):!be&&q.start>te&&(isNaN(w)||q.start<w)?w=q.start:be&&q.start+q.duration<te&&(isNaN(w)||q.start+q.duration>w)&&(w=q.start+q.duration),le+=1}return w}catch{return te}}function Ie(Se){void 0===Se.offset||isNaN(Se.offset)||U(Se.offset/1e3)}function me(){M=0,b=0}function Te(){P.off(v.Z.UPDATE_TIME_SYNC_OFFSET,Ie,this),me()}return _={initialize:function(){me(),P.on(v.Z.UPDATE_TIME_SYNC_OFFSET,Ie,this)},getClientTimeOffset:function(){return M},setClientTimeOffset:U,getClientReferenceTime:function(){return Date.now()-1e3*b+1e3*M},calcAvailabilityStartTimeFromPresentationTime:function(Se,te,be){return J(Se,te,be)},calcAvailabilityEndTimeFromPresentationTime:function(Se,te,be){return J(Se,te,be,!0)},calcPresentationTimeFromWallTime:re,calcPresentationTimeFromMediaTime:K,calcPeriodRelativeTimeFromMpdRelativeTime:function(Se,te){return te-Se.adaptation.period.start},calcMediaTimeFromPresentationTime:function(Se,te){return Se-te.adaptation.period.start+te.presentationTimeOffset},calcWallTimeForSegment:function(Se,te){var le,ye;return te&&(le=Se.presentationStartTime+Se.representation.adaptation.period.mpd.suggestedPresentationDelay,ye=new Date(Se.availabilityStartTime.getTime()+1e3*le)),ye},calcTimeShiftBufferWindow:function(Se,te){if(!te)return ye={start:NaN,end:NaN},w=0,q=NaN,Se.forEach(function(G){var L=G.getStreamInfo();w+=L.duration,(isNaN(q)||L.start<q)&&(q=L.start)}),ye.start=q,ye.end=q+w,ye;var ye,w,q;if(C.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var be=V(Se);return ne(be.now,be.range),be.range}return function(le){var ye={start:NaN,end:NaN};if(!le||0===le.length)return ye;var w=le[0].getAdapter().getRegularPeriods()[0],q=re(new Date,w),G=w.mpd.timeShiftBufferDepth,L=isNaN(G)?0:q-G;if(ye.start=ee(le,L),ye.end=!isNaN(ye.start)&&q<ye.start?q:ee(le,q,!0),!isNaN(G)&&ye.end<q-G&&(ye.end=NaN),C.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var B=V(le);if(B.range.end<ye.start)return P.trigger(h.Z.CONFORMANCE_VIOLATION,{level:Pr.LEVELS.WARNING,event:Pr.EVENTS.INVALID_DVR_WINDOW}),ne(B.now,B.range),B.range}return ye}(Se)},reset:Te},p=Un(F).getInstance(),Te(),_}Io.__dashjs_factory_name="TimelineConverter";var ru=S.Z.getSingletonFactory(Io),iu=H(4593),$l=H(6934);function ou(_){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(_)}function Wl(_,p){return(Wl=Object.setPrototypeOf||function(b,M){return b.__proto__=M,b})(_,p)}function Pa(_){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(_)}var su=function(_){!function(P,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&Wl(P,C)}(F,_);var p,b,M=(p=F,b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var P,C=Pa(p);if(b){var U=Pa(this).constructor;P=Reflect.construct(C,arguments,U)}else P=C.apply(this,arguments);return function Qh(_,p){return!p||"object"!==ou(p)&&"function"!=typeof p?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(_):p}(this,P)});function F(){var P;return function(C,U){if(!(C instanceof U))throw new TypeError("Cannot call a class as a function")}(this,F),(P=M.call(this)).captionData=null,P.label=null,P.defaultTrack=!1,P.kind=null,P.isFragmented=!1,P.isEmbedded=!1,P.isTTML=null,P}return F}(Yl),Jh=H(2295);function jd(){var _=0;function p(U){for(var J="",re=0;re<U.length;++re)J+=U[re].uchar;return J.length-J.replace(/^\s+/,"").length}function b(U){return"left: "+3.125*U.x+"%; top: "+6.66*U.y1+"%; width: "+(100-3.125*U.x)+"%; height: "+6.66*Math.max(U.y2-1-U.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function M(U){return"red"===U?"rgb(255, 0, 0)":"green"===U?"rgb(0, 255, 0)":"blue"===U?"rgb(0, 0, 255)":"cyan"===U?"rgb(0, 255, 255)":"magenta"===U?"rgb(255, 0, 255)":"yellow"===U?"rgb(255, 255, 0)":"white"===U?"rgb(255, 255, 255)":"black"===U?"rgb(0, 0, 0)":U}function F(U,J){var re=U.videoHeight/15;return J?"font-size: "+re+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(J.foreground?M(J.foreground):"rgb(255, 255, 255)")+"; font-style: "+(J.italics?"italic":"normal")+"; text-decoration: "+(J.underline?"underline":"none")+"; white-space: pre; background-color: "+(J.background?M(J.background):"transparent")+";":"font-size: "+re+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function P(U){return U.replace(/^\s+/g,"")}function C(U){return U.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(U,J,re,K){var V,ne,ee=null,Ie=!1,me=-1,Te={start:J,end:re,spans:[]},Se="style_cea608_white_black",te={},be={},le=[];for(V=0;V<15;++V){var ye=K.rows[V],w="",q=null;if(!1===ye.isEmpty()){var G=p(ye.chars);null===ee&&(ee={x:G,y1:V,y2:V+1,p:[]}),G!==me&&Ie&&(ee.p.push(Te),Te={start:J,end:re,spans:[]},ee.y2=V,ee.name="region_"+ee.x+"_"+ee.y1+"_"+ee.y2,!1===te.hasOwnProperty(ee.name)?(le.push(ee),te[ee.name]=ee):te[ee.name].p.contat(ee.p),ee={x:G,y1:V,y2:V+1,p:[]});for(var L=0;L<ye.chars.length;++L){var B=ye.chars[L],se=B.penState;if(null===q||!se.equals(q)){w.trim().length>0&&(Te.spans.push({name:Se,line:w,row:V}),w="");var ie="style_cea608_"+se.foreground+"_"+se.background;se.underline&&(ie+="_underline"),se.italics&&(ie+="_italics"),be.hasOwnProperty(ie)||(be[ie]=JSON.parse(JSON.stringify(se))),q=se,Se=ie}w+=B.uchar}w.trim().length>0&&Te.spans.push({name:Se,line:w,row:V}),Ie=!0,me=G}else Ie=!1,me=-1,ee&&(ee.p.push(Te),Te={start:J,end:re,spans:[]},ee.y2=V,ee.name="region_"+ee.x+"_"+ee.y1+"_"+ee.y2,!1===te.hasOwnProperty(ee.name)?(le.push(ee),te[ee.name]=ee):te[ee.name].p.contat(ee.p),ee=null)}ee&&(ee.p.push(Te),ee.y2=V+1,ee.name="region_"+ee.x+"_"+ee.y1+"_"+ee.y2,!1===te.hasOwnProperty(ee.name)?(le.push(ee),te[ee.name]=ee):te[ee.name].p.contat(ee.p),ee=null);var he=[];for(V=0;V<le.length;++V){var ce=le[V],z="sub_cea608_"+_++,we=document.createElement("div");we.id=z;var Me=b(ce);we.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Me;var Xe=document.createElement("div");Xe.className="paragraph bodyStyle",Xe.style.cssText=F(U);var Be=document.createElement("div");Be.className="cueUniWrapper",Be.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ue=0;Ue<ce.p.length;++Ue){var He=ce.p[Ue],Nt=0;for(ne=0;ne<He.spans.length;++ne){var Ot=He.spans[ne];if(Ot.line.length>0){if(0!==ne&&Nt!=Ot.row){var dt=document.createElement("br");dt.className="lineBreak",Be.appendChild(dt)}var wt=!1;Nt===Ot.row&&(wt=!0),Nt=Ot.row;var pn=be[Ot.name],Le=document.createElement("span");Le.className="spanPadding "+Ot.name+" customSpanColor",Le.style.cssText=F(U,pn),Le.textContent=0!==ne&&wt?ne===He.spans.length-1?C(Ot.line):Ot.line:He.spans.length>1&&ne<He.spans.length-1&&Ot.row===He.spans[ne+1].row?P(Ot.line):Ot.line.trim(),Be.appendChild(Le)}}}Xe.appendChild(Be),we.appendChild(Xe);var it={bodyStyle:["%",90]};for(var Ne in be)be.hasOwnProperty(Ne)&&(it[Ne]=["%",90]);he.push({type:"html",start:J,end:re,cueHTMLElement:we,cueID:z,cellResolution:[32,15],isFromCEA608:!0,fontSize:it,lineHeight:{},linePadding:{}})}return he}}}jd.__dashjs_factory_name="EmbeddedTextHtmlRender";var ep=S.Z.getSingletonFactory(jd);function Kl(_){var p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me,Te,Se,te=_.errHandler,be=_.manifestModel,le=_.mediaController,ye=_.videoModel,w=_.textTracks,q=_.vttParser,G=_.vttCustomRenderingParser,L=_.ttmlParser,B=_.streamInfo,se=_.settings,ie=this.context,he=(0,A.Z)(ie).getInstance(),ce=!1;function z(){C=null,J=NaN,re=[],K=null,U=!1,P=[],F=null}function we(dt){var Le,it,wt=new su;for(var pn in dt)wt[pn]=dt[pn];wt.labels=dt.labels,wt.defaultTrack=(Le=dt,it=!1,ne.length>1&&Le.isEmbedded?it=Le.id&&Le.id===f.Z.CC1:1===ne.length?Le.id&&"string"==typeof Le.id&&"CC"===Le.id.substring(0,2)&&(it=!0):0===ne.length&&(it=Le.index===P[0].index),it),wt.isFragmented=dt.isFragmented,wt.isEmbedded=!!dt.isEmbedded,wt.isTTML=function(Le){return Le.codec&&Le.codec.search(f.Z.STPP)>=0||Le.mimeType&&Le.mimeType.search(f.Z.TTML)>=0}(dt),wt.kind=function(Le,it){var Ne=Le.roles&&Le.roles.length>0?it[Le.roles[0]]:it.caption;return Ne===it.caption||Ne===it.subtitle?Ne:it.caption}(dt,{subtitle:"subtitles",caption:"captions"}),w.addTextTrack(wt)}function Me(dt){var wt=dt.chunk;wt.mediaInfo.embeddedCaptions&&Be(wt.bytes,wt)}function Xe(dt){V=dt}function Be(dt,wt){var pn=wt.mediaInfo,Le=pn.type,Ne=pn.codec||pn.mimeType;Ne?-1!==pn.codec.indexOf("application/mp4")?function(Oe,Ye,nt){var st;if("InitializationSegment"===Ye.segmentType)U=!0,J=M.getMediaTimescaleFromMoov(Oe);else{if(!U)return;(st=M.getSamplesInfo(Oe).sampleList).length>0&&(K=st[0].cts-Ye.start*J),nt.search(f.Z.STPP)>=0?function(Vt,kt,mn){var bt,rn;for(F=null!==F?F:Nt(mn),bt=0;bt<kt.length;bt++){var un=kt[bt],hn=un.cts,En=He(),Fn=En+hn/J;p.buffered.add(Fn,Fn+un.duration/J);var Qn=new DataView(Vt,un.offset,un.subSizes[0]),Jn=$l.Utils.dataViewToString(Qn,f.Z.UTF8),lr=[],Pt=un.offset+un.subSizes[0];for(rn=1;rn<un.subSizes.length;rn++){var Tn=new Uint8Array(Vt,Pt,un.subSizes[rn]),wn=String.fromCharCode.apply(null,Tn);lr.push(wn),Pt+=un.subSizes[rn]}try{var cn=be.getValue().ttmlTimeIsRelative?hn/J:0,pt=F.parse(Jn,cn,hn/J,(hn+un.duration)/J,lr);w.addCaptions(V,En,pt)}catch(Bt){C.removeExecutedRequestsBeforeTime(),this.remove(),b.error("TTML parser error: "+Bt.message)}}}(Oe,st,nt):function(Vt,kt){var mn,bt,rn,un=[];for(mn=0;mn<kt.length;mn++){var hn=kt[mn];hn.cts-=K;var En=He()+hn.cts/J;p.buffered.add(En,En+hn.duration/J);var Ln=Vt.slice(hn.offset,hn.offset+hn.size),Qn=$l.parseBuffer(Ln);for(bt=0;bt<Qn.boxes.length;bt++){var Jn=Qn.boxes[bt];if(b.debug("VTT box1: "+Jn.type),"vtte"!==Jn.type&&"vttc"===Jn.type){b.debug("VTT vttc boxes.length = "+Jn.boxes.length);var lr={styles:{}};for(rn=0;rn<Jn.boxes.length;rn++){var Pt=Jn.boxes[rn];if(b.debug("VTT box2: "+Pt.type),"payl"===Pt.type)lr.start=hn.cts/J,lr.end=(hn.cts+hn.duration)/J,lr.data=Pt.cue_text;else if("sttg"===Pt.type&&Pt.settings&&""!==Pt.settings)try{var Tn=Pt.settings.split(" ");lr.styles=q.getCaptionStyles(Tn)}catch{}}lr&&lr.data&&(un.push(lr),b.debug("VTT  ".concat(lr.start," - ").concat(lr.end," :  ").concat(lr.data)))}}}un.length>0&&w.addCaptions(V,0,un)}(Oe,st)}}(dt,wt,Ne):Le===f.Z.VIDEO?function(Oe,Ye){var nt,st,En,Fn,Qn,Jn;if(Ye.segmentType===ut.w.INIT_SEGMENT_TYPE)0===ee&&(ee=M.getMediaTimescaleFromMoov(Oe));else if(Ye.segmentType===ut.w.MEDIA_SEGMENT_TYPE){if(0===ee)return void b.warn("CEA-608: No timescale for embeddedTextTrack yet");var Vt=(st=M.getSamplesInfo(Oe)).lastSequenceNumber,kt=Math.trunc(Ye.start),mn=Math.trunc(Ye.end);if(Te[0]||Te[1]||function(){for(var En,Fn=0;Fn<ne.length;Fn++){if(-1===(En=w.getTrackIdxForId(ne[Fn].id)))return void b.warn("CEA-608: data before track is ready.");var Ln=Ue(En);Te[Fn]=new(N().Cea608Parser)(Fn+1,{newCue:Ln},null)}}(),ee){if(Fn=Vt,Qn=me,Jn=kt,null!==(En=Ie)&&null!==Fn&&null!==Qn&&null!==Jn&&(Fn===En?Qn!==Jn:Fn!==En+st.numSequences))for(nt=0;nt<Te.length;nt++)Te[nt]&&Te[nt].reset();for(var bt=function(En,Fn){if(0===Fn.length)return null;for(var Ln={splits:[],fields:[[],[]]},Qn=new DataView(En),Jn=0;Jn<Fn.length;Jn++)for(var lr=Fn[Jn],Pt=N().findCea608Nalus(Qn,lr.offset,lr.size),Tn=null,wn=0,cn=0;cn<Pt.length;cn++)for(var pt=N().extractCea608DataFromRange(Qn,Pt[cn]),Bt=0;Bt<2;Bt++)if(pt[Bt].length>0){lr.cts!==Tn?wn=0:wn+=1;var lt=He();Ln.fields[Bt].push([lr.cts+lt*ee,pt[Bt],wn]),Tn=lr.cts}return Ln.fields.forEach(function(je){je.sort(function(Ee,rt){return Ee[0]===rt[0]?Ee[2]-rt[2]:Ee[0]-rt[0]})}),Ln}(Oe,st.sampleList),rn=0;rn<Te.length;rn++){var un=bt.fields[rn],hn=Te[rn];if(hn)for(nt=0;nt<un.length;nt++)hn.addData(un[nt][0]/ee,un[nt][1])}Ie=Vt,me=mn}}}(dt,wt):function(Oe,Ye,nt){var st,Vt,kt=new DataView(Oe,0,Oe.byteLength);Vt=$l.Utils.dataViewToString(kt,f.Z.UTF8);try{st=Nt(nt).parse(Vt,0),w.addCaptions(w.getCurrentTrackIdx(),0,st),p.buffered&&p.buffered.add(Ye.start,Ye.end)}catch(mn){te.error(new X.Z(_e.TIMED_TEXT_ERROR_ID_PARSE_CODE,_e.TIMED_TEXT_ERROR_MESSAGE_PARSE+mn.message,Vt))}}(dt,wt,Ne):b.error("No text type defined")}function Ue(dt){return function(wt,pn,Le){var it;(it=ye.getTTMLRenderingDiv()?Se.createHTMLCaptionsFromScreen(ye.getElement(),wt,pn,Le):[{start:wt,end:pn,data:Le.getDisplayText(),styles:{}}])&&w.addCaptions(dt,0,it)}}function He(){return isNaN(p.timestampOffset)?0:p.timestampOffset}function Nt(dt){var wt;return dt.search(f.Z.VTT)>=0?wt=se.get().streaming.text.webvtt.customRenderingEnabled&&G?G:q:(dt.search(f.Z.TTML)>=0||dt.search(f.Z.STPP)>=0)&&(wt=L),wt}function Ot(dt){ne.forEach(function(wt){var pn=w.getTrackIdxForId(wt.id);pn>=0&&w.deleteCuesFromTrackIdx(pn,dt.from,dt.to)})}return p={initialize:function(){ce||(ne=[],V=null,ee=0,Te=[],Ie=null,me=null,ce=!0,Se=ep(ie).getInstance(),he.on(v.Z.VIDEO_CHUNK_RECEIVED,Me,p),he.on(v.Z.BUFFER_CLEARED,Ot,p))},addMediaInfos:function(dt,wt,pn){if(P=P.concat(wt),dt===f.Z.TEXT&&wt[0].isFragmented&&!wt[0].isEmbedded){C=pn,p.buffered=(0,Jh.Z)(ie).create(),re=le.getTracksFor(f.Z.TEXT,B.id).filter(function(Oe){return Oe.isFragmented});for(var Le=le.getCurrentTrackFor(f.Z.TEXT,B.id),it=0;it<re.length;it++)if(re[it]===Le){Xe(it);break}}for(var Ne=0;Ne<wt.length;Ne++)we(wt[Ne])},resetMediaInfos:function(){P=[]},getStreamId:function(){return B.id},append:Be,abort:function(){},addEmbeddedTrack:function(dt){if(ce&&dt)if(dt.id===f.Z.CC1||dt.id===f.Z.CC3){for(var wt=0;wt<ne.length;wt++)if(ne[wt].id===dt.id)return;ne.push(dt)}else b.warn("Embedded track "+dt.id+" not supported!")},resetEmbedded:function(){he.off(v.Z.VIDEO_CHUNK_RECEIVED,Me,p),he.off(v.Z.BUFFER_CLEARED,Ot,p),w&&w.deleteAllTextTracks(),ce=!1,ne=[],Te=[null,null],Ie=null,me=null},getConfig:function(){return{fragmentModel:C,fragmentedTracks:re,videoModel:ye}},setCurrentFragmentedTrackIdx:Xe,remove:function(dt,wt){void 0===dt&&dt===wt&&(dt=p.buffered.start(0),wt=p.buffered.end(p.buffered.length-1)),p.buffered.remove(dt,wt),w.deleteCuesFromTrackIdx(V,dt,wt)},reset:function(){z(),P=[],M=null}},b=(0,D.Z)(ie).getInstance().getLogger(p),M=(0,Ea.Z)(ie).getInstance(),z(),p}Kl.__dashjs_factory_name="TextSourceBuffer";var Xl=S.Z.getClassFactory(Kl),Js=H(4403);function Hd(_,p){(null==p||p>_.length)&&(p=_.length);for(var b=0,M=new Array(p);b<p;b++)M[b]=_[b];return M}var ka=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function au(_){var p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me,Te,Se,te,be=this.context,le=(0,A.Z)(be).getInstance(),ye=_.videoModel,w=_.streamInfo,q=_.settings;function G(Ne,Oe,Ye,nt,st,Vt){var kt=0,mn=0;Ne/Oe>Ye/nt?kt=(mn=Oe)/nt*Ye:mn=(kt=Ne)/Ye*nt;var bt,rn,un=0,hn=0;return kt/mn>st?(hn=mn,un=mn*st):(un=kt,hn=kt/st),bt=(Ne-un)/2,rn=(Oe-hn)/2,Vt?{x:bt+.1*un,y:rn+.1*hn,w:.8*un,h:.8*hn}:{x:bt,y:rn,w:un,h:hn}}function L(Ne,Oe){var Ye=ye.getClientWidth(),nt=ye.getClientHeight(),st=ye.getVideoWidth(),Vt=ye.getVideoHeight(),kt=ye.getVideoRelativeOffsetTop(),mn=ye.getVideoRelativeOffsetLeft();if(0!==st&&0!==Vt){var bt=st/Vt,rn=!1;Ne.isFromCEA608&&(bt=1.1666666666666667,rn=!0);var un=G.call(this,Ye,nt,st,Vt,bt,rn),hn=un.w,En=un.h,Fn=un.x,Ln=un.y;if(hn!=re||En!=K||Fn!=U||Ln!=J||Oe){if(U=Fn+mn,J=Ln+kt,re=hn,K=En,V){var Qn=V.style;Qn&&(Qn.left=U+"px",Qn.top=J+"px",Qn.width=re+"px",Qn.height=K+"px",Qn.zIndex=Ie&&document[Ie]||me?Se:null,le.trigger(h.Z.CAPTION_CONTAINER_RESIZE))}var Jn=Ne.activeCues;if(Jn)for(var lr=Jn.length,Pt=0;Pt<lr;++Pt){var Tn=Jn[Pt];Tn.scaleCue(Tn)}}}}function B(Ne){var Oe,Ye,nt,st,Vt;if(Ne.cellResolution){var bt=[re/Ne.cellResolution[0],K/Ne.cellResolution[1]];if(Ne.linePadding)for(Oe in Ne.linePadding)if(Ne.linePadding.hasOwnProperty(Oe)){Ye=(Ne.linePadding[Oe]*bt[0]).toString();for(var rn=document.getElementsByClassName("spanPadding"),un=0;un<rn.length;un++)rn[un].style.cssText=rn[un].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Ye),rn[un].style.cssText=rn[un].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Ye)}if(Ne.fontSize){for(Oe in Ne.fontSize)if(Ne.fontSize.hasOwnProperty(Oe)){"%"===Ne.fontSize[Oe][0]?nt=Ne.fontSize[Oe][1]/100:"c"===Ne.fontSize[Oe][0]&&(nt=Ne.fontSize[Oe][1]),Ye=(nt*bt[1]).toString(),Vt="defaultFontSize"!==Oe?document.getElementsByClassName(Oe):document.getElementsByClassName("paragraph");for(var hn=0;hn<Vt.length;hn++)Vt[hn].style.cssText=Vt[hn].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Ye)}if(Ne.lineHeight)for(Oe in Ne.lineHeight)if(Ne.lineHeight.hasOwnProperty(Oe)){"%"===Ne.lineHeight[Oe][0]?st=Ne.lineHeight[Oe][1]/100:"c"===Ne.fontSize[Oe][0]&&(st=Ne.lineHeight[Oe][1]),Ye=(st*bt[1]).toString(),Vt=document.getElementsByClassName(Oe);for(var En=0;En<Vt.length;En++)Vt[En].style.cssText=Vt[En].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Ye)}}}if(Ne.isd){var Fn=document.getElementById(Ne.cueID);Fn&&V.removeChild(Fn),ie(Ne)}}function se(Ne,Oe){var Ye=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,nt=/^#(.*)$/;if(Ye.test(Oe)){var st=Ye.exec(Oe),Vt=parseInt(st[4],10)-1;return"data:image/png;base64,"+btoa(Ne.images[Vt])}if(nt.test(Oe)){var kt=nt.exec(Oe)[1];return"data:image/png;base64,"+Ne.embeddedImages[kt]}return Oe}function ie(Ne){if(V){var Oe=document.createElement("div");V.appendChild(Oe),Te=(0,Js.renderHTML)(Ne.isd,Oe,function(Ye){return se(Ne,Ye)},V.clientHeight,V.clientWidth,!1,function(Ye){b.info("renderCaption :",Ye)},Te,!0),Oe.id=Ne.cueID,le.trigger(h.Z.CAPTION_RENDERED,{captionDiv:Oe,currentTrackIdx:C})}}function he(Ne,Oe){if(!q.get().streaming.text.extendSegmentedCues||!Oe.cues||0===Oe.cues.length)return!1;var Ye=Oe.cues[Oe.cues.length-1];return!(Ye.endTime<Ne.startTime||!function(nt,st,Vt){for(var kt=0;kt<Vt.length;kt++){var mn=Vt[kt];if(JSON.stringify(nt[mn])!==JSON.stringify(st[mn]))return!1}return!0}(Ye,Ne,ka)||(Ye.endTime=Math.max(Ye.endTime,Ne.endTime),0))}function ce(Ne,Oe){Oe&&Oe.forEach(function(Ye){Ye.kind&&"image"===Ye.kind&&(Ye.src=se(Ne,Ye.src)),ce(Ne,Ye.contents)})}function z(Ne,Oe,Ye){var nt=Ue(Ne);if(nt&&Array.isArray(Ye)&&0!==Ye.length)for(var st=0;st<Ye.length;st++){var Vt=void 0,kt=Ye[st];nt.cellResolution=kt.cellResolution,nt.isFromCEA608=kt.isFromCEA608,isNaN(kt.start)||isNaN(kt.end)||(Vt="html"===kt.type&&V?we(kt,Oe,nt):kt.data?Me(kt,Oe,nt):null);try{Vt?Ot(nt,Vt)||(q.get().streaming.text.webvtt.customRenderingEnabled?(nt.manualCueList||(nt.manualCueList=[]),nt.manualCueList.push(Vt)):he(Vt,nt)||nt.addCue(Vt)):b.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(mn){throw wt(nt),nt.addCue(Vt),mn}}}function we(Ne,Oe,Ye){var nt=this,st=new M(Ne.start+Oe,Ne.end+Oe,"");return st.cueHTMLElement=Ne.cueHTMLElement,st.isd=Ne.isd,st.images=Ne.images,st.embeddedImages=Ne.embeddedImages,st.cueID=Ne.cueID,st.scaleCue=B.bind(nt),st.cellResolution=Ne.cellResolution,st.lineHeight=Ne.lineHeight,st.linePadding=Ne.linePadding,st.fontSize=Ne.fontSize,V.style.left=U+"px",V.style.top=J+"px",V.style.width=re+"px",V.style.height=K+"px",st.isd&&ce(st,st.isd.contents),st.onenter=function(){Ye.mode===f.Z.TEXT_SHOWING&&(this.isd?(ie(this),b.debug("Cue enter id:"+this.cueID)):(V.appendChild(this.cueHTMLElement),B.call(nt,this),le.trigger(h.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:C})))},st.onexit=function(){if(V)for(var Vt=V.childNodes,kt=0;kt<Vt.length;++kt)Vt[kt].id===this.cueID&&(b.debug("Cue exit id:"+Vt[kt].id),V.removeChild(Vt[kt]),--kt)},st}function Me(Ne,Oe,Ye){var nt=new M(Ne.start-Oe,Ne.end-Oe,Ne.data);if(nt.cueID="".concat(nt.startTime,"_").concat(nt.endTime),nt.isActive=!1,Ne.styles)try{void 0!==Ne.styles.align&&"align"in nt&&(nt.align=Ne.styles.align),void 0!==Ne.styles.line&&"line"in nt&&(nt.line=Ne.styles.line),void 0!==Ne.styles.snapToLines&&"snapToLines"in nt&&(nt.snapToLines=Ne.styles.snapToLines),void 0!==Ne.styles.position&&"position"in nt&&(nt.position=Ne.styles.position),void 0!==Ne.styles.size&&"size"in nt&&(nt.size=Ne.styles.size)}catch(st){b.error(st)}return nt.onenter=function(){Ye.mode===f.Z.TEXT_SHOWING&&le.trigger(h.Z.CAPTION_RENDERED,{currentTrackIdx:C})},nt}function Xe(Ne){if(ne)for(var Oe=ne.childNodes,Ye=0;Ye<Oe.length;++Ye)Oe[Ye].id===Ne.cueID&&(ne.removeChild(Oe[Ye]),--Ye)}function Be(){var Ne,Oe=[],Ye=function(st,Vt){var kt;if(typeof Symbol>"u"||null==st[Symbol.iterator]){if(Array.isArray(st)||(kt=function(En,Fn){if(En){if("string"==typeof En)return Hd(En,undefined);var Ln=Object.prototype.toString.call(En).slice(8,-1);return"Object"===Ln&&En.constructor&&(Ln=En.constructor.name),"Map"===Ln||"Set"===Ln?Array.from(En):"Arguments"===Ln||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ln)?Hd(En,undefined):void 0}}(st))){kt&&(st=kt);var mn=0,bt=function(){};return{s:bt,n:function(){return mn>=st.length?{done:!0}:{done:!1,value:st[mn++]}},e:function(En){throw En},f:bt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var rn,un=!0,hn=!1;return{s:function(){kt=st[Symbol.iterator]()},n:function(){var En=kt.next();return un=En.done,En},e:function(En){hn=!0,rn=En},f:function(){try{un||null==kt.return||kt.return()}finally{if(hn)throw rn}}}}(ye.getTextTracks());try{for(Ye.s();!(Ne=Ye.n()).done;){var nt=Ne.value;nt.manualMode===f.Z.TEXT_SHOWING&&Oe.push(nt)}}catch(st){Ye.e(st)}finally{Ye.f()}return Oe}function Ue(Ne){return Ne>=0&&F[Ne]?ye.getTextTrack(F[Ne].kind,F[Ne].id,F[Ne].lang,F[Ne].isTTML,F[Ne].isEmbedded):null}function He(Ne){var Oe=this;if(Ne!==C){var Ye=Ue(C=Ne);Nt.call(this,Ye),ee&&(clearInterval(ee),ee=null),Ye&&"html"===Ye.renderingType&&(L.call(this,Ye,!0),window.ResizeObserver?(te=new window.ResizeObserver(function(){L.call(Oe,Ye,!0)})).observe(ye.getElement()):ee=setInterval(L.bind(this,Ye),500))}}function Nt(Ne){it.call(this),Ne&&"html"===Ne.renderingType?pn.call(this):Le.call(this)}function Ot(Ne,Oe){if(!Ne.cues)return!1;for(var Ye=0;Ye<Ne.cues.length;Ye++)if(Ne.cues[Ye].startTime===Oe.startTime&&Ne.cues[Ye].endTime===Oe.endTime)return!0;return!1}function dt(Ne,Oe,Ye){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return!!Ne&&(isNaN(Oe)||(nt?Ne.startTime:Ne.endTime)>=Oe)&&(isNaN(Ye)||(nt?Ne.endTime:Ne.startTime)<=Ye)}function wt(Ne,Oe,Ye){var nt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Ne&&(Ne.cues||Ne.manualCueList)){var st=Ne.cues&&Ne.cues.length>0?"native":"custom",Vt="native"===st?Ne.cues:Ne.manualCueList;if(!Vt||0===Vt.length)return;for(var mn=Vt.length-1;mn>=0;mn--)dt(Vt[mn],Oe,Ye,nt)&&("native"===st?(Vt[mn].onexit&&Vt[mn].onexit(),Ne.removeCue(Vt[mn])):(Xe(Vt[mn]),delete Ne.manualCueList[mn]))}}function pn(){var Ne=document.getElementById("native-cue-style");if(!Ne){(Ne=document.createElement("style")).id="native-cue-style",document.head.appendChild(Ne);var Oe=Ne.sheet,Ye=ye.getElement();try{Ye&&Oe.insertRule(Ye.id?"#"+Ye.id+"::cue {background: transparent}":0!==Ye.classList.length?"."+Ye.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(nt){b.info(""+nt.message)}}}function Le(){var Ne=document.getElementById("native-cue-style");Ne&&document.head.removeChild(Ne)}function it(){if(V)for(;V.firstChild;)V.removeChild(V.firstChild)}return p={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(M=window.VTTCue||window.TextTrackCue,F=[],P=[],C=-1,U=0,J=0,re=0,K=0,V=null,ne=null,ee=null,me=!1,Se=2147483647,Te=null,void 0!==document.fullscreenElement?Ie="fullscreenElement":void 0!==document.webkitIsFullScreen?Ie="webkitIsFullScreen":document.msFullscreenElement?Ie="msFullscreenElement":document.mozFullScreen&&(Ie="mozFullScreen"))},getStreamId:function(){return w.id},addTextTrack:function(Ne){F.push(Ne)},addCaptions:z,createTracks:function(){F.sort(function(En,Fn){return En.index-Fn.index}),V=ye.getTTMLRenderingDiv(),ne=ye.getVttRenderingDiv();for(var Ne,Oe,kt=-1,mn=0;mn<F.length;mn++){var bt=(Oe=(Ne=F[mn]).kind,ye.addTextTrack(Oe,void 0!==Ne.id?Ne.id:Ne.lang,Ne.lang,Ne.isTTML,Ne.isEmbedded));P.push(bt),F[mn].defaultTrack&&(bt.default=!0,kt=mn);var rn=Ue(mn);rn&&(rn.mode=f.Z.TEXT_SHOWING,rn.renderingType=V&&(F[mn].isTTML||F[mn].isEmbedded)?"html":"default"),z(mn,0,F[mn].captionData),le.trigger(h.Z.TEXT_TRACK_ADDED)}if(He.call(this,kt),kt>=0){le.on(h.Z.PLAYBACK_METADATA_LOADED,function En(){var Fn=Ue(kt);Fn&&"html"===Fn.renderingType&&L.call(this,Fn,!0),le.off(h.Z.PLAYBACK_METADATA_LOADED,En,this)},this);for(var un=0;un<F.length;un++){var hn=Ue(un);hn&&(hn.mode=un===kt?f.Z.TEXT_SHOWING:f.Z.TEXT_HIDDEN,hn.manualMode=un===kt?f.Z.TEXT_SHOWING:f.Z.TEXT_HIDDEN)}}le.trigger(v.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:C,tracks:F,streamId:w.id})},getCurrentTrackIdx:function(){return C},setCurrentTrackIdx:He,getTrackIdxForId:function(Ne){for(var Oe=-1,Ye=0;Ye<F.length;Ye++)if(F[Ye].id===Ne){Oe=Ye;break}return Oe},getCurrentTrackInfo:function(){return F[C]},setModeForTrackIdx:function(Ne,Oe){var Ye=Ue(Ne);Ye&&Ye.mode!==Oe&&(Ye.mode=Oe),Ye&&Ye.manualMode!==Oe&&(Ye.manualMode=Oe)},deleteCuesFromTrackIdx:function(Ne,Oe,Ye){var nt=Ue(Ne);nt&&wt(nt,Oe,Ye)},deleteAllTextTracks:function(){for(var Ne=P?P.length:0,Oe=0;Oe<Ne;Oe++){var Ye=Ue(Oe);Ye&&wt.call(this,Ye,w.start,w.start+w.duration,!1)}P=[],F=[],ee&&(clearInterval(ee),ee=null),te&&ye&&(te.unobserve(ye.getElement()),te=null),C=-1,it.call(this)},deleteTextTrack:function(Ne){ye.removeChild(P[Ne]),P.splice(Ne,1)},manualCueProcessing:function(Ne){var Oe=Be();if(Oe&&Oe.length>0){var Ye=Oe[0].manualCueList;Ye&&Ye.length>0&&Ye.forEach(function(nt){nt.startTime<=Ne&&nt.endTime>=Ne&&!nt.isActive?(nt.isActive=!0,WebVTT.processCues(window,[nt],ne,nt.cueID)):nt.isActive&&(nt.startTime>Ne||nt.endTime<Ne)&&(nt.isActive=!1,Xe(nt))})}},disableManualTracks:function(){var Ne=Be();if(Ne&&Ne.length>0){var Oe=Ne[0].manualCueList;Oe&&Oe.length>0&&Oe.forEach(function(Ye){if(Ye.isActive&&(Ye.isActive=!1,ne))for(var nt=ne.childNodes,st=0;st<nt.length;++st)nt[st].id===Ye.cueID&&(ne.removeChild(nt[st]),--st)})}}},b=(0,D.Z)(be).getInstance().getLogger(p),p}au.__dashjs_factory_name="TextTracks";var Zd=S.Z.getClassFactory(au);function Ql(){var _,p,b,M,F,P;function U(V){var ne=V.split(":"),ee=ne.length-1;return V=60*parseInt(ne[ee-1],10)+parseFloat(ne[ee]),2===ee&&(V+=3600*parseInt(ne[0],10)),V}function J(V){var ne=V.split(M),ee=ne[1].split(P);return ee.shift(),ne[1]=ee[0],ee.shift(),{cuePoints:ne,styles:re(ee)}}function re(V){var ne={};return V.forEach(function(ee){if(ee.split(/:/).length>1){var Ie=ee.split(/:/)[1],me=!1;Ie&&-1!=Ie.search(/%/)&&(me=!0,Ie=parseInt(Ie.replace(/%/,""),10)),(ee.match(/align/)||ee.match(/A/))&&(ne.align=Ie),(ee.match(/line/)||ee.match(/L/))&&(ne.line="auto"===Ie?Ie:parseInt(Ie,10),me&&(ne.snapToLines=!1)),(ee.match(/position/)||ee.match(/P/))&&(ne.position=Ie),(ee.match(/size/)||ee.match(/S/))&&(ne.size=Ie)}}),ne}function K(V,ne){for(var ee,Ie=ne,me="",Te="";""!==V[Ie]&&Ie<V.length;)Ie++;if((ee=Ie-ne)>1)for(var Se=0;Se<ee;Se++){if((Te=V[ne+Se]).match(M)){me="";break}me+=Te,Se!==ee-1&&(me+="\n")}else(Te=V[ne]).match(M)||(me=Te);return me}return _={parse:function(V){var ne,ee,Ie=[];if(!V)return Ie;ne=(V=V.split(b)).length,ee=-1;for(var me=0;me<ne;me++){var Te=V[me];if(Te.length>0&&"WEBVTT"!==Te&&Te.match(M)){var Se=J(Te),te=Se.cuePoints,be=Se.styles,le=K(V,me+1),ye=U(te[0].replace(F,"")),w=U(te[1].replace(F,""));!isNaN(ye)&&!isNaN(w)&&ye>=ee&&w>ye?""!==le?(ee=ye,Ie.push({start:ye,end:w,data:le,styles:be})):p.error("Skipping cue due to empty/malformed cue text"):p.error("Skipping cue due to incorrect cue timing")}}return Ie},getCaptionStyles:re},p=(0,D.Z)(this.context).getInstance().getLogger(_),b=/(?:\r\n|\r|\n)/gm,M=/-->/,F=/(^[\s]+|[\s]+$)/g,P=/\s\b/g,_}Ql.__dashjs_factory_name="VTTParser";var C_=S.Z.getSingletonFactory(Ql);function tp(){var _,p;return _={parse:function(b){var M=[];return p.oncue=function(F){F.start=F.startTime,F.end=F.endTime,F.data=F.text,F.styles={align:F.align,line:F.line,position:F.position,size:F.size},M.push(F)},p.parse(b),M}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(p=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),_}tp.__dashjs_factory_name="VttCustomRenderingParser";var np=S.Z.getSingletonFactory(tp);function lu(){var _,p,b=this.context,M=(0,A.Z)(b).getInstance(),F=0;return _={parse:function(P,C,U,J,re){var K,V,ne,ee="",Ie=[],me={},Te={},Se="",te="",be={onOpenTag:function(G,L,B){if(B[" imagetype"]&&!B[" imageType"]&&(M.trigger(h.Z.CONFORMANCE_VIOLATION,{level:Pr.LEVELS.ERROR,event:Pr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),B[" imageType"]=B[" imagetype"]),"image"===L&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===G||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===G)){if(!B[" imageType"]||"PNG"!==B[" imageType"].value)return void p.warn("smpte-tt imageType != PNG. Discarded");Se=B["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){Se&&(Te[Se]=te.trim()),te="",Se=""},onText:function(G){Se&&(te+=G)}};if(!P)throw ee="no ttml data to parse",new Error(ee);me.data=P,M.trigger(v.Z.TTML_TO_PARSE,me);var le=(0,Js.fromXML)(me.data,function(G){ee=G},be);M.trigger(v.Z.TTML_PARSED,{ttmlString:me.data,ttmlDoc:le});var ye,w=le.getMediaTimeEvents();for(ne=0;ne<w.length;ne++){var q=(0,Js.generateISD)(le,w[ne],function(G){ee=G});q.contents.some(function(G){return G.contents.length})&&(K=w[ne]+C)<(V=w[ne+1]+C)&&Ie.push({start:K,end:V,type:"html",cueID:(ye="cue_TTML_"+F,F++,ye),isd:q,images:re,embeddedImages:Te})}if(""!==ee)throw p.error(ee),new Error(ee);return Ie}},p=(0,D.Z)(b).getInstance().getLogger(_),_}lu.__dashjs_factory_name="TTMLParser";var I_=S.Z.getSingletonFactory(lu);function cu(_){var p,b,M,F,P,C,U,J,re,K,V,ne,ee=this.context,Ie=_.adapter,me=_.errHandler,Te=_.manifestModel,Se=_.mediaController,te=_.videoModel,be=_.settings;function le(se){var ie=se.tracks,he=se.index,ce=se.streamId;if(!1===be.get().streaming.text.defaultEnabled&&!q()||ne)G(ce,-1);else{var z=Se.getCurrentTrackFor(f.Z.TEXT,ce);if(z){var we={lang:z.lang,role:z.roles[0],index:z.index,codec:z.codec,accessibility:z.accessibility[0]};ie.some(function(Me,Xe){if(Se.matchSettings(we,Me))return G(ce,Xe),he=Xe,!0})}re=!1}b[ce].lastEnabledIndex=he,J.trigger(h.Z.TEXT_TRACKS_ADDED,{enabled:q(),index:he,tracks:ie,streamId:ce}),V=!0}function ye(se){try{var ie=se.streamId;if(!F[ie]||isNaN(se.time))return;F[ie].manualCueProcessing(se.time)}catch{}}function w(se){try{var ie=se.streamId;if(!F[ie])return;F[ie].disableManualTracks()}catch{}}function q(){var se=!0;return re&&!K&&(se=!1),se}function G(se,ie){(re=-1===ie)&&Se&&Se.saveTextSettingsDisabled();var he=L(se);if(he!==ie&&F[se]){F[se].disableManualTracks(),F[se].setModeForTrackIdx(he,f.Z.TEXT_HIDDEN),F[se].setCurrentTrackIdx(ie),F[se].setModeForTrackIdx(ie,f.Z.TEXT_SHOWING);var ce=F[se].getCurrentTrackInfo();ce&&ce.isFragmented&&!ce.isEmbedded?function(z,we,Me){if(M[z])for(var Xe=M[z].getConfig().fragmentedTracks,Be=0;Be<Xe.length;Be++){var Ue=Xe[Be];if(we.lang===Ue.lang&&(Ue.id?we.id===Ue.id:we.index===Ue.index)){var He=Se.getCurrentTrackFor(f.Z.TEXT,z);(Ue.id?He.id!==Ue.id:He.index!==Ue.index)?(F[z].deleteCuesFromTrackIdx(Me),M[z].setCurrentFragmentedTrackIdx(Be)):-1===Me&&J.trigger(v.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:z,mediaType:f.Z.TEXT})}}}(se,ce,he):ce&&!ce.isFragmented&&J.trigger(v.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ce},{streamId:se,mediaType:f.Z.TEXT}),Se.setTrack(ce)}}function L(se){return F[se].getCurrentTrackIdx()}function B(){M={},F={},b={},re=!0,V=!1,ne=!1}return p={deactivateStream:function(se){if(se){var ie=se.id;M[ie]&&M[ie].resetMediaInfos(),F[ie]&&F[ie].deleteAllTextTracks()}},initialize:function(){J.on(v.Z.TEXT_TRACKS_QUEUE_INITIALIZED,le,p),be.get().streaming.text.webvtt.customRenderingEnabled&&(J.on(v.Z.PLAYBACK_TIME_UPDATED,ye,p),J.on(v.Z.PLAYBACK_SEEKING,w,p))},initializeForStream:function(se){var ie=se.id,he=Zd(ee).create({videoModel:te,settings:be,streamInfo:se});he.initialize(),F[ie]=he;var ce=Xl(ee).create({errHandler:me,adapter:Ie,manifestModel:Te,mediaController:Se,videoModel:te,textTracks:he,vttParser:P,vttCustomRenderingParser:C,ttmlParser:U,streamInfo:se,settings:be});ce.initialize(),M[ie]=ce,b[ie]={},b[ie].lastEnabledIndex=-1},createTracks:function(se){var ie=se.id;F[ie]&&F[ie].createTracks()},getTextSourceBuffer:function(se){var ie=se.id;if(M&&M[ie])return M[ie]},getAllTracksAreDisabled:function(){return re},addEmbeddedTrack:function(se,ie){var he=se.id;M[he]&&M[he].addEmbeddedTrack(ie)},enableText:function(se,ie){return(0,ae.PS)(ie,"boolean"),q()!==ie&&(ie&&G(se,b[se].lastEnabledIndex),ie||(b[se].lastEnabledIndex=L(se),V?G(se,-1):ne=!0)),!0},isTextEnabled:q,setTextTrack:G,getCurrentTrackIdx:L,enableForcedTextStreaming:function(se){return(0,ae.PS)(se,"boolean"),K=se,!0},addMediaInfosToBuffer:function(se,ie,he){var z=se.id;M[z]&&M[z].addMediaInfos(ie,he,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function(){B(),J.off(v.Z.TEXT_TRACKS_QUEUE_INITIALIZED,le,p),be.get().streaming.text.webvtt.customRenderingEnabled&&(J.off(v.Z.PLAYBACK_TIME_UPDATED,ye,p),J.off(v.Z.PLAYBACK_SEEKING,w,p)),Object.keys(M).forEach(function(se){M[se].resetEmbedded(),M[se].reset()})}},K=!1,V=!1,ne=!1,P=C_(ee).getInstance(),C=np(ee).getInstance(),U=I_(ee).getInstance(),J=(0,A.Z)(ee).getInstance(),B(),p}cu.__dashjs_factory_name="TextController";var _s=S.Z.getClassFactory(cu);function rp(){var _,p,b,M,F,P,C,U,J,re,K,V,ne,ee,Ie,me,Te,Se,te,be,le,ye,w,q,G,L,B,se,ie,he,ce,z,we,Me,Xe,Be,Ue,He,Nt,Ot="You must first call initialize() and set a source before calling this method",dt="You must first call initialize() and set a valid source and view before calling this method",wt="You must first call attachView() to set the video element before calling this method",pn="You must first call attachSource() with a valid source before calling this method",Le="MediaPlayer not initialized!",it=this.context,Ne=(0,A.Z)(it).getInstance(),Oe=(0,Ge.Z)(it).getInstance(),Ye=(0,D.Z)(it).getInstance({settings:Oe});function nt(){lr(null),Qn(null),M=null,ee&&(ee.reset(),ee=null),Ie&&(Ie.reset(),Ie=null),be&&be.reset(),Oe.reset(),Te&&(Te.reset(),Te=null)}function st(){return!!b&&!!Be.getElement()}function Vt(){return(0,Jc.e)()}function kt(){if(!C)throw dt;return se.isPaused()}function mn(){if(!C)throw dt;return se.getIsDynamic()}function bt(Ee){var rt=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,It=z.getCurrentDVRInfo(rt);if(!It)return 0;var tn=se.getOriginalLiveDelay(),gn=It.range.start+Ee;return gn>It.range.end-tn&&(gn=It.range.end-tn),gn}function rn(Ee){if(!C)throw dt;var rt=Ln().currentTime;if(void 0!==Ee)rt=G.getTimeRelativeToStreamId(rt,Ee);else if(se.getIsDynamic()){var It=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,tn=z.getCurrentDVRInfo(It);rt=null===tn||0===rt?0:Math.max(0,rt-tn.range.start)}return rt}function un(){if(!C)throw dt;var Ee=Ln().duration;if(se.getIsDynamic()){var rt=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,It=z.getCurrentDVRInfo(rt);Ee=It?It.range.end-It.range.start:0}return Ee}function hn(Ee){(0,ae.PS)(Ee,"boolean"),U=Ee}function En(){be.restoreDefaultUTCTimingSources()}function Fn(){return z}function Ln(){if(!Be.getElement())throw wt;return Be.getElement()}function Qn(Ee){if(!F)throw Le;Be.setElement(Ee),Ee&&(pt(),function(){if(!Ie){var rt=dashjs.MetricsReporting;if("function"==typeof rt){var It=rt(it).create();Ie=It.createMetricsReporting({debug:Ye,eventBus:Ne,mediaElement:Ln(),adapter:Se,dashMetrics:z,mediaPlayerModel:te,events:v.Z,constants:f.Z,metricsConstants:I.Z})}}}(),function(){if(!me){var rt=dashjs.MssHandler;"function"==typeof rt&&(_e.extend(rt.errors),me=rt(it).create({eventBus:Ne,mediaPlayerModel:te,dashMetrics:z,manifestModel:we,playbackController:se,streamController:G,protectionController:ee,baseURLController:ye,errHandler:le,events:v.Z,constants:f.Z,debug:Ye,initSegmentType:ut.w.INIT_SEGMENT_TYPE,BASE64:iu,ISOBoxer:$l,settings:Oe}))}}(),G&&G.switchToVideoElement(J)),C&&Tn(),je(J)}function Jn(Ee){if(!P)throw Ot;var rt=G.getActiveStreamInfo();return rt?ne.getTracksFor(Ee,rt.id):[]}function lr(Ee){var rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!F)throw Le;"string"==typeof Ee&&Ue.initialize(Ee),null==rt&&(rt=NaN),isNaN(rt)||(rt=Math.max(0,rt)),J=rt,b=Ee,(P||C)&&Tn(),st()&&je(J)}function Pt(){if(!P)throw Ot;var Ee=G.getActiveStreamInfo();return Ee?G.getStreamById(Ee.id):null}function Tn(){C=!1,P=!1,Se.reset(),G.reset(),B.reset(),ce.reset(),se.reset(),ie.reset(),he.reset(),re.reset(),ne.reset(),Nt.reset(),ee&&(Oe.get().streaming.protection.keepProtectionMediaKeys?ee.stop():(ee.reset(),ee=null,pt())),L.reset(),Me.reset(),Xe.reset()}function cn(){return fo(it).create({debug:Ye,errHandler:le,dashMetrics:z,mediaPlayerModel:te,requestModifier:(0,De.Z)(it).getInstance(),mssHandler:me,settings:Oe})}function pt(){if(ee)return ee;var Ee=dashjs.Protection;if("function"==typeof Ee){var rt=Ee(it).create();return v.Z.extend(Ee.events),h.Z.extend(Ee.events,{publicOnly:!0}),_e.extend(Ee.errors),w||(w=(0,Fd.Z)(it).getInstance()),ee=rt.createProtectionSystem({debug:Ye,errHandler:le,videoModel:Be,customParametersModel:be,capabilities:w,eventBus:Ne,events:v.Z,BASE64:iu,constants:f.Z,cmcdModel:Me,settings:Oe})}return null}function Bt(){if(!F)throw Le;if(Te)return Te;var Ee=dashjs.OfflineController;if("function"==typeof Ee){v.Z.extend(Ee.events),h.Z.extend(Ee.events,{publicOnly:!0}),_e.extend(Ee.errors);var rt=cn(),It=bd(it).create();return It.setConfig({manifestModel:we,adapter:Se,manifestLoader:rt,errHandler:le,contentSteeringController:he}),Te=Ee(it).create({debug:Ye,manifestUpdater:It,baseURLController:ye,manifestLoader:rt,manifestModel:we,mediaPlayerModel:te,abrController:re,playbackController:se,adapter:Se,errHandler:le,dashMetrics:z,timelineConverter:V,segmentBaseController:Nt,schemeLoaderFactory:K,eventBus:Ne,events:v.Z,errors:_e,constants:f.Z,settings:Oe,dashConstants:d.Z,urlUtils:(0,We.Z)(it).getInstance()})}return null}function lt(Ee){var rt=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,It=z.getCurrentDVRInfo(rt);return It?Ee+(It.manifestInfo.availableFrom.getTime()/1e3+It.range.start):0}function je(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;Te&&Te.resetRecords(),!P&&b&&(P=!0,p.info("Streaming Initialized"),function wn(){var Ee=cn();G||(G=Ed(it).getInstance()),L||(L=_s(it).create({errHandler:le,manifestModel:we,adapter:Se,mediaController:ne,videoModel:Be,settings:Oe})),q.setConfig({capabilities:w,customParametersModel:be,adapter:Se,settings:Oe,manifestModel:we,errHandler:le}),G.setConfig({capabilities:w,capabilitiesFilter:q,manifestLoader:Ee,manifestModel:we,mediaPlayerModel:te,customParametersModel:be,protectionController:ee,textController:L,adapter:Se,dashMetrics:z,errHandler:le,timelineConverter:V,videoModel:Be,playbackController:se,serviceDescriptionController:ie,contentSteeringController:he,abrController:re,mediaController:ne,settings:Oe,baseURLController:ye,uriFragmentModel:Ue,segmentBaseController:Nt}),B.setConfig({settings:Oe,playbackController:se,streamController:G,videoModel:Be,timelineConverter:V,adapter:Se}),se.setConfig({streamController:G,serviceDescriptionController:ie,dashMetrics:z,adapter:Se,videoModel:Be,timelineConverter:V,settings:Oe}),ce.setConfig({streamController:G,playbackController:se,mediaPlayerModel:te,videoModel:Be,settings:Oe}),re.setConfig({streamController:G,domStorage:He,mediaPlayerModel:te,customParametersModel:be,cmsdModel:Xe,dashMetrics:z,adapter:Se,videoModel:Be,settings:Oe}),Me.setConfig({abrController:re,dashMetrics:z,playbackController:se}),Xe.setConfig({}),re.initialize(),G.initialize(U,M),L.initialize(),B.initialize(),ce.initialize(),Me.initialize(),Xe.initialize(),he.initialize(),Nt.initialize()}(),"string"==typeof b?G.load(b,Ee):G.loadWithManifest(b,Ee)),!C&&st()&&(C=!0,p.info("Playback Initialized"))}return _={initialize:function(Ee,rt,It){var tn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;w||(w=(0,Fd.Z)(it).getInstance()).setConfig({settings:Oe}),le||(le=Co(it).getInstance()),w.supportsMediaSource()?(F||(F=!0,V=ru(it).getInstance(),re||(re=ms(it).getInstance()).setConfig({settings:Oe}),K||(K=rr(it).getInstance()),se||(se=T(it).getInstance()),ne||(ne=D0(it).getInstance()),G||(G=Ed(it).getInstance()),B||(B=Bc(it).getInstance()),ce||(ce=Td(it).getInstance()),ie||(ie=Bh(it).getInstance()),he||(he=wa(it).getInstance()),q||(q=Xc(it).getInstance()),Se=k0(it).getInstance(),we=fr(it).getInstance(),Me=Zt(it).getInstance(),Xe=So(it).getInstance(),z=nu(it).getInstance({settings:Oe}),He=gs(it).getInstance({settings:Oe}),Se.setConfig({constants:f.Z,cea608parser:N(),errHandler:le,BASE64:iu}),ye||(ye=wd(it).create()),ye.setConfig({adapter:Se,contentSteeringController:he}),ie.setConfig({adapter:Se}),Nt||(Nt=eu(it).getInstance({dashMetrics:z,mediaPlayerModel:te,errHandler:le,baseURLController:ye,events:v.Z,eventBus:Ne,debug:Ye,boxParser:(0,Ea.Z)(it).getInstance(),requestModifier:(0,De.Z)(it).getInstance(),errors:_e})),ne.setConfig({domStorage:He,settings:Oe,customParametersModel:be}),te.setConfig({playbackController:se,serviceDescriptionController:ie}),he.setConfig({adapter:Se,errHandler:le,dashMetrics:z,mediaPlayerModel:te,manifestModel:we,serviceDescriptionController:ie,eventBus:Ne,requestModifier:(0,De.Z)(it).getInstance()}),En(),hn(void 0===It||It),Bt()),Ee&&Qn(Ee),rt&&lr(rt,tn),p.info("[dash.js "+Vt()+"] MediaPlayer has been initialized")):le.error(new X.Z(_e.CAPABILITY_MEDIASOURCE_ERROR_CODE,_e.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(Ee){Ee&&(Ee.capabilities&&(w=Ee.capabilities),Ee.capabilitiesFilter&&(q=Ee.capabilitiesFilter),Ee.streamController&&(G=Ee.streamController),Ee.textController&&(L=Ee.textController),Ee.gapController&&(B=Ee.gapController),Ee.playbackController&&(se=Ee.playbackController),Ee.serviceDescriptionController&&(ie=Ee.serviceDescriptionController),Ee.contentSteeringController&&(he=Ee.contentSteeringController),Ee.catchupController&&(ce=Ee.catchupController),Ee.mediaPlayerModel&&(te=Ee.mediaPlayerModel),Ee.customParametersModel&&(be=Ee.customParametersModel),Ee.abrController&&(re=Ee.abrController),Ee.schemeLoaderFactory&&(K=Ee.schemeLoaderFactory),Ee.mediaController&&(ne=Ee.mediaController),Ee.settings&&(Oe=Ee.settings))},on:function(Ee,rt,It,tn){Ne.on(Ee,rt,It,tn)},off:function(Ee,rt,It){Ne.off(Ee,rt,It)},extend:function(Ee,rt,It){S.Z.extend(Ee,rt,It,it)},attachView:Qn,attachSource:lr,isReady:st,preload:function(){if(!Be.getElement()&&!P){if(!b)throw pn;je(J)}},play:function(){if(!C)throw dt;(!U||kt()&&C)&&se.play(!0)},isPaused:kt,pause:function(){if(!C)throw dt;se.pause()},isSeeking:function(){if(!C)throw dt;return se.isSeeking()},isDynamic:mn,getLowLatencyModeEnabled:function(){if(!C)throw dt;return se.getLowLatencyModeEnabled()},seek:function(Ee){if(!C)throw dt;if((0,ae.PS)(Ee,"number"),isNaN(Ee))throw f.Z.BAD_ARGUMENT_ERROR;Ee<0&&(Ee=0);var rt=se.getIsDynamic()?bt(Ee):Ee,It=Ln();!se.getIsDynamic()&&It.duration&&(rt=Math.min(It.duration,rt)),se.seek(rt,!1,!1,!0)},seekToOriginalLive:function(){C&&mn()&&se.seekToOriginalLive()},setPlaybackRate:function(Ee){Ln().playbackRate=Ee},getPlaybackRate:function(){return Ln().playbackRate},setMute:function(Ee){(0,ae.PS)(Ee,"boolean"),Ln().muted=Ee},isMuted:function(){return Ln().muted},setVolume:function(Ee){if("number"!=typeof Ee||isNaN(Ee)||Ee<0||Ee>1)throw f.Z.BAD_ARGUMENT_ERROR;Ln().volume=Ee},getVolume:function(){return Ln().volume},time:rn,duration:un,timeAsUTC:function(){if(!C)throw dt;return rn()<0?NaN:lt(rn())},durationAsUTC:function(){if(!C)throw dt;return lt(un())},getActiveStream:Pt,getDVRWindowSize:function(){var Ee=G&&G.hasVideoTrack()?f.Z.VIDEO:f.Z.AUDIO,rt=z.getCurrentDVRInfo(Ee);return rt?rt.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:bt,getAvailableBaseUrls:function(){var Ee=we.getValue();return Ee?ye.getBaseUrls(Ee):[]},getAvailableLocations:function(){var Ee=we.getValue();if(!Ee)return[];var rt=Se.getLocation(Ee),It=he.getSynthesizedLocationElements(rt);return rt.concat(It)},getTargetLiveDelay:function(){if(!C)throw dt;return se.getOriginalLiveDelay()},convertToTimeCode:function(Ee){Ee=Math.max(Ee,0);var rt=Math.floor(Ee/3600),It=Math.floor(Ee%3600/60),tn=Math.floor(Ee%3600%60);return(0===rt?"":rt<10?"0"+rt.toString()+":":rt.toString()+":")+(It<10?"0"+It.toString():It.toString())+":"+(tn<10?"0"+tn.toString():tn.toString())},formatUTC:function(Ee,rt,It){var tn=arguments.length>3&&void 0!==arguments[3]&&arguments[3],gn=new Date(1e3*Ee),Wn=gn.toLocaleDateString(rt),Lr=gn.toLocaleTimeString(rt,{hour12:It});return tn?Lr+" "+Wn:Lr},getVersion:Vt,getDebug:function(){return Ye},getBufferLength:function(Ee){var rt=[f.Z.VIDEO,f.Z.AUDIO,f.Z.TEXT];if(Ee)return-1!==rt.indexOf(Ee)?Fn().getCurrentBufferLevel(Ee)||NaN:(p.warn("getBufferLength requested for invalid type"),NaN);var It=rt.map(function(tn){return Jn(tn).length>0?Fn().getCurrentBufferLevel(tn):Number.MAX_VALUE}).reduce(function(tn,gn){return Math.min(tn,gn)});return It===Number.MAX_VALUE?NaN:It},getTTMLRenderingDiv:function(){return Be?Be.getTTMLRenderingDiv():null},getVideoElement:Ln,getSource:function(){if(!b)throw pn;return b},updateSource:function(Ee){G.load(b=Ee)},getCurrentLiveLatency:function(){if(!F)throw Le;return C?se.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(Ee){if(!P)throw Ot;return re.getTopBitrateInfoFor(Ee)},setAutoPlay:hn,getAutoPlay:function(){return U},getDashMetrics:Fn,getQualityFor:function(Ee){if(!P)throw Ot;if(Ee===f.Z.IMAGE){var rt=Pt();if(!rt)return-1;var It=rt.getThumbnailController();return It?It.getCurrentTrackIndex():-1}return re.getQualityFor(Ee)},setQualityFor:function(Ee,rt){var It=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!P)throw Ot;if(Ee===f.Z.IMAGE){var tn=Pt();if(!tn)return;var gn=tn.getThumbnailController();gn&&gn.setTrackByIndex(rt)}re.setPlaybackQuality(Ee,G.getActiveStreamInfo(),rt,{forceReplace:It})},updatePortalSize:function(){re.setElementSize(),re.setWindowResizeEventCalled(!0)},enableText:function(Ee){var rt=G.getActiveStreamInfo();return!(!rt||!L)&&L.enableText(rt.id,Ee)},enableForcedTextStreaming:function(Ee){return!(!G.getActiveStreamInfo()||!L)&&L.enableForcedTextStreaming(Ee)},isTextEnabled:function(){var Ee=G.getActiveStreamInfo();return!(!Ee||!L)&&L.isTextEnabled(Ee)},setTextTrack:function(Ee){if(!C)throw dt;var rt=G.getActiveStreamInfo();rt&&L&&L.setTextTrack(rt.id,Ee)},getBitrateInfoListFor:function(Ee){if(!P)throw Ot;var rt=Pt();return rt?rt.getBitrateListFor(Ee):[]},getStreamsFromManifest:function(Ee){if(!P)throw Ot;return Se.getStreamsInfo(Ee)},getTracksFor:Jn,getTracksForTypeFromManifest:function(Ee,rt,It){if(!P)throw Ot;return(It=It||Se.getStreamsInfo(rt,1)[0])?Se.getAllMediaInfoForType(It,Ee,rt):[]},getCurrentTrackFor:function(Ee){if(!P)throw Ot;var rt=G.getActiveStreamInfo();return ne.getCurrentTrackFor(Ee,rt.id)},setInitialMediaSettingsFor:function(Ee,rt){if(!F)throw Le;ne.setInitialSettings(Ee,rt)},getInitialMediaSettingsFor:function(Ee){if(!F)throw Le;return ne.getInitialSettings(Ee)},setCurrentTrack:function(Ee){if(!P)throw Ot;ne.setTrack(Ee,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},addABRCustomRule:function(Ee,rt,It){be.addAbrCustomRule(Ee,rt,It)},removeABRCustomRule:function(Ee){be.removeAbrCustomRule(Ee)},removeAllABRCustomRule:function(){be.removeAllAbrCustomRule()},getABRCustomRules:function(){return be.getAbrCustomRules()},getAverageThroughput:function(Ee){var rt=re.getThroughputHistory(),It=se.getIsDynamic();return rt?rt.getAverageThroughput(Ee,It):0},retrieveManifest:function(Ee,rt){var It=cn(),tn=this;Ne.on(v.Z.INTERNAL_MANIFEST_LOADED,function gn(Wn){Wn.error?rt(null,Wn.error):rt(Wn.manifest),Ne.off(v.Z.INTERNAL_MANIFEST_LOADED,gn,tn),It.reset()},tn),Ue.initialize(Ee),It.load(Ee)},addUTCTimingSource:function(Ee,rt){be.addUTCTimingSource(Ee,rt)},removeUTCTimingSource:function(Ee,rt){be.removeUTCTimingSource(Ee,rt)},clearDefaultUTCTimingSources:function(){be.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:En,setXHRWithCredentialsForType:function(Ee,rt){be.setXHRWithCredentialsForType(Ee,rt)},getXHRWithCredentialsForType:function(Ee){return be.getXHRWithCredentialsForType(Ee)},getProtectionController:function(){return pt()},attachProtectionController:function(Ee){ee=Ee},setProtectionData:function(Ee){M=Ee,G&&G.setProtectionData(M)},registerLicenseRequestFilter:function(Ee){be.registerLicenseRequestFilter(Ee)},registerLicenseResponseFilter:function(Ee){be.registerLicenseResponseFilter(Ee)},unregisterLicenseRequestFilter:function(Ee){be.unregisterLicenseRequestFilter(Ee)},unregisterLicenseResponseFilter:function(Ee){be.unregisterLicenseResponseFilter(Ee)},registerCustomCapabilitiesFilter:function(Ee){be.registerCustomCapabilitiesFilter(Ee)},unregisterCustomCapabilitiesFilter:function(Ee){be.unregisterCustomCapabilitiesFilter(Ee)},setCustomInitialTrackSelectionFunction:function(Ee){be.setCustomInitialTrackSelectionFunction(Ee)},resetCustomInitialTrackSelectionFunction:function(){be.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(Ee){if(!Be.getElement())throw wt;Be.setTTMLRenderingDiv(Ee)},attachVttRenderingDiv:function(Ee){if(!Be.getElement())throw wt;Be.setVttRenderingDiv(Ee)},getCurrentTextTrackIndex:function(){var Ee=G.getActiveStreamInfo();if(Ee&&L)return L.getCurrentTrackIdx(Ee.id)},provideThumbnail:function(Ee,rt){if("function"==typeof rt)if(Ee<0)rt(null);else{var It=se.getIsDynamic()?bt(Ee):Ee,tn=G.getStreamForTime(It);if(null!==tn){var gn=tn.getThumbnailController();if(gn)return gn.provide(It,rt);rt(null)}else rt(null)}},getDashAdapter:function(){return Se},getOfflineController:function(){return Bt()},triggerSteeringRequest:function(){if(he)return he.loadSteeringData()},getCurrentSteeringResponseData:function(){if(he)return he.getCurrentSteeringResponseData()},getSettings:function(){return Oe.get()},updateSettings:function(Ee){Oe.update(Ee)},resetSettings:function(){Oe.reset()},reset:nt,destroy:function(){nt(),S.Z.deleteSingletonInstances(it)}},p=Ye.getLogger(_),F=!1,C=!1,P=!1,U=!0,J=NaN,ee=null,Te=null,M=null,Se=null,Nt=null,v.Z.extend(h.Z),te=Gl(it).getInstance(),be=(0,Wt.Z)(it).getInstance(),Be=Ks(it).getInstance(),Ue=vi(it).getInstance(),_}rp.__dashjs_factory_name="MediaPlayer";var uu=S.Z.getClassFactory(rp);uu.events=h.Z,uu.errors=_e,S.Z.updateClassFactory(rp.__dashjs_factory_name,uu);var ip=uu},8825:function(Et,ze,H){"use strict";function ve(A){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(A)}function N(A,v){return(N=Object.setPrototypeOf||function(S,D){return S.__proto__=D,S})(A,v)}function d(A){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(A)}var I=new(function(A){!function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&N(y,T)}(h,A);var v,S,D=(v=h,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,T=d(v);if(S){var j=d(this).constructor;y=Reflect.construct(T,arguments,j)}else y=T.apply(this,arguments);return function f(A,v){return!v||"object"!==ve(v)&&"function"!=typeof v?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(A):v}(this,y)});function h(){var y;return function(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}(this,h),(y=D.call(this)).AST_IN_FUTURE="astInFuture",y.BASE_URLS_UPDATED="baseUrlsUpdated",y.BUFFER_EMPTY="bufferStalled",y.BUFFER_LOADED="bufferLoaded",y.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",y.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",y.DYNAMIC_TO_STATIC="dynamicToStatic",y.ERROR="error",y.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",y.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",y.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",y.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",y.LOG="log",y.MANIFEST_LOADING_STARTED="manifestLoadingStarted",y.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",y.MANIFEST_LOADED="manifestLoaded",y.METRICS_CHANGED="metricsChanged",y.METRIC_CHANGED="metricChanged",y.METRIC_ADDED="metricAdded",y.METRIC_UPDATED="metricUpdated",y.PERIOD_SWITCH_STARTED="periodSwitchStarted",y.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",y.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",y.QUALITY_CHANGE_RENDERED="qualityChangeRendered",y.TRACK_CHANGE_RENDERED="trackChangeRendered",y.STREAM_INITIALIZING="streamInitializing",y.STREAM_UPDATED="streamUpdated",y.STREAM_ACTIVATED="streamActivated",y.STREAM_DEACTIVATED="streamDeactivated",y.STREAM_INITIALIZED="streamInitialized",y.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",y.TEXT_TRACKS_ADDED="allTextTracksAdded",y.TEXT_TRACK_ADDED="textTrackAdded",y.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",y.TTML_PARSED="ttmlParsed",y.TTML_TO_PARSE="ttmlToParse",y.CAPTION_RENDERED="captionRendered",y.CAPTION_CONTAINER_RESIZE="captionContainerResize",y.CAN_PLAY="canPlay",y.CAN_PLAY_THROUGH="canPlayThrough",y.PLAYBACK_ENDED="playbackEnded",y.PLAYBACK_ERROR="playbackError",y.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",y.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",y.PLAYBACK_LOADED_DATA="playbackLoadedData",y.PLAYBACK_PAUSED="playbackPaused",y.PLAYBACK_PLAYING="playbackPlaying",y.PLAYBACK_PROGRESS="playbackProgress",y.PLAYBACK_RATE_CHANGED="playbackRateChanged",y.PLAYBACK_SEEKED="playbackSeeked",y.PLAYBACK_SEEKING="playbackSeeking",y.PLAYBACK_STALLED="playbackStalled",y.PLAYBACK_STARTED="playbackStarted",y.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",y.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",y.PLAYBACK_WAITING="playbackWaiting",y.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",y.EVENT_MODE_ON_START="eventModeOnStart",y.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",y.CONFORMANCE_VIOLATION="conformanceViolation",y.REPRESENTATION_SWITCH="representationSwitch",y.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",y.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",y.INBAND_PRFT="inbandPrft",y}return h}(H(8342).Z));ze.Z=I},3393:function(Et,ze){"use strict";var ve=new(function(){function N(){(function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")})(this,N),this.init()}var d;return(d=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}());ze.Z=ve},3860:function(Et,ze){"use strict";var ve=new(function(){function N(){(function(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")})(this,N),this.init()}var d;return(d=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}());ze.Z=ve},8080:function(Et,ze,H){"use strict";H.d(ze,{default:function(){return R}});var ve=function O(){(function(ae,oe){if(!(ae instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,O),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};ve.SSL_CONNECTION_FAILED_PREFIX="SSL",ve.DNS_RESOLUTION_FAILED="C00",ve.HOST_UNREACHABLE="C01",ve.CONNECTION_REFUSED="C02",ve.CONNECTION_ERROR="C03",ve.CORRUPT_MEDIA_ISOBMFF="M00",ve.CORRUPT_MEDIA_OTHER="M01",ve.BASE_URL_CHANGED="F00",ve.BECAME_REPORTER="S00";var N=ve,f=H(1180);function d(O){var ae,oe,De=(O=O||{}).eventBus,We=O.dashMetrics,$e=O.metricsConstants,Fe=O.events;function qe(Mt){var ln=new N;if(oe){for(var _n in Mt)Mt.hasOwnProperty(_n)&&(ln[_n]=Mt[_n]);ln.mpdurl||(ln.mpdurl=oe.originalUrl||oe.url),ln.terror||(ln.terror=new Date),We.addDVBErrors(ln)}}function ht(Mt){Mt.error||(oe=Mt.manifest)}function Ce(Mt){qe({errorcode:N.BASE_URL_CHANGED,servicelocation:Mt.entry})}function tt(){qe({errorcode:N.BECAME_REPORTER})}function Ze(Mt){var ln;Mt.metric===$e.HTTP_REQUEST&&(0===(ln=Mt.value).responsecode||null==ln.responsecode||ln.responsecode>=400||ln.responsecode<100||ln.responsecode>=600)&&qe({errorcode:ln.responsecode||N.CONNECTION_ERROR,url:ln.url,terror:ln.tresponse,servicelocation:ln._serviceLocation})}function Tt(Mt){var ln;switch(Mt.error?Mt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:ln=N.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:ln=N.CORRUPT_MEDIA_OTHER;break;default:return}qe({errorcode:ln})}return ae={initialize:function(){De.on(Fe.MANIFEST_UPDATED,ht,ae),De.on(Fe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Ce,ae),De.on(Fe.METRIC_ADDED,Ze,ae),De.on(Fe.METRIC_UPDATED,Ze,ae),De.on(Fe.PLAYBACK_ERROR,Tt,ae),De.on(f.Z.BECAME_REPORTING_PLAYER,tt,ae)},reset:function(){De.off(Fe.MANIFEST_UPDATED,ht,ae),De.off(Fe.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,Ce,ae),De.off(Fe.METRIC_ADDED,Ze,ae),De.off(Fe.METRIC_UPDATED,Ze,ae),De.off(Fe.PLAYBACK_ERROR,Tt,ae),De.off(f.Z.BECAME_REPORTING_PLAYER,tt,ae)}}}d.__dashjs_factory_name="DVBErrorsTranslator";var I=dashjs.FactoryMaker.getSingletonFactory(d),A=H(2295);function v(O){var ae,oe,De=!1,$e=(O=O||{}).mediaElement;return ae={initialize:function(Fe){Fe&&Fe.length&&(Fe.forEach(function(qe){var ht=qe.starttime;oe.add(ht,ht+qe.duration)}),De=!!Fe[0]._useWallClockTime)},reset:function(){oe.clear()},isEnabled:function(){var Fe,qe=oe.length;if(!qe)return!0;Fe=De?(new Date).getTime()/1e3:$e.currentTime;for(var ht=0;ht<qe;ht+=1){var Ce=oe.start(ht),tt=oe.end(ht);if(Ce<=Fe&&Fe<tt)return!0}return!1}},oe=(0,A.Z)(this.context).create(),ae}v.__dashjs_factory_name="RangeController";var S=dashjs.FactoryMaker.getClassFactory(v);function D(){return{serialise:function O(ae){var oe,De,We=[],$e=[];for(oe in ae)if(ae.hasOwnProperty(oe)&&0!==oe.indexOf("_")){if(null==(De=ae[oe])&&(De=""),Array.isArray(De)){if(!De.length)continue;$e=[],De.forEach(function(Fe){var qe="Object"!==Object.prototype.toString.call(Fe).slice(8,-1);$e.push(qe?Fe:O(Fe))}),De=$e.map(encodeURIComponent).join(",")}else"string"==typeof De?De=encodeURIComponent(De):De instanceof Date?De=De.toISOString():"number"==typeof De&&(De=Math.round(De));We.push(oe+"="+De)}return We.join("&")}}}D.__dashjs_factory_name="MetricSerialiser";var h=dashjs.FactoryMaker.getSingletonFactory(D);function y(){var O,ae,oe,De=window.crypto||window.msCrypto,We=Uint32Array,$e=Math.pow(2,8*We.BYTES_PER_ELEMENT)-1;function Fe(){De&&(O||(O=new We(10)),De.getRandomValues(O),ae=0)}return oe={random:function(qe,ht){var Ce;return qe||(qe=0),ht||(ht=1),De?(ae===O.length&&Fe(),Ce=O[ae]/$e,ae+=1):Ce=Math.random(),Ce*(ht-qe)+qe}},Fe(),oe}y.__dashjs_factory_name="RNG";var T=dashjs.FactoryMaker.getSingletonFactory(y),j=H(5717);function Q(O){var ae,oe,De,We,$e,Fe,qe,ht,Ce=this.context,tt=[],Ze=(O=O||{}).metricsConstants;function Tt(){$e=!1,Fe=!1,qe=null,ht=null}return ae={report:function(Mt,ln){Array.isArray(ln)||(ln=[ln]),Fe&&ht.isEnabled()&&ln.forEach(function(_n){var Dn=oe.serialise(_n);Mt!==Ze.DVB_ERRORS&&(Dn="metricname=".concat(Mt,"&").concat(Dn)),function(In,Xn,Bn){var Er=new XMLHttpRequest;Er.withCredentials=De.getXHRWithCredentialsForType(Ze.HTTP_REQUEST_DVB_REPORTING_TYPE);var gi=function(){var Dr=tt.indexOf(Er);-1!==Dr&&(tt.splice(Dr,1),!(Er.status>=200&&Er.status<300)&&Bn&&Bn())};tt.push(Er);try{Er.open("GET",In),Er.onloadend=gi,Er.onerror=gi,Er.send()}catch{Er.onerror()}}(Dn="".concat(qe,"?").concat(Dn),0,function(){Fe=!1})})},initialize:function(Mt,ln){var _n;if(ht=ln,!(qe=Mt.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");$e||((_n=Mt.dvb_probability)&&(1e3===_n||_n/1e3>=We.random())&&(Fe=!0),$e=!0)},reset:function(){Tt()}},oe=h(Ce).getInstance(),We=T(Ce).getInstance(),De=(0,j.Z)(Ce).getInstance(),Tt(),ae}Q.__dashjs_factory_name="DVBReporting";var Y=dashjs.FactoryMaker.getClassFactory(Q);function $(O){var oe={"urn:dvb:dash:reporting:2014":Y},De=this.context,We=(O=O||{}).debug?O.debug.getLogger(undefined):{},$e=O.metricsConstants,Fe=O.mediaPlayerModel||{};return{create:function(qe,ht){var Ce;try{(Ce=oe[qe.schemeIdUri](De).create({metricsConstants:$e,mediaPlayerModel:Fe})).initialize(qe,ht)}catch(tt){Ce=null,We.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(qe.schemeIdUri," (").concat(tt.message,")"))}return Ce},register:function(qe,ht){oe[qe]=ht},unregister:function(qe){delete oe[qe]}}}$.__dashjs_factory_name="ReportingFactory";var fe=dashjs.FactoryMaker.getSingletonFactory($);function Z(O){var ae=[],oe=fe(this.context).getInstance(O);return{initialize:function(De,We){De.some(function($e){var Fe=oe.create($e,We);if(Fe)return ae.push(Fe),!0})},reset:function(){ae.forEach(function(De){return De.reset()}),ae=[]},report:function(De,We){ae.forEach(function($e){return $e.report(De,We)})}}}Z.__dashjs_factory_name="ReportingController";var k=dashjs.FactoryMaker.getClassFactory(Z);function X(){return{reconstructFullMetricName:function(O,ae,oe){var De=O;return ae&&(De+="("+ae,oe&&oe.length&&(De+=","+oe),De+=")"),De},validateN:function(O){if(!O)throw new Error("missing n");if(isNaN(O))throw new Error("n is NaN");if(O<0)throw new Error("n must be positive");return O}}}X.__dashjs_factory_name="HandlerHelpers";var ue=dashjs.FactoryMaker.getSingletonFactory(X);function de(O){var ae,oe,De,We,$e;O=O||{};var qe=ue(this.context).getInstance(),ht=[],Ce=O.metricsConstants;function tt(){var Ze=function(){try{return Object.keys(ht).map(function(Tt){return ht[Tt]}).reduce(function(Tt,Mt){return Tt.level<Mt.level?Tt:Mt})}catch{return}}();Ze&&$e!==Ze.t&&($e=Ze.t,ae.report(De,Ze))}return{initialize:function(Ze,Tt,Mt){Tt&&(oe=qe.validateN(Mt),ae=Tt,De=qe.reconstructFullMetricName(Ze,Mt),We=setInterval(tt,oe))},reset:function(){clearInterval(We),We=null,oe=0,ae=null,$e=null},handleNewMetric:function(Ze,Tt,Mt){Ze===Ce.BUFFER_LEVEL&&(ht[Mt]=Tt)}}}de.__dashjs_factory_name="BufferLevelHandler";var Pe=dashjs.FactoryMaker.getClassFactory(de),gt=dashjs.FactoryMaker.getClassFactory(function(O){var ae,oe=(O=O||{}).eventBus,De=O.metricsConstants;function We(){oe.off(f.Z.METRICS_INITIALISATION_COMPLETE,We,this),oe.trigger(f.Z.BECAME_REPORTING_PLAYER)}return{initialize:function($e,Fe){Fe&&(ae=Fe,oe.on(f.Z.METRICS_INITIALISATION_COMPLETE,We,this))},reset:function(){ae=null},handleNewMetric:function($e,Fe){$e===De.DVB_ERRORS&&ae&&ae.report($e,Fe)}}});function _e(O){var ae,oe,De,We,$e;O=O||{};var Fe=[],qe=ue(this.context).getInstance(),ht=O.metricsConstants;function Ce(){Fe.length&&ae&&ae.report(We,Fe),Fe=[]}return{initialize:function(tt,Ze,Tt,Mt){Ze&&(oe=qe.validateN(Tt),ae=Ze,Mt&&Mt.length&&(De=Mt),We=qe.reconstructFullMetricName(tt,Tt,Mt),$e=setInterval(Ce,oe))},reset:function(){clearInterval($e),$e=null,oe=null,De=null,Fe=[],ae=null},handleNewMetric:function(tt,Ze){tt===ht.HTTP_REQUEST&&(De&&De!==Ze.type||Fe.push(Ze))}}}_e.__dashjs_factory_name="HttpListHandler";var Ge=dashjs.FactoryMaker.getClassFactory(_e);function ut(){var O,ae;return{initialize:function(oe,De){O=oe,ae=De},reset:function(){ae=null,O=void 0},handleNewMetric:function(oe,De){oe===O&&ae&&ae.report(O,De)}}}ut.__dashjs_factory_name="GenericMetricHandler";var Ve=dashjs.FactoryMaker.getClassFactory(ut);function ke(O){var oe=(O=O||{}).debug?O.debug.getLogger(undefined):{},De=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,We=this.context,$e={BufferLevel:Pe,DVBErrors:gt,HttpList:Ge,PlayList:Ve,RepSwitchList:Ve,TcpList:Ve};return{create:function(Fe,qe){var ht,Ce=Fe.match(De);if(Ce){try{(ht=$e[Ce[1]](We).create({eventBus:O.eventBus,metricsConstants:O.metricsConstants})).initialize(Ce[1],qe,Ce[3],Ce[5])}catch(tt){ht=null,oe.error("MetricsHandlerFactory: Could not create handler for type ".concat(Ce[1]," with args ").concat(Ce[3],", ").concat(Ce[5]," (").concat(tt.message,")"))}return ht}},register:function(Fe,qe){$e[Fe]=qe},unregister:function(Fe){delete $e[Fe]}}}ke.__dashjs_factory_name="MetricsHandlerFactory";var ot=dashjs.FactoryMaker.getSingletonFactory(ke);function Qe(O){var ae,oe=[],We=(O=O||{}).eventBus,$e=O.events,Fe=ot(this.context).getInstance({debug:O.debug,eventBus:O.eventBus,metricsConstants:O.metricsConstants});function qe(ht){oe.forEach(function(Ce){Ce.handleNewMetric(ht.metric,ht.value,ht.mediaType)})}return ae={initialize:function(ht,Ce){ht.split(",").forEach(function(tt,Ze,Tt){var Mt;if(-1!==tt.indexOf("(")&&-1===tt.indexOf(")")){var ln=Tt[Ze+1];ln&&-1===ln.indexOf("(")&&-1!==ln.indexOf(")")&&(tt+=","+ln,delete Tt[Ze+1])}(Mt=Fe.create(tt,Ce))&&oe.push(Mt)}),We.on($e.METRIC_ADDED,qe,ae),We.on($e.METRIC_UPDATED,qe,ae)},reset:function(){We.off($e.METRIC_ADDED,qe,ae),We.off($e.METRIC_UPDATED,qe,ae),oe.forEach(function(ht){return ht.reset()}),oe=[]}}}Qe.__dashjs_factory_name="MetricsHandlersController";var Rt=dashjs.FactoryMaker.getClassFactory(Qe);function xe(O){var ae,oe,De;O=O||{};var We=this.context;function $e(){ae&&ae.reset(),oe&&oe.reset(),De&&De.reset()}return{initialize:function(Fe){try{(De=S(We).create({mediaElement:O.mediaElement})).initialize(Fe.Range),(oe=k(We).create({debug:O.debug,metricsConstants:O.metricsConstants,mediaPlayerModel:O.mediaPlayerModel})).initialize(Fe.Reporting,De),(ae=Rt(We).create({debug:O.debug,eventBus:O.eventBus,metricsConstants:O.metricsConstants,events:O.events})).initialize(Fe.metrics,oe)}catch(qe){throw $e(),qe}},reset:$e}}xe.__dashjs_factory_name="MetricsController";var et=dashjs.FactoryMaker.getClassFactory(xe),jt=function O(){(function(ae,oe){if(!(ae instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,O),this.metrics="",this.Range=[],this.Reporting=[]},Ct=function O(){(function(ae,oe){if(!(ae instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,O),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},Je=function O(){(function(ae,oe){if(!(ae instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,O),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function yt(O){var ae=(O=O||{}).adapter,oe=O.constants;return{getMetrics:function(De){var We=[];return De&&De.Metrics_asArray&&De.Metrics_asArray.forEach(function($e){var Fe=new jt,qe=ae.getIsDynamic(De);$e.hasOwnProperty("metrics")&&(Fe.metrics=$e.metrics,$e.Range_asArray&&$e.Range_asArray.forEach(function(ht){var tt,Tt,Mt,ln,_n,Ce=new Ct;Ce.starttime=(tt=De,Tt=ht,_n=0,qe?_n=ae.getAvailabilityStartTime(tt)/1e3:(Mt=ae.getRegularPeriods(tt)).length&&(_n=Mt[0].start),ln=_n,Tt&&Tt.hasOwnProperty(oe.START_TIME)&&(ln+=Tt.starttime),ln),Ce.duration=ht.hasOwnProperty("duration")?ht.duration:ae.getDuration(De),Ce._useWallClockTime=qe,Fe.Range.push(Ce)}),$e.Reporting_asArray&&($e.Reporting_asArray.forEach(function(ht){var Ce=new Je;ht.hasOwnProperty(oe.SCHEME_ID_URI)&&(Ce.schemeIdUri=ht.schemeIdUri,ht.hasOwnProperty("value")&&(Ce.value=ht.value),ht.hasOwnProperty(oe.DVB_REPORTING_URL)&&(Ce.dvb_reportingUrl=ht[oe.DVB_REPORTING_URL]),ht.hasOwnProperty(oe.DVB_PROBABILITY)&&(Ce.dvb_probability=ht[oe.DVB_PROBABILITY]),Fe.Reporting.push(Ce))}),We.push(Fe)))}),We}}}yt.__dashjs_factory_name="ManifestParsing";var pe=dashjs.FactoryMaker.getSingletonFactory(yt);function Ae(O){var ae,oe={},De=this.context,We=(O=O||{}).eventBus,$e=O.events;function Fe(ht){if(!ht.error){var Ce=Object.keys(oe);pe(De).getInstance({adapter:O.adapter,constants:O.constants}).getMetrics(ht.manifest).forEach(function(tt){var Ze=JSON.stringify(tt);if(oe.hasOwnProperty(Ze))Ce.splice(Ze,1);else try{var Tt=et(De).create(O);Tt.initialize(tt),oe[Ze]=Tt}catch{}}),Ce.forEach(function(tt){oe[tt].reset(),delete oe[tt]}),We.trigger(f.Z.METRICS_INITIALISATION_COMPLETE)}}function qe(){Object.keys(oe).forEach(function(ht){oe[ht].reset()}),oe={}}return ae={reset:function(){We.off($e.MANIFEST_UPDATED,Fe,ae),We.off($e.STREAM_TEARDOWN_COMPLETE,qe,ae)}},We.on($e.MANIFEST_UPDATED,Fe,ae),We.on($e.STREAM_TEARDOWN_COMPLETE,qe,ae),ae}Ae.__dashjs_factory_name="MetricsCollectionController";var at=dashjs.FactoryMaker.getClassFactory(Ae);function E(){var O=this.context;return{createMetricsReporting:function(ae){return I(O).getInstance({eventBus:ae.eventBus,dashMetrics:ae.dashMetrics,metricsConstants:ae.metricsConstants,events:ae.events}).initialize(),at(O).create(ae)},getReportingFactory:function(){return fe(O).getInstance()},getMetricsHandlerFactory:function(){return ot(O).getInstance()}}}E.__dashjs_factory_name="MetricsReporting";var g=dashjs.FactoryMaker.getClassFactory(E);g.events=f.Z,dashjs.FactoryMaker.updateClassFactory(E.__dashjs_factory_name,g);var R=g},1180:function(Et,ze,H){"use strict";function ve(A){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(A)}function N(A,v){return(N=Object.setPrototypeOf||function(S,D){return S.__proto__=D,S})(A,v)}function d(A){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(A)}var I=new(function(A){!function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),T&&N(y,T)}(h,A);var v,S,D=(v=h,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var y,T=d(v);if(S){var j=d(this).constructor;y=Reflect.construct(T,arguments,j)}else y=T.apply(this,arguments);return function f(A,v){return!v||"object"!==ve(v)&&"function"!=typeof v?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(A):v}(this,y)});function h(){var y;return function(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}(this,h),(y=D.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",y.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",y.CMCD_DATA_GENERATED="cmcdDataGenerated",y}return h}(H(8342).Z));ze.Z=I},5717:function(Et,ze,H){"use strict";var ve=H(2610),N=H(5448),f=H(1264),d=H(3106),I=H(1767),A=H(3393);function v(){var S,D,h,y,T,j,Q,Y,fe=(0,f.Z)(this.context).getInstance();function Z(){y=[],T=[],j=[],Y=[],Q=null,D=[]}function k(Pe,gt){var _e=-1;Pe.some(function(Ge,ut){if(Ge===gt)return _e=ut,!0}),_e<0||Pe.splice(_e,1)}function X(Pe){var gt;for(gt=0;gt<Y.length;gt++)if(Y[gt].rulename===Pe)return gt;return-1}function ue(Pe,gt){de(Pe,gt);var _e=new ve.Z;_e.schemeIdUri=Pe,_e.value=gt,D.push(_e)}function de(Pe,gt){(0,d.PS)(Pe,"string"),(0,d.PS)(gt,"string"),D.forEach(function(_e,Ge){_e.schemeIdUri===Pe&&_e.value===gt&&D.splice(Ge,1)})}return S={getCustomInitialTrackSelectionFunction:function(){return Q},setCustomInitialTrackSelectionFunction:function(Pe){Q=Pe},resetCustomInitialTrackSelectionFunction:function(){Q=null},getLicenseResponseFilters:function(){return T},getLicenseRequestFilters:function(){return y},getCustomCapabilitiesFilters:function(){return j},registerCustomCapabilitiesFilter:function(Pe){j.push(Pe)},registerLicenseResponseFilter:function(Pe){T.push(Pe)},registerLicenseRequestFilter:function(Pe){y.push(Pe)},unregisterCustomCapabilitiesFilter:function(Pe){k(j,Pe)},unregisterLicenseResponseFilter:function(Pe){k(T,Pe)},unregisterLicenseRequestFilter:function(Pe){k(y,Pe)},addAbrCustomRule:function(Pe,gt,_e){if("string"!=typeof Pe||Pe!==I.Z.ABANDON_FRAGMENT_RULES&&Pe!==I.Z.QUALITY_SWITCH_RULES||"string"!=typeof gt)throw A.Z.BAD_ARGUMENT_ERROR;var Ge=X(gt);-1===Ge?Y.push({type:Pe,rulename:gt,rule:_e}):(Y[Ge].type=Pe,Y[Ge].rule=_e)},removeAllAbrCustomRule:function(){Y=[]},removeAbrCustomRule:function(Pe){if(Pe){var gt=X(Pe);-1!==gt&&Y.splice(gt,1)}else Y=[]},getAbrCustomRules:function(){return Y},addUTCTimingSource:ue,removeUTCTimingSource:de,getUTCTimingSources:function(){return D},clearDefaultUTCTimingSources:function(){D=[]},restoreDefaultUTCTimingSources:function(){var Pe=fe.get().streaming.utcSynchronization.defaultTimingSource;ue(Pe.scheme,Pe.value)},setXHRWithCredentialsForType:function Pe(gt,_e){gt?h[gt]=!!_e:Object.keys(h).forEach(function(Ge){Pe(Ge,_e)})},getXHRWithCredentialsForType:function(Pe){var gt=h[Pe];return void 0===gt?h.default:gt},setConfig:function(){},reset:function(){Z()}},h={default:!1},Z(),S}v.__dashjs_factory_name="CustomParametersModel",ze.Z=N.Z.getSingletonFactory(v)},9032:function(Et,ze,H){"use strict";var ve=H(5448),N=H(7473);function f(I){var A=(I=I||{}).requestModifier;function v(S){var D=new Date,h=S.request,y=new XMLHttpRequest;if(y.open(S.method,S.url,!0),h.responseType&&(y.responseType=h.responseType),h.range&&y.setRequestHeader("Range","bytes="+h.range),h.requestStartDate||(h.requestStartDate=D),A&&A.modifyRequestHeader&&(y=A.modifyRequestHeader(y,{url:S.url})),S.headers)for(var T in S.headers){var j=S.headers[T];j&&y.setRequestHeader(T,j)}y.withCredentials=S.withCredentials,y.onload=S.onload,y.onloadend=S.onend,y.onerror=S.onerror,y.onprogress=S.progress,y.onabort=S.onabort,y.ontimeout=S.ontimeout,y.timeout=S.timeout,y.send(),S.response=y}return{load:function(S){A&&A.modifyRequest?(0,N.k)(S,A).then(function(){return v(S)}):v(S)},abort:function(S){var D=S.response;D.onloadend=D.onerror=D.onprogress=void 0,D.abort()}}}f.__dashjs_factory_name="XHRLoader";var d=ve.Z.getClassFactory(f);ze.Z=d},1737:function(Et,ze,H){"use strict";H.d(ze,{default:function(){return qs}});var N={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},f=function(){function zt(){!function(ft,At){if(!(ft instanceof At))throw new TypeError("Cannot call a class as a function")}(this,zt)}var Ht;return(Ht=[{key:"findCencContentProtection",value:function(ft){for(var At=null,mt=0;mt<ft.length;++mt){var St=ft[mt];"urn:mpeg:dash:mp4protection:2011"!==St.schemeIdUri.toLowerCase()||"cenc"!==St.value.toLowerCase()&&"cbcs"!==St.value.toLowerCase()||(At=St)}return At}},{key:"getPSSHData",value:function(ft){var At=8,mt=new DataView(ft),St=mt.getUint8(At);return At+=20,St>0&&(At+=4+16*mt.getUint32(At)),ft.slice(At+=4)}},{key:"getPSSHForKeySystem",value:function(ft,At){var mt=zt.parsePSSHList(At);return ft&&mt.hasOwnProperty(ft.uuid.toLowerCase())?mt[ft.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(ft,At){return"pssh"in ft?(ft.pssh.__text=ft.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),At.decodeArray(ft.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(ft){if(null==ft)return[];for(var At=new DataView(ft.buffer||ft),mt={},St=0;;){var en,nn,fn=void 0,An=St;if(St>=At.buffer.byteLength)break;if(en=St+At.getUint32(St),1886614376===At.getUint32(St+=4))if(0===(nn=At.getUint8(St+=4))||1===nn){St++,St+=3,fn="";var sn=void 0,Lt=void 0;for(sn=0;sn<4;sn++)fn+=1===(Lt=At.getUint8(St+sn).toString(16)).length?"0"+Lt:Lt;for(St+=4,fn+="-",sn=0;sn<2;sn++)fn+=1===(Lt=At.getUint8(St+sn).toString(16)).length?"0"+Lt:Lt;for(St+=2,fn+="-",sn=0;sn<2;sn++)fn+=1===(Lt=At.getUint8(St+sn).toString(16)).length?"0"+Lt:Lt;for(St+=2,fn+="-",sn=0;sn<2;sn++)fn+=1===(Lt=At.getUint8(St+sn).toString(16)).length?"0"+Lt:Lt;for(St+=2,fn+="-",sn=0;sn<6;sn++)fn+=1===(Lt=At.getUint8(St+sn).toString(16)).length?"0"+Lt:Lt;St+=6,St+=4,mt[fn=fn.toLowerCase()]=At.buffer.slice(An,en),St=en}else St=en;else St=en}return mt}},{key:"getLicenseServerUrlFromMediaInfo",value:function(ft,At){try{if(!ft||0===ft.length)return null;for(var mt=0,St=null;mt<ft.length&&!St;){var en=ft[mt];if(en&&en.contentProtection&&en.contentProtection.length>0){var nn=en.contentProtection.filter(function(Un){return Un.schemeIdUri&&Un.schemeIdUri===At});if(nn&&nn.length>0)for(var fn=0;fn<nn.length&&!St;){for(var An=nn[fn],sn=0;sn<N.attributes.length&&!St;){for(var Lt=0,yn=N.attributes[sn];Lt<N.prefixes.length&&!St;)An[yn]&&An[yn].__prefix&&An[yn].__prefix===N.prefixes[Lt]&&An[yn].__text&&(St=An[yn].__text),Lt+=1;sn+=1}fn+=1}}mt+=1}return St}catch{return null}}}])&&function ve(zt,Ut){for(var Ht=0;Ht<Ut.length;Ht++){var ft=Ut[Ht];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(zt,ft.key,ft)}}(zt,Ht),zt}(),d=function zt(Ut,Ht){(function(ft,At){if(!(ft instanceof At))throw new TypeError("Cannot call a class as a function")})(this,zt),this.contentType=Ut,this.robustness=Ht},I=function zt(Ut,Ht,ft,At,mt){(function(St,en){if(!(St instanceof en))throw new TypeError("Cannot call a class as a function")})(this,zt),this.initDataTypes=["cenc"],Ut&&Ut.length&&(this.audioCapabilities=Ut),Ht&&Ht.length&&(this.videoCapabilities=Ht),this.distinctiveIdentifier=ft,this.persistentState=At,this.sessionTypes=mt};function A(zt){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(zt)}function v(zt,Ut){return(v=Object.setPrototypeOf||function(Ht,ft){return Ht.__proto__=ft,Ht})(zt,Ut)}function D(zt){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(Ut){return Ut.__proto__||Object.getPrototypeOf(Ut)})(zt)}var h=new(function(zt){!function(mt,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(St&&St.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),St&&v(mt,St)}(At,zt);var Ut,Ht,ft=(Ut=At,Ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var mt,St=D(Ut);if(Ht){var en=D(this).constructor;mt=Reflect.construct(St,arguments,en)}else mt=St.apply(this,arguments);return function S(zt,Ut){return!Ut||"object"!==A(Ut)&&"function"!=typeof Ut?function(Ht){if(void 0===Ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(zt):Ut}(this,mt)});function At(){var mt;return function(St,en){if(!(St instanceof en))throw new TypeError("Cannot call a class as a function")}(this,At),(mt=ft.call(this)).MEDIA_KEYERR_CODE=100,mt.MEDIA_KEYERR_UNKNOWN_CODE=101,mt.MEDIA_KEYERR_CLIENT_CODE=102,mt.MEDIA_KEYERR_SERVICE_CODE=103,mt.MEDIA_KEYERR_OUTPUT_CODE=104,mt.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,mt.MEDIA_KEYERR_DOMAIN_CODE=106,mt.MEDIA_KEY_MESSAGE_ERROR_CODE=107,mt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,mt.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,mt.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,mt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,mt.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,mt.KEY_SESSION_CREATED_ERROR_CODE=113,mt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,mt.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",mt.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",mt.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",mt.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",mt.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",mt.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",mt.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",mt.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",mt.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",mt.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",mt.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",mt.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",mt.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",mt.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",mt}return At}(H(2230).Z)),y=H(5459),T=function zt(Ut,Ht,ft,At,mt,St,en,nn){(function(fn,An){if(!(fn instanceof An))throw new TypeError("Cannot call a class as a function")})(this,zt),this.url=Ut,this.method=Ht,this.responseType=ft,this.headers=At,this.withCredentials=mt,this.messageType=St,this.sessionId=en,this.data=nn},j=function zt(Ut,Ht,ft){(function(At,mt){if(!(At instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,zt),this.url=Ut,this.headers=Ht,this.data=ft},Q=H(7855),Y=H(703),$=H(3393),fe=H(5448);function Z(zt){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(zt)}function k(zt){var Ut,Ht,ft,At,mt,St,en,nn,fn,An,sn,Lt=(zt=zt||{}).protectionKeyController,yn=zt.protectionModel,vn=zt.eventBus,Un=zt.events,_r=zt.BASE64,On=zt.constants,Dt=[],Zt=zt.cmcdModel,Jt=zt.settings,Vn=zt.customParametersModel;function zn(){if(!(vn&&vn.hasOwnProperty("on")&&Lt&&Lt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function br(Wt,Rn){nn||fn?nn&&Sr():function(Gn,ai){if(!fn){fn=!0;var $r,rr=[];Gn=Gn.sort(function(li,Vr){return(mt&&mt[li.ks.systemString]&&mt[li.ks.systemString].priority>=0?mt[li.ks.systemString].priority:Gn.length)-(mt&&mt[Vr.ks.systemString]&&mt[Vr.ks.systemString].priority>=0?mt[Vr.ks.systemString].priority:Gn.length)});for(var Mr=0;Mr<Gn.length;Mr++){var Ir=ya(Gn[Mr]);rr.push({ks:Gn[Mr].ks,configs:[Ir],protData:Gn[Mr].protData})}yn.requestKeySystemAccess(rr).then(function(li){var Vr=($r=li.data).mksa&&$r.mksa.selectedSystemString?$r.mksa.selectedSystemString:$r.keySystem.systemString;return Ht.info("DRM: KeySystem Access Granted for system string ("+Vr+")!  Selecting key system..."),yn.selectKeySystem($r)}).then(function(li){if(nn=li,fn=!1,yn){vn.trigger(Un.KEY_SYSTEM_SELECTED,{data:$r});var Vr=mi(nn);Vr&&Vr.serverCertificate&&Vr.serverCertificate.length>0&&yn.setServerCertificate(_r.decodeArray(Vr.serverCertificate).buffer),Sr()}}).catch(function(li){nn=null,fn=!1,ai||vn.trigger(Un.KEY_SYSTEM_SELECTED,{data:null,error:new y.Z(h.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,h.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+li.error)})})}}(Wt,Rn)}function Sr(){for(var Wt,Rn=0;Rn<ft.length;Rn++)for(Wt=0;Wt<ft[Rn].length;Wt++)if(nn===ft[Rn][Wt].ks){Mi(ft[Rn][Wt]);break}ft=[]}function Mi(Wt){if(Lt.isClearKey(nn)&&Wt.protData&&Wt.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(Wt.protData.clearkeys).length){var Rn={kids:Object.keys(Wt.protData.clearkeys)};Wt.initData=(new TextEncoder).encode(JSON.stringify(Rn))}Wt.sessionId?di(Wt):null!==Wt.initData&&zr(Wt)}function di(Wt){zn(),yn.loadKeySession(Wt)}function zr(Wt){var Rn=f.getPSSHForKeySystem(nn,Wt?Wt.initData:null);if(Rn){if(function(Gn){if(!Gn)return!1;try{for(var ai=yn.getSessions(),$r=0;$r<ai.length;$r++)if(ai[$r].getKeyId()===Gn)return!0;return!1}catch{return!1}}(Wt.keyId)||ti(Rn))return;try{Wt.initData=Rn,yn.createKeySession(Wt)}catch(Gn){vn.trigger(Un.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+Gn.message)})}}else Wt&&Wt.initData?yn.createKeySession(Wt):vn.trigger(Un.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(nn?nn.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function mi(Wt){if(Wt){var Rn=Wt.systemString;if(mt)return Rn in mt?mt[Rn]:null}return null}function ti(Wt){if(!Wt)return!1;try{for(var Rn=yn.getAllInitData(),Gn=0;Gn<Rn.length;Gn++)if(Lt.initDataEquals(Wt,Rn[Gn]))return Ht.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function zi(Wt){zn(),Wt?(yn.setMediaElement(Wt),vn.on(Un.NEED_KEY,$n,Ut)):null===Wt&&(yn.setMediaElement(Wt),vn.off(Un.NEED_KEY,$n,Ut))}function ya(Wt){var Rn=Wt.protData,Gn=[],ai=[],$r=Rn&&Rn.audioRobustness&&Rn.audioRobustness.length>0?Rn.audioRobustness:en,rr=Rn&&Rn.videoRobustness&&Rn.videoRobustness.length>0?Rn.videoRobustness:en,Mr=Wt.sessionType,Ir=Rn&&Rn.distinctiveIdentifier?Rn.distinctiveIdentifier:"optional",li=Rn&&Rn.persistentState?Rn.persistentState:"temporary"===Mr?"optional":"required";return At.forEach(function(Vr){Vr.type===On.AUDIO?Gn.push(new d(Vr.codec,$r)):Vr.type===On.VIDEO&&ai.push(new d(Vr.codec,rr))}),new I(Gn,ai,Ir,li,[Mr])}function Ys(Wt){Wt.error?vn.trigger(Un.KEY_STATUSES_CHANGED,{data:null,error:Wt.error}):Ht.debug("DRM: key status = "+Wt.status)}function Uo(Wt){Ht.debug("DRM: onKeyMessage");var Rn=Wt.data;vn.trigger(Un.KEY_MESSAGE,{data:Rn});var Gn=Rn.messageType?Rn.messageType:"license-request",ai=Rn.message,$r=Rn.sessionToken,rr=mi(nn),Mr=Lt.getLicenseServerModelInstance(nn,rr,Gn),Ir={sessionToken:$r,messageType:Gn};if(ai&&0!==ai.byteLength){if(!Mr)return Ht.debug("DRM: License server request not required for this message (type = "+Wt.data.messageType+").  Session ID = "+$r.getSessionId()),void Gi(Ir);if(Lt.isClearKey(nn)){var li=Lt.processClearKeyLicenseRequest(nn,rr,ai);if(li&&li.keyPairs&&li.keyPairs.length>0)return Ht.debug("DRM: ClearKey license request handled by application!"),Gi(Ir),void yn.updateKeySession($r,li)}!function(Vr,wr,jn){var Xo=Vr.sessionToken,lo=Vr.messageType?Vr.messageType:"license-request",ba={sessionToken:Xo,messageType:lo},ds=nn?nn.systemString:null,Gt=function(Wr,Ta,wa,$s,Oh){var Qo=null,bd=$s.message;if(Wr&&Wr.serverURL){var Ti=Wr.serverURL;"string"==typeof Ti&&""!==Ti?Qo=Ti:"object"===Z(Ti)&&Ti.hasOwnProperty(Ta)&&(Qo=Ti[Ta])}else if(Wr&&Wr.laURL&&""!==Wr.laURL)Qo=Wr.laURL;else if(!(Qo=f.getLicenseServerUrlFromMediaInfo(At,nn.schemeIdURI))&&!Lt.isClearKey(nn)){var er=f.getPSSHData(wa.initData);(Qo=nn.getLicenseServerURLFromInitData(er))||(Qo=$s.laURL)}return Oh.getServerURLFromMessage(Qo,bd,Ta)}(jn,lo,Xo,Vr,wr);if(Gt){var fs={},ir=!1;jn&&Ci(fs,jn.httpRequestHeaders);var Nr=Vr.message;Ci(fs,nn.getRequestHeadersFromMessage(Nr)),Object.keys(fs).forEach(function(Wr){"authorization"===Wr.toLowerCase()&&(ir=!0)}),jn&&"boolean"==typeof jn.withCredentials&&(ir=jn.withCredentials);var Fc=function(Wr){if(yn)if(Wr.status>=200&&Wr.status<=299){var Ta=Y.Z.parseHttpHeaders(Wr.getAllResponseHeaders?Wr.getAllResponseHeaders():null),wa=new j(Wr.responseURL,Ta,Wr.response);qi(Vn.getLicenseResponseFilters(),wa).then(function(){var $s=wr.getLicenseMessage(wa.data,ds,lo);null!==$s?(Gi(ba),yn.updateKeySession(Xo,$s)):So(Wr,ba,ds,lo,wr)})}else So(Wr,ba,ds,lo,wr)},gd=function(Wr){Gi(ba,new y.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ds+' update, XHR aborted. status is "'+Wr.statusText+'" ('+Wr.status+"), readyState is "+Wr.readyState))},_d=function(Wr){Gi(ba,new y.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ds+' update, XHR error. status is "'+Wr.statusText+'" ('+Wr.status+"), readyState is "+Wr.readyState))},Ea=nn.getLicenseRequestFromMessage(Nr),to=wr.getHTTPMethod(lo),Lc=wr.getResponseType(ds,lo),vd=jn&&!isNaN(jn.httpTimeout)?jn.httpTimeout:8e3,yd=Xo.getSessionId()||null,hs=new T(Gt,to,Lc,fs,ir,lo,yd,Ea),Nh=isNaN(Jt.get().streaming.retryAttempts[Q.w.LICENSE])?3:Jt.get().streaming.retryAttempts[Q.w.LICENSE];qi(Vn.getLicenseRequestFilters(),hs).then(function(){Pc(hs,Nh,vd,Fc,gd,_d)})}else Gi(ba,new y.Z(h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Rn,Mr,rr)}else Gi(Ir,new y.Z(h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Gi(Wt,Rn){vn.trigger(Un.LICENSE_REQUEST_COMPLETE,{data:Wt,error:Rn})}function Pc(Wt,Rn,Gn,ai,$r,rr){var Mr=new XMLHttpRequest;if(Jt.get().streaming.cmcd&&Jt.get().streaming.cmcd.enabled&&Jt.get().streaming.cmcd.mode===$.Z.CMCD_MODE_QUERY){var Ir=Zt.getQueryParameter({url:Wt.url,type:Q.w.LICENSE});Ir&&(Wt.url=Y.Z.addAditionalQueryParameterToUrl(Wt.url,[Ir]))}for(var li in Mr.open(Wt.method,Wt.url,!0),Mr.responseType=Wt.responseType,Mr.withCredentials=Wt.withCredentials,Gn>0&&(Mr.timeout=Gn),Wt.headers)Mr.setRequestHeader(li,Wt.headers[li]);if(Jt.get().streaming.cmcd&&Jt.get().streaming.cmcd.enabled&&Jt.get().streaming.cmcd.mode===$.Z.CMCD_MODE_HEADER){var Vr=Zt.getHeaderParameters({url:Wt.url,type:Q.w.LICENSE});if(Vr)for(var wr in Vr){var jn=Vr[wr];jn&&Mr.setRequestHeader(wr,jn)}}var Xo=function(){Rn--;var lo=isNaN(Jt.get().streaming.retryIntervals[Q.w.LICENSE])?1e3:Jt.get().streaming.retryIntervals[Q.w.LICENSE];sn=setTimeout(function(){Pc(Wt,Rn,Gn,ai,$r,rr)},lo)};Mr.onload=function(){An=null,this.status>=200&&this.status<=299||Rn<=0?ai(this):(Ht.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Rn),Xo())},Mr.ontimeout=Mr.onerror=function(){An=null,Rn<=0?rr(this):(Ht.warn("License request network request failed . Retrying it... Pending retries: "+Rn),Xo())},Mr.onabort=function(){$r(this)},vn.trigger(Un.LICENSE_REQUEST_SENDING,{url:Wt.url,headers:Wt.headers,payload:Wt.data,sessionId:Wt.sessionId}),An=Mr,Mr.send(Wt.data)}function kc(){An&&(An.onloadend=An.onerror=An.onprogress=void 0,An.abort(),An=null),sn&&(clearTimeout(sn),sn=null)}function Ci(Wt,Rn){if(Rn)for(var Gn in Rn)Wt[Gn]=Rn[Gn]}function So(Wt,Rn,Gn,ai,$r){var rr="NONE",Mr=null;Wt.response&&(rr=$r.getErrorResponse(Wt.response,Gn,ai),Mr={serverResponse:Wt.response||null,responseCode:Wt.status||null,responseText:Wt.statusText||null}),Gi(Rn,new y.Z(h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Gn+' update, XHR complete. status is "'+Wt.statusText+'" ('+Wt.status+"), readyState is "+Wt.readyState+".  Response is "+rr,Mr))}function qi(Wt,Rn){return Wt?Wt.reduce(function(Gn,ai){return Gn.then(function(){return ai(Rn)})},Promise.resolve()):Promise.resolve()}function $n(Wt,Rn){if(!Jt.get().streaming.protection.ignoreEmeEncryptedEvent){if(Ht.debug("DRM: onNeedKey"),"cenc"!==Wt.key.initDataType)return void Ht.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Wt.key.initDataType);if(0===At.length&&(Ht.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Rn=void 0===Rn?1:Rn+1)<5))return void Dt.push(setTimeout(function(){$n(Wt,Rn)},500));var Gn=Wt.key.initData;if(ArrayBuffer.isView(Gn)&&(Gn=Gn.buffer),nn){var ai=f.getPSSHForKeySystem(nn,Gn);if(ai&&ti(ai))return}Ht.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Gn)));var $r=Lt.getSupportedKeySystemsFromSegmentPssh(Gn,mt,St);if(0===$r.length)return void Ht.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");ft.push(rr=$r),br(rr,!1)}var rr}return Ht=zt.debug.getLogger(Ut={initializeForMedia:function(Wt){if(!Wt)throw new Error("mediaInfo can not be null or undefined");zn(),At.push(Wt)},clearMediaInfoArray:function(){At=[]},handleKeySystemFromManifest:function(){if(At&&0!==At.length){var Wt=[];At.forEach(function(Rn){var Gn=Lt.getSupportedKeySystemsFromContentProtection(Rn.contentProtection,mt,St);Gn.length>0&&(0===Wt.length&&(Wt=Gn),ft.push(Gn))}),Wt&&Wt.length>0&&br(Wt,!0)}},createKeySession:zr,loadKeySession:di,removeKeySession:function(Wt){zn(),yn.removeKeySession(Wt)},closeKeySession:function(Wt){zn(),yn.closeKeySession(Wt)},setServerCertificate:function(Wt){zn(),yn.setServerCertificate(Wt)},setMediaElement:zi,setSessionType:function(Wt){St=Wt},setRobustnessLevel:function(Wt){en=Wt},setProtectionData:function(Wt){mt=Wt,Lt.setProtectionData(Wt)},getSupportedKeySystemsFromContentProtection:function(Wt){return zn(),Lt.getSupportedKeySystemsFromContentProtection(Wt,mt,St)},getKeySystems:function(){return Lt?Lt.getKeySystems():[]},setKeySystems:function(Wt){Lt&&Lt.setKeySystems(Wt)},stop:function(){kc(),yn&&yn.stop()},reset:function(){vn.off(Un.INTERNAL_KEY_MESSAGE,Uo,Ut),vn.off(Un.INTERNAL_KEY_STATUS_CHANGED,Ys,Ut),zn(),kc(),zi(null),nn=null,fn=!1,yn&&(yn.reset(),yn=null),Dt.forEach(function(Wt){return clearTimeout(Wt)}),Dt=[],At=[],ft=[]}}),ft=[],At=[],St="temporary",en="",An=null,sn=null,vn.on(Un.INTERNAL_KEY_MESSAGE,Uo,Ut),vn.on(Un.INTERNAL_KEY_STATUS_CHANGED,Ys,Ut),Ut}k.__dashjs_factory_name="ProtectionController";var X=fe.Z.getClassFactory(k),ue=function zt(Ut,Ht){(function(ft,At){if(!(ft instanceof At))throw new TypeError("Cannot call a class as a function")})(this,zt),this.keyID=Ut,this.key=Ht};var Pe=function(){function zt(ft,At){if(function(mt,St){if(!(mt instanceof St))throw new TypeError("Cannot call a class as a function")}(this,zt),At&&"persistent"!==At&&"temporary"!==At)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=ft,this.type=At}var Ht;return(Ht=[{key:"toJWK",value:function(){var ft,At=this.keyPairs.length,mt={keys:[]};for(ft=0;ft<At;ft++)mt.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[ft].keyID,k:this.keyPairs[ft].key});this.type&&(mt.type=this.type);var en=JSON.stringify(mt),nn=en.length,fn=new ArrayBuffer(nn),An=new Uint8Array(fn);for(ft=0;ft<nn;ft++)An[ft]=en.charCodeAt(ft);return fn}}])&&function de(zt,Ut){for(var Ht=0;Ht<Ut.length;Ht++){var ft=Ut[Ht];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(zt,ft.key,ft)}}(zt.prototype,Ht),zt}();var _e=new(function(){function zt(){(function(ft,At){if(!(ft instanceof At))throw new TypeError("Cannot call a class as a function")})(this,zt),this.init()}var Ht;return(Ht=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&function gt(zt,Ut){for(var Ht=0;Ht<Ut.length;Ht++){var ft=Ut[Ht];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(zt,ft.key,ft)}}(zt.prototype,Ht),zt}()),Ge="e2719d58-a985-b3c9-781a-b030af78d30e",ut=_e.CLEARKEY_KEYSTEM_STRING,Ve="urn:uuid:"+Ge;function ke(zt){var Ut=(zt=zt||{}).BASE64;return{uuid:Ge,schemeIdURI:Ve,systemString:ut,getInitData:function(Ht,ft){try{var At=f.parseInitDataFromContentProtection(Ht,Ut);if(!At&&ft){var mt={kids:[function(St){try{var en=St.replace(/-/g,"");return(en=btoa(en.match(/\w{2}/g).map(function(nn){return String.fromCharCode(parseInt(nn,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(ft["cenc:default_KID"])]};At=(new TextEncoder).encode(JSON.stringify(mt))}return At}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(Ht){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Ht))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Ht,ft){var At=null;if(Ht){for(var mt=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(ft))),St=[],en=0;en<mt.kids.length;en++){var nn=mt.kids[en],fn=Ht.clearkeys&&Ht.clearkeys.hasOwnProperty(nn)?Ht.clearkeys[nn]:null;if(!fn)throw new Error("DRM: ClearKey keyID ("+nn+") is not known!");St.push(new ue(nn,fn))}At=new Pe(St)}return At}}}ke.__dashjs_factory_name="KeySystemClearKey";var ot=dashjs.FactoryMaker.getSingletonFactory(ke),Qe="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Rt=_e.CLEARKEY_KEYSTEM_STRING,xe="urn:uuid:"+Qe;function et(zt){var Ht=zt.BASE64,ft=zt.debug.getLogger(undefined);return{uuid:Qe,schemeIdURI:xe,systemString:Rt,getInitData:function(At){return f.parseInitDataFromContentProtection(At,Ht)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(At){return new Uint8Array(At)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(At,mt){var St=null;if(At){for(var en=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(mt))),nn=[],fn=0;fn<en.kids.length;fn++){var An=en.kids[fn],sn=At.clearkeys&&At.clearkeys.hasOwnProperty(An)?At.clearkeys[An]:null;if(!sn)throw new Error("DRM: ClearKey keyID ("+An+") is not known!");nn.push(new ue(An,sn))}St=new Pe(nn),ft.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return St}}}et.__dashjs_factory_name="KeySystemW3CClearKey";var jt=dashjs.FactoryMaker.getSingletonFactory(et),Ct="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Je=_e.WIDEVINE_KEYSTEM_STRING,yt="urn:uuid:"+Ct;function pe(zt){var Ut=(zt=zt||{}).BASE64;return{uuid:Ct,schemeIdURI:yt,systemString:Je,getInitData:function(Ht){return f.parseInitDataFromContentProtection(Ht,Ut)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Ht){return new Uint8Array(Ht)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}pe.__dashjs_factory_name="KeySystemWidevine";var Ae=dashjs.FactoryMaker.getSingletonFactory(pe),at="9a04f079-9840-4286-ab92-e65be0885f95",E=_e.PLAYREADY_KEYSTEM_STRING,g="urn:uuid:"+at;function R(zt){var Ut="utf-16",Ht=(zt=zt||{}).BASE64,ft=zt.settings;function At(){if(!Ht||!Ht.hasOwnProperty("decodeArray")||!Ht.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:at,schemeIdURI:g,systemString:E,getInitData:function(mt){var St,en,nn,fn,An,sn=new Uint8Array([112,115,115,104,0,0,0,0]),Lt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),yn=0,vn=null;if(At(),!mt)return null;if("pssh"in mt)return f.parseInitDataFromContentProtection(mt,Ht);if("pro"in mt)vn=Ht.decodeArray(mt.pro.__text);else{if(!("prheader"in mt))return null;vn=Ht.decodeArray(mt.prheader.__text)}return en=4+sn.length+Lt.length+4+(St=vn.length),nn=new ArrayBuffer(en),fn=new Uint8Array(nn),(An=new DataView(nn)).setUint32(yn,en),fn.set(sn,yn+=4),fn.set(Lt,yn+=sn.length),An.setUint32(yn+=Lt.length,St),fn.set(vn,yn+=4),yn+=St,fn.buffer},getRequestHeadersFromMessage:function(mt){var St,en,nn={},fn=new DOMParser;if(ft&&ft.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Ut&&mt&&mt.byteLength%2==1)return nn["Content-Type"]="text/xml; charset=utf-8",nn;var An="utf-16"===Ut?new Uint16Array(mt):new Uint8Array(mt);St=String.fromCharCode.apply(null,An);for(var sn=(en=fn.parseFromString(St,"application/xml")).getElementsByTagName("name"),Lt=en.getElementsByTagName("value"),yn=0;yn<sn.length;yn++)nn[sn[yn].childNodes[0].nodeValue]=Lt[yn].childNodes[0].nodeValue;return nn.hasOwnProperty("Content")&&(nn["Content-Type"]=nn.Content,delete nn.Content),nn.hasOwnProperty("Content-Type")||(nn["Content-Type"]="text/xml; charset=utf-8"),nn},getLicenseRequestFromMessage:function(mt){var St=null,en=new DOMParser;if(ft&&ft.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===Ut&&mt&&mt.byteLength%2==1)return mt;var nn="utf-16"===Ut?new Uint16Array(mt):new Uint8Array(mt);At();var fn=String.fromCharCode.apply(null,nn),An=en.parseFromString(fn,"application/xml");if(!An.getElementsByTagName("PlayReadyKeyMessage")[0])return mt;var sn=An.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return sn&&(St=Ht.decode(sn)),St},getLicenseServerURLFromInitData:function(mt){if(mt)for(var St=new DataView(mt),en=St.getUint16(4,!0),nn=6,fn=new DOMParser,An=0;An<en;An++){var sn=St.getUint16(nn,!0),Lt=St.getUint16(nn+=2,!0);if(nn+=2,1===sn){var yn=mt.slice(nn,nn+Lt),vn=String.fromCharCode.apply(null,new Uint16Array(yn)),Un=fn.parseFromString(vn,"application/xml");if(Un.getElementsByTagName("LA_URL")[0]){var nr=Un.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(nr)return nr}if(Un.getElementsByTagName("LUI_URL")[0]){var _r=Un.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(_r)return _r}}else nn+=Lt}return null},getCDMData:function(mt){var St,en,nn,fn;if(At(),!mt)return null;for(St=[],fn=0;fn<mt.length;++fn)St.push(mt.charCodeAt(fn)),St.push(0);for(St=String.fromCharCode.apply(null,St),St=Ht.encode(St),en='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",St),nn=[],fn=0;fn<en.length;++fn)nn.push(en.charCodeAt(fn)),nn.push(0);return new Uint8Array(nn).buffer},setPlayReadyMessageFormat:function(mt){if("utf-8"!==mt&&"utf-16"!==mt)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');Ut=mt}}}R.__dashjs_factory_name="KeySystemPlayReady";var O=dashjs.FactoryMaker.getSingletonFactory(R);function ae(zt){var Ut=(zt=zt||{}).BASE64,Ht={};return Ht[_e.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(ft){return Ut.decodeArray(ft.license)},getErrorResponse:function(ft){return ft}},Ht[_e.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(ft){return ft},getErrorResponse:function(ft){return String.fromCharCode.apply(null,new Uint8Array(ft))}},{getServerURLFromMessage:function(ft){return ft},getHTTPMethod:function(){return"POST"},getResponseType:function(ft){return Ht[ft].responseType},getLicenseMessage:function(ft,At){return function(){if(!Ut||!Ut.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),Ht[At].getLicenseMessage(ft)},getErrorResponse:function(ft,At){return Ht[At].getErrorResponse(ft)}}}ae.__dashjs_factory_name="DRMToday";var oe=dashjs.FactoryMaker.getSingletonFactory(ae);function De(){var zt="http://schemas.xmlsoap.org/soap/envelope/";function Ut(At){var mt=String.fromCharCode.apply(null,new Uint8Array(At));return decodeURIComponent(escape(mt))}function Ht(At){if(window.DOMParser){var mt=Ut(At),St=(new window.DOMParser).parseFromString(mt,"text/xml"),en=St?St.getElementsByTagNameNS(zt,"Envelope")[0]:null,nn=en?en.getElementsByTagNameNS(zt,"Body")[0]:null;if(nn&&nn.getElementsByTagNameNS(zt,"Fault")[0])return null}return At}function ft(At){var mt="",St="",en="",nn=-1,fn=-1;if(window.DOMParser){var An=Ut(At),sn=(new window.DOMParser).parseFromString(An,"text/xml"),Lt=sn?sn.getElementsByTagNameNS(zt,"Envelope")[0]:null,yn=Lt?Lt.getElementsByTagNameNS(zt,"Body")[0]:null,vn=yn?yn.getElementsByTagNameNS(zt,"Fault")[0]:null,Un=vn?vn.getElementsByTagName("detail")[0]:null,nr=Un?Un.getElementsByTagName("Exception")[0]:null,_r=null;if(null===vn)return An;mt=(_r=vn.getElementsByTagName("faultstring")[0].firstChild)?_r.nodeValue:null,null!==nr&&(St=(_r=nr.getElementsByTagName("StatusCode")[0])?_r.firstChild.nodeValue:null,nn=(en=(_r=nr.getElementsByTagName("Message")[0])?_r.firstChild.nodeValue:null)?en.lastIndexOf("[")+1:-1,fn=en?en.indexOf("]"):-1,en=en?en.substring(nn,fn):"")}var On="code: ".concat(St,", name: ").concat(mt);return en&&(On+=", message: ".concat(en)),On}return{getServerURLFromMessage:function(At){return At},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(At){return Ht.call(this,At)},getErrorResponse:function(At){return ft.call(this,At)}}}De.__dashjs_factory_name="PlayReady";var We=fe.Z.getSingletonFactory(De);function $e(){return{getServerURLFromMessage:function(zt){return zt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(zt){return zt},getErrorResponse:function(zt){return String.fromCharCode.apply(null,new Uint8Array(zt))}}}$e.__dashjs_factory_name="Widevine";var Fe=dashjs.FactoryMaker.getSingletonFactory($e);function qe(){return{getServerURLFromMessage:function(zt){return zt},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(zt){if(!zt.hasOwnProperty("keys"))return null;for(var Ut=[],Ht=0;Ht<zt.keys.length;Ht++){var ft=zt.keys[Ht],At=ft.kid.replace(/=/g,""),mt=ft.k.replace(/=/g,"");Ut.push(new ue(At,mt))}return new Pe(Ut)},getErrorResponse:function(zt){return String.fromCharCode.apply(null,new Uint8Array(zt))}}}qe.__dashjs_factory_name="ClearKey";var ht=dashjs.FactoryMaker.getSingletonFactory(qe);function Ce(){var zt,Ut,Ht,ft,At,mt,St,en,nn=this.context;function fn(Lt,yn){return yn&&Lt in yn?yn[Lt]:null}function An(Lt,yn){return Lt&&Lt.sessionId?Lt.sessionId:yn&&yn.sessionId?yn.sessionId:null}function sn(Lt,yn){return Lt&&Lt.sessionType?Lt.sessionType:yn}return zt={initialize:function(){var Lt;ft=[],Lt=O(nn).getInstance({BASE64:At,settings:mt}),ft.push(Lt),Lt=Ae(nn).getInstance({BASE64:At}),ft.push(Lt),Lt=ot(nn).getInstance({BASE64:At}),ft.push(Lt),St=Lt,Lt=jt(nn).getInstance({BASE64:At,debug:Ut}),ft.push(Lt),en=Lt},setProtectionData:function(Lt){for(var yn,vn,Un=0;Un<ft.length;Un++){var nr=ft[Un];nr.hasOwnProperty("init")&&nr.init((yn=nr.systemString,vn=void 0,vn=null,Lt&&(vn=yn in Lt?Lt[yn]:null),vn))}},isClearKey:function(Lt){return Lt===St||Lt===en},initDataEquals:function(Lt,yn){if(Lt.byteLength===yn.byteLength){for(var vn=new Uint8Array(Lt),Un=new Uint8Array(yn),nr=0;nr<vn.length;nr++)if(vn[nr]!==Un[nr])return!1;return!0}return!1},getKeySystems:function(){return ft},setKeySystems:function(Lt){ft=Lt},getKeySystemBySystemString:function(Lt){for(var yn=0;yn<ft.length;yn++)if(ft[yn].systemString===Lt)return ft[yn];return null},getSupportedKeySystemsFromContentProtection:function(Lt,yn,vn){var Un,nr,_r,On,Dt=[];if(Lt){var Zt=f.findCencContentProtection(Lt);for(_r=0;_r<ft.length;++_r){var Jt=fn((nr=ft[_r]).systemString,yn);for(On=0;On<Lt.length;++On)if((Un=Lt[On]).schemeIdUri.toLowerCase()===nr.schemeIdURI){var Vn=nr.getInitData(Un,Zt);Dt.push({ks:ft[_r],keyId:Un.keyId,initData:Vn,protData:Jt,cdmData:nr.getCDMData(Jt?Jt.cdmData:null),sessionId:An(Jt,Un),sessionType:sn(Jt,vn)})}}}return Dt},getSupportedKeySystemsFromSegmentPssh:function(Lt,yn,vn){for(var Un,nr=[],_r=f.parsePSSHList(Lt),On=0;On<ft.length;++On){var Dt=fn((Un=ft[On]).systemString,yn);Un.uuid in _r&&nr.push({ks:Un,initData:_r[Un.uuid],protData:Dt,cdmData:Un.getCDMData(Dt?Dt.cdmData:null),sessionId:An(Dt),sessionType:sn(Dt,vn)})}return nr},getLicenseServerModelInstance:function(Lt,yn,vn){if("license-release"===vn||"individualization-request"===vn)return null;var Un=null;return yn&&yn.hasOwnProperty("drmtoday")?Un=oe(nn).getInstance({BASE64:At}):Lt.systemString===_e.WIDEVINE_KEYSTEM_STRING?Un=Fe(nn).getInstance():Lt.systemString===_e.PLAYREADY_KEYSTEM_STRING?Un=We(nn).getInstance():Lt.systemString===_e.CLEARKEY_KEYSTEM_STRING&&(Un=ht(nn).getInstance()),Un},processClearKeyLicenseRequest:function(Lt,yn,vn){try{return Lt.getClearKeysFromProtectionData(yn,vn)}catch{return Ht.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(Lt){Lt&&(Lt.debug&&(Ht=(Ut=Lt.debug).getLogger(zt)),Lt.BASE64&&(At=Lt.BASE64),Lt.settings&&(mt=Lt.settings))}}}Ce.__dashjs_factory_name="ProtectionKeyController";var tt=dashjs.FactoryMaker.getSingletonFactory(Ce);function Ze(zt){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ut){return typeof Ut}:function(Ut){return Ut&&"function"==typeof Symbol&&Ut.constructor===Symbol&&Ut!==Symbol.prototype?"symbol":typeof Ut})(zt)}function Tt(zt,Ut){return(Tt=Object.setPrototypeOf||function(Ht,ft){return Ht.__proto__=ft,Ht})(zt,Ut)}function ln(zt){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(Ut){return Ut.__proto__||Object.getPrototypeOf(Ut)})(zt)}var _n=new(function(zt){!function(mt,St){if("function"!=typeof St&&null!==St)throw new TypeError("Super expression must either be null or a function");mt.prototype=Object.create(St&&St.prototype,{constructor:{value:mt,writable:!0,configurable:!0}}),St&&Tt(mt,St)}(At,zt);var Ut,Ht,ft=(Ut=At,Ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var mt,St=ln(Ut);if(Ht){var en=ln(this).constructor;mt=Reflect.construct(St,arguments,en)}else mt=St.apply(this,arguments);return function Mt(zt,Ut){return!Ut||"object"!==Ze(Ut)&&"function"!=typeof Ut?function(Ht){if(void 0===Ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(zt):Ut}(this,mt)});function At(){var mt;return function(St,en){if(!(St instanceof en))throw new TypeError("Cannot call a class as a function")}(this,At),(mt=ft.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",mt.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",mt.KEY_ADDED="public_keyAdded",mt.KEY_ERROR="public_keyError",mt.KEY_MESSAGE="public_keyMessage",mt.KEY_SESSION_CLOSED="public_keySessionClosed",mt.KEY_SESSION_CREATED="public_keySessionCreated",mt.KEY_SESSION_REMOVED="public_keySessionRemoved",mt.KEY_STATUSES_CHANGED="public_keyStatusesChanged",mt.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",mt.KEY_SYSTEM_SELECTED="public_keySystemSelected",mt.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",mt.LICENSE_REQUEST_SENDING="public_licenseRequestSending",mt.NEED_KEY="needkey",mt.PROTECTION_CREATED="public_protectioncreated",mt.PROTECTION_DESTROYED="public_protectiondestroyed",mt.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",mt.TEARDOWN_COMPLETE="protectionTeardownComplete",mt.VIDEO_ELEMENT_SELECTED="videoElementSelected",mt.KEY_SESSION_UPDATED="public_keySessionUpdated",mt}return At}(H(8342).Z)),Dn=function zt(Ut,Ht){(function(ft,At){if(!(ft instanceof At))throw new TypeError("Cannot call a class as a function")})(this,zt),this.initData=Ut,this.initDataType=Ht},In=function zt(Ut,Ht,ft,At){(function(mt,St){if(!(mt instanceof St))throw new TypeError("Cannot call a class as a function")})(this,zt),this.sessionToken=Ut,this.message=Ht,this.defaultURL=ft,this.messageType=At||"license-request"},Xn=function zt(Ut,Ht){(function(ft,At){if(!(ft instanceof At))throw new TypeError("Cannot call a class as a function")})(this,zt),this.keySystem=Ut,this.ksConfiguration=Ht},Bn={};function Er(zt){var Ut,Ht,ft,At,mt,St,en,nn,fn=this.context,An=(zt=zt||{}).eventBus,sn=zt.events;function yn(Dt,Zt,Jt,Vn){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var zn="Insecure origins are not allowed";return An.trigger(sn.KEY_SYSTEM_ACCESS_COMPLETE,{error:zn}),void Vn({error:zn})}var zr,mi,Mi=Dt[Zt].ks,di=Mi.systemString;(zr=(Dt[Zt].protData&&Dt[Zt].protData.systemStringPriority?Dt[Zt].protData.systemStringPriority:null)||(Bn[di]?Bn[di]:[di]),mi=Dt[Zt].configs,new Promise(function(ti,zi){vn(zr,mi,0,ti,zi)})).then(function(zr){var mi="function"==typeof zr.getConfiguration?zr.getConfiguration():null,ti=new Xn(Mi,mi);ti.mksa=zr,An.trigger(sn.KEY_SYSTEM_ACCESS_COMPLETE,{data:ti}),Jt({data:ti})}).catch(function(zr){if(Zt+1<Dt.length)yn(Dt,Zt+1,Jt,Vn);else{var mi="Key system access denied! ";An.trigger(sn.KEY_SYSTEM_ACCESS_COMPLETE,{error:mi+zr.message}),Vn({error:mi+zr.message})}})}function vn(Dt,Zt,Jt,Vn,zn){var br=Dt[Jt];Ht.debug("Requesting key system access for system string ".concat(br)),navigator.requestMediaKeySystemAccess(br,Zt).then(function(Sr){Sr.selectedSystemString=br,Vn(Sr)}).catch(function(Sr){Jt+1<Dt.length?vn(Dt,Zt,Jt+1,Vn,zn):zn(Sr)})}function Un(Dt){if(!Dt||!Dt.session)return Promise.resolve;var Zt=Dt.session;return Zt.removeEventListener("keystatuseschange",Dt),Zt.removeEventListener("message",Dt),Zt.close()}function nr(Dt){for(var Zt=0;Zt<St.length;Zt++)if(St[Zt]===Dt){St.splice(Zt,1);break}}function _r(Dt){var Zt,Jt;return Dt&&Dt.length>0&&(Dt[0]&&("string"==typeof Dt[0]?Zt=Dt[0]:Jt=Dt[0]),Dt[1]&&("string"==typeof Dt[1]?Zt=Dt[1]:Jt=Dt[1])),{status:Zt,keyId:Jt}}function On(Dt,Zt){var Jt={session:Dt,keyId:Zt.keyId,initData:Zt.initData,sessionId:Zt.sessionId,sessionType:Zt.sessionType,handleEvent:function(Vn){switch(Vn.type){case"keystatuseschange":An.trigger(sn.KEY_STATUSES_CHANGED,{data:this}),Vn.target.keyStatuses.forEach(function(){var br=_r(arguments);An.trigger(sn.INTERNAL_KEY_STATUS_CHANGED,"expired"===br.status?{error:new y.Z(h.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,h.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:br)});break;case"message":var zn=ArrayBuffer.isView(Vn.message)?Vn.message.buffer:Vn.message;An.trigger(sn.INTERNAL_KEY_MESSAGE,{data:new In(this,zn,void 0,Vn.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Dt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Dt.expiration},getKeyStatuses:function(){return Dt.keyStatuses},getUsable:function(){var Vn=!1;return Dt.keyStatuses.forEach(function(){"usable"===_r(arguments).status&&(Vn=!0)}),Vn}};return Dt.addEventListener("keystatuseschange",Jt),Dt.addEventListener("message",Jt),Dt.closed.then(function(){nr(Jt),Ht.debug("DRM: Session closed.  SessionID = "+Jt.getSessionId()),An.trigger(sn.KEY_SESSION_CLOSED,{data:Jt.getSessionId()})}),St.push(Jt),Jt}return Ut={getAllInitData:function(){for(var Dt=[],Zt=0;Zt<St.length;Zt++)St[Zt].initData&&Dt.push(St[Zt].initData);return Dt},getSessions:function(){return St},requestKeySystemAccess:function(Dt){return new Promise(function(Zt,Jt){yn(Dt,0,Zt,Jt)})},selectKeySystem:function(Dt){return new Promise(function(Zt,Jt){Dt.mksa.createMediaKeys().then(function(Vn){return ft=Dt.keySystem,mt=Vn,At?At.setMediaKeys(mt):Promise.resolve()}).then(function(){Zt(ft)}).catch(function(){Jt({error:"Error selecting keys system ("+Dt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(Dt){At!==Dt&&(At&&(At.removeEventListener("encrypted",en),At.setMediaKeys&&At.setMediaKeys(null)),(At=Dt)&&(At.addEventListener("encrypted",en),At.setMediaKeys&&mt&&At.setMediaKeys(mt)))},setServerCertificate:function(Dt){if(!ft||!mt)throw new Error("Can not set server certificate until you have selected a key system");mt.setServerCertificate(Dt).then(function(){Ht.info("DRM: License server certificate successfully updated."),An.trigger(sn.SERVER_CERTIFICATE_UPDATED)}).catch(function(Zt){An.trigger(sn.SERVER_CERTIFICATE_UPDATED,{error:new y.Z(h.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,h.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Zt.name)})})},createKeySession:function(Dt){if(!ft||!mt)throw new Error("Can not create sessions until you have selected a key system");var Zt=mt.createSession(Dt.sessionType),Jt=On(Zt,Dt);Zt.generateRequest(ft.systemString===_e.CLEARKEY_KEYSTEM_STRING&&(Dt.initData||Dt.protData&&Dt.protData.clearkeys)?_e.INITIALIZATION_DATA_TYPE_KEYIDS:_e.INITIALIZATION_DATA_TYPE_CENC,Dt.initData).then(function(){Ht.debug("DRM: Session created.  SessionID = "+Jt.getSessionId()),An.trigger(sn.KEY_SESSION_CREATED,{data:Jt})}).catch(function(zn){nr(Jt),An.trigger(sn.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+zn.name)})})},updateKeySession:function(Dt,Zt){var Jt=Dt.session;nn.isClearKey(ft)&&(Zt=Zt.toJWK()),Jt.update(Zt).then(function(){An.trigger(sn.KEY_SESSION_UPDATED)}).catch(function(Vn){An.trigger(sn.KEY_ERROR,{error:new y.Z(h.MEDIA_KEYERR_CODE,"Error sending update() message! "+Vn.name,Dt)})})},loadKeySession:function(Dt){if(!ft||!mt)throw new Error("Can not load sessions until you have selected a key system");for(var Zt=Dt.sessionId,Jt=0;Jt<St.length;Jt++)if(Zt===St[Jt].sessionId)return void Ht.warn("DRM: Ignoring session ID because we have already seen it!");var Vn=mt.createSession(Dt.sessionType),zn=On(Vn,Dt);Vn.load(Zt).then(function(br){br?(Ht.debug("DRM: Session loaded.  SessionID = "+zn.getSessionId()),An.trigger(sn.KEY_SESSION_CREATED,{data:zn})):(nr(zn),An.trigger(sn.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Zt+")")}))}).catch(function(br){nr(zn),An.trigger(sn.KEY_SESSION_CREATED,{data:null,error:new y.Z(h.KEY_SESSION_CREATED_ERROR_CODE,h.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Zt+")! "+br.name)})})},removeKeySession:function(Dt){Dt.session.remove().then(function(){Ht.debug("DRM: Session removed.  SessionID = "+Dt.getSessionId()),An.trigger(sn.KEY_SESSION_REMOVED,{data:Dt.getSessionId()})},function(Zt){An.trigger(sn.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Dt.getSessionId()+"). "+Zt.name})})},closeKeySession:function(Dt){Un(Dt).catch(function(Zt){nr(Dt),An.trigger(sn.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Dt.getSessionId()+") "+Zt.name})})},stop:function(){for(var Dt,Zt=0;Zt<St.length;Zt++)(Dt=St[Zt]).getUsable()||(Un(Dt),nr(Dt))},reset:function(){var Dt,Zt=St.length;0!==Zt?function(){for(var Jt=function(zn){nr(zn),0===St.length&&(At?(At.removeEventListener("encrypted",en),At.setMediaKeys(null).then(function(){An.trigger(sn.TEARDOWN_COMPLETE)})):An.trigger(sn.TEARDOWN_COMPLETE))},Vn=0;Vn<Zt;Vn++)zn=Dt=St[Vn],Un(Dt),Jt(zn);var zn}():An.trigger(sn.TEARDOWN_COMPLETE)}},Ht=zt.debug.getLogger(Ut),ft=null,At=null,mt=null,St=[],nn=tt(fn).getInstance(),en={handleEvent:function(Dt){if("encrypted"===Dt.type&&Dt.initData){var Zt=ArrayBuffer.isView(Dt.initData)?Dt.initData.buffer:Dt.initData;An.trigger(sn.NEED_KEY,{key:new Dn(Zt,Dt.initDataType)})}}},Ut}Bn[_e.PLAYREADY_KEYSTEM_STRING]=[_e.PLAYREADY_KEYSTEM_STRING,_e.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],Bn[_e.WIDEVINE_KEYSTEM_STRING]=[_e.WIDEVINE_KEYSTEM_STRING],Bn[_e.CLEARKEY_KEYSTEM_STRING]=[_e.CLEARKEY_KEYSTEM_STRING],Er.__dashjs_factory_name="ProtectionModel_21Jan2015";var gi=dashjs.FactoryMaker.getClassFactory(Er);function Dr(zt){var Ut,Ht,ft,At,mt,St,en,nn,fn,An=this.context,sn=(zt=zt||{}).eventBus,Lt=zt.events,vn=zt.api;function Un(){try{for(var On=0;On<en.length;On++)nr(en[On]);ft&&ft.removeEventListener(vn.needkey,nn),sn.trigger(Lt.TEARDOWN_COMPLETE)}catch(Dt){sn.trigger(Lt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Dt.message})}}function nr(On){var Dt=On.session;Dt.removeEventListener(vn.error,On),Dt.removeEventListener(vn.message,On),Dt.removeEventListener(vn.ready,On),Dt.removeEventListener(vn.close,On);for(var Zt=0;Zt<en.length;Zt++)if(en[Zt]===On){en.splice(Zt,1);break}Dt[vn.release]()}function _r(){var On=null,Dt=function(){ft.removeEventListener("loadedmetadata",On),ft[vn.setMediaKeys](mt),sn.trigger(Lt.VIDEO_ELEMENT_SELECTED)};ft.readyState>=1?Dt():(On=Dt.bind(this),ft.addEventListener("loadedmetadata",On))}return Ut={getAllInitData:function(){for(var On=[],Dt=0;Dt<en.length;Dt++)On.push(en[Dt].initData);return On},getSessions:function(){return en},requestKeySystemAccess:function(On){return new Promise(function(Dt,Zt){for(var Jt=!1,Vn=0;Vn<On.length;Vn++)for(var zn=On[Vn].ks.systemString,br=On[Vn].configs,Sr=null,Mi=null,di=0;di<br.length;di++){var zr=br[di].audioCapabilities,mi=br[di].videoCapabilities;if(zr&&0!==zr.length){Sr=[];for(var ti=0;ti<zr.length;ti++)window[vn.MediaKeys].isTypeSupported(zn,zr[ti].contentType)&&Sr.push(zr[ti])}if(mi&&0!==mi.length){Mi=[];for(var zi=0;zi<mi.length;zi++)window[vn.MediaKeys].isTypeSupported(zn,mi[zi].contentType)&&Mi.push(mi[zi])}if(!(!Sr&&!Mi||Sr&&0===Sr.length||Mi&&0===Mi.length)){Jt=!0;var ya=new I(Sr,Mi),Ys=fn.getKeySystemBySystemString(zn),Uo=new Xn(Ys,ya);sn.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Uo}),Dt({data:Uo});break}}if(!Jt){var Gi="Key system access denied! -- No valid audio/video content configurations detected!";sn.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Gi}),Zt({error:Gi})}})},selectKeySystem:function(On){return new Promise(function(Dt,Zt){try{mt=On.mediaKeys=new window[vn.MediaKeys](On.keySystem.systemString),At=On.keySystem,St=On,ft&&_r(),Dt(At)}catch{Zt({error:"Error selecting keys system ("+At.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(On){ft!==On&&(ft&&ft.removeEventListener(vn.needkey,nn),(ft=On)&&(ft.addEventListener(vn.needkey,nn),mt&&_r()))},createKeySession:function(On){if(!At||!mt||!St)throw new Error("Can not create sessions until you have selected a key system");var Dt=null;if(St.ksConfiguration.videoCapabilities&&St.ksConfiguration.videoCapabilities.length>0&&(Dt=St.ksConfiguration.videoCapabilities[0]),null===Dt&&St.ksConfiguration.audioCapabilities&&St.ksConfiguration.audioCapabilities.length>0&&(Dt=St.ksConfiguration.audioCapabilities[0]),null===Dt)throw new Error("Can not create sessions for unknown content types.");var br,Jt=mt.createSession(Dt.contentType,new Uint8Array(On.initData),On.cdmData?new Uint8Array(On.cdmData):null),Vn={session:Jt,keyId:(br=On).keyId,initData:br.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(Sr){switch(Sr.type){case vn.error:sn.trigger(Lt.KEY_ERROR,{error:new y.Z(h.MEDIA_KEYERR_CODE,"KeyError",this)});break;case vn.message:var Mi=ArrayBuffer.isView(Sr.message)?Sr.message.buffer:Sr.message;sn.trigger(Lt.INTERNAL_KEY_MESSAGE,{data:new In(this,Mi,Sr.destinationURL)});break;case vn.ready:Ht.debug("DRM: Key added."),sn.trigger(Lt.KEY_ADDED);break;case vn.close:Ht.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),sn.trigger(Lt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}};Jt.addEventListener(vn.error,Vn),Jt.addEventListener(vn.message,Vn),Jt.addEventListener(vn.ready,Vn),Jt.addEventListener(vn.close,Vn),en.push(Vn),Ht.debug("DRM: Session created.  SessionID = "+Vn.getSessionId()),sn.trigger(Lt.KEY_SESSION_CREATED,{data:Vn})},updateKeySession:function(On,Dt){var Zt=On.session;fn.isClearKey(At)?Zt.update(new Uint8Array(Dt.toJWK())):Zt.update(new Uint8Array(Dt)),sn.trigger(Lt.KEY_SESSION_UPDATED)},closeKeySession:nr,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Un,reset:Un},Ht=zt.debug.getLogger(Ut),ft=null,At=null,mt=null,St=null,en=[],fn=tt(An).getInstance(),nn={handleEvent:function(On){if(On.type===vn.needkey&&On.initData){var Dt=ArrayBuffer.isView(On.initData)?On.initData.buffer:On.initData;sn.trigger(Lt.NEED_KEY,{key:new Dn(Dt,"cenc")})}}},Ut}Dr.__dashjs_factory_name="ProtectionModel_3Feb2014";var ao=dashjs.FactoryMaker.getClassFactory(Dr);function _i(zt){var Ut,Ht,ft,At,mt,St,en,nn,fn,An=this.context,sn=(zt=zt||{}).eventBus,Lt=zt.events,vn=zt.api,Un=zt.errHandler;function nr(){ft&&Dt();for(var Zt=0;Zt<en.length;Zt++)_r(en[Zt]);sn.trigger(Lt.TEARDOWN_COMPLETE)}function _r(Zt){try{ft[vn.cancelKeyRequest](At.systemString,Zt.sessionId)}catch(Jt){sn.trigger(Lt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Zt.sessionId+") "+Jt.message})}}function On(Zt,Jt){if(Jt&&Zt){for(var Vn=Zt.length,zn=0;zn<Vn;zn++)if(Zt[zn].sessionId==Jt)return Zt[zn];return null}return null}function Dt(){ft.removeEventListener(vn.keyerror,fn),ft.removeEventListener(vn.needkey,fn),ft.removeEventListener(vn.keymessage,fn),ft.removeEventListener(vn.keyadded,fn)}return Ht=zt.debug.getLogger(Ut={getAllInitData:function(){for(var Zt=[],Jt=0;Jt<St.length;Jt++)Zt.push(St[Jt].initData);for(var Vn=0;Vn<en.length;Vn++)Zt.push(en[Vn].initData);return Zt},getSessions:function(){return en.concat(St)},requestKeySystemAccess:function(Zt){return new Promise(function(Jt,Vn){var zn=ft;zn||(zn=document.createElement("video"));for(var br=!1,Sr=0;Sr<Zt.length;Sr++)for(var Mi=Zt[Sr].ks.systemString,di=Zt[Sr].configs,zr=null,mi=0;mi<di.length;mi++){var ti=di[mi].videoCapabilities;if(ti&&0!==ti.length){zr=[];for(var zi=0;zi<ti.length;zi++)""!==zn.canPlayType(ti[zi].contentType,Mi)&&zr.push(ti[zi])}if(zr&&(!zr||0!==zr.length)){br=!0;var ya=new I(null,zr),Ys=mt.getKeySystemBySystemString(Mi),Uo=new Xn(Ys,ya);sn.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{data:Uo}),Jt({data:Uo});break}}if(!br){var Gi="Key system access denied! -- No valid audio/video content configurations detected!";sn.trigger(Lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Gi}),Vn({error:Gi})}})},selectKeySystem:function(Zt){return At=Zt.keySystem,Promise.resolve(At)},setMediaElement:function(Zt){if(ft!==Zt){if(ft){Dt();for(var Jt=0;Jt<en.length;Jt++)_r(en[Jt]);en=[]}(ft=Zt)&&(ft.addEventListener(vn.keyerror,fn),ft.addEventListener(vn.needkey,fn),ft.addEventListener(vn.keymessage,fn),ft.addEventListener(vn.keyadded,fn),sn.trigger(Lt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(Zt){if(!At)throw new Error("Can not create sessions until you have selected a key system");if(nn||0===en.length){var Jt={sessionId:null,keyId:Zt.keyId,initData:Zt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return St.push(Jt),ft[vn.generateKeyRequest](At.systemString,new Uint8Array(Zt.initData)),Jt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(Zt,Jt){var Vn=Zt.sessionId;if(mt.isClearKey(At))for(var zn=0;zn<Jt.keyPairs.length;zn++)ft[vn.addKey](At.systemString,Jt.keyPairs[zn].key,Jt.keyPairs[zn].keyID,Vn);else ft[vn.addKey](At.systemString,new Uint8Array(Jt),new Uint8Array(Zt.initData),Vn);sn.trigger(Lt.KEY_SESSION_UPDATED)},closeKeySession:_r,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:nr,reset:nr}),ft=null,At=null,St=[],en=[],mt=tt(An).getInstance(),fn={handleEvent:function(Zt){var Jt=null;switch(Zt.type){case vn.needkey:var Vn=ArrayBuffer.isView(Zt.initData)?Zt.initData.buffer:Zt.initData;sn.trigger(Lt.NEED_KEY,{key:new Dn(Vn,"cenc")});break;case vn.keyerror:if((Jt=On(en,Zt.sessionId))||(Jt=On(St,Zt.sessionId)),Jt){var zn=h.MEDIA_KEYERR_CODE,br="";switch(Zt.errorCode.code){case 1:zn=h.MEDIA_KEYERR_UNKNOWN_CODE,br+="MEDIA_KEYERR_UNKNOWN - "+h.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:zn=h.MEDIA_KEYERR_CLIENT_CODE,br+="MEDIA_KEYERR_CLIENT - "+h.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:zn=h.MEDIA_KEYERR_SERVICE_CODE,br+="MEDIA_KEYERR_SERVICE - "+h.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:zn=h.MEDIA_KEYERR_OUTPUT_CODE,br+="MEDIA_KEYERR_OUTPUT - "+h.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:zn=h.MEDIA_KEYERR_HARDWARECHANGE_CODE,br+="MEDIA_KEYERR_HARDWARECHANGE - "+h.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:zn=h.MEDIA_KEYERR_DOMAIN_CODE,br+="MEDIA_KEYERR_DOMAIN - "+h.MEDIA_KEYERR_DOMAIN_MESSAGE}sn.trigger(Lt.KEY_ERROR,{error:new y.Z(zn,br+="  System Code = "+Zt.systemCode,Jt)})}else Ht.error("No session token found for key error");break;case vn.keyadded:(Jt=On(en,Zt.sessionId))||(Jt=On(St,Zt.sessionId)),Jt?(Ht.debug("DRM: Key added."),sn.trigger(Lt.KEY_ADDED,{data:Jt})):Ht.debug("No session token found for key added");break;case vn.keymessage:if((nn=null!=Zt.sessionId)?!(Jt=On(en,Zt.sessionId))&&St.length>0&&(Jt=St.shift(),en.push(Jt),Jt.sessionId=Zt.sessionId,sn.trigger(Lt.KEY_SESSION_CREATED,{data:Jt})):St.length>0&&(Jt=St.shift(),en.push(Jt),0!==St.length&&Un.error(new y.Z(h.MEDIA_KEY_MESSAGE_ERROR_CODE,h.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Jt){var Sr=ArrayBuffer.isView(Zt.message)?Zt.message.buffer:Zt.message;Jt.keyMessage=Sr,sn.trigger(Lt.INTERNAL_KEY_MESSAGE,{data:new In(Jt,Sr,Zt.defaultURL)})}else Ht.warn("No session token found for key message")}}},Ut}_i.__dashjs_factory_name="ProtectionModel_01b";var Hi=dashjs.FactoryMaker.getClassFactory(_i),wo=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Zi=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Bo(){var zt,Ut=this.context;function Ht(ft,At){for(var mt=0;mt<At.length;mt++){var St=At[mt];if("function"==typeof ft[St[Object.keys(St)[0]]])return St}return null}return zt={createProtectionSystem:function(ft){var At=null,mt=tt(Ut).getInstance();mt.setConfig({debug:ft.debug,BASE64:ft.BASE64,settings:ft.settings}),mt.initialize();var en,nn,fn,An,sn,Lt,St=(fn=(nn=(en=ft).debug).getLogger(zt),An=en.eventBus,sn=en.errHandler,(Lt=en.videoModel?en.videoModel.getElement():null)&&void 0===Lt.onencrypted||Lt&&void 0===Lt.mediaKeys?Ht(Lt,Zi)?(fn.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),ao(Ut).create({debug:nn,eventBus:An,events:en.events,api:Ht(Lt,Zi)})):Ht(Lt,wo)?(fn.info("EME detected on this user agent! (ProtectionModel_01b)"),Hi(Ut).create({debug:nn,eventBus:An,errHandler:sn,events:en.events,api:Ht(Lt,wo)})):(fn.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(fn.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),gi(Ut).create({debug:nn,eventBus:An,events:en.events})));return!At&&St&&(At=X(Ut).create({protectionModel:St,protectionKeyController:mt,eventBus:ft.eventBus,debug:ft.debug,events:ft.events,BASE64:ft.BASE64,constants:ft.constants,cmcdModel:ft.cmcdModel,customParametersModel:ft.customParametersModel,settings:ft.settings}),ft.capabilities.setEncryptedMediaSupported(!0)),At}}}Bo.__dashjs_factory_name="Protection";var Ko=dashjs.FactoryMaker.getClassFactory(Bo);Ko.events=_n,Ko.errors=h,dashjs.FactoryMaker.updateClassFactory(Bo.__dashjs_factory_name,Ko);var qs=Ko},2068:function(Et,ze,H){"use strict";var ve=H(5448),N={DEFAULT:.5,STRONG:1,WEAK:0};function f(I,A,v){var h,y;return y=N.DEFAULT,(h=v)!==N.DEFAULT&&h!==N.STRONG&&h!==N.WEAK||(y=h),{quality:void 0===I?-1:I,reason:void 0===A?null:A,priority:y}}f.__dashjs_factory_name="SwitchRequest";var d=ve.Z.getClassFactory(f);d.NO_CHANGE=-1,d.PRIORITY=N,ve.Z.updateClassFactory(f.__dashjs_factory_name,d),ze.Z=d},1767:function(Et,ze,H){"use strict";var ve=H(5628),N=H(6535),f=H(7423),d=H(895),I=H(6070),A=H(3112),v=H(1914),S=H(5435),D=H(5448),h=H(2068),y=H(3393),T="qualitySwitchRules",j="abandonFragmentRules";function Q($){var fe,Z,k=this.context,X=($=$||{}).mediaPlayerModel,ue=$.customParametersModel,de=$.dashMetrics,Pe=$.settings;function gt(Ge){return Ge.filter(function(ut){return ut.quality>h.Z.NO_CHANGE})}function _e(Ge){var ut,Ve,ke,ot,Qe,Rt={},xe=null;if(0!==Ge.length){for(Rt[h.Z.PRIORITY.STRONG]={quality:h.Z.NO_CHANGE,reason:null},Rt[h.Z.PRIORITY.WEAK]={quality:h.Z.NO_CHANGE,reason:null},Rt[h.Z.PRIORITY.DEFAULT]={quality:h.Z.NO_CHANGE,reason:null},ut=0,Ve=Ge.length;ut<Ve;ut+=1)(ke=Ge[ut]).quality!==h.Z.NO_CHANGE&&(Rt[ke.priority].quality===h.Z.NO_CHANGE||Rt[ke.priority].quality>ke.quality)&&(Rt[ke.priority].quality=ke.quality,Rt[ke.priority].reason=ke.reason||null);return Rt[h.Z.PRIORITY.WEAK].quality!==h.Z.NO_CHANGE&&(xe=Rt[h.Z.PRIORITY.WEAK]),Rt[h.Z.PRIORITY.DEFAULT].quality!==h.Z.NO_CHANGE&&(xe=Rt[h.Z.PRIORITY.DEFAULT]),Rt[h.Z.PRIORITY.STRONG].quality!==h.Z.NO_CHANGE&&(xe=Rt[h.Z.PRIORITY.STRONG]),xe&&(ot=xe.quality,Qe=xe.reason),(0,h.Z)(k).create(ot,Qe)}}return{initialize:function(){fe=[],Z=[],Pe.get().streaming.abr.useDefaultABRRules&&(Pe.get().streaming.abr.ABRStrategy===y.Z.ABR_STRATEGY_L2A?fe.push((0,v.Z)(k).create({dashMetrics:de,settings:Pe})):Pe.get().streaming.abr.ABRStrategy===y.Z.ABR_STRATEGY_LoLP?fe.push((0,S.Z)(k).create({dashMetrics:de})):(fe.push((0,A.Z)(k).create({dashMetrics:de,mediaPlayerModel:X,settings:Pe})),fe.push((0,ve.Z)(k).create({dashMetrics:de})),Pe.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&fe.push((0,N.Z)(k).create({dashMetrics:de,settings:Pe})),Pe.get().streaming.abr.additionalAbrRules.switchHistoryRule&&fe.push((0,I.Z)(k).create()),Pe.get().streaming.abr.additionalAbrRules.droppedFramesRule&&fe.push((0,d.Z)(k).create()),Pe.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Z.push((0,f.Z)(k).create({dashMetrics:de,mediaPlayerModel:X,settings:Pe})))),ue.getAbrCustomRules().forEach(function(Ge){Ge.type===T&&fe.push(Ge.rule(k).create()),Ge.type===j&&Z.push(Ge.rule(k).create())})},reset:function(){[fe,Z].forEach(function(Ge){Ge&&Ge.length&&Ge.forEach(function(ut){return ut.reset&&ut.reset()})}),fe=[],Z=[]},getMaxQuality:function(Ge){return _e(gt(fe.map(function(ut){return ut.getMaxIndex(Ge)})))||(0,h.Z)(k).create()},getMinSwitchRequest:_e,shouldAbandonFragment:function(Ge,ut){return _e(gt(Z.map(function(Ve){return Ve.shouldAbandon(Ge,ut)})))||(0,h.Z)(k).create()},getQualitySwitchRules:function(){return fe}}}Q.__dashjs_factory_name="ABRRulesCollection";var Y=D.Z.getClassFactory(Q);Y.QUALITY_SWITCH_RULES=T,Y.ABANDON_FRAGMENT_RULES=j,D.Z.updateSingletonFactory(Q.__dashjs_factory_name,Y),ze.Z=Y},7423:function(Et,ze,H){"use strict";var ve=H(2068),N=H(5448),f=H(6398);function d(I){var A,v,S,D,h,y=this.context,T=(I=I||{}).mediaPlayerModel,j=I.dashMetrics,Q=I.settings;function Y(){S={},D={},h=[]}return A={shouldAbandon:function($){var fe=(0,ve.Z)(y).create(ve.Z.NO_CHANGE,{name:d.__dashjs_factory_name});if(!($&&$.hasOwnProperty("getMediaInfo")&&$.hasOwnProperty("getMediaType")&&$.hasOwnProperty("getCurrentRequest")&&$.hasOwnProperty("getRepresentationInfo")&&$.hasOwnProperty("getAbrController")))return fe;var Z,k,et,jt,X=$.getMediaInfo(),ue=$.getMediaType(),de=$.getStreamInfo(),Pe=de?de.id:null,gt=$.getCurrentRequest();if(!isNaN(gt.index)){k=gt.index,S[Z=ue]=S[Z]||{},S[Z][k]=S[Z][k]||{};var _e=T.getStableBufferTime();if(j.getCurrentBufferLevel(ue)>_e)return fe;var Ge=S[ue][gt.index];if(null===Ge||null===gt.firstByteDate||D.hasOwnProperty(Ge.id))return fe;if(void 0===Ge.firstByteTime&&(h[ue]=[],Ge.firstByteTime=gt.firstByteDate.getTime(),Ge.segmentDuration=gt.duration,Ge.bytesTotal=gt.bytesTotal,Ge.id=gt.index),Ge.bytesLoaded=gt.bytesLoaded,Ge.elapsedTime=(new Date).getTime()-Ge.firstByteTime,Ge.bytesLoaded>0&&Ge.elapsedTime>0&&(et=ue,jt=Math.round(8*Ge.bytesLoaded/Ge.elapsedTime),h[et]=h[et]||[],h[et].push(jt)),h[ue].length>=5&&Ge.elapsedTime>500&&Ge.bytesLoaded<Ge.bytesTotal){var ut=h[ue].reduce(function(et,jt){return et+jt},0);if(Ge.measuredBandwidthInKbps=Math.round(ut/h[ue].length),Ge.estimatedTimeOfDownload=+(8*Ge.bytesTotal/Ge.measuredBandwidthInKbps/1e3).toFixed(2),Ge.estimatedTimeOfDownload<1.8*Ge.segmentDuration||0===$.getRepresentationInfo().quality)return fe;if(!D.hasOwnProperty(Ge.id)){var Ve=$.getAbrController(),ke=Ge.bytesTotal-Ge.bytesLoaded,ot=Ve.getBitrateList(X),Qe=Ve.getQualityForBitrate(X,Ge.measuredBandwidthInKbps*Q.get().streaming.abr.bandwidthSafetyFactor,Pe),Rt=Ve.getMinAllowedIndexFor(ue,Pe),xe=void 0!==Rt?Math.max(Rt,Qe):Qe;ke>Ge.bytesTotal*ot[xe].bitrate/ot[Ve.getQualityFor(ue,Pe)].bitrate&&(fe.quality=xe,fe.reason.throughput=Ge.measuredBandwidthInKbps,fe.reason.fragmentID=Ge.id,fe.reason.rule=this.getClassName(),D[Ge.id]=Ge,v.debug("["+ue+"] frag id",Ge.id," is asking to abandon and switch to quality to ",xe," measured bandwidth was",Ge.measuredBandwidthInKbps),delete S[ue][Ge.id])}}else Ge.bytesLoaded===Ge.bytesTotal&&delete S[ue][Ge.id]}return fe},reset:Y},v=(0,f.Z)(y).getInstance().getLogger(A),Y(),A}d.__dashjs_factory_name="AbandonRequestsRule",ze.Z=N.Z.getClassFactory(d)},3112:function(Et,ze,H){"use strict";var ve=H(3860),N=H(2068),f=H(5448),d=H(7855),I=H(5595),A=H(8512),v=H(6398),S=H(8825),D=H(3393),h=10;function y(T){var j,Q,Y,$=this.context,fe=(T=T||{}).dashMetrics,Z=T.mediaPlayerModel,k=(0,I.Z)($).getInstance();function X(xe,et,jt){var Ct=jt.reduce(function(pe,Ae,at){return Ae>jt[pe]?at:pe},0);if(0===Ct)return null;var Je=Math.max(xe,h+2*et.length),yt=(jt[Ct]-1)/(Je/h-1);return{gp:yt,Vp:h/yt}}function ue(xe){xe.placeholderBuffer=0,xe.mostAdvancedSegmentStart=NaN,xe.lastSegmentWasReplacement=!1,xe.lastSegmentStart=NaN,xe.lastSegmentDurationS=NaN,xe.lastSegmentRequestTimeMs=NaN,xe.lastSegmentFinishTimeMs=NaN}function de(xe,et){var jt=Z.getStableBufferTime();if(xe.stableBufferTime!==jt){var Ct=X(jt,xe.bitrates,xe.utilities);if(Ct.Vp!==xe.Vp||Ct.gp!==xe.gp){var Je=fe.getCurrentBufferLevel(et),yt=Je+xe.placeholderBuffer;yt-=h,yt*=Ct.Vp/xe.Vp,yt+=h,xe.stableBufferTime=jt,xe.Vp=Ct.Vp,xe.gp=Ct.gp,xe.placeholderBuffer=Math.max(0,yt-Je)}}}function Pe(xe,et){return xe.Vp*(xe.utilities[et]+xe.gp)}function gt(xe,et){for(var jt=xe.bitrates[et],Ct=xe.utilities[et],Je=0,yt=et-1;yt>=0;--yt)if(xe.utilities[yt]<xe.utilities[et]){var pe=xe.bitrates[yt];Je=Math.max(Je,xe.Vp*(xe.gp+(jt*xe.utilities[yt]-pe*Ct)/(jt-pe)))}return Je}function _e(xe){var et=xe.mediaType===D.Z.AUDIO?[D.Z.AUDIO]:Y;for(var jt in et)Y.hasOwnProperty(jt)&&2===Y[jt].state&&(Y[jt].placeholderBuffer=0)}function Ge(){for(var xe in Y)if(Y.hasOwnProperty(xe)){var et=Y[xe];0!==et.state&&(et.state=1,ue(et))}}function ut(xe){if(xe&&xe.chunk&&xe.chunk.mediaInfo){var et=Y[xe.chunk.mediaInfo.type];if(et&&0!==et.state){var jt=xe.chunk.start;isNaN(et.mostAdvancedSegmentStart)||jt>et.mostAdvancedSegmentStart?(et.mostAdvancedSegmentStart=jt,et.lastSegmentWasReplacement=!1):et.lastSegmentWasReplacement=!0,et.lastSegmentStart=jt,et.lastSegmentDurationS=xe.chunk.duration,et.lastQuality=xe.chunk.quality,ke(et,xe.chunk.mediaInfo.type)}}}function Ve(xe){if(xe&&xe.metric===ve.Z.HTTP_REQUEST&&xe.value&&xe.value.type===d.w.MEDIA_SEGMENT_TYPE&&xe.value.trace&&xe.value.trace.length){var et=Y[xe.mediaType];et&&0!==et.state&&(et.lastSegmentRequestTimeMs=xe.value.trequest.getTime(),et.lastSegmentFinishTimeMs=xe.value._tfinish.getTime(),ke(et,xe.mediaType))}}function ke(xe,et){if(!isNaN(xe.lastSegmentStart)&&!isNaN(xe.lastSegmentRequestTimeMs)&&!isNaN(xe.placeholderBuffer)){if(xe.placeholderBuffer*=.99,!isNaN(xe.lastSegmentFinishTimeMs)){var jt=fe.getCurrentBufferLevel(et)+.001*(xe.lastSegmentFinishTimeMs-xe.lastSegmentRequestTimeMs),Ct=Pe(xe,xe.lastQuality),Je=Math.max(0,Ct-jt);xe.placeholderBuffer=Math.min(Je,xe.placeholderBuffer)}xe.lastSegmentWasReplacement&&!isNaN(xe.lastSegmentDurationS)&&(xe.placeholderBuffer+=xe.lastSegmentDurationS),xe.lastSegmentStart=NaN,xe.lastSegmentRequestTimeMs=NaN}}function ot(xe){if(xe){var et=Y[xe.mediaType];et&&0!==et.state&&(et.abrQuality=xe.newQuality)}}function Qe(xe){if(xe){var et=Y[xe.mediaType];if(et&&0!==et.state){var jt,Ct=fe.getCurrentBufferLevel(xe.mediaType);jt=et.abrQuality>0?gt(et,et.abrQuality):h;var Je=Math.max(0,jt-Ct);et.placeholderBuffer=Math.min(et.placeholderBuffer,Je)}}}function Rt(){Y={}}return j={getMaxIndex:function(xe){var et=(0,N.Z)($).create();if(!(xe&&xe.hasOwnProperty("getMediaInfo")&&xe.hasOwnProperty("getMediaType")&&xe.hasOwnProperty("getScheduleController")&&xe.hasOwnProperty("getStreamInfo")&&xe.hasOwnProperty("getAbrController")&&xe.hasOwnProperty("useBufferOccupancyABR")))return et;var jt=xe.getMediaInfo(),Ct=xe.getMediaType(),Je=xe.getScheduleController(),yt=xe.getStreamInfo(),pe=xe.getAbrController(),Ae=pe.getThroughputHistory(),at=yt?yt.id:null,E=yt&&yt.manifestInfo&&yt.manifestInfo.isDynamic,g=xe.useBufferOccupancyABR();if(et.reason=et.reason||{},!g)return et;Je.setTimeToLoadDelay(0);var qe,ht,Ce,R=(ht=(qe=xe).getMediaType(),(Ce=Y[ht])?0!==Ce.state&&de(Ce,ht):(Ce=function(tt){var Ze={},Tt=tt.getMediaInfo().bitrateList.map(function(Dn){return Dn.bandwidth}),Mt=Tt.map(function(In){return Math.log(In)});Mt=Mt.map(function(Dn){return Dn-Mt[0]+1});var ln=Z.getStableBufferTime(),_n=X(ln,Tt,Mt);return _n?(Ze.state=1,Ze.bitrates=Tt,Ze.utilities=Mt,Ze.stableBufferTime=ln,Ze.Vp=_n.Vp,Ze.gp=_n.gp,Ze.lastQuality=0,ue(Ze)):Ze.state=0,Ze}(qe),Y[ht]=Ce),Ce);if(0===R.state)return et;var O,ae=fe.getCurrentBufferLevel(Ct),oe=Ae.getAverageThroughput(Ct,E),De=Ae.getSafeAverageThroughput(Ct,E),We=Ae.getAverageLatency(Ct);if(et.reason.state=R.state,et.reason.throughput=oe,et.reason.latency=We,isNaN(oe))return et;switch(R.state){case 1:O=pe.getQualityForBitrate(jt,De,at,We),et.quality=O,et.reason.throughput=De,R.placeholderBuffer=Math.max(0,gt(R,O)-ae),R.lastQuality=O,!isNaN(R.lastSegmentDurationS)&&ae>=R.lastSegmentDurationS&&(R.state=2);break;case 2:(function(qe,ht){var Ce=Date.now();isNaN(qe.lastSegmentFinishTimeMs)?isNaN(qe.lastCallTimeMs)||(qe.placeholderBuffer+=Math.max(0,.001*(Ce-qe.lastCallTimeMs))):qe.placeholderBuffer+=Math.max(0,.001*(Ce-qe.lastSegmentFinishTimeMs)),qe.lastCallTimeMs=Ce,qe.lastSegmentStart=NaN,qe.lastSegmentRequestTimeMs=NaN,qe.lastSegmentFinishTimeMs=NaN,de(qe,ht)})(R,Ct),O=function(qe,ht){for(var Ce=qe.bitrates.length,tt=NaN,Ze=NaN,Tt=0;Tt<Ce;++Tt){var Mt=(qe.Vp*(qe.utilities[Tt]+qe.gp)-ht)/qe.bitrates[Tt];(isNaN(Ze)||Mt>=Ze)&&(Ze=Mt,tt=Tt)}return tt}(R,ae+R.placeholderBuffer);var $e=pe.getQualityForBitrate(jt,De,at,We);O>R.lastQuality&&O>$e&&(O=Math.max($e,R.lastQuality));var Fe=Math.max(0,ae+R.placeholderBuffer-Pe(R,O));Fe<=R.placeholderBuffer?(R.placeholderBuffer-=Fe,Fe=0):(Fe-=R.placeholderBuffer,R.placeholderBuffer=0,O<pe.getMaxAllowedIndexFor(Ct,at)?Je.setTimeToLoadDelay(1e3*Fe):Fe=0),et.quality=O,et.reason.throughput=oe,et.reason.latency=We,et.reason.bufferLevel=ae,et.reason.placeholderBuffer=R.placeholderBuffer,et.reason.delay=Fe,R.lastQuality=O;break;default:Q.debug("BOLA ABR rule invoked in bad state."),et.quality=pe.getQualityForBitrate(jt,De,at,We),et.reason.state=R.state,et.reason.throughput=De,et.reason.latency=We,R.state=1,ue(R)}return et},reset:function(){Rt(),k.off(S.Z.BUFFER_EMPTY,_e,j),k.off(S.Z.PLAYBACK_SEEKING,Ge,j),k.off(S.Z.METRIC_ADDED,Ve,j),k.off(S.Z.QUALITY_CHANGE_REQUESTED,ot,j),k.off(S.Z.FRAGMENT_LOADING_ABANDONED,Qe,j),k.off(A.Z.MEDIA_FRAGMENT_LOADED,ut,j)}},Q=(0,v.Z)($).getInstance().getLogger(j),Rt(),k.on(S.Z.BUFFER_EMPTY,_e,j),k.on(S.Z.PLAYBACK_SEEKING,Ge,j),k.on(S.Z.METRIC_ADDED,Ve,j),k.on(S.Z.QUALITY_CHANGE_REQUESTED,ot,j),k.on(S.Z.FRAGMENT_LOADING_ABANDONED,Qe,j),k.on(A.Z.MEDIA_FRAGMENT_LOADED,ut,j),j}y.__dashjs_factory_name="BolaRule",ze.Z=f.Z.getClassFactory(y)},895:function(Et,ze,H){"use strict";var ve=H(5448),N=H(2068),f=H(6398);function d(){var I,A,v=this.context;return I={getMaxIndex:function(S){var D=(0,N.Z)(v).create();if(!S||!S.hasOwnProperty("getDroppedFramesHistory"))return D;var h=S.getDroppedFramesHistory(),y=S.getStreamInfo().id;if(h){var T=h.getFrameHistory(y);if(!T||0===T.length)return D;for(var j=0,Q=0,Y=N.Z.NO_CHANGE,$=1;$<T.length;$++)if(T[$]&&(j=T[$].droppedVideoFrames,(Q=T[$].totalVideoFrames)>375&&j/Q>.15)){A.debug("index: "+(Y=$-1)+" Dropped Frames: "+j+" Total Frames: "+Q);break}return(0,N.Z)(v).create(Y,{droppedFrames:j})}return D}},A=(0,f.Z)(v).getInstance().getLogger(I),I}d.__dashjs_factory_name="DroppedFramesRule",ze.Z=ve.Z.getClassFactory(d)},6535:function(Et,ze,H){"use strict";var ve=H(5595),N=H(8512),f=H(5448),d=H(6398),I=H(2068),A=H(3393),v=H(3860),S=H(8825);function D(h){h=h||{};var y,T,j,Q=this.context,Y=(0,ve.Z)(Q).getInstance(),$=h.dashMetrics;function fe(){(j={})[A.Z.VIDEO]={ignoreCount:2},j[A.Z.AUDIO]={ignoreCount:2}}function Z(){fe()}function k(X){isNaN(X.startTime)||X.mediaType!==A.Z.AUDIO&&X.mediaType!==A.Z.VIDEO||j[X.mediaType].ignoreCount>0&&j[X.mediaType].ignoreCount--}return y={getMaxIndex:function(X){var ue=(0,I.Z)(Q).create();if(!X||!X.hasOwnProperty("getMediaType"))return ue;!function(){if(!$||!$.hasOwnProperty("getCurrentBufferLevel")||!$.hasOwnProperty("getCurrentBufferState"))throw new Error(A.Z.MISSING_CONFIG_ERROR)}();var de=X.getMediaType(),Pe=$.getCurrentBufferState(de),gt=X.getRepresentationInfo().fragmentDuration,_e=X.getStreamInfo(),Ge=_e?_e.id:null,ut=X.getScheduleController(),Ve=_e&&_e.manifestInfo&&_e.manifestInfo.isDynamic;if(!ut.getPlaybackController().getLowLatencyModeEnabled()&&j[de].ignoreCount>0||!gt)return ue;if(Pe&&Pe.state===v.Z.BUFFER_EMPTY)T.debug("["+de+"] Switch to index 0; buffer is empty."),ue.quality=0,ue.reason="InsufficientBufferRule: Buffer is empty";else{var ke=X.getMediaInfo(),ot=X.getAbrController(),Qe=ot.getThroughputHistory(),Rt=$.getCurrentBufferLevel(de),xe=Qe.getAverageThroughput(de,Ve),et=Qe.getAverageLatency(de);ue.quality=ot.getQualityForBitrate(ke,xe*(Rt/gt)*.5,Ge,et),ue.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return ue},reset:function(){fe(),Y.off(S.Z.PLAYBACK_SEEKING,Z,y),Y.off(N.Z.BYTES_APPENDED_END_FRAGMENT,k,y)}},T=(0,d.Z)(Q).getInstance().getLogger(y),fe(),Y.on(S.Z.PLAYBACK_SEEKING,Z,y),Y.on(N.Z.BYTES_APPENDED_END_FRAGMENT,k,y),y}D.__dashjs_factory_name="InsufficientBufferRule",ze.Z=f.Z.getClassFactory(D)},1914:function(Et,ze,H){"use strict";var ve=H(3860),N=H(2068),f=H(5448),d=H(7855),I=H(5595),A=H(8512),v=H(6398),S=H(3393);function D(h){var y,T,j,Q,Y=this.context,$=(h=h||{}).dashMetrics,fe=(0,I.Z)(Y).getInstance();function Z(Ge){Ge.placeholderBuffer=0,Ge.mostAdvancedSegmentStart=NaN,Ge.lastSegmentWasReplacement=!1,Ge.lastSegmentStart=NaN,Ge.lastSegmentDurationS=NaN,Ge.lastSegmentRequestTimeMs=NaN,Ge.lastSegmentFinishTimeMs=NaN,Ge.lastSegmentUrl=""}function k(){for(var Ge in T)if(T.hasOwnProperty(Ge)){var ut=T[Ge];0!==ut.state&&(ut.state=1,Z(ut))}}function X(Ge){if(Ge&&Ge.chunk&&Ge.chunk.mediaInfo){var ut=T[Ge.chunk.mediaInfo.type],Ve=j[Ge.chunk.mediaInfo.type];if(ut&&0!==ut.state){var ke=Ge.chunk.start;isNaN(ut.mostAdvancedSegmentStart)||ke>ut.mostAdvancedSegmentStart?(ut.mostAdvancedSegmentStart=ke,ut.lastSegmentWasReplacement=!1):ut.lastSegmentWasReplacement=!0,ut.lastSegmentStart=ke,ut.lastSegmentDurationS=Ge.chunk.duration,ut.lastQuality=Ge.chunk.quality,de(ut,Ve)}}}function ue(Ge){if(Ge&&Ge.metric===ve.Z.HTTP_REQUEST&&Ge.value&&Ge.value.type===d.w.MEDIA_SEGMENT_TYPE&&Ge.value.trace&&Ge.value.trace.length){var ut=T[Ge.mediaType],Ve=j[Ge.mediaType];ut&&0!==ut.state&&(ut.lastSegmentRequestTimeMs=Ge.value.trequest.getTime(),ut.lastSegmentFinishTimeMs=Ge.value._tfinish.getTime(),de(ut,Ve))}}function de(Ge,ut){isNaN(Ge.lastSegmentStart)||isNaN(Ge.lastSegmentRequestTimeMs)||(ut.segment_request_start_s=.001*Ge.lastSegmentRequestTimeMs,ut.segment_download_finish_s=.001*Ge.lastSegmentFinishTimeMs,Ge.lastSegmentStart=NaN,Ge.lastSegmentRequestTimeMs=NaN)}function Pe(Ge){if(Ge&&Ge.mediaType){var ut=T[Ge.mediaType];ut&&0!==ut.state&&(ut.abrQuality=Ge.newQuality)}}function gt(Ge,ut){if(Ge.length!==ut.length)return-1;for(var Ve=0,ke=0;ke<Ge.length;ke++)Ve+=Ge[ke]*ut[ke];return Ve}function _e(){T={},j={}}return y={getMaxIndex:function(Ge){var ut,Ve=(0,N.Z)(Y).create(),ke=Math.pow(4,.99),ot=Math.max(Math.pow(4,1),ke*Math.sqrt(4)),Qe=Ge.getMediaInfo(),Rt=Ge.getMediaType(),xe=Qe.bitrateList.map(function(_n){return _n.bandwidth}),et=xe.length,jt=Ge.getScheduleController(),Ct=Ge.getStreamInfo(),Je=Ge.getAbrController(),yt=Je.getThroughputHistory(),pe=Ct&&Ct.manifestInfo&&Ct.manifestInfo.isDynamic,Ae=Ge.useL2AABR(),at=$.getCurrentBufferLevel(Rt,!0),E=yt.getSafeAverageThroughput(Rt,pe),g=yt.getAverageThroughput(Rt,pe),R=yt.getAverageLatency(Rt),O=Ge.getVideoModel().getPlaybackRate();if(!(Ge&&Ge.hasOwnProperty("getMediaInfo")&&Ge.hasOwnProperty("getMediaType")&&Ge.hasOwnProperty("getScheduleController")&&Ge.hasOwnProperty("getStreamInfo")&&Ge.hasOwnProperty("getAbrController")&&Ge.hasOwnProperty("useL2AABR")&&(Ve.reason=Ve.reason||{},Ae&&Rt!==S.Z.AUDIO)))return Ve;jt.setTimeToLoadDelay(0);var _n,Dr,Bn,Er,gi,Dn,In,ae=(Dn=(_n=Ge).getMediaType(),(In=T[Dn])||(Bn={},gi=(Er=_n.getMediaInfo()).bitrateList.map(function(Dr){return Dr.bandwidth/1e3}),Bn.state=1,Bn.bitrates=gi,Bn.lastQuality=0,(Dr=Er)&&Dr.type&&(j[Dr.type]={},j[Dr.type].w=[],j[Dr.type].prev_w=[],j[Dr.type].Q=0,j[Dr.type].segment_request_start_s=0,j[Dr.type].segment_download_finish_s=0,j[Dr.type].B_target=1.5),Z(Bn),T[Dn]=In=Bn),In);if(0===ae.state)return Ve;var oe=j[Rt];if(!oe||(Ve.reason.state=ae.state,Ve.reason.throughput=g,Ve.reason.latency=R,isNaN(g)))return Ve;switch(ae.state){case 1:if(ut=Je.getQualityForBitrate(Qe,E,Ct.id,R),Ve.quality=ut,Ve.reason.throughput=E,ae.lastQuality=ut,!isNaN(ae.lastSegmentDurationS)&&at>=oe.B_target){ae.state=2,oe.Q=ke;for(var De=0;De<et;++De)oe.prev_w[De]=De===ae.lastQuality?1:0}break;case 2:var We=[],$e=$.getCurrentHttpRequest(Rt).trace.reduce(function(_n,Dn){return _n+Dn.d},0),Fe=$.getCurrentHttpRequest(Rt).trace.reduce(function(_n,Dn){return _n+Dn.b[0]},0),qe=Math.round(8*Fe/$e),ht=$.getCurrentHttpRequest(Rt);if(qe<1&&(qe=1),ht.url===ae.lastSegmentUrl||ht.type===d.w.INIT_SEGMENT_TYPE)ut=ae.lastQuality;else{for(var Ce=ae.lastSegmentDurationS,tt=1,Ze=0;Ze<et;++Ze)xe[Ze]=xe[Ze]/1e3,O*xe[Ze]>qe&&(tt=-1),oe.w[Ze]=oe.prev_w[Ze]+tt*(Ce/(2*ot))*((oe.Q+ke)*(O*xe[Ze]/qe));oe.w=function(_n){for(var Dn=_n.length,In=!1,Xn=[],Bn=0;Bn<Dn;++Bn)Xn[Bn]=_n[Bn];for(var Er=_n.sort(function(wo,Zi){return Zi-wo}),gi=0,Dr=0,ao=[],_i=0;_i<Dn-1;++_i)if((Dr=((gi+=Er[_i])-1)/(_i+1))>=Er[_i+1]){In=!0;break}In||(Dr=(gi+Er[Dn-1]-1)/Dn);for(var Hi=0;Hi<Dn;++Hi)ao[Hi]=Math.max(Xn[Hi]-Dr,0);return ao}(oe.w);for(var Tt=0;Tt<et;++Tt)We[Tt]=oe.w[Tt]-oe.prev_w[Tt],oe.prev_w[Tt]=oe.w[Tt];oe.Q=Math.max(0,oe.Q-Ce+Ce*O*((gt(xe,oe.prev_w)+gt(xe,We))/qe));for(var Mt=[],ln=0;ln<et;++ln)Mt[ln]=Math.abs(xe[ln]-gt(oe.w,xe));(ut=Mt.indexOf(Math.min.apply(Math,Mt)))>ae.lastQuality&&xe[ae.lastQuality+1]<=qe&&(ut=ae.lastQuality+1),xe[ut]>=qe&&(oe.Q=2*Math.max(ke,oe.Q)),ae.lastSegmentUrl=ht.url}Ve.quality=ut,Ve.reason.throughput=g,Ve.reason.latency=R,Ve.reason.bufferLevel=at,ae.lastQuality=Ve.quality;break;default:Q.debug("L2A ABR rule invoked in bad state."),Ve.quality=Je.getQualityForBitrate(Qe,E,Ct.id,R),Ve.reason.state=ae.state,Ve.reason.throughput=E,Ve.reason.latency=R,ae.state=1,Z(ae)}return Ve},reset:function(){_e(),fe.off(A.Z.PLAYBACK_SEEKING,k,y),fe.off(A.Z.MEDIA_FRAGMENT_LOADED,X,y),fe.off(A.Z.METRIC_ADDED,ue,y),fe.off(A.Z.QUALITY_CHANGE_REQUESTED,Pe,y)}},Q=(0,v.Z)(Y).getInstance().getLogger(y),_e(),fe.on(A.Z.PLAYBACK_SEEKING,k,y),fe.on(A.Z.MEDIA_FRAGMENT_LOADED,X,y),fe.on(A.Z.METRIC_ADDED,ue,y),fe.on(A.Z.QUALITY_CHANGE_REQUESTED,Pe,y),y}D.__dashjs_factory_name="L2ARule",ze.Z=f.Z.getClassFactory(D)},6070:function(Et,ze,H){"use strict";var ve=H(5448),N=H(6398),f=H(2068);function d(){var I,A,v=this.context;return I={getMaxIndex:function(S){for(var D=S?S.getSwitchHistory():null,h=D?D.getSwitchRequests():[],y=0,T=0,j=0,Q=(0,f.Z)(v).create(),Y=0;Y<h.length;Y++)if(void 0!==h[Y]&&(j+=h[Y].dropSize,(y+=h[Y].drops)+(T+=h[Y].noDrops)>=6&&y/T>.075)){Q.quality=Y>0&&h[Y].drops>0?Y-1:Y,Q.reason={index:Q.quality,drops:y,noDrops:T,dropSize:j},A.debug("Switch history rule index: "+Q.quality+" samples: "+(y+T)+" drops: "+y);break}return Q}},A=(0,N.Z)(v).getInstance().getLogger(I),I}d.__dashjs_factory_name="SwitchHistoryRule",ze.Z=ve.Z.getClassFactory(d)},5628:function(Et,ze,H){"use strict";var ve=H(5448),N=H(2068),f=H(3393),d=H(3860);function I(A){var v=this.context,S=(A=A||{}).dashMetrics;return{getMaxIndex:function(D){var h=(0,N.Z)(v).create();if(!(D&&D.hasOwnProperty("getMediaInfo")&&D.hasOwnProperty("getMediaType")&&D.hasOwnProperty("useBufferOccupancyABR")&&D.hasOwnProperty("getAbrController")&&D.hasOwnProperty("getScheduleController")))return h;!function(){if(!S||!S.hasOwnProperty("getCurrentBufferState"))throw new Error(f.Z.MISSING_CONFIG_ERROR)}();var y=D.getMediaInfo(),T=D.getMediaType(),j=S.getCurrentBufferState(T),Q=D.getScheduleController(),Y=D.getAbrController(),$=D.getStreamInfo(),fe=$?$.id:null,Z=$&&$.manifestInfo?$.manifestInfo.isDynamic:null,k=Y.getThroughputHistory(),X=k.getSafeAverageThroughput(T,Z),ue=k.getAverageLatency(T),de=D.useBufferOccupancyABR();return isNaN(X)||!j||de||Y.getAbandonmentStateFor(fe,T)!==d.Z.ABANDON_LOAD&&(j.state===d.Z.BUFFER_LOADED||Z)&&(h.quality=Y.getQualityForBitrate(y,X,fe,ue),Q.setTimeToLoadDelay(0),h.reason={throughput:X,latency:ue}),h},reset:function(){}}}I.__dashjs_factory_name="ThroughputRule",ze.Z=ve.Z.getClassFactory(I)},4722:function(Et,ze,H){"use strict";var ve=H(5448),N=H(6398);function f(){var d,I,A,v,S,D,h,y,T;function Q(){A=null,v=1,S=100,D=0,h=null,y=null,T="dynamic_weight_selection"}function Y(){var X=0;if(A)for(var ue=0;ue<A.length;ue++){var de=A[ue];de.state.throughput>X&&(X=de.state.throughput)}return X}function $(X,ue,de){var Pe=X.map(function(gt,_e){return de[_e]*Math.pow(gt-ue[_e],2)}).reduce(function(gt,_e){return gt+_e});return(Pe<0?-1:1)*Math.sqrt(Math.abs(Pe))}function fe(X,ue){return $([X.state.throughput,X.state.latency,X.state.rebuffer,X.state.switch],[ue.state.throughput,ue.state.latency,ue.state.rebuffer,ue.state.switch],[1,1,1,1])}function Z(X,ue,de){for(var Pe=0;Pe<ue.length;Pe++){var gt=ue[Pe],_e=fe(gt,X);k(gt,de,Math.exp(-1*Math.pow(_e,2)/(2*Math.pow(.1,2))))}}function k(X,ue,de){var Pe=X.state,gt=[.01,.01,.01,.01];Pe.throughput=Pe.throughput+(ue[0]-Pe.throughput)*gt[0]*de,Pe.latency=Pe.latency+(ue[1]-Pe.latency)*gt[1]*de,Pe.rebuffer=Pe.rebuffer+(ue[2]-Pe.rebuffer)*gt[2]*de,Pe.switch=Pe.switch+(ue[3]-Pe.switch)*gt[3]*de}return d={getNextQuality:function(X,ue,de,Pe,gt,_e,Ge){var ut=de,Ve=Pe,ke=ue,ot=function(oe){if(!A){A=[];var De=oe.bitrateList,We=[];D=De[0].bandwidth,De.forEach(function(ht){We.push(ht.bandwidth),ht.bandwidth<D&&(D=ht.bandwidth)}),qe=We.map(function(ht){return Math.pow(ht,2)}).reduce(function(ht,Ce){return ht+Ce}),v=Math.sqrt(qe);for(var $e=0;$e<De.length;$e++)A.push({qualityIndex:$e,bitrate:De[$e].bandwidth,state:{throughput:De[$e].bandwidth/v,latency:0,rebuffer:0,switch:0}});y=function(ht){var Ce=[],tt=function(qs){for(var zt=[],Ut=0;Ut<qs;Ut++){var Ht=[Math.random()*Y(),Math.random(),Math.random(),Math.random()];zt.push(Ht)}return zt}(Math.pow(ht.length,2));Ce.push(tt[0]);for(var Ze=[1,1,1,1],Tt=1;Tt<ht.length;Tt++){for(var Mt=null,ln=null,_n=0;_n<tt.length;_n++){for(var Dn=tt[_n],In=null,Xn=0;Xn<Ce.length;Xn++){var Bn=$(Dn,Ce[Xn],Ze);(null===In||Bn<In)&&(In=Bn)}(null===ln||In>ln)&&(Mt=Dn,ln=In)}Ce.push(Mt)}for(var Er=null,gi=null,Dr=0;Dr<Ce.length;Dr++){for(var ao=0,_i=0;_i<Ce.length;_i++)Dr!==_i&&(ao+=$(Ce[Dr],Ce[_i],Ze));(null===Er||ao>Er)&&(Er=ao,gi=Dr)}var Hi=[];for(Hi.push(Ce[gi]),Ce.splice(gi,1);Ce.length>0;){for(var wo=null,Zi=null,Bo=0;Bo<Ce.length;Bo++){var Ko=$(Hi[0],Ce[Bo],Ze);(null===wo||Ko<wo)&&(wo=Ko,Zi=Bo)}Hi.push(Ce[Zi]),Ce.splice(Zi,1)}return Hi}(A)}var qe;return A}(X),Qe=ue/v;Qe>1&&(Qe=Y()),de/=S,I.debug("getNextQuality called throughput:".concat(Qe," latency:").concat(de," bufferSize:").concat(Pe," currentQualityIndex:").concat(_e," playbackRate:").concat(gt));var Rt=ot[_e],xe=Rt.bitrate*Ge.getSegmentDuration()/ke,et=Math.max(0,xe-Ve);if(Ve-xe<Ge.getMinBuffer())return I.debug("Buffer is low for bitrate= ".concat(Rt.bitrate," downloadTime=").concat(xe," currentBuffer=").concat(Ve," rebuffer=").concat(et)),function(oe,De){var We=0,$e=oe;if(A)for(var Fe=0;Fe<A.length;Fe++){var qe=A[Fe];qe.bitrate<oe.bitrate&&qe.bitrate>We&&De>qe.bitrate&&(We=qe.bitrate,$e=qe)}return $e}(Rt,ke).qualityIndex;switch(T){case"manual_weight_selection":h=[.4,.4,.4,.4];break;case"random_weight_selection":h=function(De,We){for(var $e=[],Fe=Math.sqrt(2/De),qe=0;qe<4;qe++)$e.push(Math.random()*Fe);return h=$e}(ot.length);break;default:!function(oe,De,We,$e,Fe,qe,ht){h||(h=y[y.length-1]);var Ce=oe.findWeightVector(De,We,$e,Fe,qe,ht);null!==Ce&&-1!==Ce&&(h=Ce)}(Ge,ot,ut,Ve,et,ke,gt)}for(var jt=null,Ct=null,Je=null,yt=0;yt<ot.length;yt++){var pe=ot[yt],Ae=pe.state,at=[Ae.throughput,Ae.latency,Ae.rebuffer,Ae.switch],E=h.slice(),g=Ge.getNextBufferWithBitrate(pe.bitrate,Ve,ke),R=g<Ge.getMinBuffer();R&&I.debug("Buffer is low for bitrate=".concat(pe.bitrate," downloadTime=").concat(xe," currentBuffer=").concat(Ve," nextBuffer=").concat(g)),(pe.bitrate>ue-1e4||R)&&pe.bitrate!==D&&(E[0]=100);var O=$(at,[Qe,0,0,0],E);(null===jt||O<jt)&&(jt=O,Ct=pe.qualityIndex,Je=pe)}var ae=Math.abs(Rt.bitrate-Je.bitrate)/v;return Z(Rt,ot,[Qe,de,et,ae]),Z(Je,ot,[Qe,0,0,ae]),Ct},reset:function(){Q()}},I=(0,N.Z)(this.context).getInstance().getLogger(d),Q(),d}f.__dashjs_factory_name="LearningAbrController",ze.Z=ve.Z.getClassFactory(f)},5317:function(Et,ze,H){"use strict";var ve=H(5448),N=H(2298);function f(){var d,I,A,v,S;function D(){I=null,A=null,v=null,S=null}function h(T,j,Q,Y){var $=new N.Z;return $.type=T,$.weights.bitrateReward=j||1,$.weights.bitrateSwitchPenalty=1,$.weights.rebufferPenalty=Q||1e3,$.weights.latencyPenalty=[],$.weights.latencyPenalty.push({threshold:1.1,penalty:.05*Y}),$.weights.latencyPenalty.push({threshold:1e8,penalty:.1*Q}),$.weights.playbackSpeedPenalty=Y||200,$}function y(T,j,Q,Y,$){$.bitrateWSum+=$.weights.bitrateReward*T,$.lastBitrate&&($.bitrateSwitchWSum+=$.weights.bitrateSwitchPenalty*Math.abs(T-$.lastBitrate)),$.lastBitrate=T,$.rebufferWSum+=$.weights.rebufferPenalty*j;for(var fe=0;fe<$.weights.latencyPenalty.length;fe++){var Z=$.weights.latencyPenalty[fe];if(Q<=Z.threshold){$.latencyWSum+=Z.penalty*Q;break}}$.playbackSpeedWSum+=$.weights.playbackSpeedPenalty*Math.abs(1-Y),$.totalQoe=$.bitrateWSum-$.bitrateSwitchWSum-$.rebufferWSum-$.latencyWSum-$.playbackSpeedWSum}return d={setupPerSegmentQoe:function(T,j,Q){I=h("segment",T,j,Q),A=T,v=j,S=Q},logSegmentMetrics:function(T,j,Q,Y){I&&y(T,j,Q,Y,I)},getPerSegmentQoe:function(){return I},calculateSingleUseQoe:function(T,j,Q,Y){var $=null;return A&&v&&S&&($=h("segment",A,v,S)),$?(y(T,j,Q,Y,$),$.totalQoe):0},reset:function(){D()}},D(),d}f.__dashjs_factory_name="LoLpQoeEvaluator",ze.Z=ve.Z.getClassFactory(f)},5435:function(Et,ze,H){"use strict";var ve=H(6398),N=H(5448),f=H(4722),d=H(5317),I=H(2068),A=H(3860),v=H(6523),S=H(3393);function D(h){var y,T,j,Q,Y=(h=h||{}).dashMetrics,$=this.context;return T={getMaxIndex:function(fe){try{var Z=(0,I.Z)($).create(),k=fe.getMediaInfo().type,X=fe.getAbrController(),ue=fe.getStreamInfo(),de=X.getQualityFor(k,ue.id),Pe=fe.getMediaInfo(),gt=Y.getCurrentBufferState(k),_e=fe.getScheduleController(),Ge=Y.getCurrentBufferLevel(k,!0),ut=ue&&ue.manifestInfo?ue.manifestInfo.isDynamic:null,Ve=_e.getPlaybackController(),ke=Ve.getCurrentLiveLatency();if(!fe.useLoLPABR()||k===S.Z.AUDIO)return Z;ke||(ke=0);var ot=Ve.getPlaybackRate(),Qe=X.getThroughputHistory().getSafeAverageThroughput(k,ut);if(y.debug("Throughput ".concat(Math.round(Qe)," kbps")),isNaN(Qe)||!gt||X.getAbandonmentStateFor(ue.id,k)===A.Z.ABANDON_LOAD)return Z;for(var Rt=Pe.bitrateList,xe=fe.getRepresentationInfo().fragmentDuration,et=Rt[0].bandwidth/1e3,jt=Rt[Rt.length-1].bandwidth/1e3,Ct=0;Ct<Rt.length;Ct++){var Je=Rt[Ct].bandwidth/1e3;Je>jt?jt=Je:Je<et&&(et=Je)}var yt=Rt[de].bandwidth/1e3,pe=Y.getCurrentHttpRequest(k,!0),Ae=(pe.tresponse.getTime()-pe.trequest.getTime())/1e3,at=Ae>xe?Ae-xe:0;Q.setupPerSegmentQoe(xe,jt,et),Q.logSegmentMetrics(yt,at,ke,ot);var E=(0,v.Z)($).create({targetLatency:1.5,bufferMin:.3,segmentDuration:xe,qoeEvaluator:Q});return Z.quality=j.getNextQuality(Pe,1e3*Qe,ke,Ge,ot,de,E),Z.reason={throughput:Qe,latency:ke},Z.priority=I.Z.PRIORITY.STRONG,_e.setTimeToLoadDelay(0),Z.quality!==de&&y.debug("[TgcLearningRule]["+k+"] requesting switch to index: ",Z.quality,"Average throughput",Math.round(Qe),"kbps"),Z}catch(g){throw g}},reset:function(){j.reset(),Q.reset()}},y=(0,ve.Z)($).getInstance().getLogger(T),j=(0,f.Z)($).create(),Q=(0,d.Z)($).create(),T}D.__dashjs_factory_name="LoLPRule",ze.Z=N.Z.getClassFactory(D)},6523:function(Et,ze,H){"use strict";var ve=H(5448);function N(f){var d,I,A,v,S=f.targetLatency,D=f.bufferMin,h=f.segmentDuration,y=f.qoeEvaluator;function T(){return h}function j(Q,Y){var $=T();return Y>$?Q-$:Q+$-Y}return d={getMinBuffer:function(){return D},getSegmentDuration:T,getNextBufferWithBitrate:function(Q,Y,$){return j(Y,Q*h/$)},getNextBuffer:j,findWeightVector:function(Q,Y,$,fe,Z,k){var X=null,ue=null,de=null,Pe=Math.abs(Y-A);return Q.forEach(function(gt){I.forEach(function(_e){var Ge=_e[1],ut=_e[2],Ve=gt.bitrate*h/Z,ke=j($,Ve),ot=(0===ut?10:1/ut)*Math.max(1e-5,Ve-ke),Rt=y.calculateSingleUseQoe(gt.bitrate,ot,(0===Ge?10:1/Ge)*gt.state.latency,k);(null===X||Rt>X)&&(!(Y>S+Pe)&&ke>=D)&&(X=Rt,ue=_e,de=gt.bitrate)})}),null===ue&&null===de&&(ue=-1),A=Y,ue}},I=function Q(Y,$,fe){if(fe===$)return Y;for(var Z=Y.length,k=0;k<Z;k++)for(var X=Y.shift(),ue=0;ue<v.length;ue++)Y.push(X.concat(v[ue]));return Q(Y,$,fe+1)}((v=[.2,.4,.6,.8,1]).map(function(Q){return[Q]}),4,1),A=0,d}N.__dashjs_factory_name="LoLpWeightSelector",ze.Z=ve.Z.getClassFactory(N)},2298:function(Et,ze){"use strict";ze.Z=function H(){(function(ve,N){if(!(ve instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:function(Et,ze,H){"use strict";H.d(ze,{Y:function(){return y}});var ve=H(3393),N=H(1553),f=H(5448),d=H(2128),I=H(2594),A=H(7387),v=H(7417),S=H(9032),D=H(9326),h=H(7802),y=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function T(j){var Q,Y,$,fe,Z,k,X,ue,de=this.context,Pe=j.adapter,gt=j.baseURLController,_e=j.streamInfo,Ge=j.timelineConverter,ut=j.debug,Ve=j.eventBus,ke=j.events,ot=j.dashConstants,Qe=(0,I.Z)(de).getInstance();function Rt(et,jt){var Je,yt,Ct=new d.Z;Ct.id=et.id,Ct.bitrate=et.bandwidth,Ct.width=et.width,Ct.height=et.height,Ct.tilesHor=1,Ct.tilesVert=1,et.essentialProperties&&et.essentialProperties.forEach(function(Je){if(y.indexOf(Je.schemeIdUri)>=0&&Je.value){var yt=Je.value.split("x");2!==yt.length||isNaN(yt[0])||isNaN(yt[1])||(Ct.tilesHor=parseInt(yt[0],10),Ct.tilesVert=parseInt(yt[1],10))}}),jt?k.updateSegmentData(et).then(function(Je){var yt,pe,at,E;yt=Ct,at=[],E=function(g,R){var O,ae,oe,De,We=[],$e=0;for(O=0,ae=g.segments.length;O<ae;O++)oe=g.segments[O],(De=(0,A.TJ)(Ge,Pe.getIsDynamic(),R,oe.startTime,oe.duration,oe.timescale,oe.media,oe.mediaRange,$e))&&(We.push(De),De=null,$e++);return We}(Je,pe=et),pe.segments=E,yt.segmentDuration=pe.segments[0].duration,yt.readThumbnail=function(g,R){var O=null;at.some(function(ae){if(ae.start<=g&&ae.end>g)return O=ae.url,!0}),O?R(O):pe.segments.some(function(ae){if(ae.mediaStartTime<=g&&ae.mediaStartTime+ae.duration>g){var oe=gt.resolve(pe.path);return X.load({method:"get",url:oe.url,request:{range:ae.mediaRange,responseType:"arraybuffer"},onload:function(De){var We=ue.getSamplesInfo(De.target.response),$e=new Blob([De.target.response.slice(We.sampleList[0].offset,We.sampleList[0].offset+We.sampleList[0].size)],{type:"image/jpeg"}),Fe=window.URL.createObjectURL($e);at.push({start:ae.mediaStartTime,end:ae.mediaStartTime+ae.duration,url:Fe}),R&&R(Fe)}}),!0}})}}):(Ct.startNumber=et.startNumber,Ct.segmentDuration=et.segmentDuration,Ct.timescale=et.timescale,Ct.templateUrl=(yt=Qe.isRelative((Je=et).media)?Qe.resolve(Je.media,gt.resolve(Je.path).url):Je.media)?(0,A.Aj)(yt,Je.id):""),Ct.tilesHor>0&&Ct.tilesVert>0&&(Ct.widthPerTile=Ct.width/Ct.tilesHor,Ct.heightPerTile=Ct.height/Ct.tilesVert,Y.push(Ct))}function xe(){Y=[],fe=-1,Z=null}return Q={getTracks:function(){return Y},addTracks:function(){if(_e&&Pe&&(Z=Pe.getMediaInfoForType(_e,ve.Z.IMAGE))){var et=Pe.getVoRepresentations(Z);et&&et.length>0&&et.forEach(function(jt){(jt.segmentInfoType===N.Z.SEGMENT_TEMPLATE&&jt.segmentDuration>0&&jt.media||jt.segmentInfoType===N.Z.SEGMENT_TIMELINE)&&Rt(jt),jt.segmentInfoType===N.Z.SEGMENT_BASE&&Rt(jt,!0)}),Y.length>0&&Y.sort(function(jt,Ct){return jt.bitrate-Ct.bitrate})}},reset:xe,setTrackByIndex:function(et){Y&&0!==Y.length&&(et>=Y.length&&(et=Y.length-1),fe=et)},getCurrentTrack:function(){return fe<0?null:Y[fe]},getCurrentTrackIndex:function(){return fe},getThumbnailRequestForTime:function(et){for(var jt,Ct=Pe.getVoRepresentations(Z),Je=0;Je<Ct.length;Je++)if(Y[fe].id===Ct[Je].id){jt=Ct[Je];break}return $.getSegmentRequestForTime(Z,jt,et)}},xe(),X=(0,S.Z)(de).create({}),ue=(0,v.Z)(de).getInstance(),k=(0,h.Z)(de).create({events:ke,eventBus:Ve,streamInfo:_e,timelineConverter:Ge,dashConstants:ot,dashMetrics:j.dashMetrics,segmentBaseController:j.segmentBaseController,type:ve.Z.IMAGE}),($=(0,D.Z)(de).create({streamInfo:_e,type:ve.Z.IMAGE,timelineConverter:Ge,segmentsController:k,baseURLController:gt,debug:ut,eventBus:Ve,events:ke,dashConstants:ot,urlUtils:Qe})).initialize(!!Pe&&Pe.getIsDynamic()),Q}T.__dashjs_factory_name="ThumbnailTracks",ze.Z=f.Z.getClassFactory(T)},7417:function(Et,ze,H){"use strict";var ve=H(6398),N=H(8260),f=H(5448),d=H(6934),I=H(9597);function A(){var v,S,D=this.context;function h(j){if(!j)return null;void 0===j.fileStart&&(j.fileStart=0);var Q=d.parseBuffer(j),Y=(0,N.Z)(D).create();return Y.setData(Q),Y}function y(j,Q){return j[Q+3]>>>0|j[Q+2]<<8>>>0|j[Q+1]<<16>>>0|j[Q]<<24>>>0}function T(j,Q){return String.fromCharCode(j[Q++])+String.fromCharCode(j[Q++])+String.fromCharCode(j[Q++])+String.fromCharCode(j[Q])}return S={parse:h,findLastTopIsoBoxCompleted:function(j,Q,Y){if(void 0===Y&&(Y=0),!Q||Y+8>=Q.byteLength)return new I.Z(0,!1);for(var $,fe=Q instanceof ArrayBuffer?new Uint8Array(Q):Q,Z=0;Y<fe.byteLength;){var k=y(fe,Y),X=T(fe,Y+4);if(0===k)break;Y+k<=fe.byteLength&&(j.indexOf(X)>=0?$=new I.Z(Y,!0,k):Z=Y+k),Y+=k}return $||new I.Z(Z,!1)},getMediaTimescaleFromMoov:function(j){var Q=h(j),Y=Q?Q.getBox("mdhd"):void 0;return Y?Y.timescale:NaN},getSamplesInfo:function(j){if(!j||0===j.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Q,Y,$,fe,Z,k,X,ue,de,Pe,gt,_e,Ge,ut,Ve,ke,ot=h(j),Qe=ot.getBoxes("moof"),Rt=ot.getBoxes("mfhd");Ve=ot.getBoxes("moof").length,ut=Rt[Rt.length-1].sequence_number,Y=0,Z=[];var xe=-1,et=-1;for(Pe=0;Pe<Qe.length;Pe++){var jt=Qe[Pe],Ct=jt.getChildBoxes("traf");for(ue=0;ue<Ct.length;ue++){var Je=Ct[ue],yt=Je.getChildBox("tfhd"),pe=Je.getChildBox("tfdt");fe=pe.baseMediaDecodeTime;var Ae=Je.getChildBoxes("trun"),at=Je.getChildBoxes("subs");for(de=0;de<Ae.length;de++){var E=Ae[de];for(Y=E.sample_count,Ge=(yt.base_data_offset||0)+(E.data_offset||0),X=0;X<Y;X++){Q=void 0!==(k=E.samples[X]).sample_duration?k.sample_duration:yt.default_sample_duration;var g={dts:fe,cts:fe+(void 0!==k.sample_composition_time_offset?k.sample_composition_time_offset:0),duration:Q,offset:jt.offset+Ge,size:$=void 0!==k.sample_size?k.sample_size:yt.default_sample_size,subSizes:[$]};if(at)for(gt=0;gt<at.length;gt++){var R=at[gt];if(xe<R.entry_count-1&&X>et&&(xe++,et+=R.entries[xe].sample_delta),X==et){g.subSizes=[];var O=R.entries[xe];for(_e=0;_e<O.subsample_count;_e++)g.subSizes.push(O.subsamples[_e].subsample_size)}}Z.push(g),Ge+=$,fe+=Q}}ke=fe-pe.baseMediaDecodeTime}}return{sampleList:Z,lastSequenceNumber:ut,totalDuration:ke,numSequences:Ve}},findInitRange:function(j){var Q=null,Y=h(j);if(!Y)return Q;var $=Y.getBox("ftyp"),fe=Y.getBox("moov");return v.debug("Searching for initialization."),fe&&fe.isComplete&&v.debug("Found the initialization.  Range: "+(Q=($?$.offset:fe.offset)+"-"+(fe.offset+fe.size-1))),Q},parsePayload:function(j,Q,Y){if(void 0===Y&&(Y=0),!Q||Y+8>=Q.byteLength)return new I.Z(0,!1);for(var $,fe=Q instanceof ArrayBuffer?new Uint8Array(Q):Q,Z=0;Y<fe.byteLength;){var k=y(fe,Y),X=T(fe,Y+4);if(0===k)break;Y+k<=fe.byteLength&&(j.indexOf(X)>=0?$=new I.Z(Y,!0,k,X):Z=Y+k),Y+=k}return $||new I.Z(Z,!1)}},v=(0,ve.Z)(D).getInstance().getLogger(S),S}A.__dashjs_factory_name="BoxParser",ze.Z=f.Z.getSingletonFactory(A)},1715:function(Et,ze,H){"use strict";H.d(ze,{B:function(){return I}});var ve=H(5448),N=H(7803),f=H(3393),d=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function I(){var v="WebKitMediaSource"in window,S="MediaSource"in window;return v||S}function A(){var v,S,D;return v={setConfig:function(h){h&&h.settings&&(S=h.settings)},supportsMediaSource:I,supportsEncryptedMedia:function(){return D},supportsCodec:function(h,y){return y!==f.Z.AUDIO&&y!==f.Z.VIDEO?Promise.resolve(!0):(T=h,j=y,S.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(T.codec&&j===f.Z.AUDIO||j===f.Z.VIDEO&&T.codec&&T.width&&T.height&&T.bitrate&&T.framerate)?function(T,j){return new Promise(function(Q){if(T&&T.codec){var Y={type:"media-source"};Y[j]={},Y[j].contentType=T.codec,Y[j].width=T.width,Y[j].height=T.height,Y[j].bitrate=parseInt(T.bitrate),Y[j].framerate=parseFloat(T.framerate),navigator.mediaCapabilities.decodingInfo(Y).then(function($){Q($.supported)}).catch(function(){Q(!1)})}else Q(!1)})}(h,y):function(T){return new Promise(function(j){if(T&&T.codec){var Q=T.codec;T.width&&T.height&&(Q+=';width="'+T.width+'";height="'+T.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(Q)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(Q)?j(!0):j(!1)}else j(!1)})}(h));var T,j},setEncryptedMediaSupported:function(h){D=h},supportsEssentialProperty:function(h){try{return-1!==N.Y.indexOf(h.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function(h,y){for(var T,j=h.split(".")[0],Q=0===y.indexOf(j),Y=0;Y<d.length;Y++)if(d[Y].codec===j){T=d[Y];break}return T?Q||T.compatibleCodecs.some(function($){return 0===y.indexOf($)}):Q}},D=!1,v}A.__dashjs_factory_name="Capabilities",ze.Z=ve.Z.getSingletonFactory(A)},2295:function(Et,ze,H){"use strict";var ve=H(5448),N=H(3106);function f(){return{customTimeRangeArray:[],length:0,add:function(d,I){var A;for(A=0;A<this.customTimeRangeArray.length&&d>this.customTimeRangeArray[A].start;A++);for(this.customTimeRangeArray.splice(A,0,{start:d,end:I}),A=0;A<this.customTimeRangeArray.length-1;A++)this.mergeRanges(A,A+1)&&A--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(d,I){for(var A=0;A<this.customTimeRangeArray.length;A++)if(d<=this.customTimeRangeArray[A].start&&I>=this.customTimeRangeArray[A].end)this.customTimeRangeArray.splice(A,1),A--;else{if(d>this.customTimeRangeArray[A].start&&I<this.customTimeRangeArray[A].end){this.customTimeRangeArray.splice(A+1,0,{start:I,end:this.customTimeRangeArray[A].end}),this.customTimeRangeArray[A].end=d;break}d>this.customTimeRangeArray[A].start&&d<this.customTimeRangeArray[A].end?this.customTimeRangeArray[A].end=d:I>this.customTimeRangeArray[A].start&&I<this.customTimeRangeArray[A].end&&(this.customTimeRangeArray[A].start=I)}this.length=this.customTimeRangeArray.length},mergeRanges:function(d,I){var A=this.customTimeRangeArray[d],v=this.customTimeRangeArray[I];return A.start<=v.start&&v.start<=A.end&&A.end<=v.end?(A.end=v.end,this.customTimeRangeArray.splice(I,1),!0):v.start<=A.start&&A.start<=v.end&&v.end<=A.end?(A.start=v.start,this.customTimeRangeArray.splice(I,1),!0):v.start<=A.start&&A.start<=v.end&&A.end<=v.end?(this.customTimeRangeArray.splice(d,1),!0):A.start<=v.start&&v.start<=A.end&&v.end<=A.end&&(this.customTimeRangeArray.splice(I,1),!0)},start:function(d){return(0,N.SE)(d),d>=this.customTimeRangeArray.length||d<0?NaN:this.customTimeRangeArray[d].start},end:function(d){return(0,N.SE)(d),d>=this.customTimeRangeArray.length||d<0?NaN:this.customTimeRangeArray[d].end}}}f.__dashjs_factory_name="CustomTimeRanges",ze.Z=ve.Z.getClassFactory(f)},5:function(Et,ze,H){"use strict";var ve=H(5448);function N(){var f,d=/^[a-z][a-z0-9+\-_.]*:/i,I=/^https?:\/\//i,A=/^https:\/\//i,v=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,S=function($,fe){try{return new window.URL($,fe).toString()}catch{return $}},D=function($,fe){var Z=h;if(!fe||!j($))return $;Q($)&&(Z=y),Y($)&&(Z=T);var k=Z(fe),X="/"!==k.charAt(k.length-1)&&"/"!==$.charAt(0)?"/":"";return[k,$].join(X)};function h($){var fe=$.indexOf("/"),Z=$.lastIndexOf("/");return-1!==fe?Z===fe+1?$:(-1!==$.indexOf("?")&&($=$.substring(0,$.indexOf("?"))),$.substring(0,Z+1)):""}function y($){var fe=$.match(v);return fe?fe[1]:""}function T($){var fe=$.match(d);return fe?fe[0]:""}function j($){return!d.test($)}function Q($){return j($)&&"/"===$.charAt(0)}function Y($){return 0===$.indexOf("//")}return function(){try{new window.URL("x","http://y"),f=S}catch{}finally{f=f||D}}(),{parseBaseUrl:h,parseOrigin:y,parseScheme:T,isRelative:j,isPathAbsolute:Q,isSchemeRelative:Y,isHTTPURL:function($){return I.test($)},isHTTPS:function($){return A.test($)},removeHostname:function($){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec($)[2].substring(1)},resolve:function($,fe){return f($,fe)}}}N.__dashjs_factory_name="DefaultURLUtils",ze.Z=ve.Z.getSingletonFactory(N)},8260:function(Et,ze,H){"use strict";var ve=H(2839),N=H(5448);function f(){var d;function I(v){var S=[];if(!v||!d||"function"!=typeof d.fetchAll)return S;for(var D,h=d.fetchAll(v),y=0,T=h.length;y<T;y++)(D=A(h[y]))&&S.push(D);return S}function A(v){if(!v)return null;var S=new ve.Z(v);return v.hasOwnProperty("_incomplete")&&(S.isComplete=!v._incomplete),S}return{getBox:function(v){return v&&d&&d.boxes&&0!==d.boxes.length&&"function"==typeof d.fetch?A(d.fetch(v)):null},getBoxes:I,setData:function(v){d=v},getLastBox:function(){if(!d||!d.boxes||!d.boxes.length)return null;var v=I(d.boxes[d.boxes.length-1].type);return v.length>0?v[v.length-1]:null}}}f.__dashjs_factory_name="IsoFile",ze.Z=N.Z.getClassFactory(f)},7473:function(Et,ze,H){"use strict";H.d(ze,{k:function(){return N}});var ve=H(5448);function N(d,I){var A={url:d.url,method:d.method,headers:Object.assign({},d.headers),credentials:d.withCredentials?"include":void 0};return Promise.resolve(I.modifyRequest(A)).then(function(){return Object.assign(d,A,{withCredentials:"include"===A.credentials})})}function f(){return{modifyRequest:null,modifyRequestURL:function(d){return d},modifyRequestHeader:function(d,I){return d}}}f.__dashjs_factory_name="RequestModifier",ze.Z=ve.Z.getSingletonFactory(f)},3106:function(Et,ze,H){"use strict";H.d(ze,{PS:function(){return f},SE:function(){return d}});var ve=H(3393);function N(I){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(I)}function f(I,A){if(N(I)!==A)throw ve.Z.BAD_ARGUMENT_ERROR}function d(I){if(null===I||isNaN(I)||I%1!=0)throw ve.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:function(Et,ze,H){"use strict";var ve=H(5448),N=H(5);function f(){var I,A=[];function S(D,h,y){var T=function(j){var Q;for(Q=0;Q<A.length;Q++)if(A[Q].regex.test(j))return A[Q].utils;return I}(y||h);return T&&"function"==typeof T[D]?T[D](h,y):I[D](h,y)}return I=(0,N.Z)(this.context).getInstance(),{registerUrlRegex:function(D,h){A.push({regex:D,utils:h})},parseBaseUrl:function(D){return S("parseBaseUrl",D)},parseOrigin:function(D){return S("parseOrigin",D)},parseScheme:function(D){return S("parseScheme",D)},isRelative:function(D){return S("isRelative",D)},isPathAbsolute:function(D){return S("isPathAbsolute",D)},isSchemeRelative:function(D){return S("isSchemeRelative",D)},isHTTPURL:function(D){return S("isHTTPURL",D)},isHTTPS:function(D){return S("isHTTPS",D)},removeHostname:function(D){return S("removeHostname",D)},resolve:function(D,h){return S("resolve",D,h)}}}f.__dashjs_factory_name="URLUtils";var d=ve.Z.getSingletonFactory(f);ze.Z=d},5459:function(Et,ze){"use strict";ze.Z=function H(ve,N,f){(function(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")})(this,H),this.code=ve||null,this.message=N||null,this.data=f||null}},3186:function(Et,ze,H){"use strict";var ve=H(7855);var f=function(){function d(v){(function(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")})(this,d),this.action=d.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=v||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var A;return(A=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===ve.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(v){this.type=v&&v.init?ve.w.INIT_SEGMENT_TYPE:ve.w.MEDIA_SEGMENT_TYPE,this.url=v&&v.url?v.url:null,this.range=v&&v.range?v.range.start+"-"+v.range.end:null,this.mediaType=v&&v.mediaType?v.mediaType:null}}])&&function N(d,I){for(var A=0;A<I.length;A++){var v=I[A];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}(d.prototype,A),d}();f.ACTION_DOWNLOAD="download",f.ACTION_COMPLETE="complete",ze.Z=f},2839:function(Et,ze){"use strict";var ve=function(){function N(I){if(function(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}(this,N),this.offset=I._offset,this.type=I.type,this.size=I.size,this.boxes=[],I.boxes)for(var A=0;A<I.boxes.length;A++)this.boxes.push(new N(I.boxes[A]));switch(this.isComplete=!0,I.type){case"sidx":if(this.timescale=I.timescale,this.earliest_presentation_time=I.earliest_presentation_time,this.first_offset=I.first_offset,this.references=I.references,I.references){this.references=[];for(var v=0;v<I.references.length;v++)this.references.push({reference_type:I.references[v].reference_type,referenced_size:I.references[v].referenced_size,subsegment_duration:I.references[v].subsegment_duration})}break;case"emsg":this.id=I.id,this.version=1===I.version?1:0,this.value=I.value,this.timescale=I.timescale,this.scheme_id_uri=I.scheme_id_uri,this.presentation_time_delta=1===I.version?I.presentation_time:I.presentation_time_delta,this.event_duration=I.event_duration,this.message_data=I.message_data;break;case"mdhd":this.timescale=I.timescale;break;case"mfhd":this.sequence_number=I.sequence_number;break;case"subs":this.entry_count=I.entry_count,this.entries=I.entries;break;case"tfhd":this.base_data_offset=I.base_data_offset,this.sample_description_index=I.sample_description_index,this.default_sample_duration=I.default_sample_duration,this.default_sample_size=I.default_sample_size,this.default_sample_flags=I.default_sample_flags,this.flags=I.flags;break;case"tfdt":this.version=I.version,this.baseMediaDecodeTime=I.baseMediaDecodeTime,this.flags=I.flags;break;case"trun":if(this.sample_count=I.sample_count,this.first_sample_flags=I.first_sample_flags,this.data_offset=I.data_offset,this.flags=I.flags,this.samples=I.samples,I.samples){this.samples=[];for(var D=0,h=I.samples.length;D<h;D++)this.samples.push({sample_size:I.samples[D].sample_size,sample_duration:I.samples[D].sample_duration,sample_composition_time_offset:I.samples[D].sample_composition_time_offset})}break;case"prft":this.version=I.version,this.reference_track_ID=I.reference_track_ID,this.ntp_timestamp_sec=I.ntp_timestamp_sec,this.ntp_timestamp_frac=I.ntp_timestamp_frac,this.media_time=I.media_time,this.flags=I.flags}}var d;return(d=[{key:"getChildBox",value:function(I){for(var A=0;A<this.boxes.length;A++)if(this.boxes[A].type===I)return this.boxes[A]}},{key:"getChildBoxes",value:function(I){for(var A=[],v=0;v<this.boxes.length;v++)this.boxes[v].type===I&&A.push(this.boxes[v]);return A}}])&&function H(N,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,I.key,I)}}(N.prototype,d),N}();ze.Z=ve},9597:function(Et,ze){"use strict";ze.Z=function H(ve,N,f){(function(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")})(this,H),this.lastCompletedOffset=ve,this.found=N,this.size=f}},2128:function(Et,ze){"use strict";ze.Z=function H(){(function(ve,N){if(!(ve instanceof N))throw new TypeError("Cannot call a class as a function")})(this,H),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:function(Et,ze,H){"use strict";function ve(d,I){if(!(d instanceof I))throw new TypeError("Cannot call a class as a function")}H.d(ze,{O:function(){return f},w:function(){return N}});var N=function d(){ve(this,d),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},f=function d(){ve(this,d),this.s=null,this.d=null,this.b=[]};N.GET="GET",N.HEAD="HEAD",N.MPD_TYPE="MPD",N.XLINK_EXPANSION_TYPE="XLinkExpansion",N.INIT_SEGMENT_TYPE="InitializationSegment",N.INDEX_SEGMENT_TYPE="IndexSegment",N.MEDIA_SEGMENT_TYPE="MediaSegment",N.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",N.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",N.DVB_REPORTING_TYPE="DVBReporting",N.LICENSE="license",N.CONTENT_STEERING_TYPE="ContentSteering",N.OTHER_TYPE="other"},3039:function(Et,ze){"use strict";function H(N,f){return function(d,I){for(var A,v,S,D=ve(d,"tag"),h=ve(I??"*","range"),y=[],T=-1;++T<h.length;)if(A=h[T].toLowerCase(),f||"*"!==A){for(v=-1,S=[];++v<D.length;)if(N(D[v].toLowerCase(),A)){if(!f)return D[v];y.push(D[v])}else S.push(D[v]);D=S}return f?y:void 0}}function ve(N,f){var d=N&&"string"==typeof N?[N]:N;if(!d||"object"!=typeof d||!("length"in d))throw new Error("Invalid "+f+" `"+d+"`, expected non-empty string");return d}ze.basicFilter=H(function(N,f){return"*"===f||N===f||N.indexOf(f+"-")>-1},!0),ze.extendedFilter=H(function(N,f){var d=N.split("-"),I=f.split("-"),A=0,v=0;if("*"!==I[v]&&d[A]!==I[v])return!1;for(A++,v++;v<I.length;)if("*"!==I[v]){if(!d[A])return!1;if(d[A]!==I[v]){if(1===d[A].length)return!1;A++}else A++,v++}else v++;return!0},!0),ze.lookup=H(function(N,f){for(var d,I=f;;){if("*"===I||N===I)return!0;if((d=I.lastIndexOf("-"))<0)return!1;"-"===I.charAt(d-2)&&(d-=2),I=I.slice(0,d)}})},3973:function(Et,ze,H){"use strict";Et.exports=H(3854)},3854:function(Et,ze,H){"use strict";var ve=H(2415),N=H(3039),f=H(7778),d=H(5813),I=H(3165),A=H(9460);Et.exports=function(Q,Y){var $,fe=Y||{},Z=ve.parse(String(Q||"").toLowerCase(),fe),k=ve.stringify(Z),X=-1;if(!k)return k;for(;++X<f.length;)N.extendedFilter(k,f[X].from).length&&(h(Z,f[X].from,f[X].to),k=ve.stringify(Z));for(X=-1;++X<d.length;)y(Z,d[X].from.field,d[X].from.value)&&T(Z,d[X].to.field,d[X].to.value);for(k=ve.stringify(Object.assign({},Z,D)),X=-1;++X<I.length;)k===I[X]&&(h(Z,I[X],I[X].split("-").slice(0,-1).join("-")),k=ve.stringify(Object.assign({},Z,D)));if(Z.extensions.sort(j),fe.warning)for($ in A)v.call(A[$],Z[$])&&fe.warning("Deprecated "+$+" `"+Z[$]+"`, expected one of `"+A[$][Z[$]].join("`, `")+"`",null,7);return Z.script&&(Z.script=Z.script.charAt(0).toUpperCase()+Z.script.slice(1)),Z.region&&(Z.region=Z.region.toUpperCase()),ve.stringify(Z)};var v={}.hasOwnProperty,S=new Intl.Collator,D={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function h(Q,Y,$){var fe,Z=ve.parse(Y),k=ve.parse($),X=[];for(fe in Z)Z[fe]&&Z[fe].length&&y(Q,fe,Z[fe])&&X.push(fe);for(fe in k)k[fe]&&k[fe].length&&(X.indexOf(fe)>-1||!Q[fe]||!Q[fe].length)&&T(Q,fe,k[fe])}function y(Q,Y,$){var fe,Z,k,X,ue=!1;if($){if(Z=fe=Q[Y],fe&&"object"==typeof fe)for(Z=[],k=-1;++k<fe.length;)$.indexOf(X=fe[k])<0?Z.push(X):ue=!0;else fe===$&&(Z=null,ue=!0);Q[Y]=Z}return ue}function T(Q,Y,$){var fe,Z,k,X=Q[Y];if(X&&"object"==typeof X)for(fe=[].concat($),Z=-1;++Z<fe.length;)X.indexOf(k=fe[Z])<0&&X.push(k);else Q[Y]=$}function j(Q,Y){return S.compare(Q.singleton,Y.singleton)}},2415:function(Et,ze,H){"use strict";ze.parse=H(6903),ze.stringify=H(6713)},6903:function(Et,ze,H){"use strict";var ve=H(2219),N=H(3516),f=H(395),d=H(858),I=H(8589);Et.exports=function v(S,D){var h,y,T,j=D||{},Q={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},Y=String(S),$=Y.toLowerCase(),fe=0;if(null==S)throw new Error("Expected string, got `"+S+"`");if(A.call(I,$))return(null==j.normalize||j.normalize)&&I[$]?v(I[$]):(Q[-1===d.indexOf($)?"irregular":"regular"]=Y,Q);for(;N($.charCodeAt(fe))&&fe<9;)fe++;if(fe>1&&fe<9){if(Q.language=Y.slice(0,fe),fe<4)for(y=0;45===$.charCodeAt(fe)&&N($.charCodeAt(fe+1))&&N($.charCodeAt(fe+2))&&N($.charCodeAt(fe+3))&&!N($.charCodeAt(fe+4));){if(y>2)return Z(fe,3,"Too many extended language subtags, expected at most 3 subtags");Q.extendedLanguageSubtags.push(Y.slice(fe+1,fe+4)),fe+=4,y++}for(45===$.charCodeAt(fe)&&N($.charCodeAt(fe+1))&&N($.charCodeAt(fe+2))&&N($.charCodeAt(fe+3))&&N($.charCodeAt(fe+4))&&!N($.charCodeAt(fe+5))&&(Q.script=Y.slice(fe+1,fe+5),fe+=5),45===$.charCodeAt(fe)&&(N($.charCodeAt(fe+1))&&N($.charCodeAt(fe+2))&&!N($.charCodeAt(fe+3))?(Q.region=Y.slice(fe+1,fe+3),fe+=3):f($.charCodeAt(fe+1))&&f($.charCodeAt(fe+2))&&f($.charCodeAt(fe+3))&&!f($.charCodeAt(fe+4))&&(Q.region=Y.slice(fe+1,fe+4),fe+=4));45===$.charCodeAt(fe);){for(T=h=fe+1;ve($.charCodeAt(T));){if(T-h>7)return Z(T,1,"Too long variant, expected at most 8 characters");T++}if(!(T-h>4||T-h>3&&f($.charCodeAt(h))))break;Q.variants.push(Y.slice(h,T)),fe=T}for(;45===$.charCodeAt(fe)&&120!==$.charCodeAt(fe+1)&&ve($.charCodeAt(fe+1))&&45===$.charCodeAt(fe+2)&&ve($.charCodeAt(fe+3));){for(T=fe+2,y=0;45===$.charCodeAt(T)&&ve($.charCodeAt(T+1))&&ve($.charCodeAt(T+2));)for(T=(h=T+1)+2,y++;ve($.charCodeAt(T));){if(T-h>7)return Z(T,2,"Too long extension, expected at most 8 characters");T++}if(!y)return Z(T,4,"Empty extension, extensions must have at least 2 characters of content");Q.extensions.push({singleton:Y.charAt(fe+1),extensions:Y.slice(fe+3,T).split("-")}),fe=T}}else fe=0;if(0===fe&&120===$.charCodeAt(fe)||45===$.charCodeAt(fe)&&120===$.charCodeAt(fe+1))for(T=fe=fe?fe+2:1;45===$.charCodeAt(T)&&ve($.charCodeAt(T+1));){for(T=h=fe+1;ve($.charCodeAt(T));){if(T-h>7)return Z(T,5,"Too long private-use area, expected at most 8 characters");T++}Q.privateuse.push(Y.slice(fe+1,T)),fe=T}return fe!==Y.length?Z(fe,6,"Found superfluous content after tag"):Q;function Z(k,X,ue){return j.warning&&j.warning(ue,X,k),j.forgiving?Q:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var A={}.hasOwnProperty},6713:function(Et){"use strict";Et.exports=function(ze){var H,ve,N,f=ze||{},d=[];if(f.irregular||f.regular)return f.irregular||f.regular;if(f.language)for(d=d.concat(f.language,f.extendedLanguageSubtags||[],f.script||[],f.region||[],f.variants||[]),H=f.extensions||[],ve=-1;++ve<H.length;)(N=H[ve]).singleton&&N.extensions&&N.extensions.length&&(d=d.concat(N.singleton,N.extensions));return f.privateuse&&f.privateuse.length&&(d=d.concat("x",f.privateuse)),d.join("-")}},1549:function(Et,ze,H){"use strict";var ve=H(6693),N=H(2165),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ze.Buffer=A,ze.SlowBuffer=function(E){return+E!=E&&(E=0),A.alloc(+E)},ze.INSPECT_MAX_BYTES=50;var d=2147483647;function I(E){if(E>d)throw new RangeError('The value "'+E+'" is invalid for option "size"');var g=new Uint8Array(E);return Object.setPrototypeOf(g,A.prototype),g}function A(E,g,R){if("number"==typeof E){if("string"==typeof g)throw new TypeError('The "string" argument must be of type string. Received type number');return D(E)}return v(E,g,R)}function v(E,g,R){if("string"==typeof E)return function(oe,De){if("string"==typeof De&&""!==De||(De="utf8"),!A.isEncoding(De))throw new TypeError("Unknown encoding: "+De);var We=0|j(oe,De),$e=I(We),Fe=$e.write(oe,De);return Fe!==We&&($e=$e.slice(0,Fe)),$e}(E,g);if(ArrayBuffer.isView(E))return function(oe){if(pe(oe,Uint8Array)){var De=new Uint8Array(oe);return y(De.buffer,De.byteOffset,De.byteLength)}return h(oe)}(E);if(null==E)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(pe(E,ArrayBuffer)||E&&pe(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(E,SharedArrayBuffer)||E&&pe(E.buffer,SharedArrayBuffer)))return y(E,g,R);if("number"==typeof E)throw new TypeError('The "value" argument must not be of type number. Received type number');var O=E.valueOf&&E.valueOf();if(null!=O&&O!==E)return A.from(O,g,R);var ae=function(oe){if(A.isBuffer(oe)){var De=0|T(oe.length),We=I(De);return 0===We.length||oe.copy(We,0,0,De),We}return void 0!==oe.length?"number"!=typeof oe.length||Ae(oe.length)?I(0):h(oe):"Buffer"===oe.type&&Array.isArray(oe.data)?h(oe.data):void 0}(E);if(ae)return ae;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof E[Symbol.toPrimitive])return A.from(E[Symbol.toPrimitive]("string"),g,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}function S(E){if("number"!=typeof E)throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function D(E){return S(E),I(E<0?0:0|T(E))}function h(E){for(var g=E.length<0?0:0|T(E.length),R=I(g),O=0;O<g;O+=1)R[O]=255&E[O];return R}function y(E,g,R){if(g<0||E.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<g+(R||0))throw new RangeError('"length" is outside of buffer bounds');var O;return O=void 0===g&&void 0===R?new Uint8Array(E):void 0===R?new Uint8Array(E,g):new Uint8Array(E,g,R),Object.setPrototypeOf(O,A.prototype),O}function T(E){if(E>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return 0|E}function j(E,g){if(A.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||pe(E,ArrayBuffer))return E.byteLength;if("string"!=typeof E)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);var R=E.length,O=arguments.length>2&&!0===arguments[2];if(!O&&0===R)return 0;for(var ae=!1;;)switch(g){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return Ct(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*R;case"hex":return R>>>1;case"base64":return Je(E).length;default:if(ae)return O?-1:Ct(E).length;g=(""+g).toLowerCase(),ae=!0}}function Q(E,g,R){var O=!1;if((void 0===g||g<0)&&(g=0),g>this.length||((void 0===R||R>this.length)&&(R=this.length),R<=0)||(R>>>=0)<=(g>>>=0))return"";for(E||(E="utf8");;)switch(E){case"hex":return Ve(this,g,R);case"utf8":case"utf-8":return gt(this,g,R);case"ascii":return Ge(this,g,R);case"latin1":case"binary":return ut(this,g,R);case"base64":return Pe(this,g,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ke(this,g,R);default:if(O)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),O=!0}}function Y(E,g,R){var O=E[g];E[g]=E[R],E[R]=O}function $(E,g,R,O,ae){if(0===E.length)return-1;if("string"==typeof R?(O=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),Ae(R=+R)&&(R=ae?0:E.length-1),R<0&&(R=E.length+R),R>=E.length){if(ae)return-1;R=E.length-1}else if(R<0){if(!ae)return-1;R=0}if("string"==typeof g&&(g=A.from(g,O)),A.isBuffer(g))return 0===g.length?-1:fe(E,g,R,O,ae);if("number"==typeof g)return g&=255,"function"==typeof Uint8Array.prototype.indexOf?ae?Uint8Array.prototype.indexOf.call(E,g,R):Uint8Array.prototype.lastIndexOf.call(E,g,R):fe(E,[g],R,O,ae);throw new TypeError("val must be string, number or Buffer")}function fe(E,g,R,O,ae){var oe,De=1,We=E.length,$e=g.length;if(void 0!==O&&("ucs2"===(O=String(O).toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(E.length<2||g.length<2)return-1;De=2,We/=2,$e/=2,R/=2}function Fe(tt,Ze){return 1===De?tt[Ze]:tt.readUInt16BE(Ze*De)}if(ae){var qe=-1;for(oe=R;oe<We;oe++)if(Fe(E,oe)===Fe(g,-1===qe?0:oe-qe)){if(-1===qe&&(qe=oe),oe-qe+1===$e)return qe*De}else-1!==qe&&(oe-=oe-qe),qe=-1}else for(R+$e>We&&(R=We-$e),oe=R;oe>=0;oe--){for(var ht=!0,Ce=0;Ce<$e;Ce++)if(Fe(E,oe+Ce)!==Fe(g,Ce)){ht=!1;break}if(ht)return oe}return-1}function Z(E,g,R,O){R=Number(R)||0;var ae=E.length-R;O?(O=Number(O))>ae&&(O=ae):O=ae;var oe=g.length;O>oe/2&&(O=oe/2);for(var De=0;De<O;++De){var We=parseInt(g.substr(2*De,2),16);if(Ae(We))return De;E[R+De]=We}return De}function k(E,g,R,O){return yt(Ct(g,E.length-R),E,R,O)}function X(E,g,R,O){return yt(function(ae){for(var oe=[],De=0;De<ae.length;++De)oe.push(255&ae.charCodeAt(De));return oe}(g),E,R,O)}function ue(E,g,R,O){return yt(Je(g),E,R,O)}function de(E,g,R,O){return yt(function(ae,oe){for(var De,We,Fe=[],qe=0;qe<ae.length&&!((oe-=2)<0);++qe)We=(De=ae.charCodeAt(qe))>>8,Fe.push(De%256),Fe.push(We);return Fe}(g,E.length-R),E,R,O)}function Pe(E,g,R){return ve.fromByteArray(0===g&&R===E.length?E:E.slice(g,R))}function gt(E,g,R){R=Math.min(E.length,R);for(var O=[],ae=g;ae<R;){var oe,De,We,$e,Fe=E[ae],qe=null,ht=Fe>239?4:Fe>223?3:Fe>191?2:1;if(ae+ht<=R)switch(ht){case 1:Fe<128&&(qe=Fe);break;case 2:128==(192&(oe=E[ae+1]))&&($e=(31&Fe)<<6|63&oe)>127&&(qe=$e);break;case 3:De=E[ae+2],128==(192&(oe=E[ae+1]))&&128==(192&De)&&($e=(15&Fe)<<12|(63&oe)<<6|63&De)>2047&&($e<55296||$e>57343)&&(qe=$e);break;case 4:De=E[ae+2],We=E[ae+3],128==(192&(oe=E[ae+1]))&&128==(192&De)&&128==(192&We)&&($e=(15&Fe)<<18|(63&oe)<<12|(63&De)<<6|63&We)>65535&&$e<1114112&&(qe=$e)}null===qe?(qe=65533,ht=1):qe>65535&&(O.push((qe-=65536)>>>10&1023|55296),qe=56320|1023&qe),O.push(qe),ae+=ht}return function(Ce){var tt=Ce.length;if(tt<=_e)return String.fromCharCode.apply(String,Ce);for(var Ze="",Tt=0;Tt<tt;)Ze+=String.fromCharCode.apply(String,Ce.slice(Tt,Tt+=_e));return Ze}(O)}ze.kMaxLength=d,(A.TYPED_ARRAY_SUPPORT=function(){try{var E=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(E,g),42===E.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(E,g,R){return v(E,g,R)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(E,g,R){return ae=g,oe=R,S(O=E),O<=0?I(O):void 0!==ae?"string"==typeof oe?I(O).fill(ae,oe):I(O).fill(ae):I(O);var O,ae,oe},A.allocUnsafe=function(E){return D(E)},A.allocUnsafeSlow=function(E){return D(E)},A.isBuffer=function(E){return null!=E&&!0===E._isBuffer&&E!==A.prototype},A.compare=function(E,g){if(pe(E,Uint8Array)&&(E=A.from(E,E.offset,E.byteLength)),pe(g,Uint8Array)&&(g=A.from(g,g.offset,g.byteLength)),!A.isBuffer(E)||!A.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===g)return 0;for(var R=E.length,O=g.length,ae=0,oe=Math.min(R,O);ae<oe;++ae)if(E[ae]!==g[ae]){R=E[ae],O=g[ae];break}return R<O?-1:O<R?1:0},A.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(E,g){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(0===E.length)return A.alloc(0);var R;if(void 0===g)for(g=0,R=0;R<E.length;++R)g+=E[R].length;var O=A.allocUnsafe(g),ae=0;for(R=0;R<E.length;++R){var oe=E[R];if(pe(oe,Uint8Array))ae+oe.length>O.length?A.from(oe).copy(O,ae):Uint8Array.prototype.set.call(O,oe,ae);else{if(!A.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(O,ae)}ae+=oe.length}return O},A.byteLength=j,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<E;g+=2)Y(this,g,g+1);return this},A.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<E;g+=4)Y(this,g,g+3),Y(this,g+1,g+2);return this},A.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<E;g+=8)Y(this,g,g+7),Y(this,g+1,g+6),Y(this,g+2,g+5),Y(this,g+3,g+4);return this},A.prototype.toString=function(){var E=this.length;return 0===E?"":0===arguments.length?gt(this,0,E):Q.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(E){if(!A.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||0===A.compare(this,E)},A.prototype.inspect=function(){var E="",g=ze.INSPECT_MAX_BYTES;return E=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(E+=" ... "),"<Buffer "+E+">"},f&&(A.prototype[f]=A.prototype.inspect),A.prototype.compare=function(E,g,R,O,ae){if(pe(E,Uint8Array)&&(E=A.from(E,E.offset,E.byteLength)),!A.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(void 0===g&&(g=0),void 0===R&&(R=E?E.length:0),void 0===O&&(O=0),void 0===ae&&(ae=this.length),g<0||R>E.length||O<0||ae>this.length)throw new RangeError("out of range index");if(O>=ae&&g>=R)return 0;if(O>=ae)return-1;if(g>=R)return 1;if(this===E)return 0;for(var oe=(ae>>>=0)-(O>>>=0),De=(R>>>=0)-(g>>>=0),We=Math.min(oe,De),$e=this.slice(O,ae),Fe=E.slice(g,R),qe=0;qe<We;++qe)if($e[qe]!==Fe[qe]){oe=$e[qe],De=Fe[qe];break}return oe<De?-1:De<oe?1:0},A.prototype.includes=function(E,g,R){return-1!==this.indexOf(E,g,R)},A.prototype.indexOf=function(E,g,R){return $(this,E,g,R,!0)},A.prototype.lastIndexOf=function(E,g,R){return $(this,E,g,R,!1)},A.prototype.write=function(E,g,R,O){if(void 0===g)O="utf8",R=this.length,g=0;else if(void 0===R&&"string"==typeof g)O=g,R=this.length,g=0;else{if(!isFinite(g))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");g>>>=0,isFinite(R)?(R>>>=0,void 0===O&&(O="utf8")):(O=R,R=void 0)}var ae=this.length-g;if((void 0===R||R>ae)&&(R=ae),E.length>0&&(R<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(var oe=!1;;)switch(O){case"hex":return Z(this,E,g,R);case"utf8":case"utf-8":return k(this,E,g,R);case"ascii":case"latin1":case"binary":return X(this,E,g,R);case"base64":return ue(this,E,g,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,E,g,R);default:if(oe)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),oe=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _e=4096;function Ge(E,g,R){var O="";R=Math.min(E.length,R);for(var ae=g;ae<R;++ae)O+=String.fromCharCode(127&E[ae]);return O}function ut(E,g,R){var O="";R=Math.min(E.length,R);for(var ae=g;ae<R;++ae)O+=String.fromCharCode(E[ae]);return O}function Ve(E,g,R){var O=E.length;(!g||g<0)&&(g=0),(!R||R<0||R>O)&&(R=O);for(var ae="",oe=g;oe<R;++oe)ae+=at[E[oe]];return ae}function ke(E,g,R){for(var O=E.slice(g,R),ae="",oe=0;oe<O.length-1;oe+=2)ae+=String.fromCharCode(O[oe]+256*O[oe+1]);return ae}function ot(E,g,R){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+g>R)throw new RangeError("Trying to access beyond buffer length")}function Qe(E,g,R,O,ae,oe){if(!A.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>ae||g<oe)throw new RangeError('"value" argument is out of bounds');if(R+O>E.length)throw new RangeError("Index out of range")}function Rt(E,g,R,O,ae,oe){if(R+O>E.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function xe(E,g,R,O,ae){return g=+g,R>>>=0,ae||Rt(E,0,R,4),N.write(E,g,R,O,23,4),R+4}function et(E,g,R,O,ae){return g=+g,R>>>=0,ae||Rt(E,0,R,8),N.write(E,g,R,O,52,8),R+8}A.prototype.slice=function(E,g){var R=this.length;(E=~~E)<0?(E+=R)<0&&(E=0):E>R&&(E=R),(g=void 0===g?R:~~g)<0?(g+=R)<0&&(g=0):g>R&&(g=R),g<E&&(g=E);var O=this.subarray(E,g);return Object.setPrototypeOf(O,A.prototype),O},A.prototype.readUintLE=A.prototype.readUIntLE=function(E,g,R){E>>>=0,g>>>=0,R||ot(E,g,this.length);for(var O=this[E],ae=1,oe=0;++oe<g&&(ae*=256);)O+=this[E+oe]*ae;return O},A.prototype.readUintBE=A.prototype.readUIntBE=function(E,g,R){E>>>=0,g>>>=0,R||ot(E,g,this.length);for(var O=this[E+--g],ae=1;g>0&&(ae*=256);)O+=this[E+--g]*ae;return O},A.prototype.readUint8=A.prototype.readUInt8=function(E,g){return E>>>=0,g||ot(E,1,this.length),this[E]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(E,g){return E>>>=0,g||ot(E,2,this.length),this[E]|this[E+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(E,g){return E>>>=0,g||ot(E,2,this.length),this[E]<<8|this[E+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(E,g){return E>>>=0,g||ot(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(E,g){return E>>>=0,g||ot(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},A.prototype.readIntLE=function(E,g,R){E>>>=0,g>>>=0,R||ot(E,g,this.length);for(var O=this[E],ae=1,oe=0;++oe<g&&(ae*=256);)O+=this[E+oe]*ae;return O>=(ae*=128)&&(O-=Math.pow(2,8*g)),O},A.prototype.readIntBE=function(E,g,R){E>>>=0,g>>>=0,R||ot(E,g,this.length);for(var O=g,ae=1,oe=this[E+--O];O>0&&(ae*=256);)oe+=this[E+--O]*ae;return oe>=(ae*=128)&&(oe-=Math.pow(2,8*g)),oe},A.prototype.readInt8=function(E,g){return E>>>=0,g||ot(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},A.prototype.readInt16LE=function(E,g){E>>>=0,g||ot(E,2,this.length);var R=this[E]|this[E+1]<<8;return 32768&R?4294901760|R:R},A.prototype.readInt16BE=function(E,g){E>>>=0,g||ot(E,2,this.length);var R=this[E+1]|this[E]<<8;return 32768&R?4294901760|R:R},A.prototype.readInt32LE=function(E,g){return E>>>=0,g||ot(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},A.prototype.readInt32BE=function(E,g){return E>>>=0,g||ot(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},A.prototype.readFloatLE=function(E,g){return E>>>=0,g||ot(E,4,this.length),N.read(this,E,!0,23,4)},A.prototype.readFloatBE=function(E,g){return E>>>=0,g||ot(E,4,this.length),N.read(this,E,!1,23,4)},A.prototype.readDoubleLE=function(E,g){return E>>>=0,g||ot(E,8,this.length),N.read(this,E,!0,52,8)},A.prototype.readDoubleBE=function(E,g){return E>>>=0,g||ot(E,8,this.length),N.read(this,E,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(E,g,R,O){E=+E,g>>>=0,R>>>=0,O||Qe(this,E,g,R,Math.pow(2,8*R)-1,0);var ae=1,oe=0;for(this[g]=255&E;++oe<R&&(ae*=256);)this[g+oe]=E/ae&255;return g+R},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(E,g,R,O){E=+E,g>>>=0,R>>>=0,O||Qe(this,E,g,R,Math.pow(2,8*R)-1,0);var ae=R-1,oe=1;for(this[g+ae]=255&E;--ae>=0&&(oe*=256);)this[g+ae]=E/oe&255;return g+R},A.prototype.writeUint8=A.prototype.writeUInt8=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,1,255,0),this[g]=255&E,g+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,2,65535,0),this[g]=255&E,this[g+1]=E>>>8,g+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,2,65535,0),this[g]=E>>>8,this[g+1]=255&E,g+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,4,4294967295,0),this[g+3]=E>>>24,this[g+2]=E>>>16,this[g+1]=E>>>8,this[g]=255&E,g+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,4,4294967295,0),this[g]=E>>>24,this[g+1]=E>>>16,this[g+2]=E>>>8,this[g+3]=255&E,g+4},A.prototype.writeIntLE=function(E,g,R,O){if(E=+E,g>>>=0,!O){var ae=Math.pow(2,8*R-1);Qe(this,E,g,R,ae-1,-ae)}var oe=0,De=1,We=0;for(this[g]=255&E;++oe<R&&(De*=256);)E<0&&0===We&&0!==this[g+oe-1]&&(We=1),this[g+oe]=(E/De>>0)-We&255;return g+R},A.prototype.writeIntBE=function(E,g,R,O){if(E=+E,g>>>=0,!O){var ae=Math.pow(2,8*R-1);Qe(this,E,g,R,ae-1,-ae)}var oe=R-1,De=1,We=0;for(this[g+oe]=255&E;--oe>=0&&(De*=256);)E<0&&0===We&&0!==this[g+oe+1]&&(We=1),this[g+oe]=(E/De>>0)-We&255;return g+R},A.prototype.writeInt8=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,1,127,-128),E<0&&(E=255+E+1),this[g]=255&E,g+1},A.prototype.writeInt16LE=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,2,32767,-32768),this[g]=255&E,this[g+1]=E>>>8,g+2},A.prototype.writeInt16BE=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,2,32767,-32768),this[g]=E>>>8,this[g+1]=255&E,g+2},A.prototype.writeInt32LE=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,4,2147483647,-2147483648),this[g]=255&E,this[g+1]=E>>>8,this[g+2]=E>>>16,this[g+3]=E>>>24,g+4},A.prototype.writeInt32BE=function(E,g,R){return E=+E,g>>>=0,R||Qe(this,E,g,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[g]=E>>>24,this[g+1]=E>>>16,this[g+2]=E>>>8,this[g+3]=255&E,g+4},A.prototype.writeFloatLE=function(E,g,R){return xe(this,E,g,!0,R)},A.prototype.writeFloatBE=function(E,g,R){return xe(this,E,g,!1,R)},A.prototype.writeDoubleLE=function(E,g,R){return et(this,E,g,!0,R)},A.prototype.writeDoubleBE=function(E,g,R){return et(this,E,g,!1,R)},A.prototype.copy=function(E,g,R,O){if(!A.isBuffer(E))throw new TypeError("argument should be a Buffer");if(R||(R=0),O||0===O||(O=this.length),g>=E.length&&(g=E.length),g||(g=0),O>0&&O<R&&(O=R),O===R||0===E.length||0===this.length)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),E.length-g<O-R&&(O=E.length-g+R);var ae=O-R;return this===E&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(g,R,O):Uint8Array.prototype.set.call(E,this.subarray(R,O),g),ae},A.prototype.fill=function(E,g,R,O){if("string"==typeof E){if("string"==typeof g?(O=g,g=0,R=this.length):"string"==typeof R&&(O=R,R=this.length),void 0!==O&&"string"!=typeof O)throw new TypeError("encoding must be a string");if("string"==typeof O&&!A.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(1===E.length){var ae=E.charCodeAt(0);("utf8"===O&&ae<128||"latin1"===O)&&(E=ae)}}else"number"==typeof E?E&=255:"boolean"==typeof E&&(E=Number(E));if(g<0||this.length<g||this.length<R)throw new RangeError("Out of range index");if(R<=g)return this;var oe;if(g>>>=0,R=void 0===R?this.length:R>>>0,E||(E=0),"number"==typeof E)for(oe=g;oe<R;++oe)this[oe]=E;else{var De=A.isBuffer(E)?E:A.from(E,O),We=De.length;if(0===We)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(oe=0;oe<R-g;++oe)this[oe+g]=De[oe%We]}return this};var jt=/[^+/0-9A-Za-z-_]/g;function Ct(E,g){var R;g=g||1/0;for(var O=E.length,ae=null,oe=[],De=0;De<O;++De){if((R=E.charCodeAt(De))>55295&&R<57344){if(!ae){if(R>56319){(g-=3)>-1&&oe.push(239,191,189);continue}if(De+1===O){(g-=3)>-1&&oe.push(239,191,189);continue}ae=R;continue}if(R<56320){(g-=3)>-1&&oe.push(239,191,189),ae=R;continue}R=65536+(ae-55296<<10|R-56320)}else ae&&(g-=3)>-1&&oe.push(239,191,189);if(ae=null,R<128){if((g-=1)<0)break;oe.push(R)}else if(R<2048){if((g-=2)<0)break;oe.push(R>>6|192,63&R|128)}else if(R<65536){if((g-=3)<0)break;oe.push(R>>12|224,R>>6&63|128,63&R|128)}else{if(!(R<1114112))throw new Error("Invalid code point");if((g-=4)<0)break;oe.push(R>>18|240,R>>12&63|128,R>>6&63|128,63&R|128)}}return oe}function Je(E){return ve.toByteArray(function(g){if((g=(g=g.split("=")[0]).trim().replace(jt,"")).length<2)return"";for(;g.length%4!=0;)g+="=";return g}(E))}function yt(E,g,R,O){for(var ae=0;ae<O&&!(ae+R>=g.length||ae>=E.length);++ae)g[ae+R]=E[ae];return ae}function pe(E,g){return E instanceof g||null!=E&&null!=E.constructor&&null!=E.constructor.name&&E.constructor.name===g.name}function Ae(E){return E!=E}var at=function(){for(var E="0123456789abcdef",g=new Array(256),R=0;R<16;++R)for(var O=16*R,ae=0;ae<16;++ae)g[O+ae]=E[R]+E[ae];return g}()},6693:function(Et,ze){"use strict";ze.byteLength=function(S){var D=A(S),y=D[1];return 3*(D[0]+y)/4-y},ze.toByteArray=function(S){var D,h,k,y=A(S),T=y[0],j=y[1],Q=new N(3*(T+(k=j))/4-k),Y=0,$=j>0?T-4:T;for(h=0;h<$;h+=4)D=ve[S.charCodeAt(h)]<<18|ve[S.charCodeAt(h+1)]<<12|ve[S.charCodeAt(h+2)]<<6|ve[S.charCodeAt(h+3)],Q[Y++]=D>>16&255,Q[Y++]=D>>8&255,Q[Y++]=255&D;return 2===j&&(D=ve[S.charCodeAt(h)]<<2|ve[S.charCodeAt(h+1)]>>4,Q[Y++]=255&D),1===j&&(D=ve[S.charCodeAt(h)]<<10|ve[S.charCodeAt(h+1)]<<4|ve[S.charCodeAt(h+2)]>>2,Q[Y++]=D>>8&255,Q[Y++]=255&D),Q},ze.fromByteArray=function(S){for(var D,h=S.length,y=h%3,T=[],j=16383,Q=0,Y=h-y;Q<Y;Q+=j)T.push(v(S,Q,Q+j>Y?Y:Q+j));return 1===y?T.push(H[(D=S[h-1])>>2]+H[D<<4&63]+"=="):2===y&&T.push(H[(D=(S[h-2]<<8)+S[h-1])>>10]+H[D>>4&63]+H[D<<2&63]+"="),T.join("")};for(var H=[],ve=[],N=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0;d<64;++d)H[d]=f[d],ve[f.charCodeAt(d)]=d;function A(S){var D=S.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=S.indexOf("=");return-1===h&&(h=D),[h,h===D?0:4-h%4]}function v(S,D,h){for(var T,j=[],Q=D;Q<h;Q+=3)j.push(H[(T=(S[Q]<<16&16711680)+(S[Q+1]<<8&65280)+(255&S[Q+2]))>>18&63]+H[T>>12&63]+H[T>>6&63]+H[63&T]);return j.join("")}ve["-".charCodeAt(0)]=62,ve["_".charCodeAt(0)]=63},2165:function(Et,ze){ze.read=function(H,ve,N,f,d){var I,A,v=8*d-f-1,S=(1<<v)-1,D=S>>1,h=-7,y=N?d-1:0,T=N?-1:1,j=H[ve+y];for(y+=T,I=j&(1<<-h)-1,j>>=-h,h+=v;h>0;I=256*I+H[ve+y],y+=T,h-=8);for(A=I&(1<<-h)-1,I>>=-h,h+=f;h>0;A=256*A+H[ve+y],y+=T,h-=8);if(0===I)I=1-D;else{if(I===S)return A?NaN:1/0*(j?-1:1);A+=Math.pow(2,f),I-=D}return(j?-1:1)*A*Math.pow(2,I-f)},ze.write=function(H,ve,N,f,d,I){var A,v,S,D=8*I-d-1,h=(1<<D)-1,y=h>>1,T=23===d?Math.pow(2,-24)-Math.pow(2,-77):0,j=f?0:I-1,Q=f?1:-1,Y=ve<0||0===ve&&1/ve<0?1:0;for(ve=Math.abs(ve),isNaN(ve)||ve===1/0?(v=isNaN(ve)?1:0,A=h):(A=Math.floor(Math.log(ve)/Math.LN2),ve*(S=Math.pow(2,-A))<1&&(A--,S*=2),(ve+=A+y>=1?T/S:T*Math.pow(2,1-y))*S>=2&&(A++,S/=2),A+y>=h?(v=0,A=h):A+y>=1?(v=(ve*S-1)*Math.pow(2,d),A+=y):(v=ve*Math.pow(2,y-1)*Math.pow(2,d),A=0));d>=8;H[N+j]=255&v,j+=Q,v/=256,d-=8);for(A=A<<d|v,D+=d;D>0;H[N+j]=255&A,j+=Q,A/=256,D-=8);H[N+j-Q]|=128*Y}},6934:function(Et,ze){var H={parseBuffer:function(f){return new ve(f).parse()},addBoxProcessor:function(f,d){"string"==typeof f&&"function"==typeof d&&(N.prototype._boxProcessors[f]=d)},createFile:function(){return new ve},createBox:function(f,d,I){var A=N.create(f);return d&&d.append(A,I),A},createFullBox:function(f,d,I){var A=H.createBox(f,d,I);return A.version=0,A.flags=0,A},Utils:{}};H.Utils.dataViewToString=function(f,d){var I=d||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(I).decode(f);var A=[],v=0;if("utf-8"===I)for(;v<f.byteLength;){var S=f.getUint8(v++);S<128||(S<224?(S=(31&S)<<6,S|=63&f.getUint8(v++)):S<240?(S=(15&S)<<12,S|=(63&f.getUint8(v++))<<6,S|=63&f.getUint8(v++)):(S=(7&S)<<18,S|=(63&f.getUint8(v++))<<12,S|=(63&f.getUint8(v++))<<6,S|=63&f.getUint8(v++))),A.push(String.fromCharCode(S))}else for(;v<f.byteLength;)A.push(String.fromCharCode(f.getUint8(v++)));return A.join("")},H.Utils.utf8ToByteArray=function(f){var d,I;if(typeof TextEncoder<"u")d=(new TextEncoder).encode(f);else for(d=[],I=0;I<f.length;++I){var A=f.charCodeAt(I);A<128?d.push(A):A<2048?(d.push(192|A>>6),d.push(128|63&A)):A<65536?(d.push(224|A>>12),d.push(128|63&A>>6),d.push(128|63&A)):(d.push(240|A>>18),d.push(128|63&A>>12),d.push(128|63&A>>6),d.push(128|63&A))}return d},H.Utils.appendBox=function(f,d,I){if(d._offset=f._cursor.offset,d._root=f._root?f._root:f,d._raw=f._raw,d._parent=f,-1!==I)if(null!=I){var A,v=-1;if("number"==typeof I)v=I;else{if("string"==typeof I)A=I;else{if("object"!=typeof I||!I.type)return void f.boxes.push(d);A=I.type}for(var S=0;S<f.boxes.length;S++)if(A===f.boxes[S].type){v=S+1;break}}f.boxes.splice(v,0,d)}else f.boxes.push(d)},ze.parseBuffer=H.parseBuffer,ze.addBoxProcessor=H.addBoxProcessor,ze.createFile=H.createFile,ze.createBox=H.createBox,ze.createFullBox=H.createFullBox,ze.Utils=H.Utils,H.Cursor=function(f){this.offset=void 0===f?0:f};var ve=function(f){this._cursor=new H.Cursor,this.boxes=[],f&&(this._raw=new DataView(f))};ve.prototype.fetch=function(f){var d=this.fetchAll(f,!0);return d.length?d[0]:null},ve.prototype.fetchAll=function(f,d){var I=[];return ve._sweep.call(this,f,I,d),I},ve.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var f=N.parse(this);if(void 0===f.type)break;this.boxes.push(f)}return this},ve._sweep=function(f,d,I){for(var A in this.type&&this.type==f&&d.push(this),this.boxes){if(d.length&&I)return;ve._sweep.call(this.boxes[A],f,d,I)}},ve.prototype.write=function(){var f,d=0;for(f=0;f<this.boxes.length;f++)d+=this.boxes[f].getLength(!1);var I=new Uint8Array(d);for(this._rawo=new DataView(I.buffer),this.bytes=I,this._cursor.offset=0,f=0;f<this.boxes.length;f++)this.boxes[f].write();return I.buffer},ve.prototype.append=function(f,d){H.Utils.appendBox(this,f,d)};var N=function(){this._cursor=new H.Cursor};N.parse=function(f){var d=new N;return d._offset=f._cursor.offset,d._root=f._root?f._root:f,d._raw=f._raw,d._parent=f,d._parseBox(),f._cursor.offset=d._raw.byteOffset+d._raw.byteLength,d},N.create=function(f){var d=new N;return d.type=f,d.boxes=[],d},N.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],N.prototype._boxProcessors={},N.prototype._procField=function(f,d,I){this._parsing?this[f]=this._readField(d,I):this._writeField(d,I,this[f])},N.prototype._procFieldArray=function(f,d,I,A){var v;if(this._parsing)for(this[f]=[],v=0;v<d;v++)this[f][v]=this._readField(I,A);else for(v=0;v<this[f].length;v++)this._writeField(I,A,this[f][v])},N.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},N.prototype._procEntries=function(f,d,I){var A;if(this._parsing)for(this[f]=[],A=0;A<d;A++)this[f].push({}),I.call(this,this[f][A]);else for(A=0;A<d;A++)I.call(this,this[f][A])},N.prototype._procSubEntries=function(f,d,I,A){var v;if(this._parsing)for(f[d]=[],v=0;v<I;v++)f[d].push({}),A.call(this,f[d][v]);else for(v=0;v<I;v++)A.call(this,f[d][v])},N.prototype._procEntryField=function(f,d,I,A){this._parsing?f[d]=this._readField(I,A):this._writeField(I,A,f[d])},N.prototype._procSubBoxes=function(f,d){var I;if(this._parsing)for(this[f]=[],I=0;I<d;I++)this[f].push(N.parse(this));else for(I=0;I<d;I++)this._rawo?this[f][I].write():this.size+=this[f][I].getLength()},N.prototype._readField=function(f,d){switch(f){case"uint":return this._readUint(d);case"int":return this._readInt(d);case"template":return this._readTemplate(d);case"string":return-1===d?this._readTerminatedString():this._readString(d);case"data":return this._readData(d);case"utf8":return this._readUTF8String();default:return-1}},N.prototype._readInt=function(f){var d=null,I=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:d=this._raw.getInt8(I);break;case 16:d=this._raw.getInt16(I);break;case 32:d=this._raw.getInt32(I);break;case 64:var A=this._raw.getInt32(I),v=this._raw.getInt32(I+4);d=A*Math.pow(2,32)+v}return this._cursor.offset+=f>>3,d},N.prototype._readUint=function(f){var d,I,A=null,v=this._cursor.offset-this._raw.byteOffset;switch(f){case 8:A=this._raw.getUint8(v);break;case 16:A=this._raw.getUint16(v);break;case 24:A=((d=this._raw.getUint16(v))<<8)+(I=this._raw.getUint8(v+2));break;case 32:A=this._raw.getUint32(v);break;case 64:d=this._raw.getUint32(v),I=this._raw.getUint32(v+4),A=d*Math.pow(2,32)+I}return this._cursor.offset+=f>>3,A},N.prototype._readString=function(f){for(var d="",I=0;I<f;I++){var A=this._readUint(8);d+=String.fromCharCode(A)}return d},N.prototype._readTemplate=function(f){return this._readUint(f/2)+this._readUint(f/2)/Math.pow(2,f/2)},N.prototype._readTerminatedString=function(){for(var f="";this._cursor.offset-this._offset<this._raw.byteLength;){var d=this._readUint(8);if(0===d)break;f+=String.fromCharCode(d)}return f},N.prototype._readData=function(f){var d=f>0?f:this._raw.byteLength-(this._cursor.offset-this._offset);if(d>0){var I=new Uint8Array(this._raw.buffer,this._cursor.offset,d);return this._cursor.offset+=d,I}return null},N.prototype._readUTF8String=function(){var f=this._raw.byteLength-(this._cursor.offset-this._offset),d=null;return f>0&&(d=new DataView(this._raw.buffer,this._cursor.offset,f),this._cursor.offset+=f),d&&H.Utils.dataViewToString(d)},N.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},N.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},N.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(N.parse(this))},N.prototype.append=function(f,d){H.Utils.appendBox(this,f,d)},N.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var f=0;f<this.boxes.length;f++)this.size+=this.boxes[f].getLength();return this._data&&this._writeData(this._data),this.size},N.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var f=0;f<this.boxes.length;f++)this.boxes[f].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},N.prototype._writeInt=function(f,d){if(this._rawo){var I=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setInt8(I,d);break;case 16:this._rawo.setInt16(I,d);break;case 32:this._rawo.setInt32(I,d);break;case 64:var A=Math.floor(d/Math.pow(2,32)),v=d-A*Math.pow(2,32);this._rawo.setUint32(I,A),this._rawo.setUint32(I+4,v)}this._cursor.offset+=f>>3}else this.size+=f>>3},N.prototype._writeUint=function(f,d){if(this._rawo){var I,A,v=this._cursor.offset-this._rawo.byteOffset;switch(f){case 8:this._rawo.setUint8(v,d);break;case 16:this._rawo.setUint16(v,d);break;case 24:A=255&d,this._rawo.setUint16(v,I=(16776960&d)>>8),this._rawo.setUint8(v+2,A);break;case 32:this._rawo.setUint32(v,d);break;case 64:A=d-(I=Math.floor(d/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(v,I),this._rawo.setUint32(v+4,A)}this._cursor.offset+=f>>3}else this.size+=f>>3},N.prototype._writeString=function(f,d){for(var I=0;I<f;I++)this._writeUint(8,d.charCodeAt(I))},N.prototype._writeTerminatedString=function(f){if(0!==f.length){for(var d=0;d<f.length;d++)this._writeUint(8,f.charCodeAt(d));this._writeUint(8,0)}},N.prototype._writeTemplate=function(f,d){var I=Math.floor(d),A=(d-I)*Math.pow(2,f/2);this._writeUint(f/2,I),this._writeUint(f/2,A)},N.prototype._writeData=function(f){if(f)if(this._rawo){if(f instanceof Array){for(var d=this._cursor.offset-this._rawo.byteOffset,I=0;I<f.length;I++)this._rawo.setInt8(d+I,f[I]);this._cursor.offset+=f.length}f instanceof Uint8Array&&(this._root.bytes.set(f,this._cursor.offset),this._cursor.offset+=f.length)}else this.size+=f.length},N.prototype._writeUTF8String=function(f){var d=H.Utils.utf8ToByteArray(f);if(this._rawo)for(var I=new DataView(this._rawo.buffer,this._cursor.offset,d.length),A=0;A<d.length;A++)I.setUint8(A,d[A]);else this.size+=d.length},N.prototype._writeField=function(f,d,I){switch(f){case"uint":this._writeUint(d,I);break;case"int":this._writeInt(d,I);break;case"template":this._writeTemplate(d,I);break;case"string":-1==d?this._writeTerminatedString(I):this._writeString(d,I);break;case"data":this._writeData(I);break;case"utf8":this._writeUTF8String(I)}},N.prototype._boxProcessors.avc1=N.prototype._boxProcessors.avc2=N.prototype._boxProcessors.avc3=N.prototype._boxProcessors.avc4=N.prototype._boxProcessors.hvc1=N.prototype._boxProcessors.hev1=N.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},N.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_count","uint",32),this._procEntryField(f,"sample_offset",1===this.version?"int":"uint",32)})},N.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},N.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"segment_duration","uint",1===this.version?64:32),this._procEntryField(f,"media_time","int",1===this.version?64:32),this._procEntryField(f,"media_rate_integer","int",16),this._procEntryField(f,"media_rate_fraction","int",16)})},N.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},N.prototype._boxProcessors.free=N.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},N.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},N.prototype._boxProcessors.ftyp=N.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var f=-1;this._parsing&&(f=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",f,"string",4)},N.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},N.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},N.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},N.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},N.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},N.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},N.prototype._boxProcessors.mp4a=N.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},N.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},N.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},N.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",1==this.version?64:32)},N.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},N.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},N.prototype._boxProcessors.sdtp=function(){this._procFullBox();var f=-1;this._parsing&&(f=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",f,"uint",8)},N.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(f){this._parsing||(f.reference=(1&f.reference_type)<<31,f.reference|=2147483647&f.referenced_size,f.sap=(1&f.starts_with_SAP)<<31,f.sap|=(3&f.SAP_type)<<28,f.sap|=268435455&f.SAP_delta_time),this._procEntryField(f,"reference","uint",32),this._procEntryField(f,"subsegment_duration","uint",32),this._procEntryField(f,"sap","uint",32),this._parsing&&(f.reference_type=f.reference>>31&1,f.referenced_size=2147483647&f.reference,f.starts_with_SAP=f.sap>>31&1,f.SAP_type=f.sap>>28&7,f.SAP_delta_time=268435455&f.sap)})},N.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},N.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(f){this._procEntryField(f,"ranges_count","uint",32),this._procSubEntries(f,"ranges",f.ranges_count,function(d){this._procEntryField(d,"level","uint",8),this._procEntryField(d,"range_size","uint",24)})})},N.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},N.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},N.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_count","uint",32),this._procEntryField(f,"sample_delta","uint",32)})},N.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(f){this._procEntryField(f,"sample_delta","uint",32),this._procEntryField(f,"subsample_count","uint",16),this._procSubEntries(f,"subsamples",f.subsample_count,function(d){this._procEntryField(d,"subsample_size","uint",1===this.version?32:16),this._procEntryField(d,"subsample_priority","uint",8),this._procEntryField(d,"discardable","uint",8),this._procEntryField(d,"codec_specific_parameters","uint",32)})})},N.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},N.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},N.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},N.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(f){this._procEntryField(f,"time","uint",1===this.version?64:32),this._procEntryField(f,"moof_offset","uint",1===this.version?64:32),this._procEntryField(f,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(f,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(f,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},N.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},N.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},N.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(f){256&this.flags&&this._procEntryField(f,"sample_duration","uint",32),512&this.flags&&this._procEntryField(f,"sample_size","uint",32),1024&this.flags&&this._procEntryField(f,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(f,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},N.prototype._boxProcessors["url "]=N.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},N.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},N.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},N.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},N.prototype._boxProcessors.vtte=function(){}},5530:function(Et,ze,H){"use strict";Et.exports=H(6146).polyfill()},6146:function(Et,ze,H){Et.exports=function(){"use strict";function ve(Je){return"function"==typeof Je}var N=Array.isArray?Array.isArray:function(Je){return"[object Array]"===Object.prototype.toString.call(Je)},f=0,d=void 0,I=void 0,A=function(Je,yt){j[f]=Je,j[f+1]=yt,2===(f+=2)&&(I?I(Q):k())},v=typeof window<"u"?window:void 0,S=v||{},D=S.MutationObserver||S.WebKitMutationObserver,h=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),y=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function T(){var Je=setTimeout;return function(){return Je(Q,1)}}var j=new Array(1e3);function Q(){for(var Je=0;Je<f;Je+=2)(0,j[Je])(j[Je+1]),j[Je]=void 0,j[Je+1]=void 0;f=0}var Y,$,fe,Z,k=void 0;function X(Je,yt){var pe=this,Ae=new this.constructor(Pe);void 0===Ae[de]&&et(Ae);var at=pe._state;if(at){var E=arguments[at-1];A(function(){return Rt(at,Ae,E,pe._result)})}else ot(pe,Ae,Je,yt);return Ae}function ue(Je){if(Je&&"object"==typeof Je&&Je.constructor===this)return Je;var yt=new this(Pe);return Ge(yt,Je),yt}k=h?function(){return process.nextTick(Q)}:D?($=0,fe=new D(Q),Z=document.createTextNode(""),fe.observe(Z,{characterData:!0}),function(){Z.data=$=++$%2}):y?((Y=new MessageChannel).port1.onmessage=Q,function(){return Y.port2.postMessage(0)}):void 0===v?function(){try{var Je=Function("return this")().require("vertx");return void 0!==(d=Je.runOnLoop||Je.runOnContext)?function(){d(Q)}:T()}catch{return T()}}():T();var de=Math.random().toString(36).substring(2);function Pe(){}var gt=void 0;function _e(Je,yt,pe){var Ae,at;yt.constructor===Je.constructor&&pe===X&&yt.constructor.resolve===ue?(Ae=Je,1===(at=yt)._state?Ve(Ae,at._result):2===at._state?ke(Ae,at._result):ot(at,void 0,function(E){return Ge(Ae,E)},function(E){return ke(Ae,E)})):void 0===pe?Ve(Je,yt):ve(pe)?function(Ae,at,E){A(function(g){var R=!1,O=function(ae,oe,De,We){try{ae.call(oe,function(ae){R||(R=!0,at!==ae?Ge(g,ae):Ve(g,ae))},function(ae){R||(R=!0,ke(g,ae))})}catch($e){return $e}}(E,at);!R&&O&&(R=!0,ke(g,O))},Ae)}(Je,yt,pe):Ve(Je,yt)}function Ge(Je,yt){if(Je===yt)ke(Je,new TypeError("You cannot resolve a promise with itself"));else if(at=typeof(Ae=yt),null===Ae||"object"!==at&&"function"!==at)Ve(Je,yt);else{var pe=void 0;try{pe=yt.then}catch(E){return void ke(Je,E)}_e(Je,yt,pe)}var Ae,at}function ut(Je){Je._onerror&&Je._onerror(Je._result),Qe(Je)}function Ve(Je,yt){Je._state===gt&&(Je._result=yt,Je._state=1,0!==Je._subscribers.length&&A(Qe,Je))}function ke(Je,yt){Je._state===gt&&(Je._state=2,Je._result=yt,A(ut,Je))}function ot(Je,yt,pe,Ae){var at=Je._subscribers,E=at.length;Je._onerror=null,at[E]=yt,at[E+1]=pe,at[E+2]=Ae,0===E&&Je._state&&A(Qe,Je)}function Qe(Je){var yt=Je._subscribers,pe=Je._state;if(0!==yt.length){for(var Ae=void 0,at=void 0,E=Je._result,g=0;g<yt.length;g+=3)at=yt[g+pe],(Ae=yt[g])?Rt(pe,Ae,at,E):at(E);Je._subscribers.length=0}}function Rt(Je,yt,pe,Ae){var at=ve(pe),E=void 0,g=void 0,R=!0;if(at){try{E=pe(Ae)}catch(O){R=!1,g=O}if(yt===E)return void ke(yt,new TypeError("A promises callback cannot return that same promise."))}else E=Ae;yt._state!==gt||(at&&R?Ge(yt,E):!1===R?ke(yt,g):1===Je?Ve(yt,E):2===Je&&ke(yt,E))}var xe=0;function et(Je){Je[de]=xe++,Je._state=void 0,Je._result=void 0,Je._subscribers=[]}var jt=function(){function Je(yt,pe){this._instanceConstructor=yt,this.promise=new yt(Pe),this.promise[de]||et(this.promise),N(pe)?(this.length=pe.length,this._remaining=pe.length,this._result=new Array(this.length),0===this.length?Ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(pe),0===this._remaining&&Ve(this.promise,this._result))):ke(this.promise,new Error("Array Methods must be provided an Array"))}return Je.prototype._enumerate=function(yt){for(var pe=0;this._state===gt&&pe<yt.length;pe++)this._eachEntry(yt[pe],pe)},Je.prototype._eachEntry=function(yt,pe){var Ae=this._instanceConstructor,at=Ae.resolve;if(at===ue){var E=void 0,g=void 0,R=!1;try{E=yt.then}catch(ae){R=!0,g=ae}if(E===X&&yt._state!==gt)this._settledAt(yt._state,pe,yt._result);else if("function"!=typeof E)this._remaining--,this._result[pe]=yt;else if(Ae===Ct){var O=new Ae(Pe);R?ke(O,g):_e(O,yt,E),this._willSettleAt(O,pe)}else this._willSettleAt(new Ae(function(ae){return ae(yt)}),pe)}else this._willSettleAt(at(yt),pe)},Je.prototype._settledAt=function(yt,pe,Ae){var at=this.promise;at._state===gt&&(this._remaining--,2===yt?ke(at,Ae):this._result[pe]=Ae),0===this._remaining&&Ve(at,this._result)},Je.prototype._willSettleAt=function(yt,pe){var Ae=this;ot(yt,void 0,function(at){return Ae._settledAt(1,pe,at)},function(at){return Ae._settledAt(2,pe,at)})},Je}(),Ct=function(){function Je(yt){this[de]=xe++,this._result=this._state=void 0,this._subscribers=[],Pe!==yt&&("function"!=typeof yt&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Je?function(pe,Ae){try{Ae(function(at){Ge(pe,at)},function(at){ke(pe,at)})}catch(at){ke(pe,at)}}(this,yt):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Je.prototype.catch=function(yt){return this.then(null,yt)},Je.prototype.finally=function(yt){var Ae=this.constructor;return ve(yt)?this.then(function(at){return Ae.resolve(yt()).then(function(){return at})},function(at){return Ae.resolve(yt()).then(function(){throw at})}):this.then(yt,yt)},Je}();return Ct.prototype.then=X,Ct.all=function(Je){return new jt(this,Je).promise},Ct.race=function(Je){var yt=this;return N(Je)?new yt(function(pe,Ae){for(var at=Je.length,E=0;E<at;E++)yt.resolve(Je[E]).then(pe,Ae)}):new yt(function(pe,Ae){return Ae(new TypeError("You must pass an array to race."))})},Ct.resolve=ue,Ct.reject=function(Je){var yt=new this(Pe);return ke(yt,Je),yt},Ct._setScheduler=function(Je){I=Je},Ct._setAsap=function(Je){A=Je},Ct._asap=A,Ct.polyfill=function(){var Je=void 0;if(void 0!==H.g)Je=H.g;else if(typeof self<"u")Je=self;else try{Je=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var yt=Je.Promise;if(yt){var pe=null;try{pe=Object.prototype.toString.call(yt.resolve())}catch{}if("[object Promise]"===pe&&!yt.cast)return}Je.Promise=Ct},Ct.Promise=Ct,Ct}()},1159:function(Et){"use strict";var ze,H="object"==typeof Reflect?Reflect:null,ve=H&&"function"==typeof H.apply?H.apply:function(Q,Y,$){return Function.prototype.apply.call(Q,Y,$)};ze=H&&"function"==typeof H.ownKeys?H.ownKeys:Object.getOwnPropertySymbols?function(Q){return Object.getOwnPropertyNames(Q).concat(Object.getOwnPropertySymbols(Q))}:function(Q){return Object.getOwnPropertyNames(Q)};var N=Number.isNaN||function(Q){return Q!=Q};function f(){f.init.call(this)}Et.exports=f,Et.exports.once=function(Q,Y){return new Promise(function($,fe){function Z(X){Q.removeListener(Y,k),fe(X)}function k(){"function"==typeof Q.removeListener&&Q.removeListener("error",Z),$([].slice.call(arguments))}var X;j(Q,Y,k,{once:!0}),"error"!==Y&&("function"==typeof(X=Q).on&&j(X,"error",Z,{once:!0}))})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var d=10;function I(Q){if("function"!=typeof Q)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Q)}function A(Q){return void 0===Q._maxListeners?f.defaultMaxListeners:Q._maxListeners}function v(Q,Y,$,fe){var Z,k,X;if(I($),void 0===(k=Q._events)?(k=Q._events=Object.create(null),Q._eventsCount=0):(void 0!==k.newListener&&(Q.emit("newListener",Y,$.listener?$.listener:$),k=Q._events),X=k[Y]),void 0===X)X=k[Y]=$,++Q._eventsCount;else if("function"==typeof X?X=k[Y]=fe?[$,X]:[X,$]:fe?X.unshift($):X.push($),(Z=A(Q))>0&&X.length>Z&&!X.warned){X.warned=!0;var de=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(Y)+" listeners added. Use emitter.setMaxListeners() to increase limit");de.name="MaxListenersExceededWarning",de.emitter=Q,de.type=Y,de.count=X.length,console&&console.warn&&console.warn(de)}return Q}function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function D(Q,Y,$){var fe={fired:!1,wrapFn:void 0,target:Q,type:Y,listener:$},Z=S.bind(fe);return Z.listener=$,fe.wrapFn=Z,Z}function h(Q,Y,$){var fe=Q._events;if(void 0===fe)return[];var Z=fe[Y];return void 0===Z?[]:"function"==typeof Z?$?[Z.listener||Z]:[Z]:$?function(k){for(var X=new Array(k.length),ue=0;ue<X.length;++ue)X[ue]=k[ue].listener||k[ue];return X}(Z):T(Z,Z.length)}function y(Q){var Y=this._events;if(void 0!==Y){var $=Y[Q];if("function"==typeof $)return 1;if(void 0!==$)return $.length}return 0}function T(Q,Y){for(var $=new Array(Y),fe=0;fe<Y;++fe)$[fe]=Q[fe];return $}function j(Q,Y,$,fe){if("function"==typeof Q.on)fe.once?Q.once(Y,$):Q.on(Y,$);else{if("function"!=typeof Q.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Q);Q.addEventListener(Y,function Z(k){fe.once&&Q.removeEventListener(Y,Z),$(k)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(Q){if("number"!=typeof Q||Q<0||N(Q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Q+".");d=Q}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(Q){if("number"!=typeof Q||Q<0||N(Q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Q+".");return this._maxListeners=Q,this},f.prototype.getMaxListeners=function(){return A(this)},f.prototype.emit=function(Q){for(var Y=[],$=1;$<arguments.length;$++)Y.push(arguments[$]);var fe="error"===Q,Z=this._events;if(void 0!==Z)fe=fe&&void 0===Z.error;else if(!fe)return!1;if(fe){var k;if(Y.length>0&&(k=Y[0]),k instanceof Error)throw k;var X=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw X.context=k,X}var ue=Z[Q];if(void 0===ue)return!1;if("function"==typeof ue)ve(ue,this,Y);else{var de=ue.length,Pe=T(ue,de);for($=0;$<de;++$)ve(Pe[$],this,Y)}return!0},f.prototype.on=f.prototype.addListener=function(Q,Y){return v(this,Q,Y,!1)},f.prototype.prependListener=function(Q,Y){return v(this,Q,Y,!0)},f.prototype.once=function(Q,Y){return I(Y),this.on(Q,D(this,Q,Y)),this},f.prototype.prependOnceListener=function(Q,Y){return I(Y),this.prependListener(Q,D(this,Q,Y)),this},f.prototype.off=f.prototype.removeListener=function(Q,Y){var $,fe,Z,k,X;if(I(Y),void 0===(fe=this._events))return this;if(void 0===($=fe[Q]))return this;if($===Y||$.listener===Y)0==--this._eventsCount?this._events=Object.create(null):(delete fe[Q],fe.removeListener&&this.emit("removeListener",Q,$.listener||Y));else if("function"!=typeof $){for(Z=-1,k=$.length-1;k>=0;k--)if($[k]===Y||$[k].listener===Y){X=$[k].listener,Z=k;break}if(Z<0)return this;0===Z?$.shift():function(ue,de){for(;de+1<ue.length;de++)ue[de]=ue[de+1];ue.pop()}($,Z),1===$.length&&(fe[Q]=$[0]),void 0!==fe.removeListener&&this.emit("removeListener",Q,X||Y)}return this},f.prototype.removeAllListeners=function(Q){var Y,$,fe;if(void 0===($=this._events))return this;if(void 0===$.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==$[Q]&&(0==--this._eventsCount?this._events=Object.create(null):delete $[Q]),this;if(0===arguments.length){var Z,k=Object.keys($);for(fe=0;fe<k.length;++fe)"removeListener"!==(Z=k[fe])&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(Y=$[Q]))this.removeListener(Q,Y);else if(void 0!==Y)for(fe=Y.length-1;fe>=0;fe--)this.removeListener(Q,Y[fe]);return this},f.prototype.listeners=function(Q){return h(this,Q,!0)},f.prototype.rawListeners=function(Q){return h(this,Q,!1)},f.listenerCount=function(Q,Y){return"function"==typeof Q.listenerCount?Q.listenerCount(Y):y.call(Q,Y)},f.prototype.listenerCount=y,f.prototype.eventNames=function(){return this._eventsCount>0?ze(this._events):[]}},3101:function(Et){"use strict";var ze=Array.isArray,H=Object.keys,ve=Object.prototype.hasOwnProperty;Et.exports=function N(f,d){if(f===d)return!0;if(f&&d&&"object"==typeof f&&"object"==typeof d){var I,A,v,S=ze(f),D=ze(d);if(S&&D){if((A=f.length)!=d.length)return!1;for(I=A;0!=I--;)if(!N(f[I],d[I]))return!1;return!0}if(S!=D)return!1;var h=f instanceof Date,y=d instanceof Date;if(h!=y)return!1;if(h&&y)return f.getTime()==d.getTime();var T=f instanceof RegExp,j=d instanceof RegExp;if(T!=j)return!1;if(T&&j)return f.toString()==d.toString();var Q=H(f);if((A=Q.length)!==H(d).length)return!1;for(I=A;0!=I--;)if(!ve.call(d,Q[I]))return!1;for(I=A;0!=I--;)if(!N(f[v=Q[I]],d[v]))return!1;return!0}return f!=f&&d!=d}},3362:function(Et,ze,H){!function(ve,N,f,d,I){function A(g){if("contents"in g)for(var R=("styleAttrs"in g?g.styleAttrs[d.byName.ruby.qname]:null),O="span"===g.kind&&("container"===R||"textContainer"===R||"baseContainer"===R),ae=g.contents.length-1;ae>=0;ae--)!O||"styleAttrs"in g.contents[ae]&&d.byName.ruby.qname in g.contents[ae].styleAttrs?A(g.contents[ae]):delete g.contents[ae]}function v(g,R,O,ae){var oe=ae&&"seq"===ae.timeContainer,De=0;ae&&(De=oe&&O?O.end:ae.begin),R.begin=R.explicit_begin?R.explicit_begin+De:De;var We=R.begin,$e=null;if("sets"in R)for(var Fe=0;Fe<R.sets.length;Fe++)v(g,R.sets[Fe],$e,R),We="seq"===R.timeContainer?R.sets[Fe].end:Math.max(We,R.sets[Fe].end),$e=R.sets[Fe];if("contents"in R){if("contents"in R)for(var qe=0;qe<R.contents.length;qe++)v(g,R.contents[qe],$e,R),We="seq"===R.timeContainer?R.contents[qe].end:Math.max(We,R.contents[qe].end),$e=R.contents[qe]}else We=oe?R.begin:Number.POSITIVE_INFINITY;R.end=null!==R.explicit_end&&null!==R.explicit_dur?Math.min(R.begin+R.explicit_dur,De+R.explicit_end):null===R.explicit_end&&null!==R.explicit_dur?R.begin+R.explicit_dur:null!==R.explicit_end&&null===R.explicit_dur?De+R.explicit_end:We,delete R.explicit_begin,delete R.explicit_dur,delete R.explicit_end,g._registerEvent(R)}function S(g){this.node=g}function D(){this.events=[],this.head=new h,this.body=null}function h(){this.styling=new y,this.layout=new Q}function y(){this.styles={},this.initials={}}function T(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function j(){this.styleAttrs=null}function Q(){this.regions={}}function Y(g,R){$.call(this,"image"),this.src=g,this.type=R}function $(g){this.kind=g}function fe(g){this.id=g}function Z(g){this.regionID=g}function k(g){this.styleAttrs=g}function X(g){this.sets=g}function ue(g){this.contents=g}function de(g,R,O){this.explicit_begin=g,this.explicit_end=R,this.explicit_dur=O}function Pe(){$.call(this,"body")}function gt(){$.call(this,"div")}function _e(){$.call(this,"p")}function Ge(){$.call(this,"span")}function ut(){$.call(this,"span")}function Ve(){$.call(this,"br")}function ke(){}function ot(){}function Qe(g){return g&&"xml:id"in g.attributes&&g.attributes["xml:id"].value||null}function Rt(g){return g&&"style"in g.attributes?g.attributes.style.value.split(" "):[]}function xe(g,R){var O={};if(null!==g)for(var ae in g.attributes){var oe=g.attributes[ae].uri+" "+g.attributes[ae].local,De=d.byQName[oe];if(void 0!==De){var We=De.parse(g.attributes[ae].value);null!==We?(O[oe]=We,De===d.byName.zIndex&&pe(R,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Ae(R,"Cannot parse styling attribute "+oe+" --\x3e "+g.attributes[ae].value)}}return O}function et(g,R,O){for(var ae in g.attributes)if(g.attributes[ae].uri===R&&g.attributes[ae].local===O)return g.attributes[ae].value;return null}function jt(g,R,O){var ae,oe=null;return null!==(ae=/^(\d+(?:\.\d+)?)f$/.exec(O))?null!==R&&(oe=parseFloat(ae[1])/R):null!==(ae=/^(\d+(?:\.\d+)?)t$/.exec(O))?null!==g&&(oe=parseFloat(ae[1])/g):null!==(ae=/^(\d+(?:\.\d+)?)ms$/.exec(O))?oe=parseFloat(ae[1])/1e3:null!==(ae=/^(\d+(?:\.\d+)?)s$/.exec(O))?oe=parseFloat(ae[1]):null!==(ae=/^(\d+(?:\.\d+)?)h$/.exec(O))?oe=3600*parseFloat(ae[1]):null!==(ae=/^(\d+(?:\.\d+)?)m$/.exec(O))?oe=60*parseFloat(ae[1]):null!==(ae=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(O))?oe=3600*parseInt(ae[1])+60*parseInt(ae[2])+parseFloat(ae[3]):null!==(ae=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(O))&&null!==R&&(oe=3600*parseInt(ae[1])+60*parseInt(ae[2])+parseInt(ae[3])+(null===ae[4]?0:parseInt(ae[4])/R)),oe}function Ct(g,R,O){for(;R.styleRefs.length>0;){var ae=R.styleRefs.pop();ae in g.styles?(Ct(g,g.styles[ae],O),yt(g.styles[ae].styleAttrs,R.styleAttrs)):Ae(O,"Non-existant style id referenced")}}function Je(g,R,O,ae){for(var oe=R.length-1;oe>=0;oe--){var De=R[oe];De in g.styles?yt(g.styles[De].styleAttrs,O):Ae(ae,"Non-existant style id referenced")}}function yt(g,R){for(var O in g)g.hasOwnProperty(O)&&(O in R||(R[O]=g[O]))}function pe(g,R){if(g&&g.warn&&g.warn(R))throw R}function Ae(g,R){if(g&&g.error&&g.error(R))throw R}function at(g,R){throw g&&g.fatal&&g.fatal(R),R}function E(g,R){for(var O,ae=0,oe=g.length-1;ae<=oe;){var De=g[O=Math.floor((ae+oe)/2)];if(De<R)ae=O+1;else{if(!(De>R))return{found:!0,index:O};oe=O-1}}return{found:!1,index:ae}}ve.fromXML=function(g,R,O){var ae=N.parser(!0,{xmlns:!0}),oe=[],De=[],We=[],$e=0,Fe=null;ae.onclosetag=function(Ze){if(oe[0]instanceof ke)null!==Fe.head&&null!==Fe.head.styling&&Je(Fe.head.styling,oe[0].styleRefs,oe[0].styleAttrs,R),delete oe[0].styleRefs;else if(oe[0]instanceof y)for(var Tt in oe[0].styles)oe[0].styles.hasOwnProperty(Tt)&&Ct(oe[0],oe[0].styles[Tt],R);else if(oe[0]instanceof _e||oe[0]instanceof Ge){if(oe[0].contents.length>1){var Mt,ln=[oe[0].contents[0]];for(Mt=1;Mt<oe[0].contents.length;Mt++)oe[0].contents[Mt]instanceof ut&&ln[ln.length-1]instanceof ut?ln[ln.length-1].text+=oe[0].contents[Mt].text:ln.push(oe[0].contents[Mt]);oe[0].contents=ln}oe[0]instanceof Ge&&1===oe[0].contents.length&&oe[0].contents[0]instanceof ut&&(oe[0].text=oe[0].contents[0].text,delete oe[0].contents)}else oe[0]instanceof S&&(oe[0].node.uri===f.ns_tt&&"metadata"===oe[0].node.local?$e--:$e>0&&O&&"onCloseTag"in O&&O.onCloseTag());We.shift(),De.shift(),oe.shift()},ae.ontext=function(Ze){if(void 0!==oe[0])if(oe[0]instanceof Ge||oe[0]instanceof _e){if(oe[0]instanceof Ge){var Tt=oe[0].styleAttrs[d.byName.ruby.qname];if("container"===Tt||"textContainer"===Tt||"baseContainer"===Tt)return}var Mt=new ut;Mt.initFromText(Fe,oe[0],Ze,De[0],We[0],R),oe[0].contents.push(Mt)}else oe[0]instanceof S&&$e>0&&O&&"onText"in O&&O.onText(Ze)},ae.onopentag=function(Ze){var Tt=Ze.attributes["xml:space"];We.unshift(Tt?Tt.value:0===We.length?"default":We[0]);var Mt=Ze.attributes["xml:lang"];if(De.unshift(Mt?Mt.value:0===De.length?"":De[0]),Ze.uri===f.ns_tt)if("tt"===Ze.local)null!==Fe&&at(R,"Two <tt> elements at ("+this.line+","+this.column+")"),(Fe=new D).initFromNode(Ze,De[0],R),oe.unshift(Fe);else if("head"===Ze.local)oe[0]instanceof D||at(R,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),oe.unshift(Fe.head);else if("styling"===Ze.local)oe[0]instanceof h||at(R,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),oe.unshift(Fe.head.styling);else if("style"===Ze.local){var ln;oe[0]instanceof y?((ln=new T).initFromNode(Ze,R),ln.id?Fe.head.styling.styles[ln.id]=ln:Ae(R,"<style> element missing @id attribute"),oe.unshift(ln)):oe[0]instanceof ke?((ln=new T).initFromNode(Ze,R),yt(ln.styleAttrs,oe[0].styleAttrs),oe.unshift(ln)):at(R,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===Ze.local){var _n;if(oe[0]instanceof y){for(var Dn in(_n=new j).initFromNode(Ze,R),_n.styleAttrs)_n.styleAttrs.hasOwnProperty(Dn)&&(Fe.head.styling.initials[Dn]=_n.styleAttrs[Dn]);oe.unshift(_n)}else at(R,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===Ze.local)oe[0]instanceof h||at(R,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),oe.unshift(Fe.head.layout);else if("region"===Ze.local){oe[0]instanceof Q||at(R,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var In=new ke;In.initFromNode(Fe,Ze,De[0],R),!In.id||In.id in Fe.head.layout.regions?Ae(R,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Fe.head.layout.regions[In.id]=In,oe.unshift(In)}else if("body"===Ze.local){oe[0]instanceof D||at(R,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==Fe.body&&at(R,"Second <body> element at "+this.line+","+this.column+")");var Xn=new Pe;Xn.initFromNode(Fe,Ze,De[0],R),Fe.body=Xn,oe.unshift(Xn)}else if("div"===Ze.local){oe[0]instanceof gt||oe[0]instanceof Pe||at(R,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Bn=new gt;Bn.initFromNode(Fe,oe[0],Ze,De[0],R);var Er=Bn.styleAttrs[d.byName.backgroundImage.qname];Er&&(Bn.contents.push(new Y(Er)),delete Bn.styleAttrs[d.byName.backgroundImage.qname]),oe[0].contents.push(Bn),oe.unshift(Bn)}else if("image"===Ze.local){oe[0]instanceof gt||at(R,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var gi=new Y;gi.initFromNode(Fe,oe[0],Ze,De[0],R),oe[0].contents.push(gi),oe.unshift(gi)}else if("p"===Ze.local){oe[0]instanceof gt||at(R,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Dr=new _e;Dr.initFromNode(Fe,oe[0],Ze,De[0],R),oe[0].contents.push(Dr),oe.unshift(Dr)}else if("span"===Ze.local){oe[0]instanceof Ge||oe[0]instanceof _e||at(R,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var ao=new Ge;ao.initFromNode(Fe,oe[0],Ze,De[0],We[0],R),oe[0].contents.push(ao),oe.unshift(ao)}else if("br"===Ze.local){oe[0]instanceof Ge||oe[0]instanceof _e||at(R,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var _i=new Ve;_i.initFromNode(Fe,oe[0],Ze,De[0],R),oe[0].contents.push(_i),oe.unshift(_i)}else if("set"===Ze.local){oe[0]instanceof Ge||oe[0]instanceof _e||oe[0]instanceof gt||oe[0]instanceof Pe||oe[0]instanceof ke||oe[0]instanceof Ve||at(R,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Hi=new ot;Hi.initFromNode(Fe,oe[0],Ze,R),oe[0].sets.push(Hi),oe.unshift(Hi)}else oe.unshift(new S(Ze));else oe.unshift(new S(Ze));if(oe[0]instanceof S)if(Ze.uri===f.ns_tt&&"metadata"===Ze.local)$e++;else if($e>0&&O&&"onOpenTag"in O){var wo=[];for(var Zi in Ze.attributes)wo[Ze.attributes[Zi].uri+" "+Ze.attributes[Zi].local]={uri:Ze.attributes[Zi].uri,local:Ze.attributes[Zi].local,value:Ze.attributes[Zi].value};O.onOpenTag(Ze.uri,Ze.local,wo)}},ae.write(g).close(),delete Fe.head.styling.styles;var qe=!1;for(var ht in Fe.head.layout.regions)if(Fe.head.layout.regions.hasOwnProperty(ht)){qe=!0;break}if(!qe){var Ce=ke.prototype.createDefaultRegion(Fe.lang);Fe.head.layout.regions[Ce.id]=Ce}for(var tt in Fe.head.layout.regions)Fe.head.layout.regions.hasOwnProperty(tt)&&v(Fe,Fe.head.layout.regions[tt],null,null);return Fe.body&&v(Fe,Fe.body,null,null),Fe.body&&A(Fe.body),Fe},D.prototype.initFromNode=function(g,R,O){var ae=function($e,Fe){var qe=et($e,f.ns_ttp,"cellResolution"),ht=15,Ce=32;if(null!==qe){var tt=/(\d+) (\d+)/.exec(qe);null!==tt?(Ce=parseInt(tt[1]),ht=parseInt(tt[2])):pe(Fe,"Malformed cellResolution value (using initial value instead)")}return{w:Ce,h:ht}}(g,O);this.cellLength={h:new I.ComputedLength(0,1/ae.h),w:new I.ComputedLength(1/ae.w,0)};var oe=function($e,Fe){var qe,ht=et($e,f.ns_ttp,"frameRate"),Ce=30;null!==ht&&(null!==(qe=/(\d+)/.exec(ht))?Ce=parseInt(qe[1]):pe(Fe,"Malformed frame rate attribute (using initial value instead)"));var tt=et($e,f.ns_ttp,"frameRateMultiplier"),Ze=1;null!==tt&&(null!==(qe=/(\d+) (\d+)/.exec(tt))?Ze=parseInt(qe[1])/parseInt(qe[2]):pe(Fe,"Malformed frame rate multiplier attribute (using initial value instead)"));var Tt=Ze*Ce,Mt=1,ln=et($e,f.ns_ttp,"tickRate");return null===ln?null!==ht&&(Mt=Tt):null!==(qe=/(\d+)/.exec(ln))?Mt=parseInt(qe[1]):pe(Fe,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Tt,tickRate:Mt}}(g,O);this.effectiveFrameRate=oe.effectiveFrameRate,this.tickRate=oe.tickRate,this.aspectRatio=function($e,Fe){var qe=et($e,f.ns_ittp,"aspectRatio");null===qe&&(qe=et($e,f.ns_ttp,"displayAspectRatio"));var ht=null;if(null!==qe){var Ce=/(\d+)\s+(\d+)/.exec(qe);if(null!==Ce){var tt=parseInt(Ce[1]),Ze=parseInt(Ce[2]);0!==tt&&0!==Ze?ht=tt/Ze:Ae(Fe,"Illegal aspectRatio values (ignoring)")}else Ae(Fe,"Malformed aspectRatio attribute (ignoring)")}return ht}(g,O);var De=et(g,f.ns_ttp,"timeBase");null!==De&&"media"!==De&&at(O,"Unsupported time base");var We=function($e,Fe){var qe=et($e,f.ns_tts,"extent");if(null===qe)return null;var ht=qe.split(" ");if(2!==ht.length)return pe(Fe,"Malformed extent (ignoring)"),null;var Ce=I.parseLength(ht[0]),tt=I.parseLength(ht[1]);return tt&&Ce?{h:tt,w:Ce}:(pe(Fe,"Malformed extent values (ignoring)"),null)}(g,O);null===We?this.pxLength={h:null,w:null}:("px"===We.h.unit&&"px"===We.w.unit||at(O,"Extent on TT must be in px or absent"),this.pxLength={h:new I.ComputedLength(0,1/We.h.value),w:new I.ComputedLength(1/We.w.value,0)}),this.dimensions={h:new I.ComputedLength(0,1),w:new I.ComputedLength(1,0)},this.lang=R},D.prototype._registerEvent=function(g){if(!(g.end<=g.begin)){var R=E(this.events,g.begin);if(R.found||this.events.splice(R.index,0,g.begin),g.end!==Number.POSITIVE_INFINITY){var O=E(this.events,g.end);O.found||this.events.splice(O.index,0,g.end)}}},D.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},D.prototype.getMediaTimeEvents=function(){return this.events},T.prototype.initFromNode=function(g,R){this.id=Qe(g),this.styleAttrs=xe(g,R),this.styleRefs=Rt(g)},j.prototype.initFromNode=function(g,R){for(var O in this.styleAttrs={},g.attributes)g.attributes[O].uri!==f.ns_itts&&g.attributes[O].uri!==f.ns_ebutts&&g.attributes[O].uri!==f.ns_tts||(this.styleAttrs[g.attributes[O].uri+" "+g.attributes[O].local]=g.attributes[O].value)},Y.prototype.initFromNode=function(g,R,O,ae,oe){this.src="src"in O.attributes?O.attributes.src.value:null,this.src||Ae(oe,"Invalid image@src attribute"),this.type="type"in O.attributes?O.attributes.type.value:null,this.type||Ae(oe,"Invalid image@type attribute"),k.prototype.initFromNode.call(this,g,R,O,oe),de.prototype.initFromNode.call(this,g,R,O,oe),X.prototype.initFromNode.call(this,g,R,O,oe),Z.prototype.initFromNode.call(this,g,R,O,oe),this.lang=ae},fe.prototype.initFromNode=function(g,R,O,ae){this.id=Qe(O)},Z.prototype.initFromNode=function(g,R,O,ae){var oe;this.regionID=(oe=O)&&"region"in oe.attributes?oe.attributes.region.value:""},k.prototype.initFromNode=function(g,R,O,ae){this.styleAttrs=xe(O,ae),null!==g.head&&null!==g.head.styling&&Je(g.head.styling,Rt(O),this.styleAttrs,ae)},X.prototype.initFromNode=function(g,R,O,ae){this.sets=[]},ue.prototype.initFromNode=function(g,R,O,ae){this.contents=[]},de.prototype.initFromNode=function(g,R,O,ae){var De,$e,oe=function(De,We,$e,Fe){var qe=null;$e&&"begin"in $e.attributes&&null===(qe=jt(De.tickRate,De.effectiveFrameRate,$e.attributes.begin.value))&&pe(Fe,"Malformed begin value "+$e.attributes.begin.value+" (using 0)");var ht=null;$e&&"dur"in $e.attributes&&null===(ht=jt(De.tickRate,De.effectiveFrameRate,$e.attributes.dur.value))&&pe(Fe,"Malformed dur value "+$e.attributes.dur.value+" (ignoring)");var Ce=null;return $e&&"end"in $e.attributes&&null===(Ce=jt(De.tickRate,De.effectiveFrameRate,$e.attributes.end.value))&&pe(Fe,"Malformed end value (ignoring)"),{explicit_begin:qe,explicit_end:Ce,explicit_dur:ht}}(g,0,O,ae);this.explicit_begin=oe.explicit_begin,this.explicit_end=oe.explicit_end,this.explicit_dur=oe.explicit_dur,this.timeContainer=($e=(De=O)&&"timeContainer"in De.attributes?De.attributes.timeContainer.value:null)&&"par"!==$e?"seq"===$e?"seq":(Ae(ae,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"},Pe.prototype.initFromNode=function(g,R,O,ae){k.prototype.initFromNode.call(this,g,null,R,ae),de.prototype.initFromNode.call(this,g,null,R,ae),X.prototype.initFromNode.call(this,g,null,R,ae),Z.prototype.initFromNode.call(this,g,null,R,ae),ue.prototype.initFromNode.call(this,g,null,R,ae),this.lang=O},gt.prototype.initFromNode=function(g,R,O,ae,oe){k.prototype.initFromNode.call(this,g,R,O,oe),de.prototype.initFromNode.call(this,g,R,O,oe),X.prototype.initFromNode.call(this,g,R,O,oe),Z.prototype.initFromNode.call(this,g,R,O,oe),ue.prototype.initFromNode.call(this,g,R,O,oe),this.lang=ae},_e.prototype.initFromNode=function(g,R,O,ae,oe){k.prototype.initFromNode.call(this,g,R,O,oe),de.prototype.initFromNode.call(this,g,R,O,oe),X.prototype.initFromNode.call(this,g,R,O,oe),Z.prototype.initFromNode.call(this,g,R,O,oe),ue.prototype.initFromNode.call(this,g,R,O,oe),this.lang=ae},Ge.prototype.initFromNode=function(g,R,O,ae,oe,De){k.prototype.initFromNode.call(this,g,R,O,De),de.prototype.initFromNode.call(this,g,R,O,De),X.prototype.initFromNode.call(this,g,R,O,De),Z.prototype.initFromNode.call(this,g,R,O,De),ue.prototype.initFromNode.call(this,g,R,O,De),this.space=oe,this.lang=ae},ut.prototype.initFromText=function(g,R,O,ae,oe,De){de.prototype.initFromNode.call(this,g,R,null,De),this.text=O,this.space=oe,this.lang=ae},Ve.prototype.initFromNode=function(g,R,O,ae,oe){Z.prototype.initFromNode.call(this,g,R,O,oe),de.prototype.initFromNode.call(this,g,R,O,oe),this.lang=ae},ke.prototype.createDefaultRegion=function(g){var R=new ke;return fe.call(R,""),k.call(R,{}),X.call(R,[]),de.call(R,0,Number.POSITIVE_INFINITY,null),this.lang=g,R},ke.prototype.initFromNode=function(g,R,O,ae){fe.prototype.initFromNode.call(this,g,null,R,ae),de.prototype.initFromNode.call(this,g,null,R,ae),X.prototype.initFromNode.call(this,g,null,R,ae),this.styleAttrs=xe(R,ae),this.styleRefs=Rt(R),this.lang=O},ot.prototype.initFromNode=function(g,R,O,ae){de.prototype.initFromNode.call(this,g,R,O,ae);var oe=xe(O,ae);for(var De in this.qname=null,this.value=null,oe)if(oe.hasOwnProperty(De)){if(this.qname){Ae(ae,"More than one style specified on set");break}this.qname=De,this.value=oe[De]}}}(ze,typeof sax>"u"?H(5378):sax,typeof imscNames>"u"?H(210):imscNames,typeof imscStyles>"u"?H(6811):imscStyles,typeof imscUtils>"u"?H(5926):imscUtils)},506:function(Et,ze,H){!function(ve,N,f){function d(k,X,ue,de){var Pe;if("region"===ue.kind)(Pe=document.createElement("div")).style.position="absolute";else if("body"===ue.kind)Pe=document.createElement("div");else if("div"===ue.kind)Pe=document.createElement("div");else if("image"===ue.kind){if(Pe=document.createElement("img"),null!==k.imgResolver&&null!==ue.src){var gt=k.imgResolver(ue.src,Pe);gt&&(Pe.src=gt),Pe.height=k.regionH,Pe.width=k.regionW}}else if("p"===ue.kind)Pe=document.createElement("p");else if("span"===ue.kind)if("container"===ue.styleAttrs[f.byName.ruby.qname])Pe=document.createElement("ruby"),k.ruby=!0;else if("base"===ue.styleAttrs[f.byName.ruby.qname])Pe=document.createElement("rb");else if("text"===ue.styleAttrs[f.byName.ruby.qname])Pe=document.createElement("rt");else if("baseContainer"===ue.styleAttrs[f.byName.ruby.qname])Pe=document.createElement("rbc");else if("textContainer"===ue.styleAttrs[f.byName.ruby.qname])Pe=document.createElement("rtc");else{if("delimiter"===ue.styleAttrs[f.byName.ruby.qname])return;Pe=document.createElement("span")}else"br"===ue.kind&&(Pe=document.createElement("br"));if(Pe){if(ue.lang&&("region"!==ue.kind&&ue.lang===de.lang||(Pe.lang=ue.lang)),X.appendChild(Pe),Pe.style.margin="0","region"===ue.kind){var _e=ue.styleAttrs[f.byName.writingMode.qname];"lrtb"===_e||"lr"===_e?(k.ipd="lr",k.bpd="tb"):"rltb"===_e||"rl"===_e?(k.ipd="rl",k.bpd="tb"):"tblr"===_e?(k.ipd="tb",k.bpd="lr"):"tbrl"!==_e&&"tb"!==_e||(k.ipd="tb",k.bpd="rl")}else"p"===ue.kind&&"tb"===k.bpd&&(k.ipd="ltr"===ue.styleAttrs[f.byName.direction.qname]?"lr":"rl");for(var ut=0;ut<T.length;ut++){var Ve=T[ut],ke=ue.styleAttrs[Ve.qname];void 0!==ke&&null!==Ve.map&&Ve.map(k,Pe,ue,ke)}var ot=Pe,Qe=ue.styleAttrs[f.byName.linePadding.qname];if(Qe&&!Qe.isZero()){var Rt=Qe.toUsedLength(k.w,k.h);if(Rt>0){var xe=Math.ceil(Rt)+"px";"tb"===k.bpd?(ot.style.paddingLeft=xe,ot.style.paddingRight=xe):(ot.style.paddingTop=xe,ot.style.paddingBottom=xe),k.lp=Qe}}var et=ue.styleAttrs[f.byName.multiRowAlign.qname];if(et&&"auto"!==et){var jt=document.createElement("span");jt.style.display="inline-block",jt.style.textAlign=et,Pe.appendChild(jt),ot=jt,k.mra=et}var Ct=ue.styleAttrs[f.byName.rubyReserve.qname];if(Ct&&"none"!==Ct[0]&&(k.rubyReserve=Ct),ue.styleAttrs[f.byName.fillLineGap.qname]&&(k.flg=!0),"span"===ue.kind&&ue.text){var Je=ue.styleAttrs[f.byName.textEmphasis.qname];if(Je&&"none"!==Je.style&&(k.textEmphasis=!0),f.byName.textCombine.qname in ue.styleAttrs&&"all"===ue.styleAttrs[f.byName.textCombine.qname])Pe.textContent=ue.text,Je&&h(k,Pe,0,Je);else for(var yt="",pe=0;pe<ue.text.length;pe++){yt+=ue.text.charAt(pe);var Ae=ue.text.charCodeAt(pe);if(Ae<55296||Ae>56319||pe===ue.text.length-1){var at=document.createElement("span");at.textContent=yt,Je&&h(k,at,0,Je),Pe.appendChild(at),yt="",at._isd_element=ue}}}if("contents"in ue)for(var E=0;E<ue.contents.length;E++)d(k,ot,ue.contents[E],ue);var g=[];if("p"===ue.kind&&(D(k,ot,g,null),k.rubyReserve&&(function(De,We){for(var $e=0;$e<De.length;$e++){var Fe,qe,ht=document.createElement("ruby"),Ce=document.createElement("rb");Ce.textContent="\u200b",ht.appendChild(Ce);var Ze=We.rubyReserve[1].toUsedLength(We.w,We.h)+"px";"both"===We.rubyReserve[0]||"outside"===We.rubyReserve[0]&&1==De.length?((Fe=document.createElement("rtc")).style[$]=Y?"after":"under",Fe.textContent="\u200b",Fe.style.fontSize=Ze,(qe=document.createElement("rtc")).style[$]=Y?"before":"over",qe.textContent="\u200b",qe.style.fontSize=Ze,ht.appendChild(Fe),ht.appendChild(qe)):((Fe=document.createElement("rtc")).textContent="\u200b",Fe.style.fontSize=Ze,Fe.style[$]="after"===We.rubyReserve[0]||"outside"===We.rubyReserve[0]&&$e>0?Y?"after":"tb"===We.bpd||"rl"===We.bpd?"under":"over":Y?"before":"tb"===We.bpd||"rl"===We.bpd?"over":"under",ht.appendChild(Fe));for(var Tt=null,Mt=0;Mt<De[$e].rbc.length;Mt++)if("ruby"===De[$e].rbc[Mt].localName){Tt=De[$e].rbc[Mt];for(var ln=0;ln<Tt.style.length;ln++)ht.style.setProperty(Tt.style.item(ln),Tt.style.getPropertyValue(Tt.style.item(ln)));break}(Tt=Tt||De[$e].elements[0].node).parentElement.insertBefore(ht,Tt)}}(g,k),k.rubyReserve=null),(k.ruby||k.rubyReserve)&&(function(De,We){for(var $e=0;$e<De.length;$e++)for(var Fe=0;Fe<De[$e].rbc.length;Fe++)De[$e].rbc[Fe].style[$]||(De[$e].rbc[Fe].style[$]=Y?0===$e?"before":"after":"tb"===We.bpd||"rl"===We.bpd?0===$e?"over":"under":0===$e?"under":"over")}(g,k),k.ruby=null),k.textEmphasis&&(function(De,We){for(var $e=0;$e<De.length;$e++)for(var Fe=0;Fe<De[$e].te.length;Fe++)De[$e].te[Fe].style[Z]&&"none"!==De[$e].te[Fe].style[Z]||(De[$e].te[Fe].style[Z]="tb"===We.bpd?0===$e?"left over":"left under":"rl"===We.bpd?0===$e?"right under":"left under":0===$e?"left under":"right under")}(g,k),k.textEmphasis=null),k.mra&&(function(De){for(var We=0;We<De.length-1;We++){var $e=De[We].elements.length;if(0!==$e&&!1===De[We].br){var Fe=document.createElement("br"),qe=De[We].elements[$e-1].node;qe.parentElement.insertBefore(Fe,qe.nextSibling)}}}(g),k.mra=null),k.lp&&(function(De,We,$e){if(null!==De)for(var Fe=0;Fe<De.length;Fe++){var qe=De[Fe].elements.length,ht=Math.ceil(We)+"px",Ce="-"+Math.ceil(We)+"px";if(0!==qe){var tt=De[Fe].elements[De[Fe].start_elem],Ze=De[Fe].elements[De[Fe].end_elem];if(tt===Ze&&(elementBoundingRect=tt.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===$e.ipd?(tt.node.style.marginLeft=Ce,tt.node.style.paddingLeft=ht):"rl"===$e.ipd?(tt.node.style.paddingRight=ht,tt.node.style.marginRight=Ce):"tb"===$e.ipd&&(tt.node.style.paddingTop=ht,tt.node.style.marginTop=Ce),"lr"===$e.ipd?(Ze.node.style.marginRight=Ce,Ze.node.style.paddingRight=ht):"rl"===$e.ipd?(Ze.node.style.paddingLeft=ht,Ze.node.style.marginLeft=Ce):"tb"===$e.ipd&&(Ze.node.style.paddingBottom=ht,Ze.node.style.marginBottom=Ce)}}}(g,k.lp.toUsedLength(k.w,k.h),k),k.lp=null),function(De){for(var We=0;We<De.length;We++)for(var $e=De[We],Fe=1;Fe<$e.elements.length;)A($e.elements[Fe-1].node,$e.elements[Fe].node)?$e.elements.splice(Fe,1):Fe++;for(var Ce,tt,Ze=[],Tt=0;Tt<De.length;Tt++)for(var Mt=0;Mt<De[Tt].elements.length;Mt++)(tt=I(Ce=De[Tt].elements[Mt].node,Ze,!1))&&(Ce.style.backgroundColor=tt);for(var ln=0;ln<Ze.length;ln++)Ze[ln].style.backgroundColor=""}(g),k.flg)){var R=S(ot.getBoundingClientRect(),k);(function(De,We,$e,Fe,qe){for(var ht=Math.sign($e-We),Ce=0;Ce<=De.length;Ce++){var tt,Ze,Tt,Mt;if(tt=0===Ce?Math.round(We):Ce===De.length?Math.round($e):Math.round((De[Ce-1].after+De[Ce].before)/2),Ce>0&&De[Ce-1])for(Tt=0;Tt<De[Ce-1].elements.length;Tt++)Ze=ht*(tt-(Mt=De[Ce-1].elements[Tt]).after)+"px","lr"===Fe.bpd?Mt.node.style.paddingRight=Ze:"rl"===Fe.bpd?Mt.node.style.paddingLeft=Ze:"tb"===Fe.bpd&&(Mt.node.style.paddingBottom=Ze);if(Ce<De.length)for(Tt=0;Tt<De[Ce].elements.length;Tt++)Ze=ht*((Mt=De[Ce].elements[Tt]).before-tt)+"px","lr"===Fe.bpd?Mt.node.style.paddingLeft=Ze:"rl"===Fe.bpd?Mt.node.style.paddingRight=Ze:"tb"===Fe.bpd&&(Mt.node.style.paddingTop=Ze)}})(g,R.before,R.after,k),k.flg=null}if("region"===ue.kind&&"tb"===k.bpd&&k.enableRollUp&&ue.contents.length>0&&"after"===ue.styleAttrs[f.byName.displayAlign.qname]){D(k,ot,g,null);var O=new v(""===ue.id?"_":ue.id,g);if(k.currentISDState[O.id]=O,k.previousISDState&&O.id in k.previousISDState&&k.previousISDState[O.id].plist.length>0&&O.plist.length>1&&O.plist[O.plist.length-2].text===k.previousISDState[O.id].plist[k.previousISDState[O.id].plist.length-1].text){var ae=Pe.firstElementChild,oe=O.plist[O.plist.length-1].after-O.plist[O.plist.length-1].before;ae.style.bottom="-"+oe+"px",ae.style.transition="transform 0.4s",ae.style.position="relative",ae.style.transform="translateY(-"+oe+"px)"}}}else!function(De,We){if(De&&De.error&&De.error(We))throw We}(k.errorHandler,"Error processing ISD element kind: "+ue.kind)}function I(k,X,ue){return k.style.backgroundColor?(ue&&!X.includes(k)&&X.push(k),k.style.backgroundColor):"SPAN"===k.parentElement.nodeName?I(k.parentElement,X,!0):void 0}function A(k,X){if("SPAN"===k.tagName&&"SPAN"===X.tagName&&k._isd_element===X._isd_element){k.textContent+=X.textContent;for(var ue=0;ue<X.style.length;ue++){var de=X.style[ue];(de.indexOf("border")>=0||de.indexOf("padding")>=0||de.indexOf("margin")>=0)&&(k.style[de]=X.style[de])}return X.parentElement.removeChild(X),!0}return!1}function v(k,X){this.id=k,this.plist=X}function S(k,X){var ue={before:null,after:null,start:null,end:null};return"tb"===X.bpd?(ue.before=k.top,ue.after=k.bottom,"lr"===X.ipd?(ue.start=k.left,ue.end=k.right):(ue.start=k.right,ue.end=k.left)):"lr"===X.bpd?(ue.before=k.left,ue.after=k.right,ue.start=k.top,ue.end=k.bottom):"rl"===X.bpd&&(ue.before=k.right,ue.after=k.left,ue.start=k.top,ue.end=k.bottom),ue}function D(k,X,ue,de){if("rt"!==X.localName&&"rtc"!==X.localName){var Pe,gt,_e,Ge,ut=X.style.backgroundColor||de;if(0===X.childElementCount)if("span"===X.localName||"rb"===X.localName){var Ve=S(X.getBoundingClientRect(),k);if(0!==ue.length&&(Pe=Ve.before,_e=ue[ue.length-1].before,(gt=Ve.after)<(Ge=ue[ue.length-1].after)&&Pe>_e||Ge<=gt&&_e>=Pe)){var ke=Math.sign(Ve.after-Ve.before),ot=Math.sign(Ve.end-Ve.start);ke*(Ve.before-ue[ue.length-1].before)<0&&(ue[ue.length-1].before=Ve.before),ke*(Ve.after-ue[ue.length-1].after)>0&&(ue[ue.length-1].after=Ve.after),ot*(Ve.start-ue[ue.length-1].start)<0&&(ue[ue.length-1].start=Ve.start,ue[ue.length-1].start_elem=ue[ue.length-1].elements.length),ot*(Ve.end-ue[ue.length-1].end)>0&&(ue[ue.length-1].end=Ve.end,ue[ue.length-1].end_elem=ue[ue.length-1].elements.length)}else ue.push({before:Ve.before,after:Ve.after,start:Ve.start,end:Ve.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});ue[ue.length-1].text+=X.textContent,ue[ue.length-1].elements.push({node:X,bgcolor:ut,before:Ve.before,after:Ve.after})}else"br"===X.localName&&0!==ue.length&&(ue[ue.length-1].br=!0);else for(var Qe=X.firstChild;Qe;)Qe.nodeType===Node.ELEMENT_NODE&&(D(k,Qe,ue,ut),"ruby"===Qe.localName||"rtc"===Qe.localName?ue.length>0&&ue[ue.length-1].rbc.push(Qe):"span"===Qe.localName&&Qe.style[fe]&&"none"!==Qe.style[fe]&&ue.length>0&&ue[ue.length-1].te.push(Qe)),Qe=Qe.nextSibling}}function h(k,X,ue,de){"none"!==de.style&&(X.style[fe]="auto"===de.style?"filled":de.style+" "+de.symbol,("before"===de.position||"after"===de.position)&&(X.style[Z]="tb"===k.bpd?"before"===de.position?"left over":"left under":"rl"===k.bpd?"before"===de.position?"right under":"left under":"before"===de.position?"left under":"right under"))}function y(k,X){this.qname=k,this.map=X}ve.render=function(k,X,ue,de,Pe,gt,_e,Ge,ut){var Ve=de||X.clientHeight,ke=Pe||X.clientWidth;if(null!==k.aspectRatio){var ot=Ve*k.aspectRatio;ot>ke?Ve=Math.round(ke/k.aspectRatio):ke=ot}var Qe=document.createElement("div");Qe.style.position="relative",Qe.style.width=ke+"px",Qe.style.height=Ve+"px",Qe.style.margin="auto",Qe.style.top=0,Qe.style.bottom=0,Qe.style.left=0,Qe.style.right=0,Qe.style.zIndex=0;var Rt={h:Ve,w:ke,regionH:null,regionW:null,imgResolver:ue,displayForcedOnlyMode:gt||!1,isd:k,errorHandler:_e,previousISDState:Ge,enableRollUp:ut||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(X.appendChild(Qe),"contents"in k)for(var xe=0;xe<k.contents.length;xe++)d(Rt,Qe,k.contents[xe],k);return Rt.currentISDState};for(var T=[new y("http://www.w3.org/ns/ttml#styling backgroundColor",function(k,X,ue,de){0!==de[3]&&(X.style.backgroundColor="rgba("+de[0].toString()+","+de[1].toString()+","+de[2].toString()+","+(de[3]/255).toString()+")")}),new y("http://www.w3.org/ns/ttml#styling color",function(k,X,ue,de){X.style.color="rgba("+de[0].toString()+","+de[1].toString()+","+de[2].toString()+","+(de[3]/255).toString()+")"}),new y("http://www.w3.org/ns/ttml#styling direction",function(k,X,ue,de){X.style.direction=de}),new y("http://www.w3.org/ns/ttml#styling display",function(k,X,ue,de){}),new y("http://www.w3.org/ns/ttml#styling displayAlign",function(k,X,ue,de){X.style.display="flex",X.style.flexDirection="column","before"===de?X.style.justifyContent="flex-start":"center"===de?X.style.justifyContent="center":"after"===de&&(X.style.justifyContent="flex-end")}),new y("http://www.w3.org/ns/ttml#styling extent",function(k,X,ue,de){k.regionH=de.h.toUsedLength(k.w,k.h),k.regionW=de.w.toUsedLength(k.w,k.h);var Pe=0,gt=0,_e=ue.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];_e&&(Pe=_e[0].toUsedLength(k.w,k.h)+_e[2].toUsedLength(k.w,k.h),gt=_e[1].toUsedLength(k.w,k.h)+_e[3].toUsedLength(k.w,k.h)),X.style.height=k.regionH-Pe+"px",X.style.width=k.regionW-gt+"px"}),new y("http://www.w3.org/ns/ttml#styling fontFamily",function(k,X,ue,de){for(var Pe=[],gt=0;gt<de.length;gt++)"monospaceSerif"===de[gt]?(Pe.push("Courier New"),Pe.push('"Liberation Mono"'),Pe.push("Courier"),Pe.push("monospace")):"proportionalSansSerif"===de[gt]?(Pe.push("Arial"),Pe.push("Helvetica"),Pe.push('"Liberation Sans"'),Pe.push("sans-serif")):"monospace"===de[gt]?Pe.push("monospace"):"sansSerif"===de[gt]?Pe.push("sans-serif"):"serif"===de[gt]?Pe.push("serif"):"monospaceSansSerif"===de[gt]?(Pe.push("Consolas"),Pe.push("monospace")):Pe.push("proportionalSerif"===de[gt]?"serif":de[gt]);if(Pe.length>0){for(var _e=[Pe[0]],Ge=1;Ge<Pe.length;Ge++)-1==_e.indexOf(Pe[Ge])&&_e.push(Pe[Ge]);Pe=_e}X.style.fontFamily=Pe.join(",")}),new y("http://www.w3.org/ns/ttml#styling shear",function(k,X,ue,de){if(0!==de){var Pe=-.9*de;X.style.transform="tb"===k.bpd?"skewX("+Pe+"deg)":"skewY("+Pe+"deg)"}}),new y("http://www.w3.org/ns/ttml#styling fontSize",function(k,X,ue,de){X.style.fontSize=de.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling fontStyle",function(k,X,ue,de){X.style.fontStyle=de}),new y("http://www.w3.org/ns/ttml#styling fontWeight",function(k,X,ue,de){X.style.fontWeight=de}),new y("http://www.w3.org/ns/ttml#styling lineHeight",function(k,X,ue,de){X.style.lineHeight="normal"===de?"normal":de.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling opacity",function(k,X,ue,de){X.style.opacity=de}),new y("http://www.w3.org/ns/ttml#styling origin",function(k,X,ue,de){X.style.top=de.h.toUsedLength(k.w,k.h)+"px",X.style.left=de.w.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling overflow",function(k,X,ue,de){X.style.overflow=de}),new y("http://www.w3.org/ns/ttml#styling padding",function(k,X,ue,de){var Pe=[];Pe[0]=de[0].toUsedLength(k.w,k.h)+"px",Pe[1]=de[3].toUsedLength(k.w,k.h)+"px",Pe[2]=de[2].toUsedLength(k.w,k.h)+"px",Pe[3]=de[1].toUsedLength(k.w,k.h)+"px",X.style.padding=Pe.join(" ")}),new y("http://www.w3.org/ns/ttml#styling position",function(k,X,ue,de){X.style.top=de.h.toUsedLength(k.w,k.h)+"px",X.style.left=de.w.toUsedLength(k.w,k.h)+"px"}),new y("http://www.w3.org/ns/ttml#styling rubyAlign",function(k,X,ue,de){X.style.rubyAlign="spaceAround"===de?"space-around":"center"}),new y("http://www.w3.org/ns/ttml#styling rubyPosition",function(k,X,ue,de){"before"!==de&&"after"!==de||(X.parentElement.style[$]=Y?de:"tb"===k.bpd||"rl"===k.bpd?"before"===de?"over":"under":"before"===de?"under":"over")}),new y("http://www.w3.org/ns/ttml#styling showBackground",null),new y("http://www.w3.org/ns/ttml#styling textAlign",function(k,X,ue,de){X.style.textAlign="start"===de?"rl"===k.ipd?"right":"left":"end"===de?"rl"===k.ipd?"left":"right":de}),new y("http://www.w3.org/ns/ttml#styling textDecoration",function(k,X,ue,de){X.style.textDecoration=de.join(" ").replace("lineThrough","line-through")}),new y("http://www.w3.org/ns/ttml#styling textOutline",function(k,X,ue,de){}),new y("http://www.w3.org/ns/ttml#styling textShadow",function(k,X,ue,de){var Pe=ue.styleAttrs[f.byName.textOutline.qname];if("none"===de&&"none"===Pe)X.style.textShadow="";else{var gt=[];if("none"!==Pe){var _e="rgba("+Pe.color[0].toString()+","+Pe.color[1].toString()+","+Pe.color[2].toString()+","+(Pe.color[3]/255).toString()+")";gt.push("1px 1px 1px "+_e),gt.push("-1px 1px 1px "+_e),gt.push("1px -1px 1px "+_e),gt.push("-1px -1px 1px "+_e)}if("none"!==de)for(var Ge=0;Ge<de.length;Ge++)gt.push(de[Ge].x_off.toUsedLength(k.w,k.h)+"px "+de[Ge].y_off.toUsedLength(k.w,k.h)+"px "+de[Ge].b_radius.toUsedLength(k.w,k.h)+"px rgba("+de[Ge].color[0].toString()+","+de[Ge].color[1].toString()+","+de[Ge].color[2].toString()+","+(de[Ge].color[3]/255).toString()+")");X.style.textShadow=gt.join(",")}}),new y("http://www.w3.org/ns/ttml#styling textCombine",function(k,X,ue,de){X.style.textCombineUpright=de}),new y("http://www.w3.org/ns/ttml#styling textEmphasis",function(k,X,ue,de){}),new y("http://www.w3.org/ns/ttml#styling unicodeBidi",function(k,X,ue,de){X.style.unicodeBidi="bidiOverride"===de?"bidi-override":de}),new y("http://www.w3.org/ns/ttml#styling visibility",function(k,X,ue,de){X.style.visibility=de}),new y("http://www.w3.org/ns/ttml#styling wrapOption",function(k,X,ue,de){X.style.whiteSpace="wrap"===de?"preserve"===ue.space?"pre-wrap":"normal":"preserve"===ue.space?"pre":"noWrap"}),new y("http://www.w3.org/ns/ttml#styling writingMode",function(k,X,ue,de){"lrtb"===de||"lr"===de||"rltb"===de||"rl"===de?X.style.writingMode="horizontal-tb":"tblr"===de?X.style.writingMode="vertical-lr":"tbrl"!==de&&"tb"!==de||(X.style.writingMode="vertical-rl")}),new y("http://www.w3.org/ns/ttml#styling zIndex",function(k,X,ue,de){X.style.zIndex=de}),new y("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(k,X,ue,de){k.displayForcedOnlyMode&&!1===de&&(X.style.visibility="hidden")})],j={},Q=0;Q<T.length;Q++)j[T[Q].qname]=T[Q];var Y="webkitRubyPosition"in window.getComputedStyle(document.documentElement),$=Y?"webkitRubyPosition":"rubyPosition",fe="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",Z="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(ze,typeof imscNames>"u"?H(210):imscNames,typeof imscStyles>"u"?H(6811):imscStyles,typeof imscUtils>"u"?H(5926):imscUtils)},4080:function(Et,ze,H){!function(ve,N,f,d){ve.generateISD=function(T,j,Q){var Y,$=new D(T),fe={},Z={},k=T.head.styling.initials[f.byName.showBackground.qname],X=T.head.styling.initials[f.byName.backgroundColor.qname];for(var ue in T.head.layout.regions)if(T.head.layout.regions.hasOwnProperty(ue)){var de=T.head.layout.regions[ue],Pe=de.styleAttrs[f.byName.showBackground.qname]||k;Z[de.id]=("always"===Pe||void 0===Pe)&&void 0!==(de.styleAttrs[f.byName.backgroundColor.qname]||X)&&!(j<de.begin||j>=de.end)}for(var _e in T.body&&T.body.regionID&&(Z[T.body.regionID]=!0),Y=null!==T.body?function ut(Ve,ke){if(ke.contents){var ot={};for(var Qe in ke)ke.hasOwnProperty(Qe)&&(ot[Qe]=ke[Qe]);return ot.contents=[],ke.contents.filter(function(Rt){return!(Ve<Rt.begin||Ve>=Rt.end)}).forEach(function(Rt){var xe=ut(Ve,Rt);xe.regionID&&(Z[xe.regionID]=!0),null!==xe&&ot.contents.push(xe)}),ot}return ke}(j,T.body):null,void 0!==Z[""]&&(Z[""]=!0),Z)if(Z[_e]){var Ge=A(T,j,T.head.layout.regions[_e],Y,null,"",T.head.layout.regions[_e],Q,fe);null!==Ge&&$.contents.push(Ge.element)}return $};var I=[f.byName.color.qname,f.byName.textCombine.qname,f.byName.textDecoration.qname,f.byName.textEmphasis.qname,f.byName.textOutline.qname,f.byName.textShadow.qname];function A(T,j,Q,Y,$,fe,Z,k,X){if(j<Z.begin||j>=Z.end)return null;var ue="regionID"in Z&&""!==Z.regionID?Z.regionID:fe;if(null!==$&&ue!==Q.id&&(!("contents"in Z)||"contents"in Z&&0===Z.contents.length||""!==ue))return null;var de=new h(Z);if("sets"in Z)for(var Pe=0;Pe<Z.sets.length;Pe++)j<Z.sets[Pe].begin||j>=Z.sets[Pe].end||(de.styleAttrs[Z.sets[Pe].qname]=Z.sets[Pe].value);var gt={};for(var _e in de.styleAttrs)if(de.styleAttrs.hasOwnProperty(_e)&&(gt[_e]=!0,"region"===de.kind&&_e===f.byName.writingMode.qname&&!(f.byName.direction.qname in de.styleAttrs))){var Ge=de.styleAttrs[_e];"lrtb"===Ge||"lr"===Ge?de.styleAttrs[f.byName.direction.qname]="ltr":"rltb"!==Ge&&"rl"!==Ge||(de.styleAttrs[f.byName.direction.qname]="rtl")}if(null!==$)for(var ut=0;ut<f.all.length;ut++){var Ve=f.all[ut];if(Ve.qname===f.byName.textDecoration.qname){var ke=$.styleAttrs[Ve.qname],ot=de.styleAttrs[Ve.qname],Qe=[];void 0===ot?Qe=ke:-1===ot.indexOf("none")?((-1===ot.indexOf("noUnderline")&&-1!==ke.indexOf("underline")||-1!==ot.indexOf("underline"))&&Qe.push("underline"),(-1===ot.indexOf("noLineThrough")&&-1!==ke.indexOf("lineThrough")||-1!==ot.indexOf("lineThrough"))&&Qe.push("lineThrough"),(-1===ot.indexOf("noOverline")&&-1!==ke.indexOf("overline")||-1!==ot.indexOf("overline"))&&Qe.push("overline")):Qe.push("none"),de.styleAttrs[Ve.qname]=Qe}else if(Ve.qname!==f.byName.fontSize.qname||Ve.qname in de.styleAttrs||"span"!==de.kind||"textContainer"!==de.styleAttrs[f.byName.ruby.qname])if(Ve.qname!==f.byName.fontSize.qname||Ve.qname in de.styleAttrs||"span"!==de.kind||"text"!==de.styleAttrs[f.byName.ruby.qname])Ve.inherit&&Ve.qname in $.styleAttrs&&!(Ve.qname in de.styleAttrs)&&(de.styleAttrs[Ve.qname]=$.styleAttrs[Ve.qname]);else{var Rt=$.styleAttrs[f.byName.fontSize.qname];de.styleAttrs[Ve.qname]="textContainer"===$.styleAttrs[f.byName.ruby.qname]?Rt:new d.ComputedLength(.5*Rt.rw,.5*Rt.rh)}else{var xe=$.styleAttrs[f.byName.fontSize.qname];de.styleAttrs[Ve.qname]=new d.ComputedLength(.5*xe.rw,.5*xe.rh)}}for(var et=0;et<f.all.length;et++){var jt=f.all[et];if(!(jt.qname in de.styleAttrs)&&!(jt.qname===f.byName.position.qname&&f.byName.origin.qname in de.styleAttrs||jt.qname===f.byName.origin.qname&&f.byName.position.qname in de.styleAttrs)){var Ct=T.head.styling.initials[jt.qname]||jt.initial;if(null!==Ct&&("region"===de.kind||!1===jt.inherit&&null!==Ct)){var Je=jt.parse(Ct);null!==Je?(de.styleAttrs[jt.qname]=Je,gt[jt.qname]=!0):y(k,"Invalid initial value for '"+jt.qname+"' on element '"+de.kind)}}}for(var yt=0;yt<f.all.length;yt++){var pe=f.all[yt];if(pe.qname in gt&&null!==pe.compute){var Ae=pe.compute(T,$,de,de.styleAttrs[pe.qname],X);null!==Ae?de.styleAttrs[pe.qname]=Ae:(de.styleAttrs[pe.qname]=pe.compute(T,$,de,pe.parse(pe.initial),X),y(k,"Style '"+pe.qname+"' on element '"+de.kind+"' cannot be computed"))}}if("none"===de.styleAttrs[f.byName.display.qname])return null;var at=null;null===$?at=null===Y?[]:[Y]:"contents"in Z&&(at=Z.contents);for(var E=0;null!==at&&E<at.length;E++){var g=A(T,j,Q,Y,de,ue,at[E],k,X);null!==g&&de.contents.push(g.element)}for(var R in de.styleAttrs)if(de.styleAttrs.hasOwnProperty(R)){var O=!1;if("span"===de.kind){var ae=de.styleAttrs[f.byName.ruby.qname];(O=("container"===ae||"textContainer"===ae||"baseContainer"===ae)&&-1!==I.indexOf(R))||(O="container"!==ae&&R===f.byName.rubyAlign.qname),O||(O=!("textContainer"===ae||"text"===ae)&&R===f.byName.rubyPosition.qname)}if(!O){var oe=f.byQName[R];"applies"in oe&&(O=-1===oe.applies.indexOf(de.kind))}O&&delete de.styleAttrs[R]}var De=de.styleAttrs[f.byName.ruby.qname];if("p"===de.kind||"span"===de.kind&&("textContainer"===De||"text"===De)){var We=[];v(de,We),function($e){for(var Fe,qe=0;qe<$e.length;)if("br"!==(Fe=$e[qe]).kind&&"preserve"!==Fe.space){var ht=Fe.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(ht)&&(0===qe||"br"===(Ce=$e[qe-1]).kind||/[\r\n\t ]$/.test(Ce.text))&&(ht=ht.substring(1)),Fe.text=ht,0===ht.length?$e.splice(qe,1):qe++}else qe++;var Ce,tt;for(qe=0;qe<$e.length;qe++)"br"!==(Fe=$e[qe]).kind&&"preserve"!==Fe.space?/[ ]$/.test(Fe.text)&&(qe===$e.length-1||"br"===(tt=$e[qe+1]).kind||"preserve"===tt.space&&/^[\r\n]/.test(tt.text))&&(Fe.text=Fe.text.slice(0,-1)):qe++}(We),S(de)}return"div"===de.kind&&f.byName.backgroundImage.qname in de.styleAttrs||"br"===de.kind||"image"===de.kind||"contents"in de&&de.contents.length>0||"span"===de.kind&&null!==de.text||"region"===de.kind&&"always"===de.styleAttrs[f.byName.showBackground.qname]?{region_id:ue,element:de}:null}function v(T,j){if("contents"in T)for(var Q=0;Q<T.contents.length;Q++){var Y=T.contents[Q],$=Y.styleAttrs[f.byName.ruby.qname];("span"!==Y.kind||"textContainer"!==$&&"text"!==$)&&("contents"in Y?v(Y,j):("span"===Y.kind&&0!==Y.text.length||"br"===Y.kind)&&j.push(Y))}}function S(T){if("br"===T.kind)return!1;if("text"in T)return 0===T.text.length;if("contents"in T){for(var j=T.contents.length;j--;)S(T.contents[j])&&T.contents.splice(j,1);return 0===T.contents.length}}function D(T){this.contents=[],this.aspectRatio=T.aspectRatio,this.lang=T.lang}function h(T){for(var j in this.kind=T.kind||"region",this.lang=T.lang,T.id&&(this.id=T.id),this.styleAttrs={},T.styleAttrs)T.styleAttrs.hasOwnProperty(j)&&(this.styleAttrs[j]=T.styleAttrs[j]);"src"in T&&(this.src=T.src),"type"in T&&(this.type=T.type),"text"in T?this.text=T.text:("region"===this.kind||"contents"in T)&&(this.contents=[]),"space"in T&&(this.space=T.space)}function y(T,j){if(T&&T.error&&T.error(j))throw j}}(ze,typeof imscNames>"u"?H(210):imscNames,typeof imscStyles>"u"?H(6811):imscStyles,typeof imscUtils>"u"?H(5926):imscUtils)},4403:function(Et,ze,H){ze.generateISD=H(4080).generateISD,ze.fromXML=H(3362).fromXML,ze.renderHTML=H(506).render},210:function(Et,ze){var H;(H=ze).ns_tt="http://www.w3.org/ns/ttml",H.ns_tts="http://www.w3.org/ns/ttml#styling",H.ns_ttp="http://www.w3.org/ns/ttml#parameter",H.ns_xml="http://www.w3.org/XML/1998/namespace",H.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",H.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",H.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",H.ns_ebutts="urn:ebu:tt:style"},6811:function(Et,ze,H){!function(ve,N,f){function d(v,S,D,h,y,T,j,Q){this.name=S,this.ns=v,this.qname=v+" "+S,this.inherit=y,this.animatable=T,this.initial=D,this.applies=h,this.parse=j,this.compute=Q}for(var I in ve.all=[new d(N.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,f.parseColor,null),new d(N.ns_tts,"color","white",["span"],!0,!0,f.parseColor,null),new d(N.ns_tts,"direction","ltr",["p","span"],!0,!0,function(v){return v},null),new d(N.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(v){return v},null),new d(N.ns_tts,"displayAlign","before",["region"],!1,!0,function(v){return v},null),new d(N.ns_tts,"extent","auto",["tt","region"],!1,!0,function(v){if("auto"===v)return v;var S=v.split(" ");if(2!==S.length)return null;var D=f.parseLength(S[0]),h=f.parseLength(S[1]);return h&&D?{h,w:D}:null},function(v,S,D,h,y){var T,j;if("auto"===h)T=new f.ComputedLength(0,1);else if(null===(T=f.toComputedLength(h.h.value,h.h.unit,null,v.dimensions.h,null,v.pxLength.h)))return null;if("auto"===h)j=new f.ComputedLength(1,0);else if(null===(j=f.toComputedLength(h.w.value,h.w.unit,null,v.dimensions.w,null,v.pxLength.w)))return null;return{h:T,w:j}}),new d(N.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(v){for(var S=v.split(","),D=[],h=0;h<S.length;h++)"'"!==S[h].charAt(0)&&'"'!==S[h].charAt(0)&&"default"===S[h]?D.push("monospaceSerif"):D.push(S[h]);return D},null),new d(N.ns_tts,"shear","0%",["p"],!0,!0,f.parseLength,function(v,S,D,h){return"%"!==h.unit?null:Math.abs(h.value)>100?100*Math.sign(h.value):h.value}),new d(N.ns_tts,"fontSize","1c",["span","p"],!0,!0,f.parseLength,function(v,S,D,h,y){return f.toComputedLength(h.value,h.unit,null!==S?S.styleAttrs[ve.byName.fontSize.qname]:v.cellLength.h,null!==S?S.styleAttrs[ve.byName.fontSize.qname]:v.cellLength.h,v.cellLength.h,v.pxLength.h)}),new d(N.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(v){return v},null),new d(N.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(v){return v},null),new d(N.ns_tts,"lineHeight","normal",["p"],!0,!0,function(v){return"normal"===v?v:f.parseLength(v)},function(v,S,D,h,y){var T;if("normal"===h)T=h;else if(null===(T=f.toComputedLength(h.value,h.unit,D.styleAttrs[ve.byName.fontSize.qname],D.styleAttrs[ve.byName.fontSize.qname],v.cellLength.h,v.pxLength.h)))return null;return T}),new d(N.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new d(N.ns_tts,"origin","auto",["region"],!1,!0,function(v){if("auto"===v)return v;var S=v.split(" ");if(2!==S.length)return null;var D=f.parseLength(S[0]),h=f.parseLength(S[1]);return h&&D?{h,w:D}:null},function(v,S,D,h,y){var T,j;if("auto"===h)T=new f.ComputedLength(0,0);else if(null===(T=f.toComputedLength(h.h.value,h.h.unit,null,v.dimensions.h,null,v.pxLength.h)))return null;if("auto"===h)j=new f.ComputedLength(0,0);else if(null===(j=f.toComputedLength(h.w.value,h.w.unit,null,v.dimensions.w,null,v.pxLength.w)))return null;return{h:T,w:j}}),new d(N.ns_tts,"overflow","hidden",["region"],!1,!0,function(v){return v},null),new d(N.ns_tts,"padding","0px",["region"],!1,!0,function(v){var S=v.split(" ");if(S.length>4)return null;for(var D=[],h=0;h<S.length;h++){var y=f.parseLength(S[h]);if(!y)return null;D.push(y)}return D},function(v,S,D,h,y){var T;if(1===h.length)T=[h[0],h[0],h[0],h[0]];else if(2===h.length)T=[h[0],h[1],h[0],h[1]];else if(3===h.length)T=[h[0],h[1],h[2],h[1]];else{if(4!==h.length)return null;T=[h[0],h[1],h[2],h[3]]}var j=D.styleAttrs[ve.byName.writingMode.qname];if("lrtb"===j||"lr"===j)T=[T[0],T[3],T[2],T[1]];else if("rltb"===j||"rl"===j)T=[T[0],T[1],T[2],T[3]];else if("tblr"===j)T=[T[3],T[0],T[1],T[2]];else{if("tbrl"!==j&&"tb"!==j)return null;T=[T[3],T[2],T[1],T[0]]}for(var Q=[],Y=0;Y<T.length;Y++)if(0===T[Y].value)Q[Y]=new f.ComputedLength(0,0);else if(Q[Y]=f.toComputedLength(T[Y].value,T[Y].unit,D.styleAttrs[ve.byName.fontSize.qname],0===Y||2===Y?D.styleAttrs[ve.byName.extent.qname].h:D.styleAttrs[ve.byName.extent.qname].w,0===Y||2===Y?v.cellLength.h:v.cellLength.w,0===Y||2===Y?v.pxLength.h:v.pxLength.w),null===Q[Y])return null;return Q}),new d(N.ns_tts,"position","top left",["region"],!1,!0,function(v){return f.parsePosition(v)},function(v,S,D,h){var y,T;return null===(y=f.toComputedLength(h.v.offset.value,h.v.offset.unit,null,new f.ComputedLength(-D.styleAttrs[ve.byName.extent.qname].h.rw,v.dimensions.h.rh-D.styleAttrs[ve.byName.extent.qname].h.rh),null,v.pxLength.h))?null:("bottom"===h.v.edge&&(y=new f.ComputedLength(-y.rw-D.styleAttrs[ve.byName.extent.qname].h.rw,v.dimensions.h.rh-y.rh-D.styleAttrs[ve.byName.extent.qname].h.rh)),T=f.toComputedLength(h.h.offset.value,h.h.offset.unit,null,new f.ComputedLength(v.dimensions.w.rw-D.styleAttrs[ve.byName.extent.qname].w.rw,-D.styleAttrs[ve.byName.extent.qname].w.rh),null,v.pxLength.w),null===y?null:("right"===h.h.edge&&(T=new f.ComputedLength(v.dimensions.w.rw-T.rw-D.styleAttrs[ve.byName.extent.qname].w.rw,-T.rh-D.styleAttrs[ve.byName.extent.qname].w.rh)),{h:y,w:T}))}),new d(N.ns_tts,"ruby","none",["span"],!1,!0,function(v){return v},null),new d(N.ns_tts,"rubyAlign","center",["span"],!0,!0,function(v){return"center"!==v&&"spaceAround"!==v?null:v},null),new d(N.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(v){return v},null),new d(N.ns_tts,"rubyReserve","none",["p"],!0,!0,function(v){var S=v.split(" "),D=[null,null];if(0===S.length||S.length>2||"none"!==S[0]&&"both"!==S[0]&&"after"!==S[0]&&"before"!==S[0]&&"outside"!==S[0])return null;if(D[0]=S[0],2===S.length&&"none"!==S[0]){var h=f.parseLength(S[1]);if(!h)return null;D[1]=h}return D},function(v,S,D,h,y){return"none"===h[0]?h:null===(T=null===h[1]?new f.ComputedLength(.5*D.styleAttrs[ve.byName.fontSize.qname].rw,.5*D.styleAttrs[ve.byName.fontSize.qname].rh):f.toComputedLength(h[1].value,h[1].unit,D.styleAttrs[ve.byName.fontSize.qname],D.styleAttrs[ve.byName.fontSize.qname],v.cellLength.h,v.pxLength.h))?null:[h[0],T];var T}),new d(N.ns_tts,"showBackground","always",["region"],!1,!0,function(v){return v},null),new d(N.ns_tts,"textAlign","start",["p"],!0,!0,function(v){return v},function(v,S,D,h,y){return"left"===h?"start":"right"===h?"end":h}),new d(N.ns_tts,"textCombine","none",["span"],!0,!0,function(v){return"none"===v||"all"===v?v:null},null),new d(N.ns_tts,"textDecoration","none",["span"],!0,!0,function(v){return v.split(" ")},null),new d(N.ns_tts,"textEmphasis","none",["span"],!0,!0,function(v){for(var S=v.split(" "),D={style:null,symbol:null,color:null,position:null},h=0;h<S.length;h++)if("none"===S[h]||"auto"===S[h])D.style=S[h];else if("filled"===S[h]||"open"===S[h])D.style=S[h];else if("circle"===S[h]||"dot"===S[h]||"sesame"===S[h])D.symbol=S[h];else if("current"===S[h])D.color=S[h];else if("outside"===S[h]||"before"===S[h]||"after"===S[h])D.position=S[h];else if(D.color=f.parseColor(S[h]),null===D.color)return null;return null==D.style&&null==D.symbol?D.style="auto":(D.symbol=D.symbol||"circle",D.style=D.style||"filled"),D.position=D.position||"outside",D.color=D.color||"current",D},null),new d(N.ns_tts,"textOutline","none",["span"],!0,!0,function(v){if("none"===v)return v;var S={},D=v.split(" ");if(0===D.length||D.length>2)return null;var h=f.parseColor(D[0]);if(S.color=h,null!==h&&D.shift(),1!==D.length)return null;var y=f.parseLength(D[0]);return y?(S.thickness=y,S):null},function(v,S,D,h,y){if("none"===h)return h;var T={};return T.color=null===h.color?D.styleAttrs[ve.byName.color.qname]:h.color,T.thickness=f.toComputedLength(h.thickness.value,h.thickness.unit,D.styleAttrs[ve.byName.fontSize.qname],D.styleAttrs[ve.byName.fontSize.qname],v.cellLength.h,v.pxLength.h),null===T.thickness?null:T}),new d(N.ns_tts,"textShadow","none",["span"],!0,!0,f.parseTextShadow,function(v,S,D,h){if("none"===h)return h;for(var y=[],T=0;T<h.length;T++){var j={};if(j.x_off=f.toComputedLength(h[T][0].value,h[T][0].unit,null,D.styleAttrs[ve.byName.fontSize.qname],null,v.pxLength.w),null===j.x_off||(j.y_off=f.toComputedLength(h[T][1].value,h[T][1].unit,null,D.styleAttrs[ve.byName.fontSize.qname],null,v.pxLength.h),null===j.y_off))return null;if(null===h[T][2])j.b_radius=0;else if(j.b_radius=f.toComputedLength(h[T][2].value,h[T][2].unit,null,D.styleAttrs[ve.byName.fontSize.qname],null,v.pxLength.h),null===j.b_radius)return null;j.color=null===h[T][3]?D.styleAttrs[ve.byName.color.qname]:h[T][3],y.push(j)}return y}),new d(N.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(v){return v},null),new d(N.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(v){return v},null),new d(N.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(v){return v},null),new d(N.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(v){return v},null),new d(N.ns_tts,"zIndex","auto",["region"],!1,!0,function(v){var S;return"auto"===v?S=v:(S=parseInt(v),isNaN(S)&&(S=null)),S},null),new d(N.ns_ebutts,"linePadding","0c",["p"],!0,!1,f.parseLength,function(v,S,D,h,y){return f.toComputedLength(h.value,h.unit,null,null,v.cellLength.w,null)}),new d(N.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(v){return v},null),new d(N.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(v){return v},null),new d(N.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(v){return"true"===v},null),new d(N.ns_itts,"fillLineGap","false",["p"],!0,!0,function(v){return"true"===v},null)],ve.byQName={},ve.all)ve.byQName[ve.all[I].qname]=ve.all[I];for(var A in ve.byName={},ve.all)ve.byName[ve.all[A].name]=ve.all[A]}(ze,typeof imscNames>"u"?H(210):imscNames,typeof imscUtils>"u"?H(5926):imscUtils)},5926:function(Et,ze){!function(H){var ve=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,N=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,f=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,d={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};H.parseColor=function(A){var v,S=null,D=d[A.toLowerCase()];return void 0!==D?S=D:null!==(v=ve.exec(A))?S=[parseInt(v[1],16),parseInt(v[2],16),parseInt(v[3],16),void 0!==v[4]?parseInt(v[4],16):255]:null!==(v=N.exec(A))?S=[parseInt(v[1]),parseInt(v[2]),parseInt(v[3]),255]:null!==(v=f.exec(A))&&(S=[parseInt(v[1]),parseInt(v[2]),parseInt(v[3]),parseInt(v[4])]),S};var I=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;H.parseLength=function(A){var v,S=null;return null!==(v=I.exec(A))&&(S={value:parseFloat(v[1]),unit:v[2]}),S},H.parseTextShadow=function(A){for(var v=A.match(/([^\(,\)]|\([^\)]+\))+/g),S=[],D=0;D<v.length;D++){var h=v[D].split(" ");if(1===h.length&&"none"===h[0])return"none";if(h.length>1&&h.length<5){var y=[null,null,null,null],T=H.parseLength(h.shift());if(null===T||(y[0]=T,null===(T=H.parseLength(h.shift()))))return null;if(y[1]=T,0===h.length){S.push(y);continue}if(null!==(T=H.parseLength(h[0]))&&(y[2]=T,h.shift()),0===h.length){S.push(y);continue}var j=H.parseColor(h[0]);if(null===j)return null;y[3]=j,S.push(y)}}return S},H.parsePosition=function(A){var v=A.split(" "),S=function(Y){return"center"===Y||"left"===Y||"top"===Y||"bottom"===Y||"right"===Y};if(v.length>4)return null;for(var D=0;D<v.length;D++)if(!S(v[D])){var h=H.parseLength(v[D]);if(null===h)return null;v[D]=h}for(var y={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},T=0;T<v.length;){var j=v[T++];if(S(j)){var Q={value:0,unit:"%"};2!==v.length&&T<v.length&&!S(v[T])&&(Q=v[T++]),"right"===j?(y.h.edge=j,y.h.offset=Q):"bottom"===j?(y.v.edge=j,y.v.offset=Q):"left"===j?y.h.offset=Q:"top"===j&&(y.v.offset=Q)}else{if(1!==v.length&&2!==v.length)return null;1===T?y.h.offset=j:y.v.offset=j}}return y},H.ComputedLength=function(A,v){this.rw=A,this.rh=v},H.ComputedLength.prototype.toUsedLength=function(A,v){return A*this.rw+v*this.rh},H.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},H.toComputedLength=function(A,v,S,D,h,y){return"%"===v&&D?new H.ComputedLength(D.rw*A/100,D.rh*A/100):"em"===v&&S?new H.ComputedLength(S.rw*A,S.rh*A):"c"===v&&h?new H.ComputedLength(A*h.rw,A*h.rh):"px"===v&&y?new H.ComputedLength(A*y.rw,A*y.rh):"rh"===v?new H.ComputedLength(0,A/100):"rw"===v?new H.ComputedLength(A/100,0):null}}(ze)},3516:function(Et){"use strict";Et.exports=function(ze){var H="string"==typeof ze?ze.charCodeAt(0):ze;return H>=97&&H<=122||H>=65&&H<=90}},2219:function(Et,ze,H){"use strict";var ve=H(3516),N=H(395);Et.exports=function(f){return ve(f)||N(f)}},395:function(Et){"use strict";Et.exports=function(ze){var H="string"==typeof ze?ze.charCodeAt(0):ze;return H>=48&&H<=57}},3875:function(Et){"use strict";function ze(N){if("string"!=typeof N)throw new TypeError("Path must be a string. Received "+JSON.stringify(N))}function H(N,f){for(var d,I="",A=0,v=-1,S=0,D=0;D<=N.length;++D){if(D<N.length)d=N.charCodeAt(D);else{if(47===d)break;d=47}if(47===d){if(v!==D-1&&1!==S)if(v!==D-1&&2===S){if(I.length<2||2!==A||46!==I.charCodeAt(I.length-1)||46!==I.charCodeAt(I.length-2))if(I.length>2){var h=I.lastIndexOf("/");if(h!==I.length-1){-1===h?(I="",A=0):A=(I=I.slice(0,h)).length-1-I.lastIndexOf("/"),v=D,S=0;continue}}else if(2===I.length||1===I.length){I="",A=0,v=D,S=0;continue}f&&(I.length>0?I+="/..":I="..",A=2)}else I.length>0?I+="/"+N.slice(v+1,D):I=N.slice(v+1,D),A=D-v-1;v=D,S=0}else 46===d&&-1!==S?++S:S=-1}return I}var ve={resolve:function(){for(var N,f="",d=!1,I=arguments.length-1;I>=-1&&!d;I--){var A;I>=0?A=arguments[I]:(void 0===N&&(N=process.cwd()),A=N),ze(A),0!==A.length&&(f=A+"/"+f,d=47===A.charCodeAt(0))}return f=H(f,!d),d?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(N){if(ze(N),0===N.length)return".";var f=47===N.charCodeAt(0),d=47===N.charCodeAt(N.length-1);return 0!==(N=H(N,!f)).length||f||(N="."),N.length>0&&d&&(N+="/"),f?"/"+N:N},isAbsolute:function(N){return ze(N),N.length>0&&47===N.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var N,f=0;f<arguments.length;++f){var d=arguments[f];ze(d),d.length>0&&(void 0===N?N=d:N+="/"+d)}return void 0===N?".":ve.normalize(N)},relative:function(N,f){if(ze(N),ze(f),N===f||(N=ve.resolve(N))===(f=ve.resolve(f)))return"";for(var d=1;d<N.length&&47===N.charCodeAt(d);++d);for(var I=N.length,A=I-d,v=1;v<f.length&&47===f.charCodeAt(v);++v);for(var S=f.length-v,D=A<S?A:S,h=-1,y=0;y<=D;++y){if(y===D){if(S>D){if(47===f.charCodeAt(v+y))return f.slice(v+y+1);if(0===y)return f.slice(v+y)}else A>D&&(47===N.charCodeAt(d+y)?h=y:0===y&&(h=0));break}var T=N.charCodeAt(d+y);if(T!==f.charCodeAt(v+y))break;47===T&&(h=y)}var j="";for(y=d+h+1;y<=I;++y)y!==I&&47!==N.charCodeAt(y)||(j+=0===j.length?"..":"/..");return j.length>0?j+f.slice(v+h):(47===f.charCodeAt(v+=h)&&++v,f.slice(v))},_makeLong:function(N){return N},dirname:function(N){if(ze(N),0===N.length)return".";for(var f=N.charCodeAt(0),d=47===f,I=-1,A=!0,v=N.length-1;v>=1;--v)if(47===(f=N.charCodeAt(v))){if(!A){I=v;break}}else A=!1;return-1===I?d?"/":".":d&&1===I?"//":N.slice(0,I)},basename:function(N,f){if(void 0!==f&&"string"!=typeof f)throw new TypeError('"ext" argument must be a string');ze(N);var d,I=0,A=-1,v=!0;if(void 0!==f&&f.length>0&&f.length<=N.length){if(f.length===N.length&&f===N)return"";var S=f.length-1,D=-1;for(d=N.length-1;d>=0;--d){var h=N.charCodeAt(d);if(47===h){if(!v){I=d+1;break}}else-1===D&&(v=!1,D=d+1),S>=0&&(h===f.charCodeAt(S)?-1==--S&&(A=d):(S=-1,A=D))}return I===A?A=D:-1===A&&(A=N.length),N.slice(I,A)}for(d=N.length-1;d>=0;--d)if(47===N.charCodeAt(d)){if(!v){I=d+1;break}}else-1===A&&(v=!1,A=d+1);return-1===A?"":N.slice(I,A)},extname:function(N){ze(N);for(var f=-1,d=0,I=-1,A=!0,v=0,S=N.length-1;S>=0;--S){var D=N.charCodeAt(S);if(47!==D)-1===I&&(A=!1,I=S+1),46===D?-1===f?f=S:1!==v&&(v=1):-1!==f&&(v=-1);else if(!A){d=S+1;break}}return-1===f||-1===I||0===v||1===v&&f===I-1&&f===d+1?"":N.slice(f,I)},format:function(N){if(null===N||"object"!=typeof N)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof N);return A=(d=N).base||(d.name||"")+(d.ext||""),(I=d.dir||d.root)?I===d.root?I+A:I+"/"+A:A;var d,I,A},parse:function(N){ze(N);var f={root:"",dir:"",base:"",ext:"",name:""};if(0===N.length)return f;var d,I=N.charCodeAt(0),A=47===I;A?(f.root="/",d=1):d=0;for(var v=-1,S=0,D=-1,h=!0,y=N.length-1,T=0;y>=d;--y)if(47!==(I=N.charCodeAt(y)))-1===D&&(h=!1,D=y+1),46===I?-1===v?v=y:1!==T&&(T=1):-1!==v&&(T=-1);else if(!h){S=y+1;break}return-1===v||-1===D||0===T||1===T&&v===D-1&&v===S+1?-1!==D&&(f.base=f.name=N.slice(0===S&&A?1:S,D)):(0===S&&A?(f.name=N.slice(1,v),f.base=N.slice(1,D)):(f.name=N.slice(S,v),f.base=N.slice(S,D)),f.ext=N.slice(v,D)),S>0?f.dir=N.slice(0,S-1):A&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};ve.posix=ve,Et.exports=ve},8387:function(Et,ze,H){var ve=H(1549),N=ve.Buffer;function f(I,A){for(var v in I)A[v]=I[v]}function d(I,A,v){return N(I,A,v)}N.from&&N.alloc&&N.allocUnsafe&&N.allocUnsafeSlow?Et.exports=ve:(f(ve,ze),ze.Buffer=d),f(N,d),d.from=function(I,A,v){if("number"==typeof I)throw new TypeError("Argument must not be a number");return N(I,A,v)},d.alloc=function(I,A,v){if("number"!=typeof I)throw new TypeError("Argument must be a number");var S=N(I);return void 0!==A?"string"==typeof v?S.fill(A,v):S.fill(A):S.fill(0),S},d.allocUnsafe=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return N(I)},d.allocUnsafeSlow=function(I){if("number"!=typeof I)throw new TypeError("Argument must be a number");return ve.SlowBuffer(I)}},5378:function(Et,ze,H){!function(ve){ve.parser=function(E,g){return new d(E,g)},ve.SAXParser=d,ve.SAXStream=A,ve.createStream=function(E,g){return new A(E,g)},ve.MAX_BUFFER_LENGTH=65536;var N,f=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function d(E,g){if(!(this instanceof d))return new d(E,g);var R=this;(function(O){for(var ae=0,oe=f.length;ae<oe;ae++)O[f[ae]]=""})(R),R.q=R.c="",R.bufferCheckPosition=ve.MAX_BUFFER_LENGTH,R.opt=g||{},R.opt.lowercase=R.opt.lowercase||R.opt.lowercasetags,R.looseCase=R.opt.lowercase?"toLowerCase":"toUpperCase",R.tags=[],R.closed=R.closedRoot=R.sawRoot=!1,R.tag=R.error=null,R.strict=!!E,R.noscript=!(!E&&!R.opt.noscript),R.state=_e.BEGIN,R.strictEntities=R.opt.strictEntities,R.ENTITIES=Object.create(R.strictEntities?ve.XML_ENTITIES:ve.ENTITIES),R.attribList=[],R.opt.xmlns&&(R.ns=Object.create(Q)),R.trackPosition=!1!==R.opt.position,R.trackPosition&&(R.position=R.line=R.column=0),ut(R,"onready")}ve.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(E){function g(){}return g.prototype=E,new g}),Object.keys||(Object.keys=function(E){var g=[];for(var R in E)E.hasOwnProperty(R)&&g.push(R);return g}),d.prototype={end:function(){Rt(this)},write:function(E){var g=this;if(this.error)throw this.error;if(g.closed)return Qe(g,"Cannot write after close. Assign an onready handler.");if(null===E)return Rt(g);"object"==typeof E&&(E=E.toString());for(var R=0,O="";O=at(E,R++),g.c=O,O;)switch(g.trackPosition&&(g.position++,"\n"===O?(g.line++,g.column=0):g.column++),g.state){case _e.BEGIN:if(g.state=_e.BEGIN_WHITESPACE,"\ufeff"===O)continue;Ae(g,O);continue;case _e.BEGIN_WHITESPACE:Ae(g,O);continue;case _e.TEXT:if(g.sawRoot&&!g.closedRoot){for(var ae=R-1;O&&"<"!==O&&"&"!==O;)(O=at(E,R++))&&g.trackPosition&&(g.position++,"\n"===O?(g.line++,g.column=0):g.column++);g.textNode+=E.substring(ae,R-1)}"<"!==O||g.sawRoot&&g.closedRoot&&!g.strict?(!ue(v,O)||g.sawRoot&&!g.closedRoot||xe(g,"Text data outside of root node."),"&"===O?g.state=_e.TEXT_ENTITY:g.textNode+=O):(g.state=_e.OPEN_WAKA,g.startTagPosition=g.position);continue;case _e.SCRIPT:"<"===O?g.state=_e.SCRIPT_ENDING:g.script+=O;continue;case _e.SCRIPT_ENDING:"/"===O?g.state=_e.CLOSE_TAG:(g.script+="<"+O,g.state=_e.SCRIPT);continue;case _e.OPEN_WAKA:"!"===O?(g.state=_e.SGML_DECL,g.sgmlDecl=""):X(v,O)||(X(Y,O)?(g.state=_e.OPEN_TAG,g.tagName=O):"/"===O?(g.state=_e.CLOSE_TAG,g.tagName=""):"?"===O?(g.state=_e.PROC_INST,g.procInstName=g.procInstBody=""):(xe(g,"Unencoded <"),g.startTagPosition+1<g.position&&(O=new Array(g.position-g.startTagPosition).join(" ")+O),g.textNode+="<"+O,g.state=_e.TEXT));continue;case _e.SGML_DECL:"[CDATA["===(g.sgmlDecl+O).toUpperCase()?(Ve(g,"onopencdata"),g.state=_e.CDATA,g.sgmlDecl="",g.cdata=""):g.sgmlDecl+O==="--"?(g.state=_e.COMMENT,g.comment="",g.sgmlDecl=""):"DOCTYPE"===(g.sgmlDecl+O).toUpperCase()?(g.state=_e.DOCTYPE,(g.doctype||g.sawRoot)&&xe(g,"Inappropriately located doctype declaration"),g.doctype="",g.sgmlDecl=""):">"===O?(Ve(g,"onsgmldeclaration",g.sgmlDecl),g.sgmlDecl="",g.state=_e.TEXT):(X(h,O)&&(g.state=_e.SGML_DECL_QUOTED),g.sgmlDecl+=O);continue;case _e.SGML_DECL_QUOTED:O===g.q&&(g.state=_e.SGML_DECL,g.q=""),g.sgmlDecl+=O;continue;case _e.DOCTYPE:">"===O?(g.state=_e.TEXT,Ve(g,"ondoctype",g.doctype),g.doctype=!0):(g.doctype+=O,"["===O?g.state=_e.DOCTYPE_DTD:X(h,O)&&(g.state=_e.DOCTYPE_QUOTED,g.q=O));continue;case _e.DOCTYPE_QUOTED:g.doctype+=O,O===g.q&&(g.q="",g.state=_e.DOCTYPE);continue;case _e.DOCTYPE_DTD:g.doctype+=O,"]"===O?g.state=_e.DOCTYPE:X(h,O)&&(g.state=_e.DOCTYPE_DTD_QUOTED,g.q=O);continue;case _e.DOCTYPE_DTD_QUOTED:g.doctype+=O,O===g.q&&(g.state=_e.DOCTYPE_DTD,g.q="");continue;case _e.COMMENT:"-"===O?g.state=_e.COMMENT_ENDING:g.comment+=O;continue;case _e.COMMENT_ENDING:"-"===O?(g.state=_e.COMMENT_ENDED,g.comment=ot(g.opt,g.comment),g.comment&&Ve(g,"oncomment",g.comment),g.comment=""):(g.comment+="-"+O,g.state=_e.COMMENT);continue;case _e.COMMENT_ENDED:">"!==O?(xe(g,"Malformed comment"),g.comment+="--"+O,g.state=_e.COMMENT):g.state=_e.TEXT;continue;case _e.CDATA:"]"===O?g.state=_e.CDATA_ENDING:g.cdata+=O;continue;case _e.CDATA_ENDING:"]"===O?g.state=_e.CDATA_ENDING_2:(g.cdata+="]"+O,g.state=_e.CDATA);continue;case _e.CDATA_ENDING_2:">"===O?(g.cdata&&Ve(g,"oncdata",g.cdata),Ve(g,"onclosecdata"),g.cdata="",g.state=_e.TEXT):"]"===O?g.cdata+="]":(g.cdata+="]]"+O,g.state=_e.CDATA);continue;case _e.PROC_INST:"?"===O?g.state=_e.PROC_INST_ENDING:X(v,O)?g.state=_e.PROC_INST_BODY:g.procInstName+=O;continue;case _e.PROC_INST_BODY:if(!g.procInstBody&&X(v,O))continue;"?"===O?g.state=_e.PROC_INST_ENDING:g.procInstBody+=O;continue;case _e.PROC_INST_ENDING:">"===O?(Ve(g,"onprocessinginstruction",{name:g.procInstName,body:g.procInstBody}),g.procInstName=g.procInstBody="",g.state=_e.TEXT):(g.procInstBody+="?"+O,g.state=_e.PROC_INST_BODY);continue;case _e.OPEN_TAG:X($,O)?g.tagName+=O:(et(g),">"===O?Je(g):"/"===O?g.state=_e.OPEN_TAG_SLASH:(ue(v,O)&&xe(g,"Invalid character in tag name"),g.state=_e.ATTRIB));continue;case _e.OPEN_TAG_SLASH:">"===O?(Je(g,!0),yt(g)):(xe(g,"Forward-slash in opening tag not followed by >"),g.state=_e.ATTRIB);continue;case _e.ATTRIB:if(X(v,O))continue;">"===O?Je(g):"/"===O?g.state=_e.OPEN_TAG_SLASH:X(Y,O)?(g.attribName=O,g.attribValue="",g.state=_e.ATTRIB_NAME):xe(g,"Invalid attribute name");continue;case _e.ATTRIB_NAME:"="===O?g.state=_e.ATTRIB_VALUE:">"===O?(xe(g,"Attribute without value"),g.attribValue=g.attribName,Ct(g),Je(g)):X(v,O)?g.state=_e.ATTRIB_NAME_SAW_WHITE:X($,O)?g.attribName+=O:xe(g,"Invalid attribute name");continue;case _e.ATTRIB_NAME_SAW_WHITE:if("="===O)g.state=_e.ATTRIB_VALUE;else{if(X(v,O))continue;xe(g,"Attribute without value"),g.tag.attributes[g.attribName]="",g.attribValue="",Ve(g,"onattribute",{name:g.attribName,value:""}),g.attribName="",">"===O?Je(g):X(Y,O)?(g.attribName=O,g.state=_e.ATTRIB_NAME):(xe(g,"Invalid attribute name"),g.state=_e.ATTRIB)}continue;case _e.ATTRIB_VALUE:if(X(v,O))continue;X(h,O)?(g.q=O,g.state=_e.ATTRIB_VALUE_QUOTED):(xe(g,"Unquoted attribute value"),g.state=_e.ATTRIB_VALUE_UNQUOTED,g.attribValue=O);continue;case _e.ATTRIB_VALUE_QUOTED:if(O!==g.q){"&"===O?g.state=_e.ATTRIB_VALUE_ENTITY_Q:g.attribValue+=O;continue}Ct(g),g.q="",g.state=_e.ATTRIB_VALUE_CLOSED;continue;case _e.ATTRIB_VALUE_CLOSED:X(v,O)?g.state=_e.ATTRIB:">"===O?Je(g):"/"===O?g.state=_e.OPEN_TAG_SLASH:X(Y,O)?(xe(g,"No whitespace between attributes"),g.attribName=O,g.attribValue="",g.state=_e.ATTRIB_NAME):xe(g,"Invalid attribute name");continue;case _e.ATTRIB_VALUE_UNQUOTED:if(ue(y,O)){"&"===O?g.state=_e.ATTRIB_VALUE_ENTITY_U:g.attribValue+=O;continue}Ct(g),">"===O?Je(g):g.state=_e.ATTRIB;continue;case _e.CLOSE_TAG:if(g.tagName)">"===O?yt(g):X($,O)?g.tagName+=O:g.script?(g.script+="</"+g.tagName,g.tagName="",g.state=_e.SCRIPT):(ue(v,O)&&xe(g,"Invalid tagname in closing tag"),g.state=_e.CLOSE_TAG_SAW_WHITE);else{if(X(v,O))continue;ue(Y,O)?g.script?(g.script+="</"+O,g.state=_e.SCRIPT):xe(g,"Invalid tagname in closing tag."):g.tagName=O}continue;case _e.CLOSE_TAG_SAW_WHITE:if(X(v,O))continue;">"===O?yt(g):xe(g,"Invalid characters in closing tag");continue;case _e.TEXT_ENTITY:case _e.ATTRIB_VALUE_ENTITY_Q:case _e.ATTRIB_VALUE_ENTITY_U:var De,We;switch(g.state){case _e.TEXT_ENTITY:De=_e.TEXT,We="textNode";break;case _e.ATTRIB_VALUE_ENTITY_Q:De=_e.ATTRIB_VALUE_QUOTED,We="attribValue";break;case _e.ATTRIB_VALUE_ENTITY_U:De=_e.ATTRIB_VALUE_UNQUOTED,We="attribValue"}";"===O?(g[We]+=pe(g),g.entity="",g.state=De):X(g.entity.length?Z:fe,O)?g.entity+=O:(xe(g,"Invalid character in entity name"),g[We]+="&"+g.entity+O,g.entity="",g.state=De);continue;default:throw new Error(g,"Unknown state: "+g.state)}return g.position>=g.bufferCheckPosition&&function($e){for(var Fe=Math.max(ve.MAX_BUFFER_LENGTH,10),qe=0,ht=0,Ce=f.length;ht<Ce;ht++){var tt=$e[f[ht]].length;if(tt>Fe)switch(f[ht]){case"textNode":ke($e);break;case"cdata":Ve($e,"oncdata",$e.cdata),$e.cdata="";break;case"script":Ve($e,"onscript",$e.script),$e.script="";break;default:Qe($e,"Max buffer length exceeded: "+f[ht])}qe=Math.max(qe,tt)}$e.bufferCheckPosition=ve.MAX_BUFFER_LENGTH-qe+$e.position}(g),g},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var E;ke(E=this),""!==E.cdata&&(Ve(E,"oncdata",E.cdata),E.cdata=""),""!==E.script&&(Ve(E,"onscript",E.script),E.script="")}};try{N=H(182).Stream}catch{N=function(){}}var I=ve.EVENTS.filter(function(E){return"error"!==E&&"end"!==E});function A(E,g){if(!(this instanceof A))return new A(E,g);N.apply(this),this._parser=new d(E,g),this.writable=!0,this.readable=!0;var R=this;this._parser.onend=function(){R.emit("end")},this._parser.onerror=function(O){R.emit("error",O),R._parser.error=null},this._decoder=null,I.forEach(function(O){Object.defineProperty(R,"on"+O,{get:function(){return R._parser["on"+O]},set:function(ae){if(!ae)return R.removeAllListeners(O),R._parser["on"+O]=ae,ae;R.on(O,ae)},enumerable:!0,configurable:!1})})}(A.prototype=Object.create(N.prototype,{constructor:{value:A}})).write=function(E){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(E)){if(!this._decoder){var g=H(7503).s;this._decoder=new g("utf8")}E=this._decoder.write(E)}return this._parser.write(E.toString()),this.emit("data",E),!0},A.prototype.end=function(E){return E&&E.length&&this.write(E),this._parser.end(),!0},A.prototype.on=function(E,g){var R=this;return R._parser["on"+E]||-1===I.indexOf(E)||(R._parser["on"+E]=function(){var O=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,E),R.emit.apply(R,O)}),N.prototype.on.call(R,E,g)};var v="\r\n\t ",S="0124356789",D="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",h="'\"",y=v+">",T="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",Q={xml:T,xmlns:j};v=k(v),S=k(S),D=k(D);var Y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,fe=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function k(E){return E.split("").reduce(function(g,R){return g[R]=!0,g},{})}function X(E,g){return"[object RegExp]"===Object.prototype.toString.call(E)?!!g.match(E):E[g]}function ue(E,g){return!X(E,g)}h=k(h),y=k(y);var de,Pe,gt,_e=0;for(var Ge in ve.STATE={BEGIN:_e++,BEGIN_WHITESPACE:_e++,TEXT:_e++,TEXT_ENTITY:_e++,OPEN_WAKA:_e++,SGML_DECL:_e++,SGML_DECL_QUOTED:_e++,DOCTYPE:_e++,DOCTYPE_QUOTED:_e++,DOCTYPE_DTD:_e++,DOCTYPE_DTD_QUOTED:_e++,COMMENT_STARTING:_e++,COMMENT:_e++,COMMENT_ENDING:_e++,COMMENT_ENDED:_e++,CDATA:_e++,CDATA_ENDING:_e++,CDATA_ENDING_2:_e++,PROC_INST:_e++,PROC_INST_BODY:_e++,PROC_INST_ENDING:_e++,OPEN_TAG:_e++,OPEN_TAG_SLASH:_e++,ATTRIB:_e++,ATTRIB_NAME:_e++,ATTRIB_NAME_SAW_WHITE:_e++,ATTRIB_VALUE:_e++,ATTRIB_VALUE_QUOTED:_e++,ATTRIB_VALUE_CLOSED:_e++,ATTRIB_VALUE_UNQUOTED:_e++,ATTRIB_VALUE_ENTITY_Q:_e++,ATTRIB_VALUE_ENTITY_U:_e++,CLOSE_TAG:_e++,CLOSE_TAG_SAW_WHITE:_e++,SCRIPT:_e++,SCRIPT_ENDING:_e++},ve.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},ve.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(ve.ENTITIES).forEach(function(E){var g=ve.ENTITIES[E],R="number"==typeof g?String.fromCharCode(g):g;ve.ENTITIES[E]=R}),ve.STATE)ve.STATE[ve.STATE[Ge]]=Ge;function ut(E,g,R){E[g]&&E[g](R)}function Ve(E,g,R){E.textNode&&ke(E),ut(E,g,R)}function ke(E){E.textNode=ot(E.opt,E.textNode),E.textNode&&ut(E,"ontext",E.textNode),E.textNode=""}function ot(E,g){return E.trim&&(g=g.trim()),E.normalize&&(g=g.replace(/\s+/g," ")),g}function Qe(E,g){return ke(E),E.trackPosition&&(g+="\nLine: "+E.line+"\nColumn: "+E.column+"\nChar: "+E.c),g=new Error(g),E.error=g,ut(E,"onerror",g),E}function Rt(E){return E.sawRoot&&!E.closedRoot&&xe(E,"Unclosed root tag"),E.state!==_e.BEGIN&&E.state!==_e.BEGIN_WHITESPACE&&E.state!==_e.TEXT&&Qe(E,"Unexpected end"),ke(E),E.c="",E.closed=!0,ut(E,"onend"),d.call(E,E.strict,E.opt),E}function xe(E,g){if("object"!=typeof E||!(E instanceof d))throw new Error("bad call to strictFail");E.strict&&Qe(E,g)}function et(E){E.strict||(E.tagName=E.tagName[E.looseCase]());var g=E.tags[E.tags.length-1]||E,R=E.tag={name:E.tagName,attributes:{}};E.opt.xmlns&&(R.ns=g.ns),E.attribList.length=0,Ve(E,"onopentagstart",R)}function jt(E,g){var R=E.indexOf(":")<0?["",E]:E.split(":"),O=R[0],ae=R[1];return g&&"xmlns"===E&&(O="xmlns",ae=""),{prefix:O,local:ae}}function Ct(E){if(E.strict||(E.attribName=E.attribName[E.looseCase]()),-1!==E.attribList.indexOf(E.attribName)||E.tag.attributes.hasOwnProperty(E.attribName))E.attribName=E.attribValue="";else{if(E.opt.xmlns){var g=jt(E.attribName,!0),O=g.local;if("xmlns"===g.prefix)if("xml"===O&&E.attribValue!==T)xe(E,"xml: prefix must be bound to "+T+"\nActual: "+E.attribValue);else if("xmlns"===O&&E.attribValue!==j)xe(E,"xmlns: prefix must be bound to "+j+"\nActual: "+E.attribValue);else{var ae=E.tag,oe=E.tags[E.tags.length-1]||E;ae.ns===oe.ns&&(ae.ns=Object.create(oe.ns)),ae.ns[O]=E.attribValue}E.attribList.push([E.attribName,E.attribValue])}else E.tag.attributes[E.attribName]=E.attribValue,Ve(E,"onattribute",{name:E.attribName,value:E.attribValue});E.attribName=E.attribValue=""}}function Je(E,g){if(E.opt.xmlns){var R=E.tag,O=jt(E.tagName);R.prefix=O.prefix,R.local=O.local,R.uri=R.ns[O.prefix]||"",R.prefix&&!R.uri&&(xe(E,"Unbound namespace prefix: "+JSON.stringify(E.tagName)),R.uri=O.prefix),R.ns&&(E.tags[E.tags.length-1]||E).ns!==R.ns&&Object.keys(R.ns).forEach(function(Tt){Ve(E,"onopennamespace",{prefix:Tt,uri:R.ns[Tt]})});for(var oe=0,De=E.attribList.length;oe<De;oe++){var We=E.attribList[oe],$e=We[0],Fe=We[1],qe=jt($e,!0),ht=qe.prefix,tt=""===ht?"":R.ns[ht]||"",Ze={name:$e,value:Fe,prefix:ht,local:qe.local,uri:tt};ht&&"xmlns"!==ht&&!tt&&(xe(E,"Unbound namespace prefix: "+JSON.stringify(ht)),Ze.uri=ht),E.tag.attributes[$e]=Ze,Ve(E,"onattribute",Ze)}E.attribList.length=0}E.tag.isSelfClosing=!!g,E.sawRoot=!0,E.tags.push(E.tag),Ve(E,"onopentag",E.tag),g||(E.state=E.noscript||"script"!==E.tagName.toLowerCase()?_e.TEXT:_e.SCRIPT,E.tag=null,E.tagName=""),E.attribName=E.attribValue="",E.attribList.length=0}function yt(E){if(!E.tagName)return xe(E,"Weird empty close tag."),E.textNode+="</>",void(E.state=_e.TEXT);if(E.script){if("script"!==E.tagName)return E.script+="</"+E.tagName+">",E.tagName="",void(E.state=_e.SCRIPT);Ve(E,"onscript",E.script),E.script=""}var g=E.tags.length,R=E.tagName;E.strict||(R=R[E.looseCase]());for(var O=R;g--&&E.tags[g].name!==O;)xe(E,"Unexpected close tag");if(g<0)return xe(E,"Unmatched closing tag: "+E.tagName),E.textNode+="</"+E.tagName+">",void(E.state=_e.TEXT);E.tagName=R;for(var ae=E.tags.length;ae-- >g;){var oe=E.tag=E.tags.pop();E.tagName=E.tag.name,Ve(E,"onclosetag",E.tagName);var De={};for(var We in oe.ns)De[We]=oe.ns[We];E.opt.xmlns&&oe.ns!==(E.tags[E.tags.length-1]||E).ns&&Object.keys(oe.ns).forEach(function(Fe){Ve(E,"onclosenamespace",{prefix:Fe,uri:oe.ns[Fe]})})}0===g&&(E.closedRoot=!0),E.tagName=E.attribValue=E.attribName="",E.attribList.length=0,E.state=_e.TEXT}function pe(E){var g,R=E.entity,O=R.toLowerCase(),ae="";return E.ENTITIES[R]?E.ENTITIES[R]:E.ENTITIES[O]?E.ENTITIES[O]:("#"===(R=O).charAt(0)&&("x"===R.charAt(1)?(R=R.slice(2),ae=(g=parseInt(R,16)).toString(16)):(R=R.slice(1),ae=(g=parseInt(R,10)).toString(10))),R=R.replace(/^0+/,""),ae.toLowerCase()!==R?(xe(E,"Invalid character entity"),"&"+E.entity+";"):String.fromCodePoint(g))}function Ae(E,g){"<"===g?(E.state=_e.OPEN_WAKA,E.startTagPosition=E.position):ue(v,g)&&(xe(E,"Non-whitespace before first tag."),E.textNode=g,E.state=_e.TEXT)}function at(E,g){var R="";return g<E.length&&(R=E.charAt(g)),R}_e=ve.STATE,String.fromCodePoint||(de=String.fromCharCode,Pe=Math.floor,gt=function(){var E,O=[],ae=-1,oe=arguments.length;if(!oe)return"";for(var De="";++ae<oe;){var We=Number(arguments[ae]);if(!isFinite(We)||We<0||We>1114111||Pe(We)!==We)throw RangeError("Invalid code point: "+We);We<=65535?O.push(We):(E=55296+((We-=65536)>>10),O.push(E,We%1024+56320)),(ae+1===oe||O.length>16384)&&(De+=de.apply(null,O),O.length=0)}return De},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:gt,configurable:!0,writable:!0}):String.fromCodePoint=gt)}(ze)},182:function(Et,ze,H){Et.exports=N;var ve=H(1159).EventEmitter;function N(){ve.call(this)}H(1765)(N,ve),N.Readable=H(2846),N.Writable=H(8318),N.Duplex=H(6138),N.Transform=H(9798),N.PassThrough=H(5472),N.finished=H(8800),N.pipeline=H(7295),N.Stream=N,N.prototype.pipe=function(f,d){var I=this;function A(j){f.writable&&!1===f.write(j)&&I.pause&&I.pause()}function v(){I.readable&&I.resume&&I.resume()}I.on("data",A),f.on("drain",v),f._isStdio||d&&!1===d.end||(I.on("end",D),I.on("close",h));var S=!1;function D(){S||(S=!0,f.end())}function h(){S||(S=!0,"function"==typeof f.destroy&&f.destroy())}function y(j){if(T(),0===ve.listenerCount(this,"error"))throw j}function T(){I.removeListener("data",A),f.removeListener("drain",v),I.removeListener("end",D),I.removeListener("close",h),I.removeListener("error",y),f.removeListener("error",y),I.removeListener("end",T),I.removeListener("close",T),f.removeListener("close",T)}return I.on("error",y),f.on("error",y),I.on("end",T),I.on("close",T),f.on("close",T),f.emit("pipe",I),f}},1765:function(Et){Et.exports="function"==typeof Object.create?function(ze,H){H&&(ze.super_=H,ze.prototype=Object.create(H.prototype,{constructor:{value:ze,enumerable:!1,writable:!0,configurable:!0}}))}:function(ze,H){if(H){ze.super_=H;var ve=function(){};ve.prototype=H.prototype,ze.prototype=new ve,ze.prototype.constructor=ze}}},3690:function(Et){"use strict";var ze={};function H(N,f,d){d||(d=Error);var I=function(A){var v,S;function D(h,y,T){return A.call(this,"string"==typeof f?f:f(h,y,T))||this}return S=A,(v=D).prototype=Object.create(S.prototype),v.prototype.constructor=v,v.__proto__=S,D}(d);I.prototype.name=d.name,I.prototype.code=N,ze[N]=I}function ve(N,f){if(Array.isArray(N)){var d=N.length;return N=N.map(function(I){return String(I)}),d>2?"one of ".concat(f," ").concat(N.slice(0,d-1).join(", "),", or ")+N[d-1]:2===d?"one of ".concat(f," ").concat(N[0]," or ").concat(N[1]):"of ".concat(f," ").concat(N[0])}return"of ".concat(f," ").concat(String(N))}H("ERR_INVALID_OPT_VALUE",function(N,f){return'The value "'+f+'" is invalid for option "'+N+'"'},TypeError),H("ERR_INVALID_ARG_TYPE",function(N,f,d){var I,v,S,D,y,j;if("string"==typeof f&&"not "===f.substr(0,"not ".length)?(I="must not be",f=f.replace(/^not /,"")):I="must be",y=N,(void 0===j||j>y.length)&&(j=y.length)," argument"===y.substring(j-" argument".length,j))v="The ".concat(N," ").concat(I," ").concat(ve(f,"type"));else{var h=("number"!=typeof D&&(D=0),D+1>(S=N).length||-1===S.indexOf(".",D)?"argument":"property");v='The "'.concat(N,'" ').concat(h," ").concat(I," ").concat(ve(f,"type"))}return v+". Received type ".concat(typeof d)},TypeError),H("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),H("ERR_METHOD_NOT_IMPLEMENTED",function(N){return"The "+N+" method is not implemented"}),H("ERR_STREAM_PREMATURE_CLOSE","Premature close"),H("ERR_STREAM_DESTROYED",function(N){return"Cannot call "+N+" after a stream was destroyed"}),H("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),H("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),H("ERR_STREAM_WRITE_AFTER_END","write after end"),H("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),H("ERR_UNKNOWN_ENCODING",function(N){return"Unknown encoding: "+N},TypeError),H("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Et.exports.q=ze},6138:function(Et,ze,H){"use strict";var ve=Object.keys||function(h){var y=[];for(var T in h)y.push(T);return y};Et.exports=v;var N=H(2846),f=H(8318);H(1765)(v,N);for(var d=ve(f.prototype),I=0;I<d.length;I++){var A=d[I];v.prototype[A]||(v.prototype[A]=f.prototype[A])}function v(h){if(!(this instanceof v))return new v(h);N.call(this,h),f.call(this,h),this.allowHalfOpen=!0,h&&(!1===h.readable&&(this.readable=!1),!1===h.writable&&(this.writable=!1),!1===h.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",S)))}function S(){this._writableState.ended||process.nextTick(D,this)}function D(h){h.end()}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},5472:function(Et,ze,H){"use strict";Et.exports=N;var ve=H(9798);function N(f){if(!(this instanceof N))return new N(f);ve.call(this,f)}H(1765)(N,ve),N.prototype._transform=function(f,d,I){I(null,f)}},2846:function(Et,ze,H){"use strict";var ve;Et.exports=de,de.ReadableState=ue,H(1159);var N,f=function(pe,Ae){return pe.listeners(Ae).length},d=H(9299),I=H(1549).Buffer,A=H.g.Uint8Array||function(){},v=H(964);N=v&&v.debuglog?v.debuglog("stream"):function(){};var S,D,h,y=H(8393),T=H(6163),j=H(7269).getHighWaterMark,Q=H(3690).q,Y=Q.ERR_INVALID_ARG_TYPE,$=Q.ERR_STREAM_PUSH_AFTER_EOF,fe=Q.ERR_METHOD_NOT_IMPLEMENTED,Z=Q.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;H(1765)(de,d);var k=T.errorOrDestroy,X=["error","close","destroy","pause","resume"];function ue(pe,Ae,at){ve=ve||H(6138),"boolean"!=typeof at&&(at=Ae instanceof ve),this.objectMode=!!(pe=pe||{}).objectMode,at&&(this.objectMode=this.objectMode||!!pe.readableObjectMode),this.highWaterMark=j(this,pe,"readableHighWaterMark",at),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==pe.emitClose,this.autoDestroy=!!pe.autoDestroy,this.destroyed=!1,this.defaultEncoding=pe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pe.encoding&&(S||(S=H(7503).s),this.decoder=new S(pe.encoding),this.encoding=pe.encoding)}function de(pe){if(ve=ve||H(6138),!(this instanceof de))return new de(pe);this._readableState=new ue(pe,this,this instanceof ve),this.readable=!0,pe&&("function"==typeof pe.read&&(this._read=pe.read),"function"==typeof pe.destroy&&(this._destroy=pe.destroy)),d.call(this)}function Pe(pe,Ae,at,E,g){N("readableAddChunk",Ae);var R,ae,oe,De,We,O=pe._readableState;if(null===Ae)O.reading=!1,function(ae,oe){if(N("onEofChunk"),!oe.ended){if(oe.decoder){var De=oe.decoder.end();De&&De.length&&(oe.buffer.push(De),oe.length+=oe.objectMode?1:De.length)}oe.ended=!0,oe.sync?ut(ae):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,Ve(ae)))}}(pe,O);else if(g||(ae=O,I.isBuffer(We=oe=Ae)||We instanceof A||"string"==typeof oe||void 0===oe||ae.objectMode||(De=new Y("chunk",["string","Buffer","Uint8Array"],oe)),R=De),R)k(pe,R);else if(O.objectMode||Ae&&Ae.length>0)if("string"==typeof Ae||O.objectMode||Object.getPrototypeOf(Ae)===I.prototype||(Ae=function(ae){return I.from(ae)}(Ae)),E)O.endEmitted?k(pe,new Z):gt(pe,O,Ae,!0);else if(O.ended)k(pe,new $);else{if(O.destroyed)return!1;O.reading=!1,O.decoder&&!at?(Ae=O.decoder.write(Ae),O.objectMode||0!==Ae.length?gt(pe,O,Ae,!1):ke(pe,O)):gt(pe,O,Ae,!1)}else E||(O.reading=!1,ke(pe,O));return!O.ended&&(O.length<O.highWaterMark||0===O.length)}function gt(pe,Ae,at,E){Ae.flowing&&0===Ae.length&&!Ae.sync?(Ae.awaitDrain=0,pe.emit("data",at)):(Ae.length+=Ae.objectMode?1:at.length,E?Ae.buffer.unshift(at):Ae.buffer.push(at),Ae.needReadable&&ut(pe)),ke(pe,Ae)}Object.defineProperty(de.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(pe){this._readableState&&(this._readableState.destroyed=pe)}}),de.prototype.destroy=T.destroy,de.prototype._undestroy=T.undestroy,de.prototype._destroy=function(pe,Ae){Ae(pe)},de.prototype.push=function(pe,Ae){var at,E=this._readableState;return E.objectMode?at=!0:"string"==typeof pe&&((Ae=Ae||E.defaultEncoding)!==E.encoding&&(pe=I.from(pe,Ae),Ae=""),at=!0),Pe(this,pe,Ae,!1,at)},de.prototype.unshift=function(pe){return Pe(this,pe,null,!0,!1)},de.prototype.isPaused=function(){return!1===this._readableState.flowing},de.prototype.setEncoding=function(pe){S||(S=H(7503).s);var Ae=new S(pe);this._readableState.decoder=Ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var at=this._readableState.buffer.head,E="";null!==at;)E+=Ae.write(at.data),at=at.next;return this._readableState.buffer.clear(),""!==E&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var _e=1073741824;function Ge(pe,Ae){return pe<=0||0===Ae.length&&Ae.ended?0:Ae.objectMode?1:pe!=pe?Ae.flowing&&Ae.length?Ae.buffer.head.data.length:Ae.length:(pe>Ae.highWaterMark&&(Ae.highWaterMark=((at=pe)>=_e?at=_e:(at--,at|=at>>>1,at|=at>>>2,at|=at>>>4,at|=at>>>8,at|=at>>>16,at++),at)),pe<=Ae.length?pe:Ae.ended?Ae.length:(Ae.needReadable=!0,0));var at}function ut(pe){var Ae=pe._readableState;N("emitReadable",Ae.needReadable,Ae.emittedReadable),Ae.needReadable=!1,Ae.emittedReadable||(N("emitReadable",Ae.flowing),Ae.emittedReadable=!0,process.nextTick(Ve,pe))}function Ve(pe){var Ae=pe._readableState;N("emitReadable_",Ae.destroyed,Ae.length,Ae.ended),Ae.destroyed||!Ae.length&&!Ae.ended||(pe.emit("readable"),Ae.emittedReadable=!1),Ae.needReadable=!Ae.flowing&&!Ae.ended&&Ae.length<=Ae.highWaterMark,et(pe)}function ke(pe,Ae){Ae.readingMore||(Ae.readingMore=!0,process.nextTick(ot,pe,Ae))}function ot(pe,Ae){for(;!Ae.reading&&!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.flowing&&0===Ae.length);){var at=Ae.length;if(N("maybeReadMore read 0"),pe.read(0),at===Ae.length)break}Ae.readingMore=!1}function Qe(pe){var Ae=pe._readableState;Ae.readableListening=pe.listenerCount("readable")>0,Ae.resumeScheduled&&!Ae.paused?Ae.flowing=!0:pe.listenerCount("data")>0&&pe.resume()}function Rt(pe){N("readable nexttick read 0"),pe.read(0)}function xe(pe,Ae){N("resume",Ae.reading),Ae.reading||pe.read(0),Ae.resumeScheduled=!1,pe.emit("resume"),et(pe),Ae.flowing&&!Ae.reading&&pe.read(0)}function et(pe){var Ae=pe._readableState;for(N("flow",Ae.flowing);Ae.flowing&&null!==pe.read(););}function jt(pe,Ae){return 0===Ae.length?null:(Ae.objectMode?at=Ae.buffer.shift():!pe||pe>=Ae.length?(at=Ae.decoder?Ae.buffer.join(""):1===Ae.buffer.length?Ae.buffer.first():Ae.buffer.concat(Ae.length),Ae.buffer.clear()):at=Ae.buffer.consume(pe,Ae.decoder),at);var at}function Ct(pe){var Ae=pe._readableState;N("endReadable",Ae.endEmitted),Ae.endEmitted||(Ae.ended=!0,process.nextTick(Je,Ae,pe))}function Je(pe,Ae){if(N("endReadableNT",pe.endEmitted,pe.length),!pe.endEmitted&&0===pe.length&&(pe.endEmitted=!0,Ae.readable=!1,Ae.emit("end"),pe.autoDestroy)){var at=Ae._writableState;(!at||at.autoDestroy&&at.finished)&&Ae.destroy()}}function yt(pe,Ae){for(var at=0,E=pe.length;at<E;at++)if(pe[at]===Ae)return at;return-1}de.prototype.read=function(pe){N("read",pe),pe=parseInt(pe,10);var Ae=this._readableState,at=pe;if(0!==pe&&(Ae.emittedReadable=!1),0===pe&&Ae.needReadable&&((0!==Ae.highWaterMark?Ae.length>=Ae.highWaterMark:Ae.length>0)||Ae.ended))return N("read: emitReadable",Ae.length,Ae.ended),0===Ae.length&&Ae.ended?Ct(this):ut(this),null;if(0===(pe=Ge(pe,Ae))&&Ae.ended)return 0===Ae.length&&Ct(this),null;var E,g=Ae.needReadable;return N("need readable",g),(0===Ae.length||Ae.length-pe<Ae.highWaterMark)&&N("length less than watermark",g=!0),Ae.ended||Ae.reading?N("reading or ended",g=!1):g&&(N("do read"),Ae.reading=!0,Ae.sync=!0,0===Ae.length&&(Ae.needReadable=!0),this._read(Ae.highWaterMark),Ae.sync=!1,Ae.reading||(pe=Ge(at,Ae))),null===(E=pe>0?jt(pe,Ae):null)?(Ae.needReadable=Ae.length<=Ae.highWaterMark,pe=0):(Ae.length-=pe,Ae.awaitDrain=0),0===Ae.length&&(Ae.ended||(Ae.needReadable=!0),at!==pe&&Ae.ended&&Ct(this)),null!==E&&this.emit("data",E),E},de.prototype._read=function(pe){k(this,new fe("_read()"))},de.prototype.pipe=function(pe,Ae){var at=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=pe;break;case 1:E.pipes=[E.pipes,pe];break;default:E.pipes.push(pe)}E.pipesCount+=1,N("pipe count=%d opts=%j",E.pipesCount,Ae);var g=Ae&&!1===Ae.end||pe===process.stdout||pe===process.stderr?Fe:R;function R(){N("onend"),pe.end()}E.endEmitted?process.nextTick(g):at.once("end",g),pe.on("unpipe",function qe(ht,Ce){N("onunpipe"),ht===at&&Ce&&!1===Ce.hasUnpiped&&(Ce.hasUnpiped=!0,N("cleanup"),pe.removeListener("close",We),pe.removeListener("finish",$e),pe.removeListener("drain",O),pe.removeListener("error",De),pe.removeListener("unpipe",qe),at.removeListener("end",R),at.removeListener("end",Fe),at.removeListener("data",oe),ae=!0,!E.awaitDrain||pe._writableState&&!pe._writableState.needDrain||O())});var qe,O=(qe=at,function(){var ht=qe._readableState;N("pipeOnDrain",ht.awaitDrain),ht.awaitDrain&&ht.awaitDrain--,0===ht.awaitDrain&&f(qe,"data")&&(ht.flowing=!0,et(qe))});pe.on("drain",O);var ae=!1;function oe(qe){N("ondata");var ht=pe.write(qe);N("dest.write",ht),!1===ht&&((1===E.pipesCount&&E.pipes===pe||E.pipesCount>1&&-1!==yt(E.pipes,pe))&&!ae&&(N("false write response, pause",E.awaitDrain),E.awaitDrain++),at.pause())}function De(qe){N("onerror",qe),Fe(),pe.removeListener("error",De),0===f(pe,"error")&&k(pe,qe)}function We(){pe.removeListener("finish",$e),Fe()}function $e(){N("onfinish"),pe.removeListener("close",We),Fe()}function Fe(){N("unpipe"),at.unpipe(pe)}return at.on("data",oe),function(qe,ht,Ce){if("function"==typeof qe.prependListener)return qe.prependListener(ht,Ce);qe._events&&qe._events[ht]?Array.isArray(qe._events[ht])?qe._events[ht].unshift(Ce):qe._events[ht]=[Ce,qe._events[ht]]:qe.on(ht,Ce)}(pe,"error",De),pe.once("close",We),pe.once("finish",$e),pe.emit("pipe",at),E.flowing||(N("pipe resume"),at.resume()),pe},de.prototype.unpipe=function(pe){var Ae=this._readableState,at={hasUnpiped:!1};if(0===Ae.pipesCount)return this;if(1===Ae.pipesCount)return pe&&pe!==Ae.pipes||(pe||(pe=Ae.pipes),Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1,pe&&pe.emit("unpipe",this,at)),this;if(!pe){var E=Ae.pipes,g=Ae.pipesCount;Ae.pipes=null,Ae.pipesCount=0,Ae.flowing=!1;for(var R=0;R<g;R++)E[R].emit("unpipe",this,{hasUnpiped:!1});return this}var O=yt(Ae.pipes,pe);return-1===O||(Ae.pipes.splice(O,1),Ae.pipesCount-=1,1===Ae.pipesCount&&(Ae.pipes=Ae.pipes[0]),pe.emit("unpipe",this,at)),this},de.prototype.addListener=de.prototype.on=function(pe,Ae){var at=d.prototype.on.call(this,pe,Ae),E=this._readableState;return"data"===pe?(E.readableListening=this.listenerCount("readable")>0,!1!==E.flowing&&this.resume()):"readable"===pe&&(E.endEmitted||E.readableListening||(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,N("on readable",E.length,E.reading),E.length?ut(this):E.reading||process.nextTick(Rt,this))),at},de.prototype.removeListener=function(pe,Ae){var at=d.prototype.removeListener.call(this,pe,Ae);return"readable"===pe&&process.nextTick(Qe,this),at},de.prototype.removeAllListeners=function(pe){var Ae=d.prototype.removeAllListeners.apply(this,arguments);return"readable"!==pe&&void 0!==pe||process.nextTick(Qe,this),Ae},de.prototype.resume=function(){var at,pe=this._readableState;return pe.flowing||(N("resume"),pe.flowing=!pe.readableListening,this,(at=pe).resumeScheduled||(at.resumeScheduled=!0,process.nextTick(xe,this,at))),pe.paused=!1,this},de.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},de.prototype.wrap=function(pe){var Ae=this,at=this._readableState,E=!1;for(var g in pe.on("end",function(){if(N("wrapped end"),at.decoder&&!at.ended){var O=at.decoder.end();O&&O.length&&Ae.push(O)}Ae.push(null)}),pe.on("data",function(O){N("wrapped data"),at.decoder&&(O=at.decoder.write(O)),at.objectMode&&null==O||(at.objectMode||O&&O.length)&&(Ae.push(O)||(E=!0,pe.pause()))}),pe)void 0===this[g]&&"function"==typeof pe[g]&&(this[g]=function(O){return function(){return pe[O].apply(pe,arguments)}}(g));for(var R=0;R<X.length;R++)pe.on(X[R],this.emit.bind(this,X[R]));return this._read=function(O){N("wrapped _read",O),E&&(E=!1,pe.resume())},this},"function"==typeof Symbol&&(de.prototype[Symbol.asyncIterator]=function(){return void 0===D&&(D=H(7299)),D(this)}),Object.defineProperty(de.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(de.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(de.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(pe){this._readableState&&(this._readableState.flowing=pe)}}),de._fromList=jt,Object.defineProperty(de.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(de.from=function(pe,Ae){return void 0===h&&(h=H(6233)),h(de,pe,Ae)})},9798:function(Et,ze,H){"use strict";Et.exports=S;var ve=H(3690).q,N=ve.ERR_METHOD_NOT_IMPLEMENTED,f=ve.ERR_MULTIPLE_CALLBACK,d=ve.ERR_TRANSFORM_ALREADY_TRANSFORMING,I=ve.ERR_TRANSFORM_WITH_LENGTH_0,A=H(6138);function v(y,T){var j=this._transformState;j.transforming=!1;var Q=j.writecb;if(null===Q)return this.emit("error",new f);j.writechunk=null,j.writecb=null,null!=T&&this.push(T),Q(y);var Y=this._readableState;Y.reading=!1,(Y.needReadable||Y.length<Y.highWaterMark)&&this._read(Y.highWaterMark)}function S(y){if(!(this instanceof S))return new S(y);A.call(this,y),this._transformState={afterTransform:v.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&("function"==typeof y.transform&&(this._transform=y.transform),"function"==typeof y.flush&&(this._flush=y.flush)),this.on("prefinish",D)}function D(){var y=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(T,j){h(y,T,j)})}function h(y,T,j){if(T)return y.emit("error",T);if(null!=j&&y.push(j),y._writableState.length)throw new I;if(y._transformState.transforming)throw new d;return y.push(null)}H(1765)(S,A),S.prototype.push=function(y,T){return this._transformState.needTransform=!1,A.prototype.push.call(this,y,T)},S.prototype._transform=function(y,T,j){j(new N("_transform()"))},S.prototype._write=function(y,T,j){var Q=this._transformState;if(Q.writecb=j,Q.writechunk=y,Q.writeencoding=T,!Q.transforming){var Y=this._readableState;(Q.needTransform||Y.needReadable||Y.length<Y.highWaterMark)&&this._read(Y.highWaterMark)}},S.prototype._read=function(y){var T=this._transformState;null===T.writechunk||T.transforming?T.needTransform=!0:(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform))},S.prototype._destroy=function(y,T){A.prototype._destroy.call(this,y,function(j){T(j)})}},8318:function(Et,ze,H){"use strict";function ve(ke){var ot=this;this.next=null,this.entry=null,this.finish=function(){!function(Qe,Rt,xe){var et=Qe.entry;for(Qe.entry=null;et;){var jt=et.callback;Rt.pendingcb--,jt(void 0),et=et.next}Rt.corkedRequestsFree.next=Qe}(ot,ke)}}var N;Et.exports=de,de.WritableState=ue;var f,d={deprecate:H(7839)},I=H(9299),A=H(1549).Buffer,v=H.g.Uint8Array||function(){},S=H(6163),D=H(7269).getHighWaterMark,h=H(3690).q,y=h.ERR_INVALID_ARG_TYPE,T=h.ERR_METHOD_NOT_IMPLEMENTED,j=h.ERR_MULTIPLE_CALLBACK,Q=h.ERR_STREAM_CANNOT_PIPE,Y=h.ERR_STREAM_DESTROYED,$=h.ERR_STREAM_NULL_VALUES,fe=h.ERR_STREAM_WRITE_AFTER_END,Z=h.ERR_UNKNOWN_ENCODING,k=S.errorOrDestroy;function X(){}function ue(ke,ot,Qe){N=N||H(6138),"boolean"!=typeof Qe&&(Qe=ot instanceof N),this.objectMode=!!(ke=ke||{}).objectMode,Qe&&(this.objectMode=this.objectMode||!!ke.writableObjectMode),this.highWaterMark=D(this,ke,"writableHighWaterMark",Qe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ke.decodeStrings),this.defaultEncoding=ke.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xe){!function(et,jt){var Ae,Ct=et._writableState,Je=Ct.sync,yt=Ct.writecb;if("function"!=typeof yt)throw new j;if((Ae=Ct).writing=!1,Ae.writecb=null,Ae.length-=Ae.writelen,Ae.writelen=0,jt)!function(Ae,at,E,g,R){--at.pendingcb,E?(process.nextTick(R,g),process.nextTick(Ve,Ae,at),Ae._writableState.errorEmitted=!0,k(Ae,g)):(R(g),Ae._writableState.errorEmitted=!0,k(Ae,g),Ve(Ae,at))}(et,Ct,Je,jt,yt);else{var pe=Ge(Ct)||et.destroyed;pe||Ct.corked||Ct.bufferProcessing||!Ct.bufferedRequest||_e(et,Ct),Je?process.nextTick(gt,et,Ct,pe,yt):gt(et,Ct,pe,yt)}}(ot,xe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==ke.emitClose,this.autoDestroy=!!ke.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ve(this)}function de(ke){var ot=this instanceof(N=N||H(6138));if(!ot&&!f.call(de,this))return new de(ke);this._writableState=new ue(ke,this,ot),this.writable=!0,ke&&("function"==typeof ke.write&&(this._write=ke.write),"function"==typeof ke.writev&&(this._writev=ke.writev),"function"==typeof ke.destroy&&(this._destroy=ke.destroy),"function"==typeof ke.final&&(this._final=ke.final)),I.call(this)}function Pe(ke,ot,Qe,Rt,xe,et,jt){ot.writelen=Rt,ot.writecb=jt,ot.writing=!0,ot.sync=!0,ot.destroyed?ot.onwrite(new Y("write")):Qe?ke._writev(xe,ot.onwrite):ke._write(xe,et,ot.onwrite),ot.sync=!1}function gt(ke,ot,Qe,Rt){var xe,et;Qe||(xe=ke,0===(et=ot).length&&et.needDrain&&(et.needDrain=!1,xe.emit("drain"))),ot.pendingcb--,Rt(),Ve(ke,ot)}function _e(ke,ot){ot.bufferProcessing=!0;var Qe=ot.bufferedRequest;if(ke._writev&&Qe&&Qe.next){var xe=new Array(ot.bufferedRequestCount),et=ot.corkedRequestsFree;et.entry=Qe;for(var jt=0,Ct=!0;Qe;)xe[jt]=Qe,Qe.isBuf||(Ct=!1),Qe=Qe.next,jt+=1;xe.allBuffers=Ct,Pe(ke,ot,!0,ot.length,xe,"",et.finish),ot.pendingcb++,ot.lastBufferedRequest=null,et.next?(ot.corkedRequestsFree=et.next,et.next=null):ot.corkedRequestsFree=new ve(ot),ot.bufferedRequestCount=0}else{for(;Qe;){var Je=Qe.chunk;if(Pe(ke,ot,!1,ot.objectMode?1:Je.length,Je,Qe.encoding,Qe.callback),Qe=Qe.next,ot.bufferedRequestCount--,ot.writing)break}null===Qe&&(ot.lastBufferedRequest=null)}ot.bufferedRequest=Qe,ot.bufferProcessing=!1}function Ge(ke){return ke.ending&&0===ke.length&&null===ke.bufferedRequest&&!ke.finished&&!ke.writing}function ut(ke,ot){ke._final(function(Qe){ot.pendingcb--,Qe&&k(ke,Qe),ot.prefinished=!0,ke.emit("prefinish"),Ve(ke,ot)})}function Ve(ke,ot){var xe,et,Qe=Ge(ot);if(Qe&&(xe=ke,(et=ot).prefinished||et.finalCalled||("function"!=typeof xe._final||et.destroyed?(et.prefinished=!0,xe.emit("prefinish")):(et.pendingcb++,et.finalCalled=!0,process.nextTick(ut,xe,et))),0===ot.pendingcb&&(ot.finished=!0,ke.emit("finish"),ot.autoDestroy))){var Rt=ke._readableState;(!Rt||Rt.autoDestroy&&Rt.endEmitted)&&ke.destroy()}return Qe}H(1765)(de,I),ue.prototype.getBuffer=function(){for(var ke=this.bufferedRequest,ot=[];ke;)ot.push(ke),ke=ke.next;return ot},function(){try{Object.defineProperty(ue.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(de,Symbol.hasInstance,{value:function(ke){return!!f.call(this,ke)||this===de&&ke&&ke._writableState instanceof ue}})):f=function(ke){return ke instanceof this},de.prototype.pipe=function(){k(this,new Q)},de.prototype.write=function(ke,ot,Qe){var Rt,Ct,Je,yt,xe=this._writableState,et=!1,jt=!xe.objectMode&&(A.isBuffer(Rt=ke)||Rt instanceof v);return jt&&!A.isBuffer(ke)&&(ke=A.from(ke)),"function"==typeof ot&&(Qe=ot,ot=null),jt?ot="buffer":ot||(ot=xe.defaultEncoding),"function"!=typeof Qe&&(Qe=X),xe.ending?(Ct=this,Je=Qe,yt=new fe,k(Ct,yt),process.nextTick(Je,yt)):(jt||function(Ct,Je,yt,pe){var Ae;return null===yt?Ae=new $:"string"==typeof yt||Je.objectMode||(Ae=new y("chunk",["string","Buffer"],yt)),!Ae||(k(Ct,Ae),process.nextTick(pe,Ae),!1)}(this,xe,ke,Qe))&&(xe.pendingcb++,et=function(Ct,Je,yt,pe,Ae,at){if(!yt){var E=(oe=pe,(ae=Je).objectMode||!1===ae.decodeStrings||"string"!=typeof oe||(oe=A.from(oe,Ae)),oe);pe!==E&&(yt=!0,Ae="buffer",pe=E)}var ae,oe,g=Je.objectMode?1:pe.length;Je.length+=g;var R=Je.length<Je.highWaterMark;if(R||(Je.needDrain=!0),Je.writing||Je.corked){var O=Je.lastBufferedRequest;Je.lastBufferedRequest={chunk:pe,encoding:Ae,isBuf:yt,callback:at,next:null},O?O.next=Je.lastBufferedRequest:Je.bufferedRequest=Je.lastBufferedRequest,Je.bufferedRequestCount+=1}else Pe(Ct,Je,!1,g,pe,Ae,at);return R}(this,xe,jt,ke,ot,Qe)),et},de.prototype.cork=function(){this._writableState.corked++},de.prototype.uncork=function(){var ke=this._writableState;ke.corked&&(ke.corked--,ke.writing||ke.corked||ke.bufferProcessing||!ke.bufferedRequest||_e(this,ke))},de.prototype.setDefaultEncoding=function(ke){if("string"==typeof ke&&(ke=ke.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ke+"").toLowerCase())>-1))throw new Z(ke);return this._writableState.defaultEncoding=ke,this},Object.defineProperty(de.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(de.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),de.prototype._write=function(ke,ot,Qe){Qe(new T("_write()"))},de.prototype._writev=null,de.prototype.end=function(ke,ot,Qe){var et,jt,Rt=this._writableState;return"function"==typeof ke?(Qe=ke,ke=null,ot=null):"function"==typeof ot&&(Qe=ot,ot=null),null!=ke&&this.write(ke,ot),Rt.corked&&(Rt.corked=1,this.uncork()),Rt.ending||(this,jt=Qe,(et=Rt).ending=!0,Ve(this,et),jt&&(et.finished?process.nextTick(jt):this.once("finish",jt)),et.ended=!0,this.writable=!1),this},Object.defineProperty(de.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(de.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ke){this._writableState&&(this._writableState.destroyed=ke)}}),de.prototype.destroy=S.destroy,de.prototype._undestroy=S.undestroy,de.prototype._destroy=function(ke,ot){ot(ke)}},7299:function(Et,ze,H){"use strict";var ve;function N($,fe,Z){return fe in $?Object.defineProperty($,fe,{value:Z,enumerable:!0,configurable:!0,writable:!0}):$[fe]=Z,$}var f=H(8800),d=Symbol("lastResolve"),I=Symbol("lastReject"),A=Symbol("error"),v=Symbol("ended"),S=Symbol("lastPromise"),D=Symbol("handlePromise"),h=Symbol("stream");function y($,fe){return{value:$,done:fe}}function T($){var fe=$[d];if(null!==fe){var Z=$[h].read();null!==Z&&($[S]=null,$[d]=null,$[I]=null,fe(y(Z,!1)))}}function j($){process.nextTick(T,$)}var Q=Object.getPrototypeOf(function(){}),Y=Object.setPrototypeOf((N(ve={get stream(){return this[h]},next:function(){var $=this,fe=this[A];if(null!==fe)return Promise.reject(fe);if(this[v])return Promise.resolve(y(void 0,!0));if(this[h].destroyed)return new Promise(function(ue,de){process.nextTick(function(){$[A]?de($[A]):ue(y(void 0,!0))})});var Z,ue,de,k=this[S];if(k)Z=new Promise((ue=k,de=this,function(Pe,gt){ue.then(function(){de[v]?Pe(y(void 0,!0)):de[D](Pe,gt)},gt)}));else{var X=this[h].read();if(null!==X)return Promise.resolve(y(X,!1));Z=new Promise(this[D])}return this[S]=Z,Z}},Symbol.asyncIterator,function(){return this}),N(ve,"return",function(){var $=this;return new Promise(function(fe,Z){$[h].destroy(null,function(k){k?Z(k):fe(y(void 0,!0))})})}),ve),Q);Et.exports=function($){var fe,Z=Object.create(Y,(N(fe={},h,{value:$,writable:!0}),N(fe,d,{value:null,writable:!0}),N(fe,I,{value:null,writable:!0}),N(fe,A,{value:null,writable:!0}),N(fe,v,{value:$._readableState.endEmitted,writable:!0}),N(fe,D,{value:function(k,X){var ue=Z[h].read();ue?(Z[S]=null,Z[d]=null,Z[I]=null,k(y(ue,!1))):(Z[d]=k,Z[I]=X)},writable:!0}),fe));return Z[S]=null,f($,function(k){if(k&&"ERR_STREAM_PREMATURE_CLOSE"!==k.code){var X=Z[I];return null!==X&&(Z[S]=null,Z[d]=null,Z[I]=null,X(k)),void(Z[A]=k)}var ue=Z[d];null!==ue&&(Z[S]=null,Z[d]=null,Z[I]=null,ue(y(void 0,!0))),Z[v]=!0}),$.on("readable",j.bind(null,Z)),Z}},8393:function(Et,ze,H){"use strict";function ve(v,S){var D=Object.keys(v);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(v);S&&(h=h.filter(function(y){return Object.getOwnPropertyDescriptor(v,y).enumerable})),D.push.apply(D,h)}return D}function N(v,S,D){return S in v?Object.defineProperty(v,S,{value:D,enumerable:!0,configurable:!0,writable:!0}):v[S]=D,v}var d=H(1549).Buffer,I=H(9862).inspect,A=I&&I.custom||"inspect";Et.exports=function(){function v(){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v),this.head=null,this.tail=null,this.length=0}var D;return D=[{key:"push",value:function(h){var y={data:h,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(h){var y={data:h,next:this.head};0===this.length&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(0!==this.length){var h=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(0===this.length)return"";for(var y=this.head,T=""+y.data;y=y.next;)T+=h+y.data;return T}},{key:"concat",value:function(h){if(0===this.length)return d.alloc(0);for(var Q=d.allocUnsafe(h>>>0),Y=this.head,$=0;Y;)d.prototype.copy.call(Y.data,Q,$),$+=Y.data.length,Y=Y.next;return Q}},{key:"consume",value:function(h,y){var T;return h<this.head.data.length?(T=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):T=h===this.head.data.length?this.shift():y?this._getString(h):this._getBuffer(h),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var y=this.head,T=1,j=y.data;for(h-=j.length;y=y.next;){var Q=y.data,Y=h>Q.length?Q.length:h;if(j+=Y===Q.length?Q:Q.slice(0,h),0==(h-=Y)){Y===Q.length?(++T,this.head=y.next?y.next:this.tail=null):(this.head=y,y.data=Q.slice(Y));break}++T}return this.length-=T,j}},{key:"_getBuffer",value:function(h){var y=d.allocUnsafe(h),T=this.head,j=1;for(T.data.copy(y),h-=T.data.length;T=T.next;){var Q=T.data,Y=h>Q.length?Q.length:h;if(Q.copy(y,y.length-h,0,Y),0==(h-=Y)){Y===Q.length?(++j,this.head=T.next?T.next:this.tail=null):(this.head=T,T.data=Q.slice(Y));break}++j}return this.length-=j,y}},{key:A,value:function(h,y){return I(this,function(T){for(var j=1;j<arguments.length;j++){var Q=null!=arguments[j]?arguments[j]:{};j%2?ve(Object(Q),!0).forEach(function(Y){N(T,Y,Q[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(Q)):ve(Object(Q)).forEach(function(Y){Object.defineProperty(T,Y,Object.getOwnPropertyDescriptor(Q,Y))})}return T}({},y,{depth:0,customInspect:!1}))}}],D&&function f(v,S){for(var D=0;D<S.length;D++){var h=S[D];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}(v.prototype,D),v}()},6163:function(Et){"use strict";function ze(N,f){ve(N,f),H(N)}function H(N){N._writableState&&!N._writableState.emitClose||N._readableState&&!N._readableState.emitClose||N.emit("close")}function ve(N,f){N.emit("error",f)}Et.exports={destroy:function(N,f){var d=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(f?f(N):N&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ve,this,N)):process.nextTick(ve,this,N)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(N||null,function(v){!f&&v?d._writableState?d._writableState.errorEmitted?process.nextTick(H,d):(d._writableState.errorEmitted=!0,process.nextTick(ze,d,v)):process.nextTick(ze,d,v):f?(process.nextTick(H,d),f(v)):process.nextTick(H,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(N,f){var d=N._readableState,I=N._writableState;d&&d.autoDestroy||I&&I.autoDestroy?N.destroy(f):N.emit("error",f)}}},8800:function(Et,ze,H){"use strict";var ve=H(3690).q.ERR_STREAM_PREMATURE_CLOSE;function N(){}Et.exports=function f(d,I,A){if("function"==typeof I)return f(d,null,I);var fe,Z;I||(I={}),fe=A||N,Z=!1,A=function(){if(!Z){Z=!0;for(var k=arguments.length,X=new Array(k),ue=0;ue<k;ue++)X[ue]=arguments[ue];fe.apply(this,X)}};var v=I.readable||!1!==I.readable&&d.readable,S=I.writable||!1!==I.writable&&d.writable,D=function(){d.writable||y()},h=d._writableState&&d._writableState.finished,y=function(){S=!1,h=!0,v||A.call(d)},T=d._readableState&&d._readableState.endEmitted,j=function(){v=!1,T=!0,S||A.call(d)},Q=function(fe){A.call(d,fe)},Y=function(){var fe;return v&&!T?(d._readableState&&d._readableState.ended||(fe=new ve),A.call(d,fe)):S&&!h?(d._writableState&&d._writableState.ended||(fe=new ve),A.call(d,fe)):void 0},$=function(){d.req.on("finish",y)};return function(fe){return fe.setHeader&&"function"==typeof fe.abort}(d)?(d.on("complete",y),d.on("abort",Y),d.req?$():d.on("request",$)):S&&!d._writableState&&(d.on("end",D),d.on("close",D)),d.on("end",j),d.on("finish",y),!1!==I.error&&d.on("error",Q),d.on("close",Y),function(){d.removeListener("complete",y),d.removeListener("abort",Y),d.removeListener("request",$),d.req&&d.req.removeListener("finish",y),d.removeListener("end",D),d.removeListener("close",D),d.removeListener("finish",y),d.removeListener("end",j),d.removeListener("error",Q),d.removeListener("close",Y)}}},6233:function(Et){Et.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:function(Et,ze,H){"use strict";var ve,N=H(3690).q,f=N.ERR_MISSING_ARGS,d=N.ERR_STREAM_DESTROYED;function I(h){if(h)throw h}function v(h){h()}function S(h,y){return h.pipe(y)}Et.exports=function(){for(var h=arguments.length,y=new Array(h),T=0;T<h;T++)y[T]=arguments[T];var j,Q=function D(h){return h.length?"function"!=typeof h[h.length-1]?I:h.pop():I}(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new f("streams");var Y=y.map(function($,fe){var Z=fe<y.length-1;return function A(h,y,T,j){var $,fe;$=j,fe=!1,j=function(){fe||(fe=!0,$.apply(void 0,arguments))};var Q=!1;h.on("close",function(){Q=!0}),void 0===ve&&(ve=H(8800)),ve(h,{readable:y,writable:T},function($){if($)return j($);Q=!0,j()});var Y=!1;return function($){if(!Q&&!Y)return Y=!0,function(fe){return fe.setHeader&&"function"==typeof fe.abort}(h)?h.abort():"function"==typeof h.destroy?h.destroy():void j($||new d("pipe"))}}($,Z,fe>0,function(k){j||(j=k),k&&Y.forEach(v),Z||(Y.forEach(v),Q(j))})});return y.reduce(S)}},7269:function(Et,ze,H){"use strict";var ve=H(3690).q.ERR_INVALID_OPT_VALUE;Et.exports={getHighWaterMark:function(N,f,d,I){var v,A=null!=(v=f).highWaterMark?v.highWaterMark:I?v[d]:null;if(null!=A){if(!isFinite(A)||Math.floor(A)!==A||A<0)throw new ve(I?d:"highWaterMark",A);return Math.floor(A)}return N.objectMode?16:16384}}},9299:function(Et,ze,H){Et.exports=H(1159).EventEmitter},7503:function(Et,ze,H){"use strict";var ve=H(8387).Buffer,N=ve.isEncoding||function(T){switch((T=""+T)&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(T){var j;switch(this.encoding=function(Q){var Y=function($){if(!$)return"utf8";for(var fe;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(fe)return;$=(""+$).toLowerCase(),fe=!0}}(Q);if("string"!=typeof Y&&(ve.isEncoding===N||!N(Q)))throw new Error("Unknown encoding: "+Q);return Y||Q}(T),this.encoding){case"utf16le":this.text=A,this.end=v,j=4;break;case"utf8":this.fillLast=I,j=4;break;case"base64":this.text=S,this.end=D,j=3;break;default:return this.write=h,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ve.allocUnsafe(j)}function d(T){return T<=127?0:T>>5==6?2:T>>4==14?3:T>>3==30?4:T>>6==2?-1:-2}function I(T){var j=this.lastTotal-this.lastNeed,Q=function(Y,$,fe){if(128!=(192&$[0]))return Y.lastNeed=0,"\ufffd";if(Y.lastNeed>1&&$.length>1){if(128!=(192&$[1]))return Y.lastNeed=1,"\ufffd";if(Y.lastNeed>2&&$.length>2&&128!=(192&$[2]))return Y.lastNeed=2,"\ufffd"}}(this,T);return void 0!==Q?Q:this.lastNeed<=T.length?(T.copy(this.lastChar,j,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(T.copy(this.lastChar,j,0,T.length),void(this.lastNeed-=T.length))}function A(T,j){if((T.length-j)%2==0){var Q=T.toString("utf16le",j);if(Q){var Y=Q.charCodeAt(Q.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],Q.slice(0,-1)}return Q}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",j,T.length-1)}function v(T){var j=T&&T.length?this.write(T):"";return this.lastNeed?j+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):j}function S(T,j){var Q=(T.length-j)%3;return 0===Q?T.toString("base64",j):(this.lastNeed=3-Q,this.lastTotal=3,1===Q?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",j,T.length-Q))}function D(T){var j=T&&T.length?this.write(T):"";return this.lastNeed?j+this.lastChar.toString("base64",0,3-this.lastNeed):j}function h(T){return T.toString(this.encoding)}function y(T){return T&&T.length?this.write(T):""}ze.s=f,f.prototype.write=function(T){if(0===T.length)return"";var j,Q;if(this.lastNeed){if(void 0===(j=this.fillLast(T)))return"";Q=this.lastNeed,this.lastNeed=0}else Q=0;return Q<T.length?j?j+this.text(T,Q):this.text(T,Q):j||""},f.prototype.end=function(T){var j=T&&T.length?this.write(T):"";return this.lastNeed?j+"\ufffd":j},f.prototype.text=function(T,j){var Q=function($,fe,Z){var k=fe.length-1;if(k<Z)return 0;var X=d(fe[k]);return X>=0?(X>0&&($.lastNeed=X-1),X):--k<Z||-2===X?0:(X=d(fe[k]))>=0?(X>0&&($.lastNeed=X-2),X):--k<Z||-2===X?0:(X=d(fe[k]))>=0?(X>0&&(2===X?X=0:$.lastNeed=X-3),X):0}(this,T,j);if(!this.lastNeed)return T.toString("utf8",j);this.lastTotal=Q;var Y=T.length-(Q-this.lastNeed);return T.copy(this.lastChar,0,Y),T.toString("utf8",j,Y)},f.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length}},1067:function(Et,ze,H){var ve;!function(N,f){"use strict";var d="function",I="undefined",A="object",v="string",S="model",D="name",h="type",y="vendor",T="version",j="architecture",Q="console",Y="mobile",$="tablet",fe="smarttv",Z="wearable",k="embedded",X="Amazon",ue="Apple",Pe="BlackBerry",gt="Browser",_e="Chrome",Ge="Firefox",ut="Google",ot="Microsoft",Qe="Motorola",Rt="Opera",xe="Samsung",et="Sony",Ct="Zebra",Je="Facebook",yt=function(We){for(var $e={},Fe=0;Fe<We.length;Fe++)$e[We[Fe].toUpperCase()]=We[Fe];return $e},pe=function(We,$e){return typeof We===v&&-1!==Ae($e).indexOf(Ae(We))},Ae=function(We){return We.toLowerCase()},at=function(We,$e){if(typeof We===v)return We=We.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof $e===I?We:We.substring(0,255)},E=function(We,$e){for(var Fe,qe,ht,Ce,tt,Ze,Tt=0;Tt<$e.length&&!tt;){var Mt=$e[Tt],ln=$e[Tt+1];for(Fe=qe=0;Fe<Mt.length&&!tt;)if(tt=Mt[Fe++].exec(We))for(ht=0;ht<ln.length;ht++)Ze=tt[++qe],typeof(Ce=ln[ht])===A&&Ce.length>0?2===Ce.length?this[Ce[0]]=typeof Ce[1]==d?Ce[1].call(this,Ze):Ce[1]:3===Ce.length?this[Ce[0]]=typeof Ce[1]!==d||Ce[1].exec&&Ce[1].test?Ze?Ze.replace(Ce[1],Ce[2]):f:Ze?Ce[1].call(this,Ze,Ce[2]):f:4===Ce.length&&(this[Ce[0]]=Ze?Ce[3].call(this,Ze.replace(Ce[1],Ce[2])):f):this[Ce]=Ze||f;Tt+=2}},g=function(We,$e){for(var Fe in $e)if(typeof $e[Fe]===A&&$e[Fe].length>0){for(var qe=0;qe<$e[Fe].length;qe++)if(pe($e[Fe][qe],We))return"?"===Fe?f:Fe}else if(pe($e[Fe],We))return"?"===Fe?f:Fe;return We},R={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},O={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[T,[D,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[T,[D,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[D,T],[/opios[\/ ]+([\w\.]+)/i],[T,[D,Rt+" Mini"]],[/\bopr\/([\w\.]+)/i],[T,[D,Rt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[D,T],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[T,[D,"UC"+gt]],[/\bqbcore\/([\w\.]+)/i],[T,[D,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[T,[D,"WeChat"]],[/konqueror\/([\w\.]+)/i],[T,[D,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[T,[D,"IE"]],[/yabrowser\/([\w\.]+)/i],[T,[D,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[D,/(.+)/,"$1 Secure "+gt],T],[/\bfocus\/([\w\.]+)/i],[T,[D,Ge+" Focus"]],[/\bopt\/([\w\.]+)/i],[T,[D,Rt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[T,[D,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[T,[D,"Dolphin"]],[/coast\/([\w\.]+)/i],[T,[D,Rt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[T,[D,"MIUI "+gt]],[/fxios\/([-\w\.]+)/i],[T,[D,Ge]],[/\bqihu|(qi?ho?o?|360)browser/i],[[D,"360 "+gt]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[D,/(.+)/,"$1 "+gt],T],[/(comodo_dragon)\/([\w\.]+)/i],[[D,/_/g," "],T],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[D,T],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[D],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[D,Je],T],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[D,T],[/\bgsa\/([\w\.]+) .*safari\//i],[T,[D,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[T,[D,_e+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[D,_e+" WebView"],T],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[T,[D,"Android "+gt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[D,T],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[T,[D,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[T,D],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[D,[T,g,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[D,T],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[D,"Netscape"],T],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[T,[D,Ge+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[D,T]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[j,"amd64"]],[/(ia32(?=;))/i],[[j,Ae]],[/((?:i[346]|x)86)[;\)]/i],[[j,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[j,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[j,"armhf"]],[/windows (ce|mobile); ppc;/i],[[j,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[j,/ower/,"",Ae]],[/(sun4\w)[;\)]/i],[[j,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[j,Ae]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[S,[y,xe],[h,$]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[S,[y,xe],[h,Y]],[/\((ip(?:hone|od)[\w ]*);/i],[S,[y,ue],[h,Y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[S,[y,ue],[h,$]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[S,[y,"Huawei"],[h,$]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[S,[y,"Huawei"],[h,Y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[S,/_/g," "],[y,"Xiaomi"],[h,Y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[S,/_/g," "],[y,"Xiaomi"],[h,$]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[S,[y,"OPPO"],[h,Y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[S,[y,"Vivo"],[h,Y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[S,[y,"Realme"],[h,Y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[S,[y,Qe],[h,Y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[S,[y,Qe],[h,$]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[S,[y,"LG"],[h,$]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[S,[y,"LG"],[h,Y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[S,[y,"Lenovo"],[h,$]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[S,/_/g," "],[y,"Nokia"],[h,Y]],[/(pixel c)\b/i],[S,[y,ut],[h,$]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[S,[y,ut],[h,Y]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[S,[y,et],[h,Y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[S,"Xperia Tablet"],[y,et],[h,$]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[S,[y,"OnePlus"],[h,Y]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[S,[y,X],[h,$]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[S,/(.+)/g,"Fire Phone $1"],[y,X],[h,Y]],[/(playbook);[-\w\),; ]+(rim)/i],[S,y,[h,$]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[S,[y,Pe],[h,Y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[S,[y,"ASUS"],[h,$]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[S,[y,"ASUS"],[h,Y]],[/(nexus 9)/i],[S,[y,"HTC"],[h,$]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[y,[S,/_/g," "],[h,Y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[S,[y,"Acer"],[h,$]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[S,[y,"Meizu"],[h,Y]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[S,[y,"Sharp"],[h,Y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,S,[h,Y]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,S,[h,$]],[/(surface duo)/i],[S,[y,ot],[h,$]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[S,[y,"Fairphone"],[h,Y]],[/(u304aa)/i],[S,[y,"AT&T"],[h,Y]],[/\bsie-(\w*)/i],[S,[y,"Siemens"],[h,Y]],[/\b(rct\w+) b/i],[S,[y,"RCA"],[h,$]],[/\b(venue[\d ]{2,7}) b/i],[S,[y,"Dell"],[h,$]],[/\b(q(?:mv|ta)\w+) b/i],[S,[y,"Verizon"],[h,$]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[S,[y,"Barnes & Noble"],[h,$]],[/\b(tm\d{3}\w+) b/i],[S,[y,"NuVision"],[h,$]],[/\b(k88) b/i],[S,[y,"ZTE"],[h,$]],[/\b(nx\d{3}j) b/i],[S,[y,"ZTE"],[h,Y]],[/\b(gen\d{3}) b.+49h/i],[S,[y,"Swiss"],[h,Y]],[/\b(zur\d{3}) b/i],[S,[y,"Swiss"],[h,$]],[/\b((zeki)?tb.*\b) b/i],[S,[y,"Zeki"],[h,$]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],S,[h,$]],[/\b(ns-?\w{0,9}) b/i],[S,[y,"Insignia"],[h,$]],[/\b((nxa|next)-?\w{0,9}) b/i],[S,[y,"NextBook"],[h,$]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],S,[h,Y]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],S,[h,Y]],[/\b(ph-1) /i],[S,[y,"Essential"],[h,Y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[S,[y,"Envizen"],[h,$]],[/\b(trio[-\w\. ]+) b/i],[S,[y,"MachSpeed"],[h,$]],[/\btu_(1491) b/i],[S,[y,"Rotor"],[h,$]],[/(shield[\w ]+) b/i],[S,[y,"Nvidia"],[h,$]],[/(sprint) (\w+)/i],[y,S,[h,Y]],[/(kin\.[onetw]{3})/i],[[S,/\./g," "],[y,ot],[h,Y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[S,[y,Ct],[h,$]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[S,[y,Ct],[h,Y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,S,[h,Q]],[/droid.+; (shield) bui/i],[S,[y,"Nvidia"],[h,Q]],[/(playstation [345portablevi]+)/i],[S,[y,et],[h,Q]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[S,[y,ot],[h,Q]],[/smart-tv.+(samsung)/i],[y,[h,fe]],[/hbbtv.+maple;(\d+)/i],[[S,/^/,"SmartTV"],[y,xe],[h,fe]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,"LG"],[h,fe]],[/(apple) ?tv/i],[y,[S,ue+" TV"],[h,fe]],[/crkey/i],[[S,_e+"cast"],[y,ut],[h,fe]],[/droid.+aft(\w)( bui|\))/i],[S,[y,X],[h,fe]],[/\(dtv[\);].+(aquos)/i],[S,[y,"Sharp"],[h,fe]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[y,at],[S,at],[h,fe]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,fe]],[/((pebble))app/i],[y,S,[h,Z]],[/droid.+; (glass) \d/i],[S,[y,ut],[h,Z]],[/droid.+; (wt63?0{2,3})\)/i],[S,[y,Ct],[h,Z]],[/(quest( 2)?)/i],[S,[y,Je],[h,Z]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[h,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[S,[h,Y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[S,[h,$]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,$]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,Y]],[/(android[-\w\. ]{0,9});.+buil/i],[S,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[T,[D,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[T,[D,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[D,T],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[T,D]],os:[[/microsoft (windows) (vista|xp)/i],[D,T],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[D,[T,g,R]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[D,"Windows"],[T,g,R]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[T,/_/g,"."],[D,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[D,"Mac OS"],[T,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[T,D],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[D,T],[/\(bb(10);/i],[T,[D,Pe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[T,[D,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[T,[D,Ge+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[T,[D,"webOS"]],[/crkey\/([\d\.]+)/i],[T,[D,_e+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[D,"Chromium OS"],T],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[D,T],[/(sunos) ?([\w\.\d]*)/i],[[D,"Solaris"],T],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[D,T]]},ae=function(We,$e){if(typeof We===A&&($e=We,We=f),!(this instanceof ae))return new ae(We,$e).getResult();var Fe=We||(typeof N!==I&&N.navigator&&N.navigator.userAgent?N.navigator.userAgent:""),qe=$e?function(ht,Ce){var tt={};for(var Ze in ht)tt[Ze]=Ce[Ze]&&Ce[Ze].length%2==0?Ce[Ze].concat(ht[Ze]):ht[Ze];return tt}(O,$e):O;return this.getBrowser=function(){var ht,Ce={};return Ce[D]=f,Ce[T]=f,E.call(Ce,Fe,qe.browser),Ce.major=typeof(ht=Ce.version)===v?ht.replace(/[^\d\.]/g,"").split(".")[0]:f,Ce},this.getCPU=function(){var ht={};return ht[j]=f,E.call(ht,Fe,qe.cpu),ht},this.getDevice=function(){var ht={};return ht[y]=f,ht[S]=f,ht[h]=f,E.call(ht,Fe,qe.device),ht},this.getEngine=function(){var ht={};return ht[D]=f,ht[T]=f,E.call(ht,Fe,qe.engine),ht},this.getOS=function(){var ht={};return ht[D]=f,ht[T]=f,E.call(ht,Fe,qe.os),ht},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Fe},this.setUA=function(ht){return Fe=typeof ht===v&&ht.length>255?at(ht,255):ht,this},this.setUA(Fe),this};ae.VERSION="1.0.2",ae.BROWSER=yt([D,T,"major"]),ae.CPU=yt([j]),ae.DEVICE=yt([S,y,h,Q,Y,fe,$,Z,k]),ae.ENGINE=ae.OS=yt([D,T]),typeof ze!==I?(Et.exports&&(ze=Et.exports=ae),ze.UAParser=ae):H.amdO?(ve=function(){return ae}.call(ze,H,ze,Et))===f||(Et.exports=ve):typeof N!==I&&(N.UAParser=ae);var oe=typeof N!==I&&(N.jQuery||N.Zepto);if(oe&&!oe.ua){var De=new ae;oe.ua=De.getResult(),oe.ua.get=function(){return De.getUA()},oe.ua.set=function(We){De.setUA(We);var $e=De.getResult();for(var Fe in $e)oe.ua[Fe]=$e[Fe]}}}("object"==typeof window?window:this)},7839:function(Et,ze,H){function ve(N){try{if(!H.g.localStorage)return!1}catch{return!1}var f=H.g.localStorage[N];return null!=f&&"true"===String(f).toLowerCase()}Et.exports=function(N,f){if(ve("noDeprecation"))return N;var d=!1;return function(){if(!d){if(ve("throwDeprecation"))throw new Error(f);ve("traceDeprecation")?console.trace(f):console.warn(f),d=!0}return N.apply(this,arguments)}}},9862:function(){},964:function(){},3165:function(Et){"use strict";Et.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:function(Et){"use strict";Et.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:function(Et){"use strict";Et.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:function(Et){"use strict";Et.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:function(Et){"use strict";Et.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:function(Et){"use strict";Et.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},Ri={};function Yn(Et){var ze=Ri[Et];if(void 0!==ze)return ze.exports;var H=Ri[Et]={exports:{}};return Qa[Et].call(H.exports,H,H.exports,Yn),H.exports}Yn.amdO={},Yn.n=function(Et){var ze=Et&&Et.__esModule?function(){return Et.default}:function(){return Et};return Yn.d(ze,{a:ze}),ze},Yn.d=function(Et,ze){for(var H in ze)Yn.o(ze,H)&&!Yn.o(Et,H)&&Object.defineProperty(Et,H,{enumerable:!0,get:ze[H]})},Yn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Yn.o=function(Et,ze){return Object.prototype.hasOwnProperty.call(Et,ze)};var Wo={};return function(){"use strict";Yn.d(Wo,{default:function(){return A}}),Yn(8416);var Et,ze=Yn(1715),H=Yn(8080),ve=Yn(1737),N=Yn(7688),f=function(){var v,S="application/dash+xml";function D(y,T,j){if(!y||!/^VIDEO$/i.test(y.nodeName))return null;if(y._dashjs_player)return y._dashjs_player;var Q,Y=y.id||y.name||"video element";if(!(T=T||[].slice.call(y.querySelectorAll("source")).filter(function($){return $.type==S})[0])&&y.src)(T=document.createElement("source")).src=y.src;else if(!T&&!y.src)return null;return(Q=(0,N.Z)(j=j||{}).create()).initialize(y,T.src,y.autoplay),v||(v=Q.getDebug().getLogger()),v.debug("Converted "+Y+" to dash.js player and added content: "+T.src),y._dashjs_player=Q,Q}function h(y){return/^VIDEO$/i.test(y.nodeName)?y:h(y.parentNode)}return{create:D,createAll:function(y,T){var j=[];y=y||"[data-dashjs-player]";for(var Q=(T=T||document).querySelectorAll(y),Y=0;Y<Q.length;Y++){var $=D(Q[Y],null);j.push($)}for(var fe=T.querySelectorAll('source[type="'+S+'"]'),Z=0;Z<fe.length;Z++){var k=D(h(fe[Z]),null);j.push(k)}return j}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?f.createAll():Et=window.setInterval(function(){window.dashjs&&(window.clearInterval(Et),f.createAll())},500):window.addEventListener("load",function v(){window.removeEventListener("load",v),f.createAll()}));var d=f,I=Yn(6398);dashjs.Protection=ve.default,dashjs.MetricsReporting=H.default,dashjs.MediaPlayerFactory=d,dashjs.Debug=I.Z,dashjs.supportsMediaSource=ze.B;var A=dashjs}(),Wo.default}()},307:()=>{var Xa,Qa;Qa=Xa||(Xa={}),function(Ri){var Yn="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),Wo=Et(Qa);function Et(ze,H){return function(ve,N){"function"!=typeof ze[ve]&&Object.defineProperty(ze,ve,{configurable:!0,writable:!0,value:N}),H&&H(ve,N)}}typeof Yn.Reflect>"u"?Yn.Reflect=Qa:Wo=Et(Yn.Reflect,Wo),function(Ri){var Yn=Object.prototype.hasOwnProperty,Wo="function"==typeof Symbol,Et=Wo&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",ze=Wo&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",H="function"==typeof Object.create,ve={__proto__:[]}instanceof Array,N=!H&&!ve,f={create:H?function(){return ht(Object.create(null))}:ve?function(){return ht({__proto__:null})}:function(){return ht({})},has:N?function(Ce,tt){return Yn.call(Ce,tt)}:function(Ce,tt){return tt in Ce},get:N?function(Ce,tt){return Yn.call(Ce,tt)?Ce[tt]:void 0}:function(Ce,tt){return Ce[tt]}},d=Object.getPrototypeOf(Function),I="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,A=I||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function $e(){var Ce={},tt=[],Ze=function(){function _n(Dn,In,Xn){this._index=0,this._keys=Dn,this._values=In,this._selector=Xn}return _n.prototype["@@iterator"]=function(){return this},_n.prototype[ze]=function(){return this},_n.prototype.next=function(){var Dn=this._index;if(Dn>=0&&Dn<this._keys.length){var In=this._selector(this._keys[Dn],this._values[Dn]);return Dn+1>=this._keys.length?(this._index=-1,this._keys=tt,this._values=tt):this._index++,{value:In,done:!1}}return{value:void 0,done:!0}},_n.prototype.throw=function(Dn){throw this._index>=0&&(this._index=-1,this._keys=tt,this._values=tt),Dn},_n.prototype.return=function(Dn){return this._index>=0&&(this._index=-1,this._keys=tt,this._values=tt),{value:Dn,done:!0}},_n}();return function(){function _n(){this._keys=[],this._values=[],this._cacheKey=Ce,this._cacheIndex=-2}return Object.defineProperty(_n.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),_n.prototype.has=function(Dn){return this._find(Dn,!1)>=0},_n.prototype.get=function(Dn){var In=this._find(Dn,!1);return In>=0?this._values[In]:void 0},_n.prototype.set=function(Dn,In){var Xn=this._find(Dn,!0);return this._values[Xn]=In,this},_n.prototype.delete=function(Dn){var In=this._find(Dn,!1);if(In>=0){for(var Xn=this._keys.length,Bn=In+1;Bn<Xn;Bn++)this._keys[Bn-1]=this._keys[Bn],this._values[Bn-1]=this._values[Bn];return this._keys.length--,this._values.length--,Dn===this._cacheKey&&(this._cacheKey=Ce,this._cacheIndex=-2),!0}return!1},_n.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Ce,this._cacheIndex=-2},_n.prototype.keys=function(){return new Ze(this._keys,this._values,Tt)},_n.prototype.values=function(){return new Ze(this._keys,this._values,Mt)},_n.prototype.entries=function(){return new Ze(this._keys,this._values,ln)},_n.prototype["@@iterator"]=function(){return this.entries()},_n.prototype[ze]=function(){return this.entries()},_n.prototype._find=function(Dn,In){return this._cacheKey!==Dn&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Dn)),this._cacheIndex<0&&In&&(this._cacheIndex=this._keys.length,this._keys.push(Dn),this._values.push(void 0)),this._cacheIndex},_n}();function Tt(_n,Dn){return _n}function Mt(_n,Dn){return Dn}function ln(_n,Dn){return[_n,Dn]}}():Map,v=I||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Fe(){return function(){function Ce(){this._map=new A}return Object.defineProperty(Ce.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Ce.prototype.has=function(tt){return this._map.has(tt)},Ce.prototype.add=function(tt){return this._map.set(tt,tt),this},Ce.prototype.delete=function(tt){return this._map.delete(tt)},Ce.prototype.clear=function(){this._map.clear()},Ce.prototype.keys=function(){return this._map.keys()},Ce.prototype.values=function(){return this._map.values()},Ce.prototype.entries=function(){return this._map.entries()},Ce.prototype["@@iterator"]=function(){return this.keys()},Ce.prototype[ze]=function(){return this.keys()},Ce}()}():Set,D=new(I||"function"!=typeof WeakMap?function qe(){var Ce=16,tt=f.create(),Ze=Tt();return function(){function In(){this._key=Tt()}return In.prototype.has=function(Xn){var Bn=Mt(Xn,!1);return void 0!==Bn&&f.has(Bn,this._key)},In.prototype.get=function(Xn){var Bn=Mt(Xn,!1);return void 0!==Bn?f.get(Bn,this._key):void 0},In.prototype.set=function(Xn,Bn){return Mt(Xn,!0)[this._key]=Bn,this},In.prototype.delete=function(Xn){var Bn=Mt(Xn,!1);return void 0!==Bn&&delete Bn[this._key]},In.prototype.clear=function(){this._key=Tt()},In}();function Tt(){var In;do{In="@@WeakMap@@"+Dn()}while(f.has(tt,In));return tt[In]=!0,In}function Mt(In,Xn){if(!Yn.call(In,Ze)){if(!Xn)return;Object.defineProperty(In,Ze,{value:f.create()})}return In[Ze]}function ln(In,Xn){for(var Bn=0;Bn<Xn;++Bn)In[Bn]=255*Math.random()|0;return In}function Dn(){var In=function _n(In){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(In)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(In)):ln(new Uint8Array(In),In):ln(new Array(In),In)}(Ce);In[6]=79&In[6]|64,In[8]=191&In[8]|128;for(var Xn="",Bn=0;Bn<Ce;++Bn){var Er=In[Bn];(4===Bn||6===Bn||8===Bn)&&(Xn+="-"),Er<16&&(Xn+="0"),Xn+=Er.toString(16).toLowerCase()}return Xn}}():WeakMap);function de(Ce,tt,Ze){var Tt=D.get(Ce);if(Qe(Tt)){if(!Ze)return;Tt=new A,D.set(Ce,Tt)}var Mt=Tt.get(tt);if(Qe(Mt)){if(!Ze)return;Mt=new A,Tt.set(tt,Mt)}return Mt}function Pe(Ce,tt,Ze){if(gt(Ce,tt,Ze))return!0;var Mt=We(tt);return!Rt(Mt)&&Pe(Ce,Mt,Ze)}function gt(Ce,tt,Ze){var Tt=de(tt,Ze,!1);return!Qe(Tt)&&function Je(Ce){return!!Ce}(Tt.has(Ce))}function _e(Ce,tt,Ze){if(gt(Ce,tt,Ze))return Ge(Ce,tt,Ze);var Mt=We(tt);return Rt(Mt)?void 0:_e(Ce,Mt,Ze)}function Ge(Ce,tt,Ze){var Tt=de(tt,Ze,!1);if(!Qe(Tt))return Tt.get(Ce)}function ut(Ce,tt,Ze,Tt){de(Ze,Tt,!0).set(Ce,tt)}function Ve(Ce,tt){var Ze=ke(Ce,tt),Tt=We(Ce);if(null===Tt)return Ze;var Mt=Ve(Tt,tt);if(Mt.length<=0)return Ze;if(Ze.length<=0)return Mt;for(var ln=new v,_n=[],Dn=0,In=Ze;Dn<In.length;Dn++)ln.has(Xn=In[Dn])||(ln.add(Xn),_n.push(Xn));for(var Er=0,gi=Mt;Er<gi.length;Er++){var Xn;ln.has(Xn=gi[Er])||(ln.add(Xn),_n.push(Xn))}return _n}function ke(Ce,tt){var Ze=[],Tt=de(Ce,tt,!1);if(Qe(Tt))return Ze;for(var ln=function O(Ce){var tt=R(Ce,ze);if(!at(tt))throw new TypeError;var Ze=tt.call(Ce);if(!et(Ze))throw new TypeError;return Ze}(Tt.keys()),_n=0;;){var Dn=oe(ln);if(!Dn)return Ze.length=_n,Ze;var In=ae(Dn);try{Ze[_n]=In}catch(Xn){try{De(ln)}finally{throw Xn}}_n++}}function ot(Ce){if(null===Ce)return 1;switch(typeof Ce){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Ce?1:6;default:return 6}}function Qe(Ce){return void 0===Ce}function Rt(Ce){return null===Ce}function et(Ce){return"object"==typeof Ce?null!==Ce:"function"==typeof Ce}function jt(Ce,tt){switch(ot(Ce)){case 0:case 1:case 2:case 3:case 4:case 5:return Ce}var Ze=3===tt?"string":5===tt?"number":"default",Tt=R(Ce,Et);if(void 0!==Tt){var Mt=Tt.call(Ce,Ze);if(et(Mt))throw new TypeError;return Mt}return function Ct(Ce,tt){if("string"===tt){var Ze=Ce.toString;if(at(Ze)&&!et(Tt=Ze.call(Ce)))return Tt;if(at(Mt=Ce.valueOf)&&!et(Tt=Mt.call(Ce)))return Tt}else{var Mt;if(at(Mt=Ce.valueOf)&&!et(Tt=Mt.call(Ce)))return Tt;var Tt,ln=Ce.toString;if(at(ln)&&!et(Tt=ln.call(Ce)))return Tt}throw new TypeError}(Ce,"default"===Ze?"number":Ze)}function pe(Ce){var tt=jt(Ce,3);return function xe(Ce){return"symbol"==typeof Ce}(tt)?tt:function yt(Ce){return""+Ce}(tt)}function Ae(Ce){return Array.isArray?Array.isArray(Ce):Ce instanceof Object?Ce instanceof Array:"[object Array]"===Object.prototype.toString.call(Ce)}function at(Ce){return"function"==typeof Ce}function E(Ce){return"function"==typeof Ce}function R(Ce,tt){var Ze=Ce[tt];if(null!=Ze){if(!at(Ze))throw new TypeError;return Ze}}function ae(Ce){return Ce.value}function oe(Ce){var tt=Ce.next();return!tt.done&&tt}function De(Ce){var tt=Ce.return;tt&&tt.call(Ce)}function We(Ce){var tt=Object.getPrototypeOf(Ce);if("function"!=typeof Ce||Ce===d||tt!==d)return tt;var Ze=Ce.prototype,Tt=Ze&&Object.getPrototypeOf(Ze);if(null==Tt||Tt===Object.prototype)return tt;var Mt=Tt.constructor;return"function"!=typeof Mt||Mt===Ce?tt:Mt}function ht(Ce){return Ce.__=void 0,delete Ce.__,Ce}Ri("decorate",function h(Ce,tt,Ze,Tt){if(Qe(Ze)){if(!Ae(Ce))throw new TypeError;if(!E(tt))throw new TypeError;return function X(Ce,tt){for(var Ze=Ce.length-1;Ze>=0;--Ze){var Mt=(0,Ce[Ze])(tt);if(!Qe(Mt)&&!Rt(Mt)){if(!E(Mt))throw new TypeError;tt=Mt}}return tt}(Ce,tt)}if(!Ae(Ce))throw new TypeError;if(!et(tt))throw new TypeError;if(!et(Tt)&&!Qe(Tt)&&!Rt(Tt))throw new TypeError;return Rt(Tt)&&(Tt=void 0),function ue(Ce,tt,Ze,Tt){for(var Mt=Ce.length-1;Mt>=0;--Mt){var _n=(0,Ce[Mt])(tt,Ze,Tt);if(!Qe(_n)&&!Rt(_n)){if(!et(_n))throw new TypeError;Tt=_n}}return Tt}(Ce,tt,Ze=pe(Ze),Tt)}),Ri("metadata",function y(Ce,tt){return function Ze(Tt,Mt){if(!et(Tt))throw new TypeError;if(!Qe(Mt)&&!function g(Ce){switch(ot(Ce)){case 3:case 4:return!0;default:return!1}}(Mt))throw new TypeError;ut(Ce,tt,Tt,Mt)}}),Ri("defineMetadata",function T(Ce,tt,Ze,Tt){if(!et(Ze))throw new TypeError;return Qe(Tt)||(Tt=pe(Tt)),ut(Ce,tt,Ze,Tt)}),Ri("hasMetadata",function j(Ce,tt,Ze){if(!et(tt))throw new TypeError;return Qe(Ze)||(Ze=pe(Ze)),Pe(Ce,tt,Ze)}),Ri("hasOwnMetadata",function Q(Ce,tt,Ze){if(!et(tt))throw new TypeError;return Qe(Ze)||(Ze=pe(Ze)),gt(Ce,tt,Ze)}),Ri("getMetadata",function Y(Ce,tt,Ze){if(!et(tt))throw new TypeError;return Qe(Ze)||(Ze=pe(Ze)),_e(Ce,tt,Ze)}),Ri("getOwnMetadata",function $(Ce,tt,Ze){if(!et(tt))throw new TypeError;return Qe(Ze)||(Ze=pe(Ze)),Ge(Ce,tt,Ze)}),Ri("getMetadataKeys",function fe(Ce,tt){if(!et(Ce))throw new TypeError;return Qe(tt)||(tt=pe(tt)),Ve(Ce,tt)}),Ri("getOwnMetadataKeys",function Z(Ce,tt){if(!et(Ce))throw new TypeError;return Qe(tt)||(tt=pe(tt)),ke(Ce,tt)}),Ri("deleteMetadata",function k(Ce,tt,Ze){if(!et(tt))throw new TypeError;Qe(Ze)||(Ze=pe(Ze));var Tt=de(tt,Ze,!1);if(Qe(Tt)||!Tt.delete(Ce))return!1;if(Tt.size>0)return!0;var Mt=D.get(tt);return Mt.delete(Ze),Mt.size>0||D.delete(tt),!0})}(Wo)}()}},Xa=>{Xa(Xa.s=654)}]);