(self.webpackChunkRedditReader=self.webpackChunkRedditReader||[]).push([[179],{629:(ka,Ua,Or)=>{"use strict";function sn(n){return"function"==typeof n}function ai(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Me=ai(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function K(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class u{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(sn(r))try{r()}catch(o){t=o instanceof Me?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{T(o)}catch(l){t=t??[],l instanceof Me?t=[...t,...l.errors]:t.push(l)}}if(t)throw new Me(t)}}add(t){var e;if(t&&t!==this)if(this.closed)T(t);else{if(t instanceof u){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&K(e,t)}remove(t){const{_finalizers:e}=this;e&&K(e,t),t instanceof u&&t._removeParent(this)}}u.EMPTY=(()=>{const n=new u;return n.closed=!0,n})();const V=u.EMPTY;function C(n){return n instanceof u||n&&"closed"in n&&sn(n.remove)&&sn(n.add)&&sn(n.unsubscribe)}function T(n){sn(n)?n():n.unsubscribe()}const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},A={setTimeout(n,t,...e){const{delegate:r}=A;return r?.setTimeout?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=A;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function M(n){A.setTimeout(()=>{const{onUnhandledError:t}=p;if(!t)throw n;t(n)})}function f(){}const S=j("C",void 0,void 0);function j(n,t,e){return{kind:n,value:t,error:e}}let x=null;function y(n){if(p.useDeprecatedSynchronousErrorHandling){const t=!x;if(t&&(x={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=x;if(x=null,e)throw r}}else n()}class d extends u{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,C(t)&&t.add(this)):this.destination=I}static create(t,e,r){return new b(t,e,r)}next(t){this.isStopped?R(function w(n){return j("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?R(function F(n){return j("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?R(S,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const D=Function.prototype.bind;function _(n,t){return D.call(n,t)}class E{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){g(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){g(r)}else g(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){g(e)}}}class b extends d{constructor(t,e,r){let i;if(super(),sn(t)||!t)i={next:t??void 0,error:e??void 0,complete:r??void 0};else{let o;this&&p.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&_(t.next,o),error:t.error&&_(t.error,o),complete:t.complete&&_(t.complete,o)}):i=t}this.destination=new E(i)}}function g(n){p.useDeprecatedSynchronousErrorHandling?function m(n){p.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=n)}(n):M(n)}function R(n,t){const{onStoppedNotification:e}=p;e&&A.setTimeout(()=>e(n,t))}const I={closed:!0,next:f,error:function h(n){throw n},complete:f},W="function"==typeof Symbol&&Symbol.observable||"@@observable";function z(n){return n}function ie(n){return 0===n.length?z:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}let ue=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function Z(n){return n&&n instanceof d||function te(n){return n&&sn(n.next)&&sn(n.error)&&sn(n.complete)}(n)&&C(n)}(e)?e:new b(e,r,i);return y(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Y(r))((i,o)=>{const l=new b({next:c=>{try{e(c)}catch(v){o(v),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[W](){return this}pipe(...e){return ie(e)(this)}toPromise(e){return new(e=Y(e))((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return n.create=t=>new n(t),n})();function Y(n){var t;return null!==(t=n??p.Promise)&&void 0!==t?t:Promise}const ae=ai(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ne=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new le(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new ae}next(e){y(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){y(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){y(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?V:(this.currentObservers=null,o.push(e),new u(()=>{this.currentObservers=null,K(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new ue;return e.source=this,e}}return n.create=(t,e)=>new le(t,e),n})();class le extends ne{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:V}}function se(n){return sn(n?.lift)}function ge(n){return t=>{if(se(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(n,t,e,r,i){return new he(n,t,e,r,i)}class he extends d{constructor(t,e,r,i,o,l){super(t),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=e?function(c){try{e(c)}catch(v){t.error(v)}}:super._next,this._error=i?function(c){try{i(c)}catch(v){t.error(v)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function pe(n,t){return ge((e,r)=>{let i=0;e.subscribe($(r,o=>{r.next(n.call(t,o,i++))}))})}function ve(n){return this instanceof ve?(this.v=n,this):new ve(n)}function He(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function G(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(l){return new Promise(function(c,v){!function i(o,l,c,v){Promise.resolve(v).then(function(B){o({value:B,done:c})},l)}(c,v,(l=n[o](l)).done,l.value)})}}}const Dt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Fe(n){return sn(n?.then)}function Ze(n){return sn(n[W])}function qe(n){return Symbol.asyncIterator&&sn(n?.[Symbol.asyncIterator])}function pt(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const It=function Tt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wt(n){return sn(n?.[It])}function rn(n){return function Ce(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(Te){r[Te]&&(i[Te]=function(Ie){return new Promise(function(Le,Ge){o.push([Te,Ie,Le,Ge])>1||c(Te,Ie)})})}function c(Te,Ie){try{!function v(Te){Te.value instanceof ve?Promise.resolve(Te.value.v).then(B,X):fe(o[0][2],Te)}(r[Te](Ie))}catch(Le){fe(o[0][3],Le)}}function B(Te){c("next",Te)}function X(Te){c("throw",Te)}function fe(Te,Ie){Te(Ie),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield ve(e.read());if(i)return yield ve(void 0);yield yield ve(r)}}finally{e.releaseLock()}})}function at(n){return sn(n?.getReader)}function Ae(n){if(n instanceof ue)return n;if(null!=n){if(Ze(n))return function ye(n){return new ue(t=>{const e=n[W]();if(sn(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Dt(n))return function Oe(n){return new ue(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Fe(n))return function We(n){return new ue(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,M)})}(n);if(qe(n))return ut(n);if(wt(n))return function Ke(n){return new ue(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(at(n))return function Et(n){return ut(rn(n))}(n)}throw pt(n)}function ut(n){return new ue(t=>{(function gt(n,t){var e,r,i,o;return function Q(n,t,e,r){return new(e||(e=Promise))(function(o,l){function c(X){try{B(r.next(X))}catch(fe){l(fe)}}function v(X){try{B(r.throw(X))}catch(fe){l(fe)}}function B(X){X.done?o(X.value):function i(o){return o instanceof e?o:new e(function(l){l(o)})}(X.value).then(c,v)}B((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=He(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function St(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Kt(n,t,e=1/0){return sn(t)?Kt((r,i)=>pe((o,l)=>t(r,o,i,l))(Ae(n(r,i))),e):("number"==typeof t&&(e=t),ge((r,i)=>function Wt(n,t,e,r,i,o,l,c){const v=[];let B=0,X=0,fe=!1;const Te=()=>{fe&&!v.length&&!B&&t.complete()},Ie=Ge=>B<r?Le(Ge):v.push(Ge),Le=Ge=>{o&&t.next(Ge),B++;let dt=!1;Ae(e(Ge,X++)).subscribe($(t,_t=>{i?.(_t),o?Ie(_t):t.next(_t)},()=>{dt=!0},void 0,()=>{if(dt)try{for(B--;v.length&&B<r;){const _t=v.shift();l?St(t,l,()=>Le(_t)):Le(_t)}Te()}catch(_t){t.error(_t)}}))};return n.subscribe($(t,Ie,()=>{fe=!0,Te()})),()=>{c?.()}}(r,i,n,e)))}function Pe(n=1/0){return Kt(z,n)}const ze=new ue(n=>n.complete());function At(n){return n&&sn(n.schedule)}function Bt(n){return n[n.length-1]}function on(n){return sn(Bt(n))?n.pop():void 0}function vn(n){return At(Bt(n))?n.pop():void 0}function Se(n,t=0){return ge((e,r)=>{e.subscribe($(r,i=>St(r,n,()=>r.next(i),t),()=>St(r,n,()=>r.complete(),t),i=>St(r,n,()=>r.error(i),t)))})}function tt(n,t=0){return ge((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function xt(n,t){if(!n)throw new Error("Iterable cannot be null");return new ue(e=>{St(e,t,()=>{const r=n[Symbol.asyncIterator]();St(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function kt(n,t){return t?function $t(n,t){if(null!=n){if(Ze(n))return function Mt(n,t){return Ae(n).pipe(tt(t),Se(t))}(n,t);if(Dt(n))return function $e(n,t){return new ue(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(Fe(n))return function Ue(n,t){return Ae(n).pipe(tt(t),Se(t))}(n,t);if(qe(n))return xt(n,t);if(wt(n))return function st(n,t){return new ue(e=>{let r;return St(e,t,()=>{r=n[It](),St(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){return void e.error(l)}o?e.complete():e.next(i)},0,!0)}),()=>sn(r?.return)&&r.return()})}(n,t);if(at(n))return function dn(n,t){return xt(rn(n),t)}(n,t)}throw pt(n)}(n,t):Ae(n)}function Hn(...n){const t=vn(n),e=function Nn(n,t){return"number"==typeof Bt(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?Ae(r[0]):Pe(e)(kt(r,t)):ze}function Tn(n={}){const{connector:t=(()=>new ne),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let l,c,v,B=0,X=!1,fe=!1;const Te=()=>{c?.unsubscribe(),c=void 0},Ie=()=>{Te(),l=v=void 0,X=fe=!1},Le=()=>{const Ge=l;Ie(),Ge?.unsubscribe()};return ge((Ge,dt)=>{B++,!fe&&!X&&Te();const _t=v=v??t();dt.add(()=>{B--,0===B&&!fe&&!X&&(c=ft(Le,i))}),_t.subscribe(dt),!l&&B>0&&(l=new b({next:jt=>_t.next(jt),error:jt=>{fe=!0,Te(),c=ft(Ie,e,jt),_t.error(jt)},complete:()=>{X=!0,Te(),c=ft(Ie,r),_t.complete()}}),Ae(Ge).subscribe(l))})(o)}}function ft(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new b({next:()=>{r.unsubscribe(),n()}});return t(...e).subscribe(r)}function Pt(n){for(let t in n)if(n[t]===Pt)return t;throw Error("Could not find renamed property on target object.")}function Ht(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Qe(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const we=Pt({__forward_ref__:Pt});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return Ne(this())},n}function Je(n){return Gt(n)?n():n}function Gt(n){return"function"==typeof n&&n.hasOwnProperty(we)&&n.__forward_ref__===Xe}function Xt(n){return n&&!!n.\u0275providers}const In="https://g.co/ng/security#xss";class nt extends Error{constructor(t,e){super(vr(t,e)),this.code=t}}function vr(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}function fn(n){return"string"==typeof n?n:null==n?"":String(n)}function xn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():fn(n)}function Fo(n,t){throw new nt(-201,!1)}function qr(n,t){null==n&&function Un(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fn(n){return Dr(n,sl)||Dr(n,yf)}function Dr(n,t){return n.hasOwnProperty(t)?n[t]:null}function Bo(n){return n&&(n.hasOwnProperty(Hu)||n.hasOwnProperty(kp))?n[Hu]:null}const sl=Pt({\u0275prov:Pt}),Hu=Pt({\u0275inj:Pt}),yf=Pt({ngInjectableDef:Pt}),kp=Pt({ngInjectorDef:Pt});var mn=(()=>((mn=mn||{})[mn.Default=0]="Default",mn[mn.Host=1]="Host",mn[mn.Self=2]="Self",mn[mn.SkipSelf=4]="SkipSelf",mn[mn.Optional=8]="Optional",mn))();let ll;function Oi(n){const t=ll;return ll=n,t}function Ef(n,t,e){const r=Fn(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&mn.Optional?null:void 0!==t?t:void Fo(Ne(n))}const or=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gs={},Wu="__NG_DI_FLAG__",ul="ngTempTokenPath",jp="ngTokenPath",Vp=/\n/gm,Hp="\u0275",bf="__source";let _s;function Wa(n){const t=_s;return _s=n,t}function Wp(n,t=mn.Default){if(void 0===_s)throw new nt(-203,!1);return null===_s?Ef(n,void 0,t):_s.get(n,t&mn.Optional?null:void 0,t)}function ot(n,t=mn.Default){return(function Up(){return ll}()||Wp)(Je(n),t)}function pn(n,t=mn.Default){return ot(n,cl(t))}function cl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ku(n){const t=[];for(let e=0;e<n.length;e++){const r=Je(n[e]);if(Array.isArray(r)){if(0===r.length)throw new nt(900,!1);let i,o=mn.Default;for(let l=0;l<r.length;l++){const c=r[l],v=Kp(c);"number"==typeof v?-1===v?i=c.token:o|=v:i=c}t.push(ot(i,o))}else t.push(ot(r))}return t}function vs(n,t){return n[Wu]=t,n.prototype[Wu]=t,n}function Kp(n){return n[Wu]}function Vi(n){return{toString:n}.toString()}var Hi=(()=>((Hi=Hi||{})[Hi.OnPush=0]="OnPush",Hi[Hi.Default=1]="Default",Hi))(),xi=(()=>{return(n=xi||(xi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",xi;var n})();const To={},Kn=[],Ka=Pt({\u0275cmp:Pt}),Gu=Pt({\u0275dir:Pt}),zu=Pt({\u0275pipe:Pt}),Yu=Pt({\u0275mod:Pt}),uo=Pt({\u0275fac:Pt}),la=Pt({__NG_ELEMENT_ID__:Pt});let Ye=0;function ht(n){return Vi(()=>{const e=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Hi.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Kn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||xi.Emulated,id:"c"+Ye++,styles:n.styles||Kn,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=n.dependencies,l=n.features;return i.inputs=Eb(n.inputs,r),i.outputs=Eb(n.outputs),l&&l.forEach(c=>c(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Yn).filter(fr):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ei).filter(fr):null,i})}function Yn(n){return qn(n)||li(n)}function fr(n){return null!==n}function Wn(n){return Vi(()=>({type:n.type,bootstrap:n.bootstrap||Kn,declarations:n.declarations||Kn,imports:n.imports||Kn,exports:n.exports||Kn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Eb(n,t){if(null==n)return To;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const zt=ht;function Jr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function qn(n){return n[Ka]||null}function li(n){return n[Gu]||null}function Ei(n){return n[zu]||null}function Wi(n,t){const e=n[Yu]||null;if(!e&&!0===t)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return e}const ua=0,en=1,wn=2,Mr=3,Co=4,ys=5,ui=6,fl=7,Rr=8,Cf=9,Df=10,Ln=11,Yp=12,$u=13,bb=14,hl=15,ci=16,Xu=17,ml=18,ko=19,Qu=20,Tb=21,hr=22,$p=1,Cb=2,Mf=7,Sf=8,pl=9,bi=10;function Ki(n){return Array.isArray(n)&&"object"==typeof n[$p]}function Do(n){return Array.isArray(n)&&!0===n[$p]}function Xp(n){return 0!=(4&n.flags)}function Zu(n){return n.componentOffset>-1}function Af(n){return 1==(1&n.flags)}function Mo(n){return null!==n.template}function uO(n){return 0!=(256&n[wn])}function Es(n,t){return n.hasOwnProperty(uo)?n[uo]:null}class fO{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gi(){return Sb}function Sb(n){return n.type.prototype.ngOnChanges&&(n.setInput=mO),hO}function hO(){const n=Rb(this),t=n?.current;if(t){const e=n.previous;if(e===To)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function mO(n,t,e,r){const i=this.declaredInputs[e],o=Rb(n)||function pO(n,t){return n[Ab]=t}(n,{previous:To,current:null}),l=o.current||(o.current={}),c=o.previous,v=c[i];l[i]=new fO(v&&v.currentValue,t,c===To),n[r]=t}Gi.ngInherit=!0;const Ab="__ngSimpleChanges__";function Rb(n){return n[Ab]||null}const co=function(n,t,e){},Ib="svg";function ei(n){for(;Array.isArray(n);)n=n[ua];return n}function Rf(n,t){return ei(t[n])}function zi(n,t){return ei(t[n.index])}function Pb(n,t){return n.data[t]}function gl(n,t){return n[t]}function Yi(n,t){const e=t[n];return Ki(e)?e:e[ua]}function If(n){return 64==(64&n[wn])}function za(n,t){return null==t?null:n[t]}function Ob(n){n[ml]=0}function Zp(n,t){n[ys]+=t;let e=n,r=n[Mr];for(;null!==r&&(1===t&&1===e[ys]||-1===t&&0===e[ys]);)r[ys]+=t,e=r,r=r[Mr]}const Dn={lFrame:Hb(null),bindingsEnabled:!0};function Lb(){return Dn.bindingsEnabled}function Ot(){return Dn.lFrame.lView}function Gn(){return Dn.lFrame.tView}function lr(n){return Dn.lFrame.contextLView=n,n[Rr]}function ur(n){return Dn.lFrame.contextLView=null,n}function ti(){let n=Nb();for(;null!==n&&64===n.type;)n=n.parent;return n}function Nb(){return Dn.lFrame.currentTNode}function Uo(n,t){const e=Dn.lFrame;e.currentTNode=n,e.isParent=t}function qp(){return Dn.lFrame.isParent}function Jp(){Dn.lFrame.isParent=!1}function Ti(){const n=Dn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function _l(){return Dn.lFrame.bindingIndex++}function da(n){const t=Dn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function RO(n,t){const e=Dn.lFrame;e.bindingIndex=e.bindingRootIndex=n,eg(t)}function eg(n){Dn.lFrame.currentDirectiveIndex=n}function Ub(){return Dn.lFrame.currentQueryIndex}function ng(n){Dn.lFrame.currentQueryIndex=n}function wO(n){const t=n[en];return 2===t.type?t.declTNode:1===t.type?n[ui]:null}function jb(n,t,e){if(e&mn.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&mn.Host||(i=wO(o),null===i||(o=o[hl],10&i.type))););if(null===i)return!1;t=i,n=o}const r=Dn.lFrame=Vb();return r.currentTNode=t,r.lView=n,!0}function rg(n){const t=Vb(),e=n[en];Dn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Vb(){const n=Dn.lFrame,t=null===n?null:n.child;return null===t?Hb(n):t}function Hb(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Wb(){const n=Dn.lFrame;return Dn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Kb=Wb;function ig(){const n=Wb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ci(){return Dn.lFrame.selectedIndex}function bs(n){Dn.lFrame.selectedIndex=n}function yr(){const n=Dn.lFrame;return Pb(n.tView,n.selectedIndex)}function wf(){Dn.lFrame.currentNamespace=Ib}function Pf(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:v,ngAfterViewChecked:B,ngOnDestroy:X}=o;l&&(n.contentHooks||(n.contentHooks=[])).push(-e,l),c&&((n.contentHooks||(n.contentHooks=[])).push(e,c),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,c)),v&&(n.viewHooks||(n.viewHooks=[])).push(-e,v),B&&((n.viewHooks||(n.viewHooks=[])).push(e,B),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,B)),null!=X&&(n.destroyHooks||(n.destroyHooks=[])).push(e,X)}}function Of(n,t,e){zb(n,t,3,e)}function xf(n,t,e,r){(3&n[wn])===e&&zb(n,t,e,r)}function og(n,t){let e=n[wn];(3&e)===t&&(e&=2047,e+=1,n[wn]=e)}function zb(n,t,e,r){const o=r??-1,l=t.length-1;let c=0;for(let v=void 0!==r?65535&n[ml]:0;v<l;v++)if("number"==typeof t[v+1]){if(c=t[v],null!=r&&c>=r)break}else t[v]<0&&(n[ml]+=65536),(c<o||-1==o)&&(BO(n,e,t,v),n[ml]=(4294901760&n[ml])+v+2),v++}function BO(n,t,e,r){const i=e[r]<0,o=e[r+1],c=n[i?-e[r]:e[r]];if(i){if(n[wn]>>11<n[ml]>>16&&(3&n[wn])===t){n[wn]+=2048,co(4,c,o);try{o.call(c)}finally{co(5,c,o)}}}else{co(4,c,o);try{o.call(c)}finally{co(5,c,o)}}}const vl=-1;class Ju{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function sg(n,t,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],l=e[r++],c=e[r++];n.setAttribute(t,l,c,o)}else{const o=i,l=e[++r];$b(o)?n.setProperty(t,o,l):n.setAttribute(t,o,l),r++}}return r}function Yb(n){return 3===n||4===n||6===n}function $b(n){return 64===n.charCodeAt(0)}function ec(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||Xb(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function Xb(n,t,e,r,i){let o=0,l=n.length;if(-1===t)l=-1;else for(;o<n.length;){const c=n[o++];if("number"==typeof c){if(c===t){l=-1;break}if(c>t){l=o-1;break}}}for(;o<n.length;){const c=n[o];if("number"==typeof c)break;if(c===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(n.splice(l,0,t),o=l+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Qb(n){return n!==vl}function Lf(n){return 32767&n}function Nf(n,t){let e=function VO(n){return n>>16}(n),r=t;for(;e>0;)r=r[hl],e--;return r}let lg=!0;function Ff(n){const t=lg;return lg=n,t}const Zb=255,qb=5;let HO=0;const jo={};function Bf(n,t){const e=Jb(n,t);if(-1!==e)return e;const r=t[en];r.firstCreatePass&&(n.injectorIndex=t.length,ug(r.data,n),ug(t,null),ug(r.blueprint,null));const i=cg(n,t),o=n.injectorIndex;if(Qb(i)){const l=Lf(i),c=Nf(i,t),v=c[en].data;for(let B=0;B<8;B++)t[o+B]=c[l+B]|v[l+B]}return t[o+8]=i,o}function ug(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Jb(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function cg(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){if(r=aT(i),null===r)return vl;if(e++,i=i[hl],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return vl}function dg(n,t,e){!function WO(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(la)&&(r=e[la]),null==r&&(r=e[la]=HO++);const i=r&Zb;t.data[n+(i>>qb)]|=1<<i}(n,t,e)}function eT(n,t,e){if(e&mn.Optional||void 0!==n)return n;Fo()}function tT(n,t,e,r){if(e&mn.Optional&&void 0===r&&(r=null),!(e&(mn.Self|mn.Host))){const i=n[Cf],o=Oi(void 0);try{return i?i.get(t,r,e&mn.Optional):Ef(t,r,e&mn.Optional)}finally{Oi(o)}}return eT(r,0,e)}function nT(n,t,e,r=mn.Default,i){if(null!==n){if(1024&t[wn]){const l=function $O(n,t,e,r,i){let o=n,l=t;for(;null!==o&&null!==l&&1024&l[wn]&&!(256&l[wn]);){const c=rT(o,l,e,r|mn.Self,jo);if(c!==jo)return c;let v=o.parent;if(!v){const B=l[Tb];if(B){const X=B.get(e,jo,r);if(X!==jo)return X}v=aT(l),l=l[hl]}o=v}return i}(n,t,e,r,jo);if(l!==jo)return l}const o=rT(n,t,e,r,jo);if(o!==jo)return o}return tT(t,e,r,i)}function rT(n,t,e,r,i){const o=function zO(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(la)?n[la]:void 0;return"number"==typeof t?t>=0?t&Zb:YO:t}(e);if("function"==typeof o){if(!jb(t,n,r))return r&mn.Host?eT(i,0,r):tT(t,e,r,i);try{const l=o(r);if(null!=l||r&mn.Optional)return l;Fo()}finally{Kb()}}else if("number"==typeof o){let l=null,c=Jb(n,t),v=vl,B=r&mn.Host?t[ci][ui]:null;for((-1===c||r&mn.SkipSelf)&&(v=-1===c?cg(n,t):t[c+8],v!==vl&&oT(r,!1)?(l=t[en],c=Lf(v),t=Nf(v,t)):c=-1);-1!==c;){const X=t[en];if(iT(o,c,X.data)){const fe=GO(c,t,e,l,r,B);if(fe!==jo)return fe}v=t[c+8],v!==vl&&oT(r,t[en].data[c+8]===B)&&iT(o,c,t)?(l=X,c=Lf(v),t=Nf(v,t)):c=-1}}return i}function GO(n,t,e,r,i,o){const l=t[en],c=l.data[n+8],X=kf(c,l,e,null==r?Zu(c)&&lg:r!=l&&0!=(3&c.type),i&mn.Host&&o===c);return null!==X?Ts(t,l,X,c):jo}function kf(n,t,e,r,i){const o=n.providerIndexes,l=t.data,c=1048575&o,v=n.directiveStart,X=o>>20,Te=i?c+X:n.directiveEnd;for(let Ie=r?c:c+X;Ie<Te;Ie++){const Le=l[Ie];if(Ie<v&&e===Le||Ie>=v&&Le.type===e)return Ie}if(i){const Ie=l[v];if(Ie&&Mo(Ie)&&Ie.type===e)return v}return null}function Ts(n,t,e,r){let i=n[e];const o=t.data;if(function kO(n){return n instanceof Ju}(i)){const l=i;l.resolving&&function Pi(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new nt(-200,`Circular dependency in DI detected for ${n}${e}`)}(xn(o[e]));const c=Ff(l.canSeeViewProviders);l.resolving=!0;const v=l.injectImpl?Oi(l.injectImpl):null;jb(n,r,mn.Default);try{i=n[e]=l.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function FO(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const l=Sb(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,l),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,l)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==v&&Oi(v),Ff(c),l.resolving=!1,Kb()}}return i}function iT(n,t,e){return!!(e[t+(n>>qb)]&1<<n)}function oT(n,t){return!(n&mn.Self||n&mn.Host&&t)}class yl{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return nT(this._tNode,this._lView,t,cl(r),e)}}function YO(){return new yl(ti(),Ot())}function Qr(n){return Vi(()=>{const t=n.prototype.constructor,e=t[uo]||fg(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[uo]||fg(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fg(n){return Gt(n)?()=>{const t=fg(Je(n));return t&&t()}:Es(n)}function aT(n){const t=n[en],e=t.type;return 2===e?t.declTNode:1===e?n[ui]:null}function El(n){return function KO(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(Yb(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(ti(),n)}const Tl="__parameters__";function Dl(n,t,e){return Vi(()=>{const r=function hg(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const l=new i(...o);return c.annotation=l,c;function c(v,B,X){const fe=v.hasOwnProperty(Tl)?v[Tl]:Object.defineProperty(v,Tl,{value:[]})[Tl];for(;fe.length<=X;)fe.push(null);return(fe[X]=fe[X]||[]).push(l),v}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Ut{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=lt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cs(n,t){n.forEach(e=>Array.isArray(e)?Cs(e,t):t(e))}function lT(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Uf(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function rc(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function $i(n,t,e){let r=Ml(n,t);return r>=0?n[1|r]=e:(r=~r,function qO(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function pg(n,t){const e=Ml(n,t);if(e>=0)return n[1|e]}function Ml(n,t){return function uT(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),l=n[o<<e];if(t===l)return o<<e;l>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const Vf=vs(Dl("Inject",n=>({token:n})),-1),fa=vs(Dl("Optional"),8),Sl=vs(Dl("SkipSelf"),4);var Li=(()=>((Li=Li||{})[Li.Important=1]="Important",Li[Li.DashCase=2]="DashCase",Li))();const Eg=new Map;let Ex=0;const Tg="__ngContext__";function di(n,t){Ki(t)?(n[Tg]=t[Qu],function Tx(n){Eg.set(n[Qu],n)}(t)):n[Tg]=t}let Cg;function Dg(n,t){return Cg(n,t)}function sc(n){const t=n[Mr];return Do(t)?t[Mr]:t}function Mg(n){return IT(n[$u])}function Sg(n){return IT(n[Co])}function IT(n){for(;null!==n&&!Do(n);)n=n[Co];return n}function Rl(n,t,e,r,i){if(null!=r){let o,l=!1;Do(r)?o=r:Ki(r)&&(l=!0,r=r[ua]);const c=ei(r);0===n&&null!==e?null==i?NT(t,e,c):Ds(t,e,c,i||null,!0):1===n&&null!==e?Ds(t,e,c,i||null,!0):2===n?function xg(n,t,e){const r=Kf(n,t);r&&function Hx(n,t,e,r){n.removeChild(t,e,r)}(n,r,t,e)}(t,c,l):3===n&&t.destroyNode(c),null!=o&&function Gx(n,t,e,r,i){const o=e[Mf];o!==ei(e)&&Rl(t,n,r,o,i);for(let c=bi;c<e.length;c++){const v=e[c];lc(v[en],v,n,t,r,o)}}(t,n,o,e,i)}}function Rg(n,t,e){return n.createElement(t,e)}function PT(n,t){const e=n[pl],r=e.indexOf(t),i=t[Mr];512&t[wn]&&(t[wn]&=-513,Zp(i,-1)),e.splice(r,1)}function Ig(n,t){if(n.length<=bi)return;const e=bi+t,r=n[e];if(r){const i=r[Xu];null!==i&&i!==n&&PT(i,r),t>0&&(n[e-1][Co]=r[Co]);const o=Uf(n,bi+t);!function Lx(n,t){lc(n,t,t[Ln],2,null,null),t[ua]=null,t[ui]=null}(r[en],r);const l=o[ko];null!==l&&l.detachView(o[en]),r[Mr]=null,r[Co]=null,r[wn]&=-65}return r}function OT(n,t){if(!(128&t[wn])){const e=t[Ln];e.destroyNode&&lc(n,t,e,3,null,null),function Bx(n){let t=n[$u];if(!t)return wg(n[en],n);for(;t;){let e=null;if(Ki(t))e=t[$u];else{const r=t[bi];r&&(e=r)}if(!e){for(;t&&!t[Co]&&t!==n;)Ki(t)&&wg(t[en],t),t=t[Mr];null===t&&(t=n),Ki(t)&&wg(t[en],t),e=t&&t[Co]}t=e}}(t)}}function wg(n,t){if(!(128&t[wn])){t[wn]&=-65,t[wn]|=128,function Vx(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Ju)){const o=e[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=i[o[l]],v=o[l+1];co(4,c,v);try{v.call(c)}finally{co(5,c,v)}}else{co(4,i,o);try{o.call(i)}finally{co(5,i,o)}}}}}(n,t),function jx(n,t){const e=n.cleanup,r=t[fl];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const l=e[o+3];l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const l=r[i=e[o+1]];e[o].call(l)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[fl]=null}}(n,t),1===t[en].type&&t[Ln].destroy();const e=t[Xu];if(null!==e&&Do(t[Mr])){e!==t[Mr]&&PT(e,t);const r=t[ko];null!==r&&r.detachView(n)}!function Cx(n){Eg.delete(n[Qu])}(t)}}function xT(n,t,e){return function LT(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[ua];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===xi.None||o===xi.Emulated)return null}return zi(r,e)}}(n,t.parent,e)}function Ds(n,t,e,r,i){n.insertBefore(t,e,r,i)}function NT(n,t,e){n.appendChild(t,e)}function FT(n,t,e,r,i){null!==r?Ds(n,t,e,r,i):NT(n,t,e)}function Kf(n,t){return n.parentNode(t)}function BT(n,t,e){return UT(n,t,e)}let Pg,Yf,Fg,$f,UT=function kT(n,t,e){return 40&n.type?zi(n,e):null};function Gf(n,t,e,r){const i=xT(n,r,t),o=t[Ln],c=BT(r.parent||t[ui],r,t);if(null!=i)if(Array.isArray(e))for(let v=0;v<e.length;v++)FT(o,i,e[v],c,!1);else FT(o,i,e,c,!1);void 0!==Pg&&Pg(o,r,t,e,i)}function zf(n,t){if(null!==t){const e=t.type;if(3&e)return zi(t,n);if(4&e)return Og(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return zf(n,r);{const i=n[t.index];return Do(i)?Og(-1,i):ei(i)}}if(32&e)return Dg(t,n)()||ei(n[t.index]);{const r=VT(n,t);return null!==r?Array.isArray(r)?r[0]:zf(sc(n[ci]),r):zf(n,t.next)}}return null}function VT(n,t){return null!==t?n[ci][ui].projection[t.projection]:null}function Og(n,t){const e=bi+n+1;if(e<t.length){const r=t[e],i=r[en].firstChild;if(null!==i)return zf(r,i)}return t[Mf]}function Lg(n,t,e,r,i,o,l){for(;null!=e;){const c=r[e.index],v=e.type;if(l&&0===t&&(c&&di(ei(c),r),e.flags|=2),32!=(32&e.flags))if(8&v)Lg(n,t,e.child,r,i,o,!1),Rl(t,n,i,c,o);else if(32&v){const B=Dg(e,r);let X;for(;X=B();)Rl(t,n,i,X,o);Rl(t,n,i,c,o)}else 16&v?HT(n,t,r,e,i,o):Rl(t,n,i,c,o);e=l?e.projectionNext:e.next}}function lc(n,t,e,r,i,o){Lg(e,r,n.firstChild,t,i,o,!1)}function HT(n,t,e,r,i,o){const l=e[ci],v=l[ui].projection[r.projection];if(Array.isArray(v))for(let B=0;B<v.length;B++)Rl(t,n,i,v[B],o);else Lg(n,t,v,l[Mr],i,o,!0)}function WT(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function KT(n,t,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&sg(n,t,r),null!==i&&WT(n,t,i),null!==o&&function Yx(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function Il(n){return function Ng(){if(void 0===Yf&&(Yf=null,or.trustedTypes))try{Yf=or.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Yf}()?.createHTML(n)||n}function Bg(){if(void 0===$f&&($f=null,or.trustedTypes))try{$f=or.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $f}function zT(n){return Bg()?.createHTML(n)||n}function $T(n){return Bg()?.createScriptURL(n)||n}class Ms{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${In})`}}class qx extends Ms{getTypeName(){return"HTML"}}class Jx extends Ms{getTypeName(){return"Style"}}class eL extends Ms{getTypeName(){return"Script"}}class tL extends Ms{getTypeName(){return"URL"}}class nL extends Ms{getTypeName(){return"ResourceURL"}}function Xi(n){return n instanceof Ms?n.changingThisBreaksApplicationSecurity:n}function Vo(n,t){const e=function rL(n){return n instanceof Ms&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${In})`)}return e===t}class uL{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Il(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class cL{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Il(t),e}}const fL=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xf(n){return(n=String(n)).match(fL)?n:"unsafe:"+n}function ha(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function uc(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const QT=ha("area,br,col,hr,img,wbr"),ZT=ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qT=ha("rp,rt"),kg=uc(QT,uc(ZT,ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uc(qT,ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uc(qT,ZT)),Ug=ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),JT=uc(Ug,ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hL=ha("script,style,template");class mL{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!kg.hasOwnProperty(e))return this.sanitizedSomething=!0,!hL.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),l=o.name,c=l.toLowerCase();if(!JT.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let v=o.value;Ug[c]&&(v=Xf(v)),this.buf.push(" ",l,'="',eC(v),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();kg.hasOwnProperty(e)&&!QT.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(eC(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const pL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gL=/([^\#-~ |!])/g;function eC(n){return n.replace(/&/g,"&amp;").replace(pL,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gL,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qf;function tC(n,t){let e=null;try{Qf=Qf||function XT(n){const t=new cL(n);return function dL(){try{return!!(new window.DOMParser).parseFromString(Il(""),"text/html")}catch{return!1}}()?new uL(t):t}(n);let r=t?String(t):"";e=Qf.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Qf.getInertBodyElement(r)}while(r!==o);return Il((new mL).sanitizeChildren(jg(e)||e))}finally{if(e){const r=jg(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function jg(n){return"content"in n&&function _L(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var $n=(()=>(($n=$n||{})[$n.NONE=0]="NONE",$n[$n.HTML=1]="HTML",$n[$n.STYLE=2]="STYLE",$n[$n.SCRIPT=3]="SCRIPT",$n[$n.URL=4]="URL",$n[$n.RESOURCE_URL=5]="RESOURCE_URL",$n))();function Vg(n){const t=cc();return t?zT(t.sanitize($n.HTML,n)||""):Vo(n,"HTML")?zT(Xi(n)):tC(function GT(){return void 0!==Fg?Fg:typeof document<"u"?document:void 0}(),fn(n))}function nC(n){const t=cc();return t?t.sanitize($n.STYLE,n)||"":Vo(n,"Style")?Xi(n):fn(n)}function wl(n){const t=cc();return t?t.sanitize($n.URL,n)||"":Vo(n,"URL")?Xi(n):Xf(fn(n))}function rC(n){const t=cc();if(t)return $T(t.sanitize($n.RESOURCE_URL,n)||"");if(Vo(n,"ResourceURL"))return $T(Xi(n));throw new nt(904,!1)}function cc(){const n=Ot();return n&&n[Yp]}const Zf=new Ut("ENVIRONMENT_INITIALIZER"),oC=new Ut("INJECTOR",-1),aC=new Ut("INJECTOR_DEF_TYPES");class sC{get(t,e=gs){if(e===gs){const r=new Error(`NullInjectorError: No provider for ${Ne(t)}!`);throw r.name="NullInjectorError",r}return e}}function lC(n){return{\u0275providers:n}}function uC(...n){return{\u0275providers:cC(0,n),\u0275fromNgModule:!0}}function cC(n,...t){const e=[],r=new Set;let i;return Cs(t,o=>{const l=o;Hg(l,e,[],r)&&(i||(i=[]),i.push(l))}),void 0!==i&&dC(i,e),e}function dC(n,t){for(let e=0;e<n.length;e++){const{providers:i}=n[e];Wg(i,o=>{t.push(o)})}}function Hg(n,t,e,r){if(!(n=Je(n)))return!1;let i=null,o=Bo(n);const l=!o&&qn(n);if(o||l){if(l&&!l.standalone)return!1;i=n}else{const v=n.ngModule;if(o=Bo(v),!o)return!1;i=v}const c=r.has(i);if(l){if(c)return!1;if(r.add(i),l.dependencies){const v="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const B of v)Hg(B,t,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let B;r.add(i);try{Cs(o.imports,X=>{Hg(X,t,e,r)&&(B||(B=[]),B.push(X))})}finally{}void 0!==B&&dC(B,t)}if(!c){const B=Es(i)||(()=>new i);t.push({provide:i,useFactory:B,deps:Kn},{provide:aC,useValue:i,multi:!0},{provide:Zf,useValue:()=>ot(i),multi:!0})}const v=o.providers;null==v||c||Wg(v,X=>{t.push(X)})}}return i!==n&&void 0!==n.providers}function Wg(n,t){for(let e of n)Xt(e)&&(e=e.\u0275providers),Array.isArray(e)?Wg(e,t):t(e)}const TL=Pt({provide:String,useValue:Pt});function Kg(n){return null!==n&&"object"==typeof n&&TL in n}function Ss(n){return"function"==typeof n}const Gg=new Ut("Set Injector scope."),qf={},DL={};let zg;function Jf(){return void 0===zg&&(zg=new sC),zg}class Ho{}class mC extends Ho{get destroyed(){return this._destroyed}constructor(t,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$g(t,l=>this.processProvider(l)),this.records.set(oC,Pl(void 0,this)),i.has("environment")&&this.records.set(Ho,Pl(void 0,this));const o=this.records.get(Gg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(aC.multi,Kn,mn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Wa(this),r=Oi(void 0);try{return t()}finally{Wa(e),Oi(r)}}get(t,e=gs,r=mn.Default){this.assertNotDestroyed(),r=cl(r);const i=Wa(this),o=Oi(void 0);try{if(!(r&mn.SkipSelf)){let c=this.records.get(t);if(void 0===c){const v=function IL(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ut}(t)&&Fn(t);c=v&&this.injectableDefInScope(v)?Pl(Yg(t),qf):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&mn.Self?Jf():this.parent).get(t,e=r&mn.Optional&&e===gs?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[ul]=l[ul]||[]).unshift(Ne(t)),i)throw l;return function Gp(n,t,e,r){const i=n[ul];throw t[bf]&&i.unshift(t[bf]),n.message=function zp(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Hp?n.slice(2):n;let i=Ne(t);if(Array.isArray(t))i=t.map(Ne).join(" -> ");else if("object"==typeof t){let o=[];for(let l in t)if(t.hasOwnProperty(l)){let c=t[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):Ne(c)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(Vp,"\n  ")}`}("\n"+n.message,i,e,r),n[jp]=i,n[ul]=null,n}(l,t,"R3InjectorError",this.source)}throw l}finally{Oi(o),Wa(i)}}resolveInjectorInitializers(){const t=Wa(this),e=Oi(void 0);try{const r=this.get(Zf.multi,Kn,mn.Self);for(const i of r)i()}finally{Wa(t),Oi(e)}}toString(){const t=[],e=this.records;for(const r of e.keys())t.push(Ne(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(t){let e=Ss(t=Je(t))?t:Je(t&&t.provide);const r=function SL(n){return Kg(n)?Pl(void 0,n.useValue):Pl(pC(n),qf)}(t);if(Ss(t)||!0!==t.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=Pl(void 0,qf,!0),i.factory=()=>Ku(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,r)}hydrate(t,e){return e.value===qf&&(e.value=DL,e.value=e.factory()),"object"==typeof e.value&&e.value&&function RL(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Je(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Yg(n){const t=Fn(n),e=null!==t?t.factory:Es(n);if(null!==e)return e;if(n instanceof Ut)throw new nt(204,!1);if(n instanceof Function)return function ML(n){const t=n.length;if(t>0)throw rc(t,"?"),new nt(204,!1);const e=function lo(n){const t=n&&(n[sl]||n[yf]);return t?(function si(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),t):null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new nt(204,!1)}function pC(n,t,e){let r;if(Ss(n)){const i=Je(n);return Es(i)||Yg(i)}if(Kg(n))r=()=>Je(n.useValue);else if(function hC(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Ku(n.deps||[]));else if(function fC(n){return!(!n||!n.useExisting)}(n))r=()=>ot(Je(n.useExisting));else{const i=Je(n&&(n.useClass||n.provide));if(!function AL(n){return!!n.deps}(n))return Es(i)||Yg(i);r=()=>new i(...Ku(n.deps))}return r}function Pl(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function $g(n,t){for(const e of n)Array.isArray(e)?$g(e,t):e&&Xt(e)?$g(e.\u0275providers,t):t(e)}class wL{}class gC{}class OL{resolveComponentFactory(t){throw function PL(n){const t=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ol=(()=>{class n{}return n.NULL=new OL,n})();function xL(){return xl(ti(),Ot())}function xl(n,t){return new Bn(zi(n,t))}let Bn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=xL,n})();function LL(n){return n instanceof Bn?n.nativeElement:n}class dc{}let ma=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function NL(){const n=Ot(),e=Yi(ti().index,n);return(Ki(e)?e:n)[Ln]}(),n})(),FL=(()=>{class n{}return n.\u0275prov=lt({token:n,providedIn:"root",factory:()=>null}),n})();class As{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const BL=new As("15.2.1"),Xg={},Qg="ngOriginalError";function Zg(n){return n[Qg]}class pa{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Zg(t);for(;e&&Zg(e);)e=Zg(e);return e||null}}function ga(n){return n instanceof Function?n():n}function yC(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const EC="ng-template";function $L(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==yC(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function bC(n){return 4===n.type&&n.value!==EC}function XL(n,t,e){return t===(4!==n.type||e?n.value:EC)}function QL(n,t,e){let r=4;const i=n.attrs||[],o=function JL(n){for(let t=0;t<n.length;t++)if(Yb(n[t]))return t;return n.length}(i);let l=!1;for(let c=0;c<t.length;c++){const v=t[c];if("number"!=typeof v){if(!l)if(4&r){if(r=2|1&r,""!==v&&!XL(n,v,e)||""===v&&1===t.length){if(So(r))return!1;l=!0}}else{const B=8&r?v:t[++c];if(8&r&&null!==n.attrs){if(!$L(n.attrs,B,e)){if(So(r))return!1;l=!0}continue}const fe=ZL(8&r?"class":v,i,bC(n),e);if(-1===fe){if(So(r))return!1;l=!0;continue}if(""!==B){let Te;Te=fe>o?"":i[fe+1].toLowerCase();const Ie=8&r?Te:null;if(Ie&&-1!==yC(Ie,B,0)||2&r&&B!==Te){if(So(r))return!1;l=!0}}}}else{if(!l&&!So(r)&&!So(v))return!1;if(l&&So(v))continue;l=!1,r=v|1&r}}return So(r)||l}function So(n){return 0==(1&n)}function ZL(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const l=t[i];if(l===n)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=t[++i];for(;"string"==typeof c;)c=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function eN(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function TC(n,t,e=!1){for(let r=0;r<t.length;r++)if(QL(n,t[r],e))return!0;return!1}function tN(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function CC(n,t){return n?":not("+t.trim()+")":t}function nN(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let l=n[e];if("string"==typeof l)if(2&r){const c=n[++e];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!So(l)&&(t+=CC(o,i),i=""),r=l,o=o||!So(r);e++}return""!==i&&(t+=CC(o,i)),t}const Mn={};function Rt(n){DC(Gn(),Ot(),Ci()+n,!1)}function DC(n,t,e,r){if(!r)if(3==(3&t[wn])){const o=n.preOrderCheckHooks;null!==o&&Of(t,o,e)}else{const o=n.preOrderHooks;null!==o&&xf(t,o,0,e)}bs(e)}function RC(n,t=null,e=null,r){const i=IC(n,t,e,r);return i.resolveInjectorInitializers(),i}function IC(n,t=null,e=null,r,i=new Set){const o=[e||Kn,uC(n)];return r=r||("object"==typeof n?void 0:Ne(n)),new mC(o,t||Jf(),r||null,i)}let Fi=(()=>{class n{static create(e,r){if(Array.isArray(e))return RC({name:""},r,e,"");{const i=e.name??"";return RC({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=gs,n.NULL=new sC,n.\u0275prov=lt({token:n,providedIn:"any",factory:()=>ot(oC)}),n.__NG_ELEMENT_ID__=-1,n})();function ke(n,t=mn.Default){const e=Ot();return null===e?ot(n,t):nT(ti(),e,Je(n),t)}function th(){throw new Error("invalid")}function FC(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const l=n.data[o];ng(e[r]),l.contentQueries(2,t[o],o)}}}function nh(n,t,e,r,i,o,l,c,v,B,X){const fe=t.blueprint.slice();return fe[ua]=i,fe[wn]=76|r,(null!==X||n&&1024&n[wn])&&(fe[wn]|=1024),Ob(fe),fe[Mr]=fe[hl]=n,fe[Rr]=e,fe[Df]=l||n&&n[Df],fe[Ln]=c||n&&n[Ln],fe[Yp]=v||n&&n[Yp]||null,fe[Cf]=B||n&&n[Cf]||null,fe[ui]=o,fe[Qu]=function bx(){return Ex++}(),fe[Tb]=X,fe[ci]=2==t.type?n[ci]:fe,fe}function Fl(n,t,e,r,i){let o=n.data[t];if(null===o)o=function n_(n,t,e,r,i){const o=Nb(),l=qp(),v=n.data[t]=function RN(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=v),null!==o&&(l?null==o.child&&null!==v.parent&&(o.child=v):null===o.next&&(o.next=v,v.prev=o)),v}(n,t,e,r,i),function AO(){return Dn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const l=function qu(){const n=Dn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return Uo(o,!0),o}function fc(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function r_(n,t,e){rg(t);try{const r=n.viewQuery;null!==r&&h_(1,r,e);const i=n.template;null!==i&&BC(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&FC(n,t),n.staticViewQueries&&h_(2,n.viewQuery,e);const o=n.components;null!==o&&function MN(n,t){for(let e=0;e<t.length;e++)YN(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[wn]&=-5,ig()}}function rh(n,t,e,r){const i=t[wn];if(128!=(128&i)){rg(t);try{Ob(t),function Bb(n){return Dn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&BC(n,t,e,2,r);const l=3==(3&i);if(l){const B=n.preOrderCheckHooks;null!==B&&Of(t,B,null)}else{const B=n.preOrderHooks;null!==B&&xf(t,B,0,null),og(t,0)}if(function GN(n){for(let t=Mg(n);null!==t;t=Sg(t)){if(!t[Cb])continue;const e=t[pl];for(let r=0;r<e.length;r++){const i=e[r];512&i[wn]||Zp(i[Mr],1),i[wn]|=512}}}(t),function KN(n){for(let t=Mg(n);null!==t;t=Sg(t))for(let e=bi;e<t.length;e++){const r=t[e],i=r[en];If(r)&&rh(i,r,i.template,r[Rr])}}(t),null!==n.contentQueries&&FC(n,t),l){const B=n.contentCheckHooks;null!==B&&Of(t,B)}else{const B=n.contentHooks;null!==B&&xf(t,B,1),og(t,1)}!function CN(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)bs(~i);else{const o=i,l=e[++r],c=e[++r];RO(l,o),c(2,t[o])}}}finally{bs(-1)}}(n,t);const c=n.components;null!==c&&function DN(n,t){for(let e=0;e<t.length;e++)zN(n,t[e])}(t,c);const v=n.viewQuery;if(null!==v&&h_(2,v,r),l){const B=n.viewCheckHooks;null!==B&&Of(t,B)}else{const B=n.viewHooks;null!==B&&xf(t,B,2),og(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[wn]&=-41,512&t[wn]&&(t[wn]&=-513,Zp(t[Mr],-1))}finally{ig()}}}function BC(n,t,e,r,i){const o=Ci(),l=2&r;try{bs(-1),l&&t.length>hr&&DC(n,t,hr,!1),co(l?2:0,i),e(r,i)}finally{bs(o),co(l?3:1,i)}}function i_(n,t,e){if(Xp(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const l=n.data[o];l.contentQueries&&l.contentQueries(1,e[o],o)}}}function o_(n,t,e){Lb()&&(function LN(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;Zu(e)&&function VN(n,t,e){const r=zi(t,n),i=kC(e),o=n[Df],l=ih(n,nh(n,i,null,e.onPush?32:16,r,t,o,o.createRenderer(r,e),null,null,null));n[t.index]=l}(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Bf(e,t),di(r,t);const l=e.initialInputs;for(let c=i;c<o;c++){const v=n.data[c],B=Ts(t,n,c,e);di(B,t),null!==l&&HN(0,c-i,B,v,0,l),Mo(v)&&(Yi(e.index,t)[Rr]=Ts(t,n,c,e))}}(n,t,e,zi(e,t)),64==(64&e.flags)&&KC(n,t,e))}function a_(n,t,e=zi){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const l=r[o+1],c=-1===l?e(t,n):n[l];n[i++]=c}}}function kC(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=s_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function s_(n,t,e,r,i,o,l,c,v,B){const X=hr+r,fe=X+i,Te=function SN(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:Mn);return e}(X,fe),Ie="function"==typeof B?B():B;return Te[en]={type:n,blueprint:Te,template:e,queries:null,viewQuery:c,declTNode:t,data:Te.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:v,consts:Ie,incompleteFirstPass:!1}}function UC(n,t,e,r){const i=zC(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&YC(n).push(r,i.length-1))}function jC(n,t,e,r){for(let i in n)if(n.hasOwnProperty(i)){e=null===e?{}:e;const o=n[i];null===r?VC(e,t,i,o):r.hasOwnProperty(i)&&VC(e,t,r[i],o)}return e}function VC(n,t,e,r){n.hasOwnProperty(e)?n[e].push(t,r):n[e]=[t,r]}function Qi(n,t,e,r,i,o,l,c){const v=zi(t,e);let X,B=t.inputs;!c&&null!=B&&(X=B[r])?(m_(n,e,X,r,i),Zu(t)&&HC(e,t.index)):3&t.type&&(r=function wN(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=l?l(i,t.value||"",r):i,o.setProperty(v,r,i))}function HC(n,t){const e=Yi(t,n);16&e[wn]||(e[wn]|=32)}function l_(n,t,e,r){if(Lb()){const i=null===r?null:{"":-1},o=function FN(n,t){const e=n.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const l=e[o];if(TC(t,l.selectors,!1))if(r||(r=[]),Mo(l))if(null!==l.findHostDirectiveDefs){const c=[];i=i||new Map,l.findHostDirectiveDefs(l,c,i),r.unshift(...c,l),u_(n,t,c.length)}else r.unshift(l),u_(n,t,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,r,i),r.push(l)}return null===r?null:[r,i]}(n,e);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&WC(n,t,e,l,i,c),i&&function BN(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new nt(-301,!1);r.push(t[i],o)}}}(e,r,i)}e.mergedAttrs=ec(e.mergedAttrs,e.attrs)}function WC(n,t,e,r,i,o){for(let B=0;B<r.length;B++)dg(Bf(e,t),n,r[B].type);!function UN(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,r.length);for(let B=0;B<r.length;B++){const X=r[B];X.providersResolver&&X.providersResolver(X)}let l=!1,c=!1,v=fc(n,t,r.length,null);for(let B=0;B<r.length;B++){const X=r[B];e.mergedAttrs=ec(e.mergedAttrs,X.hostAttrs),jN(n,e,t,v,X),kN(v,X,i),null!==X.contentQueries&&(e.flags|=4),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(e.flags|=64);const fe=X.type.prototype;!l&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),l=!0),!c&&(fe.ngOnChanges||fe.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),c=!0),v++}!function IN(n,t,e){const i=t.directiveEnd,o=n.data,l=t.attrs,c=[];let v=null,B=null;for(let X=t.directiveStart;X<i;X++){const fe=o[X],Te=e?e.get(fe):null,Le=Te?Te.outputs:null;v=jC(fe.inputs,X,v,Te?Te.inputs:null),B=jC(fe.outputs,X,B,Le);const Ge=null===v||null===l||bC(t)?null:WN(v,X,l);c.push(Ge)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=v,t.outputs=B}(n,e,o)}function KC(n,t,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,l=function IO(){return Dn.lFrame.currentDirectiveIndex}();try{bs(o);for(let c=r;c<i;c++){const v=n.data[c],B=t[c];eg(c),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&NN(v,B)}}finally{bs(-1),eg(l)}}function NN(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function u_(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function kN(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Mo(t)&&(e[""]=n)}}function jN(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=Es(i.type)),l=new Ju(o,Mo(i),ke);n.blueprint[r]=l,e[r]=l,function ON(n,t,e,r,i){const o=i.hostBindings;if(o){let l=n.hostBindingOpCodes;null===l&&(l=n.hostBindingOpCodes=[]);const c=~t.index;(function xN(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(l)!=c&&l.push(c),l.push(e,r,o)}}(n,t,r,fc(n,e,i.hostVars,Mn),i)}function Wo(n,t,e,r,i,o){const l=zi(n,t);!function c_(n,t,e,r,i,o,l){if(null==o)n.removeAttribute(t,i,e);else{const c=null==l?fn(o):l(o,r||"",i);n.setAttribute(t,i,c,e)}}(t[Ln],l,o,n.value,e,r,i)}function HN(n,t,e,r,i,o){const l=o[t];if(null!==l){const c=r.setInput;for(let v=0;v<l.length;){const B=l[v++],X=l[v++],fe=l[v++];null!==c?r.setInput(e,fe,B,X):e[X]=fe}}}function WN(n,t,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const l=n[o];for(let c=0;c<l.length;c+=2)if(l[c]===t){r.push(o,l[c+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function GC(n,t,e,r){return[n,!0,!1,t,null,0,r,e,null,null]}function zN(n,t){const e=Yi(t,n);if(If(e)){const r=e[en];48&e[wn]?rh(r,e,r.template,e[Rr]):e[ys]>0&&d_(e)}}function d_(n){for(let r=Mg(n);null!==r;r=Sg(r))for(let i=bi;i<r.length;i++){const o=r[i];if(If(o))if(512&o[wn]){const l=o[en];rh(l,o,l.template,o[Rr])}else o[ys]>0&&d_(o)}const e=n[en].components;if(null!==e)for(let r=0;r<e.length;r++){const i=Yi(e[r],n);If(i)&&i[ys]>0&&d_(i)}}function YN(n,t){const e=Yi(t,n),r=e[en];(function $N(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),r_(r,e,e[Rr])}function ih(n,t){return n[$u]?n[bb][Co]=t:n[$u]=t,n[bb]=t,t}function f_(n){for(;n;){n[wn]|=32;const t=sc(n);if(uO(n)&&!t)return n;n=t}return null}function oh(n,t,e,r=!0){const i=t[Df];i.begin&&i.begin();try{rh(n,t,n.template,e)}catch(l){throw r&&XC(t,l),l}finally{i.end&&i.end()}}function h_(n,t,e){ng(0),t(n,e)}function zC(n){return n[fl]||(n[fl]=[])}function YC(n){return n.cleanup||(n.cleanup=[])}function XC(n,t){const e=n[Cf],r=e?e.get(pa,null):null;r&&r.handleError(t)}function m_(n,t,e,r,i){for(let o=0;o<e.length;){const l=e[o++],c=e[o++],v=t[l],B=n.data[l];null!==B.setInput?B.setInput(v,i,r,c):v[c]=i}}function _a(n,t,e){const r=Rf(t,n);!function wT(n,t,e){n.setValue(t,e)}(n[Ln],r,e)}function ah(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?o=c:1==o?i=Qe(i,c):2==o&&(r=Qe(r,c+": "+t[++l]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}function sh(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(ei(o)),Do(o))for(let c=bi;c<o.length;c++){const v=o[c],B=v[en].firstChild;null!==B&&sh(v[en],v,B,r)}const l=e.type;if(8&l)sh(n,t,e.child,r);else if(32&l){const c=Dg(e,t);let v;for(;v=c();)r.push(v)}else if(16&l){const c=VT(t,e);if(Array.isArray(c))r.push(...c);else{const v=sc(t[ci]);sh(v[en],v,c,r,!0)}}e=i?e.projectionNext:e.next}return r}class hc{get rootNodes(){const t=this._lView,e=t[en];return sh(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rr]}set context(t){this._lView[Rr]=t}get destroyed(){return 128==(128&this._lView[wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Mr];if(Do(t)){const e=t[Sf],r=e?e.indexOf(this):-1;r>-1&&(Ig(t,r),Uf(e,r))}this._attachedToViewContainer=!1}OT(this._lView[en],this._lView)}onDestroy(t){UC(this._lView[en],this._lView,null,t)}markForCheck(){f_(this._cdRefInjectingView||this._lView)}detach(){this._lView[wn]&=-65}reattach(){this._lView[wn]|=64}detectChanges(){oh(this._lView[en],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fx(n,t){lc(n,t,t[Ln],2,null,null)}(this._lView[en],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=t}}class XN extends hc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;oh(t[en],t,t[Rr],!1)}checkNoChanges(){}get context(){return null}}class QC extends Ol{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=qn(t);return new mc(e,this.ngModule)}}function ZC(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class ZN{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,r){r=cl(r);const i=this.injector.get(t,Xg,r);return i!==Xg||e===Xg?i:this.parentInjector.get(t,e,r)}}class mc extends gC{get inputs(){return ZC(this.componentDef.inputs)}get outputs(){return ZC(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function rN(n){return n.map(nN).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,r,i){let o=(i=i||this.ngModule)instanceof Ho?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const l=o?new ZN(t,o):t,c=l.get(dc,null);if(null===c)throw new nt(407,!1);const v=l.get(FL,null),B=c.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",fe=r?function AN(n,t,e){return n.selectRootElement(t,e===xi.ShadowDom)}(B,r,this.componentDef.encapsulation):Rg(B,X,function QN(n){const t=n.toLowerCase();return"svg"===t?Ib:"math"===t?"math":null}(X)),Te=this.componentDef.onPush?288:272,Ie=s_(0,null,null,1,0,null,null,null,null,null),Le=nh(null,Ie,null,Te,null,null,c,B,v,l,null);let Ge,dt;rg(Le);try{const _t=this.componentDef;let jt,bt=null;_t.findHostDirectiveDefs?(jt=[],bt=new Map,_t.findHostDirectiveDefs(_t,jt,bt),jt.push(_t)):jt=[_t];const qt=function JN(n,t){const e=n[en],r=hr;return n[r]=t,Fl(e,r,2,"#host",null)}(Le,fe),zn=function eF(n,t,e,r,i,o,l,c){const v=i[en];!function tF(n,t,e,r){for(const i of n)t.mergedAttrs=ec(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(ah(t,t.mergedAttrs,!0),null!==e&&KT(r,e,t))}(r,n,t,l);const B=o.createRenderer(t,e),X=nh(i,kC(e),null,e.onPush?32:16,i[n.index],n,o,B,c||null,null,null);return v.firstCreatePass&&u_(v,n,r.length-1),ih(i,X),i[n.index]=X}(qt,fe,_t,jt,Le,c,B);dt=Pb(Ie,hr),fe&&function rF(n,t,e,r){if(r)sg(n,e,["ng-version",BL.full]);else{const{attrs:i,classes:o}=function iN(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!So(i))break;i=o}r++}return{attrs:t,classes:e}}(t.selectors[0]);i&&sg(n,e,i),o&&o.length>0&&WT(n,e,o.join(" "))}}(B,_t,fe,r),void 0!==e&&function iF(n,t,e){const r=n.projection=[];for(let i=0;i<t.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(dt,this.ngContentSelectors,e),Ge=function nF(n,t,e,r,i,o){const l=ti(),c=i[en],v=zi(l,i);WC(c,i,l,e,null,r);for(let X=0;X<e.length;X++)di(Ts(i,c,l.directiveStart+X,l),i);KC(c,i,l),v&&di(v,i);const B=Ts(i,c,l.directiveStart+l.componentOffset,l);if(n[Rr]=i[Rr]=B,null!==o)for(const X of o)X(B,t);return i_(c,l,n),B}(zn,_t,jt,bt,Le,[oF]),r_(Ie,Le,null)}finally{ig()}return new qN(this.componentType,Ge,xl(dt,Le),Le,dt)}}class qN extends wL{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new XN(i),this.componentType=t}setInput(t,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;m_(o[en],o,i,t,e),HC(o,this._tNode.index)}}get injector(){return new yl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function oF(){const n=ti();Pf(Ot()[en],n)}function Sn(n){let t=function qC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(Mo(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new nt(903,!1);i=t.\u0275dir}if(i){if(e){r.push(i);const l=n;l.inputs=p_(n.inputs),l.declaredInputs=p_(n.declaredInputs),l.outputs=p_(n.outputs);const c=i.hostBindings;c&&uF(n,c);const v=i.viewQuery,B=i.contentQueries;if(v&&sF(n,v),B&&lF(n,B),Ht(n.inputs,i.inputs),Ht(n.declaredInputs,i.declaredInputs),Ht(n.outputs,i.outputs),Mo(i)&&i.data.animation){const X=n.data;X.animation=(X.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let l=0;l<o.length;l++){const c=o[l];c&&c.ngInherit&&c(n),c===Sn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function aF(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ec(i.hostAttrs,e=ec(e,i.hostAttrs))}}(r)}function p_(n){return n===To?{}:n===Kn?[]:n}function sF(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function lF(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function uF(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}function lh(n){return!!g_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function g_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ko(n,t,e){return n[t]=e}function fi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Rs(n,t,e,r){const i=fi(n,t,e);return fi(n,t+1,r)||i}function cr(n,t,e,r){const i=Ot();return fi(i,_l(),t)&&(Gn(),Wo(yr(),i,n,t,e,r)),cr}function Ul(n,t,e,r,i,o){const c=Rs(n,function ca(){return Dn.lFrame.bindingIndex}(),e,i);return da(2),c?t+fn(e)+r+fn(i)+o:Mn}function Qt(n,t,e,r,i,o,l,c){const v=Ot(),B=Gn(),X=n+hr,fe=B.firstCreatePass?function yF(n,t,e,r,i,o,l,c,v){const B=t.consts,X=Fl(t,n,4,l||null,za(B,c));l_(t,e,X,za(B,v)),Pf(t,X);const fe=X.tViews=s_(2,X,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,B);return null!==t.queries&&(t.queries.template(t,X),fe.queries=t.queries.embeddedTView(X)),X}(X,B,v,t,e,r,i,o,l):B.data[X];Uo(fe,!1);const Te=v[Ln].createComment("");Gf(B,v,Te,fe),di(Te,v),ih(v,v[X]=GC(Te,v,Te,fe)),Af(fe)&&o_(B,v,fe),null!=l&&a_(v,fe,c)}function xr(n){return gl(function SO(){return Dn.lFrame.contextLView}(),hr+n)}function Ct(n,t,e){const r=Ot();return fi(r,_l(),t)&&Qi(Gn(),yr(),r,n,t,r[Ln],e,!1),Ct}function __(n,t,e,r,i){const l=i?"class":"style";m_(n,e,t.inputs[l],l,r)}function Nt(n,t,e,r){const i=Ot(),o=Gn(),l=hr+n,c=i[Ln],v=o.firstCreatePass?function bF(n,t,e,r,i,o){const l=t.consts,v=Fl(t,n,2,r,za(l,i));return l_(t,e,v,za(l,o)),null!==v.attrs&&ah(v,v.attrs,!1),null!==v.mergedAttrs&&ah(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(l,o,i,t,e,r):o.data[l],B=i[l]=Rg(c,t,function NO(){return Dn.lFrame.currentNamespace}()),X=Af(v);return Uo(v,!0),KT(c,B,v),32!=(32&v.flags)&&Gf(o,i,B,v),0===function bO(){return Dn.lFrame.elementDepthCount}()&&di(B,i),function TO(){Dn.lFrame.elementDepthCount++}(),X&&(o_(o,i,v),i_(o,v,i)),null!==r&&a_(i,v),Nt}function Ft(){let n=ti();qp()?Jp():(n=n.parent,Uo(n,!1));const t=n;!function CO(){Dn.lFrame.elementDepthCount--}();const e=Gn();return e.firstCreatePass&&(Pf(e,n),Xp(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function UO(n){return 0!=(8&n.flags)}(t)&&__(e,t,Ot(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function jO(n){return 0!=(16&n.flags)}(t)&&__(e,t,Ot(),t.stylesWithoutHost,!1),Ft}function nn(n,t,e,r){return Nt(n,t,e,r),Ft(),nn}function Go(n,t,e){const r=Ot(),i=Gn(),o=n+hr,l=i.firstCreatePass?function TF(n,t,e,r,i){const o=t.consts,l=za(o,r),c=Fl(t,n,8,"ng-container",l);return null!==l&&ah(c,l,!0),l_(t,e,c,za(o,i)),null!==t.queries&&t.queries.elementStart(t,c),c}(o,i,r,t,e):i.data[o];Uo(l,!0);const c=r[o]=r[Ln].createComment("");return Gf(i,r,c,l),di(c,r),Af(l)&&(o_(i,r,l),i_(i,l,r)),null!=e&&a_(r,l),Go}function zo(){let n=ti();const t=Gn();return qp()?Jp():(n=n.parent,Uo(n,!1)),t.firstCreatePass&&(Pf(t,n),Xp(n)&&t.queries.elementEnd(n)),zo}function gc(n,t,e){return Go(n,t,e),zo(),gc}function Lr(){return Ot()}function _c(n){return!!n&&"function"==typeof n.then}function dD(n){return!!n&&"function"==typeof n.subscribe}const v_=dD;function An(n,t,e,r){const i=Ot(),o=Gn(),l=ti();return function hD(n,t,e,r,i,o,l){const c=Af(r),B=n.firstCreatePass&&YC(n),X=t[Rr],fe=zC(t);let Te=!0;if(3&r.type||l){const Ge=zi(r,t),dt=l?l(Ge):Ge,_t=fe.length,jt=l?qt=>l(ei(qt[r.index])):r.index;let bt=null;if(!l&&c&&(bt=function CF(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===e&&i[o+1]===r){const c=t[fl],v=i[o+2];return c.length>v?c[v]:null}"string"==typeof l&&(o+=2)}return null}(n,t,i,r.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=o,bt.__ngLastListenerFn__=o,Te=!1;else{o=pD(r,t,X,o,!1);const qt=e.listen(dt,i,o);fe.push(o,qt),B&&B.push(i,jt,_t,_t+1)}}else o=pD(r,t,X,o,!1);const Ie=r.outputs;let Le;if(Te&&null!==Ie&&(Le=Ie[i])){const Ge=Le.length;if(Ge)for(let dt=0;dt<Ge;dt+=2){const zn=t[Le[dt]][Le[dt+1]].subscribe(o),Zn=fe.length;fe.push(o,zn),B&&B.push(i,r.index,Zn,-(Zn+1))}}}(o,i,i[Ln],l,n,t,r),An}function mD(n,t,e,r){try{return co(6,t,e),!1!==e(r)}catch(i){return XC(n,i),!1}finally{co(7,t,e)}}function pD(n,t,e,r,i){return function o(l){if(l===Function)return r;f_(n.componentOffset>-1?Yi(n.index,t):t);let v=mD(t,e,r,l),B=o.__ngNextListenerFn__;for(;B;)v=mD(t,e,B,l)&&v,B=B.__ngNextListenerFn__;return i&&!1===v&&(l.preventDefault(),l.returnValue=!1),v}}function tn(n=1){return function PO(n){return(Dn.lFrame.contextLView=function OO(n,t){for(;n>0;)t=t[hl],n--;return t}(n,Dn.lFrame.contextLView))[Rr]}(n)}function DF(n,t){let e=null;const r=function qL(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?TC(n,o,!0):tN(r,o))return i}else e=i}return e}function Zi(n){const t=Ot()[ci][ui];if(!t.projection){const r=t.projection=rc(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const l=n?DF(o,n):0;null!==l&&(i[l]?i[l].projectionNext=o:r[l]=o,i[l]=o),o=o.next}}}function tr(n,t=0,e){const r=Ot(),i=Gn(),o=Fl(i,hr+n,16,null,e||null);null===o.projection&&(o.projection=t),Jp(),32!=(32&o.flags)&&function Kx(n,t,e){HT(t[Ln],0,t,e,xT(n,e,t),BT(e.parent||t[ui],e,t))}(i,r,o)}function ch(n,t){return n<<17|t<<2}function Ya(n){return n>>17&32767}function E_(n){return 2|n}function Is(n){return(131068&n)>>2}function b_(n,t){return-131069&n|t<<2}function T_(n){return 1|n}function MD(n,t,e,r,i){const o=n[e+1],l=null===t;let c=r?Ya(o):Is(o),v=!1;for(;0!==c&&(!1===v||l);){const X=n[c+1];wF(n[c],t)&&(v=!0,n[c+1]=r?T_(X):E_(X)),c=r?Ya(X):Is(X)}v&&(n[e+1]=r?E_(o):T_(o))}function wF(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Ml(n,t)>=0}function $a(n,t,e){return Ao(n,t,e,!1),$a}function Er(n,t){return Ao(n,t,null,!0),Er}function Ao(n,t,e,r){const i=Ot(),o=Gn(),l=da(2);o.firstUpdatePass&&function xD(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[Ci()],l=function OD(n,t){return t>=n.expandoStartIndex}(n,e);(function BD(n,t){return 0!=(n.flags&(t?8:16))})(o,r)&&null===t&&!l&&(t=!1),t=function UF(n,t,e,r){const i=function tg(n){const t=Dn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=vc(e=C_(null,n,t,e,r),t.attrs,r),o=null);else{const l=t.directiveStylingLast;if(-1===l||n[l]!==i)if(e=C_(i,n,t,e,r),null===o){let v=function jF(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Is(r))return n[Ya(r)]}(n,t,r);void 0!==v&&Array.isArray(v)&&(v=C_(null,n,t,v[1],r),v=vc(v,t.attrs,r),function VF(n,t,e,r){n[Ya(e?t.classBindings:t.styleBindings)]=r}(n,t,r,v))}else o=function HF(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=vc(r,n[o].hostAttrs,e);return vc(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function RF(n,t,e,r,i,o){let l=o?t.classBindings:t.styleBindings,c=Ya(l),v=Is(l);n[r]=e;let X,B=!1;if(Array.isArray(e)?(X=e[1],(null===X||Ml(e,X)>0)&&(B=!0)):X=e,i)if(0!==v){const Te=Ya(n[c+1]);n[r+1]=ch(Te,c),0!==Te&&(n[Te+1]=b_(n[Te+1],r)),n[c+1]=function SF(n,t){return 131071&n|t<<17}(n[c+1],r)}else n[r+1]=ch(c,0),0!==c&&(n[c+1]=b_(n[c+1],r)),c=r;else n[r+1]=ch(v,0),0===c?c=r:n[v+1]=b_(n[v+1],r),v=r;B&&(n[r+1]=E_(n[r+1])),MD(n,X,r,!0),MD(n,X,r,!1),function IF(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Ml(o,t)>=0&&(e[r+1]=T_(e[r+1]))}(t,X,n,r,o),l=ch(c,v),o?t.classBindings=l:t.styleBindings=l}(i,o,t,e,l,r)}}(o,n,l,r),t!==Mn&&fi(i,l,t)&&function ND(n,t,e,r,i,o,l,c){if(!(3&t.type))return;const v=n.data,B=v[c+1],X=function AF(n){return 1==(1&n)}(B)?FD(v,t,e,i,Is(B),l):void 0;dh(X)||(dh(o)||function MF(n){return 2==(2&n)}(B)&&(o=FD(v,null,e,i,c,l)),function zx(n,t,e,r,i){if(t)i?n.addClass(e,r):n.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:Li.DashCase;null==i?n.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Li.Important),n.setStyle(e,r,i,o))}}(r,l,Rf(Ci(),e),i,o))}(o,o.data[Ci()],i,i[Ln],n,i[l+1]=function GF(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ne(Xi(n)))),n}(t,e),r,l)}function C_(n,t,e,r,i){let o=null;const l=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<l&&(o=t[c],r=vc(r,o.hostAttrs,i),o!==n);)c++;return null!==n&&(e.directiveStylingLast=c),r}function vc(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?i=l:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$i(n,l,!!e||t[++o]))}return void 0===n?null:n}function FD(n,t,e,r,i,o){const l=null===t;let c;for(;i>0;){const v=n[i],B=Array.isArray(v),X=B?v[1]:v,fe=null===X;let Te=e[i+1];Te===Mn&&(Te=fe?Kn:void 0);let Ie=fe?pg(Te,r):X===r?Te:void 0;if(B&&!dh(Ie)&&(Ie=pg(v,r)),dh(Ie)&&(c=Ie,l))return c;const Le=n[i+1];i=l?Ya(Le):Is(Le)}if(null!==t){let v=o?t.residualClasses:t.residualStyles;null!=v&&(c=pg(v,r))}return c}function dh(n){return void 0!==n}function kn(n,t=""){const e=Ot(),r=Gn(),i=n+hr,o=r.firstCreatePass?Fl(r,i,1,t,null):r.data[i],l=e[i]=function Ag(n,t){return n.createText(t)}(e[Ln],t);Gf(r,e,l,o),Uo(o,!1)}function Di(n){return ni("",n,""),Di}function ni(n,t,e){const r=Ot(),i=function kl(n,t,e,r){return fi(n,_l(),e)?t+fn(e)+r:Mn}(r,n,t,e);return i!==Mn&&_a(r,Ci(),i),ni}function fh(n,t,e,r,i){const o=Ot(),l=Ul(o,n,t,e,r,i);return l!==Mn&&_a(o,Ci(),l),fh}function yc(n,t,e){const r=Ot();return fi(r,_l(),t)&&Qi(Gn(),yr(),r,n,t,r[Ln],e,!0),yc}const $l="en-US";let r0=$l;function S_(n,t,e,r,i){if(n=Je(n),Array.isArray(n))for(let o=0;o<n.length;o++)S_(n[o],t,e,r,i);else{const o=Gn(),l=Ot();let c=Ss(n)?n:Je(n.provide),v=pC(n);const B=ti(),X=1048575&B.providerIndexes,fe=B.directiveStart,Te=B.providerIndexes>>20;if(Ss(n)||!n.multi){const Ie=new Ju(v,i,ke),Le=R_(c,t,i?X:X+Te,fe);-1===Le?(dg(Bf(B,l),o,c),A_(o,n,t.length),t.push(c),B.directiveStart++,B.directiveEnd++,i&&(B.providerIndexes+=1048576),e.push(Ie),l.push(Ie)):(e[Le]=Ie,l[Le]=Ie)}else{const Ie=R_(c,t,X+Te,fe),Le=R_(c,t,X,X+Te),dt=Le>=0&&e[Le];if(i&&!dt||!i&&!(Ie>=0&&e[Ie])){dg(Bf(B,l),o,c);const _t=function c1(n,t,e,r,i){const o=new Ju(n,e,ke);return o.multi=[],o.index=t,o.componentProviders=0,I0(o,i,r&&!e),o}(i?u1:l1,e.length,i,r,v);!i&&dt&&(e[Le].providerFactory=_t),A_(o,n,t.length,0),t.push(c),B.directiveStart++,B.directiveEnd++,i&&(B.providerIndexes+=1048576),e.push(_t),l.push(_t)}else A_(o,n,Ie>-1?Ie:Le,I0(e[i?Le:Ie],v,!i&&r));!i&&r&&dt&&e[Le].componentProviders++}}}function A_(n,t,e,r){const i=Ss(t),o=function CL(n){return!!n.useClass}(t);if(i||o){const v=(o?Je(t.useClass):t).prototype.ngOnDestroy;if(v){const B=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const X=B.indexOf(e);-1===X?B.push(e,[r,v]):B[X+1].push(r,v)}else B.push(e,v)}}}function I0(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function R_(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function l1(n,t,e,r){return I_(this.multi,[])}function u1(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=Ts(e,e[en],this.providerFactory.index,r);o=c.slice(0,l),I_(i,o);for(let v=l;v<c.length;v++)o.push(c[v])}else o=[],I_(i,o);return o}function I_(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Jn(n,t=[]){return e=>{e.providersResolver=(r,i)=>function s1(n,t,e){const r=Gn();if(r.firstCreatePass){const i=Mo(n);S_(e,r.data,r.blueprint,i,!0),S_(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Xl{}class w0{}class P0 extends Xl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QC(this);const r=Wi(t);this._bootstrapComponents=ga(r.bootstrap),this._r3Injector=IC(t,e,[{provide:Xl,useValue:this},{provide:Ol,useValue:this.componentFactoryResolver}],Ne(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class w_ extends w0{constructor(t){super(),this.moduleType=t}create(t){return new P0(this.moduleType,t)}}class f1 extends Xl{constructor(t,e,r){super(),this.componentFactoryResolver=new QC(this),this.instance=null;const i=new mC([...t,{provide:Xl,useValue:this},{provide:Ol,useValue:this.componentFactoryResolver}],e||Jf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function _h(n,t,e=null){return new f1(n,t,e).injector}let h1=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const r=cC(0,e.type),i=r.length>0?_h([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=lt({token:n,providedIn:"environment",factory:()=>new n(ot(Ho))}),n})();function er(n){n.getStandaloneInjector=t=>t.get(h1).getOrCreateStandaloneInjector(n)}function Io(n,t,e,r){return k0(Ot(),Ti(),n,t,e,r)}function O_(n,t,e,r,i){return function U0(n,t,e,r,i,o,l){const c=t+e;return Rs(n,c,i,o)?Ko(n,c+2,l?r.call(l,i,o):r(i,o)):Mc(n,c+2)}(Ot(),Ti(),n,t,e,r,i)}function Mc(n,t){const e=n[t];return e===Mn?void 0:e}function k0(n,t,e,r,i,o){const l=t+e;return fi(n,l,i)?Ko(n,l+1,o?r.call(o,i):r(i)):Mc(n,l+1)}function gr(n,t){const e=Gn();let r;const i=n+hr;e.firstCreatePass?(r=function w1(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=Es(r.type)),l=Oi(ke);try{const c=Ff(!1),v=o();return Ff(c),function EF(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,Ot(),i,v),v}finally{Oi(l)}}function _r(n,t,e){const r=n+hr,i=Ot(),o=gl(i,r);return function Sc(n,t){return n[en].data[t].pure}(i,r)?k0(i,Ti(),t,o.transform,e,o):o.transform(e)}function x_(n){return t=>{setTimeout(n,void 0,t)}}const rr=class N1 extends ne{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){let i=t,o=e||(()=>null),l=r;if(t&&"object"==typeof t){const v=t;i=v.next?.bind(v),o=v.error?.bind(v),l=v.complete?.bind(v)}this.__isAsync&&(o=x_(o),i&&(i=x_(i)),l&&(l=x_(l)));const c=super.subscribe({next:i,error:o,complete:l});return t instanceof u&&t.add(c),c}};function F1(){return this._results[Symbol.iterator]()}class Ql{get changes(){return this._changes||(this._changes=new rr)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ql.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=F1)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=function fo(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function QO(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Xo=(()=>{class n{}return n.__NG_ELEMENT_ID__=U1,n})();const B1=Xo,k1=class extends B1{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t,e){const r=this._declarationTContainer.tViews,i=nh(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,e||null);i[Xu]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[ko];return null!==l&&(i[ko]=l.createEmbeddedView(r)),r_(r,i,t),new hc(i)}};function U1(){return vh(ti(),Ot())}function vh(n,t){return 4&n.type?new k1(t,n,xl(n,t)):null}let qi=(()=>{class n{}return n.__NG_ELEMENT_ID__=j1,n})();function j1(){return G0(ti(),Ot())}const V1=qi,W0=class extends V1{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return xl(this._hostTNode,this._hostLView)}get injector(){return new yl(this._hostTNode,this._hostLView)}get parentInjector(){const t=cg(this._hostTNode,this._hostLView);if(Qb(t)){const e=Nf(t,this._hostLView),r=Lf(t);return new yl(e[en].data[r+8],e)}return new yl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=K0(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-bi}createEmbeddedView(t,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const l=t.createEmbeddedView(e||{},o);return this.insert(l,i),l}createComponent(t,e,r,i,o){const l=t&&!function nc(n){return"function"==typeof n}(t);let c;if(l)c=e;else{const fe=e||{};c=fe.index,r=fe.injector,i=fe.projectableNodes,o=fe.environmentInjector||fe.ngModuleRef}const v=l?t:new mc(qn(t)),B=r||this.parentInjector;if(!o&&null==v.ngModule){const Te=(l?B:this.parentInjector).get(Ho,null);Te&&(o=Te)}const X=v.create(B,i,void 0,o);return this.insert(X.hostView,c),X}insert(t,e){const r=t._lView,i=r[en];if(function EO(n){return Do(n[Mr])}(r)){const X=this.indexOf(t);if(-1!==X)this.detach(X);else{const fe=r[Mr],Te=new W0(fe,fe[ui],fe[Mr]);Te.detach(Te.indexOf(t))}}const o=this._adjustIndex(e),l=this._lContainer;!function kx(n,t,e,r){const i=bi+r,o=e.length;r>0&&(e[i-1][Co]=t),r<o-bi?(t[Co]=e[i],lT(e,bi+r,t)):(e.push(t),t[Co]=null),t[Mr]=e;const l=t[Xu];null!==l&&e!==l&&function Ux(n,t){const e=n[pl];t[ci]!==t[Mr][Mr][ci]&&(n[Cb]=!0),null===e?n[pl]=[t]:e.push(t)}(l,t);const c=t[ko];null!==c&&c.insertView(n),t[wn]|=64}(i,r,l,o);const c=Og(o,l),v=r[Ln],B=Kf(v,l[Mf]);return null!==B&&function Nx(n,t,e,r,i,o){r[ua]=i,r[ui]=t,lc(n,r,e,1,i,o)}(i,l[ui],v,r,B,c),t.attachToViewContainerRef(),lT(L_(l),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=K0(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=Ig(this._lContainer,e);r&&(Uf(L_(this._lContainer),e),OT(r[en],r))}detach(t){const e=this._adjustIndex(t,-1),r=Ig(this._lContainer,e);return r&&null!=Uf(L_(this._lContainer),e)?new hc(r):null}_adjustIndex(t,e=0){return t??this.length+e}};function K0(n){return n[Sf]}function L_(n){return n[Sf]||(n[Sf]=[])}function G0(n,t){let e;const r=t[n.index];if(Do(r))e=r;else{let i;if(8&n.type)i=ei(r);else{const o=t[Ln];i=o.createComment("");const l=zi(n,t);Ds(o,Kf(o,l),i,function Wx(n,t){return n.nextSibling(t)}(o,l),!1)}t[n.index]=e=GC(r,t,i,n),ih(t,e)}return new W0(e,n,t)}class N_{constructor(t){this.queryList=t,this.matches=null}clone(){return new N_(this.queryList)}setDirty(){this.queryList.setDirty()}}class F_{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const l=e.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new F_(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Q0(t,e).matches&&this.queries[e].setDirty()}}class z0{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class B_{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new B_(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class k_{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new k_(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,H1(e,o)),this.matchTNodeWithReadOption(t,e,kf(e,t,o,!1,!1))}else r===Xo?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,kf(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Bn||i===qi||i===Xo&&4&e.type)this.addMatch(e.index,-2);else{const o=kf(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function H1(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function K1(n,t,e,r){return-1===e?function W1(n,t){return 11&n.type?xl(n,t):4&n.type?vh(n,t):null}(t,n):-2===e?function G1(n,t,e){return e===Bn?xl(t,n):e===Xo?vh(t,n):e===qi?G0(t,n):void 0}(n,t,r):Ts(n,n[en],e,t)}function Y0(n,t,e,r){const i=t[ko].queries[r];if(null===i.matches){const o=n.data,l=e.matches,c=[];for(let v=0;v<l.length;v+=2){const B=l[v];c.push(B<0?null:K1(t,o[B],l[v+1],e.metadata.read))}i.matches=c}return i.matches}function U_(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const l=Y0(n,t,i,e);for(let c=0;c<o.length;c+=2){const v=o[c];if(v>0)r.push(l[c/2]);else{const B=o[c+1],X=t[-v];for(let fe=bi;fe<X.length;fe++){const Te=X[fe];Te[Xu]===Te[Mr]&&U_(Te[en],Te,B,r)}if(null!==X[pl]){const fe=X[pl];for(let Te=0;Te<fe.length;Te++){const Ie=fe[Te];U_(Ie[en],Ie,B,r)}}}}}return r}function ar(n){const t=Ot(),e=Gn(),r=Ub();ng(r+1);const i=Q0(e,r);if(n.dirty&&function yO(n){return 4==(4&n[wn])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?U_(e,t,r,[]):Y0(e,t,i,r);n.reset(o,LL),n.notifyOnChanges()}return!0}return!1}function Si(n,t,e){const r=Gn();r.firstCreatePass&&(X0(r,new z0(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),$0(r,Ot(),t)}function Ji(n,t,e,r){const i=Gn();if(i.firstCreatePass){const o=ti();X0(i,new z0(t,e,r),o.index),function Y1(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}$0(i,Ot(),e)}function sr(){return function z1(n,t){return n[ko].queries[t].queryList}(Ot(),Ub())}function $0(n,t,e){const r=new Ql(4==(4&e));UC(n,t,r,r.destroy),null===t[ko]&&(t[ko]=new F_),t[ko].queries.push(new N_(r))}function X0(n,t,e){null===n.queries&&(n.queries=new B_),n.queries.track(new k_(t,e))}function Q0(n,t){return n.queries.getByIndex(t)}function j_(n,t){return vh(n,t)}function Eh(...n){}const Rc=new Ut("Application Initializer");let bh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Eh,this.reject=Eh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(_c(o))e.push(o);else if(v_(o)){const l=new Promise((c,v)=>{o.subscribe({complete:c,error:v})});e.push(l)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(ot(Rc,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Th=new Ut("AppId",{providedIn:"root",factory:function mM(){return`${z_()}${z_()}${z_()}`}});function z_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pM=new Ut("Platform Initializer"),Ch=new Ut("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Y_=new Ut("appBootstrapListener"),Qo=new Ut("AnimationModuleType");let hk=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zo=new Ut("LocaleId",{providedIn:"root",factory:()=>pn(Zo,mn.Optional|mn.SkipSelf)||function mk(){return typeof $localize<"u"&&$localize.locale||$l}()});class gk{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let gM=(()=>{class n{compileModuleSync(e){return new w_(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=ga(Wi(e).declarations).reduce((l,c)=>{const v=qn(c);return v&&l.push(new mc(v)),l},[]);return new gk(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yk=(()=>Promise.resolve(0))();class bn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rr(!1),this.onMicrotaskEmpty=new rr(!1),this.onStable=new rr(!1),this.onError=new rr(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Ek(){let n=or.requestAnimationFrame,t=or.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Ck(n){const t=()=>{!function Tk(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(or,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Q_(n),n.isCheckStableRunning=!0,X_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Q_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,l,c)=>{try{return yM(n),e.invokeTask(i,o,l,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),EM(n)}},onInvoke:(e,r,i,o,l,c,v)=>{try{return yM(n),e.invoke(i,o,l,c,v)}finally{n.shouldCoalesceRunChangeDetection&&t(),EM(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Q_(n),X_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bn.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(bn.isInAngularZone())throw new nt(909,!1)}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,t,bk,Eh,Eh);try{return o.runTask(l,e,r)}finally{o.cancelTask(l)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const bk={};function X_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Q_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function EM(n){n._nesting--,X_(n)}class Dk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rr,this.onMicrotaskEmpty=new rr,this.onStable=new rr,this.onError=new rr}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}const bM=new Ut("");let Xa=null;const ev=new Ut("PlatformDestroyListeners"),va=!1;class CM{constructor(t,e){this.name=t,this.token=e}}function wk(n){const{rootComponent:t,appProviders:e,platformProviders:r}=n;va&&void 0!==t&&function zL(n){if(function YL(n){if(!qn(n))throw new nt(906,`The ${xn(n)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(n),!qn(n).standalone)throw new nt(907,`The ${xn(n)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${xn(n)} component has the \`standalone: true\` flag in the decorator.`)}(t);const i=function Ik(n=[]){if(Xa)return Xa;const t=function MM(n=[],t){return Fi.create({name:t,providers:[{provide:Gg,useValue:"platform"},{provide:ev,useValue:new Set([()=>Xa=null])},...n]})}(n);return Xa=t,function DM(n){const t=n.get(pM,null);t&&t.forEach(e=>e())}(t),t}(r),o=function RM(n,t){let e;return e="noop"===n?new Dk:("zone.js"===n?void 0:n)||new bn(t),e}("zone.js",function AM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}());return o.run(()=>{const c=_h([{provide:bn,useValue:o},...e||[]],i,"Environment Injector"),v=c.get(pa,null);if(va&&!v)throw new nt(402,"No `ErrorHandler` found in the Dependency Injection tree.");let B;o.runOutsideAngular(()=>{B=o.onError.subscribe({next:Te=>{v.handleError(Te)}})});const X=()=>c.destroy(),fe=i.get(ev);return fe.add(X),c.onDestroy(()=>{B.unsubscribe(),fe.delete(X)}),function IM(n,t,e){try{const r=e();return _c(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(v,o,()=>{const Te=c.get(bh);return Te.runInitializers(),Te.donePromise.then(()=>{!function o0(n){qr(n,"Expected localeId to be defined"),"string"==typeof n&&(r0=n.toLowerCase().replace(/_/g,"-"))}(c.get(Zo,$l)||$l);const Le=c.get(Jl);return void 0!==t&&Le.bootstrap(t),Le})})})}let Jl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(e,r,i){this._zone=e,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new ue(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new ue(c=>{let v;this._zone.runOutsideAngular(()=>{v=this._zone.onStable.subscribe(()=>{bn.assertNotInAngularZone(),function $_(n){typeof Zone>"u"?yk.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{bn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{v.unsubscribe(),B.unsubscribe()}});this.isStable=Hn(o,l.pipe(Tn()))}bootstrap(e,r){va&&this.warnIfDestroyed();const i=e instanceof gC;if(!this._injector.get(bh).done){const Ie="Cannot bootstrap as there are still asynchronous initializers running."+(!i&&function dl(n){const t=qn(n)||li(n)||Ei(n);return null!==t&&t.standalone}(e)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new nt(405,va&&Ie)}let l;l=i?e:this._injector.get(Ol).resolveComponentFactory(e),this.componentTypes.push(l.componentType);const c=function Ak(n){return n.isBoundToModule}(l)?void 0:this._injector.get(Xl),B=l.create(Fi.NULL,[],r||l.selector,c),X=B.location.nativeElement,fe=B.injector.get(bM,null);return fe?.registerApplication(X),B.onDestroy(()=>{this.detachView(B.hostView),Mh(this.components,B),fe?.unregisterApplication(X)}),this._loadComponent(B),B}tick(){if(va&&this.warnIfDestroyed(),this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){va&&this.warnIfDestroyed();const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){va&&this.warnIfDestroyed();const r=e;Mh(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(Y_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return va&&this.warnIfDestroyed(),this._destroyListeners.push(e),()=>Mh(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new nt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){va&&this._destroyed&&console.warn(vr(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return n.\u0275fac=function(e){return new(e||n)(ot(bn),ot(Ho),ot(pa))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=xk,n})();function xk(n){return function Lk(n,t,e){if(Zu(n)&&!e){const r=Yi(n.index,t);return new hc(r,r)}return 47&n.type?new hc(t[ci],t):null}(ti(),Ot(),16==(16&n))}class NM{constructor(){}supports(t){return lh(t)}create(t){return new jk(t)}}const Uk=(n,t)=>t;class jk{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Uk}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const l=!r||e&&e.currentIndex<BM(r,i,o)?e:r,c=BM(l,i,o),v=l.currentIndex;if(l===r)i--,r=r._nextRemoved;else if(e=e._next,null==l.previousIndex)i++;else{o||(o=[]);const B=c-i,X=v-i;if(B!=X){for(let Te=0;Te<B;Te++){const Ie=Te<o.length?o[Te]:o[Te]=0,Le=Ie+Te;X<=Le&&Le<B&&(o[Te]=Ie+1)}o[l.previousIndex]=X-B}}c!==v&&t(l,c,v)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!lh(t))throw new nt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,l,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)o=t[c],l=this._trackByFn(c,o),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,o,l,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,l,c),r=!0),e=e._next}else i=0,function gF(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,c=>{l=this._trackByFn(i,c),null!==e&&Object.is(e.trackById,l)?(r&&(e=this._verifyReinsertion(e,c,l,i)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,l,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Vk(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new FM),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vk{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hk{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class FM{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new Hk,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BM(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class kM{constructor(){}supports(t){return t instanceof Map||g_(t)}create(){return new Wk}}class Wk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||g_(t)))throw new nt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,l=i._next;return o&&(o._next=l),l&&(l._prev=o),i._next=null,i._prev=null,i}const r=new Kk(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class Kk{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UM(){return new Rh([new NM])}let Rh=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||UM()),deps:[[n,new Sl,new fa]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new nt(901,!1)}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:UM}),n})();function jM(){return new Ic([new kM])}let Ic=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||jM()),deps:[[n,new Sl,new fa]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new nt(901,!1)}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:jM}),n})();function eu(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let av=null;function ya(){return av}class Xk{}const Pn=new Ut("DocumentToken");let sv=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(){return function Qk(){return ot(VM)}()},providedIn:"platform"}),n})();const Zk=new Ut("Location Initialized");let VM=(()=>{class n extends sv{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ya().getBaseHref(this._doc)}onPopState(e){const r=ya().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=ya().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){HM()?this._history.pushState(e,r,i):this._location.hash=i}replaceState(e,r,i){HM()?this._history.replaceState(e,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn))},n.\u0275prov=lt({token:n,factory:function(){return function qk(){return new VM(ot(Pn))}()},providedIn:"platform"}),n})();function HM(){return!!window.history.pushState}function lv(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function WM(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ea(n){return n&&"?"!==n[0]?"?"+n:n}let Os=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(){return pn(GM)},providedIn:"root"}),n})();const KM=new Ut("appBaseHref");let GM=(()=>{class n extends Os{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pn(Pn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return lv(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ea(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const l=this.prepareExternalUrl(i+Ea(o));this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){const l=this.prepareExternalUrl(i+Ea(o));this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(ot(sv),ot(KM,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jk=(()=>{class n extends Os{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=lv(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let l=this.prepareExternalUrl(i+Ea(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,r,l)}replaceState(e,r,i,o){let l=this.prepareExternalUrl(i+Ea(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(ot(sv),ot(KM,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),Ih=(()=>{class n{constructor(e){this._subject=new rr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function nU(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(WM(zM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ea(r))}normalize(e){return n.stripTrailingSlash(function tU(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,zM(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ea(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ea(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=Ea,n.joinWithSlash=lv,n.stripTrailingSlash=WM,n.\u0275fac=function(e){return new(e||n)(ot(Os))},n.\u0275prov=lt({token:n,factory:function(){return function eU(){return new Ih(ot(Os))}()},providedIn:"root"}),n})();function zM(n){return n.replace(/\/index.html$/,"")}function tS(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}const vv=/\s+/,nS=[];let tu=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=nS,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(vv):nS}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(vv):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,Boolean(e[r]));this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(vv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(ke(Rh),ke(Ic),ke(Bn),ke(ma))},n.\u0275dir=zt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class jU{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qa=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new jU(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===o?void 0:o);else if(null!==o){const c=r.get(o);r.move(c,l),oS(c,i)}});for(let i=0,o=r.length;i<o;i++){const c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{oS(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(ke(qi),ke(Xo),ke(Rh))},n.\u0275dir=zt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function oS(n,t){n.context.$implicit=t.item}let Wr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new HU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){aS("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){aS("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(ke(qi),ke(Xo))},n.\u0275dir=zt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class HU{constructor(){this.$implicit=null,this.ngIf=null}}function aS(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ne(t)}'.`)}class yv{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Uh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=zt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),sS=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new yv(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(ke(qi),ke(Xo),ke(Uh,9))},n.\u0275dir=zt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Oc=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split("."),l=-1===i.indexOf("-")?void 0:Li.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Ic),ke(ma))},n.\u0275dir=zt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Ev=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=r.createEmbeddedView(i,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(ke(qi))},n.\u0275dir=zt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Gi]}),n})();class GU{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class zU{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const YU=new zU,$U=new GU;let xs=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(_c(e))return YU;if(dD(e))return $U;throw function Oo(n,t){return new nt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(ke(Bi,16))},n.\u0275pipe=Jr({name:"async",type:n,pure:!1,standalone:!0}),n})(),ir=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({}),n})();const cS="browser";let Mv,gj=(()=>{class n{}return n.\u0275prov=lt({token:n,providedIn:"root",factory:()=>new _j(ot(Pn),window)}),n})();class _j{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function vj(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=dS(this.window.history)||dS(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function dS(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fS{}try{Mv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Mv=!1}let nu,Kr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function pj(n){return n===cS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Mv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(ot(Ch))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _S=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vS(){if(nu)return nu;if("object"!=typeof document||!document)return nu=new Set(_S),nu;let n=document.createElement("input");return nu=new Set(_S.filter(t=>(n.setAttribute("type",t),n.type===t))),nu}let Lc,Hh,Ns,Sv;function Ls(n){return function Gj(){if(null==Lc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Lc=!0}))}finally{Lc=Lc||!1}return Lc}()?n:!!n.capture}function yS(){if(null==Ns){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ns=!1,Ns;if("scrollBehavior"in document.documentElement.style)Ns=!0;else{const n=Element.prototype.scrollTo;Ns=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ns}function Nc(){if("object"!=typeof document||!document)return 0;if(null==Hh){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),Hh=0,0===n.scrollLeft&&(n.scrollLeft=1,Hh=0===n.scrollLeft?1:2),n.remove()}return Hh}function Za(n){return n.composedPath?n.composedPath()[0]:n.target}function Av(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class eo extends ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function ln(...n){return kt(n,vn(n))}function wv(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Xn(n,t,e){const r=sn(n)||t||e?{next:n,error:t,complete:e}:n;return r?ge((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let c=!0;i.subscribe($(o,v=>{var B;null===(B=r.next)||void 0===B||B.call(r,v),o.next(v)},()=>{var v;c=!1,null===(v=r.complete)||void 0===v||v.call(r),o.complete()},v=>{var B;c=!1,null===(B=r.error)||void 0===B||B.call(r,v),o.error(v)},()=>{var v,B;c&&(null===(v=r.unsubscribe)||void 0===v||v.call(r)),null===(B=r.finalize)||void 0===B||B.call(r)}))}):z}class cV extends u{constructor(t,e){super()}schedule(t,e=0){return this}}const Wh={setInterval(n,t,...e){const{delegate:r}=Wh;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Wh;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Pv extends cV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,r=0){return Wh.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Wh.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,K(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const CS={now:()=>(CS.delegate||Date).now(),delegate:void 0};class Fc{constructor(t,e=Fc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Fc.now=CS.now;class Ov extends Fc{constructor(t,e=Fc.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const Kh=new Ov(Pv),dV=Kh;function Gh(n,t=Kh){return ge((e,r)=>{let i=null,o=null,l=null;const c=()=>{if(i){i.unsubscribe(),i=null;const B=o;o=null,r.next(B)}};function v(){const B=l+n,X=t.now();if(X<B)return i=this.schedule(void 0,B-X),void r.add(i);c()}e.subscribe($(r,B=>{o=B,l=t.now(),i||(i=t.schedule(v,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function Gr(n,t){return ge((e,r)=>{let i=0;e.subscribe($(r,o=>n.call(t,o,i++)&&r.next(o)))})}function DS(n){return Gr((t,e)=>n<=e)}function hV(n,t){return n===t}function zr(n){return ge((t,e)=>{Ae(n).subscribe($(e,()=>e.complete(),f)),!e.closed&&t.subscribe(e)})}function to(n){return null!=n&&"false"!=`${n}`}function ru(n,t=0){return function mV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function zh(n){return Array.isArray(n)?n:[n]}function Br(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ta(n){return n instanceof Bn?n.nativeElement:n}let MS=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pV=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Ta(e);return new ue(i=>{const l=this._observeElement(r).subscribe(i);return()=>{l.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new ne,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(ot(MS))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gV=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=to(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ru(e),this._subscribe()}constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new rr,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Gh(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(ke(pV),ke(Bn),ke(bn))},n.\u0275dir=zt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),SS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({providers:[MS]}),n})();const{isArray:_V}=Array,{getPrototypeOf:vV,prototype:yV,keys:EV}=Object;function AS(n){if(1===n.length){const t=n[0];if(_V(t))return{args:t,keys:null};if(function bV(n){return n&&"object"==typeof n&&vV(n)===yV}(t)){const e=EV(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:TV}=Array;function xv(n){return pe(t=>function CV(n,t){return TV(t)?n(...t):n(t)}(n,t))}function RS(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function Lv(...n){const t=vn(n),e=on(n),{args:r,keys:i}=AS(n);if(0===r.length)return kt([],t);const o=new ue(function DV(n,t,e=z){return r=>{IS(t,()=>{const{length:i}=n,o=new Array(i);let l=i,c=i;for(let v=0;v<i;v++)IS(t,()=>{const B=kt(n[v],t);let X=!1;B.subscribe($(r,fe=>{o[v]=fe,X||(X=!0,c--),c||r.next(e(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,i?l=>RS(i,l):z));return e?o.pipe(xv(e)):o}function IS(n,t,e){n?St(e,n,t):t()}function Bc(...n){return function MV(){return Pe(1)}()(kt(n,vn(n)))}function Ui(n){return n<=0?()=>ze:ge((t,e)=>{let r=0;t.subscribe($(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function iu(...n){const t=vn(n);return ge((e,r)=>{(t?Bc(n,e,t):Bc(n,e)).subscribe(r)})}const wS=new Set;let ou,SV=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):RV}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function AV(n){if(!wS.has(n))try{ou||(ou=document.createElement("style"),ou.setAttribute("type","text/css"),document.head.appendChild(ou)),ou.sheet&&(ou.sheet.insertRule(`@media ${n} {body{ }}`,0),wS.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(ot(Kr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RV(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let IV=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new ne}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return PS(zh(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=Lv(PS(zh(e)).map(l=>this._registerQuery(l).observable));return o=Bc(o.pipe(Ui(1)),o.pipe(DS(1),Gh(0))),o.pipe(pe(l=>{const c={matches:!1,breakpoints:{}};return l.forEach(({matches:v,query:B})=>{c.matches=c.matches||v,c.breakpoints[B]=v}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),o={observable:new ue(l=>{const c=v=>this._zone.run(()=>l.next(v));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(iu(r),pe(({matches:l})=>({query:e,matches:l})),zr(this._destroySubject)),mql:r};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(ot(SV),ot(bn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PS(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Yh(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const xS="cdk-describedby-message",$h="cdk-describedby-host";let Nv=0,OV=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Nv++,this._document=e,this._id=pn(Th)+"-"+Nv++}describe(e,r,i){if(!this._canBeDescribed(e,r))return;const o=Fv(r,i);"string"!=typeof r?(LS(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,r,i){if(!r||!this._isElementNode(e))return;const o=Fv(r,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof r){const l=this._messageRegistry.get(o);l&&0===l.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${$h}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute($h);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const i=this._document.createElement("div");LS(i,this._id),i.textContent=e,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(Fv(e,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){const r=Yh(e,"aria-describedby").filter(i=>0!=i.indexOf(xS));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const i=this._messageRegistry.get(r);(function wV(n,t,e){const r=Yh(n,t);r.some(i=>i.trim()==e.trim())||(r.push(e.trim()),n.setAttribute(t,r.join(" ")))})(e,"aria-describedby",i.messageElement.id),e.setAttribute($h,this._id),i.referenceCount++}_removeMessageReference(e,r){const i=this._messageRegistry.get(r);i.referenceCount--,function PV(n,t,e){const i=Yh(n,t).filter(o=>o!=e.trim());i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",i.messageElement.id),e.removeAttribute($h)}_isElementDescribedByMessage(e,r){const i=Yh(e,"aria-describedby"),o=this._messageRegistry.get(r),l=o&&o.messageElement.id;return!!l&&-1!=i.indexOf(l)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),o=e.getAttribute("aria-label");return!(!i||o&&o.trim()===i)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn),ot(Kr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fv(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function LS(n,t){n.id||(n.id=`${xS}-${t}-${Nv++}`)}class xV{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ne,this._typeaheadSubscription=u.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ne,this.change=new ne,t instanceof Ql&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Xn(e=>this._pressedLetters.push(e)),Gh(t),Gr(()=>this._pressedLetters.length>0),pe(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,l=r[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((i||wv(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Ql?this._items.toArray():this._items}}class LV extends xV{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function Bv(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function kv(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const jV=new Ut("cdk-input-modality-detector-options"),VV={ignoreKeys:[18,17,224,91,16]},au=Ls({passive:!0,capture:!0});let HV=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new eo(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(c=>c===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Za(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Bv(l)?"keyboard":"mouse"),this._mostRecentTarget=Za(l))},this._onTouchstart=l=>{kv(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Za(l))},this._options={...VV,...o},this.modalityDetected=this._modality.pipe(DS(1)),this.modalityChanged=this.modalityDetected.pipe(function fV(n,t=z){return n=n??hV,ge((e,r)=>{let i,o=!0;e.subscribe($(r,l=>{const c=t(l);(o||!n(i,c))&&(o=!1,i=c,r.next(l))}))})}()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,au),i.addEventListener("mousedown",this._onMousedown,au),i.addEventListener("touchstart",this._onTouchstart,au)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,au),document.removeEventListener("mousedown",this._onMousedown,au),document.removeEventListener("touchstart",this._onTouchstart,au))}}return n.\u0275fac=function(e){return new(e||n)(ot(Kr),ot(bn),ot(Pn),ot(jV,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KV=new Ut("cdk-focus-monitor-default-options"),Xh=Ls({passive:!0,capture:!0});let Qh=(()=>{class n{constructor(e,r,i,o,l){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ne,this._rootNodeFocusAndBlurListener=c=>{for(let B=Za(c);B;B=B.parentElement)"focus"===c.type?this._onFocus(c,B):this._onBlur(c,B)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,r=!1){const i=Ta(e);if(!this._platform.isBrowser||1!==i.nodeType)return ln(null);const o=function Yj(n){if(function zj(){if(null==Sv){const n=typeof document<"u"?document.head:null;Sv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Sv}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),l=this._elementInfo.get(i);if(l)return r&&(l.checkChildren=!0),l.subject;const c={checkChildren:r,subject:new ne,rootNode:o};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const r=Ta(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const o=Ta(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([c,v])=>this._originChanged(c,r,v)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),o=Za(e);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xh),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xh)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xh),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xh),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(ot(bn),ot(Kr),ot(HV),ot(Pn,8),ot(KV,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BS="cdk-high-contrast-black-on-white",kS="cdk-high-contrast-white-on-black",Uv="cdk-high-contrast-active";let US=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=pn(IV).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Uv,BS,kS),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(Uv,BS):2===r&&e.add(Uv,kS)}}}return n.\u0275fac=function(e){return new(e||n)(ot(Kr),ot(Pn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GV=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(ot(US))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[SS]}),n})();const zV=new Ut("cdk-dir-doc",{providedIn:"root",factory:function YV(){return pn(Pn)}}),$V=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Fs=(()=>{class n{constructor(e){this.value="ltr",this.change=new rr,e&&(this.value=function XV(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?$V.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(ot(zV,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({}),n})();const ZV=new Ut("mat-sanity-checks",{providedIn:"root",factory:function QV(){return!0}});let Yr=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Av()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(ot(US),ot(ZV,8),ot(Pn))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[kc,kc]}),n})();function HS(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=to(t)}constructor(...t){super(...t),this._disabled=!1}}}function Zh(n,t){return class extends n{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function WS(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=to(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function qV(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let KS=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class e2{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const GS=Ls({passive:!0,capture:!0});class t2{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Za(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,r,i){const o=this._events.get(e);if(o){const l=o.get(r);l?l.add(i):o.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,GS)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const o=i.get(e);o&&(o.delete(r),0===o.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,GS)))}}const zS={enterDuration:225,exitDuration:150},YS=Ls({passive:!0,capture:!0}),$S=["mousedown","touchstart"],XS=["mouseup","mouseleave","touchend","touchcancel"];class jc{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ta(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...zS,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const l=r.radius||function r2(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),c=t-i.left,v=e-i.top,B=o.enterDuration,X=document.createElement("div");X.classList.add("mat-ripple-element"),X.style.left=c-l+"px",X.style.top=v-l+"px",X.style.height=2*l+"px",X.style.width=2*l+"px",null!=r.color&&(X.style.backgroundColor=r.color),X.style.transitionDuration=`${B}ms`,this._containerElement.appendChild(X);const fe=window.getComputedStyle(X),Ie=fe.transitionDuration,Le="none"===fe.transitionProperty||"0s"===Ie||"0s, 0s"===Ie||0===i.width&&0===i.height,Ge=new e2(this,X,r,Le);X.style.transform="scale3d(1, 1, 1)",Ge.state=0,r.persistent||(this._mostRecentTransientRipple=Ge);let dt=null;return!Le&&(B||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const _t=()=>this._finishRippleTransition(Ge),jt=()=>this._destroyRipple(Ge);X.addEventListener("transitionend",_t),X.addEventListener("transitioncancel",jt),dt={onTransitionEnd:_t,onTransitionCancel:jt}}),this._activeRipples.set(Ge,dt),(Le||!B)&&this._finishRippleTransition(Ge),Ge}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...zS,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ta(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,$S.forEach(r=>{jc._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{XS.forEach(e=>{this._triggerElement.addEventListener(e,this,YS)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Bv(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!kv(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&($S.forEach(e=>jc._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&XS.forEach(e=>t.removeEventListener(e,this,YS)))}}jc._eventManager=new t2;const o2=new Ut("mat-ripple-global-options");let qh=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new jc(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(bn),ke(Kr),ke(o2,8),ke(Qo,8))},n.\u0275dir=zt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&Er("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Vc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[Yr,Yr]}),n})();function Ri(n,t){const e=sn(n)?n:()=>n,r=i=>i.error(e());return new ue(t?i=>t.schedule(r,0,i):r)}function QS(...n){const t=on(n),{args:e,keys:r}=AS(n),i=new ue(o=>{const{length:l}=e;if(!l)return void o.complete();const c=new Array(l);let v=l,B=l;for(let X=0;X<l;X++){let fe=!1;Ae(e[X]).subscribe($(o,Te=>{fe||(fe=!0,B--),c[X]=Te},()=>v--,void 0,()=>{(!v||!fe)&&(B||o.next(r?RS(r,c):c),o.complete())}))}});return t?i.pipe(xv(t)):i}function go(n){return ge((t,e)=>{let o,r=null,i=!1;r=t.subscribe($(e,void 0,void 0,l=>{o=Ae(n(l,go(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Jh(n){return ge((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function qa(n,t){return sn(t)?Kt(n,t,1):Kt(n,1)}class em{}class jv{}class Ca{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),l=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ca?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ca;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ca?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(c=>-1===o.indexOf(c)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class a2{encodeKey(t){return ZS(t)}encodeValue(t){return ZS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const l2=/%(\d[a-f0-9])/gi,u2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZS(n){return encodeURIComponent(n).replace(l2,(t,e)=>u2[e]??t)}function tm(n){return`${n}`}class Ja{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new a2,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function s2(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,c]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],v=e.get(l)||[];v.push(c),e.set(l,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(tm):[tm(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ja({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(tm(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(tm(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class c2{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function qS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function JS(n){return typeof Blob<"u"&&n instanceof Blob}function eA(n){return typeof FormData<"u"&&n instanceof FormData}class Hc{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function d2(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ca),this.context||(this.context=new c2),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+l}}else this.params=new Ja,this.urlWithParams=e}serializeBody(){return null===this.body?null:qS(this.body)||JS(this.body)||eA(this.body)||function f2(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ja?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eA(this.body)?null:JS(this.body)?this.body.type||null:qS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ja?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,B=t.params||this.params;const X=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((fe,Te)=>fe.set(Te,t.setHeaders[Te]),v)),t.setParams&&(B=Object.keys(t.setParams).reduce((fe,Te)=>fe.set(Te,t.setParams[Te]),B)),new Hc(e,r,o,{params:B,headers:v,context:X,reportProgress:c,responseType:i,withCredentials:l})}}var kr=(()=>((kr=kr||{})[kr.Sent=0]="Sent",kr[kr.UploadProgress=1]="UploadProgress",kr[kr.ResponseHeader=2]="ResponseHeader",kr[kr.DownloadProgress=3]="DownloadProgress",kr[kr.Response=4]="Response",kr[kr.User=5]="User",kr))();class Vv{constructor(t,e=200,r="OK"){this.headers=t.headers||new Ca,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Hv extends Vv{constructor(t={}){super(t),this.type=kr.ResponseHeader}clone(t={}){return new Hv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wc extends Vv{constructor(t={}){super(t),this.type=kr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Kc extends Vv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Wv(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let nm=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Hc)o=e;else{let v,B;v=i.headers instanceof Ca?i.headers:new Ca(i.headers),i.params&&(B=i.params instanceof Ja?i.params:new Ja({fromObject:i.params})),o=new Hc(e,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:B,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=ln(o).pipe(qa(v=>this.handler.handle(v)));if(e instanceof Hc||"events"===i.observe)return l;const c=l.pipe(Gr(v=>v instanceof Wc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(pe(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return c.pipe(pe(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return c.pipe(pe(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return c.pipe(pe(v=>v.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Ja).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Wv(i,r))}post(e,r,i={}){return this.request("POST",e,Wv(i,r))}put(e,r,i={}){return this.request("PUT",e,Wv(i,r))}}return n.\u0275fac=function(e){return new(e||n)(ot(em))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function tA(n,t){return t(n)}function h2(n,t){return(e,r)=>t.intercept(e,{handle:i=>n(i,r)})}const Gc=new Ut("HTTP_INTERCEPTORS"),zc=new Ut("HTTP_INTERCEPTOR_FNS");function p2(){let n=null;return(t,e)=>(null===n&&(n=(pn(Gc,{optional:!0})??[]).reduceRight(h2,tA)),n(t,e))}let nA=(()=>{class n extends em{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=Array.from(new Set(this.injector.get(zc)));this.chain=r.reduceRight((i,o)=>function m2(n,t,e){return(r,i)=>e.runInContext(()=>t(r,o=>n(o,i)))}(i,o,this.injector),tA)}return this.chain(e,r=>this.backend.handle(r))}}return n.\u0275fac=function(e){return new(e||n)(ot(jv),ot(Ho))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const y2=/^\)\]\}',?\n/;let iA=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ue(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((Ie,Le)=>i.setRequestHeader(Ie,Le.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Ie=e.detectContentTypeHeader();null!==Ie&&i.setRequestHeader("Content-Type",Ie)}if(e.responseType){const Ie=e.responseType.toLowerCase();i.responseType="json"!==Ie?Ie:"text"}const o=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const Ie=i.statusText||"OK",Le=new Ca(i.getAllResponseHeaders()),Ge=function E2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return l=new Hv({headers:Le,status:i.status,statusText:Ie,url:Ge}),l},v=()=>{let{headers:Ie,status:Le,statusText:Ge,url:dt}=c(),_t=null;204!==Le&&(_t=typeof i.response>"u"?i.responseText:i.response),0===Le&&(Le=_t?200:0);let jt=Le>=200&&Le<300;if("json"===e.responseType&&"string"==typeof _t){const bt=_t;_t=_t.replace(y2,"");try{_t=""!==_t?JSON.parse(_t):null}catch(qt){_t=bt,jt&&(jt=!1,_t={error:qt,text:_t})}}jt?(r.next(new Wc({body:_t,headers:Ie,status:Le,statusText:Ge,url:dt||void 0})),r.complete()):r.error(new Kc({error:_t,headers:Ie,status:Le,statusText:Ge,url:dt||void 0}))},B=Ie=>{const{url:Le}=c(),Ge=new Kc({error:Ie,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Le||void 0});r.error(Ge)};let X=!1;const fe=Ie=>{X||(r.next(c()),X=!0);let Le={type:kr.DownloadProgress,loaded:Ie.loaded};Ie.lengthComputable&&(Le.total=Ie.total),"text"===e.responseType&&i.responseText&&(Le.partialText=i.responseText),r.next(Le)},Te=Ie=>{let Le={type:kr.UploadProgress,loaded:Ie.loaded};Ie.lengthComputable&&(Le.total=Ie.total),r.next(Le)};return i.addEventListener("load",v),i.addEventListener("error",B),i.addEventListener("timeout",B),i.addEventListener("abort",B),e.reportProgress&&(i.addEventListener("progress",fe),null!==o&&i.upload&&i.upload.addEventListener("progress",Te)),i.send(o),r.next({type:kr.Sent}),()=>{i.removeEventListener("error",B),i.removeEventListener("abort",B),i.removeEventListener("load",v),i.removeEventListener("timeout",B),e.reportProgress&&(i.removeEventListener("progress",fe),null!==o&&i.upload&&i.upload.removeEventListener("progress",Te)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(ot(fS))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const Kv=new Ut("XSRF_ENABLED"),oA=new Ut("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),aA=new Ut("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class sA{}let C2=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=tS(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn),ot(Ch),ot(oA))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function D2(n,t){const e=n.url.toLowerCase();if(!pn(Kv)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=pn(sA).getToken(),i=pn(aA);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var Pr=(()=>((Pr=Pr||{})[Pr.Interceptors=0]="Interceptors",Pr[Pr.LegacyInterceptors=1]="LegacyInterceptors",Pr[Pr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Pr[Pr.NoXsrfProtection=3]="NoXsrfProtection",Pr[Pr.JsonpSupport=4]="JsonpSupport",Pr[Pr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Pr))();function su(n,t){return{\u0275kind:n,\u0275providers:t}}function M2(...n){const t=[nm,iA,nA,{provide:em,useExisting:nA},{provide:jv,useExisting:iA},{provide:zc,useValue:D2,multi:!0},{provide:Kv,useValue:!0},{provide:sA,useClass:C2}];for(const e of n)t.push(...e.\u0275providers);return lC(t)}const lA=new Ut("LEGACY_INTERCEPTOR_FN");let A2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({providers:[M2(su(Pr.LegacyInterceptors,[{provide:lA,useFactory:p2},{provide:zc,useExisting:lA,multi:!0}]))]}),n})();class R2 extends Xk{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gv extends R2{static makeCurrent(){!function $k(n){av||(av=n)}(new Gv)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function I2(){return Yc=Yc||document.querySelector("base"),Yc?Yc.getAttribute("href"):null}();return null==e?null:function w2(n){rm=rm||document.createElement("a"),rm.setAttribute("href",n);const t=rm.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return tS(document.cookie,t)}}let rm,Yc=null,L2=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const im=new Ut("EventManagerPlugins");let om=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const l=i[o];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(ot(im),ot(bn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class uA{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=ya().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let cA=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,r){const i=this.usageCount;let o=i.get(e)??0;return o+=r,o>0?i.set(e,o):i.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),$c=(()=>{class n extends cA{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.forEach(o=>o.remove()),r.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,r){const i=this.doc.createElement("style");i.textContent=r,e.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const zv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yv=/%COMP%/g,hA=new Ut("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function mA(n,t){return t.flat(100).map(e=>e.replace(Yv,n))}function pA(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let am=(()=>{class n{constructor(e,r,i,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new $v(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(e,r);return i instanceof vA?i.applyToHost(e):i instanceof Xv&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const l=this.eventManager,c=this.sharedStylesHost,v=this.removeStylesOnCompDestory;switch(r.encapsulation){case xi.Emulated:o=new vA(l,c,r,this.appId,v);break;case xi.ShadowDom:return new V2(l,c,e,r);default:o=new Xv(l,c,r,v)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(ot(om),ot($c),ot(Th),ot(hA))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class $v{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(zv[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(_A(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(_A(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=zv[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=zv[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Li.DashCase|Li.Important)?t.style.setProperty(e,r,i&Li.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Li.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pA(r)):this.eventManager.addEventListener(t,e,pA(r))}}function _A(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class V2 extends $v{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=mA(i.id,i.styles);for(const l of o){const c=document.createElement("style");c.textContent=l,this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xv extends $v{constructor(t,e,r,i,o=r.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=mA(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vA extends Xv{constructor(t,e,r,i,o){const l=i+"-"+r.id;super(t,e,r,o,l),this.contentAttr=function k2(n){return"_ngcontent-%COMP%".replace(Yv,n)}(l),this.hostAttr=function U2(n){return"_nghost-%COMP%".replace(Yv,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}const yA=["alt","control","meta","shift"],W2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function bA(n){return{appProviders:[...J2,...n?.providers??[]],platformProviders:Q2}}const Q2=[{provide:Ch,useValue:cS},{provide:pM,useValue:function Y2(){Gv.makeCurrent()},multi:!0},{provide:Pn,useFactory:function X2(){return function Zx(n){Fg=n}(document),document},deps:[]}],J2=[{provide:Gg,useValue:"root"},{provide:pa,useFactory:function $2(){return new pa},deps:[]},{provide:im,useClass:(()=>{class n extends uA{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Pn,bn,Ch]},{provide:im,useClass:(()=>{class n extends uA{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),l=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ya().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let l="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),l="code."),yA.forEach(B=>{const X=r.indexOf(B);X>-1&&(r.splice(X,1),l+=B+".")}),l+=o,0!=r.length||0===o.length)return null;const v={};return v.domEventName=i,v.fullKey=l,v}static matchEventFullKeyCode(e,r){let i=W2[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yA.forEach(l=>{l!==i&&(0,K2[l])(e)&&(o+=l+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{n.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),multi:!0,deps:[Pn]},{provide:am,useClass:am,deps:[om,$c,Th,hA]},{provide:dc,useExisting:am},{provide:cA,useExisting:$c},{provide:$c,useClass:$c,deps:[Pn]},{provide:om,useClass:om,deps:[im,bn]},{provide:fS,useClass:L2,deps:[]},[]];let TA=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn))},n.\u0275prov=lt({token:n,factory:function(e){let r=null;return r=e?new e:function tH(){return new TA(ot(Pn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Da=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(e){let r=null;return r=e?new(e||n):ot(MA),r},providedIn:"root"}),n})(),MA=(()=>{class n extends Da{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case $n.NONE:return r;case $n.HTML:return Vo(r,"HTML")?Xi(r):tC(this._doc,String(r)).toString();case $n.STYLE:return Vo(r,"Style")?Xi(r):r;case $n.SCRIPT:if(Vo(r,"Script"))return Xi(r);throw new Error("unsafe value used in a script context");case $n.URL:return Vo(r,"URL")?Xi(r):Xf(String(r));case $n.RESOURCE_URL:if(Vo(r,"ResourceURL"))return Xi(r);throw new Error(`unsafe value used in a resource URL context (see ${In})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${In})`)}}bypassSecurityTrustHtml(e){return function iL(n){return new qx(n)}(e)}bypassSecurityTrustStyle(e){return function oL(n){return new Jx(n)}(e)}bypassSecurityTrustScript(e){return function aL(n){return new eL(n)}(e)}bypassSecurityTrustUrl(e){return function sL(n){return new tL(n)}(e)}bypassSecurityTrustResourceUrl(e){return function lL(n){return new nL(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn))},n.\u0275prov=lt({token:n,factory:function(e){let r=null;return r=e?new e:function lH(n){return new MA(n.get(Pn))}(ot(Fi)),r},providedIn:"root"}),n})();const uH=["*"];let sm;function Xc(n){return function cH(){if(void 0===sm&&(sm=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(sm=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return sm}()?.createHTML(n)||n}function SA(n){return Error(`Unable to find icon with the name "${n}"`)}function AA(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function RA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Bs{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let Qc=(()=>{class n{constructor(e,r,i,o){this._httpClient=e,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,o){return this._addSvgIconConfig(e,r,new Bs(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,o){const l=this._sanitizer.sanitize($n.HTML,i);if(!l)throw RA(i);const c=Xc(l);return this._addSvgIconConfig(e,r,new Bs("",c,o))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Bs(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const o=this._sanitizer.sanitize($n.HTML,r);if(!o)throw RA(r);const l=Xc(o);return this._addSvgIconSetConfig(e,new Bs("",l,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize($n.RESOURCE_URL,e);if(!r)throw AA(e);const i=this._cachedIconsByUrl.get(r);return i?ln(lm(i)):this._loadSvgIconFromConfig(new Bs(e,null)).pipe(Xn(o=>this._cachedIconsByUrl.set(r,o)),pe(o=>lm(o)))}getNamedSvgIcon(e,r=""){const i=IA(r,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(r);return l?this._getSvgFromIconSetConfigs(e,l):Ri(SA(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ln(lm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(pe(r=>lm(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?ln(i):QS(r.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(go(c=>{const B=`Loading icon set URL: ${this._sanitizer.sanitize($n.RESOURCE_URL,l.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(B)),ln(null)})))).pipe(pe(()=>{const l=this._extractIconWithNameFromAnySet(e,r);if(!l)throw SA(e);return l}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(l,e,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Xn(r=>e.svgText=r),pe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ln(null):this._fetchIcon(e).pipe(Xn(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const o=e.querySelector(`[id="${r}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,i);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),i);const c=this._svgElementFromString(Xc("<svg></svg>"));return c.appendChild(l),this._setSvgAttributes(c,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(Xc("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:l,value:c}=i[o];"id"!==l&&r.setAttribute(l,c)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function dH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const l=this._sanitizer.sanitize($n.RESOURCE_URL,r);if(!l)throw AA(r);const c=this._inProgressUrlFetches.get(l);if(c)return c;const v=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe(pe(B=>Xc(B)),Jh(()=>this._inProgressUrlFetches.delete(l)),Tn());return this._inProgressUrlFetches.set(l,v),v}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(IA(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,e);if(o)return hH(o)?new Bs(o.url,null,o.options):new Bs(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(ot(nm,8),ot(Da),ot(Pn,8),ot(pa))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lm(n){return n.cloneNode(!0)}function IA(n,t){return n+":"+t}function hH(n){return!(!n.url||!n.options)}const mH=Zh(class{constructor(n){this._elementRef=n}}),pH=new Ut("MAT_ICON_DEFAULT_OPTIONS"),gH=new Ut("mat-icon-location",{providedIn:"root",factory:function _H(){const n=pn(Pn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),wA=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],vH=wA.map(n=>`[${n}]`).join(", "),yH=/^url\(['"]?#(.*?)['"]?\)$/;let xo=(()=>{class n extends mH{get inline(){return this._inline}set inline(e){this._inline=to(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,o,l,c){super(e),this._iconRegistry=r,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=u.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(vH),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)wA.forEach(l=>{const c=r[o],v=c.getAttribute(l),B=v?v.match(yH):null;if(B){let X=i.get(c);X||(X=[],i.set(c,X)),X.push({name:l,value:B[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ui(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Qc),El("aria-hidden"),ke(gH),ke(pa),ke(pH,8))},n.\u0275cmp=ht({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(cr("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Er("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Sn],ngContentSelectors:uH,decls:1,vars:0,template:function(e,r){1&e&&(Zi(),tr(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Ii=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[Yr,Yr]}),n})();class PA{}class EH{}const Ma="*";function Zc(n,t){return{type:7,name:n,definitions:t,options:{}}}function ts(n,t=null){return{type:4,styles:t,timings:n}}function OA(n,t=null){return{type:2,steps:n,options:t}}function ji(n){return{type:6,styles:n,offset:null}}function ks(n,t,e){return{type:0,name:n,styles:t,options:e}}function ns(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function xA(n){Promise.resolve().then(n)}class qc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class LA{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?xA(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++r==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const Zv="!";class TH{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const DH=new Ut("mat-snack-bar-default-options",{providedIn:"root",factory:function CH(){return new TH}});function NA(n){return new nt(3e3,!1)}function oW(){return typeof window<"u"&&typeof window.document<"u"}function qv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function rs(n){switch(n.length){case 0:return new qc;case 1:return n[0];default:return new LA(n)}}function FA(n,t,e,r,i=new Map,o=new Map){const l=[],c=[];let v=-1,B=null;if(r.forEach(X=>{const fe=X.get("offset"),Te=fe==v,Ie=Te&&B||new Map;X.forEach((Le,Ge)=>{let dt=Ge,_t=Le;if("offset"!==Ge)switch(dt=t.normalizePropertyName(dt,l),_t){case Zv:_t=i.get(Ge);break;case Ma:_t=o.get(Ge);break;default:_t=t.normalizeStyleValue(Ge,dt,_t,l)}Ie.set(dt,_t)}),Te||c.push(Ie),B=Ie,v=fe}),l.length)throw function YH(n){return new nt(3502,!1)}();return c}function Jv(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&ey(e,"start",n)));break;case"done":n.onDone(()=>r(e&&ey(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&ey(e,"destroy",n)))}}function ey(n,t,e){const o=ty(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(o._data=l),o}function ty(n,t,e,r,i="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!l}}function no(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function BA(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let ny=(n,t)=>!1,kA=(n,t,e)=>[],UA=null;function ry(n){const t=n.parentNode||n.host;return t===UA?null:t}(qv()||typeof Element<"u")&&(oW()?(UA=(()=>document.documentElement)(),ny=(n,t)=>{for(;t;){if(t===n)return!0;t=ry(t)}return!1}):ny=(n,t)=>n.contains(t),kA=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Us=null,jA=!1;const VA=ny,HA=kA;let WA=(()=>{class n{validateStyleProperty(e){return function sW(n){Us||(Us=function lW(){return typeof document<"u"?document.body:null}()||{},jA=!!Us.style&&"WebkitAppearance"in Us.style);let t=!0;return Us.style&&!function aW(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Us.style,!t&&jA&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Us.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return VA(e,r)}getParentElement(e){return ry(e)}query(e,r,i){return HA(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,l,c=[],v){return new qc(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),iy=(()=>{class n{}return n.NOOP=new WA,n})();const uW=1e3,oy="ng-enter",um="ng-leave",cm="ng-trigger",dm=".ng-trigger",GA="ng-animating",ay=".ng-animating";function Sa(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:sy(parseFloat(t[1]),t[2])}function sy(n,t){return"s"===t?n*uW:n}function fm(n,t,e){return n.hasOwnProperty("duration")?n:function dW(n,t,e){let i,o=0,l="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(NA()),{duration:0,delay:0,easing:""};i=sy(parseFloat(c[1]),c[2]);const v=c[3];null!=v&&(o=sy(parseFloat(v),c[4]));const B=c[5];B&&(l=B)}else i=n;if(!e){let c=!1,v=t.length;i<0&&(t.push(function MH(){return new nt(3100,!1)}()),c=!0),o<0&&(t.push(function SH(){return new nt(3101,!1)}()),c=!0),c&&t.splice(v,0,NA())}return{duration:i,delay:o,easing:l}}(n,t,e)}function Jc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function zA(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function is(n,t=new Map,e){if(e)for(let[r,i]of e)t.set(r,i);for(let[r,i]of n)t.set(r,i);return t}function $A(n,t,e){return e?t+":"+e+";":""}function XA(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=$A(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=$A(0,pW(e),n.style[e]));n.setAttribute("style",t)}function qo(n,t,e){n.style&&(t.forEach((r,i)=>{const o=uy(i);e&&!e.has(i)&&e.set(i,n.style[o]),n.style[o]=r}),qv()&&XA(n))}function js(n,t){n.style&&(t.forEach((e,r)=>{const i=uy(r);n.style[i]=""}),qv()&&XA(n))}function ed(n){return Array.isArray(n)?1==n.length?n[0]:OA(n):n}const ly=new RegExp("{{\\s*(.+?)\\s*}}","g");function QA(n){let t=[];if("string"==typeof n){let e;for(;e=ly.exec(n);)t.push(e[1]);ly.lastIndex=0}return t}function td(n,t,e){const r=n.toString(),i=r.replace(ly,(o,l)=>{let c=t[l];return null==c&&(e.push(function RH(n){return new nt(3003,!1)}()),c=""),c.toString()});return i==r?n:i}function hm(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const mW=/-+([a-z0-9])/g;function uy(n){return n.replace(mW,(...t)=>t[1].toUpperCase())}function pW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ro(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function IH(n){return new nt(3004,!1)}()}}function ZA(n,t){return window.getComputedStyle(n)[t]}const gm="*";function bW(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function TW(n,t,e){if(":"==n[0]){const v=function CW(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function WH(n){return new nt(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function HH(n){return new nt(3015,!1)}()),t;const i=r[1],o=r[2],l=r[3];t.push(qA(i,l));"<"==o[0]&&!(i==gm&&l==gm)&&t.push(qA(l,i))}(r,e,t)):e.push(n),e}const _m=new Set(["true","1"]),vm=new Set(["false","0"]);function qA(n,t){const e=_m.has(n)||vm.has(n),r=_m.has(t)||vm.has(t);return(i,o)=>{let l=n==gm||n==i,c=t==gm||t==o;return!l&&e&&"boolean"==typeof i&&(l=i?_m.has(n):vm.has(n)),!c&&r&&"boolean"==typeof o&&(c=o?_m.has(t):vm.has(t)),l&&c}}const DW=new RegExp("s*:selfs*,?","g");function cy(n,t,e,r){return new MW(n).build(t,e,r)}class MW{constructor(t){this._driver=t}build(t,e,r){const i=new RW(e);return this._resetContextStyleTimingState(i),ro(this,ed(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function PH(){return new nt(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const v=c,B=v.name;B.toString().split(/\s*,\s*/).forEach(X=>{v.name=X,o.push(this.visitState(v,e))}),v.name=B}else if(1==c.type){const v=this.visitTransition(c,e);r+=v.queryCount,i+=v.depCount,l.push(v)}else e.errors.push(function OH(){return new nt(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,l=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(v=>{QA(v).forEach(B=>{l.hasOwnProperty(B)||o.add(B)})})}),o.size&&(hm(o.values()),e.errors.push(function xH(n,t){return new nt(3008,!1)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=ro(this,ed(t.animation),e);return{type:1,matchers:bW(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Vs(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>ro(this,r,e)),options:Vs(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(l=>{e.currentTime=r;const c=ro(this,l,e);return i=Math.max(i,e.currentTime),c});return e.currentTime=i,{type:3,steps:o,options:Vs(t.options)}}visitAnimate(t,e){const r=function wW(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dy(fm(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=dy(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=fm(e,t);return dy(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:ji({});if(5==o.type)i=this.visitKeyframes(o,e);else{let l=t.styles,c=!1;if(!l){c=!0;const B={};r.easing&&(B.easing=r.easing),l=ji(B)}e.currentTime+=r.duration+r.delay;const v=this.visitStyle(l,e);v.isEmptyStep=c,i=v}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of i)"string"==typeof c?c===Ma?r.push(c):e.errors.push(new nt(3002,!1)):r.push(zA(c));let o=!1,l=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(l=c.get("easing"),c.delete("easing")),!o))for(let v of c.values())if(v.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,v)=>{const B=e.collectedStyles.get(e.currentQuerySelector),X=B.get(v);let fe=!0;X&&(o!=i&&o>=X.startTime&&i<=X.endTime&&(e.errors.push(function NH(n,t,e,r,i){return new nt(3010,!1)}()),fe=!1),o=X.startTime),fe&&B.set(v,{startTime:o,endTime:i}),e.options&&function hW(n,t,e){const r=t.params||{},i=QA(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function AH(n){return new nt(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function FH(){return new nt(3011,!1)}()),r;let o=0;const l=[];let c=!1,v=!1,B=0;const X=t.steps.map(_t=>{const jt=this._makeStyleAst(_t,e);let bt=null!=jt.offset?jt.offset:function IW(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(jt.styles),qt=0;return null!=bt&&(o++,qt=jt.offset=bt),v=v||qt<0||qt>1,c=c||qt<B,B=qt,l.push(qt),jt});v&&e.errors.push(function BH(){return new nt(3012,!1)}()),c&&e.errors.push(function kH(){return new nt(3200,!1)}());const fe=t.steps.length;let Te=0;o>0&&o<fe?e.errors.push(function UH(){return new nt(3202,!1)}()):0==o&&(Te=1/(fe-1));const Ie=fe-1,Le=e.currentTime,Ge=e.currentAnimateTimings,dt=Ge.duration;return X.forEach((_t,jt)=>{const bt=Te>0?jt==Ie?1:Te*jt:l[jt],qt=bt*dt;e.currentTime=Le+Ge.delay+qt,Ge.duration=qt,this._validateStyleAst(_t,e),_t.offset=bt,r.styles.push(_t)}),r}visitReference(t,e){return{type:8,animation:ro(this,ed(t.animation),e),options:Vs(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Vs(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Vs(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function SW(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(DW,"")),n=n.replace(/@\*/g,dm).replace(/@\w+/g,e=>dm+"-"+e.slice(1)).replace(/:animating/g,ay),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,no(e.collectedStyles,e.currentQuerySelector,new Map);const c=ro(this,ed(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:c,originalSelector:t.selector,options:Vs(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function jH(){return new nt(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:fm(t.timings,e.errors,!0);return{type:12,animation:ro(this,ed(t.animation),e),timings:r,options:null}}}class RW{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vs(n){return n?(n=Jc(n)).params&&(n.params=function AW(n){return n?Jc(n):null}(n.params)):n={},n}function dy(n,t,e){return{duration:n,delay:t,easing:e}}function fy(n,t,e,r,i,o,l=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:c}}class ym{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const xW=new RegExp(":enter","g"),NW=new RegExp(":leave","g");function hy(n,t,e,r,i,o=new Map,l=new Map,c,v,B=[]){return(new FW).buildKeyframes(n,t,e,r,i,o,l,c,v,B)}class FW{buildKeyframes(t,e,r,i,o,l,c,v,B,X=[]){B=B||new ym;const fe=new my(t,e,B,i,o,X,[]);fe.options=v;const Te=v.delay?Sa(v.delay):0;fe.currentTimeline.delayNextStep(Te),fe.currentTimeline.setStyles([l],null,fe.errors,v),ro(this,r,fe);const Ie=fe.timelines.filter(Le=>Le.containsAnimation());if(Ie.length&&c.size){let Le;for(let Ge=Ie.length-1;Ge>=0;Ge--){const dt=Ie[Ge];if(dt.element===e){Le=dt;break}}Le&&!Le.allowOnlyTimelineStyles()&&Le.setStyles([c],null,fe.errors,v)}return Ie.length?Ie.map(Le=>Le.buildKeyframes()):[fy(e,[],[],[],0,Te,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const i of t){const o=i?.delay;if(o){const l="number"==typeof o?o:Sa(td(o,i?.params??{},e.errors));r.delayNextStep(l)}}}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const l=null!=r.duration?Sa(r.duration):null,c=null!=r.delay?Sa(r.delay):null;return 0!==l&&t.forEach(v=>{const B=e.appendInstructionToTimeline(v,l,c);o=Math.max(o,B.duration+B.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ro(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Em);const l=Sa(o.delay);i.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>ro(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Sa(t.options.delay):0;t.steps.forEach(l=>{const c=e.createSubContext(t.options);o&&c.delayNextStep(o),ro(this,l,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return fm(e.params?td(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,c=e.createSubContext().currentTimeline;c.easing=r.easing,t.styles.forEach(v=>{c.forwardTime((v.offset||0)*o),c.setStyles(v.styles,v.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Sa(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Em);let l=r;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=c.length;let v=null;c.forEach((B,X)=>{e.currentQueryIndex=X;const fe=e.createSubContext(t.options,B);o&&fe.delayNextStep(o),B===e.element&&(v=fe.currentTimeline),ro(this,t.animation,fe),fe.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,fe.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),c=l*(e.currentQueryTotal-1);let v=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":v=c-v;break;case"full":v=r.currentStaggerTime}const X=e.currentTimeline;v&&X.delayNextStep(v);const fe=X.currentTime;ro(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-fe+(i.startTime-r.currentTimeline.startTime)}}const Em={};class my{constructor(t,e,r,i,o,l,c,v){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Em,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new bm(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Sa(r.duration)),null!=r.delay&&(i.delay=Sa(r.delay));const o=r.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!l.hasOwnProperty(c))&&(l[c]=td(o[c],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new my(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Em,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},o=new BW(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,l){let c=[];if(i&&c.push(this.element),t.length>0){t=(t=t.replace(xW,"."+this._enterClassName)).replace(NW,"."+this._leaveClassName);let B=this._driver.query(this.element,t,1!=r);0!==r&&(B=r<0?B.slice(B.length+r,B.length):B.slice(0,r)),c.push(...B)}return!o&&0==c.length&&l.push(function VH(n){return new nt(3014,!1)}()),c}}class bm{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Ma),this._currentKeyframe.set(e,Ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},l=function kW(n,t){const e=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||t.keys();for(let o of r)e.set(o,Ma)}else is(i,e)}),e}(t,this._globalTimelineStyles);for(let[c,v]of l){const B=td(v,o,r);this._pendingStyles.set(c,B),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Ma),this._updateStyle(c,B)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,v)=>{const B=is(c,new Map,this._backFill);B.forEach((X,fe)=>{X===Zv?t.add(fe):X===Ma&&e.add(fe)}),r||B.set("offset",v/this.duration),i.push(B)});const o=t.size?hm(t.values()):[],l=e.size?hm(e.values()):[];if(r){const c=i[0],v=new Map(c);c.set("offset",0),v.set("offset",1),i=[c,v]}return fy(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class BW extends bm{constructor(t,e,r,i,o,l,c=!1){super(t,e,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=r+e,c=e/l,v=is(t[0]);v.set("offset",0),o.push(v);const B=is(t[0]);B.set("offset",tR(c)),o.push(B);const X=t.length-1;for(let fe=1;fe<=X;fe++){let Te=is(t[fe]);const Ie=Te.get("offset");Te.set("offset",tR((e+Ie*r)/l)),o.push(Te)}r=l,e=0,i="",t=o}return fy(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function tR(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class py{}const UW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class jW extends py{normalizePropertyName(t,e){return uy(t)}normalizeStyleValue(t,e,r,i){let o="";const l=r.toString().trim();if(UW.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function wH(n,t){return new nt(3005,!1)}())}return l+o}}function nR(n,t,e,r,i,o,l,c,v,B,X,fe,Te){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:l,timelines:c,queriedElements:v,preStyleProps:B,postStyleProps:X,totalTime:fe,errors:Te}}const gy={};class rR{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function VW(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,r):new Map}build(t,e,r,i,o,l,c,v,B,X){const fe=[],Te=this.ast.options&&this.ast.options.params||gy,Le=this.buildStyles(r,c&&c.params||gy,fe),Ge=v&&v.params||gy,dt=this.buildStyles(i,Ge,fe),_t=new Set,jt=new Map,bt=new Map,qt="void"===i,zn={params:HW(Ge,Te),delay:this.ast.options?.delay},Zn=X?[]:hy(t,e,this.ast.animation,o,l,Le,dt,zn,B,fe);let _i=0;if(Zn.forEach(Fa=>{_i=Math.max(Fa.duration+Fa.delay,_i)}),fe.length)return nR(e,this._triggerName,r,i,qt,Le,dt,[],[],jt,bt,_i,fe);Zn.forEach(Fa=>{const Ba=Fa.element,oO=no(jt,Ba,new Set);Fa.preStyleProps.forEach(rl=>oO.add(rl));const pf=no(bt,Ba,new Set);Fa.postStyleProps.forEach(rl=>pf.add(rl)),Ba!==e&&_t.add(Ba)});const Na=hm(_t.values());return nR(e,this._triggerName,r,i,qt,Le,dt,Zn,Na,jt,bt,_i)}}function HW(n,t){const e=Jc(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class WW{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,i=Jc(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,c)=>{l&&(l=td(l,i,e));const v=this.normalizer.normalizePropertyName(c,e);l=this.normalizer.normalizeStyleValue(c,v,l,e),r.set(c,l)})}),r}}class GW{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new WW(i.style,i.options&&i.options.params||{},r))}),iR(this.states,"true","1"),iR(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new rR(t,i,this.states))}),this.fallbackTransition=function zW(n,t,e){return new rR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(l=>l.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function iR(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const YW=new ym;class $W{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],i=[],o=cy(this._driver,e,r,i);if(r.length)throw function $H(n){return new nt(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,r){const i=t.element,o=FA(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations.get(t);let l;const c=new Map;if(o?(l=hy(this._driver,e,o,oy,um,new Map,new Map,r,YW,i),l.forEach(X=>{const fe=no(c,X.element,new Map);X.postStyleProps.forEach(Te=>fe.set(Te,null))})):(i.push(function XH(){return new nt(3300,!1)}()),l=[]),i.length)throw function QH(n){return new nt(3504,!1)}();c.forEach((X,fe)=>{X.forEach((Te,Ie)=>{X.set(Ie,this._driver.computeStyle(fe,Ie,Ma))})});const B=rs(l.map(X=>{const fe=c.get(X.element);return this._buildPlayer(X,new Map,fe)}));return this._playersById.set(t,B),B.onDestroy(()=>this.destroy(t)),this.players.push(B),B}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function ZH(n){return new nt(3301,!1)}();return e}listen(t,e,r,i){const o=ty(e,"","","");return Jv(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const oR="ng-animate-queued",_y="ng-animate-disabled",JW=[],aR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_o="__ng_removed";class vy{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function iK(n){return n??null}(r?t.value:t),r){const o=Jc(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const nd="void",yy=new vy(nd);class tK{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,vo(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.has(e))throw function qH(n,t){return new nt(3302,!1)}();if(null==r||0==r.length)throw function JH(n){return new nt(3303,!1)}();if(!function oK(n){return"start"==n||"done"==n}(r))throw function eW(n,t){return new nt(3400,!1)}();const o=no(this._elementListeners,t,[]),l={name:e,phase:r,callback:i};o.push(l);const c=no(this._engine.statesByElement,t,new Map);return c.has(e)||(vo(t,cm),vo(t,cm+"-"+e),c.set(e,yy)),()=>{this._engine.afterFlush(()=>{const v=o.indexOf(l);v>=0&&o.splice(v,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function tW(n){return new nt(3401,!1)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),l=new Ey(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(vo(t,cm),vo(t,cm+"-"+e),this._engine.statesByElement.set(t,c=new Map));let v=c.get(e);const B=new vy(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&B.absorbOptions(v.options),c.set(e,B),v||(v=yy),B.value!==nd&&v.value===B.value){if(!function lK(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(v.params,B.params)){const Ge=[],dt=o.matchStyles(v.value,v.params,Ge),_t=o.matchStyles(B.value,B.params,Ge);Ge.length?this._engine.reportError(Ge):this._engine.afterFlush(()=>{js(t,dt),qo(t,_t)})}return}const Te=no(this._engine.playersByElement,t,[]);Te.forEach(Ge=>{Ge.namespaceId==this.id&&Ge.triggerName==e&&Ge.queued&&Ge.destroy()});let Ie=o.matchTransition(v.value,B.value,t,B.params),Le=!1;if(!Ie){if(!i)return;Ie=o.fallbackTransition,Le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Ie,fromState:v,toState:B,player:l,isFallbackTransition:Le}),Le||(vo(t,oR),l.onStart(()=>{lu(t,oR)})),l.onDone(()=>{let Ge=this.players.indexOf(l);Ge>=0&&this.players.splice(Ge,1);const dt=this._engine.playersByElement.get(t);if(dt){let _t=dt.indexOf(l);_t>=0&&dt.splice(_t,1)}}),this.players.push(l),Te.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,dm,!0);r.forEach(i=>{if(i[_o])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const c=[];if(o.forEach((v,B)=>{if(l.set(B,v.value),this._triggers.has(B)){const X=this.trigger(t,B,nd,i);X&&c.push(X)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),r&&rs(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const v=this._triggers.get(l).fallbackTransition,B=r.get(l)||yy,X=new vy(nd),fe=new Ey(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:v,fromState:B,toState:X,player:fe,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let l=t;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[_o];(!o||o===aR)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){vo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,l=this._elementListeners.get(o);l&&l.forEach(c=>{if(c.name==r.triggerName){const v=ty(o,r.triggerName,r.fromState.value,r.toState.value);v._data=t,Jv(r.player,c.phase,v,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class nK{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new tK(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,c=this.driver.getParentElement(e);for(;c;){const v=i.get(c);if(v){const B=r.indexOf(v);r.splice(B+1,0,t),l=!0;break}c=this.driver.getParentElement(c)}l||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,r,i){if(Tm(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Tm(e))return;const o=e[_o];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),vo(t,_y)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),lu(t,_y))}removeNode(t,e,r,i){if(Tm(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[_o]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return Tm(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,dm,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ay,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return rs(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[_o];if(e&&e.setForRemoval){if(t[_o]=aR,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(_y)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?rs(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function nW(n){return new nt(3402,!1)}()}_flushAnimations(t,e){const r=new ym,i=[],o=new Map,l=[],c=new Map,v=new Map,B=new Map,X=new Set;this.disabledNodes.forEach(an=>{X.add(an);const hn=this.driver.query(an,".ng-animate-queued",!0);for(let En=0;En<hn.length;En++)X.add(hn[En])});const fe=this.bodyNode,Te=Array.from(this.statesByElement.keys()),Ie=uR(Te,this.collectedEnterElements),Le=new Map;let Ge=0;Ie.forEach((an,hn)=>{const En=oy+Ge++;Le.set(hn,En),an.forEach(Qn=>vo(Qn,En))});const dt=[],_t=new Set,jt=new Set;for(let an=0;an<this.collectedLeaveElements.length;an++){const hn=this.collectedLeaveElements[an],En=hn[_o];En&&En.setForRemoval&&(dt.push(hn),_t.add(hn),En.hasAnimation?this.driver.query(hn,".ng-star-inserted",!0).forEach(Qn=>_t.add(Qn)):jt.add(hn))}const bt=new Map,qt=uR(Te,Array.from(_t));qt.forEach((an,hn)=>{const En=um+Ge++;bt.set(hn,En),an.forEach(Qn=>vo(Qn,En))}),t.push(()=>{Ie.forEach((an,hn)=>{const En=Le.get(hn);an.forEach(Qn=>lu(Qn,En))}),qt.forEach((an,hn)=>{const En=bt.get(hn);an.forEach(Qn=>lu(Qn,En))}),dt.forEach(an=>{this.processLeaveNode(an)})});const zn=[],Zn=[];for(let an=this._namespaceList.length-1;an>=0;an--)this._namespaceList[an].drainQueuedTransitions(e).forEach(En=>{const Qn=En.player,Zr=En.element;if(zn.push(Qn),this.collectedEnterElements.length){const vi=Zr[_o];if(vi&&vi.setForMove){if(vi.previousTriggersValues&&vi.previousTriggersValues.has(En.triggerName)){const il=vi.previousTriggersValues.get(En.triggerName),bo=this.statesByElement.get(En.element);if(bo&&bo.has(En.triggerName)){const Bp=bo.get(En.triggerName);Bp.value=il,bo.set(En.triggerName,Bp)}}return void Qn.destroy()}}const aa=!fe||!this.driver.containsElement(fe,Zr),so=bt.get(Zr),ms=Le.get(Zr),Cr=this._buildInstruction(En,r,ms,so,aa);if(Cr.errors&&Cr.errors.length)return void Zn.push(Cr);if(aa)return Qn.onStart(()=>js(Zr,Cr.fromStyles)),Qn.onDestroy(()=>qo(Zr,Cr.toStyles)),void i.push(Qn);if(En.isFallbackTransition)return Qn.onStart(()=>js(Zr,Cr.fromStyles)),Qn.onDestroy(()=>qo(Zr,Cr.toStyles)),void i.push(Qn);const lO=[];Cr.timelines.forEach(vi=>{vi.stretchStartingKeyframe=!0,this.disabledNodes.has(vi.element)||lO.push(vi)}),Cr.timelines=lO,r.append(Zr,Cr.timelines),l.push({instruction:Cr,player:Qn,element:Zr}),Cr.queriedElements.forEach(vi=>no(c,vi,[]).push(Qn)),Cr.preStyleProps.forEach((vi,il)=>{if(vi.size){let bo=v.get(il);bo||v.set(il,bo=new Set),vi.forEach((Bp,hb)=>bo.add(hb))}}),Cr.postStyleProps.forEach((vi,il)=>{let bo=B.get(il);bo||B.set(il,bo=new Set),vi.forEach((Bp,hb)=>bo.add(hb))})});if(Zn.length){const an=[];Zn.forEach(hn=>{an.push(function rW(n,t){return new nt(3505,!1)}())}),zn.forEach(hn=>hn.destroy()),this.reportError(an)}const _i=new Map,Na=new Map;l.forEach(an=>{const hn=an.element;r.has(hn)&&(Na.set(hn,hn),this._beforeAnimationBuild(an.player.namespaceId,an.instruction,_i))}),i.forEach(an=>{const hn=an.element;this._getPreviousPlayers(hn,!1,an.namespaceId,an.triggerName,null).forEach(Qn=>{no(_i,hn,[]).push(Qn),Qn.destroy()})});const Fa=dt.filter(an=>dR(an,v,B)),Ba=new Map;lR(Ba,this.driver,jt,B,Ma).forEach(an=>{dR(an,v,B)&&Fa.push(an)});const pf=new Map;Ie.forEach((an,hn)=>{lR(pf,this.driver,new Set(an),v,Zv)}),Fa.forEach(an=>{const hn=Ba.get(an),En=pf.get(an);Ba.set(an,new Map([...Array.from(hn?.entries()??[]),...Array.from(En?.entries()??[])]))});const rl=[],aO=[],sO={};l.forEach(an=>{const{element:hn,player:En,instruction:Qn}=an;if(r.has(hn)){if(X.has(hn))return En.onDestroy(()=>qo(hn,Qn.toStyles)),En.disabled=!0,En.overrideTotalTime(Qn.totalTime),void i.push(En);let Zr=sO;if(Na.size>1){let so=hn;const ms=[];for(;so=so.parentNode;){const Cr=Na.get(so);if(Cr){Zr=Cr;break}ms.push(so)}ms.forEach(Cr=>Na.set(Cr,Zr))}const aa=this._buildAnimation(En.namespaceId,Qn,_i,o,pf,Ba);if(En.setRealPlayer(aa),Zr===sO)rl.push(En);else{const so=this.playersByElement.get(Zr);so&&so.length&&(En.parentPlayer=rs(so)),i.push(En)}}else js(hn,Qn.fromStyles),En.onDestroy(()=>qo(hn,Qn.toStyles)),aO.push(En),X.has(hn)&&i.push(En)}),aO.forEach(an=>{const hn=o.get(an.element);if(hn&&hn.length){const En=rs(hn);an.setRealPlayer(En)}}),i.forEach(an=>{an.parentPlayer?an.syncPlayerEvents(an.parentPlayer):an.destroy()});for(let an=0;an<dt.length;an++){const hn=dt[an],En=hn[_o];if(lu(hn,um),En&&En.hasAnimation)continue;let Qn=[];if(c.size){let aa=c.get(hn);aa&&aa.length&&Qn.push(...aa);let so=this.driver.query(hn,ay,!0);for(let ms=0;ms<so.length;ms++){let Cr=c.get(so[ms]);Cr&&Cr.length&&Qn.push(...Cr)}}const Zr=Qn.filter(aa=>!aa.destroyed);Zr.length?aK(this,hn,Zr):this.processLeaveNode(hn)}return dt.length=0,rl.forEach(an=>{this.players.push(an),an.onDone(()=>{an.destroy();const hn=this.players.indexOf(an);this.players.splice(hn,1)}),an.play()}),rl}elementContainsData(t,e){let r=!1;const i=e[_o];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let l=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(l=c)}else{const c=this.playersByElement.get(t);if(c){const v=!o||o==nd;c.forEach(B=>{B.queued||!v&&B.triggerName!=i||l.push(B)})}}return(r||i)&&(l=l.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),l}_beforeAnimationBuild(t,e,r){const o=e.element,l=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const B=v.element,X=B!==o,fe=no(r,B,[]);this._getPreviousPlayers(B,X,l,c,e.toState).forEach(Ie=>{const Le=Ie.getRealPlayer();Le.beforeDestroy&&Le.beforeDestroy(),Ie.destroy(),fe.push(Ie)})}js(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,l){const c=e.triggerName,v=e.element,B=[],X=new Set,fe=new Set,Te=e.timelines.map(Le=>{const Ge=Le.element;X.add(Ge);const dt=Ge[_o];if(dt&&dt.removedBeforeQueried)return new qc(Le.duration,Le.delay);const _t=Ge!==v,jt=function sK(n){const t=[];return cR(n,t),t}((r.get(Ge)||JW).map(_i=>_i.getRealPlayer())).filter(_i=>!!_i.element&&_i.element===Ge),bt=o.get(Ge),qt=l.get(Ge),zn=FA(0,this._normalizer,0,Le.keyframes,bt,qt),Zn=this._buildPlayer(Le,zn,jt);if(Le.subTimeline&&i&&fe.add(Ge),_t){const _i=new Ey(t,c,Ge);_i.setRealPlayer(Zn),B.push(_i)}return Zn});B.forEach(Le=>{no(this.playersByQueriedElement,Le.element,[]).push(Le),Le.onDone(()=>function rK(n,t,e){let r=n.get(t);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,Le.element,Le))}),X.forEach(Le=>vo(Le,GA));const Ie=rs(Te);return Ie.onDestroy(()=>{X.forEach(Le=>lu(Le,GA)),qo(v,e.toStyles)}),fe.forEach(Le=>{no(i,Le,[]).push(Ie)}),Ie}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new qc(t.duration,t.delay)}}class Ey{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new qc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Jv(t,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){no(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Tm(n){return n&&1===n.nodeType}function sR(n,t){const e=n.style.display;return n.style.display=t??"none",e}function lR(n,t,e,r,i){const o=[];e.forEach(v=>o.push(sR(v)));const l=[];r.forEach((v,B)=>{const X=new Map;v.forEach(fe=>{const Te=t.computeStyle(B,fe,i);X.set(fe,Te),(!Te||0==Te.length)&&(B[_o]=eK,l.push(B))}),n.set(B,X)});let c=0;return e.forEach(v=>sR(v,o[c++])),l}function uR(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const r=1,i=new Set(t),o=new Map;function l(c){if(!c)return r;let v=o.get(c);if(v)return v;const B=c.parentNode;return v=e.has(B)?B:i.has(B)?r:l(B),o.set(c,v),v}return t.forEach(c=>{const v=l(c);v!==r&&e.get(v).push(c)}),e}function vo(n,t){n.classList?.add(t)}function lu(n,t){n.classList?.remove(t)}function aK(n,t,e){rs(e).onDone(()=>n.processLeaveNode(t))}function cR(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof LA?cR(r.players,t):t.push(r)}}function dR(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class Cm{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new nK(t,e,r),this._timelineEngine=new $W(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const l=t+"-"+i;let c=this._triggerCache[l];if(!c){const v=[],B=[],X=cy(this._driver,o,v,B);if(v.length)throw function zH(n,t){return new nt(3404,!1)}();c=function KW(n,t,e){return new GW(n,t,e)}(i,X,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(e,i,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,l]=BA(r);this._timelineEngine.command(o,e,l,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[l,c]=BA(r);return this._timelineEngine.listen(l,e,c,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let cK=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&qo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qo(this._element,this._initialStyles),this._endStyles&&(qo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(js(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(js(this._element,this._endStyles),this._endStyles=null),qo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function by(n){let t=null;return n.forEach((e,r)=>{(function dK(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class fR{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&t.set(i,this._finished?r:ZA(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class fK{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return VA(t,e)}getParentElement(t){return ry(t)}query(t,e,r){return HA(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,l=[]){const v={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(v.easing=o);const B=new Map,X=l.filter(Ie=>Ie instanceof fR);(function gW(n,t){return 0===n||0===t})(r,i)&&X.forEach(Ie=>{Ie.currentSnapshot.forEach((Le,Ge)=>B.set(Ge,Le))});let fe=function fW(n){return n.length?n[0]instanceof Map?n:n.map(t=>zA(t)):[]}(e).map(Ie=>is(Ie));fe=function _W(n,t,e){if(e.size&&t.length){let r=t[0],i=[];if(e.forEach((o,l)=>{r.has(l)||i.push(l),r.set(l,o)}),i.length)for(let o=1;o<t.length;o++){let l=t[o];i.forEach(c=>l.set(c,ZA(n,c)))}}return t}(t,fe,B);const Te=function uK(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=by(t[0]),t.length>1&&(r=by(t[t.length-1]))):t instanceof Map&&(e=by(t)),e||r?new cK(n,e,r):null}(t,fe);return new fR(t,fe,v,Te)}}let hK=(()=>{class n extends PA{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:xi.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?OA(e):e;return hR(this._renderer,null,r,"register",[i]),new mK(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(ot(dc),ot(Pn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class mK extends EH{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new pK(this._id,t,e||{},this._renderer)}}class pK{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return hR(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function hR(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const mR="@.disabled";let gK=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,l)=>{const c=l?.parentNode(o);c&&l.removeChild(c,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let X=this._rendererCache.get(o);return X||(X=new pR("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,X)),X}const l=r.id,c=r.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const v=X=>{Array.isArray(X)?X.forEach(v):this.engine.registerTrigger(l,c,e,X.name,X)};return r.data.animation.forEach(v),new _K(this,c,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,c]=o;l(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(ot(dc),ot(Cm),ot(bn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class pR{constructor(t,e,r,i){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==mR?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class _K extends pR{constructor(t,e,r,i,o){super(e,r,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==mR?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function vK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function yK(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(t,e,r)}}const CK=[{provide:iy,useFactory:()=>new fK},{provide:Qo,useValue:"BrowserAnimations"},...[{provide:PA,useClass:hK},{provide:py,useFactory:function bK(){return new jW}},{provide:Cm,useClass:(()=>{class n extends Cm{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn),ot(iy),ot(py),ot(Jl))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})()},{provide:dc,useFactory:function TK(n,t,e){return new gK(n,t,e)},deps:[am,Cm,bn]}]],Mm=ai(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function _R(n){return new ue(t=>{Ae(n()).subscribe(t)})}function Ty(){return ge((n,t)=>{let e=null;n._refCount++;const r=$(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class vR extends ue{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,se(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new u;const e=this.getSubject();t.add(this.source.subscribe($(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=u.EMPTY)}return t}refCount(){return Ty()(this)}}function yo(n,t){return ge((e,r)=>{let i=null,o=0,l=!1;const c=()=>l&&!i&&r.complete();e.subscribe($(r,v=>{i?.unsubscribe();let B=0;const X=o++;Ae(n(v,X)).subscribe(i=$(r,fe=>r.next(t?t(v,fe,X,B++):fe),()=>{i=null,c()}))},()=>{l=!0,c()}))})}function Sm(n){return ge((t,e)=>{let r=!1;t.subscribe($(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function yR(n=SK){return ge((t,e)=>{let r=!1;t.subscribe($(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function SK(){return new Mm}function os(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Gr((i,o)=>n(i,o,r)):z,Ui(1),e?Sm(t):yR(()=>new Mm))}function ER(n,t){return ge(function AK(n,t,e,r,i){return(o,l)=>{let c=e,v=t,B=0;o.subscribe($(l,X=>{const fe=B++;v=c?n(v,X,fe):(c=!0,X),r&&l.next(v)},i&&(()=>{c&&l.next(v),l.complete()})))}}(n,t,arguments.length>=2,!0))}function Cy(n){return n<=0?()=>ze:ge((t,e)=>{let r=[];t.subscribe($(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function bR(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Gr((i,o)=>n(i,o,r)):z,Cy(1),e?Sm(t):yR(()=>new Mm))}function TR(n){return pe(()=>n)}const Rn="primary",rd=Symbol("RouteTitle");class IK{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function uu(n){return new IK(n)}function wK(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const l=r[o],c=n[o];if(l.startsWith(":"))i[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Jo(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!CR(n[i],t[i]))return!1;return!0}function CR(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function DR(n){return Array.prototype.concat.apply([],n)}function MR(n){return n.length>0?n[n.length-1]:null}function ri(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function as(n){return v_(n)?n:_c(n)?kt(Promise.resolve(n)):ln(n)}const Am=!1,OK={exact:function RR(n,t,e){if(!Hs(n.segments,t.segments)||!Rm(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!RR(n.children[r],t.children[r],e))return!1;return!0},subset:IR},SR={exact:function xK(n,t){return Jo(n,t)},subset:function LK(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>CR(n[e],t[e]))},ignored:()=>!0};function AR(n,t,e){return OK[e.paths](n.root,t.root,e.matrixParams)&&SR[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function IR(n,t,e){return wR(n,t,t.segments,e)}function wR(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Hs(i,e)||t.hasChildren()||!Rm(i,e,r))}if(n.segments.length===e.length){if(!Hs(n.segments,e)||!Rm(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!IR(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Hs(n.segments,i)&&Rm(n.segments,i,r)&&n.children[Rn])&&wR(n.children[Rn],t,o,r)}}function Rm(n,t,e){return t.every((r,i)=>SR[e](n[i].parameters,r.parameters))}class ss{constructor(t=new jn([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uu(this.queryParams)),this._queryParamMap}toString(){return BK.serialize(this)}}class jn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ri(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Im(this)}}class id{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=uu(this.parameters)),this._parameterMap}toString(){return xR(this)}}function Hs(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let od=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(){return new Dy},providedIn:"root"}),n})();class Dy{parse(t){const e=new zK(t);return new ss(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ad(t.root,!0)}`,r=function jK(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${wm(e)}=${wm(i)}`).join("&"):`${wm(e)}=${wm(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function kK(n){return encodeURI(n)}(t.fragment)}`:""}`}}const BK=new Dy;function Im(n){return n.segments.map(t=>xR(t)).join("/")}function ad(n,t){if(!n.hasChildren())return Im(n);if(t){const e=n.children[Rn]?ad(n.children[Rn],!1):"",r=[];return ri(n.children,(i,o)=>{o!==Rn&&r.push(`${o}:${ad(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function FK(n,t){let e=[];return ri(n.children,(r,i)=>{i===Rn&&(e=e.concat(t(r,i)))}),ri(n.children,(r,i)=>{i!==Rn&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Rn?[ad(n.children[Rn],!1)]:[`${i}:${ad(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rn]?`${Im(n)}/${e[0]}`:`${Im(n)}/(${e.join("//")})`}}function PR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wm(n){return PR(n).replace(/%3B/gi,";")}function My(n){return PR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pm(n){return decodeURIComponent(n)}function OR(n){return Pm(n.replace(/\+/g,"%20"))}function xR(n){return`${My(n.path)}${function UK(n){return Object.keys(n).map(t=>`;${My(t)}=${My(n[t])}`).join("")}(n.parameters)}`}const VK=/^[^\/()?;=#]+/;function Om(n){const t=n.match(VK);return t?t[0]:""}const HK=/^[^=?&#]+/,KK=/^[^&#]+/;class zK{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jn([],{}):new jn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Rn]=new jn(t,e)),r}parseSegment(){const t=Om(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new nt(4009,Am);return this.capture(t),new id(Pm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Om(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Om(this.remaining);i&&(r=i,this.capture(r))}t[Pm(e)]=Pm(r)}parseQueryParam(t){const e=function WK(n){const t=n.match(HK);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const l=function GK(n){const t=n.match(KK);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=OR(e),o=OR(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Om(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new nt(4010,Am);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Rn);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[Rn]:new jn([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new nt(4011,Am)}}function Sy(n){return n.segments.length>0?new jn([],{[Rn]:n}):n}function xm(n){const t={};for(const r of Object.keys(n.children)){const o=xm(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function YK(n){if(1===n.numberOfChildren&&n.children[Rn]){const t=n.children[Rn];return new jn(n.segments.concat(t.segments),t.children)}return n}(new jn(n.segments,t))}function Ws(n){return n instanceof ss}const Ay=!1;function $K(n,t,e,r,i){if(0===e.length)return cu(t.root,t.root,t.root,r,i);const o=function kR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new BR(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return ri(o.outlets,(v,B)=>{c[B]="string"==typeof v?v.split("/"):v}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((c,v)=>{0==v&&"."===c||(0==v&&""===c?e=!0:".."===c?t++:""!=c&&i.push(c))}),i):[...i,o]},[]);return new BR(e,t,r)}(e);return o.toRoot()?cu(t.root,t.root,new jn([],{}),r,i):function l(v){const B=function QK(n,t,e,r){if(n.isAbsolute)return new du(t.root,!0,0);if(-1===r)return new du(e,e===t.root,0);return function UR(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new nt(4005,Ay&&"Invalid number of '../'");i=r.segments.length}return new du(r,!1,i-o)}(e,r+(sd(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,v),X=B.processChildren?fu(B.segmentGroup,B.index,o.commands):Ry(B.segmentGroup,B.index,o.commands);return cu(t.root,B.segmentGroup,X,r,i)}(n.snapshot?._lastPathIndex)}function sd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ld(n){return"object"==typeof n&&null!=n&&n.outlets}function cu(n,t,e,r,i){let l,o={};r&&ri(r,(v,B)=>{o[B]=Array.isArray(v)?v.map(X=>`${X}`):`${v}`}),l=n===t?e:FR(n,t,e);const c=Sy(xm(l));return new ss(c,o,i)}function FR(n,t,e){const r={};return ri(n.children,(i,o)=>{r[o]=i===t?e:FR(i,t,e)}),new jn(n.segments,r)}class BR{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&sd(r[0]))throw new nt(4003,Ay&&"Root segment cannot have matrix parameters");const i=r.find(ld);if(i&&i!==MR(r))throw new nt(4004,Ay&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class du{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Ry(n,t,e){if(n||(n=new jn([],{})),0===n.segments.length&&n.hasChildren())return fu(n,t,e);const r=function qK(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const l=n.segments[i],c=e[r];if(ld(c))break;const v=`${c}`,B=r<e.length-1?e[r+1]:null;if(i>0&&void 0===v)break;if(v&&B&&"object"==typeof B&&void 0===B.outlets){if(!VR(v,B,l))return o;r+=2}else{if(!VR(v,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new jn(n.segments.slice(0,r.pathIndex),{});return o.children[Rn]=new jn(n.segments.slice(r.pathIndex),n.children),fu(o,0,i)}return r.match&&0===i.length?new jn(n.segments,{}):r.match&&!n.hasChildren()?Iy(n,t,e):r.match?fu(n,0,i):Iy(n,t,e)}function fu(n,t,e){if(0===e.length)return new jn(n.segments,{});{const r=function ZK(n){return ld(n[0])?n[0].outlets:{[Rn]:n}}(e),i={};return!r[Rn]&&n.children[Rn]&&1===n.numberOfChildren&&0===n.children[Rn].segments.length?fu(n.children[Rn],t,e):(ri(r,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[l]=Ry(n.children[l],t,o))}),ri(n.children,(o,l)=>{void 0===r[l]&&(i[l]=o)}),new jn(n.segments,i))}}function Iy(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(ld(o)){const v=JK(o.outlets);return new jn(r,v)}if(0===i&&sd(e[0])){r.push(new id(n.segments[t].path,jR(e[0]))),i++;continue}const l=ld(o)?o.outlets[Rn]:`${o}`,c=i<e.length-1?e[i+1]:null;l&&c&&sd(c)?(r.push(new id(l,jR(c))),i+=2):(r.push(new id(l,{})),i++)}return new jn(r,{})}function JK(n){const t={};return ri(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Iy(new jn([],{}),0,e))}),t}function jR(n){const t={};return ri(n,(e,r)=>t[r]=`${e}`),t}function VR(n,t,e){return n==e.path&&Jo(t,e.parameters)}const ud="imperative";class ea{constructor(t,e){this.id=t,this.url=e}}class wy extends ea{constructor(t,e,r="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ks extends ea{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lm extends ea{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nm extends ea{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=16}}class Py extends ea{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eG extends ea{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tG extends ea{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nG extends ea{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rG extends ea{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iG extends ea{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oG{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aG{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sG{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lG{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uG{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cG{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HR{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let hG=(()=>{class n{createUrlTree(e,r,i,o,l,c){return $K(e||r.root,i,o,l,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),pG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(t){return hG.\u0275fac(t)},providedIn:"root"}),n})();class WR{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Oy(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Oy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return xy(t,this._root).map(e=>e.value)}}function Oy(n,t){if(n===t.value)return t;for(const e of t.children){const r=Oy(n,e);if(r)return r}return null}function xy(n,t){if(n===t.value)return[t];for(const e of t.children){const r=xy(n,e);if(r.length)return r.unshift(t),r}return[]}class Aa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function hu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class KR extends WR{constructor(t,e){super(t),this.snapshot=e,Ly(this,t)}toString(){return this.snapshot.toString()}}function GR(n,t){const e=function gG(n,t){const l=new Fm([],{},{},"",{},Rn,t,null,n.root,-1,{});return new YR("",new Aa(l,[]))}(n,t),r=new eo([new id("",{})]),i=new eo({}),o=new eo({}),l=new eo({}),c=new eo(""),v=new Ra(r,i,l,c,o,Rn,t,e.root);return v.snapshot=e.root,new KR(new Aa(v,[]),e)}class Ra{constructor(t,e,r,i,o,l,c,v){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=c,this.title=this.data?.pipe(pe(B=>B[rd]))??ln(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(t=>uu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(t=>uu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zR(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function _G(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Fm{get title(){return this.data?.[rd]}constructor(t,e,r,i,o,l,c,v,B,X,fe){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=c,this.routeConfig=v,this._urlSegment=B,this._lastPathIndex=X,this._resolve=fe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YR extends WR{constructor(t,e){super(e),this.url=t,Ly(this,e)}toString(){return $R(this._root)}}function Ly(n,t){t.value._routerState=n,t.children.forEach(e=>Ly(n,e))}function $R(n){const t=n.children.length>0?` { ${n.children.map($R).join(", ")} } `:"";return`${n.value}${t}`}function Ny(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Jo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Jo(t.params,e.params)||n.params.next(e.params),function PK(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Jo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Jo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fy(n,t){const e=Jo(n.params,t.params)&&function NK(n,t){return Hs(n,t)&&n.every((e,r)=>Jo(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Fy(n.parent,t.parent))}function cd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function yG(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return cd(n,r,i);return cd(n,r)})}(n,t,e);return new Aa(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(c=>cd(n,c)),l}}const r=function EG(n){return new Ra(new eo(n.url),new eo(n.params),new eo(n.queryParams),new eo(n.fragment),new eo(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>cd(n,o));return new Aa(r,i)}}const By="ngNavigationCancelingError";function XR(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Ws(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=QR(!1,0,t);return i.url=e,i.navigationBehaviorOptions=r,i}function QR(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[By]=!0,r.cancellationCode=t,e&&(r.url=e),r}function ZR(n){return qR(n)&&Ws(n.url)}function qR(n){return n&&n[By]}class bG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new dd,this.attachRef=null}}let dd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new bG,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bm=!1;let ky=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rn,this.activateEvents=new rr,this.deactivateEvents=new rr,this.attachEvents=new rr,this.detachEvents=new rr,this.parentContexts=pn(dd),this.location=pn(qi),this.changeDetector=pn(Bi),this.environmentInjector=pn(Ho)}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new nt(4012,Bm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new nt(4012,Bm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new nt(4012,Bm);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new nt(4013,Bm);this._activatedRoute=e;const i=this.location,l=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,v=new TG(e,c,i.injector);if(r&&function CG(n){return!!n.resolveComponentFactory}(r)){const B=r.resolveComponentFactory(l);this.activated=i.createComponent(B,i.length,v)}else this.activated=i.createComponent(l,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=zt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gi]}),n})();class TG{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Ra?this.route:t===dd?this.childContexts:this.parent.get(t,e)}}let Uy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ht({type:n,selectors:[["ng-component"]],standalone:!0,features:[er],decls:1,vars:0,template:function(e,r){1&e&&nn(0,"router-outlet")},dependencies:[ky],encapsulation:2}),n})();function JR(n,t){return n.providers&&!n._injector&&(n._injector=_h(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Vy(n){const t=n.children&&n.children.map(Vy),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rn&&(e.component=Uy),e}function Eo(n){return n.outlet||Rn}function eI(n,t){const e=n.filter(r=>Eo(r)===t);return e.push(...n.filter(r=>Eo(r)!==t)),e}function fd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class RG{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Ny(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=hu(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),ri(i,(o,l)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=hu(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(r&&r.outlet){const l=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=hu(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=hu(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cG(o.value.snapshot))}),t.children.length&&this.forwardEvent(new lG(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(Ny(i),i===o)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),Ny(c.route.value),this.activateChildRoutes(t,null,l.children)}else{const c=fd(i.snapshot),v=c?.get(Ol)??null;l.attachRef=null,l.route=i,l.resolver=v,l.injector=c,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class tI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class km{constructor(t,e){this.component=t,this.route=e}}function IG(n,t,e){const r=n._root;return hd(r,t?t._root:null,e,[r.value])}function mu(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||function yi(n){return null!==Fn(n)}(n)?t.get(n):n:r}function hd(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=hu(t);return n.children.forEach(l=>{(function PG(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const v=function OG(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Hs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Hs(n.url,t.url)||!Jo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fy(n,t)||!Jo(n.queryParams,t.queryParams);default:return!Fy(n,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new tI(r)):(o.data=l.data,o._resolvedData=l._resolvedData),hd(n,t,o.component?c?c.children:null:e,r,i),v&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new km(c.outlet.component,l))}else l&&md(t,c,i),i.canActivateChecks.push(new tI(r)),hd(n,null,o.component?c?c.children:null:e,r,i)})(l,o[l.value.outlet],e,r.concat([l.value]),i),delete o[l.value.outlet]}),ri(o,(l,c)=>md(l,e.getContext(c),i)),i}function md(n,t,e){const r=hu(n),i=n.value;ri(r,(o,l)=>{md(o,i.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new km(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function pd(n){return"function"==typeof n}function Hy(n){return n instanceof Mm||"EmptyError"===n?.name}const Um=Symbol("INITIAL_VALUE");function pu(){return yo(n=>Lv(n.map(t=>t.pipe(Ui(1),iu(Um)))).pipe(pe(t=>{for(const e of t)if(!0!==e){if(e===Um)return Um;if(!1===e||e instanceof ss)return e}return!0}),Gr(t=>t!==Um),Ui(1)))}function nI(n){return function re(...n){return ie(n)}(Xn(t=>{if(Ws(t))throw XR(0,t)}),pe(t=>!0===t))}const Wy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rI(n,t,e,r,i){const o=Ky(n,t,e);return o.matched?function XG(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?ln(i.map(l=>{const c=mu(l,n);return as(function kG(n){return n&&pd(n.canMatch)}(c)?c.canMatch(t,e):n.runInContext(()=>c(t,e)))})).pipe(pu(),nI()):ln(!0)}(r=JR(t,r),t,e).pipe(pe(l=>!0===l?o:{...Wy})):ln(o)}function Ky(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Wy}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||wK)(e,n,t);if(!i)return{...Wy};const o={};ri(i.posParams,(c,v)=>{o[v]=c.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function jm(n,t,e,r){if(e.length>0&&function qG(n,t,e){return e.some(r=>Vm(n,t,r)&&Eo(r)!==Rn)}(n,e,r)){const o=new jn(t,function ZG(n,t,e,r){const i={};i[Rn]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Eo(o)!==Rn){const l=new jn([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,i[Eo(o)]=l}return i}(n,t,r,new jn(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function JG(n,t,e){return e.some(r=>Vm(n,t,r))}(n,e,r)){const o=new jn(n.segments,function QG(n,t,e,r,i){const o={};for(const l of r)if(Vm(n,e,l)&&!i[Eo(l)]){const c=new jn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,o[Eo(l)]=c}return{...i,...o}}(n,t,e,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const i=new jn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:e}}function Vm(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function iI(n,t,e,r){return!!(Eo(n)===r||r!==Rn&&Vm(t,e,n))&&("**"===n.path||Ky(t,n,e).matched)}function oI(n,t,e){return 0===t.length&&!n.children[e]}const Hm=!1;class Wm{constructor(t){this.segmentGroup=t||null}}class aI{constructor(t){this.urlTree=t}}function gd(n){return Ri(new Wm(n))}function sI(n){return Ri(new aI(n))}class rz{constructor(t,e,r,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=jm(this.urlTree.root,[],[],this.config).segmentGroup,e=new jn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Rn).pipe(pe(o=>this.createUrlTree(xm(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(go(o=>{if(o instanceof aI)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Wm?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Rn).pipe(pe(i=>this.createUrlTree(xm(i),t.queryParams,t.fragment))).pipe(go(i=>{throw i instanceof Wm?this.noMatchError(i):i}))}noMatchError(t){return new nt(4002,Hm)}createUrlTree(t,e,r){const i=Sy(t);return new ss(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(pe(o=>new jn([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return kt(i).pipe(qa(o=>{const l=r.children[o],c=eI(e,o);return this.expandSegmentGroup(t,c,l,o).pipe(pe(v=>({segment:v,outlet:o})))}),ER((o,l)=>(o[l.outlet]=l.segment,o),{}),bR())}expandSegment(t,e,r,i,o,l){return kt(r).pipe(qa(c=>this.expandSegmentAgainstRoute(t,e,r,c,i,o,l).pipe(go(B=>{if(B instanceof Wm)return ln(null);throw B}))),os(c=>!!c),go((c,v)=>{if(Hy(c))return oI(e,i,o)?ln(new jn([],{})):gd(e);throw c}))}expandSegmentAgainstRoute(t,e,r,i,o,l,c){return iI(i,e,o,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,l):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l):gd(e):gd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sI(o):this.lineralizeSegments(r,o).pipe(Kt(l=>{const c=new jn(l,{});return this.expandSegment(t,c,e,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,l){const{matched:c,consumedSegments:v,remainingSegments:B,positionalParamSegments:X}=Ky(e,i,o);if(!c)return gd(e);const fe=this.applyRedirectCommands(v,i.redirectTo,X);return i.redirectTo.startsWith("/")?sI(fe):this.lineralizeSegments(i,fe).pipe(Kt(Te=>this.expandSegment(t,e,r,Te.concat(B),l,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){return"**"===r.path?(t=JR(r,t),r.loadChildren?(r._loadedRoutes?ln({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(pe(c=>(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,new jn(i,{})))):ln(new jn(i,{}))):rI(e,r,i,t).pipe(yo(({matched:l,consumedSegments:c,remainingSegments:v})=>l?this.getChildConfig(t=r._injector??t,r,i).pipe(Kt(X=>{const fe=X.injector??t,Te=X.routes,{segmentGroup:Ie,slicedSegments:Le}=jm(e,c,v,Te),Ge=new jn(Ie.segments,Ie.children);if(0===Le.length&&Ge.hasChildren())return this.expandChildren(fe,Te,Ge).pipe(pe(bt=>new jn(c,bt)));if(0===Te.length&&0===Le.length)return ln(new jn(c,{}));const dt=Eo(r)===o;return this.expandSegment(fe,Ge,Te,Le,dt?Rn:o,!0).pipe(pe(jt=>new jn(c.concat(jt.segments),jt.children)))})):gd(e)))}getChildConfig(t,e,r){return e.children?ln({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?ln({routes:e._loadedRoutes,injector:e._loadedInjector}):function $G(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?ln(!0):ln(i.map(l=>{const c=mu(l,n);return as(function LG(n){return n&&pd(n.canLoad)}(c)?c.canLoad(t,e):n.runInContext(()=>c(t,e)))})).pipe(pu(),nI())}(t,e,r).pipe(Kt(i=>i?this.configLoader.loadChildren(t,e).pipe(Xn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function tz(n){return Ri(QR(Hm,3))}())):ln({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ln(r);if(i.numberOfChildren>1||!i.children[Rn])return t.redirectTo,Ri(new nt(4e3,Hm));i=i.children[Rn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new ss(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ri(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const c=i.substring(1);r[o]=e[c]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let l={};return ri(e.children,(c,v)=>{l[v]=this.createSegmentGroup(t,c,r,i)}),new jn(o,l)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new nt(4001,Hm);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}class oz{}class lz{constructor(t,e,r,i,o,l,c){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=l,this.urlSerializer=c}recognize(){const t=jm(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Rn).pipe(pe(e=>{if(null===e)return null;const r=new Fm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Aa(r,e),o=new YR(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,r=zR(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,i)}processChildren(t,e,r){return kt(Object.keys(r.children)).pipe(qa(i=>{const o=r.children[i],l=eI(e,i);return this.processSegmentGroup(t,l,o,i)}),ER((i,o)=>i&&o?(i.push(...o),i):null),function RK(n,t=!1){return ge((e,r)=>{let i=0;e.subscribe($(r,o=>{const l=n(o,i++);(l||t)&&r.next(o),!l&&r.complete()}))})}(i=>null!==i),Sm(null),bR(),pe(i=>{if(null===i)return null;const o=uI(i);return function uz(n){n.sort((t,e)=>t.value.outlet===Rn?-1:e.value.outlet===Rn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,r,i,o){return kt(e).pipe(qa(l=>this.processSegmentAgainstRoute(l._injector??t,l,r,i,o)),os(l=>!!l),go(l=>{if(Hy(l))return oI(r,i,o)?ln([]):ln(null);throw l}))}processSegmentAgainstRoute(t,e,r,i,o){if(e.redirectTo||!iI(e,r,i,o))return ln(null);let l;if("**"===e.path){const c=i.length>0?MR(i).parameters:{},v=dI(r)+i.length;l=ln({snapshot:new Fm(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fI(e),Eo(e),e.component??e._loadedComponent??null,e,cI(r),v,hI(e)),consumedSegments:[],remainingSegments:[]})}else l=rI(r,e,i,t).pipe(pe(({matched:c,consumedSegments:v,remainingSegments:B,parameters:X})=>{if(!c)return null;const fe=dI(r)+v.length;return{snapshot:new Fm(v,X,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fI(e),Eo(e),e.component??e._loadedComponent??null,e,cI(r),fe,hI(e)),consumedSegments:v,remainingSegments:B}}));return l.pipe(yo(c=>{if(null===c)return ln(null);const{snapshot:v,consumedSegments:B,remainingSegments:X}=c;t=e._injector??t;const fe=e._loadedInjector??t,Te=function cz(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Ie,slicedSegments:Le}=jm(r,B,X,Te.filter(dt=>void 0===dt.redirectTo));if(0===Le.length&&Ie.hasChildren())return this.processChildren(fe,Te,Ie).pipe(pe(dt=>null===dt?null:[new Aa(v,dt)]));if(0===Te.length&&0===Le.length)return ln([new Aa(v,[])]);const Ge=Eo(e)===o;return this.processSegment(fe,Te,Ie,Le,Ge?Rn:o).pipe(pe(dt=>null===dt?null:[new Aa(v,dt)]))}))}}function dz(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function uI(n){const t=[],e=new Set;for(const r of n){if(!dz(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=uI(r.children);t.push(new Aa(r.value,i))}return t.filter(r=>!e.has(r))}function cI(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function dI(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function fI(n){return n.data||{}}function hI(n){return n.resolve||{}}function mI(n){return"string"==typeof n.title||null===n.title}function Gy(n){return yo(t=>{const e=n(t);return e?kt(e).pipe(pe(()=>t)):ln(t)})}const gu=new Ut("ROUTES");let zy=(()=>{class n{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ln(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=as(e.loadComponent()).pipe(pe(gI),Xn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Jh(()=>{this.componentLoaders.delete(e)})),i=new vR(r,()=>new ne).pipe(Ty());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ln({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(pe(c=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,B,X=!1;Array.isArray(c)?B=c:(v=c.create(e).injector,B=DR(v.get(gu,[],mn.Self|mn.Optional)));return{routes:B.map(Vy),injector:v}}),Jh(()=>{this.childrenLoaders.delete(r)})),l=new vR(o,()=>new ne).pipe(Ty());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(e){return as(e()).pipe(pe(gI),Kt(i=>i instanceof w0||Array.isArray(i)?ln(i):kt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(ot(Fi),ot(gM))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gI(n){return function Ez(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Gm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ne,this.configLoader=pn(zy),this.environmentInjector=pn(Ho),this.urlSerializer=pn(od),this.rootContexts=pn(dd),this.navigationId=0,this.afterPreactivation=()=>ln(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new aG(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new oG(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new eo({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ud,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gr(r=>0!==r.id),pe(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),yo(r=>{let i=!1,o=!1;return ln(r).pipe(Xn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yo(l=>{const c=e.browserUrlTree.toString(),v=!e.navigated||l.extractedUrl.toString()!==c||c!==e.currentUrlTree.toString();if(!v&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const X="";return this.events.next(new Nm(l.id,e.serializeUrl(r.rawUrl),X,0)),e.rawUrlTree=l.rawUrl,l.resolve(null),ze}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return _I(l.source)&&(e.browserUrlTree=l.extractedUrl),ln(l).pipe(yo(X=>{const fe=this.transitions?.getValue();return this.events.next(new wy(X.id,this.urlSerializer.serialize(X.extractedUrl),X.source,X.restoredState)),fe!==this.transitions?.getValue()?ze:Promise.resolve(X)}),function iz(n,t,e,r){return yo(i=>function nz(n,t,e,r,i){return new rz(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(pe(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),Xn(X=>{this.currentNavigation={...this.currentNavigation,finalUrl:X.urlAfterRedirects},r.urlAfterRedirects=X.urlAfterRedirects}),function hz(n,t,e,r,i){return Kt(o=>function sz(n,t,e,r,i,o,l="emptyOnly"){return new lz(n,t,e,r,i,l,o).recognize().pipe(yo(c=>null===c?function az(n){return new ue(t=>t.error(n))}(new oz):ln(c)))}(n,t,e,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(pe(l=>({...o,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Xn(X=>{if(r.targetSnapshot=X.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!X.extras.skipLocationChange){const Te=e.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl);e.setBrowserUrl(Te,X)}e.browserUrlTree=X.urlAfterRedirects}const fe=new eG(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot);this.events.next(fe)}));if(v&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:X,extractedUrl:fe,source:Te,restoredState:Ie,extras:Le}=l,Ge=new wy(X,this.urlSerializer.serialize(fe),Te,Ie);this.events.next(Ge);const dt=GR(fe,this.rootComponentType).snapshot;return ln(r={...l,targetSnapshot:dt,urlAfterRedirects:fe,extras:{...Le,skipLocationChange:!1,replaceUrl:!1}})}{const X="";return this.events.next(new Nm(l.id,e.serializeUrl(r.extractedUrl),X,1)),e.rawUrlTree=l.rawUrl,l.resolve(null),ze}}),Xn(l=>{const c=new tG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),pe(l=>r={...l,guards:IG(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function jG(n,t){return Kt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?ln({...e,guardsResult:!0}):function VG(n,t,e,r){return kt(n).pipe(Kt(i=>function YG(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ln(o.map(c=>{const v=fd(t)??i,B=mu(c,v);return as(function BG(n){return n&&pd(n.canDeactivate)}(B)?B.canDeactivate(n,t,e,r):v.runInContext(()=>B(n,t,e,r))).pipe(os())})).pipe(pu()):ln(!0)}(i.component,i.route,e,t,r)),os(i=>!0!==i,!0))}(l,r,i,n).pipe(Kt(c=>c&&function xG(n){return"boolean"==typeof n}(c)?function HG(n,t,e,r){return kt(t).pipe(qa(i=>Bc(function KG(n,t){return null!==n&&t&&t(new sG(n)),ln(!0)}(i.route.parent,r),function WG(n,t){return null!==n&&t&&t(new uG(n)),ln(!0)}(i.route,r),function zG(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function wG(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>_R(()=>ln(l.guards.map(v=>{const B=fd(l.node)??e,X=mu(v,B);return as(function FG(n){return n&&pd(n.canActivateChild)}(X)?X.canActivateChild(r,n):B.runInContext(()=>X(r,n))).pipe(os())})).pipe(pu())));return ln(o).pipe(pu())}(n,i.path,e),function GG(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ln(!0);const i=r.map(o=>_R(()=>{const l=fd(t)??e,c=mu(o,l);return as(function NG(n){return n&&pd(n.canActivate)}(c)?c.canActivate(t,n):l.runInContext(()=>c(t,n))).pipe(os())}));return ln(i).pipe(pu())}(n,i.route,e))),os(i=>!0!==i,!0))}(r,o,n,t):ln(c)),pe(c=>({...e,guardsResult:c})))})}(this.environmentInjector,l=>this.events.next(l)),Xn(l=>{if(r.guardsResult=l.guardsResult,Ws(l.guardsResult))throw XR(0,l.guardsResult);const c=new nG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Gr(l=>!!l.guardsResult||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Gy(l=>{if(l.guards.canActivateChecks.length)return ln(l).pipe(Xn(c=>{const v=new rG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(v)}),yo(c=>{let v=!1;return ln(c).pipe(function mz(n,t){return Kt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return ln(e);let o=0;return kt(i).pipe(qa(l=>function pz(n,t,e,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!mI(i)&&(o[rd]=i.title),function gz(n,t,e,r){const i=function _z(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ln({});const o={};return kt(i).pipe(Kt(l=>function vz(n,t,e,r){const i=fd(t)??r,o=mu(n,i);return as(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(n[l],t,e,r).pipe(os(),Xn(c=>{o[l]=c}))),Cy(1),TR(o),go(l=>Hy(l)?ze:Ri(l)))}(o,n,t,r).pipe(pe(l=>(n._resolvedData=l,n.data=zR(n,e).resolve,i&&mI(i)&&(n.data[rd]=i.title),null)))}(l.route,r,n,t)),Xn(()=>o++),Cy(1),Kt(l=>o===i.length?ln(e):ze))})}(e.paramsInheritanceStrategy,this.environmentInjector),Xn({next:()=>v=!0,complete:()=>{v||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),Xn(c=>{const v=new iG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(v)}))}),Gy(l=>{const c=v=>{const B=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&B.push(this.configLoader.loadComponent(v.routeConfig).pipe(Xn(X=>{v.component=X}),pe(()=>{})));for(const X of v.children)B.push(...c(X));return B};return Lv(c(l.targetSnapshot.root)).pipe(Sm(),Ui(1))}),Gy(()=>this.afterPreactivation()),pe(l=>{const c=function vG(n,t,e){const r=cd(n,t._root,e?e._root:void 0);return new KR(r,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:c}}),Xn(l=>{e.currentUrlTree=l.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),e.routerState=l.targetRouterState,"deferred"===e.urlUpdateStrategy&&(l.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,l),e.browserUrlTree=l.urlAfterRedirects)}),((n,t,e)=>pe(r=>(new RG(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l)),Xn({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Ks(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Jh(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),go(l=>{if(o=!0,qR(l)){ZR(l)||(e.navigated=!0,e.restoreHistory(r,!0));const c=new Lm(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(c),ZR(l)){const v=e.urlHandlingStrategy.merge(l.url,e.rawUrlTree),B={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||_I(r.source)};e.scheduleNavigation(v,ud,null,B,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const c=new Py(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(c);try{r.resolve(e.errorHandler(l))}catch(v){r.reject(v)}}return ze}))}))}cancelNavigationTransition(e,r,i){const o=new Lm(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _I(n){return n!==ud}let vI=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Rn);return r}getResolvedTitleForRoute(e){return e.data[rd]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(){return pn(bz)},providedIn:"root"}),n})(),bz=(()=>{class n extends vI{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(ot(TA))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(){return pn(Dz)},providedIn:"root"}),n})();class Cz{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Dz=(()=>{class n extends Cz{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qr(n)))(r||n)}}(),n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zm=new Ut("",{providedIn:"root",factory:()=>({})});let Sz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:function(){return pn(Az)},providedIn:"root"}),n})(),Az=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rz(n){throw n}function Iz(n,t,e){return t.parse("/")}const wz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=pn(hk),this.isNgZoneEnabled=!1,this.options=pn(zm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Rz,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Iz,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=pn(Sz),this.routeReuseStrategy=pn(Tz),this.urlCreationStrategy=pn(pG),this.titleStrategy=pn(vI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=DR(pn(gu,{optional:!0})??[]),this.navigationTransitions=pn(Gm),this.urlSerializer=pn(od),this.location=pn(Ih),this.isNgZoneEnabled=pn(bn)instanceof bn&&bn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ss,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GR(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ud,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,i){const o={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const v={...i};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(o.state=v)}const c=this.parseUrl(e);this.scheduleNavigation(c,r,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Vy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:c,preserveFragment:v}=r,B=v?this.currentUrlTree.fragment:l;let X=null;switch(c){case"merge":X={...this.currentUrlTree.queryParams,...o};break;case"preserve":X=this.currentUrlTree.queryParams;break;default:X=o||null}return null!==X&&(X=this.removeEmptyProps(X)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,e,X,B??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Ws(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ud,null,r)}navigate(e,r={skipLocationChange:!1}){return function Oz(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new nt(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?{...wz}:!1===r?{...Pz}:r,Ws(e))return AR(this.currentUrlTree,e,i);const o=this.parseUrl(e);return AR(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(e,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let c,v,B,X;return l?(c=l.resolve,v=l.reject,B=l.promise):B=new Promise((fe,Te)=>{c=fe,v=Te}),X="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:X,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:c,reject:v,promise:B,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),B.catch(fe=>Promise.reject(fe))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ia=(()=>{class n{constructor(e,r,i,o,l,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=l,this.locationStrategy=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ne;const v=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=e.events.subscribe(B=>{B instanceof Ks&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=eu(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=eu(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=eu(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||i||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function iC(n,t,e){return function bL(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?rC:wl}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,e,r):i.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(ke($r),ke(Ra),El("tabindex"),ke(ma),ke(Bn),ke(Os))},n.\u0275dir=zt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&An("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&cr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Gi]}),n})();class yI{}let Nz=(()=>{class n{constructor(e,r,i,o,l){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Gr(e=>e instanceof Ks),qa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=_h(o.providers,e,`Route: ${o.path}`));const l=o._injector??e,c=o._loadedInjector??l;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(l,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return kt(i).pipe(Pe())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):ln(null);const o=i.pipe(Kt(l=>null===l?ln(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));return r.loadComponent&&!r._loadedComponent?kt([o,this.loader.loadComponent(r)]).pipe(Pe()):o})}}return n.\u0275fac=function(e){return new(e||n)(ot($r),ot(gM),ot(Ho),ot(yI),ot(zy))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $y=new Ut("");let EI=(()=>{class n{constructor(e,r,i,o,l={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ks&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof HR&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new HR(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){th()},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();var io=(()=>((io=io||{})[io.COMPLETE=0]="COMPLETE",io[io.FAILED=1]="FAILED",io[io.REDIRECTING=2]="REDIRECTING",io))();const _u=!1;function bI(n){return n.routerState.root}function ls(n,t){return{\u0275kind:n,\u0275providers:t}}const Xy=new Ut("",{providedIn:"root",factory:()=>!1});function TI(){const n=pn(Fi);return t=>{const e=n.get(Jl);if(t!==e.components[0])return;const r=n.get($r),i=n.get(CI);1===n.get(Qy)&&r.initialNavigation(),n.get(DI,null,mn.Optional)?.setUpPreloading(),n.get($y,null,mn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const CI=new Ut(_u?"bootstrap done indicator":"",{factory:()=>new ne}),Qy=new Ut(_u?"initial navigation":"",{providedIn:"root",factory:()=>1});function Vz(){let n=[];return n=_u?[{provide:Zf,multi:!0,useFactory:()=>{const t=pn($r);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function dG(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],ls(1,n)}const DI=new Ut(_u?"router preloader":"");function Hz(n){return ls(0,[{provide:DI,useExisting:Nz},{provide:yI,useExisting:n}])}const _d=!1,MI=new Ut(_d?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Wz=[Ih,{provide:od,useClass:Dy},$r,dd,{provide:Ra,useFactory:bI,deps:[$r]},zy,_d?{provide:Xy,useValue:!0}:[]];function Kz(){return new CM("Router",$r)}let hi=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Wz,_d&&r?.enableTracing?Vz().\u0275providers:[],{provide:gu,multi:!0,useValue:e},{provide:MI,useFactory:$z,deps:[[$r,new fa,new Sl]]},{provide:zm,useValue:r||{}},r?.useHash?{provide:Os,useClass:Jk}:{provide:Os,useClass:GM},{provide:$y,useFactory:()=>{const n=pn(gj),t=pn(bn),e=pn(zm),r=pn(Gm),i=pn(od);return e.scrollOffset&&n.setOffset(e.scrollOffset),new EI(i,r,n,t,e)}},r?.preloadingStrategy?Hz(r.preloadingStrategy).\u0275providers:[],{provide:CM,multi:!0,useFactory:Kz},r?.initialNavigation?Xz(r):[],[{provide:SI,useFactory:TI},{provide:Y_,multi:!0,useExisting:SI}]]}}static forChild(e){return{ngModule:n,providers:[{provide:gu,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(ot(MI,8))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[Uy]}),n})();function $z(n){if(_d&&n)throw new nt(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Xz(n){return["disabled"===n.initialNavigation?ls(3,[{provide:Rc,multi:!0,useFactory:()=>{const t=pn($r);return()=>{t.setUpLocationChangeListener()}}},{provide:Qy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ls(2,[{provide:Qy,useValue:0},{provide:Rc,multi:!0,deps:[Fi],useFactory:t=>{const e=t.get(Zk,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get($r),o=t.get(CI);(function Fz(n,t){n.events.pipe(Gr(e=>e instanceof Ks||e instanceof Lm||e instanceof Py||e instanceof Nm),pe(e=>e instanceof Ks||e instanceof Nm?io.COMPLETE:e instanceof Lm&&(0===e.code||1===e.code)?io.REDIRECTING:io.FAILED),Gr(e=>e!==io.REDIRECTING),Ui(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(Gm).afterPreactivation=()=>(r(!0),o.closed?ln(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const SI=new Ut(_d?"Router Initializer":"");function AI(n,t,e,r,i,o,l){try{var c=n[o](l),v=c.value}catch(B){return void e(B)}c.done?t(v):Promise.resolve(v).then(r,i)}function Tr(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function l(v){AI(o,r,i,l,c,"next",v)}function c(v){AI(o,r,i,l,c,"throw",v)}l(void 0)})}}Or(37);class ta{constructor(){this.errors={},this.hasErrors=!1,this.returnValue=null}static CreateErrorResult(t,e){const r=new ta;return r.addError(t,e),r}addError(t,e){if(e&&String.hasData(e)){const i=e.split(".");let o=this.errors;for(let l=0;l<i.length;l++){const c=i[l],v=c[0].toLowerCase()+c.slice(1);l<i.length-1?(o[v]={},o=o[v]):o[v]=t}return void(this.hasErrors=!0)}if("general"in this.errors||(this.errors.general={}),t.includes(" "))return"default"in this.errors.general||(this.errors.general.default=[]),this.errors.general.default.push(t),void(this.hasErrors=!0);const r=t[0].toLowerCase()+t.slice(1);this.errors.general[r]=!0,this.hasErrors=!0}clearErrors(){this.errors={},this.hasErrors=!1}}class vu{constructor(){this.XSSI_PREFIX=/^\)\]\}',?\n/}intercept(t,e){return e.handle(t.clone()).pipe(go(r=>{if(!(r instanceof Kc)||400!==r.status&&404!==r.status)return Ri(r);if(404===r.status)return Ri(ta.CreateErrorResult("NotFound"));const i=new ta;try{let o=r.error;"string"==typeof o&&(o=JSON.parse(r.error.replace(this.XSSI_PREFIX,""))),Array.isArray(o)?o.forEach(l=>i.addError(l.message,l.memberName)):i.addError(o.message,o.memberName)}catch{i.addError("Internal Error")}return Ri(i)}))}}vu.\u0275fac=function(t){return new(t||vu)},vu.\u0275prov=lt({token:vu,factory:vu.\u0275fac,providedIn:"root"});class Lo{}class vd extends Lo{}class us extends Lo{constructor(t=!1){super(),this._kill=t}get kill(){return this._kill}}function RI(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cn(n,t,e){RI(n,t),t.set(n,e)}function II(n,t,e){if(!t.has(n))throw new TypeError("attempted to "+e+" private field on non-instance");return t.get(n)}function et(n,t){return function Zz(n,t){return t.get?t.get.call(n):t.value}(n,II(n,t,"get"))}function Yt(n,t,e){return function qz(n,t,e){if(t.set)t.set.call(n,e);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=e}}(n,II(n,t,"set"),e),e}var Ym=new WeakMap;class Ur{constructor(){cn(this,Ym,{writable:!0,value:void 0}),Yt(this,Ym,new ne)}raise(t){if(null==t)throw new Error("domainEvent missing");let e="function"==typeof t?new t:"object"==typeof t?t:null;if(!(e&&e instanceof Lo))throw new Error("domainEvent type invalid - it must be a class derived from DomainEvent");et(this,Ym).next(e)}handle(t){return et(this,Ym).pipe(Gr(e=>e instanceof t),pe(e=>e))}}Ur.\u0275fac=function(t){return new(t||Ur)},Ur.\u0275prov=lt({token:Ur,factory:Ur.\u0275fac,providedIn:"root"});class yu{constructor(t,e,r){this.config=t,this.eventManagerService=e,this.router=r}intercept(t,e){return e.handle(t.clone()).pipe(go(r=>r instanceof Kc&&(500===r.status||"Unknown Error"===r.statusText)?("Unknown Error"===r.statusText&&console.error(r),this.router.navigate([this.config.route]),this.eventManagerService.raise(new us(!0)),Ri(ta.CreateErrorResult("Server Error"))):Ri(r)))}}yu.\u0275fac=function(t){return new(t||yu)(ot(Zy),ot(Ur),ot($r))},yu.\u0275prov=lt({token:yu,factory:yu.\u0275fac,providedIn:"root"});class Zy{constructor(){this.route="/error"}}class wI{constructor(t){if(this.debugEnabled=!1,this.infoEnabled=!1,this.warnEnabled=!1,this.errorEnabled=!1,this.fatalEnabled=!1,!t||!("logLevel"in t))throw new Error("Must configure.");switch(+t.logLevel){case 0:this.debugEnabled=!0;break;case 1:this.infoEnabled=!0;break;case 2:this.warnEnabled=!0;break;case 3:this.errorEnabled=!0;break;case 4:this.fatalEnabled=!0}}logWriter(t,...e){}debug(t){this.debugEnabled&&this.logWriter("debug",t)}info(t){this.infoEnabled&&this.logWriter("info",t)}warn(t){this.warnEnabled&&this.logWriter("warn",t)}error(t){this.errorEnabled&&this.logWriter("error",t)}fatal(t){this.fatalEnabled&&this.logWriter("error",t)}}class qy{constructor(){this.logLevel=3}}class Eu extends wI{constructor(t){super(t)}formatError(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:"sourceURL"in t&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}logWriter(t,...e){if(!window.console)return;const r=window.console,i=r[t]||r.log;let o=!1;try{o=!!i.apply}catch{}if(o){const l=e.map(c=>this.formatError(c));i.apply(r,l)}else i(e[0])}}Eu.\u0275fac=function(t){return new(t||Eu)(ot(qy))},Eu.\u0275prov=lt({token:Eu,factory:Eu.\u0275fac,providedIn:"root"});class PI{constructor(t,e){this.storage=t,this.keyPrefix=e,this.cleaningUp=!1,this.cleanUp(),window.setInterval(()=>this.cleanUp(),5e3)}set(t,e,r){const i=this.createItemKey(t),o=new Jz;o.value=e,null!=r&&!isNaN(Number(r))&&(o.expiresOn=Number(r)),this.storage.setItem(i,JSON.stringify(o))}get(t){const e=this.createItemKey(t),r=this.storage.getItem(e);return null===r?null:JSON.parse(r).value}remove(t){this.storage.removeItem(this.createItemKey(t))}cleanUp(){if(this.cleaningUp)return;this.cleaningUp=!0;const t=[],e=Date.now(),r=this.keyPrefix.length;for(let i=0;i<this.storage.length;i++){const o=this.storage.key(i);if(!o||o.substring(0,r)!==this.keyPrefix)continue;const l=this.storage.getItem(o);if(!l)continue;const c=JSON.parse(l);c.expiresOn&&e>c.expiresOn&&t.push(o)}t.forEach(i=>this.storage.removeItem(i)),this.cleaningUp=!1}createItemKey(t){return`${this.keyPrefix}.${t}`}}class Jz{}class yd{constructor(){this.keyPrefix=""}}class Gs extends PI{constructor(t){if(!t||!t.keyPrefix||0===t.keyPrefix.trim().length)throw new Error("Must configure.");super(window.sessionStorage,t.keyPrefix)}}Gs.\u0275fac=function(t){return new(t||Gs)(ot(yd))},Gs.\u0275prov=lt({token:Gs,factory:Gs.\u0275fac,providedIn:"root"});class bu{constructor(t){this.sessionStorageService=t,this.key="AuthToken"}setAuthToken(t,e){this.sessionStorageService.set(this.key,t,e)}getAuthToken(){return this.sessionStorageService.get(this.key)}removeAuthToken(){this.sessionStorageService.remove(this.key)}}bu.\u0275fac=function(t){return new(t||bu)(ot(Gs))},bu.\u0275prov=lt({token:bu,factory:bu.\u0275fac,providedIn:"root"});class Tu{constructor(t,e,r,i){this.authTokenService=t,this.config=e,this.eventManagerService=r,this.router=i}intercept(t,e){let r={};if(!t.headers.has("Authorization")){const i=this.authTokenService.getAuthToken();i&&(r={setHeaders:{Authorization:i}})}return e.handle(t.clone(r)).pipe(Xn(i=>{if(i instanceof Wc)try{const o=i.headers&&i.headers.has("Authorization")?i.headers.get("Authorization"):i.headers&&i.headers.has("renew-Authorization")?i.headers.get("renew-Authorization"):i.body&&String.hasData(i.body.token)?i.body.token:null;String.hasData(o)&&this.authTokenService.setAuthToken(o,Date.now()+12e5)}catch{}}),go(i=>i instanceof Kc&&(401===i.status||403===i.status)?(this.eventManagerService.raise(new us(!0)),this.router.navigate([this.config.route],{replaceUrl:!0}),ze):Ri(i)))}}Tu.\u0275fac=function(t){return new(t||Tu)(ot(bu),ot(Jy),ot(Ur),ot($r))},Tu.\u0275prov=lt({token:Tu,factory:Tu.\u0275fac,providedIn:"root"});class Jy{constructor(){this.route="/forbidden"}}class Cu{constructor(t){this.config=t}intercept(t,e){return!this.config.use||t.url.includes("assets")?e.handle(t):e.handle(t.clone({url:`${this.config.url}${t.url}`,withCredentials:!0}))}}Cu.\u0275fac=function(t){return new(t||Cu)(ot(eE))},Cu.\u0275prov=lt({token:Cu,factory:Cu.\u0275fac,providedIn:"root"});class eE{constructor(){this.use=!1,this.url=""}}class wa{constructor(t){if(t)throw new Error("CoreModule is already loaded. Import it once in the AppModule only.")}static forRoot(t){return{ngModule:wa,providers:[{provide:eE,useValue:t.corsConfig||new eE},{provide:Jy,useValue:t.http401403Config||new Jy},{provide:Zy,useValue:t.http500Config||new Zy},{provide:qy,useValue:t.loggerConfig||new qy},{provide:yd,useValue:t.storageConfig||new yd}]}}}wa.\u0275fac=function(t){return new(t||wa)(ot(wa,12))},wa.\u0275mod=Wn({type:wa}),wa.\u0275inj=Jt({providers:[{provide:Gc,useClass:Cu,multi:!0},{provide:Gc,useClass:vu,multi:!0},{provide:Gc,useClass:Tu,multi:!0},{provide:Gc,useClass:yu,multi:!0},{provide:wI,useClass:Eu}],imports:[A2]});class zs{constructor(t){this.sessionStorageService=t,this.key="UniqueId"}getUniqueId(){let t=this.sessionStorageService.get(this.key);return null==t&&(t=0),this.sessionStorageService.set(this.key,++t),t}}function OI(n,t,e){return function eY(n,t){if(n!==t)throw new TypeError("Private static access of wrong provenance")}(n,t),e}zs.\u0275fac=function(t){return new(t||zs)(ot(Gs))},zs.\u0275prov=lt({token:zs,factory:zs.\u0275fac,providedIn:"root"});class tY{}class cs{static sort(t,e,r){let i;t.sort((o,l)=>{let c=0,v=o[e],B=l[e];return null==v&&null==B?0:(null==v&&(void 0===i&&(i=OI(this,cs,xI).call(this,B)),v=i),null==B&&(void 0===i&&(i=OI(this,cs,xI).call(this,v)),B=i),"string"==typeof v&&(c=v.localeCompare(B)),"number"==typeof v&&(c=v-B),"boolean"==typeof v&&(c=v===B?0:v?1:-1),v instanceof Date&&(c=v.valueOf()-B.valueOf()),"desc"===r&&(c=-c),c)})}static fromParamMap(t,e){const r={};e.keys.forEach(o=>r[o]=`${e.get(o)}`);const i=cs.adapt(t,r);return Object.keys(i).filter(o=>Array.isArray(i[o])).forEach(o=>{if(!e.has(o))return;const l=e.getAll(o);i[o]="string"!=typeof l?1!==l.length?l:l[0].split(","):l.split(",")}),i}static adapt(t,e){if(null==t)return null;"function"==typeof t&&(t=new t);const r="string"==typeof e?String.isNullOrWhitespace(e)?{}:JSON.parse(e):e,i={};return Object.keys(r).forEach(o=>{const l=o[0].toLowerCase()+o.slice(1);i[l]=r[o]}),this.copyMatchingProperties(t,i),Object.keys(t).filter(o=>"object"==typeof t[o]&&t[o]instanceof tY).forEach(o=>this.adapt(t[o],o in i?i[o]:this.extractPrefixedObject(i,`${o}_`))),t}static copyMatchingProperties(t,e){null==t||null==e||this.getPropertyNames(t).forEach(r=>{if(void 0===e[r])return;let i=typeof t[r];if("object"===i)switch(Reflect.getMetadata("design:type",t,r)){case String:i="string";break;case Boolean:i="boolean";break;case Number:i="number"}switch(i){case"string":t[r]=null===e[r]?t[r]:"string"==typeof e[r]?e[r]:e[r].toString();break;case"boolean":t[r]=null===e[r]?t[r]:"boolean"==typeof e[r]?e[r]:!!e[r];break;case"number":t[r]=null===e[r]?t[r]:"number"==typeof e[r]?e[r]:Number(e[r]);break;case"object":if((t[r]instanceof Date||Reflect.getMetadata("design:type",t,r)===Date)&&(t[r]=e[r]instanceof Date?e[r]:String.hasData(e[r])?new Date(e[r]):null),Array.isArray(t[r])&&Array.isArray(e[r])&&Reflect.hasMetadata("design:type",t,r)){const o=Reflect.getMetadata("design:type",t,r);e[r].forEach(l=>t[r].push(cs.adapt(o,l)))}}})}static getPropertyNames(t){let e=[Array.prototype,BigInt.prototype,Boolean.prototype,Date.prototype,Function.prototype,Number.prototype,Object.prototype,String.prototype];const r=[];do{Object.getOwnPropertyNames(t).forEach(i=>!r.includes(i)&&r.push(i))}while((t=Object.getPrototypeOf(t))&&!e.includes(t));return r}static extractPrefixedObject(t,e){const r={};return Object.keys(t).filter(i=>i.startsWith(e)).forEach(i=>r[i.replace(e,"")]=t[i]),r}}function xI(n){switch(typeof n){case"bigint":return BigInt(Number.MIN_SAFE_INTEGER);case"boolean":return!1;case"function":return function(){};case"number":return Number.MIN_SAFE_INTEGER;case"object":return n instanceof Date?new Date(0):{};case"string":return"";case"symbol":return Symbol();case"undefined":return}}function mr(n,t){RI(n,t),t.add(n)}function nr(n,t,e){if(!t.has(n))throw new TypeError("attempted to get private field on non-instance");return e}String.isNullOrWhitespace||(String.isNullOrWhitespace=function(n){return null==n||n.trim().length<1}),String.hasData||(String.hasData=n=>!String.isNullOrWhitespace(n)),String.toDate||(String.toDate=function(n){if(null==n||""===n)return null;if(n instanceof Date)return n;if(!(n instanceof String))return null;const t=n.split("/");if(3!==t.length)return null;const e=Number(t[0]),r=Number(t[1]);let i=Number(t[2]);if(isNaN(e)||isNaN(r)||isNaN(i))return null;i<100&&(i=i<50?2e3+i:1900+i);const o=new Date(i,e-1,r);return o.getMonth()+1!==e||o.getDate()!==r||o.getFullYear()!==i&&o.getFullYear()%100!==i?null:o}),Object.trimUnusedProperties||(Object.trimUnusedProperties=function(n){if(null==n)return;if(null==n)return null;let t={...n};for(var e in t){const r=t[e];(null==r||Array.isArray(r)&&0===r.length)&&delete t[e],"string"==typeof r&&String.isNullOrWhitespace(r)&&delete t[e],"number"==typeof r&&0===r&&delete t[e]}return t});var Ed=new WeakMap,tE=new WeakSet;class bd{constructor(){mr(this,tE),cn(this,Ed,{writable:!0,value:void 0}),Yt(this,Ed,'input:not([type="checkbox"],[type="hidden"],[readonly]),textarea,select,mat-select')}focusFirst(){window.setTimeout(()=>{const t=document.querySelectorAll(et(this,Ed));0!==t.length&&t[0].focus()},50)}focusFirstEmpty(){window.setTimeout(()=>{const t=Array.from(document.querySelectorAll(et(this,Ed))).filter(e=>nr(this,tE,LI).call(this,e));0!==t.length&&t[0].focus()},50)}focusNextEmpty(){window.setTimeout(()=>{const t=Array.from(document.querySelectorAll(et(this,Ed)));if(0===t.length)return;let e=t.findIndex(r=>r===document.activeElement);for(e<0&&(e=0);e<t.length;){if(nr(this,tE,LI).call(this,t[e]))return void t[e].focus();e++}},50)}}function LI(n){return n instanceof HTMLInputElement||n instanceof HTMLSelectElement||n instanceof HTMLTextAreaElement?!n.disabled&&String.isNullOrWhitespace(n.value):"MAT-SELECT"===n.nodeName&&String.isNullOrWhitespace(n.innerText)}bd.\u0275fac=function(t){return new(t||bd)},bd.\u0275prov=lt({token:bd,factory:bd.\u0275fac,providedIn:"root"});class Td{scrollIntoView(){window.setTimeout(()=>{let t=document.querySelector(".generalError");if(t)return void t.scrollIntoView({behavior:"smooth"});if(t=document.querySelector(".mat-form-field-invalid,.has-error"),!t)return;t.scrollIntoView({behavior:"smooth",block:"nearest"});const e=t.querySelector("input");if(e)return e.select(),void e.focus();const r=t.querySelector("select,mat-select");r&&r.focus()},50)}}Td.\u0275fac=function(t){return new(t||Td)},Td.\u0275prov=lt({token:Td,factory:Td.\u0275fac,providedIn:"root"});class nY extends Lo{}class rY extends Lo{}class Cd{constructor(t,e){this.http=t,this.httpResult=null,e.handle(nY).subscribe(r=>this.initialize()),e.handle(rY).subscribe(r=>this.initialize()),this.initialize()}executeAsync(t="api/user/current"){var e=this;return Tr(function*(){return e.user?e.user:e.httpResult?(yield e.httpResult,e.user):(e.httpResult=e.http.get(t).toPromise(),e.user=yield e.httpResult,e.httpResult=null,e.user)})()}initialize(){this.user=null}}Cd.\u0275fac=function(t){return new(t||Cd)(ot(nm),ot(Ur))},Cd.\u0275prov=lt({token:Cd,factory:Cd.\u0275fac,providedIn:"root"});class Du extends PI{constructor(t){if(!t||!t.keyPrefix||0===t.keyPrefix.trim().length)throw new Error("Must configure.");super(window.localStorage,t.keyPrefix)}}Du.\u0275fac=function(t){return new(t||Du)(ot(yd))},Du.\u0275prov=lt({token:Du,factory:Du.\u0275fac,providedIn:"root"});class na{constructor(t){if(this.errorMessage=t,String.isNullOrWhitespace(t))throw new Error("Must supply an error message")}}class NI extends na{constructor(t){super("NA"),this.rules=t}isBroken(t){return!1}}const iY=new RegExp("return (.*);?\\b"),oY=new RegExp("=>(.*)");function FI(n){return null==n||("number"==typeof n?0===n.toString().trim().length:"string"==typeof n?0===n.trim().length:Array.isArray(n)?0===n.length:"object"==typeof n&&(n instanceof Date?0===n.valueOf():0===Object.keys(n).length))}class BI extends na{isBroken(t){return FI(t)}}class $m{constructor(t){this.propertyRules=t}static create(t){return new $m(t)}check(t){this.result=new ta;try{this.entity=t,this.propertyRules.forEach(e=>this.checkProperty(e))}catch{}finally{this.entity=null}return this.result}checkProperty(t){let e=this.entity[t.propertyName];if("function"==typeof e&&(e=e()),FI(e)){const r=this.getRequiredRule(t.rules);null!==r&&this.isRuleBroken(r,e)&&this.result.addError(r.errorMessage,t.propertyName)}else t.rules.forEach(r=>{if(!(r instanceof NI))return void(this.isRuleBroken(r,e)&&this.result.addError(r.errorMessage,t.propertyName));if(r.when&&!r.when.call(null,this.entity))return;const i=$m.create(r.rules);if(Array.isArray(e)){this.result.errors[t.propertyName]=[];for(let l=0;l<e.length;l++){const v=i.check(e[l]);v.hasErrors&&(this.result.hasErrors=!0,this.result.errors[t.propertyName][l]=v.errors)}return}const o=i.check(e);o.hasErrors&&(this.result.hasErrors=!0,this.result.errors[t.propertyName]=o.errors)})}getRequiredRule(t){const e=t.filter(r=>r instanceof BI);return 1===e.length?e[0]:null}isRuleBroken(t,e){return!(t.when&&!t.when.call(null,this.entity))&&t.isBroken(e)}}class sY{constructor(){this.propertyName="",this.rules=[]}}class lY extends na{constructor(t,e){super(e),this.choices=t}isBroken(t){return-1===this.choices.indexOf(t)}}class Dd extends na{isBroken(t){return!this.tryParseNumber(t)}tryParseNumber(t){return this.parsedNumber="number"==typeof t?t:"string"==typeof t?Number(t):"toString"in t?Number(t.toString()):NaN,!isNaN(this.parsedNumber)}}class nE extends Dd{constructor(){super(...arguments),this.CURRENCY_REGEXP=/^\$?[\d,]+\.?\d{0,2}$/}isBroken(t){return!this.tryParseNumber(t)}tryParseNumber(t){return!(!super.tryParseNumber(t)||!this.CURRENCY_REGEXP.test(t))}}class rE extends na{isBroken(t){return!this.tryParseDate(t)}tryParseDate(t){if(t instanceof Date)return!isNaN(t.valueOf())&&(this.parsedDate=t,!0);const e=t.split("/");if(3!==e.length)return!1;const r=Number(e[0]),i=Number(e[1]);let o=Number(e[2]);if(isNaN(r)||isNaN(i)||isNaN(o))return!1;o<100&&(o=o<50?2e3+o:1900+o);const l=new Date(o,r-1,i);return l.getMonth()+1===r&&l.getDate()===i&&(l.getFullYear()===o||l.getFullYear()%100===o)&&(this.parsedDate=l,!0)}}class uY extends na{constructor(){super(...arguments),this.emailRegExp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}isBroken(t){return!this.emailRegExp.test(t)}}class iE extends Dd{constructor(){super(...arguments),this.INTEGER_REGEXP=/^\-?\d+$/}isBroken(t){return!this.tryParseNumber(t)}tryParseNumber(t){return!(!super.tryParseNumber(t)||!this.INTEGER_REGEXP.test(t))}}class cY extends nE{constructor(t,e){super(e),this.maxCurrency=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber>this.maxCurrency}}class dY extends rE{constructor(t,e){super(e),this.maxDate=t}isBroken(t){return this.tryParseDate(t)&&this.parsedDate>this.maxDate}}class fY extends iE{constructor(t,e){super(e),this.maxInteger=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber>this.maxInteger}}class hY extends na{constructor(t,e){super(e),this.maxLength=t}isBroken(t){return t.length>this.maxLength}}class mY extends Dd{constructor(t,e){super(e),this.maxNumber=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber>this.maxNumber}}class pY extends nE{constructor(t,e){super(e),this.minCurrency=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber<this.minCurrency}}class gY extends rE{constructor(t,e){super(e),this.minDate=t}isBroken(t){return this.tryParseDate(t)&&this.parsedDate<this.minDate}}class _Y extends iE{constructor(t,e){super(e),this.minInteger=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber<this.minInteger}}class vY extends na{constructor(t,e){super(e),this.minLength=t}isBroken(t){return t.length<this.minLength}}class yY extends Dd{constructor(t,e){super(e),this.minNumber=t}isBroken(t){return!this.tryParseNumber(t)||this.parsedNumber<this.minNumber}}class EY extends na{constructor(){super(...arguments),this.phoneRegExp=/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/}isBroken(t){return!this.phoneRegExp.test(t)}}class bY extends na{constructor(t,e){super(e),this.regex=t}isBroken(t){return!this.regex.test(t)}}class Xm{constructor(){this.classRules=[]}static for(){return new Xm}property(t){return this.propertyRules=new sY,this.propertyRules.propertyName=function aY(n){const t=iY.exec(n+"")||oY.exec(n+"");if(null==t)throw new Error("The function does not contain a statement matching 'return variableName;'");const e=t[1].toString().split(".");return e[e.length-1]}(t),this.classRules.push(this.propertyRules),this}build(){return this.classRules}choice(t,e){return this.propertyRules.rules.push(new lY(t,e)),this}currency(t){return this.propertyRules.rules.push(new nE(t)),this}date(t){return this.propertyRules.rules.push(new rE(t)),this}email(t){return this.propertyRules.rules.push(new uY(t)),this}integer(t){return this.propertyRules.rules.push(new iE(t)),this}maxCurrency(t,e){return this.propertyRules.rules.push(new cY(t,e)),this}maxDate(t,e){return this.propertyRules.rules.push(new dY(t,e)),this}maxInteger(t,e){return this.propertyRules.rules.push(new fY(t,e)),this}maxLength(t,e){return this.propertyRules.rules.push(new hY(t,e)),this}maxNumber(t,e){return this.propertyRules.rules.push(new mY(t,e)),this}minCurrency(t,e){return this.propertyRules.rules.push(new pY(t,e)),this}minDate(t,e){return this.propertyRules.rules.push(new gY(t,e)),this}minInteger(t,e){return this.propertyRules.rules.push(new _Y(t,e)),this}minLength(t,e){return this.propertyRules.rules.push(new vY(t,e)),this}minNumber(t,e){return this.propertyRules.rules.push(new yY(t,e)),this}number(t){return this.propertyRules.rules.push(new Dd(t)),this}object(t){return this.propertyRules.rules.push(new NI(t)),this}phone(t){return this.propertyRules.rules.push(new EY(t)),this}regex(t,e){return this.propertyRules.rules.push(new bY(t,e)),this}required(t){return this.propertyRules.rules.push(new BI(t)),this}when(t){return this.propertyRules.rules[this.propertyRules.rules.length-1].when=t,this}}class TY{constructor(){const t=Xm.for().property(i=>i.name).required("required").property(i=>i.key).required("required").build(),e="Must be a integer greater than 0.",r=Xm.for().property(i=>i.dbName).required("required").property(i=>i.dbVersion).required(e).integer(e).minInteger(0,e).property(i=>i.tables).required("required").object(t).build();this.rulesEngine=$m.create(r)}check(t){return this.rulesEngine.check(t)}}class Md{constructor(t){if(this.storageConfig=t,this.configRules=new TY,!window.indexedDB)throw new Error("Your browser doesn't support a stable version of IndexedDB.");if(!t||String.isNullOrWhitespace(t.keyPrefix))throw new Error("Must configure.")}openAsync(t){return new Promise((e,r)=>{let i=new ta;if(!t)return i.addError("required","config"),void r(i);if(i=this.configRules.check(t),i.hasErrors)return void r(i);const o=window.indexedDB.open(`${this.storageConfig.keyPrefix}.${t.dbName}`,t.dbVersion);o.onerror=l=>{i.addError("Database error: "+l.target.errorCode),r(i)},o.onsuccess=l=>{e(l.target.result)},o.onupgradeneeded=l=>{const c=l.target.result;t.tables.forEach(v=>{const B=c.createObjectStore(v.name,{keyPath:v.key.path,autoIncrement:!!v.key.autoIncrement});Array.isArray(v.indexes)&&v.indexes.filter(X=>String.hasData(X.name)).forEach(X=>{B.createIndex(X.name,X.name,{unique:!!X.unique})})})}})}addAsync(t,e,r,i){return new Promise((o,l)=>{const c=t.transaction(e,"readwrite");c.onabort=()=>l(c.error);const B=c.objectStore(e).add(r,i);B.onerror=()=>l(B.error),c.oncomplete=()=>o()})}clearAsync(t,e){return new Promise((r,i)=>{const o=t.transaction(e,"readwrite");o.onabort=()=>i(o.error);const c=o.objectStore(e).clear();c.onerror=()=>i(c.error),o.oncomplete=()=>r()})}countAsync(t,e,r){return new Promise((i,o)=>{const l=t.transaction(e,"readwrite");l.onabort=()=>o(l.error);const v=l.objectStore(e).count(r);v.onerror=()=>o(v.error),l.oncomplete=()=>i(v.result)})}deleteAsync(t,e,r){return new Promise((i,o)=>{const l=t.transaction(e,"readwrite");l.onabort=()=>o(l.error);const v=l.objectStore(e).delete(r);v.onerror=()=>o(v.error),l.oncomplete=()=>i()})}getAsync(t,e,r){return new Promise((i,o)=>{const l=t.transaction(e,"readonly");l.onabort=()=>o(l.error);const v=l.objectStore(e).get(r);v.onerror=()=>o(v.error),l.oncomplete=()=>i(v.result)})}getAllAsync(t,e,r,i){return new Promise((o,l)=>{const c=t.transaction(e,"readonly");c.onabort=()=>l(c.error);const B=c.objectStore(e).getAll(r,i);B.onerror=()=>l(B.error),c.oncomplete=()=>o(B.result)})}getAllKeysAsync(t,e,r,i){return new Promise((o,l)=>{const c=t.transaction(e,"readonly");c.onabort=()=>l(c.error);const B=c.objectStore(e).getAllKeys(r,i);B.onerror=()=>l(B.error),c.oncomplete=()=>o(B.result)})}getKeyAsync(t,e,r){return new Promise((i,o)=>{const l=t.transaction(e,"readonly");l.onabort=()=>o(l.error);const v=l.objectStore(e).getKey(r);v.onerror=()=>o(v.error),l.oncomplete=()=>i(v.result)})}indexAsync(t,e,r){return new Promise((i,o)=>{const l=t.transaction(e,"readonly");l.onabort=()=>o(l.error);const v=l.objectStore(e).index(r);l.oncomplete=()=>i(v)})}openCursorAsync(t,e,r,i){return new Promise((o,l)=>{const c=t.transaction(e,"readonly");c.onabort=()=>l(c.error);const B=c.objectStore(e).openCursor(r,i);B.onerror=()=>l(B.error),c.oncomplete=()=>o(B.result)})}openKeyCursorAsync(t,e,r,i){return new Promise((o,l)=>{const c=t.transaction(e,"readonly");c.onabort=()=>l(c.error);const B=c.objectStore(e).openKeyCursor(r,i);B.onerror=()=>l(B.error),c.oncomplete=()=>o(B.result)})}putAsync(t,e,r,i){return new Promise((o,l)=>{const c=t.transaction(e,"readonly");c.onabort=()=>l(c.error);const B=c.objectStore(e).put(r,i);B.onerror=()=>l(B.error),c.oncomplete=()=>o(B.result)})}}Md.\u0275fac=function(t){return new(t||Md)(ot(yd))},Md.\u0275prov=lt({token:Md,factory:Md.\u0275fac,providedIn:"root"});const CY=["determinateSpinner"];function DY(n,t){if(1&n&&(wf(),Nt(0,"svg",11),nn(1,"circle",12),Ft()),2&n){const e=tn();cr("viewBox",e._viewBox()),Rt(1),$a("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),cr("r",e._circleRadius())}}const MY=Zh(class{constructor(n){this._elementRef=n}},"primary"),SY=new Ut("mat-progress-spinner-default-options",{providedIn:"root",factory:function AY(){return{diameter:kI}}}),kI=100;let IY=(()=>{class n extends MY{constructor(e,r,i){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=kI,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.color&&(this.color=this.defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,ru(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=ru(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=ru(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Qo,8),ke(SY))},n.\u0275cmp=ht({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,r){if(1&e&&Si(CY,5),2&e){let i;ar(i=sr())&&(r._determinateCircle=i.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(e,r){2&e&&(cr("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),$a("width",r.diameter,"px")("height",r.diameter,"px"),Er("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[Sn],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,r){if(1&e&&(Qt(0,DY,2,8,"ng-template",null,0,j_),Nt(2,"div",1,2),wf(),Nt(4,"svg",3),nn(5,"circle",4),Ft()(),function Gb(){!function LO(){Dn.lFrame.currentNamespace=null}()}(),Nt(6,"div",5)(7,"div",6)(8,"div",7),gc(9,8),Ft(),Nt(10,"div",9),gc(11,8),Ft(),Nt(12,"div",10),gc(13,8),Ft()()()),2&e){const i=xr(1);Rt(4),cr("viewBox",r._viewBox()),Rt(1),$a("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),cr("r",r._circleRadius()),Rt(4),Ct("ngTemplateOutlet",i),Rt(2),Ct("ngTemplateOutlet",i),Rt(2),Ct("ngTemplateOutlet",i)}},dependencies:[Ev],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),wY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[ir,Yr]}),n})();function PY(n,t){1&n&&(Nt(0,"div",1),nn(1,"mat-spinner",2),Ft())}class Sd{constructor(t){this.requestCount=0,this.delay=250,this.show=!1,t.handle(vd).subscribe(e=>this.waitStart()),t.handle(us).subscribe(e=>this.waitEnd(e))}waitStart(){this.requestCount++,window.setTimeout(()=>{0!==this.requestCount&&(this.show=!0)},this.delay)}waitEnd(t){t.kill?this.requestCount=0:this.requestCount>0&&this.requestCount--,0===this.requestCount&&(this.show=!1)}}Sd.\u0275fac=function(t){return new(t||Sd)(ke(Ur))},Sd.\u0275cmp=ht({type:Sd,selectors:[["throbber"]],standalone:!0,features:[er],decls:1,vars:1,consts:[["class","background",4,"ngIf"],[1,"background"],["strokeWidth","4","diameter","50"]],template:function(t,e){1&t&&Qt(0,PY,2,0,"div",0),2&t&&Ct("ngIf",e.show)},dependencies:[ir,Wr,wY,IY],styles:[".background[_ngcontent-%COMP%]{background-color:#00000080;left:0;width:100vw;height:100vh;z-index:32767;position:fixed}.background[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{border-radius:25px;top:calc(50% - 25px);left:calc(50% - 25px);background-color:#fff}"]});var mi=(()=>{return(n=mi||(mi={})).Listing="Listing",n.Comment="t1",n.Account="t2",n.Link="t3",n.Message="t4",n.Subreddit="t5",n.Award="t6",n.More="more",mi;var n})();const OY=[".apng",".bmp",".gif",".ico",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg",".tif",".tiff",".webp"];function oE(n,t){let e={};return function xY(n,t){if(t.is_crosspost=String.hasData(n.crosspost_parent)&&Array.isArray(n.crosspost_parent_list)&&n.crosspost_parent_list.length>0,n.media?.reddit_video)t.has_video=!0;else if(n.preview?.reddit_video_preview)t.has_video=!0;else if(n.preview&&Array.isArray(n.preview.images)&&n.preview.images[0].variants&&"mp4"in n.preview.images[0].variants)t.has_video=!0;else if(n.media_embed?.content)t.has_embed=!0;else{if(String.hasData(n.selftext_html)&&(t.has_text=!0),n.thumbnail&&"default"===n.thumbnail&&(t.has_link=!0),n.post_hint&&"link"===n.post_hint&&"imgur.com"!==n.domain&&(t.has_link=!0),!n.preview||!Array.isArray(n.preview.images))return n.gallery_data?(t.has_image=!0,void(t.has_image_gallery=!0)):void(OY.some(e=>n.url.endsWith(e))?t.has_image=!0:!t.has_image&&!t.has_text&&(t.has_link=!0));t.has_image=!0}}(n,e),function LY(n,t){t.author=n.author,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.num_comments=n.num_comments,t.stickied=n.stickied,t.subreddit=n.subreddit,t.title=n.title,t.ups=n.ups,t.url=n.url}(n,e),function NY(n,t,e){t.is_crosspost&&(t.crosspost=oE(n.crosspost_parent_list[0],e))}(n,e,t),function FY(n,t){t.has_embed&&(t.embed=n.media_embed.content)}(n,e),function BY(n,t){t.has_image&&(t.images=null!=n.gallery_data?function kY(n){return n.gallery_data.items.map(t=>{const e=n.media_metadata[t.media_id];return"valid"!==e.status?{src:"",srcset:"",href:n.url}:{src:e.o?e.o[0].u:e.s.u,srcset:e.p.map(r=>`${r.u} ${r.x}w`).join(","),href:n.url}})}(n):null!=n.preview?function UY(n){const t=n.preview.images[0];return[{src:t.source.url,srcset:t.resolutions.map(e=>`${e.url} ${e.width}w`).join(","),href:n.url}]}(n):function jY(n){return[{src:n.url,srcset:n.url,href:n.url}]}(n))}(n,e),function GY(n,t){t.has_link&&(t.url=n.url)}(n,e),function zY(n,t){t.has_text&&(t.selftext_html=n.selftext_html)}(n,e),function VY(n,t,e){t.has_video&&(t.videos=n.media&&n.media.reddit_video?function HY(n){return[{url:n.media.reddit_video.dash_url,type:"application/dash+xml"},{url:n.media.reddit_video.hls_url,type:"application/x-mpegURL"},{url:n.media.reddit_video.fallback_url,type:"video/mp4"}]}(n):n.preview&&n.preview.reddit_video_preview?function WY(n){return[{url:n.preview.reddit_video_preview.dash_url,type:"application/dash+xml"},{url:n.preview.reddit_video_preview.hls_url,type:"application/x-mpegURL"},{url:n.preview.reddit_video_preview.fallback_url,type:"video/mp4"}]}(n):function KY(n){return[{url:n.preview.images[0].variants.mp4.source.url,type:"video/mp4"}]}(n),!e&&(t.videos=t.videos.filter(r=>"video/mp4"==r.type)))}(n,e,t),e}function XY(n,t){return aE.apply(this,arguments)}function aE(){return(aE=Tr(function*(n,t,e=""){this.set_post_comments({items:[],post:null});let r=new URLSearchParams;r.set("sort",`${t}`),r.set("limit","100"),r.set("raw_json","1"),r.set("threaded","false"),String.hasData(e)&&r.set("comment",e);const i=new URL(`https://www.reddit.com/comments/${n}.json`);i.search=`${r}`;try{const o=yield fetch(i);if(!o.ok)return void this.set_errors(o.statusText);const l=yield o.json(),c=l[0],v=l[1];if(v.kind!==mi.Listing)return void this.set_errors(`Comment listing's kind isn't ${mi.Listing}, its ${v.kind} instead`);if(v.data?.children.some(fe=>fe.kind!==mi.Comment&&fe.kind!==mi.More))return void this.set_errors(`Not all of comment listing's children are of kind ${mi.Comment} or ${mi.More}`);const B=v.data.children.filter(fe=>fe.kind==mi.Comment&&null!=fe.data).map(fe=>function YY(n){let t={};return function $Y(n,t){t.author=n.author,t.body_html=n.body_html,t.created_utc=n.created_utc,t.downs=n.downs,t.id=n.id,t.stickied=n.stickied,t.ups=n.ups}(n,t),t}(fe.data)),X=oE(c.data.children[0].data,this.is_MSE_supported());this.set_post_comments({article:n,items:B,sort:t,post:X})}catch(o){this.set_errors(o)}})).apply(this,arguments)}function QY(n,t,e,r){return sE.apply(this,arguments)}function sE(){return(sE=Tr(function*(n,t,e,r){this.set_posts({items:[],subreddit:""});const i=this.subscriptionService.get();let o=r;"frontpage"===o.toLowerCase()&&(o=i.length>0?i.join("+"):"popular");let l=new URLSearchParams;l.set("limit","20"),l.set("raw_json","1"),String.hasData(n)&&l.set("after",n),String.hasData(t)&&l.set("modhash",t);const c=new URL(`https://www.reddit.com/r/${o}/${e}.json`);c.search=`${l}`;try{const v=yield fetch(c);if(!v.ok)return void this.set_errors(v.statusText);const B=yield v.json();if(B.kind!==mi.Listing)return void this.set_errors(`Listing's kind isn't ${mi.Listing}, its ${B.kind} instead`);if(B.data?.children.some(Te=>Te.kind!==mi.Link))return void this.set_errors(`Not all of Listing's children are of kind ${mi.Link}`);const X=B.data,fe=X.children.filter(Te=>null!=Te.data).map(Te=>oE(Te.data,this.is_MSE_supported()));fe.forEach(Te=>Te.subreddit_subscribed=i.includes(Te.subreddit)),this.set_posts({after:X.after,items:fe,modhash:X.modhash,sort:e,subreddit:o})}catch(v){this.set_errors(v)}})).apply(this,arguments)}function ZY(n){return lE.apply(this,arguments)}function lE(){return(lE=Tr(function*(n){if(this.get_subreddit_query().request!=n&&(this.set_subreddit_query({request:n,result:[]}),!String.isNullOrWhitespace(n)))try{const r=(yield qY.call(this,n)).map(l=>t3.call(this,l)),o=(yield Promise.allSettled(r)).filter(l=>"fulfilled"===l.status).map(l=>l.value).filter(l=>null!=l).map(l=>({accounts_active:l.accounts_active,display_name:l.display_name,public_description_html:l.public_description_html,subscribers:l.subscribers,title:l.title,url:l.url,id:l.id}));this.set_subreddit_query({request:n,result:o})}catch(e){this.set_errors(e)}})).apply(this,arguments)}function qY(n){return uE.apply(this,arguments)}function uE(){return(uE=Tr(function*(n){const t=[JY.call(this,n),e3.call(this,n)],r=(yield Promise.allSettled(t)).filter(i=>"fulfilled"===i.status).map(i=>i.value).filter(i=>null!=i).map(i=>i).reduce((i,o)=>i.concat(o)).filter(i=>null!=i).map(i=>i.toLowerCase());return[...new Set(r)]})).apply(this,arguments)}function JY(n){return cE.apply(this,arguments)}function cE(){return(cE=Tr(function*(n){const t=new URLSearchParams;t.set("query",n),t.set("exact","false"),t.set("include_over_18","true"),t.set("typeahead_active","false"),t.set("include_unadvertisable","true");const e=new URL("https://www.reddit.com/api/search_reddit_names.json");e.search=`${t}`;try{const r=yield fetch(e);return r.ok?(yield r.json()).names:null}catch{return null}})).apply(this,arguments)}function e3(n){return dE.apply(this,arguments)}function dE(){return(dE=Tr(function*(n){const r=`https://cors-anywhere.herokuapp.com/https://www.google.com/search?q=${encodeURIComponent(`${n} site:reddit.com -comments -wiki`)}&num=40`,i=yield fetch(r);if(!i.ok)throw new Error(i.statusText);const o=yield i.text();var l=document.implementation.createHTMLDocument().body;if("setHTML"in l){const B=new Sanitizer({allowElements:["a"]});l.setHTML(o,{sanitizer:B})}else l.innerHTML=this.domSanitizer.sanitize($n.HTML,o);let c=Array.from(l.querySelectorAll('a[href*="reddit.com/r/"]')).map(B=>{const X=B.href.indexOf("reddit.com/r/")+13,fe=B.href.indexOf("/",X);return B.href.slice(X,fe)});const v=c.filter(B=>B.includes("+"));return c=c.filter(B=>!B.includes("+")),v.forEach(B=>B.split("+").forEach(X=>c.push(X))),c})).apply(this,arguments)}function t3(n){return fE.apply(this,arguments)}function fE(){return(fE=Tr(function*(n){const t=`https://www.reddit.com/r/${n}/about.json?raw_json=1`;try{const e=yield fetch(t,{redirect:"error"});if(!e.ok)return null;const r=yield e.json();return r.kind!==mi.Subreddit?(this.set_errors(`r/${n}/about.kind isn't ${mi.Subreddit}, its ${r.kind} instead`),null):r.data}catch{return null}})).apply(this,arguments)}function n3(n){return hE.apply(this,arguments)}function hE(){return(hE=Tr(function*(n){this.subscriptionService.add(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}function r3(n){return mE.apply(this,arguments)}function mE(){return(mE=Tr(function*(n){this.subscriptionService.remove(n);const t=this.subscriptionService.get(),e=this.get_posts();e.items.forEach(r=>r.subreddit_subscribed=t.includes(r.subreddit)),this.set_posts(e)})).apply(this,arguments)}var Qm=new WeakMap,Zm=new WeakMap,Pa=new WeakMap,Ad=new WeakMap,qm=new WeakMap,pE=new WeakMap,Jm=new WeakMap,jI=new WeakSet;class Mu{constructor(t){mr(this,jI),cn(this,Qm,{writable:!0,value:void 0}),cn(this,Zm,{writable:!0,value:void 0}),cn(this,Pa,{writable:!0,value:void 0}),cn(this,Ad,{writable:!0,value:void 0}),cn(this,qm,{writable:!0,value:void 0}),cn(this,pE,{writable:!0,value:void 0}),cn(this,Jm,{writable:!0,value:void 0}),Yt(this,Qm,"profile"),Yt(this,Pa,{}),Yt(this,Ad,JSON.stringify(et(this,Pa))),Yt(this,qm,new ne),Yt(this,Jm,!1),Yt(this,Zm,t),Yt(this,pE,et(this,qm).pipe(Gh(300)).subscribe(()=>nr(this,jI,s3).call(this)))}get(t){return et(this,Pa)[t]}set(t,e){et(this,Pa)[t]=e,et(this,qm).next("")}load(){var t=this;return Tr(function*(){if(et(t,Jm))return;const e=et(t,Zm).get(et(t,Qm));null!=e&&(Yt(t,Pa,e),Yt(t,Ad,JSON.stringify(et(t,Pa))),Yt(t,Jm,!0))})()}ngOnDestroy(){et(this,pE).unsubscribe()}}function s3(){const n=JSON.stringify(et(this,Pa));n!==et(this,Ad)&&(Yt(this,Ad,n),et(this,Zm).set(et(this,Qm),et(this,Pa)))}Mu.\u0275fac=function(t){return new(t||Mu)(ot(Du))},Mu.\u0275prov=lt({token:Mu,factory:Mu.\u0275fac,providedIn:"root"});var Rd=new WeakMap,No=new WeakMap,Su=new WeakMap;class Ys{constructor(t){cn(this,Rd,{writable:!0,value:void 0}),cn(this,No,{writable:!0,value:void 0}),cn(this,Su,{writable:!0,value:void 0}),Yt(this,Rd,"subreddits"),Yt(this,No,[]),Yt(this,Su,t)}add(t){String.isNullOrWhitespace(t)||et(this,No).includes(t)||(et(this,No).push(t),et(this,No).sort(),et(this,Su).set(et(this,Rd),et(this,No)))}get(){return[...et(this,No)]}remove(t){String.isNullOrWhitespace(t)||(Yt(this,No,et(this,No).filter(e=>e!==t)),et(this,Su).set(et(this,Rd),et(this,No)))}loadAsync(){var t=this;return Tr(function*(){yield et(t,Su).load(),Yt(t,No,et(t,Su).get(et(t,Rd))||[])})()}}Ys.\u0275fac=function(t){return new(t||Ys)(ot(Mu))},Ys.\u0275prov=lt({token:Ys,factory:Ys.\u0275fac,providedIn:"root"});var ii=new WeakMap,gE=new WeakMap;class oo{constructor(t,e,r){cn(this,ii,{writable:!0,value:void 0}),cn(this,gE,{writable:!0,value:void 0}),this.domSanitizer=t,this.subscriptionService=e,this.uniqueIdService=r,Yt(this,ii,new eo({post_comments:{article:"",items:null,sort:"best",post:null},errors:null,posts:{after:"",items:null,modhash:"",sort:"hot",subreddit:""},subreddit_query:{request:"",result:null}})),this.errors$=et(this,ii).pipe(Xn(i=>!1),pe(i=>i.errors)),this.posts$=et(this,ii).pipe(Gr(i=>null!=i.posts.items),pe(i=>({after:i.posts.after,items:i.posts.items?.map(o=>function o3(n){const t=JSON.parse(JSON.stringify(n));return t.images&&(t.images=t.images.map(e=>Object.freeze(e))),t.videos&&(t.videos=t.videos.map(e=>Object.freeze(e))),Object.freeze(t)}(o)),modhash:i.posts.modhash,sort:i.posts.sort,subreddit:i.posts.subreddit}))),this.post_comments$=et(this,ii).pipe(Gr(i=>null!=i.post_comments&&null!=i.post_comments.items),pe(i=>({items:i.post_comments.items?.map(o=>function a3(n){const t=JSON.parse(JSON.stringify(n));return Object.freeze(t)}(o)),sort:i.post_comments.sort,post:i.post_comments.post}))),this.subreddit_query$=et(this,ii).pipe(pe(i=>({request:i.subreddit_query.request,result:i.subreddit_query.result}))),this.actions={listCommentAsync:XY.bind(this),listPostAsync:QY.bind(this),searchAsync:ZY.bind(this),subscribe:n3.bind(this),unsubscribe:r3.bind(this)},Yt(this,gE,"MediaSource"in window&&"function"==typeof window.MediaSource.isTypeSupported)}set_errors(t){const e=et(this,ii).value;null!=t&&(e.errors=t),et(this,ii).next(e)}get_posts(){return et(this,ii).value.posts}set_posts(t){const e=et(this,ii).value;e.posts.after=String.hasData(t.after)?t.after:"",null!=t.items&&(e.posts.items=t.items),e.posts.modhash=String.hasData(t.modhash)?t.modhash:"",null!=t.sort&&(e.posts.sort=t.sort),null!=t.subreddit&&(e.posts.subreddit=t.subreddit),e.errors=null,et(this,ii).next(e)}get_post_comments(){return et(this,ii).value.post_comments}set_post_comments(t){const e=et(this,ii).value;e.post_comments.article=String.hasData(t.article)?t.article:"",void 0!==t.items&&(e.post_comments.items=t.items),null!=t.sort&&(e.post_comments.sort=t.sort),void 0!==t.post&&(e.post_comments.post=t.post),e.errors=null,et(this,ii).next(e)}get_subreddit_query(){return et(this,ii).value.subreddit_query}set_subreddit_query(t){const e=et(this,ii).value;e.subreddit_query.request=String.hasData(t.request)?t.request:"",null!=t.result&&(e.subreddit_query.result=t.result),e.errors=null,et(this,ii).next(e)}is_MSE_supported(){return et(this,gE)}}oo.\u0275fac=function(t){return new(t||oo)(ot(Da),ot(Ys),ot(zs))},oo.\u0275prov=lt({token:oo,factory:oo.\u0275fac,providedIn:"root"});var oi=new WeakMap,_E=new WeakMap,VI=new WeakSet;class $s{constructor(t){mr(this,VI),cn(this,oi,{writable:!0,value:void 0}),cn(this,_E,{writable:!0,value:void 0}),Yt(this,oi,""),Yt(this,_E,t),Yt(this,oi,document.baseURI.replace(window.location.origin,"")),et(this,oi).endsWith("/")&&Yt(this,oi,et(this,oi).slice(0,-1))}sanitizeHTML(t){if(String.isNullOrWhitespace(t))return"";const e=document.implementation.createHTMLDocument().createElement("p");return e.innerHTML=et(this,_E).sanitize($n.HTML,t),nr(this,VI,l3).call(this,e),e.innerHTML}sanitizeLink(t){if(String.isNullOrWhitespace(t))return{href:"",text:"",external:!1};let e=t;e.startsWith("/")&&(e=`${window.location.origin}${e}`),e=e.replace(window.location.origin,`${et(this,oi)}`).replace("http://www.reddit.com/",`${et(this,oi)}/`).replace("https://www.reddit.com/",`${et(this,oi)}/`).replace("http://np.reddit.com/",`${et(this,oi)}/`).replace("https://np.reddit.com/",`${et(this,oi)}/`).replace("http://reddit.com/",`${et(this,oi)}/`).replace("https://reddit.com/",`${et(this,oi)}/`).replace("http://old.reddit.com/",`${et(this,oi)}/`).replace("https://old.reddit.com/",`${et(this,oi)}/`);const r=!e.startsWith(et(this,oi));if(!r){const l=e.indexOf("?");l>-1&&(e=e.slice(0,l)),e.endsWith("/")&&(e=e.slice(0,-1))}const i=e.replace(et(this,oi),""),o=document.createElement("a");return o.href=e,o.innerText=i,r&&(o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer nofollow")),{href:e,text:i,external:r,el:o}}}function l3(n){const t=Array.from(n.getElementsByTagName("a"));0!==t.length&&t.forEach(e=>{const r=this.sanitizeLink(e.href);e.replaceWith(r.el)})}$s.\u0275fac=function(t){return new(t||$s)(ot(Da))},$s.\u0275prov=lt({token:$s,factory:$s.\u0275fac,providedIn:"root"});var Au=new WeakMap,HI=new WeakSet,WI=new WeakSet;class Oa{constructor(){mr(this,WI),mr(this,HI),cn(this,Au,{writable:!0,value:void 0}),Yt(this,Au,{})}save(t="",e=""){et(this,Au)[window.location.href]={yScroll:window.scrollY},nr(this,HI,u3).call(this,t,e,et(this,Au)[window.location.href])}restore(){setTimeout(()=>{const t=et(this,Au)[window.location.href];t?(nr(this,WI,c3).call(this,t),window.scrollTo(0,t.yScroll||0),delete et(this,Au)[window.location.href]):window.scrollTo(0,0)},0)}}function u3(n,t,e){if(e.tag_name=n,e.element_id=t,e.element_heights=[],String.isNullOrWhitespace(t)||String.isNullOrWhitespace(n))return;const r=document.querySelectorAll(n);for(let i=0;i<r.length;i++){const o=r[i];if(e.element_heights.push({id:o.id,height:o.getBoundingClientRect().height}),o.id===t)break}}function c3(n){if(String.isNullOrWhitespace(n.element_id)||String.isNullOrWhitespace(n.tag_name)||0===n.element_heights?.length)return n.element_id="",n.tag_name="",void(n.element_heights=[]);const t=document.querySelectorAll(n.tag_name);for(let e=0;e<t.length;e++){const r=t[e],i=n.element_heights.find(o=>o.id===r.id);if(null!=i&&(r.style.height=`${i.height}px`,r.id===n.element_id))break}n.element_id="",n.tag_name="",n.element_heights=[]}Oa.\u0275fac=function(t){return new(t||Oa)},Oa.\u0275prov=lt({token:Oa,factory:Oa.\u0275fac,providedIn:"root"});class Id{constructor(t,e){this.eventManagerService=t,this.subscriptionService=e}ngOnInit(){var t=this;return Tr(function*(){const e=[t.subscriptionService.loadAsync()];t.eventManagerService.raise(vd);try{yield Promise.allSettled(e)}finally{t.eventManagerService.raise(us)}})()}}Id.\u0275fac=function(t){return new(t||Id)(ke(Ur),ke(Ys))},Id.\u0275cmp=ht({type:Id,selectors:[["app-root"]],standalone:!0,features:[er],decls:2,vars:0,template:function(t,e){1&t&&nn(0,"throbber")(1,"router-outlet")},dependencies:[hi,ky,Sd],encapsulation:2});const d3=["mat-button",""],f3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],h3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],p3=["mat-icon-button",""],g3=["*"],_3=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],v3=Zh(HS(WS(class{constructor(n){this._elementRef=n}})));let vE,KI=(()=>{class n extends v3{constructor(e,r,i,o){super(e),this._platform=r,this._ngZone=i,this._animationMode=o,this._focusMonitor=pn(Qh),this._isFab=!1;const l=e.nativeElement.classList;for(const c of _3)this._hasHostAttributes(c.selector)&&c.mdcClasses.forEach(v=>{l.add(v)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){th()},n.\u0275dir=zt({type:n,viewQuery:function(e,r){if(1&e&&Si(qh,5),2&e){let i;ar(i=sr())&&(r.ripple=i.first)}},features:[Sn]}),n})(),Ru=(()=>{class n extends KI{constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Kr),ke(bn),ke(Qo,8))},n.\u0275cmp=ht({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,r){2&e&&(cr("disabled",r.disabled||null),Er("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Sn],attrs:d3,ngContentSelectors:h3,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Zi(f3),nn(0,"span",0),tr(1),Nt(2,"span",1),tr(3,1),Ft(),tr(4,2),nn(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(Er("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),Rt(6),Ct("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[qh],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),ep=(()=>{class n extends KI{constructor(e,r,i,o){super(e,r,i,o)}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Kr),ke(bn),ke(Qo,8))},n.\u0275cmp=ht({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,r){2&e&&(cr("disabled",r.disabled||null),Er("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Sn],attrs:p3,ngContentSelectors:g3,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(Zi(),nn(0,"span",0),tr(1),nn(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(Rt(3),Ct("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[qh],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),ao=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[Yr,Vc,Yr]}),n})(),b3=1;const tp={};function GI(n){return n in tp&&(delete tp[n],!0)}const T3={setImmediate(n){const t=b3++;return tp[t]=!0,vE||(vE=Promise.resolve()),vE.then(()=>GI(t)&&n()),t},clearImmediate(n){GI(n)}},{setImmediate:C3,clearImmediate:D3}=T3,np={setImmediate(...n){const{delegate:t}=np;return(t?.setImmediate||C3)(...n)},clearImmediate(n){const{delegate:t}=np;return(t?.clearImmediate||D3)(n)},delegate:void 0},yE=new class S3 extends Ov{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class M3 extends Pv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=np.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(np.clearImmediate(e),t._scheduled=void 0)}});function zI(n,t){return t?e=>Bc(t.pipe(Ui(1),function A3(){return ge((n,t)=>{n.subscribe($(t,f))})}()),e.pipe(zI(n))):Kt((e,r)=>n(e,r).pipe(Ui(1),TR(e)))}function YI(n=0,t,e=dV){let r=-1;return null!=t&&(At(t)?e=t:r=t),new ue(i=>{let o=function R3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let l=0;return e.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function $I(n,t=Kh){const e=YI(n,t);return zI(()=>e)}class EE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class XI extends EE{constructor(t,e,r,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class QI extends EE{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class I3 extends EE{constructor(t){super(),this.element=t instanceof Bn?t.nativeElement:t}}class w3{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof XI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof QI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof I3?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class P3 extends w3{constructor(t,e,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const c=l.element,v=this._document.createComment("dom-portal");c.parentNode.insertBefore(v,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(c,v)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||Fi.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let O3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({}),n})();const x3=["addListener","removeListener"],L3=["addEventListener","removeEventListener"],N3=["on","off"];function rp(n,t,e,r){if(sn(e)&&(r=e,e=void 0),r)return rp(n,t,e).pipe(xv(r));const[i,o]=function k3(n){return sn(n.addEventListener)&&sn(n.removeEventListener)}(n)?L3.map(l=>c=>n[l](t,c,e)):function F3(n){return sn(n.addListener)&&sn(n.removeListener)}(n)?x3.map(ZI(n,t)):function B3(n){return sn(n.on)&&sn(n.off)}(n)?N3.map(ZI(n,t)):[];if(!i&&Dt(n))return Kt(l=>rp(l,t,e))(Ae(n));if(!i)throw new TypeError("Invalid event target");return new ue(l=>{const c=(...v)=>l.next(1<v.length?v:v[0]);return i(c),()=>o(c)})}function ZI(n,t){return e=>r=>n[e](t,r)}const wd={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=wd;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new u(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=wd;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=wd;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},V3=new class j3 extends Ov{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class U3 extends Pv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=wd.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(wd.cancelAnimationFrame(e),t._scheduled=void 0)}});function bE(n,t=Kh){return function H3(n){return ge((t,e)=>{let r=!1,i=null,o=null,l=!1;const c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const B=i;i=null,e.next(B)}l&&e.complete()},v=()=>{o=null,l&&e.complete()};t.subscribe($(e,B=>{r=!0,i=B,o||Ae(n(B)).subscribe(o=$(e,c,v))},()=>{l=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>YI(n,t))}const W3=["contentWrapper"],K3=["*"],G3=new Ut("VIRTUAL_SCROLL_STRATEGY");let Pd=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new ne,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ue(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(bE(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ln()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Gr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Ta(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>rp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(ot(bn),ot(Kr),ot(Pn,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qI=(()=>{class n{constructor(e,r,i,o){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new ne,this._elementScrolled=new ue(l=>this.ngZone.runOutsideAngular(()=>rp(this.elementRef.nativeElement,"scroll").pipe(zr(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&0!=Nc()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==Nc()?e.left=e.right:1==Nc()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;yS()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?i:r:"end"==e&&(e=l?r:i),l&&2==Nc()?e==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:l&&1==Nc()?e==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Pd),ke(bn),ke(Fs,8))},n.\u0275dir=zt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),TE=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new ne,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(bE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(ot(Kr),ot(bn),ot(Pn,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JI=new Ut("VIRTUAL_SCROLLABLE");let $3=(()=>{class n extends qI{constructor(e,r,i,o){super(e,r,i,o)}measureViewportSize(e){const r=this.elementRef.nativeElement;return"horizontal"===e?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Pd),ke(bn),ke(Fs,8))},n.\u0275dir=zt({type:n,features:[Sn]}),n})();const Q3=typeof requestAnimationFrame<"u"?V3:yE;let Z3=(()=>{class n extends $3{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=to(e)}constructor(e,r,i,o,l,c,v,B){super(e,c,i,l),this.elementRef=e,this._changeDetectorRef=r,this._scrollStrategy=o,this.scrollable=B,this._platform=pn(Kr),this._detachedSubject=new ne,this._renderedRangeSubject=new ne,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ue(X=>this._scrollStrategy.scrolledIndexChange.subscribe(fe=>Promise.resolve().then(()=>this.ngZone.run(()=>X.next(fe))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=u.EMPTY,this._viewportChanges=v.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(iu(null),bE(0,Q3)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(zr(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function X3(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,r="to-start"){e=this.appendOnly&&"to-start"===r?0:e;const o="horizontal"==this.orientation,l=o?"X":"Y";let v=`translate${l}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===r&&(v+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=v&&(this._renderedContentTransform=v,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=e:i.top=e,this.scrollable.scrollTo(i)}scrollToIndex(e,r="auto"){this._scrollStrategy.scrollToIndex(e,r)}measureScrollOffset(e){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let r;const i="left",o="right",l="rtl"==this.dir?.value;r="start"==e?l?o:i:"end"==e?l?i:o:e||("horizontal"===this.orientation?"left":"top");const c=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-c}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of e)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Bi),ke(bn),ke(G3,8),ke(Fs,8),ke(Pd),ke(TE),ke(JI,8))},n.\u0275cmp=ht({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,r){if(1&e&&Si(W3,7),2&e){let i;ar(i=sr())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,r){2&e&&Er("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Jn([{provide:qI,useFactory:(t,e)=>t||e,deps:[[new fa,new Vf(JI)],n]}]),Sn,er],ngContentSelectors:K3,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,r){1&e&&(Zi(),Nt(0,"div",0,1),tr(2),Ft(),nn(3,"div",2)),2&e&&(Rt(3),$a("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({}),n})(),ew=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[kc,ip,Z3,kc,ip]}),n})();const tw=yS();class q3{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Br(-this._previousScrollPosition.left),t.style.top=Br(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),tw&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),tw&&(r.scrollBehavior=o,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class J3{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nw{enable(){}disable(){}attach(){}}function CE(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function rw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class e${constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();CE(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let t$=(()=>{class n{constructor(e,r,i,o){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new nw,this.close=l=>new J3(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new q3(this._viewportRuler,this._document),this.reposition=l=>new e$(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(ot(Pd),ot(TE),ot(bn),ot(Pn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iw{constructor(t){if(this.scrollStrategy=new nw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class n${constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let ow=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r$=(()=>{class n extends ow{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const c=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(i)):c.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn),ot(bn,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i$=(()=>{class n extends ow{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Za(o)},this._clickListener=o=>{const l=Za(o),c="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let B=v.length-1;B>-1;B--){const X=v[B];if(X._outsidePointerEvents.observers.length<1||!X.hasAttached())continue;if(X.overlayElement.contains(l)||X.overlayElement.contains(c))break;const fe=X._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>fe.next(o)):fe.next(o)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn),ot(Kr),ot(bn,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aw=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Av()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(e),Av()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(ot(Pn),ot(Kr))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class o${constructor(t,e,r,i,o,l,c,v,B,X=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=l,this._document=c,this._location=v,this._outsideClickDispatcher=B,this._animationsDisabled=X,this._backdropElement=null,this._backdropClick=new ne,this._attachments=new ne,this._detachments=new ne,this._locationChanges=u.EMPTY,this._backdropClickHandler=fe=>this._backdropClick.next(fe),this._backdropTransitionendHandler=fe=>{this._disposeBackdrop(fe.target)},this._keydownEvents=new ne,this._outsidePointerEvents=new ne,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ui(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Br(this._config.width),t.height=Br(this._config.height),t.minWidth=Br(this._config.minWidth),t.minHeight=Br(this._config.minHeight),t.maxWidth=Br(this._config.maxWidth),t.maxHeight=Br(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=zh(e||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(zr(Hn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const sw="cdk-overlay-connected-position-bounding-box",a$=/([A-Za-z%]+)$/;class s${get positions(){return this._preferredPositions}constructor(t,e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ne,this._resizeSubscription=u.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(sw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let l;for(let c of this._preferredPositions){let v=this._getOriginPoint(t,i,c),B=this._getOverlayPoint(v,e,c),X=this._getOverlayFit(B,e,r,c);if(X.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,v);this._canFitWithFlexibleDimensions(X,B,r)?o.push({position:c,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,c)}):(!l||l.overlayFit.visibleArea<X.visibleArea)&&(l={overlayFit:X,overlayPoint:B,originPoint:v,position:c,overlayRect:e})}if(o.length){let c=null,v=-1;for(const B of o){const X=B.boundingBoxRect.width*B.boundingBoxRect.height*(B.position.weight||1);X>v&&(v=X,c=B)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;i="start"==r.originX?l:c}return e.left<0&&(i-=e.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,r){let i,o;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,r,i){const o=uw(e);let{x:l,y:c}=t,v=this._getOffset(i,"x"),B=this._getOffset(i,"y");v&&(l+=v),B&&(c+=B);let Te=0-c,Ie=c+o.height-r.height,Le=this._subtractOverflows(o.width,0-l,l+o.width-r.width),Ge=this._subtractOverflows(o.height,Te,Ie),dt=Le*Ge;return{visibleArea:dt,isCompletelyWithinViewport:o.width*o.height===dt,fitsInViewportVertically:Ge===o.height,fitsInViewportHorizontally:Le==o.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,o=r.right-e.x,l=lw(this._overlayRef.getConfig().minHeight),c=lw(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=i)&&(t.fitsInViewportHorizontally||null!=c&&c<=o)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=uw(e),o=this._viewportRect,l=Math.max(t.x+i.width-o.width,0),c=Math.max(t.y+i.height-o.height,0),v=Math.max(o.top-r.top-t.y,0),B=Math.max(o.left-r.left-t.x,0);let X=0,fe=0;return X=i.width<=o.width?B||-l:t.x<this._viewportMargin?o.left-r.left-t.x:0,fe=i.height<=o.height?v||-c:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:X,y:fe},{x:t.x+X,y:t.y+fe}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new n$(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let o,l,c,X,fe,Te;if("top"===e.overlayY)l=t.y,o=r.height-l+this._viewportMargin;else if("bottom"===e.overlayY)c=r.height-t.y+2*this._viewportMargin,o=r.height-c+this._viewportMargin;else{const Ie=Math.min(r.bottom-t.y+r.top,t.y),Le=this._lastBoundingBoxSize.height;o=2*Ie,l=t.y-Ie,o>Le&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-Le/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)Te=r.width-t.x+this._viewportMargin,X=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)fe=t.x,X=r.right-t.x;else{const Ie=Math.min(r.right-t.x+r.left,t.x),Le=this._lastBoundingBoxSize.width;X=2*Ie,fe=t.x-Ie,X>Le&&!this._isInitialRender&&!this._growAfterOpen&&(fe=t.x-Le/2)}return{top:l,left:fe,bottom:c,right:Te,width:X,height:o}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Br(r.height),i.top=Br(r.top),i.bottom=Br(r.bottom),i.width=Br(r.width),i.left=Br(r.left),i.right=Br(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Br(o)),l&&(i.maxWidth=Br(l))}this._lastBoundingBoxSize=r,Xs(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Xs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const X=this._viewportRuler.getViewportScrollPosition();Xs(r,this._getExactOverlayY(e,t,X)),Xs(r,this._getExactOverlayX(e,t,X))}else r.position="static";let c="",v=this._getOffset(e,"x"),B=this._getOffset(e,"y");v&&(c+=`translateX(${v}px) `),B&&(c+=`translateY(${B}px)`),r.transform=c.trim(),l.maxHeight&&(i?r.maxHeight=Br(l.maxHeight):o&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Br(l.maxWidth):o&&(r.maxWidth="")),Xs(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Br(o.y),i}_getExactOverlayX(t,e,r){let l,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Br(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:rw(t,r),isOriginOutsideView:CE(t,r),isOverlayClipped:rw(e,r),isOverlayOutsideView:CE(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&zh(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Bn)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Xs(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function lw(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(a$);return e&&"px"!==e?null:parseFloat(t)}return n||null}function uw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const cw="cdk-global-overlay-wrapper";class l${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(cw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:l,maxHeight:c}=r,v=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),B=!("100%"!==o&&"100vh"!==o||c&&"100%"!==c&&"100vh"!==c),X=this._xPosition,fe=this._xOffset,Te="rtl"===this._overlayRef.getConfig().direction;let Ie="",Le="",Ge="";v?Ge="flex-start":"center"===X?(Ge="center",Te?Le=fe:Ie=fe):Te?"left"===X||"end"===X?(Ge="flex-end",Ie=fe):("right"===X||"start"===X)&&(Ge="flex-start",Le=fe):"left"===X||"start"===X?(Ge="flex-start",Ie=fe):("right"===X||"end"===X)&&(Ge="flex-end",Le=fe),t.position=this._cssPosition,t.marginLeft=v?"0":Ie,t.marginTop=B?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=v?"0":Le,e.justifyContent=Ge,e.alignItems=B?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(cw),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let u$=(()=>{class n{constructor(e,r,i,o){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new l$}flexibleConnectedTo(e){return new s$(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(ot(TE),ot(Pn),ot(Kr),ot(aw))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c$=0,Iu=(()=>{class n{constructor(e,r,i,o,l,c,v,B,X,fe,Te,Ie){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=c,this._ngZone=v,this._document=B,this._directionality=X,this._location=fe,this._outsideClickDispatcher=Te,this._animationsModuleType=Ie}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),l=new iw(e);return l.direction=l.direction||this._directionality.value,new o$(o,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+c$++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Jl)),new P3(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(ot(t$),ot(aw),ot(Ol),ot(u$),ot(r$),ot(Fi),ot(bn),ot(Pn),ot(Fs),ot(Ih),ot(i$),ot(Qo,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const h$={provide:new Ut("cdk-connected-overlay-scroll-strategy"),deps:[Iu],useFactory:function f$(n){return()=>n.scrollStrategies.reposition()}};let dw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({providers:[Iu,h$],imports:[kc,O3,ew,ew]}),n})();const m$=["mat-menu-item",""];function p$(n,t){1&n&&(wf(),Nt(0,"svg",3),nn(1,"polygon",4),Ft())}const g$=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],_$=["mat-icon, [matMenuItemIcon]","*"];function v$(n,t){if(1&n){const e=Lr();Nt(0,"div",0),An("keydown",function(i){return lr(e),ur(tn()._handleKeydown(i))})("click",function(){return lr(e),ur(tn().closed.emit("click"))})("@transformMenu.start",function(i){return lr(e),ur(tn()._onAnimationStart(i))})("@transformMenu.done",function(i){return lr(e),ur(tn()._onAnimationDone(i))}),Nt(1,"div",1),tr(2),Ft()()}if(2&n){const e=tn();Ct("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),cr("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const y$=["*"],DE=new Ut("MAT_MENU_PANEL"),E$=WS(HS(class{}));let Od=(()=>{class n extends E${constructor(e,r,i,o,l){super(),this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=l,this.role="menuitem",this._hovered=new ne,this._focused=new ne,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Pn),ke(Qh),ke(DE,8),ke(Bi))},n.\u0275cmp=ht({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,r){1&e&&An("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(cr("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Er("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Sn],attrs:m$,ngContentSelectors:_$,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(Zi(g$),tr(0),Nt(1,"span",0),tr(2,1),Ft(),nn(3,"div",1),Qt(4,p$,2,0,"svg",2)),2&e&&(Rt(3),Ct("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),Rt(1),Ct("ngIf",r._triggersSubmenu))},dependencies:[Wr,qh],encapsulation:2,changeDetection:0}),n})();const b$=new Ut("MatMenuContent"),op={transformMenu:Zc("transformMenu",[ks("void",ji({opacity:0,transform:"scale(0.8)"})),ns("void => enter",ts("120ms cubic-bezier(0, 0, 0.2, 1)",ji({opacity:1,transform:"scale(1)"}))),ns("* => void",ts("100ms 25ms linear",ji({opacity:0})))]),fadeInItems:Zc("fadeInItems",[ks("showing",ji({opacity:1})),ns("void => *",[ji({opacity:0}),ts("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let T$=0;const fw=new Ut("mat-menu-default-options",{providedIn:"root",factory:function C$(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let xd=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=to(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=to(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,o){this._elementRef=e,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Ql,this._classList={},this._panelAnimationState="void",this._animationDone=new ne,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new rr,this.close=this.closed,this.panelId="mat-menu-panel-"+T$++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new LV(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(iu(this._directDescendantItems),yo(e=>Hn(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(iu(this._directDescendantItems),yo(r=>Hn(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:wv(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Ui(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(l=>l.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(iu(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(bn),ke(fw),ke(Bi))},n.\u0275dir=zt({type:n,contentQueries:function(e,r,i){if(1&e&&(Ji(i,b$,5),Ji(i,Od,5),Ji(i,Od,4)),2&e){let o;ar(o=sr())&&(r.lazyContent=o.first),ar(o=sr())&&(r._allItems=o),ar(o=sr())&&(r.items=o)}},viewQuery:function(e,r){if(1&e&&Si(Xo,5),2&e){let i;ar(i=sr())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),ME=(()=>{class n extends xd{constructor(e,r,i,o){super(e,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(bn),ke(fw),ke(Bi))},n.\u0275cmp=ht({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,r){2&e&&cr("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Jn([{provide:DE,useExisting:n}]),Sn],ngContentSelectors:y$,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,r){1&e&&(Zi(),Qt(0,v$,3,6,"ng-template"))},dependencies:[tu],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[op.transformMenu,op.fadeInItems]},changeDetection:0}),n})();const hw=new Ut("mat-menu-scroll-strategy"),M$={provide:hw,deps:[Iu],useFactory:function D$(n){return()=>n.scrollStrategies.reposition()}},mw=Ls({passive:!0});let S$=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,o,l,c,v,B,X){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=c,this._dir=v,this._focusMonitor=B,this._ngZone=X,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=u.EMPTY,this._hoverSubscription=u.EMPTY,this._menuCloseSubscription=u.EMPTY,this._changeDetectorRef=pn(Bi),this._handleTouchStart=fe=>{kv(fe)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new rr,this.onMenuOpen=this.menuOpened,this.menuClosed=new rr,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=l instanceof xd?l:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,mw)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,mw),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof xd&&(e._startAnimation(),e._directDescendantItems.changes.pipe(zr(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof xd?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Gr(i=>"void"===i.toState),Ui(1),zr(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new iw({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",l="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,l)):e.setPositionClasses(o,l)})}_setPosition(e,r){let[i,o]="before"===e.xPosition?["end","start"]:["start","end"],[l,c]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[v,B]=[l,c],[X,fe]=[i,o],Te=0;if(this.triggersSubmenu()){if(fe=i="before"===e.xPosition?"start":"end",o=X="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Ie=this._parentMaterialMenu.items.first;this._parentInnerPadding=Ie?Ie._getHostElement().offsetTop:0}Te="bottom"===l?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(v="top"===l?"bottom":"top",B="top"===c?"bottom":"top");r.withPositions([{originX:i,originY:v,overlayX:X,overlayY:l,offsetY:Te},{originX:o,originY:v,overlayX:fe,overlayY:l,offsetY:Te},{originX:i,originY:B,overlayX:X,overlayY:c,offsetY:-Te},{originX:o,originY:B,overlayX:fe,overlayY:c,offsetY:-Te}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return Hn(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:ln(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Gr(l=>l!==this._menuItemInstance),Gr(()=>this._menuOpen)):ln(),r)}_handleMousedown(e){Bv(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Gr(e=>e===this._menuItemInstance&&!e.disabled),$I(0,yE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof xd&&this.menu._isAnimating?this.menu._animationDone.pipe(Ui(1),$I(0,yE),zr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new QI(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(ke(Iu),ke(Bn),ke(qi),ke(hw),ke(DE,8),ke(Od,10),ke(Fs,8),ke(Qh),ke(bn))},n.\u0275dir=zt({type:n,hostVars:3,hostBindings:function(e,r){1&e&&An("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&e&&cr("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),SE=(()=>{class n extends S${}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qr(n)))(r||n)}}(),n.\u0275dir=zt({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[Sn]}),n})(),xa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({providers:[M$],imports:[ir,Vc,Yr,dw,ip,Yr]}),n})();class pw extends Lo{}class gw extends Lo{constructor(t){super(),this.sort_requested=t}}class _w extends Lo{constructor(t){super(),this.sort_requested=t}}class Ld extends Lo{constructor(t){super(),this.subreddit_requested=t}}class vw extends Lo{constructor(t){super(),this.search=t}}class yw extends Lo{constructor(t){super(),this.article=t}}const A$=["best","confidence","top","new","controversial","old"],R$=function(n){return{display:n}};function I$(n,t){if(1&n){const e=Lr();Nt(0,"a",14),An("click",function(){const o=lr(e).$implicit;return ur(tn(2).change_sort(o))}),kn(1),Ft()}if(2&n){const e=t.$implicit,r=tn().ngIf;Ct("ngStyle",Io(2,R$,r.sort===e?"none":"inherit")),Rt(1),ni(" ",e," ")}}function w$(n,t){if(1&n&&(Go(0),Nt(1,"div",1)(2,"span"),kn(3,"Comments"),Ft(),nn(4,"span",2),Nt(5,"button",3),kn(6),nn(7,"mat-icon",4),Ft(),Nt(8,"button",5),nn(9,"mat-icon",6),Ft()(),Nt(10,"mat-menu",null,7),Qt(12,I$,2,4,"a",8),Ft(),Nt(13,"mat-menu",9,10),nn(15,"mat-icon",11)(16,"mat-icon",12)(17,"mat-icon",13),Ft(),zo()),2&n){const e=t.ngIf,r=xr(11),i=xr(14),o=tn();Rt(5),Ct("matMenuTriggerFor",r),Rt(1),ni(" ",e.sort," "),Rt(2),Ct("matMenuTriggerFor",i),Rt(4),Ct("ngForOf",o.POST_COMMENT_SORT)}}var AE=new WeakMap;class Nd{constructor(t,e){cn(this,AE,{writable:!0,value:void 0}),this.controller=t,this.POST_COMMENT_SORT=A$,Yt(this,AE,e)}change_sort(t){var e=this;return Tr(function*(){et(e,AE).raise(new gw(t))})()}}Nd.\u0275fac=function(t){return new(t||Nd)(ke(oo),ke(Ur))},Nd.\u0275cmp=ht({type:Nd,selectors:[["post-comment-list-header"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(t,e){1&t&&(Qt(0,w$,18,4,"ng-container",0),gr(1,"async")),2&t&&Ct("ngIf",_r(1,1,e.controller.post_comments$))},dependencies:[ir,Qa,Wr,Oc,xs,ao,Ru,ep,Ii,xo,xa,ME,Od,SE,hi,Ia],changeDetection:0});const P$=["*",[["mat-toolbar-row"]]],O$=["*","mat-toolbar-row"],x$=Zh(class{constructor(n){this._elementRef=n}});let RE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=zt({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),IE=(()=>{class n extends x${constructor(e,r,i){super(e),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Kr),ke(Pn))},n.\u0275cmp=ht({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,i){if(1&e&&Ji(i,RE,5),2&e){let o;ar(o=sr())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&Er("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Sn],ngContentSelectors:O$,decls:2,vars:0,template:function(e,r){1&e&&(Zi(P$),tr(0),tr(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),ra=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[Yr,Yr]}),n})();const L$=["textPost"],N$=function(n){return{masked:n}};var ap=new WeakMap,wE=new WeakMap,PE=new WeakMap,OE=new WeakMap,xE=new WeakMap,sp=new WeakMap,ds=new WeakMap,lp=new WeakMap,up=new WeakMap,Ew=new WeakSet;class Qs{constructor(t,e,r,i,o){mr(this,Ew),cn(this,ap,{writable:!0,value:void 0}),cn(this,wE,{writable:!0,value:void 0}),cn(this,PE,{writable:!0,value:void 0}),cn(this,OE,{writable:!0,value:void 0}),cn(this,xE,{writable:!0,value:void 0}),cn(this,sp,{writable:!0,value:void 0}),cn(this,ds,{writable:!0,value:void 0}),cn(this,lp,{writable:!0,value:void 0}),cn(this,up,{writable:!0,value:void 0}),Yt(this,ap,!0),this._truncated=!0,Yt(this,ds,""),Yt(this,lp,""),Yt(this,wE,t),Yt(this,PE,e),Yt(this,OE,r),Yt(this,xE,i),Yt(this,sp,o),Yt(this,ds,document.baseURI),et(this,ds).endsWith("/")&&Yt(this,ds,et(this,ds).slice(0,-1))}set data(t){null!=t&&(Yt(this,lp,t),nr(this,Ew,F$).call(this))}set post(t){t&&t.nativeElement&&Yt(this,up,t.nativeElement)}onClick(t){const e=t.target;if(e&&"A"===e.tagName){const r=e.href;r.startsWith(et(this,ds))&&(t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),et(this,OE).navigateByUrl(r.replace(et(this,ds),"")))}else if(et(this,ap)){if(this._truncated)return this._truncated=!1,void et(this,sp).save();this._truncated=!0,et(this,sp).restore()}}}function F$(){this._text=et(this,PE).bypassSecurityTrustHtml(et(this,xE).sanitizeHTML(et(this,lp))),setTimeout(()=>{this._truncated=et(this,up).scrollHeight>et(this,up).clientHeight,Yt(this,ap,this._truncated),et(this,wE).detectChanges()},0)}Qs.\u0275fac=function(t){return new(t||Qs)(ke(Bi),ke(Da),ke($r),ke($s),ke(Oa))},Qs.\u0275cmp=ht({type:Qs,selectors:[["text-block"]],viewQuery:function(t,e){if(1&t&&Si(L$,5),2&t){let r;ar(r=sr())&&(e.post=r.first)}},inputs:{data:"data"},standalone:!0,features:[er],decls:2,vars:4,consts:[[1,"masked",3,"ngClass","innerHTML","click"],["textPost",""]],template:function(t,e){1&t&&(Nt(0,"p",0,1),An("click",function(i){return e.onClick(i)}),Ft()),2&t&&Ct("ngClass",Io(2,N$,e._truncated))("innerHTML",e._text,Vg)},dependencies:[ir,tu,hi],changeDetection:0});class Fd{constructor(){this.data=null}}Fd.\u0275fac=function(t){return new(t||Fd)},Fd.\u0275cmp=ht({type:Fd,selectors:[["post-comment-body"]],inputs:{data:"data"},standalone:!0,features:[er],decls:1,vars:1,consts:[[3,"data"]],template:function(t,e){1&t&&nn(0,"text-block",0),2&t&&Ct("data",null==e.data?null:e.data.body_html)},dependencies:[Qs],changeDetection:0});class wu{transform(t){if(null==t)return"-";const e=new Date(Date.now()-1e3*t);return e.getUTCFullYear()>1970?e.getUTCFullYear()-1970+"y":e.getUTCMonth()>0?`${e.getUTCMonth()}mo`:e.getUTCDate()>1?e.getUTCDate()-1+"d":e.getUTCHours()>0?`${e.getUTCHours()}h`:`${e.getUTCMinutes()}m`}}wu.\u0275fac=function(t){return new(t||wu)},wu.\u0275pipe=Jr({name:"age",type:wu,pure:!0,standalone:!0});class Zs{transform(t){if(isNaN(Number(`${t}`))||0===t)return"0";const e=Math.log10(t);return e<3?`${t}`:e<6?`${Math.floor(t/1e3)}K`:e<9?`${Math.floor(t/1e6)}M`:"lots"}}Zs.\u0275fac=function(t){return new(t||Zs)},Zs.\u0275pipe=Jr({name:"count",type:Zs,pure:!0,standalone:!0});class Bd{transform(t){const e=new Date(0);e.setUTCSeconds(t||0);const r=e.toISOString().substring(11,19);return e.getUTCHours()>0?r:e.getUTCMinutes()>0?r.substring(3):r.substring(4)}}function B$(n,t){if(1&n&&(Nt(0,"button",1),nn(1,"mat-icon",2),kn(2),gr(3,"count"),Ft()),2&n){const e=tn();Rt(2),ni(" ",_r(3,1,e.data.ups),"\n")}}function k$(n,t){if(1&n&&(Nt(0,"button",1),nn(1,"mat-icon",3),kn(2),gr(3,"count"),Ft()),2&n){const e=tn();Rt(2),ni(" ",_r(3,1,e.data.downs),"\n")}}Bd.\u0275fac=function(t){return new(t||Bd)},Bd.\u0275pipe=Jr({name:"time",type:Bd,pure:!0,standalone:!0});class kd{}function U$(n,t){1&n&&nn(0,"mat-icon",3)}kd.\u0275fac=function(t){return new(t||kd)},kd.\u0275cmp=ht({type:kd,selectors:[["post-comment-footer"]],inputs:{data:"data"},standalone:!0,features:[er],decls:2,vars:2,consts:[["mat-button","","disableRipple","",4,"ngIf"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(t,e){1&t&&(Qt(0,B$,4,3,"button",0),Qt(1,k$,4,3,"button",0)),2&t&&(Ct("ngIf",e.data.ups>0),Rt(1),Ct("ngIf",e.data.downs>0))},dependencies:[ir,Wr,Zs,ao,Ru,Ii,xo,xa,Vc,ra,hi],changeDetection:0});const j$=function(n){return["/u",n]};class Ud{}Ud.\u0275fac=function(t){return new(t||Ud)},Ud.\u0275cmp=ht({type:Ud,selectors:[["post-comment-header"]],inputs:{data:"data"},standalone:!0,features:[er],decls:7,vars:8,consts:[[1,"layout",2,"padding",".5em"],[3,"routerLink"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","push_pin",2,"transform","scale(.75)"]],template:function(t,e){1&t&&(Nt(0,"section",0)(1,"a",1),kn(2),Ft(),Nt(3,"span"),kn(4),gr(5,"age"),Ft(),Qt(6,U$,1,0,"mat-icon",2),Ft()),2&t&&(Rt(1),Ct("routerLink",Io(6,j$,e.data.author)),Rt(1),ni("u/",e.data.author,""),Rt(2),Di(_r(5,4,e.data.created_utc)),Rt(2),Ct("ngIf",e.data.stickied))},dependencies:[wu,ir,Wr,Ii,xo,hi,Ia],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}"],changeDetection:0});class jd{}jd.\u0275fac=function(t){return new(t||jd)},jd.\u0275cmp=ht({type:jd,selectors:[["post-comment"]],inputs:{data:"data"},standalone:!0,features:[er],decls:3,vars:3,consts:[[3,"data"]],template:function(t,e){1&t&&nn(0,"post-comment-header",0)(1,"post-comment-body",0)(2,"post-comment-footer",0),2&t&&(Ct("data",e.data),Rt(1),Ct("data",e.data),Rt(1),Ct("data",e.data))},dependencies:[ir,ao,Ii,xa,ra,hi,Ud,Fd,kd],changeDetection:0});const V$=["hot","top","new","controversial","rising"],H$=function(n){return{display:n}};function W$(n,t){if(1&n){const e=Lr();Nt(0,"a",15),An("click",function(){const o=lr(e).$implicit;return ur(tn(2).change_sort(o))}),kn(1),Ft()}if(2&n){const e=t.$implicit,r=tn().ngIf;Ct("ngStyle",Io(2,H$,r.sort===e?"none":"inherit")),Rt(1),ni(" ",e," ")}}function K$(n,t){if(1&n){const e=Lr();Go(0),Nt(1,"div",1)(2,"span",2),kn(3),Ft(),nn(4,"span",3),Nt(5,"button",4),kn(6),nn(7,"mat-icon",5),Ft(),Nt(8,"button",6),nn(9,"mat-icon",7),Ft()(),Nt(10,"mat-menu",null,8),Qt(12,W$,2,4,"a",9),Ft(),Nt(13,"mat-menu",10,11)(15,"mat-icon",12),An("click",function(){return lr(e),ur(tn().back_to_home())}),Ft(),nn(16,"mat-icon",13)(17,"mat-icon",14),Ft(),zo()}if(2&n){const e=t.ngIf,r=xr(11),i=xr(14),o=tn();Rt(3),Di(e.subreddit.includes("+")?"multi":e.subreddit),Rt(2),Ct("matMenuTriggerFor",r),Rt(1),ni(" ",e.sort," "),Rt(2),Ct("matMenuTriggerFor",i),Rt(4),Ct("ngForOf",o.POST_SORT)}}var cp=new WeakMap;class Vd{constructor(t,e){cn(this,cp,{writable:!0,value:void 0}),this.controller=t,this.POST_SORT=V$,Yt(this,cp,e)}change_sort(t){var e=this;return Tr(function*(){et(e,cp).raise(new _w(t))})()}back_to_home(){et(this,cp).raise(pw)}}Vd.\u0275fac=function(t){return new(t||Vd)(ke(oo),ke(Ur))},Vd.\u0275cmp=ht({type:Vd,selectors:[["post-list-header"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[1,"toolbar"],[1,"subreddit"],[2,"flex-grow","1"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","expand_more","iconPositionEnd","",2,"transform","scale(.75)"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["sortMenu","matMenu"],["mat-menu-item","",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home",3,"click"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"],["mat-menu-item","",3,"ngStyle","click"]],template:function(t,e){1&t&&(Qt(0,K$,18,5,"ng-container",0),gr(1,"async")),2&t&&Ct("ngIf",_r(1,1,e.controller.posts$))},dependencies:[ir,Qa,Wr,Oc,xs,ao,Ru,ep,Ii,xo,xa,ME,Od,SE,hi,Ia],styles:[".subreddit[_ngcontent-%COMP%]{line-height:1.1em;max-width:12em;word-break:break-all;white-space:break-spaces}"],changeDetection:0});var LE=new WeakMap,bw=new WeakSet;class Hd{constructor(t){mr(this,bw),cn(this,LE,{writable:!0,value:void 0}),Yt(this,LE,t)}set data(t){this._data=t,nr(this,bw,G$).call(this)}}function G$(){const n=document.implementation.createHTMLDocument().createElement("p");n.innerHTML=this._data.embed,Array.from(n.getElementsByTagName("iframe")).forEach(t=>{t.setAttribute("loading","lazy"),t.style.position="relative",t.style.maxWidth="100vw"}),this._embed=et(this,LE).bypassSecurityTrustHtml(n.innerHTML)}Hd.\u0275fac=function(t){return new(t||Hd)(ke(Da))},Hd.\u0275cmp=ht({type:Hd,selectors:[["post-body-embed"]],inputs:{data:"data"},standalone:!0,features:[er],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,e){1&t&&nn(0,"div",0),2&t&&Ct("innerHTML",e._embed,Vg)},dependencies:[ir],changeDetection:0});const z$=["gallery"];function Y$(n,t){if(1&n){const e=Lr();Nt(0,"figure")(1,"img",3),An("load",function(){return lr(e),ur(tn().onLoad())})("click",function(){const o=lr(e).$implicit;return ur(tn().onClick(o.href))}),Ft()()}if(2&n){const e=t.$implicit,r=tn();Rt(1),Ct("src",e.src,wl)("srcset",e.srcset)("alt","r/"+r.data.subreddit+" - "+r.data.title)}}const $$=function(n){return{"set-scrollbar":n}};var dp=new WeakMap;class Wd{constructor(){cn(this,dp,{writable:!0,value:void 0})}set fig(t){t&&t.nativeElement&&Yt(this,dp,t.nativeElement)}onLoad(){et(this,dp)&&(et(this,dp).scrollLeft=0)}onClick(t){String.isNullOrWhitespace(t)||window.open(t,"_blank","noopener,noreferrer")}}function X$(n,t){if(1&n&&(Nt(0,"a",4),kn(1),Ft()),2&n){const e=tn(2);Ct("href",e.href,wl),Rt(1),Di(e.text)}}function Q$(n,t){if(1&n){const e=Lr();Nt(0,"a",5),An("click",function(){return lr(e),ur(tn(2).on_internal_click())}),kn(1),Ft()}if(2&n){const e=tn(2);Ct("routerLink",e.text),Rt(1),Di(e.text)}}function Z$(n,t){if(1&n&&(Nt(0,"p",1),Qt(1,X$,2,2,"a",2),Qt(2,Q$,2,2,"a",3),Ft()),2&n){const e=tn();Rt(1),Ct("ngIf",e.is_external),Rt(1),Ct("ngIf",!e.is_external&&e.show_internal)}}Wd.\u0275fac=function(t){return new(t||Wd)},Wd.\u0275cmp=ht({type:Wd,selectors:[["post-body-image"]],viewQuery:function(t,e){if(1&t&&Si(z$,5),2&t){let r;ar(r=sr())&&(e.fig=r.first)}},inputs:{data:"data"},standalone:!0,features:[er],decls:3,vars:4,consts:[[1,"gallery",3,"ngClass"],["gallery",""],[4,"ngFor","ngForOf"],["loading","lazy",3,"src","srcset","alt","load","click"]],template:function(t,e){1&t&&(Nt(0,"div",0,1),Qt(2,Y$,2,3,"figure",2),Ft()),2&t&&(Ct("ngClass",Io(2,$$,e.data.images.length>1)),Rt(2),Ct("ngForOf",e.data.images))},dependencies:[ir,tu,Qa],changeDetection:0});var Pu=new WeakMap,NE=new WeakMap,FE=new WeakMap,Kd=new WeakMap,Tw=new WeakSet;class Gd{constructor(t,e){mr(this,Tw),cn(this,Pu,{writable:!0,value:void 0}),cn(this,NE,{writable:!0,value:void 0}),cn(this,FE,{writable:!0,value:void 0}),cn(this,Kd,{writable:!0,value:void 0}),Yt(this,Pu,""),this.href="",this.text="",this.is_external=!1,this.show_internal=!1,Yt(this,NE,t),Yt(this,FE,e),Yt(this,Pu,document.baseURI),et(this,Pu).endsWith("/")&&Yt(this,Pu,et(this,Pu).slice(0,-1))}set data(t){Yt(this,Kd,t),nr(this,Tw,q$).call(this)}on_internal_click(){et(this,FE).save("post",et(this,Kd).id)}}function q$(){const n=et(this,NE).sanitizeLink(et(this,Kd).url);if(this.href=n.href,this.is_external=n.external,this.is_external)return void(this.text=this.href);this.text=n.text;const t=this.text.indexOf("/r/")+3,e=this.text.indexOf("/",t),r=this.text.slice(t,e);this.show_internal=r.toLowerCase()!==et(this,Kd).subreddit.toLowerCase()}Gd.\u0275fac=function(t){return new(t||Gd)(ke($s),ke(Oa))},Gd.\u0275cmp=ht({type:Gd,selectors:[["post-body-link"]],inputs:{data:"data"},standalone:!0,features:[er],decls:1,vars:1,consts:[["style","overflow: hidden;white-space: nowrap;text-overflow: ellipsis; padding: 0 0.5em;",4,"ngIf"],[2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis","padding","0 0.5em"],["target","blank","rel","noopener noreferrer nofollow",3,"href",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],["target","blank","rel","noopener noreferrer nofollow",3,"href"],[3,"routerLink","click"]],template:function(t,e){1&t&&Qt(0,Z$,3,2,"p",0),2&t&&Ct("ngIf",e.is_external||e.show_internal)},dependencies:[ir,Wr,hi,Ia],changeDetection:0});class zd{constructor(){this.data=null}}zd.\u0275fac=function(t){return new(t||zd)},zd.\u0275cmp=ht({type:zd,selectors:[["post-body-text"]],inputs:{data:"data"},standalone:!0,features:[er],decls:1,vars:1,consts:[[3,"data"]],template:function(t,e){1&t&&nn(0,"text-block",0),2&t&&Ct("data",null==e.data?null:e.data.selftext_html)},dependencies:[Qs],changeDetection:0});var J$=Or(377);const e4=["video"];function t4(n,t){if(1&n){const e=Lr();Nt(0,"mat-icon",12),An("click",function(){return lr(e),tn(),ur(xr(4).play())}),Ft()}}function n4(n,t){if(1&n){const e=Lr();Nt(0,"mat-icon",13),An("click",function(){return lr(e),tn(),ur(xr(4).pause())}),Ft()}}function r4(n,t){if(1&n){const e=Lr();Nt(0,"mat-icon",16),An("click",function(){lr(e),tn(2);const i=xr(4);return ur(i.muted=!i.muted)}),Ft()}}function i4(n,t){if(1&n){const e=Lr();Nt(0,"mat-icon",17),An("click",function(){lr(e),tn(2);const i=xr(4);return ur(i.muted=!i.muted)}),Ft()}}function o4(n,t){if(1&n&&(Go(0),Qt(1,r4,1,0,"mat-icon",14),Qt(2,i4,1,0,"mat-icon",15),zo()),2&n){tn();const e=xr(4);Rt(1),Ct("ngIf",e.muted),Rt(1),Ct("ngIf",!e.muted)}}const a4=function(n){return{"--p":n}};var fp=new WeakMap,qs=new WeakMap,Yd=new WeakMap,hp=new WeakMap,$d=new WeakMap,Ou=new WeakMap,pi=new WeakMap,Cw=new WeakSet,Dw=new WeakSet;class Xd{constructor(t){mr(this,Dw),mr(this,Cw),cn(this,fp,{writable:!0,value:void 0}),cn(this,qs,{writable:!0,value:void 0}),cn(this,Yd,{writable:!0,value:void 0}),cn(this,hp,{writable:!0,value:void 0}),cn(this,$d,{writable:!0,value:void 0}),cn(this,Ou,{writable:!0,value:void 0}),cn(this,pi,{writable:!0,value:void 0}),this.cd=t,Yt(this,Yd,!1),Yt(this,hp,0),Yt(this,$d,!1),Yt(this,Ou,""),this.has_audio=!0,Yt(this,fp,new IntersectionObserver((e,r)=>nr(this,Cw,s4).call(this,e,r),{root:null,rootMargin:"32px",threshold:0}))}set value(t){t&&t.nativeElement&&Yt(this,pi,t.nativeElement)}ngOnInit(){var t=this;return Tr(function*(){const e=t.data.videos.find(r=>"application/dash+xml"===r.type);Yt(t,Ou,e?.url||t.data.videos[t.data.videos.length-1].url),null!=e?(Yt(t,$d,!0),yield nr(t,Dw,l4).call(t,et(t,Ou)),Yt(t,qs,(0,J$.MediaPlayer)().create()),et(t,qs).initialize(et(t,pi),"",!1),et(t,qs).setMute(!0),et(t,qs).updateSettings({streaming:{abr:{minBitrate:{audio:-1,video:et(t,hp)-1}}}}),et(t,fp).observe(et(t,pi))):et(t,fp).observe(et(t,pi))})()}ngOnDestroy(){et(this,qs)?.destroy()}onLoadeddata(){et(this,$d)||(this.has_audio="mozHasAudio"in et(this,pi)&&et(this,pi).mozHasAudio||"webkitAudioDecodedByteCount"in et(this,pi)&&et(this,pi).webkitAudioDecodedByteCount>0||"audioTracks"in et(this,pi)&&et(this,pi).audioTracks.length>0,et(this,pi).muted=!0)}skip(t,e,r){const i=e.getBoundingClientRect();r.currentTime=(t.pageX-i.left)/e.offsetWidth*r.duration}}function s4(n,t){n[0].isIntersecting?et(this,Yd)||(et(this,$d)?et(this,qs).attachSource(et(this,Ou)):et(this,pi).src=et(this,Ou),Yt(this,Yd,!0)):et(this,Yd)&&(et(this,pi).paused||et(this,pi).ended||et(this,pi).pause())}function l4(n){return BE.apply(this,arguments)}function BE(){return(BE=Tr(function*(n){try{const t=yield fetch(n);if(!t.ok)return;const e=yield t.text();if(String.isNullOrWhitespace(e))return;const r=(new DOMParser).parseFromString(e,"application/xml");if(null==r)return;const i=r.querySelector('AdaptationSet[contentType="audio"]');this.has_audio=null!=i;const o=r.querySelector('AdaptationSet[contentType="video"]');if(null==o)return;const l=o.querySelectorAll("Representation");if(null==l||0===l.length)return;const c=Array.from(l).map(v=>Number(v.getAttribute("bandwidth"))).filter(v=>!isNaN(v));if(null==c||0===c.length)return;Yt(this,hp,Math.max(...c))}catch{return}})).apply(this,arguments)}function u4(n,t){1&n&&nn(0,"post-body-embed",1),2&n&&Ct("data",tn()._data)}function c4(n,t){1&n&&nn(0,"post-body-image",1),2&n&&Ct("data",tn()._data)}function d4(n,t){1&n&&nn(0,"post-body-text",1),2&n&&Ct("data",tn()._data)}function f4(n,t){1&n&&nn(0,"post-body-video",1),2&n&&Ct("data",tn()._data)}function h4(n,t){1&n&&nn(0,"post-body-link",1),2&n&&Ct("data",tn()._data)}Xd.\u0275fac=function(t){return new(t||Xd)(ke(Bi))},Xd.\u0275cmp=ht({type:Xd,selectors:[["post-body-video"]],viewQuery:function(t,e){if(1&t&&Si(e4,7),2&t){let r;ar(r=sr())&&(e.value=r.first)}},inputs:{data:"data"},standalone:!0,features:[er],decls:15,vars:12,consts:[[2,"visibility","hidden","width","0","height","0"],["svgIcon","pause"],["svgIcon","volume_mute"],["disablepictureinpicture","","disableremoteplayback","","muted","","preload","auto",3,"loadeddata","click","timeupdate"],["video",""],[1,"video-controls"],["svgIcon","play_arrow","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","pause","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],[1,"progress",3,"ngStyle","click"],["progress",""],[1,"value"],[4,"ngIf"],["svgIcon","play_arrow","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","pause","color","accent",2,"transform","scale(1.2)",3,"click"],["svgIcon","volume_off","color","accent",3,"click",4,"ngIf"],["svgIcon","volume_mute","color","accent","style","transform: scale(1.2);",3,"click",4,"ngIf"],["svgIcon","volume_off","color","accent",3,"click"],["svgIcon","volume_mute","color","accent",2,"transform","scale(1.2)",3,"click"]],template:function(t,e){if(1&t){const r=Lr();Nt(0,"div",0),nn(1,"mat-icon",1)(2,"mat-icon",2),Ft(),Nt(3,"video",3,4),An("loadeddata",function(){return e.onLoadeddata()})("click",function(){lr(r);const o=xr(4);return ur(o.paused||o.ended?o.play():o.pause())})("timeupdate",function(){return e.cd.detectChanges()}),Ft(),Nt(5,"div",5),Qt(6,t4,1,0,"mat-icon",6),Qt(7,n4,1,0,"mat-icon",7),Nt(8,"div",8,9),An("click",function(o){lr(r);const l=xr(9),c=xr(4);return ur(e.skip(o,l,c))}),Nt(10,"div",10),kn(11),gr(12,"time"),gr(13,"time"),Ft()(),Qt(14,o4,3,2,"ng-container",11),Ft()}if(2&t){const r=xr(4);Rt(6),Ct("ngIf",r.paused||r.ended),Rt(1),Ct("ngIf",!r.paused&&!r.ended),Rt(1),Ct("ngStyle",Io(10,a4,100*((null==r?null:r.currentTime)||0)/r.duration+"%")),Rt(3),fh("",_r(12,6,r.currentTime)," / ",_r(13,8,r.duration)," "),Rt(3),Ct("ngIf",e.has_audio)}},dependencies:[ir,Wr,Oc,Ii,xo,Bd],changeDetection:0});class Qd{set data(t){this._data=t.is_crosspost?t.crosspost:t}}function m4(n,t){if(1&n){const e=Lr();Nt(0,"button",4),An("click",function(){return lr(e),ur(tn().on_share_click())}),nn(1,"mat-icon",5),Ft()}}function p4(n,t){if(1&n&&(Nt(0,"button",6),nn(1,"mat-icon",7),kn(2),gr(3,"count"),Ft()),2&n){const e=tn();Rt(2),ni(" ",_r(3,1,e.data.ups),"\n")}}function g4(n,t){if(1&n&&(Nt(0,"button",6),nn(1,"mat-icon",8),kn(2),gr(3,"count"),Ft()),2&n){const e=tn();Rt(2),ni(" ",_r(3,1,e.data.downs),"\n")}}Qd.\u0275fac=function(t){return new(t||Qd)},Qd.\u0275cmp=ht({type:Qd,selectors:[["post-body"]],inputs:{data:"data"},standalone:!0,features:[er],decls:5,vars:5,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(t,e){1&t&&(Qt(0,u4,1,1,"post-body-embed",0),Qt(1,c4,1,1,"post-body-image",0),Qt(2,d4,1,1,"post-body-text",0),Qt(3,f4,1,1,"post-body-video",0),Qt(4,h4,1,1,"post-body-link",0)),2&t&&(Ct("ngIf",null==e._data?null:e._data.has_embed),Rt(1),Ct("ngIf",null==e._data?null:e._data.has_image),Rt(1),Ct("ngIf",null==e._data?null:e._data.has_text),Rt(1),Ct("ngIf",null==e._data?null:e._data.has_video),Rt(1),Ct("ngIf",null==e._data?null:e._data.has_link))},dependencies:[ir,Wr,Hd,Wd,Gd,zd,Xd],changeDetection:0});var kE=new WeakMap,Js=new WeakMap;class Zd{constructor(t,e){cn(this,kE,{writable:!0,value:void 0}),cn(this,Js,{writable:!0,value:void 0}),this.controller=t,Yt(this,Js,""),this._can_share=!1,this._can_share="share"in window.navigator,Yt(this,kE,e),Yt(this,Js,document.baseURI),et(this,Js).endsWith("/")&&Yt(this,Js,et(this,Js).slice(0,-1))}on_share_click(){const t=`${et(this,Js)}/comments/${this.data.id}`;window.navigator.share({title:"Reddit post",text:`\n\n${this.data.title}`,url:t})}on_comment_click(){et(this,kE).raise(new yw(this.data.id))}}function _4(n,t){if(1&n){const e=Lr();Nt(0,"a",9),An("click",function(i){lr(e);const o=tn();return ur(o.change_subreddit(i,o.post.subreddit))}),kn(1),Ft()}if(2&n){const e=tn();Ct("href","/r/"+e.post.subreddit,wl),Rt(1),ni(" r/",e.post.subreddit," ")}}function v4(n,t){if(1&n){const e=Lr();Nt(0,"mat-icon",12),An("click",function(){lr(e);const i=tn(2);return ur(i.controller.actions.subscribe(i.post.subreddit))}),Ft()}}function y4(n,t){if(1&n){const e=Lr();Nt(0,"mat-icon",13),An("click",function(){lr(e);const i=tn(2);return ur(i.controller.actions.unsubscribe(i.post.subreddit))}),Ft()}}function E4(n,t){if(1&n&&(Go(0),Qt(1,v4,1,0,"mat-icon",10),Qt(2,y4,1,0,"mat-icon",11),zo()),2&n){const e=tn();Rt(1),Ct("ngIf",!e.post.subreddit_subscribed),Rt(1),Ct("ngIf",e.post.subreddit_subscribed)}}function b4(n,t){1&n&&nn(0,"mat-icon",14)}function T4(n,t){1&n&&nn(0,"mat-icon",15)}function C4(n,t){1&n&&(Nt(0,"a",16),kn(1,"x-post"),Ft())}Zd.\u0275fac=function(t){return new(t||Zd)(ke(oo),ke(Ur))},Zd.\u0275cmp=ht({type:Zd,selectors:[["post-footer"]],inputs:{data:"data"},standalone:!0,features:[er],decls:7,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["svgIcon","comment"],["mat-button","","disableRipple","",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","share"],["mat-button","","disableRipple",""],["svgIcon","arrow_upward"],["svgIcon","arrow_downward"]],template:function(t,e){1&t&&(Qt(0,m4,2,0,"button",0),Nt(1,"button",1),An("click",function(){return e.on_comment_click()}),nn(2,"mat-icon",2),kn(3),gr(4,"count"),Ft(),Qt(5,p4,4,3,"button",3),Qt(6,g4,4,3,"button",3)),2&t&&(Ct("ngIf",e._can_share),Rt(3),ni(" ",_r(4,4,e.data.num_comments),"\n"),Rt(2),Ct("ngIf",e.data.ups>0),Rt(1),Ct("ngIf",e.data.downs>0))},dependencies:[ir,Wr,Zs,ao,Ru,ep,Ii,xo,xa,Vc,ra,hi],changeDetection:0});const D4=function(n){return["/u",n]};var UE=new WeakMap,Mw=new WeakSet;class qd{constructor(t,e){mr(this,Mw),cn(this,UE,{writable:!0,value:void 0}),this.controller=e,this.has_image_gallery=!1,this.part_of_multi=!1,Yt(this,UE,t)}set data(t){this.post=t.post,nr(this,Mw,M4).call(this,t.subreddit)}change_subreddit(t,e){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),et(this,UE).raise(new Ld(e))}}function M4(n){this.part_of_multi=this.post.subreddit.toLowerCase()!==n.toLowerCase();const t=this.post.is_crosspost?this.post.crosspost:this.post;this.has_image_gallery=t.has_image&&t.has_image_gallery}function S4(n,t){1&n&&nn(0,"post-body",0),2&n&&Ct("data",tn().post)}qd.\u0275fac=function(t){return new(t||qd)(ke(Ur),ke(oo))},qd.\u0275cmp=ht({type:qd,selectors:[["post-header"]],inputs:{data:"data"},standalone:!0,features:[er],decls:14,vars:13,consts:[[2,"padding",".5em"],[1,"title"],[1,"layout"],["style","max-width: 10em;","class","truncate-text",3,"href","click",4,"ngIf"],[1,"truncate-text",2,"max-width","5em",3,"routerLink"],[4,"ngIf"],["svgIcon","push_pin","style","transform: scale(.75);",4,"ngIf"],["svgIcon","photo_library","style","transform: scale(.75);",4,"ngIf"],["href","",4,"ngIf"],[1,"truncate-text",2,"max-width","10em",3,"href","click"],["svgIcon","favorite","style","transform: scale(.75);",3,"click",4,"ngIf"],["color","accent","svgIcon","favorite_filled","style","transform: scale(.75);",3,"click",4,"ngIf"],["svgIcon","favorite",2,"transform","scale(.75)",3,"click"],["color","accent","svgIcon","favorite_filled",2,"transform","scale(.75)",3,"click"],["svgIcon","push_pin",2,"transform","scale(.75)"],["svgIcon","photo_library",2,"transform","scale(.75)"],["href",""]],template:function(t,e){1&t&&(Nt(0,"section",0)(1,"div",1),kn(2),Ft(),Nt(3,"section",2),Qt(4,_4,2,2,"a",3),Nt(5,"a",4),kn(6),Ft(),Nt(7,"span"),kn(8),gr(9,"age"),Ft(),Qt(10,E4,3,2,"ng-container",5),Qt(11,b4,1,0,"mat-icon",6),Qt(12,T4,1,0,"mat-icon",7),Qt(13,C4,2,0,"a",8),Ft()()),2&t&&(Rt(2),Di(e.post.title),Rt(2),Ct("ngIf",e.part_of_multi),Rt(1),Ct("routerLink",Io(11,D4,e.post.author)),Rt(1),ni("u/",e.post.author,""),Rt(2),Di(_r(9,9,e.post.created_utc)),Rt(2),Ct("ngIf",e.part_of_multi),Rt(1),Ct("ngIf",!e.part_of_multi&&e.post.stickied),Rt(1),Ct("ngIf",e.has_image_gallery),Rt(1),Ct("ngIf",e.post.is_crosspost))},dependencies:[wu,ir,Wr,ao,Ii,xo,xa,Vc,ra,hi,Ia],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:.5em}.title[_ngcontent-%COMP%]{font-size:1.5em;line-height:125%;word-break:break-word}.truncate-text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"],changeDetection:0});const A4=function(n,t){return{post:n,subreddit:t}};class xu{constructor(){this.subreddit="",this.show_body=!0}set data(t){this.post=t.item,this.subreddit=t.subreddit,this.show_body=!t.item.stickied||!t.hide_stickied}}xu.\u0275fac=function(t){return new(t||xu)},xu.\u0275cmp=ht({type:xu,selectors:[["post"]],inputs:{data:"data"},standalone:!0,features:[er],decls:3,vars:6,consts:[[3,"data"],[3,"data",4,"ngIf"]],template:function(t,e){1&t&&(nn(0,"post-header",0),Qt(1,S4,1,1,"post-body",1),nn(2,"post-footer",0)),2&t&&(Ct("data",O_(3,A4,e.post,e.subreddit)),Rt(1),Ct("ngIf",e.show_body),Rt(1),Ct("data",e.post))},dependencies:[ir,Wr,ao,Ii,xa,ra,hi,qd,Qd,Zd],changeDetection:0});class Jd{}Jd.\u0275fac=function(t){return new(t||Jd)},Jd.\u0275cmp=ht({type:Jd,selectors:[["search-page-header"]],standalone:!0,features:[er],decls:10,vars:1,consts:[[1,"toolbar"],[2,"flex-grow","1"],["type","button","mat-icon-button","","aria-label","menu",3,"matMenuTriggerFor"],["svgIcon","more_vert"],[1,"icon-menu"],["srmenu","matMenu"],["svgIcon","home","routerLink","/"],["svgIcon","search","routerLink","/s"],["svgIcon","subscriptions","routerLink","/subscriptions"]],template:function(t,e){if(1&t&&(Nt(0,"div",0),kn(1," Search for Subreddit "),nn(2,"span",1),Nt(3,"button",2),nn(4,"mat-icon",3),Ft()(),Nt(5,"mat-menu",4,5),nn(7,"mat-icon",6)(8,"mat-icon",7)(9,"mat-icon",8),Ft()),2&t){const r=xr(6);Rt(3),Ct("matMenuTriggerFor",r)}},dependencies:[ao,ep,Ii,xo,xa,ME,SE,hi,Ia],changeDetection:0});var jE=new WeakMap;class ef{constructor(t){cn(this,jE,{writable:!0,value:void 0}),Yt(this,jE,t)}set data(t){this._data=t}change_subreddit(t,e){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),et(this,jE).raise(new Ld(e))}}ef.\u0275fac=function(t){return new(t||ef)(ke(Ur))},ef.\u0275cmp=ht({type:ef,selectors:[["search-result"]],inputs:{data:"data"},standalone:!0,features:[er],decls:13,vars:9,consts:[[3,"href","click"],[3,"data"],["mat-button","","disableRipple",""],["svgIcon","groups"],["svgIcon","person"]],template:function(t,e){1&t&&(Nt(0,"header")(1,"a",0),An("click",function(i){return e.change_subreddit(i,e._data.display_name)}),kn(2),Ft()(),nn(3,"text-block",1),Nt(4,"footer")(5,"button",2),nn(6,"mat-icon",3),kn(7),gr(8,"count"),Ft(),Nt(9,"button",2),nn(10,"mat-icon",4),kn(11),gr(12,"count"),Ft()()),2&t&&(Rt(1),Ct("href","/r"+e._data.display_name,wl),Rt(1),Di(e._data.display_name),Rt(1),Ct("data",e._data.public_description_html),Rt(4),ni(" ",_r(8,5,e._data.subscribers)," "),Rt(4),ni(" ",_r(12,7,e._data.accounts_active)," "))},dependencies:[ir,Zs,ao,Ru,Ii,xo,hi,Qs],changeDetection:0});let Sw=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(ke(ma),ke(Bn))},n.\u0275dir=zt({type:n}),n})(),el=(()=>{class n extends Sw{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qr(n)))(r||n)}}(),n.\u0275dir=zt({type:n,features:[Sn]}),n})();const ia=new Ut("NgValueAccessor"),I4={provide:ia,useExisting:Xe(()=>mp),multi:!0},P4=new Ut("CompositionEventMode");let mp=(()=>{class n extends Sw{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w4(){const n=ya()?ya().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(ma),ke(Bn),ke(P4,8))},n.\u0275dir=zt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&An("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Jn([I4]),Sn]}),n})();const O4=!1;function fs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Rw(n){return null!=n&&"number"==typeof n.length}const gi=new Ut("NgValidators"),hs=new Ut("NgAsyncValidators"),x4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class L4{static min(t){return function Iw(n){return t=>{if(fs(t.value)||fs(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function ww(n){return t=>{if(fs(t.value)||fs(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Pw(t)}static requiredTrue(t){return function Ow(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function xw(n){return fs(n.value)||x4.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Lw(n){return t=>fs(t.value)||!Rw(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return Nw(t)}static pattern(t){return function Fw(n){if(!n)return pp;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(fs(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return Hw(t)}static composeAsync(t){return Ww(t)}}function Pw(n){return fs(n.value)?{required:!0}:null}function Nw(n){return t=>Rw(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function pp(n){return null}function Bw(n){return null!=n}function kw(n){const t=_c(n)?kt(n):n;if(O4&&!v_(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new nt(-1101,e)}return t}function Uw(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function jw(n,t){return t.map(e=>e(n))}function Vw(n){return n.map(t=>function N4(n){return!n.validate}(t)?t:e=>t.validate(e))}function Hw(n){if(!n)return null;const t=n.filter(Bw);return 0==t.length?null:function(e){return Uw(jw(e,t))}}function VE(n){return null!=n?Hw(Vw(n)):null}function Ww(n){if(!n)return null;const t=n.filter(Bw);return 0==t.length?null:function(e){return QS(jw(e,t).map(kw)).pipe(pe(Uw))}}function HE(n){return null!=n?Ww(Vw(n)):null}function Kw(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Gw(n){return n._rawValidators}function zw(n){return n._rawAsyncValidators}function WE(n){return n?Array.isArray(n)?n:[n]:[]}function gp(n,t){return Array.isArray(n)?n.includes(t):n===t}function Yw(n,t){const e=WE(t);return WE(n).forEach(i=>{gp(e,i)||e.push(i)}),e}function $w(n,t){return WE(t).filter(e=>!gp(n,e))}class Xw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=VE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=HE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class wi extends Xw{get formDirective(){return null}get path(){return null}}class La extends Xw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qw{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zw=(()=>{class n extends Qw{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(La,2))},n.\u0275dir=zt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Er("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Sn]}),n})();function qw(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const zE=!1,tf="VALID",vp="INVALID",Lu="PENDING",nf="DISABLED";function YE(n){return(yp(n)?n.validators:n)||null}function $E(n,t){return(yp(t)?t.asyncValidators:n)||null}function yp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class tP{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===tf}get invalid(){return this.status===vp}get pending(){return this.status==Lu}get disabled(){return this.status===nf}get enabled(){return this.status!==nf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Yw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Yw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($w(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($w(t,this._rawAsyncValidators))}hasValidator(t){return gp(this._rawValidators,t)}hasAsyncValidator(t){return gp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Lu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=nf,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tf||this.status===Lu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nf:tf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Lu,this._hasOwnPendingAsyncValidator=!0;const e=kw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new rr,this.statusChanges=new rr}_calculateStatus(){return this._allControlsDisabled()?nf:this.errors?vp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lu)?Lu:this._anyControlsHaveStatus(vp)?vp:tf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function W4(n){return Array.isArray(n)?VE(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function K4(n){return Array.isArray(n)?HE(n):n||null}(this._rawAsyncValidators)}}class XE extends tP{constructor(t,e,r){super(YE(e),$E(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function eP(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new nt(1002,zE?function H4(n,t){return`Must supply a value for form control ${qw(n,t)}`}(t,i):"")})})(this,!0,t),Object.keys(t).forEach(r=>{(function Jw(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new nt(1e3,zE?function j4(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!r[e])throw new nt(1001,zE?function V4(n,t){return`Cannot find form control ${qw(n,t)}`}(t,e):"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Nu=new Ut("CallSetDisabledState",{providedIn:"root",factory:()=>Ep}),Ep="always";function rf(n,t,e=Ep){QE(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Y4(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nP(n,t)})}(n,t),function X4(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function $4(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nP(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function z4(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Tp(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Dp(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Cp(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function QE(n,t){const e=Gw(n);null!==t.validator?n.setValidators(Kw(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=zw(n);null!==t.asyncValidator?n.setAsyncValidators(Kw(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Cp(t._rawValidators,i),Cp(t._rawAsyncValidators,i)}function Dp(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=Gw(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.validator);o.length!==i.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const i=zw(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.asyncValidator);o.length!==i.length&&(e=!0,n.setAsyncValidators(o))}}}const r=()=>{};return Cp(t._rawValidators,r),Cp(t._rawAsyncValidators,r),e}function nP(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function rP(n,t){QE(n,t)}function iP(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const e8={provide:wi,useExisting:Xe(()=>Mp)},af=(()=>Promise.resolve())();let Mp=(()=>{class n extends wi{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new rr,this.form=new XE({},VE(e),HE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){af.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),rf(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){af.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){af.then(()=>{const r=this._findContainer(e.path),i=new XE({});rP(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){af.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){af.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,iP(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(ke(gi,10),ke(hs,10),ke(Nu,8))},n.\u0275dir=zt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&An("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jn([e8]),Sn]}),n})();function oP(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function aP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const sP=class extends tP{constructor(t=null,e,r){super(YE(e),$E(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=aP(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){aP(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},r8={provide:La,useExisting:Xe(()=>eb)},cP=(()=>Promise.resolve())();let eb=(()=>{class n extends La{constructor(e,r,i,o,l,c){super(),this._changeDetectorRef=l,this.callSetDisabledState=c,this.control=new sP,this._registered=!1,this.update=new rr,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function JE(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===mp?e=o:function q4(n){return Object.getPrototypeOf(n.constructor)===el}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function qE(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){cP.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&eu(r);cP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function bp(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(ke(wi,9),ke(gi,10),ke(hs,10),ke(ia,10),ke(Bi,8),ke(Nu,8))},n.\u0275dir=zt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jn([r8]),Sn,Gi]}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({}),n})();const c8={provide:wi,useExisting:Xe(()=>Sp)};let Sp=(()=>{class n extends wi{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return rf(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Tp(e.control||null,e,!1),function J4(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,iP(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Tp(r||null,e),(n=>n instanceof sP)(i)&&(rf(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);rP(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function Q4(n,t){return Dp(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){QE(this.form,this),this._oldForm&&Dp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(ke(gi,10),ke(hs,10),ke(Nu,8))},n.\u0275dir=zt({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&An("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jn([c8]),Sn,Gi]}),n})();let tl=(()=>{class n{constructor(){this._validator=pp}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=zt({type:n,features:[Gi]}),n})();const T8={provide:gi,useExisting:Xe(()=>Ap),multi:!0};let Ap=(()=>{class n extends tl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=eu,this.createValidator=e=>Pw}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qr(n)))(r||n)}}(),n.\u0275dir=zt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&cr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Jn([T8]),Sn]}),n})();const S8={provide:gi,useExisting:Xe(()=>ob),multi:!0};let ob=(()=>{class n extends tl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function bP(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>Nw(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Qr(n)))(r||n)}}(),n.\u0275dir=zt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&cr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Jn([S8]),Sn]}),n})(),R8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[fP]}),n})(),w8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Nu,useValue:e.callSetDisabledState??Ep}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[R8]}),n})();const P8=["matFormFieldNotchedOutline",""],O8=["*"],x8=["textField"],L8=["iconPrefixContainer"],N8=["textPrefixContainer"];function F8(n,t){1&n&&nn(0,"span",19)}function B8(n,t){if(1&n){const e=Lr();Nt(0,"label",17),An("cdkObserveContent",function(){return lr(e),ur(tn(2)._refreshOutlineNotchWidth())}),tr(1,1),Qt(2,F8,1,0,"span",18),Ft()}if(2&n){const e=tn(2);Ct("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),cr("for",e._control.id)("aria-owns",e._control.id),Rt(2),Ct("ngIf",!e.hideRequiredMarker&&e._control.required)}}function k8(n,t){1&n&&Qt(0,B8,3,6,"label",16),2&n&&Ct("ngIf",tn()._hasFloatingLabel())}function U8(n,t){1&n&&nn(0,"div",20)}function j8(n,t){}function V8(n,t){1&n&&Qt(0,j8,0,0,"ng-template",22),2&n&&(tn(2),Ct("ngTemplateOutlet",xr(1)))}function H8(n,t){if(1&n&&(Nt(0,"div",21),Qt(1,V8,1,1,"ng-template",9),Ft()),2&n){const e=tn();Ct("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),Rt(1),Ct("ngIf",!e._forceDisplayInfixLabel())}}function W8(n,t){1&n&&(Nt(0,"div",23,24),tr(2,2),Ft())}function K8(n,t){1&n&&(Nt(0,"div",25,26),tr(2,3),Ft())}function G8(n,t){}function z8(n,t){1&n&&Qt(0,G8,0,0,"ng-template",22),2&n&&(tn(),Ct("ngTemplateOutlet",xr(1)))}function Y8(n,t){1&n&&(Nt(0,"div",27),tr(1,4),Ft())}function $8(n,t){1&n&&(Nt(0,"div",28),tr(1,5),Ft())}function X8(n,t){1&n&&nn(0,"div",29)}function Q8(n,t){1&n&&(Nt(0,"div",30),tr(1,6),Ft()),2&n&&Ct("@transitionMessages",tn()._subscriptAnimationState)}function Z8(n,t){if(1&n&&(Nt(0,"mat-hint",34),kn(1),Ft()),2&n){const e=tn(2);Ct("id",e._hintLabelId),Rt(1),Di(e.hintLabel)}}function q8(n,t){if(1&n&&(Nt(0,"div",31),Qt(1,Z8,2,2,"mat-hint",32),tr(2,7),nn(3,"div",33),tr(4,8),Ft()),2&n){const e=tn();Ct("@transitionMessages",e._subscriptAnimationState),Rt(1),Ct("ngIf",e.hintLabel)}}const J8=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],eX=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let ab=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=zt({type:n,selectors:[["mat-label"]]}),n})(),tX=0;const IP=new Ut("MatError");let nX=(()=>{class n{constructor(e,r){this.id="mat-mdc-error-"+tX++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(El("aria-live"),ke(Bn))},n.\u0275dir=zt({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,r){2&e&&yc("id",r.id)},inputs:{id:"id"},features:[Jn([{provide:IP,useExisting:n}])]}),n})(),rX=0,sb=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+rX++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=zt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,r){2&e&&(yc("id",r.id),cr("align",null),Er("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const iX=new Ut("MatPrefix"),wP=new Ut("MatSuffix");let oX=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=zt({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Jn([{provide:wP,useExisting:n}])]}),n})(),PP=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function aX(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn))},n.\u0275dir=zt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,r){2&e&&Er("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const OP="mdc-line-ripple--active",Rp="mdc-line-ripple--deactivating";let xP=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const o=this._elementRef.nativeElement.classList,l=o.contains(Rp);"opacity"===i.propertyName&&l&&o.remove(OP,Rp)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(Rp),e.add(OP)}deactivate(){this._elementRef.nativeElement.classList.add(Rp)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(bn))},n.\u0275dir=zt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),LP=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(bn))},n.\u0275cmp=ht({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,r){2&e&&Er("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:P8,ngContentSelectors:O8,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,r){1&e&&(Zi(),nn(0,"div",0),Nt(1,"div",1),tr(2),Ft(),nn(3,"div",2)),2&e&&(Rt(1),$a("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const sX={transitionMessages:Zc("transitionMessages",[ks("enter",ji({opacity:1,transform:"translateY(0%)"})),ns("void => enter",[ji({opacity:0,transform:"translateY(-5px)"}),ts("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let NP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=zt({type:n}),n})();const FP=new Ut("MatFormField"),lX=new Ut("MAT_FORM_FIELD_DEFAULT_OPTIONS");let BP=0,dX=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=to(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,o,l,c,v,B){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=o,this._platform=l,this._defaults=c,this._animationMode=v,this._document=B,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+BP++,this._hintLabelId="mat-mdc-hint-"+BP++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new ne,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=Boolean(c?.hideRequiredMarker),c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(zr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Hn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zr(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(zr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Bi),ke(bn),ke(Fs),ke(Kr),ke(lX,8),ke(Qo,8),ke(Pn))},n.\u0275cmp=ht({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(Ji(i,ab,5),Ji(i,ab,7),Ji(i,NP,5),Ji(i,iX,5),Ji(i,wP,5),Ji(i,IP,5),Ji(i,sb,5)),2&e){let o;ar(o=sr())&&(r._labelChildNonStatic=o.first),ar(o=sr())&&(r._labelChildStatic=o.first),ar(o=sr())&&(r._formFieldControl=o.first),ar(o=sr())&&(r._prefixChildren=o),ar(o=sr())&&(r._suffixChildren=o),ar(o=sr())&&(r._errorChildren=o),ar(o=sr())&&(r._hintChildren=o)}},viewQuery:function(e,r){if(1&e&&(Si(x8,5),Si(L8,5),Si(N8,5),Si(PP,5),Si(LP,5),Si(xP,5)),2&e){let i;ar(i=sr())&&(r._textField=i.first),ar(i=sr())&&(r._iconPrefixContainer=i.first),ar(i=sr())&&(r._textPrefixContainer=i.first),ar(i=sr())&&(r._floatingLabel=i.first),ar(i=sr())&&(r._notchedOutline=i.first),ar(i=sr())&&(r._lineRipple=i.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,r){2&e&&Er("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Jn([{provide:FP,useExisting:n}])],ngContentSelectors:eX,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,r){1&e&&(Zi(J8),Qt(0,k8,1,1,"ng-template",null,0,j_),Nt(2,"div",1,2),An("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),Qt(4,U8,1,0,"div",3),Nt(5,"div",4),Qt(6,H8,2,3,"div",5),Qt(7,W8,3,0,"div",6),Qt(8,K8,3,0,"div",7),Nt(9,"div",8),Qt(10,z8,1,1,"ng-template",9),tr(11),Ft(),Qt(12,Y8,2,0,"div",10),Qt(13,$8,2,0,"div",11),Ft(),Qt(14,X8,1,0,"div",12),Ft(),Nt(15,"div",13),Qt(16,Q8,2,1,"div",14),Qt(17,q8,5,2,"div",15),Ft()),2&e&&(Rt(2),Er("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Rt(2),Ct("ngIf",!r._hasOutline()&&!r._control.disabled),Rt(2),Ct("ngIf",r._hasOutline()),Rt(1),Ct("ngIf",r._hasIconPrefix),Rt(1),Ct("ngIf",r._hasTextPrefix),Rt(2),Ct("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),Rt(2),Ct("ngIf",r._hasTextSuffix),Rt(1),Ct("ngIf",r._hasIconSuffix),Rt(1),Ct("ngIf",!r._hasOutline()),Rt(1),Er("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Ct("ngSwitch",r._getDisplayedMessages()),Rt(1),Ct("ngSwitchCase","error"),Rt(1),Ct("ngSwitchCase","hint"))},dependencies:[Wr,Ev,Uh,sS,gV,sb,PP,LP,xP],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[sX.transitionMessages]},changeDetection:0}),n})(),lb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[Yr,ir,SS,Yr]}),n})();const jP=Ls({passive:!0});let fX=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ze;const r=Ta(e),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new ne,l="cdk-text-field-autofilled",c=v=>{"cdk-text-field-autofill-start"!==v.animationName||r.classList.contains(l)?"cdk-text-field-autofill-end"===v.animationName&&r.classList.contains(l)&&(r.classList.remove(l),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!1}))):(r.classList.add(l),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",c,jP),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",c,jP)}}),o}stopMonitoring(e){const r=Ta(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(ot(Kr),ot(bn))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({}),n})();const mX=new Ut("MAT_INPUT_VALUE_ACCESSOR"),pX=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let gX=0;const _X=qV(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new ne}});let vX=(()=>{class n extends _X{get disabled(){return this._disabled}set disabled(e){this._disabled=to(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(L4.required)??!1}set required(e){this._required=to(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&vS().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=to(e)}constructor(e,r,i,o,l,c,v,B,X,fe){super(c,o,l,i),this._elementRef=e,this._platform=r,this._autofillMonitor=B,this._formField=fe,this._uid="mat-input-"+gX++,this.focused=!1,this.stateChanges=new ne,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Le=>vS().has(Le)),this._iOSKeyupListener=Le=>{const Ge=Le.target;!Ge.value&&0===Ge.selectionStart&&0===Ge.selectionEnd&&(Ge.setSelectionRange(1,1),Ge.setSelectionRange(0,0))};const Te=this._elementRef.nativeElement,Ie=Te.nodeName.toLowerCase();this._inputValueAccessor=v||Te,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&X.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Ie,this._isTextarea="textarea"===Ie,this._isInFormField=!!fe,this._isNativeSelect&&(this.controlType=Te.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){pX.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(ke(Bn),ke(Kr),ke(La,10),ke(Mp,8),ke(Sp,8),ke(KS),ke(mX,10),ke(fX),ke(bn),ke(FP,8))},n.\u0275dir=zt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,r){1&e&&An("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(yc("id",r.id)("disabled",r.disabled)("required",r.required),cr("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Er("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Jn([{provide:NP,useExisting:n}]),Sn,Gi]}),n})(),yX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[Yr,lb,lb,hX,Yr]}),n})();const EX=["tooltip"],VP=new Ut("mat-tooltip-scroll-strategy"),CX={provide:VP,deps:[Iu],useFactory:function TX(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},MX=new Ut("mat-tooltip-default-options",{providedIn:"root",factory:function DX(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),HP="tooltip-panel",WP=Ls({passive:!0});let PX=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=to(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=to(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ru(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ru(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,i,o,l,c,v,B,X,fe,Te,Ie){this._overlay=e,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=l,this._platform=c,this._ariaDescriber=v,this._focusMonitor=B,this._dir=fe,this._defaultOptions=Te,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ne,this._scrollStrategy=X,this._document=Ie,Te&&(Te.position&&(this.position=Te.position),Te.positionAtOrigin&&(this.positionAtOrigin=Te.positionAtOrigin),Te.touchGestures&&(this.touchGestures=Te.touchGestures)),fe.change.pipe(zr(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(zr(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{e.removeEventListener(r,i,WP)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay(r);this._detach(),this._portal=this._portal||new XI(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(zr(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Bn)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return i.positionChanges.pipe(zr(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${HP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(zr(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(zr(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(zr(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!wv(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...o.main}),this._addOffset({...i.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={originX:"end",originY:"center"});const{x:o,y:l}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(i={overlayX:"start",overlayY:"center"});const{x:o,y:l}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ui(1),zr(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:i,originY:o}=e;let l;if(l="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===o?"above":"below",l!==this._currentPosition){const c=this._overlayRef;if(c){const v=`${this._cssClassPrefix}-${HP}-`;c.removePanelClass(v+this._currentPosition),c.addPanelClass(v+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(r=e),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const r=e.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,i),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,WP)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,i=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===e||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){th()},n.\u0275dir=zt({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),OX=(()=>{class n extends PX{constructor(e,r,i,o,l,c,v,B,X,fe,Te,Ie){super(e,r,i,o,l,c,v,B,X,fe,Te,Ie),this._tooltipComponent=LX,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const i=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=i?-8:8:"end"===e.originX&&(e.offsetX=i?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(ke(Iu),ke(Bn),ke(Pd),ke(qi),ke(bn),ke(Kr),ke(OV),ke(Qh),ke(VP),ke(Fs,8),ke(MX,8),ke(Pn))},n.\u0275dir=zt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[Sn]}),n})(),xX=(()=>{class n{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ne,this._animationsDisabled="NoopAnimations"===r}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(e?o:i),r.classList.add(e?i:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(r);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(ke(Bi),ke(Qo,8))},n.\u0275dir=zt({type:n}),n})(),LX=(()=>{class n extends xX{constructor(e,r,i){super(e,i),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(ke(Bi),ke(Bn),ke(Qo,8))},n.\u0275cmp=ht({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&Si(EX,7),2&e){let i;ar(i=sr())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&An("mouseleave",function(o){return r._handleMouseLeave(o)}),2&e&&$a("zoom",r.isVisible()?1:null)},features:[Sn],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,r){1&e&&(Nt(0,"div",0,1),An("animationend",function(o){return r._handleAnimationEnd(o)}),Nt(2,"div",2),kn(3),Ft()()),2&e&&(Er("mdc-tooltip--multiline",r._isMultiline),Ct("ngClass",r.tooltipClass),Rt(3),Di(r.message))},dependencies:[tu],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),NX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({providers:[CX],imports:[GV,ir,dw,Yr,Yr,ip]}),n})();function FX(n,t){if(1&n&&(Nt(0,"mat-label"),kn(1),Ft()),2&n){const e=tn();Rt(1),Di(e.label)}}function BX(n,t){if(1&n){const e=Lr();Nt(0,"mat-icon",7),An("click",function(){return lr(e),ur(tn().onClear())}),Ft()}}function kX(n,t){if(1&n&&(Nt(0,"mat-hint",8),kn(1),Ft()),2&n){const e=tn(),r=xr(3);Rt(1),fh("",r.value.length," / ",e._maxlength," ")}}function UX(n,t){if(1&n&&(Nt(0,"mat-error"),kn(1),Ft()),2&n){const e=tn();Rt(1),Di(e.errMsg)}}const jX=function(n){return{readonly:n}};class sf{constructor(t,e){this.sanitizer=t,this.disabled=!1,this.hint="",this.label="",this.placeholder="",this.readonly=!1,this.required=!1,this.hideLabel=!1,this.hideClear=!1,this.hideLength=!1,this._model="",this._maxlength=256,this.inputName=e.getUniqueId().toString(),this.modelChange=new rr,this.errorStateMatcher=new KS,this.errorStateMatcher.isErrorState=()=>String.hasData(this.errMsg)}set model(t){this._model=t??""}set maxlength(t){!isNaN(t)&&t>0&&(this._maxlength=t)}set style(t){this._style=this.sanitizer.bypassSecurityTrustStyle(t)}onClear(){this._model="",this.onChange()}onChange(){String.isNullOrWhitespace(this._model)?this.modelChange.emit(""):this.modelChange.emit(this._model.trim())}}sf.\u0275fac=function(t){return new(t||sf)(ke(Da),ke(zs))},sf.\u0275cmp=ht({type:sf,selectors:[["input-text"]],inputs:{disabled:"disabled",errMsg:"errMsg",hint:"hint",label:"label",placeholder:"placeholder",readonly:"readonly",required:"required",hideLabel:"hideLabel",hideClear:"hideClear",hideLength:"hideLength",model:"model",maxlength:"maxlength",style:"style"},outputs:{modelChange:"modelChange"},standalone:!0,features:[er],decls:9,vars:18,consts:[[2,"width","100%",3,"appearance","ngClass"],[4,"ngIf"],["type","text","matInput","",3,"placeholder","readonly","disabled","required","ngModel","errorStateMatcher","ngModelChange","change","keydown.enter"],["inp",""],["matSuffix","","style","cursor: pointer; opacity: 0.54;","aria-label","Clear","matTooltip","clear","svgIcon","clear",3,"click",4,"ngIf"],["align","start"],["align","end",4,"ngIf"],["matSuffix","","aria-label","Clear","matTooltip","clear","svgIcon","clear",2,"cursor","pointer","opacity","0.54",3,"click"],["align","end"]],template:function(t,e){if(1&t){const r=Lr();Nt(0,"mat-form-field",0),Qt(1,FX,2,1,"mat-label",1),Nt(2,"input",2,3),An("ngModelChange",function(o){return e._model=o})("change",function(){return e.onChange()})("keydown.enter",function(){return lr(r),ur(xr(3).blur())}),Ft(),Qt(4,BX,1,0,"mat-icon",4),Nt(5,"mat-hint",5),kn(6),Ft(),Qt(7,kX,2,2,"mat-hint",6),Qt(8,UX,2,1,"mat-error",1),Ft()}2&t&&(Ct("appearance",e.readonly?"outline":"fill")("ngClass",Io(16,jX,e.readonly)),Rt(1),Ct("ngIf",!e.hideLabel),Rt(1),Ct("placeholder",e.placeholder)("readonly",e.readonly)("disabled",e.disabled)("required",e.required)("ngModel",e._model)("errorStateMatcher",e.errorStateMatcher),cr("name",e.inputName)("maxlength",e._maxlength)("style",e._style,nC),Rt(2),Ct("ngIf",!e.readonly&&!e.disabled&&!e.hideClear),Rt(2),Di(e.hint),Rt(1),Ct("ngIf",!e.readonly&&!e.disabled&&!e.hideLength&&e._maxlength),Rt(1),Ct("ngIf",!e.readonly&&!e.disabled))},dependencies:[ir,tu,Wr,w8,mp,Zw,Ap,ob,eb,lb,dX,ab,sb,nX,oX,Ii,xo,yX,vX,NX,OX],styles:["[_nghost-%COMP%]     .readonly .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .readonly .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{padding-bottom:.25em;padding-top:.25em}[_nghost-%COMP%]     .readonly .mat-form-field-underline{display:none}"]});const VX=function(n){return{top:n}};var ub=new WeakMap;class lf{constructor(t,e){cn(this,ub,{writable:!0,value:void 0}),this.controller=e,this.top="2em",Yt(this,ub,t)}ngOnInit(){const t=document.querySelector("search-page-header");null!=t&&(this.top=`${t.offsetHeight}px`)}onModelChange(t){et(this,ub).raise(new vw(t))}}lf.\u0275fac=function(t){return new(t||lf)(ke(Ur),ke(oo))},lf.\u0275cmp=ht({type:lf,selectors:[["search"]],standalone:!0,features:[er],decls:4,vars:6,consts:[[1,"mat-app-background",2,"position","sticky","z-index","10",3,"ngStyle"],[3,"model","modelChange"],["inp",""]],template:function(t,e){1&t&&(Nt(0,"form",0)(1,"input-text",1,2),An("modelChange",function(i){return e.onModelChange(i)}),gr(3,"async"),Ft()()),2&t&&(Ct("ngStyle",Io(4,VX,e.top)),Rt(1),Ct("model",_r(3,2,e.controller.subreddit_query$).request))},dependencies:[ir,Oc,xs,sf,ao,Ii,xa,ra,hi],changeDetection:0});class uf{}uf.\u0275fac=function(t){return new(t||uf)},uf.\u0275cmp=ht({type:uf,selectors:[["forbidden"]],decls:4,vars:0,consts:[["color","warn"]],template:function(t,e){1&t&&(Nt(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"span"),kn(3,"You are not authorized."),Ft()()())},dependencies:[IE,RE],encapsulation:2});class Fu{}Fu.\u0275fac=function(t){return new(t||Fu)},Fu.\u0275mod=Wn({type:Fu}),Fu.\u0275inj=Jt({imports:[ra,hi.forChild([{path:"forbidden",component:uf}])]});const HX=["*"],YX=new Ut("MAT_CARD_CONFIG");let KP=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(ke(YX,8))},n.\u0275cmp=ht({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,r){2&e&&Er("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:HX,decls:1,vars:0,template:function(e,r){1&e&&(Zi(),tr(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),GP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Jt({imports:[Yr,ir,Yr]}),n})();class cf{constructor(t){this.eventManagerService=t}ngOnInit(){this.eventManagerService.raise(us)}}cf.\u0275fac=function(t){return new(t||cf)(ke(Ur))},cf.\u0275cmp=ht({type:cf,selectors:[["server-error"]],standalone:!0,features:[er],decls:4,vars:0,consts:[["color","warn"],["appearance","outlined"]],template:function(t,e){1&t&&(Nt(0,"mat-toolbar",0),kn(1,"Error"),Ft(),Nt(2,"mat-card",1),kn(3,"We are currently experiencing technical difficulties. We apologize for the delay. Please try your request again later."),Ft())},dependencies:[GP,KP,ra,IE],encapsulation:2});class Bu{}function l5(n,t){1&n&&(Nt(0,"mat-toolbar-row")(1,"span"),kn(2,"You are not authorized."),Ft()())}function u5(n,t){1&n&&(Nt(0,"mat-toolbar-row")(1,"span"),kn(2,"Not found."),Ft()())}function c5(n,t){if(1&n&&(Nt(0,"mat-toolbar-row")(1,"span",4),kn(2),Ft()()),2&n){const e=t.$implicit;Rt(2),Di(e)}}function d5(n,t){if(1&n&&(Nt(0,"mat-toolbar",1),Qt(1,l5,3,0,"mat-toolbar-row",2),Qt(2,u5,3,0,"mat-toolbar-row",2),Qt(3,c5,3,1,"mat-toolbar-row",3),Ft()),2&n){const e=tn();Rt(1),Ct("ngIf",null==e._errors.general?null:e._errors.general.forbidden),Rt(1),Ct("ngIf",null==e._errors.general?null:e._errors.general.notFound),Rt(1),Ct("ngForOf",null==e._errors.general?null:e._errors.general.default)}}Bu.\u0275fac=function(t){return new(t||Bu)},Bu.\u0275mod=Wn({type:Bu}),Bu.\u0275inj=Jt({imports:[ir,hi.forChild([{path:"error",component:cf}]),GP,ra]});class nl{set errors(t){this._errors=t instanceof Error?ta.CreateErrorResult(`${t.message} `).errors:"string"!=typeof t&&"number"!=typeof t?t:ta.CreateErrorResult(`${t} `).errors}}nl.\u0275fac=function(t){return new(t||nl)},nl.\u0275cmp=ht({type:nl,selectors:[["general-error"]],inputs:{errors:"errors"},standalone:!0,features:[er],decls:1,vars:1,consts:[["class","generalError","color","warn",4,"ngIf"],["color","warn",1,"generalError"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"white-space","initial"]],template:function(t,e){1&t&&Qt(0,d5,4,3,"mat-toolbar",0),2&t&&Ct("ngIf",null==e._errors?null:e._errors.general)},dependencies:[ir,Qa,Wr,ra,IE,RE],styles:["[_nghost-%COMP%]{width:100%}"]});const f5=function(n){return{item:n,subreddit:"",hide_stickied:!1,show_comments:!1}};function h5(n,t){if(1&n&&nn(0,"post",6),2&n){const e=tn().ngIf;Ct("data",Io(1,f5,e.post))}}function m5(n,t){1&n&&nn(0,"post-comment",6),2&n&&Ct("data",t.$implicit)}function p5(n,t){if(1&n&&(Nt(0,"div",3),Qt(1,h5,1,3,"post",4),Qt(2,m5,1,1,"post-comment",5),Ft()),2&n){const e=t.ngIf,r=tn(2);Rt(1),Ct("ngIf",e.post),Rt(1),Ct("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function g5(n,t){if(1&n&&(Go(0),nn(1,"post-comment-list-header")(2,"general-error",1),gr(3,"async"),Qt(4,p5,3,3,"div",2),gr(5,"async"),zo()),2&n){const e=tn();Rt(2),Ct("errors",_r(3,2,e.controller.errors$)),Rt(2),Ct("ngIf",_r(5,4,e.controller.post_comments$))}}var Ip=new WeakMap,wp=new WeakMap,oa=new WeakMap,zP=new WeakSet,YP=new WeakSet,$P=new WeakSet,XP=new WeakSet;class ku{constructor(t,e,r,i){var o=this;mr(this,XP),mr(this,$P),mr(this,YP),mr(this,zP),cn(this,Ip,{writable:!0,value:void 0}),cn(this,wp,{writable:!0,value:void 0}),cn(this,oa,{writable:!0,value:void 0}),this.controller=t,Yt(this,oa,{a:"",i:"",so:"best"}),Yt(this,Ip,e),Yt(this,wp,i),this.vm$=Hn(e.handle(gw).pipe(Xn(l=>nr(this,zP,_5).call(this,l))),e.handle(Ld).pipe(Xn(l=>nr(this,YP,v5).call(this,l))),r.paramMap.pipe(Xn(function(){var l=Tr(function*(c){return yield nr(o,XP,E5).call(o,c)});return function(c){return l.apply(this,arguments)}}())))}trackByFn(t,e){return e.id}go_to_top(){window.scrollTo(0,0)}}function _5(n){et(this,oa).so=n.sort_requested,nr(this,$P,y5).call(this,!0)}function v5(n){et(this,wp).navigate(["r",n.subreddit_requested])}function y5(n=!1){let t=Object.trimUnusedProperties(et(this,oa));delete t.a,et(this,wp).navigate(["comments",et(this,oa).a,t],{replaceUrl:n})}function E5(n){return cb.apply(this,arguments)}function cb(){return(cb=Tr(function*(n){try{et(this,Ip).raise(vd),Yt(this,oa,{a:"",i:"",so:"best"}),cs.fromParamMap(et(this,oa),n),yield this.controller.actions.listCommentAsync(et(this,oa).a,et(this,oa).so,et(this,oa).i),setTimeout(()=>window.scrollTo(0,0),0)}finally{et(this,Ip).raise(us)}})).apply(this,arguments)}ku.\u0275fac=function(t){return new(t||ku)(ke(oo),ke(Ur),ke(Ra),ke($r))},ku.\u0275cmp=ht({type:ku,selectors:[["ng-component"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"data",4,"ngIf"],["class","mat-elevation-z5",3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"data"]],template:function(t,e){1&t&&(Qt(0,g5,6,6,"ng-container",0),gr(1,"async")),2&t&&Ct("ngIf",_r(1,1,e.vm$))},dependencies:[ir,Qa,Wr,xs,nl,ao,Ii,jd,Nd,xu],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});const b5=function(n,t){return{item:n,subreddit:t,hide_stickied:!0,show_comments:!0}};function T5(n,t){if(1&n&&nn(0,"post",9),2&n){const e=t.$implicit,r=tn().ngIf;Ct("id",e.id)("data",O_(2,b5,e,r.subreddit))}}function C5(n,t){if(1&n){const e=Lr();Nt(0,"div",3),Qt(1,T5,1,5,"post",4),Nt(2,"div",5)(3,"button",6),An("click",function(){const o=lr(e).ngIf;return ur(tn(2).next_page(o.after,o.modhash))}),kn(4,"Next"),Ft(),Nt(5,"button",7),An("click",function(){return lr(e),ur(tn(2).go_to_top())}),nn(6,"mat-icon",8),Ft()()()}if(2&n){const e=t.ngIf,r=tn(2);Rt(1),Ct("ngForOf",e.items)("ngForTrackBy",r.trackByFn)}}function D5(n,t){if(1&n&&(Go(0),nn(1,"post-list-header")(2,"general-error",1),gr(3,"async"),Qt(4,C5,7,2,"div",2),gr(5,"async"),zo()),2&n){const e=tn();Rt(2),Ct("errors",_r(3,2,e.controller.errors$)),Rt(2),Ct("ngIf",_r(5,4,e.controller.posts$))}}var Pp=new WeakMap,Op=new WeakMap,df=new WeakMap,Ar=new WeakMap,QP=new WeakSet,ZP=new WeakSet,qP=new WeakSet,JP=new WeakSet,ff=new WeakSet,eO=new WeakSet;class hf{constructor(t,e,r,i,o){var l=this;mr(this,eO),mr(this,ff),mr(this,JP),mr(this,qP),mr(this,ZP),mr(this,QP),cn(this,Pp,{writable:!0,value:void 0}),cn(this,Op,{writable:!0,value:void 0}),cn(this,df,{writable:!0,value:void 0}),cn(this,Ar,{writable:!0,value:void 0}),this.controller=t,Yt(this,Ar,{a:"",m:"",so:"hot",su:""}),this.id="",Yt(this,Pp,e),Yt(this,Op,i),Yt(this,df,o),this.vm$=Hn(e.handle(pw).pipe(Xn(c=>nr(this,QP,M5).call(this))),e.handle(_w).pipe(Xn(c=>nr(this,ZP,S5).call(this,c))),e.handle(Ld).pipe(Xn(c=>nr(this,qP,A5).call(this,c))),e.handle(yw).pipe(Xn(c=>nr(this,JP,R5).call(this,c))),r.paramMap.pipe(Xn(function(){var c=Tr(function*(v){return yield nr(l,eO,I5).call(l,v)});return function(v){return c.apply(this,arguments)}}())))}trackByFn(t,e){return`${e.id}${e.subreddit_subscribed}`}next_page(t,e){et(this,Ar).a=t,et(this,Ar).m=e,this.go_to_top(),setTimeout(()=>{et(this,df).save(),nr(this,ff,xp).call(this)},0)}go_to_top(){window.scrollTo(0,0)}}function M5(){et(this,Ar).a="",et(this,Ar).m="",et(this,Ar).so="hot",et(this,Ar).su="frontpage",nr(this,ff,xp).call(this)}function S5(n){et(this,Ar).a="",et(this,Ar).m="",et(this,Ar).so=n.sort_requested,nr(this,ff,xp).call(this)}function A5(n){et(this,Ar).a="",et(this,Ar).m="",et(this,Ar).su=n.subreddit_requested,nr(this,ff,xp).call(this)}function R5(n){this.id=n.article,et(this,df).save("post",n.article),et(this,Op).navigate(["comments",n.article])}function xp(){let n=Object.trimUnusedProperties(et(this,Ar));delete n.su,et(this,Op).navigate(["r",et(this,Ar).su,n])}function I5(n){return db.apply(this,arguments)}function db(){return(db=Tr(function*(n){et(this,Pp).raise(vd),Yt(this,Ar,{a:"",m:"",so:"hot",su:""}),cs.fromParamMap(et(this,Ar),n),yield this.controller.actions.listPostAsync(et(this,Ar).a,et(this,Ar).m,et(this,Ar).so,et(this,Ar).su),et(this,df).restore(),et(this,Pp).raise(us)})).apply(this,arguments)}function w5(n,t){if(1&n&&nn(0,"search-result",5),2&n){const e=t.$implicit;Ct("id",e.display_name)("data",e)}}function P5(n,t){if(1&n&&(Nt(0,"div",3),Qt(1,w5,1,2,"search-result",4),Ft()),2&n){const e=t.ngIf,r=tn(2);Rt(1),Ct("ngForOf",e.result)("ngForTrackBy",r.trackByFn)}}function O5(n,t){if(1&n&&(Go(0),nn(1,"search-page-header")(2,"general-error",1),gr(3,"async"),nn(4,"search"),Qt(5,P5,2,2,"div",2),gr(6,"async"),zo()),2&n){const e=tn();Rt(2),Ct("errors",_r(3,2,e.controller.errors$)),Rt(3),Ct("ngIf",_r(6,4,e.controller.subreddit_query$))}}hf.\u0275fac=function(t){return new(t||hf)(ke(oo),ke(Ur),ke(Ra),ke($r),ke(Oa))},hf.\u0275cmp=ht({type:hf,selectors:[["ng-component"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"layout-row"],["mat-raised-button","",2,"flex","1 1 100%",3,"click"],["mat-raised-button","",3,"click"],["svgIcon","arrow_upward"],[1,"mat-elevation-z5",3,"id","data"]],template:function(t,e){1&t&&(Qt(0,D5,6,6,"ng-container",0),gr(1,"async")),2&t&&Ct("ngIf",_r(1,1,e.vm$))},dependencies:[ir,Qa,Wr,xs,nl,Vd,ao,Ru,Ii,xo,xu],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}.layout-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:1em}"],changeDetection:0});var Lp=new WeakMap,Np=new WeakMap,Fp=new WeakMap,tO=new WeakSet,nO=new WeakSet,rO=new WeakSet,iO=new WeakSet;class mf{constructor(t,e,r,i,o){var l=this;mr(this,iO),mr(this,rO),mr(this,nO),mr(this,tO),cn(this,Lp,{writable:!0,value:void 0}),cn(this,Np,{writable:!0,value:void 0}),cn(this,Fp,{writable:!0,value:void 0}),this.controller=r,this.state={q:""},Yt(this,Lp,e),Yt(this,Np,i),Yt(this,Fp,o),this.vm$=Hn(e.handle(vw).pipe(Xn(c=>nr(this,tO,x5).call(this,c.search))),e.handle(Ld).pipe(Xn(c=>nr(this,nO,L5).call(this,c))),t.paramMap.pipe(Xn(function(){var c=Tr(function*(v){return yield nr(l,iO,F5).call(l,v)});return function(v){return c.apply(this,arguments)}}())))}trackByFn(t,e){return e.display_name}}function x5(n){const t=String.isNullOrWhitespace(this.state.q);this.state.q=n,nr(this,rO,N5).call(this,t)}function L5(n){et(this,Fp).save("search-result",n.subreddit_requested),et(this,Np).navigate(["r",n.subreddit_requested])}function N5(n){let t=Object.trimUnusedProperties(this.state);et(this,Np).navigate(["s",t],{replaceUrl:n})}function F5(n){return fb.apply(this,arguments)}function fb(){return(fb=Tr(function*(n){String.hasData(this.state.q)&&et(this,Lp).raise(vd),cs.fromParamMap(this.state,n),yield this.controller.actions.searchAsync(this.state.q),String.hasData(this.state.q)&&(et(this,Fp).restore(),et(this,Lp).raise(us))})).apply(this,arguments)}mf.\u0275fac=function(t){return new(t||mf)(ke(Ra),ke(Ur),ke(oo),ke($r),ke(Oa))},mf.\u0275cmp=ht({type:mf,selectors:[["ng-component"]],standalone:!0,features:[er],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors"],["class","layout",4,"ngIf"],[1,"layout"],["class","mat-elevation-z5",3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mat-elevation-z5",3,"id","data"]],template:function(t,e){1&t&&(Qt(0,O5,7,6,"ng-container",0),gr(1,"async")),2&t&&Ct("ngIf",_r(1,1,e.vm$))},dependencies:[ir,Qa,Wr,xs,nl,ao,Jd,lf,ef],styles:[".layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em}"],changeDetection:0});const B5=[{path:"",pathMatch:"full",redirectTo:"r/frontpage"},{path:"r/:su",component:hf},{path:"r/:su/comments/:a/:d/:i/?context=1",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i/?context=3",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a/:d/:i",redirectTo:"comments/:a/:i"},{path:"r/:su/comments/:a",redirectTo:"comments/:a"},{path:"comments/:a/:i",component:ku},{path:"comments/:a",component:ku},{path:"s",component:mf}];(function z2(n,t){return wk({rootComponent:n,...bA(t)})})(Id,{providers:[{provide:Rc,useFactory:function k5(n,t){return()=>n.addSvgIcon("arrow_downward",t.bypassSecurityTrustResourceUrl("assets/arrow_downward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("arrow_upward",t.bypassSecurityTrustResourceUrl("assets/arrow_upward_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("clear",t.bypassSecurityTrustResourceUrl("assets/cancel_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("comment",t.bypassSecurityTrustResourceUrl("assets/comment_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("edit",t.bypassSecurityTrustResourceUrl("assets/edit_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("expand_more",t.bypassSecurityTrustResourceUrl("assets/expand_more_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite_filled",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL1_wght400_GRAD0_opsz24.svg")).addSvgIcon("favorite",t.bypassSecurityTrustResourceUrl("assets/favorite_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("fullscreen",t.bypassSecurityTrustResourceUrl("assets/fullscreen_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("go_back",t.bypassSecurityTrustResourceUrl("assets/arrow_back_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("groups",t.bypassSecurityTrustResourceUrl("assets/groups_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("home",t.bypassSecurityTrustResourceUrl("assets/home_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_horiz",t.bypassSecurityTrustResourceUrl("assets/more_horiz_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("more_vert",t.bypassSecurityTrustResourceUrl("assets/more_vert_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("pause",t.bypassSecurityTrustResourceUrl("assets/pause_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("person",t.bypassSecurityTrustResourceUrl("assets/person_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("photo_library",t.bypassSecurityTrustResourceUrl("assets/photo_library_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("play_arrow",t.bypassSecurityTrustResourceUrl("assets/play_arrow_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("push_pin",t.bypassSecurityTrustResourceUrl("assets/push_pin_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("search",t.bypassSecurityTrustResourceUrl("assets/search_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("share",t.bypassSecurityTrustResourceUrl("assets/share_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("sort",t.bypassSecurityTrustResourceUrl("assets/sort_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("stop",t.bypassSecurityTrustResourceUrl("assets/stop_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("subscriptions",t.bypassSecurityTrustResourceUrl("assets/subscriptions_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_mute",t.bypassSecurityTrustResourceUrl("assets/volume_mute_FILL0_wght400_GRAD0_opsz24.svg")).addSvgIcon("volume_off",t.bypassSecurityTrustResourceUrl("assets/volume_off_FILL0_wght400_GRAD0_opsz24.svg"))},multi:!0,deps:[Qc,Da]},{provide:DH,useValue:{duration:3e3}},function MK(){return[...CK]}(),function Bz(n,...t){return lC([{provide:gu,multi:!0,useValue:n},_u?{provide:Xy,useValue:!0}:[],{provide:Ra,useFactory:bI,deps:[$r]},{provide:Y_,multi:!0,useFactory:TI},t.map(e=>e.\u0275providers)])}(B5),uC(wa.forRoot({corsConfig:{use:!1,url:""},storageConfig:{keyPrefix:"RedditReader"}}),Fu,Bu)]}).catch(n=>console.error(n))},377:ka=>{self,ka.exports=(()=>{var Ua={"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/(Me,K)=>{var C,T,p,A,M,u_encode=function(C){for(var T=[],p=0;p<C.length;++p){var A=C.charCodeAt(p);A<128?T.push(A):A<2048?(T.push(192|A>>6),T.push(128|63&A)):A<65536?(T.push(224|A>>12),T.push(128|63&A>>6),T.push(128|63&A)):(T.push(240|A>>18),T.push(128|63&A>>12),T.push(128|63&A>>6),T.push(128|63&A))}return T},u_decode=function(C){for(var T=[],p=0;p<C.length;){var A=C[p++];A<128||(A<224?(A=(31&A)<<6,A|=63&C[p++]):A<240?(A=(15&A)<<12,A|=(63&C[p++])<<6,A|=63&C[p++]):(A=(7&A)<<18,A|=(63&C[p++])<<12,A|=(63&C[p++])<<6,A|=63&C[p++])),T.push(String.fromCharCode(A))}return T.join("")},V={};C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=function(S){for(var F=0,w=[],j=0|S.length/3;0<j--;){var x=(S[F]<<16)+(S[F+1]<<8)+S[F+2];F+=3,w.push(C.charAt(63&x>>18)),w.push(C.charAt(63&x>>12)),w.push(C.charAt(63&x>>6)),w.push(C.charAt(63&x))}return S.length-F==2?(w.push(C.charAt(63&(x=(S[F]<<16)+(S[F+1]<<8))>>18)),w.push(C.charAt(63&x>>12)),w.push(C.charAt(63&x>>6)),w.push("=")):S.length-F==1&&(w.push(C.charAt(63&(x=S[F]<<16)>>18)),w.push(C.charAt(63&x>>12)),w.push("==")),w.join("")},p=function(){for(var f=[],S=0;S<C.length;++S)f[C.charCodeAt(S)]=S;return f["=".charCodeAt(0)]=0,f}(),A=function(S){for(var F=0,w=[],j=0|S.length/4;0<j--;){var x=(p[S.charCodeAt(F)]<<18)+(p[S.charCodeAt(F+1)]<<12)+(p[S.charCodeAt(F+2)]<<6)+p[S.charCodeAt(F+3)];w.push(255&x>>16),w.push(255&x>>8),w.push(255&x),F+=4}return w&&("="==S.charAt(F-2)?(w.pop(),w.pop()):"="==S.charAt(F-1)&&w.pop()),w},M={encode:function(f){for(var S=[],F=0;F<f.length;++F)S.push(f.charCodeAt(F));return S},decode:function(f){for(var S=0;S<s.length;++S)a[S]=String.fromCharCode(a[S]);return a.join("")}},V.decodeArray=function(f){var S=A(f);return new Uint8Array(S)},V.encodeASCII=function(f){var S=M.encode(f);return T(S)},V.decodeASCII=function(f){var S=A(f);return M.decode(S)},V.encode=function(f){var S=u_encode(f);return T(S)},V.decode=function(f){var S=A(f);return u_decode(S)},K.decode=V.decode,K.decodeArray=V.decodeArray,K.encode=V.encode,K.encodeASCII=V.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/(Me,K)=>{!function(u){"use strict";var V={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},C=function(h){var R=h;return V.hasOwnProperty(h)&&(R=V[h]),String.fromCharCode(R)},T=15,p=32,A={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},M={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},S={25:2,26:4,29:6,30:8,31:10,27:13,28:15},F=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],w={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(h){this.time=h},log:function(h,R){this.verboseLevel>=this.verboseFilter[h]&&console.log(this.time+" ["+h+"] "+R)}},j=function(h){for(var R=[],I=0;I<h.length;I++)R.push(h[I].toString(16));return R},x=function(h,R,I,W,z){this.foreground=h||"white",this.underline=R||!1,this.italics=I||!1,this.background=W||"black",this.flash=z||!1};x.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(h){for(var R=["foreground","underline","italics","background","flash"],I=0;I<R.length;I++){var W=R[I];h.hasOwnProperty(W)&&(this[W]=h[W])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(h){return this.foreground===h.foreground&&this.underline===h.underline&&this.italics===h.italics&&this.background===h.background&&this.flash===h.flash},copy:function(h){this.foreground=h.foreground,this.underline=h.underline,this.italics=h.italics,this.background=h.background,this.flash=h.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var y=function(h,R,I,W,z,re){this.uchar=h||" ",this.penState=new x(R,I,W,z,re)};y.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(h,R){this.uchar=h,this.penState.copy(R)},setPenState:function(h){this.penState.copy(h)},equals:function(h){return this.uchar===h.uchar&&this.penState.equals(h.penState)},copy:function(h){this.uchar=h.uchar,this.penState.copy(h.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var m=function(){this.chars=[];for(var h=0;h<p;h++)this.chars.push(new y);this.pos=0,this.currPenState=new x};m.prototype={equals:function(h){for(var R=!0,I=0;I<p;I++)if(!this.chars[I].equals(h.chars[I])){R=!1;break}return R},copy:function(h){for(var R=0;R<p;R++)this.chars[R].copy(h.chars[R])},isEmpty:function(){for(var h=!0,R=0;R<p;R++)if(!this.chars[R].isEmpty()){h=!1;break}return h},setCursor:function(h){this.pos!==h&&(this.pos=h),this.pos<0?(w.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>p&&(w.log("ERROR","Too large cursor position "+this.pos),this.pos=p)},moveCursor:function(h){var R=this.pos+h;if(h>1)for(var I=this.pos+1;I<R+1;I++)this.chars[I].setPenState(this.currPenState);this.setCursor(R)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(h){h>=144&&this.backSpace();var R=C(h);this.pos>=p?w.log("ERROR","Cannot insert "+h.toString(16)+" ("+R+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(R,this.currPenState),this.moveCursor(1))},clearFromPos:function(h){var R;for(R=h;R<p;R++)this.chars[R].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var h=[],R=!0,I=0;I<p;I++){var W=this.chars[I].uchar;" "!==W&&(R=!1),h.push(W)}return R?"":h.join("")},setPenStyles:function(h){this.currPenState.setStyles(h),this.chars[this.pos].setPenState(this.currPenState)}};var d=function(){this.rows=[];for(var h=0;h<T;h++)this.rows.push(new m);this.currRow=14,this.nrRollUpRows=null,this.reset()};d.prototype={reset:function(){for(var h=0;h<T;h++)this.rows[h].clear();this.currRow=14},equals:function(h){for(var R=!0,I=0;I<T;I++)if(!this.rows[I].equals(h.rows[I])){R=!1;break}return R},copy:function(h){for(var R=0;R<T;R++)this.rows[R].copy(h.rows[R])},isEmpty:function(){for(var h=!0,R=0;R<T;R++)if(!this.rows[R].isEmpty()){h=!1;break}return h},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(h){this.rows[this.currRow].insertChar(h)},setPen:function(h){this.rows[this.currRow].setPenStyles(h)},moveCursor:function(h){this.rows[this.currRow].moveCursor(h)},setCursor:function(h){w.log("INFO","setCursor: "+h),this.rows[this.currRow].setCursor(h)},setPAC:function(h){w.log("INFO","pacData = "+JSON.stringify(h));var R=h.row-1;this.nrRollUpRows&&R<this.nrRollUpRows-1&&(R=this.nrRollUpRows-1),this.currRow=R;var I=this.rows[this.currRow];if(null!==h.indent){var z=Math.max(h.indent-1,0);I.setCursor(h.indent),h.color=I.chars[z].penState.foreground}this.setPen({foreground:h.color,underline:h.underline,italics:h.italics,background:"black",flash:!1})},setBkgData:function(h){w.log("INFO","bkgData = "+JSON.stringify(h)),this.backSpace(),this.setPen(h),this.insertChar(32)},setRollUpRows:function(h){this.nrRollUpRows=h},rollUp:function(){if(null!==this.nrRollUpRows){w.log("TEXT",this.getDisplayText());var R=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];R.clear(),this.rows.splice(this.currRow,0,R),w.log("INFO","Rolling up")}else w.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(h){h=h||!1;for(var R=[],I="",z=0;z<T;z++){var re=this.rows[z].getTextString();re&&R.push(h?"Row "+(z+1)+': "'+re+'"':re.trim())}return R.length>0&&(I=h?"["+R.join(" | ")+"]":R.join("\n")),I},getTextAndFormat:function(){return this.rows}};var D=function(h,R){this.chNr=h,this.outputFilter=R,this.mode=null,this.verbose=0,this.displayedMemory=new d,this.nonDisplayedMemory=new d,this.lastOutputScreen=new d,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};D.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(h){this.outputFilter=h},setPAC:function(h){this.writeScreen.setPAC(h)},setBkgData:function(h){this.writeScreen.setBkgData(h)},setMode:function(h){h!==this.mode&&(this.mode=h,w.log("INFO","MODE="+h),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=h)},insertChars:function(h){for(var R=0;R<h.length;R++)this.writeScreen.insertChar(h[R]);w.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(w.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){w.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){w.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){w.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(h){w.log("INFO","RU("+h+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(h)},cc_FON:function(){w.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){w.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){w.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){w.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){w.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){w.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){w.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(w.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var h=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=h,this.writeScreen=this.nonDisplayedMemory,w.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(h){w.log("INFO","TO("+h+") - Tab Offset"),this.writeScreen.moveCursor(h)},cc_MIDROW:function(h){var R={flash:!1};if(R.underline=h%2==1,R.italics=h>=46,R.italics)R.foreground="white";else{var I=Math.floor(h/2)-16;R.foreground=["white","green","blue","cyan","red","yellow","magenta"][I]}w.log("INFO","MIDROW: "+JSON.stringify(R)),this.writeScreen.setPen(R)},outputDataUpdate:function(){var h=w.time;null!==h&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(h,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,h,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:h):this.cueStartTime=h,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(h){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,h,this.displayedMemory),this.cueStartTime=h))}};var _=function(h,R,I){this.field=h||1,this.outputs=[R,I],this.channels=[new D(1,R),new D(2,I)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};_.prototype={getHandler:function(h){return this.channels[h].getHandler()},setHandler:function(h,R){this.channels[h].setHandler(R)},addData:function(h,R){var I,W,z,re=!1;this.lastTime=h,w.setTime(h);for(var ie=0;ie<R.length;ie+=2)z=127&R[ie+1],(W=127&R[ie])>=16&&W<=31&&W===this.lastCmdA&&z===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,w.log("DEBUG","Repeated command ("+j([W,z])+") is dropped")):0!==W||0!==z?(w.log("DATA","["+j([R[ie],R[ie+1]])+"] -> ("+j([W,z])+")"),(I=this.parseCmd(W,z))||(I=this.parseMidrow(W,z)),I||(I=this.parsePAC(W,z)),I||(I=this.parseBackgroundAttributes(W,z)),!I&&(re=this.parseChars(W,z))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(re):w.log("WARNING","No channel found yet. TEXT-MODE?")),I?this.dataCounters.cmd+=2:re?this.dataCounters.char+=2:(this.dataCounters.other+=2,w.log("WARNING","Couldn't parse cleaned data "+j([W,z])+" orig: "+j([R[ie],R[ie+1]])))):this.dataCounters.padding+=2},parseCmd:function(h,R){var I;if(!((20===h||21===h||28===h||29===h)&&32<=R&&R<=47||(23===h||31===h)&&33<=R&&R<=35))return!1;var re=this.channels[(I=20===h||21===h||23===h?1:2)-1];return 20===h||21===h||28===h||29===h?32===R?re.cc_RCL():33===R?re.cc_BS():34===R?re.cc_AOF():35===R?re.cc_AON():36===R?re.cc_DER():37===R?re.cc_RU(2):38===R?re.cc_RU(3):39===R?re.cc_RU(4):40===R?re.cc_FON():41===R?re.cc_RDC():42===R?re.cc_TR():43===R?re.cc_RTD():44===R?re.cc_EDM():45===R?re.cc_CR():46===R?re.cc_ENM():47===R&&re.cc_EOC():re.cc_TO(R-32),this.lastCmdA=h,this.lastCmdB=R,this.currChNr=I,!0},parseMidrow:function(h,R){var I=null;if((17===h||25===h)&&32<=R&&R<=47){if((I=17===h?1:2)!==this.currChNr)return w.log("ERROR","Mismatch channel in midrow parsing"),!1;var W=this.channels[I-1];return W.insertChars([32]),W.cc_MIDROW(R),w.log("DEBUG","MIDROW ("+j([h,R])+")"),this.lastCmdA=h,this.lastCmdB=R,!0}return!1},parsePAC:function(h,R){var I;if(!((17<=h&&h<=23||25<=h&&h<=31)&&64<=R&&R<=127||(16===h||24===h)&&64<=R&&R<=95))return!1;I=h<=23?1:2;var ie=this.interpretPAC(64<=R&&R<=95?1===I?A[h]:f[h]:1===I?M[h]:S[h],R);return this.channels[I-1].setPAC(ie),this.lastCmdA=h,this.lastCmdB=R,this.currChNr=I,!0},interpretPAC:function(h,R){var I,W={color:null,italics:!1,indent:null,underline:!1,row:h};return W.underline=1==(1&(I=R>95?R-96:R-64)),I<=13?W.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(I/2)]:I<=15?(W.italics=!0,W.color="white"):W.indent=4*Math.floor((I-16)/2),W},parseChars:function(h,R){var ie,I=null,W=null,z=null;(h>=25?(I=2,z=h-8):(I=1,z=h),17<=z&&z<=19)?(w.log("INFO","Special char '"+C(ie=17===z?R+80:18===z?R+112:R+144)+"' in channel "+I),W=[ie],this.lastCmdA=h,this.lastCmdB=R):32<=h&&h<=127&&(W=0===R?[h]:[h,R],this.lastCmdA=null,this.lastCmdB=null);if(W){var ue=j(W);w.log("DEBUG","Char codes =  "+ue.join(","))}return W},parseBackgroundAttributes:function(h,R){var I,W;return!!((16===h||24===h)&&32<=R&&R<=47||(23===h||31===h)&&45<=R&&R<=47)&&(I={},16===h||24===h?(W=Math.floor((R-32)/2),I.background=F[W],R%2==1&&(I.background=I.background+"_semi")):45===R?I.background="transparent":(I.foreground="black",47===R&&(I.underline=!0)),this.channels[(h<24?1:2)-1].setBkgData(I),this.lastCmdA=h,this.lastCmdB=R,!0)},reset:function(){for(var h=0;h<this.channels.length;h++)this.channels[h]&&this.channels[h].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(h){for(var R=0;R<this.channels.length;R++)this.channels[R]&&this.channels[R].cueSplitAtTime(h)}},u.logger=w,u.PenState=x,u.CaptionScreen=d,u.Cea608Parser=_,u.findCea608Nalus=function(h,R,I){for(var W=0,z=R,ie=[],ue=function(le,se,ge,$){if(4!==le||se<8)return null;var he=ge.getUint8($),pe=ge.getUint16($+1),De=ge.getUint32($+3),Ee=ge.getUint8($+7);return 181==he&&49==pe&&1195456820==De&&3==Ee};z<R+I;){if(W=h.getUint32(z),6==(31&h.getUint8(z+4)))for(var Y=z+5,te=-1;Y<z+4+W-1;){te=0;for(var Z=255;255===Z;)te+=Z=h.getUint8(Y),Y++;var ae=0;for(Z=255;255===Z;)ae+=Z=h.getUint8(Y),Y++;ue(te,ae,h,Y)&&ie.push([Y,ae]),Y+=ae}z+=W+4}return ie},u.extractCea608DataFromRange=function(h,R){var I=R[0],W=[[],[]],z=31&h.getUint8(I+=8);I+=2;for(var re=0;re<z;re++){var ie=h.getUint8(I),ue=4&ie,Y=3&ie;I++;var te=h.getUint8(I);I++;var Z=h.getUint8(I);I++,ue&&(127&te)+(127&Z)!=0&&(0===Y?(W[0].push(te),W[0].push(Z)):1===Y&&(W[1].push(te),W[1].push(Z)))}return W}}(K)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>C});const C=function V(T){T=T||{},function A(){void 0===T.escapeMode&&(T.escapeMode=!0),void 0===T.attributePrefix&&(T.attributePrefix="_"),T.arrayAccessForm=T.arrayAccessForm||"none",T.emptyNodeForm=T.emptyNodeForm||"text",void 0===T.enableToStringFunc&&(T.enableToStringFunc=!0),T.arrayAccessFormPaths=T.arrayAccessFormPaths||[],void 0===T.skipEmptyTextNodesForObj&&(T.skipEmptyTextNodesForObj=!0),void 0===T.stripWhitespaces&&(T.stripWhitespaces=!0),T.datetimeAccessFormPaths=T.datetimeAccessFormPaths||[],void 0===T.useDoubleQuotes&&(T.useDoubleQuotes=!1),T.xmlElementsFilter=T.xmlElementsFilter||[],T.jsonPropertiesFilter=T.jsonPropertiesFilter||[],void 0===T.keepCData&&(T.keepCData=!1),void 0===T.ignoreRoot&&(T.ignoreRoot=!1)}();var M={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function S(te){var Z=te.localName;return null==Z&&(Z=te.baseName),(null==Z||""==Z)&&(Z=te.nodeName),Z}function w(te){return"string"==typeof te?te.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):te}function x(te,Z,ae,ne){for(var le=0;le<te.length;le++){var se=te[le];if("string"==typeof se){if(se==ne)break}else if(se instanceof RegExp){if(se.test(ne))break}else if("function"==typeof se&&se(Z,ae,ne))break}return le!=te.length}function y(te,Z,ae){"property"===T.arrayAccessForm&&(te[Z+"_asArray"]=te[Z]instanceof Array?te[Z]:[te[Z]]),!(te[Z]instanceof Array)&&T.arrayAccessFormPaths.length>0&&x(T.arrayAccessFormPaths,te,Z,ae)&&(te[Z]=[te[Z]])}function m(te){var Z=te.split(/[-T:+Z]/g),ae=new Date(Z[0],Z[1]-1,Z[2]),ne=Z[5].split(".");if(ae.setHours(Z[3],Z[4],ne[0]),ne.length>1&&ae.setMilliseconds(ne[1]),Z[6]&&Z[7]){var le=60*Z[6]+Number(Z[7]);le=0+("-"==(/\d\d-\d\d:\d\d$/.test(te)?"-":"+")?-1*le:le),ae.setMinutes(ae.getMinutes()-le-ae.getTimezoneOffset())}else-1!==te.indexOf("Z",te.length-1)&&(ae=new Date(Date.UTC(ae.getFullYear(),ae.getMonth(),ae.getDate(),ae.getHours(),ae.getMinutes(),ae.getSeconds(),ae.getMilliseconds())));return ae}function D(te,Z,ae,ne){return!(Z==M.ELEMENT_NODE&&T.xmlElementsFilter.length>0)||x(T.xmlElementsFilter,te,ae,ne)}function _(te,Z){if(te.nodeType==M.DOCUMENT_NODE){for(var ae=new Object,ne=te.childNodes,le=0;le<ne.length;le++)(se=ne[le]).nodeType==M.ELEMENT_NODE&&(T.ignoreRoot?ae=_(se):(ae={})[ge=S(se)]=_(se));return ae}if(te.nodeType==M.ELEMENT_NODE){(ae=new Object).__cnt=0;var $=[];for(ne=te.childNodes,le=0;le<ne.length;le++){var se,ge=S(se=ne[le]);if(se.nodeType!=M.COMMENT_NODE){var he=Z+"."+ge;if(D(ae,se.nodeType,ge,he))if(ae.__cnt++,null==ae[ge]){var pe=_(se,he);("#text"!=ge||/[^\s]/.test(pe))&&((De={})[ge]=pe,$.push(De)),ae[ge]=pe,y(ae,ge,he)}else{var De;null!=ae[ge]&&(ae[ge]instanceof Array||(ae[ge]=[ae[ge]],y(ae,ge,he))),pe=_(se,he),("#text"!=ge||/[^\s]/.test(pe))&&((De={})[ge]=pe,$.push(De)),ae[ge][ae[ge].length]=pe}}}ae.__children=$;for(var Ee=S(te),me=0;me<te.attributes.length;me++){var _e=te.attributes[me];ae.__cnt++;for(var ee=_e.value,ce=0,J=T.matchers.length;ce<J;ce++){var H=T.matchers[ce];H.test(_e,Ee)&&(ee=H.converter(_e.value))}ae[T.attributePrefix+_e.name]=ee}var P=function F(te){return te.prefix}(te);return null!=P&&""!=P&&(ae.__cnt++,ae.__prefix=P),null!=ae["#text"]&&(ae.__text=ae["#text"],ae.__text instanceof Array&&(ae.__text=ae.__text.join("\n")),T.stripWhitespaces&&(ae.__text=ae.__text.trim()),delete ae["#text"],"property"==T.arrayAccessForm&&delete ae["#text_asArray"],ae.__text=function d(te,Z,ae){if(T.datetimeAccessFormPaths.length>0){var ne=ae.split(".#")[0];return x(T.datetimeAccessFormPaths,te,Z,ne)?m(te):te}return te}(ae.__text,ge,Z+"."+ge)),null!=ae["#cdata-section"]&&(ae.__cdata=ae["#cdata-section"],delete ae["#cdata-section"],"property"==T.arrayAccessForm&&delete ae["#cdata-section_asArray"]),0==ae.__cnt&&"text"==T.emptyNodeForm?ae="":1==ae.__cnt&&null!=ae.__text?ae=ae.__text:1!=ae.__cnt||null==ae.__cdata||T.keepCData?ae.__cnt>1&&null!=ae.__text&&T.skipEmptyTextNodesForObj&&(T.stripWhitespaces&&""==ae.__text||""==ae.__text.trim())&&delete ae.__text:ae=ae.__cdata,delete ae.__cnt,T.enableToStringFunc&&(null!=ae.__text||null!=ae.__cdata)&&(ae.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),ae}if(te.nodeType==M.TEXT_NODE||te.nodeType==M.CDATA_SECTION_NODE)return te.nodeValue}function E(te,Z,ae,ne){var le="<"+(null!=te&&null!=te.__prefix?te.__prefix+":":"")+Z;if(null!=ae)for(var se=0;se<ae.length;se++){var ge=ae[se],$=te[ge];T.escapeMode&&($=w($)),le+=" "+ge.substr(T.attributePrefix.length)+"=",le+=T.useDoubleQuotes?'"'+$+'"':"'"+$+"'"}return le+(ne?"/>":">")}function b(te,Z){return"</"+(null!=te.__prefix?te.__prefix+":":"")+Z+">"}function h(te,Z){return!!("property"==T.arrayAccessForm&&function g(te,Z){return-1!==te.indexOf(Z,te.length-Z.length)}(Z.toString(),"_asArray")||0==Z.toString().indexOf(T.attributePrefix)||0==Z.toString().indexOf("__")||te[Z]instanceof Function)}function R(te){var Z=0;if(te instanceof Object)for(var ae in te)h(te,ae)||Z++;return Z}function I(te,Z,ae){return 0==T.jsonPropertiesFilter.length||""==ae||x(T.jsonPropertiesFilter,te,Z,ae)}function W(te){var Z=[];if(te instanceof Object)for(var ae in te)-1==ae.toString().indexOf("__")&&0==ae.toString().indexOf(T.attributePrefix)&&Z.push(ae);return Z}function re(te){var Z="";return te instanceof Object?Z+=function z(te){var Z="";return null!=te.__cdata&&(Z+="<![CDATA["+te.__cdata+"]]>"),null!=te.__text&&(Z+=T.escapeMode?w(te.__text):te.__text),Z}(te):null!=te&&(Z+=T.escapeMode?w(te):te),Z}function ie(te,Z){return""===te?Z:te+"."+Z}function ue(te,Z,ae,ne){var le="";if(0==te.length)le+=E(te,Z,ae,!0);else for(var se=0;se<te.length;se++)le+=E(te[se],Z,W(te[se]),!1),le+=Y(te[se],ie(ne,Z)),le+=b(te[se],Z);return le}function Y(te,Z){var ae="";if(R(te)>0)for(var le in te)if(!h(te,le)&&(""==Z||I(te,le,ie(Z,le)))){var se=te[le],ge=W(se);null==se||null==se?ae+=E(se,le,ge,!0):se instanceof Object?se instanceof Array?ae+=ue(se,le,ge,Z):se instanceof Date?(ae+=E(se,le,ge,!1),ae+=se.toISOString(),ae+=b(se,le)):R(se)>0||null!=se.__text||null!=se.__cdata?(ae+=E(se,le,ge,!1),ae+=Y(se,ie(Z,le)),ae+=b(se,le)):ae+=E(se,le,ge,!0):(ae+=E(se,le,ge,!1),ae+=re(se),ae+=b(se,le))}return ae+re(te)}this.parseXmlString=function(te){var ae;if(window.ActiveXObject||window,void 0===te)return null;if(window.DOMParser){var ne=new window.DOMParser;try{(ae=ne.parseFromString(te,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ae=null)}catch{ae=null}}else 0==te.indexOf("<?")&&(te=te.substr(te.indexOf("?>")+2)),(ae=new ActiveXObject("Microsoft.XMLDOM")).async="false",ae.loadXML(te);return ae},this.asArray=function(te){return void 0===te||null==te?[]:te instanceof Array?te:[te]},this.toXmlDateTime=function(te){return te instanceof Date?te.toISOString():"number"==typeof te?new Date(te).toISOString():null},this.asDateTime=function(te){return"string"==typeof te?m(te):te},this.xml2json=function(te){return _(te)},this.xml_str2json=function(te){var Z=this.parseXmlString(te);return null!=Z?this.xml2json(Z):null},this.json2xml_str=function(te){return Y(te,"")},this.json2xml=function(te){var Z=this.json2xml_str(te);return this.parseXmlString(Z)},this.getVersion=function(){return"1.2.0"}}},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{Debug:()=>T.default,FactoryMaker:()=>C.default,MediaPlayer:()=>V.default,default:()=>F});var V=u(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js"),C=u(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=u(
/*! ./src/core/Debug */
"./src/core/Debug.js"),p=u(
/*! ./src/core/Version */
"./src/core/Version.js"),f=(u(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||u.g),S=f.dashjs;S||(S=f.dashjs={}),S.MediaPlayer=V.default,S.FactoryMaker=C.default,S.Debug=T.default,S.Version=(0,p.getVersionString)();const F=S},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>x});var V=u(
/*! ./EventBus */
"./src/core/EventBus.js"),C=u(
/*! ./events/Events */
"./src/core/events/Events.js"),T=u(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),A=1,M=2,f=3,S=4,F=5;function w(y){y=y||{};var E,b,g,h,d=(0,V.default)(this.context).getInstance(),D=y.settings,_=[];function I(ne){return ne&&ne.bind?ne.bind(window.console):window.console.log.bind(window.console)}function ie(){for(var ne=arguments.length,le=new Array(ne),se=0;se<ne;se++)le[se]=arguments[se];ae.apply(void 0,[A,this].concat(le))}function ue(){for(var ne=arguments.length,le=new Array(ne),se=0;se<ne;se++)le[se]=arguments[se];ae.apply(void 0,[M,this].concat(le))}function Y(){for(var ne=arguments.length,le=new Array(ne),se=0;se<ne;se++)le[se]=arguments[se];ae.apply(void 0,[f,this].concat(le))}function te(){for(var ne=arguments.length,le=new Array(ne),se=0;se<ne;se++)le[se]=arguments[se];ae.apply(void 0,[S,this].concat(le))}function Z(){for(var ne=arguments.length,le=new Array(ne),se=0;se<ne;se++)le[se]=arguments[se];ae.apply(void 0,[F,this].concat(le))}function ae(ne,le){var se="",ge=null;b&&(ge=(new Date).getTime(),se+="["+(ge-h)+"]"),g&&le&&le.getClassName&&(se+="["+le.getClassName()+"]",le.getType&&(se+="["+le.getType()+"]")),se.length>0&&(se+=" ");for(var $=arguments.length,he=new Array($>2?$-2:0),pe=2;pe<$;pe++)he[pe-2]=arguments[pe];Array.apply(null,he).forEach(function(De){se+=De+" "}),_[ne]&&D&&D.get().debug.logLevel>=ne&&_[ne](se),D&&D.get().debug.dispatchEvent&&d.trigger(C.default.LOG,{message:se,level:ne})}return E={getLogger:function W(ne){return{fatal:ie.bind(ne),error:ue.bind(ne),warn:Y.bind(ne),info:te.bind(ne),debug:Z.bind(ne)}},setLogTimestampVisible:function z(ne){b=ne},setCalleeNameVisible:function re(ne){g=ne}},function R(){b=!0,g=!0,h=(new Date).getTime(),typeof window<"u"&&window.console&&(_[A]=I(window.console.error),_[M]=I(window.console.error),_[f]=I(window.console.warn),_[S]=I(window.console.info),_[F]=I(window.console.debug))}(),E}w.__dashjs_factory_name="Debug";var j=T.default.getSingletonFactory(w);j.LOG_LEVEL_NONE=0,j.LOG_LEVEL_FATAL=A,j.LOG_LEVEL_ERROR=M,j.LOG_LEVEL_WARNING=f,j.LOG_LEVEL_INFO=S,j.LOG_LEVEL_DEBUG=F,T.default.updateSingletonFactory(w.__dashjs_factory_name,j);const x=j},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f});var V=u(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),T=0;function A(){var S={};function x(d,D,_){var E=-1;return S[d]&&S[d].some(function(b,g){if(b&&b.callback===D&&(!_||_===b.scope))return E=g,!0}),E}var m={on:function F(d,D,_){var E=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!d)throw new Error("event type cannot be null or undefined");if(!D||"function"!=typeof D)throw new Error("listener must be a function: "+D);var b=E.priority||T;if(!(x(d,D,_)>=0)){S[d]=S[d]||[];var g={callback:D,scope:_,priority:b};_&&_.getStreamId&&(g.streamId=_.getStreamId()),_&&_.getType&&(g.mediaType=_.getType()),E&&E.mode&&(g.mode=E.mode),S[d].some(function(R,I){if(R&&b>R.priority)return S[d].splice(I,0,g),!0})||S[d].push(g)}},off:function w(d,D,_){if(d&&D&&S[d]){var E=x(d,D,_);E<0||(S[d][E]=null)}},trigger:function j(d){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d&&S[d]){if((D=D||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");D.type=d,_.streamId&&(D.streamId=_.streamId),_.mediaType&&(D.mediaType=_.mediaType),S[d].filter(function(E){return!(!E||_.streamId&&E.streamId&&E.streamId!==_.streamId||_.mediaType&&E.mediaType&&E.mediaType!==_.mediaType||_.mode&&E.mode&&E.mode!==_.mode||!E.mode&&_.mode&&_.mode===C.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(E){return E&&E.callback.call(E.scope,D)})}},reset:function y(){S={}}};return m}A.__dashjs_factory_name="EventBus";var M=V.default.getSingletonFactory(A);M.EVENT_PRIORITY_LOW=T,M.EVENT_PRIORITY_HIGH=5e3,V.default.updateSingletonFactory(A.__dashjs_factory_name,M);const f=M},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>C});const C=function(){var T,p=[],A={},M={};function S(g,h){for(var R in p){var I=p[R];if(I.context===g&&I.name===h)return I.instance}return null}function j(g,h){return h[g]}function x(g,h,R){g in R&&(R[g]=h)}function b(g,h,R){var I,W=g.__dashjs_factory_name,z=h[W];if(z){var re=z.instance;if(!z.override)return re.apply({context:h,factory:T},R);for(var ie in I=g.apply({context:h},R),re=re.apply({context:h,factory:T,parent:I},R))I.hasOwnProperty(ie)&&(I[ie]=re[ie])}else I=g.apply({context:h},R);return I.getClassName=function(){return W},I}return T={extend:function f(g,h,R,I){!I[g]&&h&&(I[g]={instance:h,override:R})},getSingletonInstance:S,setSingletonInstance:function F(g,h,R){for(var I in p){var W=p[I];if(W.context===g&&W.name===h)return void(p[I].instance=R)}p.push({name:h,context:g,instance:R})},deleteSingletonInstances:function w(g){p=p.filter(function(h){return h.context!==g})},getSingletonFactory:function E(g){var h=j(g.__dashjs_factory_name,A);return h||(h=function(I){var W;return void 0===I&&(I={}),{getInstance:function(){return W||(W=S(I,g.__dashjs_factory_name)),W||(W=b(g,I,arguments),p.push({name:g.__dashjs_factory_name,context:I,instance:W})),W}}},A[g.__dashjs_factory_name]=h),h},getSingletonFactoryByName:function _(g){return j(g,A)},updateSingletonFactory:function D(g,h){x(g,h,A)},getClassFactory:function d(g){var h=j(g.__dashjs_factory_name,M);return h||(h=function(I){return void 0===I&&(I={}),{create:function(){return b(g,I,arguments)}}},M[g.__dashjs_factory_name]=h),h},getClassFactoryByName:function m(g){return j(g,M)},updateClassFactory:function y(g,h){x(g,h,M)}},T}()},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>x});var V=u(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ./Utils.js */
"./src/core/Utils.js"),T=u(
/*! ../core/Debug */
"./src/core/Debug.js"),p=u(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),A=u(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),M=u(
/*! ./EventBus */
"./src/core/EventBus.js"),f=u(
/*! ./events/Events */
"./src/core/events/Events.js");function S(y){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}function F(y,m,d){return m in y?Object.defineProperty(y,m,{value:d,enumerable:!0,configurable:!0,writable:!0}):y[m]=d,y}function w(){var y,m,_=(0,M.default)(this.context).getInstance(),E={"streaming.delay.liveDelay":f.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":f.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":f.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":f.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":f.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},b={debug:{logLevel:T.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:p.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:p.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:p.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:p.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(y={},F(y,A.HTTPRequest.MPD_TYPE,500),F(y,A.HTTPRequest.XLINK_EXPANSION_TYPE,500),F(y,A.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),F(y,A.HTTPRequest.INIT_SEGMENT_TYPE,1e3),F(y,A.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),F(y,A.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),F(y,A.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),F(y,A.HTTPRequest.LICENSE,1e3),F(y,A.HTTPRequest.OTHER_TYPE,1e3),F(y,"lowLatencyReductionFactor",10),y),retryAttempts:(m={},F(m,A.HTTPRequest.MPD_TYPE,3),F(m,A.HTTPRequest.XLINK_EXPANSION_TYPE,1),F(m,A.HTTPRequest.MEDIA_SEGMENT_TYPE,3),F(m,A.HTTPRequest.INIT_SEGMENT_TYPE,3),F(m,A.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),F(m,A.HTTPRequest.INDEX_SEGMENT_TYPE,3),F(m,A.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),F(m,A.HTTPRequest.LICENSE,3),F(m,A.HTTPRequest.OTHER_TYPE,3),F(m,"lowLatencyMultiplyFactor",5),m),abr:{movingAverageMethod:p.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:p.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:p.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:p.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},g=C.default.clone(b);function h(z,re,ie){for(var ue in z)z.hasOwnProperty(ue)&&(re.hasOwnProperty(ue)?"object"!==S(z[ue])||z[ue]instanceof Array||null===z[ue]?(re[ue]=C.default.clone(z[ue]),E[ie+ue]&&_.trigger(E[ie+ue])):h(z[ue],re[ue],ie.slice()+ue+"."):console.error("Settings parameter "+ie+ue+" is not supported"))}return{get:function R(){return g},update:function I(z){"object"===S(z)&&h(z,g,"")},reset:function W(){g=C.default.clone(b)}}}w.__dashjs_factory_name="Settings";const x=V.default.getSingletonFactory(w)},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),C=u.n(V),T=u(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function A(j){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(j)}function f(j,x){for(var y=0;y<x.length;y++){var m=x[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(j,m.key,m)}}const w=function(){function j(){!function M(j,x){if(!(j instanceof x))throw new TypeError("Cannot call a class as a function")}(this,j)}return function S(j,x,y){x&&f(j.prototype,x),y&&f(j,y)}(j,null,[{key:"mixin",value:function(y,m,d){var D,_={};if(y)for(var E in m)m.hasOwnProperty(E)&&(D=m[E],(!(E in y)||y[E]!==D&&(!(E in _)||_[E]!==D))&&(y[E]="object"===A(y[E])&&null!==y[E]?j.mixin(y[E],D,d):d(D)));return y}},{key:"clone",value:function(y){if(!y||"object"!==A(y))return y;var m;if(y instanceof Array){m=[];for(var d=0,D=y.length;d<D;++d)d in y&&m.push(j.clone(y[d]))}else m={};return j.mixin(m,y,j.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(y,m){try{if(!m||0===m.length)return y;var d=new URL(y);return m.forEach(function(D){D.key&&D.value&&d.searchParams.set(D.key,D.value)}),d.href}catch{return y}}},{key:"parseHttpHeaders",value:function(y){var m={};if(!y)return m;for(var d=y.trim().split("\r\n"),D=0,_=d.length;D<_;D++){var E=d[D],b=E.indexOf(": ");b>0&&(m[E.substring(0,b)]=E.substring(b+2))}return m}},{key:"generateUuid",value:function(){var y=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var D=(y+16*Math.random())%16|0;return y=Math.floor(y/16),("x"==d?D:3&D|8).toString(16)})}},{key:"generateHashCode",value:function(y){var m=0;if(0===y.length)return m;for(var d=0;d<y.length;d++)m=(m<<5)-m+y.charCodeAt(d),m|=0;return m}},{key:"getRelativeUrl",value:function(y,m){try{var d=new URL(y),D=new URL(m);if(d.protocol=D.protocol,d.origin!==D.origin)return m;var _=C().relative(d.pathname.substr(0,d.pathname.lastIndexOf("/")),D.pathname.substr(0,D.pathname.lastIndexOf("/"))),E=0===_.length?1:0;return _+=D.pathname.substr(D.pathname.lastIndexOf("/")+E,D.pathname.length-1),D.pathname.length<_.length?D.pathname:_}catch{return m}}},{key:"parseUserAgent",value:function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var m=null===y&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,T.UAParser)(m)}catch{return{}}}}]),j}()},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{getVersionString:()=>C});var V="4.6.0";function C(){return V}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/(Me,K,u)=>{"use strict";function C(m){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function A(m,d){return(A=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}u.r(K),u.d(K,{default:()=>y});const y=new(function(m){!function p(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&A(m,d)}(D,m);var d=function M(m){var d=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=w(m);if(d){var b=w(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function f(m,d){return!d||"object"!==C(d)&&"function"!=typeof d?function S(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(){var _;return function T(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D),(_=d.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,_.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,_.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,_.SEGMENT_BASE_LOADER_ERROR_CODE=15,_.TIME_SYNC_FAILED_ERROR_CODE=16,_.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,_.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,_.APPEND_ERROR_CODE=20,_.REMOVE_ERROR_CODE=21,_.DATA_UPDATE_FAILED_ERROR_CODE=22,_.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,_.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,_.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,_.DOWNLOAD_ERROR_ID_SIDX_CODE=26,_.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,_.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,_.DOWNLOAD_ERROR_ID_XLINK_CODE=29,_.MANIFEST_ERROR_ID_PARSE_CODE=31,_.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,_.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,_.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,_.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,_.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",_.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",_.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",_.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",_.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",_.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",_.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",_.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",_.APPEND_ERROR_MESSAGE="chunk is not defined",_.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",_.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",_.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",_.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",_.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",_.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",_}return D}(u(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default))},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";function C(M,f){for(var S=0;S<f.length;S++){var F=f[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}u.r(K),u.d(K,{default:()=>A});const A=function(){function M(){!function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,M)}return function T(M,f,S){f&&C(M.prototype,f),S&&C(M,S)}(M,[{key:"extend",value:function(S,F){if(S){var w=!!F&&F.override,j=!!F&&F.publicOnly;for(var x in S)!S.hasOwnProperty(x)||this[x]&&!w||j&&-1===S[x].indexOf("public_")||(this[x]=S[x])}}}]),M}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";function C(y){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}function A(y,m){return(A=Object.setPrototypeOf||function(D,_){return D.__proto__=_,D})(y,m)}function w(y){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(y)}u.r(K),u.d(K,{default:()=>x});const x=function(y){!function p(y,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),m&&A(y,m)}(d,y);var m=function M(y){var m=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,D=w(y);if(m){var E=w(this).constructor;_=Reflect.construct(D,arguments,E)}else _=D.apply(this,arguments);return function f(y,m){return!m||"object"!==C(m)&&"function"!=typeof m?function S(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(y):m}(this,_)}}(d);function d(){var D;return function T(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}(this,d),(D=m.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",D.BUFFERING_COMPLETED="bufferingCompleted",D.BUFFER_CLEARED="bufferCleared",D.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",D.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",D.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",D.CMSD_STATIC_HEADER="cmsdStaticHeader",D.CURRENT_TRACK_CHANGED="currentTrackChanged",D.DATA_UPDATE_COMPLETED="dataUpdateCompleted",D.INBAND_EVENTS="inbandEvents",D.INITIAL_STREAM_SWITCH="initialStreamSwitch",D.INIT_FRAGMENT_LOADED="initFragmentLoaded",D.INIT_FRAGMENT_NEEDED="initFragmentNeeded",D.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",D.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",D.LOADING_COMPLETED="loadingCompleted",D.LOADING_PROGRESS="loadingProgress",D.LOADING_DATA_PROGRESS="loadingDataProgress",D.LOADING_ABANDONED="loadingAborted",D.MANIFEST_UPDATED="manifestUpdated",D.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",D.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",D.QUOTA_EXCEEDED="quotaExceeded",D.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",D.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",D.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",D.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",D.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",D.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",D.SOURCE_BUFFER_ERROR="sourceBufferError",D.STREAMS_COMPOSED="streamsComposed",D.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",D.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",D.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",D.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",D.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",D.URL_RESOLUTION_FAILED="urlResolutionFailed",D.VIDEO_CHUNK_RECEIVED="videoChunkReceived",D.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",D.XLINK_ELEMENT_LOADED="xlinkElementLoaded",D.XLINK_READY="xlinkReady",D.SEEK_TARGET="seekTarget",D.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",D.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",D.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",D.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",D.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",D}return d}(u(
/*! ./EventsBase */
"./src/core/events/EventsBase.js").default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/(Me,K,u)=>{"use strict";function C(m){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function A(m,d){return(A=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}u.r(K),u.d(K,{default:()=>y});const y=new(function(m){!function p(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&A(m,d)}(D,m);var d=function M(m){var d=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=w(m);if(d){var b=w(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function f(m,d){return!d||"object"!==C(d)&&"function"!=typeof d?function S(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(){return function T(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D),d.apply(this,arguments)}return D}(u(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default))},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";function C(M,f){for(var S=0;S<f.length;S++){var F=f[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}u.r(K),u.d(K,{default:()=>A});const A=function(){function M(){!function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,M)}return function T(M,f,S){f&&C(M.prototype,f),S&&C(M,S)}(M,[{key:"extend",value:function(S,F){if(S){var w=!!F&&F.override,j=!!F&&F.publicOnly;for(var x in S)!S.hasOwnProperty(x)||this[x]&&!w||j&&-1===S[x].indexOf("public_")||(this[x]=S[x])}}}]),M}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),C=u(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),T=u(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),p=u(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),A=u(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),M=u(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),f=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),S=u(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),F=u(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),w=u(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),j=u.n(w);function x(){var m,d,D,_,E,b,g,h=this.context;function ie(Ae){return d.getRolesForAdaptation(Ae).filter(function(ye){return ye.value===V.default.MAIN})[0]}function ue(Ae,ye,Oe){var We=d.getAdaptationsForType(_[0].mpd.manifest,Ae,ye);if(!We||0===We.length)return null;if(We.length>1&&Oe){var Ke=Z(Oe,ye);if(E[Oe.id]&&E[Oe.id][ye])for(var ut=0,Et=We.length;ut<Et;ut++)if(Y(E[Oe.id][ye],Ke[ut]))return We[ut];for(var gt=0,St=We.length;gt<St;gt++)if(ie(We[gt]))return We[gt]}return We[0]}function Y(Ae,ye){if(!Ae||!ye)return!1;var Oe=Ae.id===ye.id,We=Ae.codec===ye.codec,Ke=Ae.viewpoint===ye.viewpoint,ut=Ae.lang===ye.lang,Et=Ae.roles.toString()===ye.roles.toString(),gt=Ae.accessibility.toString()===ye.accessibility.toString(),St=Ae.audioChannelConfiguration.toString()===ye.audioChannelConfiguration.toString();return Oe&&We&&Ke&&ut&&Et&&gt&&St}function te(Ae,ye,Oe,We,Ke,ut){var St,Wt,Kt,Pe,ze,Et=[];if(!We||0===We.length)return[];var mt=d.getAdaptationsForPeriod(ye);for(Kt=0,ze=We.length;Kt<ze;Kt++)if(St=Dt(mt[Wt=d.getIndexForAdaptation(We[Kt],Ae,Oe.index)]),ut){var Lt=St.accessibility.length;for(Pe=0;Pe<Lt;Pe++)if(St){var At=St.accessibility[Pe];if(0===At.indexOf("cea-608:")){var on=At.substring(8).split(";");if("CC"===on[0].substring(0,2))for(Pe=0;Pe<on.length;Pe++)St||(St=Dt.call(this,mt[Wt])),Fe(St,on[Pe].substring(0,3),on[Pe].substring(4)),Et.push(St),St=null;else for(Pe=0;Pe<on.length;Pe++)St||(St=Dt.call(this,mt[Wt])),Fe(St,"CC"+(Pe+1),on[Pe]),Et.push(St),St=null}else 0===At.indexOf("cea-608")&&(Fe(St,b.CC1,"eng"),Et.push(St),St=null)}}else Ke===b.IMAGE?(Ze(St),Et.push(St),St=null):St&&Et.push(St);return Et}function Z(Ae,ye,Oe){var We=_,Ke=Oe,ut=[];if(Ke)Tt(),We=P(Ke);else{if(!(_.length>0))return ut;Ke=_[0].mpd.manifest}var Et=yt(Ae,We),gt=d.getAdaptationsForType(Ke,Ae?Ae.index:null,ye);return ut=te(Ke,Et,Ae,gt,ye),ye===b.TEXT&&(gt=d.getAdaptationsForType(Ke,Ae?Ae.index:null,b.VIDEO),ut=ut.concat(te(Ke,Et,Ae,gt,ye,!0))),ut}function P(Ae){var ye=L(Ae);return d.getRegularPeriods(ye)}function L(Ae){var ye=Be(Ae);return d.getMpd(ye)}function rt(){_=[],E={}}function Be(Ae){return Ae||(_.length>0?_[0].mpd.manifest:null)}function ct(Ae){try{var ye=yt(Ae.streamInfo,_),Oe=d.getAdaptationsForPeriod(ye);return Ae&&Ae.streamInfo&&void 0!==Ae.streamInfo.id&&Oe?Oe[Ae.index]:null}catch{return null}}function yt(Ae,ye){for(var Oe=ye.length,We=0;We<Oe;We++){var Ke=ye[We];if(Ae&&Ae.id===Ke.id)return Ke}return null}function Dt(Ae){if(!Ae)return null;var We,ye=new T.default,Oe=Ae.period.mpd.manifest.Period_asArray[Ae.period.index].AdaptationSet_asArray[Ae.index];if(ye.id=Ae.id,ye.index=Ae.index,ye.type=Ae.type,ye.streamInfo=qe(Ae.period),ye.representationCount=d.getRepresentationCount(Oe),ye.labels=d.getLabelsForAdaptation(Oe),ye.lang=d.getLanguageForAdaptation(Oe),We=d.getViewpointForAdaptation(Oe),ye.viewpoint=We?We.value:void 0,ye.accessibility=d.getAccessibilityForAdaptation(Oe).map(function(Et){var gt=Et.value,St=gt;return Et.schemeIdUri&&Et.schemeIdUri.search("cea-608")>=0&&typeof g<"u"&&(St=gt?"cea-608:"+gt:"cea-608",ye.embeddedCaptions=!0),St}),ye.audioChannelConfiguration=d.getAudioChannelConfigurationForAdaptation(Oe).map(function(Et){return Et.value}),0===ye.audioChannelConfiguration.length&&Array.isArray(Oe.Representation_asArray)&&Oe.Representation_asArray.length>0&&(ye.audioChannelConfiguration=d.getAudioChannelConfigurationForRepresentation(Oe.Representation_asArray[0]).map(function(Et){return Et.value})),ye.roles=d.getRolesForAdaptation(Oe).map(function(Et){return Et.value}),ye.codec=d.getCodec(Oe),ye.mimeType=d.getMimeType(Oe),ye.contentProtection=d.getContentProtectionData(Oe),ye.bitrateList=d.getBitrateListForAdaptation(Oe),ye.selectionPriority=d.getSelectionPriority(Oe),ye.contentProtection){var Ke=ye.contentProtection.map(function(Et){return d.getKID(Et)}).filter(function(Et){return null!==Et});if(Ke.length){var ut=Ke[0];ye.contentProtection.forEach(function(Et){Et.keyId=ut})}}return ye.isText=d.getIsText(Oe),ye.supplementalProperties=d.getSupplementalProperties(Oe),ye.isFragmented=d.getIsFragmented(Oe),ye.isEmbedded=!1,ye}function Fe(Ae,ye,Oe){Ae.id=ye,Ae.index=100+parseInt(ye.substring(2,3)),Ae.type=b.TEXT,Ae.codec="cea-608-in-SEI",Ae.isEmbedded=!0,Ae.isFragmented=!1,Ae.lang=j()(Oe),Ae.roles=["caption"]}function Ze(Ae){Ae.type=b.IMAGE}function qe(Ae){var ye=new p.default;return ye.id=Ae.id,ye.index=Ae.index,ye.start=Ae.start,ye.duration=Ae.duration,ye.manifestInfo=function pt(Ae){var ye=new A.default;return ye.dvrWindowSize=Ae.timeShiftBufferDepth,ye.loadedTime=Ae.manifest.loadedTime,ye.availableFrom=Ae.availabilityStartTime,ye.minBufferTime=Ae.manifest.minBufferTime,ye.maxFragmentDuration=Ae.maxSegmentDuration,ye.duration=d.getDuration(Ae.manifest),ye.isDynamic=d.getIsDynamic(Ae.manifest),ye.serviceDescriptions=d.getServiceDescriptions(Ae.manifest),ye.protocol=Ae.manifest.protocol,ye}(Ae.mpd),ye.isLast=1===Ae.mpd.manifest.Period_asArray.length||Math.abs(ye.start+ye.duration-ye.manifestInfo.duration)<1,ye}function Tt(){if(!b)throw new Error("setConfig function has to be called previously")}function It(Ae){return _.length>0?_[0].mpd.manifest.Period_asArray[Ae]:null}function rn(Ae,ye,Oe){var Ke,ut,Et,gt,St;if(Ae)for(Ke=Ae.AdaptationSet_asArray,gt=0;gt<Ke.length;gt+=1)for(Et=Ke[gt].Representation_asArray,St=0;St<Et.length;St+=1)if(ye===(ut=Et[St]).id)return Oe?St:ut;return null}return m={getBandwidthForRepresentation:function ve(Ae,ye){var Oe;return(Oe=rn(It(ye),Ae))?Oe.bandwidth:null},getIndexForRepresentation:function Ce(Ae,ye){return function wt(Ae,ye){var Oe=rn(Ae,ye,!0);return null!==Oe?Oe:-1}(It(ye),Ae)},getMaxIndexForBufferType:function xe(Ae,ye){return function at(Ae,ye){var Oe,We,Ke,ut;if(!Ae||!ye)return-1;for(We=Ae.AdaptationSet_asArray,ut=0;ut<We.length;ut+=1)if(Ke=(Oe=We[ut]).Representation_asArray,d.getIsTypeOf(Oe,ye))return Ke.length;return-1}(It(ye),Ae)},convertRepresentationToRepresentationInfo:function z(Ae){if(Ae){var ye=new C.default,We=d.getRepresentationFor(Ae.index,Ae.adaptation.period.mpd.manifest.Period_asArray[Ae.adaptation.period.index].AdaptationSet_asArray[Ae.adaptation.index]);return ye.id=Ae.id,ye.quality=Ae.index,ye.bandwidth=d.getBandwidth(We),ye.fragmentDuration=Ae.segmentDuration||(Ae.segments&&Ae.segments.length>0?Ae.segments[0].duration:NaN),ye.MSETimeOffset=Ae.MSETimeOffset,ye.mediaInfo=Dt(Ae.adaptation),ye}return null},getStreamsInfo:function ne(Ae,ye){var Oe=[],We=_;if(Ae&&(Tt(),We=P(Ae)),We.length>0){(!ye||ye>We.length)&&(ye=We.length);for(var Ke=0;Ke<ye;Ke++)Oe.push(qe(We[Ke]))}return Oe},getMediaInfoForType:function re(Ae,ye){if(0===_.length||!Ae)return null;var Oe=yt(Ae,_);if(!Oe)return null;var We=d.getAdaptationsForPeriod(Oe),Ke=ue(Ae.index,ye,Ae);return Ke?Dt(We[d.getIndexForAdaptation(Ke,_[0].mpd.manifest,Ae.index)]):null},getAllMediaInfoForType:Z,getAdaptationForType:ue,getRealAdaptation:function le(Ae,ye){var Oe,We,Ke=yt(Ae,_);return Oe=ye?ye.id:null,_.length>0&&Ke&&(We=Oe?d.getAdaptationForId(Oe,_[0].mpd.manifest,Ke.index):d.getAdaptationForIndex(ye?ye.index:null,_[0].mpd.manifest,Ke.index)),We},getProducerReferenceTimes:function se(Ae,ye){var Oe,We,Ke=yt(Ae,_);return Oe=ye?ye.id:null,_.length>0&&Ke&&(We=Oe?d.getAdaptationForId(Oe,_[0].mpd.manifest,Ke.index):d.getAdaptationForIndex(ye?ye.index:null,_[0].mpd.manifest,Ke.index)),We?d.getProducerReferenceTimesForAdaptation(We):[]},getRealPeriodByIndex:function $(Ae){return d.getRealPeriodForIndex(Ae,_[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function ge(Ae){try{return d.getEssentialPropertiesForRepresentation(Ae)}catch{return[]}},getVoRepresentations:function he(Ae){var Oe=ct(Ae);return d.getRepresentationsForAdaptation(Oe)},getEventsFor:function De(Ae,ye,Oe){var We=[];if(_.length>0){var Ke=_[0].mpd.manifest;if(Ae instanceof p.default){var ut=yt(Ae,_);We=d.getEventsForPeriod(ut)}else if(Ae instanceof T.default){var Et=yt(Oe,_);We=d.getEventStreamForAdaptationSet(Ke,ct(Ae),Et)}else if(Ae instanceof C.default){var gt=yt(Oe,_);We=d.getEventStreamForRepresentation(Ke,ye,gt)}}return We},getEvent:function pe(Ae,ye,Oe,We){try{if(!Ae||!ye||isNaN(Oe)||!We)return null;var Ke=Ae.scheme_id_uri,ut=Ae.value;if(!ye[Ke+"/"+ut])return null;var ze,Et=new M.default,gt=Ae.timescale||1,St=We.adaptation.period.start,Wt=ye[Ke+"/"+ut],Kt=isNaN(We.presentationTimeOffset)?isNaN(Wt.presentationTimeOffset)?0:Wt.presentationTimeOffset:We.presentationTimeOffset,Pe=Ae.presentation_time_delta/gt;ze=0===Ae.version?St+Oe-Kt+Pe:St-Kt+Pe;var mt=Ae.event_duration/gt,Lt=Ae.id,At=Ae.message_data;return Et.eventStream=Wt,Et.eventStream.value=ut,Et.eventStream.timescale=gt,Et.duration=mt,Et.id=Lt,Et.calculatedPresentationTime=ze,Et.messageData=At,Et.presentationTimeDelta=Pe,Et}catch{return null}},getMpd:L,setConfig:function W(Ae){Ae&&(Ae.constants&&(b=Ae.constants),Ae.cea608parser&&(g=Ae.cea608parser),Ae.errHandler&&d.setConfig({errHandler:Ae.errHandler}),Ae.BASE64&&d.setConfig({BASE64:Ae.BASE64}))},updatePeriods:function ae(Ae){if(!Ae)return null;Tt(),_=P(Ae)},getIsTextTrack:function me(Ae){return d.getIsText(Ae)},getUTCTimingSources:function _e(){var Ae=Be();return d.getUTCTimingSources(Ae)},getSuggestedPresentationDelay:function ee(){return d.getSuggestedPresentationDelay(_.length>0?_[0].mpd:null)},getAvailabilityStartTime:function ce(Ae){var ye=L(Ae);return d.getAvailabilityStartTime(ye)},getIsTypeOf:function je(Ae,ye){return d.getIsTypeOf(Ae,ye)},getIsDynamic:function J(Ae){var ye=Be(Ae);return d.getIsDynamic(ye)},getDuration:function H(Ae){var ye=Be(Ae);return d.getDuration(ye)},getRegularPeriods:P,getContentSteering:function N(Ae){return d.getContentSteering(Ae)},getLocation:function Q(Ae){return d.getLocation(Ae)},getPatchLocation:function k(Ae){var ye=d.getPatchLocation(Ae),Oe=d.getPublishTime(Ae);if(!ye||!Oe)return null;if(ye.hasOwnProperty("ttl")&&Oe){var We=1e3*parseFloat(ye.ttl);if(Oe.getTime()+We<=(new Date).getTime())return null}return ye.__text},getManifestUpdatePeriod:function O(Ae){return d.getManifestUpdatePeriod(Ae,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function U(Ae){return d.getPublishTime(Ae)},getIsDVB:function G(Ae){return d.hasProfile(Ae,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function oe(Ae){return D.getIsPatch(Ae)},getBaseURLsFromElement:function de(Ae){return d.getBaseURLsFromElement(Ae)},getRepresentationSortFunction:function q(){return d.getRepresentationSortFunction()},getCodec:function be(Ae,ye,Oe){return d.getCodec(Ae,ye,Oe)},getPeriodById:function He(Ae){if(!Ae||0===_.length)return null;var ye=_.filter(function(Oe){return Oe.id===Ae});return ye&&ye.length>0?ye[0]:null},setCurrentMediaInfo:function Ee(Ae,ye,Oe){E[Ae]=E[Ae]||{},E[Ae][ye]=E[Ae][ye]||{},E[Ae][ye]=Oe},isPatchValid:function it(Ae,ye){var Oe=d.getId(Ae),We=D.getMpdId(ye),Ke=d.getPublishTime(Ae),ut=D.getPublishTime(ye),Et=D.getOriginalPublishTime(ye);return!!(Oe&&We&&Oe==We&&Ke&&Et&&Ke.getTime()==Et.getTime()&&ut&&Ke.getTime()<ut.getTime())},applyPatchToManifest:function Re(Ae,ye){D.getPatchOperations(ye).forEach(function(Oe){var We=Oe.getMpdTarget(Ae);if(null!==We){var Ke=We.name,ut=We.target,Et=We.leaf;if(Oe.xpath.findsAttribute()){switch(Oe.action){case"add":case"replace":ut[Ke]=Oe.value;break;case"remove":delete ut[Ke]}return}var gt=(ut[Ke+"_asArray"]||[]).indexOf(Et),St="prepend"===Oe.position||"before"===Oe.position;if(("remove"===Oe.action||"replace"===Oe.action)&&(delete ut[Ke],-1!=gt)){var Wt=ut[Ke+"_asArray"];Wt.splice(gt,1),Wt.length>1?ut[Ke]=Wt:1==Wt.length?ut[Ke]=Wt[0]:delete ut[Ke+"_asArray"]}("add"===Oe.action||"replace"===Oe.action)&&Object.keys(Oe.value).forEach(function(Kt){var Pe=Oe.value[Kt],ze=ut[Kt+"_asArray"]||[];0===ze.length&&ut[Kt]&&ze.push(ut[Kt]),0===ze.length?ze=Pe:ze.splice.apply(ze,[Kt==Ke&&-1!=gt?gt+(St?0:1)+("replace"==Oe.action?-1:0):St?0:ze.length,0].concat(Pe)),ut[Kt+"_asArray"]=ze,ut[Kt]=1==ze.length?ze[0]:ze})}})},areMediaInfosEqual:Y,reset:rt},function I(){d=(0,S.default)(h).getInstance(),D=(0,F.default)(h).getInstance(),rt()}(),m}x.__dashjs_factory_name="DashAdapter";const y=f.default.getSingletonFactory(x)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),C=u(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),T=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),A=u(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),M=u(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),f=.5,S=.001;function F(j){var g,h,R,I,W,x=(j=j||{}).eventBus,y=j.debug,m=j.urlUtils,d=j.type,D=j.streamInfo,_=j.segmentsController,E=j.timelineConverter,b=j.baseURLController;function ue(){return d}function te(){R=null}function ae(_e,ee,ce){var H,P,J=b.resolve(ce.path);return J&&ee!==J.url&&m.isRelative(ee)?(H=J.url,P=J.serviceLocation,ee&&(H=m.resolve(ee,H))):H=ee,!m.isRelative(H)&&(_e.url=H,_e.serviceLocation=P,!0)}function se(_e,ee){if(null==ee)return null;var ce=new V.default,J=ee.representation,H=J.adaptation.period.mpd.manifest.Period_asArray[J.adaptation.period.index].AdaptationSet_asArray[J.adaptation.index].Representation_asArray[J.index].bandwidth,P=ee.media;return P=(0,A.replaceTokenForTemplate)(P,"Number",ee.replacementNumber),P=(0,A.replaceTokenForTemplate)(P,"Time",ee.replacementTime),P=(0,A.replaceTokenForTemplate)(P,"Bandwidth",H),P=(0,A.replaceIDForTemplate)(P,J.id),P=(0,A.unescapeDollarsInTemplate)(P),ce.mediaType=ue(),ce.type=C.HTTPRequest.MEDIA_SEGMENT_TYPE,ce.range=ee.mediaRange,ce.startTime=ee.presentationStartTime,ce.mediaStartTime=ee.mediaStartTime,ce.duration=ee.duration,ce.timescale=J.timescale,ce.availabilityStartTime=ee.availabilityStartTime,ce.availabilityEndTime=ee.availabilityEndTime,ce.availabilityTimeComplete=J.availabilityTimeComplete,ce.wallStartTime=ee.wallStartTime,ce.quality=J.index,ce.index=ee.index,ce.mediaInfo=_e,ce.adaptationIndex=J.adaptation.index,ce.representationId=J.id,ae(ce,P,J)?ce:void 0}function $(_e,ee,ce){var J=null;if(!ee||!ee.segmentInfoType)return J;var H=_.getSegmentByTime(ee,ce);return H&&(R=H,h.debug("Index for time "+ce+" is "+H.index),J=se(_e,H)),J}function me(){h.debug("Dynamic stream complete"),W=!0}return g={initialize:function re(_e){I=_e,W=!1,_.initialize(_e)},getStreamId:function ie(){return D.id},getType:ue,getStreamInfo:function Y(){return D},getInitRequest:function ne(_e,ee){return ee?function le(_e,ee,ce){var J=new V.default,H=ee.adaptation.period,P=H.start;if(J.mediaType=ce,J.type=C.HTTPRequest.INIT_SEGMENT_TYPE,J.range=ee.range,J.availabilityStartTime=E.calcAvailabilityStartTimeFromPresentationTime(P,ee,I),J.availabilityEndTime=E.calcAvailabilityEndTimeFromPresentationTime(P+H.duration,ee,I),J.quality=ee.index,J.mediaInfo=_e,J.representationId=ee.id,ae(J,ee.initialization,ee))return J.url=(0,A.replaceTokenForTemplate)(J.url,"Bandwidth",ee.bandwidth),J}(_e,ee,ue()):null},getSegmentRequestForTime:$,getCurrentIndex:function Ee(){return R?R.index:-1},getNextSegmentRequest:function pe(_e,ee){var ce=null;if(!ee||!ee.segmentInfoType)return null;var J=R?R.index+1:0,H=_.getSegmentByIndex(ee,J,R?R.mediaStartTime:-1);if(H)ce=se(_e,H),R=H;else{if(I&&!W)return h.debug(ue()+" No segment found at index: "+J+". Wait for next loop"),null;W=!0}return ce},isLastSegmentRequested:function ge(_e,ee){if(!_e||!R)return!1;if(W)return!0;if(!isFinite(_e.adaptation.period.duration)||R.presentationStartTime+R.duration>ee)return!1;if(_e.mediaFinishedInformation&&!isNaN(_e.mediaFinishedInformation.numberOfSegments)&&!isNaN(R.index)&&R.index>=_e.mediaFinishedInformation.numberOfSegments-1){if(!I||_e.segmentInfoType===M.default.SEGMENT_TEMPLATE)return!0;if(I&&_e.segmentInfoType===M.default.SEGMENT_LIST&&_e.adaptation.period.nextPeriodId)return!0}return!!(I&&_e.adaptation.period.nextPeriodId&&_e.segmentInfoType===M.default.SEGMENT_TIMELINE&&_e.mediaFinishedInformation&&!isNaN(_e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&R&&!isNaN(R.mediaStartTime)&&!isNaN(R.duration)&&R.mediaStartTime+R.duration>=_e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function Z(){te(),x.off(p.default.DYNAMIC_TO_STATIC,me,g)},getNextSegmentRequestIdempotent:function he(_e,ee){var H=_.getSegmentByIndex(ee,R?R.index+1:0,R?R.mediaStartTime:-1);return H?se(_e,H):null},getValidTimeAheadOfTargetTime:function De(_e,ee,ce,J){try{if(isNaN(_e)||!ee||!ce)return NaN;if(_e<0&&(_e=0),isNaN(J)&&(J=f),$(ee,ce,_e))return _e;if(ce.adaptation.period.start+ce.adaptation.period.duration<_e)return NaN;for(var H=isFinite(ce.adaptation.period.duration)?ce.adaptation.period.start+ce.adaptation.period.duration:_e+30,P=Math.min(_e+J,H),L=NaN,N=null;P<=H;){var Q=null;if(P<=H&&(Q=$(ee,ce,P)),Q){L=P,N=Q;break}P+=J}if(N){var O=N.startTime+N.duration;return _e>N.startTime&&O-_e>J?_e:!isNaN(N.startTime)&&_e<N.startTime&&L>N.startTime?N.startTime+S:Math.min(O-J,L)}return L}catch{return NaN}}},function z(){h=y.getLogger(g),te(),x.on(p.default.DYNAMIC_TO_STATIC,me,g)}(),g}F.__dashjs_factory_name="DashHandler";const w=T.default.getClassFactory(F)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),T=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),A=u(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),M=u(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),f=u(
/*! ../core/Utils */
"./src/core/Utils.js"),S=u(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function F(j){var y,m,d,D,x=this.context,_=(j=j||{}).metricsModel;function ie(Q){var O=_.getMetricsFor(Q,!0);if(!O)return null;var G,U=O.HttpList,k=null;if(!U||U.length<=0)return null;for(G=U.length-1;G>=0;){if(U[G].responsecode){k=U[G];break}G--}return k}function ue(Q){var O=_.getMetricsFor(Q,!0);return O&&O.HttpList?O.HttpList:[]}function te(Q,O){if(!Q)return null;var U=Q[O];return U&&0!==U.length?U[U.length-1]:null}return y={getCurrentRepresentationSwitch:function g(Q){return te(_.getMetricsFor(Q,!0),p.default.TRACK_SWITCH)},getCurrentBufferState:function R(Q){return te(_.getMetricsFor(Q,!0),p.default.BUFFER_STATE)},getCurrentBufferLevel:function I(Q){var U=te(_.getMetricsFor(Q,!0),p.default.BUFFER_LEVEL);return U?A.default.round10(U.level/1e3,-3):0},getCurrentHttpRequest:ie,getHttpRequests:ue,getCurrentDroppedFrames:function Z(){return te(_.getMetricsFor(V.default.VIDEO,!0),p.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function ne(Q){return te(_.getMetricsFor(Q,!0),p.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Ee(Q){return te(Q?_.getMetricsFor(Q,!0):_.getMetricsFor(V.default.VIDEO,!0)||_.getMetricsFor(V.default.AUDIO,!0),p.default.DVR_INFO)},getCurrentManifestUpdate:function se(){return te(_.getMetricsFor(V.default.STREAM),p.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function ee(Q,O){if(!O)return null;var U={},k=ie(Q);k&&(U=f.default.parseHttpHeaders(k._responseHeaders));var G=U[O.toLowerCase()];return void 0===G?null:G},getLatestMPDRequestHeaderValueByID:function _e(Q){if(!Q)return null;var U,k,G,O={};for(G=(U=ue(V.default.STREAM)).length-1;G>=0;G--)if((k=U[G]).type===C.HTTPRequest.MPD_TYPE){O=f.default.parseHttpHeaders(k._responseHeaders);break}var oe=O[Q.toLowerCase()];return void 0===oe?null:oe},addRepresentationSwitch:function h(Q,O,U,k,G){_.addRepresentationSwitch(Q,O,U,k,G)},addDVRInfo:function me(Q,O,U,k){_.addDVRInfo(Q,O,U,k)},updateManifestUpdateInfo:function ge(Q){var O=this.getCurrentManifestUpdate();_.updateManifestUpdateInfo(O,Q)},addManifestUpdateStreamInfo:function $(Q){if(Q){var O=this.getCurrentManifestUpdate();_.addManifestUpdateStreamInfo(O,Q.id,Q.index,Q.start,Q.duration)}},addManifestUpdateRepresentationInfo:function De(Q,O){if(Q){var U=this.getCurrentManifestUpdate();_.addManifestUpdateRepresentationInfo(U,Q.id,Q.index,Q.streamIndex,O,Q.presentationTimeOffset,Q.startNumber,Q.fragmentInfoType)}},addManifestUpdate:function he(Q){_.addManifestUpdate(V.default.STREAM,Q.type,Q.requestStartDate,Q.requestEndDate)},addHttpRequest:function pe(Q,O,U,k,G,oe){_.addHttpRequest(Q.mediaType,null,Q.type,Q.url,Q.quality,O,Q.serviceLocation||null,Q.range||null,Q.requestStartDate,Q.firstByteDate,Q.requestEndDate,U,Q.duration,k,G,Q.fileLoaderType,oe)},addSchedulingInfo:function le(Q,O){_.addSchedulingInfo(Q.mediaType,new Date,Q.type,Q.startTime,Q.availabilityStartTime,Q.duration,Q.quality,Q.range,O)},addRequestsQueue:function Y(Q,O,U){_.addRequestsQueue(Q,O,U)},addBufferLevel:function W(Q,O,U){_.addBufferLevel(Q,O,U)},addBufferState:function z(Q,O,U){_.addBufferState(Q,O,U)},addDroppedFrames:function ae(Q){_.addDroppedFrames(V.default.VIDEO,Q)},addPlayList:function ce(){D&&(_.addPlayList(D),D=null)},addDVBErrors:function N(Q){_.addDVBErrors(Q)},createPlaylistMetrics:function J(Q,O){(D=new S.PlayList).start=new Date,D.mstart=Q,D.starttype=O},createPlaylistTraceMetrics:function H(Q,O,U){!0===m&&(m=!1,(d=new S.PlayListTrace).representationid=Q,d.start=new Date,d.mstart=O,d.playbackspeed=null!==U?U.toString():null)},updatePlayListTraceMetrics:function P(Q){if(d)for(var O in d)d[O]=Q[O]},pushPlayListTraceMetrics:function L(Q,O){if(!1===m&&D&&d&&d.start){var U=d.start,k=Q.getTime()-U.getTime();d.duration=k,d.stopreason=O,D.trace.push(d),m=!0}},clearAllCurrentMetrics:function re(){_.clearAllCurrentMetrics()}},function E(){_=_||(0,M.default)(x).getInstance({settings:j.settings}),function b(){m=!0,d=null,D=null}()}(),y}F.__dashjs_factory_name="DashMetrics";const w=T.default.getSingletonFactory(F)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f});var V=u(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),C=u(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),T=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),A=u(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function M(){var F,w,j,x,y,m,d,D,_,E,b,g,h,S=this.context;function re(ne,le,se,ge){var $=null,he=ne?h.resolve(ne.path):null,pe=ge||{init:!0,url:he?he.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:le};w.debug("Start searching for initialization.");var De=ae(pe);D.load({request:De,success:function(ee){if(pe.bytesLoaded=pe.range.end,!($=x.findInitRange(ee)))return pe.range.end=pe.bytesLoaded+pe.bytesToLoad,re(ne,le,se,pe);ne.range=$,se(ne)},error:function(){se(ne)}}),w.debug("Perform init search: "+pe.url)}function ue(ne,le,se,ge,$,he){if(se&&(void 0===se.start||void 0===se.end)){var pe=se?se.toString().split("-"):null;se=pe?{start:parseFloat(pe[0]),end:parseFloat(pe[1])}:null}$=$||Y;var De=null,Ee=null,me=!!se,_e=ne?h.resolve(ne.path):null,ee={init:!1,url:_e?_e.url:void 0,range:me?se:{start:0,end:1500},searching:!me,bytesLoaded:he?he.bytesLoaded:0,bytesToLoad:1500,mediaType:le},ce=ae(ee);D.load({request:ce,success:function(L){var N=ee.bytesToLoad,Q=L.byteLength;if(ee.bytesLoaded=ee.range.end-ee.range.start,De=x.parse(L),(Ee=De.getBox("sidx"))&&Ee.isComplete){var k,G,U=Ee.references;if(null!=U&&U.length>0&&(k=1===U[0].reference_type),k){w.debug("Initiate multiple SIDX load."),ee.range.end=ee.range.start+Ee.size;var oe,de,q,be,Ce=[],xe=0,He=(Ee.offset||ee.range.start)+Ee.size,je=function(it){it?(Ce=Ce.concat(it),++xe>=de&&(Ce.sort(function(Re,Be){return Re.startTime-Be.startTime<0?-1:0}),$(Ce,ne,ge))):$(null,ne,ge)};for(oe=0,de=U.length;oe<de;oe++)q=He,be=He+U[oe].referenced_size-1,He+=U[oe].referenced_size,ue(ne,le,{start:q,end:be},ge,je,ee)}else w.debug("Parsing segments from SIDX. representation "+le+" - id: "+ne.id+" for range : "+ee.range.start+" - "+ee.range.end),G=function Z(ne,le){for(var Ee,_e,ee,se=ne.references,ge=se.length,$=ne.timescale,he=ne.earliest_presentation_time,pe=le.range.start+ne.offset+ne.first_offset+ne.size,De=[],ce=0;ce<ge;ce++)_e=se[ce].subsegment_duration,ee=se[ce].referenced_size,(Ee=new V.default).duration=_e,Ee.startTime=he,Ee.timescale=$,Ee.mediaRange=pe+"-"+(pe+ee-1),De.push(Ee),he+=_e,pe+=ee;return De}(Ee,ee),$(G,ne,ge)}else{if(Ee)ee.range.start=Ee.offset||ee.range.start,ee.range.end=ee.range.start+(Ee.size||N);else{if(Q<ee.bytesLoaded)return void $(null,ne,ge);var O=De.getLastBox();O&&O.size?(ee.range.start=O.offset+O.size,ee.range.end=ee.range.start+N):ee.range.end+=N}ue(ne,le,ee.range,ge,null,ee)}},error:function(){$(null,ne,ge)}}),w.debug("Perform SIDX load for type ".concat(le," : ").concat(ee.url," with range ").concat(ee.range.start," - ").concat(ee.range.end))}function Y(ne,le,se){se({segments:ne,representation:le,error:ne?void 0:new C.default(_.SEGMENT_BASE_LOADER_ERROR_CODE,_.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function ae(ne){if(ne.url){var le=new p.default;return le.setInfo(ne),le}}return F={setConfig:function W(ne){ne.baseURLController&&(h=ne.baseURLController),ne.dashMetrics&&(m=ne.dashMetrics),ne.mediaPlayerModel&&(d=ne.mediaPlayerModel),ne.errHandler&&(j=ne.errHandler),ne.boxParser&&(x=ne.boxParser),ne.debug&&(w=ne.debug.getLogger(F)),ne.requestModifier&&(y=ne.requestModifier),ne.errors&&(_=ne.errors),ne.urlUtils&&(g=ne.urlUtils),ne.constants&&(E=ne.constants),ne.dashConstants&&(b=ne.dashConstants)},initialize:function I(){D=(0,A.default)(S).create({errHandler:j,dashMetrics:m,mediaPlayerModel:d,requestModifier:y,boxParser:x,errors:_,urlUtils:g,constants:E,dashConstants:b})},loadInitialization:function z(ne,le){return new Promise(function(se){re(ne,le,se)})},loadSegments:function ie(ne,le,se){return new Promise(function(ge){ue(ne,le,se,ge)})},reset:function te(){D&&(D.abort(),D=null)}}}M.__dashjs_factory_name="SegmentBaseLoader";const f=T.default.getSingletonFactory(M)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>F});var V=u(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),C=u(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),T=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),A=u(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),M=u(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),f=u(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function S(){var j,x,y,m,d,D,_,E,b,g,w=this.context;function Y(Z){var ae=new A.default;return ae.setInfo(Z),ae}return j={setConfig:function I(Z){if(!(Z.baseURLController&&Z.dashMetrics&&Z.mediaPlayerModel&&Z.errHandler))throw new Error(C.default.MISSING_CONFIG_ERROR);g=Z.baseURLController,D=Z.dashMetrics,_=Z.mediaPlayerModel,m=Z.errHandler,b=Z.errors,x=Z.debug.getLogger(j),d=Z.requestModifier},initialize:function R(){E=(0,M.default)(w).create({errHandler:m,dashMetrics:D,mediaPlayerModel:_,requestModifier:d,errors:b})},loadInitialization:function ie(Z,ae){return new Promise(function(ne){var le=null,se=Z?g.resolve(Z.path):null,ge=Z?Z.range.split("-"):null,$={range:{start:ge?parseFloat(ge[0]):null,end:ge?parseFloat(ge[1]):null},request:le,url:se?se.url:void 0,init:!0,mediaType:ae};x.info("Start loading initialization."),le=Y($),E.load({request:le,success:function(){ne(Z)},error:function(){ne(Z)}}),x.debug("Perform init load: "+$.url)})},loadSegments:function ue(Z,ae,ne){return new Promise(function(le){var se=null,ge=Z?g.resolve(Z.path):null,$=ge?ge.url:void 0;se=Y({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:se,url:$,init:!1,mediaType:ae}),x.debug("Parsing ebml header"),E.load({request:se,success:function(_e){!function re(Z,ae,ne,le){if(Z&&0!==Z.byteLength){var ge,$,he,pe,se=(0,V.default)(w).create({data:Z}),De=ne?ne.split("-"):null,Ee=null,me={url:ae,range:{start:De?parseFloat(De[0]):null,end:De?parseFloat(De[1]):null},request:Ee};for(x.debug("Parse EBML header: "+me.url),se.skipOverElement(y.EBML),se.consumeTag(y.Segment),he=se.getMatroskaCodedNum(),he+=se.getPos(),pe=se.getPos();se.moreData()&&!se.consumeTagAndSize(y.Segment.Info,!0);)if(!(se.skipOverElement(y.Segment.SeekHead,!0)||se.skipOverElement(y.Segment.Tracks,!0)||se.skipOverElement(y.Segment.Cues,!0)||se.skipOverElement(y.Void,!0)))throw new Error("no valid top level element found");for(;void 0===ge;){var _e=se.getMatroskaCodedNum(!0),ee=se.getMatroskaCodedNum();_e===y.Segment.Info.Duration.tag?ge=se[y.Segment.Info.Duration.parse](ee):se.setPos(se.getPos()+ee)}Ee=Y(me),E.load({request:Ee,success:function(P){$=function z(Z,ae,ne,le){var ge,$,he,pe,De;for(ge=function W(Z){var le,se,ae=[],ne=(0,V.default)(w).create({data:Z});for(ne.consumeTagAndSize(y.Segment.Cues);ne.moreData()&&ne.consumeTagAndSize(y.Segment.Cues.CuePoint,!0);){for((le={}).CueTime=ne.parseTag(y.Segment.Cues.CuePoint.CueTime),le.CueTracks=[];ne.moreData()&&ne.consumeTag(y.Segment.Cues.CuePoint.CueTrackPositions,!0);){var ge=ne.getMatroskaCodedNum(),$=ne.getPos();if((se={}).Track=ne.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===se.Track)throw new Error("Cue track cannot be 0");se.ClusterPosition=ne.parseTag(y.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),le.CueTracks.push(se),ne.setPos($+ge)}if(0===le.CueTracks.length)throw new Error("Mandatory cuetrack not found");ae.push(le)}if(0===ae.length)throw new Error("mandatory cuepoint not found");return ae}(Z),$=[],pe=0,De=ge.length;pe<De;pe+=1)(he=new p.default).duration=pe<ge.length-1?ge[pe+1].CueTime-ge[pe].CueTime:le-ge[pe].CueTime,he.startTime=ge[pe].CueTime,he.timescale=1e3,he.mediaRange=ge[pe].CueTracks[0].ClusterPosition+ae+"-"+(pe<ge.length-1?ge[pe+1].CueTracks[0].ClusterPosition+ae-1:ne-1),$.push(he);return x.debug("Parsed cues: "+$.length+" cues."),$}(P,pe,he,ge),le($)},error:function(){x.error("Download Error: Cues "+me.url),le(null)}}),x.debug("Perform cues load: "+me.url+" bytes="+me.range.start+"-"+me.range.end)}else le(null)}(_e,$,ne,function(ee){le({segments:ee,representation:Z,error:ee?void 0:new f.default(b.SEGMENT_BASE_LOADER_ERROR_CODE,b.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){le({representation:Z,error:new f.default(b.SEGMENT_BASE_LOADER_ERROR_CODE,b.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function te(){E&&(E.abort(),E=null)}},function h(){y={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),j}S.__dashjs_factory_name="WebmSegmentBaseLoader";const F=T.default.getSingletonFactory(S)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";function C(f,S){for(var F=0;F<S.length;F++){var w=S[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}u.r(K),u.d(K,{default:()=>M});const M=new(function(){function f(){(function V(f,S){if(!(f instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function T(f,S,F){S&&C(f.prototype,S),F&&C(f,F)}(f,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),f}())},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>d});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=u(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),p=u(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),A=u(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),M=u(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),f=u(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),S=u(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),j=u(
/*! ../../core/Utils */
"./src/core/Utils.js"),x=u(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),y={THROUGHPUT:"_DASH_throughput",PATHWAY:"_DASH_pathway",URL:"url"};function m(){var E,b,g,h,R,I,W,z,re,ie,ue,Y,te,Z,ae,D=this.context,_=(0,x.default)(D).getInstance();function ge(L){L&&L.toStreamInfo&&(h=L.toStreamInfo)}function $(L){L&&L.request&&L.request.serviceLocation&&(R=L.request.serviceLocation)}function he(){var L=ue.getValue();return ae.getContentSteering(L)}function De(){return new Promise(function(L){try{var N=he();if(!N||!N.serverUrl)return void L();var Q=function Ee(L){var N=L.proxyServerUrl?L.proxyServerUrl:L.serverUrl;g&&g.reloadUri&&(N=_.isRelative(g.reloadUri)?_.resolve(g.reloadUri,L.serverUrl):g.reloadUri);var Q=[];if(h){var O=ae.getIsDynamic(),U=ae.getAllMediaInfoForType(h,w.default.VIDEO).length>0?w.default.VIDEO:w.default.AUDIO,k=te.getThroughputHistory(),G=k?k.getAverageThroughput(U,O):NaN;isNaN(G)||Q.push({key:y.THROUGHPUT,value:1e3*G})}return R&&Q.push({key:y.PATHWAY,value:R}),L.proxyServerUrl&&L.proxyServerUrl===N&&L.serverUrl&&Q.push({key:y.URL,value:encodeURI(L.serverUrl)}),j.default.addAditionalQueryParameterToUrl(N,Q)}(N),O=new A.default(Q);W.load({request:O,success:function(k){(function me(L){!L||!L[f.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(L[f.default.CONTENT_STEERING_RESPONSE.VERSION])||((g=new M.default).version=L[f.default.CONTENT_STEERING_RESPONSE.VERSION],L[f.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(L[f.default.CONTENT_STEERING_RESPONSE.TTL])&&(g.ttl=L[f.default.CONTENT_STEERING_RESPONSE.TTL]),L[f.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(g.reloadUri=L[f.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),L[f.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(g.serviceLocationPriority=L[f.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),_e())})(k),Z.trigger(S.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:g,url:Q}),L()},error:function(k){(function ce(L){b.warn("Error fetching data from content steering server",L),_e()})(k),L(k)}})}catch(U){L(U)}})}function _e(){g&&g.ttl&&!isNaN(g.ttl)&&(I&&clearTimeout(I),I=setTimeout(function(){De()},1e3*g.ttl))}function ee(){I&&clearTimeout(I),I=null}function P(){g=null,h=null,R=null,ee()}return E={reset:function H(){P(),Z.off(S.default.PERIOD_SWITCH_COMPLETED,ge,E),Z.off(F.default.FRAGMENT_LOADING_STARTED,$,E)},setConfig:function le(L){L&&(L.adapter&&(ae=L.adapter),L.errHandler&&(z=L.errHandler),L.dashMetrics&&(re=L.dashMetrics),L.mediaPlayerModel&&(ie=L.mediaPlayerModel),L.requestModifier&&(Y=L.requestModifier),L.manifestModel&&(ue=L.manifestModel),L.abrController&&(te=L.abrController),L.eventBus&&(Z=L.eventBus))},loadSteeringData:De,getCurrentSteeringResponseData:function J(){return g},shouldQueryBeforeStart:function pe(){var L=he();return L&&L.queryBeforeStart},getSteeringDataFromManifest:he,stopSteeringRequestTimer:ee,initialize:function se(){W=(0,T.default)(D).create({errHandler:z,dashMetrics:re,mediaPlayerModel:ie,requestModifier:Y,errors:p.default}),Z.on(S.default.PERIOD_SWITCH_COMPLETED,ge,E),Z.on(F.default.FRAGMENT_LOADING_STARTED,$,E)}},function ne(){b=(0,C.default)(D).getInstance().getLogger(E),P()}(),E}m.__dashjs_factory_name="ContentSteeringController";const d=V.default.getSingletonFactory(m)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=u(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),p=u(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function A(f){var b,g,h,R,I,S=(f=f||{}).eventBus,F=f.events,w=f.abrController,j=f.dashMetrics,x=f.playbackController,y=f.timelineConverter,m=f.type,d=f.streamInfo,D=f.dashConstants,_=f.segmentsController,E=f.isDynamic;function re(){return m}function ie(){if(!(w&&j&&x&&y))throw new Error(V.default.MISSING_CONFIG_ERROR)}function Y(){return h}function te(){return I}function Z(){g=null,h=!0,R=[]}function le(H){return new Promise(function(P,L){var N=H.hasInitialization(),Q=H.hasSegments(),O=[];O.push(_.updateInitData(H,N)),O.push(_.updateSegmentData(H,Q)),Promise.all(O).then(function(U){U[0]&&!U[0].error&&(H=function ge(H,P){return P&&!P.error&&P.representation?P.representation:H}(H,U[0])),U[1]&&!U[1].error&&(H=function $(H,P){if(P&&!P.error){var O,U,k,G,L=P.segments,N=[],Q=0;for(O=0,U=L?L.length:0;O<U;O++)(G=(0,p.getTimeBasedSegment)(y,E,H,(k=L[O]).startTime,k.duration,k.timescale,k.media,k.mediaRange,Q))&&(N.push(G),G=null,Q++);return N.length>0&&(H.segments=N),H}}(H,U[1])),function se(H){H.mediaFinishedInformation=_.getMediaFinishedInformation(H)}(H),function _e(H){if(Y()){var N,P=j.getCurrentManifestUpdate(),L=!1;if(P){for(var O=0;O<P.representationInfo.length;O++)if((N=P.representationInfo[O]).index===H.index&&N.mediaType===re()){L=!0;break}L||j.addManifestUpdateRepresentationInfo(H,re())}if(function Ee(){for(var H=0,P=R.length;H<P;H++){var L=R[H].segmentInfoType;if(!R[H].hasInitialization()||(L===D.SEGMENT_BASE||L===D.BASE_URL)&&!R[H].segments)return!1}return!0}()){w.setPlaybackQuality(m,d,function De(H){return R.indexOf(H)}(I));var U=j.getCurrentDVRInfo(m);U&&j.updateManifestUpdateInfo({latency:U.range.end-x.getTime()}),j.getCurrentRepresentationSwitch(te().adaptation.type)||he(),me()}}}(H),P()}).catch(function(U){L(U)})})}function he(){ie();var H=new Date,P=te(),L=1e3*x.getTime();P&&j.addRepresentationSwitch(P.adaptation.type,H,L,P.id),S.trigger(T.default.REPRESENTATION_SWITCH,{mediaType:m,streamId:d.id,currentRepresentation:P,numberOfRepresentations:R.length},{streamId:d.id,mediaType:m})}function pe(H){return null==H||H>=R.length?null:R[H]}function me(H){h=!1,S.trigger(F.DATA_UPDATE_COMPLETED,{data:g,currentRepresentation:I,error:H},{streamId:d.id,mediaType:m})}function ce(H){I=H}function J(H){if(H.newDuration){var P=te();P&&P.adaptation.period&&(P.adaptation.period.duration=H.newDuration)}}return b={getStreamId:function z(){return d.id},getType:re,getData:function ue(){return g},isUpdating:Y,updateData:function ne(H,P,L,N,Q){if(ie(),h=!0,R=P,ce(pe(Q)),g=H,L!==V.default.VIDEO&&L!==V.default.AUDIO&&(L!==V.default.TEXT||!N))return me(),Promise.resolve();for(var U=[],k=0,G=R.length;k<G;k++)U.push(le(R[k]));return Promise.all(U)},getCurrentRepresentation:te,getRepresentationForQuality:pe,prepareQualityChange:function ee(H){ce(pe(H)),he()},reset:function ae(){S.off(T.default.MANIFEST_VALIDITY_CHANGED,J,b),Z()}},function W(){Z(),S.on(T.default.MANIFEST_VALIDITY_CHANGED,J,b)}(),b}A.__dashjs_factory_name="RepresentationController";const M=C.default.getClassFactory(A)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),T=u(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function p(f){var b,g,h,S=this.context,F=(f=f||{}).eventBus,w=f.events,j=f.dashMetrics,x=f.mediaPlayerModel,y=f.errHandler,m=f.baseURLController,d=f.debug,D=f.boxParser,_=f.requestModifier,E=f.errors;function I(ue){return"webm"===(ue?ue.split("/")[1]:"").toLowerCase()}return b={initialize:function W(){g.initialize(),h.initialize()},getSegmentBaseInitSegment:function z(ue){return I(ue.representation.mimeType)?h.loadInitialization(ue.representation,ue.mediaType):g.loadInitialization(ue.representation,ue.mediaType)},getSegmentList:function re(ue){return I(ue.mimeType)?h.loadSegments(ue.representation,ue.mediaType,ue.representation?ue.representation.indexRange:null):g.loadSegments(ue.representation,ue.mediaType,ue.representation?ue.representation.indexRange:null)},reset:function ie(){g.reset(),h.reset()}},function R(){g=(0,C.default)(S).getInstance(),h=(0,T.default)(S).getInstance(),g.setConfig({baseURLController:m,dashMetrics:j,mediaPlayerModel:x,errHandler:y,eventBus:F,events:w,errors:E,debug:d,boxParser:D,requestModifier:_}),h.setConfig({baseURLController:m,dashMetrics:j,mediaPlayerModel:x,errHandler:y,eventBus:F,events:w,errors:E,debug:d,requestModifier:_})}(),b}p.__dashjs_factory_name="SegmentBaseController";const M=V.default.getSingletonFactory(p)},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>S});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),T=u(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),p=u(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),A=u(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function M(F){var m,d,w=this.context,j=(F=F||{}).dashConstants,x=F.type,y=F.segmentBaseController;function g(W){return W?W.segments?d[j.SEGMENT_BASE]:d[W.segmentInfoType]:null}return m={initialize:function _(W){d[j.SEGMENT_TIMELINE]=(0,C.default)(w).create(F,W),d[j.SEGMENT_TEMPLATE]=(0,T.default)(w).create(F,W),d[j.SEGMENT_LIST]=(0,p.default)(w).create(F,W),d[j.SEGMENT_BASE]=(0,A.default)(w).create(F,W)},updateInitData:function E(W,z){return z?Promise.resolve():y.getSegmentBaseInitSegment({representation:W,mediaType:x})},updateSegmentData:function b(W,z){return z?Promise.resolve():y.getSegmentList({mimeType:W.mimeType,representation:W,mediaType:x})},getSegmentByIndex:function h(W,z,re){var ie=g(W);return ie?ie.getSegmentByIndex(W,z,re):null},getSegmentByTime:function R(W,z){var re=g(W);return re?re.getSegmentByTime(W,z):null},getMediaFinishedInformation:function I(W){var z=g(W);return z?z.getMediaFinishedInformation(W):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function D(){d={}}(),m}M.__dashjs_factory_name="SegmentsController";const S=V.default.getClassFactory(M)},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>S});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),p=u(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=[T.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],M={VIDEO:"video",AUDIO:"audio",ANY:"any",ALL:"all"};function f(){var w,j,x,y,m,F=this.context;function E(){j={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},x=[]}function ie(Z,ae,ne){try{j[Z][ae]=ne/1e3}catch(le){y.error(le)}}return w={getServiceDescriptionSettings:function b(){return j},getProducerReferenceTimeOffsets:function ue(){return x},calculateProducerReferenceTimeOffsets:function Y(Z){try{var ae=[];if(Z&&Z.length>0){var ne=[T.default.VIDEO,T.default.AUDIO,T.default.TEXT],le=m.getAvailabilityStartTime()/1e3;Z.forEach(function(se){var ge=ne.reduce(function($,he){return $.concat(m.getAllMediaInfoForType(se,he))},[]).reduce(function($,he){return m.getProducerReferenceTimes(se,he).forEach(function(De){var Ee=m.getVoRepresentations(he);if(Ee&&Ee.length>0&&Ee[0].adaptation&&Ee[0].segmentInfoType===p.default.SEGMENT_TEMPLATE){var me=Ee[0],ee=new Date(De[p.default.WALL_CLOCK_TIME]).getTime()/1e3;$.push({id:De[p.default.ID],to:le-(ee-(De[p.default.PRESENTATION_TIME]/me[p.default.TIMESCALE]-me[p.default.PRESENTATION_TIME_OFFSET]+se.start))})}}),$},[]);ae=ae.concat(ge)})}x=ae}catch(se){y.error(se),x=[]}},applyServiceDescription:function g(Z){if(Z&&Z.serviceDescriptions){var ae=Z.serviceDescriptions.filter(function(se){return A.includes(se.schemeIdUri)}),ne=Z.serviceDescriptions.filter(function(se){return null==se.schemeIdUri}),le=ae.length>0?ae[ae.length-1]:ne[ne.length-1];le&&(le.latency&&le.latency.target>0&&function h(Z){var ae;if(ae=Z.schemeIdUri===T.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function I(Z){return{liveDelay:Z.latency.target/1e3,maxDrift:!isNaN(Z.latency.max)&&Z.latency.max>Z.latency.target?(Z.latency.max-Z.latency.target+500)/1e3:NaN,referenceId:Z.latency.referenceId||NaN}}(Z):function R(Z){return{liveDelay:Z.latency.target/1e3,maxDrift:!isNaN(Z.latency.max)&&Z.latency.max>Z.latency.target?(Z.latency.max-Z.latency.target+500)/1e3:NaN,referenceId:Z.latency.referenceId||NaN}}(Z),x.length>0){var ne=function te(Z){var ne,ae=0,le=x.filter(function(se){return se.id===Z.referenceId});return 0===le.length?(ae=x.length>0?x[0].to:0,ne=x[0].id||NaN):(ae=le[0].to||0,ne=le[0].id||NaN),{to:ae,id:ne}}(ae),le=ne.to,se=ne.id;j.liveDelay=ae.liveDelay-le,j.liveCatchup.maxDrift=ae.maxDrift,y.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(le," from ProducerReferenceTime element with id ").concat(se,".\n                Live Delay: ").concat(ae.liveDelay-le,", Live catchup max drift: ").concat(ae.maxDrift,"\n            "))}else j.liveDelay=ae.liveDelay,j.liveCatchup.maxDrift=ae.maxDrift,y.debug("Found latency properties coming from service description: Live Delay: ".concat(ae.liveDelay,", Live catchup max drift: ").concat(ae.maxDrift))}(le),le.playbackRate&&function W(Z){var ae=Z.playbackRate.min?Math.round(1e3*(Z.playbackRate.min-1))/1e3:NaN,ne=Z.playbackRate.max?Math.round(1e3*(Z.playbackRate.max-1))/1e3:NaN;j.liveCatchup.playbackRate.min=ae,j.liveCatchup.playbackRate.max=ne,y.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(ae)),y.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ne))}(le),le.operatingBandwidth&&function re(Z){if(Z&&Z.operatingBandwidth&&Z.operatingBandwidth.mediaType&&Z.operatingBandwidth.mediaType!==M.ALL){var ae={};ae.minBandwidth=Z.operatingBandwidth.min,ae.maxBandwidth=Z.operatingBandwidth.max,ae.targetBandwidth=Z.operatingBandwidth.target;var ne=[];Z.operatingBandwidth.mediaType===M.VIDEO||Z.operatingBandwidth.mediaType===M.AUDIO?ne.push(Z.operatingBandwidth.mediaType):Z.operatingBandwidth.mediaType===M.ANY&&(ne.push(M.AUDIO),ne.push(M.VIDEO)),ne.forEach(function(le){isNaN(ae.minBandwidth)||ie("minBitrate",le,ae.minBandwidth),isNaN(ae.maxBandwidth)||ie("maxBitrate",le,ae.maxBandwidth),isNaN(ae.targetBandwidth)||ie("initialBitrate",le,ae.targetBandwidth)})}}(le))}},reset:function _(){E()},setConfig:function D(Z){Z&&Z.adapter&&(m=Z.adapter)}},function d(){y=(0,C.default)(F).getInstance().getLogger(w),E()}(),w}f.__dashjs_factory_name="ServiceDescriptionController";const S=V.default.getSingletonFactory(f)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>ue});var V=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),T=u(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),p=u(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),A=u(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),M=u(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),f=u(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),S=u(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),F=u(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),w=u(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),j=u(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),x=u(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),y=u(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),m=u(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),d=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),D=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),_=u(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),E=u(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),b=u(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function g(Y,te){var Z;if(typeof Symbol>"u"||null==Y[Symbol.iterator]){if(Array.isArray(Y)||(Z=I(Y))||te&&Y&&"number"==typeof Y.length){Z&&(Y=Z);var ae=0,ne=function(){};return{s:ne,n:function(){return ae>=Y.length?{done:!0}:{done:!1,value:Y[ae++]}},e:function(he){throw he},f:ne}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ge,le=!0,se=!1;return{s:function(){Z=Y[Symbol.iterator]()},n:function(){var he=Z.next();return le=he.done,he},e:function(he){se=!0,ge=he},f:function(){try{!le&&null!=Z.return&&Z.return()}finally{if(se)throw ge}}}}function I(Y,te){if(Y){if("string"==typeof Y)return re(Y,te);var Z=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===Z&&Y.constructor&&(Z=Y.constructor.name),"Map"===Z||"Set"===Z)return Array.from(Y);if("Arguments"===Z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return re(Y,te)}}function re(Y,te){(null==te||te>Y.length)&&(te=Y.length);for(var Z=0,ae=new Array(te);Z<te;Z++)ae[Z]=Y[Z];return ae}function ie(){var Y,te,Z,ae,ne=this.context,le=(0,m.default)(ne).getInstance(),se=Number.isInteger||function(Se){return"number"==typeof Se&&isFinite(Se)&&Math.floor(Se)===Se};function $(Se,tt){if(!Se)throw new Error("adaptation is not defined");if(!tt)throw new Error("type is not defined");if(Se.Representation_asArray&&Se.Representation_asArray.length){var Mt=pt(Se.Representation_asArray[0]);if(Mt&&Mt.length>0&&b.THUMBNAILS_SCHEME_ID_URIS.indexOf(Mt[0].schemeIdUri)>=0)return tt===V.default.IMAGE}if(Se.ContentComponent_asArray&&Se.ContentComponent_asArray.length>0){if(Se.ContentComponent_asArray.length>1)return tt===V.default.MUXED;if(Se.ContentComponent_asArray[0].contentType===tt)return!0}var Ue=tt===V.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(tt);if(Se.Representation_asArray&&Se.Representation_asArray.length&&Ue.test(Se.Representation_asArray[0].codecs))return!0;if(Se.hasOwnProperty(C.default.MIME_TYPE))return Ue.test(Se.mimeType);if(Se.Representation_asArray)for(var st,xt=0;xt<Se.Representation_asArray.length;xt++)if((st=Se.Representation_asArray[xt]).hasOwnProperty(C.default.MIME_TYPE))return Ue.test(st.mimeType);return!1}function he(Se){if(!Se)throw new Error("adaptation is not defined");if(Se.hasOwnProperty(C.default.SEGMENT_TEMPLATE)||Se.hasOwnProperty(C.default.SEGMENT_TIMELINE)||Se.hasOwnProperty(C.default.SEGMENT_LIST)||Se.hasOwnProperty(C.default.SEGMENT_BASE))return!0;if(Se.Representation_asArray&&Se.Representation_asArray.length>0){var tt=Se.Representation_asArray[0];if(tt.hasOwnProperty(C.default.SEGMENT_TEMPLATE)||tt.hasOwnProperty(C.default.SEGMENT_TIMELINE)||tt.hasOwnProperty(C.default.SEGMENT_LIST)||tt.hasOwnProperty(C.default.SEGMENT_BASE))return!0}return!1}function pe(Se){return $(Se,V.default.AUDIO)}function De(Se){return $(Se,V.default.VIDEO)}function Ee(Se){return $(Se,V.default.TEXT)}function me(Se){return $(Se,V.default.MUXED)}function _e(Se){return $(Se,V.default.IMAGE)}function O(Se){return Se&&Array.isArray(Se.Representation_asArray)&&Se.Representation_asArray.sort(function(Se,tt){return Se.bandwidth-tt.bandwidth}),Se}function U(Se,tt){return Se&&Se.Period_asArray&&se(tt)&&Se.Period_asArray[tt]?Se.Period_asArray[tt].AdaptationSet_asArray:[]}function k(Se){return Se&&Se.Period_asArray?Se.Period_asArray:[]}function rt(Se){var tt=!1;return Se&&Se.hasOwnProperty("type")&&(tt=Se.type===C.default.DYNAMIC),tt}function pt(Se){return Se&&Se.EssentialProperty_asArray&&Se.EssentialProperty_asArray.length?Se.EssentialProperty_asArray.map(function(tt){return{schemeIdUri:tt.schemeIdUri,value:tt.value}}):null}function rn(Se){if(!Se||!Se.S_asArray)return NaN;var tt=Se.S_asArray[0],Mt=Se.S_asArray[1];return tt.hasOwnProperty("d")?tt.d:Mt.t-tt.t}function at(Se){return Se.adaptation.period.start-Se.presentationTimeOffset}function Oe(Se,tt){if(!Se)throw new Error("Period cannot be null or undefined");var Mt=A.default.DEFAULT_ID+"_"+tt;return Se.hasOwnProperty(C.default.ID)&&Se.id.length>0&&"__proto__"!==Se.id&&(Mt=Se.id),Mt}function gt(Se,tt,Mt){var $e,Ue=[];if(!Se)return Ue;for($e=0;$e<Se.length;$e++){var st=new w.default;if(st.timescale=1,st.representation=tt,!Se[$e].hasOwnProperty(V.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");st.schemeIdUri=Se[$e].schemeIdUri,Se[$e].hasOwnProperty(C.default.TIMESCALE)&&(st.timescale=Se[$e].timescale),Se[$e].hasOwnProperty(C.default.VALUE)&&(st.value=Se[$e].value),Ue.push(st),st.period=Mt}return Ue}function Pe(Se){var tt=[],Ue=!1;return(Se.BaseURL_asArray||[Se.baseUri]).some(function($e){if($e){var st=new F.default,xt=$e.__text||$e;return le.isRelative(xt)&&(Ue=!0,Se.baseUri&&(xt=le.resolve(xt,Se.baseUri))),st.url=xt,st.serviceLocation=$e.hasOwnProperty(C.default.SERVICE_LOCATION)&&$e.serviceLocation.length?$e.serviceLocation:xt,$e.hasOwnProperty(C.default.DVB_PRIORITY)&&(st.dvb_priority=$e[C.default.DVB_PRIORITY]),$e.hasOwnProperty(C.default.DVB_WEIGHT)&&(st.dvb_weight=$e[C.default.DVB_WEIGHT]),$e.hasOwnProperty(C.default.AVAILABILITY_TIME_OFFSET)&&(st.availabilityTimeOffset=$e[C.default.AVAILABILITY_TIME_OFFSET]),$e.hasOwnProperty(C.default.AVAILABILITY_TIME_COMPLETE)&&(st.availabilityTimeComplete="false"!==$e[C.default.AVAILABILITY_TIME_COMPLETE]),tt.push(st),Ue}}),tt}return Y={getIsTypeOf:$,getIsText:Ee,getIsFragmented:he,getProducerReferenceTimesForAdaptation:function ee(Se){var tt=Se&&Se.hasOwnProperty(C.default.PRODUCERREFERENCETIME_ASARRAY)?Se[C.default.PRODUCERREFERENCETIME_ASARRAY]:[];(Se&&Se.hasOwnProperty(C.default.REPRESENTATION_ASARRAY)?Se[C.default.REPRESENTATION_ASARRAY]:[]).forEach(function($e){$e.hasOwnProperty(C.default.PRODUCERREFERENCETIME_ASARRAY)&&tt.push.apply(tt,function h(Y){return function z(Y){if(Array.isArray(Y))return re(Y)}(Y)||function W(Y){if(typeof Symbol<"u"&&Symbol.iterator in Object(Y))return Array.from(Y)}(Y)||I(Y)||function R(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}($e[C.default.PRODUCERREFERENCETIME_ASARRAY]))});var Ue=[];return tt.forEach(function($e){var st=new j.default;$e.hasOwnProperty(C.default.ID)&&(st[C.default.ID]=$e[C.default.ID],$e.hasOwnProperty(C.default.WALL_CLOCK_TIME)&&(st[C.default.WALL_CLOCK_TIME]=$e[C.default.WALL_CLOCK_TIME],$e.hasOwnProperty(C.default.PRESENTATION_TIME)&&(st[C.default.PRESENTATION_TIME]=$e[C.default.PRESENTATION_TIME],Ue.push(st))))}),Ue},getLanguageForAdaptation:function ce(Se){var tt="";return Se&&Se.hasOwnProperty(C.default.LANG)&&(tt=Se.lang),tt},getViewpointForAdaptation:function J(Se){return Se&&Se.hasOwnProperty(C.default.VIEWPOINT)?Se.Viewpoint:null},getRolesForAdaptation:function H(Se){return Se&&Se.hasOwnProperty(C.default.ROLE_ASARRAY)?Se.Role_asArray:[]},getAccessibilityForAdaptation:function P(Se){return Se&&Se.hasOwnProperty(C.default.ACCESSIBILITY_ASARRAY)?Se.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function L(Se){return Se&&Se.hasOwnProperty(C.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Se.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function N(Se){return Se&&Se.hasOwnProperty(C.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?Se.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function de(Se,tt,Mt){var Ue=U(tt,Mt);return Ue.length>0&&se(Se)?Ue[Se]:null},getIndexForAdaptation:function q(Se,tt,Mt){if(!Se)return-1;for(var Ue=U(tt,Mt),$e=0;$e<Ue.length;$e++)if((0,y.default)(ne).getInstance().areEqual(Ue[$e],Se))return $e;return-1},getAdaptationForId:function oe(Se,tt,Mt){var $e,st,Ue=U(tt,Mt);for($e=0,st=Ue.length;$e<st;$e++)if(Ue[$e].hasOwnProperty(C.default.ID)&&Ue[$e].id===Se)return Ue[$e];return null},getAdaptationsForType:function be(Se,tt,Mt){var $e,st,Ue=U(Se,tt),xt=[];for($e=0,st=Ue.length;$e<st;$e++)$(Ue[$e],Mt)&&xt.push(O(Ue[$e]));return xt},getRealPeriods:k,getRealPeriodForIndex:function G(Se,tt){var Mt=k(tt);return Mt.length>0&&se(Se)?Mt[Se]:null},getCodec:function ve(Se,tt,Mt){var Ue=null;if(Se&&Se.Representation_asArray&&Se.Representation_asArray.length>0){var $e=se(tt)&&tt>=0&&tt<Se.Representation_asArray.length?Se.Representation_asArray[tt]:Se.Representation_asArray[0];$e&&(Ue=$e.mimeType+';codecs="'+$e.codecs+'"',Mt&&void 0!==$e.width&&(Ue+=';width="'+$e.width+'";height="'+$e.height+'"'))}return Ue&&(Ue=Ue.replace(/\sprofiles=[^;]*/g,"")),Ue},getSelectionPriority:function qe(Se){try{var tt=Se&&typeof Se.selectionPriority<"u"?parseInt(Se.selectionPriority):1;return isNaN(tt)?1:tt}catch{return 1}},getMimeType:function Ce(Se){return Se&&Se.Representation_asArray&&Se.Representation_asArray.length>0?Se.Representation_asArray[0].mimeType:null},getKID:function xe(Se){return Se&&Se.hasOwnProperty(C.default.CENC_DEFAULT_KID)?Se[C.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function He(Se){if(!Se||!Array.isArray(Se.Label_asArray))return[];for(var tt=[],Mt=0;Mt<Se.Label_asArray.length;Mt++)tt.push({lang:Se.Label_asArray[Mt].lang,text:Se.Label_asArray[Mt].__text||Se.Label_asArray[Mt]});return tt},getContentProtectionData:function je(Se){return Se&&Se.hasOwnProperty(C.default.CONTENTPROTECTION_ASARRAY)&&0!==Se.ContentProtection_asArray.length?Se.ContentProtection_asArray:null},getIsDynamic:rt,getId:function it(Se){return Se&&Se[C.default.ID]||null},hasProfile:function Re(Se,tt){var Mt=!1;return Se&&Se.profiles&&Se.profiles.length>0&&(Mt=-1!==Se.profiles.indexOf(tt)),Mt},getDuration:function Be(Se){return Se&&Se.hasOwnProperty(C.default.MEDIA_PRESENTATION_DURATION)?Se.mediaPresentationDuration:Se&&"dynamic"==Se.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function ct(Se){return Se&&Se.bandwidth?Se.bandwidth:NaN},getManifestUpdatePeriod:function yt(Se){var tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Mt=NaN;return Se&&Se.hasOwnProperty(C.default.MINIMUM_UPDATE_PERIOD)&&(Mt=Se.minimumUpdatePeriod),isNaN(Mt)?Mt:Math.max(Mt-tt,1)},getPublishTime:function Dt(Se){return Se&&Se.hasOwnProperty(C.default.PUBLISH_TIME)?new Date(Se[C.default.PUBLISH_TIME]):null},getRepresentationCount:function Fe(Se){return Se&&Array.isArray(Se.Representation_asArray)?Se.Representation_asArray.length:0},getBitrateListForAdaptation:function Ze(Se){var tt=O(Se);return(tt&&Array.isArray(tt.Representation_asArray)?tt.Representation_asArray:[]).map(function(Ue){return{bandwidth:Ue.bandwidth,width:Ue.width||0,height:Ue.height||0,scanType:Ue.scanType||null,id:Ue.id||null}})},getRepresentationFor:function Tt(Se,tt){return tt&&tt.Representation_asArray&&tt.Representation_asArray.length>0&&se(Se)?tt.Representation_asArray[Se]:null},getRepresentationsForAdaptation:function wt(Se){var Ue,$e,tt=[],Mt=function It(Se){if(Se&&Se.period&&se(Se.period.index)){var tt=Se.period.mpd.manifest.Period_asArray[Se.period.index];if(tt&&tt.AdaptationSet_asArray&&se(Se.index))return O(tt.AdaptationSet_asArray[Se.index])}}(Se);if(Mt&&Mt.Representation_asArray){if(Se&&Se.period&&se(Se.period.index)){var st=Pe(Se.period.mpd.manifest);st&&($e=st[0])}for(var xt=0,dn=Mt.Representation_asArray.length;xt<dn;++xt){var $t=Mt.Representation_asArray[xt],kt=new T.default;if(kt.index=xt,kt.adaptation=Se,$t.hasOwnProperty(C.default.ID)&&(kt.id=$t.id),$t.hasOwnProperty(C.default.CODECS)&&(kt.codecs=$t.codecs),$t.hasOwnProperty(C.default.MIME_TYPE)&&(kt.mimeType=$t[C.default.MIME_TYPE]),$t.hasOwnProperty(C.default.CODEC_PRIVATE_DATA)&&(kt.codecPrivateData=$t.codecPrivateData),$t.hasOwnProperty(C.default.BANDWITH)&&(kt.bandwidth=$t.bandwidth),$t.hasOwnProperty(C.default.WIDTH)&&(kt.width=$t.width),$t.hasOwnProperty(C.default.HEIGHT)&&(kt.height=$t.height),$t.hasOwnProperty(C.default.SCAN_TYPE)&&(kt.scanType=$t.scanType),$t.hasOwnProperty(C.default.MAX_PLAYOUT_RATE)&&(kt.maxPlayoutRate=$t.maxPlayoutRate),$t.hasOwnProperty(C.default.SEGMENT_BASE)?(Ue=$t.SegmentBase,kt.segmentInfoType=C.default.SEGMENT_BASE):$t.hasOwnProperty(C.default.SEGMENT_LIST)?kt.segmentInfoType=(Ue=$t.SegmentList).hasOwnProperty(C.default.SEGMENT_TIMELINE)?C.default.SEGMENT_TIMELINE:C.default.SEGMENT_LIST:$t.hasOwnProperty(C.default.SEGMENT_TEMPLATE)?(kt.segmentInfoType=(Ue=$t.SegmentTemplate).hasOwnProperty(C.default.SEGMENT_TIMELINE)?C.default.SEGMENT_TIMELINE:C.default.SEGMENT_TEMPLATE,Ue.hasOwnProperty(C.default.INITIALIZATION_MINUS)&&(kt.initialization=Ue.initialization.split("$Bandwidth$").join($t.bandwidth).split("$RepresentationID$").join($t.id))):kt.segmentInfoType=C.default.BASE_URL,kt.essentialProperties=pt($t),Ue){if(Ue.hasOwnProperty(C.default.INITIALIZATION)){var Hn=Ue.Initialization;Hn.hasOwnProperty(C.default.SOURCE_URL)&&(kt.initialization=Hn.sourceURL),Hn.hasOwnProperty(C.default.RANGE)&&(kt.range=Hn.range)}else Ee(Mt)&&he(Mt)&&Mt.mimeType&&-1===Mt.mimeType.indexOf("application/mp4")&&(kt.range=0);Ue.hasOwnProperty(C.default.TIMESCALE)&&(kt.timescale=Ue.timescale),Ue.hasOwnProperty(C.default.DURATION)?kt.segmentDuration=Ue.duration/kt.timescale:$t.hasOwnProperty(C.default.SEGMENT_TEMPLATE)&&(Ue=$t.SegmentTemplate).hasOwnProperty(C.default.SEGMENT_TIMELINE)&&(kt.segmentDuration=rn(Ue.SegmentTimeline)/kt.timescale),Ue.hasOwnProperty(C.default.MEDIA)&&(kt.media=Ue.media),Ue.hasOwnProperty(C.default.START_NUMBER)&&(kt.startNumber=Ue.startNumber),Ue.hasOwnProperty(C.default.INDEX_RANGE)&&(kt.indexRange=Ue.indexRange),Ue.hasOwnProperty(C.default.PRESENTATION_TIME_OFFSET)&&(kt.presentationTimeOffset=Ue.presentationTimeOffset/kt.timescale),Ue.hasOwnProperty(C.default.AVAILABILITY_TIME_OFFSET)?kt.availabilityTimeOffset=Ue.availabilityTimeOffset:$e&&void 0!==$e.availabilityTimeOffset&&(kt.availabilityTimeOffset=$e.availabilityTimeOffset),Ue.hasOwnProperty(C.default.AVAILABILITY_TIME_COMPLETE)?kt.availabilityTimeComplete="false"!==Ue.availabilityTimeComplete:$e&&void 0!==$e.availabilityTimeComplete&&(kt.availabilityTimeComplete=$e.availabilityTimeComplete)}kt.MSETimeOffset=at(kt),kt.path=[Se.period.index,Se.index,xt],tt.push(kt)}}return tt},getAdaptationsForPeriod:function Ae(Se){var Ue,$e,st,tt=Se&&se(Se.index)?Se.mpd.manifest.Period_asArray[Se.index]:null,Mt=[];if(tt&&tt.AdaptationSet_asArray)for(st=0;st<tt.AdaptationSet_asArray.length;st++)$e=tt.AdaptationSet_asArray[st],Ue=new p.default,$e.hasOwnProperty(C.default.ID)&&(Ue.id=$e.id),Ue.index=st,Ue.period=Se,me($e)?Ue.type=V.default.MUXED:pe($e)?Ue.type=V.default.AUDIO:De($e)?Ue.type=V.default.VIDEO:Ee($e)?Ue.type=V.default.TEXT:_e($e)?Ue.type=V.default.IMAGE:te.warn("Unknown Adaptation stream type"),Mt.push(Ue);return Mt},getRegularPeriods:function ye(Se){var dn,$t,tt=!!Se&&rt(Se.manifest),Mt=[],Ue=null,$e=null,st=null,xt=null;for($t=0,dn=Se&&Se.manifest&&Se.manifest.Period_asArray?Se.manifest.Period_asArray.length:0;$t<dn;$t++)($e=Se.manifest.Period_asArray[$t]).hasOwnProperty(C.default.START)?(xt=new A.default).start=$e.start:null!==Ue&&Ue.hasOwnProperty(C.default.DURATION)&&null!==st?(xt=new A.default).start=parseFloat((st.start+st.duration).toFixed(5)):0===$t&&!tt&&((xt=new A.default).start=0),null!==st&&isNaN(st.duration)&&(null!==xt?st.duration=parseFloat((xt.start-st.start).toFixed(5)):te.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==xt&&(xt.id=Oe($e,$t),xt.index=$t,xt.mpd=Se,$e.hasOwnProperty(C.default.DURATION)&&(xt.duration=$e.duration),st&&(st.nextPeriodId=xt.id),Mt.push(xt),Ue=$e,st=xt),$e=null,xt=null;return 0===Mt.length||null!==st&&isNaN(st.duration)&&(st.duration=parseFloat((function ut(Se){!function Ke(){if(!Z||!Z.hasOwnProperty("error"))throw new Error(V.default.MISSING_CONFIG_ERROR)}();var Mt,tt=rt(Se.mpd.manifest);return Se.mpd.manifest.mediaPresentationDuration?Mt=Se.mpd.manifest.mediaPresentationDuration:Se.duration?Mt=Se.duration:tt?Mt=Number.POSITIVE_INFINITY:Z.error(new _.default(E.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",Se)),Mt}(st)-st.start).toFixed(5))),Mt},getMpd:function We(Se){var tt=new M.default;return Se&&(tt.manifest=Se,Se.hasOwnProperty(C.default.AVAILABILITY_START_TIME)?tt.availabilityStartTime=new Date(Se.availabilityStartTime.getTime()):Se.loadedTime&&(tt.availabilityStartTime=new Date(Se.loadedTime.getTime())),Se.hasOwnProperty(C.default.AVAILABILITY_END_TIME)&&(tt.availabilityEndTime=new Date(Se.availabilityEndTime.getTime())),Se.hasOwnProperty(C.default.MINIMUM_UPDATE_PERIOD)&&(tt.minimumUpdatePeriod=Se.minimumUpdatePeriod),Se.hasOwnProperty(C.default.MEDIA_PRESENTATION_DURATION)&&(tt.mediaPresentationDuration=Se.mediaPresentationDuration),Se.hasOwnProperty(C.default.SUGGESTED_PRESENTATION_DELAY)&&(tt.suggestedPresentationDelay=Se.suggestedPresentationDelay),Se.hasOwnProperty(C.default.TIMESHIFT_BUFFER_DEPTH)&&(tt.timeShiftBufferDepth=Se.timeShiftBufferDepth),Se.hasOwnProperty(C.default.MAX_SEGMENT_DURATION)&&(tt.maxSegmentDuration=Se.maxSegmentDuration),Se.hasOwnProperty(C.default.PUBLISH_TIME)&&(tt.publishTime=new Date(Se.publishTime))),tt},getEventsForPeriod:function Et(Se){var st,xt,tt=Se&&Se.mpd&&Se.mpd.manifest?Se.mpd.manifest:null,Mt=tt?tt.Period_asArray:null,Ue=Mt&&Se&&se(Se.index)?Mt[Se.index].EventStream_asArray:null,$e=[];if(Ue)for(st=0;st<Ue.length;st++){var dn=new w.default;if(dn.period=Se,dn.timescale=1,!Ue[st].hasOwnProperty(V.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(dn.schemeIdUri=Ue[st][V.default.SCHEME_ID_URI],Ue[st].hasOwnProperty(C.default.TIMESCALE)&&(dn.timescale=Ue[st][C.default.TIMESCALE]),Ue[st].hasOwnProperty(C.default.VALUE)&&(dn.value=Ue[st][C.default.VALUE]),Ue[st].hasOwnProperty(C.default.PRESENTATION_TIME_OFFSET)&&(dn.presentationTimeOffset=Ue[st][C.default.PRESENTATION_TIME_OFFSET]),xt=0;Ue[st].Event_asArray&&xt<Ue[st].Event_asArray.length;xt++){var $t=Ue[st].Event_asArray[xt],kt=new S.default;kt.presentationTime=0,kt.eventStream=dn,$t.hasOwnProperty(C.default.PRESENTATION_TIME)&&(kt.presentationTime=$t.presentationTime),kt.calculatedPresentationTime=kt.presentationTime/dn.timescale+Se.start-(dn.presentationTimeOffset?dn.presentationTimeOffset/dn.timescale:0),$t.hasOwnProperty(C.default.DURATION)&&(kt.duration=$t.duration/dn.timescale),kt.id=$t.hasOwnProperty(C.default.ID)?$t.id:null,kt.messageData=$t.Signal&&$t.Signal.Binary?ae.decodeArray($t.Signal.Binary.toString()):$t.messageData||$t.__cdata||$t.__text,$e.push(kt)}}return $e},getEssentialPropertiesForRepresentation:pt,getEventStreamForAdaptationSet:function St(Se,tt,Mt){var Ue,$e,st;return Se&&Se.Period_asArray&&tt&&tt.period&&se(tt.period.index)&&($e=Se.Period_asArray[tt.period.index])&&$e.AdaptationSet_asArray&&se(tt.index)&&(st=$e.AdaptationSet_asArray[tt.index])&&(Ue=st.InbandEventStream_asArray),gt(Ue,null,Mt)},getEventStreamForRepresentation:function Wt(Se,tt,Mt){var Ue,$e,st,xt;return Se&&Se.Period_asArray&&tt&&tt.adaptation&&tt.adaptation.period&&se(tt.adaptation.period.index)&&($e=Se.Period_asArray[tt.adaptation.period.index])&&$e.AdaptationSet_asArray&&se(tt.adaptation.index)&&(st=$e.AdaptationSet_asArray[tt.adaptation.index])&&st.Representation_asArray&&se(tt.index)&&(xt=st.Representation_asArray[tt.index])&&(Ue=xt.InbandEventStream_asArray),gt(Ue,tt,Mt)},getUTCTimingSources:function Kt(Se){var tt=rt(Se),Mt=!!Se&&Se.hasOwnProperty(C.default.AVAILABILITY_START_TIME),Ue=Se?Se.UTCTiming_asArray:null,$e=[];return(tt||Mt)&&Ue&&Ue.forEach(function(st){var xt=new f.default;st.hasOwnProperty(V.default.SCHEME_ID_URI)&&(xt.schemeIdUri=st.schemeIdUri,st.hasOwnProperty(C.default.VALUE)&&(xt.value=st.value.toString(),$e.push(xt)))}),$e},getBaseURLsFromElement:Pe,getRepresentationSortFunction:function Q(){return function(Se,tt){return Se.bandwidth-tt.bandwidth}},getContentSteering:function ze(Se){if(Se&&Se.hasOwnProperty(C.default.CONTENT_STEERING_AS_ARRAY)){var tt=Se[C.default.CONTENT_STEERING_AS_ARRAY][0],Mt=new x.default;return Mt.serverUrl=tt.__text,tt.hasOwnProperty(C.default.DEFAULT_SERVICE_LOCATION)&&(Mt.defaultServiceLocation=tt[C.default.DEFAULT_SERVICE_LOCATION]),tt.hasOwnProperty(C.default.QUERY_BEFORE_START)&&(Mt.queryBeforeStart="true"===tt[C.default.QUERY_BEFORE_START].toLowerCase()),tt.hasOwnProperty(C.default.PROXY_SERVER_URL)&&(Mt.proxyServerUrl=tt[C.default.PROXY_SERVER_URL]),Mt}},getLocation:function mt(Se){if(Se&&Se.hasOwnProperty(V.default.LOCATION))return Se.Location=Se.Location_asArray[0],Se.Location},getPatchLocation:function Lt(Se){if(Se&&Se.hasOwnProperty(C.default.PATCH_LOCATION))return Se.PatchLocation=Se.PatchLocation_asArray[0],Se.PatchLocation},getSuggestedPresentationDelay:function At(Se){return Se&&Se.hasOwnProperty(C.default.SUGGESTED_PRESENTATION_DELAY)?Se.suggestedPresentationDelay:null},getAvailabilityStartTime:function Bt(Se){return Se&&Se.hasOwnProperty(C.default.AVAILABILITY_START_TIME)&&null!==Se.availabilityStartTime?Se.availabilityStartTime.getTime():null},getServiceDescriptions:function on(Se){var tt=[];if(Se&&Se.hasOwnProperty(C.default.SERVICE_DESCRIPTION)){var Ue,Mt=g(Se.ServiceDescription_asArray);try{for(Mt.s();!(Ue=Mt.n()).done;){var $e=Ue.value,st=null,xt=null,dn=null,$t=null,kt=null,Hn=null;for(var Tn in $e)$e.hasOwnProperty(Tn)&&(Tn===C.default.ID?st=$e[Tn]:Tn===C.default.SERVICE_DESCRIPTION_SCOPE?xt=$e[Tn].schemeIdUri:Tn===C.default.SERVICE_DESCRIPTION_LATENCY?dn={target:parseInt($e[Tn].target),max:parseInt($e[Tn].max),min:parseInt($e[Tn].min),referenceId:parseInt($e[Tn].referenceId)}:Tn===C.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?$t={max:parseFloat($e[Tn].max),min:parseFloat($e[Tn].min)}:Tn===C.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?kt={mediaType:$e[Tn].mediaType,max:parseInt($e[Tn].max),min:parseInt($e[Tn].min),target:parseInt($e[Tn].target),type:$e[Tn].type,maxQualityDifference:parseInt($e[Tn].maxQualityDifference)}:Tn===C.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Hn={mediaType:$e[Tn].mediaType,max:parseInt($e[Tn].max),min:parseInt($e[Tn].min),target:parseInt($e[Tn].target)}));tt.push({id:st,schemeIdUri:xt,latency:dn,playbackRate:$t,operatingQuality:kt,operatingBandwidth:Hn})}}catch(ft){Mt.e(ft)}finally{Mt.f()}}return tt},getSupplementalProperties:function vn(Se){var tt={};if(Se&&Se.hasOwnProperty(C.default.SUPPLEMENTAL_PROPERTY)){var Ue,Mt=g(Se.SupplementalProperty_asArray);try{for(Mt.s();!(Ue=Mt.n()).done;){var $e=Ue.value;$e.hasOwnProperty(V.default.SCHEME_ID_URI)&&$e.hasOwnProperty(C.default.VALUE)&&(tt[$e[V.default.SCHEME_ID_URI]]=$e[C.default.VALUE])}}catch(st){Mt.e(st)}finally{Mt.f()}}return tt},setConfig:function Nn(Se){Se&&(Se.errHandler&&(Z=Se.errHandler),Se.BASE64&&(ae=Se.BASE64))}},function ge(){te=(0,D.default)(ne).getInstance().getLogger(Y)}(),Y}ie.__dashjs_factory_name="DashManifestModel";const ue=d.default.getSingletonFactory(ie)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f});var V=u(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=u(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),A=u(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function M(){var S,F,w=this.context;return S={getIsPatch:function x(_){return _&&_.hasOwnProperty(V.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function y(_){return _&&_.hasOwnProperty(V.default.PUBLISH_TIME)?new Date(_[V.default.PUBLISH_TIME]):null},getOriginalPublishTime:function m(_){return _&&_.hasOwnProperty(V.default.ORIGINAL_PUBLISH_TIME)?new Date(_[V.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function d(_){return _&&_[V.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function D(_){return _?(_.__children||[]).map(function(E){var b=Object.keys(E)[0];if("add"!==b&&"remove"!==b&&"replace"!==b)return F.warn("Ignoring node of invalid action: ".concat(b)),null;var g=E[b],h=g.sel;if("add"===b&&g.type){if(!g.type.startsWith("@"))return F.warn("Ignoring add action for prefixed namespace declaration: ".concat(g.type,"=").concat(g.__text)),null;h="".concat(h,"/").concat(g.type)}var R=new p.default(h);if(!R.isValid())return F.warn("Ignoring action with invalid selector: ".concat(b," - ").concat(h)),null;var I=null;R.findsAttribute()?I=g.__text||"":"remove"!==b&&(I=g.__children.reduce(function(z,re){var ie=Object.keys(re)[0];return"#text"!==ie&&(z[ie]=z[ie]||[],z[ie].push(re[ie])),z},{}));var W=new A.default(b,R,I);return"add"===b&&(W.position=g.pos),W}).filter(function(E){return!!E}):[]}},function j(){F=(0,T.default)(w).getInstance().getLogger(S)}(),S}M.__dashjs_factory_name="PatchManifestModel";const f=C.default.getSingletonFactory(M)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>x});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),T=u(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),p=u(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),A=u(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),M=u(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),f=u(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),S=u(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),F=u(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),w=u(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function j(y){var D,_,E,b,g,m=this.context,d=(y=y||{}).debug;return D={parse:function W(z){var re,ie=window.performance.now();if(!(re=b.xml_str2json(z)))throw new Error("parsing the manifest failed");var ue=window.performance.now();re.Patch?((re=re.Patch).add_asArray&&re.add_asArray.forEach(function(te){return g.run(te)}),re.replace_asArray&&re.replace_asArray.forEach(function(te){return g.run(te)})):g.run(re=re.MPD);var Y=window.performance.now();return _.info("Parsing complete: ( xml2json: "+(ue-ie).toPrecision(3)+"ms, objectiron: "+(Y-ue).toPrecision(3)+"ms, total: "+((Y-ie)/1e3).toPrecision(3)+"s)"),re.protocol="DASH",re},getMatchers:function R(){return E},getIron:function I(){return g}},function h(){_=d.getLogger(D),E=[new A.default,new M.default,new f.default,new S.default,new p.default],b=new T.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:E}),g=(0,C.default)(m).create({adaptationset:new F.default,period:new w.default})}(),D}j.__dashjs_factory_name="DashParser";const x=V.default.getClassFactory(j)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";function C(M,f){for(var S=0;S<f.length;S++){var F=f[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}u.r(K),u.d(K,{default:()=>A});const A=function(){function M(f){var w;!function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,M),this._name=f,this._merge=(w=f)&&w.length&&w.charAt(0)===w.charAt(0).toUpperCase()}return function T(M,f,S){f&&C(M.prototype,f),S&&C(M,S)}(M,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),M}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function T(f,S){for(var F=0;F<S.length;F++){var w=S[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}const M=function(){function f(S,F,w){var j=this;(function C(f,S){if(!(f instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f),this._name=S||"",this._properties=[],this._children=w||[],Array.isArray(F)&&F.forEach(function(x){j._properties.push(new V.default(x))})}return function p(f,S,F){S&&T(f.prototype,S),F&&T(f,F)}(f,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),f}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),C=u(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function M(m,d){return(M=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function j(m){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}const y=function(m){!function A(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&M(m,d)}(D,m);var d=function f(m){var d=function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=j(m);if(d){var b=j(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function S(m,d){return!d||"object"!==T(d)&&"function"!=typeof d?function F(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(){!function p(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D);var _=[C.default.PROFILES,C.default.WIDTH,C.default.HEIGHT,C.default.SAR,C.default.FRAMERATE,C.default.AUDIO_SAMPLING_RATE,C.default.MIME_TYPE,C.default.SEGMENT_PROFILES,C.default.CODECS,C.default.MAXIMUM_SAP_PERIOD,C.default.START_WITH_SAP,C.default.MAX_PLAYOUT_RATE,C.default.CODING_DEPENDENCY,C.default.SCAN_TYPE,C.default.FRAME_PACKING,C.default.AUDIO_CHANNEL_CONFIGURATION,C.default.CONTENT_PROTECTION,C.default.ESSENTIAL_PROPERTY,C.default.SUPPLEMENTAL_PROPERTY,C.default.INBAND_EVENT_STREAM];return d.call(this,C.default.ADAPTATION_SET,_,[new V.default(C.default.REPRESENTATION,_,[new V.default(C.default.SUB_REPRESENTATION,_)])])}return D}(V.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),C=u(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function M(m,d){return(M=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function j(m){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}const y=function(m){!function A(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&M(m,d)}(D,m);var d=function f(m){var d=function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=j(m);if(d){var b=j(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function S(m,d){return!d||"object"!==T(d)&&"function"!=typeof d?function F(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(){!function p(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D);var _=[C.default.SEGMENT_BASE,C.default.SEGMENT_TEMPLATE,C.default.SEGMENT_LIST];return d.call(this,C.default.PERIOD,_,[new V.default(C.default.ADAPTATION_SET,_,[new V.default(C.default.REPRESENTATION,_)])])}return D}(V.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/(Me,K,u)=>{"use strict";function C(M,f){for(var S=0;S<f.length;S++){var F=f[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}u.r(K),u.d(K,{default:()=>A});const A=function(){function M(f,S){(function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")})(this,M),this._test=f,this._converter=S}return function T(M,f,S){f&&C(M.prototype,f),S&&C(M,S)}(M,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),M}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>D});var V=u(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function C(_){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}function A(_,E){return(A=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g})(_,E)}function w(_){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(_)}var j=60,x=60,y=1e3,m=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;const D=function(_){!function p(_,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),E&&A(_,E)}(b,_);var E=function M(_){var E=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var h,g=w(_);if(E){var R=w(this).constructor;h=Reflect.construct(g,arguments,R)}else h=g.apply(this,arguments);return function f(_,E){return!E||"object"!==C(E)&&"function"!=typeof E?function S(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(_):E}(this,h)}}(b);function b(){return function T(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}(this,b),E.call(this,function(g){return m.test(g.value)},function(g){var R,h=m.exec(g);if(R=Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),h[6]&&parseInt(h[6],10)||0,h[7]&&parseFloat(h[7])*y||0),h[9]&&h[10]){var I=parseInt(h[9],10)*x+parseInt(h[10],10);R+=("+"===h[8]?-1:1)*I*j*y}return new Date(R)})}return b}(V.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>g});var V=u(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),C=u(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),T=u(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function p(h){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(I){return typeof I}:function(I){return I&&"function"==typeof Symbol&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(h)}function f(h,R){return(f=Object.setPrototypeOf||function(W,z){return W.__proto__=z,W})(h,R)}function x(h){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(h)}var y=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,m=31536e3,d=2592e3,D=86400,_=3600,E=60;const g=function(h){!function M(h,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(R&&R.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),R&&f(h,R)}(I,h);var R=function S(h){var R=function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,W=x(h);if(R){var re=x(this).constructor;z=Reflect.construct(W,arguments,re)}else z=W.apply(this,arguments);return function F(h,R){return!R||"object"!==p(R)&&"function"!=typeof R?function w(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(h):R}(this,z)}}(I);function I(){return function A(h,R){if(!(h instanceof R))throw new TypeError("Cannot call a class as a function")}(this,I),R.call(this,function(W){for(var z=[T.default.MIN_BUFFER_TIME,T.default.MEDIA_PRESENTATION_DURATION,T.default.MINIMUM_UPDATE_PERIOD,T.default.TIMESHIFT_BUFFER_DEPTH,T.default.MAX_SEGMENT_DURATION,T.default.MAX_SUBSEGMENT_DURATION,T.default.SUGGESTED_PRESENTATION_DELAY,T.default.START,C.default.START_TIME,T.default.DURATION],re=z.length,ie=0;ie<re;ie++)if(W.nodeName===z[ie])return y.test(W.value);return!1},function(W){var z=y.exec(W),re=parseFloat(z[3]||0)*m+parseFloat(z[5]||0)*d+parseFloat(z[7]||0)*D+parseFloat(z[9]||0)*_+parseFloat(z[11]||0)*E+parseFloat(z[13]||0);return void 0!==z[1]&&(re=-re),re})}return I}(V.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>D});var V=u(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),C=u(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),T=u(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),p=u.n(T);function A(_){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}function M(_,E,b){return E in _?Object.defineProperty(_,E,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[E]=b,_}function F(_,E){return(F=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g})(_,E)}function m(_){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(_)}const D=function(_){!function S(_,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),E&&F(_,E)}(b,_);var E=function w(_){var E=function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var h,g=m(_);if(E){var R=m(this).constructor;h=Reflect.construct(g,arguments,R)}else h=g.apply(this,arguments);return function j(_,E){return!E||"object"!==A(E)&&"function"!=typeof E?function x(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(_):E}(this,h)}}(b);function b(){return function f(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}(this,b),E.call(this,function(g,h){var R,I=(M(R={},C.default.ADAPTATION_SET,[C.default.LANG]),M(R,C.default.REPRESENTATION,[C.default.LANG]),M(R,C.default.CONTENT_COMPONENT,[C.default.LANG]),M(R,C.default.LABEL,[C.default.LANG]),M(R,C.default.GROUP_LABEL,[C.default.LANG]),R);if(I.hasOwnProperty(h)){var W=I[h];return void 0!==W&&W.indexOf(g.name)>=0}return!1},function(g){var h=p()(g);return void 0!==h?h:String(g)})}return b}(V.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function C(m){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function A(m,d){return(A=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}var j=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;const y=function(m){!function p(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&A(m,d)}(D,m);var d=function M(m){var d=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=w(m);if(d){var b=w(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function f(m,d){return!d||"object"!==C(d)&&"function"!=typeof d?function S(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(){return function T(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D),d.call(this,function(_){return j.test(_.value)},function(_){return parseFloat(_)})}return D}(V.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>m});var V=u(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),C=u(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function T(d){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(d)}function p(d,D,_){return D in d?Object.defineProperty(d,D,{value:_,enumerable:!0,configurable:!0,writable:!0}):d[D]=_,d}function f(d,D){return(f=Object.setPrototypeOf||function(E,b){return E.__proto__=b,E})(d,D)}function x(d){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(d)}const m=function(d){!function M(d,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(D&&D.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),D&&f(d,D)}(_,d);var D=function S(d){var D=function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,E=x(d);if(D){var g=x(this).constructor;b=Reflect.construct(E,arguments,g)}else b=E.apply(this,arguments);return function F(d,D){return!D||"object"!==T(D)&&"function"!=typeof D?function w(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(d):D}(this,b)}}(_);function _(){return function A(d,D){if(!(d instanceof D))throw new TypeError("Cannot call a class as a function")}(this,_),D.call(this,function(E,b){var g,h=(p(g={},C.default.MPD,[C.default.ID,C.default.PROFILES]),p(g,C.default.PERIOD,[C.default.ID]),p(g,C.default.BASE_URL,[C.default.SERVICE_LOCATION,C.default.BYTE_RANGE]),p(g,C.default.SEGMENT_BASE,[C.default.INDEX_RANGE]),p(g,C.default.INITIALIZATION,[C.default.RANGE]),p(g,C.default.REPRESENTATION_INDEX,[C.default.RANGE]),p(g,C.default.SEGMENT_LIST,[C.default.INDEX_RANGE]),p(g,C.default.BITSTREAM_SWITCHING,[C.default.RANGE]),p(g,C.default.SEGMENT_URL,[C.default.MEDIA_RANGE,C.default.INDEX_RANGE]),p(g,C.default.SEGMENT_TEMPLATE,[C.default.INDEX_RANGE,C.default.MEDIA,C.default.INDEX,C.default.INITIALIZATION_MINUS,C.default.BITSTREAM_SWITCHING_MINUS]),p(g,C.default.ASSET_IDENTIFIER,[C.default.VALUE,C.default.ID]),p(g,C.default.EVENT_STREAM,[C.default.VALUE]),p(g,C.default.ADAPTATION_SET,[C.default.PROFILES,C.default.MIME_TYPE,C.default.SEGMENT_PROFILES,C.default.CODECS,C.default.CONTENT_TYPE]),p(g,C.default.FRAME_PACKING,[C.default.VALUE,C.default.ID]),p(g,C.default.AUDIO_CHANNEL_CONFIGURATION,[C.default.VALUE,C.default.ID]),p(g,C.default.CONTENT_PROTECTION,[C.default.VALUE,C.default.ID]),p(g,C.default.ESSENTIAL_PROPERTY,[C.default.VALUE,C.default.ID]),p(g,C.default.SUPPLEMENTAL_PROPERTY,[C.default.VALUE,C.default.ID]),p(g,C.default.INBAND_EVENT_STREAM,[C.default.VALUE,C.default.ID]),p(g,C.default.ACCESSIBILITY,[C.default.VALUE,C.default.ID]),p(g,C.default.ROLE,[C.default.VALUE,C.default.ID]),p(g,C.default.RATING,[C.default.VALUE,C.default.ID]),p(g,C.default.VIEWPOINT,[C.default.VALUE,C.default.ID]),p(g,C.default.CONTENT_COMPONENT,[C.default.CONTENT_TYPE]),p(g,C.default.REPRESENTATION,[C.default.ID,C.default.DEPENDENCY_ID,C.default.MEDIA_STREAM_STRUCTURE_ID]),p(g,C.default.SUBSET,[C.default.ID]),p(g,C.default.METRICS,[C.default.METRICS_MINUS]),p(g,C.default.REPORTING,[C.default.VALUE,C.default.ID]),g);if(h.hasOwnProperty(b)){var R=h[b];return void 0!==R&&R.indexOf(E.name)>=0}return!1},function(E){return String(E)})}return _}(V.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(M){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(M)}function T(M){function f(j,x){for(var y in j)x.hasOwnProperty(y)||(x[y]=j[y])}function S(j,x,y){for(var m=0,d=j.length;m<d;++m){var D=j[m];if(x[D.name])if(y[D.name]){if(D.merge){var _=x[D.name],E=y[D.name];"object"===C(_)&&"object"===C(E)?f(_,E):y[D.name]=_+E}}else y[D.name]=x[D.name]}}function F(j,x){for(var y=0,m=j.children.length;y<m;++y){var d=j.children[y],D=x[d.name+"_asArray"];if(D)for(var _=0,E=D.length;_<E;++_){var b=D[_];S(j.properties,x,b),F(d,b)}}}return{run:function w(j){if(null===j||"object"!==C(j))return j;if(j.Period_asArray&&"period"in M)for(var x=M.period,y=j.Period_asArray,m=0,d=y.length;m<d;++m){var D=y[m];if(F(x,D),"adaptationset"in M){var _=D.AdaptationSet_asArray;if(_)for(var E=M.adaptationset,b=0,g=_.length;b<g;++b)F(E,_[b])}}return j}}}T.__dashjs_factory_name="ObjectIron";const A=V.default.getClassFactory(T)},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),T=u(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function p(f,S){var F=(f=f||{}).timelineConverter;function j(){if(!F||!F.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(C.default.MISSING_CONFIG_ERROR)}function y(d,D){if(j(),!d)return null;var _=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentList,E=_.SegmentURL_asArray.length,b=d&&!isNaN(d.startNumber)?d.startNumber:1,g=Math.max(b-1,0),h=Math.max(D-g,0),R=null;if(h<E){var I=_.SegmentURL_asArray[h];(R=(0,T.getIndexBasedSegment)(F,S,d,D))&&(R.replacementTime=(b+D-1)*d.segmentDuration,R.media=I.media?I.media:"",R.mediaRange=I.mediaRange,R.indexRange=I.indexRange)}return R}return{getSegmentByIndex:y,getSegmentByTime:function m(d,D){if(j(),!d)return null;var _=d.segmentDuration;if(isNaN(_))return null;var E=F.calcPeriodRelativeTimeFromMpdRelativeTime(d,D);return y(d,Math.floor(E/_))},getMediaFinishedInformation:function x(d){var D={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!d)return D;var _=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentList,E=d&&!isNaN(d.startNumber)?d.startNumber:1,b=Math.max(E-1,0);return D.numberOfSegments=b+_.SegmentURL_asArray.length,D}}}p.__dashjs_factory_name="ListSegmentsGetter";const M=V.default.getClassFactory(p)},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/(Me,K,u)=>{"use strict";function C(M,f){for(var S=0;S<f.length;S++){var F=f[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}u.r(K),u.d(K,{default:()=>p});var p=function(){function M(){!function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,M)}return function T(M,f,S){f&&C(M.prototype,f),S&&C(M,S)}(M,null,[{key:"round10",value:function(S,F){return function A(M,f,S){return typeof S>"u"||0==+S?Math[M](f):(S=+S,null===(f=+f)||isNaN(f)||"number"!=typeof S||S%1!=0?NaN:(f=f.toString().split("e"),+((f=(f=Math[M](+(f[0]+"e"+(f[1]?+f[1]-S:-S)))).toString().split("e"))[0]+"e"+(f[1]?+f[1]+S:S))))}("round",S,F)}}]),M}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function T(M){var f=(M=M||{}).timelineConverter;function F(){if(!f||!f.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(C.default.MISSING_CONFIG_ERROR)}function j(m,d){if(F(),!m)return null;var _,D=m.segments?m.segments.length:-1;if(d<D&&(_=m.segments[d])&&_.index===d)return _;for(var E=0;E<D;E++)if((_=m.segments[E])&&_.index===d)return _;return null}return{getSegmentByIndex:j,getSegmentByTime:function x(m,d){F();var D=function y(m,d){if(!m)return-1;var b,g,h,R,I,D=m.segments,_=D?D.length:null,E=-1;if(D&&_>0)for(I=0;I<_;I++)if(d+(b=(R=(g=D[I]).duration)/2)>=(h=g.presentationStartTime)&&d-b<h+R){E=g.index;break}return E}(m,d);return j(m,D)},getMediaFinishedInformation:function w(m){var d={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!m||!m.segments||(d.numberOfSegments=m.segments.length),d}}}T.__dashjs_factory_name="SegmentBaseGetter";const A=V.default.getClassFactory(T)},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{getIndexBasedSegment:()=>F,getTimeBasedSegment:()=>w,replaceIDForTemplate:()=>A,replaceTokenForTemplate:()=>M,unescapeDollarsInTemplate:()=>p});var V=u(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function C(j,x){for(;j.length<x;)j="0"+j;return j}function p(j){return j&&j.split("$$").join("$")}function A(j,x){if(!x||!j||-1===j.indexOf("$RepresentationID$"))return j;var y=x.toString();return j.split("$RepresentationID$").join(y)}function M(j,x,y){var d,D,_,E,b,g,h=x.length,R="%0".length;if(!j)return j;for(;;){if((d=j.indexOf("$"+x))<0||(D=j.indexOf("$",d+h))<0)return j;if((_=j.indexOf("%0",d+h))>d&&_<D)switch(E=j.charAt(D-1),b=parseInt(j.substring(_+R,D-1),10),E){case"d":case"i":case"u":g=C(y.toString(),b);break;case"x":g=C(y.toString(16),b);break;case"X":g=C(y.toString(16),b).toUpperCase();break;case"o":g=C(y.toString(8),b);break;default:return j}else g=y;j=j.substring(0,d)+g+j.substring(D+1)}}function f(j,x,y,m,d,D,_,E){var b=new V.default;return b.representation=j,b.duration=x,b.presentationStartTime=y,b.mediaStartTime=m,b.availabilityStartTime=d.calcAvailabilityStartTimeFromPresentationTime(D,j,_),b.availabilityEndTime=d.calcAvailabilityEndTimeFromPresentationTime(D+x,j,_),b.wallStartTime=d.calcWallTimeForSegment(b,_),b.replacementNumber=function T(j,x){return j.representation.startNumber+x}(b,E),b.index=E,b}function S(j,x,y,m){var d=x.adaptation.period;if(isFinite(d.duration)&&d.start+d.duration<=y.presentationStartTime)return!1;if(m){if("INF"===x.availabilityTimeOffset)return!0;var D=j.getClientReferenceTime();return y.availabilityStartTime.getTime()<=D&&(!isFinite(y.availabilityEndTime)||y.availabilityEndTime.getTime()>=D)}return!0}function F(j,x,y,m){var d,D,_;d=y.segmentDuration,isNaN(d)&&(d=y.adaptation.period.duration),D=parseFloat((y.adaptation.period.start+m*d).toFixed(5)),_=parseFloat((D+d).toFixed(5));var b=f(y,d,D,j.calcMediaTimeFromPresentationTime(D,y),j,_,x,m);return S(j,y,b,x)?b:null}function w(j,x,y,m,d,D,_,E,b,g){var I,z,h=m/D,R=d/D;return I=j.calcPresentationTimeFromMediaTime(h,y),S(j,y,z=f(y,R,I,h,j,I+R,x,b),x)?(z.replacementTime=g||m,_=M(_,"Number",z.replacementNumber),_=M(_,"Time",z.replacementTime),z.media=_,z.mediaRange=E,z):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),T=u(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function p(f,S){var F=(f=f||{}).timelineConverter;function j(){if(!F||!F.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(C.default.MISSING_CONFIG_ERROR)}function y(d,D){if(j(),!d)return null;var _=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentTemplate;D=Math.max(D,0);var E=(0,T.getIndexBasedSegment)(F,S,d,D);if(E){E.replacementTime=Math.round((D-1)*d.segmentDuration*d.timescale,10);var b=_.media;b=(0,T.replaceTokenForTemplate)(b,"Number",E.replacementNumber),b=(0,T.replaceTokenForTemplate)(b,"Time",E.replacementTime),E.media=b}return E}return{getSegmentByIndex:y,getSegmentByTime:function m(d,D){if(j(),!d)return null;var _=d.segmentDuration;if(isNaN(_))return null;var E=F.calcPeriodRelativeTimeFromMpdRelativeTime(d,D);return y(d,Math.floor(E/_))},getMediaFinishedInformation:function x(d){var D={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!d)return D;var _=d.segmentDuration;return D.numberOfSegments=isNaN(_)?1:Math.ceil(d.adaptation.period.duration/_),D}}}p.__dashjs_factory_name="TemplateSegmentsGetter";const M=V.default.getClassFactory(p)},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>j});var V=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),C=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),T=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=u(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),M=u(
/*! ../../core/Settings */
"./src/core/Settings.js"),f=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),S=u(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=u(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function w(){var d,D,_,E,x=this.context,y=(0,V.default)(x).getInstance(),m=(0,M.default)(x).getInstance();function R(me){E=me}function W(me,_e,ee,ce){var J,H=_e.adaptation.period.mpd,P=H.availabilityStartTime;if(ce)J=ee&&H.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(P.getTime()+1e3*(me+H.timeShiftBufferDepth)):H.availabilityEndTime;else if(ee){var L=_e.availabilityTimeOffset;J=new Date(P.getTime()+1e3*(me-L))}else J=P;return J}function ie(me,_e){return(me.getTime()-_e.mpd.availabilityStartTime.getTime()+1e3*E)/1e3}function ue(me,_e){return me+(_e.adaptation.period.start-_e.presentationTimeOffset)}function le(me){var _e={start:NaN,end:NaN},ee=me[0].getAdapter().getRegularPeriods()[0],ce=ie(new Date,ee);if(!me||0===me.length)return{range:_e,now:ce};me.forEach(function(H){var P=H.getAdapter(),L=P.getMediaInfoForType(H.getStreamInfo(),f.default.VIDEO)||P.getMediaInfoForType(H.getStreamInfo(),f.default.AUDIO),Q=P.getVoRepresentations(L)[0],O={start:NaN,end:NaN};if(Q)if(Q.segmentInfoType===p.default.SEGMENT_TIMELINE)O=function $(me){var N,Q,O,U,ee=D.getRepresentationFor(me.index,me.adaptation.period.mpd.manifest.Period_asArray[me.adaptation.period.index].AdaptationSet_asArray[me.adaptation.index]),J=ee.SegmentTemplate.timescale,H=ee.SegmentTemplate.SegmentTimeline.S_asArray,P={start:0,end:0},L=0;for(P.start=ue(H[0].t/J,me),O=0,U=H.length;O<U;O++)Q=0,(N=H[O]).hasOwnProperty("r")&&(Q=N.r),L+=N.d*(1+Q);return P.end=ue((H[0].t+L)/J,me),P}(Q);else{var U=Q.adaptation.period;O.start=U.start,O.end=Math.max(ce,U.start+U.duration)}!isNaN(O.start)&&(isNaN(_e.start)||_e.start>O.start)&&(_e.start=O.start),!isNaN(O.end)&&(isNaN(_e.end)||_e.end<O.end)&&(_e.end=O.end)}),_e.end=Math.min(ce,_e.end);var J=ge(me,_e.end,!0);return _e.end=isNaN(J)?_e.end:J,_e.start=ee&&ee.mpd&&ee.mpd.timeShiftBufferDepth&&!isNaN(ee.mpd.timeShiftBufferDepth)&&!isNaN(_e.end)?Math.max(_e.end-ee.mpd.timeShiftBufferDepth,_e.start):_e.start,_e.start=ge(me,_e.start),{range:_e,now:ce}}function se(me,_e){_=me-_e.end}function ge(me,_e){var ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var ce=0,J=!1,H=NaN;!J&&ce<me.length;){var P=me[ce].getStreamInfo();P.start<=_e&&(!isFinite(P.duration)||P.start+P.duration>=_e)?(H=_e,J=!0):!ee&&P.start>_e&&(isNaN(H)||P.start<H)?H=P.start:ee&&P.start+P.duration<_e&&(isNaN(H)||P.start+P.duration>H)&&(H=P.start+P.duration),ce+=1}return H}catch{return _e}}function pe(me){void 0!==me.offset&&!isNaN(me.offset)&&R(me.offset/1e3)}function De(){E=0,_=0}function Ee(){y.off(C.default.UPDATE_TIME_SYNC_OFFSET,pe,this),De()}return d={initialize:function g(){De(),y.on(C.default.UPDATE_TIME_SYNC_OFFSET,pe,this)},getClientTimeOffset:function h(){return E},setClientTimeOffset:R,getClientReferenceTime:function I(){return Date.now()-1e3*_+1e3*E},calcAvailabilityStartTimeFromPresentationTime:function z(me,_e,ee){return W(me,_e,ee)},calcAvailabilityEndTimeFromPresentationTime:function re(me,_e,ee){return W(me,_e,ee,!0)},calcPresentationTimeFromWallTime:ie,calcPresentationTimeFromMediaTime:ue,calcPeriodRelativeTimeFromMpdRelativeTime:function he(me,_e){return _e-me.adaptation.period.start},calcMediaTimeFromPresentationTime:function Y(me,_e){return me-_e.adaptation.period.start+_e.presentationTimeOffset},calcWallTimeForSegment:function te(me,_e){var ce,J;return _e&&(ce=me.presentationStartTime+me.representation.adaptation.period.mpd.suggestedPresentationDelay,J=new Date(me.availabilityStartTime.getTime()+1e3*ce)),J},calcTimeShiftBufferWindow:function Z(me,_e){if(!_e)return function ae(me){var _e={start:NaN,end:NaN},ee=0,ce=NaN;return me.forEach(function(J){var H=J.getStreamInfo();ee+=H.duration,(isNaN(ce)||H.start<ce)&&(ce=H.start)}),_e.start=ce,_e.end=ce+ee,_e}(me);if(m.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var ee=le(me);return se(ee.now,ee.range),ee.range}return function ne(me){var _e={start:NaN,end:NaN};if(!me||0===me.length)return _e;var ee=me[0].getAdapter().getRegularPeriods()[0],ce=ie(new Date,ee),J=ee.mpd.timeShiftBufferDepth,H=isNaN(J)?0:ce-J;if(_e.start=ge(me,H),_e.end=!isNaN(_e.start)&&ce<_e.start?ce:ge(me,ce,!0),!isNaN(J)&&_e.end<ce-J&&(_e.end=NaN),m.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var P=le(me);if(P.range.end<_e.start)return y.trigger(S.default.CONFORMANCE_VIOLATION,{level:F.default.LEVELS.WARNING,event:F.default.EVENTS.INVALID_DVR_WINDOW}),se(P.now,P.range),P.range}return _e}(me)},reset:Ee},function b(){D=(0,A.default)(x).getInstance(),Ee()}(),d}w.__dashjs_factory_name="TimelineConverter";const j=T.default.getSingletonFactory(w)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),T=u(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function p(f,S){var F=(f=f||{}).timelineConverter,w=f.dashMetrics;function x(){if(!F)throw new Error(C.default.MISSING_CONFIG_ERROR)}function m(b,g){var re,ie,ue,Y,te,Z,ae,h=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentTemplate||b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentList,I=h.SegmentURL_asArray,W=0,z=-1;ae=b.timescale;var ne=!1;for(ue=0,Y=(re=h.SegmentTimeline.S_asArray).length;ue<Y&&!ne;ue++)for(Z=0,(ie=re[ue]).hasOwnProperty("r")&&(Z=ie.r),ie.hasOwnProperty("t")&&(W=ie.t),Z<0&&(Z=d(b,re[ue+1],ie,ae,W/ae)),te=0;te<=Z&&!ne;te++)(ne=g(W,h,I,ie,ae,++z,ue))&&(b.segmentDuration=ie.d/ae),W+=ie.d}function d(b,g,h,R,I){var W;if(g&&g.hasOwnProperty("t"))W=g.t/R;else try{var z=0;if(isNaN(b.adaptation.period.start)||isNaN(b.adaptation.period.duration)||!isFinite(b.adaptation.period.duration)){var re=w.getCurrentDVRInfo();z=isNaN(re.end)?0:re.end}else z=b.adaptation.period.start+b.adaptation.period.duration;W=F.calcMediaTimeFromPresentationTime(z,b),b.segmentDuration=h.d/R}catch{W=0}return Math.max(Math.ceil((W-I)/(h.d/R))-1,0)}return{getSegmentByIndex:function D(b,g,h){if(x(),!b)return null;var R=null,I=!1;return m(b,function(W,z,re,ie,ue,Y,te){if(I||h<0){var Z=z.media,ae=ie.mediaRange;return re&&(Z=re[te].media||"",ae=re[te].mediaRange),R=(0,T.getTimeBasedSegment)(F,S,b,W,ie.d,ue,Z,ae,Y,ie.tManifest),!0}return W>=h*ue-.5*ie.d&&(I=!0),!1}),R},getSegmentByTime:function _(b,g){if(x(),!b)return null;void 0===g&&(g=null);var h=null,R=F.calcMediaTimeFromPresentationTime(g,b);return m(b,function(I,W,z,re,ie,ue,Y){var te=function E(b){return parseFloat(b.toPrecision(15))}(R*ie);if(te<I+re.d&&te>=I){var Z=W.media,ae=re.mediaRange;return z&&(Z=z[Y].media||"",ae=z[Y].mediaRange),h=(0,T.getTimeBasedSegment)(F,S,b,I,re.d,ie,Z,ae,ue,re.tManifest),!0}return!1}),h},getMediaFinishedInformation:function y(b){if(!b)return 0;var z,re,ie,ue,Y,te,Z,R=0,I=0,W=0;for(Z=b.timescale,ue=(z=(b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentTemplate||b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentList).SegmentTimeline.S_asArray).length,ie=0;ie<ue;ie++)for(te=0,(re=z[ie]).hasOwnProperty("r")&&(te=re.r),re.hasOwnProperty("t")&&(I=(R=re.t)/Z),te<0&&(te=d(b,z[ie+1],re,Z,I)),Y=0;Y<=te;Y++)W++,I=(R+=re.d)/Z;return{numberOfSegments:W,mediaTimeOfLastSignaledSegment:I}}}}p.__dashjs_factory_name="TimelineSegmentsGetter";const M=V.default.getClassFactory(p)},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.period=null,this.index=-1,this.type=null}},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var p=function M(f,S,F,w){(function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")})(this,M),this.url=f||"",this.serviceLocation=S||f||"",this.dvb_priority=F||1,this.dvb_weight=w||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};p.DEFAULT_DVB_PRIORITY=1,p.DEFAULT_DVB_WEIGHT=1;const A=p},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null}},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");const p=function A(M){(function C(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")})(this,A),this.url=M||null,this.type=V.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"}},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]}},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN}},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0}},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null}},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}}},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN}},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";function C(M,f){for(var S=0;S<f.length;S++){var F=f[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}u.r(K),u.d(K,{default:()=>A});const A=function(){function M(f,S,F){(function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")})(this,M),this.action=f,this.xpath=S,this.value=F,this.position=null}return function T(M,f,S){f&&C(M.prototype,f),S&&C(M,S)}(M,[{key:"getMpdTarget",value:function(S){return this.xpath.getMpdTarget(S,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),M}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var C=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};C.DEFAULT_ID="defaultId";const T=C},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null}},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function T(f,S){for(var F=0;F<S.length;F++){var w=S[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}const M=function(){function f(){(function C(f,S){if(!(f instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function p(f,S,F){S&&T(f.prototype,S),F&&T(f,F)}(f,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==V.default.BASE_URL&&this.segmentInfoType!==V.default.SEGMENT_BASE&&!this.indexRange}}]),f}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null}},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/(Me,K,u)=>{"use strict";function C(M,f){for(var S=0;S<f.length;S++){var F=f[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}u.r(K),u.d(K,{default:()=>A});const A=function(){function M(f){var S=this;(function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")})(this,M),this.valid="/"==f[0],this.path=f.split("/").filter(function(F){return 0!==F.length}).map(function(F){var w={name:F},j=F.indexOf("[");if(-1!=j){w.name=F.substring(0,j);var x=F.substring(j+1,F.length-1);S.valid=S.valid&&-1==x.indexOf("[");var y=x.indexOf("=");-1!=y?(w.attribute={name:x.substring(1,y),value:x.substring(y+1)},-1!=["'",'"'].indexOf(w.attribute.value[0])&&(w.attribute.value=w.attribute.value.substring(1,w.attribute.value.length-1))):w.position=parseInt(x,10)-1}return w})}return function T(M,f,S){f&&C(M.prototype,f),S&&C(M,S)}(M,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(S,F){for(var w=null,j=S,x=1,y="MPD";x<this.path.length&&null!==j;){w=j;var m=this.path[x];if(y=m.name,x!==this.path.length-1||!y.startsWith("@")){var d=w[y+"_asArray"]||[];0===d.length&&w[y]&&d.push(w[y]),m.position?j=d[m.position]||null:m.attribute?function(){var D=m.attribute;j=d.filter(function(_){return _[D.name]==D.value})[0]||null}():j=d[0]||null}x++}return null===j?null:y.startsWith("@")?{name:y.substring(1),leaf:j,target:j}:{name:y,leaf:j,target:F?w:j}}}]),M}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0}},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.schemeIdUri="",this.value=""}},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f});var V=u(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),T=u(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),p=u(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function M(S){var d,D,F=this.context,w=(S=S||{}).eventBus,j=S.events,x=S.urlUtils,y=S.errors,m=S.streamId;return d={checkForExistence:function E(R){var I=function(re){w.trigger(j.CHECK_FOR_EXISTENCE_COMPLETED,{request:R,exists:re})};if(R){var W=new T.default(R.url);D.load({request:W,success:function(){I(!0)},error:function(){I(!1)}})}else I(!1)},load:function b(R){var I=function(z,re){w.trigger(j.LOADING_COMPLETED,{request:R,response:z||null,error:re||null,sender:d})};R?D.load({request:R,progress:function(z){w.trigger(j.LOADING_PROGRESS,{request:R,stream:z.stream,streamId:m}),z.data&&w.trigger(j.LOADING_DATA_PROGRESS,{request:R,response:z.data||null,error:null,sender:d})},success:function(z){I(z)},error:function(z,re,ie){I(void 0,new p.default(y.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ie,re))},abort:function(z){z&&w.trigger(j.LOADING_ABANDONED,{mediaType:z.mediaType,request:z,sender:d})}}):I(void 0,new p.default(y.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,y.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function g(){D&&D.abort()},reset:function h(){D&&(D.abort(),D=null)}},function _(){D=(0,C.default)(F).create({errHandler:S.errHandler,errors:y,dashMetrics:S.dashMetrics,mediaPlayerModel:S.mediaPlayerModel,requestModifier:S.requestModifier,urlUtils:x,constants:V.default,boxParser:S.boxParser,dashConstants:S.dashConstants,requestTimeout:S.settings.get().streaming.fragmentRequestTimeout})}(),d}M.__dashjs_factory_name="FragmentLoader";const f=A.default.getClassFactory(M)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>D});var V=u(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),T=u(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),p=u(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),A=u(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),M=u(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),f=u(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),S=u(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=u(
/*! ../core/EventBus */
"./src/core/EventBus.js"),w=u(
/*! ../core/events/Events */
"./src/core/events/Events.js"),j=u(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),x=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=u(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function m(_){var I,W,z,re,ie,E=this.context,b=(_=_||{}).debug,g=_.settings,h=(0,F.default)(E).getInstance(),R=(0,A.default)(E).getInstance(),ue=_.mssHandler,Y=_.errHandler;function Z(se){h.trigger(w.default.INTERNAL_MANIFEST_LOADED,{manifest:se.manifest})}return I={load:function ne(se){var ge=new M.default(se,S.HTTPRequest.MPD_TYPE);z.load({request:ge,success:function(he,pe,De){if(re){var Ee,me,_e;if(De&&De!==se?(me=R.parseBaseUrl(De),Ee=De):(R.isRelative(se)&&(se=R.resolve(se,window.location.href)),me=R.parseBaseUrl(se)),"No Content"==pe)return void h.trigger(w.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===ie&&(ie=function ae(se){var ge=null;return se.indexOf("SmoothStreamingMedia")>-1?(ue&&(ge=ue.createMssParser(),ue.registerEvents()),ge):se.indexOf("MPD")>-1||se.indexOf("Patch")>-1?(0,y.default)(E).create({debug:b}):ge}(he)),null===ie)return void h.trigger(w.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(j.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,j.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(se))});re.setMatchers(ie.getMatchers()),re.setIron(ie.getIron());try{_e=ie.parse(he)}catch{return void h.trigger(w.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(j.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,j.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(se))})}if(_e){if(_e.url=Ee||se,_e.originalUrl||(_e.originalUrl=_e.url),_e.hasOwnProperty(V.default.LOCATION)&&(me=R.parseBaseUrl(_e.Location_asArray[0]),W.debug("BaseURI set by Location to: "+me)),g&&g.get().streaming.enableManifestDurationMismatchFix&&_e.mediaPresentationDuration&&_e.Period_asArray.length>1){var ee=_e.Period_asArray.reduce(function(ce,J){return ce+J.duration},0);!isNaN(ee)&&_e.mediaPresentationDuration>ee&&(W.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),_e.mediaPresentationDuration=ee)}_e.baseUri=me,_e.loadedTime=new Date,re.resolveManifestOnLoad(_e),h.trigger(w.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:he})}else h.trigger(w.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(j.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,j.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(se))})}},error:function(he,pe,De){h.trigger(w.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new f.default(j.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,j.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(se,", ").concat(De))})}})},reset:function le(){h.off(w.default.XLINK_READY,Z,I),ue&&ue.reset(),re&&(re.reset(),re=null),z&&(z.abort(),z=null)}},function te(){W=b.getLogger(I),h.on(w.default.XLINK_READY,Z,I),z=(0,p.default)(E).create({errHandler:_.errHandler,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,urlUtils:R,constants:V.default,dashConstants:C.default,errors:j.default,requestTimeout:_.settings.get().streaming.manifestRequestTimeout}),re=(0,T.default)(E).create({errHandler:Y,dashMetrics:_.dashMetrics,mediaPlayerModel:_.mediaPlayerModel,requestModifier:_.requestModifier,settings:_.settings}),ie=null}(),I}m.__dashjs_factory_name="ManifestLoader";const D=x.default.getClassFactory(m)},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../core/EventBus */
"./src/core/EventBus.js"),C=u(
/*! ../core/events/Events */
"./src/core/events/Events.js"),T=u(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),p=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=u(
/*! ../core/Debug */
"./src/core/Debug.js"),M=u(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),f=u(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),S=u(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function F(){var m,d,D,_,E,b,g,h,R,I,W,z,j=this.context,x=(0,V.default)(j).getInstance(),y=(0,S.default)(j).getInstance();function te(){D=NaN,g=!1,E=!0,b=!1,ae()}function ae(){null!==_&&(clearTimeout(_),_=null)}function ne(me){ae(),!b&&(isNaN(me)&&!isNaN(D)&&(me=1e3*D),isNaN(me)||(d.debug("Refresh manifest in "+me+" milliseconds."),_=setTimeout(ge,me)))}function le(){var me=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g=!0;var _e=R.getValue(),ee=_e.url,ce=I.getPatchLocation(_e),J=I.getLocation(_e);ce&&!me?ee=ce:J&&(ee=J),y.isRelative(ee)&&(ee=y.resolve(ee,_e.url)),h.load(ee)}function se(me){if(me){if(I.getIsPatch(me)){var _e=me;me=R.getValue();var ee=I.isPatchValid(me,_e),ce=ee;if(ee){var J=I.getPublishTime(me);ce=I.applyPatchToManifest(me,_e);var H=I.getPublishTime(me);ce=J.getTime()!=H.getTime()}if(!ce)return d.debug("Patch provided is invalid, performing full manifest refresh"),void le(!0);me.loadedTime=new Date}}else(me=R.getValue()).loadedTime=new Date;if(R.getValue()&&R.getValue().type===f.default.DYNAMIC&&me.type===f.default.STATIC)return x.trigger(C.default.DYNAMIC_TO_STATIC),g=!1,void(b=!0);R.setValue(me);var P=new Date,L=(P.getTime()-me.loadedTime.getTime())/1e3;1e3*(D=I.getManifestUpdatePeriod(me,L))>2147483647&&(D=2147483.647),x.trigger(C.default.MANIFEST_UPDATED,{manifest:me}),d.info("Manifest has been refreshed at "+P+"["+P.getTime()/1e3+"] "),E||ne()}function ge(){if(!E){if(g)return void ne(z.get().streaming.manifestUpdateRetryInterval);le()}}function $(me){me.error?me.error.code===M.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&W.error(me.error):se(me.manifest)}function he(){E=!1,ne()}function pe(){(E=!z.get().streaming.scheduling.scheduleWhilePaused)&&ae()}function De(){g=!1}return m={initialize:function ue(){te(),x.on(C.default.STREAMS_COMPOSED,De,this),x.on(T.default.PLAYBACK_STARTED,he,this),x.on(T.default.PLAYBACK_PAUSED,pe,this),x.on(C.default.INTERNAL_MANIFEST_LOADED,$,this)},setManifest:function Y(me){se(me)},refreshManifest:le,getIsUpdating:function Ee(){return g},setConfig:function ie(me){me&&(me.manifestModel&&(R=me.manifestModel),me.adapter&&(I=me.adapter),me.manifestLoader&&(h=me.manifestLoader),me.errHandler&&(W=me.errHandler),me.settings&&(z=me.settings))},reset:function Z(){x.off(T.default.PLAYBACK_STARTED,he,this),x.off(T.default.PLAYBACK_PAUSED,pe,this),x.off(C.default.STREAMS_COMPOSED,De,this),x.off(C.default.INTERNAL_MANIFEST_LOADED,$,this),te()}},function re(){d=(0,A.default)(j).getInstance().getLogger(m)}(),m}F.__dashjs_factory_name="ManifestUpdater";const w=p.default.getClassFactory(F)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>O});var V=u(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),C=u.n(V),T=u(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),p=u(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),A=u(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),M=u(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),f=u(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),S=u(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),F=u(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),w=u(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),j=u(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),x=u(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),y=u(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),m=u(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),d=u(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),D=u(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),_=u(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),E=u(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),b=u(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),g=u(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),h=u(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),R=u(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),I=u(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),W=u(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),z=u(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),re=u(
/*! ./models/CmsdModel */
"./src/streaming/models/CmsdModel.js"),ie=u(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),ue=u(
/*! ./../core/Debug */
"./src/core/Debug.js"),Y=u(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),te=u(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),Z=u(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),ae=u(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),ne=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),le=u(
/*! ../core/Settings */
"./src/core/Settings.js"),se=u(
/*! ../core/Version */
"./src/core/Version.js"),ge=u(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),$=u(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),he=u(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),pe=u(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),De=u(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Ee=u(
/*! ../../externals/base64 */
"./externals/base64.js"),me=u(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),_e=u(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),ee=u(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),ce=u(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),J=u(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),H=u(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),P=u(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),L=u(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function N(){var xe,He,je,rt,it,Re,Be,ct,yt,Dt,Fe,Ze,qe,pt,Tt,It,wt,rn,at,Ae,ye,Oe,We,Ke,ut,Et,gt,St,Wt,Kt,Pe,ze,mt,Lt,At,Bt,on,vn,U="You must first call initialize() and set a source before calling this method",k="You must first call initialize() and set a valid source and view before calling this method",G="You must first call attachView() to set the video element before calling this method",oe="You must first call attachSource() with a valid source before calling this method",de="MediaPlayer not initialized!",q=this.context,be=(0,te.default)(q).getInstance(),ve=(0,le.default)(q).getInstance(),Ce=(0,ue.default)(q).getInstance({settings:ve});function Mt(){pn(null),Bo(null),rt=null,qe&&(qe.reset(),qe=null),pt&&(pt.reset(),pt=null),at&&at.reset(),ve.reset(),It&&(It.reset(),It=null)}function $e(){return!!je&&!!At.getElement()}function dn(){return(0,se.getVersionString)()}function ft(){if(!Be)throw k;return gt.isPaused()}function Qe(){if(!Be)throw k;return gt.getIsDynamic()}function fn(Ye){var ht=Ke&&Ke.hasVideoTrack()?T.default.VIDEO:T.default.AUDIO,un=Pe.getCurrentDVRInfo(ht);if(!un)return 0;var Yn=gt.getOriginalLiveDelay(),fr=un.range.start+Ye;return fr>un.range.end-Yn&&(fr=un.range.end-Yn),fr}function Pi(Ye){if(!Be)throw k;var ht=si().currentTime;if(void 0!==Ye)ht=Ke.getTimeRelativeToStreamId(ht,Ye);else if(gt.getIsDynamic()){var un=Ke&&Ke.hasVideoTrack()?T.default.VIDEO:T.default.AUDIO,Yn=Pe.getCurrentDVRInfo(un);ht=null===Yn||0===ht?0:Math.max(0,ht-Yn.range.start)}return ht}function ja(){if(!Be)throw k;var Ye=si().duration;if(gt.getIsDynamic()){var ht=Ke&&Ke.hasVideoTrack()?T.default.VIDEO:T.default.AUDIO,un=Pe.getCurrentDVRInfo(ht);Ye=un?un.range.end-un.range.start:0}return Ye}function Xr(Ye){(0,ee.checkParameterType)(Ye,"boolean"),ct=Ye}function Un(){at.restoreDefaultUTCTimingSources()}function _n(){return Pe}function si(){if(!At.getElement())throw G;return At.getElement()}function Bo(Ye){if(!it)throw de;At.setElement(Ye),Ye&&(Ka(),function Gu(){if(!pt){var Ye=dashjs.MetricsReporting;if("function"==typeof Ye){var ht=Ye(q).create();pt=ht.createMetricsReporting({debug:Ce,eventBus:be,mediaElement:si(),adapter:wt,dashMetrics:Pe,mediaPlayerModel:rn,events:Z.default,constants:T.default,metricsConstants:A.default})}}}(),function zu(){if(!Tt){var Ye=dashjs.MssHandler;"function"==typeof Ye&&(Y.default.extend(Ye.errors),Tt=Ye(q).create({eventBus:be,mediaPlayerModel:rn,dashMetrics:Pe,manifestModel:ze,playbackController:gt,streamController:Ke,protectionController:qe,baseURLController:ye,errHandler:Ae,events:Z.default,constants:T.default,debug:Ce,initSegmentType:De.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Ee,ISOBoxer:me,settings:ve}))}}(),Ke&&Ke.switchToVideoElement()),Be&&xi(),la()}function ll(Ye){if(!Re)throw U;var ht=Ke.getActiveStreamInfo();return ht?Ze.getTracksFor(Ye,ht.id):[]}function pn(Ye){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!it)throw de;"string"==typeof Ye&&Bt.initialize(Ye),null==ht&&(ht=NaN),isNaN(ht)||(ht=Math.max(0,ht)),je=Ye,(Re||Be)&&xi(),$e()&&la(ht)}function Vi(){if(!Re)throw U;var Ye=Ke.getActiveStreamInfo();return Ye?Ke.getStreamById(Ye.id):null}function xi(){Be=!1,Re=!1,wt.reset(),Ke.reset(),Et.reset(),Kt.reset(),gt.reset(),St.reset(),Wt.reset(),yt.reset(),Ze.reset(),vn.reset(),qe&&(ve.get().streaming.protection.keepProtectionMediaKeys?qe.stop():(qe.reset(),qe=null,Ka())),ut.reset(),mt.reset(),Lt.reset()}function Kn(){return(0,m.default)(q).create({debug:Ce,errHandler:Ae,dashMetrics:Pe,mediaPlayerModel:rn,requestModifier:(0,E.default)(q).getInstance(),mssHandler:Tt,settings:ve})}function Ka(){if(qe)return qe;var Ye=dashjs.Protection;if("function"==typeof Ye){var ht=Ye(q).create();return Z.default.extend(Ye.events),ae.default.extend(Ye.events,{publicOnly:!0}),Y.default.extend(Ye.errors),Oe||(Oe=(0,D.default)(q).getInstance()),qe=ht.createProtectionSystem({debug:Ce,errHandler:Ae,videoModel:At,customParametersModel:at,capabilities:Oe,eventBus:be,events:Z.default,BASE64:Ee,constants:T.default,cmcdModel:mt,settings:ve})}return null}function Yu(){if(!it)throw de;if(It)return It;var Ye=dashjs.OfflineController;if("function"==typeof Ye){Z.default.extend(Ye.events),ae.default.extend(Ye.events,{publicOnly:!0}),Y.default.extend(Ye.errors);var ht=Kn(),un=(0,ce.default)(q).create();return un.setConfig({manifestModel:ze,adapter:wt,manifestLoader:ht,errHandler:Ae}),It=Ye(q).create({debug:Ce,manifestUpdater:un,baseURLController:ye,manifestLoader:ht,manifestModel:ze,mediaPlayerModel:rn,abrController:yt,playbackController:gt,adapter:wt,errHandler:Ae,dashMetrics:Pe,timelineConverter:Fe,segmentBaseController:vn,schemeLoaderFactory:Dt,eventBus:be,events:Z.default,errors:Y.default,constants:T.default,settings:ve,dashConstants:p.default,urlUtils:(0,J.default)(q).getInstance()})}return null}function uo(Ye){var ht=Ke&&Ke.hasVideoTrack()?T.default.VIDEO:T.default.AUDIO,un=Pe.getCurrentDVRInfo(ht);return un?Ye+(un.manifestInfo.availableFrom.getTime()/1e3+un.range.start):0}function la(){var Ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;It&&It.resetRecords(),!Re&&je&&(Re=!0,He.info("Streaming Initialized"),function To(){var Ye=Kn();Ke||(Ke=(0,f.default)(q).getInstance()),ut||(ut=(0,P.default)(q).create({errHandler:Ae,manifestModel:ze,adapter:wt,mediaController:Ze,videoModel:At,settings:ve})),We.setConfig({capabilities:Oe,customParametersModel:at,adapter:wt,settings:ve,manifestModel:ze,errHandler:Ae}),Ke.setConfig({capabilities:Oe,capabilitiesFilter:We,manifestLoader:Ye,manifestModel:ze,mediaPlayerModel:rn,customParametersModel:at,protectionController:qe,textController:ut,adapter:wt,dashMetrics:Pe,errHandler:Ae,timelineConverter:Fe,videoModel:At,playbackController:gt,serviceDescriptionController:St,contentSteeringController:Wt,abrController:yt,mediaController:Ze,settings:ve,baseURLController:ye,uriFragmentModel:Bt,segmentBaseController:vn}),Et.setConfig({settings:ve,playbackController:gt,streamController:Ke,videoModel:At,timelineConverter:Fe,adapter:wt}),gt.setConfig({streamController:Ke,serviceDescriptionController:St,dashMetrics:Pe,adapter:wt,videoModel:At,timelineConverter:Fe,settings:ve}),Kt.setConfig({streamController:Ke,playbackController:gt,mediaPlayerModel:rn,videoModel:At,settings:ve}),yt.setConfig({streamController:Ke,domStorage:on,mediaPlayerModel:rn,customParametersModel:at,cmsdModel:Lt,dashMetrics:Pe,adapter:wt,videoModel:At,settings:ve}),mt.setConfig({abrController:yt,dashMetrics:Pe,playbackController:gt}),Lt.setConfig({}),yt.initialize(),Ke.initialize(ct,rt),ut.initialize(),Et.initialize(),Kt.initialize(),mt.initialize(),Lt.initialize(),Wt.initialize(),vn.initialize()}(),"string"==typeof je?Ke.load(je,Ye):Ke.loadWithManifest(je,Ye)),!Be&&$e()&&(Be=!0,He.info("Playback Initialized"))}return xe={initialize:function tt(Ye,ht,un){var Yn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;Oe||(Oe=(0,D.default)(q).getInstance()).setConfig({settings:ve}),Ae||(Ae=(0,d.default)(q).getInstance()),Oe.supportsMediaSource()?(it||(it=!0,Fe=(0,pe.default)(q).getInstance(),yt||(yt=(0,R.default)(q).getInstance()).setConfig({settings:ve}),Dt||(Dt=(0,I.default)(q).getInstance()),gt||(gt=(0,M.default)(q).getInstance()),Ze||(Ze=(0,x.default)(q).getInstance()),Ke||(Ke=(0,f.default)(q).getInstance()),Et||(Et=(0,S.default)(q).getInstance()),Kt||(Kt=(0,F.default)(q).getInstance()),St||(St=(0,w.default)(q).getInstance()),Wt||(Wt=(0,j.default)(q).getInstance()),We||(We=(0,_.default)(q).getInstance()),wt=(0,$.default)(q).getInstance(),ze=(0,g.default)(q).getInstance(),mt=(0,z.default)(q).getInstance(),Lt=(0,re.default)(q).getInstance(),Pe=(0,he.default)(q).getInstance({settings:ve}),on=(0,ie.default)(q).getInstance({settings:ve}),wt.setConfig({constants:T.default,cea608parser:C(),errHandler:Ae,BASE64:Ee}),ye||(ye=(0,y.default)(q).create()),ye.setConfig({adapter:wt}),St.setConfig({adapter:wt}),vn||(vn=(0,ge.default)(q).getInstance({dashMetrics:Pe,mediaPlayerModel:rn,errHandler:Ae,baseURLController:ye,events:Z.default,eventBus:be,debug:Ce,boxParser:(0,H.default)(q).getInstance(),requestModifier:(0,E.default)(q).getInstance(),errors:Y.default})),Ze.setConfig({domStorage:on,settings:ve,customParametersModel:at}),rn.setConfig({playbackController:gt,serviceDescriptionController:St}),Wt.setConfig({adapter:wt,errHandler:Ae,dashMetrics:Pe,mediaPlayerModel:rn,manifestModel:ze,abrController:yt,eventBus:be,requestModifier:(0,E.default)(q).getInstance()}),Un(),Xr(void 0===un||un),Yu()),Ye&&Bo(Ye),ht&&pn(ht,Yn),He.info("[dash.js "+dn()+"] MediaPlayer has been initialized")):Ae.error(new _e.default(Y.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,Y.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function Se(Ye){Ye&&(Ye.capabilities&&(Oe=Ye.capabilities),Ye.capabilitiesFilter&&(We=Ye.capabilitiesFilter),Ye.streamController&&(Ke=Ye.streamController),Ye.textController&&(ut=Ye.textController),Ye.gapController&&(Et=Ye.gapController),Ye.playbackController&&(gt=Ye.playbackController),Ye.serviceDescriptionController&&(St=Ye.serviceDescriptionController),Ye.contentSteeringController&&(Wt=Ye.contentSteeringController),Ye.catchupController&&(Kt=Ye.catchupController),Ye.mediaPlayerModel&&(rn=Ye.mediaPlayerModel),Ye.customParametersModel&&(at=Ye.customParametersModel),Ye.abrController&&(yt=Ye.abrController),Ye.schemeLoaderFactory&&(Dt=Ye.schemeLoaderFactory),Ye.mediaController&&(Ze=Ye.mediaController),Ye.settings&&(ve=Ye.settings))},on:function st(Ye,ht,un,Yn){be.on(Ye,ht,un,Yn)},off:function xt(Ye,ht,un){be.off(Ye,ht,un)},extend:function zp(Ye,ht,un){ne.default.extend(Ye,ht,un,q)},attachView:Bo,attachSource:pn,isReady:$e,preload:function kt(){if(At.getElement()||Re)return!1;if(!je)throw oe;la()},play:function Hn(){if(!Be)throw k;(!ct||ft()&&Be)&&gt.play(!0)},isPaused:ft,pause:function Tn(){if(!Be)throw k;gt.pause()},isSeeking:function Ne(){if(!Be)throw k;return gt.isSeeking()},isDynamic:Qe,getLowLatencyModeEnabled:function we(){if(!Be)throw k;return gt.getLowLatencyModeEnabled()},seek:function Pt(Ye){if(!Be)throw k;if((0,ee.checkParameterType)(Ye,"number"),isNaN(Ye))throw T.default.BAD_ARGUMENT_ERROR;Ye<0&&(Ye=0);var ht=gt.getIsDynamic()?fn(Ye):Ye,un=si();!gt.getIsDynamic()&&un.duration&&(ht=Math.min(un.duration,ht)),gt.seek(ht,!1,!1,!0)},seekToOriginalLive:function Ht(){!Be||!Qe()||gt.seekToOriginalLive()},setPlaybackRate:function Xe(Ye){si().playbackRate=Ye},getPlaybackRate:function Je(){return si().playbackRate},setMute:function Gt(Ye){(0,ee.checkParameterType)(Ye,"boolean"),si().muted=Ye},isMuted:function Xt(){return si().muted},setVolume:function Cn(Ye){if("number"!=typeof Ye||isNaN(Ye)||Ye<0||Ye>1)throw T.default.BAD_ARGUMENT_ERROR;si().volume=Ye},getVolume:function In(){return si().volume},time:Pi,duration:ja,timeAsUTC:function Va(){if(!Be)throw k;return Pi()<0?NaN:uo(Pi())},durationAsUTC:function Fo(){if(!Be)throw k;return uo(ja())},getActiveStream:Vi,getDVRWindowSize:function vr(){var Ye=Ke&&Ke.hasVideoTrack()?T.default.VIDEO:T.default.AUDIO,ht=Pe.getCurrentDVRInfo(Ye);return ht?ht.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:fn,getTargetLiveDelay:function xn(){if(!Be)throw k;return gt.getOriginalLiveDelay()},convertToTimeCode:function Gp(Ye){Ye=Math.max(Ye,0);var ht=Math.floor(Ye/3600),un=Math.floor(Ye%3600/60),Yn=Math.floor(Ye%3600%60);return(0===ht?"":ht<10?"0"+ht.toString()+":":ht.toString()+":")+(un<10?"0"+un.toString():un.toString())+":"+(Yn<10?"0"+Yn.toString():Yn.toString())},formatUTC:function Kp(Ye,ht,un){var Yn=arguments.length>3&&void 0!==arguments[3]&&arguments[3],fr=new Date(1e3*Ye),Wn=fr.toLocaleDateString(ht),Ga=fr.toLocaleTimeString(ht,{hour12:un});return Yn?Ga+" "+Wn:Ga},getVersion:dn,getDebug:function $t(){return Ce},getBufferLength:function nt(Ye){var ht=[T.default.VIDEO,T.default.AUDIO,T.default.TEXT];if(Ye)return-1!==ht.indexOf(Ye)?_n().getCurrentBufferLevel(Ye)||NaN:(He.warn("getBufferLength requested for invalid type"),NaN);var un=ht.map(function(fr){return ll(fr).length>0?_n().getCurrentBufferLevel(fr):Number.MAX_VALUE}).reduce(function(fr,Wn){return Math.min(fr,Wn)});return un===Number.MAX_VALUE?NaN:un},getTTMLRenderingDiv:function sl(){return At?At.getTTMLRenderingDiv():null},getVideoElement:si,getSource:function ot(){if(!je)throw oe;return je},updateSource:function Tf(Ye){Ke.load(je=Ye)},getCurrentLiveLatency:function _f(){if(!it)throw de;return Be?gt.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function pr(Ye){if(!Re)throw U;return yt.getTopBitrateInfoFor(Ye)},setAutoPlay:Xr,getAutoPlay:function gf(){return ct},getDashMetrics:_n,getQualityFor:function Ha(Ye){if(!Re)throw U;if(Ye===T.default.IMAGE){var ht=Vi();if(!ht)return-1;var un=ht.getThumbnailController();return un?un.getCurrentTrackIndex():-1}return yt.getQualityFor(Ye)},setQualityFor:function sa(Ye,ht){var un=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Re)throw U;if(Ye===T.default.IMAGE){var Yn=Vi();if(!Yn)return;var fr=Yn.getThumbnailController();fr&&fr.setTrackByIndex(ht)}yt.setPlaybackQuality(Ye,Ke.getActiveStreamInfo(),ht,{forceReplace:un})},updatePortalSize:function Uu(){yt.setElementSize(),yt.setWindowResizeEventCalled(!0)},enableText:function Jt(Ye){var ht=Ke.getActiveStreamInfo();return!(!ht||!ut)&&ut.enableText(ht.id,Ye)},enableForcedTextStreaming:function Fn(Ye){return!(!Ke.getActiveStreamInfo()||!ut)&&ut.enableForcedTextStreaming(Ye)},isTextEnabled:function yi(){var Ye=Ke.getActiveStreamInfo();return!(!Ye||!ut)&&ut.isTextEnabled(Ye)},setTextTrack:function Dr(Ye){if(!Be)throw k;var ht=Ke.getActiveStreamInfo();!ht||!ut||ut.setTextTrack(ht.id,Ye)},getBitrateInfoListFor:function kp(Ye){if(!Re)throw U;var ht=Vi();return ht?ht.getBitrateListFor(Ye):[]},getStreamsFromManifest:function mn(Ye){if(!Re)throw U;return wt.getStreamsInfo(Ye)},getTracksFor:ll,getTracksForTypeFromManifest:function Up(Ye,ht,un){if(!Re)throw U;return(un=un||wt.getStreamsInfo(ht,1)[0])?wt.getAllMediaInfoForType(un,Ye,ht):[]},getCurrentTrackFor:function Oi(Ye){if(!Re)throw U;var ht=Ke.getActiveStreamInfo();return Ze.getCurrentTrackFor(Ye,ht.id)},setInitialMediaSettingsFor:function Ef(Ye,ht){if(!it)throw de;Ze.setInitialSettings(Ye,ht)},getInitialMediaSettingsFor:function mb(Ye){if(!it)throw de;return Ze.getInitialSettings(Ye)},setCurrentTrack:function or(Ye){if(!Re)throw U;Ze.setTrack(Ye)},addABRCustomRule:function ol(Ye,ht,un){at.addAbrCustomRule(Ye,ht,un)},removeABRCustomRule:function ju(Ye){at.removeAbrCustomRule(Ye)},removeAllABRCustomRule:function Vu(){at.removeAllAbrCustomRule()},getABRCustomRules:function vf(){return at.getAbrCustomRules()},getAverageThroughput:function Ve(Ye){var ht=yt.getThroughputHistory(),un=gt.getIsDynamic();return ht?ht.getAverageThroughput(Ye,un):0},retrieveManifest:function Wp(Ye,ht){var un=Kn(),Yn=this;be.on(Z.default.INTERNAL_MANIFEST_LOADED,function Wn(Ga){Ga.error?ht(null,Ga.error):ht(Ga.manifest),be.off(Z.default.INTERNAL_MANIFEST_LOADED,Wn,Yn),un.reset()},Yn),Bt.initialize(Ye),un.load(Ye)},addUTCTimingSource:function al(Ye,ht){at.addUTCTimingSource(Ye,ht)},removeUTCTimingSource:function ps(Ye,ht){at.removeUTCTimingSource(Ye,ht)},clearDefaultUTCTimingSources:function qr(){at.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Un,setXHRWithCredentialsForType:function vt(Ye,ht){at.setXHRWithCredentialsForType(Ye,ht)},getXHRWithCredentialsForType:function Vt(Ye){return at.getXHRWithCredentialsForType(Ye)},getProtectionController:function Hp(){return Ka()},attachProtectionController:function bf(Ye){qe=Ye},setProtectionData:function _s(Ye){rt=Ye,Ke&&Ke.setProtectionData(rt)},registerLicenseRequestFilter:function Wu(Ye){at.registerLicenseRequestFilter(Ye)},registerLicenseResponseFilter:function ul(Ye){at.registerLicenseResponseFilter(Ye)},unregisterLicenseRequestFilter:function jp(Ye){at.unregisterLicenseRequestFilter(Ye)},unregisterLicenseResponseFilter:function Vp(Ye){at.unregisterLicenseResponseFilter(Ye)},registerCustomCapabilitiesFilter:function pb(Ye){at.registerCustomCapabilitiesFilter(Ye)},unregisterCustomCapabilitiesFilter:function gb(Ye){at.unregisterCustomCapabilitiesFilter(Ye)},setCustomInitialTrackSelectionFunction:function _b(Ye){at.setCustomInitialTrackSelectionFunction(Ye)},resetCustomInitialTrackSelectionFunction:function gs(){at.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function Hu(Ye){if(!At.getElement())throw G;At.setTTMLRenderingDiv(Ye)},attachVttRenderingDiv:function yf(Ye){if(!At.getElement())throw G;At.setVttRenderingDiv(Ye)},getCurrentTextTrackIndex:function lo(){var ht=Ke.getActiveStreamInfo();if(ht&&ut)return ut.getCurrentTrackIdx(ht.id)},provideThumbnail:function Wa(Ye,ht){if("function"==typeof ht){if(Ye<0)return void ht(null);var un=gt.getIsDynamic()?fn(Ye):Ye,Yn=Ke.getStreamForTime(un);if(null===Yn)return void ht(null);var fr=Yn.getThumbnailController();return fr?fr.provide(un,ht):void ht(null)}},getDashAdapter:function Hi(){return wt},getOfflineController:function lt(){return Yu()},triggerSteeringRequest:function vb(){if(Wt)return Wt.loadSteeringData()},getCurrentSteeringResponseData:function yb(){if(Wt)return Wt.getCurrentSteeringResponseData()},getSettings:function cl(){return ve.get()},updateSettings:function Ku(Ye){ve.update(Ye)},resetSettings:function vs(){ve.reset()},reset:Mt,destroy:function Ue(){Mt(),ne.default.deleteSingletonInstances(q)}},function Nn(){He=Ce.getLogger(xe),it=!1,Be=!1,Re=!1,ct=!0,qe=null,It=null,rt=null,wt=null,vn=null,Z.default.extend(ae.default),rn=(0,h.default)(q).getInstance(),at=(0,L.default)(q).getInstance(),At=(0,W.default)(q).getInstance(),Bt=(0,b.default)(q).getInstance()}(),xe}N.__dashjs_factory_name="MediaPlayer";var Q=ne.default.getClassFactory(N);Q.events=ae.default,Q.errors=Y.default,ne.default.updateClassFactory(N.__dashjs_factory_name,Q);const O=Q},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/(Me,K,u)=>{"use strict";function C(m){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function A(m,d){return(A=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}u.r(K),u.d(K,{default:()=>y});const y=new(function(m){!function p(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&A(m,d)}(D,m);var d=function M(m){var d=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=w(m);if(d){var b=w(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function f(m,d){return!d||"object"!==C(d)&&"function"!=typeof d?function S(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(){var _;return function T(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D),(_=d.call(this)).AST_IN_FUTURE="astInFuture",_.BUFFER_EMPTY="bufferStalled",_.BUFFER_LOADED="bufferLoaded",_.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",_.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",_.DYNAMIC_TO_STATIC="dynamicToStatic",_.ERROR="error",_.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",_.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",_.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",_.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",_.LOG="log",_.MANIFEST_LOADED="manifestLoaded",_.METRICS_CHANGED="metricsChanged",_.METRIC_CHANGED="metricChanged",_.METRIC_ADDED="metricAdded",_.METRIC_UPDATED="metricUpdated",_.PERIOD_SWITCH_STARTED="periodSwitchStarted",_.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",_.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",_.QUALITY_CHANGE_RENDERED="qualityChangeRendered",_.TRACK_CHANGE_RENDERED="trackChangeRendered",_.STREAM_INITIALIZING="streamInitializing",_.STREAM_UPDATED="streamUpdated",_.STREAM_ACTIVATED="streamActivated",_.STREAM_DEACTIVATED="streamDeactivated",_.STREAM_INITIALIZED="streamInitialized",_.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",_.TEXT_TRACKS_ADDED="allTextTracksAdded",_.TEXT_TRACK_ADDED="textTrackAdded",_.TTML_PARSED="ttmlParsed",_.TTML_TO_PARSE="ttmlToParse",_.CAPTION_RENDERED="captionRendered",_.CAPTION_CONTAINER_RESIZE="captionContainerResize",_.CAN_PLAY="canPlay",_.CAN_PLAY_THROUGH="canPlayThrough",_.PLAYBACK_ENDED="playbackEnded",_.PLAYBACK_ERROR="playbackError",_.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",_.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",_.PLAYBACK_LOADED_DATA="playbackLoadedData",_.PLAYBACK_PAUSED="playbackPaused",_.PLAYBACK_PLAYING="playbackPlaying",_.PLAYBACK_PROGRESS="playbackProgress",_.PLAYBACK_RATE_CHANGED="playbackRateChanged",_.PLAYBACK_SEEKED="playbackSeeked",_.PLAYBACK_SEEKING="playbackSeeking",_.PLAYBACK_STALLED="playbackStalled",_.PLAYBACK_STARTED="playbackStarted",_.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",_.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",_.PLAYBACK_WAITING="playbackWaiting",_.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",_.EVENT_MODE_ON_START="eventModeOnStart",_.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",_.CONFORMANCE_VIOLATION="conformanceViolation",_.REPRESENTATION_SWITCH="representationSwitch",_.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",_.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",_}return D}(u(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default))},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>S});var p,V=u(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js"),T=function C(){var w,F="application/dash+xml";function j(m,d,D){if(!m||!/^VIDEO$/i.test(m.nodeName))return null;if(m._dashjs_player)return m._dashjs_player;var _,E=m.id||m.name||"video element";if(!(d=d||[].slice.call(m.querySelectorAll("source")).filter(function(b){return b.type==F})[0])&&m.src)(d=document.createElement("source")).src=m.src;else if(!d&&!m.src)return null;return(_=(0,V.default)(D=D||{}).create()).initialize(m,d.src,m.autoplay),w||(w=_.getDebug().getLogger()),w.debug("Converted "+E+" to dash.js player and added content: "+d.src),m._dashjs_player=_,_}function y(m){return/^VIDEO$/i.test(m.nodeName)?m:y(m.parentNode)}return{create:j,createAll:function x(m,d){var D=[];m=m||"[data-dashjs-player]";for(var _=(d=d||document).querySelectorAll(m),E=0;E<_.length;E++){var b=j(_[E],null);D.push(b)}for(var g=d.querySelectorAll('source[type="'+F+'"]'),h=0;h<g.length;h++){var I=j(y(g[h]),null);D.push(I)}return D}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?T.createAll():p=window.setInterval(function M(){window.dashjs&&(window.clearInterval(p),T.createAll())},500):window.addEventListener("load",function A(){window.removeEventListener("load",A),T.createAll()}));const S=T},"./src/streaming/PreBufferSink.js":
/*!****************************************!*\
                  !*** ./src/streaming/PreBufferSink.js ***!
                  \****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../core/Debug */
"./src/core/Debug.js"),C=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(M){var S,F,w,f=this.context,j=[],x=M;function D(W,z){return j=j.filter(function(re){return!((isNaN(z)||re.start<z)&&(isNaN(W)||re.end>W))}),Promise.resolve()}return S={getAllBufferRanges:function E(){for(var W=[],z=0;z<j.length;z++){var re=j[z];0===W.length||re.start>W[W.length-1].end?W.push({start:re.start,end:re.end}):W[W.length-1].end=re.end}var ie={start:function(Y){return W[Y].start},end:function(Y){return W[Y].end}};return Object.defineProperty(ie,"length",{get:function(){return W.length}}),ie},append:function d(W){return"InitializationSegment"!==W.segmentType?(j.push(W),j.sort(function(z,re){return z.start-re.start}),w=null):w=W,F.debug("PreBufferSink appended chunk s: "+W.start+"; e: "+W.end),x&&x({chunk:W}),Promise.resolve()},remove:D,abort:function _(){return Promise.resolve()},discharge:function h(W,z){var re=function R(W,z){return j.filter(function(re){return(isNaN(z)||re.start<z)&&(isNaN(W)||re.end>W)})}(W,z);return w&&(re.push(w),w=null),D(W,z),re},reset:function m(){j=[],w=null,x=null},updateTimestampOffset:function b(){return Promise.resolve()},waitForUpdateEnd:function I(W){W()},getBuffer:function g(){return this}},function y(){F=(0,V.default)(f).getInstance().getLogger(S)}(),S}T.__dashjs_factory_name="PreBufferSink";const A=C.default.getClassFactory(T)},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>m});var V=u(
/*! ../core/Debug */
"./src/core/Debug.js"),C=u(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),T=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),A=u(
/*! ../core/Settings */
"./src/core/Settings.js"),M=u(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),f=u(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),S=u(
/*! ../core/events/Events */
"./src/core/events/Events.js"),F=.1,w=.01,j=50;function x(d){var g,h,R,I,W,z,D=this.context,_=(0,A.default)(D).getInstance(),E=d.textController,b=d.eventBus,re=[],ie=[],ue=!1,Y=d.mediaSource,te=null;function ne(G){return new Promise(function(oe){k(function(){I.changeType&&I.changeType(G),oe()})})}function ge(G){return I=E.getTextSourceBuffer(G),Promise.resolve()}function $(){if("function"==typeof I.addEventListener)try{I.addEventListener("updateend",Q,!1),I.addEventListener("error",O,!1),I.addEventListener("abort",O,!1)}catch{z=setInterval(Q,j)}else z=setInterval(Q,j)}function De(G){return new Promise(function(oe){I&&_.get().streaming.buffer.useAppendWindow?k(function(){try{if(!I)return void oe();var de=Y.duration,q=0;G&&!isNaN(G.start)&&!isNaN(G.duration)&&isFinite(G.duration)&&(de=G.start+G.duration),G&&!isNaN(G.start)&&(q=G.start),(I.appendWindowEnd!==de||I.appendWindowStart!==q)&&(I.appendWindowStart=0,I.appendWindowEnd=de+w,I.appendWindowStart=Math.max(q-F,0),R.debug("Updated append window for ".concat(W.type,". Set start to ").concat(I.appendWindowStart," and end to ").concat(I.appendWindowEnd))),oe()}catch{R.warn("Failed to set append window"),oe()}}):oe()})}function Ee(G){return new Promise(function(oe){I?k(function(){try{I.timestampOffset!==G&&!isNaN(G)&&(I.timestampOffset=G,R.debug("Set MSE timestamp offset to ".concat(G))),oe()}catch{oe()}}):oe()})}function P(){if(!ue&&ie.length>0){ue=!0;var G=ie[0];ie.splice(0,1);var oe=function(){ue=!1,ie.length>0&&P.call(this),G&&G.data&&G.data.segmentType&&G.data.segmentType!==f.HTTPRequest.INIT_SEGMENT_TYPE&&delete G.data.bytes,G.promise.resolve({chunk:G.data})};try{te=G.request,0===G.data.bytes.byteLength?oe.call(this):(I.appendBuffer?I.appendBuffer(G.data.bytes):I.append(G.data.bytes,G.data),k(oe.bind(this)))}catch(de){R.fatal('SourceBuffer append failed "'+de+'"'),ie.length>0?P():ue=!1,delete G.data.bytes,G.promise.reject({chunk:G.data,error:new C.default(de.code,de.message)})}}}function N(){re.length>0&&!I.updating&&(re.shift()(),N())}function Q(){I.updating||N()}function O(G){!function U(G,oe){b.trigger(G,oe||{},{streamId:W.streamInfo.id,mediaType:h})}(S.default.SOURCE_BUFFER_ERROR,{error:G.target||{},lastRequestAppended:te})}function k(G){re.push(G),I.updating||N()}return g={getType:function he(){return h},getAllBufferRanges:function ee(){try{return I.buffered}catch(G){return R.error("getAllBufferRanges exception: "+G.message),null}},getBuffer:function _e(){return I},append:function ce(G){var oe=this,de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(q,be){G?(ie.push({data:G,promise:{resolve:q,reject:be},request:de}),k(P.bind(oe))):be({chunk:G,error:new C.default(p.default.APPEND_ERROR_CODE,p.default.APPEND_ERROR_MESSAGE)})})},remove:function H(G){return new Promise(function(oe,de){var q=G.start,be=G.end;q>=0&&be>q?k(function(){try{I.remove(q,be),k(function(){oe({from:q,to:be,unintended:!1}),G.resolve&&G.resolve()})}catch(ve){de({from:q,to:be,unintended:!1,error:new C.default(p.default.REMOVE_ERROR_CODE,p.default.REMOVE_ERROR_MESSAGE)}),G.reject&&G.reject(ve)}}):oe()})},abort:function L(){return new Promise(function(G){try{ie=[],"open"===Y.readyState?k(function(){try{I&&I.abort(),G()}catch{G()}}):(I&&I.setTextTrack&&"ended"===Y.readyState&&I.abort(),G())}catch{G()}})},reset:function me(){if(I){try{re=[],function pe(){try{"function"==typeof I.removeEventListener&&(I.removeEventListener("updateend",Q,!1),I.removeEventListener("error",O,!1),I.removeEventListener("abort",O,!1)),clearInterval(z)}catch(G){R.error(G)}}(),ue=!1,ie=[],(!I.getClassName||"TextSourceBuffer"!==I.getClassName())&&(R.debug("Removing sourcebuffer from media source"),Y.removeSourceBuffer(I))}catch{}I=null}te=null},updateTimestampOffset:Ee,initializeForStreamSwitch:function ae(G,oe,de){h=(W=G).type;var q=W.codec;(function le(G){I=G.getBuffer()})(de),$();var be=[];return be.push(function J(){return new Promise(function(G){k(function(){var oe=I.appendWindowStart,de=I.appendWindowEnd;I&&(I.abort(),I.appendWindowStart=oe,I.appendWindowEnd=de),G()})})}()),be.push(De(W.streamInfo)),be.push(ne(q)),oe&&void 0!==oe.MSETimeOffset&&be.push(Ee(oe.MSETimeOffset)),Promise.all(be)},initializeForFirstUse:function se(G,oe,de){h=(W=oe).type;var q=W.codec;try{if(q.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return ge(G);I=Y.addSourceBuffer(q),$();var be=[];return be.push(De(W.streamInfo)),de&&void 0!==de.MSETimeOffset&&be.push(Ee(de.MSETimeOffset)),Promise.all(be)}catch(ve){return W.type==M.default.TEXT&&!W.isFragmented||-1!==q.indexOf('codecs="stpp')||-1!==q.indexOf('codecs="vtt')?ge(G):Promise.reject(ve)}},updateAppendWindow:De,changeType:ne},function Z(){R=(0,V.default)(D).getInstance().getLogger(g)}(),g}x.__dashjs_factory_name="SourceBufferSink";const m=T.default.getClassFactory(x)},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>_});var V=u(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),T=u(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),p=u(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),A=u(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),M=u(
/*! ../core/EventBus */
"./src/core/EventBus.js"),f=u(
/*! ../core/events/Events */
"./src/core/events/Events.js"),S=u(
/*! ../core/Debug */
"./src/core/Debug.js"),F=u(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),w=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),j=u(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=u(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),y=u(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),m=u(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),d=[V.default.VIDEO,V.default.AUDIO,V.default.TEXT,V.default.MUXED,V.default.IMAGE];function D(E){E=E||{};var pe,De,Ee,me,_e,ee,ce,J,H,P,L,N,Q,O,U,k,G,oe,b=this.context,g=(0,M.default)(b).getInstance(),h=(0,y.default)(b).getInstance(),R=E.manifestModel,I=E.mediaPlayerModel,W=E.dashMetrics,z=E.manifestUpdater,re=E.adapter,ie=E.timelineConverter,ue=E.capabilities,Y=E.errHandler,te=E.abrController,Z=E.playbackController,ae=E.eventController,ne=E.mediaController,le=E.protectionController,se=E.textController,ge=E.videoModel,$=E.streamInfo,he=E.settings;function Re(ft,Pt){return new Promise(function(Ht,Ne){gt(),P=!0,ze();var Qe=ge.getElement();d.forEach(function(we){(we!==V.default.TEXT||ft)&&(we!==V.default.VIDEO||!Qe||Qe&&/^VIDEO$/i.test(Qe.nodeName))&&ct(we,ft)}),function Fe(ft){return new Promise(function(Pt){var Ht={},Ne=Ee.map(function(Qe){return Qe.createBufferSinks(ft)});Promise.all(Ne).then(function(Qe){Qe.forEach(function(we){we&&(Ht[we.getType()]=we)}),Pt(Ht)}).catch(function(){Pt(Ht)})})}(Pt).then(function(we){if(P=!1,0===Ee.length){var Xe="No streams to play.";Y.error(new j.default(F.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Xe,R.getValue())),De.fatal(Xe)}else mt();ft&&se.createTracks($),Ht(we)}).catch(function(we){Ne(we)})})}function ct(ft,Pt){var we,Ht=re.getAllMediaInfoForType($,ft),Ne=[],Qe=null;if(Ht&&0!==Ht.length){ft===V.default.VIDEO&&(ce=!0),ft===V.default.AUDIO&&(J=!0);for(var Xe=0,Je=Ht.length;Xe<Je;Xe++)Qe=Ht[Xe],ft===V.default.TEXT&&Qe.isEmbedded&&(se.addEmbeddedTrack($,Qe),Ne.push(Qe)),yt(Qe)&&ne.addTrack(Qe);if(Ne.length>0&&(ne.setInitialMediaSettingsForType(ft,$),se.addMediaInfosToBuffer($,ft,Ne)),0!==(Ht=Ht.filter(function(Xt){return!Xt.isEmbedded})).length){if(ft===V.default.IMAGE)return void(N=(0,A.default)(b).create({streamInfo:$,adapter:re,baseURLController:E.baseURLController,timelineConverter:E.timelineConverter,debug:k,eventBus:g,events:f.default,dashConstants:C.default,dashMetrics:E.dashMetrics,segmentBaseController:E.segmentBaseController})).initialize();g.trigger(f.default.STREAM_INITIALIZING,{streamInfo:$,mediaInfo:Qe}),ne.setInitialMediaSettingsForType(ft,$);var Gt=function Dt(ft,Pt){var Ht=ft&&ft.length>0?ft[0]:null,Ne=L.getModel(Ht?Ht.type:null),Qe=Ht?Ht.type:null,we=Ht?Ht.mimeType:null,Xe=Ht?Ht.isFragmented:null,Je=(0,T.default)(b).create({streamInfo:$,type:Qe,mimeType:we,timelineConverter:ie,adapter:re,manifestModel:R,mediaPlayerModel:I,fragmentModel:Ne,dashMetrics:E.dashMetrics,baseURLController:E.baseURLController,segmentBaseController:E.segmentBaseController,abrController:te,playbackController:Z,mediaController:ne,textController:se,errHandler:Y,settings:he,boxParser:U,segmentBlacklistController:Q});Je.initialize(Pt,ce,Xe),Ee.push(Je);for(var Gt=0;Gt<ft.length;Gt++)Je.addMediaInfo(ft[Gt]);return Qe===V.default.TEXT&&se.addMediaInfosToBuffer($,Qe,ft,Ne),Je}(Ht,Pt);(we=ne.getCurrentTrackFor(ft,$.id))&&(te.updateTopQualityIndex(we),Gt.selectMediaInfo(ft===V.default.TEXT&&we.isEmbedded?Ht[0]:we))}}else De.info("No "+ft+" data.")}function yt(ft){var Pt=ft?ft.type:null;return Pt===V.default.MUXED?(De.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),Y.error(new j.default(F.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",R.getValue())),!1):!(Pt!==V.default.TEXT&&Pt!==V.default.IMAGE&&ft.contentProtection&&!ue.supportsEncryptedMedia()&&(Y.error(new j.default(F.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,F.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function qe(ft){for(var Pt=Ee?Ee.length:0,Ne=0;Ne<Pt;Ne++){var Qe=Ee[Ne].getFragmentModel();Qe.abortRequests(),Qe.resetInitialSettings(),Ee[Ne].reset(!1,ft)}se&&se.deactivateStream($),Ee=[],_e=!1,ee=!1,$t(!1),Ae(!1),g.trigger(f.default.STREAM_DEACTIVATED,{streamInfo:$})}function It(ft){qe(ft),me=!1,ce=!1,J=!1,H={},P=!1,G=!1,oe=[]}function Ae(ft){G=ft}function ye(){return $?$.start:NaN}function Oe(){return $?$.id:null}function We(){return $}function gt(){if(!ge||!te)throw new Error(V.default.MISSING_CONFIG_ERROR)}function Wt(ft){ft.error&&(Y.error(ft.error),De.fatal(ft.error.message))}function ze(){if(ae){var ft=re.getEventsFor($);ft&&ft.length>0&&ae.addInlineEvents(ft,$.id)}}function mt(){for(var ft=Ee.length,Ht=H.audio||H.video?new j.default(F.default.DATA_UPDATE_FAILED_ERROR_CODE,F.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Ne=0;Ne<ft;Ne++)if(Ee[Ne].isUpdating()||P)return;if(le){le.clearMediaInfoArray();for(var Qe=0;Qe<ft&&Ee[Qe];Qe++){var we=Ee[Qe].getType(),Xe=Ee[Qe].getMediaInfo();if(we===V.default.AUDIO||we===V.default.VIDEO||we===V.default.TEXT&&Xe.isFragmented){var Je=Ee[Qe].getMediaInfo();Je&&le.initializeForMedia(Je)}}le.handleKeySystemFromManifest()}Ht?Y.error(Ht):me||(me=!0,ge.waitForReadyState(V.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){g.trigger(f.default.STREAM_INITIALIZED,{streamInfo:$})}))}function At(){var ft=Se(),Pt=ft.length;if(0!==Pt){for(var Ht=0;Ht<Pt;Ht++)if(!ft[Ht].isBufferingCompleted()&&(ft[Ht].getType()===V.default.AUDIO||ft[Ht].getType()===V.default.VIDEO))return void De.debug("onBufferingCompleted - One streamProcessor has finished but",ft[Ht].getType(),"one is not buffering completed");De.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),ee=!0,g.trigger(f.default.STREAM_BUFFERING_COMPLETED,{streamInfo:$},{streamInfo:$})}else De.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Bt(ft){H[ft.mediaType]=ft.error,mt()}function on(ft){ae&&ae.addInbandEvents(ft.events,$.id)}function vn(ft){return ft&&ft.type?Nn(ft.type):null}function Nn(ft){return ft?Se().filter(function(Ht){return Ht.getType()===ft})[0]:null}function Se(){for(var Pt,Ht,ft=[],Ne=0;Ne<Ee.length;Ne++)((Pt=(Ht=Ee[Ne]).getType())===V.default.AUDIO||Pt===V.default.VIDEO||Pt===V.default.TEXT)&&ft.push(Ht);return ft}function st(ft,Pt){var Ht=We(),Ne=Pt.getStreamInfo();if(!Ne||!Ht)return!0;var Qe=re.getAdaptationForType(Ne.index,ft,Ne),we=re.getAdaptationForType(Ht.index,ft,Ht);return Qe&&we?!(!xt(we)&&xt(Qe)):!Qe&&!we}function xt(ft){return!!ft&&!!(ft.ContentProtection||ft.Representation&&ft.Representation.length>0&&ft.Representation[0].ContentProtection)}function dn(ft,Pt){var Ht=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!ft||!ft.hasOwnProperty("getStreamInfo"))return!1;var Ne=ft.getStreamInfo(),Qe=Ht?Ht.getStreamInfo():We();if(!Ne||!Qe)return!1;var we=re.getAdaptationForType(Ne.index,Pt,Ne),Xe=re.getAdaptationForType(Qe.index,Pt,Qe);if(!we||!Xe)return!we&&!Xe;var Je=we&&Xe&&we.mimeType===Xe.mimeType,Gt=Xe.Representation_asArray.map(function(nt){return nt.codecs}),Xt=we.Representation_asArray.map(function(nt){return nt.codecs}),Cn=Xt.some(function(nt){return Gt.indexOf(nt)>-1}),In=Xt.some(function(nt){return Gt.some(function(vr){return ue.codecRootCompatibleWithCodec(vr,nt)})});return Cn||In&&Je}function $t(ft){O=ft}function kt(){return O}return pe={initialize:function q(){(function be(){g.on(f.default.BUFFERING_COMPLETED,At,pe),g.on(f.default.DATA_UPDATE_COMPLETED,Bt,pe),g.on(f.default.INBAND_EVENTS,on,pe)})(),function Ce(){le&&(g.on(f.default.KEY_ERROR,Wt,pe),g.on(f.default.SERVER_CERTIFICATE_UPDATED,Wt,pe),g.on(f.default.LICENSE_REQUEST_COMPLETE,Wt,pe),g.on(f.default.KEY_SYSTEM_SELECTED,Wt,pe),g.on(f.default.KEY_SESSION_CREATED,Wt,pe),g.on(f.default.KEY_STATUSES_CHANGED,Wt,pe))}(),se.initializeForStream($),g.trigger(f.default.STREAM_UPDATED,{streamInfo:$})},getStreamId:function He(){return $?$.id:null},activate:function je(ft,Pt){return new Promise(function(Ht,Ne){if(!_e)return kt()?(_e=!0,g.trigger(f.default.STREAM_ACTIVATED,{streamInfo:$}),void Ht(Pt)):void function it(ft,Pt){return Re(ft,Pt)}(ft,Pt).then(function(Qe){_e=!0,g.trigger(f.default.STREAM_ACTIVATED,{streamInfo:$}),Ht(Qe)}).catch(function(Qe){Ne(Qe)});Ht(Pt)})},deactivate:qe,getIsActive:function pt(){return _e},getDuration:function rn(){return $?$.duration:NaN},getStartTime:ye,getId:Oe,getStreamInfo:We,getHasAudioTrack:function Ke(){return J},getHasVideoTrack:function ut(){return ce},startPreloading:function rt(ft,Pt){return new Promise(function(Ht,Ne){kt()?Ne():(De.info("[startPreloading] Preloading next stream with id ".concat(Oe())),$t(!0),Re(ft,Pt).then(function(){for(var Qe=0;Qe<Ee.length&&Ee[Qe];Qe++)Ee[Qe].setExplicitBufferingTime(ye()),Ee[Qe].getScheduleController().startScheduleTimer();Ht()}).catch(function(){$t(!1),Ne()}))})},initializeForTextWithMediaSource:function Be(ft){return new Promise(function(Pt,Ht){ct(V.default.TEXT,ft),function Ze(){var ft=Nn(V.default.TEXT);return ft?ft.createBufferSinks():Promise.resolve()}().then(function(){se.createTracks($),Pt()}).catch(function(Ne){Ht(Ne)})})},getThumbnailController:function Et(){return N},getBitrateListFor:function St(ft){if(gt(),ft===V.default.IMAGE)return N?N.getBitrateList():[];var Pt=function Lt(ft){for(var Pt=null,Ht=0;Ht<Ee.length;Ht++)if((Pt=Ee[Ht]).getType()===ft)return Pt.getMediaInfo();return null}(ft);return te.getBitrateList(Pt)},updateData:function Mt(ft){return new Promise(function(Pt){P=!0,$=ft,ae&&ze();for(var Ht=[],Ne=0,Qe=Ee.length;Ne<Qe;Ne++){var we=Ee[Ne],Xe=we.getMediaInfo();Ht.push(we.updateStreamInfo($));var Je=re.getAllMediaInfoForType($,we.getType());if(Je=Je.filter(function(Cn){return!Cn.isEmbedded})){we.clearMediaInfoArray();for(var Gt=0;Gt<Je.length;Gt++){var Xt=Je[Gt];we.addMediaInfo(Je[Gt]),re.areMediaInfosEqual(Xe,Xt)&&(te.updateTopQualityIndex(Xt),Ht.push(we.selectMediaInfo(Xt)))}}}Promise.all(Ht).then(function(){for(Ht=[];oe.length>0;){var Cn=oe.pop(),In=Cn.newMediaInfo,nt=vn(Cn.oldMediaInfo);if(!nt)return;Ht.push(nt.prepareTrackSwitch()),nt.selectMediaInfo(In)}return Promise.all(Ht)}).then(function(){P=!1,mt(),g.trigger(f.default.STREAM_UPDATED,{streamInfo:$}),Pt()})})},reset:function wt(ft){L&&(L.reset(),L=null),te&&$&&te.clearDataForStream($.id),Q&&(Q.reset(),Q=null),It(ft),$=null,function ve(){g.off(f.default.DATA_UPDATE_COMPLETED,Bt,pe),g.off(f.default.BUFFERING_COMPLETED,At,pe),g.off(f.default.INBAND_EVENTS,on,pe)}(),function xe(){le&&(g.off(f.default.KEY_ERROR,Wt,pe),g.off(f.default.SERVER_CERTIFICATE_UPDATED,Wt,pe),g.off(f.default.LICENSE_REQUEST_COMPLETE,Wt,pe),g.off(f.default.KEY_SYSTEM_SELECTED,Wt,pe),g.off(f.default.KEY_SESSION_CREATED,Wt,pe),g.off(f.default.KEY_STATUSES_CHANGED,Wt,pe))}()},getProcessors:Se,setMediaSource:function Tt(ft){return new Promise(function(Pt,Ht){for(var Ne=[],Qe=0;Qe<Ee.length;)yt(Ee[Qe].getMediaInfo())?(Ne.push(Ee[Qe].setMediaSource(ft)),Qe++):(Ee[Qe].reset(),Ee.splice(Qe,1));Promise.all(Ne).then(function(){for(var we=0;we<Ee.length;we++)Ee[we].dischargePreBuffer();if(0===Ee.length){var Xe="No streams to play.";Y.error(new j.default(F.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Xe+"nostreams",R.getValue())),De.fatal(Xe)}Pt()}).catch(function(we){De.error(we),Ht(we)})})},isMediaCodecCompatible:function Ue(ft){var Pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return dn(ft,V.default.VIDEO,Pt)&&dn(ft,V.default.AUDIO,Pt)},isProtectionCompatible:function $e(ft){return!ft||st(V.default.VIDEO,ft)&&st(V.default.AUDIO,ft)},getPreloaded:kt,getIsEndedEventSignaled:function at(){return G},setIsEndedEventSignaled:Ae,getAdapter:function Tn(){return re},getHasFinishedBuffering:function Hn(){return ee},setPreloaded:$t,startScheduleControllers:function tt(){for(var ft=Ee.length,Pt=0;Pt<ft&&Ee[Pt];Pt++)Ee[Pt].getScheduleController().startScheduleTimer()},prepareTrackChange:function Kt(ft){if(_e&&$){ee=!1;var Pt=ft.newMediaInfo,Ht=R.getValue();re.setCurrentMediaInfo($.id,Pt.type,Pt);var Ne=vn(Pt);if(Ne){var Qe=Z.getTime();De.info("Stream -  Process track changed at current time "+Qe),Ht.refreshManifestOnSwitchTrack?(oe.push(ft),z.getIsUpdating()||(De.debug("Stream -  Refreshing manifest for switch track"),z.refreshManifest())):Ne.selectMediaInfo(Pt).then(function(){(Pt.type===V.default.VIDEO||Pt.type===V.default.AUDIO)&&te.updateTopQualityIndex(Pt),Ne.prepareTrackSwitch()})}}},prepareQualityChange:function Pe(ft){var Pt=Nn(ft.mediaType);Pt&&Pt.prepareQualityChange(ft)}},function de(){try{k=(0,S.default)(b).getInstance(),De=k.getLogger(pe),It(),U=(0,x.default)(b).getInstance(),Q=(0,m.default)(b).create({updateEventName:f.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:f.default.SEGMENT_LOCATION_BLACKLIST_ADD}),L=(0,p.default)(b).create({streamInfo:$,mediaPlayerModel:I,dashMetrics:W,errHandler:Y,settings:he,boxParser:U,dashConstants:C.default,urlUtils:h})}catch(ft){throw ft}}(),pe}D.__dashjs_factory_name="Stream";const _=w.default.getClassFactory(D)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>W});var V=u(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),T=u(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=u(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),A=u(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),M=u(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),f=u(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),S=u(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),F=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=u(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),j=u(
/*! ../core/EventBus */
"./src/core/EventBus.js"),x=u(
/*! ../core/events/Events */
"./src/core/events/Events.js"),y=u(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),m=u(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),d=u(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=u(
/*! ../core/Debug */
"./src/core/Debug.js"),_=u(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),E=u(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),b=u(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),g=u(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),h=u(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),R=u(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function I(z){z=z||{};var ce,J,H,P,L,N,Q,O,U,k,G,oe,de,re=this.context,ie=(0,j.default)(re).getInstance(),ue=z.streamInfo,Y=z.type,te=z.errHandler,Z=z.mimeType,ae=z.timelineConverter,ne=z.adapter,le=z.manifestModel,se=z.mediaPlayerModel,ge=z.fragmentModel,$=z.abrController,he=z.playbackController,pe=z.mediaController,De=z.textController,Ee=z.dashMetrics,me=z.settings,_e=z.boxParser,ee=z.segmentBlacklistController;function ve(){return ue.id}function Ce(){return Y}function xe(){return ne.getIsTextTrack(O.getData())}function He(){L=[],P=null,de=0,U=!1,k=!1}function Be(we){var Xe=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(we.sender){if(he.getIsManifestUpdateInProgress())return void qe();if((!xe()||De.isTextEnabled())&&N&&we.representationId&&!N.appendInitSegmentFromCache(we.representationId)){var Je=O.getCurrentRepresentation();if(0===Je.range)return void ct();var Gt=G?G.getInitRequest(P,Je):null;Gt?ge.executeRequest(Gt):Xe&&(Q.setInitSegmentRequired(!0),qe())}}}function ct(we){var Xe=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(he.getIsManifestUpdateInProgress()||N.getIsPruningInProgress())qe();else{var Je=function Ze(){var Xe,we=Mt();if(isNaN(de)||Ce()===V.default.TEXT&&!De.isTextEnabled())return null;if(G){var Je=O&&we?O.getRepresentationForQuality(we.quality):null;Xe=U?G.getSegmentRequestForTime(P,Je,de):G.getNextSegmentRequest(P,Je)}return Xe}();Je?(U=!1,function yt(we){isNaN(we.startTime+we.duration)||(de=we.startTime+we.duration),we.delayLoadingTime=(new Date).getTime()+Q.getTimeToLoadDelay(),Q.setTimeToLoadDelay(0),function Fe(we){var Xe=we.url;return we.range&&(Xe=Xe.concat("_",we.range)),ee.contains(Xe)}(we)?(J.warn("Fragment request url ".concat(we.url," for stream id ").concat(ue.id," and media type ").concat(Y," is on the ignore list and will be skipped")),qe()):(J.debug("Next fragment request url for stream id ".concat(ue.id," and media type ").concat(Y," is ").concat(we.url)),ge.executeRequest(we))}(Je)):function Dt(we){var Je,Xe=O.getCurrentRepresentation();if(!me.get().streaming.gaps.enableSeekFix||!U&&0!==he.getTime()||(H?H&&Xe.segmentInfoType===C.default.SEGMENT_TIMELINE&&(Je=G.getValidTimeAheadOfTargetTime(de,P,Xe,me.get().streaming.gaps.threshold)):Je=G.getValidTimeAheadOfTargetTime(de,P,Xe,me.get().streaming.gaps.threshold),isNaN(Je)||Je===de)){if(G.isLastSegmentRequested(Xe,de)){var Xt=G.getCurrentIndex();return J.debug("Segment requesting for stream ".concat(ue.id," has finished")),ie.trigger(x.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:Xt},{streamId:ue.id,mediaType:Y}),N.segmentRequestingCompleted(Xt),void Q.clearScheduleTimer()}we&&qe()}else he.isSeeking()||0===he.getTime()?(J.warn("Adjusting playback time ".concat(Je," because of gap in the manifest. Seeking by ").concat(Je-de)),he.seek(Je,!1,!1)):(J.warn("Adjusting buffering time ".concat(Je," because of gap in the manifest. Adjusting time by ").concat(Je-de)),Ne(Je),we&&qe())}(Xe)}}function qe(){Q.startScheduleTimer(he.getLowLatencyModeEnabled()?me.get().streaming.scheduling.lowLatencyTimeout:me.get().streaming.scheduling.defaultTimeout)}function pt(we){we.error||(Q.setCurrentRepresentation(ne.convertRepresentationToRepresentationInfo(we.currentRepresentation)),N.getIsBufferingCompleted()||N.updateBufferTimestampOffset(we.currentRepresentation))}function Tt(we){Ee.addBufferState(Y,we.state,Q.getBufferTarget()),we.state===T.default.BUFFER_EMPTY&&!he.isSeeking()&&(J.info("Buffer is empty! Stalling!"),Ee.pushPlayListTraceMetrics(new Date,g.PlayListTrace.REBUFFERING_REASON))}function It(we){ge.syncExecutedRequestsWithBufferedRange(N.getBuffer().getAllBufferRanges(),ue.duration),we.quotaExceeded&&we.from>he.getTime()&&Ne(we.from),we.hasEnoughSpaceToAppend&&we.quotaExceeded&&Q.startScheduleTimer()}function wt(we){if(we&&we.lastRequestAppended&&we.lastRequestAppended.url){var Xe=we.lastRequestAppended.url;we.lastRequestAppended.range&&(Xe=Xe.concat("_",we.lastRequestAppended.range)),J.warn("Blacklisting segment with url ".concat(Xe)),ee.add(Xe)}}function ye(){ft(),k=!1}function Oe(we){J.info("onFragmentLoadingAbandoned request: "+we.request.url+" has been aborted"),!he.isSeeking()&&!Q.getSwitchStrack()&&!k&&(J.info("onFragmentLoadingAbandoned request: "+we.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),we.request&&we.request.isInitializationRequest()?Q.setInitSegmentRequired(!0):Ne(we.request.startTime+we.request.duration/2),Q.startScheduleTimer(0))}function We(we){J.info("OnFragmentLoadingCompleted for stream id "+ue.id+" and media type "+Y+" - Url:",we.request?we.request.url:"undefined",we.request.range?", Range:"+we.request.range:""),xe()&&Q.startScheduleTimer(0),we.error&&we.request.serviceLocation&&function Ke(we){J.info("Fragment loading completed with an error"),we&&we.request&&we.request.type&&(we.request.type===R.HTTPRequest.INIT_SEGMENT_TYPE?Be({representationId:we.request.representationId,sender:{}},!1):we.request.type===R.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Ne(we.request.startTime+we.request.duration/2),ct({},!1)))}(we)}function ut(){Ne(he.getTime()),tt().startScheduleTimer()}function Et(we){var Xe=we.currentTrackInfo;if(Xe){var Je=L.find(function(Gt){return Gt.index===Xe.index&&Gt.lang===Xe.lang});Je&&At(Je).then(function(){N.setIsBufferingCompleted(!1),Ne(he.getTime()),Q.setInitSegmentRequired(!0),Q.startScheduleTimer()})}}function gt(we){Ne(we.quotaExceededTime),Q.clearScheduleTimer()}function Wt(){return N?N.getBuffer():null}function At(we){we!==P&&(!we||!P||we.type===P.type)&&(P=we);var Xe=ne.getRealAdaptation(ue,P),Je=ne.getVoRepresentations(P);if(O){var In,Gt=O.getData(),Xt=$.getMaxAllowedIndexFor(Y,ue.id),Cn=$.getMinAllowedIndexFor(Y,ue.id),vr=null;return null!==Gt&&Gt.id===Xe.id||Y===V.default.TEXT?In=$.getQualityFor(Y,ue.id):(vr=$.getThroughputHistory().getAverageThroughput(Y,H)||$.getInitialBitrateFor(Y,ue.id),In=$.getQualityForBitrate(P,vr,ue.id)),void 0!==Cn&&In<Cn&&(In=Cn),In>Xt&&(In=Xt),O.updateData(Xe,Je,Y,P.isFragmented,In)}return Promise.resolve()}function tt(){return Q}function Mt(we){var Xe;return void 0!==we?((0,w.checkInteger)(we),Xe=O?O.getRepresentationForQuality(we):null):Xe=O?O.getCurrentRepresentation():null,ne.convertRepresentationToRepresentationInfo(Xe)}function Ue(){return!!N&&N.getIsBufferingCompleted()}function xt(we){if(me.get().streaming.enableManifestTimescaleMismatchFix){var Xe=we.chunk,Je=Xe.bytes,Xt=Mt(Xe.quality),Cn=O&&Xt?O.getRepresentationForQuality(Xt.quality):null;if(Xt&&Cn){var In=_e.getMediaTimescaleFromMoov(Je);Cn.timescale=In}}}function dn(we){var Xe=we.chunk,Je=Xe.bytes,Gt=Xe.quality,Xt=Mt(Gt),Cn=O&&Xt?O.getRepresentationForQuality(Xt.quality):null;if(Xt&&Cn){var In=ne.getEventsFor(Xt.mediaInfo,null,ue),nt=ne.getEventsFor(Xt,Cn,ue);if(In&&In.length>0||nt&&nt.length>0){var fn=function $t(we,Xe,Je,Gt){try{for(var Xt={},Cn=[],In=Je.concat(Gt),nt=0,vr=In.length;nt<vr;nt++)Xt[In[nt].schemeIdUri+"/"+In[nt].value]=In[nt];var fn=(0,b.default)(re).getInstance().parse(we),xn=fn.getBoxes("emsg");if(!xn||0===xn.length)return Cn;for(var Pi=fn.getBox("sidx"),ja=!Pi||isNaN(Pi.earliest_presentation_time)||isNaN(Pi.timescale)?Xe&&!isNaN(Xe.mediaStartTime)?Xe.mediaStartTime:0:Pi.earliest_presentation_time/Pi.timescale,Va=Math.max(ja,0),Fo=O.getCurrentRepresentation(),pr=0,Ha=xn.length;pr<Ha;pr++){var sa=ne.getEvent(xn[pr],Xt,Va,Fo);sa&&Cn.push(sa)}return Cn}catch{return[]}}(Je,ge.getRequests({state:p.default.FRAGMENT_MODEL_EXECUTED,quality:Gt,index:Xe.index})[0],In,nt);ie.trigger(x.default.INBAND_EVENTS,{events:fn},{streamId:ue.id})}}}function Tn(){var we=he.getTime();me.get().streaming.buffer.flushBufferAtTrackSwitch&&he.seek(we+.001,!1,!0),Ne(we),N.setSeekTarget(we),Q.startScheduleTimer()}function ft(){var we=he.getTime(),Xe=N.getContinuousBufferTimeForTargetTime(we);Ne(isNaN(Xe)?we:Xe),Q.startScheduleTimer()}function Ht(we){we&&!isNaN(we.time)&&(Ne(we.time),N.setSeekTarget(we.time))}function Ne(we){de=we,U=!0}return ce={initialize:function be(we,Xe,Je){oe=(0,h.default)(re).create({events:x.default,eventBus:ie,streamInfo:ue,timelineConverter:ae,dashConstants:C.default,segmentBaseController:z.segmentBaseController,type:Y}),(G=(0,y.default)(re).create({streamInfo:ue,type:Y,timelineConverter:ae,dashMetrics:Ee,mediaPlayerModel:se,baseURLController:z.baseURLController,errHandler:te,segmentsController:oe,settings:me,boxParser:_e,events:x.default,eventBus:ie,errors:m.default,debug:(0,D.default)(re).getInstance(),requestModifier:(0,_.default)(re).getInstance(),dashConstants:C.default,constants:V.default,urlUtils:(0,E.default)(re).getInstance()})).initialize(H=ue.manifestInfo.isDynamic),$.registerStreamType(Y,ce),O=(0,S.default)(re).create({streamInfo:ue,type:Y,abrController:$,dashMetrics:Ee,playbackController:he,timelineConverter:ae,dashConstants:C.default,events:x.default,eventBus:ie,errors:m.default,isDynamic:H,segmentsController:oe}),(N=function Pt(we,Xe){return we?we!==V.default.TEXT||Xe?(0,A.default)(re).create({streamInfo:ue,type:we,mediaPlayerModel:se,manifestModel:le,fragmentModel:ge,errHandler:te,mediaController:pe,representationController:O,adapter:ne,textController:De,abrController:$,playbackController:he,settings:me}):(0,M.default)(re).create({streamInfo:ue,type:we,mimeType:Z,fragmentModel:ge,textController:De,errHandler:te,settings:me}):(te.error(new d.default(m.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,m.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(Y,Je))&&N.initialize(we),(Q=(0,f.default)(re).create({streamInfo:ue,type:Y,mimeType:Z,adapter:ne,dashMetrics:Ee,mediaPlayerModel:se,fragmentModel:ge,abrController:$,playbackController:he,textController:De,mediaController:pe,bufferController:N,settings:me})).initialize(Xe),de=0,U=!1},getStreamId:ve,getType:Ce,isUpdating:function rt(){return!!O&&O.isUpdating()},getBufferController:function Kt(){return N},dischargePreBuffer:function Pe(){N.dischargePreBuffer()},getFragmentModel:function ze(){return ge},getScheduleController:tt,getRepresentationController:function St(){return O},getRepresentationInfo:Mt,getBufferLevel:function $e(){return N?N.getBufferLevel():0},isBufferingCompleted:Ue,createBufferSinks:function kt(we){var Xe=Wt();return Xe?Promise.resolve(Xe):N?N.createBufferSink(P,we):Promise.resolve(null)},updateStreamInfo:function mt(we){return ue=we,Ue()?Promise.resolve():N.updateAppendWindow()},getStreamInfo:function Lt(){return ue},selectMediaInfo:At,clearMediaInfoArray:function on(){L=[]},addMediaInfo:function Bt(we){-1===L.indexOf(we)&&L.push(we)},prepareTrackSwitch:function Hn(){return new Promise(function(we){J.debug("Preparing track switch for type ".concat(Y));var Xe=Y===V.default.TEXT||me.get().streaming.trackSwitchMode[Y]===V.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&he.getTimeToStreamEnd(ue)>me.get().streaming.buffer.stallThreshold;if(N.getIsBufferingCompleted()&&!Xe)return N.prepareForNonReplacementTrackSwitch(P.codec).then(function(){ie.trigger(x.default.BUFFERING_COMPLETED,{},{streamId:ue.id,mediaType:Y})}).catch(function(){ie.trigger(x.default.BUFFERING_COMPLETED,{},{streamId:ue.id,mediaType:Y})}),void we();Q.clearScheduleTimer(),Q.setSwitchTrack(!0),Xe?(ie.trigger(x.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:ue.id},{mediaType:Y,streamId:ue.id}),ge.abortRequests(),N.prepareForReplacementTrackSwitch(P.codec).then(function(){var Je=Mt();return N.updateBufferTimestampOffset(Je)}).then(function(){Tn(),we()}).catch(function(){Tn(),we()})):N.prepareForNonReplacementTrackSwitch(P.codec).then(function(){ft(),we()}).catch(function(){ft(),we()})})},prepareQualityChange:function rn(we){J.debug("Preparing quality switch for type ".concat(Y));var Xe=we.newQuality;k=!0,Q.clearScheduleTimer();var Je=Mt(Xe);Q.setCurrentRepresentation(Je),O.prepareQualityChange(Xe),ge.abortRequests(),N.updateBufferTimestampOffset(Je).then(function(){we.reason&&we.reason.forceReplace?function at(){ie.trigger(x.default.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:ue.id},{mediaType:Y,streamId:ue.id}),N.prepareForReplacementQualitySwitch().then(function(){Tn(),k=!1}).catch(function(){Tn(),k=!1})}():me.get().streaming.buffer.fastSwitchEnabled?function Ae(we){var Xe=he.getTime(),Je=1.5*(isNaN(we.fragmentDuration)?1:we.fragmentDuration),Gt=ge.getRequests({state:p.default.FRAGMENT_MODEL_EXECUTED,time:Xe+Je,threshold:0})[0];if(Gt&&!xe()){var Xt=N.getBufferLevel(),Cn=$.getAbandonmentStateFor(ue.id,Y);Gt.quality<we.quality&&Xt>=Je&&Cn!==T.default.ABANDON_LOAD?(Ne(Xe+Je),Q.setCheckPlaybackQuality(!1),Q.startScheduleTimer()):ye()}else Q.startScheduleTimer();k=!1}(Je):ye(),Ee.pushPlayListTraceMetrics(new Date,g.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Ee.createPlaylistTraceMetrics(Je.id,1e3*he.getTime(),he.getPlaybackRate())})},getMediaInfo:function vn(){return P},getMediaSource:function Nn(){return N.getMediaSource()},setMediaSource:function Se(we){return N.setMediaSource(we,P)},getBuffer:Wt,setExplicitBufferingTime:Ne,finalisePlayList:function Qe(we,Xe){Ee.pushPlayListTraceMetrics(we,Xe)},probeNextRequest:function st(){var we=Mt(),Xe=O&&we?O.getRepresentationForQuality(we.quality):null;return G.getNextSegmentRequestIdempotent(P,Xe)},prepareInnerPeriodPlaybackSeeking:function it(we){return new Promise(function(Xe){if(N.hasBufferAtTime(we.seekTime))return N.pruneBuffer(),void Xe();Q.clearScheduleTimer(),ge.abortRequests(),N.prepareForPlaybackSeek().then(function(){var Gt=N.getAllRangesWithSafetyFactor(we.seekTime);return N.clearBuffers(Gt)}).then(function(){var Gt=N.getContinuousBufferTimeForTargetTime(we.seekTime);if(!isNaN(Gt)&&!isNaN(ue.duration)&&isFinite(ue.duration)&&Gt>=ue.start+ue.duration)N.setIsBufferingCompleted(!0),Xe();else{var Xt=isNaN(Gt)?we.seekTime:Gt;Ne(Xt),N.setSeekTarget(Xt);var Cn=[];Cn.push(N.updateAppendWindow());var In=Mt();Cn.push(N.updateBufferTimestampOffset(In)),Promise.all(Cn).then(function(){Q.setInitSegmentRequired(!0),Q.setCheckPlaybackQuality(!1),Q.startScheduleTimer(),Xe()})}}).catch(function(Gt){J.error(Gt)})})},prepareOuterPeriodPlaybackSeeking:function Re(){return new Promise(function(we,Xe){try{Q.clearScheduleTimer(),ge.abortRequests(),N.prepareForPlaybackSeek().then(function(){return N.pruneAllSafely()}).then(function(){we()})}catch(Je){Xe(Je)}})},reset:function je(we,Xe){G&&G.reset(),N&&(N.reset(we,Xe),N=null),Q&&(Q.reset(),Q=null),O&&(O.reset(),O=null),oe&&(oe=null),$&&$.unRegisterStreamType(ve(),Y),ie.off(x.default.DATA_UPDATE_COMPLETED,pt,ce),ie.off(x.default.INIT_FRAGMENT_NEEDED,Be,ce),ie.off(x.default.MEDIA_FRAGMENT_NEEDED,ct,ce),ie.off(x.default.INIT_FRAGMENT_LOADED,xt,ce),ie.off(x.default.MEDIA_FRAGMENT_LOADED,dn,ce),ie.off(x.default.BUFFER_LEVEL_STATE_CHANGED,Tt,ce),ie.off(x.default.BUFFER_CLEARED,It,ce),ie.off(x.default.SEEK_TARGET,Ht,ce),ie.off(x.default.FRAGMENT_LOADING_ABANDONED,Oe,ce),ie.off(x.default.FRAGMENT_LOADING_COMPLETED,We,ce),ie.off(x.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ut,ce),ie.off(x.default.SET_NON_FRAGMENTED_TEXT,Et,ce),ie.off(x.default.QUOTA_EXCEEDED,gt,ce),ie.off(x.default.SOURCE_BUFFER_ERROR,wt,ce),He(),Y=null,ue=null}},function q(){J=(0,D.default)(re).getInstance().getLogger(ce),He(),ie.on(x.default.DATA_UPDATE_COMPLETED,pt,ce,{priority:j.default.EVENT_PRIORITY_HIGH}),ie.on(x.default.INIT_FRAGMENT_NEEDED,Be,ce),ie.on(x.default.MEDIA_FRAGMENT_NEEDED,ct,ce),ie.on(x.default.INIT_FRAGMENT_LOADED,xt,ce),ie.on(x.default.MEDIA_FRAGMENT_LOADED,dn,ce),ie.on(x.default.BUFFER_LEVEL_STATE_CHANGED,Tt,ce),ie.on(x.default.BUFFER_CLEARED,It,ce),ie.on(x.default.SEEK_TARGET,Ht,ce),ie.on(x.default.FRAGMENT_LOADING_ABANDONED,Oe,ce),ie.on(x.default.FRAGMENT_LOADING_COMPLETED,We,ce),ie.on(x.default.QUOTA_EXCEEDED,gt,ce),ie.on(x.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ut,ce),ie.on(x.default.SET_NON_FRAGMENTED_TEXT,Et,ce),ie.on(x.default.SOURCE_BUFFER_ERROR,wt,ce)}(),ce}I.__dashjs_factory_name="StreamProcessor";const W=F.default.getClassFactory(I)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),C=u(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),T=u(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=u(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),A=u(
/*! ../core/EventBus */
"./src/core/EventBus.js"),M=u(
/*! ../core/events/Events */
"./src/core/events/Events.js"),f=u(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),S=u(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function F(j){j=j||{};var y=this.context,m=(0,A.default)(y).getInstance(),d=(0,C.default)(y).create({errHandler:j.errHandler,dashMetrics:j.dashMetrics,mediaPlayerModel:j.mediaPlayerModel,requestModifier:j.requestModifier,errors:S.default});return{load:function _(b,g,h){var R=function(z,re){g.resolved=!0,g.resolvedContent=z||null,m.trigger(M.default.XLINK_ELEMENT_LOADED,{element:g,resolveObject:h,error:z||re?null:new V.default(S.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,S.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+b)})};if("urn:mpeg:dash:resolve-to-zero:2013"===b)R(null,!0);else{var I=new p.default(b,T.HTTPRequest.XLINK_EXPANSION_TYPE);d.load({request:I,success:function(z){R(z)},error:function(){R(null)}})}},reset:function E(){d&&(d.abort(),d=null)}}}F.__dashjs_factory_name="XlinkLoader";const w=f.default.getClassFactory(F)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>V});const V={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/(Me,K,u)=>{"use strict";function C(f,S){for(var F=0;F<S.length;F++){var w=S[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}u.r(K),u.d(K,{default:()=>M});const M=new(function(){function f(){(function V(f,S){if(!(f instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function T(f,S,F){S&&C(f.prototype,S),F&&C(f,F)}(f,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),f}())},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/(Me,K,u)=>{"use strict";function C(f,S){for(var F=0;F<S.length;F++){var w=S[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}u.r(K),u.d(K,{default:()=>M});const M=new(function(){function f(){(function V(f,S){if(!(f instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function T(f,S,F){S&&C(f.prototype,S),F&&C(f,F)}(f,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),f}())},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";function C(f,S){for(var F=0;F<S.length;F++){var w=S[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}u.r(K),u.d(K,{default:()=>M});const M=new(function(){function f(){(function V(f,S){if(!(f instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f),this.init()}return function T(f,S,F){S&&C(f.prototype,S),F&&C(f,F)}(f,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),f}())},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>I});var V=u(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),C=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=u(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),p=u(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),A=u(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),M=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),S=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=u(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),w=u(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),j=u(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),x=u(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),y=u(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),m=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),d=u(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),D=u(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),_=u(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),E=1e3,b=100,g=0;function h(){var ie,ue,Y,te,Z,ae,ne,le,se,ge,$,he,pe,De,Ee,me,_e,ee,ce,J,H,P,L,N,Q,O,U,W=this.context,z=(0,m.default)(W).getInstance(),re=(0,M.default)(W).getInstance();function be(){Z={},ae={},le={},ne={},J={},L={},N={},Q={},void 0===ge&&(ge=!1),H&&H.reset(),ce=void 0,H=void 0,P=void 0,clearTimeout(se),se=null}function He(Pe){var ze=Pe.request.mediaType,mt=Pe.streamId;if(ze&&mt&&ne[mt]&&U.get().streaming.abr.autoSwitchBitrate[ze]){var Lt=ne[mt][ze];if(Lt){var At=(0,F.default)(W).create({abrController:ie,streamProcessor:Lt,currentRequest:Pe.request,useBufferOccupancyABR:L[ze],useL2AABR:N[ze],useLoLPABR:Q[ze],videoModel:De}),Bt=Y.shouldAbandonFragment(At,mt);Bt.quality>w.default.NO_CHANGE&&Lt.getFragmentModel().getRequests({state:A.default.FRAGMENT_MODEL_LOADING,index:Pe.request.index})[0]&&(le[mt][ze].state=T.default.ABANDON_LOAD,J[mt][ze].reset(),J[mt][ze].push({oldValue:It(ze,mt),newValue:Bt.quality,confidence:1,reason:Bt.reason}),wt(ze,te.getActiveStreamInfo(),Bt.quality,Bt.reason),clearTimeout(se),se=setTimeout(function(){le[mt][ze].state=T.default.ALLOW_LOAD,se=null},U.get().streaming.abandonLoadTimeout))}}}function je(Pe){Pe.mediaType===C.default.VIDEO&&(void 0!==ce&&H.push(Pe.streamId,ce,De.getPlaybackQuality()),ce=Pe.newQuality)}function rt(Pe){Pe.metric===T.default.HTTP_REQUEST&&Pe.value&&Pe.value.type===d.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Pe.mediaType===C.default.AUDIO||Pe.mediaType===C.default.VIDEO)&&P.push(Pe.mediaType,Pe.value,U.get().streaming.abr.useDeadTimeLatency),Pe.metric===T.default.BUFFER_LEVEL&&(Pe.mediaType===C.default.AUDIO||Pe.mediaType===C.default.VIDEO)&&function We(Pe,ze){U.get().streaming.abr.ABRStrategy===C.default.ABR_STRATEGY_DYNAMIC&&function Ke(Pe,ze){try{var mt=Ee.getStableBufferTime(),Bt=L[Pe],on=ze>(Bt?.5*mt:mt);L[Pe]=on,on!==Bt&&ue.info(on?"["+Pe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+ze.toFixed(3)+").":"["+Pe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+ze.toFixed(3)+").")}catch(vn){ue.error(vn)}}(Pe,ze)}(Pe.mediaType,.001*Pe.value.level)}function it(Pe,ze){try{var mt;return Z[ze]=Z[ze]||{},Z[ze].hasOwnProperty(Pe)||(Z[ze][Pe]=0),mt=function yt(Pe,ze){var mt=Z[ze][Pe],Lt=mt;if(!ne[ze]||!ne[ze][Pe])return Lt;var At=Re(Pe,ze);void 0!==At&&(Lt=Math.max(mt,At));var Bt=function Be(Pe,ze){try{var mt=Ee.getAbrBitrateParameter("maxBitrate",Pe);return mt>-1?ye(ne[ze][Pe].getMediaInfo(),mt,ze):void 0}catch{return}}(Pe,ze);return void 0!==Bt&&(Lt=Math.min(Lt,Bt)),Lt}(Pe,ze),mt=function Fe(Pe,ze,mt){var Lt=Z[mt][ze],At=U.get().streaming.abr.maxRepresentationRatio[ze];return isNaN(At)||At>=1||At<0?Pe:Math.min(Pe,Math.round(Lt*At))}(mt,Pe,ze),mt=function Ze(Pe,ze,mt){if(ze!==C.default.VIDEO||!U.get().streaming.abr.limitBitrateByPortal||!ne[mt]||!ne[mt][ze])return Pe;ge||Wt();var Lt=ne[mt][ze].getStreamInfo(),At=pe.getAdaptationForType(Lt.index,ze,Lt).Representation_asArray,Bt=Pe;if($>0&&he>0){for(;Bt>0&&At[Bt]&&$<At[Bt].width&&$-At[Bt-1].width<At[Bt].width-$;)Bt-=1;for(;Bt<At.length-1&&At[Bt].width===At[Bt+1].width;)Bt+=1}return Bt}(mt,Pe,ze),U.get().streaming.cmsd.enabled&&U.get().streaming.cmsd.abr.applyMb&&(mt=function Dt(Pe,ze,mt){if("video"!==ze)return Pe;var Lt=_e.getMaxBitrate(ze);if(Lt<0)return Pe;var At=Ae(mt,"audio",It("audio",mt));Lt-=At?At.bitrate/1e3:0;var Bt=ye(ne[mt][ze].getMediaInfo(),Lt,mt);return ue.debug("Stream ID: "+mt+" ["+ze+"] Apply max bit rate from CMSD: "+Lt),Math.min(Pe,Bt)}(mt,Pe,ze)),mt}catch{return}}function Re(Pe,ze){try{return function ct(Pe,ze){try{var mt=Ee.getAbrBitrateParameter("minBitrate",Pe);if(mt>-1){var Lt=ne[ze][Pe].getMediaInfo(),At=Oe(Lt),Bt=ye(Lt,mt,ze);return At[Bt]&&Bt<At.length-1&&At[Bt].bitrate<1e3*mt&&Bt++,Bt}return}catch{return}}(Pe,ze)}catch{return}}function It(Pe){var ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return ze||(ze=te.getActiveStreamInfo().id),Pe&&ne[ze]&&ne[ze][Pe]&&ze?(ae[ze]=ae[ze]||{},ae[ze].hasOwnProperty(Pe)||(ae[ze][Pe]=g),ae[ze][Pe]):g}catch{return g}}function wt(Pe,ze,mt){var Lt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(ze&&ze.id&&Pe){var At=ze.id,Bt=It(Pe,At);(0,D.checkInteger)(mt);var on=it(Pe,At);mt!==Bt&&mt>=0&&mt<=on&&at(Pe,Bt,mt,on,Lt,At)}}function at(Pe,ze,mt,Lt,At,Bt){if(Pe&&ne[Bt]&&ne[Bt][Pe]){var on=ne[Bt][Pe].getStreamInfo(),vn=on&&on.manifestInfo&&on.manifestInfo.isDynamic,Nn=O.getCurrentBufferLevel(Pe);ue.info("Stream ID: "+Bt+" ["+Pe+"] switch from "+ze+" to "+mt+"/"+Lt+" (buffer: "+Nn+") "+(At?JSON.stringify(At):".")),ae[Bt]=ae[Bt]||{},ae[Bt][Pe]=mt;var Se=Ae(Bt,Pe,mt);re.trigger(f.default.QUALITY_CHANGE_REQUESTED,{oldQuality:ze,newQuality:mt,reason:At,streamInfo:on,bitrateInfo:Se,maxIdx:Lt,mediaType:Pe},{streamId:on.id,mediaType:Pe});var tt=P.getAverageThroughput(Pe,vn);isNaN(tt)||ee.setSavedBitrateSettings(Pe,tt)}}function Ae(Pe,ze,mt){if(ze&&ne&&ne[Pe]&&ne[Pe][ze]){var Lt=Oe(ne[Pe][ze].getMediaInfo());return Lt[mt]?Lt[mt]:null}return null}function ye(Pe,ze,mt){var Lt=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,At=Pe&&Pe.type?ne[mt][Pe.type].getRepresentationInfo():null;if(U.get().streaming.abr.useDeadTimeLatency&&Lt&&At&&At.fragmentDuration){var Bt=At.fragmentDuration;if((Lt/=1e3)>Bt)return 0;ze*=1-Lt/Bt}for(var vn=Oe(Pe),Nn=vn.length-1;Nn>=0;Nn--)if(1e3*ze>=vn[Nn].bitrate)return Nn;return g}function Oe(Pe){var ze=[];if(!Pe||!Pe.bitrateList)return ze;for(var At,mt=Pe.bitrateList,Lt=Pe.type,Bt=0,on=mt.length;Bt<on;Bt++)(At=new p.default).mediaType=Lt,At.qualityIndex=Bt,At.bitrate=mt[Bt].bandwidth,At.width=mt[Bt].width,At.height=mt[Bt].height,At.scanType=mt[Bt].scanType,ze.push(At);return ze}function Wt(){if(De){var ze=U.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;$=De.getClientWidth()*ze,he=De.getClientHeight()*ze}}return ie={initialize:function G(){H=(0,x.default)(W).create(),P=(0,y.default)(W).create({settings:U}),(Y=(0,V.default)(W).create({dashMetrics:O,customParametersModel:me,mediaPlayerModel:Ee,settings:U})).initialize(),re.on(_.default.QUALITY_CHANGE_RENDERED,je,ie),re.on(_.default.METRIC_ADDED,rt,ie),re.on(f.default.LOADING_PROGRESS,He,ie)},isPlayingAtTopQuality:function gt(Pe){var ze=Pe?Pe.id:null,mt=It(C.default.AUDIO,ze),Lt=It(C.default.VIDEO,ze);return mt===it(C.default.AUDIO,ze)&&Lt===it(C.default.VIDEO,ze)},updateTopQualityIndex:function Et(Pe){var ze=Pe.type,mt=Pe.streamInfo.id,Lt=Pe.representationCount-1;return Z[mt]=Z[mt]||{},Z[mt][ze]=Lt,Lt},clearDataForStream:function Kt(Pe){H&&H.clearForStream(Pe),ne[Pe]&&delete ne[Pe],J[Pe]&&delete J[Pe],le[Pe]&&delete le[Pe]},getThroughputHistory:function ut(){return P},getBitrateList:Oe,getQualityForBitrate:ye,getTopBitrateInfoFor:function qe(Pe){var ze=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(ze||(ze=te.getActiveStreamInfo().id),Pe&&ne&&ne[ze]&&ne[ze][Pe]){var mt=it(Pe,ze),Lt=Oe(ne[ze][Pe].getMediaInfo());return Lt[mt]?Lt[mt]:null}return null},getMinAllowedIndexFor:Re,getMaxAllowedIndexFor:it,getInitialBitrateFor:function pt(Pe,ze){if(function xe(){if(!ee||!ee.hasOwnProperty("getSavedBitrateSettings"))throw new Error(C.default.MISSING_CONFIG_ERROR)}(),Pe===C.default.TEXT)return NaN;var mt=ee.getSavedBitrateSettings(Pe),Lt=Ee.getAbrBitrateParameter("initialBitrate",Pe),At=U.get().streaming.abr.initialRepresentationRatio[Pe];if(-1===Lt)if(At>-1){var Bt=ne[ze][Pe].getStreamInfo(),on=pe.getAdaptationForType(Bt.index,Pe,Bt).Representation_asArray;Lt=Array.isArray(on)?on[Math.max(Math.round(on.length*At)-1,0)].bandwidth/1e3:0}else Lt=isNaN(mt)?Pe===C.default.VIDEO?E:b:mt;return Lt},getQualityFor:It,getAbandonmentStateFor:function rn(Pe,ze){return le[Pe]&&le[Pe][ze]?le[Pe][ze].state:null},setPlaybackQuality:wt,checkPlaybackQuality:function Tt(Pe,ze){try{if(!(Pe&&ne&&ne[ze]&&ne[ze][Pe]))return!1;if(H){var mt=De.getPlaybackQuality();mt&&H.push(ze,ce,mt)}if(!U.get().streaming.abr.autoSwitchBitrate[Pe])return!1;var Lt=It(Pe,ze),At=(0,F.default)(W).create({abrController:ie,switchHistory:J[ze][Pe],droppedFramesHistory:H,streamProcessor:ne[ze][Pe],currentValue:Lt,useBufferOccupancyABR:L[Pe],useL2AABR:N[Pe],useLoLPABR:Q[Pe],videoModel:De}),Bt=Re(Pe,ze),on=it(Pe,ze),vn=Y.getMaxQuality(At),Nn=vn.quality;return void 0!==Bt&&(Nn>w.default.NO_CHANGE?Nn:Lt)<Bt&&(Nn=Bt),Nn>on&&(Nn=on),J[ze][Pe].push({oldValue:Lt,newValue:Nn}),Nn>w.default.NO_CHANGE&&Nn!==Lt&&(le[ze][Pe].state===T.default.ALLOW_LOAD||Nn<Lt)&&(at(Pe,Lt,Nn,on,vn.reason,ze),!0)}catch{return!1}},setElementSize:Wt,setWindowResizeEventCalled:function St(Pe){ge=Pe},registerStreamType:function oe(Pe,ze){var mt=ze.getStreamInfo().id;ne[mt]||(ne[mt]={}),J[mt]||(J[mt]={}),le[mt]||(le[mt]={}),J[mt][Pe]=(0,j.default)(W).create(),ne[mt][Pe]=ze,le[mt][Pe]={},le[mt][Pe].state=T.default.ALLOW_LOAD,function de(Pe){var ze=U.get().streaming.abr.ABRStrategy;ze===C.default.ABR_STRATEGY_L2A?(L[Pe]=!1,Q[Pe]=!1,N[Pe]=!0):ze===C.default.ABR_STRATEGY_LoLP?(L[Pe]=!1,Q[Pe]=!0,N[Pe]=!1):ze===C.default.ABR_STRATEGY_BOLA?(L[Pe]=!0,Q[Pe]=!1,N[Pe]=!1):ze===C.default.ABR_STRATEGY_THROUGHPUT?(L[Pe]=!1,Q[Pe]=!1,N[Pe]=!1):ze===C.default.ABR_STRATEGY_DYNAMIC&&(L[Pe]=!(!L||!L[Pe])&&L[Pe],Q[Pe]=!1,N[Pe]=!1)}(Pe),Pe===C.default.VIDEO&&Wt()},unRegisterStreamType:function q(Pe,ze){try{ne[Pe]&&ne[Pe][ze]&&delete ne[Pe][ze],J[Pe]&&J[Pe][ze]&&delete J[Pe][ze],le[Pe]&&le[Pe][ze]&&delete le[Pe][ze]}catch{}},setConfig:function Ce(Pe){Pe&&(Pe.streamController&&(te=Pe.streamController),Pe.domStorage&&(ee=Pe.domStorage),Pe.mediaPlayerModel&&(Ee=Pe.mediaPlayerModel),Pe.customParametersModel&&(me=Pe.customParametersModel),Pe.cmsdModel&&(_e=Pe.cmsdModel),Pe.dashMetrics&&(O=Pe.dashMetrics),Pe.adapter&&(pe=Pe.adapter),Pe.videoModel&&(De=Pe.videoModel),Pe.settings&&(U=Pe.settings))},reset:function ve(){be(),re.off(f.default.LOADING_PROGRESS,He,ie),re.off(_.default.QUALITY_CHANGE_RENDERED,je,ie),re.off(_.default.METRIC_ADDED,rt,ie),Y&&Y.reset()}},function k(){ue=z.getLogger(ie),be()}(),ie}h.__dashjs_factory_name="AbrController";var R=S.default.getSingletonFactory(h);R.QUALITY_DEFAULT=g,S.default.updateSingletonFactory(h.__dashjs_factory_name,R);const I=R},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>F});var V=u(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),C=u(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),T=u(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),p=u(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),A=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),M=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function S(){var w,j,d,D,x=this.context,y=(0,M.default)(x).getInstance(),m=(0,T.default)(x).getInstance();function _(W){d.invalidateSelectedIndexes(W.entry)}return w={reset:function R(){d.reset(),D.reset()},initialize:function I(W){d.setConfig({adapter:j}),function g(W){d.update(W),D.chooseSelector(j.getIsDVB(W))}(W)},resolve:function h(W){var re=d.getForPath(W).reduce(function(ie,ue){var Y=D.select(ue);return Y?(m.isRelative(Y.url)?ie.url=m.resolve(Y.url,ie.url):(ie.url=Y.url,ie.serviceLocation=Y.serviceLocation),ie.availabilityTimeOffset=Y.availabilityTimeOffset,ie.availabilityTimeComplete=Y.availabilityTimeComplete,ie):new p.default},new p.default);if(!m.isRelative(re.url))return re},setConfig:function b(W){W.baseURLTreeModel&&(d=W.baseURLTreeModel),W.baseURLSelector&&(D=W.baseURLSelector),W.adapter&&(j=W.adapter)}},function E(){d=(0,V.default)(x).create(),D=(0,C.default)(x).create(),y.on(f.default.SERVICE_LOCATION_BLACKLIST_CHANGED,_,w)}(),w}S.__dashjs_factory_name="BaseURLController";const F=A.default.getClassFactory(S)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function T(A){A=A||{};var M,f=[],S=(0,C.default)(this.context).getInstance(),F=A.updateEventName,w=A.addBlacklistEventName;function x(D){-1===f.indexOf(D)&&(f.push(D),S.trigger(F,{entry:D}))}function y(D){x(D.entry)}return M={add:x,contains:function j(D){return!!(f.length&&D&&D.length)&&-1!==f.indexOf(D)},reset:function d(){f=[]}},function m(){w&&S.on(w,y,M)}(),M}T.__dashjs_factory_name="BlackListController";const p=V.default.getClassFactory(T)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>g});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),T=u(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),p=u(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),A=u(
/*! ../PreBufferSink */
"./src/streaming/PreBufferSink.js"),M=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),S=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=u(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),j=u(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=u(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),y=u(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),m=u(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),d=.5,D=.01,_=22,E="BufferController";function b(h){h=h||{};var le,se,ge,$,he,pe,De,Ee,me,_e,ee,ce,J,H,P,L,N,Q,O,U,R=this.context,I=(0,M.default)(R).getInstance(),W=h.errHandler,z=h.fragmentModel,re=h.representationController,ie=h.adapter,ue=h.textController,Y=h.abrController,te=h.playbackController,Z=h.streamInfo,ae=h.type,ne=h.settings;function be(Ne){var Qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(we,Xe){pe=Ne,me&&Qe&&"function"==typeof me.discharge?(_e=me,Ce(Qe).then(function(){we()}).catch(function(Je){Xe(Je)})):we()})}function ve(Ne){return ie.convertRepresentationToRepresentationInfo(re.getRepresentationForQuality(Ne))}function Ce(Ne){var Qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(we,Xe){N&&Ne?pe?function He(Ne,Qe){return new Promise(function(we,Xe){var Je=Y.getQualityFor(ae,Z.id);me=(0,p.default)(R).create({mediaSource:pe,textController:ue,eventBus:I}),function je(Ne,Qe,we){var Xe=ve(we);return Qe&&Qe[ae]&&(ae===V.default.VIDEO||ae===V.default.AUDIO)?me.initializeForStreamSwitch(Ne,Xe,Qe[ae]):me.initializeForFirstUse(Z,Ne,Xe)}(Ne,Qe,Je).then(function(){return on(ve(Je))}).then(function(){we(me)}).catch(function(Gt){se.fatal("Caught error on create SourceBuffer: "+Gt),W.error(new j.default(x.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,x.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+ae)),Xe(Gt)})})}(Ne,Qe).then(function(Je){we(Je)}).catch(function(Je){Xe(Je)}):function xe(){var Ne=this;return new Promise(function(Qe,we){var Xe=Y.getQualityFor(ae,Z.id);me=(0,A.default)(R).create(Dt.bind(Ne)),on(ve(Xe)).then(function(){Qe(me)}).catch(function(){we()})})}().then(function(Je){we(Je)}).catch(function(Je){Xe(Je)}):we(null)})}function it(Ne){ne.get().streaming.cacheInitSegments&&(se.info("Init fragment finished loading saving to",ae+"'s init cache"),N.save(Ne.chunk)),se.debug("Append Init fragment",ae," with representationId:",Ne.chunk.representationId," and quality:",Ne.chunk.quality,", data size:",Ne.chunk.bytes.byteLength),ct(Ne.chunk)}function Be(Ne){ct(Ne.chunk,Ne.request)}function ct(Ne){me.append(Ne,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(we){Dt(we)}).catch(function(we){Dt(we)}),Ne.mediaInfo.type===V.default.VIDEO&&ft(f.default.VIDEO_CHUNK_RECEIVED,{chunk:Ne})}function yt(Ne){if(Ne&&Ne.length>0)for(var Qe=0,we=Ne.length;Qe<we;Qe++)se.debug("Buffered range: "+Ne.start(Qe)+" - "+Ne.end(Qe)+", currentTime = ",te.getTime())}function Dt(Ne){if(Ne.error)return Ne.error.code===_&&function Ze(){if(L=!0,he=.8*$t(),se.warn("Quota exceeded, Critical Buffer: "+he),he>0){var Ne=Math.max(.2*he,1),Qe=he-Ne,we=Math.min(ne.get().streaming.buffer.bufferTimeAtTopQuality,.9*Qe),Xe=Math.min(ne.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Qe),Je={streaming:{buffer:{bufferToKeep:parseFloat(Ne.toFixed(5)),bufferTimeAtTopQuality:parseFloat(we.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Xe.toFixed(5))}}};ne.update(Je)}}(),void((Ne.error.code===_||!Hn())&&(se.warn("Clearing playback buffer to overcome quota exceed situation"),ft(f.default.QUOTA_EXCEEDED,{criticalBufferLevel:he,quotaExceededTime:Ne.chunk.start}),mt(ze())));if(me&&(gt(),L=!1,(J=Ne.chunk)&&J.endFragment)){J&&!isNaN(J.index)&&(De=Math.max(J.index,De),St());var Qe=me.getAllBufferRanges();J.segmentType===y.HTTPRequest.MEDIA_SEGMENT_TYPE&&(yt(Qe),ye(),function Fe(){if(!isNaN(U)){if(ae!==V.default.AUDIO&&ae!==V.default.VIDEO)return void(U=NaN);var Ne=te.getTime(),Qe=ut(Ne,0),we=ut(U,0);if(Qe&&we&&Qe.start===we.start)return void(U=NaN);var Xe=re.getCurrentRepresentation().segmentDuration,Je=ut(U,Xe);Je&&(ne.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Ne-U)>Xe?U<=Je.end&&te.seek(Math.max(U,Je.start),!1,!0):Ne<Je.start&&te.seek(Je.start,!1,!0))}}());var we=!1;ee&&(ee.indexOf(J)>0&&(we=!0),ee=null),J&&!we&&ft(f.default.BYTES_APPENDED_END_FRAGMENT,{quality:J.quality,startTime:J.start,index:J.index,bufferedRanges:Qe,segmentType:J.segmentType,mediaType:ae})}}function wt(){return new Promise(function(Ne,Qe){var we=rn();if(!we||0===we.length)return ye(),void Ne();mt(we).then(function(){Ne()}).catch(function(Xe){Qe(Xe)})})}function rn(Ne){var Qe=[],we=me.getAllBufferRanges();if(!we||0===we.length)return Qe;if(!Ne&&0!==Ne||isNaN(Ne))Qe.push({start:we.start(0),end:we.end(we.length-1)+d});else{var Xe=function at(Ne,Qe){var we=ne.get().streaming.buffer.bufferToKeep,Xe=Qe.start(0);if(Ne-Xe>we){var Gt=Math.max(0,Ne-we),Xt=z.getRequests({state:T.default.FRAGMENT_MODEL_EXECUTED,time:Ne,threshold:D})[0];if(Xt&&(Gt=Math.min(Xt.startTime,Gt)),Gt>0)return{start:Xe,end:Gt}}return null}(Ne,we),Je=function Ae(Ne,Qe){var we=Qe.end(Qe.length-1)+d,Xe=kt(Ne),Gt=Z.manifestInfo.duration>=ne.get().streaming.buffer.longFormContentDurationThreshold?ne.get().streaming.buffer.bufferTimeAtTopQualityLongForm:ne.get().streaming.buffer.bufferTimeAtTopQuality,Xt=isNaN(Xe)?Ne:Math.min(Xe,Ne+Gt);if(Xt>=Qe.end(Qe.length-1))return null;var Cn=z.getRequests({state:T.default.FRAGMENT_MODEL_EXECUTED,time:Ne,threshold:D})[0];if(Cn&&(Xt=Math.max(Cn.startTime+Cn.duration,Xt)),ne.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var nt=0;nt<Qe.length;nt++)if(Qe.start(nt)<=Ne&&Ne<=Qe.end(nt)&&Qe.start(nt)<=Xt&&Xt<=Qe.end(nt)){var vr=Xt;Xt=nt+1<Qe.length?Qe.start(nt+1):Qe.end(nt)+1,se.debug("Buffered range ["+Qe.start(nt)+", "+Qe.end(nt)+"] overlaps with targetTime "+Ne+" and range to be pruned ["+vr+", "+we+"], using ["+Xt+", "+we+"] instead"+(Xt<we?"":" (no actual pruning)"));break}return Xt<Qe.end(Qe.length-1)?{start:Xt,end:we}:null}(Ne,we);Xe&&Qe.push(Xe),Je&&Qe.push(Je)}return Qe}function ye(){(!O||ae===V.default.TEXT&&ue.isTextEnabled())&&gt()}function Oe(){Wt()}function We(){Wt(),U=NaN}function ut(Ne,Qe){var In,nt,we=me.getAllBufferRanges(),Xe=0,Je=0,Gt=null,Xt=null,Cn=0,vr=isNaN(Qe)?.15:Qe;if(null!=we){for(nt=0,In=we.length;nt<In;nt++)if(Xe=we.start(nt),Je=we.end(nt),null===Gt)Cn=Math.abs(Xe-Ne),(Ne>=Xe&&Ne<Je||Cn<=vr)&&(Gt=Xe,Xt=Je);else{if(!((Cn=Xe-Xt)<=vr))break;Xt=Je}if(null!==Gt)return{start:Gt,end:Xt}}return null}function gt(){if(te){var Ne=ne.get().streaming.gaps.jumpGaps&&!isNaN(ne.get().streaming.gaps.smallGapLimit)?ne.get().streaming.gaps.smallGapLimit:NaN;$=Math.max(function Et(Ne,Qe){var we;return ne.get().streaming.gaps.jumpGaps&&(Qe=ne.get().streaming.gaps.smallGapLimit),null===(we=ut(Ne,Qe))?0:we.end-Ne}(te.getTime()||0,Ne),0),ft(f.default.BUFFER_LEVEL_UPDATED,{mediaType:ae,bufferLevel:$}),Wt()}}function St(){var Ne=De>=Ee-1,Qe=te.getTimeToStreamEnd(Z)-$<1e-5;(Ne||Qe)&&!ge&&(xt(!0),se.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(Z.id," and type ").concat(ae)))}function Wt(){ae!==V.default.AUDIO&&ae!==V.default.VIDEO||((!te.getLowLatencyModeEnabled()&&$<ne.get().streaming.buffer.stallThreshold||0===$)&&!ge?Kt(C.default.BUFFER_EMPTY):(ge||$>=ne.get().streaming.buffer.stallThreshold||te.getLowLatencyModeEnabled()&&$>0)&&Kt(C.default.BUFFER_LOADED))}function Kt(Ne){ce===Ne||Ne===C.default.BUFFER_EMPTY&&0===te.getTime()||ae===V.default.TEXT&&!ue.isTextEnabled()||(ce=Ne,ft(f.default.BUFFER_LEVEL_STATE_CHANGED,{state:Ne}),ft(Ne===C.default.BUFFER_LOADED?f.default.BUFFER_LOADED:f.default.BUFFER_EMPTY),se.debug(Ne===C.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Pe(){!me||ae===V.default.TEXT||ge||mt(ze())}function ze(){var Ne=[],Qe=me.getAllBufferRanges();if(!Qe||0===Qe.length)return Ne;var we=te.getTime(),Xe=Math.max(0,we-ne.get().streaming.buffer.bufferToKeep),Je=z.getRequests({state:T.default.FRAGMENT_MODEL_EXECUTED,time:we,threshold:D})[0];if(Je)Xe=Math.min(Je.startTime,Xe);else if(0===we&&te.getIsDynamic())return[];if(Qe.start(0)<=Xe){for(var Gt={start:0,end:Xe},Xt=0;Xt<Qe.length&&Qe.end(Xt)<=Xe;Xt++)Gt.end=Qe.end(Xt);Gt.start<Gt.end&&Ne.push(Gt)}return Ne}function mt(Ne){return new Promise(function(Qe,we){if(Ne&&me&&0!==Ne.length){var Xe=[];Ne.forEach(function(Je){Xe.push(function Lt(Ne){return new Promise(function(Qe,we){Ne.resolve=Qe,Ne.reject=we,Q.push(Ne)})}(Je))}),P||At(),Promise.all(Xe).then(function(){Qe()}).catch(function(Je){we(Je)})}else Qe()})}function At(){try{if(0===Q.length||!me)return se.debug("Nothing to prune, halt pruning"),Q=[],void(P=!1);var Ne=me.getBuffer();if(!Ne||!Ne.buffered||0===Ne.buffered.length)return se.debug("SourceBuffer is empty (or does not exist), halt pruning"),Q=[],void(P=!1);var Qe=Q.shift();se.debug("".concat(ae,": Removing buffer from: ").concat(Qe.start," to ").concat(Qe.end)),P=!0,te.getTime()<Qe.end&&xt(!1),me.remove(Qe).then(function(Xe){Bt(Xe)}).catch(function(Xe){Bt(Xe)})}catch{P=!1}}function Bt(Ne){se.debug("onRemoved buffer from:",Ne.from,"to",Ne.to),yt(me.getAllBufferRanges()),0===Q.length&&(P=!1,gt()),Ne.unintended&&(se.warn("Detected unintended removal from:",Ne.from,"to",Ne.to,"setting streamprocessor time to",Ne.from),ft(f.default.SEEK_TARGET,{time:Ne.from})),P?At():(O?O=!1:gt(),ft(f.default.BUFFER_CLEARED,{from:Ne.from,to:Ne.to,unintended:Ne.unintended,hasEnoughSpaceToAppend:Hn(),quotaExceeded:L}))}function on(Ne){return new Promise(function(Qe){Ne&&void 0!==Ne.MSETimeOffset&&me&&me.updateTimestampOffset?me.updateTimestampOffset(Ne.MSETimeOffset).then(function(){Qe()}).catch(function(){Qe()}):Qe()})}function vn(){return me&&!ge?me.updateAppendWindow(Z):Promise.resolve()}function Se(){++H*(ne.get().streaming.wallclockTimeUpdateInterval/1e3)>=ne.get().streaming.buffer.bufferPruningInterval&&(H=0,Pe())}function tt(){Wt()}function xt(Ne){ge!==Ne&&((ge=Ne)?ft(f.default.BUFFERING_COMPLETED):Ee=Number.POSITIVE_INFINITY)}function $t(){try{var we,Xe,Ne=me.getAllBufferRanges(),Qe=0;if(!Ne)return Qe;for(Xe=0,we=Ne.length;Xe<we;Xe++)Qe+=Ne.end(Xe)-Ne.start(Xe);return Qe}catch{return 0}}function kt(Ne){try{var Qe=Ne,we=me.getAllBufferRanges();if(!we||0===we.length)return NaN;for(var Xe=0;Qe===Ne&&Xe<we.length;){var Je=we.start(Xe),Gt=we.end(Xe);Qe>=Je&&Qe<=Gt&&(Qe=Gt),Xe+=1}return Qe===Ne?NaN:Qe}catch{}}function Hn(){var Ne=$t();return isNaN(Ne)||Ne<he}function ft(Ne,Qe){I.trigger(Ne,Qe||{},{streamId:Z.id,mediaType:ae})}function Pt(Ne,Qe){if(he=Number.POSITIVE_INFINITY,ce=void 0,Ee=Number.POSITIVE_INFINITY,De=0,J=null,ge=!1,P=!1,L=!1,$=0,H=0,Q=[],U=NaN,me){var we=me;me=null,!Ne&&!Qe&&we.abort().then(function(){we.reset(Qe),we=null})}O=!1}return le={initialize:function G(Ne){be(Ne),I.on(f.default.INIT_FRAGMENT_LOADED,it,le),I.on(f.default.MEDIA_FRAGMENT_LOADED,Be,le),I.on(f.default.WALLCLOCK_TIME_UPDATED,Se,le),I.on(m.default.PLAYBACK_PLAYING,We,le),I.on(m.default.PLAYBACK_PROGRESS,ye,le),I.on(m.default.PLAYBACK_TIME_UPDATED,ye,le),I.on(m.default.PLAYBACK_RATE_CHANGED,tt,le),I.on(m.default.PLAYBACK_STALLED,Oe,le)},getStreamId:function oe(){return Z.id},getType:function de(){return ae},getBufferControllerType:function q(){return E},createBufferSink:Ce,dischargePreBuffer:function rt(){if(me&&_e&&"function"==typeof _e.discharge){var Ne=_e.getAllBufferRanges();if(Ne.length>0){for(var Qe="Beginning "+ae+"PreBuffer discharge, adding buffer for:",we=0;we<Ne.length;we++)Qe+=" start: "+Ne.start(we)+", end: "+Ne.end(we)+";";se.debug(Qe)}else se.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");ee=[];for(var Xe=_e.discharge(),Je=null,Gt=0;Gt<Xe.length;Gt++){var Xt=Xe[Gt];if(Xt.segmentType!==y.HTTPRequest.INIT_SEGMENT_TYPE){var Cn=N.extract(Xt.streamId,Xt.representationId);Cn&&Je!==Cn&&(ee.push(Cn),me.append(Cn),Je=Cn)}ee.push(Xt),me.append(Xt)}_e.reset(),_e=null}},getBuffer:function Mt(){return me},getBufferLevel:function Ue(){return $},getRangeAt:ut,hasBufferAtTime:function Ke(Ne){try{var Qe=me.getAllBufferRanges();if(!Qe||0===Qe.length)return!1;for(var we=0;we<Qe.length;){var Xe=Qe.start(we),Je=Qe.end(we);if(Ne>=Xe&&Ne<=Je)return!0;we+=1}return!1}catch(Gt){return se.error(Gt),!1}},pruneBuffer:Pe,setMediaSource:be,getMediaSource:function $e(){return pe},appendInitSegmentFromCache:function Re(Ne){var Qe=N.extract(Z.id,Ne);return!!Qe&&(se.info("Append Init fragment",ae," with representationId:",Qe.representationId," and quality:",Qe.quality,", data size:",Qe.bytes.byteLength),ct(Qe),!0)},getIsBufferingCompleted:function st(){return ge},setIsBufferingCompleted:xt,getIsPruningInProgress:function dn(){return P},reset:function Ht(Ne,Qe){I.off(f.default.INIT_FRAGMENT_LOADED,it,this),I.off(f.default.MEDIA_FRAGMENT_LOADED,Be,this),I.off(f.default.WALLCLOCK_TIME_UPDATED,Se,this),I.off(m.default.PLAYBACK_PLAYING,We,this),I.off(m.default.PLAYBACK_PROGRESS,ye,this),I.off(m.default.PLAYBACK_TIME_UPDATED,ye,this),I.off(m.default.PLAYBACK_RATE_CHANGED,tt,this),I.off(m.default.PLAYBACK_STALLED,Oe,this),Pt(Ne,Qe)},prepareForPlaybackSeek:function qe(){return ge&&xt(!1),me.abort()},prepareForReplacementTrackSwitch:function pt(Ne){return new Promise(function(Qe,we){me.abort().then(function(){return vn()}).then(function(){return ne.get().streaming.buffer.useChangeTypeForTrackSwitch?me.changeType(Ne):Promise.resolve()}).then(function(){return wt()}).then(function(){xt(!1),Qe()}).catch(function(Xe){we(Xe)})})},prepareForNonReplacementTrackSwitch:function It(Ne){return new Promise(function(Qe,we){vn().then(function(){return ne.get().streaming.buffer.useChangeTypeForTrackSwitch?me.changeType(Ne):Promise.resolve()}).then(function(){Qe()}).catch(function(Xe){we(Xe)})})},prepareForReplacementQualitySwitch:function Tt(){return new Promise(function(Ne,Qe){me.abort().then(function(){return vn()}).then(function(){return wt()}).then(function(){xt(!1),Ne()}).catch(function(we){Qe(we)})})},updateAppendWindow:vn,getAllRangesWithSafetyFactor:rn,getContinuousBufferTimeForTargetTime:kt,clearBuffers:mt,pruneAllSafely:wt,updateBufferTimestampOffset:on,setSeekTarget:function Tn(Ne){U=Ne},segmentRequestingCompleted:function Nn(Ne){isNaN(Ne)||(Ee=Ne,St())}},function k(){se=(0,F.default)(R).getInstance().getLogger(le),N=(0,w.default)(R).getInstance(),Pt()}(),le}b.__dashjs_factory_name=E;const g=S.default.getClassFactory(b)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),p=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),A=u(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),M=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),f=u(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),S=u(
/*! ../../core/Utils */
"./src/core/Utils.js");function F(){var y,m,d,D,_,E,b,g,h,R,j=this.context,x=(0,T.default)(j).getInstance();function Y(){m=!1;var ee=S.default.parseUserAgent();d=ee&&ee.browser&&ee.browser.name&&"safari"===ee.browser.name.toLowerCase()}function te(){m=!1}function Z(ee){if(ee.streamId===E.getActiveStreamInfo().id&&h){var ce=b.getLiveDelay();b.getBufferLevel()>ce/2&&(h=!1)}}function ae(ee){ee.streamId===E.getActiveStreamInfo().id&&(h=ee.state===f.default.BUFFER_EMPTY)}function ne(){g.getCatchupModeEnabled()||D.setPlaybackRate(1)}function le(){b.getIsDynamic()&&g.getCatchupModeEnabled()&&(g.getCatchupPlaybackRates().max>0||g.getCatchupPlaybackRates().min<0)&&!b.isPaused()&&!b.isSeeking()&&function $(){try{return!(!b.getTime()>0||m)&&(he()===p.default.LIVE_CATCHUP_MODE_LOLP?function De(ee,ce){try{return Math.abs(ge())>0||ee<ce}catch{return!1}}(b.getBufferLevel(),_.get().streaming.liveCatchup.playbackBufferMin):function pe(){try{return Math.abs(ge())>0}catch{return!1}}())}catch{return!1}}()&&function se(){if(!m&&D){var ee,ce=D.getPlaybackRate(),J=g.getCatchupPlaybackRates(),H=b.getBufferLevel(),P=ge(),L=g.getCatchupMaxDrift();if(!isNaN(L)&&L>0&&P>L)R.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),m=!0,b.seekToCurrentLive(!0,!1);else{var N=b.getCurrentLiveLatency(),Q=b.getLiveDelay();ee=he()===p.default.LIVE_CATCHUP_MODE_LOLP?function me(ee,ce,J,H,P){var L;if(P<H){var N=Math.abs(ee.min),U=2*N/(1+Math.pow(Math.E,-5*(P-H)));R.debug("[LoL+ playback control_buffer-based] bufferLevel: "+P+", newRate: "+(L=1-N+U))}else{var k=ee.max;L=Math.abs(ce-J)<=.02*J?1:1-k+2*k/(1+Math.pow(Math.E,-5*(ce-J))),R.debug("[LoL+ playback control_latency-based] latency: "+ce+", newRate: "+L)}return L}(J,N,Q,_.get().streaming.liveCatchup.playbackBufferMin,H):function Ee(ee,ce,J,H){if(h)return 1;var P=ce-J,L=P<0?Math.abs(ee.min):ee.max,O=1-L+2*L/(1+Math.pow(Math.E,-5*P));return b.getPlaybackStalled()&&H<=J/2&&P>0&&(O=1),O}(J,N,Q,H);var U=d?.25:.02/(.5/J.max);ee&&Math.abs(ce-ee)>=U&&(R.debug("[CatchupController]: Setting playback rate to ".concat(ee)),D.setPlaybackRate(ee))}}}()}function ge(){return b.getCurrentLiveLatency()-b.getLiveDelay()}function he(){var ee=_.get().streaming.liveCatchup.playbackBufferMin;return _.get().streaming.liveCatchup.mode!==p.default.LIVE_CATCHUP_MODE_LOLP||null===ee||isNaN(ee)?p.default.LIVE_CATCHUP_MODE_DEFAULT:p.default.LIVE_CATCHUP_MODE_LOLP}function _e(){g.getCatchupPlaybackRates(!0)}return y={reset:function ue(){(function re(){x.off(A.default.BUFFER_LEVEL_UPDATED,Z,y),x.off(A.default.BUFFER_LEVEL_STATE_CHANGED,ae,y),x.off(A.default.PLAYBACK_PROGRESS,le,y),x.off(A.default.PLAYBACK_TIME_UPDATED,le,y),x.off(A.default.PLAYBACK_SEEKED,le,y),x.off(M.default.SETTING_UPDATED_CATCHUP_ENABLED,ne,y),x.off(M.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,_e,y),x.off(M.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,_e,y),x.off(A.default.STREAM_INITIALIZED,_e,y)})(),Y(),D.setPlaybackRate(1,!0)},setConfig:function W(ee){ee&&(ee.settings&&(_=ee.settings),ee.videoModel&&(D=ee.videoModel),ee.streamController&&(E=ee.streamController),ee.playbackController&&(b=ee.playbackController),ee.mediaPlayerModel&&(g=ee.mediaPlayerModel))},initialize:function I(){(function z(){x.on(A.default.BUFFER_LEVEL_UPDATED,Z,y),x.on(A.default.BUFFER_LEVEL_STATE_CHANGED,ae,y),x.on(A.default.PLAYBACK_PROGRESS,le,y),x.on(A.default.PLAYBACK_TIME_UPDATED,le,y),x.on(A.default.PLAYBACK_SEEKED,te,y),x.on(M.default.SETTING_UPDATED_CATCHUP_ENABLED,ne,y),x.on(M.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,_e,y),x.on(M.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,_e,y),x.on(A.default.STREAM_INITIALIZED,_e,y)})(),_e()}},function ie(){R=(0,C.default)(j).getInstance().getLogger(y),Y()}(),y}F.__dashjs_factory_name="CatchupController";const w=V.default.getSingletonFactory(F)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),p=u(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),A=u(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function M(){var D,_,E,b,g,h,R,I,W,z,re,S="urn:mpeg:dash:event:2012",F=1,w="urn:mpeg:dash:event:callback:2015",j=1,x=300,y={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},m=this.context,d=(0,T.default)(m).getInstance();function ue(){if(!R||!I)throw new Error("setConfig function has to be called previously")}function Y(){re=!1,E={},b={},g=null,z=!1,h=Date.now()/1e3}function ae(){try{if(!z){z=!0;var O=I.getTime(),U=O-h;U=h>0?Math.max(0,U):0,ne(b,U,O),ne(E,U,O),le(b),le(E),h=O,z=!1}}catch(k){z=!1,_.error(k)}}function ne(O,U,k){try{Ee(O,function(de){if(void 0!==de){var q=isNaN(de.duration)?0:de.duration;de.calculatedPresentationTime<=k&&de.calculatedPresentationTime+U+q>=k?ee(de,p.default.EVENT_MODE_ON_START):(me(k,q+U,de.calculatedPresentationTime)||function _e(O){try{return O.calculatedPresentationTime>O.eventStream.period.start+O.eventStream.period.duration}catch(k){return _.error(k),!1}}(de))&&(_.debug("Removing event ".concat(de.id," from period ").concat(de.eventStream.period.id," as it is expired or invalid")),function ce(O,U){try{var k=U.eventStream.schemeIdUri,G=U.eventStream.period.id,oe=U.eventStream.value,de=U.id;O[G][k]=O[G][k].filter(function(q){return oe&&q.eventStream.value&&q.eventStream.value!==oe||q.id!==de}),0===O[G][k].length&&delete O[G][k]}catch(q){_.error(q)}}(O,de))}})}catch(oe){_.error(oe)}}function le(O){try{for(var U in O)O.hasOwnProperty(U)&&0===Object.keys(O[U]).length&&delete O[U]}catch(k){_.error(k)}}function $(O,U){var k=arguments.length>2&&void 0!==arguments[2]&&arguments[2],G=O.eventStream.schemeIdUri,oe=O.eventStream.value,de=O.id,q=y.DISCARDED;U[G]||(U[G]=[]);var be=U[G].findIndex(function(Ce){return(!oe||Ce.eventStream.value&&Ce.eventStream.value===oe)&&Ce.id===de});if(-1===be)U[G].push(O),O.triggeredReceivedEvent=!1,O.triggeredStartEvent=!1,q=y.ADDED;else if(k){var ve=U[G][be];O.triggeredReceivedEvent=ve.triggeredReceivedEvent,O.triggeredStartEvent=ve.triggeredStartEvent,U[G][be]=O,q=y.UPDATED}return q}function he(O){try{O.eventStream.value==F&&d.trigger(p.default.MANIFEST_VALIDITY_CHANGED,{id:O.id,validUntil:O.calculatedPresentationTime,newDuration:4294967295==O.calculatedPresentationTime?NaN:O.calculatedPresentationTime+O.duration,newManifestValidAfter:NaN},{mode:p.default.EVENT_MODE_ON_START})}catch(G){_.error(G)}}function De(O){try{var U=I.getTime();Ee(O,function(oe){var de=oe.eventStream&&oe.eventStream.period&&!isNaN(oe.eventStream.period.duration)?oe.eventStream.period.duration:NaN,q=oe.eventStream&&oe.eventStream.period&&!isNaN(oe.eventStream.period.start)?oe.eventStream.period.start:NaN;isNaN(de)||isNaN(q)||Math.abs(oe.calculatedPresentationTime-U)<x&&ee(oe,p.default.EVENT_MODE_ON_START)})}catch(G){_.error(G)}}function Ee(O,U){try{if(O)for(var k=Object.keys(O),G=0;G<k.length;G++)for(var oe=O[k[G]],de=Object.keys(oe),q=0;q<de.length;q++)oe[de[q]].forEach(function(ve){void 0!==ve&&U(ve)})}catch(ve){_.error(ve)}}function me(O,U,k){try{return O-U>k}catch(G){return _.error(G),!1}}function ee(O,U){try{var k=I.getTime(),G=O.id;if(U===p.default.EVENT_MODE_ON_RECEIVE&&!O.triggeredReceivedEvent)return _.debug("Received event ".concat(G)),O.triggeredReceivedEvent=!0,void d.trigger(O.eventStream.schemeIdUri,{event:O},{mode:U});O.triggeredStartEvent||(O.eventStream.schemeIdUri===S&&O.eventStream.value==F?(0!==O.duration||0!==O.presentationTimeDelta)&&(_.debug("Starting manifest refresh event ".concat(G," at ").concat(k)),function J(){try{ue(),R.refreshManifest()}catch(O){_.error(O)}}()):O.eventStream.schemeIdUri===w&&O.eventStream.value==j?(_.debug("Starting callback event ".concat(G," at ").concat(k)),function H(O){try{(0,A.default)(m).create({}).load({method:"get",url:O,request:{responseType:"arraybuffer"}})}catch(k){_.error(k)}}(O.messageData)):(_.debug("Starting event ".concat(G," from period ").concat(O.eventStream.period.id," at ").concat(k)),d.trigger(O.eventStream.schemeIdUri,{event:O},{mode:U})),O.triggeredStartEvent=!0)}catch(oe){_.error(oe)}}return D={addInlineEvents:function se(O,U){try{if(ue(),E[U]||(E[U]={}),O)for(var k=0;k<O.length;k++){var G=O[k];if(!me(I.getTime(),isNaN(G.duration)?0:G.duration,G.calculatedPresentationTime)){var q=$(G,E[U],!0);q===y.ADDED?(_.debug("Added inline event with id ".concat(G.id," from period ").concat(U)),ee(G,p.default.EVENT_MODE_ON_RECEIVE)):q===y.UPDATED&&_.debug("Updated inline event with id ".concat(G.id," from period ").concat(U))}}}catch(be){throw be}},addInbandEvents:function ge(O,U){try{ue(),b[U]||(b[U]={});for(var k=0;k<O.length;k++){var G=O[k];me(I.getTime(),isNaN(G.duration)?0:G.duration,G.calculatedPresentationTime)||($(G,b[U],!1)===y.ADDED?(G.eventStream.schemeIdUri===S&&he(G),_.debug("Added inband event with id ".concat(G.id," from period ").concat(U)),ee(G,p.default.EVENT_MODE_ON_RECEIVE)):_.debug("Inband event with scheme_id_uri ".concat(G.eventStream.schemeIdUri,", value ").concat(G.eventStream.value,", period id ").concat(U," and event id ").concat(G.id," was ignored because it has been added before.")))}ae()}catch(be){throw be}},getInbandEvents:function N(){return b},getInlineEvents:function L(){return E},start:function Z(){try{ue(),_.debug("Start Event Controller");var O=W.get().streaming.eventControllerRefreshDelay;!re&&!isNaN(O)&&(re=!0,g=setInterval(ae,O))}catch(U){throw U}},setConfig:function P(O){try{if(!O)return;O.manifestUpdater&&(R=O.manifestUpdater),O.playbackController&&(I=O.playbackController),O.settings&&(W=O.settings)}catch(U){throw U}},reset:function Q(){(function te(){try{null!==g&&re&&(clearInterval(g),g=null,re=!1,function pe(){try{De(b),De(E)}catch(O){_.error(O)}}())}catch(O){throw O}})(),Y()}},function ie(){_=(0,C.default)(m).getInstance().getLogger(D),Y()}(),D}M.__dashjs_factory_name="EventController";const f=V.default.getSingletonFactory(M)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>m});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),T=u(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),p=u(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),A=u(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),M=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),f=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),S=u(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=u(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),w=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),j=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),x=u(
/*! ../utils/SegmentResponseModifier */
"./src/streaming/utils/SegmentResponseModifier.js");function y(d){d=d||{};var W,z,re,D=this.context,_=(0,M.default)(D).getInstance(),E=d.errHandler,b=d.mediaPlayerModel,g=d.dashMetrics,h=(0,j.default)(D).getInstance(),R=(0,x.default)(D).getInstance(),I=d.streamInfo;function ue(){return I.id}function te(){for(var le in re)re[le].reset();re={}}function ne(le){if(le.sender){var se=le.request,ge=le.response,$=se.isInitializationRequest(),he=se.mediaInfo.streamInfo;if(le.error&&(se.mediaType===V.default.AUDIO||se.mediaType===V.default.VIDEO||se.mediaType===V.default.TEXT&&se.mediaInfo.isFragmented)&&_.trigger(f.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:le.request.serviceLocation}),!ge||!he)return void z.warn("No "+se.mediaType+" bytes to push or stream is inactive.");var pe=function ae(le,se,ge,$){var he=new C.default;return he.streamId=ge,he.mediaInfo=se.mediaInfo,he.segmentType=se.type,he.start=se.startTime,he.duration=se.duration,he.end=he.start+he.duration,he.bytes=le,he.index=se.index,he.quality=se.quality,he.representationId=se.representationId,he.endFragment=$,he}(ge,se,I.id,le.type!==f.default.FRAGMENT_LOADING_PROGRESS);R.modifyResponseAsync(pe).then(function(De){_.trigger($?f.default.INIT_FRAGMENT_LOADED:f.default.MEDIA_FRAGMENT_LOADED,{chunk:De,request:se},{streamId:he.id,mediaType:se.mediaType})}).catch(function(De){z.error(De),_.trigger($?f.default.INIT_FRAGMENT_LOADED:f.default.MEDIA_FRAGMENT_LOADED,{chunk:pe,request:se},{streamId:he.id,mediaType:se.mediaType})})}}return W={getStreamId:ue,getModel:function Y(le){var se=re[le];return se||(se=(0,T.default)(D).create({streamInfo:I,type:le,dashMetrics:g,fragmentLoader:(0,p.default)(D).create({dashMetrics:g,mediaPlayerModel:b,errHandler:E,requestModifier:(0,A.default)(D).getInstance(),settings:d.settings,boxParser:d.boxParser,eventBus:_,events:f.default,errors:F.default,dashConstants:d.dashConstants,urlUtils:d.urlUtils,streamId:ue()}),debug:h,eventBus:_,events:f.default}),re[le]=se),se},reset:function Z(){_.off(S.default.FRAGMENT_LOADING_COMPLETED,ne,this),_.off(S.default.FRAGMENT_LOADING_PROGRESS,ne,this),te()}},function ie(){z=h.getLogger(W),te(),_.on(S.default.FRAGMENT_LOADING_COMPLETED,ne,W),_.on(S.default.FRAGMENT_LOADING_PROGRESS,ne,W)}(),W}y.__dashjs_factory_name="FragmentController";const m=w.default.getClassFactory(y)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),M=100,f=10,S=.1;function F(){var y,m,d,D,_,E,b,g,h,R,I,W,j=this.context,x=(0,p.default)(j).getInstance();function ie(){(function me(){W.debug("Stopping the gap controller"),_&&(clearInterval(_),_=null)})(),function Z(){x.off(T.default.WALLCLOCK_TIME_UPDATED,ge,this),x.off(T.default.INITIAL_STREAM_SWITCH,se,this),x.off(T.default.PLAYBACK_SEEKING,ae,this),x.off(T.default.BUFFER_REPLACEMENT_STARTED,ne,y),x.off(T.default.TRACK_CHANGE_RENDERED,le,y)}(),function ue(){_=null,E=NaN,D=0,R=null,I={}}()}function ae(){R&&(clearTimeout(R),R=null)}function ne(ee){try{if(ee.streamId!==g.getActiveStreamInfo().id||ee.mediaType!==A.default.VIDEO&&ee.mediaType!==A.default.AUDIO)return;ee.streamId===g.getActiveStreamInfo().id&&(I[ee.mediaType]=!0)}catch(ce){W.error(ce)}}function le(ee){!ee||!ee.mediaType||(I[ee.mediaType]=!1)}function se(){_||function Ee(){try{_||(W.debug("Starting the gap controller"),_=setInterval(function(){$()&&_e(b.getTime())},M))}catch{}}()}function ge(){if($(d.get().streaming.gaps.enableSeekFix)&&++D>=f){var ee=b.getTime();m===ee?_e(ee,!0):(m=ee,E=NaN),D=0}}function $(){var ee=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!g.getActiveStream())return!1;var ce=Object.keys(I).some(function(H){return I[H]}),J=!!ee&&function he(){var ee=g.getActiveStream(),ce=parseFloat((ee.getStartTime()+ee.getDuration()).toFixed(5));return b.getTime()+d.get().streaming.gaps.threshold>=ce}();return!ce&&d.get().streaming.gaps.jumpGaps&&g.getActiveStreamProcessors().length>0&&(!b.isSeeking()||J)&&!b.isPaused()&&!g.getIsStreamSwitchInProgress()&&!g.getHasMediaOrInitialisationError()}function _e(ee){var Q,ce=arguments.length>1&&void 0!==arguments[1]&&arguments[1],J=d.get().streaming.gaps.enableStallFix,H=d.get().streaming.gaps.stallSeek,P=d.get().streaming.gaps.smallGapLimit,L=d.get().streaming.gaps.jumpLargeGaps,N=h.getBufferRange(),O=NaN,U=!1;if(Q=function pe(ee,ce){try{if(!ee||ee.length<=1&&ce>0)return NaN;for(var J=NaN,H=0;isNaN(J)&&H<ee.length;){var P=H>0?ee.end(H-1):0;ce<ee.start(H)&&P-ce<d.get().streaming.gaps.threshold&&(J=H),H+=1}return J}catch{return null}}(N,ee),!isNaN(Q)){var k=N.start(Q),G=k-ee;G>0&&(G<=P||L)&&(O=k)}var oe=b.getTimeToStreamEnd();if(isNaN(O)&&ce&&isFinite(oe)&&!isNaN(oe)&&oe<P&&(O=parseFloat(b.getStreamEndTime().toFixed(5)),U=!0),J&&isNaN(O)&&ce&&isNaN(Q)&&function De(ee,ce){for(var J=0,H=ee.length;J<H;J++)if(ce>=ee.start(J)&&ce<=ee.end(J))return!0;return!1}(N,ee)&&(0===H?(W.warn("Toggle play pause to break stall"),h.pause(),h.play()):(W.warn("Jumping ".concat(H,"s to break stall")),O=ee+H)),O>0&&E!==O&&O>ee&&!R){var de=O-ee;if(U){var q=g.getStreamForTime(O),be=q&&!!q.getPreloaded();W.warn("Jumping to end of stream because of gap from ".concat(ee," to ").concat(O,". Gap duration: ").concat(de)),b.seek(O,!0,be)}else{var ve=b.getIsDynamic(),Ce=Q>0?N.end(Q-1):ee,xe=ve?1e3*Math.max(0,de-S):0;R=window.setTimeout(function(){b.seek(O,!0,!0),W.warn("Jumping gap occuring in period ".concat(g.getActiveStream().getStreamId()," starting at ").concat(Ce," and ending at ").concat(O,". Jumping by: ").concat(O-Ce)),R=null},xe)}E=O}}return y={reset:ie,setConfig:function Y(ee){ee&&(ee.settings&&(d=ee.settings),ee.playbackController&&(b=ee.playbackController),ee.streamController&&(g=ee.streamController),ee.videoModel&&(h=ee.videoModel))},initialize:function z(){!function te(){x.on(T.default.WALLCLOCK_TIME_UPDATED,ge,this),x.on(T.default.INITIAL_STREAM_SWITCH,se,this),x.on(T.default.PLAYBACK_SEEKING,ae,this),x.on(T.default.BUFFER_REPLACEMENT_STARTED,ne,y),x.on(T.default.TRACK_CHANGE_RENDERED,le,y)}()}},function re(){W=(0,C.default)(j).getInstance().getLogger(y),ie()}(),y}F.__dashjs_factory_name="GapController";const w=V.default.getSingletonFactory(F)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>j});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),T=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),p=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),M=u(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),f=u.n(M),S=u(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function F(){var m,d,D,_,E,b,g,h,x=this.context,y=(0,T.default)(x).getInstance();function z(de,q){return de&&D[q]&&D[q][de]?D[q][de].list:[]}function re(de,q){return de&&D[q]&&D[q][de]?D[q][de].current:null}function ue(de){var q=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(de&&de.streamInfo){var be=de.type,Ce=de.streamInfo.id,xe=re(be,Ce);if(D[Ce]&&D[Ce][be]&&(D[Ce][be].current=de,D[Ce][be].current&&(be!==V.default.TEXT&&!ne(de,xe)||be===V.default.TEXT&&de.isFragmented)&&y.trigger(C.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:xe,newMediaInfo:de,switchMode:_.get().streaming.trackSwitchMode[be]},{streamId:Ce}),!q)){var He=function ge(de){var q={lang:de.lang,viewpoint:de.viewpoint,roles:de.roles,accessibility:de.accessibility,audioChannelConfiguration:de.audioChannelConfiguration};return q.lang||q.viewpoint||q.role&&q.role.length>0||q.accessibility&&q.accessibility.length>0||q.audioChannelConfiguration&&q.audioChannelConfiguration.length>0?q:null}(de);if(!He||!D[Ce][be].storeLastSettings)return;He.roles&&(He.role=He.roles[0],delete He.roles),He.accessibility&&(He.accessibility=He.accessibility[0]),He.audioChannelConfiguration&&(He.audioChannelConfiguration=He.audioChannelConfiguration[0]),b[be]=He,h.setSavedMediaSettings(be,He)}}}function Y(de,q){!de||!q||(E[de]=q)}function te(de){return de?E[de]:null}function ne(de,q){if(!de&&!q)return!0;if(!de||!q)return!1;var be=de.id===q.id,ve=de.viewpoint===q.viewpoint,Ce=de.lang===q.lang,xe=de.codec===q.codec,He=de.roles.toString()===q.roles.toString(),je=de.accessibility.toString()===q.accessibility.toString(),rt=de.audioChannelConfiguration.toString()===q.audioChannelConfiguration.toString();return be&&xe&&ve&&Ce&&He&&je&&rt}function se(){D={},b={},function ce(){E={audio:null,video:null,text:null}}()}function $(de,q,be){var ve=[];return de.forEach(function(Ce){q(be,Ce)&&ve.push(Ce)}),0!==ve.length?ve:de}function he(de,q){return!de.lang||de.lang instanceof RegExp?q.lang.match(de.lang):""!==q.lang&&(0,S.extendedFilter)(q.lang,f()(de.lang)).length>0}function pe(de,q){return null==de.index||q.index===de.index}function De(de,q){return!de.viewpoint||de.viewpoint===q.viewpoint}function Ee(de,q){var be=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!de.role||!!q.roles.filter(function(Ce){return Ce===de.role})[0]||q.type===V.default.AUDIO&&be}function me(de,q){return de.accessibility?!!q.accessibility.filter(function(ve){return ve===de.accessibility})[0]:!q.accessibility.length}function _e(de,q){return!de.audioChannelConfiguration||!!q.audioChannelConfiguration.filter(function(ve){return ve===de.audioChannelConfiguration})[0]}function H(de){var ve,q=0,be=[];return de.forEach(function(Ce){(ve=Math.max.apply(Math,Ce.bitrateList.map(function(xe){return xe.bandwidth})))>q?(q=ve,be=[Ce]):ve===q&&be.push(Ce)}),be}function P(de){var ve,q=1/0,be=[];return de.forEach(function(Ce){var xe=Ce.bitrateList.reduce(function(He,je){var rt=Math.max(1,je.width*je.height);return He+je.bandwidth/rt},0);(ve=xe/Ce.bitrateList.length)<q?(q=ve,be=[Ce]):ve===q&&be.push(Ce)}),be}function L(de){var ve,q=0,be=[];return de.forEach(function(Ce){(ve=Ce.representationCount)>q?(q=ve,be=[Ce]):ve===q&&be.push(Ce)}),be}function N(de,q){if(de===V.default.TEXT)return q[0];var ve,be=_.get().streaming.selectionModeForInitialTrack,Ce=g.getCustomInitialTrackSelectionFunction();if(Ce&&"function"==typeof Ce)ve=Ce(q);else switch(be){case V.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ve=function Q(de){var q=function J(de){var q=0,be=[];return de.forEach(function(ve){isNaN(ve.selectionPriority)||(ve.selectionPriority>q?(q=ve.selectionPriority,be=[ve]):ve.selectionPriority===q&&be.push(ve))}),be}(de);return q.length>1&&(q=H(q)),q.length>1&&(q=L(q)),q}(q);break;case V.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ve=function O(de){var q=H(de);return q.length>1&&(q=L(q)),q}(q);break;case V.default.TRACK_SELECTION_MODE_FIRST_TRACK:ve=U(q);break;case V.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ve=function k(de){var q=P(de);return q.length>1&&(q=H(q)),q}(q);break;case V.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ve=function G(de){var q=L(de);return q.length>1&&(q=H(de)),q}(q);break;default:d.warn("Track selection mode ".concat(be," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ve=U(q)}return ve.length>0?ve[0]:q[0]}function U(de){return de[0]}return m={setInitialMediaSettingsForType:function I(de,q){var be=b[de]||te(de),ve=z(de,q.id),Ce=[];be||Y(de,be=h.getSavedMediaSettings(de)),ve&&0!==ve.length&&(be&&(Ce=$(Ce=Array.from(ve),he,be),Ce=$(Ce,pe,be),Ce=$(Ce,De,be),de===V.default.AUDIO&&b[de]||(Ce=$(Ce,Ee,be)),Ce=$(Ce,me,be),Ce=$(Ce,_e,be)),0===Ce.length?ue(N(de,ve),!0):ue(Ce.length>1?N(de,Ce):Ce[0]))},addTrack:function W(de){if(de){var q=de.type;if(function ae(de){return de===V.default.AUDIO||de===V.default.VIDEO||de===V.default.TEXT||de===V.default.IMAGE}(q)){var be=de.streamInfo.id;D[be]||(D[be]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ve=D[be][q].list,Ce=0,xe=ve.length;Ce<xe;++Ce)if(ne(ve[Ce],de))return;ve.push(de)}}},getTracksFor:z,getCurrentTrackFor:re,isCurrentTrack:function ie(de){if(!de)return!1;var q=de.type,be=de.streamInfo.id;return D[be]&&D[be][q]&&ne(D[be][q].current,de)},setTrack:ue,selectInitialTrack:N,setInitialSettings:Y,getInitialSettings:te,getTracksWithHighestBitrate:H,getTracksWithHighestEfficiency:P,getTracksWithWidestRange:L,isTracksEqual:ne,matchSettings:function ee(de,q){var be=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var ve=!1;if(de.lang){if(de.lang instanceof RegExp)ve=q.lang.match(de.lang);else if(""!==q.lang){var Ce=f()(de.lang);Ce&&(ve=(0,S.extendedFilter)(q.lang,Ce).length>0)}}else ve=!0;var xe=null==de.index||q.index===de.index,He=!de.viewpoint||de.viewpoint===q.viewpoint,je=!de.role||!!q.roles.filter(function(Re){return Re===de.role})[0],rt=!de.accessibility||!!q.accessibility.filter(function(Re){return Re===de.accessibility})[0],it=!de.audioChannelConfiguration||!!q.audioChannelConfiguration.filter(function(Re){return Re===de.audioChannelConfiguration})[0];return ve&&xe&&He&&(je||q.type===V.default.AUDIO&&be)&&rt&&it}catch(Re){return!1}},matchSettingsLang:he,matchSettingsIndex:pe,matchSettingsViewPoint:De,matchSettingsRole:Ee,matchSettingsAccessibility:me,matchSettingsAudioChannelConfig:_e,saveTextSettingsDisabled:function Z(){h.setSavedMediaSettings(V.default.TEXT,null)},setConfig:function le(de){de&&(de.domStorage&&(h=de.domStorage),de.settings&&(_=de.settings),de.customParametersModel&&(g=de.customParametersModel))},reset:se},function R(){d=(0,A.default)(x).getInstance().getLogger(m),se()}(),m}F.__dashjs_factory_name="MediaController";var w=p.default.getSingletonFactory(F);p.default.updateSingletonFactory(F.__dashjs_factory_name,w);const j=w},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js");function T(){var A,M,f,S=this.context;return A={createMediaSource:function w(){var _="WebKitMediaSource"in window;return"MediaSource"in window?M=new MediaSource:_&&(M=new WebKitMediaSource),M},attachMediaSource:function j(_){var E=window.URL.createObjectURL(M);return _.setSource(E),E},detachMediaSource:function x(_){_.setSource(null)},setDuration:function y(_){!M||"open"!==M.readyState||null===_&&isNaN(_)||M.duration!==_&&(function D(_){for(var E=_.sourceBuffers,b=0;b<E.length;b++)if(E[b].updating)return!0;return!1}(M)?setTimeout(y.bind(null,_),50):(f.info("Set MediaSource duration:"+_),M.duration=_))},setSeekable:function m(_,E){M&&"function"==typeof M.setLiveSeekableRange&&"function"==typeof M.clearLiveSeekableRange&&"open"===M.readyState&&_>=0&&_<E&&(M.clearLiveSeekableRange(),M.setLiveSeekableRange(_,E))},signalEndOfStream:function d(_){if(_&&"open"===_.readyState){for(var E=_.sourceBuffers,b=0;b<E.length;b++)if(E[b].updating||0===E[b].buffered.length)return;f.info("call to mediaSource endOfStream"),_.endOfStream()}}},function F(){f=(0,C.default)(S).getInstance().getLogger(A)}(),A}T.__dashjs_factory_name="MediaSourceController";const p=V.default.getSingletonFactory(T)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),M=u(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=u(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),S=500;function F(){var y,m,d,D,_,E,b,g,h,R,I,W,z,re,ie,ue,te,Z,ae,ne,le,se,ge,j=this.context,x=(0,C.default)(j).getInstance();function he(){ce(),re=!1,R=0,I=0,ue=0,le=!1,te=!1,se=!1,Z=NaN,b&&(x.off(T.default.DATA_UPDATE_COMPLETED,Dt,y),x.off(T.default.LOADING_PROGRESS,mt,y),x.off(T.default.MANIFEST_UPDATED,vn,y),x.off(T.default.STREAMS_COMPOSED,Nn,y),x.off(M.default.PLAYBACK_ENDED,gt,y),x.off(M.default.STREAM_INITIALIZING,At,y),x.off(M.default.REPRESENTATION_SWITCH,Bt,y),x.off(M.default.BUFFER_LEVEL_STATE_CHANGED,qe,y),yt(),function Mt(){b.removeEventListener("canplay",Fe),b.removeEventListener("canplaythrough",Ze),b.removeEventListener("play",pt),b.removeEventListener("waiting",Tt),b.removeEventListener("playing",It),b.removeEventListener("pause",wt),b.removeEventListener("error",St),b.removeEventListener("seeking",rn),b.removeEventListener("seeked",at),b.removeEventListener("timeupdate",Ae),b.removeEventListener("progress",ye),b.removeEventListener("ratechange",Oe),b.removeEventListener("loadedmetadata",We),b.removeEventListener("loadeddata",Ke),b.removeEventListener("stalled",Lt),b.removeEventListener("ended",ut),b.removeEventListener("volumechange",Et)}()),h=null,b=null,W=null,z=null}function me(){return parseFloat((_e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-Q()).toFixed(5))}function _e(Ue){var $e=Ue||W;return $e.start+$e.duration}function ee(){var Ue=arguments.length>0&&void 0!==arguments[0]&&arguments[0];W&&b&&b.getElement()?(Ue&&z&&N(Q()),b.play()):re=!0}function ce(){W&&b&&b.pause()}function J(Ue){var $e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],st=arguments.length>2&&void 0!==arguments[2]&&arguments[2],xt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];W&&b&&Ue!==(isNaN(Z)?b.getTime():Z)&&((ae=!0===st)||(Z=Ue),m.info("Requesting seek to time: "+Ue+(ae?" (internal)":"")),z&&xt&&N(Ue),b.setCurrentTime(Ue,$e))}function L(){if(W&&b&&z){var Ue=d&&d.hasVideoTrack()?V.default.VIDEO:V.default.AUDIO,$e=_.getCurrentDVRInfo(Ue);return $e&&$e.range?$e.range.end:0}}function N(Ue){var $e=new Date(g.getClientReferenceTime()),st=E.getRegularPeriods()[0],xt=g.calcPresentationTimeFromWallTime($e,st);R=xt-Ue}function Q(){return W&&b?b.getTime():null}function O(){return W&&b?b.isPaused():null}function U(){return W&&b?b.isSeeking():null}function k(){return W&&b?b.isStalled():null}function G(){return W&&b?b.getPlaybackRate():null}function de(){return W&&b?b.getEnded():null}function q(){return z}function Re(){var Ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!O()&&z&&0!==b.getReadyState()&&!U()&&!le){Ue||(Ue=d.hasVideoTrack()?V.default.VIDEO:V.default.AUDIO);var $e=Q(),st=function Be(Ue,$e){var st=_.getCurrentDVRInfo($e),xt=st?st.range:null;return xt?Ue>xt.end?Math.max(xt.end-R,xt.start):Ue>0&&Ue+.25<xt.start&&Math.abs(Ue-xt.start)<31536e4?te?Math.max(xt.end-R,xt.start):xt.start:Ue:NaN}($e,Ue);!isNaN(st)&&st!==$e&&!U()&&(k()||ne||1===b.getReadyState())&&(m.debug("UpdateCurrentTime: Seek to actual time: ".concat(st," from currentTime: ").concat($e)),J(st,!1,!1))}}function ct(){null===h&&(h=setInterval(function(){!function Wt(){x.trigger(T.default.WALLCLOCK_TIME_UPDATED,{isDynamic:z,time:new Date}),q()&&(d.addDVRMetric(),O()?function Kt(){var Ue=Date.now();(!ie||Ue>ie+S)&&(ie=Ue,Ae())}():Re())}()},ge.get().streaming.wallclockTimeUpdateInterval))}function yt(){clearInterval(h),h=null}function Dt(Ue){var $e=E.convertRepresentationToRepresentationInfo(Ue.currentRepresentation),st=$e?$e.mediaInfo.streamInfo:null;null===st||W.id!==st.id||(W=st)}function Fe(){x.trigger(T.default.CAN_PLAY)}function Ze(){x.trigger(T.default.CAN_PLAY_THROUGH)}function qe(Ue){Ue.streamId===d.getActiveStreamInfo().id&&(ne=Ue.state===f.default.BUFFER_EMPTY,ge.get().streaming.buffer.setStallState&&b.setStallState(Ue.mediaType,Ue.state===f.default.BUFFER_EMPTY))}function pt(){m.info("Native video element event: play"),Re(),ct(),x.trigger(T.default.PLAYBACK_STARTED,{startTime:Q()})}function Tt(){m.info("Native video element event: waiting"),x.trigger(T.default.PLAYBACK_WAITING,{playingTime:Q()})}function It(){m.info("Native video element event: playing"),ae=!1,x.trigger(T.default.PLAYBACK_PLAYING,{playingTime:Q()})}function wt(){m.info("Native video element event: pause"),x.trigger(T.default.PLAYBACK_PAUSED,{ended:de()})}function rn(){if(!ae){var Ue=Q();!isNaN(Z)&&Z!==Ue&&(Ue=Z),Z=NaN,m.info("Seeking to: "+Ue),ct(),x.trigger(T.default.PLAYBACK_SEEKING,{seekTime:Ue,streamId:W.id})}}function at(){m.info("Native video element event: seeked"),ae=!1,x.trigger(T.default.PLAYBACK_SEEKED)}function Ae(){W&&x.trigger(T.default.PLAYBACK_TIME_UPDATED,{timeToEnd:me(),time:Q(),streamId:W.id})}function ye(){x.trigger(T.default.PLAYBACK_PROGRESS,{streamId:W.id})}function Oe(){var Ue=G();m.info("Native video element event: ratechange: ",Ue),x.trigger(T.default.PLAYBACK_RATE_CHANGED,{playbackRate:Ue})}function We(){m.info("Native video element event: loadedmetadata"),x.trigger(T.default.PLAYBACK_METADATA_LOADED),ct()}function Ke(){m.info("Native video element event: loadeddata"),x.trigger(T.default.PLAYBACK_LOADED_DATA)}function ut(){m.info("Native video element event: ended"),ce(),yt();var Ue=d?d.getActiveStreamInfo():null;Ue&&x.trigger(T.default.PLAYBACK_ENDED,{isLast:Ue.isLast})}function Et(){x.trigger(T.default.PLAYBACK_VOLUME_CHANGED)}function gt(Ue){if(h&&Ue.isLast){m.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var $e=Ue.seekTime?Ue.seekTime:_e();b.setCurrentTime($e),ce(),yt()}}function St(Ue){x.trigger(T.default.PLAYBACK_ERROR,{error:(Ue.target||Ue.srcElement).error})}function mt(Ue){if(!1===Ue.stream&&te&&!isNaN(Ue.request.duration)){var $e=1.2*Ue.request.duration;$e>R&&(m.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",$e.toFixed(2)),R=$e,I=$e)}}function Lt(Ue){x.trigger(T.default.PLAYBACK_STALLED,{e:Ue})}function At(Ue){!function Se(Ue){Ue&&Ue.supplementalProperties&&"true"===Ue.supplementalProperties[V.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(m.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),te=!0)}(Ue.mediaInfo)}function Bt(Ue){var $e=d.getActiveStreamInfo();!Ue||!$e||!Ue.currentRepresentation||!Ue.streamId||Ue.streamId!==$e.id||!Ue.mediaType||Ue.mediaType!==V.default.VIDEO&&Ue.mediaType!==V.default.AUDIO||(te=!Ue.currentRepresentation.availabilityTimeComplete)&&!se&&(se=!0)}function vn(){le=!0}function Nn(){le=!1}return y={initialize:function pe(Ue,$e){W=Ue,!0!==$e&&function De(){(function tt(){b.addEventListener("canplay",Fe),b.addEventListener("canplaythrough",Ze),b.addEventListener("play",pt),b.addEventListener("waiting",Tt),b.addEventListener("playing",It),b.addEventListener("pause",wt),b.addEventListener("error",St),b.addEventListener("seeking",rn),b.addEventListener("seeked",at),b.addEventListener("timeupdate",Ae),b.addEventListener("progress",ye),b.addEventListener("ratechange",Oe),b.addEventListener("loadedmetadata",We),b.addEventListener("loadeddata",Ke),b.addEventListener("stalled",Lt),b.addEventListener("ended",ut),b.addEventListener("volumechange",Et)})(),z=W.manifestInfo.isDynamic,ne=!1,ae=!1,x.on(T.default.DATA_UPDATE_COMPLETED,Dt,y),x.on(T.default.LOADING_PROGRESS,mt,y),x.on(T.default.MANIFEST_UPDATED,vn,y),x.on(T.default.STREAMS_COMPOSED,Nn,y),x.on(M.default.PLAYBACK_ENDED,gt,y,{priority:C.default.EVENT_PRIORITY_HIGH}),x.on(M.default.STREAM_INITIALIZING,At,y),x.on(M.default.REPRESENTATION_SWITCH,Bt,y),x.on(M.default.BUFFER_LEVEL_STATE_CHANGED,qe,y),re&&(re=!1,ee())}()},setConfig:function it(Ue){Ue&&(Ue.streamController&&(d=Ue.streamController),Ue.serviceDescriptionController&&(D=Ue.serviceDescriptionController),Ue.dashMetrics&&(_=Ue.dashMetrics),Ue.adapter&&(E=Ue.adapter),Ue.videoModel&&(b=Ue.videoModel),Ue.timelineConverter&&(g=Ue.timelineConverter),Ue.settings&&(ge=Ue.settings))},getTimeToStreamEnd:me,getBufferLevel:function Pe(){var Ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,$e=null;return d.getActiveStreamProcessors().forEach(function(st){if(!Ue||0===Ue.length||-1===Ue.indexOf(st.getType())){var xt=st.getBufferLevel();$e=null===$e?xt:Math.min($e,xt)}}),$e},getPlaybackStalled:function Ee(){return ne},getTime:Q,getLowLatencyModeEnabled:function ze(){return te},getInitialCatchupModeActivated:function on(){return se},getIsManifestUpdateInProgress:function ve(){return le},getPlaybackRate:G,getPlayedRanges:function oe(){return W&&b?b.getPlayedRanges():null},getEnded:de,getIsDynamic:q,getStreamController:function be(){return d},computeAndSetLiveDelay:function rt(Ue,$e){var st,xt,dn,Hn=!isNaN(Ue)&&isFinite(Ue)?Ue:NaN,Tn=E.getSuggestedPresentationDelay(),ft=D.getServiceDescriptionSettings();return st=isNaN(ge.get().streaming.delay.liveDelay)?null===ge.get().streaming.delay.liveDelayFragmentCount||isNaN(ge.get().streaming.delay.liveDelayFragmentCount)||isNaN(Hn)?ft&&!isNaN(ft.liveDelay)&&ft.liveDelay>0?ft.liveDelay:!0===ge.get().streaming.delay.useSuggestedPresentationDelay&&null!==Tn&&!isNaN(Tn)&&Tn>0?Tn:isNaN(Hn)?$e&&!isNaN($e.minBufferTime)?4*$e.minBufferTime:4*W.manifestInfo.minBufferTime:4*Hn:Hn*ge.get().streaming.delay.liveDelayFragmentCount:ge.get().streaming.delay.liveDelay,null!==(dn=E.getAvailabilityStartTime())&&(ue=dn),xt=$e&&$e.dvrWindowSize>0?Math.min(st,$e.dvrWindowSize):st,R=xt,I=xt,xt},getLiveDelay:function xe(){return R},getOriginalLiveDelay:function He(){return I},getCurrentLiveLatency:function je(){if(!z||isNaN(ue))return NaN;var Ue=Q();if(isNaN(Ue)||0===Ue)return 0;var $e=(new Date).getTime()+1e3*g.getClientTimeOffset();return Math.max((($e-ue-1e3*Ue)/1e3).toFixed(3),0)},play:ee,isPaused:O,isStalled:k,pause:ce,isSeeking:U,getStreamEndTime:_e,seek:J,seekToOriginalLive:function H(){var Ue=arguments.length>0&&void 0!==arguments[0]&&arguments[0],$e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],st=arguments.length>2&&void 0!==arguments[2]&&arguments[2],xt=L();0!==xt&&J(xt-(R=I),Ue,$e,st)},seekToCurrentLive:function P(){var Ue=arguments.length>0&&void 0!==arguments[0]&&arguments[0],$e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],st=arguments.length>2&&void 0!==arguments[2]&&arguments[2],xt=L();0!==xt&&J(xt-R,Ue,$e,st)},reset:he,updateCurrentTime:Re,getAvailabilityStartTime:function Ce(){return ue}},function $(){m=(0,A.default)(j).getInstance().getLogger(y),he()}(),y}F.__dashjs_factory_name="PlaybackController";const w=p.default.getSingletonFactory(F)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),T=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),p=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),M=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=u(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),S=u(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(j){j=j||{};var I,W,z,re,ie,ue,Y,te,Z,ae,ne,le,se,x=this.context,y=(0,T.default)(x).getInstance(),m=j.dashMetrics,d=j.mediaPlayerModel,D=j.fragmentModel,_=j.abrController,E=j.playbackController,b=j.textController,g=j.type,h=j.bufferController,R=j.settings;function Ee(Be){if(!h.getIsBufferingCompleted()){me();var ct=isNaN(Be)?0:Be;ue=setTimeout(ee,ct)}}function me(){ue&&(clearTimeout(ue),ue=null)}function ee(){try{if(function J(){try{return g===V.default.TEXT&&!b.isTextEnabled()||E.isPaused()&&(!E.getStreamController().getInitialPlayback()||!E.getStreamController().getAutoPlay())&&!R.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void me();if(function H(){try{return re&&(isNaN(ae)||ne||function _e(){var ct=_.getMaxAllowedIndexFor(g,W.id);return!(!isNaN(Z)&&Z==ct||(z.info("Top quality "+g+" index has changed from "+Z+" to "+ct),Z=ct,0))}()||function P(){return!g||!re||m.getCurrentBufferLevel(g)<L()}())}catch{return!1}}()){var Be=!1;se&&(Be=_.checkPlaybackQuality(g,W.id)),Be||function ce(){le||re.quality!==ae||ne?(ne?(z.debug("Switch track for "+g+", representation id = "+re.id),ne=!1):z.debug("Quality has changed, get init request for representationid = "+re.id),y.trigger(p.default.INIT_FRAGMENT_NEEDED,{representationId:re.id,sender:I},{streamId:W.id,mediaType:g}),se=!1,le=!1):(z.debug("Media segment needed for ".concat(g," and stream id ").concat(W.id)),y.trigger(p.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:W.id,mediaType:g}),se=!0)}()}else Ee(E.getLowLatencyModeEnabled()?R.get().streaming.scheduling.lowLatencyTimeout:R.get().streaming.scheduling.defaultTimeout)}catch{Ee(E.getLowLatencyModeEnabled()?R.get().streaming.scheduling.lowLatencyTimeout:R.get().streaming.scheduling.defaultTimeout)}}function L(){var Be=NaN;return!g||!re||(Be=g===V.default.TEXT?function N(){try{if(b.isTextEnabled()){if(isNaN(re.fragmentDuration)){var Be=m.getCurrentSchedulingInfo(f.default.SCHEDULING_INFO);return Be?Be.duration:0}return re.fragmentDuration}return 0}catch{return 0}}():g===V.default.AUDIO&&Y?function Q(){try{var Be=m.getCurrentBufferLevel(V.default.VIDEO);return isNaN(re.fragmentDuration)?Be+1:Math.max(Be+1,re.fragmentDuration)}catch{return 0}}():function O(){try{var Be=re.mediaInfo.streamInfo;return _.isPlayingAtTopQuality(Be)?Be.manifestInfo.duration>=R.get().streaming.buffer.longFormContentDurationThreshold?R.get().streaming.buffer.bufferTimeAtTopQualityLongForm:R.get().streaming.buffer.bufferTimeAtTopQuality:d.getStableBufferTime()}catch{return d.getStableBufferTime()}}()),Be}function G(){oe(!0)}function oe(Be){if(E&&D){var ct=D.getRequests({state:C.default.FRAGMENT_MODEL_EXECUTED,time:E.getTime(),threshold:0})[0];ct&&E.getTime()>=ct.startTime&&((!te.mediaInfo||ct.mediaInfo.type===te.mediaInfo.type&&ct.mediaInfo.id!==te.mediaInfo.id)&&Be&&y.trigger(p.default.TRACK_CHANGE_RENDERED,{mediaType:g,oldMediaInfo:te.mediaInfo,newMediaInfo:ct.mediaInfo,streamId:W.id}),(ct.quality!==te.quality||ct.adaptationIndex!==te.adaptationIndex)&&Be&&(z.debug("Quality change rendered for streamId ".concat(W.id," and type ").concat(g)),y.trigger(p.default.QUALITY_CHANGE_RENDERED,{mediaType:g,oldQuality:te.quality,newQuality:ct.quality,streamId:W.id})),te={mediaInfo:ct.mediaInfo,quality:ct.quality,adaptationIndex:ct.adaptationIndex})}}function de(Be){z.debug("Appended bytes for ".concat(Be.mediaType," and stream id ").concat(W.id)),(isNaN(Be.index)||isNaN(ae))&&(ae=Be.quality,z.info("["+g+"] lastInitializedRepresentationInfo changed to "+Be.quality)),Ee(0)}function q(){D.abortRequests(),me()}function be(){R.get().streaming.scheduling.scheduleWhilePaused||Ee()}function ve(Be){m.updatePlayListTraceMetrics({playbackspeed:Be.playbackRate.toString()})}function rt(){se=!0,ie=0,ae=NaN,te={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},Z=NaN,ne=!1,le=!1}return I={initialize:function $(Be){Y=Be,y.on(p.default.BYTES_APPENDED_END_FRAGMENT,de,I),y.on(p.default.URL_RESOLUTION_FAILED,q,I),y.on(S.default.PLAYBACK_STARTED,be,I),y.on(S.default.PLAYBACK_RATE_CHANGED,ve,I),y.on(S.default.PLAYBACK_TIME_UPDATED,G,I)},getType:function he(){return g},getStreamId:function pe(){return W.id},setCurrentRepresentation:function De(Be){re=Be},setTimeToLoadDelay:function Ce(Be){ie=Be},getTimeToLoadDelay:function xe(){return ie},setSwitchTrack:function U(Be){ne=Be},getSwitchStrack:function k(){return ne},startScheduleTimer:Ee,clearScheduleTimer:me,reset:function it(){y.off(p.default.BYTES_APPENDED_END_FRAGMENT,de,I),y.off(p.default.URL_RESOLUTION_FAILED,q,I),y.off(S.default.PLAYBACK_STARTED,be,I),y.off(S.default.PLAYBACK_RATE_CHANGED,ve,I),y.off(S.default.PLAYBACK_TIME_UPDATED,G,I),me(),oe(!1),rt(),W=null},getBufferTarget:L,getPlaybackController:function Re(){return E},setCheckPlaybackQuality:function He(Be){se=Be},setInitSegmentRequired:function je(Be){le=Be}},function ge(){z=(0,M.default)(x).getInstance().getLogger(I),rt(),W=j.streamInfo}(),I}F.__dashjs_factory_name="ScheduleController";const w=A.default.getClassFactory(F)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>ie});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),T=u(
/*! ../Stream */
"./src/streaming/Stream.js"),p=u(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),A=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),M=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),f=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),S=u(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),F=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=u(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),j=u(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),x=u(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),y=u(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),m=u(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),d=u(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),D=u(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),_=u(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function I(ue,Y){(null==Y||Y>ue.length)&&(Y=ue.length);for(var te=0,Z=new Array(Y);te<Y;te++)Z[te]=ue[te];return Z}var W=200,z=2;function re(){var te,Z,ae,ne,le,se,ge,$,he,pe,De,Ee,me,_e,ee,ce,J,H,P,L,N,Q,O,U,k,G,oe,de,q,be,ve,Ce,xe,He,je,rt,it,Re,Be,ct,yt,Dt,Fe,Ze,qe,pt,Tt,It,ue=this.context,Y=(0,A.default)(ue).getInstance();function ye(){if(!(se&&se.hasOwnProperty("load")&&N&&N.hasOwnProperty("initialize")&&N.hasOwnProperty("reset")&&N.hasOwnProperty("getClientTimeOffset")&&ge&&L&&he&&xe))throw new Error(V.default.MISSING_CONFIG_ERROR)}function ut(){!function gt(){try{var Ve=$.getStreamsInfo();if(!O&&0===Ve.length)throw new Error("There are no periods in the MPD");O&&Ve.length>0&&he.updateManifestUpdateInfo({currentTime:xe.getTime(),buffered:Ce.getBufferRange(),presentationStartTime:Ve[0].start,clientTimeOffset:N.getClientTimeOffset()}),Q.length>0&&function fn(Ve){0!==Ve.length?Q=Q.filter(function(vt){var Vt=Ve.filter(function(_n){return _n.id===vt.getId()}).length>0,lt=Vt||vt.getId()===O.getId();return lt||(Z.debug("Removing stream ".concat(vt.getId())),vt.reset(!0)),lt}):Z.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Ve);for(var vt=[],Vt=0,lt=Ve.length;Vt<lt;Vt++){var _n=Ve[Vt];vt.push(St(_n)),he.addManifestUpdateStreamInfo(_n)}Promise.all(vt).then(function(){return Ze.get().streaming.applyContentSteering&&!O&&Ee.shouldQueryBeforeStart()?Ee.loadSteeringData():Promise.resolve()}).then(function(){O||Wt(Ve),Y.trigger(M.default.STREAMS_COMPOSED),Hn()}).catch(function(Jt){throw Jt})}catch(Jt){L.error(new m.default(d.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Jt.message+" nostreamscomposed",ge.getValue())),be=!0,ps()}}()}function Et(){qe=!0}function St(Ve){var vt=ol(Ve.id);return vt?vt.updateData(Ve):(vt=(0,T.default)(ue).create({manifestModel:ge,mediaPlayerModel:je,dashMetrics:he,manifestUpdater:le,adapter:$,timelineConverter:N,capabilities:ae,capabilitiesFilter:ne,errHandler:L,baseURLController:me,segmentBaseController:_e,textController:k,abrController:ce,playbackController:xe,eventController:H,mediaController:J,protectionController:U,videoModel:Ce,streamInfo:Ve,settings:Ze}),Q.push(vt),vt.initialize(),Promise.resolve())}function Wt(Ve){Mt();var vt=he.getCurrentDVRInfo().range;if(vt.end<vt.start){pt&&clearTimeout(pt);var Vt=Math.min(1e3*(-1*(vt.end-vt.start)+z),2147483647);return Z.debug("Waiting for ".concat(Vt," ms before playback can start")),Y.trigger(M.default.AST_IN_FUTURE,{delay:Vt}),void(pt=setTimeout(function(){Wt(Ve)},Vt))}Ze.get().streaming.applyProducerReferenceTime&&He.calculateProducerReferenceTimeOffsets(Ve);var lt=Ve[0].manifestInfo;if(Ze.get().streaming.applyServiceDescription&&He.applyServiceDescription(lt),$.getIsDynamic()){var _n=xn(Ve,lt);xe.computeAndSetLiveDelay(_n,lt)}var Jt=function Cn(){var Ve;if($.getIsDynamic()){var Vt=he.getCurrentDVRInfo();Ve=(Vt&&Vt.range?Vt.range.end:0)-xe.getOriginalLiveDelay();var _n=Vt?Vt.range:null;if(_n){if(isNaN(Tt)&&-1===Tt.toString().indexOf("posix:")){var Fn=In(!0);isNaN(Fn)||(Z.info("Start time from URI parameters: ".concat(Fn)),Ve=Math.min(Ve,Fn))}else{Z.info("Start time provided by the app: ".concat(Tt));var Jt=nt(!0,Tt);isNaN(Jt)||(Ve=Math.min(Ve,Jt))}var yi=Ze.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Ve=Math.max(Ve,_n.start+yi)}}else if(Ve=Un()[0].getStreamInfo().start,isNaN(Tt)){var Bo=In(!1);isNaN(Bo)||(Z.info("Start time from URI parameters: ".concat(Bo)),Ve=Math.max(Ve,Bo))}else{Z.info("Start time provided by the app: ".concat(Tt));var si=nt(!1,Tt);isNaN(si)||(Ve=Math.max(Ve,si))}return Ve}(),Fn=tt(Jt),yi=null!==Fn?Fn:Q[0];Y.trigger(M.default.INITIAL_STREAM_SWITCH,{startTime:Jt}),Kt(yi,null,Jt),function Tn(){ct||(ct=setInterval(function(){!de&&xe.getTimeToStreamEnd()<=0&&!xe.isSeeking()&&Y.trigger(M.default.PLAYBACK_ENDED,{isLast:Xr().isLast})},W))}()}function Kt(Ve,vt,Vt){try{if(de||!Ve||vt===Ve&&Ve.getIsActive())return;de=!0,Y.trigger(M.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:vt?vt.getStreamInfo():null,toStreamInfo:Ve.getStreamInfo()});var lt=!1;O=Ve,vt&&(lt=Nn(Ve,vt),vt.deactivate(lt)),Vt=isNaN(Vt)?!lt&&vt?Ve.getStreamInfo().start:NaN:Vt,Z.info("Switch to stream ".concat(Ve.getId(),". Seektime is ").concat(Vt,", current playback time is ").concat(xe.getTime(),". Seamless period switch is set to ").concat(lt)),Dt=Dt.filter(function(_n){return _n.getId()!==O.getId()}),xe.initialize(Xr(),!!vt),Ce.getElement()?Pe(Vt,lt,!1):ze(Vt,lt)}catch{de=!1}}function Pe(Ve,vt){var lt,Vt=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function _n(){if(ve&&"open"===ve.readyState){Z.debug("MediaSource is open!"),window.URL.revokeObjectURL(lt),ve.removeEventListener("sourceopen",_n),ve.removeEventListener("webkitsourceopen",_n),Xe();var Fn=he.getCurrentDVRInfo();pe.setSeekable(Fn.range.start,Fn.range.end),Vt?O.setMediaSource(ve).then(function(){O.initializeForTextWithMediaSource(ve)}):ze(Ve,vt)}}function Jt(){ve.addEventListener("sourceopen",_n,!1),ve.addEventListener("webkitsourceopen",_n,!1),lt=pe.attachMediaSource(Ce),Z.debug("MediaSource attached to element.  Waiting on open...")}ve?vt?ze(Ve,vt):(pe.detachMediaSource(Ce),Jt()):(ve=pe.createMediaSource(),Jt())}function ze(Ve,vt){O.activate(ve,vt?yt:void 0,Ve).then(function(Vt){if(Vt){var lt=Object.keys(Vt);lt.length>0&&Vt[lt[0]].getBuffer().changeType&&(Fe=!0),yt=Vt}isNaN(Ve)||(Y.trigger(M.default.SEEK_TARGET,{time:Ve},{streamId:O.getId()}),xe.seek(Ve,!1,!0),O.startScheduleControllers()),de=!1,Y.trigger(M.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Xr()})})}function mt(Ve){var Vt=tt(Ve.seekTime);Vt&&Vt!==O?Vt&&Vt!==O&&(Lt(),function on(Ve,vt){var Vt=Ve&&!isNaN(Ve.seekTime)?Ve.seekTime:NaN,_n=O.getProcessors().map(function(Jt){return Jt.prepareOuterPeriodPlaybackSeeking(Ve)});Promise.all(_n).then(function(){Kt(vt,O,Vt)}).catch(function(Jt){L.error(Jt)})}(Ve,Vt)):(Lt(),function Bt(Ve){O.getProcessors().forEach(function(Vt){return Vt.prepareInnerPeriodPlaybackSeeking(Ve)}),pr(S.PlayListTrace.USER_REQUEST_STOP_REASON)}(Ve)),Ha(S.PlayList.SEEK_START_REASON)}function Lt(){At()}function At(){Dt&&Dt.length>0&&(Dt.forEach(function(Ve){Ve.deactivate(!0)}),Dt=[])}function vn(Ve){Ve.newMediaInfo.streamInfo.id===O.getId()&&(At(),O.prepareTrackChange(Ve))}function Nn(Ve,vt){try{return Ze.get().streaming.buffer.reuseExistingSourceBuffers&&(vt.isProtectionCompatible(Ve)||qe)&&(Fe||vt.isMediaCodecCompatible(Ve,vt))}catch{return!1}}function Se(Ve){var vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ve&&!Ve.getPreloaded()&&Nn(Ve,vt)&&Ve.startPreloading(ve,yt).then(function(){Dt.push(Ve)})}function tt(Ve){if(isNaN(Ve))return null;for(var vt=Q.length,Vt=0;Vt<vt;Vt++){var lt=Q[Vt];if(Ve<parseFloat((lt.getStartTime()+lt.getDuration()).toFixed(5)))return lt}return null}function Mt(){try{var Ve=$.getIsDynamic(),Vt=$.getStreamsInfo()[0].manifestInfo,lt=xe.getTime(),_n=N.calcTimeShiftBufferWindow(Q,Ve),Jt=Ht();if(typeof _n.start>"u"||typeof _n.end>"u")return;Jt&&0!==Jt.length?Jt.forEach(function(Fn){he.addDVRInfo(Fn.getType(),lt,Vt,_n)}):he.addDVRInfo(V.default.VIDEO,lt,Vt,_n)}catch{}}function Ue(Ve){if(Re&&oe){var vt=je.getInitialBufferLevel(),Vt=[V.default.TEXT];(isNaN(vt)||vt<=xe.getBufferLevel(Vt)||$.getIsDynamic()&&vt>xe.getLiveDelay())&&(Re=!1,Ha(S.PlayList.INITIAL_PLAYOUT_START_REASON),xe.play())}Ve&&Ve.mediaType&&he.addBufferLevel(Ve.mediaType,new Date,1e3*Ve.bufferLevel)}function $e(Ve){Ve.streamInfo.id===O.getId()&&Ve.reason&&Ve.reason.forceReplace&&At(),ol(Ve.streamInfo.id).prepareQualityChange(Ve)}function st(){if($.getIsDynamic()&&0!==xe.getOriginalLiveDelay()&&O){var Ve=$.getStreamsInfo();if(Ve.length>0){var vt=Ve[0].manifestInfo,Vt=xn(Ve,vt);xe.computeAndSetLiveDelay(Vt,vt)}}}function xt(){if(ja()){var Ve=Ce.getPlaybackQuality();Ve&&he.addDroppedFrames(Ve)}}function dn(){Z.debug("[onPlaybackStarted]"),!Re&&it&&Ha(S.PlayList.RESUME_FROM_PAUSE_START_REASON),Re&&(Re=!1),Be&&(Be=!1,Ze.get().streaming.applyContentSteering&&!Ee.shouldQueryBeforeStart()&&Ee.loadSteeringData()),it=!1}function $t(Ve){Z.debug("[onPlaybackPaused]"),Ve.ended||(it=!0,pr(S.PlayListTrace.USER_REQUEST_STOP_REASON))}function kt(Ve){Z.debug("Stream with id ".concat(Ve.streamInfo.id," finished buffering")),ve&&Ve.streamInfo.isLast?(Z.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),pe.signalEndOfStream(ve)):Hn()}function Hn(){if(O&&O.getHasFinishedBuffering())for(var Ve=function we(){var Ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var vt=Ve||O||null;if(vt){var Vt=vt.getStreamInfo();return Q.filter(function(lt){var _n=lt.getStreamInfo();return _n.start>Vt.start&&Vt.id!==_n.id})}}catch{return[]}}(O),vt=0;vt<Ve.length;){var Vt=Ve[vt],lt=0===vt?O:Ve[vt-1];!Vt.getPreloaded()&&lt.getHasFinishedBuffering()&&ve&&Se(Vt,lt),vt+=1}}function ft(){ct&&(clearInterval(ct),ct=null)}function Ht(){return O?O.getProcessors():[]}function Ne(Ve){if(O&&!O.getIsEndedEventSignaled()){O.setIsEndedEventSignaled(!0);var vt=function Qe(){var vt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||O||null;if(!vt)return null;for(var Vt=vt.getStreamInfo(),lt=Vt.start,_n=0,Jt=-1,Fn=NaN;_n<Q.length;){var Dr=Q[_n].getStreamInfo(),lo=Dr.start-lt;lo>0&&(isNaN(Fn)||lo<Fn)&&Vt.id!==Dr.id&&(Fn=lo,Jt=_n),_n+=1}return Jt>=0?Q[Jt]:null}();vt?(Z.debug("StreamController onEnded, found next stream with id ".concat(vt.getStreamInfo().id,". Switching from ").concat(O.getStreamInfo().id," to ").concat(vt.getStreamInfo().id)),Kt(vt,O,NaN)):(Z.debug("StreamController no next stream found"),O.setIsEndedEventSignaled(!1)),pr(vt?S.PlayListTrace.END_OF_PERIOD_STOP_REASON:S.PlayListTrace.END_OF_CONTENT_STOP_REASON)}Ve&&Ve.isLast&&(ft(),Ee.stopSteeringRequestTimer())}function Xe(Ve){var vt=Ve||Xr().manifestInfo.duration;pe.setDuration(vt)}function In(Ve){var vt=ee.getURIFragmentData();if(!vt||!vt.t)return NaN;var lt=Un()[0].getStreamInfo().start;return vt.t=vt.t.split(",")[0],vr(Ve,vt.t,lt)}function nt(Ve,vt){var Vt=0;return Ve||(Vt=Un()[0].getStreamInfo().start),vr(Ve,vt,Vt)}function vr(Ve,vt,Vt){var lt=$.getRegularPeriods()[0],_n=vt.toString(),Jt=-1!==_n.indexOf("posix:")?"now"===_n.substring(6)?Date.now()/1e3:parseFloat(_n.substring(6)):NaN;return Ve&&!isNaN(Jt)?N.calcPresentationTimeFromWallTime(new Date(1e3*Jt),lt):parseFloat(_n)+Vt}function xn(Ve,vt){try{var Vt=NaN;if(vt&&!isNaN(vt.maxFragmentDuration)&&isFinite(vt.maxFragmentDuration))return vt.maxFragmentDuration;if(Ve&&1===Ve.length){var lt=Ve[0],Jt=[V.default.VIDEO,V.default.AUDIO,V.default.TEXT].reduce(function(Fn,yi){var Dr=$.getMediaInfoForType(lt,yi);return Dr&&!1!==Dr.isFragmented&&Fn.push(Dr),Fn},[]).reduce(function(Fn,yi){var Dr=$.getVoRepresentations(yi);return Dr&&Dr.length>0&&Dr.forEach(function(lo){lo&&Fn.push(lo)}),Fn},[]).reduce(function(Fn,yi){var Dr=$.convertRepresentationToRepresentationInfo(yi);return Dr&&Dr.fragmentDuration&&!isNaN(Dr.fragmentDuration)&&Fn.push(Dr.fragmentDuration),Fn},[]);Vt=Math.max.apply(Math,function E(ue){return function R(ue){if(Array.isArray(ue))return I(ue)}(ue)||function h(ue){if(typeof Symbol<"u"&&Symbol.iterator in Object(ue))return Array.from(ue)}(ue)||function g(ue,Y){if(ue){if("string"==typeof ue)return I(ue,Y);var te=Object.prototype.toString.call(ue).slice(8,-1);if("Object"===te&&ue.constructor&&(te=ue.constructor.name),"Map"===te||"Set"===te)return Array.from(ue);if("Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return I(ue,Y)}}(ue)||function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Jt))}return isFinite(Vt)?Vt:NaN}catch{return NaN}}function Pi(Ve){if(Ve.error)be=!0,ps();else{Z.info("Manifest updated... updating data system wide.");var vt=Ve.manifest;$.updatePeriods(vt);var Vt=$.getUTCTimingSources();$.getIsDynamic()&&(!Vt||0===Vt.length)&&Y.trigger(j.default.CONFORMANCE_VIOLATION,{level:_.default.LEVELS.WARNING,event:_.default.EVENTS.NO_UTC_TIMING_ELEMENT});var lt=$.getIsDynamic()?Vt.concat(rt.getUTCTimingSources()):Vt;ne.filterUnsupportedFeatures(vt).then(function(){me.initialize(vt),De.attemptSync(lt,$.getIsDynamic())})}}function ja(){return!!O&&O.getHasVideoTrack()}function Va(){return!!O&&O.getHasAudioTrack()}function pr(Ve,vt){vt=vt||new Date,Ht().forEach(function(Vt){Vt.finalisePlayList(vt,Ve)}),he.addPlayList()}function Ha(Ve){he.createPlaylistMetrics(1e3*xe.getTime(),Ve)}function sa(Ve){if(Ve.error){var vt="";switch(Ve.error.code){case 1:vt="MEDIA_ERR_ABORTED";break;case 2:vt="MEDIA_ERR_NETWORK";break;case 3:vt="MEDIA_ERR_DECODE",It.counts.mediaErrorDecode+=1;break;case 4:vt="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:vt="MEDIA_ERR_ENCRYPTED";break;default:vt="UNKNOWN"}if("MEDIA_ERR_DECODE"===vt&&Ze.get().errors.recoverAttempts.mediaErrorDecode>=It.counts.mediaErrorDecode)return void function Uu(){Z.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Ve=xe.getTime();O.deactivate(!1),Z.warn("MediaSource has been resetted. Resuming playback from time ".concat(Ve)),Pe(Ve,!1,!1)}();q=!0,Ve.error.message&&(vt+=" ("+Ve.error.message+")"),Ve.error.msExtendedCode&&(vt+=" (0x"+(Ve.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),Z.fatal("Video Element Error: "+vt),Ve.error&&Z.fatal(Ve.error),L.error(new m.default(Ve.error.code,vt)),ps()}}function Xr(){return O?O.getStreamInfo():null}function ol(Ve){for(var vt=0,Vt=Q.length;vt<Vt;vt++)if(Q[vt].getId()===Ve)return Q[vt];return null}function ju(Ve){isNaN(Ve.newDuration)||Xe(Ve.newDuration)}function al(){Q=[],Tt=NaN,U=null,de=!1,O=null,q=!1,be=!1,Re=!0,Be=!0,it=!1,oe=!0,ct=null,qe=!1,Fe=!1,Dt=[],pt=null,It={counts:{mediaErrorDecode:0}}}function ps(){ye(),De.reset(),pr(q||be?S.PlayListTrace.FAILURE_STOP_REASON:S.PlayListTrace.USER_REQUEST_STOP_REASON);for(var Ve=0,vt=Q?Q.length:0;Ve<vt;Ve++)Q[Ve].reset(q);(function Ae(){Y.off(j.default.PLAYBACK_TIME_UPDATED,xt,te),Y.off(j.default.PLAYBACK_SEEKING,mt,te),Y.off(j.default.PLAYBACK_ERROR,sa,te),Y.off(j.default.PLAYBACK_STARTED,dn,te),Y.off(j.default.PLAYBACK_PAUSED,$t,te),Y.off(j.default.PLAYBACK_ENDED,Ne,te),Y.off(j.default.METRIC_ADDED,qr,te),Y.off(j.default.MANIFEST_VALIDITY_CHANGED,ju,te),Y.off(j.default.BUFFER_LEVEL_UPDATED,Ue,te),Y.off(j.default.QUALITY_CHANGE_REQUESTED,$e,te),M.default.KEY_SESSION_UPDATED&&Y.off(M.default.KEY_SESSION_UPDATED,Et,te),Y.off(M.default.MANIFEST_UPDATED,Pi,te),Y.off(M.default.STREAM_BUFFERING_COMPLETED,kt,te),Y.off(M.default.TIME_SYNCHRONIZATION_COMPLETED,ut,te),Y.off(M.default.CURRENT_TRACK_CHANGED,vn,te),Y.off(M.default.SETTING_UPDATED_LIVE_DELAY,st,te),Y.off(M.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,st,te)})(),me.reset(),le.reset(),H.reset(),he.clearAllCurrentMetrics(),ge.setValue(null),se.reset(),N.reset(),P.reset(),ve&&(pe.detachMediaSource(Ce),ve=null),Ce=null,U&&(U=null,G=null,ge.getValue()&&Y.trigger(M.default.PROTECTION_DESTROYED,{data:ge.getValue().url})),ft(),Y.trigger(M.default.STREAM_TEARDOWN_COMPLETE),al()}function qr(Ve){if(Ve.metric===C.default.DVR_INFO){var vt=Va()?V.default.AUDIO:V.default.VIDEO;Ve.mediaType===vt&&pe.setSeekable(Ve.value.range.start,Ve.value.range.end)}}function Un(){return Q}return te={initialize:function rn(Ve,vt){ye(),oe=Ve,G=vt,N.initialize(),(le=(0,p.default)(ue).create()).setConfig({manifestModel:ge,adapter:$,manifestLoader:se,errHandler:L,settings:Ze}),le.initialize(),(H=(0,D.default)(ue).getInstance()).setConfig({manifestUpdater:le,playbackController:xe,settings:Ze}),H.start(),De.setConfig({dashMetrics:he,baseURLController:me,errHandler:L,settings:Ze}),De.initialize(),U&&(Y.trigger(M.default.PROTECTION_CREATED,{controller:U}),U.setMediaElement(Ce.getElement()),G&&U.setProtectionData(G)),function at(){Y.on(j.default.PLAYBACK_TIME_UPDATED,xt,te),Y.on(j.default.PLAYBACK_SEEKING,mt,te),Y.on(j.default.PLAYBACK_ERROR,sa,te),Y.on(j.default.PLAYBACK_STARTED,dn,te),Y.on(j.default.PLAYBACK_PAUSED,$t,te),Y.on(j.default.PLAYBACK_ENDED,Ne,te),Y.on(j.default.METRIC_ADDED,qr,te),Y.on(j.default.MANIFEST_VALIDITY_CHANGED,ju,te),Y.on(j.default.BUFFER_LEVEL_UPDATED,Ue,te),Y.on(j.default.QUALITY_CHANGE_REQUESTED,$e,te),M.default.KEY_SESSION_UPDATED&&Y.on(M.default.KEY_SESSION_UPDATED,Et,te),Y.on(M.default.MANIFEST_UPDATED,Pi,te),Y.on(M.default.STREAM_BUFFERING_COMPLETED,kt,te),Y.on(M.default.TIME_SYNCHRONIZATION_COMPLETED,ut,te),Y.on(M.default.CURRENT_TRACK_CHANGED,vn,te),Y.on(M.default.SETTING_UPDATED_LIVE_DELAY,st,te),Y.on(M.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,st,te)}()},getActiveStreamInfo:Xr,addDVRMetric:Mt,hasVideoTrack:ja,hasAudioTrack:Va,getStreamById:ol,getStreamForTime:tt,getTimeRelativeToStreamId:function Pt(Ve,vt){for(var Vt=null,lt=0,_n=0,Jt=null,Fn=0;Fn<Q.length;Fn++){if(_n=(Vt=Q[Fn]).getStartTime(),Jt=Vt.getDuration(),Number.isFinite(_n)&&(lt=_n),Vt.getId()===vt)return Ve-lt;Number.isFinite(Jt)&&(lt+=Jt)}return null},load:function We(Ve){var vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;ye(),Tt=vt,se.load(Ve)},loadWithManifest:function Ke(Ve){var vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function Oe(){if(!le||!le.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Tt=vt,le.setManifest(Ve)},getActiveStreamProcessors:Ht,setConfig:function Vu(Ve){Ve&&(Ve.capabilities&&(ae=Ve.capabilities),Ve.capabilitiesFilter&&(ne=Ve.capabilitiesFilter),Ve.manifestLoader&&(se=Ve.manifestLoader),Ve.manifestModel&&(ge=Ve.manifestModel),Ve.mediaPlayerModel&&(je=Ve.mediaPlayerModel),Ve.customParametersModel&&(rt=Ve.customParametersModel),Ve.protectionController&&(U=Ve.protectionController),Ve.adapter&&($=Ve.adapter),Ve.dashMetrics&&(he=Ve.dashMetrics),Ve.errHandler&&(L=Ve.errHandler),Ve.timelineConverter&&(N=Ve.timelineConverter),Ve.videoModel&&(Ce=Ve.videoModel),Ve.playbackController&&(xe=Ve.playbackController),Ve.serviceDescriptionController&&(He=Ve.serviceDescriptionController),Ve.contentSteeringController&&(Ee=Ve.contentSteeringController),Ve.textController&&(k=Ve.textController),Ve.abrController&&(ce=Ve.abrController),Ve.mediaController&&(J=Ve.mediaController),Ve.settings&&(Ze=Ve.settings),Ve.baseURLController&&(me=Ve.baseURLController),Ve.uriFragmentModel&&(ee=Ve.uriFragmentModel),Ve.segmentBaseController&&(_e=Ve.segmentBaseController))},setProtectionData:function vf(Ve){G=Ve,U&&U.setProtectionData(G)},getIsStreamSwitchInProgress:function gf(){return de},switchToVideoElement:function Fo(Ve){O&&(xe.initialize(Xr()),Pe(Ve,!1,!0))},getHasMediaOrInitialisationError:function _f(){return q||be},getStreams:Un,getActiveStream:function Je(){return O},getInitialPlayback:function Gt(){return Re},getAutoPlay:function Xt(){return oe},reset:ps},function wt(){Z=(0,F.default)(ue).getInstance().getLogger(te),De=(0,x.default)(ue).getInstance(),pe=(0,y.default)(ue).getInstance(),P=(0,w.default)(ue).getInstance(),al()}(),te}re.__dashjs_factory_name="StreamController";const ie=f.default.getSingletonFactory(re)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>b});var V=u(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),C=u(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),T=u(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),p=u(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),A=u(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),M=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),S=u(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),F=5e3,w=100,j=2,x=2,y=30,m=30,d=600,D=2;function _(){var I,W,z,re,ie,ue,Y,te,Z,ae,ne,le,se,ge,$,he,g=this.context,h=(0,T.default)(g).getInstance(),R=(0,S.default)(g).getInstance();function Ee(){te=[],Z=[],ae=null,ne=null,se=null,le=NaN,z=!1,re=!1,ge=ie.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function ee(){!ie.get().streaming.utcSynchronization.enabled||z||re||!se||!se.value||!se.schemeIdUri||isNaN(le)||isNaN(ie.get().streaming.utcSynchronization.backgroundAttempts)||ne&&(Date.now()-ne)/1e3<m||(te=[],re=!0,ce(isNaN(ie.get().streaming.utcSynchronization.backgroundAttempts)?x:ie.get().streaming.utcSynchronization.backgroundAttempts))}function ce(je){try{if(je<=0)return void Ce();var rt=Date.now();ue[se.schemeIdUri](se.value,function(it){var Re=Date.now(),Be=H(rt,Re,it);te.push(Be),ce(je-1)},function(){Ce()})}catch{Ce()}}function J(){var rt=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!Z||0===Z.length||rt>=Z.length)L();else{var it=Z[rt];if(it)if(ue.hasOwnProperty(it.schemeIdUri)){var Re=(new Date).getTime();ue[it.schemeIdUri](it.value,function(Be){var ct=(new Date).getTime(),yt=H(Re,ct,Be);se=it,L(yt)},function(){J(rt+1)})}else J(rt+1);else L()}}function H(je,rt,it){return it-(rt-(rt-je)/2)}function L(){var je=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,rt=isNaN(je);rt&&ie.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function q(){var je=Y.getLatestMPDRequestHeaderValueByID("Date"),rt=null!==je?new Date(je).getTime():Number.NaN;isNaN(rt)?be(!0):be(!1,rt-Date.now())}():be(rt,je)}function Q(je){var rt=Date.parse(je);return isNaN(rt)&&(rt=function N(je){var ct,yt,Dt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(je);return ct=Date.UTC(parseInt(Dt[1],10),parseInt(Dt[2],10)-1,parseInt(Dt[3],10),parseInt(Dt[4],10),parseInt(Dt[5],10),Dt[6]&&(parseInt(Dt[6],10)||0),Dt[7]&&1e3*parseFloat(Dt[7])||0),Dt[9]&&Dt[10]&&(yt=60*parseInt(Dt[9],10)+parseInt(Dt[10],10),ct+=("+"===Dt[8]?-1:1)*yt*60*1e3),new Date(ct).getTime()}(je)),rt}function O(je){return Date.parse(je)}function U(je){return Date.parse(je)}function k(je,rt,it){it()}function G(je,rt,it){var Re=Q(je);isNaN(Re)?it():rt(Re)}function oe(je,rt,it,Re,Be){var ct,yt,Dt=!1,Fe=new XMLHttpRequest,Ze=Be?C.HTTPRequest.HEAD:C.HTTPRequest.GET,qe=rt.match(/\S+/g);if(rt=qe.shift(),ct=function(){Dt||(Dt=!0,qe.length?oe(je,qe.join(" "),it,Re,Be):Re())},yt=function(){var It,wt;200===Fe.status&&(It=Be?Fe.getResponseHeader("Date"):Fe.response,wt=je(It),isNaN(wt)||(it(wt),Dt=!0))},R.isRelative(rt)){var pt=he.resolve();pt&&(rt=R.resolve(rt,pt.url))}Fe.open(Ze,rt),Fe.timeout=F||0,Fe.onload=yt,Fe.onloadend=ct,Fe.send()}function de(je,rt,it){oe(U,je,rt,it,!0)}function be(je,rt){if(!isNaN(le)&&!isNaN(rt)&&!je&&function ve(je){try{var yt,rt=xe(je),it=isNaN(ge)?y:ge,Re=isNaN(ie.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?j:ie.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,Be=isNaN(ie.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?d:ie.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,ct=isNaN(ie.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?D:ie.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;rt?(yt=Math.min(it*Re,Be),W.debug("Increasing timeBetweenSyncAttempts to ".concat(yt))):(yt=Math.max(it/Re,ct),W.debug("Decreasing timeBetweenSyncAttempts to ".concat(yt))),ge=yt}catch{}}(rt),!je&&!isNaN(rt)){ae=Date.now(),z=!1;var it=isNaN(le);le=rt,it&&ee(),W.debug("Completed UTC sync. Setting client - server offset to ".concat(rt))}je&&(se=null,z=!1,$.error(new V.default(A.default.TIME_SYNC_FAILED_ERROR_CODE,A.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),h.trigger(p.default.UPDATE_TIME_SYNC_OFFSET,{offset:rt}),h.trigger(p.default.TIME_SYNCHRONIZATION_COMPLETED)}function Ce(){if(te&&0!==te.length){var je=te.reduce(function(rt,it){return rt+it},0)/te.length;xe(je)?W.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(W.debug("Completed background UTC sync. Setting client - server offset to ".concat(je)),h.trigger(p.default.UPDATE_TIME_SYNC_OFFSET,{offset:le=je})),re=!1,ne=Date.now()}}function xe(je){try{if(isNaN(le))return!0;var rt=ie.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(ie.get().streaming.utcSynchronization.maximumAllowedDrift)?ie.get().streaming.utcSynchronization.maximumAllowedDrift:w;return je>=le-rt&&je<=le+rt}catch{return!0}}return I={initialize:function me(){Ee(),ue={"urn:mpeg:dash:utc:http-head:2014":de,"urn:mpeg:dash:utc:http-xsdate:2014":oe.bind(null,Q),"urn:mpeg:dash:utc:http-iso:2014":oe.bind(null,O),"urn:mpeg:dash:utc:direct:2014":G,"urn:mpeg:dash:utc:http-head:2012":de,"urn:mpeg:dash:utc:http-xsdate:2012":oe.bind(null,Q),"urn:mpeg:dash:utc:http-iso:2012":oe.bind(null,O),"urn:mpeg:dash:utc:direct:2012":G,"urn:mpeg:dash:utc:http-ntp:2014":k,"urn:mpeg:dash:utc:ntp:2014":k,"urn:mpeg:dash:utc:sntp:2014":k}},attemptSync:function _e(je,rt){if(Z=je,!z){if(!function P(je){try{if(!je||!ie.get().streaming.utcSynchronization.enabled)return!1;var rt=isNaN(ge)?y:ge;return!(ae&&rt&&!isNaN(rt))||(Date.now()-ae)/1e3>=rt}catch{return!0}}(rt))return void h.trigger(p.default.TIME_SYNCHRONIZATION_COMPLETED);z=!0,J()}},setConfig:function De(je){je&&(je.dashMetrics&&(Y=je.dashMetrics),je.baseURLController&&(he=je.baseURLController),je.errHandler&&($=je.errHandler),je.settings&&(ie=je.settings))},reset:function He(){Ee(),h.off(p.default.ATTEMPT_BACKGROUND_SYNC,ee,I)}},function pe(){W=(0,f.default)(g).getInstance().getLogger(I),h.on(p.default.ATTEMPT_BACKGROUND_SYNC,ee,I)}(),I}_.__dashjs_factory_name="TimeSyncController";var E=M.default.getSingletonFactory(_);E.HTTP_TIMEOUT_MS=F,M.default.updateSingletonFactory(_.__dashjs_factory_name,E);const b=E},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>x});var V=u(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),C=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=u(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),M=u(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),f=u(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),S="onLoad",F="onActuate",w="urn:mpeg:dash:resolve-to-zero:2013";function j(y){y=y||{};var _,E,b,g,h,R,m=this.context,d=(0,C.default)(m).getInstance(),D=(0,M.default)(m).getInstance();function ue(ge,$,he){var De,Ee,pe={};pe.elements=ge,pe.type=$,pe.resolveType=he,0===pe.elements.length&&te(pe);for(var me=0;me<pe.elements.length;me++)Ee=D.isHTTPURL((De=pe.elements[me]).url)?De.url:De.originalContent.BaseURL+De.url,R.load(Ee,De,pe)}function Y(ge){var $,he,Ee="";if(he=ge.resolveObject,($=ge.element).resolvedContent){var me=0;0===$.resolvedContent.indexOf("<?xml")&&(me=$.resolvedContent.indexOf("?>")+2),Ee=$.resolvedContent.substr(0,me)+"<response>"+$.resolvedContent.substr(me)+"</response>",$.resolvedContent=h.xml_str2json(Ee)}(function le(ge){var $;for($=0;$<ge.elements.length;$++)if(!1===ge.elements[$].resolved)return!1;return!0})(he)&&te(he)}function te(ge){var he,pe,$=[];if(function ae(ge){var he,pe,Ee,me,_e,$=[];for(Ee=ge.elements.length-1;Ee>=0;Ee--){if(pe=(he=ge.elements[Ee]).type+"_asArray",he.resolvedContent){if(he.resolvedContent)for(me=0;me<he.resolvedContent[pe].length;me++)$.push(he.resolvedContent[pe][me])}else delete he.originalContent["xlink:actuate"],delete he.originalContent["xlink:href"],$.push(he.originalContent);for(he.parentElement[pe].splice(he.index,1),_e=0;_e<$.length;_e++)he.parentElement[pe].splice(he.index+_e,0,$[_e]);$=[]}ge.elements.length>0&&b.run(g)}(ge),ge.resolveType===F&&d.trigger(T.default.XLINK_READY,{manifest:g}),ge.resolveType===S)switch(ge.type){case f.default.PERIOD:for(he=0;he<g[f.default.PERIOD+"_asArray"].length;he++)(pe=g[f.default.PERIOD+"_asArray"][he]).hasOwnProperty(f.default.ADAPTATION_SET+"_asArray")&&($=$.concat(Z(pe[f.default.ADAPTATION_SET+"_asArray"],pe,f.default.ADAPTATION_SET,S))),pe.hasOwnProperty(f.default.EVENT_STREAM+"_asArray")&&($=$.concat(Z(pe[f.default.EVENT_STREAM+"_asArray"],pe,f.default.EVENT_STREAM,S)));ue($,f.default.ADAPTATION_SET,S);break;case f.default.ADAPTATION_SET:d.trigger(T.default.XLINK_READY,{manifest:g})}}function Z(ge,$,he,pe){var Ee,me,_e,De=[];for(me=ge.length-1;me>=0;me--)(Ee=ge[me]).hasOwnProperty("xlink:href")&&Ee["xlink:href"]===w&&ge.splice(me,1);for(me=0;me<ge.length;me++)(Ee=ge[me]).hasOwnProperty("xlink:href")&&Ee.hasOwnProperty("xlink:actuate")&&Ee["xlink:actuate"]===pe&&(_e=ne(Ee["xlink:href"],$,he,me,pe,Ee),De.push(_e));return De}function ne(ge,$,he,pe,De,Ee){return{url:ge,parentElement:$,type:he,index:pe,resolveType:De,originalContent:Ee,resolvedContent:null,resolved:!1}}return _={resolveManifestOnLoad:function re(ge){h=new A.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:E}),(g=ge).Period_asArray?ue(Z(g.Period_asArray,g,f.default.PERIOD,S),f.default.PERIOD,S):d.trigger(T.default.XLINK_READY,{manifest:g})},setMatchers:function W(ge){ge&&(E=ge)},setIron:function z(ge){ge&&(b=ge)},reset:function ie(){d.off(T.default.XLINK_ELEMENT_LOADED,Y,_),R&&(R.reset(),R=null)}},function I(){d.on(T.default.XLINK_ELEMENT_LOADED,Y,_),R=(0,V.default)(m).create({errHandler:y.errHandler,dashMetrics:y.dashMetrics,mediaPlayerModel:y.mediaPlayerModel,requestModifier:y.requestModifier,settings:y.settings})}(),_}j.__dashjs_factory_name="XlinkController";const x=p.default.getClassFactory(j)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>S});var V=u(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),C=u(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),T=u(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),p=u(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),A=u(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function M(){var F=this.context;return{createMetricsReporting:function x(d){return(0,V.default)(F).getInstance({eventBus:d.eventBus,dashMetrics:d.dashMetrics,metricsConstants:d.metricsConstants,events:d.events}).initialise(),(0,T.default)(F).create(d)},getReportingFactory:function y(){return(0,A.default)(F).getInstance()},getMetricsHandlerFactory:function m(){return(0,p.default)(F).getInstance()}}}M.__dashjs_factory_name="MetricsReporting";var f=dashjs.FactoryMaker.getClassFactory(M);f.events=C.default,dashjs.FactoryMaker.updateClassFactory(M.__dashjs_factory_name,f);const S=f},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/(Me,K,u)=>{"use strict";function C(m){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function A(m,d){return(A=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}u.r(K),u.d(K,{default:()=>y});const y=new(function(m){!function p(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&A(m,d)}(D,m);var d=function M(m){var d=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=w(m);if(d){var b=w(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function f(m,d){return!d||"object"!==C(d)&&"function"!=typeof d?function S(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(){var _;return function T(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D),(_=d.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",_.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",_.CMCD_DATA_GENERATED="cmcdDataGenerated",_}return D}(u(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default))},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),C=u(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),T=u(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function p(M){var f,S={},F=this.context,w=(M=M||{}).eventBus,j=M.events;function x(D){if(!D.error){var _=Object.keys(S);(0,C.default)(F).getInstance({adapter:M.adapter,constants:M.constants}).getMetrics(D.manifest).forEach(function(b){var g=JSON.stringify(b);if(S.hasOwnProperty(g))_.splice(g,1);else try{var h=(0,V.default)(F).create(M);h.initialize(b),S[g]=h}catch{}}),_.forEach(function(b){S[b].reset(),delete S[b]}),w.trigger(T.default.METRICS_INITIALISATION_COMPLETE)}}function y(){Object.keys(S).forEach(function(D){S[D].reset()}),S={}}return f={reset:function d(){w.off(j.MANIFEST_UPDATED,x,f),w.off(j.STREAM_TEARDOWN_COMPLETE,y,f)}},function m(){w.on(j.MANIFEST_UPDATED,x,f),w.on(j.STREAM_TEARDOWN_COMPLETE,y,f)}(),f}p.__dashjs_factory_name="MetricsCollectionController";const A=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),C=u(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),T=u(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function p(M){M=M||{};var f,S,F,j=this.context;function y(){f&&f.reset(),S&&S.reset(),F&&F.reset()}return{initialize:function x(m){try{(F=(0,V.default)(j).create({mediaElement:M.mediaElement})).initialize(m.Range),(S=(0,C.default)(j).create({debug:M.debug,metricsConstants:M.metricsConstants,mediaPlayerModel:M.mediaPlayerModel})).initialize(m.Reporting,F),(f=(0,T.default)(j).create({debug:M.debug,eventBus:M.eventBus,metricsConstants:M.metricsConstants,events:M.events})).initialize(m.metrics,S)}catch(d){throw y(),d}},reset:y}}p.__dashjs_factory_name="MetricsController";const A=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function C(p){var M,A=[],S=(p=p||{}).eventBus,F=p.events,w=(0,V.default)(this.context).getInstance({debug:p.debug,eventBus:p.eventBus,metricsConstants:p.metricsConstants});function j(m){A.forEach(function(d){d.handleNewMetric(m.metric,m.value,m.mediaType)})}return M={initialize:function x(m,d){m.split(",").forEach(function(D,_,E){var b;if(-1!==D.indexOf("(")&&-1===D.indexOf(")")){var g=E[_+1];g&&-1===g.indexOf("(")&&-1!==g.indexOf(")")&&(D+=","+g,delete E[_+1])}(b=w.create(D,d))&&A.push(b)}),S.on(F.METRIC_ADDED,j,M),S.on(F.METRIC_UPDATED,j,M)},reset:function y(){S.off(F.METRIC_ADDED,j,M),S.off(F.METRIC_UPDATED,j,M),A.forEach(function(m){return m.reset()}),A=[]}}}C.__dashjs_factory_name="MetricsHandlersController";const T=dashjs.FactoryMaker.getClassFactory(C)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function C(p){var f,S,A=!1,M=this.context,F=(p=p||{}).mediaElement;return f={initialize:function w(m){m&&m.length&&(m.forEach(function(d){var D=d.starttime;S.add(D,D+d.duration)}),A=!!m[0]._useWallClockTime)},reset:function j(){S.clear()},isEnabled:function y(){var d,m=S.length;if(!m)return!0;d=A?(new Date).getTime()/1e3:F.currentTime;for(var D=0;D<m;D+=1){var _=S.start(D),E=S.end(D);if(_<=d&&d<E)return!0}return!1}},function x(){S=(0,V.default)(M).create()}(),f}C.__dashjs_factory_name="RangeController";const T=dashjs.FactoryMaker.getClassFactory(C)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function C(p){var A=[],f=(0,V.default)(this.context).getInstance(p);return{initialize:function S(j,x){j.some(function(y){var m=f.create(y,x);if(m)return A.push(m),!0})},reset:function F(){A.forEach(function(j){return j.reset()}),A=[]},report:function w(j,x){A.forEach(function(y){return y.report(j,x)})}}}C.__dashjs_factory_name="ReportingController";const T=dashjs.FactoryMaker.getClassFactory(C)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),C=u(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),T=u(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),p=u(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function A(f){var S,F=(f=f||{}).debug?f.debug.getLogger(S):{},w=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,j=this.context,x={BufferLevel:V.default,DVBErrors:C.default,HttpList:T.default,PlayList:p.default,RepSwitchList:p.default,TcpList:p.default};return{create:function y(D,_){var b,E=D.match(w);if(E){try{(b=x[E[1]](j).create({eventBus:f.eventBus,metricsConstants:f.metricsConstants})).initialize(E[1],_,E[3],E[5])}catch(g){b=null,F.error("MetricsHandlerFactory: Could not create handler for type ".concat(E[1]," with args ").concat(E[3],", ").concat(E[5]," (").concat(g.message,")"))}return b}},register:function m(D,_){x[D]=_},unregister:function d(D){delete x[D]}}}A.__dashjs_factory_name="MetricsHandlerFactory";const M=dashjs.FactoryMaker.getSingletonFactory(A)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function C(p){p=p||{};var M,f,S,F,w,x=(0,V.default)(this.context).getInstance(),y=[],m=p.metricsConstants;function D(){var g=function d(){try{return Object.keys(y).map(function(g){return y[g]}).reduce(function(g,h){return g.level<h.level?g:h})}catch{return}}();g&&w!==g.t&&(w=g.t,M.report(S,g))}return{initialize:function _(g,h,R){h&&(f=x.validateN(R),M=h,S=x.reconstructFullMetricName(g,R),F=setInterval(D,f))},reset:function E(){clearInterval(F),F=null,f=0,M=null,w=null},handleNewMetric:function b(g,h,R){g===m.BUFFER_LEVEL&&(y[R]=h)}}}C.__dashjs_factory_name="BufferLevelHandler";const T=dashjs.FactoryMaker.getClassFactory(C)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");const T=dashjs.FactoryMaker.getClassFactory(function C(p){var M,f=(p=p||{}).eventBus,S=p.metricsConstants;function F(){f.off(V.default.METRICS_INITIALISATION_COMPLETE,F,this),f.trigger(V.default.BECAME_REPORTING_PLAYER)}return{initialize:function w(y,m){m&&(M=m,f.on(V.default.METRICS_INITIALISATION_COMPLETE,F,this))},reset:function j(){M=null},handleNewMetric:function x(y,m){y===S.DVB_ERRORS&&M&&M.report(y,m)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/(Me,K,u)=>{"use strict";function V(){var p,A;return{initialize:function M(F,w){p=F,A=w},reset:function f(){A=null,p=void 0},handleNewMetric:function S(F,w){F===p&&A&&A.report(p,w)}}}u.r(K),u.d(K,{default:()=>C}),V.__dashjs_factory_name="GenericMetricHandler";const C=dashjs.FactoryMaker.getClassFactory(V)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function C(p){p=p||{};var M,f,S,F,w,j=[],x=(0,V.default)(this.context).getInstance(),y=p.metricsConstants;function m(){j.length&&M&&M.report(F,j),j=[]}return{initialize:function d(E,b,g,h){b&&(f=x.validateN(g),M=b,h&&h.length&&(S=h),F=x.reconstructFullMetricName(E,g,h),w=setInterval(m,f))},reset:function D(){clearInterval(w),w=null,f=null,S=null,j=[],M=null},handleNewMetric:function _(E,b){E===y.HTTP_REQUEST&&(!S||S===b.type)&&j.push(b)}}}C.__dashjs_factory_name="HttpListHandler";const T=dashjs.FactoryMaker.getClassFactory(C)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function C(p){var f,A={"urn:dvb:dash:reporting:2014":V.default},M=this.context,S=(p=p||{}).debug?p.debug.getLogger(f):{},F=p.metricsConstants,w=p.mediaPlayerModel||{};return{create:function j(m,d){var D;try{(D=A[m.schemeIdUri](M).create({metricsConstants:F,mediaPlayerModel:w})).initialize(m,d)}catch(_){D=null,S.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(m.schemeIdUri," (").concat(_.message,")"))}return D},register:function x(m,d){A[m]=d},unregister:function y(m){delete A[m]}}}C.__dashjs_factory_name="ReportingFactory";const T=dashjs.FactoryMaker.getSingletonFactory(C)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),C=u(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),T=u(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function p(M){var f,F,w,j,x,y,m,d,S=this.context,E=[],b=(M=M||{}).metricsConstants;function W(){x=!1,y=!1,m=null,d=null}return f={report:function R(re,ie){Array.isArray(ie)||(ie=[ie]),y&&d.isEnabled()&&ie.forEach(function(ue){var Y=F.serialise(ue);re!==b.DVB_ERRORS&&(Y="metricname=".concat(re,"&").concat(Y)),function h(re,ie,ue){var Y=new XMLHttpRequest;Y.withCredentials=w.getXHRWithCredentialsForType(b.HTTP_REQUEST_DVB_REPORTING_TYPE);var te=function(){var ae=E.indexOf(Y);-1!==ae&&(E.splice(ae,1),Y.status>=200&&Y.status<300?ie&&ie():ue&&ue())};E.push(Y);try{Y.open("GET",re),Y.onloadend=te,Y.onerror=te,Y.send()}catch{Y.onerror()}}(Y="".concat(m,"?").concat(Y),null,function(){y=!1})})},initialize:function I(re,ie){var ue;if(d=ie,!(m=re.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");x||((ue=re.dvb_probability)&&(1e3===ue||ue/1e3>=j.random())&&(y=!0),x=!0)},reset:function z(){W()}},function g(){F=(0,V.default)(S).getInstance(),j=(0,C.default)(S).getInstance(),w=(0,T.default)(S).getInstance(),W()}(),f}p.__dashjs_factory_name="DVBReporting";const A=dashjs.FactoryMaker.getClassFactory(p)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),C=u(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function T(A){var M,f,S=(A=A||{}).eventBus,F=A.dashMetrics,w=A.metricsConstants,j=A.events;function x(h){var R=new V.default;if(f){for(var I in h)h.hasOwnProperty(I)&&(R[I]=h[I]);R.mpdurl||(R.mpdurl=f.originalUrl||f.url),R.terror||(R.terror=new Date),F.addDVBErrors(R)}}function y(h){h.error||(f=h.manifest)}function m(h){x({errorcode:V.default.BASE_URL_CHANGED,servicelocation:h.entry})}function d(){x({errorcode:V.default.BECAME_REPORTER})}function _(h){h.metric===w.HTTP_REQUEST&&function D(h){(0===h.responsecode||null==h.responsecode||h.responsecode>=400||h.responsecode<100||h.responsecode>=600)&&x({errorcode:h.responsecode||V.default.CONNECTION_ERROR,url:h.url,terror:h.tresponse,servicelocation:h._serviceLocation})}(h.value)}function E(h){var I;switch(h.error?h.error.code:0){case MediaError.MEDIA_ERR_NETWORK:I=V.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:I=V.default.CORRUPT_MEDIA_OTHER;break;default:return}x({errorcode:I})}return M={initialise:function b(){S.on(j.MANIFEST_UPDATED,y,M),S.on(j.SERVICE_LOCATION_BLACKLIST_CHANGED,m,M),S.on(j.METRIC_ADDED,_,M),S.on(j.METRIC_UPDATED,_,M),S.on(j.PLAYBACK_ERROR,E,M),S.on(C.default.BECAME_REPORTING_PLAYER,d,M)},reset:function g(){S.off(j.MANIFEST_UPDATED,y,M),S.off(j.SERVICE_LOCATION_BLACKLIST_CHANGED,m,M),S.off(j.METRIC_ADDED,_,M),S.off(j.METRIC_UPDATED,_,M),S.off(j.PLAYBACK_ERROR,E,M),S.off(C.default.BECAME_REPORTING_PLAYER,d,M)}}}T.__dashjs_factory_name="DVBErrorsTranslator";const p=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/(Me,K,u)=>{"use strict";function V(){return{reconstructFullMetricName:function(p,A,M){var f=p;return A&&(f+="("+A,M&&M.length&&(f+=","+M),f+=")"),f},validateN:function(p){if(!p)throw new Error("missing n");if(isNaN(p))throw new Error("n is NaN");if(p<0)throw new Error("n must be positive");return p}}}u.r(K),u.d(K,{default:()=>C}),V.__dashjs_factory_name="HandlerHelpers";const C=dashjs.FactoryMaker.getSingletonFactory(V)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),C=u(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),T=u(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function p(M){var S=(M=M||{}).adapter,F=M.constants;return{getMetrics:function j(x){var y=[];return x&&x.Metrics_asArray&&x.Metrics_asArray.forEach(function(m){var d=new V.default,D=S.getIsDynamic(x);m.hasOwnProperty("metrics")&&(d.metrics=m.metrics,m.Range_asArray&&m.Range_asArray.forEach(function(_){var E=new C.default;E.starttime=function w(x,y,m){var d,D,_=0;return y?_=S.getAvailabilityStartTime(x)/1e3:(d=S.getRegularPeriods(x)).length&&(_=d[0].start),D=_,m&&m.hasOwnProperty(F.START_TIME)&&(D+=m.starttime),D}(x,D,_),E.duration=_.hasOwnProperty("duration")?_.duration:S.getDuration(x),E._useWallClockTime=D,d.Range.push(E)}),m.Reporting_asArray&&(m.Reporting_asArray.forEach(function(_){var E=new T.default;_.hasOwnProperty(F.SCHEME_ID_URI)&&(E.schemeIdUri=_.schemeIdUri,_.hasOwnProperty("value")&&(E.value=_.value),_.hasOwnProperty(F.DVB_REPORTING_URL)&&(E.dvb_reportingUrl=_[F.DVB_REPORTING_URL]),_.hasOwnProperty(F.DVB_PROBABILITY)&&(E.dvb_probability=_[F.DVB_PROBABILITY]),d.Reporting.push(E))}),y.push(d)))}),y}}}p.__dashjs_factory_name="ManifestParsing";const A=dashjs.FactoryMaker.getSingletonFactory(p)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/(Me,K,u)=>{"use strict";function V(){return{serialise:function T(p){var f,S,A=[],M=[];for(f in p)if(p.hasOwnProperty(f)&&0!==f.indexOf("_")){if(null==(S=p[f])&&(S=""),Array.isArray(S)){if(!S.length)continue;M=[],S.forEach(function(F){var w="Object"!==Object.prototype.toString.call(F).slice(8,-1);M.push(w?F:T(F))}),S=M.map(encodeURIComponent).join(",")}else"string"==typeof S?S=encodeURIComponent(S):S instanceof Date?S=S.toISOString():"number"==typeof S&&(S=Math.round(S));A.push(f+"="+S)}return A.join("&")}}}u.r(K),u.d(K,{default:()=>C}),V.__dashjs_factory_name="MetricSerialiser";const C=dashjs.FactoryMaker.getSingletonFactory(V)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/(Me,K,u)=>{"use strict";function V(){var f,S,F,T=window.crypto||window.msCrypto,p=Uint32Array,A=Math.pow(2,8*p.BYTES_PER_ELEMENT)-1,M=10;function w(){T&&(f||(f=new p(M)),T.getRandomValues(f),S=0)}return F={random:function j(x,y){var m;return x||(x=0),y||(y=1),T?(S===f.length&&w(),m=f[S]/A,S+=1):m=Math.random(),m*(y-x)+x}},w(),F}u.r(K),u.d(K,{default:()=>C}),V.__dashjs_factory_name="RNG";const C=dashjs.FactoryMaker.getSingletonFactory(V)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var C=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};C.SSL_CONNECTION_FAILED_PREFIX="SSL",C.DNS_RESOLUTION_FAILED="C00",C.HOST_UNREACHABLE="C01",C.CONNECTION_REFUSED="C02",C.CONNECTION_ERROR="C03",C.CORRUPT_MEDIA_ISOBMFF="M00",C.CORRUPT_MEDIA_OTHER="M01",C.BASE_URL_CHANGED="F00",C.BECAME_REPORTER="S00";const T=C},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.metrics="",this.Range=[],this.Reporting=[]}},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1}},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});const p=function A(){(function V(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")})(this,A),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3}},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f});var V=u(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=NaN,A=function S(F,w){(function T(S,F){if(!(S instanceof F))throw new TypeError("Cannot call a class as a function")})(this,S),this.data={baseUrls:F||null,selectedIdx:w||p},this.children=[]};function M(){var S,F,w,x=(0,V.default)(this.context).getInstance();function D(I,W,z){var re=w.getBaseURLsFromElement(z);I[W]?x.areEqual(re,I[W].data.baseUrls)||(I[W].data.baseUrls=re,I[W].data.selectedIdx=p):I[W]=new A(re)}function E(I,W){var z=W||F;I(z.data),z.children&&z.children.forEach(function(re){return E(I,re)})}function h(){F=new A}return S={reset:h,update:function g(I){!function _(I){!function d(){if(!w||!w.hasOwnProperty("getBaseURLsFromElement")||!w.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var W=w.getBaseURLsFromElement(I);x.areEqual(W,F.data.baseUrls)||(F.data.baseUrls=W,F.data.selectedIdx=p),I&&I.Period_asArray&&I.Period_asArray.forEach(function(z,re){D(F.children,re,z),z.AdaptationSet_asArray&&z.AdaptationSet_asArray.forEach(function(ie,ue){D(F.children[re].children,ue,ie),ie.Representation_asArray&&ie.Representation_asArray.sort(w.getRepresentationSortFunction()).forEach(function(Y,te){D(F.children[re].children[ue].children,te,Y)})})})}(I)},getForPath:function R(I){var W=F,z=[W.data];return I&&I.forEach(function(re){(W=W.children[re])&&z.push(W.data)}),z.filter(function(re){return re.baseUrls.length})},invalidateSelectedIndexes:function b(I){E(function(W){isNaN(W.selectedIdx)||I===W.baseUrls[W.selectedIdx].serviceLocation&&(W.selectedIdx=p)})},setConfig:function m(I){I.adapter&&(w=I.adapter)}},function y(){h()}(),S}M.__dashjs_factory_name="BaseURLTreeModel";const f=C.default.getClassFactory(M)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>g});var V=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),C=u(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),T=u(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),p=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=u(
/*! ../../core/Settings */
"./src/core/Settings.js"),M=u(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),f=u(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),S=u(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),F=u(
/*! ../../core/Utils */
"./src/core/Utils.js");function w(h,R){var I;if(typeof Symbol>"u"||null==h[Symbol.iterator]){if(Array.isArray(h)||(I=function j(h,R){if(h){if("string"==typeof h)return x(h,R);var I=Object.prototype.toString.call(h).slice(8,-1);if("Object"===I&&h.constructor&&(I=h.constructor.name),"Map"===I||"Set"===I)return Array.from(h);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return x(h,R)}}(h))||R&&h&&"number"==typeof h.length){I&&(h=I);var W=0,z=function(){};return{s:z,n:function(){return W>=h.length?{done:!0}:{done:!1,value:h[W++]}},e:function(te){throw te},f:z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ue,re=!0,ie=!1;return{s:function(){I=h[Symbol.iterator]()},n:function(){var te=I.next();return re=te.done,te},e:function(te){ie=!0,ue=te},f:function(){try{!re&&null!=I.return&&I.return()}finally{if(ie)throw ue}}}}function x(h,R){(null==R||R>h.length)&&(R=h.length);for(var I=0,W=new Array(R);I<R;I++)W[I]=h[I];return W}var y="CMCD",m=1,d={MANIFEST:"m",AUDIO:"a",VIDEO:"v",INIT:"i",CAPTION:"c",ISOBMFF_TEXT_TRACK:"tt",ENCRYPTION_KEY:"k",OTHER:"o"},D={DASH:"d",MSS:"s"},_={VOD:"v",LIVE:"l"},E=5;function b(){var h,R,I,W,z,re,ie,ue,Y,te,Z=this.context,ae=(0,V.default)(Z).getInstance(),ne=(0,A.default)(Z).getInstance();function $(){I={pr:1,nor:null,st:null,sf:null,sid:"".concat(F.default.generateUuid()),cid:null},Y={},ue={},te={},pe()}function he(){pe()}function pe(){if(re){var Re=re.getStreamController();if(Re&&"function"==typeof Re.getActiveStream){var Be=Re.getActiveStream();Be&&(ie=Be.getProcessors())}}}function me(Re,Be){var Dt,ct={},yt=w(Be);try{for(yt.s();!(Dt=yt.n()).done;){var Fe=Dt.value;Re[Fe]&&(ct[Fe]=Re[Fe])}}catch(Ze){yt.e(Ze)}finally{yt.f()}return ct}function ee(Re){var Be=ne.get().streaming.cmcd.enabledKeys;return Re.filter(function(ct){return Be.includes(ct)})}function ce(Re){try{return Re.type===f.HTTPRequest.MPD_TYPE?function H(){var Re=O();return Re.ot=d.MANIFEST,Re}():Re.type===f.HTTPRequest.MEDIA_SEGMENT_TYPE?(function L(Re){te.hasOwnProperty(Re)||(te[Re]=!1),ue.hasOwnProperty(Re)||(ue[Re]=!1),Y.hasOwnProperty(Re)||(Y[Re]=!1)}(Re.mediaType),function P(Re){var It,Be=O(),ct=function U(Re){try{return parseInt(Re.mediaInfo.bitrateList[Re.quality].bandwidth/1e3)}catch{return null}}(Re),yt=function G(Re){try{return isNaN(Re.duration)?null:Math.round(1e3*Re.duration)}catch{return null}}(Re),Dt=function oe(Re){try{return 100*parseInt(W.getThroughputHistory().getSafeAverageThroughput(Re)/100)}catch{return null}}(Re.mediaType),Fe=function de(Re){try{var Be=I.pr,ct=z.getCurrentBufferLevel(Re);return isNaN(Be)||isNaN(ct)?null:100*parseInt(ct/Be*10)}catch{return null}}(Re.mediaType),Ze=q(Re.mediaType),qe=function k(Re){try{var Be=W.getTopBitrateInfoFor(Re);return Math.round(Be.bitrate/1e3)}catch{return null}}(Re.mediaType),pt=I.pr,Tt=function je(Re){if(ie&&0!==ie.length){var ct,Be=w(ie);try{for(Be.s();!(ct=Be.n()).done;){var yt=ct.value;if(yt.getType()===Re)return yt.probeNextRequest()}}catch(Dt){Be.e(Dt)}finally{Be.f()}}}(Re.mediaType);Re.mediaType===M.default.VIDEO&&(It=d.VIDEO),Re.mediaType===M.default.AUDIO&&(It=d.AUDIO),Re.mediaType===M.default.TEXT&&(It="application/mp4"===Re.mediaInfo.mimeType?d.ISOBMFF_TEXT_TRACK:d.CAPTION);var wt=ne.get().streaming.cmcd.rtp;return wt||(wt=function rt(Re){var Be=re.getPlaybackRate();Be||(Be=1);var ct=Re.quality,Dt=Re.mediaInfo,Fe=Re.duration,Ze=q(Re.mediaType);0===Ze&&(Ze=500);var It=Dt.bitrateList[ct].bandwidth*Fe/1e3/(Ze/Be/1e3),wt=ne.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(ne.get().streaming.cmcd.rtpSafetyFactor)?ne.get().streaming.cmcd.rtpSafetyFactor:E;return 100*(parseInt(It*wt/100)+1)}(Re)),Be.rtp=wt,Tt&&(Re.url!==Tt.url?Be.nor=encodeURIComponent(F.default.getRelativeUrl(Re.url,Tt.url)):Tt.range&&(Be.nrr=Tt.range)),ct&&(Be.br=ct),It&&(Be.ot=It),isNaN(yt)||(Be.d=yt),isNaN(Dt)||(Be.mtp=Dt),isNaN(Fe)||(Be.dl=Fe),isNaN(Ze)||(Be.bl=Ze),isNaN(qe)||(Be.tb=qe),!isNaN(pt)&&1!==pt&&(Be.pr=pt),Y[Re.mediaType]&&(Be.bs=!0,Y[Re.mediaType]=!1),(ue[Re.mediaType]||!te[Re.mediaType])&&(Be.su=!0,ue[Re.mediaType]=!1,te[Re.mediaType]=!0),Be}(Re)):Re.type===f.HTTPRequest.INIT_SEGMENT_TYPE?function N(){var Re=O();return Re.ot=d.INIT,Re.su=!0,Re}():Re.type===f.HTTPRequest.OTHER_TYPE||Re.type===f.HTTPRequest.XLINK_EXPANSION_TYPE?function Q(){var Re=O();return Re.ot=d.OTHER,Re}():Re.type===f.HTTPRequest.LICENSE?function J(Re){var Be=O();return Be.ot=d.ENCRYPTION_KEY,Be}():null}catch{return null}}function O(){var Re={},Be=ne.get().streaming.cmcd.cid?ne.get().streaming.cmcd.cid:I.cid;return Re.v=m,Re.sid=ne.get().streaming.cmcd.sid?ne.get().streaming.cmcd.sid:I.sid,Re.sid="".concat(Re.sid),Be&&(Re.cid="".concat(Be)),!isNaN(I.pr)&&1!==I.pr&&null!==I.pr&&(Re.pr=I.pr),I.st&&(Re.st=I.st),I.sf&&(Re.sf=I.sf),Re}function q(Re){try{var Be=z.getCurrentBufferLevel(Re);return isNaN(Be)?null:100*parseInt(10*Be)}catch{return null}}function be(Re){try{I.pr=Re.playbackRate}catch{}}function ve(Re){try{var Be=h.getIsDynamic(Re.data),yt=Re.protocol&&"MSS"===Re.protocol?D.MSS:D.DASH;I.st="".concat(Be?_.LIVE:_.VOD),I.sf="".concat(yt)}catch{}}function Ce(Re){try{Re.state&&Re.mediaType&&Re.state===C.default.BUFFER_EMPTY&&(Y[Re.mediaType]||(Y[Re.mediaType]=!0),ue[Re.mediaType]||(ue[Re.mediaType]=!0))}catch{}}function xe(){for(var Re in Y)Y.hasOwnProperty(Re)&&(Y[Re]=!0);for(var Be in ue)ue.hasOwnProperty(Be)&&(ue[Be]=!0)}function He(Re){try{if(!Re)return null;var Be=Object.keys(Re).sort(function(Dt,Fe){return Dt.localeCompare(Fe)}),ct=Be.length,yt=Be.reduce(function(Dt,Fe,Ze){return"v"===Fe&&1===Re[Fe]||(Dt+="string"==typeof Re[Fe]&&"ot"!==Fe&&"sf"!==Fe&&"st"!==Fe?"".concat(Fe,"=").concat(JSON.stringify(Re[Fe])):"".concat(Fe,"=").concat(Re[Fe]),Ze<ct-1&&(Dt+=",")),Dt},"");return(yt=yt.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return R={getQueryParameter:function De(Re){try{if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled){var Be=ce(Re),ct=function Ee(Re){try{var Be=ne.get().streaming.cmcd.enabledKeys;return Object.keys(Re).filter(function(ct){return Be.includes(ct)}).reduce(function(ct,yt){return ct[yt]=Re[yt],ct},{})}catch{return Re}}(Be),yt=He(ct);return ae.trigger(T.default.CMCD_DATA_GENERATED,{url:Re.url,mediaType:Re.mediaType,cmcdData:Be,cmcdString:yt}),{key:y,value:yt}}return null}catch{return null}},getHeaderParameters:function _e(Re){try{if(ne.get().streaming.cmcd&&ne.get().streaming.cmcd.enabled){var Be=ce(Re),ct=me(Be,ee(["br","d","ot","tb"])),yt=me(Be,ee(["bl","dl","mtp","nor","nrr","su"])),Dt=me(Be,ee(["bs","rtp"])),Fe=me(Be,ee(["cid","pr","sf","sid","st","v"])),Ze={"CMCD-Object":He(ct),"CMCD-Request":He(yt),"CMCD-Status":He(Dt),"CMCD-Session":He(Fe)};return ae.trigger(T.default.CMCD_DATA_GENERATED,{url:Re.url,mediaType:Re.mediaType,cmcdData:Be,headers:Ze}),Ze}return null}catch{return null}},setConfig:function ge(Re){Re&&(Re.abrController&&(W=Re.abrController),Re.dashMetrics&&(z=Re.dashMetrics),Re.playbackController&&(re=Re.playbackController))},reset:function it(){ae.off(C.default.PLAYBACK_RATE_CHANGED,be,this),ae.off(C.default.MANIFEST_LOADED,ve,this),ae.off(C.default.BUFFER_LEVEL_STATE_CHANGED,Ce,R),ae.off(C.default.PLAYBACK_SEEKED,xe,R),$()},initialize:function se(){ae.on(C.default.PLAYBACK_RATE_CHANGED,be,R),ae.on(C.default.MANIFEST_LOADED,ve,R),ae.on(C.default.BUFFER_LEVEL_STATE_CHANGED,Ce,R),ae.on(C.default.PLAYBACK_SEEKED,xe,R),ae.on(C.default.PERIOD_SWITCH_COMPLETED,he,R)}},function le(){h=(0,S.default)(Z).getInstance(),$()}(),R}b.__dashjs_factory_name="CmcdModel";const g=p.default.getSingletonFactory(b)},"./src/streaming/models/CmsdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmsdModel.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>ie});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=u(
/*! ../../core/Debug */
"./src/core/Debug.js");function A(ue){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(te){return typeof te}:function(te){return te&&"function"==typeof Symbol&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te})(ue)}function M(ue,Y){M=function(ge,$){return new ne(ge,void 0,$)};var te=w(RegExp),Z=RegExp.prototype,ae=new WeakMap;function ne(se,ge,$){var he=te.call(this,se,ge);return ae.set(he,$||ae.get(se)),he}function le(se,ge){var $=ae.get(ge);return Object.keys($).reduce(function(he,pe){return he[pe]=se[$[pe]],he},Object.create(null))}return function f(ue,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(Y&&Y.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),Y&&m(ue,Y)}(ne,te),ne.prototype.exec=function(se){var ge=Z.exec.call(this,se);return ge&&(ge.groups=le(ge,this)),ge},ne.prototype[Symbol.replace]=function(se,ge){if("string"==typeof ge){var $=ae.get(this);return Z[Symbol.replace].call(this,se,ge.replace(/\$<([^>]+)>/g,function(pe,De){return"$"+$[De]}))}if("function"==typeof ge){var he=this;return Z[Symbol.replace].call(this,se,function(){var pe=[];return pe.push.apply(pe,arguments),"object"!==A(pe[pe.length-1])&&pe.push(le(pe,he)),ge.apply(this,pe)})}return Z[Symbol.replace].call(this,se,ge)},M.apply(this,arguments)}function w(ue){var Y="function"==typeof Map?new Map:void 0;return w=function(Z){if(null===Z||!function y(ue){return-1!==Function.toString.call(ue).indexOf("[native code]")}(Z))return Z;if("function"!=typeof Z)throw new TypeError("Super expression must either be null or a function");if(typeof Y<"u"){if(Y.has(Z))return Y.get(Z);Y.set(Z,ae)}function ae(){return j(Z,arguments,d(this).constructor)}return ae.prototype=Object.create(Z.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),m(ae,Z)},w(ue)}function j(ue,Y,te){return(j=function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(ae,ne,le){var se=[null];se.push.apply(se,ne);var $=new(Function.bind.apply(ae,se));return le&&m($,le.prototype),$}).apply(null,arguments)}function m(ue,Y){return(m=Object.setPrototypeOf||function(Z,ae){return Z.__proto__=ae,Z})(ue,Y)}function d(ue){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(te){return te.__proto__||Object.getPrototypeOf(te)})(ue)}var D="static",_="dynamic",E="cmsd-",b=E+D,g=E+_,h={AVAILABILITY_TIME:"at",DURESS:"du",ENCODED_BITRATE:"br",ESTIMATED_THROUGHPUT:"etp",HELD_TIME:"ht",INTERMEDIARY_IDENTIFIER:"n",MAX_SUGGESTED_BITRATE:"mb",NEXT_OBJECT_RESPONSE:"nor",NEXT_RANGE_RESPONSE:"nrr",OBJECT_DURATION:"d",OBJECT_TYPE:"ot",RESPONSE_DELAY:"rd",ROUND_TRIP_TIME:"rtt",STARTUP:"su",STREAM_TYPE:"st",STREAMING_FORMAT:"sf",VERSION:"v"},R={MANIFEST:"m",AUDIO:"a",VIDEO:"v",INIT:"i",CAPTION:"c",ISOBMFF_TEXT_TRACK:"tt",ENCRYPTION_KEY:"k",OTHER:"o",STREAM:"stream"},I=[h.MAX_SUGGESTED_BITRATE,h.STREAM_TYPE,h.STREAMING_FORMAT,h.VERSION],W={video:R.VIDEO,audio:R.AUDIO,text:R.ISOBMFF_TEXT_TRACK,stream:R.STREAM},z=/^[-0-9]/;function re(){var te,Z,ae,ne,ue=this.context,Y=(0,C.default)(ue).getInstance();function $(){ae={},ne={}}function he(N){N&&Object.keys(N).forEach(function(Q){I.includes(Q)||delete N[Q]})}function pe(N){return!N||"false"!==N.toLowerCase()&&(z.test(N)?parseInt(N,10):N.replace(/["]+/g,""))}function De(N){try{for(var Q={},O=N.split(","),U=0;U<O.length;U++){var k=O[U].split("="),G=k[0],oe=pe(k[1]);Q[G]=oe}return Q}catch(de){Z.error("Failed to parse CMSD-Static response header value:",de)}}function Ee(N){try{for(var Q={},O=N.split(","),k=O[O.length-1].split(";"),G=1;G<k.length;G++){var oe=k[G].split("="),de=oe[0],q=pe(oe[1]);Q[de]=q}return Q}catch(be){return Z.error("Failed to parse CMSD-Dynamic response header value:",be),[]}}function me(N){return W[N]||R.OTHER}function _e(N,Q,O){var U=N===D?ae:ne;return(U[Q]||{})[O]||(U[R.STREAM]||{})[O]}return te={setConfig:function ge(){},initialize:function se(){},reset:function L(){$()},parseResponseHeaders:function ee(N,Q){for(var O=null,U=null,k=N.split("\r\n"),G=k.length-1;G>=0;G--){var de=k[G].match(M(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(de&&de.groups){var q=de.groups.key.toLowerCase(),be=de.groups.value;switch(q){case b:O=De(be),Y.trigger(T.default.CMSD_STATIC_HEADER,O);break;case g:U||(U=Ee(be))}}}var ve=R.STREAM;return O&&O[h.OBJECT_TYPE]?ve=O[h.OBJECT_TYPE]:Q&&(ve=me(Q)),he(ae[ve]),he(ne[ve]),O&&(ae[ve]=Object.assign(ae[ve]||{},O)),U&&(ne[ve]=Object.assign(ne[ve]||{},U)),{static:O,dynamic:U}},getMaxBitrate:function ce(N){var Q=me(N);return _e(_,Q,h.MAX_SUGGESTED_BITRATE)||-1},getEstimatedThroughput:function J(N){var Q=me(N);return _e(_,Q,h.ESTIMATED_THROUGHPUT)||null},getResponseDelay:function H(N){var Q=me(N);return _e(_,Q,h.RESPONSE_DELAY)||null},getRoundTripTime:function P(N){var Q=me(N);return _e(_,Q,h.ROUND_TRIP_TIME)||null}},function le(){Z=(0,p.default)(ue).getInstance().getLogger(te),$()}(),te}re.__dashjs_factory_name="CmsdModel";const ie=V.default.getSingletonFactory(re)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>F});var V=u(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=u(
/*! ../../core/Settings */
"./src/core/Settings.js"),p=u(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),A=u(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),M=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),f=!1;function S(){var w,j,x,y,m,d,D,_,b=(0,T.default)(this.context).getInstance();function h(){y=[],m=[],d=[],_=[],D=null,j=[]}function ge(L,N){var Q=-1;L.some(function(O,U){if(O===N)return Q=U,!0}),!(Q<0)&&L.splice(Q,1)}function $(L){var N;for(N=0;N<_.length;N++)if(_[N].rulename===L)return N;return-1}function me(L,N){ee(L,N);var Q=new V.default;Q.schemeIdUri=L,Q.value=N,j.push(Q)}function ee(L,N){(0,p.checkParameterType)(L,"string"),(0,p.checkParameterType)(N,"string"),j.forEach(function(Q,O){Q.schemeIdUri===L&&Q.value===N&&j.splice(O,1)})}return w={getCustomInitialTrackSelectionFunction:function re(){return D},setCustomInitialTrackSelectionFunction:function W(L){D=L},resetCustomInitialTrackSelectionFunction:function z(){D=null},getLicenseResponseFilters:function ue(){return m},getLicenseRequestFilters:function ie(){return y},getCustomCapabilitiesFilters:function ne(){return d},registerCustomCapabilitiesFilter:function le(L){d.push(L)},registerLicenseResponseFilter:function te(L){m.push(L)},registerLicenseRequestFilter:function Y(L){y.push(L)},unregisterCustomCapabilitiesFilter:function se(L){ge(d,L)},unregisterLicenseResponseFilter:function ae(L){ge(m,L)},unregisterLicenseRequestFilter:function Z(L){ge(y,L)},addAbrCustomRule:function he(L,N,Q){if("string"!=typeof L||L!==A.default.ABANDON_FRAGMENT_RULES&&L!==A.default.QUALITY_SWITCH_RULES||"string"!=typeof N)throw M.default.BAD_ARGUMENT_ERROR;var O=$(N);-1===O?_.push({type:L,rulename:N,rule:Q}):(_[O].type=L,_[O].rule=Q)},removeAllAbrCustomRule:function De(){_=[]},removeAbrCustomRule:function pe(L){if(L){var N=$(L);-1!==N&&_.splice(N,1)}else _=[]},getAbrCustomRules:function Ee(){return _},addUTCTimingSource:me,removeUTCTimingSource:ee,getUTCTimingSources:function _e(){return j},clearDefaultUTCTimingSources:function ce(){j=[]},restoreDefaultUTCTimingSources:function J(){var L=b.get().streaming.utcSynchronization.defaultTimingSource;me(L.scheme,L.value)},setXHRWithCredentialsForType:function H(L,N){L?x[L]=!!N:Object.keys(x).forEach(function(Q){H(Q,N)})},getXHRWithCredentialsForType:function P(L){var N=x[L];return void 0===N?x.default:N},setConfig:function I(){},reset:function R(){h()}},function g(){x={default:f},h()}(),w}S.__dashjs_factory_name="CustomParametersModel";const F=C.default.getSingletonFactory(S)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>F});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),T="loading",p="executed",M="failed";function f(w){var E,b,g,h,j=(w=w||{}).eventBus,x=w.events,y=w.dashMetrics,m=w.fragmentLoader,d=w.debug,D=w.streamInfo,_=w.type;function z(J){var U;return!!J&&(U=!1,g.some(function(k){if(function(O,U){return!isNaN(O.index)&&O.startTime===U.startTime&&O.adaptationIndex===U.adaptationIndex&&O.type===U.type}(J,k)||function(O,U){return isNaN(O.index)&&isNaN(U.index)&&O.quality===U.quality}(J,k)||function(O,U){return O.action===C.default.ACTION_COMPLETE&&O.action===U.action}(J,k))return U=!0}),U)}function ue(J){return isNaN(J.duration)?.25:Math.min(J.duration/8,.5)}function Y(J){g=g.filter(function(H){var P=ue(H);return isNaN(H.startTime)||void 0!==J&&H.startTime>=J-P})}function Z(J,H){H<=J+.5||(g=g.filter(function(P){var L=ue(P);return isNaN(P.startTime)||P.startTime>=H-L||isNaN(P.duration)||P.startTime+P.duration<=J+L}))}function ge(J,H,P){for(var N=J.length-1;N>=0;N--){var Q=J[N],O=Q.startTime,U=O+Q.duration;if(P=isNaN(P)?ue(Q):P,!isNaN(O)&&!isNaN(U)&&H+P>=O&&H-P<U||isNaN(O)&&isNaN(H))return Q}return null}function pe(J,H){y.addSchedulingInfo(J,H),y.addRequestsQueue(J.mediaType,h,g)}function De(J){J.sender===m&&(h.splice(h.indexOf(J.request),1),J.response&&!J.error&&g.push(J.request),pe(J.request,J.error?M:p),j.trigger(x.FRAGMENT_LOADING_COMPLETED,{request:J.request,response:J.response,error:J.error,sender:this},{streamId:D.id,mediaType:_}))}function Ee(J){J.sender===m&&j.trigger(x.FRAGMENT_LOADING_PROGRESS,{request:J.request,response:J.response,error:J.error,sender:this},{streamId:D.id,mediaType:_})}function me(J){J.sender===m&&j.trigger(x.FRAGMENT_LOADING_ABANDONED,{request:J.request},{streamId:D.id,mediaType:_})}function _e(){g=[],h=[]}return E={getStreamId:function I(){return D.id},getType:function W(){return _},getRequests:function ie(J){var P=[];return(J?J.state instanceof Array?J.state:[J.state]:[]).forEach(function(L){var N=function he(J){var H;switch(J){case T:H=h;break;case p:H=g;break;default:H=[]}return H}(L);P=P.concat(function $(J,H){return H.hasOwnProperty("time")?[ge(J,H.time,H.threshold)]:J.filter(function(P){for(var L in H)if("state"!==L&&H.hasOwnProperty(L)&&P[L]!=H[L])return!1;return!0})}(N,J))}),P},isFragmentLoaded:z,isFragmentLoadedOrPending:function re(J){var L,H=!1,P=0;if(!(H=z(J)))for(P=0;P<h.length;P++)J.url===(L=h[P]).url&&J.startTime===L.startTime&&(H=!0);return H},removeExecutedRequestsBeforeTime:Y,removeExecutedRequestsAfterTime:function te(J){g=g.filter(function(H){return isNaN(H.startTime)||void 0!==J&&H.startTime<J})},syncExecutedRequestsWithBufferedRange:function ae(J,H){if(J&&0!==J.length){for(var P=0,L=0,N=J.length;L<N;L++)Z(P,J.start(L)),P=J.end(L);H>0&&Z(P,H)}else Y()},abortRequests:function ne(){b.debug("abort requests"),m.abort(),h=[]},executeRequest:function le(J){J.action===C.default.ACTION_DOWNLOAD?(pe(J,T),h.push(J),function se(J){j.trigger(x.FRAGMENT_LOADING_STARTED,{request:J},{streamId:D.id,mediaType:_}),m.load(J)}(J)):b.warn("Unknown request action.")},reset:function ee(){j.off(x.LOADING_COMPLETED,De,this),j.off(x.LOADING_DATA_PROGRESS,Ee,this),j.off(x.LOADING_ABANDONED,me,this),m&&m.reset(),_e()},resetInitialSettings:_e,addExecutedRequest:function ce(J){g.push(J)}},function R(){b=d.getLogger(E),_e(),j.on(x.LOADING_COMPLETED,De,E),j.on(x.LOADING_DATA_PROGRESS,Ee,E),j.on(x.LOADING_ABANDONED,me,E)}(),E}f.__dashjs_factory_name="FragmentModel";var S=V.default.getClassFactory(f);S.FRAGMENT_MODEL_LOADING=T,S.FRAGMENT_MODEL_EXECUTED=p,S.FRAGMENT_MODEL_CANCELED="canceled",S.FRAGMENT_MODEL_FAILED=M,V.default.updateClassFactory(f.__dashjs_factory_name,S);const F=S},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(){var j,x,w=this.context,y={};function m(){x=(0,V.default)(w).getInstance().getLogger(j)}function d(g){for(var h={},R=0,I=0,W=0,z=0,re=g.length,ie=0;ie<re;++ie)R+=g[ie].chunkDownloadTimeRelativeMS,I+=g[ie].bufferLevel,W+=g[ie].chunkDownloadTimeRelativeMS*g[ie].bufferLevel,z+=g[ie].chunkDownloadTimeRelativeMS*g[ie].chunkDownloadTimeRelativeMS;return h.m=(W-R*I/re)/(z-R*R/re),h.b=I/re-h.m*R/re,function(ue){return h.m*ue+h.b}}function D(g){var R,h=!0,I=g.reduce(function(W,z){return W+z.bufferLevelAtSegmentEnd},0)/g.length;return g.forEach(function(W){Math.abs(W.bufferLevelAtSegmentEnd/W.bufferLevelAtSegmentStart)<.95&&(h=!1),W.bufferLevelAtSegmentEnd/I<.8&&(h=!1),R?R>W.bitrate&&(h=!1):R=W.bitrate}),h}return j={setup:m,addMeasurement:function b(g,h,R,I,W){g&&g.mediaType&&!y[g.mediaType]&&(y[g.mediaType]=[]);var z=g.mediaInfo.bitrateList.find(function(re){return re.id===g.representationId});y[g.mediaType].push({index:g.index,repId:g.representationId,mediaType:g.mediaType,requestTimeMS:I,adjustedAvailabilityStartTimeMS:g.availabilityStartTime.getTime(),segDurationMS:1e3*g.duration,chunksDurationMS:R.reduce(function(re,ie){return re+ie.chunkDownloadDurationMS},0),segmentBytes:R.reduce(function(re,ie){return re+ie.chunkBytes},0),bitrate:z&&z.bandwidth,bitrateList:g.mediaInfo.bitrateList,chunkMeasurements:R,fetchDownloadDurationMS:h,throughputCapacityDelayMS:W,getEstimatedBufferLevel:d(R.slice(1))}),y[g.mediaType].length>10&&y[g.mediaType].shift()},getThroughputCapacityDelayMS:function E(g,h){var R=y[g.mediaType]&&y[g.mediaType].slice(-3);return!R||R.length<3||!D(R)?0:h/4>250?250:h/4},getEstimatedDownloadDurationMS:function _(g){var h=y[g.mediaType].slice(-1).pop(),R=y[g.mediaType].slice(-3),I=h.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;h.bufferLevelAtSegmentStart=h.getEstimatedBufferLevel(I/2),h.bufferLevelAtSegmentEnd=h.getEstimatedBufferLevel(I);var W=D(R),z=W?.6:.8;if(h.isBufferStable&&1.05*h.segDurationMS<h.fetchDownloadDurationMS)return h.fetchDownloadDurationMS;if(!W||h.segDurationMS<h.fetchDownloadDurationMS||h.adjustedAvailabilityStartTimeMS<=h.requestTimeMS+h.throughputCapacityDelayMS-h.segDurationMS)return.8*h.fetchDownloadDurationMS;for(var re=h.requestTimeMS+h.throughputCapacityDelayMS-h.adjustedAvailabilityStartTimeMS,ie=0,ue=0,Y=0,te=0;te<h.chunkMeasurements.length;te++){var Z=h.chunkMeasurements[te];if(re<ue+Z.chunkDownloadDurationMS)break;ue+=Z.chunkDownloadDurationMS,ie+=Z.chunkBytes,Y++}if(re<0&&x.warn("request time was before adjusted availibitly start time"),ie&&ue&&Y>.2*h.chunkMeasurements.length){var ne=h.segmentBytes/(ie/ue);return h.fetchDownloadDurationMS<ne?h.fetchDownloadDurationMS*z:ne*z}var le=h.bitrate;return h.bitrateList.some(function(se){if(se.bandwidth>h.bitrate)return le=se.bandwidth,!0}),le===h.bitrate?h.fetchDownloadDurationMS*z:z*h.segmentBytes*8*1e3/le}},m(),j}T.__dashjs_factory_name="LowLatencyThroughputModel";const p=C.default.getSingletonFactory(T)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),C=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),T=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function p(){var F,f=(0,V.default)(this.context).getInstance();return{getValue:function w(){return F},setValue:function j(x){F=x,x&&f.trigger(C.default.MANIFEST_LOADED,{data:x})}}}p.__dashjs_factory_name="ManifestModel";const A=T.default.getSingletonFactory(p)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>m});var V=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=u(
/*! ../../core/Settings */
"./src/core/Settings.js"),p=12,A=20,M=10,f=5,S=12,F=-.5,w=.5,j=-.5,x=1;function y(){var d,D,_,E,b=this.context,g=(0,T.default)(b).getInstance();function I(le,se){return isNaN(le)?0:le>0?(se&&D.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):le<j?(se&&D.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(j,": ").concat(100*j,"% playback speed.")),j):le}function W(le,se){return isNaN(le)?0:le<0?(se&&D.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):le>x?(se&&D.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(x,": ").concat(100*(1+x),"% playback speed.")),x):le}function te(){var le=g.get().streaming.buffer.stableBufferTime>0?g.get().streaming.buffer.stableBufferTime:g.get().streaming.buffer.fastSwitchEnabled?A:p,se=_.getLiveDelay();return!isNaN(se)&&se>0?Math.min(le,se):le}return d={getCatchupMaxDrift:function z(){if(!isNaN(g.get().streaming.liveCatchup.maxDrift)&&g.get().streaming.liveCatchup.maxDrift>0)return g.get().streaming.liveCatchup.maxDrift;var le=E.getServiceDescriptionSettings();return le&&le.liveCatchup&&!isNaN(le.liveCatchup.maxDrift)&&le.liveCatchup.maxDrift>0?le.liveCatchup.maxDrift:S},getCatchupModeEnabled:function ie(){return null!==g.get().streaming.liveCatchup.enabled?g.get().streaming.liveCatchup.enabled:_.getInitialCatchupModeActivated()},getStableBufferTime:te,getInitialBufferLevel:function Y(){var le=g.get().streaming.buffer.initialBufferLevel;return isNaN(le)||le<0?0:Math.min(te(),le)},getRetryAttemptsForType:function Z(le){var se=isNaN(g.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?f:g.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return _.getLowLatencyModeEnabled()?g.get().streaming.retryAttempts[le]*se:g.get().streaming.retryAttempts[le]},getRetryIntervalsForType:function ae(le){var se=isNaN(g.get().streaming.retryIntervals.lowLatencyReductionFactor)?M:g.get().streaming.retryIntervals.lowLatencyReductionFactor;return _.getLowLatencyModeEnabled()?g.get().streaming.retryIntervals[le]/se:g.get().streaming.retryIntervals[le]},getCatchupPlaybackRates:function re(le){var se=g.get().streaming.liveCatchup.playbackRate;if(!isNaN(se.min)||!isNaN(se.max))return{min:I(se.min,le),max:W(se.max,le)};var ge=E.getServiceDescriptionSettings();if(ge&&ge.liveCatchup&&(!isNaN(ge.liveCatchup.playbackRate.min)||!isNaN(ge.liveCatchup.playbackRate.max))){var $=ge.liveCatchup.playbackRate;return{min:I($.min,le),max:W($.max,le)}}return{min:F,max:w}},getAbrBitrateParameter:function ue(le,se){try{var ge=g.get().streaming.abr[le][se];if(!isNaN(ge)&&-1!==ge)return ge;var $=E.getServiceDescriptionSettings();return $&&$[le]&&!isNaN($[le][se])?$[le][se]:-1}catch{return-1}},setConfig:function R(le){le.playbackController&&(_=le.playbackController),le.serviceDescriptionController&&(E=le.serviceDescriptionController)},reset:function ne(){}},function h(){D=(0,V.default)(b).getInstance().getLogger(d)}(),d}y.__dashjs_factory_name="MediaPlayerModel";const m=C.default.getSingletonFactory(y)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>_});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),T=u(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),p=u(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=u(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),M=u(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),f=u(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),S=u(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),F=u(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),w=u(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),j=u(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),x=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=u(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),m=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),d=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function D(E){var R,I,b=(E=E||{}).settings,h=(0,x.default)(this.context).getInstance();function z(){h.trigger(m.default.METRICS_CHANGED)}function re(L){h.trigger(m.default.METRIC_CHANGED,{mediaType:L}),z()}function ie(L,N,Q){h.trigger(m.default.METRIC_UPDATED,{mediaType:L,metric:N,value:Q}),re(L)}function ue(L,N,Q){h.trigger(m.default.METRIC_ADDED,{mediaType:L,metric:N,value:Q}),re(L)}function Z(L,N){var Q=null;return L&&(I.hasOwnProperty(L)?Q=I[L]:N||(Q=new T.default,I[L]=Q)),Q}function ae(L,N,Q){var O=Z(L);null!==O&&(O[N].push(Q),O[N].length>b.get().streaming.metrics.maxListDepth&&O[N].shift())}function ge(L,N,Q){ae(L,N,Q),ue(L,N,Q)}return R={clearCurrentMetricsForType:function Y(L){delete I[L],re(L)},clearAllCurrentMetrics:function te(){I={},z()},getMetricsFor:Z,addHttpRequest:function le(L,N,Q,O,U,k,G,oe,de,q,be,ve,Ce,xe,He,je,rt){var it=new p.HTTPRequest;k&&k!==O&&(le(L,null,Q,O,U,null,null,oe,de,null,null,null,Ce,null,null,je,rt),it.actualurl=k),it.tcpid=N,it.type=Q,it.url=O,it.range=oe,it.trequest=de,it.tresponse=q,it.responsecode=ve,it.cmsd=rt,it._tfinish=be,it._stream=L,it._mediaduration=Ce,it._quality=U,it._responseHeaders=xe,it._serviceLocation=G,it._fileLoaderType=je,He?He.forEach(function(Re){!function ne(L,N,Q,O){var U=new p.HTTPRequestTrace;U.s=N,U.d=Q,U.b=O,L.trace.push(U),L.interval||(L.interval=0),L.interval+=Q}(it,Re.s,Re.d,Re.b)}):(delete it.interval,delete it.trace),ge(L,C.default.HTTP_REQUEST,it)},addRepresentationSwitch:function se(L,N,Q,O,U){var k=new A.default;k.t=N,k.mt=Q,k.to=O,U?k.lto=U:delete k.lto,ge(L,C.default.TRACK_SWITCH,k)},addBufferLevel:function $(L,N,Q){var O=new M.default;O.t=N,O.level=Q,ge(L,C.default.BUFFER_LEVEL,O)},addBufferState:function he(L,N,Q){var O=new f.default;O.target=Q,O.state=N,ge(L,C.default.BUFFER_STATE,O)},addDVRInfo:function pe(L,N,Q,O){var U=new S.default;U.time=N,U.range=O,U.manifestInfo=Q,ge(L,C.default.DVR_INFO,U)},addDroppedFrames:function De(L,N){var Q=new F.default,O=Z(L).DroppedFrames;N&&(Q.time=N.creationTime,Q.droppedFrames=N.droppedVideoFrames,!(O.length>0&&O[O.length-1]==Q)&&ge(L,C.default.DROPPED_FRAMES,Q))},addSchedulingInfo:function Ee(L,N,Q,O,U,k,G,oe,de){var q=new j.default;q.mediaType=L,q.t=N,q.type=Q,q.startTime=O,q.availabilityStartTime=U,q.duration=k,q.quality=G,q.range=oe,q.state=de,ge(L,C.default.SCHEDULING_INFO,q)},addRequestsQueue:function me(L,N,Q){var O=new y.default;O.loadingRequests=N,O.executedRequests=Q,Z(L).RequestsQueue=O,ue(L,C.default.REQUESTS_QUEUE,O)},addManifestUpdate:function _e(L,N,Q,O,U,k,G,oe,de,q){var be=new w.ManifestUpdate;be.mediaType=L,be.type=N,be.requestTime=Q,be.fetchTime=O,be.availabilityStartTime=U,be.presentationStartTime=k,be.clientTimeOffset=G,be.currentTime=oe,be.buffered=de,be.latency=q,ae(V.default.STREAM,C.default.MANIFEST_UPDATE,be),ue(L,C.default.MANIFEST_UPDATE,be)},updateManifestUpdateInfo:function ee(L,N){if(L){for(var Q in N)L[Q]=N[Q];ie(L.mediaType,C.default.MANIFEST_UPDATE,L)}},addManifestUpdateStreamInfo:function ce(L,N,Q,O,U){if(L){var k=new w.ManifestUpdateStreamInfo;k.id=N,k.index=Q,k.start=O,k.duration=U,L.streamInfo.push(k),ie(L.mediaType,C.default.MANIFEST_UPDATE_STREAM_INFO,L)}},addManifestUpdateRepresentationInfo:function J(L,N,Q,O,U,k,G,oe){if(L&&L.representationInfo){var de=new w.ManifestUpdateRepresentationInfo;de.id=N,de.index=Q,de.streamIndex=O,de.mediaType=U,de.startNumber=G,de.fragmentInfoType=oe,de.presentationTimeOffset=k,L.representationInfo.push(de),ie(L.mediaType,C.default.MANIFEST_UPDATE_TRACK_INFO,L)}},addPlayList:function H(L){L.trace&&Array.isArray(L.trace)?L.trace.forEach(function(N){N.hasOwnProperty("subreplevel")&&!N.subreplevel&&delete N.subreplevel}):delete L.trace,ge(V.default.STREAM,C.default.PLAY_LIST,L)},addDVBErrors:function P(L){ge(V.default.STREAM,C.default.DVB_ERRORS,L)}},function W(){I={}}(),R}D.__dashjs_factory_name="MetricsModel";const _=d.default.getSingletonFactory(D)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(){var M;return{initialize:function f(F){if(M=new V.default,!F)return null;var w=F.indexOf("#");if(-1!==w)for(var j=F.substr(w+1).split("&"),x=0,y=j.length;x<y;++x){var m=j[x],d=m.indexOf("=");if(-1!==d){var D=m.substring(0,d);M.hasOwnProperty(D)&&(M[D]=m.substr(d+1))}}},getURIFragmentData:function S(){return M}}}T.__dashjs_factory_name="URIFragmentModel";const p=C.default.getSingletonFactory(T)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>S});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),A=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),M=new Map([[A.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[A.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[A.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[A.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function f(){var F,w,j,x,y,m,d,_=this.context,E=(0,C.default)(_).getInstance(),b=[];function I(){j&&(j.playbackRate=d||1,j.removeEventListener("canplay",I))}function ge(){return b.length>0}function De(){if(j&&ge()&&0===j.playbackRate){var Re=document.createEvent("Event");Re.initEvent("waiting",!0,!1),j.dispatchEvent(Re)}}function N(Re,Be){j&&j.addEventListener(Re,Be)}function Q(Re,Be){j&&j.removeEventListener(Re,Be)}function O(){return j?j.readyState:NaN}function U(){return j?j.buffered:null}function Ce(Re,Be,ct,yt,Dt){if(j)for(var Fe=0;Fe<j.textTracks.length;Fe++)if(j.textTracks[Fe].kind===Re&&(!Be||j.textTracks[Fe].label==Be)&&j.textTracks[Fe].language===ct&&j.textTracks[Fe].isTTML===yt&&j.textTracks[Fe].isEmbedded===Dt)return j.textTracks[Fe];return null}function rt(Re,Be){Re===A.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||O()>=Re?Be():function it(Re,Be){N(Re,function yt(){Q(Re,yt),Be(Re)})}(M.get(Re),Be)}return F={initialize:function h(){E.on(T.default.PLAYBACK_PLAYING,De,this)},setCurrentTime:function z(Re,Be){j&&(x=Re,rt(A.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(j.currentTime!==x)try{x=Be?function re(Re){var Be=U(),ct=Re,yt=9999999999;if(Be)for(var Dt=0;Dt<Be.length;Dt++){var Fe=Be.start(Dt),Ze=Be.end(Dt),qe=Math.abs(Fe-Re),pt=Math.abs(Ze-Re);if(Re>=Fe&&Re<=Ze)return Re;qe<yt&&(yt=qe,ct=Fe),pt<yt&&(yt=pt,ct=Ze)}return ct}(x):x,j.currentTime=x,x=NaN}catch(ct){0===j.readyState&&ct.code===ct.INVALID_STATE_ERR&&setTimeout(function(){j.currentTime=x,x=NaN},400)}else x=NaN}))},play:function me(){if(j){j.autoplay=!0;var Re=j.play();Re&&Re.catch&&typeof Promise<"u"&&Re.catch(function(Be){"NotAllowedError"===Be.name&&E.trigger(T.default.PLAYBACK_NOT_ALLOWED),w.warn("Caught pending play exception - continuing (".concat(Be,")"))})}},isPaused:function _e(){return j?j.paused:null},pause:function ee(){j&&(j.pause(),j.autoplay=!1)},isStalled:ge,isSeeking:function ce(){return j?j.seeking||!isNaN(x):null},getTime:function J(){return j?isNaN(x)?j.currentTime:x:null},getPlaybackRate:function H(){return j?j.playbackRate:null},setPlaybackRate:function W(Re){j&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&j.readyState<=2&&Re>0?j.addEventListener("canplay",I):j.playbackRate=Re)},getPlayedRanges:function P(){return j?j.played:null},getEnded:function L(){return j?j.ended:null},setStallState:function se(Re,Be){!function pe(Re,Be){Be?function $(Re){null===Re||!j||j.seeking||-1!==b.indexOf(Re)||b.push(Re)}(Re):function he(Re){var Be=b.indexOf(Re);null!==Re&&-1!==Be&&b.splice(Be,1)}(Re)}(Re,Be)},getElement:function ie(){return j},setElement:function ue(Re){if(!(null==Re||Re&&/^(VIDEO|AUDIO)$/i.test(Re.nodeName)))throw"element is not video or audio DOM type!";(j=Re)&&(j.preload="auto")},setSource:function Y(Re){j&&(Re?j.src=Re:(j.removeAttribute("src"),j.load()))},getSource:function te(){return j?j.src:null},getTTMLRenderingDiv:function Z(){return y},setTTMLRenderingDiv:function ne(Re){(y=Re).style.position="absolute",y.style.display="flex",y.style.overflow="hidden",y.style.pointerEvents="none",y.style.top=0,y.style.left=0},getVttRenderingDiv:function ae(){return m},setVttRenderingDiv:function le(Re){m=Re},getPlaybackQuality:function Ee(){if(!j)return null;var Re="webkitDroppedFrameCount"in j&&"webkitDecodedFrameCount"in j,ct=null;return"getVideoPlaybackQuality"in j?ct=j.getVideoPlaybackQuality():Re&&(ct={droppedVideoFrames:j.webkitDroppedFrameCount,totalVideoFrames:j.webkitDroppedFrameCount+j.webkitDecodedFrameCount,creationTime:new Date}),ct},addEventListener:N,removeEventListener:Q,getReadyState:O,getBufferRange:U,getClientWidth:function k(){return j?j.clientWidth:NaN},getClientHeight:function G(){return j?j.clientHeight:NaN},getTextTracks:function ve(){return j?j.textTracks:[]},getTextTrack:Ce,addTextTrack:function xe(Re,Be,ct,yt,Dt){if(!j)return null;var Fe=Ce(Re,Be,ct,yt,Dt);return Fe||((Fe=j.addTextTrack(Re,Be,ct)).isEmbedded=Dt,Fe.isTTML=yt),Fe},appendChild:function He(Re){j&&(j.appendChild(Re),void 0!==Re.isTTML&&(j.textTracks[j.textTracks.length-1].isTTML=Re.isTTML,j.textTracks[j.textTracks.length-1].isEmbedded=Re.isEmbedded))},removeChild:function je(Re){j&&j.removeChild(Re)},getVideoWidth:function oe(){return j?j.videoWidth:NaN},getVideoHeight:function de(){return j?j.videoHeight:NaN},getVideoRelativeOffsetTop:function q(){var Re=j.parentNode.host||j.parentNode;return Re?j.getBoundingClientRect().top-Re.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function be(){var Re=j.parentNode.host||j.parentNode;return Re?j.getBoundingClientRect().left-Re.getBoundingClientRect().left:NaN},waitForReadyState:rt,reset:function R(){E.off(T.default.PLAYBACK_PLAYING,De,this)}},function g(){w=(0,p.default)(_).getInstance().getLogger(F),x=NaN}(),F}f.__dashjs_factory_name="VideoModel";const S=V.default.getSingletonFactory(f)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>m});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Settings */
"./src/core/Settings.js"),T=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),p=u(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function w(d,D){if(d){if("string"==typeof d)return j(d,D);var _=Object.prototype.toString.call(d).slice(8,-1);if("Object"===_&&d.constructor&&(_=d.constructor.name),"Map"===_||"Set"===_)return Array.from(d);if("Arguments"===_||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return j(d,D)}}function j(d,D){(null==D||D>d.length)&&(D=d.length);for(var _=0,E=new Array(D);_<D;_++)E[_]=d[_];return E}function x(d){var R,_=(d=d||{}).requestModifier,E=d.lowLatencyThroughputModel,b=d.boxParser,g=(0,C.default)(this.context).getInstance();function z(Z){var $,ae=new Date,ne=Z.request,le=new Headers;if(ne.range&&le.append("Range","bytes="+ne.range),Z.headers)for(var se in Z.headers){var ge=Z.headers[se];ge&&le.append(se,ge)}ne.requestStartDate||(ne.requestStartDate=ae),_&&_.modifyRequestHeader&&_.modifyRequestHeader({setRequestHeader:function(_e,ee){le.append(_e,ee)}},{url:Z.url}),"function"==typeof window.AbortController&&($=new AbortController,Z.abortController=$,$.signal.onabort=Z.onabort);var he={method:Z.method,headers:le,credentials:Z.withCredentials?"include":void 0,signal:$?$.signal:void 0},pe=g.get().streaming.abr.fetchThroughputCalculationMode,De=Date.now(),Ee=0;new Promise(function(me){if(pe===T.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&E&&(Ee=E.getThroughputCapacityDelayMS(ne,1e3*R.getCurrentBufferLevel(ne.mediaType))))return setTimeout(me,Ee);me()}).then(function(){var me=Date.now();fetch(Z.url,he).then(function(_e){Z.response||(Z.response={}),Z.response.status=_e.status,Z.response.statusText=_e.statusText,Z.response.responseURL=_e.url,_e.ok||Z.onerror();var J,ee="",ce=function F(d,D){var _;if(typeof Symbol>"u"||null==d[Symbol.iterator]){if(Array.isArray(d)||(_=w(d))||D&&d&&"number"==typeof d.length){_&&(d=_);var E=0,b=function(){};return{s:b,n:function(){return E>=d.length?{done:!0}:{done:!1,value:d[E++]}},e:function(W){throw W},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,g=!0,h=!1;return{s:function(){_=d[Symbol.iterator]()},n:function(){var W=_.next();return g=W.done,W},e:function(W){h=!0,R=W},f:function(){try{!g&&null!=_.return&&_.return()}finally{if(h)throw R}}}}(_e.headers.keys());try{for(ce.s();!(J=ce.n()).done;){var H=J.value;ee+=H+": "+_e.headers.get(H)+"\r\n"}}catch(rt){ce.e(rt)}finally{ce.f()}if(Z.response.responseHeaders=ee,!_e.body)return _e.arrayBuffer().then(function(rt){Z.response.response=rt,Z.progress({loaded:rt.byteLength,total:rt.byteLength,stream:!1}),Z.onload(),Z.onend()});var Re,Be,P=parseInt(_e.headers.get("Content-Length"),10),L=0,N=!1,Q=new Uint8Array,O=0;if(pe===T.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&E){var k=me,G=0,de=function A(d,D){return function S(d){if(Array.isArray(d))return d}(d)||function f(d,D){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(d)){var _=[],E=!0,b=!1,g=void 0;try{for(var R,h=d[Symbol.iterator]();!(E=(R=h.next()).done)&&(_.push(R.value),!D||_.length!==D);E=!0);}catch(I){b=!0,g=I}finally{try{!E&&null!=h.return&&h.return()}finally{if(b)throw g}}return _}}(d,D)||w(d,D)||function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(_e.body.tee(),2),be=de[1];Re=de[0].getReader(),Be=[],Re.read().then(function ct(yt){var Dt=yt.value,Fe=yt.done;if(G=Date.now(),Dt&&Dt.length){var Ze=G-k,qe=Dt.length;Be.push({chunkDownloadTimeRelativeMS:G-me,chunkDownloadDurationMS:Ze,chunkBytes:qe,kbps:Math.round(8*qe/(Ze/1e3)),bufferLevel:R.getCurrentBufferLevel(ne.mediaType)})}if(Fe){var pt=G-me,Tt=Be.reduce(function(It,wt){return It+wt.chunkBytes},0);return E.addMeasurement(ne,pt,Be,De,Ee,ee),void Z.progress({loaded:Tt,total:Tt,lengthComputable:!0,time:E.getEstimatedDownloadDurationMS(ne),stream:!0})}return k=Date.now(),Re.read().then(ct)}),Z.reader=be.getReader()}else Z.reader=_e.body.getReader();var ve=[],Ce=[],xe=[],He=!0;re(Z,function rt(it){var Re=it.value;if(it.done){if(Q){if(pe!==T.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var ct=null,yt=null;pe===T.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(ct=function te(Z,ae){try{var ne,le;ne=Z.filter(function(me,_e){return _e<Z.length-1}),le=ae.filter(function(me,_e){return _e<ae.length-1});var se=[];if(ne.length>1){for(var ge=0,$=0,he=0;he<ne.length;he++)if(ne[he]&&le[he]){var pe=le[he].ts-ne[he].ts;if(pe>1)se.push(8*le[he].bytes/pe);else{0===$&&($=ne[he].ts);var De=le[he].ts-$;De>1?(se.push(8*ge/De),ge=0,$=0):ge+=le[he].bytes}}if(se.length>0){var Ee=se.reduce(function(me,_e){return me+_e},0);return Ee/se.length}}return null}catch{return null}}(Ce,xe),ct&&(yt=8*L/ct)):pe===T.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(yt=Y(ve,L)),Z.progress({loaded:L,total:isNaN(P)?L:P,lengthComputable:!0,time:yt,stream:!0})}Z.response.response=Q.buffer}return Z.onload(),void Z.onend()}if(Re&&Re.length>0){Q=function ie(Z,ae){if(0===Z.length)return ae;var ne=new Uint8Array(Z.length+ae.length);return ne.set(Z),ne.set(ae,Z.length),ne}(Q,Re),L+=Re.length,ve.push({ts:Date.now(),bytes:Re.length}),pe===T.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&He&&b.findLastTopIsoBoxCompleted(["moof"],Q,O).found&&(He=!1,Ce.push({ts:performance.now(),bytes:Re.length}));var Fe=b.findLastTopIsoBoxCompleted(["moov","mdat"],Q,O);if(Fe.found){var qe,Ze=Fe.lastCompletedOffset+Fe.size;pe===T.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!He&&(He=!0,xe.push({ts:performance.now(),bytes:Q.length})),Ze===Q.length?(qe=Q,Q=new Uint8Array):(qe=new Uint8Array(Q.subarray(0,Ze)),Q=Q.subarray(Ze)),Z.progress({data:qe.buffer,lengthComputable:!1,noTrace:!0}),O=0}else O=Fe.lastCompletedOffset,N||(Z.progress({lengthComputable:!1,noTrace:!0}),N=!0)}re(Z,rt)})}).catch(function(_e){Z.onerror&&Z.onerror(_e)})})}function re(Z,ae){Z.reader.read().then(ae).catch(function(ne){Z.onerror&&200===Z.response.status&&Z.onerror(ne)})}function Y(Z,ae){try{if((Z=Z.filter(function(se){return se.bytes>ae/4/Z.length})).length>1){var ne=0,le=(Z[Z.length-1].ts-Z[0].ts)/Z.length;return Z.forEach(function(se,ge){var $=Z[ge+1];if($){var he=$.ts-se.ts;ne+=he<le?he:0}}),ne}return null}catch{return null}}return{load:function W(Z){_&&_.modifyRequest?(0,p.modifyRequest)(Z,_).then(function(){return z(Z)}):z(Z)},abort:function ue(Z){if(Z.abortController)Z.abortController.abort();else if(Z.reader)try{Z.reader.cancel(),Z.onabort()}catch{}},calculateDownloadedTime:Y,setup:function I(Z){R=Z.dashMetrics}}}x.__dashjs_factory_name="FetchLoader";const m=V.default.getClassFactory(x)},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>b});var V=u(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),C=u(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),T=u(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),p=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),A=u(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),M=u(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),f=u(
/*! ../models/CmsdModel */
"./src/streaming/models/CmsdModel.js"),S=u(
/*! ../../core/Utils */
"./src/core/Utils.js"),F=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),w=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),j=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=u(
/*! ../../core/Settings */
"./src/core/Settings.js"),y=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),m=u(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),d=u(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function D(g,h,R){return h in g?Object.defineProperty(g,h,{value:R,enumerable:!0,configurable:!0,writable:!0}):g[h]=R,g}function _(g){var Z,ae,ne,le,se,ge,$,he,pe,De,h=this.context,R=(g=g||{}).errHandler,I=g.dashMetrics,W=g.mediaPlayerModel,z=g.requestModifier,re=g.boxParser,ie=g.errors,ue=g.requestTimeout||0,Y=(0,w.default)(h).getInstance(),te=(0,x.default)(h).getInstance();function me(J,H){var oe,P=J.request,L=[],N=!0,Q=!0,O=new Date,U=O,k=0,G=null;if(!z||!I||!R)throw new Error("config object is not correct or missing");var He,de=function(Ze){if(Q=!1,P.requestStartDate=O,P.requestEndDate=new Date,P.firstByteDate=P.firstByteDate||O,P.fileLoaderType=G,!P.checkExistenceOnly){var qe=oe.response?oe.response.responseURL:null,pt=oe.response?oe.response.status:null,Tt=oe.response&&oe.response.getAllResponseHeaders?oe.response.getAllResponseHeaders():oe.response?oe.response.responseHeaders:null,It=te.get().streaming.cmsd&&te.get().streaming.cmsd.enabled?$.parseResponseHeaders(Tt,P.mediaType):null;I.addHttpRequest(P,qe,pt,Tt,Ze?L:null,It),P.type===T.HTTPRequest.MPD_TYPE&&I.addManifestUpdate(P)}},q=function(){if(-1!==ae.indexOf(oe)&&(ae.splice(ae.indexOf(oe),1),Q))if(de(!1),H>0){try{te.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&P.type===T.HTTPRequest.MEDIA_SEGMENT_TYPE&&W.getRetryAttemptsForType(T.HTTPRequest.MEDIA_SEGMENT_TYPE)===H&&Y.trigger(j.default.ATTEMPT_BACKGROUND_SYNC)}catch{}H--;var qe={config:J};le.push(qe),qe.timeout=setTimeout(function(){-1!==le.indexOf(qe)&&(le.splice(le.indexOf(qe),1),me(J,H))},W.getRetryIntervalsForType(P.type))}else{if(P.type===T.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;R.error(new A.default(se[P.type],P.url+" is not available",{request:P,response:oe.response})),J.error&&J.error(P,"error",oe.response.statusText),J.complete&&J.complete(P,oe.response.statusText)}};P.hasOwnProperty("availabilityTimeComplete")&&!1===P.availabilityTimeComplete&&window.fetch&&"arraybuffer"===P.responseType&&P.type===T.HTTPRequest.MEDIA_SEGMENT_TYPE?((He=(0,C.default)(h).create({requestModifier:z,lowLatencyThroughputModel:pe,boxParser:re})).setup({dashMetrics:I}),G=y.default.FILE_LOADER_TYPES.FETCH):(He=(0,V.default)(h).create({requestModifier:z}),G=y.default.FILE_LOADER_TYPES.XHR);var je=null,rt=z.modifyRequestURL?z.modifyRequestURL(P.url):P.url;if(te.get().streaming.cmcd&&te.get().streaming.cmcd.enabled){var it=te.get().streaming.cmcd.mode;if(it===y.default.CMCD_MODE_QUERY){var Re=function _e(J){try{var H=[],P=ge.getQueryParameter(J);return P&&H.push(P),H}catch{return[]}}(P);rt=S.default.addAditionalQueryParameterToUrl(rt,Re)}else it===y.default.CMCD_MODE_HEADER&&(je=ge.getHeaderParameters(P))}P.url=rt;var Be=P.checkExistenceOnly?T.HTTPRequest.HEAD:T.HTTPRequest.GET,ct=he.getXHRWithCredentialsForType(P.type);oe={url:rt,method:Be,withCredentials:ct,request:P,onload:function(){oe.response.status>=200&&oe.response.status<=299&&(de(!0),J.success&&J.success(oe.response.response,oe.response.statusText,oe.response.responseURL),J.complete&&J.complete(P,oe.response.statusText))},onend:q,onerror:q,progress:function(Ze){var qe=new Date;N&&(N=!1,(!Ze.lengthComputable||Ze.lengthComputable&&Ze.total!==Ze.loaded)&&(P.firstByteDate=qe)),Ze.lengthComputable&&(P.bytesLoaded=Ze.loaded,P.bytesTotal=Ze.total),Ze.noTrace||(L.push({s:U,d:Ze.time?Ze.time:qe.getTime()-U.getTime(),b:[Ze.loaded?Ze.loaded-k:0]}),U=qe,k=Ze.loaded),J.progress&&Ze&&J.progress(Ze)},onabort:function(){J.abort&&J.abort(P)},ontimeout:function(Ze){var qe;qe=Ze.lengthComputable?"Request timeout: loaded: "+Ze.loaded+", out of: "+Ze.total+" : "+(Ze.loaded/Ze.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",De.warn(qe)},loader:He,timeout:ue,headers:je};var yt=(new Date).getTime();if(isNaN(P.delayLoadingTime)||yt>=P.delayLoadingTime)ae.push(oe),He.load(oe);else{var Dt={httpRequest:oe};ne.push(Dt),Dt.delayTimeout=setTimeout(function(){if(-1!==ne.indexOf(Dt)){ne.splice(ne.indexOf(Dt),1);try{U=O=new Date,ae.push(Dt.httpRequest),He.load(Dt.httpRequest)}catch{Dt.httpRequest.onerror()}}},P.delayLoadingTime-yt)}}return Z={load:function ee(J){J.request?me(J,W.getRetryAttemptsForType(J.request.type)):J.error&&J.error(J.request,"error")},abort:function ce(){le.forEach(function(J){clearTimeout(J.timeout),J.config.request&&J.config.abort&&J.config.abort(J.config.request)}),le=[],ne.forEach(function(J){return clearTimeout(J.delayTimeout)}),ne=[],ae.forEach(function(J){J.request.type!==T.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(J.onloadend=J.onerror=J.onprogress=void 0,J.loader.abort(J))}),ae=[]}},function Ee(){var J;De=(0,F.default)(h).getInstance().getLogger(Z),ae=[],ne=[],le=[],ge=(0,M.default)(h).getInstance(),$=(0,f.default)(h).getInstance(),pe=(0,m.default)(h).getInstance(),he=(0,d.default)(h).getInstance(),D(J={},T.HTTPRequest.MPD_TYPE,ie.DOWNLOAD_ERROR_ID_MANIFEST_CODE),D(J,T.HTTPRequest.XLINK_EXPANSION_TYPE,ie.DOWNLOAD_ERROR_ID_XLINK_CODE),D(J,T.HTTPRequest.INIT_SEGMENT_TYPE,ie.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),D(J,T.HTTPRequest.MEDIA_SEGMENT_TYPE,ie.DOWNLOAD_ERROR_ID_CONTENT_CODE),D(J,T.HTTPRequest.INDEX_SEGMENT_TYPE,ie.DOWNLOAD_ERROR_ID_CONTENT_CODE),D(J,T.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,ie.DOWNLOAD_ERROR_ID_CONTENT_CODE),D(J,T.HTTPRequest.OTHER_TYPE,ie.DOWNLOAD_ERROR_ID_CONTENT_CODE),se=J}(),Z}_.__dashjs_factory_name="HTTPLoader";const b=p.default.getClassFactory(_)},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function T(){var f;function w(){f={}}function x(){w()}return function y(){x()}(),{getLoader:function j(m){for(var d in f)if(f.hasOwnProperty(d)&&m.startsWith(d))return f[d];return C.default},registerLoader:function S(m,d){f[m]=d},unregisterLoader:function F(m){f[m]&&delete f[m]},unregisterAllLoader:w,reset:x}}T.__dashjs_factory_name="SchemeLoaderFactory";const A=V.default.getSingletonFactory(T)},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function T(M){M=M||{};var F,w,f=this.context;return F=(0,C.default)(f).getInstance(),{load:function j(y){if(!w){var m=F.getLoader(y&&y.request?y.request.url:null);w=m(f).create({errHandler:M.errHandler,mediaPlayerModel:M.mediaPlayerModel,requestModifier:M.requestModifier,dashMetrics:M.dashMetrics,boxParser:M.boxParser?M.boxParser:null,constants:M.constants?M.constants:null,dashConstants:M.dashConstants?M.dashConstants:null,urlUtils:M.urlUtils?M.urlUtils:null,requestTimeout:isNaN(M.requestTimeout)?0:M.requestTimeout,errors:M.errors})}w.load(y)},abort:function x(){w&&w.abort()}}}T.__dashjs_factory_name="URLLoader";const A=V.default.getClassFactory(T)},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function T(M){var f=(M=M||{}).requestModifier;function w(x){var y=new Date,m=x.request,d=new XMLHttpRequest;if(d.open(x.method,x.url,!0),m.responseType&&(d.responseType=m.responseType),m.range&&d.setRequestHeader("Range","bytes="+m.range),m.requestStartDate||(m.requestStartDate=y),f&&f.modifyRequestHeader&&(d=f.modifyRequestHeader(d,{url:x.url})),x.headers)for(var D in x.headers){var _=x.headers[D];_&&d.setRequestHeader(D,_)}d.withCredentials=x.withCredentials,d.onload=x.onload,d.onloadend=x.onend,d.onerror=x.onerror,d.onprogress=x.progress,d.onabort=x.onabort,d.ontimeout=x.ontimeout,d.timeout=x.timeout,d.send(),x.response=d}return{load:function F(x){f&&f.modifyRequest?(0,C.modifyRequest)(x,f).then(function(){return w(x)}):w(x)},abort:function j(x){var y=x.response;y.onloadend=y.onerror=y.onprogress=void 0,y.abort()}}}T.__dashjs_factory_name="XHRLoader";const A=V.default.getClassFactory(T)},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";function C(f,S){for(var F=0;F<S.length;F++){var w=S[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}u.r(K),u.d(K,{default:()=>M});var p={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};const M=function(){function f(){!function V(f,S){if(!(f instanceof S))throw new TypeError("Cannot call a class as a function")}(this,f)}return function T(f,S,F){S&&C(f.prototype,S),F&&C(f,F)}(f,null,[{key:"findCencContentProtection",value:function(F){for(var w=null,j=0;j<F.length;++j){var x=F[j];"urn:mpeg:dash:mp4protection:2011"===x.schemeIdUri.toLowerCase()&&("cenc"===x.value.toLowerCase()||"cbcs"===x.value.toLowerCase())&&(w=x)}return w}},{key:"getPSSHData",value:function(F){var w=8,j=new DataView(F),x=j.getUint8(w);return w+=20,x>0&&(w+=4+16*j.getUint32(w)),F.slice(w+=4)}},{key:"getPSSHForKeySystem",value:function(F,w){var j=f.parsePSSHList(w);return F&&j.hasOwnProperty(F.uuid.toLowerCase())?j[F.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(F,w){return"pssh"in F?(F.pssh.__text=F.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),w.decodeArray(F.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(F){if(null==F)return[];for(var w=new DataView(F.buffer||F),x={},y=0;;){var d,D,_=void 0,E=y;if(y>=w.buffer.byteLength)break;if(d=y+w.getUint32(y),1886614376===w.getUint32(y+=4))if(0===(D=w.getUint8(y+=4))||1===D){y++,y+=3,_="";var b=void 0,g=void 0;for(b=0;b<4;b++)_+=1===(g=w.getUint8(y+b).toString(16)).length?"0"+g:g;for(y+=4,_+="-",b=0;b<2;b++)_+=1===(g=w.getUint8(y+b).toString(16)).length?"0"+g:g;for(y+=2,_+="-",b=0;b<2;b++)_+=1===(g=w.getUint8(y+b).toString(16)).length?"0"+g:g;for(y+=2,_+="-",b=0;b<2;b++)_+=1===(g=w.getUint8(y+b).toString(16)).length?"0"+g:g;for(y+=2,_+="-",b=0;b<6;b++)_+=1===(g=w.getUint8(y+b).toString(16)).length?"0"+g:g;y+=6,y+=4,x[_=_.toLowerCase()]=w.buffer.slice(E,d),y=d}else y=d;else y=d}return x}},{key:"getLicenseServerUrlFromMediaInfo",value:function(F,w){try{if(!F||0===F.length)return null;for(var j=0,x=null;j<F.length&&!x;){var y=F[j];if(y&&y.contentProtection&&y.contentProtection.length>0){var m=y.contentProtection.filter(function(h){return h.schemeIdUri&&h.schemeIdUri===w});if(m&&m.length>0)for(var d=0;d<m.length&&!x;){for(var D=m[d],_=0;_<p.attributes.length&&!x;){for(var E=0,b=p.attributes[_];E<p.prefixes.length&&!x;)D[b]&&D[b].__prefix&&D[b].__prefix===p.prefixes[E]&&D[b].__text&&(x=D[b].__text),E+=1;_+=1}d+=1}}j+=1}return x}catch{return null}}}]),f}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>x});var V=u(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),C=u(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),T=u(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),p=u(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),A=u(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),M=u(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),f=u(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),S=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],F=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function w(){var y,m=this.context;function _(E,b){for(var g=0;g<b.length;g++){var h=b[g];if("function"==typeof E[h[Object.keys(h)[0]]])return h}return null}return y={createProtectionSystem:function d(E){var b=null,g=(0,C.default)(m).getInstance();g.setConfig({debug:E.debug,BASE64:E.BASE64,settings:E.settings}),g.initialize();var h=function D(E){var b=E.debug,g=b.getLogger(y),h=E.eventBus,R=E.errHandler,I=E.videoModel?E.videoModel.getElement():null;return I&&void 0===I.onencrypted||I&&void 0===I.mediaKeys?_(I,F)?(g.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,M.default)(m).create({debug:b,eventBus:h,events:E.events,api:_(I,F)})):_(I,S)?(g.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,f.default)(m).create({debug:b,eventBus:h,errHandler:R,events:E.events,api:_(I,S)})):(g.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(g.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,A.default)(m).create({debug:b,eventBus:h,events:E.events}))}(E);return!b&&h&&(b=(0,V.default)(m).create({protectionModel:h,protectionKeyController:g,eventBus:E.eventBus,debug:E.debug,events:E.events,BASE64:E.BASE64,constants:E.constants,cmcdModel:E.cmcdModel,customParametersModel:E.customParametersModel,settings:E.settings}),E.capabilities.setEncryptedMediaSupported(!0)),b}}}w.__dashjs_factory_name="Protection";var j=dashjs.FactoryMaker.getClassFactory(w);j.events=T.default,j.errors=p.default,dashjs.FactoryMaker.updateClassFactory(w.__dashjs_factory_name,j);const x=j},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";function C(m){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function A(m,d){return(A=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}u.r(K),u.d(K,{default:()=>y});const y=new(function(m){!function p(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&A(m,d)}(D,m);var d=function M(m){var d=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=w(m);if(d){var b=w(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function f(m,d){return!d||"object"!==C(d)&&"function"!=typeof d?function S(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(){var _;return function T(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D),(_=d.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",_.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",_.KEY_ADDED="public_keyAdded",_.KEY_ERROR="public_keyError",_.KEY_MESSAGE="public_keyMessage",_.KEY_SESSION_CLOSED="public_keySessionClosed",_.KEY_SESSION_CREATED="public_keySessionCreated",_.KEY_SESSION_REMOVED="public_keySessionRemoved",_.KEY_STATUSES_CHANGED="public_keyStatusesChanged",_.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",_.KEY_SYSTEM_SELECTED="public_keySystemSelected",_.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",_.LICENSE_REQUEST_SENDING="public_licenseRequestSending",_.NEED_KEY="needkey",_.PROTECTION_CREATED="public_protectioncreated",_.PROTECTION_DESTROYED="public_protectiondestroyed",_.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",_.TEARDOWN_COMPLETE="protectionTeardownComplete",_.VIDEO_ELEMENT_SELECTED="videoElementSelected",_.KEY_SESSION_UPDATED="public_keySessionUpdated",_}return D}(u(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default))},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>b});var V=u(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),C=u(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),T=u(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),p=u(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),A=u(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),M=u(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),f=u(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),S=u(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=u(
/*! ../../../core/Utils */
"./src/core/Utils.js"),w=u(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),j=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function x(g){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(g)}var y=5,m=500,d=3,D=1e3,_=8e3;function E(g){var ae,ne,le,se,ge,$,he,pe,De,Ee,me,h=(g=g||{}).protectionKeyController,R=g.protectionModel,I=g.eventBus,W=g.events,z=g.debug,re=g.BASE64,ie=g.constants,ue=[],Y=g.cmcdModel,te=g.settings,Z=g.customParametersModel;function ee(){if(!(I&&I.hasOwnProperty("on")&&h&&h.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function P(ye,Oe){pe||De?pe&&N():function L(ye,Oe){if(!De){De=!0;var Et,We=[];ye=ye.sort(function(gt,St){return(ge&&ge[gt.ks.systemString]&&ge[gt.ks.systemString].priority>=0?ge[gt.ks.systemString].priority:ye.length)-(ge&&ge[St.ks.systemString]&&ge[St.ks.systemString].priority>=0?ge[St.ks.systemString].priority:ye.length)});for(var Ke=0;Ke<ye.length;Ke++){var ut=Be(ye[Ke]);We.push({ks:ye[Ke].ks,configs:[ut],protData:ye[Ke].protData})}R.requestKeySystemAccess(We).then(function(gt){return ne.info("DRM: KeySystem Access Granted for system string ("+((Et=gt.data).mksa&&Et.mksa.selectedSystemString?Et.mksa.selectedSystemString:Et.keySystem.systemString)+")!  Selecting key system..."),R.selectKeySystem(Et)}).then(function(gt){if(pe=gt,De=!1,R){I.trigger(W.KEY_SYSTEM_SELECTED,{data:Et});var St=k(pe);St&&St.serverCertificate&&St.serverCertificate.length>0&&R.setServerCertificate(re.decodeArray(St.serverCertificate).buffer),N()}}).catch(function(gt){pe=null,De=!1,Oe||I.trigger(W.KEY_SYSTEM_SELECTED,{data:null,error:new A.default(p.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,p.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+gt.error)})})}}(ye,Oe)}function N(){for(var ye,Oe=0;Oe<le.length;Oe++)for(ye=0;ye<le[Oe].length;ye++)if(pe===le[Oe][ye].ks){Q(le[Oe][ye]);break}le=[]}function Q(ye){if(h.isClearKey(pe)&&ye.protData&&ye.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(ye.protData.clearkeys).length){var Oe={kids:Object.keys(ye.protData.clearkeys)};ye.initData=(new TextEncoder).encode(JSON.stringify(Oe))}ye.sessionId?O(ye):null!==ye.initData&&U(ye)}function O(ye){ee(),R.loadKeySession(ye)}function U(ye){var Oe=V.default.getPSSHForKeySystem(pe,ye?ye.initData:null);if(Oe){if(function de(ye){if(!ye)return!1;try{for(var Oe=R.getSessions(),We=0;We<Oe.length;We++)if(Oe[We].getKeyId()===ye)return!0;return!1}catch{return!1}}(ye.keyId)||q(Oe))return;try{ye.initData=Oe,R.createKeySession(ye)}catch(We){I.trigger(W.KEY_SESSION_CREATED,{data:null,error:new A.default(p.default.KEY_SESSION_CREATED_ERROR_CODE,p.default.KEY_SESSION_CREATED_ERROR_MESSAGE+We.message)})}}else ye&&ye.initData?R.createKeySession(ye):I.trigger(W.KEY_SESSION_CREATED,{data:null,error:new A.default(p.default.KEY_SESSION_CREATED_ERROR_CODE,p.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(pe?pe.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function k(ye){if(ye){var Oe=ye.systemString;if(ge)return Oe in ge?ge[Oe]:null}return null}function q(ye){if(!ye)return!1;try{for(var Oe=R.getAllInitData(),We=0;We<Oe.length;We++)if(h.initDataEquals(ye,Oe[We]))return ne.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function xe(ye){ee(),ye?(R.setMediaElement(ye),I.on(W.NEED_KEY,rn,ae)):null===ye&&(R.setMediaElement(ye),I.off(W.NEED_KEY,rn,ae))}function Be(ye){var Oe=ye.protData,We=[],Ke=[],ut=Oe&&Oe.audioRobustness&&Oe.audioRobustness.length>0?Oe.audioRobustness:he,Et=Oe&&Oe.videoRobustness&&Oe.videoRobustness.length>0?Oe.videoRobustness:he,gt=ye.sessionType,St=Oe&&Oe.distinctiveIdentifier?Oe.distinctiveIdentifier:"optional",Wt=Oe&&Oe.persistentState?Oe.persistentState:"temporary"===gt?"optional":"required";return se.forEach(function(Kt){Kt.type===ie.AUDIO?We.push(new C.default(Kt.codec,ut)):Kt.type===ie.VIDEO&&Ke.push(new C.default(Kt.codec,Et))}),new T.default(We,Ke,St,Wt,[gt])}function ct(ye){ye.error?I.trigger(W.KEY_STATUSES_CHANGED,{data:null,error:ye.error}):ne.debug("DRM: key status = "+ye.status)}function yt(ye){ne.debug("DRM: onKeyMessage");var Oe=ye.data;I.trigger(W.KEY_MESSAGE,{data:Oe});var We=Oe.messageType?Oe.messageType:"license-request",Ke=Oe.message,ut=Oe.sessionToken,Et=k(pe),gt=h.getLicenseServerModelInstance(pe,Et,We),St={sessionToken:ut,messageType:We};if(Ke&&0!==Ke.byteLength){if(!gt)return ne.debug("DRM: License server request not required for this message (type = "+ye.data.messageType+").  Session ID = "+ut.getSessionId()),void Dt(St);if(h.isClearKey(pe)){var Wt=h.processClearKeyLicenseRequest(pe,Et,Ke);if(Wt&&Wt.keyPairs&&Wt.keyPairs.length>0)return ne.debug("DRM: ClearKey license request handled by application!"),Dt(St),void R.updateKeySession(ut,Wt)}!function Fe(ye,Oe,We){var Ke=ye.sessionToken,ut=ye.messageType?ye.messageType:"license-request",Et={sessionToken:Ke,messageType:ut},gt=pe?pe.systemString:null,St=function pt(ye,Oe,We,Ke,ut){var Et=null,gt=Ke.message;if(ye&&ye.serverURL){var St=ye.serverURL;"string"==typeof St&&""!==St?Et=St:"object"===x(St)&&St.hasOwnProperty(Oe)&&(Et=St[Oe])}else if(ye&&ye.laURL&&""!==ye.laURL)Et=ye.laURL;else if(!(Et=V.default.getLicenseServerUrlFromMediaInfo(se,pe.schemeIdURI))&&!h.isClearKey(pe)){var Wt=V.default.getPSSHData(We.initData);(Et=pe.getLicenseServerURLFromInitData(Wt))||(Et=Ke.laURL)}return ut.getServerURLFromMessage(Et,gt,Oe)}(We,ut,Ke,ye,Oe);if(St){var Wt={},Kt=!1;We&&Tt(Wt,We.httpRequestHeaders);var Pe=ye.message;Tt(Wt,pe.getRequestHeadersFromMessage(Pe)),Object.keys(Wt).forEach(function($e){"authorization"===$e.toLowerCase()&&(Kt=!0)}),We&&"boolean"==typeof We.withCredentials&&(Kt=We.withCredentials);var mt=function(st){if(R)if(st.status>=200&&st.status<=299){var xt=F.default.parseHttpHeaders(st.getAllResponseHeaders?st.getAllResponseHeaders():null),dn=new f.default(st.responseURL,xt,st.response);wt(Z.getLicenseResponseFilters(),dn).then(function(){var kt=Oe.getLicenseMessage(dn.data,gt,ut);null!==kt?(Dt(Et),R.updateKeySession(Ke,kt)):It(st,Et,gt,ut,Oe)})}else It(st,Et,gt,ut,Oe)},Lt=function(st){Dt(Et,new A.default(p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+gt+' update, XHR aborted. status is "'+st.statusText+'" ('+st.status+"), readyState is "+st.readyState))},At=function(st){Dt(Et,new A.default(p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+gt+' update, XHR error. status is "'+st.statusText+'" ('+st.status+"), readyState is "+st.readyState))},Bt=pe.getLicenseRequestFromMessage(Pe),on=Oe.getHTTPMethod(ut),vn=Oe.getResponseType(gt,ut),Nn=We&&!isNaN(We.httpTimeout)?We.httpTimeout:_,Se=Ke.getSessionId()||null,tt=new M.default(St,on,vn,Wt,Kt,ut,Se,Bt),Mt=isNaN(te.get().streaming.retryAttempts[S.HTTPRequest.LICENSE])?d:te.get().streaming.retryAttempts[S.HTTPRequest.LICENSE];wt(Z.getLicenseRequestFilters(),tt).then(function(){Ze(tt,Mt,Nn,mt,Lt,At)})}else Dt(Et,new A.default(p.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(Oe,gt,Et)}else Dt(St,new A.default(p.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Dt(ye,Oe){I.trigger(W.LICENSE_REQUEST_COMPLETE,{data:ye,error:Oe})}function Ze(ye,Oe,We,Ke,ut,Et){var gt=new XMLHttpRequest;if(te.get().streaming.cmcd&&te.get().streaming.cmcd.enabled&&te.get().streaming.cmcd.mode===w.default.CMCD_MODE_QUERY){var Wt=Y.getQueryParameter({url:ye.url,type:S.HTTPRequest.LICENSE});Wt&&(ye.url=F.default.addAditionalQueryParameterToUrl(ye.url,[Wt]))}for(var Kt in gt.open(ye.method,ye.url,!0),gt.responseType=ye.responseType,gt.withCredentials=ye.withCredentials,We>0&&(gt.timeout=We),ye.headers)gt.setRequestHeader(Kt,ye.headers[Kt]);if(te.get().streaming.cmcd&&te.get().streaming.cmcd.enabled&&te.get().streaming.cmcd.mode===w.default.CMCD_MODE_HEADER){var ze=Y.getHeaderParameters({url:ye.url,type:S.HTTPRequest.LICENSE});if(ze)for(var mt in ze){var Lt=ze[mt];Lt&&gt.setRequestHeader(mt,Lt)}}var At=function(){Oe--;var on=isNaN(te.get().streaming.retryIntervals[S.HTTPRequest.LICENSE])?D:te.get().streaming.retryIntervals[S.HTTPRequest.LICENSE];me=setTimeout(function(){Ze(ye,Oe,We,Ke,ut,Et)},on)};gt.onload=function(){Ee=null,this.status>=200&&this.status<=299||Oe<=0?Ke(this):(ne.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Oe),At())},gt.ontimeout=gt.onerror=function(){Ee=null,Oe<=0?Et(this):(ne.warn("License request network request failed . Retrying it... Pending retries: "+Oe),At())},gt.onabort=function(){ut(this)},I.trigger(W.LICENSE_REQUEST_SENDING,{url:ye.url,headers:ye.headers,payload:ye.data,sessionId:ye.sessionId}),Ee=gt,gt.send(ye.data)}function qe(){Ee&&(Ee.onloadend=Ee.onerror=Ee.onprogress=void 0,Ee.abort(),Ee=null),me&&(clearTimeout(me),me=null)}function Tt(ye,Oe){if(Oe)for(var We in Oe)ye[We]=Oe[We]}function It(ye,Oe,We,Ke,ut){var Et="NONE",gt=null;ye.response&&(Et=ut.getErrorResponse(ye.response,We,Ke),gt={serverResponse:ye.response||null,responseCode:ye.status||null,responseText:ye.statusText||null}),Dt(Oe,new A.default(p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,p.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+We+' update, XHR complete. status is "'+ye.statusText+'" ('+ye.status+"), readyState is "+ye.readyState+".  Response is "+Et,gt))}function wt(ye,Oe){return ye?ye.reduce(function(We,Ke){return We.then(function(){return Ke(Oe)})},Promise.resolve()):Promise.resolve()}function rn(ye,Oe){if(!te.get().streaming.protection.ignoreEmeEncryptedEvent){if(ne.debug("DRM: onNeedKey"),"cenc"!==ye.key.initDataType)return void ne.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+ye.key.initDataType);if(0===se.length&&(ne.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Oe=typeof Oe>"u"?1:Oe+1)<y))return void ue.push(setTimeout(function(){rn(ye,Oe)},m));var We=ye.key.initData;if(ArrayBuffer.isView(We)&&(We=We.buffer),pe){var Ke=V.default.getPSSHForKeySystem(pe,We);if(Ke&&q(Ke))return}ne.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(We)));var ut=h.getSupportedKeySystemsFromSegmentPssh(We,ge,$);if(0===ut.length)return void ne.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function H(ye){le.push(ye),P(ye,!1)}(ut)}}return ae={initializeForMedia:function ce(ye){if(!ye)throw new Error("mediaInfo can not be null or undefined");ee(),se.push(ye)},clearMediaInfoArray:function G(){se=[]},handleKeySystemFromManifest:function J(){if(se&&0!==se.length){var ye=[];se.forEach(function(Oe){var We=h.getSupportedKeySystemsFromContentProtection(Oe.contentProtection,ge,$);We.length>0&&(0===ye.length&&(ye=We),le.push(We))}),ye&&ye.length>0&&P(ye,!0)}},createKeySession:U,loadKeySession:O,removeKeySession:function be(ye){ee(),R.removeKeySession(ye)},closeKeySession:function ve(ye){ee(),R.closeKeySession(ye)},setServerCertificate:function Ce(ye){ee(),R.setServerCertificate(ye)},setMediaElement:xe,setSessionType:function He(ye){$=ye},setRobustnessLevel:function je(ye){he=ye},setProtectionData:function rt(ye){ge=ye,h.setProtectionData(ye)},getSupportedKeySystemsFromContentProtection:function oe(ye){return ee(),h.getSupportedKeySystemsFromContentProtection(ye,ge,$)},getKeySystems:function at(){return h?h.getKeySystems():[]},setKeySystems:function Ae(ye){h&&h.setKeySystems(ye)},stop:function it(){qe(),R&&R.stop()},reset:function Re(){I.off(W.INTERNAL_KEY_MESSAGE,yt,ae),I.off(W.INTERNAL_KEY_STATUS_CHANGED,ct,ae),ee(),qe(),xe(null),pe=null,De=!1,R&&(R.reset(),R=null),ue.forEach(function(ye){return clearTimeout(ye)}),ue=[],se=[],le=[]}},function _e(){ne=z.getLogger(ae),le=[],se=[],$="temporary",he="",Ee=null,me=null,I.on(W.INTERNAL_KEY_MESSAGE,yt,ae),I.on(W.INTERNAL_KEY_STATUS_CHANGED,ct,ae)}(),ae}E.__dashjs_factory_name="ProtectionController";const b=j.default.getClassFactory(E)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>x});var V=u(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),C=u(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),T=u(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),p=u(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),A=u(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),M=u(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),f=u(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),S=u(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),F=u(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),w=u(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function j(){var m,d,D,_,E,b,g,h,y=this.context;function le($,he){return he&&$ in he?he[$]:null}function se($,he){return $&&$.sessionId?$.sessionId:he&&he.sessionId?he.sessionId:null}function ge($,he){return $&&$.sessionType?$.sessionType:he}return m={initialize:function I(){var $;_=[],$=(0,A.default)(y).getInstance({BASE64:E,settings:b}),_.push($),$=(0,p.default)(y).getInstance({BASE64:E}),_.push($),$=(0,C.default)(y).getInstance({BASE64:E}),_.push($),g=$,$=(0,T.default)(y).getInstance({BASE64:E,debug:d}),_.push($),h=$},setProtectionData:function ne($){for(var pe=0;pe<_.length;pe++){var De=_[pe];De.hasOwnProperty("init")&&De.init((me=De.systemString,_e=void 0,_e=null,$&&(_e=me in $?$[me]:null),_e))}var me,_e},isClearKey:function ie($){return $===g||$===h},initDataEquals:function ue($,he){if($.byteLength===he.byteLength){for(var pe=new Uint8Array($),De=new Uint8Array(he),Ee=0;Ee<pe.length;Ee++)if(pe[Ee]!==De[Ee])return!1;return!0}return!1},getKeySystems:function W(){return _},setKeySystems:function z($){_=$},getKeySystemBySystemString:function re($){for(var he=0;he<_.length;he++)if(_[he].systemString===$)return _[he];return null},getSupportedKeySystemsFromContentProtection:function Y($,he,pe){var De,Ee,me,_e,ee=[];if($){var ce=V.default.findCencContentProtection($);for(me=0;me<_.length;++me){var J=le((Ee=_[me]).systemString,he);for(_e=0;_e<$.length;++_e)if((De=$[_e]).schemeIdUri.toLowerCase()===Ee.schemeIdURI){var H=Ee.getInitData(De,ce);ee.push({ks:_[me],keyId:De.keyId,initData:H,protData:J,cdmData:Ee.getCDMData(J?J.cdmData:null),sessionId:se(J,De),sessionType:ge(J,pe)})}}}return ee},getSupportedKeySystemsFromSegmentPssh:function te($,he,pe){for(var me,De=[],Ee=V.default.parsePSSHList($),ee=0;ee<_.length;++ee){var ce=le((me=_[ee]).systemString,he);me.uuid in Ee&&De.push({ks:me,initData:Ee[me.uuid],protData:ce,cdmData:me.getCDMData(ce?ce.cdmData:null),sessionId:se(ce),sessionType:ge(ce,pe)})}return De},getLicenseServerModelInstance:function Z($,he,pe){if("license-release"===pe||"individualization-request"===pe)return null;var De=null;return he&&he.hasOwnProperty("drmtoday")?De=(0,M.default)(y).getInstance({BASE64:E}):$.systemString===w.default.WIDEVINE_KEYSTEM_STRING?De=(0,S.default)(y).getInstance():$.systemString===w.default.PLAYREADY_KEYSTEM_STRING?De=(0,f.default)(y).getInstance():$.systemString===w.default.CLEARKEY_KEYSTEM_STRING&&(De=(0,F.default)(y).getInstance()),De},processClearKeyLicenseRequest:function ae($,he,pe){try{return $.getClearKeysFromProtectionData(he,pe)}catch{return D.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function R($){$&&($.debug&&(D=(d=$.debug).getLogger(m)),$.BASE64&&(E=$.BASE64),$.settings&&(b=$.settings))}}}j.__dashjs_factory_name="ProtectionKeyController";const x=dashjs.FactoryMaker.getSingletonFactory(j)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>F});var V=u(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),C=u(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),T=u(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),p=u(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),A="e2719d58-a985-b3c9-781a-b030af78d30e",M=p.default.CLEARKEY_KEYSTEM_STRING,f="urn:uuid:"+A;function S(w){var x=(w=w||{}).BASE64;return{uuid:A,schemeIdURI:f,systemString:M,getInitData:function m(g,h){try{var R=T.default.parseInitDataFromContentProtection(g,x);if(!R&&h){var I=function d(g){try{var h=g.replace(/-/g,"");return h=btoa(h.match(/\w{2}/g).map(function(R){return String.fromCharCode(parseInt(R,16))}).join("")),h.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(h["cenc:default_KID"]),W={kids:[I]};R=(new TextEncoder).encode(JSON.stringify(W))}return R}catch{return null}},getRequestHeadersFromMessage:function D(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function _(g){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(g))))},getLicenseServerURLFromInitData:function E(){return null},getCDMData:function b(){return null},getClearKeysFromProtectionData:function y(g,h){var R=null;if(g){for(var I=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(h))),W=[],z=0;z<I.kids.length;z++){var re=I.kids[z],ie=g.clearkeys&&g.clearkeys.hasOwnProperty(re)?g.clearkeys[re]:null;if(!ie)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");W.push(new V.default(re,ie))}R=new C.default(W)}return R}}}S.__dashjs_factory_name="KeySystemClearKey";const F=dashjs.FactoryMaker.getSingletonFactory(S)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>S});var V=u(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),C=u(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),T="9a04f079-9840-4286-ab92-e65be0885f95",p=C.default.PLAYREADY_KEYSTEM_STRING,A="urn:uuid:"+T,M='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>';function f(F){var j="utf-16",x=(F=F||{}).BASE64,y=F.settings;function m(){if(!x||!x.hasOwnProperty("decodeArray")||!x.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:T,schemeIdURI:A,systemString:p,getInitData:function E(h){var re,ie,ue,Y,te,R=new Uint8Array([112,115,115,104,0,0,0,0]),I=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),W=0,z=null;if(m(),!h)return null;if("pssh"in h)return V.default.parseInitDataFromContentProtection(h,x);if("pro"in h)z=x.decodeArray(h.pro.__text);else{if(!("prheader"in h))return null;z=x.decodeArray(h.prheader.__text)}return ie=4+R.length+I.length+4+(re=z.length),ue=new ArrayBuffer(ie),Y=new Uint8Array(ue),(te=new DataView(ue)).setUint32(W,ie),Y.set(R,W+=4),Y.set(I,W+=R.length),te.setUint32(W+=I.length,re),Y.set(z,W+=4),W+=re,Y.buffer},getRequestHeadersFromMessage:function d(h){var R,I,W={},z=new DOMParser;if(y&&y.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===j&&h&&h.byteLength%2==1)return W["Content-Type"]="text/xml; charset=utf-8",W;var re="utf-16"===j?new Uint16Array(h):new Uint8Array(h);R=String.fromCharCode.apply(null,re);for(var ie=(I=z.parseFromString(R,"application/xml")).getElementsByTagName("name"),ue=I.getElementsByTagName("value"),Y=0;Y<ie.length;Y++)W[ie[Y].childNodes[0].nodeValue]=ue[Y].childNodes[0].nodeValue;return W.hasOwnProperty("Content")&&(W["Content-Type"]=W.Content,delete W.Content),W.hasOwnProperty("Content-Type")||(W["Content-Type"]="text/xml; charset=utf-8"),W},getLicenseRequestFromMessage:function D(h){var R=null,I=new DOMParser;if(y&&y.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===j&&h&&h.byteLength%2==1)return h;var W="utf-16"===j?new Uint16Array(h):new Uint8Array(h);m();var z=String.fromCharCode.apply(null,W),re=I.parseFromString(z,"application/xml");if(!re.getElementsByTagName("PlayReadyKeyMessage")[0])return h;var ie=re.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return ie&&(R=x.decode(ie)),R},getLicenseServerURLFromInitData:function _(h){if(h)for(var R=new DataView(h),I=R.getUint16(4,!0),W=6,z=new DOMParser,re=0;re<I;re++){var ie=R.getUint16(W,!0),ue=R.getUint16(W+=2,!0);if(W+=2,1===ie){var Y=h.slice(W,W+ue),te=String.fromCharCode.apply(null,new Uint16Array(Y)),Z=z.parseFromString(te,"application/xml");if(Z.getElementsByTagName("LA_URL")[0]){var ae=Z.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(ae)return ae}if(Z.getElementsByTagName("LUI_URL")[0]){var ne=Z.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(ne)return ne}}else W+=ue}return null},getCDMData:function g(h){var R,I,W,z;if(m(),!h)return null;for(R=[],z=0;z<h.length;++z)R.push(h.charCodeAt(z)),R.push(0);for(R=String.fromCharCode.apply(null,R),R=x.encode(R),I=M.replace("%CUSTOMDATA%",R),W=[],z=0;z<I.length;++z)W.push(I.charCodeAt(z)),W.push(0);return new Uint8Array(W).buffer},setPlayReadyMessageFormat:function b(h){if("utf-8"!==h&&"utf-16"!==h)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');j=h}}}f.__dashjs_factory_name="KeySystemPlayReady";const S=dashjs.FactoryMaker.getSingletonFactory(f)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>F});var V=u(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),C=u(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),T=u(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),p=u(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),A="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",M=p.default.CLEARKEY_KEYSTEM_STRING,f="urn:uuid:"+A;function S(w){var j,x=w.BASE64,y=w.debug.getLogger(j);return{uuid:A,schemeIdURI:f,systemString:M,getInitData:function d(g){return T.default.parseInitDataFromContentProtection(g,x)},getRequestHeadersFromMessage:function D(){return null},getLicenseRequestFromMessage:function _(g){return new Uint8Array(g)},getLicenseServerURLFromInitData:function E(){return null},getCDMData:function b(){return null},getClearKeysFromProtectionData:function m(g,h){var R=null;if(g){for(var I=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(h))),W=[],z=0;z<I.kids.length;z++){var re=I.kids[z],ie=g.clearkeys&&g.clearkeys.hasOwnProperty(re)?g.clearkeys[re]:null;if(!ie)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");W.push(new V.default(re,ie))}R=new C.default(W),y.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return R}}}S.__dashjs_factory_name="KeySystemW3CClearKey";const F=dashjs.FactoryMaker.getSingletonFactory(S)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f});var V=u(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),C=u(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),T="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",p=C.default.WIDEVINE_KEYSTEM_STRING,A="urn:uuid:"+T;function M(S){var w=(S=S||{}).BASE64;return{uuid:T,schemeIdURI:A,systemString:p,getInitData:function j(D){return V.default.parseInitDataFromContentProtection(D,w)},getRequestHeadersFromMessage:function x(){return null},getLicenseRequestFromMessage:function y(D){return new Uint8Array(D)},getLicenseServerURLFromInitData:function m(){return null},getCDMData:function d(){return null}}}M.__dashjs_factory_name="KeySystemWidevine";const f=dashjs.FactoryMaker.getSingletonFactory(M)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/(Me,K,u)=>{"use strict";function C(m){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function A(m,d){return(A=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}u.r(K),u.d(K,{default:()=>y});const y=new(function(m){!function p(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&A(m,d)}(D,m);var d=function M(m){var d=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=w(m);if(d){var b=w(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function f(m,d){return!d||"object"!==C(d)&&"function"!=typeof d?function S(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(){var _;return function T(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D),(_=d.call(this)).MEDIA_KEYERR_CODE=100,_.MEDIA_KEYERR_UNKNOWN_CODE=101,_.MEDIA_KEYERR_CLIENT_CODE=102,_.MEDIA_KEYERR_SERVICE_CODE=103,_.MEDIA_KEYERR_OUTPUT_CODE=104,_.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,_.MEDIA_KEYERR_DOMAIN_CODE=106,_.MEDIA_KEY_MESSAGE_ERROR_CODE=107,_.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,_.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,_.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,_.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,_.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,_.KEY_SESSION_CREATED_ERROR_CODE=113,_.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,_.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",_.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",_.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",_.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",_.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",_.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",_.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",_.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",_.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",_.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",_.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",_.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",_.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",_.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",_}return D}(u(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default))},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>F});var V=u(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),C=u(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),T=u(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),p=u(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),A=u(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),M=u(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),f=u(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function S(w){var _,E,b,g,h,R,I,W,z,j=this.context,x=(w=w||{}).eventBus,y=w.events,m=w.debug,d=w.api,D=w.errHandler;function ie(){b&&Ee();for(var me=0;me<I.length;me++)se(I[me]);x.trigger(y.TEARDOWN_COMPLETE)}function se(me){try{b[d.cancelKeyRequest](g.systemString,me.sessionId)}catch(_e){x.trigger(y.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+me.sessionId+") "+_e.message})}}function De(me,_e){if(!_e||!me)return null;for(var ee=me.length,ce=0;ce<ee;ce++)if(me[ce].sessionId==_e)return me[ce];return null}function Ee(){b.removeEventListener(d.keyerror,z),b.removeEventListener(d.needkey,z),b.removeEventListener(d.keymessage,z),b.removeEventListener(d.keyadded,z)}return _={getAllInitData:function ue(){for(var me=[],_e=0;_e<R.length;_e++)me.push(R[_e].initData);for(var ee=0;ee<I.length;ee++)me.push(I[ee].initData);return me},getSessions:function Y(){return I.concat(R)},requestKeySystemAccess:function te(me){return new Promise(function(_e,ee){var ce=b;ce||(ce=document.createElement("video"));for(var J=!1,H=0;H<me.length;H++)for(var P=me[H].ks.systemString,L=me[H].configs,Q=null,O=0;O<L.length;O++){var U=L[O].videoCapabilities;if(U&&0!==U.length){Q=[];for(var k=0;k<U.length;k++)""!==ce.canPlayType(U[k].contentType,P)&&Q.push(U[k])}if(Q&&(!Q||0!==Q.length)){J=!0;var G=new A.default(null,Q),oe=h.getKeySystemBySystemString(P),de=new M.default(oe,G);x.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{data:de}),_e({data:de});break}}if(!J){var q="Key system access denied! -- No valid audio/video content configurations detected!";x.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{error:q}),ee({error:q})}})},selectKeySystem:function Z(me){return g=me.keySystem,Promise.resolve(g)},setMediaElement:function ae(me){if(b!==me){if(b){Ee();for(var _e=0;_e<I.length;_e++)se(I[_e]);I=[]}(b=me)&&(b.addEventListener(d.keyerror,z),b.addEventListener(d.needkey,z),b.addEventListener(d.keymessage,z),b.addEventListener(d.keyadded,z),x.trigger(y.VIDEO_ELEMENT_SELECTED))}},createKeySession:function ne(me){if(!g)throw new Error("Can not create sessions until you have selected a key system");if(W||0===I.length){var _e={sessionId:null,keyId:me.keyId,initData:me.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return R.push(_e),b[d.generateKeyRequest](g.systemString,new Uint8Array(me.initData)),_e}throw new Error("Multiple sessions not allowed!")},updateKeySession:function le(me,_e){var ee=me.sessionId;if(h.isClearKey(g))for(var ce=0;ce<_e.keyPairs.length;ce++)b[d.addKey](g.systemString,_e.keyPairs[ce].key,_e.keyPairs[ce].keyID,ee);else b[d.addKey](g.systemString,new Uint8Array(_e),new Uint8Array(me.initData),ee);x.trigger(y.KEY_SESSION_UPDATED)},closeKeySession:se,setServerCertificate:function ge(){},loadKeySession:function $(){},removeKeySession:function he(){},stop:ie,reset:ie},function re(){E=m.getLogger(_),b=null,g=null,R=[],I=[],h=(0,V.default)(j).getInstance(),z=function pe(){return{handleEvent:function(_e){var ee=null;switch(_e.type){case d.needkey:var ce=ArrayBuffer.isView(_e.initData)?_e.initData.buffer:_e.initData;x.trigger(y.NEED_KEY,{key:new C.default(ce,"cenc")});break;case d.keyerror:if((ee=De(I,_e.sessionId))||(ee=De(R,_e.sessionId)),ee){var J=f.default.MEDIA_KEYERR_CODE,H="";switch(_e.errorCode.code){case 1:J=f.default.MEDIA_KEYERR_UNKNOWN_CODE,H+="MEDIA_KEYERR_UNKNOWN - "+f.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:J=f.default.MEDIA_KEYERR_CLIENT_CODE,H+="MEDIA_KEYERR_CLIENT - "+f.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:J=f.default.MEDIA_KEYERR_SERVICE_CODE,H+="MEDIA_KEYERR_SERVICE - "+f.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:J=f.default.MEDIA_KEYERR_OUTPUT_CODE,H+="MEDIA_KEYERR_OUTPUT - "+f.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:J=f.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,H+="MEDIA_KEYERR_HARDWARECHANGE - "+f.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:J=f.default.MEDIA_KEYERR_DOMAIN_CODE,H+="MEDIA_KEYERR_DOMAIN - "+f.default.MEDIA_KEYERR_DOMAIN_MESSAGE}x.trigger(y.KEY_ERROR,{error:new T.default(J,H+="  System Code = "+_e.systemCode,ee)})}else E.error("No session token found for key error");break;case d.keyadded:(ee=De(I,_e.sessionId))||(ee=De(R,_e.sessionId)),ee?(E.debug("DRM: Key added."),x.trigger(y.KEY_ADDED,{data:ee})):E.debug("No session token found for key added");break;case d.keymessage:if((W=null!=_e.sessionId)?!(ee=De(I,_e.sessionId))&&R.length>0&&(ee=R.shift(),I.push(ee),ee.sessionId=_e.sessionId,x.trigger(y.KEY_SESSION_CREATED,{data:ee})):R.length>0&&(ee=R.shift(),I.push(ee),0!==R.length&&D.error(new T.default(f.default.MEDIA_KEY_MESSAGE_ERROR_CODE,f.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),ee){var P=ArrayBuffer.isView(_e.message)?_e.message.buffer:_e.message;ee.keyMessage=P,x.trigger(y.INTERNAL_KEY_MESSAGE,{data:new p.default(ee,P,_e.defaultURL)})}else E.warn("No session token found for key message")}}}}()}(),_}S.__dashjs_factory_name="ProtectionModel_01b";const F=dashjs.FactoryMaker.getClassFactory(S)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),C=u(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),T=u(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),p=u(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=u(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),M=u(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),f=u(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),S={};function F(j){var D,_,E,b,g,h,R,I,x=this.context,y=(j=j||{}).eventBus,m=j.events,d=j.debug;function te(J,H,P,L){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var N="Insecure origins are not allowed";return y.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{error:N}),void L({error:N})}var U=J[H].ks,k=U.systemString;(function Z(J,H){return new Promise(function(P,L){ae(J,H,0,P,L)})})((J[H].protData&&J[H].protData.systemStringPriority?J[H].protData.systemStringPriority:null)||(S[k]?S[k]:[k]),J[H].configs).then(function(oe){var de="function"==typeof oe.getConfiguration?oe.getConfiguration():null,q=new M.default(U,de);q.mksa=oe,y.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),P({data:q})}).catch(function(oe){if(H+1<J.length)te(J,H+1,P,L);else{var de="Key system access denied! ";y.trigger(m.KEY_SYSTEM_ACCESS_COMPLETE,{error:de+oe.message}),L({error:de+oe.message})}})}function ae(J,H,P,L,N){var Q=J[P];_.debug("Requesting key system access for system string ".concat(Q)),navigator.requestMediaKeySystemAccess(Q,H).then(function(O){O.selectedSystemString=Q,L(O)}).catch(function(O){P+1<J.length?ae(J,H,P+1,L,N):N(O)})}function Ee(J){var H=J.session;return H.removeEventListener("keystatuseschange",J),H.removeEventListener("message",J),H.close()}function _e(J){for(var H=0;H<h.length;H++)if(h[H]===J){h.splice(H,1);break}}function ee(J){var H,P;return J&&J.length>0&&(J[0]&&("string"==typeof J[0]?H=J[0]:P=J[0]),J[1]&&("string"==typeof J[1]?H=J[1]:P=J[1])),{status:H,keyId:P}}function ce(J,H){var P={session:J,keyId:H.keyId,initData:H.initData,sessionId:H.sessionId,sessionType:H.sessionType,handleEvent:function(N){switch(N.type){case"keystatuseschange":y.trigger(m.KEY_STATUSES_CHANGED,{data:this}),N.target.keyStatuses.forEach(function(){var O=ee(arguments);y.trigger(m.INTERNAL_KEY_STATUS_CHANGED,"expired"===O.status?{error:new p.default(T.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,T.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:O)});break;case"message":var Q=ArrayBuffer.isView(N.message)?N.message.buffer:N.message;y.trigger(m.INTERNAL_KEY_MESSAGE,{data:new A.default(this,Q,void 0,N.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return J.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return J.expiration},getKeyStatuses:function(){return J.keyStatuses},getUsable:function(){var N=!1;return J.keyStatuses.forEach(function(){"usable"===ee(arguments).status&&(N=!0)}),N}};return J.addEventListener("keystatuseschange",P),J.addEventListener("message",P),J.closed.then(function(){_e(P),_.debug("DRM: Session closed.  SessionID = "+P.getSessionId()),y.trigger(m.KEY_SESSION_CLOSED,{data:P.getSessionId()})}),h.push(P),P}return D={getAllInitData:function ie(){for(var J=[],H=0;H<h.length;H++)h[H].initData&&J.push(h[H].initData);return J},getSessions:function ue(){return h},requestKeySystemAccess:function Y(J){return new Promise(function(H,P){te(J,0,H,P)})},selectKeySystem:function ne(J){return new Promise(function(H,P){J.mksa.createMediaKeys().then(function(L){return E=J.keySystem,g=L,b?b.setMediaKeys(g):Promise.resolve()}).then(function(){H(E)}).catch(function(){P({error:"Error selecting keys system ("+J.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function le(J){b!==J&&(b&&(b.removeEventListener("encrypted",R),b.setMediaKeys&&b.setMediaKeys(null)),(b=J)&&(b.addEventListener("encrypted",R),b.setMediaKeys&&g&&b.setMediaKeys(g)))},setServerCertificate:function se(J){if(!E||!g)throw new Error("Can not set server certificate until you have selected a key system");g.setServerCertificate(J).then(function(){_.info("DRM: License server certificate successfully updated."),y.trigger(m.SERVER_CERTIFICATE_UPDATED)}).catch(function(H){y.trigger(m.SERVER_CERTIFICATE_UPDATED,{error:new p.default(T.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,T.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+H.name)})})},createKeySession:function ge(J){if(!E||!g)throw new Error("Can not create sessions until you have selected a key system");var H=g.createSession(J.sessionType),P=ce(H,J);H.generateRequest(E.systemString===f.default.CLEARKEY_KEYSTEM_STRING&&(J.initData||J.protData&&J.protData.clearkeys)?f.default.INITIALIZATION_DATA_TYPE_KEYIDS:f.default.INITIALIZATION_DATA_TYPE_CENC,J.initData).then(function(){_.debug("DRM: Session created.  SessionID = "+P.getSessionId()),y.trigger(m.KEY_SESSION_CREATED,{data:P})}).catch(function(N){_e(P),y.trigger(m.KEY_SESSION_CREATED,{data:null,error:new p.default(T.default.KEY_SESSION_CREATED_ERROR_CODE,T.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+N.name)})})},updateKeySession:function $(J,H){var P=J.session;I.isClearKey(E)&&(H=H.toJWK()),P.update(H).then(function(){y.trigger(m.KEY_SESSION_UPDATED)}).catch(function(L){y.trigger(m.KEY_ERROR,{error:new p.default(T.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+L.name,J)})})},loadKeySession:function he(J){if(!E||!g)throw new Error("Can not load sessions until you have selected a key system");for(var H=J.sessionId,P=0;P<h.length;P++)if(H===h[P].sessionId)return void _.warn("DRM: Ignoring session ID because we have already seen it!");var L=g.createSession(J.sessionType),N=ce(L,J);L.load(H).then(function(Q){Q?(_.debug("DRM: Session loaded.  SessionID = "+N.getSessionId()),y.trigger(m.KEY_SESSION_CREATED,{data:N})):(_e(N),y.trigger(m.KEY_SESSION_CREATED,{data:null,error:new p.default(T.default.KEY_SESSION_CREATED_ERROR_CODE,T.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+H+")")}))}).catch(function(Q){_e(N),y.trigger(m.KEY_SESSION_CREATED,{data:null,error:new p.default(T.default.KEY_SESSION_CREATED_ERROR_CODE,T.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+H+")! "+Q.name)})})},removeKeySession:function pe(J){J.session.remove().then(function(){_.debug("DRM: Session removed.  SessionID = "+J.getSessionId()),y.trigger(m.KEY_SESSION_REMOVED,{data:J.getSessionId()})},function(P){y.trigger(m.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+J.getSessionId()+"). "+P.name})})},closeKeySession:function De(J){Ee(J).catch(function(H){_e(J),y.trigger(m.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+J.getSessionId()+") "+H.name})})},stop:function re(){for(var J,H=0;H<h.length;H++)(J=h[H]).getUsable()||Ee(J).catch(function(){_e(J)})},reset:function z(){var H,J=h.length;0!==J?function(){for(var P=function(Q){_e(Q),0===h.length&&(b?(b.removeEventListener("encrypted",R),b.setMediaKeys(null).then(function(){y.trigger(m.TEARDOWN_COMPLETE)})):y.trigger(m.TEARDOWN_COMPLETE))},L=0;L<J;L++)!function(N){H.session.closed.then(function(){P(N)}),Ee(H).catch(function(){P(N)})}(H=h[L])}():y.trigger(m.TEARDOWN_COMPLETE)}},function W(){_=d.getLogger(D),E=null,b=null,g=null,h=[],I=(0,V.default)(x).getInstance(),R=function me(){return{handleEvent:function(H){if("encrypted"===H.type&&H.initData){var P=ArrayBuffer.isView(H.initData)?H.initData.buffer:H.initData;y.trigger(m.NEED_KEY,{key:new C.default(P,H.initDataType)})}}}}()}(),D}S[f.default.PLAYREADY_KEYSTEM_STRING]=[f.default.PLAYREADY_KEYSTEM_STRING,f.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],S[f.default.WIDEVINE_KEYSTEM_STRING]=[f.default.WIDEVINE_KEYSTEM_STRING],S[f.default.CLEARKEY_KEYSTEM_STRING]=[f.default.CLEARKEY_KEYSTEM_STRING],F.__dashjs_factory_name="ProtectionModel_21Jan2015";const w=dashjs.FactoryMaker.getClassFactory(F)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>F});var V=u(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),C=u(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),T=u(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),p=u(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),A=u(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),M=u(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),f=u(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function S(w){var D,_,E,b,g,h,R,I,W,j=this.context,x=(w=w||{}).eventBus,y=w.events,m=w.debug,d=w.api;function re(){try{for(var Ee=0;Ee<R.length;Ee++)le(R[Ee]);E&&E.removeEventListener(d.needkey,I),x.trigger(y.TEARDOWN_COMPLETE)}catch(me){x.trigger(y.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+me.message})}}function le(Ee){var me=Ee.session;me.removeEventListener(d.error,Ee),me.removeEventListener(d.message,Ee),me.removeEventListener(d.ready,Ee),me.removeEventListener(d.close,Ee);for(var _e=0;_e<R.length;_e++)if(R[_e]===Ee){R.splice(_e,1);break}me[d.release]()}function pe(){var Ee=null,me=function(){E.removeEventListener("loadedmetadata",Ee),E[d.setMediaKeys](g),x.trigger(y.VIDEO_ELEMENT_SELECTED)};E.readyState>=1?me():(Ee=me.bind(this),E.addEventListener("loadedmetadata",Ee))}return D={getAllInitData:function ie(){for(var Ee=[],me=0;me<R.length;me++)Ee.push(R[me].initData);return Ee},getSessions:function ue(){return R},requestKeySystemAccess:function Y(Ee){return new Promise(function(me,_e){for(var ee=!1,ce=0;ce<Ee.length;ce++)for(var J=Ee[ce].ks.systemString,H=Ee[ce].configs,P=null,L=null,N=0;N<H.length;N++){var Q=H[N].audioCapabilities,O=H[N].videoCapabilities;if(Q&&0!==Q.length){P=[];for(var U=0;U<Q.length;U++)window[d.MediaKeys].isTypeSupported(J,Q[U].contentType)&&P.push(Q[U])}if(O&&0!==O.length){L=[];for(var k=0;k<O.length;k++)window[d.MediaKeys].isTypeSupported(J,O[k].contentType)&&L.push(O[k])}if(!(!P&&!L||P&&0===P.length||L&&0===L.length)){ee=!0;var G=new M.default(P,L),oe=W.getKeySystemBySystemString(J),de=new f.default(oe,G);x.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{data:de}),me({data:de});break}}if(!ee){var q="Key system access denied! -- No valid audio/video content configurations detected!";x.trigger(y.KEY_SYSTEM_ACCESS_COMPLETE,{error:q}),_e({error:q})}})},selectKeySystem:function te(Ee){return new Promise(function(me,_e){try{g=Ee.mediaKeys=new window[d.MediaKeys](Ee.keySystem.systemString),b=Ee.keySystem,h=Ee,E&&pe(),me(b)}catch{_e({error:"Error selecting keys system ("+b.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function Z(Ee){E!==Ee&&(E&&E.removeEventListener(d.needkey,I),(E=Ee)&&(E.addEventListener(d.needkey,I),g&&pe()))},createKeySession:function ae(Ee){if(!b||!g||!h)throw new Error("Can not create sessions until you have selected a key system");var me=null;if(h.ksConfiguration.videoCapabilities&&h.ksConfiguration.videoCapabilities.length>0&&(me=h.ksConfiguration.videoCapabilities[0]),null===me&&h.ksConfiguration.audioCapabilities&&h.ksConfiguration.audioCapabilities.length>0&&(me=h.ksConfiguration.audioCapabilities[0]),null===me)throw new Error("Can not create sessions for unknown content types.");var ee=g.createSession(me.contentType,new Uint8Array(Ee.initData),Ee.cdmData?new Uint8Array(Ee.cdmData):null),ce=function De(Ee,me){return{session:Ee,keyId:me.keyId,initData:me.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(ee){switch(ee.type){case d.error:x.trigger(y.KEY_ERROR,{error:new T.default(p.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case d.message:var J=ArrayBuffer.isView(ee.message)?ee.message.buffer:ee.message;x.trigger(y.INTERNAL_KEY_MESSAGE,{data:new A.default(this,J,ee.destinationURL)});break;case d.ready:_.debug("DRM: Key added."),x.trigger(y.KEY_ADDED);break;case d.close:_.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),x.trigger(y.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(ee,Ee);ee.addEventListener(d.error,ce),ee.addEventListener(d.message,ce),ee.addEventListener(d.ready,ce),ee.addEventListener(d.close,ce),R.push(ce),_.debug("DRM: Session created.  SessionID = "+ce.getSessionId()),x.trigger(y.KEY_SESSION_CREATED,{data:ce})},updateKeySession:function ne(Ee,me){var _e=Ee.session;W.isClearKey(b)?_e.update(new Uint8Array(me.toJWK())):_e.update(new Uint8Array(me)),x.trigger(y.KEY_SESSION_UPDATED)},closeKeySession:le,setServerCertificate:function se(){},loadKeySession:function ge(){},removeKeySession:function $(){},stop:re,reset:re},function z(){_=m.getLogger(D),E=null,b=null,g=null,h=null,R=[],W=(0,V.default)(j).getInstance(),I=function he(){return{handleEvent:function(me){if(me.type===d.needkey&&me.initData){var _e=ArrayBuffer.isView(me.initData)?me.initData.buffer:me.initData;x.trigger(y.NEED_KEY,{key:new C.default(_e,"cenc")})}}}}()}(),D}S.__dashjs_factory_name="ProtectionModel_3Feb2014";const F=dashjs.FactoryMaker.getClassFactory(S)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),C=u(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function T(){return{getServerURLFromMessage:function M(j){return j},getHTTPMethod:function f(){return"POST"},getResponseType:function S(){return"json"},getLicenseMessage:function F(j){if(!j.hasOwnProperty("keys"))return null;for(var x=[],y=0;y<j.keys.length;y++){var m=j.keys[y],d=m.kid.replace(/=/g,""),D=m.k.replace(/=/g,"");x.push(new V.default(d,D))}return new C.default(x)},getErrorResponse:function w(j){return String.fromCharCode.apply(null,new Uint8Array(j))}}}T.__dashjs_factory_name="ClearKey";const p=dashjs.FactoryMaker.getSingletonFactory(T)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function C(p){var A=(p=p||{}).BASE64,M={};return M[V.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(d){return A.decodeArray(d.license)},getErrorResponse:function(d){return d}},M[V.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(d){return d},getErrorResponse:function(d){return String.fromCharCode.apply(null,new Uint8Array(d))}},{getServerURLFromMessage:function F(m){return m},getHTTPMethod:function w(){return"POST"},getResponseType:function j(m){return M[m].responseType},getLicenseMessage:function x(m,d){return function S(){if(!A||!A.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),M[d].getLicenseMessage(m)},getErrorResponse:function y(m,d){return M[d].getErrorResponse(m)}}}C.__dashjs_factory_name="DRMToday";const T=dashjs.FactoryMaker.getSingletonFactory(C)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(){var A="http://schemas.xmlsoap.org/soap/envelope/";function M(m){var d=String.fromCharCode.apply(null,new Uint8Array(m));return decodeURIComponent(escape(d))}function f(m){if(window.DOMParser){var d=M(m),_=(new window.DOMParser).parseFromString(d,"text/xml"),E=_?_.getElementsByTagNameNS(A,"Envelope")[0]:null,b=E?E.getElementsByTagNameNS(A,"Body")[0]:null;if(b&&b.getElementsByTagNameNS(A,"Fault")[0])return null}return m}function S(m){var d="",D="",_="",E=-1,b=-1;if(window.DOMParser){var g=M(m),R=(new window.DOMParser).parseFromString(g,"text/xml"),I=R?R.getElementsByTagNameNS(A,"Envelope")[0]:null,W=I?I.getElementsByTagNameNS(A,"Body")[0]:null,z=W?W.getElementsByTagNameNS(A,"Fault")[0]:null,re=z?z.getElementsByTagName("detail")[0]:null,ie=re?re.getElementsByTagName("Exception")[0]:null,ue=null;if(null===z)return g;d=(ue=z.getElementsByTagName("faultstring")[0].firstChild)?ue.nodeValue:null,null!==ie&&(D=(ue=ie.getElementsByTagName("StatusCode")[0])?ue.firstChild.nodeValue:null,E=(_=(ue=ie.getElementsByTagName("Message")[0])?ue.firstChild.nodeValue:null)?_.lastIndexOf("[")+1:-1,b=_?_.indexOf("]"):-1,_=_?_.substring(E,b):"")}var Y="code: ".concat(D,", name: ").concat(d);return _&&(Y+=", message: ".concat(_)),Y}return{getServerURLFromMessage:function F(m){return m},getHTTPMethod:function w(){return"POST"},getResponseType:function j(){return"arraybuffer"},getLicenseMessage:function x(m){return f.call(this,m)},getErrorResponse:function y(m){return S.call(this,m)}}}C.__dashjs_factory_name="PlayReady";const T=V.default.getSingletonFactory(C)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";function V(){return{getServerURLFromMessage:function p(F){return F},getHTTPMethod:function A(){return"POST"},getResponseType:function M(){return"arraybuffer"},getLicenseMessage:function f(F){return F},getErrorResponse:function S(F){return String.fromCharCode.apply(null,new Uint8Array(F))}}}u.r(K),u.d(K,{default:()=>C}),V.__dashjs_factory_name="Widevine";const C=dashjs.FactoryMaker.getSingletonFactory(V)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/(Me,K,u)=>{"use strict";function C(M,f){for(var S=0;S<f.length;S++){var F=f[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}u.r(K),u.d(K,{default:()=>A});const A=function(){function M(f,S){if(function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,M),S&&"persistent"!==S&&"temporary"!==S)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=f,this.type=S}return function T(M,f,S){f&&C(M.prototype,f),S&&C(M,S)}(M,[{key:"toJWK",value:function(){var S,F=this.keyPairs.length,w={keys:[]};for(S=0;S<F;S++)w.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[S].keyID,k:this.keyPairs[S].key});this.type&&(w.type=this.type);var x=JSON.stringify(w),y=x.length,m=new ArrayBuffer(y),d=new Uint8Array(m);for(S=0;S<y;S++)d[S]=x.charCodeAt(S);return m}}]),M}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M,f,S){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.sessionToken=A,this.message=M,this.defaultURL=f,this.messageType=S||"license-request"}},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.keyID=A,this.key=M}},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.keySystem=A,this.ksConfiguration=M}},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M,f,S,F){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.initDataTypes=["cenc"],A&&A.length&&(this.audioCapabilities=A),M&&M.length&&(this.videoCapabilities=M),this.distinctiveIdentifier=f,this.persistentState=S,this.sessionTypes=F}},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M,f,S,F,w,j,x){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=A,this.method=M,this.responseType=f,this.headers=S,this.withCredentials=F,this.messageType=w,this.sessionId=j,this.data=x}},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M,f){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=A,this.headers=M,this.data=f}},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.contentType=A,this.robustness=M}},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.initData=A,this.initDataType=M}},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(){var A={},M={},f={};return{push:function S(x,y,m){if(y){A[x]||(A[x]=[],M[x]=0,f[x]=0);var d=m&&m.droppedVideoFrames?m.droppedVideoFrames:0,D=m&&m.totalVideoFrames?m.totalVideoFrames:0,_=d-M[x];M[x]=d;var E=D-f[x];f[x]=D;var b=A[x];isNaN(y)||(b[y]?(b[y].droppedVideoFrames+=_,b[y].totalVideoFrames+=E):b[y]={droppedVideoFrames:_,totalVideoFrames:E})}},getFrameHistory:function F(x){return A[x]},clearForStream:function w(x){try{delete A[x],delete M[x],delete f[x]}catch{}},reset:function j(){A={},M={},f={}}}}C.__dashjs_factory_name="DroppedFramesHistory";const p=V.default.getClassFactory(C)},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(p){var M=(p=p||{}).abrController,f=p.switchHistory,S=p.droppedFramesHistory,F=p.currentRequest,w=p.useBufferOccupancyABR,j=p.useL2AABR,x=p.useLoLPABR,y=p.streamProcessor?p.streamProcessor.getScheduleController():null,m=p.streamProcessor?p.streamProcessor.getRepresentationInfo():null,d=p.videoModel?p.videoModel:null;function E(){return m?m.mediaInfo:null}return{getMediaType:function D(){var Y=E();return Y?Y.type:null},getMediaInfo:E,getDroppedFramesHistory:function W(){return S},getCurrentRequest:function z(){return F},getSwitchHistory:function R(){return f},getStreamInfo:function _(){var Y=E();return Y?Y.streamInfo:null},getScheduleController:function g(){return y},getAbrController:function h(){return M},getRepresentationInfo:function b(){return m},useBufferOccupancyABR:function re(){return w},useL2AABR:function ie(){return j},useLoLPABR:function ue(){return x},getVideoModel:function I(){return d}}}C.__dashjs_factory_name="RulesContext";const T=V.default.getClassFactory(C)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=-1,T={DEFAULT:.5,STRONG:1,WEAK:0};function p(f,S,F){return{quality:void 0===f?C:f,reason:void 0===S?null:S,priority:function m(d){var D=T.DEFAULT;return(d===T.DEFAULT||d===T.STRONG||d===T.WEAK)&&(D=d),D}(F)}}p.__dashjs_factory_name="SwitchRequest";var A=V.default.getClassFactory(p);A.NO_CHANGE=C,A.PRIORITY=T,V.default.updateClassFactory(p.__dashjs_factory_name,A);const M=A},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),T=8;function p(){var f=[],S=[];return{push:function F(x){x.newValue===C.default.NO_CHANGE&&(x.newValue=x.oldValue),f[x.oldValue]||(f[x.oldValue]={noDrops:0,drops:0,dropSize:0});var y=x.newValue-x.oldValue,m=y<0?1:0,d=m?-y:0,D=m?0:1;if(f[x.oldValue].drops+=m,f[x.oldValue].dropSize+=d,f[x.oldValue].noDrops+=D,S.push({idx:x.oldValue,noDrop:D,drop:m,dropSize:d}),S.length>T){var _=S.shift();f[_.idx].drops-=_.drop,f[_.idx].dropSize-=_.dropSize,f[_.idx].noDrops-=_.noDrop}},getSwitchRequests:function w(){return f},reset:function j(){f=[],S=[]}}}p.__dashjs_factory_name="SwitchRequestHistory";const M=V.default.getClassFactory(p)},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(A){var _,E,b,g,h,f=3,S=4,F=4,w=1.3,j=1.3,D=(A=A||{}).settings;function z($,he,pe,De){var Ee=Math.pow(.5,pe/De.fast);$.fastEstimate=(1-Ee)*he+Ee*$.fastEstimate;var me=Math.pow(.5,pe/De.slow);$.slowEstimate=(1-me)*he+me*$.slowEstimate,$.totalWeight+=pe}function ie($,he,pe){return D.get().streaming.abr.movingAverageMethod!==V.default.MOVING_AVERAGE_SLIDING_WINDOW?function Y($,he){var pe=$?h.throughputHalfLife:h.latencyHalfLife,De=$?b[he]:g[he];if(!De||De.totalWeight<=0)return NaN;var Ee=De.fastEstimate/(1-Math.pow(.5,De.totalWeight/pe.fast)),me=De.slowEstimate/(1-Math.pow(.5,De.totalWeight/pe.slow));return $?Math.min(Ee,me):Math.max(Ee,me)}($,he):function ue($,he,pe){var De=function re($,he,pe){var De,Ee;if($?(De=_[he],Ee=pe?f:S):(De=E[he],Ee=F),De){if(Ee>=De.length)Ee=De.length;else if($)for(var me=1;me<Ee;++me){var _e=De[De.length-me]/De[De.length-me-1];if((_e>=j||_e<=1/w)&&(Ee+=1)===De.length)break}}else Ee=0;return Ee}($,he,pe),me=($?_:E)[he];return 0!==De&&me&&0!==me.length?(me=me.slice(-De)).reduce(function(_e,ee){return _e+ee})/me.length:NaN}($,he,pe)}function te($,he){return ie(!0,$,he)}function ne($){_[$]=_[$]||[],E[$]=E[$]||[],b[$]=b[$]||{fastEstimate:0,slowEstimate:0,totalWeight:0},g[$]=g[$]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function se(){_={},E={},b={},g={}}var ge={push:function W($,he,pe){if(he.trace&&he.trace.length){var _e,De=he.tresponse.getTime()-he.trequest.getTime()||1,Ee=he._tfinish.getTime()-he.tresponse.getTime()||1,me=he.trace.reduce(function(H,P){return H+P.b[0]},0),ee=0;if(0!==(_e=he._fileLoaderType&&he._fileLoaderType===V.default.FILE_LOADER_TYPES.FETCH?he.trace.reduce(function(H,P){return H+P.d},0):pe?Ee:De+Ee)&&(ee=Math.round(8*me/_e)),he.cmsd){var ce=he.cmsd.dynamic&&he.cmsd.dynamic.etp?he.cmsd.dynamic.etp:null;if(ce){var J=D.get().streaming.cmsd.abr.etpWeightRatio;J>0&&J<=1&&(ee=ee*(1-J)+ce*J)}}if(ne($),function I($,he,pe){return $===V.default.VIDEO?pe<D.get().streaming.cacheLoadThresholds[V.default.VIDEO]:$===V.default.AUDIO?pe<D.get().streaming.cacheLoadThresholds[V.default.AUDIO]:void 0}($,0,Ee)){if(_[$].length>0&&!_[$].hasCachedEntries)return;_[$].hasCachedEntries=!0}else _[$]&&_[$].hasCachedEntries&&function le($){delete _[$],delete E[$],delete b[$],delete g[$],ne($)}($);_[$].push(ee),_[$].length>20&&_[$].shift(),E[$].push(De),E[$].length>20&&E[$].shift(),z(b[$],ee,.001*Ee,h.throughputHalfLife),z(g[$],De,1,h.latencyHalfLife)}},getAverageThroughput:te,getSafeAverageThroughput:function Z($,he){var pe=te($,he);return isNaN(pe)||(pe*=D.get().streaming.abr.bandwidthSafetyFactor),pe},getAverageLatency:function ae($){return ie(!1,$)},reset:se};return function R(){h={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},se()}(),ge}T.__dashjs_factory_name="ThroughputHistory";const p=C.default.getClassFactory(T)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>D});var V=u(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),C=u(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),T=u(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),p=u(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),A=u(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),M=u(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),f=u(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),S=u(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),F=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),w=u(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),j=u(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),x="qualitySwitchRules",y="abandonFragmentRules";function m(_){var W,z,E=this.context,b=(_=_||{}).mediaPlayerModel,g=_.customParametersModel,h=_.dashMetrics,R=_.settings;function ie(ne){return ne.filter(function(le){return le.quality>w.default.NO_CHANGE})}function ue(ne){var ge,$,he,pe,De,le={},se=null;if(0!==ne.length){for(le[w.default.PRIORITY.STRONG]={quality:w.default.NO_CHANGE,reason:null},le[w.default.PRIORITY.WEAK]={quality:w.default.NO_CHANGE,reason:null},le[w.default.PRIORITY.DEFAULT]={quality:w.default.NO_CHANGE,reason:null},ge=0,$=ne.length;ge<$;ge+=1)(he=ne[ge]).quality!==w.default.NO_CHANGE&&(le[he.priority].quality===w.default.NO_CHANGE||le[he.priority].quality>he.quality)&&(le[he.priority].quality=he.quality,le[he.priority].reason=he.reason||null);return le[w.default.PRIORITY.WEAK].quality!==w.default.NO_CHANGE&&(se=le[w.default.PRIORITY.WEAK]),le[w.default.PRIORITY.DEFAULT].quality!==w.default.NO_CHANGE&&(se=le[w.default.PRIORITY.DEFAULT]),le[w.default.PRIORITY.STRONG].quality!==w.default.NO_CHANGE&&(se=le[w.default.PRIORITY.STRONG]),se&&(pe=se.quality,De=se.reason),(0,w.default)(E).create(pe,De)}}return{initialize:function re(){W=[],z=[],R.get().streaming.abr.useDefaultABRRules&&(R.get().streaming.abr.ABRStrategy===j.default.ABR_STRATEGY_L2A?W.push((0,f.default)(E).create({dashMetrics:h,settings:R})):R.get().streaming.abr.ABRStrategy===j.default.ABR_STRATEGY_LoLP?W.push((0,S.default)(E).create({dashMetrics:h})):(W.push((0,M.default)(E).create({dashMetrics:h,mediaPlayerModel:b,settings:R})),W.push((0,V.default)(E).create({dashMetrics:h})),R.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&W.push((0,C.default)(E).create({dashMetrics:h,settings:R})),R.get().streaming.abr.additionalAbrRules.switchHistoryRule&&W.push((0,A.default)(E).create()),R.get().streaming.abr.additionalAbrRules.droppedFramesRule&&W.push((0,p.default)(E).create()),R.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&z.push((0,T.default)(E).create({dashMetrics:h,mediaPlayerModel:b,settings:R})))),g.getAbrCustomRules().forEach(function(le){le.type===x&&W.push(le.rule(E).create()),le.type===y&&z.push(le.rule(E).create())})},reset:function Z(){[W,z].forEach(function(ne){ne&&ne.length&&ne.forEach(function(le){return le.reset&&le.reset()})}),W=[],z=[]},getMaxQuality:function Y(ne){return ue(ie(W.map(function($){return $.getMaxIndex(ne)})))||(0,w.default)(E).create()},getMinSwitchRequest:ue,shouldAbandonFragment:function te(ne,le){return ue(ie(z.map(function(he){return he.shouldAbandon(ne,le)})))||(0,w.default)(E).create()},getQualitySwitchRules:function ae(){return W}}}m.__dashjs_factory_name="ABRRulesCollection";var d=F.default.getClassFactory(m);d.QUALITY_SWITCH_RULES=x,d.ABANDON_FRAGMENT_RULES=y,F.default.updateSingletonFactory(m.__dashjs_factory_name,d);const D=d},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),C=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=u(
/*! ../../../core/Debug */
"./src/core/Debug.js");function p(M){var m,d,D,_,E,w=this.context,j=(M=M||{}).mediaPlayerModel,x=M.dashMetrics,y=M.settings;function I(){D={},_={},E=[]}return m={shouldAbandon:function R(W){var z=(0,V.default)(w).create(V.default.NO_CHANGE,{name:p.__dashjs_factory_name});if(!(W&&W.hasOwnProperty("getMediaInfo")&&W.hasOwnProperty("getMediaType")&&W.hasOwnProperty("getCurrentRequest")&&W.hasOwnProperty("getRepresentationInfo")&&W.hasOwnProperty("getAbrController")))return z;var re=W.getMediaInfo(),ie=W.getMediaType(),ue=W.getStreamInfo(),Y=ue?ue.id:null,te=W.getCurrentRequest();if(!isNaN(te.index)){!function g(W,z){D[W]=D[W]||{},D[W][z]=D[W][z]||{}}(ie,te.index);var Z=j.getStableBufferTime();if(x.getCurrentBufferLevel(ie)>Z)return z;var ne=D[ie][te.index];if(null===ne||null===te.firstByteDate||_.hasOwnProperty(ne.id))return z;if(void 0===ne.firstByteTime&&(E[ie]=[],ne.firstByteTime=te.firstByteDate.getTime(),ne.segmentDuration=te.duration,ne.bytesTotal=te.bytesTotal,ne.id=te.index),ne.bytesLoaded=te.bytesLoaded,ne.elapsedTime=(new Date).getTime()-ne.firstByteTime,ne.bytesLoaded>0&&ne.elapsedTime>0&&function h(W,z){E[W]=E[W]||[],E[W].push(z)}(ie,Math.round(8*ne.bytesLoaded/ne.elapsedTime)),E[ie].length>=5&&ne.elapsedTime>500&&ne.bytesLoaded<ne.bytesTotal){var le=E[ie].reduce(function(me,_e){return me+_e},0);if(ne.measuredBandwidthInKbps=Math.round(le/E[ie].length),ne.estimatedTimeOfDownload=+(8*ne.bytesTotal/ne.measuredBandwidthInKbps/1e3).toFixed(2),ne.estimatedTimeOfDownload<1.8*ne.segmentDuration||0===W.getRepresentationInfo().quality)return z;if(!_.hasOwnProperty(ne.id)){var se=W.getAbrController(),ge=ne.bytesTotal-ne.bytesLoaded,$=se.getBitrateList(re),he=se.getQualityForBitrate(re,ne.measuredBandwidthInKbps*y.get().streaming.abr.bandwidthSafetyFactor,Y),pe=se.getMinAllowedIndexFor(ie,Y),De=void 0!==pe?Math.max(pe,he):he;ge>ne.bytesTotal*$[De].bitrate/$[se.getQualityFor(ie,Y)].bitrate&&(z.quality=De,z.reason.throughput=ne.measuredBandwidthInKbps,z.reason.fragmentID=ne.id,_[ne.id]=ne,d.debug("["+ie+"] frag id",ne.id," is asking to abandon and switch to quality to ",De," measured bandwidth was",ne.measuredBandwidthInKbps),delete D[ie][ne.id])}}else ne.bytesLoaded===ne.bytesTotal&&delete D[ie][ne.id]}return z},reset:I},function b(){d=(0,T.default)(w).getInstance().getLogger(m),I()}(),m}p.__dashjs_factory_name="AbandonRequestsRule";const A=C.default.getClassFactory(p)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>_});var V=u(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),C=u(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),T=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=u(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),M=u(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),f=u(
/*! ../../../core/Debug */
"./src/core/Debug.js"),S=u(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=u(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),w=0,j=1,x=2,y=10,m=2,d=.99;function D(E){var I,W,z,b=this.context,g=(E=E||{}).dashMetrics,h=E.mediaPlayerModel,R=(0,A.default)(b).getInstance();function ue(H,P,L){var N=L.reduce(function(k,G,oe){return G>L[k]?oe:k},0);if(0===N)return null;var Q=Math.max(H,y+m*P.length),O=(L[N]-1)/(Q/y-1);return{gp:O,Vp:y/O}}function te(H){H.placeholderBuffer=0,H.mostAdvancedSegmentStart=NaN,H.lastSegmentWasReplacement=!1,H.lastSegmentStart=NaN,H.lastSegmentDurationS=NaN,H.lastSegmentRequestTimeMs=NaN,H.lastSegmentFinishTimeMs=NaN}function Z(H,P){var L=h.getStableBufferTime();if(H.stableBufferTime!==L){var N=ue(L,H.bitrates,H.utilities);if(N.Vp!==H.Vp||N.gp!==H.gp){var Q=g.getCurrentBufferLevel(P),O=Q+H.placeholderBuffer;O-=y,O*=N.Vp/H.Vp,O+=y,H.stableBufferTime=L,H.Vp=N.Vp,H.gp=N.gp,H.placeholderBuffer=Math.max(0,O-Q)}}}function le(H,P){return H.Vp*(H.utilities[P]+H.gp)}function se(H,P){for(var L=H.bitrates[P],N=H.utilities[P],Q=0,O=P-1;O>=0;--O)if(H.utilities[O]<H.utilities[P]){var U=H.bitrates[O];Q=Math.max(Q,H.Vp*(H.gp+(L*H.utilities[O]-U*N)/(L-U)))}return Q}function $(H){var L=H.mediaType===F.default.AUDIO?[F.default.AUDIO]:z;for(var N in L)z.hasOwnProperty(N)&&z[N].state===x&&(z[N].placeholderBuffer=0)}function he(){for(var H in z)if(z.hasOwnProperty(H)){var P=z[H];P.state!==w&&(P.state=j,te(P))}}function pe(H){if(H&&H.chunk&&H.chunk.mediaInfo){var P=z[H.chunk.mediaInfo.type];if(P&&P.state!==w){var L=H.chunk.start;isNaN(P.mostAdvancedSegmentStart)||L>P.mostAdvancedSegmentStart?(P.mostAdvancedSegmentStart=L,P.lastSegmentWasReplacement=!1):P.lastSegmentWasReplacement=!0,P.lastSegmentStart=L,P.lastSegmentDurationS=H.chunk.duration,P.lastQuality=H.chunk.quality,Ee(P,H.chunk.mediaInfo.type)}}}function De(H){if(H&&H.metric===V.default.HTTP_REQUEST&&H.value&&H.value.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&H.value.trace&&H.value.trace.length){var P=z[H.mediaType];P&&P.state!==w&&(P.lastSegmentRequestTimeMs=H.value.trequest.getTime(),P.lastSegmentFinishTimeMs=H.value._tfinish.getTime(),Ee(P,H.mediaType))}}function Ee(H,P){if(!isNaN(H.lastSegmentStart)&&!isNaN(H.lastSegmentRequestTimeMs)&&!isNaN(H.placeholderBuffer)){if(H.placeholderBuffer*=d,!isNaN(H.lastSegmentFinishTimeMs)){var N=g.getCurrentBufferLevel(P)+.001*(H.lastSegmentFinishTimeMs-H.lastSegmentRequestTimeMs),Q=le(H,H.lastQuality),O=Math.max(0,Q-N);H.placeholderBuffer=Math.min(O,H.placeholderBuffer)}H.lastSegmentWasReplacement&&!isNaN(H.lastSegmentDurationS)&&(H.placeholderBuffer+=H.lastSegmentDurationS),H.lastSegmentStart=NaN,H.lastSegmentRequestTimeMs=NaN}}function me(H){if(H){var P=z[H.mediaType];P&&P.state!==w&&(P.abrQuality=H.newQuality)}}function _e(H){if(H){var P=z[H.mediaType];if(P&&P.state!==w){var N,L=g.getCurrentBufferLevel(H.mediaType);N=P.abrQuality>0?se(P,P.abrQuality):y;var Q=Math.max(0,N-L);P.placeholderBuffer=Math.min(P.placeholderBuffer,Q)}}}function ce(){z={}}return I={getMaxIndex:function ee(H){var P=(0,C.default)(b).create();if(!(H&&H.hasOwnProperty("getMediaInfo")&&H.hasOwnProperty("getMediaType")&&H.hasOwnProperty("getScheduleController")&&H.hasOwnProperty("getStreamInfo")&&H.hasOwnProperty("getAbrController")&&H.hasOwnProperty("useBufferOccupancyABR")))return P;var L=H.getMediaInfo(),N=H.getMediaType(),Q=H.getScheduleController(),O=H.getStreamInfo(),U=H.getAbrController(),k=U.getThroughputHistory(),G=O?O.id:null,oe=O&&O.manifestInfo&&O.manifestInfo.isDynamic,de=H.useBufferOccupancyABR();if(P.reason=P.reason||{},!de)return P;Q.setTimeToLoadDelay(0);var q=function ae(H){var P=H.getMediaType(),L=z[P];return L?L.state!==w&&Z(L,P):(L=function Y(H){var P={},N=H.getMediaInfo().bitrateList.map(function(k){return k.bandwidth}),Q=function ie(H){return H.map(function(P){return Math.log(P)})}(N);Q=Q.map(function(k){return k-Q[0]+1});var O=h.getStableBufferTime(),U=ue(O,N,Q);return U?(P.state=j,P.bitrates=N,P.utilities=Q,P.stableBufferTime=O,P.Vp=U.Vp,P.gp=U.gp,P.lastQuality=0,te(P)):P.state=w,P}(H),z[P]=L),L}(H);if(q.state===w)return P;var He,be=g.getCurrentBufferLevel(N),ve=k.getAverageThroughput(N,oe),Ce=k.getSafeAverageThroughput(N,oe),xe=k.getAverageLatency(N);if(P.reason.state=q.state,P.reason.throughput=ve,P.reason.latency=xe,isNaN(ve))return P;switch(q.state){case j:He=U.getQualityForBitrate(L,Ce,G,xe),P.quality=He,P.reason.throughput=Ce,q.placeholderBuffer=Math.max(0,se(q,He)-be),q.lastQuality=He,!isNaN(q.lastSegmentDurationS)&&be>=q.lastSegmentDurationS&&(q.state=x);break;case x:(function ge(H,P){var L=Date.now();isNaN(H.lastSegmentFinishTimeMs)?isNaN(H.lastCallTimeMs)||(H.placeholderBuffer+=Math.max(0,.001*(L-H.lastCallTimeMs))):H.placeholderBuffer+=Math.max(0,.001*(L-H.lastSegmentFinishTimeMs)),H.lastCallTimeMs=L,H.lastSegmentStart=NaN,H.lastSegmentRequestTimeMs=NaN,H.lastSegmentFinishTimeMs=NaN,Z(H,P)})(q,N),He=function ne(H,P){for(var L=H.bitrates.length,N=NaN,Q=NaN,O=0;O<L;++O){var U=(H.Vp*(H.utilities[O]+H.gp)-P)/H.bitrates[O];(isNaN(Q)||U>=Q)&&(Q=U,N=O)}return N}(q,be+q.placeholderBuffer);var je=U.getQualityForBitrate(L,Ce,G,xe);He>q.lastQuality&&He>je&&(He=Math.max(je,q.lastQuality));var rt=Math.max(0,be+q.placeholderBuffer-le(q,He));rt<=q.placeholderBuffer?(q.placeholderBuffer-=rt,rt=0):(rt-=q.placeholderBuffer,q.placeholderBuffer=0,He<U.getMaxAllowedIndexFor(N,G)?Q.setTimeToLoadDelay(1e3*rt):rt=0),P.quality=He,P.reason.throughput=ve,P.reason.latency=xe,P.reason.bufferLevel=be,P.reason.placeholderBuffer=q.placeholderBuffer,P.reason.delay=rt,q.lastQuality=He;break;default:W.debug("BOLA ABR rule invoked in bad state."),P.quality=U.getQualityForBitrate(L,Ce,G,xe),P.reason.state=q.state,P.reason.throughput=Ce,P.reason.latency=xe,q.state=j,te(q)}return P},reset:function J(){ce(),R.off(S.default.BUFFER_EMPTY,$,I),R.off(S.default.PLAYBACK_SEEKING,he,I),R.off(S.default.METRIC_ADDED,De,I),R.off(S.default.QUALITY_CHANGE_REQUESTED,me,I),R.off(S.default.FRAGMENT_LOADING_ABANDONED,_e,I),R.off(M.default.MEDIA_FRAGMENT_LOADED,pe,I)}},function re(){W=(0,f.default)(b).getInstance().getLogger(I),ce(),R.on(S.default.BUFFER_EMPTY,$,I),R.on(S.default.PLAYBACK_SEEKING,he,I),R.on(S.default.METRIC_ADDED,De,I),R.on(S.default.QUALITY_CHANGE_REQUESTED,me,I),R.on(S.default.FRAGMENT_LOADING_ABANDONED,_e,I),R.on(M.default.MEDIA_FRAGMENT_LOADED,pe,I)}(),I}D.__dashjs_factory_name="BolaRule";const _=T.default.getClassFactory(D)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),T=u(
/*! ../../../core/Debug */
"./src/core/Debug.js");function p(){var f,S,M=this.context;return f={getMaxIndex:function x(y){var m=(0,C.default)(M).create();if(!y||!y.hasOwnProperty("getDroppedFramesHistory"))return m;var d=y.getDroppedFramesHistory(),D=y.getStreamInfo().id;if(d){var _=d.getFrameHistory(D);if(!_||0===_.length)return m;for(var E=0,b=0,g=C.default.NO_CHANGE,h=1;h<_.length;h++)if(_[h]&&(E=_[h].droppedVideoFrames,(b=_[h].totalVideoFrames)>375&&E/b>.15)){S.debug("index: "+(g=h-1)+" Dropped Frames: "+E+" Total Frames: "+b);break}return(0,C.default)(M).create(g,{droppedFrames:E})}return m}},function j(){S=(0,T.default)(M).getInstance().getLogger(f)}(),f}p.__dashjs_factory_name="DroppedFramesRule";const A=V.default.getClassFactory(p)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),C=u(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),T=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../../../core/Debug */
"./src/core/Debug.js"),A=u(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),M=u(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),f=u(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),S=u(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(j){j=j||{};var _,E,b,y=2,m=this.context,d=(0,V.default)(m).getInstance(),D=j.dashMetrics;function W(){(b={})[M.default.VIDEO]={ignoreCount:y},b[M.default.AUDIO]={ignoreCount:y}}function z(){W()}function re(ue){!isNaN(ue.startTime)&&(ue.mediaType===M.default.AUDIO||ue.mediaType===M.default.VIDEO)&&b[ue.mediaType].ignoreCount>0&&b[ue.mediaType].ignoreCount--}return _={getMaxIndex:function R(ue){var Y=(0,A.default)(m).create();if(!ue||!ue.hasOwnProperty("getMediaType"))return Y;!function h(){if(!D||!D.hasOwnProperty("getCurrentBufferLevel")||!D.hasOwnProperty("getCurrentBufferState"))throw new Error(M.default.MISSING_CONFIG_ERROR)}();var te=ue.getMediaType(),Z=D.getCurrentBufferState(te),ne=ue.getRepresentationInfo().fragmentDuration,le=ue.getStreamInfo(),se=le?le.id:null,ge=ue.getScheduleController(),$=le&&le.manifestInfo&&le.manifestInfo.isDynamic;if(function I(ue,Y){return!ue&&b[Y].ignoreCount>0}(ge.getPlaybackController().getLowLatencyModeEnabled(),te)||!ne)return Y;if(Z&&Z.state===f.default.BUFFER_EMPTY)E.debug("["+te+"] Switch to index 0; buffer is empty."),Y.quality=0,Y.reason="InsufficientBufferRule: Buffer is empty";else{var De=ue.getMediaInfo(),Ee=ue.getAbrController(),me=Ee.getThroughputHistory(),_e=D.getCurrentBufferLevel(te),ee=me.getAverageThroughput(te,$),ce=me.getAverageLatency(te);Y.quality=Ee.getQualityForBitrate(De,ee*(_e/ne)*.5,se,ce),Y.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return Y},reset:function ie(){W(),d.off(S.default.PLAYBACK_SEEKING,z,_),d.off(C.default.BYTES_APPENDED_END_FRAGMENT,re,_)}},function g(){E=(0,p.default)(m).getInstance().getLogger(_),W(),d.on(S.default.PLAYBACK_SEEKING,z,_),d.on(C.default.BYTES_APPENDED_END_FRAGMENT,re,_)}(),_}F.__dashjs_factory_name="InsufficientBufferRule";const w=T.default.getClassFactory(F)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),C=u(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),T=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),A=u(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),M=u(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),f=u(
/*! ../../../core/Debug */
"./src/core/Debug.js"),S=u(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),F=0,w=1,j=2;function x(m){var E,b,g,h,d=this.context,D=(m=m||{}).dashMetrics,_=(0,A.default)(d).getInstance();function z($){$.placeholderBuffer=0,$.mostAdvancedSegmentStart=NaN,$.lastSegmentWasReplacement=!1,$.lastSegmentStart=NaN,$.lastSegmentDurationS=NaN,$.lastSegmentRequestTimeMs=NaN,$.lastSegmentFinishTimeMs=NaN}function ie(){for(var $ in b)if(b.hasOwnProperty($)){var he=b[$];he.state!==F&&(he.state=w,z(he))}}function ue($){if($&&$.chunk&&$.chunk.mediaInfo){var he=b[$.chunk.mediaInfo.type],pe=g[$.chunk.mediaInfo.type];if(he&&he.state!==F){var De=$.chunk.start;isNaN(he.mostAdvancedSegmentStart)||De>he.mostAdvancedSegmentStart?(he.mostAdvancedSegmentStart=De,he.lastSegmentWasReplacement=!1):he.lastSegmentWasReplacement=!0,he.lastSegmentStart=De,he.lastSegmentDurationS=$.chunk.duration,he.lastQuality=$.chunk.quality,te(he,pe)}}}function Y($){if($&&$.metric===V.default.HTTP_REQUEST&&$.value&&$.value.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&$.value.trace&&$.value.trace.length){var he=b[$.mediaType],pe=g[$.mediaType];he&&he.state!==F&&(he.lastSegmentRequestTimeMs=$.value.trequest.getTime(),he.lastSegmentFinishTimeMs=$.value._tfinish.getTime(),te(he,pe))}}function te($,he){!isNaN($.lastSegmentStart)&&!isNaN($.lastSegmentRequestTimeMs)&&(he.segment_request_start_s=.001*$.lastSegmentRequestTimeMs,he.segment_download_finish_s=.001*$.lastSegmentFinishTimeMs,$.lastSegmentStart=NaN,$.lastSegmentRequestTimeMs=NaN)}function Z($){if($&&$.mediaType){var he=b[$.mediaType];he&&he.state!==F&&(he.abrQuality=$.newQuality)}}function ae($,he){if($.length!==he.length)return-1;for(var pe=0,De=0;De<$.length;De++)pe+=$[De]*he[De];return pe}function se(){b={},g={}}return E={getMaxIndex:function le($){var q,he=(0,C.default)(d).create(),De=Math.pow(4,.99),Ee=Math.max(Math.pow(4,1),De*Math.sqrt(4)),me=$.getMediaInfo(),_e=$.getMediaType(),ee=me.bitrateList.map(function(Ze){return Ze.bandwidth}),ce=ee.length,J=$.getScheduleController(),H=$.getStreamInfo(),P=$.getAbrController(),L=P.getThroughputHistory(),N=H&&H.manifestInfo&&H.manifestInfo.isDynamic,Q=$.useL2AABR(),O=D.getCurrentBufferLevel(_e,!0),U=L.getSafeAverageThroughput(_e,N),k=L.getAverageThroughput(_e,N),oe=L.getAverageLatency(_e),be=$.getVideoModel().getPlaybackRate();if(!($&&$.hasOwnProperty("getMediaInfo")&&$.hasOwnProperty("getMediaType")&&$.hasOwnProperty("getScheduleController")&&$.hasOwnProperty("getStreamInfo")&&$.hasOwnProperty("getAbrController")&&$.hasOwnProperty("useL2AABR")&&(he.reason=he.reason||{},Q&&_e!==S.default.AUDIO)))return he;J.setTimeToLoadDelay(0);var ve=function re($){var he=$.getMediaType(),pe=b[he];return pe||(pe=function I($){var he={},pe=$.getMediaInfo(),De=pe.bitrateList.map(function(Ee){return Ee.bandwidth/1e3});return he.state=w,he.bitrates=De,he.lastQuality=0,function W($){!$||!$.type||(g[$.type]={},g[$.type].w=[],g[$.type].prev_w=[],g[$.type].Q=0,g[$.type].segment_request_start_s=0,g[$.type].segment_download_finish_s=0,g[$.type].B_target=1.5)}(pe),z(he),he}($),b[he]=pe),pe}($);if(ve.state===F)return he;var Ce=g[_e];if(!Ce||(he.reason.state=ve.state,he.reason.throughput=k,he.reason.latency=oe,isNaN(k)))return he;switch(ve.state){case w:if(q=P.getQualityForBitrate(me,U,H.id,oe),he.quality=q,he.reason.throughput=U,ve.lastQuality=q,!isNaN(ve.lastSegmentDurationS)&&O>=Ce.B_target){ve.state=j,Ce.Q=De;for(var xe=0;xe<ce;++xe)Ce.prev_w[xe]=xe===ve.lastQuality?1:0}break;case j:var He=[],je=D.getCurrentHttpRequest(_e).trace.reduce(function(Ze,qe){return Ze+qe.d},0),rt=D.getCurrentHttpRequest(_e).trace.reduce(function(Ze,qe){return Ze+qe.b[0]},0),it=Math.round(8*rt/je);it<1&&(it=1);for(var Re=ve.lastSegmentDurationS,Be=1,ct=0;ct<ce;++ct)ee[ct]=ee[ct]/1e3,be*ee[ct]>it&&(Be=-1),Ce.w[ct]=Ce.prev_w[ct]+Be*(Re/(2*Ee))*((Ce.Q+De)*(be*ee[ct]/it));Ce.w=function ne($){for(var he=$.length,pe=!1,De=[],Ee=0;Ee<he;++Ee)De[Ee]=$[Ee];for(var me=$.sort(function(P,L){return L-P}),_e=0,ee=0,ce=[],J=0;J<he-1;++J)if((ee=((_e+=me[J])-1)/(J+1))>=me[J+1]){pe=!0;break}pe||(ee=(_e+me[he-1]-1)/he);for(var H=0;H<he;++H)ce[H]=Math.max(De[H]-ee,0);return ce}(Ce.w);for(var yt=0;yt<ce;++yt)He[yt]=Ce.w[yt]-Ce.prev_w[yt],Ce.prev_w[yt]=Ce.w[yt];Ce.Q=Math.max(0,Ce.Q-Re+Re*be*((ae(ee,Ce.prev_w)+ae(ee,He))/it));for(var Dt=[],Fe=0;Fe<ce;++Fe)Dt[Fe]=Math.abs(ee[Fe]-ae(Ce.w,ee));(q=Dt.indexOf(Math.min.apply(Math,Dt)))>ve.lastQuality&&ee[ve.lastQuality+1]<=it&&(q=ve.lastQuality+1),ee[q]>=it&&(Ce.Q=2*Math.max(De,Ce.Q)),he.quality=q,he.reason.throughput=k,he.reason.latency=oe,he.reason.bufferLevel=O,ve.lastQuality=he.quality;break;default:h.debug("L2A ABR rule invoked in bad state."),he.quality=P.getQualityForBitrate(me,U,H.id,oe),he.reason.state=ve.state,he.reason.throughput=U,he.reason.latency=oe,ve.state=w,z(ve)}return he},reset:function ge(){se(),_.off(M.default.PLAYBACK_SEEKING,ie,E),_.off(M.default.MEDIA_FRAGMENT_LOADED,ue,E),_.off(M.default.METRIC_ADDED,Y,E),_.off(M.default.QUALITY_CHANGE_REQUESTED,Z,E)}},function R(){h=(0,f.default)(d).getInstance().getLogger(E),se(),_.on(M.default.PLAYBACK_SEEKING,ie,E),_.on(M.default.MEDIA_FRAGMENT_LOADED,ue,E),_.on(M.default.METRIC_ADDED,Y,E),_.on(M.default.QUALITY_CHANGE_REQUESTED,Z,E)}(),E}x.__dashjs_factory_name="L2ARule";const y=T.default.getClassFactory(x)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../../core/Debug */
"./src/core/Debug.js"),T=u(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function p(){var f,S,M=this.context;return f={getMaxIndex:function x(y){for(var m=y?y.getSwitchHistory():null,d=m?m.getSwitchRequests():[],D=0,_=0,E=0,b=(0,T.default)(M).create(),g=0;g<d.length;g++)if(void 0!==d[g]&&(E+=d[g].dropSize,(D+=d[g].drops)+(_+=d[g].noDrops)>=6&&D/_>.075)){b.quality=g>0&&d[g].drops>0?g-1:g,b.reason={index:b.quality,drops:D,noDrops:_,dropSize:E},S.debug("Switch history rule index: "+b.quality+" samples: "+(D+_)+" drops: "+D);break}return b}},function j(){S=(0,C.default)(M).getInstance().getLogger(f)}(),f}p.__dashjs_factory_name="SwitchHistoryRule";const A=V.default.getClassFactory(p)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),T=u(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),p=u(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function A(f){var S=this.context,F=(f=f||{}).dashMetrics;return{getMaxIndex:function y(d){var D=(0,C.default)(S).create();if(!(d&&d.hasOwnProperty("getMediaInfo")&&d.hasOwnProperty("getMediaType")&&d.hasOwnProperty("useBufferOccupancyABR")&&d.hasOwnProperty("getAbrController")&&d.hasOwnProperty("getScheduleController")))return D;!function x(){if(!F||!F.hasOwnProperty("getCurrentBufferState"))throw new Error(T.default.MISSING_CONFIG_ERROR)}();var _=d.getMediaInfo(),E=d.getMediaType(),b=F.getCurrentBufferState(E),g=d.getScheduleController(),h=d.getAbrController(),R=d.getStreamInfo(),I=R?R.id:null,W=R&&R.manifestInfo?R.manifestInfo.isDynamic:null,z=h.getThroughputHistory(),re=z.getSafeAverageThroughput(E,W),ie=z.getAverageLatency(E),ue=d.useBufferOccupancyABR();return isNaN(re)||!b||ue||h.getAbandonmentStateFor(I,E)!==p.default.ABANDON_LOAD&&(b.state===p.default.BUFFER_LOADED||W)&&(D.quality=h.getQualityForBitrate(_,re,I,ie),g.setTimeToLoadDelay(0),D.reason={throughput:re,latency:ie}),D},reset:function m(){}}}A.__dashjs_factory_name="ThroughputRule";const M=V.default.getClassFactory(A)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),T={MANUAL:"manual_weight_selection",RANDOM:"random_weight_selection",DYNAMIC:"dynamic_weight_selection"};function p(){var f,S,F,w,j,x,y,m,d,M=this.context;function E(){F=null,w=1,j=100,x=0,y=null,m=null,d=T.DYNAMIC}function b(){var le=0;if(F)for(var se=0;se<F.length;se++){var ge=F[se];ge.state.throughput>le&&(le=ge.state.throughput)}return le}function h(le,se,ge){var $=le.map(function(pe,De){return ge[De]*Math.pow(pe-se[De],2)}).reduce(function(pe,De){return pe+De});return($<0?-1:1)*Math.sqrt(Math.abs($))}function R(le,se){return h([le.state.throughput,le.state.latency,le.state.rebuffer,le.state.switch],[se.state.throughput,se.state.latency,se.state.rebuffer,se.state.switch],[1,1,1,1])}function I(le,se,ge){for(var $=0;$<se.length;$++){var he=se[$],De=R(he,le);W(he,ge,Math.exp(-1*Math.pow(De,2)/(2*Math.pow(.1,2))))}}function W(le,se,ge){var $=le.state,he=[.01,.01,.01,.01];$.throughput=$.throughput+(se[0]-$.throughput)*he[0]*ge,$.latency=$.latency+(se[1]-$.latency)*he[1]*ge,$.rebuffer=$.rebuffer+(se[2]-$.rebuffer)*he[2]*ge,$.switch=$.switch+(se[3]-$.switch)*he[3]*ge}return f={getNextQuality:function re(le,se,ge,$,he,pe,De){var Ee=ge,me=$,_e=se,ee=function Z(le){if(!F){F=[];var se=le.bitrateList,ge=[];x=se[0].bandwidth,se.forEach(function(pe){ge.push(pe.bandwidth),pe.bandwidth<x&&(x=pe.bandwidth)}),w=function g(le){var se=le.map(function(ge){return Math.pow(ge,2)}).reduce(function(ge,$){return ge+$});return Math.sqrt(se)}(ge);for(var $=0;$<se.length;$++)F.push({qualityIndex:$,bitrate:se[$].bandwidth,state:{throughput:se[$].bandwidth/w,latency:0,rebuffer:0,switch:0}});m=function ne(le){var se=[],ge=function ae(le){for(var se=[],ge=0;ge<le;ge++){var $=[Math.random()*b(),Math.random(),Math.random(),Math.random()];se.push($)}return se}(Math.pow(le.length,2));se.push(ge[0]);for(var $=[1,1,1,1],he=1;he<le.length;he++){for(var pe=null,De=null,Ee=0;Ee<ge.length;Ee++){for(var me=ge[Ee],_e=null,ee=0;ee<se.length;ee++){var ce=h(me,se[ee],$);(null===_e||ce<_e)&&(_e=ce)}(null===De||_e>De)&&(pe=me,De=_e)}se.push(pe)}for(var J=null,H=null,P=0;P<se.length;P++){for(var L=0,N=0;N<se.length;N++)P!==N&&(L+=h(se[P],se[N],$));(null===J||L>J)&&(J=L,H=P)}var Q=[];for(Q.push(se[H]),se.splice(H,1);se.length>0;){for(var O=null,U=null,k=0;k<se.length;k++){var G=h(Q[0],se[k],$);(null===O||G<O)&&(O=G,U=k)}Q.push(se[U]),se.splice(U,1)}return Q}(F)}return F}(le),ce=se/w;ce>1&&(ce=b()),ge/=j,S.debug("getNextQuality called throughput:".concat(ce," latency:").concat(ge," bufferSize:").concat($," currentQualityIndex:").concat(pe," playbackRate:").concat(he));var N=ee[pe],Q=N.bitrate*De.getSegmentDuration()/_e,O=Math.max(0,Q-me);if(me-Q<De.getMinBuffer())return S.debug("Buffer is low for bitrate= ".concat(N.bitrate," downloadTime=").concat(Q," currentBuffer=").concat(me," rebuffer=").concat(O)),function z(le,se){var ge=0,$=le;if(F)for(var he=0;he<F.length;he++){var pe=F[he];pe.bitrate<le.bitrate&&pe.bitrate>ge&&se>pe.bitrate&&(ge=pe.bitrate,$=pe)}return $}(N,_e).qualityIndex;switch(d){case T.MANUAL:!function ie(){y=[.4,.4,.4,.4]}();break;case T.RANDOM:!function ue(le){y=function te(le,se){for(var ge=[],$=Math.sqrt(2/le),he=0;he<se;he++)ge.push(Math.random()*$);return y=ge}(le.length,4)}(ee);break;default:!function Y(le,se,ge,$,he,pe,De){y||(y=m[m.length-1]);var Ee=le.findWeightVector(se,ge,$,he,pe,De);null!==Ee&&-1!==Ee&&(y=Ee)}(De,ee,Ee,me,O,_e,he)}for(var U=null,k=null,G=null,oe=0;oe<ee.length;oe++){var de=ee[oe],q=de.state,be=[q.throughput,q.latency,q.rebuffer,q.switch],ve=y.slice(),Ce=De.getNextBufferWithBitrate(de.bitrate,me,_e),xe=Ce<De.getMinBuffer();xe&&S.debug("Buffer is low for bitrate=".concat(de.bitrate," downloadTime=").concat(Q," currentBuffer=").concat(me," nextBuffer=").concat(Ce)),(de.bitrate>se-1e4||xe)&&de.bitrate!==x&&(ve[0]=100);var He=h(be,[ce,0,0,0],ve);(null===U||He<U)&&(U=He,k=de.qualityIndex,G=de)}var je=Math.abs(N.bitrate-G.bitrate)/w;return I(N,ee,[ce,ge,O,je]),I(G,ee,[ce,0,0,je]),k},reset:function _(){E()}},function D(){S=(0,C.default)(M).getInstance().getLogger(f),E()}(),f}p.__dashjs_factory_name="LearningAbrController";const A=V.default.getClassFactory(p)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function T(){var A,M,f,S,F;function j(){M=null,f=null,S=null,F=null}function y(b,g,h,R){var I=new C.default;return I.type=b,I.weights.bitrateReward=g||1,I.weights.bitrateSwitchPenalty=1,I.weights.rebufferPenalty=h||1e3,I.weights.latencyPenalty=[],I.weights.latencyPenalty.push({threshold:1.1,penalty:.05*R}),I.weights.latencyPenalty.push({threshold:1e8,penalty:.1*h}),I.weights.playbackSpeedPenalty=R||200,I}function d(b,g,h,R,I){I.bitrateWSum+=I.weights.bitrateReward*b,I.lastBitrate&&(I.bitrateSwitchWSum+=I.weights.bitrateSwitchPenalty*Math.abs(b-I.lastBitrate)),I.lastBitrate=b,I.rebufferWSum+=I.weights.rebufferPenalty*g;for(var W=0;W<I.weights.latencyPenalty.length;W++){var z=I.weights.latencyPenalty[W];if(h<=z.threshold){I.latencyWSum+=z.penalty*h;break}}I.playbackSpeedWSum+=I.weights.playbackSpeedPenalty*Math.abs(1-R),I.totalQoe=I.bitrateWSum-I.bitrateSwitchWSum-I.rebufferWSum-I.latencyWSum-I.playbackSpeedWSum}return A={setupPerSegmentQoe:function x(b,g,h){M=y("segment",b,g,h),f=b,S=g,F=h},logSegmentMetrics:function m(b,g,h,R){M&&d(b,g,h,R,M)},getPerSegmentQoe:function D(){return M},calculateSingleUseQoe:function _(b,g,h,R){var I=null;return f&&S&&F&&(I=y("segment",f,S,F)),I?(d(b,g,h,R,I),I.totalQoe):0},reset:function E(){j()}},function w(){j()}(),A}T.__dashjs_factory_name="LoLpQoeEvaluator";const p=V.default.getClassFactory(T)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>x});var V=u(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),C=u(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=u(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),p=u(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),A=u(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),M=u(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),f=u(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),S=u(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js"),F=1.5,w=.3;function j(y){var D,_,E,b,m=(y=y||{}).dashMetrics,d=this.context;return _={getMaxIndex:function h(W){try{var z=(0,A.default)(d).create(),re=W.getMediaInfo().type,ie=W.getAbrController(),ue=W.getStreamInfo(),Y=ie.getQualityFor(re,ue.id),te=W.getMediaInfo(),Z=m.getCurrentBufferState(re),ae=W.getScheduleController(),ne=m.getCurrentBufferLevel(re,!0),le=ue&&ue.manifestInfo?ue.manifestInfo.isDynamic:null,se=ae.getPlaybackController(),ge=se.getCurrentLiveLatency();if(!W.useLoLPABR()||re===S.default.AUDIO)return z;ge||(ge=0);var $=se.getPlaybackRate(),pe=ie.getThroughputHistory().getSafeAverageThroughput(re,le);if(D.debug("Throughput ".concat(Math.round(pe)," kbps")),isNaN(pe)||!Z||ie.getAbandonmentStateFor(ue.id,re)===M.default.ABANDON_LOAD)return z;for(var De=te.bitrateList,Ee=W.getRepresentationInfo().fragmentDuration,me=De[0].bandwidth/1e3,_e=De[De.length-1].bandwidth/1e3,ee=0;ee<De.length;ee++){var ce=De[ee].bandwidth/1e3;ce>_e?_e=ce:ce<me&&(me=ce)}var H=De[Y].bandwidth/1e3,P=m.getCurrentHttpRequest(re,!0),L=(P.tresponse.getTime()-P.trequest.getTime())/1e3,N=L>Ee?L-Ee:0;b.setupPerSegmentQoe(Ee,_e,me),b.logSegmentMetrics(H,N,ge,$);var Q=(0,f.default)(d).create({targetLatency:F,bufferMin:w,segmentDuration:Ee,qoeEvaluator:b});return z.quality=E.getNextQuality(te,1e3*pe,ge,ne,$,Y,Q),z.reason={throughput:pe,latency:ge},z.priority=A.default.PRIORITY.STRONG,ae.setTimeToLoadDelay(0),z.quality!==Y&&console.log("[TgcLearningRule]["+re+"] requesting switch to index: ",z.quality,"Average throughput",Math.round(pe),"kbps"),z}catch(O){throw O}},reset:function I(){!function R(){E.reset(),b.reset()}()}},function g(){D=(0,V.default)(d).getInstance().getLogger(_),E=(0,T.default)(d).create(),b=(0,p.default)(d).create()}(),_}j.__dashjs_factory_name="LoLPRule";const x=C.default.getClassFactory(j)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(p){var F,x,y,A=p.targetLatency,M=p.bufferMin,f=p.segmentDuration,S=p.qoeEvaluator;function g(){return f}function R(I,W){var z=g();return W>z?I-z:I+z-W}return F={getMinBuffer:function b(){return M},getSegmentDuration:g,getNextBufferWithBitrate:function h(I,W,z){return R(W,I*f/z)},getNextBuffer:R,findWeightVector:function D(I,W,z,re,ie,ue){var Y=null,te=null,Z=null,ae=Math.abs(W-y);return I.forEach(function(ne){x.forEach(function(le){var se_latency=le[1],se_buffer=le[2],ge=ne.bitrate*f/ie,$=R(z,ge),he=Math.max(1e-5,ge-$),me=S.calculateSingleUseQoe(ne.bitrate,(0===se_buffer?10:1/se_buffer)*he,(0===se_latency?10:1/se_latency)*ne.state.latency,ue);(null===Y||me>Y)&&function _(I,W,z){return!(I>A+z)&&W>=M}(W,$,ae)&&(Y=me,te=le,Z=ne.bitrate)})}),null===te&&null===Z&&(te=-1),y=W,te}},function m(){!function d(){x=function E(I,W){return function ie(ue,Y,te){if(te===Y)return ue;for(var Z=ue.length,ae=0;ae<Z;ae++)for(var ne=ue.shift(),le=0;le<I.length;le++)ue.push(ne.concat(I[le]));return ie(ue,Y,te+1)}(I.map(function(ie){return[ie]}),W,1)}([.2,.4,.6,.8,1],4),y=0}()}(),F}C.__dashjs_factory_name="LoLpWeightSelector";const T=V.default.getClassFactory(C)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(){var p=0;function M(y){for(var m="",d=0;d<y.length;++d)m+=y[d].uchar;return m.length-m.replace(/^\s+/,"").length}function f(y){return"left: "+3.125*y.x+"%; top: "+6.66*y.y1+"%; width: "+(100-3.125*y.x)+"%; height: "+6.66*Math.max(y.y2-1-y.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function S(y){return"red"===y?"rgb(255, 0, 0)":"green"===y?"rgb(0, 255, 0)":"blue"===y?"rgb(0, 0, 255)":"cyan"===y?"rgb(0, 255, 255)":"magenta"===y?"rgb(255, 0, 255)":"yellow"===y?"rgb(255, 255, 0)":"white"===y?"rgb(255, 255, 255)":"black"===y?"rgb(0, 0, 0)":y}function F(y,m){var d=y.videoHeight/15;return m?"font-size: "+d+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(m.foreground?S(m.foreground):"rgb(255, 255, 255)")+"; font-style: "+(m.italics?"italic":"normal")+"; text-decoration: "+(m.underline?"underline":"none")+"; white-space: pre; background-color: "+(m.background?S(m.background):"transparent")+";":"font-size: "+d+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function w(y){return y.replace(/^\s+/g,"")}function j(y){return y.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function x(y,m,d,D){var re,ie,_=null,b=!1,g=-1,h={start:m,end:d,spans:[]},R="style_cea608_white_black",I={},W={},z=[];for(re=0;re<15;++re){var ue=D.rows[re],Y="",te=null;if(!1===ue.isEmpty()){var Z=M(ue.chars);null===_&&(_={x:Z,y1:re,y2:re+1,p:[]}),Z!==g&&b&&(_.p.push(h),h={start:m,end:d,spans:[]},_.y2=re,_.name="region_"+_.x+"_"+_.y1+"_"+_.y2,!1===I.hasOwnProperty(_.name)?(z.push(_),I[_.name]=_):I[_.name].p.contat(_.p),_={x:Z,y1:re,y2:re+1,p:[]});for(var ae=0;ae<ue.chars.length;++ae){var ne=ue.chars[ae],le=ne.penState;if(null===te||!le.equals(te)){Y.trim().length>0&&(h.spans.push({name:R,line:Y,row:re}),Y="");var se="style_cea608_"+le.foreground+"_"+le.background;le.underline&&(se+="_underline"),le.italics&&(se+="_italics"),W.hasOwnProperty(se)||(W[se]=JSON.parse(JSON.stringify(le))),te=le,R=se}Y+=ne.uchar}Y.trim().length>0&&h.spans.push({name:R,line:Y,row:re}),b=!0,g=Z}else b=!1,g=-1,_&&(_.p.push(h),h={start:m,end:d,spans:[]},_.y2=re,_.name="region_"+_.x+"_"+_.y1+"_"+_.y2,!1===I.hasOwnProperty(_.name)?(z.push(_),I[_.name]=_):I[_.name].p.contat(_.p),_=null)}_&&(_.p.push(h),_.y2=re+1,_.name="region_"+_.x+"_"+_.y1+"_"+_.y2,!1===I.hasOwnProperty(_.name)?(z.push(_),I[_.name]=_):I[_.name].p.contat(_.p),_=null);var ge=[];for(re=0;re<z.length;++re){var $=z[re],he="sub_cea608_"+p++,pe=document.createElement("div");pe.id=he;var De=f($);pe.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+De;var Ee=document.createElement("div");Ee.className="paragraph bodyStyle",Ee.style.cssText=F(y);var me=document.createElement("div");me.className="cueUniWrapper",me.style.cssText="unicode-bidi: normal; direction: ltr;";for(var _e=0;_e<$.p.length;++_e){var ee=$.p[_e],ce=0;for(ie=0;ie<ee.spans.length;++ie){var J=ee.spans[ie];if(J.line.length>0){if(0!==ie&&ce!=J.row){var H=document.createElement("br");H.className="lineBreak",me.appendChild(H)}var P=!1;ce===J.row&&(P=!0),ce=J.row;var L=W[J.name],N=document.createElement("span");N.className="spanPadding "+J.name+" customSpanColor",N.style.cssText=F(y,L),N.textContent=0!==ie&&P?ie===ee.spans.length-1?j(J.line):J.line:ee.spans.length>1&&ie<ee.spans.length-1&&J.row===ee.spans[ie+1].row?w(J.line):J.line.trim(),me.appendChild(N)}}}Ee.appendChild(me),pe.appendChild(Ee);var Q={bodyStyle:["%",90]};for(var O in W)W.hasOwnProperty(O)&&(Q[O]=["%",90]);ge.push({type:"html",start:m,end:d,cueHTMLElement:pe,cueID:he,cellResolution:[32,15],isFromCEA608:!0,fontSize:Q,lineHeight:{},linePadding:{}})}return ge}}}C.__dashjs_factory_name="EmbeddedTextHtmlRender";const T=V.default.getSingletonFactory(C)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>w});var V=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),C=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),T=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),A=u(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),M=u(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),f=u(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),S="NotFragmentedTextBufferController";function F(j){j=j||{};var E,b,g,h,R,I,x=this.context,y=(0,V.default)(x).getInstance(),m=j.textController,d=j.errHandler,D=j.streamInfo,_=j.type;function Z(G){h=G}function $(G){b!==G&&(b=G)&&function k(G,oe){y.trigger(G,oe||{},{streamId:D.id,mediaType:_})}(C.default.BUFFERING_COMPLETED)}function De(G){!G.chunk.bytes||b||(I.save(G.chunk),R.append(G.chunk),$(!0))}return E={initialize:function re(G){Z(G)},getStreamId:function ue(){return D.id},getType:function Y(){return _},getBufferControllerType:function z(){return S},createBufferSink:function ie(G){return new Promise(function(oe,de){try{(R=(0,A.default)(x).create({mediaSource:h,textController:m,eventBus:y})).initializeForFirstUse(D,G),g||(R.getBuffer()&&"function"==typeof R.getBuffer().initialize&&R.getBuffer().initialize(),g=!0),oe(R)}catch(q){d.error(new M.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+_)),de(q)}})},dischargePreBuffer:function le(){},getBuffer:function te(){return R},getBufferLevel:function se(){return 0},getRangeAt:function Ee(){return null},pruneBuffer:function J(){},hasBufferAtTime:function me(){return!0},getAllRangesWithSafetyFactor:function _e(){return[]},getContinuousBufferTimeForTargetTime:function ee(){return Number.POSITIVE_INFINITY},setMediaSource:Z,getMediaSource:function ae(){return h},appendInitSegmentFromCache:function pe(G){return null!==I.extract(D.id,G)},getIsBufferingCompleted:function ge(){return b},setIsBufferingCompleted:$,getIsPruningInProgress:function ne(){return!1},reset:function he(G){y.off(C.default.INIT_FRAGMENT_LOADED,De,E),!G&&R&&(R.abort(),R.reset(),R=null)},clearBuffers:function ce(){return Promise.resolve()},prepareForPlaybackSeek:function P(){return Promise.resolve()},prepareForReplacementTrackSwitch:function L(){return b=!1,Promise.resolve()},setSeekTarget:function Q(){},updateAppendWindow:function N(){return Promise.resolve()},pruneAllSafely:function U(){return Promise.resolve()},updateBufferTimestampOffset:function H(){return Promise.resolve()},segmentRequestingCompleted:function O(){}},function W(){g=!1,h=null,b=!1,I=(0,p.default)(x).getInstance(),y.on(C.default.INIT_FRAGMENT_LOADED,De,E)}(),E}F.__dashjs_factory_name=S;const w=T.default.getClassFactory(F)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),T=u(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),p=u(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),A=u(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),M=u(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),f=u(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),S=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),w=u(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),j=u(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function x(m){var R,I,W,z,re,ie,ue,Y,te,Z,ae,ne,d=this.context,D=m.adapter,_=m.errHandler,E=m.manifestModel,b=m.mediaController,g=m.videoModel,h=m.settings;function me(G){var oe=G.tracks,de=G.index,q=G.streamId;if(!1===h.get().streaming.text.defaultEnabled&&!J()||ne)P(q,-1);else{var ve=b.getCurrentTrackFor(V.default.TEXT,q);if(ve){var Ce={lang:ve.lang,role:ve.roles[0],index:ve.index,codec:ve.codec,accessibility:ve.accessibility[0]};oe.some(function(xe,He){if(b.matchSettings(Ce,xe))return P(q,He),de=He,!0})}te=!1}I[q].lastEnabledIndex=de,Y.trigger(w.default.TEXT_TRACKS_ADDED,{enabled:J(),index:de,tracks:oe,streamId:q}),ae=!0}function _e(G){try{var oe=G.streamId;if(!z[oe]||isNaN(G.time))return;z[oe].manualCueProcessing(G.time)}catch{}}function ee(G){try{var oe=G.streamId;if(!z[oe])return;z[oe].disableManualTracks()}catch{}}function J(){var G=!0;return te&&!Z&&(G=!1),G}function P(G,oe){(te=-1===oe)&&b&&b.saveTextSettingsDisabled();var de=Q(G);if(de!==oe&&z[G]){z[G].disableManualTracks(),z[G].setModeForTrackIdx(de,V.default.TEXT_HIDDEN),z[G].setCurrentTrackIdx(oe),z[G].setModeForTrackIdx(oe,V.default.TEXT_SHOWING);var q=z[G].getCurrentTrackInfo();q&&q.isFragmented&&!q.isEmbedded?function L(G,oe,de){if(W[G])for(var be=W[G].getConfig().fragmentedTracks,ve=0;ve<be.length;ve++){var Ce=be[ve];if(oe.lang===Ce.lang&&(Ce.id?oe.id===Ce.id:oe.index===Ce.index)){var xe=b.getCurrentTrackFor(V.default.TEXT,G);(Ce.id?xe.id!==Ce.id:xe.index!==Ce.index)?(z[G].deleteCuesFromTrackIdx(de),W[G].setCurrentFragmentedTrackIdx(ve)):-1===de&&Y.trigger(F.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:G,mediaType:V.default.TEXT})}}}(G,q,de):q&&!q.isFragmented&&function N(G,oe){Y.trigger(F.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:oe},{streamId:G,mediaType:V.default.TEXT})}(G,q),b.setTrack(q)}}function Q(G){return z[G].getCurrentTrackIdx()}function U(){W={},z={},I={},te=!0,ae=!1,ne=!1}return R={deactivateStream:function O(G){if(G){var oe=G.id;W[oe]&&W[oe].resetMediaInfos(),z[oe]&&z[oe].deleteAllTextTracks()}},initialize:function se(){Y.on(F.default.TEXT_TRACKS_QUEUE_INITIALIZED,me,R),h.get().streaming.text.webvtt.customRenderingEnabled&&(Y.on(F.default.PLAYBACK_TIME_UPDATED,_e,R),Y.on(F.default.PLAYBACK_SEEKING,ee,R))},initializeForStream:function ge(G){var oe=G.id,de=(0,p.default)(d).create({videoModel:g,settings:h,streamInfo:G});de.initialize(),z[oe]=de;var q=(0,T.default)(d).create({errHandler:_,adapter:D,manifestModel:E,mediaController:b,videoModel:g,textTracks:de,vttParser:re,vttCustomRenderingParser:ie,ttmlParser:ue,streamInfo:G,settings:h});q.initialize(),W[oe]=q,I[oe]={},I[oe].lastEnabledIndex=-1},createTracks:function $(G){var oe=G.id;z[oe]&&z[oe].createTracks()},getTextSourceBuffer:function pe(G){var oe=G.id;if(W&&W[oe])return W[oe]},getAllTracksAreDisabled:function De(){return te},addEmbeddedTrack:function Ee(G,oe){var de=G.id;W[de]&&W[de].addEmbeddedTrack(oe)},enableText:function ce(G,oe){(0,j.checkParameterType)(oe,"boolean"),J()!==oe&&(oe&&P(G,I[G].lastEnabledIndex),oe||(I[G].lastEnabledIndex=Q(G),ae?P(G,-1):ne=!0))},isTextEnabled:J,setTextTrack:P,getCurrentTrackIdx:Q,enableForcedTextStreaming:function H(G){(0,j.checkParameterType)(G,"boolean"),Z=G},addMediaInfosToBuffer:function he(G,oe,de){var be=G.id;W[be]&&W[be].addMediaInfos(oe,de,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function k(){U(),Y.off(F.default.TEXT_TRACKS_QUEUE_INITIALIZED,me,R),h.get().streaming.text.webvtt.customRenderingEnabled&&(Y.off(F.default.PLAYBACK_TIME_UPDATED,_e,R),Y.off(F.default.PLAYBACK_SEEKING,ee,R)),Object.keys(W).forEach(function(G){W[G].resetEmbedded(),W[G].reset()})}},function le(){Z=!1,ae=!1,ne=!1,re=(0,A.default)(d).getInstance(),ie=(0,M.default)(d).getInstance(),ue=(0,f.default)(d).getInstance(),Y=(0,S.default)(d).getInstance(),U()}(),R}x.__dashjs_factory_name="TextController";const y=C.default.getClassFactory(x)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>_});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),T=u(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),p=u(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),A=u(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),M=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),f=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),S=u(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),F=u(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),w=u(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),j=u.n(w),x=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=u(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),d=u(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function D(E){var ae,ne,le,se,ge,$,he,pe,De,Ee,me,_e,ee,ce,J,H,b=E.errHandler,g=E.manifestModel,h=E.mediaController,R=E.videoModel,I=E.textTracks,W=E.vttParser,z=E.vttCustomRenderingParser,re=E.ttmlParser,ie=E.streamInfo,ue=E.settings,Y=this.context,te=(0,x.default)(Y).getInstance(),Z=!1;function Q(){(function N(){$=null,pe=NaN,De=[],Ee=null,he=!1})(),ge=[],se=null}function k(at){var Ae=new T.default;for(var Oe in at)Ae[Oe]=at[Oe];Ae.labels=at.labels,Ae.defaultTrack=function pt(at){var Ae=!1;return _e.length>1&&at.isEmbedded?Ae=at.id&&at.id===V.default.CC1:1===_e.length?at.id&&"string"==typeof at.id&&"CC"===at.id.substring(0,2)&&(Ae=!0):0===_e.length&&(Ae=at.index===ge[0].index),Ae}(at),Ae.isFragmented=at.isFragmented,Ae.isEmbedded=!!at.isEmbedded,Ae.isTTML=function He(at){return at.codec&&at.codec.search(V.default.STPP)>=0||at.mimeType&&at.mimeType.search(V.default.TTML)>=0}(at),Ae.kind=function je(at,Ae){var ye=at.roles&&at.roles.length>0?Ae[at.roles[0]]:Ae.caption;return ye===Ae.caption||ye===Ae.subtitle?ye:Ae.caption}(at,{subtitle:"subtitles",caption:"captions"}),I.addTextTrack(Ae)}function de(at){var Ae=at.chunk;Ae.mediaInfo.embeddedCaptions&&rt(Ae.bytes,Ae)}function xe(at){me=at}function rt(at,Ae){var ye=Ae.mediaInfo,Oe=ye.type,Ke=ye.codec||ye.mimeType;Ke?-1!==ye.codec.indexOf("application/mp4")?function it(at,Ae,ye){var Oe;if("InitializationSegment"===Ae.segmentType)he=!0,pe=le.getMediaTimescaleFromMoov(at);else{if(!he)return;(Oe=le.getSamplesInfo(at).sampleList).length>0&&(Ee=Oe[0].cts-Ae.start*pe),ye.search(V.default.STPP)>=0?function Re(at,Ae,ye){var Oe,We;for(se=null!==se?se:Tt(ye),Oe=0;Oe<Ae.length;Oe++){var Ke=Ae[Oe],ut=Ke.cts,Et=qe(),gt=Et+ut/pe;ae.buffered.add(gt,gt+Ke.duration/pe);var Wt=new DataView(at,Ke.offset,Ke.subSizes[0]),Kt=F.Utils.dataViewToString(Wt,V.default.UTF8),Pe=[],ze=Ke.offset+Ke.subSizes[0];for(We=1;We<Ke.subSizes.length;We++){var mt=new Uint8Array(at,ze,Ke.subSizes[We]),Lt=String.fromCharCode.apply(null,mt);Pe.push(Lt),ze+=Ke.subSizes[We]}try{var At=g.getValue(),on=se.parse(Kt,At.ttmlTimeIsRelative?ut/pe:0,ut/pe,(ut+Ke.duration)/pe,Pe);I.addCaptions(me,Et,on)}catch(vn){$.removeExecutedRequestsBeforeTime(),this.remove(),ne.error("TTML parser error: "+vn.message)}}}(at,Oe,ye):function Be(at,Ae){var ye,Oe,We,Ke=[];for(ye=0;ye<Ae.length;ye++){var ut=Ae[ye];ut.cts-=Ee;var gt=qe()+ut.cts/pe;ae.buffered.add(gt,gt+ut.duration/pe);var Wt=at.slice(ut.offset,ut.offset+ut.size),Kt=F.parseBuffer(Wt);for(Oe=0;Oe<Kt.boxes.length;Oe++){var Pe=Kt.boxes[Oe];if(ne.debug("VTT box1: "+Pe.type),"vtte"!==Pe.type&&"vttc"===Pe.type)for(ne.debug("VTT vttc boxes.length = "+Pe.boxes.length),We=0;We<Pe.boxes.length;We++){var ze=Pe.boxes[We];if(ne.debug("VTT box2: "+ze.type),"payl"===ze.type){var mt=ze.cue_text;ne.debug("VTT cue_text = "+mt);var Lt=ut.cts/pe,At=(ut.cts+ut.duration)/pe;Ke.push({start:Lt,end:At,data:mt,styles:{}}),ne.debug("VTT "+Lt+"-"+At+" : "+mt)}}}}Ke.length>0&&I.addCaptions(me,0,Ke)}(at,Oe)}}(at,Ae,Ke):Oe===V.default.VIDEO?function yt(at,Ae){var ye,Oe;if(Ae.segmentType===C.HTTPRequest.INIT_SEGMENT_TYPE)0===ee&&(ee=le.getMediaTimescaleFromMoov(at));else if(Ae.segmentType===C.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===ee)return void ne.warn("CEA-608: No timescale for embeddedTextTrack yet");var We=(Oe=le.getSamplesInfo(at)).lastSequenceNumber;if(!J[0]&&!J[1]&&function Dt(){for(var at,Ae=0;Ae<_e.length;Ae++){if(-1===(at=I.getTrackIdxForId(_e[Ae].id)))return void ne.warn("CEA-608: data before track is ready.");var ye=Fe(at);J[Ae]=new(j().Cea608Parser)(Ae+1,{newCue:ye},null)}}(),ee){if(null!==ce&&We!==ce+Oe.numSequences)for(ye=0;ye<J.length;ye++)J[ye]&&J[ye].reset();for(var Ke=function Ze(at,Ae){if(0===Ae.length)return null;for(var ye={splits:[],fields:[[],[]]},Oe=new DataView(at),We=0;We<Ae.length;We++)for(var Ke=Ae[We],ut=j().findCea608Nalus(Oe,Ke.offset,Ke.size),Et=null,gt=0,St=0;St<ut.length;St++)for(var Wt=j().extractCea608DataFromRange(Oe,ut[St]),Kt=0;Kt<2;Kt++)if(Wt[Kt].length>0){Ke.cts!==Et?gt=0:gt+=1;var Pe=qe();ye.fields[Kt].push([Ke.cts+Pe*ee,Wt[Kt],gt]),Et=Ke.cts}return ye.fields.forEach(function(mt){mt.sort(function(Lt,At){return Lt[0]===At[0]?Lt[2]-At[2]:Lt[0]-At[0]})}),ye}(at,Oe.sampleList),ut=0;ut<J.length;ut++){var Et=Ke.fields[ut],gt=J[ut];if(gt)for(ye=0;ye<Et.length;ye++)gt.addData(Et[ye][0]/ee,Et[ye][1])}ce=We}}}(at,Ae):function ct(at,Ae,ye){var Oe,We,Ke=new DataView(at,0,at.byteLength);We=F.Utils.dataViewToString(Ke,V.default.UTF8);try{Oe=Tt(ye).parse(We,0),I.addCaptions(I.getCurrentTrackIdx(),0,Oe),ae.buffered&&ae.buffered.add(Ae.start,Ae.end)}catch(ut){b.error(new m.default(d.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,d.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+ut.message,We))}}(at,Ae,Ke):ne.error("No text type defined")}function Fe(at){return function Ae(ye,Oe,We){var Ke;(Ke=R.getTTMLRenderingDiv()?H.createHTMLCaptionsFromScreen(R.getElement(),ye,Oe,We):[{start:ye,end:Oe,data:We.getDisplayText(),styles:{}}])&&I.addCaptions(at,0,Ke)}}function qe(){return isNaN(ae.timestampOffset)?0:ae.timestampOffset}function Tt(at){var Ae;return at.search(V.default.VTT)>=0?Ae=ue.get().streaming.text.webvtt.customRenderingEnabled&&z?z:W:(at.search(V.default.TTML)>=0||at.search(V.default.STPP)>=0)&&(Ae=re),Ae}function wt(at){_e.forEach(function(Ae){var ye=I.getTrackIdxForId(Ae.id);ye>=0&&I.deleteCuesFromTrackIdx(ye,at.from,at.to)})}return ae={initialize:function O(){Z||function q(){_e=[],me=null,ee=0,J=[],ce=null,Z=!0,H=(0,S.default)(Y).getInstance(),te.on(y.default.VIDEO_CHUNK_RECEIVED,de,ae),te.on(y.default.BUFFER_CLEARED,wt,ae)}()},addMediaInfos:function U(at,Ae,ye){if(ge=ge.concat(Ae),at===V.default.TEXT&&Ae[0].isFragmented&&!Ae[0].isEmbedded){$=ye,ae.buffered=(0,A.default)(Y).create(),De=h.getTracksFor(V.default.TEXT,ie.id).filter(function(ut){return ut.isFragmented});for(var Oe=h.getCurrentTrackFor(V.default.TEXT,ie.id),We=0;We<De.length;We++)if(De[We]===Oe){xe(We);break}}for(var Ke=0;Ke<Ae.length;Ke++)k(Ae[Ke])},resetMediaInfos:function rn(){ge=[]},getStreamId:function L(){return ie.id},append:rt,abort:function G(){},addEmbeddedTrack:function ve(at){if(Z&&at)if(at.id===V.default.CC1||at.id===V.default.CC3){for(var Ae=0;Ae<_e.length;Ae++)if(_e[Ae].id===at.id)return;_e.push(at)}else ne.warn("Embedded track "+at.id+" not supported!")},resetEmbedded:function be(){te.off(y.default.VIDEO_CHUNK_RECEIVED,de,ae),te.off(y.default.BUFFER_CLEARED,wt,ae),I&&I.deleteAllTextTracks(),Z=!1,_e=[],J=[null,null],ce=null},getConfig:function Ce(){return{fragmentModel:$,fragmentedTracks:De,videoModel:R}},setCurrentFragmentedTrackIdx:xe,remove:function It(at,Ae){void 0===at&&at===Ae&&(at=ae.buffered.start(0),Ae=ae.buffered.end(ae.buffered.length-1)),ae.buffered.remove(at,Ae),I.deleteCuesFromTrackIdx(me,at,Ae)},reset:function oe(){Q(),ge=[],le=null}},function P(){ne=(0,f.default)(Y).getInstance().getLogger(ae),le=(0,p.default)(Y).getInstance(),Q()}(),ae}D.__dashjs_factory_name="TextSourceBuffer";const _=M.default.getClassFactory(D)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=u(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),A=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),M=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),f=u(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function w(m,d){(null==d||d>m.length)&&(d=m.length);for(var D=0,_=new Array(d);D<d;D++)_[D]=m[D];return _}var j=["text","images","embeddedImages","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function x(m){var g,h,R,I,W,z,re,ie,ue,Y,te,Z,ae,ne,le,se,ge,$,d=this.context,D=(0,C.default)(d).getInstance(),_=m.videoModel,E=m.streamInfo,b=m.settings;function Ee(Fe){return _.addTextTrack(Fe.kind,void 0!==Fe.id?Fe.id:Fe.lang,Fe.lang,Fe.isTTML,Fe.isEmbedded)}function ee(Fe,Ze,qe,pt,Tt,It){var at=0,Ae=0;Fe/Ze>qe/pt?at=(Ae=Ze)/pt*qe:Ae=(at=Fe)/qe*pt;var ye,Oe,We=0,Ke=0;return at/Ae>Tt?(Ke=Ae,We=Ae*Tt):(We=at,Ke=at/Tt),ye=(Fe-We)/2,Oe=(Ze-Ke)/2,It?{x:ye+.1*We,y:Oe+.1*Ke,w:.8*We,h:.8*Ke}:{x:ye,y:Oe,w:We,h:Ke}}function ce(Fe,Ze){var qe=_.getClientWidth(),pt=_.getClientHeight(),Tt=_.getVideoWidth(),It=_.getVideoHeight(),wt=_.getVideoRelativeOffsetTop(),rn=_.getVideoRelativeOffsetLeft();if(0!==Tt&&0!==It){var at=Tt/It,Ae=!1;Fe.isFromCEA608&&(at=1.1666666666666667,Ae=!0);var ye=ee.call(this,qe,pt,Tt,It,at,Ae),Oe=ye.w,We=ye.h,Ke=ye.x,ut=ye.y;if(Oe!=ue||We!=Y||Ke!=re||ut!=ie||Ze){if(re=Ke+rn,ie=ut+wt,ue=Oe,Y=We,te){var Et=te.style;Et&&(Et.left=re+"px",Et.top=ie+"px",Et.width=ue+"px",Et.height=Y+"px",Et.zIndex=ne&&document[ne]||le?ge:null,D.trigger(p.default.CAPTION_CONTAINER_RESIZE))}var gt=Fe.activeCues;if(gt)for(var St=gt.length,Wt=0;Wt<St;++Wt){var Kt=gt[Wt];Kt.scaleCue(Kt)}}}}function J(Fe){var pt,Tt,It,wt,rn;if(Fe.cellResolution){var at=[ue/Fe.cellResolution[0],Y/Fe.cellResolution[1]];if(Fe.linePadding)for(pt in Fe.linePadding)if(Fe.linePadding.hasOwnProperty(pt)){Tt=(Fe.linePadding[pt]*at[0]).toString();for(var ye=document.getElementsByClassName("spanPadding"),Oe=0;Oe<ye.length;Oe++)ye[Oe].style.cssText=ye[Oe].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Tt),ye[Oe].style.cssText=ye[Oe].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Tt)}if(Fe.fontSize){for(pt in Fe.fontSize)if(Fe.fontSize.hasOwnProperty(pt)){"%"===Fe.fontSize[pt][0]?It=Fe.fontSize[pt][1]/100:"c"===Fe.fontSize[pt][0]&&(It=Fe.fontSize[pt][1]),Tt=(It*at[1]).toString(),rn="defaultFontSize"!==pt?document.getElementsByClassName(pt):document.getElementsByClassName("paragraph");for(var We=0;We<rn.length;We++)rn[We].style.cssText=rn[We].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Tt)}if(Fe.lineHeight)for(pt in Fe.lineHeight)if(Fe.lineHeight.hasOwnProperty(pt)){"%"===Fe.lineHeight[pt][0]?wt=Fe.lineHeight[pt][1]/100:"c"===Fe.fontSize[pt][0]&&(wt=Fe.lineHeight[pt][1]),Tt=(wt*at[1]).toString(),rn=document.getElementsByClassName(pt);for(var Ke=0;Ke<rn.length;Ke++)rn[Ke].style.cssText=rn[Ke].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+Tt)}}}if(Fe.isd){var ut=document.getElementById(Fe.cueID);ut&&te.removeChild(ut),H(Fe)}}function H(Fe){if(te){var Ze=document.createElement("div");te.appendChild(Ze),se=(0,f.renderHTML)(Fe.isd,Ze,function(qe){var pt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Tt=/^#(.*)$/;if(pt.test(qe)){var It=pt.exec(qe),wt=parseInt(It[4],10)-1;return"data:image/png;base64,"+btoa(Fe.images[wt])}if(Tt.test(qe)){var Ae=Tt.exec(qe);return"data:image/png;base64,"+Fe.embeddedImages[Ae[1]]}return null},te.clientHeight,te.clientWidth,!1,function(qe){h.info("renderCaption :",qe)},se,!0),Ze.id=Fe.cueID,D.trigger(p.default.CAPTION_RENDERED,{captionDiv:Ze,currentTrackIdx:z})}}function P(Fe,Ze){if(!b.get().streaming.text.extendSegmentedCues||!Ze.cues||0===Ze.cues.length)return!1;var qe=Ze.cues[Ze.cues.length-1];return!(qe.endTime!==Fe.startTime||!function L(Fe,Ze,qe){for(var pt=0;pt<qe.length;pt++){var Tt=qe[pt];if(JSON.stringify(Fe[Tt])!==JSON.stringify(Ze[Tt]))return!1}return!0}(qe,Fe,j)||(qe.endTime=Fe.endTime,0))}function N(Fe,Ze,qe){var pt=oe(Fe);if(pt&&Array.isArray(qe)&&0!==qe.length)for(var Tt=0;Tt<qe.length;Tt++){var It=void 0,wt=qe[Tt];pt.cellResolution=wt.cellResolution,pt.isFromCEA608=wt.isFromCEA608,!isNaN(wt.start)&&!isNaN(wt.end)&&(It="html"===wt.type&&te?Q(wt,Ze,pt):wt.data?O(wt,Ze,pt):null);try{It?Ce(pt,It)||(b.get().streaming.text.webvtt.customRenderingEnabled?(pt.manualCueList||(pt.manualCueList=[]),pt.manualCueList.push(It)):P(It,pt)||pt.addCue(It)):h.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(rn){throw He(pt),pt.addCue(It),rn}}}function Q(Fe,Ze,qe){var pt=this,Tt=new R(Fe.start+Ze,Fe.end+Ze,"");return Tt.cueHTMLElement=Fe.cueHTMLElement,Tt.isd=Fe.isd,Tt.images=Fe.images,Tt.embeddedImages=Fe.embeddedImages,Tt.cueID=Fe.cueID,Tt.scaleCue=J.bind(pt),Tt.cellResolution=Fe.cellResolution,Tt.lineHeight=Fe.lineHeight,Tt.linePadding=Fe.linePadding,Tt.fontSize=Fe.fontSize,te.style.left=re+"px",te.style.top=ie+"px",te.style.width=ue+"px",te.style.height=Y+"px",Tt.onenter=function(){qe.mode===V.default.TEXT_SHOWING&&(this.isd?(H(this),h.debug("Cue enter id:"+this.cueID)):(te.appendChild(this.cueHTMLElement),J.call(pt,this),D.trigger(p.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:z})))},Tt.onexit=function(){if(te)for(var It=te.childNodes,wt=0;wt<It.length;++wt)It[wt].id===this.cueID&&(h.debug("Cue exit id:"+It[wt].id),te.removeChild(It[wt]),--wt)},Tt}function O(Fe,Ze,qe){var pt=new R(Fe.start-Ze,Fe.end-Ze,Fe.data);if(pt.cueID="".concat(pt.startTime,"_").concat(pt.endTime),pt.isActive=!1,Fe.styles)try{void 0!==Fe.styles.align&&"align"in pt&&(pt.align=Fe.styles.align),void 0!==Fe.styles.line&&"line"in pt&&(pt.line=Fe.styles.line),void 0!==Fe.styles.position&&"position"in pt&&(pt.position=Fe.styles.position),void 0!==Fe.styles.size&&"size"in pt&&(pt.size=Fe.styles.size)}catch(Tt){h.error(Tt)}return pt.onenter=function(){qe.mode===V.default.TEXT_SHOWING&&D.trigger(p.default.CAPTION_RENDERED,{currentTrackIdx:z})},pt}function G(){var pt,Ze=[],qe=function S(m,d){var D;if(typeof Symbol>"u"||null==m[Symbol.iterator]){if(Array.isArray(m)||(D=function F(m,d){if(m){if("string"==typeof m)return w(m,d);var D=Object.prototype.toString.call(m).slice(8,-1);if("Object"===D&&m.constructor&&(D=m.constructor.name),"Map"===D||"Set"===D)return Array.from(m);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return w(m,d)}}(m))||d&&m&&"number"==typeof m.length){D&&(m=D);var _=0,E=function(){};return{s:E,n:function(){return _>=m.length?{done:!0}:{done:!1,value:m[_++]}},e:function(I){throw I},f:E}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,b=!0,g=!1;return{s:function(){D=m[Symbol.iterator]()},n:function(){var I=D.next();return b=I.done,I},e:function(I){g=!0,h=I},f:function(){try{!b&&null!=D.return&&D.return()}finally{if(g)throw h}}}}(_.getTextTracks());try{for(qe.s();!(pt=qe.n()).done;){var Tt=pt.value;Tt.manualMode===V.default.TEXT_SHOWING&&Ze.push(Tt)}}catch(It){qe.e(It)}finally{qe.f()}return Ze}function oe(Fe){return Fe>=0&&I[Fe]?_.getTextTrack(I[Fe].kind,I[Fe].id,I[Fe].lang,I[Fe].isTTML,I[Fe].isEmbedded):null}function be(Fe){var Ze=this;if(Fe!==z){var qe=oe(z=Fe);ve.call(this,qe),ae&&(clearInterval(ae),ae=null),qe&&"html"===qe.renderingType&&(ce.call(this,qe,!0),window.ResizeObserver?($=new window.ResizeObserver(function(){ce.call(Ze,qe,!0)})).observe(_.getElement()):ae=setInterval(ce.bind(this,qe),500))}}function ve(Fe){ct.call(this),Fe&&"html"===Fe.renderingType?Re.call(this):Be.call(this)}function Ce(Fe,Ze){if(!Fe.cues)return!1;for(var qe=0;qe<Fe.cues.length;qe++)if(Fe.cues[qe].startTime===Ze.startTime&&Fe.cues[qe].endTime===Ze.endTime)return!0;return!1}function xe(Fe,Ze,qe){var pt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Ze)||(pt?Fe.startTime:Fe.endTime)>=Ze)&&(isNaN(qe)||(pt?Fe.endTime:Fe.startTime)<=qe)}function He(Fe,Ze,qe){var pt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(Fe.cues)for(var Tt=Fe.cues,wt=Tt.length-1;wt>=0;wt--)xe(Tt[wt],Ze,qe,pt)&&(Tt[wt].onexit&&Tt[wt].onexit(),Fe.removeCue(Tt[wt]))}function Re(){var Fe=document.getElementById("native-cue-style");if(!Fe){(Fe=document.createElement("style")).id="native-cue-style",document.head.appendChild(Fe);var Ze=Fe.sheet,qe=_.getElement();try{qe&&Ze.insertRule(qe.id?"#"+qe.id+"::cue {background: transparent}":0!==qe.classList.length?"."+qe.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(pt){h.info(""+pt.message)}}}function Be(){var Fe=document.getElementById("native-cue-style");Fe&&document.head.removeChild(Fe)}function ct(){if(te)for(;te.firstChild;)te.removeChild(te.firstChild)}return g={initialize:function pe(){typeof window>"u"||typeof navigator>"u"||(R=window.VTTCue||window.TextTrackCue,I=[],W=[],z=-1,re=0,ie=0,ue=0,Y=0,te=null,Z=null,ae=null,le=!1,ge=2147483647,se=null,void 0!==document.fullscreenElement?ne="fullscreenElement":void 0!==document.webkitIsFullScreen?ne="webkitIsFullScreen":document.msFullscreenElement?ne="msFullscreenElement":document.mozFullScreen&&(ne="mozFullScreen"))},getStreamId:function De(){return E.id},addTextTrack:function me(Fe){I.push(Fe)},addCaptions:N,createTracks:function _e(){I.sort(function(rn,at){return rn.index-at.index}),te=_.getTTMLRenderingDiv(),Z=_.getVttRenderingDiv();for(var Fe=-1,Ze=0;Ze<I.length;Ze++){var qe=Ee(I[Ze]);W.push(qe),I[Ze].defaultTrack&&(qe.default=!0,Fe=Ze);var pt=oe(Ze);pt&&(pt.mode=V.default.TEXT_SHOWING,pt.renderingType=te&&(I[Ze].isTTML||I[Ze].isEmbedded)?"html":"default"),N(Ze,0,I[Ze].captionData),D.trigger(p.default.TEXT_TRACK_ADDED)}if(be.call(this,Fe),Fe>=0){D.on(p.default.PLAYBACK_METADATA_LOADED,function rn(){var at=oe(Fe);at&&"html"===at.renderingType&&ce.call(this,at,!0),D.off(p.default.PLAYBACK_METADATA_LOADED,rn,this)},this);for(var It=0;It<I.length;It++){var wt=oe(It);wt&&(wt.mode=It===Fe?V.default.TEXT_SHOWING:V.default.TEXT_HIDDEN,wt.manualMode=It===Fe?V.default.TEXT_SHOWING:V.default.TEXT_HIDDEN)}}D.trigger(T.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:z,tracks:I,streamId:E.id})},getCurrentTrackIdx:function de(){return z},setCurrentTrackIdx:be,getTrackIdxForId:function q(Fe){for(var Ze=-1,qe=0;qe<I.length;qe++)if(I[qe].id===Fe){Ze=qe;break}return Ze},getCurrentTrackInfo:function Dt(){return I[z]},setModeForTrackIdx:function yt(Fe,Ze){var qe=oe(Fe);qe&&qe.mode!==Ze&&(qe.mode=Ze),qe&&qe.manualMode!==Ze&&(qe.manualMode=Ze)},deleteCuesFromTrackIdx:function je(Fe,Ze,qe){var pt=oe(Fe);pt&&He(pt,Ze,qe)},deleteAllTextTracks:function rt(){for(var Fe=W?W.length:0,Ze=0;Ze<Fe;Ze++){var qe=oe(Ze);qe&&He.call(this,qe,E.start,E.start+E.duration,!1)}W=[],I=[],ae&&(clearInterval(ae),ae=null),$&&_&&($.unobserve(_.getElement()),$=null),z=-1,ct.call(this)},deleteTextTrack:function it(Fe){_.removeChild(W[Fe]),W.splice(Fe,1)},manualCueProcessing:function U(Fe){var Ze=G();if(Ze&&Ze.length>0){var pt=Ze[0].manualCueList;pt&&pt.length>0&&pt.forEach(function(Tt){if(Tt.startTime<=Fe&&Tt.endTime>=Fe&&!Tt.isActive)Tt.isActive=!0,WebVTT.processCues(window,[Tt],Z,Tt.cueID);else if(Tt.isActive&&(Tt.startTime>Fe||Tt.endTime<Fe)&&(Tt.isActive=!1,Z))for(var It=Z.childNodes,wt=0;wt<It.length;++wt)It[wt].id===Tt.cueID&&(Z.removeChild(It[wt]),--wt)})}},disableManualTracks:function k(){var Fe=G();if(Fe&&Fe.length>0){var qe=Fe[0].manualCueList;qe&&qe.length>0&&qe.forEach(function(pt){if(pt.isActive&&(pt.isActive=!1,Z))for(var Tt=Z.childNodes,It=0;It<Tt.length;++It)Tt[It].id===pt.cueID&&(Z.removeChild(Tt[It]),--It)})}}},function he(){h=(0,M.default)(d).getInstance().getLogger(g)}(),g}x.__dashjs_factory_name="TextTracks";const y=A.default.getClassFactory(x)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>S});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),T=u(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),p=u(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),A=u(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),M=u(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function f(F){var x,y,w=this.context,j=F.streamInfo;function b(I){y.setTrackByIndex(I)}function R(){y&&y.reset()}return x={getStreamId:function D(){return j.id},initialize:function d(){y.addTracks();var I=y.getTracks();I&&I.length>0&&b(0)},provide:function _(I,W){if("function"==typeof W){var ie,z=y.getCurrentTrack();if(!z||z.segmentDuration<=0||null==I)return void W(null);(ie=y.getThumbnailRequestForTime(I))&&(z.segmentDuration=ie.duration);var ue=Math.floor(I%z.segmentDuration*z.tilesHor*z.tilesVert/z.segmentDuration),Y=new T.default;if(Y.width=Math.floor(z.widthPerTile),Y.height=Math.floor(z.heightPerTile),Y.x=Math.floor(ue%z.tilesHor)*z.widthPerTile,Y.y=Math.floor(ue/z.tilesHor)*z.heightPerTile,"readThumbnail"in z)return z.readThumbnail(I,function(Z){Y.url=Z,W(Y)});if(ie)Y.url=ie.url,z.segmentDuration=NaN;else{var te=Math.floor(I/z.segmentDuration);Y.url=function E(I,W){var z=W+I.startNumber,re=(0,M.replaceTokenForTemplate)(I.templateUrl,"Number",z);return re=(0,M.replaceTokenForTemplate)(re,"Time",(z-1)*I.segmentDuration*I.timescale),re=(0,M.replaceTokenForTemplate)(re,"Bandwidth",I.bandwidth),(0,M.unescapeDollarsInTemplate)(re)}(z,te)}W(Y)}},setTrackByIndex:b,getCurrentTrackIndex:function g(){return y.getCurrentTrackIndex()},getBitrateList:function h(){var I=y.getTracks(),W=0;return I.map(function(z){var re=new A.default;return re.mediaType=C.default.IMAGE,re.qualityIndex=W++,re.bitrate=z.bitrate,re.width=z.width,re.height=z.height,re})},reset:R},function m(){R(),y=(0,p.default)(w).create({streamInfo:j,adapter:F.adapter,baseURLController:F.baseURLController,timelineConverter:F.timelineConverter,debug:F.debug,eventBus:F.eventBus,events:F.events,dashConstants:F.dashConstants,dashMetrics:F.dashMetrics,segmentBaseController:F.segmentBaseController})}(),x}f.__dashjs_factory_name="ThumbnailController";const S=V.default.getClassFactory(f)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{THUMBNAILS_SCHEME_ID_URIS:()=>j,default:()=>y});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),C=u(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),T=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),A=u(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),M=u(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),f=u(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),S=u(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),F=u(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),w=u(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),j=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function x(m){var z,re,ie,ue,Y,te,Z,ae,d=this.context,D=m.adapter,_=m.baseURLController,E=m.streamInfo,b=m.timelineConverter,g=m.debug,h=m.eventBus,R=m.events,I=m.dashConstants,W=(0,A.default)(d).getInstance();function se(ce,J){var H=new p.default;H.id=ce.id,H.bitrate=ce.bandwidth,H.width=ce.width,H.height=ce.height,H.tilesHor=1,H.tilesVert=1,ce.essentialProperties&&ce.essentialProperties.forEach(function(P){if(j.indexOf(P.schemeIdUri)>=0&&P.value){var L=P.value.split("x");2===L.length&&!isNaN(L[0])&&!isNaN(L[1])&&(H.tilesHor=parseInt(L[0],10),H.tilesVert=parseInt(L[1],10))}}),J?te.updateSegmentData(ce).then(function(P){!function ge(ce,J,H){var P=[],L=function $(ce,J){var L,N,Q,O,H=[],P=0;for(L=0,N=ce.segments.length;L<N;L++)Q=ce.segments[L],(O=(0,M.getTimeBasedSegment)(b,D.getIsDynamic(),J,Q.startTime,Q.duration,Q.timescale,Q.media,Q.mediaRange,P))&&(H.push(O),O=null,P++);return H}(H,J);J.segments=L,ce.segmentDuration=J.segments[0].duration,ce.readThumbnail=function(N,Q){var O=null;P.some(function(U){if(U.start<=N&&U.end>N)return O=U.url,!0}),O?Q(O):J.segments.some(function(U){if(U.mediaStartTime<=N&&U.mediaStartTime+U.duration>N){var k=_.resolve(J.path);return Z.load({method:"get",url:k.url,request:{range:U.mediaRange,responseType:"arraybuffer"},onload:function(oe){var de=ae.getSamplesInfo(oe.target.response),q=new Blob([oe.target.response.slice(de.sampleList[0].offset,de.sampleList[0].offset+de.sampleList[0].size)],{type:"image/jpeg"}),be=window.URL.createObjectURL(q);P.push({start:U.mediaStartTime,end:U.mediaStartTime+U.duration,url:be}),Q&&Q(be)}}),!0}})}}(H,ce,P)}):(H.startNumber=ce.startNumber,H.segmentDuration=ce.segmentDuration,H.timescale=ce.timescale,H.templateUrl=function he(ce){var J=W.isRelative(ce.media)?W.resolve(ce.media,_.resolve(ce.path).url):ce.media;return J?(0,M.replaceIDForTemplate)(J,ce.id):""}(ce)),H.tilesHor>0&&H.tilesVert>0&&(H.widthPerTile=H.width/H.tilesHor,H.heightPerTile=H.height/H.tilesVert,re.push(H))}function ee(){re=[],ue=-1,Y=null}return z={getTracks:function pe(){return re},addTracks:function le(){if(E&&D&&(Y=D.getMediaInfoForType(E,V.default.IMAGE))){var ce=D.getVoRepresentations(Y);ce&&ce.length>0&&ce.forEach(function(J){(J.segmentInfoType===C.default.SEGMENT_TEMPLATE&&J.segmentDuration>0&&J.media||J.segmentInfoType===C.default.SEGMENT_TIMELINE)&&se(J),J.segmentInfoType===C.default.SEGMENT_BASE&&se(J,!0)}),re.length>0&&re.sort(function(J,H){return J.bitrate-H.bitrate})}},reset:ee,setTrackByIndex:function me(ce){!re||0===re.length||(ce>=re.length&&(ce=re.length-1),ue=ce)},getCurrentTrack:function Ee(){return ue<0?null:re[ue]},getCurrentTrackIndex:function De(){return ue},getThumbnailRequestForTime:function _e(ce){for(var J,H=D.getVoRepresentations(Y),P=0;P<H.length;P++)if(re[ue].id===H[P].id){J=H[P];break}return ie.getSegmentRequestForTime(Y,J,ce)}},function ne(){ee(),Z=(0,S.default)(d).create({}),ae=(0,f.default)(d).getInstance(),te=(0,w.default)(d).create({events:R,eventBus:h,streamInfo:E,timelineConverter:b,dashConstants:I,dashMetrics:m.dashMetrics,segmentBaseController:m.segmentBaseController,type:V.default.IMAGE}),(ie=(0,F.default)(d).create({streamInfo:E,type:V.default.IMAGE,timelineConverter:b,segmentsController:te,baseURLController:_,debug:g,eventBus:h,events:R,dashConstants:I,urlUtils:W})).initialize(!!D&&D.getIsDynamic())}(),z}x.__dashjs_factory_name="ThumbnailTracks";const y=T.default.getClassFactory(x)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),C=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),T=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=u(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),A=u(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),M=u(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),f=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),S=u(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=u(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),w=u(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),j=u(
/*! ../../core/Settings */
"./src/core/Settings.js");function x(){var _,E,b,g,h,R,m=this.context,d=(0,C.default)(m).getInstance(),D=(0,j.default)(m).getInstance();function ie(){E.reset()}return _={chooseSelector:function z(ue){(0,F.checkParameterType)(ue,"boolean"),R=ue?g:b},select:function re(ue){if(ue){if(D.get().streaming.applyContentSteering){var Y=h.selectBaseUrlIndex(ue);!isNaN(Y)&&-1!==Y&&(ue.selectedIdx=Y)}if(!isNaN(ue.selectedIdx))return ue.baseUrls[ue.selectedIdx];var te=R.select(ue.baseUrls);return te?(ue.selectedIdx=ue.baseUrls.indexOf(te),te):(d.trigger(T.default.URL_RESOLUTION_FAILED,{error:new S.default(V.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,V.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(R===b&&ie()))}},reset:ie,setConfig:function W(ue){ue.selector&&(R=ue.selector),ue.contentSteeringSelector&&(h=ue.contentSteeringSelector)}},function I(){E=(0,p.default)(m).create({updateEventName:T.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:T.default.SERVICE_LOCATION_BLACKLIST_ADD}),b=(0,M.default)(m).create({blacklistController:E}),g=(0,A.default)(m).create({blacklistController:E}),(h=(0,w.default)(m).create()).setConfig({blacklistController:E}),R=b}(),_}x.__dashjs_factory_name="BaseURLSelector";const y=f.default.getClassFactory(x)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f});var V=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),C=u(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),T=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=u(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),A=u(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function M(){var S,F,w=this.context;function x(g){if(!g)return null;void 0===g.fileStart&&(g.fileStart=0);var h=p.parseBuffer(g),R=(0,C.default)(w).create();return R.setData(h),R}function D(g,h){return g[h+3]>>>0|g[h+2]<<8>>>0|g[h+1]<<16>>>0|g[h]<<24>>>0}function _(g,h){return String.fromCharCode(g[h++])+String.fromCharCode(g[h++])+String.fromCharCode(g[h++])+String.fromCharCode(g[h])}return F={parse:x,findLastTopIsoBoxCompleted:function y(g,h,R){if(void 0===R&&(R=0),!h||R+8>=h.byteLength)return new A.default(0,!1);for(var W,I=h instanceof ArrayBuffer?new Uint8Array(h):h,z=0;R<I.byteLength;){var re=D(I,R),ie=_(I,R+4);if(0===re)break;R+re<=I.byteLength&&(g.indexOf(ie)>=0?W=new A.default(R,!0,re):z=R+re),R+=re}return W||new A.default(z,!1)},getMediaTimescaleFromMoov:function d(g){var h=x(g),R=h?h.getBox("mdhd"):void 0;return R?R.timescale:NaN},getSamplesInfo:function m(g){if(!g||0===g.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var W,re,ie,ue,Y,te,Z,ae,ne,le,se,ge,$,he,pe,De,h=x(g),R=h.getBoxes("moof"),I=h.getBoxes("mfhd");pe=h.getBoxes("moof").length,he=I[I.length-1].sequence_number,re=0,Y=[];var Ee=-1,me=-1;for(le=0;le<R.length;le++){var _e=R[le],ee=_e.getChildBoxes("traf");for(ae=0;ae<ee.length;ae++){var ce=ee[ae],J=ce.getChildBox("tfhd"),H=ce.getChildBox("tfdt");ue=H.baseMediaDecodeTime;var P=ce.getChildBoxes("trun"),L=ce.getChildBoxes("subs");for(ne=0;ne<P.length;ne++){var N=P[ne];for(re=N.sample_count,$=(J.base_data_offset||0)+(N.data_offset||0),Z=0;Z<re;Z++){var Q={dts:ue,cts:ue+(void 0!==(te=N.samples[Z]).sample_composition_time_offset?te.sample_composition_time_offset:0),duration:W=void 0!==te.sample_duration?te.sample_duration:J.default_sample_duration,offset:_e.offset+$,size:ie=void 0!==te.sample_size?te.sample_size:J.default_sample_size,subSizes:[ie]};if(L)for(se=0;se<L.length;se++){var O=L[se];if(Ee<O.entry_count-1&&Z>me&&(Ee++,me+=O.entries[Ee].sample_delta),Z==me){Q.subSizes=[];var U=O.entries[Ee];for(ge=0;ge<U.subsample_count;ge++)Q.subSizes.push(U.subsamples[ge].subsample_size)}}Y.push(Q),$+=ie,ue+=W}}De=ue-H.baseMediaDecodeTime}}return{sampleList:Y,lastSequenceNumber:he,totalDuration:De,numSequences:pe}},findInitRange:function E(g){var h=null,W=x(g);if(!W)return h;var z=W.getBox("ftyp"),re=W.getBox("moov");return S.debug("Searching for initialization."),re&&re.isComplete&&S.debug("Found the initialization.  Range: "+(h=(z?z.offset:re.offset)+"-"+(re.offset+re.size-1))),h},parsePayload:function b(g,h,R){if(void 0===R&&(R=0),!h||R+8>=h.byteLength)return new A.default(0,!1);for(var W,I=h instanceof ArrayBuffer?new Uint8Array(h):h,z=0;R<I.byteLength;){var re=D(I,R),ie=_(I,R+4);if(0===re)break;R+re<=I.byteLength&&(g.indexOf(ie)>=0?W=new A.default(R,!0,re,ie):z=R+re),R+=re}return W||new A.default(z,!1)}},function j(){S=(0,V.default)(w).getInstance().getLogger(F)}(),F}M.__dashjs_factory_name="BoxParser";const f=T.default.getSingletonFactory(M)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f,supportsMediaSource:()=>A});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),T=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),p=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function A(){var S="WebKitMediaSource"in window,F="MediaSource"in window;return S||F}function M(){var S,F,w;return S={setConfig:function x(h){h&&h.settings&&(F=h.settings)},supportsMediaSource:A,supportsEncryptedMedia:function y(){return w},supportsCodec:function d(h,R){return R!==T.default.AUDIO&&R!==T.default.VIDEO?Promise.resolve(!0):function D(h,R){return F.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(h.codec&&R===T.default.AUDIO||R===T.default.VIDEO&&h.codec&&h.width&&h.height&&h.bitrate&&h.framerate)}(h,R)?function E(h,R){return new Promise(function(I){if(h&&h.codec){var W={type:"media-source"};W[R]={},W[R].contentType=h.codec,W[R].width=h.width,W[R].height=h.height,W[R].bitrate=parseInt(h.bitrate),W[R].framerate=parseFloat(h.framerate),navigator.mediaCapabilities.decodingInfo(W).then(function(z){I(z.supported)}).catch(function(){I(!1)})}else I(!1)})}(h,R):function _(h){return new Promise(function(R){if(h&&h.codec){var I=h.codec;h.width&&h.height&&(I+=';width="'+h.width+'";height="'+h.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(I)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(I)?R(!0):R(!1)}else R(!1)})}(h)},setEncryptedMediaSupported:function m(h){w=h},supportsEssentialProperty:function b(h){try{return-1!==C.THUMBNAILS_SCHEME_ID_URIS.indexOf(h.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function g(h,R){for(var z,I=h.split(".")[0],W=0===R.indexOf(I),re=0;re<p.length;re++)if(p[re].codec===I){z=p[re];break}return z?W||z.compatibleCodecs.some(function(ie){return 0===R.indexOf(ie)}):W}},function j(){w=!1}(),S}M.__dashjs_factory_name="Capabilities";const f=V.default.getSingletonFactory(M)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>f});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),p=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),A=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function M(){var w,j,x,y,m,d,S=this.context,F=(0,p.default)(S).getInstance();function b(ie,ue){if(!ue||!ue.Period_asArray||0===ue.Period_asArray.length)return Promise.resolve();var Y=[];return ue.Period_asArray.forEach(function(te){Y.push(function g(ie,ue){return new Promise(function(Y){if(ie&&ie.AdaptationSet_asArray&&0!==ie.AdaptationSet_asArray.length){var te=[];ie.AdaptationSet_asArray.forEach(function(Z){j.getIsTypeOf(Z,ue)&&te.push(function h(ie,ue){return new Promise(function(Y){if(ie.Representation_asArray&&0!==ie.Representation_asArray.length){var te=[],Z=[];ie.Representation_asArray.forEach(function(ae,ne){var le=j.getCodec(ie,ne,!1),se=function R(ie,ue,Y){switch(ie){case T.default.VIDEO:return function I(ie,ue){return{codec:ue,width:ie.width||null,height:ie.height||null,framerate:ie.frameRate||null,bitrate:ie.bandwidth||null}}(ue,Y);case T.default.AUDIO:return function W(ie,ue){return{codec:ue,bitrate:ie.bandwidth||null,samplerate:ie.audioSamplingRate||null}}(ue,Y);default:return null}}(ue,ae,le);Z.push(se),te.push(x.supportsCodec(se,ue))}),Promise.all(te).then(function(ae){ie.Representation_asArray=ie.Representation_asArray.filter(function(ne,le){return ae[le]||d.debug("[Stream] Codec ".concat(Z[le].codec," not supported ")),ae[le]}),Y()}).catch(function(){Y()})}else Y()})}(Z,ue))}),Promise.all(te).then(function(){ie.AdaptationSet_asArray=ie.AdaptationSet_asArray.filter(function(Z){var ae=Z.Representation_asArray&&Z.Representation_asArray.length>0;return ae||(F.trigger(A.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:Z}),d.warn("AdaptationSet has been removed because of no supported Representation")),ae}),Y()}).catch(function(){Y()})}else Y()})}(te,ie))}),Promise.all(Y)}return w={setConfig:function _(ie){ie&&(ie.adapter&&(j=ie.adapter),ie.capabilities&&(x=ie.capabilities),ie.settings&&(y=ie.settings),ie.customParametersModel&&(m=ie.customParametersModel))},filterUnsupportedFeatures:function E(ie){return new Promise(function(ue){var Y=[];Y.push(b(T.default.VIDEO,ie)),Y.push(b(T.default.AUDIO,ie)),Promise.all(Y).then(function(){y.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function z(ie){!ie||!ie.Period_asArray||0===ie.Period_asArray.length||ie.Period_asArray.forEach(function(ue){ue.AdaptationSet_asArray=ue.AdaptationSet_asArray.filter(function(Y){return!Y.Representation_asArray||0===Y.Representation_asArray.length||(Y.Representation_asArray=Y.Representation_asArray.filter(function(te){var Z=j.getEssentialPropertiesForRepresentation(te);if(Z&&Z.length>0)for(var ae=0;ae<Z.length;){if(!x.supportsEssentialProperty(Z[ae]))return d.debug("[Stream] EssentialProperty not supported: "+Z[ae].schemeIdUri),!1;ae+=1}return!0}),Y.Representation_asArray&&Y.Representation_asArray.length>0)})})}(ie),function re(ie){var ue=m.getCustomCapabilitiesFilters();!ue||0===ue.length||!ie||!ie.Period_asArray||0===ie.Period_asArray.length||ie.Period_asArray.forEach(function(Y){Y.AdaptationSet_asArray=Y.AdaptationSet_asArray.filter(function(te){return!te.Representation_asArray||0===te.Representation_asArray.length||(te.Representation_asArray=te.Representation_asArray.filter(function(Z){return!ue.some(function(ae){return!ae(Z)})}),te.Representation_asArray&&te.Representation_asArray.length>0)})})}(ie),ue()}).catch(function(){ue()})})}},function D(){d=(0,C.default)(S).getInstance().getLogger(w)}(),w}M.__dashjs_factory_name="CapabilitiesFilter";const f=V.default.getSingletonFactory(M)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function T(){return{customTimeRangeArray:[],length:0,add:function f(y,m){var d=0;for(d=0;d<this.customTimeRangeArray.length&&y>this.customTimeRangeArray[d].start;d++);for(this.customTimeRangeArray.splice(d,0,{start:y,end:m}),d=0;d<this.customTimeRangeArray.length-1;d++)this.mergeRanges(d,d+1)&&d--;this.length=this.customTimeRangeArray.length},clear:function S(){this.customTimeRangeArray=[],this.length=0},remove:function F(y,m){for(var d=0;d<this.customTimeRangeArray.length;d++)if(y<=this.customTimeRangeArray[d].start&&m>=this.customTimeRangeArray[d].end)this.customTimeRangeArray.splice(d,1),d--;else{if(y>this.customTimeRangeArray[d].start&&m<this.customTimeRangeArray[d].end){this.customTimeRangeArray.splice(d+1,0,{start:m,end:this.customTimeRangeArray[d].end}),this.customTimeRangeArray[d].end=y;break}y>this.customTimeRangeArray[d].start&&y<this.customTimeRangeArray[d].end?this.customTimeRangeArray[d].end=y:m>this.customTimeRangeArray[d].start&&m<this.customTimeRangeArray[d].end&&(this.customTimeRangeArray[d].start=m)}this.length=this.customTimeRangeArray.length},mergeRanges:function w(y,m){var d=this.customTimeRangeArray[y],D=this.customTimeRangeArray[m];return d.start<=D.start&&D.start<=d.end&&d.end<=D.end?(d.end=D.end,this.customTimeRangeArray.splice(m,1),!0):D.start<=d.start&&d.start<=D.end&&D.end<=d.end?(d.start=D.start,this.customTimeRangeArray.splice(m,1),!0):D.start<=d.start&&d.start<=D.end&&d.end<=D.end?(this.customTimeRangeArray.splice(y,1),!0):d.start<=D.start&&D.start<=d.end&&D.end<=d.end&&(this.customTimeRangeArray.splice(m,1),!0)},start:function j(y){return(0,C.checkInteger)(y),y>=this.customTimeRangeArray.length||y<0?NaN:this.customTimeRangeArray[y].start},end:function x(y){return(0,C.checkInteger)(y),y>=this.customTimeRangeArray.length||y<0?NaN:this.customTimeRangeArray[y].end}}}T.__dashjs_factory_name="CustomTimeRanges";const p=V.default.getClassFactory(T)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),p=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],A="dashjs_?_bitrate",M="dashjs_?_settings",f="localStorage",S="sessionStorage",F="lastBitrate",w="lastMediaSettings";function j(m){var _,E,b,d=this.context,D=(m=m||{}).settings;function h(te){if(void 0!==b)return b;var ne;b=!1;try{typeof window<"u"&&(ne=window[te])}catch(le){return E.warn("DOMStorage access denied: "+le.message),b}if(!ne||te!==f&&te!==S)return b;try{ne.setItem("1","1"),ne.removeItem("1"),b=!0}catch(le){E.warn("DOMStorage is supported, but cannot be used: "+le.message)}return b}function I(){return 6e5*Math.round((new Date).getTime()/6e5)}function W(te,Z){return h(te)&&D.get().streaming[Z+"CachingInfo"].enabled}function z(){if(!D)throw new Error(T.default.MISSING_CONFIG_ERROR)}return _={getSavedBitrateSettings:function ie(te){if(z(),!D.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var Z=NaN;if(W(f,F)){var ae=A.replace(/\?/,te);try{var ne=JSON.parse(localStorage.getItem(ae))||{},le=(new Date).getTime()-parseInt(ne.timestamp,10)>=D.get().streaming.lastBitrateCachingInfo.ttl||!1,se=parseFloat(ne.bitrate);isNaN(se)||le?le&&localStorage.removeItem(ae):(Z=se,E.debug("Last saved bitrate for "+te+" was "+se))}catch{return null}}return Z},setSavedBitrateSettings:function Y(te,Z){if(W(f,F)&&Z){var ae=A.replace(/\?/,te);try{localStorage.setItem(ae,JSON.stringify({bitrate:Z.toFixed(3),timestamp:I()}))}catch(ne){E.error(ne.message)}}},getSavedMediaSettings:function re(te){if(z(),!D.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var Z=null;if(W(f,w)){var ae=M.replace(/\?/,te);try{var ne=JSON.parse(localStorage.getItem(ae))||{},le=(new Date).getTime()-parseInt(ne.timestamp,10)>=D.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;Z=ne.settings,le&&(localStorage.removeItem(ae),Z=null)}catch{return null}}return Z},setSavedMediaSettings:function ue(te,Z){if(W(f,w)){var ae=M.replace(/\?/,te);try{localStorage.setItem(ae,JSON.stringify({settings:Z,timestamp:I()}))}catch(ne){E.error(ne.message)}}}},function g(){E=(0,C.default)(d).getInstance().getLogger(_),function R(){h(f)&&p.forEach(function(te){var Z=localStorage.getItem(te.oldKey);if(Z){localStorage.removeItem(te.oldKey);try{localStorage.setItem(te.newKey,Z)}catch(ae){E.error(ae.message)}}})}()}(),_}j.__dashjs_factory_name="DOMStorage";const y=V.default.getSingletonFactory(j)},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(){var p,A=/^[a-z][a-z0-9+\-_.]*:/i,M=/^https?:\/\//i,f=/^https:\/\//i,S=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,F=function(W,z){try{return new window.URL(W,z).toString()}catch{return W}},w=function(W,z){var re=x;if(!z||!D(W))return W;_(W)&&(re=y),E(W)&&(re=d);var ie=re(z),ue="/"!==ie.charAt(ie.length-1)&&"/"!==W.charAt(0)?"/":"";return[ie,W].join(ue)};function x(I){var W=I.indexOf("/"),z=I.lastIndexOf("/");return-1!==W?z===W+1?I:(-1!==I.indexOf("?")&&(I=I.substring(0,I.indexOf("?"))),I.substring(0,z+1)):""}function y(I){var W=I.match(S);return W?W[1]:""}function d(I){var W=I.match(A);return W?W[0]:""}function D(I){return!A.test(I)}function _(I){return D(I)&&"/"===I.charAt(0)}function E(I){return 0===I.indexOf("//")}return function j(){try{new window.URL("x","http://y"),p=F}catch{}finally{p=p||w}}(),{parseBaseUrl:x,parseOrigin:y,parseScheme:d,isRelative:D,isPathAbsolute:_,isSchemeRelative:E,isHTTPURL:function b(I){return M.test(I)},isHTTPS:function g(I){return f.test(I)},removeHostname:function m(I){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(I)[2].substring(1)},resolve:function h(I,W){return p(I,W)}}}C.__dashjs_factory_name="DefaultURLUtils";const T=V.default.getSingletonFactory(C)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(p){p=p||{};var A,M=new DataView(p.data),f=0;function w(E,b){var g=!0,h=0;if(void 0===b&&(b=!1),E.tag>16777215?(M.getUint32(f)!==E.tag&&(g=!1),h=4):E.tag>65535?(256*M.getUint16(f)+M.getUint8(f+2)!==E.tag&&(g=!1),h=3):E.tag>255?(M.getUint16(f)!==E.tag&&(g=!1),h=2):(M.getUint8(f)!==E.tag&&(g=!1),h=1),!g&&E.required&&!b)throw new Error("required tag not found");return g&&(f+=h),g}function m(E){var b=1,g=128,R=-1,I=0,W=M.getUint8(f),z=0;for(z=0;z<8;z+=1){if((W&g)===g){I=void 0===E?W&~g:W,R=z;break}g>>=1}for(z=0;z<R;z+=1,b+=1)I=I<<8|255&M.getUint8(f+b);return f+=b,I}return A={getPos:function S(){return f},setPos:function F(E){f=E},consumeTag:w,consumeTagAndSize:function j(E,b){var g=w(E,b);return g&&m(),g},parseTag:function x(E){var b;return w(E),b=m(),A[E.parse](b)},skipOverElement:function y(E,b){var h,g=w(E,b);return g&&(h=m(),f+=h),g},getMatroskaCodedNum:m,getMatroskaFloat:function d(E){var b;switch(E){case 4:b=M.getFloat32(f),f+=4;break;case 8:b=M.getFloat64(f),f+=8}return b},getMatroskaUint:function D(E){for(var b=0,g=0;g<E;g+=1)b<<=8,b|=255&M.getUint8(f+g);return f+=E,b},moreData:function _(){return f<M.byteLength}}}C.__dashjs_factory_name="EBMLParser";const T=V.default.getClassFactory(C)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),C=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),T=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function p(){var S=(0,V.default)(this.context).getInstance();return{error:function F(w){S.trigger(C.default.ERROR,{error:w})}}}p.__dashjs_factory_name="ErrorHandler";const A=T.default.getSingletonFactory(p)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(){var p={};return{save:function A(F){var w=F.streamId,j=F.representationId;p[w]=p[w]||{},p[w][j]=F},extract:function M(F,w){return p&&p[F]&&p[F][w]?p[F][w]:null},reset:function f(){p={}}}}C.__dashjs_factory_name="InitCache";const T=V.default.getSingletonFactory(C)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),C=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function T(){var M;function S(x){var y=[];if(!x||!M||"function"!=typeof M.fetchAll)return y;for(var d,m=M.fetchAll(x),D=0,_=m.length;D<_;D++)(d=j(m[D]))&&y.push(d);return y}function j(x){if(!x)return null;var y=new V.default(x);return x.hasOwnProperty("_incomplete")&&(y.isComplete=!x._incomplete),y}return{getBox:function f(x){return x&&M&&M.boxes&&0!==M.boxes.length&&"function"==typeof M.fetch?j(M.fetch(x)):null},getBoxes:S,setData:function F(x){M=x},getLastBox:function w(){if(!M||!M.boxes||!M.boxes.length)return null;var y=S(M.boxes[M.boxes.length-1].type);return y.length>0?y[y.length-1]:null}}}T.__dashjs_factory_name="IsoFile";const p=C.default.getClassFactory(T)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),T=u.n(C);function p(){return{areEqual:function f(S,F){return T()(S,F)}}}p.__dashjs_factory_name="ObjectUtils";const A=V.default.getSingletonFactory(p)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p,modifyRequest:()=>C});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(A,M){var f={url:A.url,method:A.method,headers:Object.assign({},A.headers),credentials:A.withCredentials?"include":void 0};return Promise.resolve(M.modifyRequest(f)).then(function(){return Object.assign(A,f,{withCredentials:"include"===f.credentials})})}function T(){return{modifyRequest:null,modifyRequestURL:function M(S){return S},modifyRequestHeader:function f(S,F){return S}}}T.__dashjs_factory_name="RequestModifier";const p=V.default.getSingletonFactory(T)},"./src/streaming/utils/SegmentResponseModifier.js":
/*!********************************************************!*\
                  !*** ./src/streaming/utils/SegmentResponseModifier.js ***!
                  \********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(){return{modifyResponseAsync:function A(M){return Promise.resolve(M)}}}C.__dashjs_factory_name="SegmentResponseModifier";const T=V.default.getSingletonFactory(C)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{checkInteger:()=>p,checkIsVideoOrAudioType:()=>M,checkParameterType:()=>T,checkRange:()=>A});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function C(f){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(f)}function T(f,S){if(C(f)!==S)throw V.default.BAD_ARGUMENT_ERROR}function p(f){if(null===f||isNaN(f)||f%1!=0)throw V.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function A(f,S,F){if(f<S||f>F)throw V.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function M(f){if("string"!=typeof f||f!==V.default.AUDIO&&f!==V.default.VIDEO)throw V.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>F});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),T=u(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),p=u(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),A=u(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),M=u(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),f=u(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function S(){var x,y,w=this.context,j=(0,T.default)(w).getInstance(),m=0;function D(){var E="cue_TTML_"+m;return m++,E}return x={parse:function _(E,b,g,h,R){var z,re,ie,I="",W=[],ue={},Y={},te="",Z="",ae={onOpenTag:function($,he,pe){if(pe[" imagetype"]&&!pe[" imageType"]&&(j.trigger(M.default.CONFORMANCE_VIOLATION,{level:f.default.LEVELS.ERROR,event:f.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),pe[" imageType"]=pe[" imagetype"]),"image"===he&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===$||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===$)){if(!pe[" imageType"]||"PNG"!==pe[" imageType"].value)return void y.warn("smpte-tt imageType != PNG. Discarded");te=pe["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){te&&(Y[te]=Z.trim()),Z="",te=""},onText:function($){te&&(Z+=$)}};if(!E)throw I="no ttml data to parse",new Error(I);ue.data=E,j.trigger(p.default.TTML_TO_PARSE,ue);var ne=(0,A.fromXML)(ue.data,function(ge){I=ge},ae);j.trigger(p.default.TTML_PARSED,{ttmlString:ue.data,ttmlDoc:ne});var le=ne.getMediaTimeEvents();for(ie=0;ie<le.length;ie++){var se=(0,A.generateISD)(ne,le[ie],function(ge){I=ge});se.contents.some(function(ge){return ge.contents.length})&&(z=le[ie]+b<g?g:le[ie]+b)<(re=le[ie+1]+b>h?h:le[ie+1]+b)&&W.push({start:z,end:re,type:"html",cueID:D(),isd:se,images:R,embeddedImages:Y})}if(""!==I)throw y.error(I),new Error(I);return W}},function d(){y=(0,C.default)(w).getInstance().getLogger(x)}(),x}S.__dashjs_factory_name="TTMLParser";const F=V.default.getSingletonFactory(S)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function T(){var f,S=[],F=this.context;function y(W,z,re){var ie=function w(W){var z;for(z=0;z<S.length;z++)if(S[z].regex.test(W))return S[z].utils;return f}(re||z);return ie&&"function"==typeof ie[W]?ie[W](z,re):f[W](z,re)}return function j(){f=(0,C.default)(F).getInstance()}(),{registerUrlRegex:function x(W,z){S.push({regex:W,utils:z})},parseBaseUrl:function m(W){return y("parseBaseUrl",W)},parseOrigin:function d(W){return y("parseOrigin",W)},parseScheme:function _(W){return y("parseScheme",W)},isRelative:function E(W){return y("isRelative",W)},isPathAbsolute:function b(W){return y("isPathAbsolute",W)},isSchemeRelative:function g(W){return y("isSchemeRelative",W)},isHTTPURL:function h(W){return y("isHTTPURL",W)},isHTTPS:function R(W){return y("isHTTPS",W)},removeHostname:function D(W){return y("removeHostname",W)},resolve:function I(W,z){return y("resolve",W,z)}}}T.__dashjs_factory_name="URLUtils";const A=V.default.getSingletonFactory(T)},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>A});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../core/Debug */
"./src/core/Debug.js"),T="WEBVTT";function p(){var f,S,F,w,j,x,M=this.context;function d(b){var g=b.split(":"),h=g.length-1;return b=60*parseInt(g[h-1],10)+parseFloat(g[h]),2===h&&(b+=3600*parseInt(g[0],10)),b}function D(b){var g=b.split(w),h=g[1].split(x);return h.shift(),g[1]=h[0],h.shift(),{cuePoints:g,styles:_(h)}}function _(b){var g={};return b.forEach(function(h){if(h.split(/:/).length>1){var R=h.split(/:/)[1];R&&-1!=R.search(/%/)&&(R=parseInt(R.replace(/%/,""),10)),(h.match(/align/)||h.match(/A/))&&(g.align=R),(h.match(/line/)||h.match(/L/))&&(g.line=R),(h.match(/position/)||h.match(/P/))&&(g.position=R),(h.match(/size/)||h.match(/S/))&&(g.size=R)}}),g}function E(b,g){for(var W,h=g,R="",I="";""!==b[h]&&h<b.length;)h++;if((W=h-g)>1)for(var z=0;z<W;z++){if((I=b[g+z]).match(w)){R="";break}R+=I,z!==W-1&&(R+="\n")}else(I=b[g]).match(w)||(R=I);return R}return f={parse:function m(b){var h,R,g=[];if(!b)return g;h=(b=b.split(F)).length,R=-1;for(var I=0;I<h;I++){var W=b[I];if(W.length>0&&W!==T&&W.match(w)){var z=D(W),re=z.cuePoints,ie=z.styles,ue=E(b,I+1),Y=d(re[0].replace(j,"")),te=d(re[1].replace(j,""));!isNaN(Y)&&!isNaN(te)&&Y>=R&&te>Y?""!==ue?(R=Y,g.push({start:Y,end:te,data:ue,styles:ie})):S.error("Skipping cue due to empty/malformed cue text"):S.error("Skipping cue due to incorrect cue timing")}}return g}},function y(){S=(0,C.default)(M).getInstance().getLogger(f),F=/(?:\r\n|\r|\n)/gm,w=/-->/,j=/(^[\s]+|[\s]+$)/g,x=/\s\b/g}(),f}p.__dashjs_factory_name="VTTParser";const A=V.default.getSingletonFactory(p)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(){var p,A;return p={parse:function f(S){var F=[];return A.oncue=function(w){w.start=w.startTime,w.end=w.endTime,w.data=w.text,w.styles={align:w.align,line:w.line,position:w.position,size:w.size},F.push(w)},A.parse(S),F}},function M(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(A=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),p}C.__dashjs_factory_name="VttCustomRenderingParser";const T=V.default.getSingletonFactory(C)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(p){var M=(p=p||{}).blacklistController;return{select:function f(S){var w,F=0;return S&&S.some(function(j,x){return F=x,!M.contains(j.serviceLocation)})&&(w=S[F]),w}}}C.__dashjs_factory_name="BasicSelector";const T=V.default.getClassFactory(C)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),C=u(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function T(){var M,f,S,A=this.context;function x(){for(var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=0,D=NaN,_=function(){var g=y[d],h=m.findIndex(function(R){return R.serviceLocation&&R.serviceLocation===g});if(-1!==h&&!S.contains(m[h].serviceLocation))return D=h,"break";d+=1};d<y.length&&"break"!==_(););return D}return M={selectBaseUrlIndex:function j(y){var m=NaN;if(isNaN(y.selectedIdx)){var d=f.getSteeringDataFromManifest();d&&d.defaultServiceLocation&&(m=x([d.defaultServiceLocation],y.baseUrls))}var D=f.getCurrentSteeringResponseData();return y.baseUrls&&y.baseUrls.length&&D&&D.serviceLocationPriority&&D.serviceLocationPriority.length&&(m=x(D.serviceLocationPriority,y.baseUrls)),m},setConfig:function w(y){y.blacklistController&&(S=y.blacklistController),y.contentSteeringController&&(f=y.contentSteeringController)}},function F(){f=(0,C.default)(A).getInstance()}(),M}T.__dashjs_factory_name="ContentSteeringSelector";const p=V.default.getClassFactory(T)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});var V=u(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function C(p){var M=(p=p||{}).blacklistController;return{select:function F(w){return w&&function S(w){var D,_,y=0,m=[],d=0;if((_=w.sort(function(b,g){var h=b.dvb_priority-g.dvb_priority;return isNaN(h)?0:h}).filter(function(b,g,h){return!g||h[0].dvb_priority&&b.dvb_priority&&h[0].dvb_priority===b.dvb_priority})).length)return _.length>1&&(_.forEach(function(E){m.push(y+=E.dvb_weight)}),D=Math.floor(Math.random()*(y-1)),m.every(function(E,b){return d=b,!(D<E)})),_[d]}(function f(w){var j=[];return w.filter(function(d){return!M.contains(d.serviceLocation)||(d.dvb_priority&&j.push(d.dvb_priority),!1)}).filter(function(d){return!(j.length&&d.dvb_priority&&-1!==j.indexOf(d.dvb_priority))})}(w))}}}C.__dashjs_factory_name="DVBSelector";const T=V.default.getClassFactory(C)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN}},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M,f){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.code=A||null,this.message=M||null,this.data=f||null}},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null}},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>M});var V=u(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function T(f,S){for(var F=0;F<S.length;F++){var w=S[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(f,w.key,w)}}var A=function(){function f(S){(function C(f,S){if(!(f instanceof S))throw new TypeError("Cannot call a class as a function")})(this,f),this.action=f.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=S||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function p(f,S,F){S&&T(f.prototype,S),F&&T(f,F)}(f,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===V.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(F){this.type=F&&F.init?V.HTTPRequest.INIT_SEGMENT_TYPE:V.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=F&&F.url?F.url:null,this.range=F&&F.range?F.range.start+"-"+F.range.end:null,this.mediaType=F&&F.mediaType?F.mediaType:null}}]),f}();A.ACTION_DOWNLOAD="download",A.ACTION_COMPLETE="complete";const M=A},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";function C(y){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}function A(y,m){return(A=Object.setPrototypeOf||function(D,_){return D.__proto__=_,D})(y,m)}function w(y){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(y)}u.r(K),u.d(K,{default:()=>x});const x=function(y){!function p(y,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),m&&A(y,m)}(d,y);var m=function M(y){var m=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,D=w(y);if(m){var E=w(this).constructor;_=Reflect.construct(D,arguments,E)}else _=D.apply(this,arguments);return function f(y,m){return!m||"object"!==C(m)&&"function"!=typeof m?function S(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(y):m}(this,_)}}(d);function d(D){var _;return function T(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}(this,d),(_=m.call(this,D)).checkForExistenceOnly=!0,_}return d}(u(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js").default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/(Me,K,u)=>{"use strict";function C(M,f){for(var S=0;S<f.length;S++){var F=f[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(M,F.key,F)}}u.r(K),u.d(K,{default:()=>A});const A=function(){function M(f){if(function V(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,M),this.offset=f._offset,this.type=f.type,this.size=f.size,this.boxes=[],f.boxes)for(var S=0;S<f.boxes.length;S++)this.boxes.push(new M(f.boxes[S]));switch(this.isComplete=!0,f.type){case"sidx":if(this.timescale=f.timescale,this.earliest_presentation_time=f.earliest_presentation_time,this.first_offset=f.first_offset,this.references=f.references,f.references){this.references=[];for(var F=0;F<f.references.length;F++)this.references.push({reference_type:f.references[F].reference_type,referenced_size:f.references[F].referenced_size,subsegment_duration:f.references[F].subsegment_duration})}break;case"emsg":this.id=f.id,this.version=1===f.version?1:0,this.value=f.value,this.timescale=f.timescale,this.scheme_id_uri=f.scheme_id_uri,this.presentation_time_delta=1===f.version?f.presentation_time:f.presentation_time_delta,this.event_duration=f.event_duration,this.message_data=f.message_data;break;case"mdhd":this.timescale=f.timescale;break;case"mfhd":this.sequence_number=f.sequence_number;break;case"subs":this.entry_count=f.entry_count,this.entries=f.entries;break;case"tfhd":this.base_data_offset=f.base_data_offset,this.sample_description_index=f.sample_description_index,this.default_sample_duration=f.default_sample_duration,this.default_sample_size=f.default_sample_size,this.default_sample_flags=f.default_sample_flags,this.flags=f.flags;break;case"tfdt":this.version=f.version,this.baseMediaDecodeTime=f.baseMediaDecodeTime,this.flags=f.flags;break;case"trun":if(this.sample_count=f.sample_count,this.first_sample_flags=f.first_sample_flags,this.data_offset=f.data_offset,this.flags=f.flags,this.samples=f.samples,f.samples){this.samples=[];for(var j=0,x=f.samples.length;j<x;j++)this.samples.push({sample_size:f.samples[j].sample_size,sample_duration:f.samples[j].sample_duration,sample_composition_time_offset:f.samples[j].sample_composition_time_offset})}}}return function T(M,f,S){f&&C(M.prototype,f),S&&C(M,S)}(M,[{key:"getChildBox",value:function(S){for(var F=0;F<this.boxes.length;F++)if(this.boxes[F].type===S)return this.boxes[F]}},{key:"getChildBoxes",value:function(S){for(var F=[],w=0;w<this.boxes.length;w++)this.boxes[w].type===S&&F.push(this.boxes[w]);return F}}]),M}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(A,M,f){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.lastCompletedOffset=A,this.found=M,this.size=f}},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]}},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>y});var V=u(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function T(m){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(m)}function M(m,d){return(M=Object.setPrototypeOf||function(_,E){return _.__proto__=E,_})(m,d)}function j(m){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)})(m)}const y=function(m){!function A(m,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(d&&d.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),d&&M(m,d)}(D,m);var d=function f(m){var d=function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,_=j(m);if(d){var b=j(this).constructor;E=Reflect.construct(_,arguments,b)}else E=_.apply(this,arguments);return function S(m,d){return!d||"object"!==T(d)&&"function"!=typeof d?function F(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(m):d}(this,E)}}(D);function D(_,E){var b;return function p(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,D),(b=d.call(this)).url=_||null,b.type=E||null,b.mediaType=V.default.STREAM,b.responseType="",b}return D}(u(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js").default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/(Me,K,u)=>{"use strict";function C(y){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}function A(y,m){return(A=Object.setPrototypeOf||function(D,_){return D.__proto__=_,D})(y,m)}function w(y){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(y)}u.r(K),u.d(K,{default:()=>x});const x=function(y){!function p(y,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),m&&A(y,m)}(d,y);var m=function M(y){var m=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var _,D=w(y);if(m){var E=w(this).constructor;_=Reflect.construct(D,arguments,E)}else _=D.apply(this,arguments);return function f(y,m){return!m||"object"!==C(m)&&"function"!=typeof m?function S(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(y):m}(this,_)}}(d);function d(){var D;return function T(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}(this,d),(D=m.call(this)).captionData=null,D.label=null,D.defaultTrack=!1,D.kind=null,D.isFragmented=!1,D.isEmbedded=!1,D.isTTML=null,D}return d}(u(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js").default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null}},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null}},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.level=null}},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>p});var V=u(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");const p=function A(){(function C(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")})(this,A),this.target=null,this.state=V.default.BUFFER_EMPTY}},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.range=null,this.manifestInfo=null}},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.time=null,this.droppedFrames=null}},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/(Me,K,u)=>{"use strict";function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")}u.r(K),u.d(K,{HTTPRequest:()=>C,HTTPRequestTrace:()=>T});var C=function p(){V(this,p),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},T=function p(){V(this,p),this.s=null,this.d=null,this.b=[]};C.GET="GET",C.HEAD="HEAD",C.MPD_TYPE="MPD",C.XLINK_EXPANSION_TYPE="XLinkExpansion",C.INIT_SEGMENT_TYPE="InitializationSegment",C.INDEX_SEGMENT_TYPE="IndexSegment",C.MEDIA_SEGMENT_TYPE="MediaSegment",C.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",C.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",C.DVB_REPORTING_TYPE="DVBReporting",C.LICENSE="license",C.CONTENT_STEERING_TYPE="ContentSteering",C.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/(Me,K,u)=>{"use strict";function V(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}u.r(K),u.d(K,{ManifestUpdate:()=>C,ManifestUpdateRepresentationInfo:()=>p,ManifestUpdateStreamInfo:()=>T});var C=function A(){V(this,A),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},T=function A(){V(this,A),this.id=null,this.index=null,this.start=null,this.duration=null},p=function A(){V(this,A),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/(Me,K,u)=>{"use strict";function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")}u.r(K),u.d(K,{PlayList:()=>C,PlayListTrace:()=>T});var C=function p(){V(this,p),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};C.INITIAL_PLAYOUT_START_REASON="initial_playout",C.SEEK_START_REASON="seek",C.RESUME_FROM_PAUSE_START_REASON="resume",C.METRICS_COLLECTION_START_REASON="metrics_collection_start";var T=function p(){V(this,p),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};T.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",T.REBUFFERING_REASON="rebuffering",T.USER_REQUEST_STOP_REASON="user_request",T.END_OF_PERIOD_STOP_REASON="end_of_period",T.END_OF_CONTENT_STOP_REASON="end_of_content",T.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",T.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.t=null,this.mt=null,this.to=null,this.lto=null}},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.loadingRequests=[],this.executedRequests=[]}},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/(Me,K,u)=>{"use strict";u.r(K),u.d(K,{default:()=>T});const T=function p(){(function V(p,A){if(!(p instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null}},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/(Me,K)=>{"use strict";function T(A,M){return function f(S,F){for(var m,d,D,w=p(S,"tag"),j=p(F??"*","range"),x=[],y=-1;++y<j.length;)if(m=j[y].toLowerCase(),M||"*"!==m){for(d=-1,D=[];++d<w.length;)if(A(w[d].toLowerCase(),m)){if(!M)return w[d];x.push(w[d])}else D.push(w[d]);w=D}return M?x:void 0}}function p(A,M){var f=A&&"string"==typeof A?[A]:A;if(!f||"object"!=typeof f||!("length"in f))throw new Error("Invalid "+M+" `"+f+"`, expected non-empty string");return f}K.basicFilter=T(function u(A,M){return"*"===M||A===M||A.indexOf(M+"-")>-1},!0),K.extendedFilter=T(function V(A,M){var f=A.split("-"),S=M.split("-"),F=0,w=0;if("*"!==S[w]&&f[F]!==S[w])return!1;for(F++,w++;w<S.length;)if("*"!==S[w]){if(!f[F])return!1;if(f[F]!==S[w]){if(1===f[F].length)return!1;F++}else F++,w++}else w++;return!0},!0),K.lookup=T(function C(A,M){for(var S,f=M;;){if("*"===f||A===f)return!0;if((S=f.lastIndexOf("-"))<0)return!1;"-"===f.charAt(S-2)&&(S-=2),f=f.slice(0,S)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/(Me,K,u)=>{"use strict";Me.exports=u(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/(Me,K,u)=>{"use strict";var V=u(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),C=u(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),T=u(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),p=u(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),A=u(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),M=u(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");Me.exports=function w(d,D){var h,_=D||{},E=V.parse(String(d||"").toLowerCase(),_),b=V.stringify(E),g=-1;if(!b)return b;for(;++g<T.length;)C.extendedFilter(b,T[g].from).length&&(j(E,T[g].from,T[g].to),b=V.stringify(E));for(g=-1;++g<p.length;)x(E,p[g].from.field,p[g].from.value)&&y(E,p[g].to.field,p[g].to.value);for(b=V.stringify(Object.assign({},E,F)),g=-1;++g<A.length;)b===A[g]&&(j(E,A[g],A[g].split("-").slice(0,-1).join("-")),b=V.stringify(Object.assign({},E,F)));if(E.extensions.sort(m),_.warning)for(h in M)f.call(M[h],E[h])&&_.warning("Deprecated "+h+" `"+E[h]+"`, expected one of `"+M[h][E[h]].join("`, `")+"`",null,7);return E.script&&(E.script=E.script.charAt(0).toUpperCase()+E.script.slice(1)),E.region&&(E.region=E.region.toUpperCase()),V.stringify(E)};var f={}.hasOwnProperty,S=new Intl.Collator,F={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function j(d,D,_){var h,E=V.parse(D),b=V.parse(_),g=[];for(h in E)E[h]&&E[h].length&&x(d,h,E[h])&&g.push(h);for(h in b)b[h]&&b[h].length&&(g.indexOf(h)>-1||!d[h]||!d[h].length)&&y(d,h,b[h])}function x(d,D,_){var b,g,h,R,E=!1;if(_){if(g=b=d[D],b&&"object"==typeof b)for(g=[],h=-1;++h<b.length;)_.indexOf(R=b[h])<0?g.push(R):E=!0;else b===_&&(g=null,E=!0);d[D]=g}return E}function y(d,D,_){var b,g,h,E=d[D];if(E&&"object"==typeof E)for(b=[].concat(_),g=-1;++g<b.length;)E.indexOf(h=b[g])<0&&E.push(h);else d[D]=_}function m(d,D){return S.compare(d.singleton,D.singleton)}},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/(Me,K,u)=>{"use strict";K.parse=u(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),K.stringify=u(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/(Me,K,u)=>{"use strict";var V=u(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),C=u(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),T=u(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),p=u(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),A=u(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");Me.exports=function f(F,w){var D,_,E,j=w||{},x={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},y=String(F),m=y.toLowerCase(),d=0;if(null==F)throw new Error("Expected string, got `"+F+"`");if(M.call(A,m))return(null==j.normalize||j.normalize)&&A[m]?f(A[m]):(x[-1===p.indexOf(m)?"irregular":"regular"]=y,x);for(;C(m.charCodeAt(d))&&d<9;)d++;if(d>1&&d<9){if(x.language=y.slice(0,d),d<4)for(_=0;45===m.charCodeAt(d)&&C(m.charCodeAt(d+1))&&C(m.charCodeAt(d+2))&&C(m.charCodeAt(d+3))&&!C(m.charCodeAt(d+4));){if(_>2)return b(d,3,"Too many extended language subtags, expected at most 3 subtags");x.extendedLanguageSubtags.push(y.slice(d+1,d+4)),d+=4,_++}for(45===m.charCodeAt(d)&&C(m.charCodeAt(d+1))&&C(m.charCodeAt(d+2))&&C(m.charCodeAt(d+3))&&C(m.charCodeAt(d+4))&&!C(m.charCodeAt(d+5))&&(x.script=y.slice(d+1,d+5),d+=5),45===m.charCodeAt(d)&&(C(m.charCodeAt(d+1))&&C(m.charCodeAt(d+2))&&!C(m.charCodeAt(d+3))?(x.region=y.slice(d+1,d+3),d+=3):T(m.charCodeAt(d+1))&&T(m.charCodeAt(d+2))&&T(m.charCodeAt(d+3))&&!T(m.charCodeAt(d+4))&&(x.region=y.slice(d+1,d+4),d+=4));45===m.charCodeAt(d);){for(E=D=d+1;V(m.charCodeAt(E));){if(E-D>7)return b(E,1,"Too long variant, expected at most 8 characters");E++}if(!(E-D>4||E-D>3&&T(m.charCodeAt(D))))break;x.variants.push(y.slice(D,E)),d=E}for(;45===m.charCodeAt(d)&&120!==m.charCodeAt(d+1)&&V(m.charCodeAt(d+1))&&45===m.charCodeAt(d+2)&&V(m.charCodeAt(d+3));){for(E=d+2,_=0;45===m.charCodeAt(E)&&V(m.charCodeAt(E+1))&&V(m.charCodeAt(E+2));)for(E=(D=E+1)+2,_++;V(m.charCodeAt(E));){if(E-D>7)return b(E,2,"Too long extension, expected at most 8 characters");E++}if(!_)return b(E,4,"Empty extension, extensions must have at least 2 characters of content");x.extensions.push({singleton:y.charAt(d+1),extensions:y.slice(d+3,E).split("-")}),d=E}}else d=0;if(0===d&&120===m.charCodeAt(d)||45===m.charCodeAt(d)&&120===m.charCodeAt(d+1))for(E=d=d?d+2:1;45===m.charCodeAt(E)&&V(m.charCodeAt(E+1));){for(E=D=d+1;V(m.charCodeAt(E));){if(E-D>7)return b(E,5,"Too long private-use area, expected at most 8 characters");E++}x.privateuse.push(y.slice(d+1,E)),d=E}return d!==y.length?b(d,6,"Found superfluous content after tag"):x;function b(g,h,R){return j.warning&&j.warning(R,h,g),j.forgiving?x:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var M={}.hasOwnProperty},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/Me=>{"use strict";Me.exports=function K(u){var T,p,A,V=u||{},C=[];if(V.irregular||V.regular)return V.irregular||V.regular;if(V.language)for(C=C.concat(V.language,V.extendedLanguageSubtags||[],V.script||[],V.region||[],V.variants||[]),T=V.extensions||[],p=-1;++p<T.length;)(A=T[p]).singleton&&A.extensions&&A.extensions.length&&(C=C.concat(A.singleton,A.extensions));return V.privateuse&&V.privateuse.length&&(C=C.concat("x",V.privateuse)),C.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/(Me,K,u)=>{"use strict";var V=u(
/*! base64-js */
"./node_modules/buffer/node_modules/base64-js/index.js"),C=u(
/*! ieee754 */
"./node_modules/buffer/node_modules/ieee754/index.js"),T="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;K.Buffer=f,K.SlowBuffer=function E(O){return+O!=O&&(O=0),f.alloc(+O)},K.INSPECT_MAX_BYTES=50;var p=2147483647;function M(O){if(O>p)throw new RangeError('The value "'+O+'" is invalid for option "size"');var U=new Uint8Array(O);return Object.setPrototypeOf(U,f.prototype),U}function f(O,U,k){if("number"==typeof O){if("string"==typeof U)throw new TypeError('The "string" argument must be of type string. Received type number');return j(O)}return S(O,U,k)}function S(O,U,k){if("string"==typeof O)return function x(O,U){if(("string"!=typeof U||""===U)&&(U="utf8"),!f.isEncoding(U))throw new TypeError("Unknown encoding: "+U);var k=0|b(O,U),G=M(k),oe=G.write(O,U);return oe!==k&&(G=G.slice(0,oe)),G}(O,U);if(ArrayBuffer.isView(O))return function m(O){if(L(O,Uint8Array)){var U=new Uint8Array(O);return d(U.buffer,U.byteOffset,U.byteLength)}return y(O)}(O);if(null==O)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(L(O,ArrayBuffer)||O&&L(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(L(O,SharedArrayBuffer)||O&&L(O.buffer,SharedArrayBuffer)))return d(O,U,k);if("number"==typeof O)throw new TypeError('The "value" argument must not be of type number. Received type number');var G=O.valueOf&&O.valueOf();if(null!=G&&G!==O)return f.from(G,U,k);var oe=function D(O){if(f.isBuffer(O)){var U=0|_(O.length),k=M(U);return 0===k.length||O.copy(k,0,0,U),k}return void 0!==O.length?"number"!=typeof O.length||N(O.length)?M(0):y(O):"Buffer"===O.type&&Array.isArray(O.data)?y(O.data):void 0}(O);if(oe)return oe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof O[Symbol.toPrimitive])return f.from(O[Symbol.toPrimitive]("string"),U,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function F(O){if("number"!=typeof O)throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function j(O){return F(O),M(O<0?0:0|_(O))}function y(O){for(var U=O.length<0?0:0|_(O.length),k=M(U),G=0;G<U;G+=1)k[G]=255&O[G];return k}function d(O,U,k){if(U<0||O.byteLength<U)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<U+(k||0))throw new RangeError('"length" is outside of buffer bounds');var G;return G=void 0===U&&void 0===k?new Uint8Array(O):void 0===k?new Uint8Array(O,U):new Uint8Array(O,U,k),Object.setPrototypeOf(G,f.prototype),G}function _(O){if(O>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|O}function b(O,U){if(f.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||L(O,ArrayBuffer))return O.byteLength;if("string"!=typeof O)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var k=O.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===k)return 0;for(var oe=!1;;)switch(U){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return ee(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*k;case"hex":return k>>>1;case"base64":return H(O).length;default:if(oe)return G?-1:ee(O).length;U=(""+U).toLowerCase(),oe=!0}}function g(O,U,k){var G=!1;if((void 0===U||U<0)&&(U=0),U>this.length||((void 0===k||k>this.length)&&(k=this.length),k<=0)||(k>>>=0)<=(U>>>=0))return"";for(O||(O="utf8");;)switch(O){case"hex":return se(this,U,k);case"utf8":case"utf-8":return te(this,U,k);case"ascii":return ne(this,U,k);case"latin1":case"binary":return le(this,U,k);case"base64":return Y(this,U,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,U,k);default:if(G)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),G=!0}}function h(O,U,k){var G=O[U];O[U]=O[k],O[k]=G}function R(O,U,k,G,oe){if(0===O.length)return-1;if("string"==typeof k?(G=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),N(k=+k)&&(k=oe?0:O.length-1),k<0&&(k=O.length+k),k>=O.length){if(oe)return-1;k=O.length-1}else if(k<0){if(!oe)return-1;k=0}if("string"==typeof U&&(U=f.from(U,G)),f.isBuffer(U))return 0===U.length?-1:I(O,U,k,G,oe);if("number"==typeof U)return U&=255,"function"==typeof Uint8Array.prototype.indexOf?oe?Uint8Array.prototype.indexOf.call(O,U,k):Uint8Array.prototype.lastIndexOf.call(O,U,k):I(O,[U],k,G,oe);throw new TypeError("val must be string, number or Buffer")}function I(O,U,k,G,oe){var Ce,de=1,q=O.length,be=U.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(O.length<2||U.length<2)return-1;de=2,q/=2,be/=2,k/=2}function ve(rt,it){return 1===de?rt[it]:rt.readUInt16BE(it*de)}if(oe){var xe=-1;for(Ce=k;Ce<q;Ce++)if(ve(O,Ce)===ve(U,-1===xe?0:Ce-xe)){if(-1===xe&&(xe=Ce),Ce-xe+1===be)return xe*de}else-1!==xe&&(Ce-=Ce-xe),xe=-1}else for(k+be>q&&(k=q-be),Ce=k;Ce>=0;Ce--){for(var He=!0,je=0;je<be;je++)if(ve(O,Ce+je)!==ve(U,je)){He=!1;break}if(He)return Ce}return-1}function W(O,U,k,G){k=Number(k)||0;var oe=O.length-k;G?(G=Number(G))>oe&&(G=oe):G=oe;var de=U.length;G>de/2&&(G=de/2);for(var q=0;q<G;++q){var be=parseInt(U.substr(2*q,2),16);if(N(be))return q;O[k+q]=be}return q}function z(O,U,k,G){return P(ee(U,O.length-k),O,k,G)}function re(O,U,k,G){return P(function ce(O){for(var U=[],k=0;k<O.length;++k)U.push(255&O.charCodeAt(k));return U}(U),O,k,G)}function ie(O,U,k,G){return P(H(U),O,k,G)}function ue(O,U,k,G){return P(function J(O,U){for(var k,G,de=[],q=0;q<O.length&&!((U-=2)<0);++q)G=(k=O.charCodeAt(q))>>8,de.push(k%256),de.push(G);return de}(U,O.length-k),O,k,G)}function Y(O,U,k){return V.fromByteArray(0===U&&k===O.length?O:O.slice(U,k))}function te(O,U,k){k=Math.min(O.length,k);for(var G=[],oe=U;oe<k;){var ve,Ce,xe,He,de=O[oe],q=null,be=de>239?4:de>223?3:de>191?2:1;if(oe+be<=k)switch(be){case 1:de<128&&(q=de);break;case 2:128==(192&(ve=O[oe+1]))&&(He=(31&de)<<6|63&ve)>127&&(q=He);break;case 3:Ce=O[oe+2],128==(192&(ve=O[oe+1]))&&128==(192&Ce)&&(He=(15&de)<<12|(63&ve)<<6|63&Ce)>2047&&(He<55296||He>57343)&&(q=He);break;case 4:Ce=O[oe+2],xe=O[oe+3],128==(192&(ve=O[oe+1]))&&128==(192&Ce)&&128==(192&xe)&&(He=(15&de)<<18|(63&ve)<<12|(63&Ce)<<6|63&xe)>65535&&He<1114112&&(q=He)}null===q?(q=65533,be=1):q>65535&&(G.push((q-=65536)>>>10&1023|55296),q=56320|1023&q),G.push(q),oe+=be}return function ae(O){var U=O.length;if(U<=Z)return String.fromCharCode.apply(String,O);for(var k="",G=0;G<U;)k+=String.fromCharCode.apply(String,O.slice(G,G+=Z));return k}(G)}K.kMaxLength=p,!(f.TYPED_ARRAY_SUPPORT=function A(){try{var O=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(O,U),42===O.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(O,U,k){return S(O,U,k)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(O,U,k){return function w(O,U,k){return F(O),O<=0?M(O):void 0!==U?"string"==typeof k?M(O).fill(U,k):M(O).fill(U):M(O)}(O,U,k)},f.allocUnsafe=function(O){return j(O)},f.allocUnsafeSlow=function(O){return j(O)},f.isBuffer=function(U){return null!=U&&!0===U._isBuffer&&U!==f.prototype},f.compare=function(U,k){if(L(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),L(k,Uint8Array)&&(k=f.from(k,k.offset,k.byteLength)),!f.isBuffer(U)||!f.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===k)return 0;for(var G=U.length,oe=k.length,de=0,q=Math.min(G,oe);de<q;++de)if(U[de]!==k[de]){G=U[de],oe=k[de];break}return G<oe?-1:oe<G?1:0},f.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(U,k){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(0===U.length)return f.alloc(0);var G;if(void 0===k)for(k=0,G=0;G<U.length;++G)k+=U[G].length;var oe=f.allocUnsafe(k),de=0;for(G=0;G<U.length;++G){var q=U[G];if(L(q,Uint8Array))de+q.length>oe.length?f.from(q).copy(oe,de):Uint8Array.prototype.set.call(oe,q,de);else{if(!f.isBuffer(q))throw new TypeError('"list" argument must be an Array of Buffers');q.copy(oe,de)}de+=q.length}return oe},f.byteLength=b,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<U;k+=2)h(this,k,k+1);return this},f.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<U;k+=4)h(this,k,k+3),h(this,k+1,k+2);return this},f.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<U;k+=8)h(this,k,k+7),h(this,k+1,k+6),h(this,k+2,k+5),h(this,k+3,k+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var U=this.length;return 0===U?"":0===arguments.length?te(this,0,U):g.apply(this,arguments)},f.prototype.equals=function(U){if(!f.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||0===f.compare(this,U)},f.prototype.inspect=function(){var U="",k=K.INSPECT_MAX_BYTES;return U=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(U+=" ... "),"<Buffer "+U+">"},T&&(f.prototype[T]=f.prototype.inspect),f.prototype.compare=function(U,k,G,oe,de){if(L(U,Uint8Array)&&(U=f.from(U,U.offset,U.byteLength)),!f.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(void 0===k&&(k=0),void 0===G&&(G=U?U.length:0),void 0===oe&&(oe=0),void 0===de&&(de=this.length),k<0||G>U.length||oe<0||de>this.length)throw new RangeError("out of range index");if(oe>=de&&k>=G)return 0;if(oe>=de)return-1;if(k>=G)return 1;if(this===U)return 0;for(var q=(de>>>=0)-(oe>>>=0),be=(G>>>=0)-(k>>>=0),ve=Math.min(q,be),Ce=this.slice(oe,de),xe=U.slice(k,G),He=0;He<ve;++He)if(Ce[He]!==xe[He]){q=Ce[He],be=xe[He];break}return q<be?-1:be<q?1:0},f.prototype.includes=function(U,k,G){return-1!==this.indexOf(U,k,G)},f.prototype.indexOf=function(U,k,G){return R(this,U,k,G,!0)},f.prototype.lastIndexOf=function(U,k,G){return R(this,U,k,G,!1)},f.prototype.write=function(U,k,G,oe){if(void 0===k)oe="utf8",G=this.length,k=0;else if(void 0===G&&"string"==typeof k)oe=k,G=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k>>>=0,isFinite(G)?(G>>>=0,void 0===oe&&(oe="utf8")):(oe=G,G=void 0)}var de=this.length-k;if((void 0===G||G>de)&&(G=de),U.length>0&&(G<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var q=!1;;)switch(oe){case"hex":return W(this,U,k,G);case"utf8":case"utf-8":return z(this,U,k,G);case"ascii":case"latin1":case"binary":return re(this,U,k,G);case"base64":return ie(this,U,k,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,U,k,G);default:if(q)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),q=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;function ne(O,U,k){var G="";k=Math.min(O.length,k);for(var oe=U;oe<k;++oe)G+=String.fromCharCode(127&O[oe]);return G}function le(O,U,k){var G="";k=Math.min(O.length,k);for(var oe=U;oe<k;++oe)G+=String.fromCharCode(O[oe]);return G}function se(O,U,k){var G=O.length;(!U||U<0)&&(U=0),(!k||k<0||k>G)&&(k=G);for(var oe="",de=U;de<k;++de)oe+=Q[O[de]];return oe}function ge(O,U,k){for(var G=O.slice(U,k),oe="",de=0;de<G.length-1;de+=2)oe+=String.fromCharCode(G[de]+256*G[de+1]);return oe}function $(O,U,k){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(O+U>k)throw new RangeError("Trying to access beyond buffer length")}function he(O,U,k,G,oe,de){if(!f.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>oe||U<de)throw new RangeError('"value" argument is out of bounds');if(k+G>O.length)throw new RangeError("Index out of range")}function pe(O,U,k,G,oe,de){if(k+G>O.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function De(O,U,k,G,oe){return U=+U,k>>>=0,oe||pe(O,0,k,4),C.write(O,U,k,G,23,4),k+4}function Ee(O,U,k,G,oe){return U=+U,k>>>=0,oe||pe(O,0,k,8),C.write(O,U,k,G,52,8),k+8}f.prototype.slice=function(U,k){var G=this.length;(U=~~U)<0?(U+=G)<0&&(U=0):U>G&&(U=G),(k=void 0===k?G:~~k)<0?(k+=G)<0&&(k=0):k>G&&(k=G),k<U&&(k=U);var oe=this.subarray(U,k);return Object.setPrototypeOf(oe,f.prototype),oe},f.prototype.readUintLE=f.prototype.readUIntLE=function(U,k,G){U>>>=0,k>>>=0,G||$(U,k,this.length);for(var oe=this[U],de=1,q=0;++q<k&&(de*=256);)oe+=this[U+q]*de;return oe},f.prototype.readUintBE=f.prototype.readUIntBE=function(U,k,G){U>>>=0,k>>>=0,G||$(U,k,this.length);for(var oe=this[U+--k],de=1;k>0&&(de*=256);)oe+=this[U+--k]*de;return oe},f.prototype.readUint8=f.prototype.readUInt8=function(U,k){return U>>>=0,k||$(U,1,this.length),this[U]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(U,k){return U>>>=0,k||$(U,2,this.length),this[U]|this[U+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(U,k){return U>>>=0,k||$(U,2,this.length),this[U]<<8|this[U+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(U,k){return U>>>=0,k||$(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(U,k){return U>>>=0,k||$(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},f.prototype.readIntLE=function(U,k,G){U>>>=0,k>>>=0,G||$(U,k,this.length);for(var oe=this[U],de=1,q=0;++q<k&&(de*=256);)oe+=this[U+q]*de;return oe>=(de*=128)&&(oe-=Math.pow(2,8*k)),oe},f.prototype.readIntBE=function(U,k,G){U>>>=0,k>>>=0,G||$(U,k,this.length);for(var oe=k,de=1,q=this[U+--oe];oe>0&&(de*=256);)q+=this[U+--oe]*de;return q>=(de*=128)&&(q-=Math.pow(2,8*k)),q},f.prototype.readInt8=function(U,k){return U>>>=0,k||$(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},f.prototype.readInt16LE=function(U,k){U>>>=0,k||$(U,2,this.length);var G=this[U]|this[U+1]<<8;return 32768&G?4294901760|G:G},f.prototype.readInt16BE=function(U,k){U>>>=0,k||$(U,2,this.length);var G=this[U+1]|this[U]<<8;return 32768&G?4294901760|G:G},f.prototype.readInt32LE=function(U,k){return U>>>=0,k||$(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},f.prototype.readInt32BE=function(U,k){return U>>>=0,k||$(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},f.prototype.readFloatLE=function(U,k){return U>>>=0,k||$(U,4,this.length),C.read(this,U,!0,23,4)},f.prototype.readFloatBE=function(U,k){return U>>>=0,k||$(U,4,this.length),C.read(this,U,!1,23,4)},f.prototype.readDoubleLE=function(U,k){return U>>>=0,k||$(U,8,this.length),C.read(this,U,!0,52,8)},f.prototype.readDoubleBE=function(U,k){return U>>>=0,k||$(U,8,this.length),C.read(this,U,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(U,k,G,oe){U=+U,k>>>=0,G>>>=0,oe||he(this,U,k,G,Math.pow(2,8*G)-1,0);var q=1,be=0;for(this[k]=255&U;++be<G&&(q*=256);)this[k+be]=U/q&255;return k+G},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(U,k,G,oe){U=+U,k>>>=0,G>>>=0,oe||he(this,U,k,G,Math.pow(2,8*G)-1,0);var q=G-1,be=1;for(this[k+q]=255&U;--q>=0&&(be*=256);)this[k+q]=U/be&255;return k+G},f.prototype.writeUint8=f.prototype.writeUInt8=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,1,255,0),this[k]=255&U,k+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,2,65535,0),this[k]=255&U,this[k+1]=U>>>8,k+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,2,65535,0),this[k]=U>>>8,this[k+1]=255&U,k+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,4,4294967295,0),this[k+3]=U>>>24,this[k+2]=U>>>16,this[k+1]=U>>>8,this[k]=255&U,k+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,4,4294967295,0),this[k]=U>>>24,this[k+1]=U>>>16,this[k+2]=U>>>8,this[k+3]=255&U,k+4},f.prototype.writeIntLE=function(U,k,G,oe){if(U=+U,k>>>=0,!oe){var de=Math.pow(2,8*G-1);he(this,U,k,G,de-1,-de)}var q=0,be=1,ve=0;for(this[k]=255&U;++q<G&&(be*=256);)U<0&&0===ve&&0!==this[k+q-1]&&(ve=1),this[k+q]=(U/be>>0)-ve&255;return k+G},f.prototype.writeIntBE=function(U,k,G,oe){if(U=+U,k>>>=0,!oe){var de=Math.pow(2,8*G-1);he(this,U,k,G,de-1,-de)}var q=G-1,be=1,ve=0;for(this[k+q]=255&U;--q>=0&&(be*=256);)U<0&&0===ve&&0!==this[k+q+1]&&(ve=1),this[k+q]=(U/be>>0)-ve&255;return k+G},f.prototype.writeInt8=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,1,127,-128),U<0&&(U=255+U+1),this[k]=255&U,k+1},f.prototype.writeInt16LE=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,2,32767,-32768),this[k]=255&U,this[k+1]=U>>>8,k+2},f.prototype.writeInt16BE=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,2,32767,-32768),this[k]=U>>>8,this[k+1]=255&U,k+2},f.prototype.writeInt32LE=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,4,2147483647,-2147483648),this[k]=255&U,this[k+1]=U>>>8,this[k+2]=U>>>16,this[k+3]=U>>>24,k+4},f.prototype.writeInt32BE=function(U,k,G){return U=+U,k>>>=0,G||he(this,U,k,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[k]=U>>>24,this[k+1]=U>>>16,this[k+2]=U>>>8,this[k+3]=255&U,k+4},f.prototype.writeFloatLE=function(U,k,G){return De(this,U,k,!0,G)},f.prototype.writeFloatBE=function(U,k,G){return De(this,U,k,!1,G)},f.prototype.writeDoubleLE=function(U,k,G){return Ee(this,U,k,!0,G)},f.prototype.writeDoubleBE=function(U,k,G){return Ee(this,U,k,!1,G)},f.prototype.copy=function(U,k,G,oe){if(!f.isBuffer(U))throw new TypeError("argument should be a Buffer");if(G||(G=0),!oe&&0!==oe&&(oe=this.length),k>=U.length&&(k=U.length),k||(k=0),oe>0&&oe<G&&(oe=G),oe===G||0===U.length||0===this.length)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),U.length-k<oe-G&&(oe=U.length-k+G);var de=oe-G;return this===U&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(k,G,oe):Uint8Array.prototype.set.call(U,this.subarray(G,oe),k),de},f.prototype.fill=function(U,k,G,oe){if("string"==typeof U){if("string"==typeof k?(oe=k,k=0,G=this.length):"string"==typeof G&&(oe=G,G=this.length),void 0!==oe&&"string"!=typeof oe)throw new TypeError("encoding must be a string");if("string"==typeof oe&&!f.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(1===U.length){var de=U.charCodeAt(0);("utf8"===oe&&de<128||"latin1"===oe)&&(U=de)}}else"number"==typeof U?U&=255:"boolean"==typeof U&&(U=Number(U));if(k<0||this.length<k||this.length<G)throw new RangeError("Out of range index");if(G<=k)return this;var q;if(k>>>=0,G=void 0===G?this.length:G>>>0,U||(U=0),"number"==typeof U)for(q=k;q<G;++q)this[q]=U;else{var be=f.isBuffer(U)?U:f.from(U,oe),ve=be.length;if(0===ve)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(q=0;q<G-k;++q)this[q+k]=be[q%ve]}return this};var me=/[^+/0-9A-Za-z-_]/g;function ee(O,U){U=U||1/0;for(var k,G=O.length,oe=null,de=[],q=0;q<G;++q){if((k=O.charCodeAt(q))>55295&&k<57344){if(!oe){if(k>56319){(U-=3)>-1&&de.push(239,191,189);continue}if(q+1===G){(U-=3)>-1&&de.push(239,191,189);continue}oe=k;continue}if(k<56320){(U-=3)>-1&&de.push(239,191,189),oe=k;continue}k=65536+(oe-55296<<10|k-56320)}else oe&&(U-=3)>-1&&de.push(239,191,189);if(oe=null,k<128){if((U-=1)<0)break;de.push(k)}else if(k<2048){if((U-=2)<0)break;de.push(k>>6|192,63&k|128)}else if(k<65536){if((U-=3)<0)break;de.push(k>>12|224,k>>6&63|128,63&k|128)}else{if(!(k<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;de.push(k>>18|240,k>>12&63|128,k>>6&63|128,63&k|128)}}return de}function H(O){return V.toByteArray(function _e(O){if((O=(O=O.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;O.length%4!=0;)O+="=";return O}(O))}function P(O,U,k,G){for(var oe=0;oe<G&&!(oe+k>=U.length||oe>=O.length);++oe)U[oe+k]=O[oe];return oe}function L(O,U){return O instanceof U||null!=O&&null!=O.constructor&&null!=O.constructor.name&&O.constructor.name===U.name}function N(O){return O!=O}var Q=function(){for(var O="0123456789abcdef",U=new Array(256),k=0;k<16;++k)for(var G=16*k,oe=0;oe<16;++oe)U[G+oe]=O[k]+O[oe];return U}()},"./node_modules/buffer/node_modules/base64-js/index.js":
/*!*************************************************************!*\
                  !*** ./node_modules/buffer/node_modules/base64-js/index.js ***!
                  \*************************************************************/(Me,K)=>{"use strict";K.byteLength=function f(y){var m=M(y),D=m[1];return 3*(m[0]+D)/4-D},K.toByteArray=function F(y){var m,h,d=M(y),D=d[0],_=d[1],E=new C(function S(y,m,d){return 3*(m+d)/4-d}(0,D,_)),b=0,g=_>0?D-4:D;for(h=0;h<g;h+=4)m=V[y.charCodeAt(h)]<<18|V[y.charCodeAt(h+1)]<<12|V[y.charCodeAt(h+2)]<<6|V[y.charCodeAt(h+3)],E[b++]=m>>16&255,E[b++]=m>>8&255,E[b++]=255&m;return 2===_&&(m=V[y.charCodeAt(h)]<<2|V[y.charCodeAt(h+1)]>>4,E[b++]=255&m),1===_&&(m=V[y.charCodeAt(h)]<<10|V[y.charCodeAt(h+1)]<<4|V[y.charCodeAt(h+2)]>>2,E[b++]=m>>8&255,E[b++]=255&m),E},K.fromByteArray=function x(y){for(var m,d=y.length,D=d%3,_=[],E=16383,b=0,g=d-D;b<g;b+=E)_.push(j(y,b,b+E>g?g:b+E));return 1===D?_.push(u[(m=y[d-1])>>2]+u[m<<4&63]+"=="):2===D&&_.push(u[(m=(y[d-2]<<8)+y[d-1])>>10]+u[m>>4&63]+u[m<<2&63]+"="),_.join("")};for(var u=[],V=[],C=typeof Uint8Array<"u"?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,A=T.length;p<A;++p)u[p]=T[p],V[T.charCodeAt(p)]=p;function M(y){var m=y.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=y.indexOf("=");return-1===d&&(d=m),[d,d===m?0:4-d%4]}function w(y){return u[y>>18&63]+u[y>>12&63]+u[y>>6&63]+u[63&y]}function j(y,m,d){for(var _=[],E=m;E<d;E+=3)_.push(w((y[E]<<16&16711680)+(y[E+1]<<8&65280)+(255&y[E+2])));return _.join("")}V["-".charCodeAt(0)]=62,V["_".charCodeAt(0)]=63},"./node_modules/buffer/node_modules/ieee754/index.js":
/*!***********************************************************!*\
                  !*** ./node_modules/buffer/node_modules/ieee754/index.js ***!
                  \***********************************************************/(Me,K)=>{K.read=function(u,V,C,T,p){var A,M,f=8*p-T-1,S=(1<<f)-1,F=S>>1,w=-7,j=C?p-1:0,x=C?-1:1,y=u[V+j];for(j+=x,A=y&(1<<-w)-1,y>>=-w,w+=f;w>0;A=256*A+u[V+j],j+=x,w-=8);for(M=A&(1<<-w)-1,A>>=-w,w+=T;w>0;M=256*M+u[V+j],j+=x,w-=8);if(0===A)A=1-F;else{if(A===S)return M?NaN:1/0*(y?-1:1);M+=Math.pow(2,T),A-=F}return(y?-1:1)*M*Math.pow(2,A-T)},K.write=function(u,V,C,T,p,A){var M,f,S,F=8*A-p-1,w=(1<<F)-1,j=w>>1,x=23===p?Math.pow(2,-24)-Math.pow(2,-77):0,y=T?0:A-1,m=T?1:-1,d=V<0||0===V&&1/V<0?1:0;for(V=Math.abs(V),isNaN(V)||V===1/0?(f=isNaN(V)?1:0,M=w):(M=Math.floor(Math.log(V)/Math.LN2),V*(S=Math.pow(2,-M))<1&&(M--,S*=2),(V+=M+j>=1?x/S:x*Math.pow(2,1-j))*S>=2&&(M++,S/=2),M+j>=w?(f=0,M=w):M+j>=1?(f=(V*S-1)*Math.pow(2,p),M+=j):(f=V*Math.pow(2,j-1)*Math.pow(2,p),M=0));p>=8;u[C+y]=255&f,y+=m,f/=256,p-=8);for(M=M<<p|f,F+=p;F>0;u[C+y]=255&M,y+=m,M/=256,F-=8);u[C+y-m]|=128*d}},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/(Me,K)=>{var u={parseBuffer:function(T){return new V(T).parse()},addBoxProcessor:function(T,p){"string"!=typeof T||"function"!=typeof p||(C.prototype._boxProcessors[T]=p)},createFile:function(){return new V},createBox:function(T,p,A){var M=C.create(T);return p&&p.append(M,A),M},createFullBox:function(T,p,A){var M=u.createBox(T,p,A);return M.version=0,M.flags=0,M},Utils:{}};u.Utils.dataViewToString=function(T,p){var A=p||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(A).decode(T);var M=[],f=0;if("utf-8"===A)for(;f<T.byteLength;){var S=T.getUint8(f++);S<128||(S<224?(S=(31&S)<<6,S|=63&T.getUint8(f++)):S<240?(S=(15&S)<<12,S|=(63&T.getUint8(f++))<<6,S|=63&T.getUint8(f++)):(S=(7&S)<<18,S|=(63&T.getUint8(f++))<<12,S|=(63&T.getUint8(f++))<<6,S|=63&T.getUint8(f++))),M.push(String.fromCharCode(S))}else for(;f<T.byteLength;)M.push(String.fromCharCode(T.getUint8(f++)));return M.join("")},u.Utils.utf8ToByteArray=function(T){var p,A;if(typeof TextEncoder<"u")p=(new TextEncoder).encode(T);else for(p=[],A=0;A<T.length;++A){var M=T.charCodeAt(A);M<128?p.push(M):M<2048?(p.push(192|M>>6),p.push(128|63&M)):M<65536?(p.push(224|M>>12),p.push(128|63&M>>6),p.push(128|63&M)):(p.push(240|M>>18),p.push(128|63&M>>12),p.push(128|63&M>>6),p.push(128|63&M))}return p},u.Utils.appendBox=function(T,p,A){if(p._offset=T._cursor.offset,p._root=T._root?T._root:T,p._raw=T._raw,p._parent=T,-1!==A){if(null==A)return void T.boxes.push(p);var f,M=-1;if("number"==typeof A)M=A;else{if("string"==typeof A)f=A;else{if("object"!=typeof A||!A.type)return void T.boxes.push(p);f=A.type}for(var S=0;S<T.boxes.length;S++)if(f===T.boxes[S].type){M=S+1;break}}T.boxes.splice(M,0,p)}},K.parseBuffer=u.parseBuffer,K.addBoxProcessor=u.addBoxProcessor,K.createFile=u.createFile,K.createBox=u.createBox,K.createFullBox=u.createFullBox,K.Utils=u.Utils,u.Cursor=function(T){this.offset=typeof T>"u"?0:T};var V=function(T){this._cursor=new u.Cursor,this.boxes=[],T&&(this._raw=new DataView(T))};V.prototype.fetch=function(T){var p=this.fetchAll(T,!0);return p.length?p[0]:null},V.prototype.fetchAll=function(T,p){var A=[];return V._sweep.call(this,T,A,p),A},V.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var T=C.parse(this);if(typeof T.type>"u")break;this.boxes.push(T)}return this},V._sweep=function(T,p,A){for(var M in this.type&&this.type==T&&p.push(this),this.boxes){if(p.length&&A)return;V._sweep.call(this.boxes[M],T,p,A)}},V.prototype.write=function(){var p,T=0;for(p=0;p<this.boxes.length;p++)T+=this.boxes[p].getLength(!1);var A=new Uint8Array(T);for(this._rawo=new DataView(A.buffer),this.bytes=A,this._cursor.offset=0,p=0;p<this.boxes.length;p++)this.boxes[p].write();return A.buffer},V.prototype.append=function(T,p){u.Utils.appendBox(this,T,p)};var C=function(){this._cursor=new u.Cursor};C.parse=function(T){var p=new C;return p._offset=T._cursor.offset,p._root=T._root?T._root:T,p._raw=T._raw,p._parent=T,p._parseBox(),T._cursor.offset=p._raw.byteOffset+p._raw.byteLength,p},C.create=function(T){var p=new C;return p.type=T,p.boxes=[],p},C.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],C.prototype._boxProcessors={},C.prototype._procField=function(T,p,A){this._parsing?this[T]=this._readField(p,A):this._writeField(p,A,this[T])},C.prototype._procFieldArray=function(T,p,A,M){var f;if(this._parsing)for(this[T]=[],f=0;f<p;f++)this[T][f]=this._readField(A,M);else for(f=0;f<this[T].length;f++)this._writeField(A,M,this[T][f])},C.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},C.prototype._procEntries=function(T,p,A){var M;if(this._parsing)for(this[T]=[],M=0;M<p;M++)this[T].push({}),A.call(this,this[T][M]);else for(M=0;M<p;M++)A.call(this,this[T][M])},C.prototype._procSubEntries=function(T,p,A,M){var f;if(this._parsing)for(T[p]=[],f=0;f<A;f++)T[p].push({}),M.call(this,T[p][f]);else for(f=0;f<A;f++)M.call(this,T[p][f])},C.prototype._procEntryField=function(T,p,A,M){this._parsing?T[p]=this._readField(A,M):this._writeField(A,M,T[p])},C.prototype._procSubBoxes=function(T,p){var A;if(this._parsing)for(this[T]=[],A=0;A<p;A++)this[T].push(C.parse(this));else for(A=0;A<p;A++)this._rawo?this[T][A].write():this.size+=this[T][A].getLength()},C.prototype._readField=function(T,p){switch(T){case"uint":return this._readUint(p);case"int":return this._readInt(p);case"template":return this._readTemplate(p);case"string":return-1===p?this._readTerminatedString():this._readString(p);case"data":return this._readData(p);case"utf8":return this._readUTF8String();default:return-1}},C.prototype._readInt=function(T){var p=null,A=this._cursor.offset-this._raw.byteOffset;switch(T){case 8:p=this._raw.getInt8(A);break;case 16:p=this._raw.getInt16(A);break;case 32:p=this._raw.getInt32(A);break;case 64:var M=this._raw.getInt32(A),f=this._raw.getInt32(A+4);p=M*Math.pow(2,32)+f}return this._cursor.offset+=T>>3,p},C.prototype._readUint=function(T){var M,f,p=null,A=this._cursor.offset-this._raw.byteOffset;switch(T){case 8:p=this._raw.getUint8(A);break;case 16:p=this._raw.getUint16(A);break;case 24:p=((M=this._raw.getUint16(A))<<8)+(f=this._raw.getUint8(A+2));break;case 32:p=this._raw.getUint32(A);break;case 64:M=this._raw.getUint32(A),f=this._raw.getUint32(A+4),p=M*Math.pow(2,32)+f}return this._cursor.offset+=T>>3,p},C.prototype._readString=function(T){for(var p="",A=0;A<T;A++){var M=this._readUint(8);p+=String.fromCharCode(M)}return p},C.prototype._readTemplate=function(T){return this._readUint(T/2)+this._readUint(T/2)/Math.pow(2,T/2)},C.prototype._readTerminatedString=function(){for(var T="";this._cursor.offset-this._offset<this._raw.byteLength;){var p=this._readUint(8);if(0===p)break;T+=String.fromCharCode(p)}return T},C.prototype._readData=function(T){var p=T>0?T:this._raw.byteLength-(this._cursor.offset-this._offset);if(p>0){var A=new Uint8Array(this._raw.buffer,this._cursor.offset,p);return this._cursor.offset+=p,A}return null},C.prototype._readUTF8String=function(){var T=this._raw.byteLength-(this._cursor.offset-this._offset),p=null;return T>0&&(p=new DataView(this._raw.buffer,this._cursor.offset,T),this._cursor.offset+=T),p&&u.Utils.dataViewToString(p)},C.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},C.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},C.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(C.parse(this))},C.prototype.append=function(T,p){u.Utils.appendBox(this,T,p)},C.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var T=0;T<this.boxes.length;T++)this.size+=this.boxes[T].getLength();return this._data&&this._writeData(this._data),this.size},C.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var T=0;T<this.boxes.length;T++)this.boxes[T].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},C.prototype._writeInt=function(T,p){if(this._rawo){var A=this._cursor.offset-this._rawo.byteOffset;switch(T){case 8:this._rawo.setInt8(A,p);break;case 16:this._rawo.setInt16(A,p);break;case 32:this._rawo.setInt32(A,p);break;case 64:var M=Math.floor(p/Math.pow(2,32)),f=p-M*Math.pow(2,32);this._rawo.setUint32(A,M),this._rawo.setUint32(A+4,f)}this._cursor.offset+=T>>3}else this.size+=T>>3},C.prototype._writeUint=function(T,p){if(this._rawo){var M,f,A=this._cursor.offset-this._rawo.byteOffset;switch(T){case 8:this._rawo.setUint8(A,p);break;case 16:this._rawo.setUint16(A,p);break;case 24:f=255&p,this._rawo.setUint16(A,M=(16776960&p)>>8),this._rawo.setUint8(A+2,f);break;case 32:this._rawo.setUint32(A,p);break;case 64:f=p-(M=Math.floor(p/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(A,M),this._rawo.setUint32(A+4,f)}this._cursor.offset+=T>>3}else this.size+=T>>3},C.prototype._writeString=function(T,p){for(var A=0;A<T;A++)this._writeUint(8,p.charCodeAt(A))},C.prototype._writeTerminatedString=function(T){if(0!==T.length){for(var p=0;p<T.length;p++)this._writeUint(8,T.charCodeAt(p));this._writeUint(8,0)}},C.prototype._writeTemplate=function(T,p){var A=Math.floor(p),M=(p-A)*Math.pow(2,T/2);this._writeUint(T/2,A),this._writeUint(T/2,M)},C.prototype._writeData=function(T){if(T)if(this._rawo){if(T instanceof Array){for(var A=this._cursor.offset-this._rawo.byteOffset,p=0;p<T.length;p++)this._rawo.setInt8(A+p,T[p]);this._cursor.offset+=T.length}T instanceof Uint8Array&&(this._root.bytes.set(T,this._cursor.offset),this._cursor.offset+=T.length)}else this.size+=T.length},C.prototype._writeUTF8String=function(T){var p=u.Utils.utf8ToByteArray(T);if(this._rawo)for(var A=new DataView(this._rawo.buffer,this._cursor.offset,p.length),M=0;M<p.length;M++)A.setUint8(M,p[M]);else this.size+=p.length},C.prototype._writeField=function(T,p,A){switch(T){case"uint":this._writeUint(p,A);break;case"int":this._writeInt(p,A);break;case"template":this._writeTemplate(p,A);break;case"string":-1==p?this._writeTerminatedString(A):this._writeString(p,A);break;case"data":this._writeData(A);break;case"utf8":this._writeUTF8String(A)}},C.prototype._boxProcessors.avc1=C.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},C.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},C.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(T){this._procEntryField(T,"segment_duration","uint",1===this.version?64:32),this._procEntryField(T,"media_time","int",1===this.version?64:32),this._procEntryField(T,"media_rate_integer","int",16),this._procEntryField(T,"media_rate_fraction","int",16)})},C.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},C.prototype._boxProcessors.free=C.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},C.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},C.prototype._boxProcessors.ftyp=C.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var T=-1;this._parsing&&(T=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",T,"string",4)},C.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},C.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},C.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},C.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},C.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},C.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},C.prototype._boxProcessors.mp4a=C.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},C.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},C.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},C.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},C.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},C.prototype._boxProcessors.sdtp=function(){this._procFullBox();var T=-1;this._parsing&&(T=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",T,"uint",8)},C.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(T){this._parsing||(T.reference=(1&T.reference_type)<<31,T.reference|=2147483647&T.referenced_size,T.sap=(1&T.starts_with_SAP)<<31,T.sap|=(3&T.SAP_type)<<28,T.sap|=268435455&T.SAP_delta_time),this._procEntryField(T,"reference","uint",32),this._procEntryField(T,"subsegment_duration","uint",32),this._procEntryField(T,"sap","uint",32),this._parsing&&(T.reference_type=T.reference>>31&1,T.referenced_size=2147483647&T.reference,T.starts_with_SAP=T.sap>>31&1,T.SAP_type=T.sap>>28&7,T.SAP_delta_time=268435455&T.sap)})},C.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},C.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(T){this._procEntryField(T,"ranges_count","uint",32),this._procSubEntries(T,"ranges",T.ranges_count,function(p){this._procEntryField(p,"level","uint",8),this._procEntryField(p,"range_size","uint",24)})})},C.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},C.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(T){this._procEntryField(T,"sample_delta","uint",32),this._procEntryField(T,"subsample_count","uint",16),this._procSubEntries(T,"subsamples",T.subsample_count,function(p){this._procEntryField(p,"subsample_size","uint",1===this.version?32:16),this._procEntryField(p,"subsample_priority","uint",8),this._procEntryField(p,"discardable","uint",8),this._procEntryField(p,"codec_specific_parameters","uint",32)})})},C.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},C.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},C.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},C.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(T){this._procEntryField(T,"time","uint",1===this.version?64:32),this._procEntryField(T,"moof_offset","uint",1===this.version?64:32),this._procEntryField(T,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(T,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(T,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},C.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},C.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},C.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(T){256&this.flags&&this._procEntryField(T,"sample_duration","uint",32),512&this.flags&&this._procEntryField(T,"sample_size","uint",32),1024&this.flags&&this._procEntryField(T,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(T,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},C.prototype._boxProcessors["url "]=C.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},C.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},C.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},C.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},C.prototype._boxProcessors.vtte=function(){}},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/(Me,K,u)=>{"use strict";Me.exports=u(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/function(Me,K,u){Me.exports=function(){"use strict";function C(q){return"function"==typeof q}var p=Array.isArray?Array.isArray:function(q){return"[object Array]"===Object.prototype.toString.call(q)},A=0,M=void 0,f=void 0,S=function(be,ve){h[A]=be,h[A+1]=ve,2===(A+=2)&&(f?f(R):W())},j=typeof window<"u"?window:void 0,x=j||{},y=x.MutationObserver||x.WebKitMutationObserver,m=typeof self>"u"&&typeof process<"u"&&"[object process]"==={}.toString.call(process),d=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function g(){var q=setTimeout;return function(){return q(R,1)}}var h=new Array(1e3);function R(){for(var q=0;q<A;q+=2)(0,h[q])(h[q+1]),h[q]=void 0,h[q+1]=void 0;A=0}var W=void 0;function z(q,be){var ve=this,Ce=new this.constructor(ue);void 0===Ce[ie]&&P(Ce);var xe=ve._state;if(xe){var He=arguments[xe-1];S(function(){return ee(xe,Ce,He,ve._result)})}else me(ve,Ce,q,be);return Ce}function re(q){if(q&&"object"==typeof q&&q.constructor===this)return q;var ve=new this(ue);return he(ve,q),ve}W=m?function D(){return function(){return process.nextTick(R)}}():y?function E(){var q=0,be=new y(R),ve=document.createTextNode("");return be.observe(ve,{characterData:!0}),function(){ve.data=q=++q%2}}():d?function b(){var q=new MessageChannel;return q.port1.onmessage=R,function(){return q.port2.postMessage(0)}}():void 0===j?function I(){try{var q=Function("return this")().require("vertx");return M=q.runOnLoop||q.runOnContext,function _(){return typeof M<"u"?function(){M(R)}:g()}()}catch{return g()}}():g();var ie=Math.random().toString(36).substring(2);function ue(){}var Y=void 0,te=1,Z=2;function $(q,be,ve){be.constructor===q.constructor&&ve===z&&be.constructor.resolve===re?function ge(q,be){be._state===te?De(q,be._result):be._state===Z?Ee(q,be._result):me(be,void 0,function(ve){return he(q,ve)},function(ve){return Ee(q,ve)})}(q,be):void 0===ve?De(q,be):C(ve)?function se(q,be,ve){S(function(Ce){var xe=!1,He=function le(q,be,ve,Ce){try{q.call(be,ve,Ce)}catch(xe){return xe}}(ve,be,function(je){xe||(xe=!0,be!==je?he(Ce,je):De(Ce,je))},function(je){xe||(xe=!0,Ee(Ce,je))});!xe&&He&&(xe=!0,Ee(Ce,He))},q)}(q,be,ve):De(q,be)}function he(q,be){if(q===be)Ee(q,function ae(){return new TypeError("You cannot resolve a promise with itself")}());else if(function V(q){var be=typeof q;return null!==q&&("object"===be||"function"===be)}(be)){var ve=void 0;try{ve=be.then}catch(Ce){return void Ee(q,Ce)}$(q,be,ve)}else De(q,be)}function pe(q){q._onerror&&q._onerror(q._result),_e(q)}function De(q,be){q._state===Y&&(q._result=be,q._state=te,0!==q._subscribers.length&&S(_e,q))}function Ee(q,be){q._state===Y&&(q._state=Z,q._result=be,S(pe,q))}function me(q,be,ve,Ce){var xe=q._subscribers,He=xe.length;q._onerror=null,xe[He]=be,xe[He+te]=ve,xe[He+Z]=Ce,0===He&&q._state&&S(_e,q)}function _e(q){var be=q._subscribers,ve=q._state;if(0!==be.length){for(var Ce=void 0,xe=void 0,He=q._result,je=0;je<be.length;je+=3)xe=be[je+ve],(Ce=be[je])?ee(ve,Ce,xe,He):xe(He);q._subscribers.length=0}}function ee(q,be,ve,Ce){var xe=C(ve),He=void 0,je=void 0,rt=!0;if(xe){try{He=ve(Ce)}catch(it){rt=!1,je=it}if(be===He)return void Ee(be,function ne(){return new TypeError("A promises callback cannot return that same promise.")}())}else He=Ce;be._state!==Y||(xe&&rt?he(be,He):!1===rt?Ee(be,je):q===te?De(be,He):q===Z&&Ee(be,He))}var J=0;function P(q){q[ie]=J++,q._state=void 0,q._result=void 0,q._subscribers=[]}var N=function(){function q(be,ve){this._instanceConstructor=be,this.promise=new be(ue),this.promise[ie]||P(this.promise),p(ve)?(this.length=ve.length,this._remaining=ve.length,this._result=new Array(this.length),0===this.length?De(this.promise,this._result):(this.length=this.length||0,this._enumerate(ve),0===this._remaining&&De(this.promise,this._result))):Ee(this.promise,function L(){return new Error("Array Methods must be provided an Array")}())}return q.prototype._enumerate=function(ve){for(var Ce=0;this._state===Y&&Ce<ve.length;Ce++)this._eachEntry(ve[Ce],Ce)},q.prototype._eachEntry=function(ve,Ce){var xe=this._instanceConstructor,He=xe.resolve;if(He===re){var je=void 0,rt=void 0,it=!1;try{je=ve.then}catch(Be){it=!0,rt=Be}if(je===z&&ve._state!==Y)this._settledAt(ve._state,Ce,ve._result);else if("function"!=typeof je)this._remaining--,this._result[Ce]=ve;else if(xe===oe){var Re=new xe(ue);it?Ee(Re,rt):$(Re,ve,je),this._willSettleAt(Re,Ce)}else this._willSettleAt(new xe(function(Be){return Be(ve)}),Ce)}else this._willSettleAt(He(ve),Ce)},q.prototype._settledAt=function(ve,Ce,xe){var He=this.promise;He._state===Y&&(this._remaining--,ve===Z?Ee(He,xe):this._result[Ce]=xe),0===this._remaining&&De(He,this._result)},q.prototype._willSettleAt=function(ve,Ce){var xe=this;me(ve,void 0,function(He){return xe._settledAt(te,Ce,He)},function(He){return xe._settledAt(Z,Ce,He)})},q}(),oe=function(){function q(be){this[ie]=function H(){return J++}(),this._result=this._state=void 0,this._subscribers=[],ue!==be&&("function"!=typeof be&&function k(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof q?function ce(q,be){try{be(function(Ce){he(q,Ce)},function(Ce){Ee(q,Ce)})}catch(ve){Ee(q,ve)}}(this,be):function G(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return q.prototype.catch=function(ve){return this.then(null,ve)},q.prototype.finally=function(ve){var xe=this.constructor;return C(ve)?this.then(function(He){return xe.resolve(ve()).then(function(){return He})},function(He){return xe.resolve(ve()).then(function(){throw He})}):this.then(ve,ve)},q}();return oe.prototype.then=z,oe.all=function Q(q){return new N(this,q).promise},oe.race=function O(q){var be=this;return p(q)?new be(function(ve,Ce){for(var xe=q.length,He=0;He<xe;He++)be.resolve(q[He]).then(ve,Ce)}):new be(function(ve,Ce){return Ce(new TypeError("You must pass an array to race."))})},oe.resolve=re,oe.reject=function U(q){var ve=new this(ue);return Ee(ve,q),ve},oe._setScheduler=function F(q){f=q},oe._setAsap=function w(q){S=q},oe._asap=S,oe.polyfill=function de(){var q=void 0;if(typeof u.g<"u")q=u.g;else if(typeof self<"u")q=self;else try{q=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var be=q.Promise;if(be){var ve=null;try{ve=Object.prototype.toString.call(be.resolve())}catch{}if("[object Promise]"===ve&&!be.cast)return}q.Promise=oe},oe.Promise=oe,oe}()},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/Me=>{"use strict";var V,K="object"==typeof Reflect?Reflect:null,u=K&&"function"==typeof K.apply?K.apply:function(g,h,R){return Function.prototype.apply.call(g,h,R)};V=K&&"function"==typeof K.ownKeys?K.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var T=Number.isNaN||function(g){return g!=g};function p(){p.init.call(this)}Me.exports=p,Me.exports.once=function D(b,g){return new Promise(function(h,R){function I(z){b.removeListener(g,W),R(z)}function W(){"function"==typeof b.removeListener&&b.removeListener("error",I),h([].slice.call(arguments))}E(b,g,W,{once:!0}),"error"!==g&&function _(b,g,h){"function"==typeof b.on&&E(b,"error",g,h)}(b,I,{once:!0})})},p.EventEmitter=p,p.prototype._events=void 0,p.prototype._eventsCount=0,p.prototype._maxListeners=void 0;var A=10;function M(b){if("function"!=typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}function f(b){return void 0===b._maxListeners?p.defaultMaxListeners:b._maxListeners}function S(b,g,h,R){var I,W,z;if(M(h),void 0===(W=b._events)?(W=b._events=Object.create(null),b._eventsCount=0):(void 0!==W.newListener&&(b.emit("newListener",g,h.listener?h.listener:h),W=b._events),z=W[g]),void 0===z)z=W[g]=h,++b._eventsCount;else if("function"==typeof z?z=W[g]=R?[h,z]:[z,h]:R?z.unshift(h):z.push(h),(I=f(b))>0&&z.length>I&&!z.warned){z.warned=!0;var re=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(g)+" listeners added. Use emitter.setMaxListeners() to increase limit");re.name="MaxListenersExceededWarning",re.emitter=b,re.type=g,re.count=z.length,function C(b){console&&console.warn&&console.warn(b)}(re)}return b}function F(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(b,g,h){var R={fired:!1,wrapFn:void 0,target:b,type:g,listener:h},I=F.bind(R);return I.listener=h,R.wrapFn=I,I}function j(b,g,h){var R=b._events;if(void 0===R)return[];var I=R[g];return void 0===I?[]:"function"==typeof I?h?[I.listener||I]:[I]:h?function d(b){for(var g=new Array(b.length),h=0;h<g.length;++h)g[h]=b[h].listener||b[h];return g}(I):y(I,I.length)}function x(b){var g=this._events;if(void 0!==g){var h=g[b];if("function"==typeof h)return 1;if(void 0!==h)return h.length}return 0}function y(b,g){for(var h=new Array(g),R=0;R<g;++R)h[R]=b[R];return h}function E(b,g,h,R){if("function"==typeof b.on)R.once?b.once(g,h):b.on(g,h);else{if("function"!=typeof b.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof b);b.addEventListener(g,function I(W){R.once&&b.removeEventListener(g,I),h(W)})}}Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(b){if("number"!=typeof b||b<0||T(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");A=b}}),p.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(g){if("number"!=typeof g||g<0||T(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},p.prototype.getMaxListeners=function(){return f(this)},p.prototype.emit=function(g){for(var h=[],R=1;R<arguments.length;R++)h.push(arguments[R]);var I="error"===g,W=this._events;if(void 0!==W)I=I&&void 0===W.error;else if(!I)return!1;if(I){var z;if(h.length>0&&(z=h[0]),z instanceof Error)throw z;var re=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw re.context=z,re}var ie=W[g];if(void 0===ie)return!1;if("function"==typeof ie)u(ie,this,h);else{var ue=ie.length,Y=y(ie,ue);for(R=0;R<ue;++R)u(Y[R],this,h)}return!0},p.prototype.on=p.prototype.addListener=function(g,h){return S(this,g,h,!1)},p.prototype.prependListener=function(g,h){return S(this,g,h,!0)},p.prototype.once=function(g,h){return M(h),this.on(g,w(this,g,h)),this},p.prototype.prependOnceListener=function(g,h){return M(h),this.prependListener(g,w(this,g,h)),this},p.prototype.off=p.prototype.removeListener=function(g,h){var R,I,W,z,re;if(M(h),void 0===(I=this._events))return this;if(void 0===(R=I[g]))return this;if(R===h||R.listener===h)0==--this._eventsCount?this._events=Object.create(null):(delete I[g],I.removeListener&&this.emit("removeListener",g,R.listener||h));else if("function"!=typeof R){for(W=-1,z=R.length-1;z>=0;z--)if(R[z]===h||R[z].listener===h){re=R[z].listener,W=z;break}if(W<0)return this;0===W?R.shift():function m(b,g){for(;g+1<b.length;g++)b[g]=b[g+1];b.pop()}(R,W),1===R.length&&(I[g]=R[0]),void 0!==I.removeListener&&this.emit("removeListener",g,re||h)}return this},p.prototype.removeAllListeners=function(g){var h,R,I;if(void 0===(R=this._events))return this;if(void 0===R.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==R[g]&&(0==--this._eventsCount?this._events=Object.create(null):delete R[g]),this;if(0===arguments.length){var z,W=Object.keys(R);for(I=0;I<W.length;++I)"removeListener"!==(z=W[I])&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(h=R[g]))this.removeListener(g,h);else if(void 0!==h)for(I=h.length-1;I>=0;I--)this.removeListener(g,h[I]);return this},p.prototype.listeners=function(g){return j(this,g,!0)},p.prototype.rawListeners=function(g){return j(this,g,!1)},p.listenerCount=function(b,g){return"function"==typeof b.listenerCount?b.listenerCount(g):x.call(b,g)},p.prototype.listenerCount=x,p.prototype.eventNames=function(){return this._eventsCount>0?V(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/Me=>{"use strict";var K=Array.isArray,u=Object.keys,V=Object.prototype.hasOwnProperty;Me.exports=function C(T,p){if(T===p)return!0;if(T&&p&&"object"==typeof T&&"object"==typeof p){var f,S,F,A=K(T),M=K(p);if(A&&M){if((S=T.length)!=p.length)return!1;for(f=S;0!=f--;)if(!C(T[f],p[f]))return!1;return!0}if(A!=M)return!1;var w=T instanceof Date,j=p instanceof Date;if(w!=j)return!1;if(w&&j)return T.getTime()==p.getTime();var x=T instanceof RegExp,y=p instanceof RegExp;if(x!=y)return!1;if(x&&y)return T.toString()==p.toString();var m=u(T);if((S=m.length)!==u(p).length)return!1;for(f=S;0!=f--;)if(!V.call(p,m[f]))return!1;for(f=S;0!=f--;)if(!C(T[F=m[f]],p[F]))return!1;return!0}return T!=T&&p!=p}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/(Me,K,u)=>{!function(V,C,T,p,A){function M(P,L,N,Q){var O=Q&&"seq"===Q.timeContainer,U=0;Q&&(U=O&&N?N.end:Q.begin),L.begin=L.explicit_begin?L.explicit_begin+U:U;var k=L.begin,G=null;for(var oe in L.sets)M(P,L.sets[oe],G,L),k="seq"===L.timeContainer?L.sets[oe].end:Math.max(k,L.sets[oe].end),G=L.sets[oe];if("contents"in L)for(var de in L.contents)M(P,L.contents[de],G,L),k="seq"===L.timeContainer?L.contents[de].end:Math.max(k,L.contents[de].end),G=L.contents[de];else k=O?L.begin:Number.POSITIVE_INFINITY;L.end=null!==L.explicit_end&&null!==L.explicit_dur?Math.min(L.begin+L.explicit_dur,U+L.explicit_end):null===L.explicit_end&&null!==L.explicit_dur?L.begin+L.explicit_dur:null!==L.explicit_end&&null===L.explicit_dur?U+L.explicit_end:k,delete L.explicit_begin,delete L.explicit_dur,delete L.explicit_end,P._registerEvent(L)}function f(P){this.node=P}function S(){this.events=[],this.head=null,this.body=null}function F(){this.styling=null,this.layout=null}function w(){this.styles={}}function j(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function x(){this.regions={}}function y(P){this.kind=P}function m(P){this.id=P}function d(P){this.regionID=P}function D(P){this.styleAttrs=P}function _(P){this.sets=P}function E(P){this.contents=P}function b(P,L,N){this.explicit_begin=P,this.explicit_end=L,this.explicit_dur=N}function g(){y.call(this,"body")}function h(){y.call(this,"div")}function R(){y.call(this,"p")}function I(){y.call(this,"span")}function W(){y.call(this,"span")}function z(){y.call(this,"br")}function re(){}function ie(){}function ue(P){return P&&"xml:id"in P.attributes&&P.attributes["xml:id"].value||null}function Z(P){return P&&"style"in P.attributes?P.attributes.style.value.split(" "):[]}function ae(P,L){var N={};if(null!==P)for(var Q in P.attributes){var O=P.attributes[Q].uri+" "+P.attributes[Q].local,U=p.byQName[O];if(void 0!==U){var k=U.parse(P.attributes[Q].value);null!==k?(N[O]=k,U===p.byName.zIndex&&ee(L,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):ce(L,"Cannot parse styling attribute "+O+" --\x3e "+P.attributes[Q].value)}}return N}function ne(P,L,N){for(var Q in P.attributes)if(P.attributes[Q].uri===L&&P.attributes[Q].local===N)return P.attributes[Q].value;return null}function he(P,L,N){var be,ve=null;return null!==(be=/^(\d+(?:\.\d+)?)f$/.exec(N))?null!==L&&(ve=parseFloat(be[1])/L):null!==(be=/^(\d+(?:\.\d+)?)t$/.exec(N))?null!==P&&(ve=parseFloat(be[1])/P):null!==(be=/^(\d+(?:\.\d+)?)ms$/.exec(N))?ve=parseFloat(be[1])/1e3:null!==(be=/^(\d+(?:\.\d+)?)s$/.exec(N))?ve=parseFloat(be[1]):null!==(be=/^(\d+(?:\.\d+)?)h$/.exec(N))?ve=3600*parseFloat(be[1]):null!==(be=/^(\d+(?:\.\d+)?)m$/.exec(N))?ve=60*parseFloat(be[1]):null!==(be=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(N))?ve=3600*parseInt(be[1])+60*parseInt(be[2])+parseFloat(be[3]):null!==(be=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(N))&&null!==L&&(ve=3600*parseInt(be[1])+60*parseInt(be[2])+parseInt(be[3])+(null===be[4]?0:parseInt(be[4])/L)),ve}function De(P,L,N){for(;L.styleRefs.length>0;){var Q=L.styleRefs.pop();Q in P.styles?(De(P,P.styles[Q],N),me(P.styles[Q].styleAttrs,L.styleAttrs)):ce(N,"Non-existant style id referenced")}}function Ee(P,L,N,Q){for(var O=L.length-1;O>=0;O--){var U=L[O];U in P.styles?me(P.styles[U].styleAttrs,N):ce(Q,"Non-existant style id referenced")}}function me(P,L){for(var N in P)N in L||(L[N]=P[N])}function ee(P,L){if(P&&P.warn&&P.warn(L))throw L}function ce(P,L){if(P&&P.error&&P.error(L))throw L}function J(P,L){throw P&&P.fatal&&P.fatal(L),L}function H(P,L){for(var O,N=0,Q=P.length-1;N<=Q;){var U=P[O=Math.floor((N+Q)/2)];if(U<L)N=O+1;else{if(!(U>L))return{found:!0,index:O};Q=O-1}}return{found:!1,index:N}}V.fromXML=function(P,L,N){var Q=C.parser(!0,{xmlns:!0}),O=[],U=[],k=[],G=0,oe=null;Q.onclosetag=function(Ce){if(O[0]instanceof w)for(var xe in O[0].styles)De(O[0],O[0].styles[xe],L);else if(O[0]instanceof R||O[0]instanceof I){if(O[0].contents.length>1){var je,He=[O[0].contents[0]];for(je=1;je<O[0].contents.length;je++)O[0].contents[je]instanceof W&&He[He.length-1]instanceof W?He[He.length-1].text+=O[0].contents[je].text:He.push(O[0].contents[je]);O[0].contents=He}O[0]instanceof I&&1===O[0].contents.length&&O[0].contents[0]instanceof W&&(O[0].text=O[0].contents[0].text,delete O[0].contents)}else O[0]instanceof f&&(O[0].node.uri===T.ns_tt&&"metadata"===O[0].node.local?G--:G>0&&N&&"onCloseTag"in N&&N.onCloseTag());k.shift(),U.shift(),O.shift()},Q.ontext=function(Ce){if(void 0!==O[0])if(O[0]instanceof I||O[0]instanceof R){var xe=new W;xe.initFromText(oe,O[0],Ce,k[0],L),O[0].contents.push(xe)}else O[0]instanceof f&&G>0&&N&&"onText"in N&&N.onText(Ce)},Q.onopentag=function(Ce){var xe=Ce.attributes["xml:space"];k.unshift(xe?xe.value:0===k.length?"default":k[0]);var He=Ce.attributes["xml:lang"];if(U.unshift(He?He.value:0===U.length?"":U[0]),Ce.uri===T.ns_tt)if("tt"===Ce.local)null!==oe&&J(L,"Two <tt> elements at ("+this.line+","+this.column+")"),(oe=new S).initFromNode(Ce,L),O.unshift(oe);else if("head"===Ce.local)O[0]instanceof S||J(L,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==oe.head&&J("Second <head> element at ("+this.line+","+this.column+")"),oe.head=new F,O.unshift(oe.head);else if("styling"===Ce.local)O[0]instanceof F||J(L,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==oe.head.styling&&J("Second <styling> element at ("+this.line+","+this.column+")"),oe.head.styling=new w,O.unshift(oe.head.styling);else if("style"===Ce.local){var je;O[0]instanceof w?((je=new j).initFromNode(Ce,L),je.id?oe.head.styling.styles[je.id]=je:ce(L,"<style> element missing @id attribute"),O.unshift(je)):O[0]instanceof re?((je=new j).initFromNode(Ce,L),me(je.styleAttrs,O[0].styleAttrs),O.unshift(je)):J(L,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("layout"===Ce.local)O[0]instanceof F||J(L,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==oe.head.layout&&J(L,"Second <layout> element at "+this.line+","+this.column+")"),oe.head.layout=new x,O.unshift(oe.head.layout);else if("region"===Ce.local){O[0]instanceof x||J(L,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var rt=new re;rt.initFromNode(oe,Ce,L),!rt.id||rt.id in oe.head.layout.regions?ce(L,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):oe.head.layout.regions[rt.id]=rt,O.unshift(rt)}else if("body"===Ce.local){O[0]instanceof S||J(L,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==oe.body&&J(L,"Second <body> element at "+this.line+","+this.column+")");var it=new g;it.initFromNode(oe,Ce,L),oe.body=it,O.unshift(it)}else if("div"===Ce.local){O[0]instanceof h||O[0]instanceof g||J(L,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Re=new h;Re.initFromNode(oe,O[0],Ce,L),O[0].contents.push(Re),O.unshift(Re)}else if("p"===Ce.local){O[0]instanceof h||J(L,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var Be=new R;Be.initFromNode(oe,O[0],Ce,L),O[0].contents.push(Be),O.unshift(Be)}else if("span"===Ce.local){O[0]instanceof I||O[0]instanceof R||J(L,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var ct=new I;ct.initFromNode(oe,O[0],Ce,k[0],L),O[0].contents.push(ct),O.unshift(ct)}else if("br"===Ce.local){O[0]instanceof I||O[0]instanceof R||J(L,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var yt=new z;yt.initFromNode(oe,O[0],Ce,L),O[0].contents.push(yt),O.unshift(yt)}else if("set"===Ce.local){O[0]instanceof I||O[0]instanceof R||O[0]instanceof h||O[0]instanceof g||O[0]instanceof re||O[0]instanceof z||J(L,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var Dt=new ie;Dt.initFromNode(oe,O[0],Ce,L),O[0].sets.push(Dt),O.unshift(Dt)}else O.unshift(new f(Ce));else O.unshift(new f(Ce));if(O[0]instanceof f)if(Ce.uri===T.ns_tt&&"metadata"===Ce.local)G++;else if(G>0&&N&&"onOpenTag"in N){var Fe=[];for(var Ze in Ce.attributes)Fe[Ce.attributes[Ze].uri+" "+Ce.attributes[Ze].local]={uri:Ce.attributes[Ze].uri,local:Ce.attributes[Ze].local,value:Ce.attributes[Ze].value};N.onOpenTag(Ce.uri,Ce.local,Fe)}},Q.write(P).close(),null!==oe.head?delete oe.head.styling:oe.head=new F,null===oe.head.layout&&(oe.head.layout=new x);var de=!1;for(var q in oe.head.layout.regions){de=!0;break}if(!de){var be=re.prototype.createDefaultRegion();oe.head.layout.regions[be.id]=be}for(var ve in oe.head.layout.regions)M(oe,oe.head.layout.regions[ve],null,null);return oe.body&&M(oe,oe.body,null,null),oe},S.prototype.initFromNode=function(P,L){this.cellResolution=function se(P,L){var N=ne(P,T.ns_ttp,"cellResolution"),Q=15,O=32;if(null!==N){var k=/(\d+) (\d+)/.exec(N);null!==k?(O=parseInt(k[1]),Q=parseInt(k[2])):ee(L,"Malformed cellResolution value (using initial value instead)")}return{w:O,h:Q}}(P,L);var N=function ge(P,L){var O,N=ne(P,T.ns_ttp,"frameRate"),Q=30;null!==N&&(null!==(O=/(\d+)/.exec(N))?Q=parseInt(O[1]):ee(L,"Malformed frame rate attribute (using initial value instead)"));var k=ne(P,T.ns_ttp,"frameRateMultiplier"),G=1;null!==k&&(null!==(O=/(\d+) (\d+)/.exec(k))?G=parseInt(O[1])/parseInt(O[2]):ee(L,"Malformed frame rate multiplier attribute (using initial value instead)"));var de=G*Q,q=1,be=ne(P,T.ns_ttp,"tickRate");return null===be?null!==N&&(q=de):null!==(O=/(\d+)/.exec(be))?q=parseInt(O[1]):ee(L,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:de,tickRate:q}}(P,L);this.effectiveFrameRate=N.effectiveFrameRate,this.tickRate=N.tickRate,this.aspectRatio=function le(P,L){var N=ne(P,T.ns_ittp,"aspectRatio"),Q=null;if(null!==N){var U=/(\d+) (\d+)/.exec(N);if(null!==U){var k=parseInt(U[1]),G=parseInt(U[2]);0!==k&&0!==G?Q=k/G:ce(L,"Illegal aspectRatio values (ignoring)")}else ce(L,"Malformed aspectRatio attribute (ignoring)")}return Q}(P,L);var Q=ne(P,T.ns_ttp,"timeBase");null!==Q&&"media"!==Q&&J(L,"Unsupported time base");var O=function $(P,L){var N=ne(P,T.ns_tts,"extent");if(null===N)return null;var Q=N.split(" ");if(2!==Q.length)return ee(L,"Malformed extent (ignoring)"),null;var O=A.parseLength(Q[0]),U=A.parseLength(Q[1]);return U&&O?{h:U,w:O}:(ee(L,"Malformed extent values (ignoring)"),null)}(P,L);null===O?this.pxDimensions={h:480,w:640}:(("px"!==O.h.unit||"px"!==O.w.unit)&&J(L,"Extent on TT must be in px or absent"),this.pxDimensions={h:O.h.value,w:O.w.value})},S.prototype._registerEvent=function(P){if(!(P.end<=P.begin)){var L=H(this.events,P.begin);if(L.found||this.events.splice(L.index,0,P.begin),P.end!==Number.POSITIVE_INFINITY){var N=H(this.events,P.end);N.found||this.events.splice(N.index,0,P.end)}}},S.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},S.prototype.getMediaTimeEvents=function(){return this.events},j.prototype.initFromNode=function(P,L){this.id=ue(P),this.styleAttrs=ae(P,L),this.styleRefs=Z(P)},m.prototype.initFromNode=function(P,L,N,Q){this.id=ue(N)},d.prototype.initFromNode=function(P,L,N,Q){this.regionID=function Y(P){return P&&"region"in P.attributes?P.attributes.region.value:""}(N)},D.prototype.initFromNode=function(P,L,N,Q){this.styleAttrs=ae(N,Q),null!==P.head&&null!==P.head.styling&&Ee(P.head.styling,Z(N),this.styleAttrs,Q)},_.prototype.initFromNode=function(P,L,N,Q){this.sets=[]},E.prototype.initFromNode=function(P,L,N,Q){this.contents=[]},b.prototype.initFromNode=function(P,L,N,Q){var O=function pe(P,L,N,Q){var O=null;N&&"begin"in N.attributes&&null===(O=he(P.tickRate,P.effectiveFrameRate,N.attributes.begin.value))&&ee(Q,"Malformed begin value "+N.attributes.begin.value+" (using 0)");var U=null;N&&"dur"in N.attributes&&null===(U=he(P.tickRate,P.effectiveFrameRate,N.attributes.dur.value))&&ee(Q,"Malformed dur value "+N.attributes.dur.value+" (ignoring)");var k=null;return N&&"end"in N.attributes&&null===(k=he(P.tickRate,P.effectiveFrameRate,N.attributes.end.value))&&ee(Q,"Malformed end value (ignoring)"),{explicit_begin:O,explicit_end:k,explicit_dur:U}}(P,0,N,Q);this.explicit_begin=O.explicit_begin,this.explicit_end=O.explicit_end,this.explicit_dur=O.explicit_dur,this.timeContainer=function te(P,L){var N=P&&"timeContainer"in P.attributes?P.attributes.timeContainer.value:null;return N&&"par"!==N?"seq"===N?"seq":(ce(L,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(N,Q)},g.prototype.initFromNode=function(P,L,N){D.prototype.initFromNode.call(this,P,null,L,N),b.prototype.initFromNode.call(this,P,null,L,N),_.prototype.initFromNode.call(this,P,null,L,N),d.prototype.initFromNode.call(this,P,null,L,N),E.prototype.initFromNode.call(this,P,null,L,N)},h.prototype.initFromNode=function(P,L,N,Q){D.prototype.initFromNode.call(this,P,L,N,Q),b.prototype.initFromNode.call(this,P,L,N,Q),_.prototype.initFromNode.call(this,P,L,N,Q),d.prototype.initFromNode.call(this,P,L,N,Q),E.prototype.initFromNode.call(this,P,L,N,Q)},R.prototype.initFromNode=function(P,L,N,Q){D.prototype.initFromNode.call(this,P,L,N,Q),b.prototype.initFromNode.call(this,P,L,N,Q),_.prototype.initFromNode.call(this,P,L,N,Q),d.prototype.initFromNode.call(this,P,L,N,Q),E.prototype.initFromNode.call(this,P,L,N,Q)},I.prototype.initFromNode=function(P,L,N,Q,O){D.prototype.initFromNode.call(this,P,L,N,O),b.prototype.initFromNode.call(this,P,L,N,O),_.prototype.initFromNode.call(this,P,L,N,O),d.prototype.initFromNode.call(this,P,L,N,O),E.prototype.initFromNode.call(this,P,L,N,O),this.space=Q},W.prototype.initFromText=function(P,L,N,Q,O){b.prototype.initFromNode.call(this,P,L,null,O),this.text=N,this.space=Q},z.prototype.initFromNode=function(P,L,N,Q){d.prototype.initFromNode.call(this,P,L,N,Q),b.prototype.initFromNode.call(this,P,L,N,Q)},re.prototype.createDefaultRegion=function(){var P=new re;return m.call(P,""),D.call(P,{}),_.call(P,[]),b.call(P,0,Number.POSITIVE_INFINITY,null),P},re.prototype.initFromNode=function(P,L,N){m.prototype.initFromNode.call(this,P,null,L,N),D.prototype.initFromNode.call(this,P,null,L,N),b.prototype.initFromNode.call(this,P,null,L,N),_.prototype.initFromNode.call(this,P,null,L,N),null!==P.head&&null!==P.head.styling&&Ee(P.head.styling,Z(L),this.styleAttrs,N)},ie.prototype.initFromNode=function(P,L,N,Q){b.prototype.initFromNode.call(this,P,L,N,Q);var O=ae(N,Q);for(var U in this.qname=null,this.value=null,O){if(this.qname){ce(Q,"More than one style specified on set");break}this.qname=U,this.value=O[U]}}}(K,typeof sax>"u"?u(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?u(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?u(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?u(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/(Me,K,u)=>{!function(V,C,T){function p(E,b,g){var h;if("region"===g.kind?(h=document.createElement("div")).style.position="absolute":"body"===g.kind||"div"===g.kind?h=document.createElement("div"):"p"===g.kind?h=document.createElement("p"):"span"===g.kind?h=document.createElement("span"):"br"===g.kind&&(h=document.createElement("br")),h){for(var R in h.style.margin="0",m){var I=m[R],W=g.styleAttrs[I.qname];void 0!==W&&null!==I.map&&I.map(E,h,g,W)}var z=h;if("region"===g.kind){var re=g.styleAttrs[T.byName.writingMode.qname];"lrtb"===re||"lr"===re?(E.ipd="lr",E.bpd="tb"):"rltb"===re||"rl"===re?(E.ipd="rl",E.bpd="tb"):"tblr"===re?(E.ipd="tb",E.bpd="lr"):("tbrl"===re||"tb"===re)&&(E.ipd="tb",E.bpd="rl")}var ie=g.styleAttrs[T.byName.linePadding.qname];if(ie&&ie>0){var ue=Math.ceil(ie*E.h)+"px";"tb"===E.bpd?(z.style.paddingLeft=ue,z.style.paddingRight=ue):(z.style.paddingTop=ue,z.style.paddingBottom=ue),E.lp=ie}var Y=g.styleAttrs[T.byName.multiRowAlign.qname];if(Y&&"auto"!==Y){var te=document.createElement("span");te.style.display="inline-block",te.style.textAlign=Y,h.appendChild(te),z=te,E.mra=Y}if(g.styleAttrs[T.byName.fillLineGap.qname]&&(E.flg=!0),"span"===g.kind&&g.text)if(E.lp||E.mra||E.flg)for(var Z="",ae=0;ae<g.text.length;ae++){Z+=g.text.charAt(ae);var ne=g.text.charCodeAt(ae);if(ne<55296||ne>56319||ae===g.text.length){var le=document.createElement("span");le.textContent=Z,h.appendChild(le),Z=""}}else h.textContent=g.text;for(var se in b.appendChild(h),g.contents)p(E,z,g.contents[se]);var ge=[];if((E.lp||E.mra||E.flg)&&"p"===g.kind&&(j(E,z,ge,null),E.mra&&(function M(E){for(var b=0;b<E.length-1;b++){var g=E[b].elements.length;if(0!==g&&!1===E[b].br){var h=document.createElement("br"),R=E[b].elements[g-1].node;R.parentElement.insertBefore(h,R.nextSibling)}}}(ge),E.mra=null),E.lp&&(function A(E,b,g){for(var h in E){var R=E[h].elements.length,I=E[h].elements[E[h].start_elem],W=E[h].elements[E[h].end_elem],z=Math.ceil(b)+"px",re="-"+Math.ceil(b)+"px";0!==R&&("lr"===g.ipd?(I.node.style.borderLeftColor=I.bgcolor||"#00000000",I.node.style.borderLeftStyle="solid",I.node.style.borderLeftWidth=z,I.node.style.marginLeft=re):"rl"===g.ipd?(I.node.style.borderRightColor=I.bgcolor||"#00000000",I.node.style.borderRightStyle="solid",I.node.style.borderRightWidth=z,I.node.style.marginRight=re):"tb"===g.ipd&&(I.node.style.borderTopColor=I.bgcolor||"#00000000",I.node.style.borderTopStyle="solid",I.node.style.borderTopWidth=z,I.node.style.marginTop=re),"lr"===g.ipd?(W.node.style.borderRightColor=W.bgcolor||"#00000000",W.node.style.borderRightStyle="solid",W.node.style.borderRightWidth=z,W.node.style.marginRight=re):"rl"===g.ipd?(W.node.style.borderLeftColor=W.bgcolor||"#00000000",W.node.style.borderLeftStyle="solid",W.node.style.borderLeftWidth=z,W.node.style.marginLeft=re):"tb"===g.ipd&&(W.node.style.borderBottomColor=W.bgcolor||"#00000000",W.node.style.borderBottomStyle="solid",W.node.style.borderBottomWidth=z,W.node.style.marginBottom=re))}}(ge,E.lp*E.h,E),E.lp=null),E.flg)){var $=w(z.getBoundingClientRect(),E);(function f(E,b,g,h){for(var R=Math.sign(g-b),I=0;I<=E.length;I++){var W,z,re;if(W=0===I?b:I===E.length?g:(E[I].before+E[I-1].after)/2,I>0)for(var ie=0;ie<E[I-1].elements.length;ie++)null!==E[I-1].elements[ie].bgcolor&&R*((re=E[I-1].elements[ie]).after-W)<0&&(z=Math.ceil(Math.abs(W-re.after))+"px",re.node.style.backgroundColor=re.bgcolor,"lr"===h.bpd?re.node.style.paddingRight=z:"rl"===h.bpd?re.node.style.paddingLeft=z:"tb"===h.bpd&&(re.node.style.paddingBottom=z));if(I<E.length)for(var ue=0;ue<E[I].elements.length;ue++)null!==(re=E[I].elements[ue]).bgcolor&&R*(re.before-W)>0&&(z=Math.ceil(Math.abs(re.before-W))+"px",re.node.style.backgroundColor=re.bgcolor,"lr"===h.bpd?re.node.style.paddingLeft=z:"rl"===h.bpd?re.node.style.paddingRight=z:"tb"===h.bpd&&(re.node.style.paddingTop=z))}})(ge,$.before,$.after,E),E.flg=null}if("region"===g.kind&&(j(E,z,ge),"tb"===E.bpd&&E.enableRollUp&&g.contents.length>0&&"after"===g.styleAttrs[T.byName.displayAlign.qname])){var pe=new S(""===g.id?"_":g.id,ge);if(E.currentISDState[pe.id]=pe,E.previousISDState&&pe.id in E.previousISDState&&E.previousISDState[pe.id].plist.length>0&&pe.plist.length>1&&pe.plist[pe.plist.length-2].text===E.previousISDState[pe.id].plist[E.previousISDState[pe.id].plist.length-1].text){var De=h.firstElementChild,Ee=pe.plist[pe.plist.length-1].after-pe.plist[pe.plist.length-1].before;De.style.bottom="-"+Ee+"px",De.style.transition="transform 0.4s",De.style.position="relative",De.style.transform="translateY(-"+Ee+"px)"}}}else!function _(E,b){if(E&&E.error&&E.error(b))throw b}(E.errorHandler,"Error processing ISD element kind: "+g.kind)}function S(E,b){this.id=E,this.plist=b}function w(E,b){var g={before:null,after:null,start:null,end:null};return"tb"===b.bpd?(g.before=E.top,g.after=E.bottom,"lr"===b.ipd?(g.start=E.left,g.end=E.right):(g.start=E.right,g.end=E.left)):"lr"===b.bpd?(g.before=E.left,g.after=E.right,g.start=E.top,g.end=E.bottom):"rl"===b.bpd&&(g.before=E.right,g.after=E.left,g.start=E.top,g.end=E.bottom),g}function j(E,b,g,h){var R=b.style.backgroundColor||h;if(0===b.childElementCount)if("span"===b.localName){var I=b.getBoundingClientRect();if(0===I.height||0===I.width)return;var W=w(I,E);if(0!==g.length&&function x(E,b,g,h){return b<h&&E>g||h<=b&&g>=E}(W.before,W.after,g[g.length-1].before,g[g.length-1].after)){var z=Math.sign(W.after-W.before),re=Math.sign(W.end-W.start);z*(W.before-g[g.length-1].before)<0&&(g[g.length-1].before=W.before),z*(W.after-g[g.length-1].after)>0&&(g[g.length-1].after=W.after),re*(W.start-g[g.length-1].start)<0&&(g[g.length-1].start=W.start,g[g.length-1].start_elem=g[g.length-1].elements.length),re*(W.end-g[g.length-1].end)>0&&(g[g.length-1].end=W.end,g[g.length-1].end_elem=g[g.length-1].elements.length)}else g.push({before:W.before,after:W.after,start:W.start,end:W.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1});g[g.length-1].text+=b.textContent,g[g.length-1].elements.push({node:b,bgcolor:R,before:W.before,after:W.after})}else"br"===b.localName&&0!==g.length&&(g[g.length-1].br=!0);else for(var ie=b.firstChild;ie;)ie.nodeType===Node.ELEMENT_NODE&&j(E,ie,g,R),ie=ie.nextSibling}function y(E,b){this.qname=E,this.map=b}V.render=function(E,b,g,h,R,I,W,z,re){var ie=h||b.clientHeight,ue=R||b.clientWidth;if(null!==E.aspectRatio){var Y=ie*E.aspectRatio;Y>ue?ie=Math.round(ue/E.aspectRatio):ue=Y}var te=document.createElement("div");te.style.position="relative",te.style.width=ue+"px",te.style.height=ie+"px",te.style.margin="auto",te.style.top=0,te.style.bottom=0,te.style.left=0,te.style.right=0,te.style.zIndex=0;var Z={h:ie,w:ue,regionH:null,regionW:null,imgResolver:g,displayForcedOnlyMode:I||!1,isd:E,errorHandler:W,previousISDState:z,enableRollUp:re||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null};for(var ae in b.appendChild(te),E.contents)p(Z,te,E.contents[ae]);return Z.currentISDState};var m=[new y("http://www.w3.org/ns/ttml#styling backgroundColor",function(E,b,g,h){0!==h[3]&&(b.style.backgroundColor="rgba("+h[0].toString()+","+h[1].toString()+","+h[2].toString()+","+(h[3]/255).toString()+")")}),new y("http://www.w3.org/ns/ttml#styling color",function(E,b,g,h){b.style.color="rgba("+h[0].toString()+","+h[1].toString()+","+h[2].toString()+","+(h[3]/255).toString()+")"}),new y("http://www.w3.org/ns/ttml#styling direction",function(E,b,g,h){b.style.direction=h}),new y("http://www.w3.org/ns/ttml#styling display",function(E,b,g,h){}),new y("http://www.w3.org/ns/ttml#styling displayAlign",function(E,b,g,h){b.style.display="flex",b.style.flexDirection="column","before"===h?b.style.justifyContent="flex-start":"center"===h?b.style.justifyContent="center":"after"===h&&(b.style.justifyContent="flex-end")}),new y("http://www.w3.org/ns/ttml#styling extent",function(E,b,g,h){E.regionH=h.h*E.h,E.regionW=h.w*E.w;var R=0,I=0,W=g.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];W&&(R=(W[0]+W[2])*E.h,I=(W[1]+W[3])*E.w),b.style.height=E.regionH-R+"px",b.style.width=E.regionW-I+"px"}),new y("http://www.w3.org/ns/ttml#styling fontFamily",function(E,b,g,h){var R=[];for(var I in h)"monospaceSerif"===h[I]?(R.push("Courier New"),R.push('"Liberation Mono"'),R.push("Courier"),R.push("monospace")):"proportionalSansSerif"===h[I]?(R.push("Arial"),R.push("Helvetica"),R.push('"Liberation Sans"'),R.push("sans-serif")):"monospace"===h[I]?R.push("monospace"):"sansSerif"===h[I]?R.push("sans-serif"):"serif"===h[I]?R.push("serif"):"monospaceSansSerif"===h[I]?(R.push("Consolas"),R.push("monospace")):R.push("proportionalSerif"===h[I]?"serif":h[I]);b.style.fontFamily=R.join(",")}),new y("http://www.w3.org/ns/ttml#styling fontSize",function(E,b,g,h){b.style.fontSize=h*E.h+"px"}),new y("http://www.w3.org/ns/ttml#styling fontStyle",function(E,b,g,h){b.style.fontStyle=h}),new y("http://www.w3.org/ns/ttml#styling fontWeight",function(E,b,g,h){b.style.fontWeight=h}),new y("http://www.w3.org/ns/ttml#styling lineHeight",function(E,b,g,h){b.style.lineHeight="normal"===h?"normal":h*E.h+"px"}),new y("http://www.w3.org/ns/ttml#styling opacity",function(E,b,g,h){b.style.opacity=h}),new y("http://www.w3.org/ns/ttml#styling origin",function(E,b,g,h){b.style.top=h.h*E.h+"px",b.style.left=h.w*E.w+"px"}),new y("http://www.w3.org/ns/ttml#styling overflow",function(E,b,g,h){b.style.overflow=h}),new y("http://www.w3.org/ns/ttml#styling padding",function(E,b,g,h){var R=[];R[0]=h[0]*E.h+"px",R[1]=h[3]*E.w+"px",R[2]=h[2]*E.h+"px",R[3]=h[1]*E.w+"px",b.style.padding=R.join(" ")}),new y("http://www.w3.org/ns/ttml#styling showBackground",null),new y("http://www.w3.org/ns/ttml#styling textAlign",function(E,b,g,h){var I=g.styleAttrs[T.byName.direction.qname];b.style.textAlign="start"===h?"rtl"===I?"right":"left":"end"===h?"rtl"===I?"left":"right":h}),new y("http://www.w3.org/ns/ttml#styling textDecoration",function(E,b,g,h){b.style.textDecoration=h.join(" ").replace("lineThrough","line-through")}),new y("http://www.w3.org/ns/ttml#styling textOutline",function(E,b,g,h){b.style.textShadow="none"===h?"":"rgba("+h.color[0].toString()+","+h.color[1].toString()+","+h.color[2].toString()+","+(h.color[3]/255).toString()+") 0px 0px "+h.thickness*E.h+"px"}),new y("http://www.w3.org/ns/ttml#styling unicodeBidi",function(E,b,g,h){b.style.unicodeBidi="bidiOverride"===h?"bidi-override":h}),new y("http://www.w3.org/ns/ttml#styling visibility",function(E,b,g,h){b.style.visibility=h}),new y("http://www.w3.org/ns/ttml#styling wrapOption",function(E,b,g,h){b.style.whiteSpace="wrap"===h?"preserve"===g.space?"pre-wrap":"normal":"preserve"===g.space?"pre":"noWrap"}),new y("http://www.w3.org/ns/ttml#styling writingMode",function(E,b,g,h){"lrtb"===h||"lr"===h||"rltb"===h||"rl"===h?b.style.writingMode="horizontal-tb":"tblr"===h?b.style.writingMode="vertical-lr":("tbrl"===h||"tb"===h)&&(b.style.writingMode="vertical-rl")}),new y("http://www.w3.org/ns/ttml#styling zIndex",function(E,b,g,h){b.style.zIndex=h}),new y("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(E,b,g,h){if(null!==E.imgResolver&&null!==h){var R=document.createElement("img"),I=E.imgResolver(h,R);I&&(R.src=I),R.height=E.regionH,R.width=E.regionW,b.appendChild(R)}}),new y("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(E,b,g,h){E.displayForcedOnlyMode&&!1===h&&(b.style.visibility="hidden")})],d={};for(var D in m)d[m[D].qname]=m[D]}(K,typeof imscNames>"u"?u(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?u(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/(Me,K,u)=>{!function(V,C,T){function p(y,m,d,D,_,E,b,g,h){if(m<b.begin||m>=b.end)return null;var R="regionID"in b&&""!==b.regionID?b.regionID:E;if(null!==_&&R!==d.id&&(!("contents"in b)||"contents"in b&&0===b.contents.length||""!==R))return null;var I=new S(b);for(var W in b.sets)m<b.sets[W].begin||m>=b.sets[W].end||(I.styleAttrs[b.sets[W].qname]=b.sets[W].value);var he,z={};for(var re in I.styleAttrs)if(z[re]=!0,re===T.byName.writingMode.qname&&!(T.byName.direction.qname in I.styleAttrs)){var ie=I.styleAttrs[re];"lrtb"===ie||"lr"===ie?I.styleAttrs[T.byName.direction.qname]="ltr":("rltb"===ie||"rl"===ie)&&(I.styleAttrs[T.byName.direction.qname]="rtl")}if(null!==_)for(var ue in T.all){var Y=T.all[ue];if(Y.qname===T.byName.textDecoration.qname){var te=_.styleAttrs[Y.qname],Z=I.styleAttrs[Y.qname],ae=[];void 0===Z?ae=te:-1===Z.indexOf("none")?((-1===Z.indexOf("noUnderline")&&-1!==te.indexOf("underline")||-1!==Z.indexOf("underline"))&&ae.push("underline"),(-1===Z.indexOf("noLineThrough")&&-1!==te.indexOf("lineThrough")||-1!==Z.indexOf("lineThrough"))&&ae.push("lineThrough"),(-1===Z.indexOf("noOverline")&&-1!==te.indexOf("overline")||-1!==Z.indexOf("overline"))&&ae.push("overline")):ae.push("none"),I.styleAttrs[Y.qname]=ae}else Y.inherit&&Y.qname in _.styleAttrs&&!(Y.qname in I.styleAttrs)&&(I.styleAttrs[Y.qname]=_.styleAttrs[Y.qname])}for(var ne in T.all){var le=T.all[ne];le.qname in I.styleAttrs||("region"===I.kind||!1===le.inherit&&null!==le.initial)&&(I.styleAttrs[le.qname]=le.parse(le.initial),z[le.qname]=!0)}for(var se in T.all){var ge=T.all[se];if(ge.qname in z&&null!==ge.compute){var $=ge.compute(y,_,I,I.styleAttrs[ge.qname],h);null!==$?I.styleAttrs[ge.qname]=$:j(g,"Style '"+ge.qname+"' on element '"+I.kind+"' cannot be computed")}}if("none"===I.styleAttrs[T.byName.display.qname])return null;for(var pe in null===_?he=null===D?[]:[D]:"contents"in b&&(he=b.contents),he){var De=p(y,m,d,D,I,R,he[pe],g,h);null!==De&&I.contents.push(De.element)}for(var Ee in I.styleAttrs)-1===T.byQName[Ee].applies.indexOf(I.kind)&&delete I.styleAttrs[Ee];if("span"===I.kind&&I.text&&"default"===I.space){var _e=I.text.replace(/\s+/g," ");I.text=_e}if("p"===I.kind){var ee=[];A(I,ee);for(var ce=0,J="after_br",H=0;;)if("after_br"===J)ce>=ee.length||"br"===ee[ce].kind?(J="before_br",H=ce,ce--):("preserve"!==ee[ce].space&&(ee[ce].text=ee[ce].text.replace(/^\s+/g,"")),ee[ce].text.length>0?(J="looking_br",ce++):ee.splice(ce,1));else if("before_br"===J)if(ce<0||"br"===ee[ce].kind){if(J="after_br",(ce=H+1)>=ee.length)break}else if("preserve"!==ee[ce].space&&(ee[ce].text=ee[ce].text.replace(/\s+$/g,"")),ee[ce].text.length>0){if(J="after_br",(ce=H+1)>=ee.length)break}else ee.splice(ce,1),ce--;else ce>=ee.length||"br"===ee[ce].kind?(J="before_br",H=ce,ce--):ce++;M(I)}return"div"===I.kind&&T.byName.backgroundImage.qname in I.styleAttrs||"br"===I.kind||"contents"in I&&I.contents.length>0||"span"===I.kind&&null!==I.text||"region"===I.kind&&"always"===I.styleAttrs[T.byName.showBackground.qname]?{region_id:R,element:I}:null}function A(y,m){if("contents"in y)for(var d in y.contents)A(y.contents[d],m);else m.push(y)}function M(y){if("br"===y.kind)return!1;if("text"in y)return 0===y.text.length;if("contents"in y){for(var m=y.contents.length;m--;)M(y.contents[m])&&y.contents.splice(m,1);return 0===y.contents.length}}function f(y){this.contents=[],this.aspectRatio=y.aspectRatio}function S(y){for(var m in this.kind=y.kind||"region",y.id&&(this.id=y.id),this.styleAttrs={},y.styleAttrs)this.styleAttrs[m]=y.styleAttrs[m];"text"in y?this.text=y.text:"br"!==y.kind&&(this.contents=[]),"space"in y&&(this.space=y.space)}function j(y,m){if(y&&y.error&&y.error(m))throw m}V.generateISD=function(y,m,d){var D=new f(y),_={};for(var E in y.head.layout.regions){var b=p(y,m,y.head.layout.regions[E],y.body,null,"",y.head.layout.regions[E],d,_);null!==b&&D.contents.push(b.element)}return D}}(K,typeof imscNames>"u"?u(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?u(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/(Me,K,u)=>{K.generateISD=u(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,K.fromXML=u(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,K.renderHTML=u(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/(Me,K)=>{var u;(u=K).ns_tt="http://www.w3.org/ns/ttml",u.ns_tts="http://www.w3.org/ns/ttml#styling",u.ns_ttp="http://www.w3.org/ns/ttml#parameter",u.ns_xml="http://www.w3.org/XML/1998/namespace",u.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",u.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",u.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",u.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/(Me,K,u)=>{!function(V,C,T){function p(f,S,F,w,j,x,y,m){this.name=S,this.ns=f,this.qname=f+" "+S,this.inherit=j,this.animatable=x,this.initial=F,this.applies=w,this.parse=y,this.compute=m}for(var A in V.all=[new p(C.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,T.parseColor,null),new p(C.ns_tts,"color","white",["span"],!0,!0,T.parseColor,null),new p(C.ns_tts,"direction","ltr",["p","span"],!0,!0,function(f){return f},null),new p(C.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(f){return f},null),new p(C.ns_tts,"displayAlign","before",["region"],!1,!0,function(f){return f},null),new p(C.ns_tts,"extent","auto",["tt","region"],!1,!0,function(f){if("auto"===f)return f;var S=f.split(" ");if(2!==S.length)return null;var F=T.parseLength(S[0]),w=T.parseLength(S[1]);return w&&F?{h:w,w:F}:null},function(f,S,F,w,j){var x,y;if("auto"===w)x=1;else if("%"===w.h.unit)x=w.h.value/100;else{if("px"!==w.h.unit)return null;x=w.h.value/f.pxDimensions.h}if("auto"===w)y=1;else if("%"===w.w.unit)y=w.w.value/100;else{if("px"!==w.w.unit)return null;y=w.w.value/f.pxDimensions.w}return{h:x,w:y}}),new p(C.ns_tts,"fontFamily","default",["span"],!0,!0,function(f){var S=f.split(","),F=[];for(var w in S)"'"!==S[w].charAt(0)&&'"'!==S[w].charAt(0)&&"default"===S[w]?F.push("monospaceSerif"):F.push(S[w]);return F},null),new p(C.ns_tts,"fontSize","1c",["span"],!0,!0,T.parseLength,function(f,S,F,w,j){var x;if("%"===w.unit)x=null!==S?S.styleAttrs[V.byName.fontSize.qname]*w.value/100:w.value/100/f.cellResolution.h;else if("em"===w.unit)x=null!==S?S.styleAttrs[V.byName.fontSize.qname]*w.value:w.value/f.cellResolution.h;else if("c"===w.unit)x=w.value/f.cellResolution.h;else{if("px"!==w.unit)return null;x=w.value/f.pxDimensions.h}return x}),new p(C.ns_tts,"fontStyle","normal",["span"],!0,!0,function(f){return f},null),new p(C.ns_tts,"fontWeight","normal",["span"],!0,!0,function(f){return f},null),new p(C.ns_tts,"lineHeight","normal",["p"],!0,!0,function(f){return"normal"===f?f:T.parseLength(f)},function(f,S,F,w,j){var x;if("normal"===w)x=w;else if("%"===w.unit)x=F.styleAttrs[V.byName.fontSize.qname]*w.value/100;else if("em"===w.unit)x=F.styleAttrs[V.byName.fontSize.qname]*w.value;else if("c"===w.unit)x=w.value/f.cellResolution.h;else{if("px"!==w.unit)return null;x=w.value/f.pxDimensions.h}return x}),new p(C.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new p(C.ns_tts,"origin","auto",["region"],!1,!0,function(f){if("auto"===f)return f;var S=f.split(" ");if(2!==S.length)return null;var F=T.parseLength(S[0]),w=T.parseLength(S[1]);return w&&F?{h:w,w:F}:null},function(f,S,F,w,j){var x,y;if("auto"===w)x=0;else if("%"===w.h.unit)x=w.h.value/100;else{if("px"!==w.h.unit)return null;x=w.h.value/f.pxDimensions.h}if("auto"===w)y=0;else if("%"===w.w.unit)y=w.w.value/100;else{if("px"!==w.w.unit)return null;y=w.w.value/f.pxDimensions.w}return{h:x,w:y}}),new p(C.ns_tts,"overflow","hidden",["region"],!1,!0,function(f){return f},null),new p(C.ns_tts,"padding","0px",["region"],!1,!0,function(f){var S=f.split(" ");if(S.length>4)return null;var F=[];for(var w in S){var j=T.parseLength(S[w]);if(!j)return null;F.push(j)}return F},function(f,S,F,w,j){var x;if(1===w.length)x=[w[0],w[0],w[0],w[0]];else if(2===w.length)x=[w[0],w[1],w[0],w[1]];else if(3===w.length)x=[w[0],w[1],w[2],w[1]];else{if(4!==w.length)return null;x=[w[0],w[1],w[2],w[3]]}var y=F.styleAttrs[V.byName.writingMode.qname];if("lrtb"===y||"lr"===y)x=[x[0],x[3],x[2],x[1]];else if("rltb"===y||"rl"===y)x=[x[0],x[1],x[2],x[3]];else if("tblr"===y)x=[x[3],x[0],x[1],x[2]];else{if("tbrl"!==y&&"tb"!==y)return null;x=[x[3],x[2],x[1],x[0]]}var m=[];for(var d in x)if(0===x[d].value)m[d]=0;else if("%"===x[d].unit)m[d]="0"===d||"2"===d?F.styleAttrs[V.byName.extent.qname].h*x[d].value/100:F.styleAttrs[V.byName.extent.qname].w*x[d].value/100;else if("em"===x[d].unit)m[d]=F.styleAttrs[V.byName.fontSize.qname]*x[d].value;else if("c"===x[d].unit)m[d]=x[d].value/f.cellResolution.h;else{if("px"!==x[d].unit)return null;m[d]="0"===d||"2"===d?x[d].value/f.pxDimensions.h:x[d].value/f.pxDimensions.w}return m}),new p(C.ns_tts,"showBackground","always",["region"],!1,!0,function(f){return f},null),new p(C.ns_tts,"textAlign","start",["p"],!0,!0,function(f){return f},function(f,S,F,w,j){return"left"===w?"start":"right"===w?"end":w}),new p(C.ns_tts,"textDecoration","none",["span"],!0,!0,function(f){return f.split(" ")},null),new p(C.ns_tts,"textOutline","none",["span"],!0,!0,function(f){if("none"===f)return f;var S={},F=f.split(" ");if(0===F.length||F.length>2)return null;var w=T.parseColor(F[0]);if(S.color=w,null!==w&&F.shift(),1!==F.length)return null;var j=T.parseLength(F[0]);return j?(S.thickness=j,S):null},function(f,S,F,w,j){if("none"===w)return w;var x={};if(x.color=null===w.color?F.styleAttrs[V.byName.color.qname]:w.color,"%"===w.thickness.unit)x.thickness=F.styleAttrs[V.byName.fontSize.qname]*w.thickness.value/100;else if("em"===w.thickness.unit)x.thickness=F.styleAttrs[V.byName.fontSize.qname]*w.thickness.value;else if("c"===w.thickness.unit)x.thickness=w.thickness.value/f.cellResolution.h;else{if("px"!==w.thickness.unit)return null;x.thickness=w.thickness.value/f.pxDimensions.h}return x}),new p(C.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(f){return f},null),new p(C.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(f){return f},null),new p(C.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(f){return f},null),new p(C.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(f){return f},null),new p(C.ns_tts,"zIndex","auto",["region"],!1,!0,function(f){var S;return"auto"===f?S=f:(S=parseInt(f),isNaN(S)&&(S=null)),S},null),new p(C.ns_ebutts,"linePadding","0c",["p"],!0,!1,T.parseLength,function(f,S,F,w,j){return"c"===w.unit?w.value/f.cellResolution.h:null}),new p(C.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(f){return f},null),new p(C.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(f){return f},null),new p(C.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(f){return"true"===f},null),new p(C.ns_itts,"fillLineGap","false",["p"],!0,!0,function(f){return"true"===f},null)],V.byQName={},V.all)V.byQName[V.all[A].qname]=V.all[A];for(var M in V.byName={},V.all)V.byName[V.all[M].name]=V.all[M]}(K,typeof imscNames>"u"?u(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?u(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/(Me,K)=>{!function(u){var V=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,C=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,T=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,p={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};u.parseColor=function(M){var f,S=null,F=p[M.toLowerCase()];return void 0!==F?S=F:null!==(f=V.exec(M))?S=[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16),void 0!==f[4]?parseInt(f[4],16):255]:null!==(f=C.exec(M))?S=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),255]:null!==(f=T.exec(M))&&(S=[parseInt(f[1]),parseInt(f[2]),parseInt(f[3]),parseInt(f[4])]),S};var A=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;u.parseLength=function(M){var f,S=null;return null!==(f=A.exec(M))&&(S={value:parseFloat(f[1]),unit:f[2]}),S}}(K)},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/Me=>{"use strict";Me.exports=function K(u){var V="string"==typeof u?u.charCodeAt(0):u;return V>=97&&V<=122||V>=65&&V<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/(Me,K,u)=>{"use strict";var V=u(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),C=u(
/*! is-decimal */
"./node_modules/is-decimal/index.js");Me.exports=function T(p){return V(p)||C(p)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/Me=>{"use strict";Me.exports=function K(u){var V="string"==typeof u?u.charCodeAt(0):u;return V>=48&&V<=57}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/Me=>{"use strict";function K(T){if("string"!=typeof T)throw new TypeError("Path must be a string. Received "+JSON.stringify(T))}function u(T,p){for(var F,A="",M=0,f=-1,S=0,w=0;w<=T.length;++w){if(w<T.length)F=T.charCodeAt(w);else{if(47===F)break;F=47}if(47===F){if(f!==w-1&&1!==S)if(f!==w-1&&2===S){if(A.length<2||2!==M||46!==A.charCodeAt(A.length-1)||46!==A.charCodeAt(A.length-2))if(A.length>2){var j=A.lastIndexOf("/");if(j!==A.length-1){-1===j?(A="",M=0):M=(A=A.slice(0,j)).length-1-A.lastIndexOf("/"),f=w,S=0;continue}}else if(2===A.length||1===A.length){A="",M=0,f=w,S=0;continue}p&&(A.length>0?A+="/..":A="..",M=2)}else A.length>0?A+="/"+T.slice(f+1,w):A=T.slice(f+1,w),M=w-f-1;f=w,S=0}else 46===F&&-1!==S?++S:S=-1}return A}var C={resolve:function(){for(var M,p="",A=!1,f=arguments.length-1;f>=-1&&!A;f--){var S;f>=0?S=arguments[f]:(void 0===M&&(M=process.cwd()),S=M),K(S),0!==S.length&&(p=S+"/"+p,A=47===S.charCodeAt(0))}return p=u(p,!A),A?p.length>0?"/"+p:"/":p.length>0?p:"."},normalize:function(p){if(K(p),0===p.length)return".";var A=47===p.charCodeAt(0),M=47===p.charCodeAt(p.length-1);return 0===(p=u(p,!A)).length&&!A&&(p="."),p.length>0&&M&&(p+="/"),A?"/"+p:p},isAbsolute:function(p){return K(p),p.length>0&&47===p.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var p,A=0;A<arguments.length;++A){var M=arguments[A];K(M),M.length>0&&(void 0===p?p=M:p+="/"+M)}return void 0===p?".":C.normalize(p)},relative:function(p,A){if(K(p),K(A),p===A||(p=C.resolve(p))===(A=C.resolve(A)))return"";for(var M=1;M<p.length&&47===p.charCodeAt(M);++M);for(var f=p.length,S=f-M,F=1;F<A.length&&47===A.charCodeAt(F);++F);for(var j=A.length-F,x=S<j?S:j,y=-1,m=0;m<=x;++m){if(m===x){if(j>x){if(47===A.charCodeAt(F+m))return A.slice(F+m+1);if(0===m)return A.slice(F+m)}else S>x&&(47===p.charCodeAt(M+m)?y=m:0===m&&(y=0));break}var d=p.charCodeAt(M+m);if(d!==A.charCodeAt(F+m))break;47===d&&(y=m)}var _="";for(m=M+y+1;m<=f;++m)(m===f||47===p.charCodeAt(m))&&(_+=0===_.length?"..":"/..");return _.length>0?_+A.slice(F+y):(47===A.charCodeAt(F+=y)&&++F,A.slice(F))},_makeLong:function(p){return p},dirname:function(p){if(K(p),0===p.length)return".";for(var A=p.charCodeAt(0),M=47===A,f=-1,S=!0,F=p.length-1;F>=1;--F)if(47===(A=p.charCodeAt(F))){if(!S){f=F;break}}else S=!1;return-1===f?M?"/":".":M&&1===f?"//":p.slice(0,f)},basename:function(p,A){if(void 0!==A&&"string"!=typeof A)throw new TypeError('"ext" argument must be a string');K(p);var F,M=0,f=-1,S=!0;if(void 0!==A&&A.length>0&&A.length<=p.length){if(A.length===p.length&&A===p)return"";var w=A.length-1,j=-1;for(F=p.length-1;F>=0;--F){var x=p.charCodeAt(F);if(47===x){if(!S){M=F+1;break}}else-1===j&&(S=!1,j=F+1),w>=0&&(x===A.charCodeAt(w)?-1==--w&&(f=F):(w=-1,f=j))}return M===f?f=j:-1===f&&(f=p.length),p.slice(M,f)}for(F=p.length-1;F>=0;--F)if(47===p.charCodeAt(F)){if(!S){M=F+1;break}}else-1===f&&(S=!1,f=F+1);return-1===f?"":p.slice(M,f)},extname:function(p){K(p);for(var A=-1,M=0,f=-1,S=!0,F=0,w=p.length-1;w>=0;--w){var j=p.charCodeAt(w);if(47!==j)-1===f&&(S=!1,f=w+1),46===j?-1===A?A=w:1!==F&&(F=1):-1!==A&&(F=-1);else if(!S){M=w+1;break}}return-1===A||-1===f||0===F||1===F&&A===f-1&&A===M+1?"":p.slice(A,f)},format:function(p){if(null===p||"object"!=typeof p)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof p);return function V(T,p){var A=p.dir||p.root,M=p.base||(p.name||"")+(p.ext||"");return A?A===p.root?A+M:A+T+M:M}("/",p)},parse:function(p){K(p);var A={root:"",dir:"",base:"",ext:"",name:""};if(0===p.length)return A;var S,M=p.charCodeAt(0),f=47===M;f?(A.root="/",S=1):S=0;for(var F=-1,w=0,j=-1,x=!0,y=p.length-1,m=0;y>=S;--y)if(47!==(M=p.charCodeAt(y)))-1===j&&(x=!1,j=y+1),46===M?-1===F?F=y:1!==m&&(m=1):-1!==F&&(m=-1);else if(!x){w=y+1;break}return-1===F||-1===j||0===m||1===m&&F===j-1&&F===w+1?-1!==j&&(A.base=A.name=p.slice(0===w&&f?1:w,j)):(0===w&&f?(A.name=p.slice(1,F),A.base=p.slice(1,j)):(A.name=p.slice(w,F),A.base=p.slice(w,j)),A.ext=p.slice(F,j)),w>0?A.dir=p.slice(0,w-1):f&&(A.dir="/"),A},sep:"/",delimiter:":",win32:null,posix:null};C.posix=C,Me.exports=C},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/(Me,K,u)=>{var V=u(
/*! buffer */
"./node_modules/buffer/index.js"),C=V.Buffer;function T(A,M){for(var f in A)M[f]=A[f]}function p(A,M,f){return C(A,M,f)}C.from&&C.alloc&&C.allocUnsafe&&C.allocUnsafeSlow?Me.exports=V:(T(V,K),K.Buffer=p),T(C,p),p.from=function(A,M,f){if("number"==typeof A)throw new TypeError("Argument must not be a number");return C(A,M,f)},p.alloc=function(A,M,f){if("number"!=typeof A)throw new TypeError("Argument must be a number");var S=C(A);return void 0!==M?"string"==typeof f?S.fill(M,f):S.fill(M):S.fill(0),S},p.allocUnsafe=function(A){if("number"!=typeof A)throw new TypeError("Argument must be a number");return C(A)},p.allocUnsafeSlow=function(A){if("number"!=typeof A)throw new TypeError("Argument must be a number");return V.SlowBuffer(A)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/(Me,K,u)=>{!function(V){V.parser=function(H,P){return new T(H,P)},V.SAXParser=T,V.SAXStream=w,V.createStream=function F(H,P){return new w(H,P)},V.MAX_BUFFER_LENGTH=65536;var f,C=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function T(H,P){if(!(this instanceof T))return new T(H,P);var L=this;(function A(H){for(var P=0,L=C.length;P<L;P++)H[C[P]]=""})(L),L.q=L.c="",L.bufferCheckPosition=V.MAX_BUFFER_LENGTH,L.opt=P||{},L.opt.lowercase=L.opt.lowercase||L.opt.lowercasetags,L.looseCase=L.opt.lowercase?"toLowerCase":"toUpperCase",L.tags=[],L.closed=L.closedRoot=L.sawRoot=!1,L.tag=L.error=null,L.strict=!!H,L.noscript=!(!H&&!L.opt.noscript),L.state=Y.BEGIN,L.strictEntities=L.opt.strictEntities,L.ENTITIES=Object.create(L.strictEntities?V.XML_ENTITIES:V.ENTITIES),L.attribList=[],L.opt.xmlns&&(L.ns=Object.create(g)),L.trackPosition=!1!==L.opt.position,L.trackPosition&&(L.position=L.line=L.column=0),Z(L,"onready")}V.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(H){function P(){}return P.prototype=H,new P}),Object.keys||(Object.keys=function(H){var P=[];for(var L in H)H.hasOwnProperty(L)&&P.push(L);return P}),T.prototype={end:function(){ge(this)},write:function J(H){var P=this;if(this.error)throw this.error;if(P.closed)return se(P,"Cannot write after close. Assign an onready handler.");if(null===H)return ge(P);"object"==typeof H&&(H=H.toString());for(var L=0,N="";N=ce(H,L++),P.c=N,N;)switch(P.trackPosition&&(P.position++,"\n"===N?(P.line++,P.column=0):P.column++),P.state){case Y.BEGIN:if(P.state=Y.BEGIN_WHITESPACE,"\ufeff"===N)continue;ee(P,N);continue;case Y.BEGIN_WHITESPACE:ee(P,N);continue;case Y.TEXT:if(P.sawRoot&&!P.closedRoot){for(var Q=L-1;N&&"<"!==N&&"&"!==N;)(N=ce(H,L++))&&P.trackPosition&&(P.position++,"\n"===N?(P.line++,P.column=0):P.column++);P.textNode+=H.substring(Q,L-1)}"<"!==N||P.sawRoot&&P.closedRoot&&!P.strict?(ue(j,N)&&(!P.sawRoot||P.closedRoot)&&$(P,"Text data outside of root node."),"&"===N?P.state=Y.TEXT_ENTITY:P.textNode+=N):(P.state=Y.OPEN_WAKA,P.startTagPosition=P.position);continue;case Y.SCRIPT:"<"===N?P.state=Y.SCRIPT_ENDING:P.script+=N;continue;case Y.SCRIPT_ENDING:"/"===N?P.state=Y.CLOSE_TAG:(P.script+="<"+N,P.state=Y.SCRIPT);continue;case Y.OPEN_WAKA:"!"===N?(P.state=Y.SGML_DECL,P.sgmlDecl=""):ie(j,N)||(ie(h,N)?(P.state=Y.OPEN_TAG,P.tagName=N):"/"===N?(P.state=Y.CLOSE_TAG,P.tagName=""):"?"===N?(P.state=Y.PROC_INST,P.procInstName=P.procInstBody=""):($(P,"Unencoded <"),P.startTagPosition+1<P.position&&(N=new Array(P.position-P.startTagPosition).join(" ")+N),P.textNode+="<"+N,P.state=Y.TEXT));continue;case Y.SGML_DECL:(P.sgmlDecl+N).toUpperCase()===D?(ae(P,"onopencdata"),P.state=Y.CDATA,P.sgmlDecl="",P.cdata=""):P.sgmlDecl+N==="--"?(P.state=Y.COMMENT,P.comment="",P.sgmlDecl=""):(P.sgmlDecl+N).toUpperCase()===_?(P.state=Y.DOCTYPE,(P.doctype||P.sawRoot)&&$(P,"Inappropriately located doctype declaration"),P.doctype="",P.sgmlDecl=""):">"===N?(ae(P,"onsgmldeclaration",P.sgmlDecl),P.sgmlDecl="",P.state=Y.TEXT):(ie(m,N)&&(P.state=Y.SGML_DECL_QUOTED),P.sgmlDecl+=N);continue;case Y.SGML_DECL_QUOTED:N===P.q&&(P.state=Y.SGML_DECL,P.q=""),P.sgmlDecl+=N;continue;case Y.DOCTYPE:">"===N?(P.state=Y.TEXT,ae(P,"ondoctype",P.doctype),P.doctype=!0):(P.doctype+=N,"["===N?P.state=Y.DOCTYPE_DTD:ie(m,N)&&(P.state=Y.DOCTYPE_QUOTED,P.q=N));continue;case Y.DOCTYPE_QUOTED:P.doctype+=N,N===P.q&&(P.q="",P.state=Y.DOCTYPE);continue;case Y.DOCTYPE_DTD:P.doctype+=N,"]"===N?P.state=Y.DOCTYPE:ie(m,N)&&(P.state=Y.DOCTYPE_DTD_QUOTED,P.q=N);continue;case Y.DOCTYPE_DTD_QUOTED:P.doctype+=N,N===P.q&&(P.state=Y.DOCTYPE_DTD,P.q="");continue;case Y.COMMENT:"-"===N?P.state=Y.COMMENT_ENDING:P.comment+=N;continue;case Y.COMMENT_ENDING:"-"===N?(P.state=Y.COMMENT_ENDED,P.comment=le(P.opt,P.comment),P.comment&&ae(P,"oncomment",P.comment),P.comment=""):(P.comment+="-"+N,P.state=Y.COMMENT);continue;case Y.COMMENT_ENDED:">"!==N?($(P,"Malformed comment"),P.comment+="--"+N,P.state=Y.COMMENT):P.state=Y.TEXT;continue;case Y.CDATA:"]"===N?P.state=Y.CDATA_ENDING:P.cdata+=N;continue;case Y.CDATA_ENDING:"]"===N?P.state=Y.CDATA_ENDING_2:(P.cdata+="]"+N,P.state=Y.CDATA);continue;case Y.CDATA_ENDING_2:">"===N?(P.cdata&&ae(P,"oncdata",P.cdata),ae(P,"onclosecdata"),P.cdata="",P.state=Y.TEXT):"]"===N?P.cdata+="]":(P.cdata+="]]"+N,P.state=Y.CDATA);continue;case Y.PROC_INST:"?"===N?P.state=Y.PROC_INST_ENDING:ie(j,N)?P.state=Y.PROC_INST_BODY:P.procInstName+=N;continue;case Y.PROC_INST_BODY:if(!P.procInstBody&&ie(j,N))continue;"?"===N?P.state=Y.PROC_INST_ENDING:P.procInstBody+=N;continue;case Y.PROC_INST_ENDING:">"===N?(ae(P,"onprocessinginstruction",{name:P.procInstName,body:P.procInstBody}),P.procInstName=P.procInstBody="",P.state=Y.TEXT):(P.procInstBody+="?"+N,P.state=Y.PROC_INST_BODY);continue;case Y.OPEN_TAG:ie(R,N)?P.tagName+=N:(he(P),">"===N?Ee(P):"/"===N?P.state=Y.OPEN_TAG_SLASH:(ue(j,N)&&$(P,"Invalid character in tag name"),P.state=Y.ATTRIB));continue;case Y.OPEN_TAG_SLASH:">"===N?(Ee(P,!0),me(P)):($(P,"Forward-slash in opening tag not followed by >"),P.state=Y.ATTRIB);continue;case Y.ATTRIB:if(ie(j,N))continue;">"===N?Ee(P):"/"===N?P.state=Y.OPEN_TAG_SLASH:ie(h,N)?(P.attribName=N,P.attribValue="",P.state=Y.ATTRIB_NAME):$(P,"Invalid attribute name");continue;case Y.ATTRIB_NAME:"="===N?P.state=Y.ATTRIB_VALUE:">"===N?($(P,"Attribute without value"),P.attribValue=P.attribName,De(P),Ee(P)):ie(j,N)?P.state=Y.ATTRIB_NAME_SAW_WHITE:ie(R,N)?P.attribName+=N:$(P,"Invalid attribute name");continue;case Y.ATTRIB_NAME_SAW_WHITE:if("="===N)P.state=Y.ATTRIB_VALUE;else{if(ie(j,N))continue;$(P,"Attribute without value"),P.tag.attributes[P.attribName]="",P.attribValue="",ae(P,"onattribute",{name:P.attribName,value:""}),P.attribName="",">"===N?Ee(P):ie(h,N)?(P.attribName=N,P.state=Y.ATTRIB_NAME):($(P,"Invalid attribute name"),P.state=Y.ATTRIB)}continue;case Y.ATTRIB_VALUE:if(ie(j,N))continue;ie(m,N)?(P.q=N,P.state=Y.ATTRIB_VALUE_QUOTED):($(P,"Unquoted attribute value"),P.state=Y.ATTRIB_VALUE_UNQUOTED,P.attribValue=N);continue;case Y.ATTRIB_VALUE_QUOTED:if(N!==P.q){"&"===N?P.state=Y.ATTRIB_VALUE_ENTITY_Q:P.attribValue+=N;continue}De(P),P.q="",P.state=Y.ATTRIB_VALUE_CLOSED;continue;case Y.ATTRIB_VALUE_CLOSED:ie(j,N)?P.state=Y.ATTRIB:">"===N?Ee(P):"/"===N?P.state=Y.OPEN_TAG_SLASH:ie(h,N)?($(P,"No whitespace between attributes"),P.attribName=N,P.attribValue="",P.state=Y.ATTRIB_NAME):$(P,"Invalid attribute name");continue;case Y.ATTRIB_VALUE_UNQUOTED:if(ue(d,N)){"&"===N?P.state=Y.ATTRIB_VALUE_ENTITY_U:P.attribValue+=N;continue}De(P),">"===N?Ee(P):P.state=Y.ATTRIB;continue;case Y.CLOSE_TAG:if(P.tagName)">"===N?me(P):ie(R,N)?P.tagName+=N:P.script?(P.script+="</"+P.tagName,P.tagName="",P.state=Y.SCRIPT):(ue(j,N)&&$(P,"Invalid tagname in closing tag"),P.state=Y.CLOSE_TAG_SAW_WHITE);else{if(ie(j,N))continue;ue(h,N)?P.script?(P.script+="</"+N,P.state=Y.SCRIPT):$(P,"Invalid tagname in closing tag."):P.tagName=N}continue;case Y.CLOSE_TAG_SAW_WHITE:if(ie(j,N))continue;">"===N?me(P):$(P,"Invalid characters in closing tag");continue;case Y.TEXT_ENTITY:case Y.ATTRIB_VALUE_ENTITY_Q:case Y.ATTRIB_VALUE_ENTITY_U:var U,k;switch(P.state){case Y.TEXT_ENTITY:U=Y.TEXT,k="textNode";break;case Y.ATTRIB_VALUE_ENTITY_Q:U=Y.ATTRIB_VALUE_QUOTED,k="attribValue";break;case Y.ATTRIB_VALUE_ENTITY_U:U=Y.ATTRIB_VALUE_UNQUOTED,k="attribValue"}";"===N?(P[k]+=_e(P),P.entity="",P.state=U):ie(P.entity.length?W:I,N)?P.entity+=N:($(P,"Invalid character in entity name"),P[k]+="&"+P.entity+N,P.entity="",P.state=U);continue;default:throw new Error(P,"Unknown state: "+P.state)}return P.position>=P.bufferCheckPosition&&function p(H){for(var P=Math.max(V.MAX_BUFFER_LENGTH,10),L=0,N=0,Q=C.length;N<Q;N++){var O=H[C[N]].length;if(O>P)switch(C[N]){case"textNode":ne(H);break;case"cdata":ae(H,"oncdata",H.cdata),H.cdata="";break;case"script":ae(H,"onscript",H.script),H.script="";break;default:se(H,"Max buffer length exceeded: "+C[N])}L=Math.max(L,O)}H.bufferCheckPosition=V.MAX_BUFFER_LENGTH-L+H.position}(P),P},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function M(H){ne(H),""!==H.cdata&&(ae(H,"oncdata",H.cdata),H.cdata=""),""!==H.script&&(ae(H,"onscript",H.script),H.script="")}(this)}};try{f=u(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{f=function(){}}var S=V.EVENTS.filter(function(H){return"error"!==H&&"end"!==H});function w(H,P){if(!(this instanceof w))return new w(H,P);f.apply(this),this._parser=new T(H,P),this.writable=!0,this.readable=!0;var L=this;this._parser.onend=function(){L.emit("end")},this._parser.onerror=function(N){L.emit("error",N),L._parser.error=null},this._decoder=null,S.forEach(function(N){Object.defineProperty(L,"on"+N,{get:function(){return L._parser["on"+N]},set:function(Q){if(!Q)return L.removeAllListeners(N),L._parser["on"+N]=Q,Q;L.on(N,Q)},enumerable:!0,configurable:!1})})}(w.prototype=Object.create(f.prototype,{constructor:{value:w}})).write=function(H){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(H)){if(!this._decoder){var P=u(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new P("utf8")}H=this._decoder.write(H)}return this._parser.write(H.toString()),this.emit("data",H),!0},w.prototype.end=function(H){return H&&H.length&&this.write(H),this._parser.end(),!0},w.prototype.on=function(H,P){var L=this;return!L._parser["on"+H]&&-1!==S.indexOf(H)&&(L._parser["on"+H]=function(){var N=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);N.splice(0,0,H),L.emit.apply(L,N)}),f.prototype.on.call(L,H,P)};var j="\r\n\t ",x="0124356789",y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",m="'\"",d=j+">",D="[CDATA[",_="DOCTYPE",E="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",g={xml:E,xmlns:b};j=z(j),x=z(x),y=z(y);var h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,W=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function z(H){return H.split("").reduce(function(P,L){return P[L]=!0,P},{})}function ie(H,P){return function re(H){return"[object RegExp]"===Object.prototype.toString.call(H)}(H)?!!P.match(H):H[P]}function ue(H,P){return!ie(H,P)}m=z(m),d=z(d);var H,P,L,Y=0;for(var te in V.STATE={BEGIN:Y++,BEGIN_WHITESPACE:Y++,TEXT:Y++,TEXT_ENTITY:Y++,OPEN_WAKA:Y++,SGML_DECL:Y++,SGML_DECL_QUOTED:Y++,DOCTYPE:Y++,DOCTYPE_QUOTED:Y++,DOCTYPE_DTD:Y++,DOCTYPE_DTD_QUOTED:Y++,COMMENT_STARTING:Y++,COMMENT:Y++,COMMENT_ENDING:Y++,COMMENT_ENDED:Y++,CDATA:Y++,CDATA_ENDING:Y++,CDATA_ENDING_2:Y++,PROC_INST:Y++,PROC_INST_BODY:Y++,PROC_INST_ENDING:Y++,OPEN_TAG:Y++,OPEN_TAG_SLASH:Y++,ATTRIB:Y++,ATTRIB_NAME:Y++,ATTRIB_NAME_SAW_WHITE:Y++,ATTRIB_VALUE:Y++,ATTRIB_VALUE_QUOTED:Y++,ATTRIB_VALUE_CLOSED:Y++,ATTRIB_VALUE_UNQUOTED:Y++,ATTRIB_VALUE_ENTITY_Q:Y++,ATTRIB_VALUE_ENTITY_U:Y++,CLOSE_TAG:Y++,CLOSE_TAG_SAW_WHITE:Y++,SCRIPT:Y++,SCRIPT_ENDING:Y++},V.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},V.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(V.ENTITIES).forEach(function(H){var P=V.ENTITIES[H],L="number"==typeof P?String.fromCharCode(P):P;V.ENTITIES[H]=L}),V.STATE)V.STATE[V.STATE[te]]=te;function Z(H,P,L){H[P]&&H[P](L)}function ae(H,P,L){H.textNode&&ne(H),Z(H,P,L)}function ne(H){H.textNode=le(H.opt,H.textNode),H.textNode&&Z(H,"ontext",H.textNode),H.textNode=""}function le(H,P){return H.trim&&(P=P.trim()),H.normalize&&(P=P.replace(/\s+/g," ")),P}function se(H,P){return ne(H),H.trackPosition&&(P+="\nLine: "+H.line+"\nColumn: "+H.column+"\nChar: "+H.c),P=new Error(P),H.error=P,Z(H,"onerror",P),H}function ge(H){return H.sawRoot&&!H.closedRoot&&$(H,"Unclosed root tag"),H.state!==Y.BEGIN&&H.state!==Y.BEGIN_WHITESPACE&&H.state!==Y.TEXT&&se(H,"Unexpected end"),ne(H),H.c="",H.closed=!0,Z(H,"onend"),T.call(H,H.strict,H.opt),H}function $(H,P){if("object"!=typeof H||!(H instanceof T))throw new Error("bad call to strictFail");H.strict&&se(H,P)}function he(H){H.strict||(H.tagName=H.tagName[H.looseCase]());var P=H.tags[H.tags.length-1]||H,L=H.tag={name:H.tagName,attributes:{}};H.opt.xmlns&&(L.ns=P.ns),H.attribList.length=0,ae(H,"onopentagstart",L)}function pe(H,P){var N=H.indexOf(":")<0?["",H]:H.split(":"),Q=N[0],O=N[1];return P&&"xmlns"===H&&(Q="xmlns",O=""),{prefix:Q,local:O}}function De(H){if(H.strict||(H.attribName=H.attribName[H.looseCase]()),-1!==H.attribList.indexOf(H.attribName)||H.tag.attributes.hasOwnProperty(H.attribName))H.attribName=H.attribValue="";else{if(H.opt.xmlns){var P=pe(H.attribName,!0),N=P.local;if("xmlns"===P.prefix)if("xml"===N&&H.attribValue!==E)$(H,"xml: prefix must be bound to "+E+"\nActual: "+H.attribValue);else if("xmlns"===N&&H.attribValue!==b)$(H,"xmlns: prefix must be bound to "+b+"\nActual: "+H.attribValue);else{var Q=H.tag,O=H.tags[H.tags.length-1]||H;Q.ns===O.ns&&(Q.ns=Object.create(O.ns)),Q.ns[N]=H.attribValue}H.attribList.push([H.attribName,H.attribValue])}else H.tag.attributes[H.attribName]=H.attribValue,ae(H,"onattribute",{name:H.attribName,value:H.attribValue});H.attribName=H.attribValue=""}}function Ee(H,P){if(H.opt.xmlns){var L=H.tag,N=pe(H.tagName);L.prefix=N.prefix,L.local=N.local,L.uri=L.ns[N.prefix]||"",L.prefix&&!L.uri&&($(H,"Unbound namespace prefix: "+JSON.stringify(H.tagName)),L.uri=N.prefix),L.ns&&(H.tags[H.tags.length-1]||H).ns!==L.ns&&Object.keys(L.ns).forEach(function(xe){ae(H,"onopennamespace",{prefix:xe,uri:L.ns[xe]})});for(var O=0,U=H.attribList.length;O<U;O++){var k=H.attribList[O],G=k[0],oe=k[1],de=pe(G,!0),q=de.prefix,ve=""===q?"":L.ns[q]||"",Ce={name:G,value:oe,prefix:q,local:de.local,uri:ve};q&&"xmlns"!==q&&!ve&&($(H,"Unbound namespace prefix: "+JSON.stringify(q)),Ce.uri=q),H.tag.attributes[G]=Ce,ae(H,"onattribute",Ce)}H.attribList.length=0}H.tag.isSelfClosing=!!P,H.sawRoot=!0,H.tags.push(H.tag),ae(H,"onopentag",H.tag),P||(H.state=H.noscript||"script"!==H.tagName.toLowerCase()?Y.TEXT:Y.SCRIPT,H.tag=null,H.tagName=""),H.attribName=H.attribValue="",H.attribList.length=0}function me(H){if(!H.tagName)return $(H,"Weird empty close tag."),H.textNode+="</>",void(H.state=Y.TEXT);if(H.script){if("script"!==H.tagName)return H.script+="</"+H.tagName+">",H.tagName="",void(H.state=Y.SCRIPT);ae(H,"onscript",H.script),H.script=""}var P=H.tags.length,L=H.tagName;H.strict||(L=L[H.looseCase]());for(var N=L;P--&&H.tags[P].name!==N;)$(H,"Unexpected close tag");if(P<0)return $(H,"Unmatched closing tag: "+H.tagName),H.textNode+="</"+H.tagName+">",void(H.state=Y.TEXT);H.tagName=L;for(var O=H.tags.length;O-- >P;){var U=H.tag=H.tags.pop();H.tagName=H.tag.name,ae(H,"onclosetag",H.tagName);var k={};for(var G in U.ns)k[G]=U.ns[G];H.opt.xmlns&&U.ns!==(H.tags[H.tags.length-1]||H).ns&&Object.keys(U.ns).forEach(function(de){ae(H,"onclosenamespace",{prefix:de,uri:U.ns[de]})})}0===P&&(H.closedRoot=!0),H.tagName=H.attribValue=H.attribName="",H.attribList.length=0,H.state=Y.TEXT}function _e(H){var N,P=H.entity,L=P.toLowerCase(),Q="";return H.ENTITIES[P]?H.ENTITIES[P]:H.ENTITIES[L]?H.ENTITIES[L]:("#"===(P=L).charAt(0)&&("x"===P.charAt(1)?(P=P.slice(2),Q=(N=parseInt(P,16)).toString(16)):(P=P.slice(1),Q=(N=parseInt(P,10)).toString(10))),P=P.replace(/^0+/,""),Q.toLowerCase()!==P?($(H,"Invalid character entity"),"&"+H.entity+";"):String.fromCodePoint(N))}function ee(H,P){"<"===P?(H.state=Y.OPEN_WAKA,H.startTagPosition=H.position):ue(j,P)&&($(H,"Non-whitespace before first tag."),H.textNode=P,H.state=Y.TEXT)}function ce(H,P){var L="";return P<H.length&&(L=H.charAt(P)),L}Y=V.STATE,String.fromCodePoint||(H=String.fromCharCode,P=Math.floor,L=function(){var Q=[],k=-1,G=arguments.length;if(!G)return"";for(var oe="";++k<G;){var de=Number(arguments[k]);if(!isFinite(de)||de<0||de>1114111||P(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?Q.push(de):Q.push(55296+((de-=65536)>>10),de%1024+56320),(k+1===G||Q.length>16384)&&(oe+=H.apply(null,Q),Q.length=0)}return oe},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L)}(K)},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/(Me,K,u)=>{Me.exports=T;var V=u(
/*! events */
"./node_modules/events/events.js").EventEmitter;function T(){V.call(this)}u(
/*! inherits */
"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(T,V),T.Readable=u(
/*! readable-stream/lib/_stream_readable.js */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js"),T.Writable=u(
/*! readable-stream/lib/_stream_writable.js */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js"),T.Duplex=u(
/*! readable-stream/lib/_stream_duplex.js */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),T.Transform=u(
/*! readable-stream/lib/_stream_transform.js */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js"),T.PassThrough=u(
/*! readable-stream/lib/_stream_passthrough.js */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js"),T.finished=u(
/*! readable-stream/lib/internal/streams/end-of-stream.js */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"),T.pipeline=u(
/*! readable-stream/lib/internal/streams/pipeline.js */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/pipeline.js"),T.Stream=T,T.prototype.pipe=function(p,A){var M=this;function f(m){p.writable&&!1===p.write(m)&&M.pause&&M.pause()}function S(){M.readable&&M.resume&&M.resume()}M.on("data",f),p.on("drain",S),!p._isStdio&&(!A||!1!==A.end)&&(M.on("end",w),M.on("close",j));var F=!1;function w(){F||(F=!0,p.end())}function j(){F||(F=!0,"function"==typeof p.destroy&&p.destroy())}function x(m){if(y(),0===V.listenerCount(this,"error"))throw m}function y(){M.removeListener("data",f),p.removeListener("drain",S),M.removeListener("end",w),M.removeListener("close",j),M.removeListener("error",x),p.removeListener("error",x),M.removeListener("end",y),M.removeListener("close",y),p.removeListener("close",y)}return M.on("error",x),p.on("error",x),M.on("end",y),M.on("close",y),p.on("close",y),p.emit("pipe",M),p}},"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js":
/*!**********************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js ***!
                  \**********************************************************************************/Me=>{Me.exports="function"==typeof Object.create?function(u,V){V&&(u.super_=V,u.prototype=Object.create(V.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:function(u,V){if(V){u.super_=V;var C=function(){};C.prototype=V.prototype,u.prototype=new C,u.prototype.constructor=u}}},"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js":
/*!***************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js ***!
                  \***************************************************************************************/Me=>{"use strict";var u={};function V(M,f,S){S||(S=Error);var w=function(j){function x(y,m,d){return j.call(this,function F(j,x,y){return"string"==typeof f?f:f(j,x,y)}(y,m,d))||this}return function K(M,f){M.prototype=Object.create(f.prototype),M.prototype.constructor=M,M.__proto__=f}(x,j),x}(S);w.prototype.name=S.name,w.prototype.code=M,u[M]=w}function C(M,f){if(Array.isArray(M)){var S=M.length;return M=M.map(function(F){return String(F)}),S>2?"one of ".concat(f," ").concat(M.slice(0,S-1).join(", "),", or ")+M[S-1]:2===S?"one of ".concat(f," ").concat(M[0]," or ").concat(M[1]):"of ".concat(f," ").concat(M[0])}return"of ".concat(f," ").concat(String(M))}V("ERR_INVALID_OPT_VALUE",function(M,f){return'The value "'+f+'" is invalid for option "'+M+'"'},TypeError),V("ERR_INVALID_ARG_TYPE",function(M,f,S){var F,w;if("string"==typeof f&&function T(M,f,S){return M.substr(!S||S<0?0:+S,f.length)===f}(f,"not ")?(F="must not be",f=f.replace(/^not /,"")):F="must be",function p(M,f,S){return(void 0===S||S>M.length)&&(S=M.length),M.substring(S-f.length,S)===f}(M," argument"))w="The ".concat(M," ").concat(F," ").concat(C(f,"type"));else{var j=function A(M,f,S){return"number"!=typeof S&&(S=0),!(S+f.length>M.length)&&-1!==M.indexOf(f,S)}(M,".")?"property":"argument";w='The "'.concat(M,'" ').concat(j," ").concat(F," ").concat(C(f,"type"))}return w+". Received type ".concat(typeof S)},TypeError),V("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),V("ERR_METHOD_NOT_IMPLEMENTED",function(M){return"The "+M+" method is not implemented"}),V("ERR_STREAM_PREMATURE_CLOSE","Premature close"),V("ERR_STREAM_DESTROYED",function(M){return"Cannot call "+M+" after a stream was destroyed"}),V("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),V("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),V("ERR_STREAM_WRITE_AFTER_END","write after end"),V("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),V("ERR_UNKNOWN_ENCODING",function(M){return"Unknown encoding: "+M},TypeError),V("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Me.exports.codes=u},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js":
/*!*******************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \*******************************************************************************************/(Me,K,u)=>{"use strict";var V=Object.keys||function(w){var j=[];for(var x in w)j.push(x);return j};Me.exports=f;var C=u(
/*! ./_stream_readable */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js"),T=u(
/*! ./_stream_writable */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js");u(
/*! inherits */
"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(f,C);for(var p=V(T.prototype),A=0;A<p.length;A++){var M=p[A];f.prototype[M]||(f.prototype[M]=T.prototype[M])}function f(w){if(!(this instanceof f))return new f(w);C.call(this,w),T.call(this,w),this.allowHalfOpen=!0,w&&(!1===w.readable&&(this.readable=!1),!1===w.writable&&(this.writable=!1),!1===w.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",S)))}function S(){this._writableState.ended||process.nextTick(F,this)}function F(w){w.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(j){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=j,this._writableState.destroyed=j)}})},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js":
/*!************************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \************************************************************************************************/(Me,K,u)=>{"use strict";Me.exports=C;var V=u(
/*! ./_stream_transform */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js");function C(T){if(!(this instanceof C))return new C(T);V.call(this,T)}u(
/*! inherits */
"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(C,V),C.prototype._transform=function(T,p,A){A(null,T)}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js":
/*!*********************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_readable.js ***!
                  \*********************************************************************************************/(Me,K,u)=>{"use strict";var V;Me.exports=ie,ie.ReadableState=re,u(
/*! events */
"./node_modules/events/events.js");var w,T=function(N,Q){return N.listeners(Q).length},p=u(
/*! ./internal/streams/stream */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js"),A=u(
/*! buffer */
"./node_modules/buffer/index.js").Buffer,M=u.g.Uint8Array||function(){},F=u(
/*! util */
"?19e6");w=F&&F.debuglog?F.debuglog("stream"):function(){};var g,h,R,j=u(
/*! ./internal/streams/buffer_list */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/buffer_list.js"),x=u(
/*! ./internal/streams/destroy */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js"),m=u(
/*! ./internal/streams/state */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/state.js").getHighWaterMark,d=u(
/*! ../errors */
"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes,D=d.ERR_INVALID_ARG_TYPE,_=d.ERR_STREAM_PUSH_AFTER_EOF,E=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;u(
/*! inherits */
"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(ie,p);var I=x.errorOrDestroy,W=["error","close","destroy","pause","resume"];function re(L,N,Q){V=V||u(
/*! ./_stream_duplex */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),"boolean"!=typeof Q&&(Q=N instanceof V),this.objectMode=!!(L=L||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=m(this,L,"readableHighWaterMark",Q),this.buffer=new j,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==L.emitClose,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(g||(g=u(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new g(L.encoding),this.encoding=L.encoding)}function ie(L){if(V=V||u(
/*! ./_stream_duplex */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof ie))return new ie(L);this._readableState=new re(L,this,this instanceof V),this.readable=!0,L&&("function"==typeof L.read&&(this._read=L.read),"function"==typeof L.destroy&&(this._destroy=L.destroy)),p.call(this)}function ue(L,N,Q,O,U){w("readableAddChunk",N);var G,k=L._readableState;if(null===N)k.reading=!1,function le(L,N){if(w("onEofChunk"),!N.ended){if(N.decoder){var Q=N.decoder.end();Q&&Q.length&&(N.buffer.push(Q),N.length+=N.objectMode?1:Q.length)}N.ended=!0,N.sync?se(L):(N.needReadable=!1,N.emittedReadable||(N.emittedReadable=!0,ge(L)))}}(L,k);else if(U||(G=function te(L,N){var Q;return!function S(L){return A.isBuffer(L)||L instanceof M}(N)&&"string"!=typeof N&&void 0!==N&&!L.objectMode&&(Q=new D("chunk",["string","Buffer","Uint8Array"],N)),Q}(k,N)),G)I(L,G);else if(k.objectMode||N&&N.length>0)if("string"!=typeof N&&!k.objectMode&&Object.getPrototypeOf(N)!==A.prototype&&(N=function f(L){return A.from(L)}(N)),O)k.endEmitted?I(L,new b):Y(L,k,N,!0);else if(k.ended)I(L,new _);else{if(k.destroyed)return!1;k.reading=!1,k.decoder&&!Q?(N=k.decoder.write(N),k.objectMode||0!==N.length?Y(L,k,N,!1):$(L,k)):Y(L,k,N,!1)}else O||(k.reading=!1,$(L,k));return!k.ended&&(k.length<k.highWaterMark||0===k.length)}function Y(L,N,Q,O){N.flowing&&0===N.length&&!N.sync?(N.awaitDrain=0,L.emit("data",Q)):(N.length+=N.objectMode?1:Q.length,O?N.buffer.unshift(Q):N.buffer.push(Q),N.needReadable&&se(L)),$(L,N)}Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),ie.prototype.destroy=x.destroy,ie.prototype._undestroy=x.undestroy,ie.prototype._destroy=function(L,N){N(L)},ie.prototype.push=function(L,N){var O,Q=this._readableState;return Q.objectMode?O=!0:"string"==typeof L&&((N=N||Q.defaultEncoding)!==Q.encoding&&(L=A.from(L,N),N=""),O=!0),ue(this,L,N,!1,O)},ie.prototype.unshift=function(L){return ue(this,L,null,!0,!1)},ie.prototype.isPaused=function(){return!1===this._readableState.flowing},ie.prototype.setEncoding=function(L){g||(g=u(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder);var N=new g(L);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,O="";null!==Q;)O+=N.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),""!==O&&this._readableState.buffer.push(O),this._readableState.length=O.length,this};var Z=1073741824;function ne(L,N){return L<=0||0===N.length&&N.ended?0:N.objectMode?1:L!=L?N.flowing&&N.length?N.buffer.head.data.length:N.length:(L>N.highWaterMark&&(N.highWaterMark=function ae(L){return L>=Z?L=Z:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}(L)),L<=N.length?L:N.ended?N.length:(N.needReadable=!0,0))}function se(L){var N=L._readableState;w("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(w("emitReadable",N.flowing),N.emittedReadable=!0,process.nextTick(ge,L))}function ge(L){var N=L._readableState;w("emitReadable_",N.destroyed,N.length,N.ended),!N.destroyed&&(N.length||N.ended)&&(L.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,ee(L)}function $(L,N){N.readingMore||(N.readingMore=!0,process.nextTick(he,L,N))}function he(L,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&0===N.length);){var Q=N.length;if(w("maybeReadMore read 0"),L.read(0),Q===N.length)break}N.readingMore=!1}function De(L){var N=L._readableState;N.readableListening=L.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:L.listenerCount("data")>0&&L.resume()}function Ee(L){w("readable nexttick read 0"),L.read(0)}function _e(L,N){w("resume",N.reading),N.reading||L.read(0),N.resumeScheduled=!1,L.emit("resume"),ee(L),N.flowing&&!N.reading&&L.read(0)}function ee(L){var N=L._readableState;for(w("flow",N.flowing);N.flowing&&null!==L.read(););}function ce(L,N){return 0===N.length?null:(N.objectMode?Q=N.buffer.shift():!L||L>=N.length?(Q=N.decoder?N.buffer.join(""):1===N.buffer.length?N.buffer.first():N.buffer.concat(N.length),N.buffer.clear()):Q=N.buffer.consume(L,N.decoder),Q);var Q}function J(L){var N=L._readableState;w("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,process.nextTick(H,N,L))}function H(L,N){if(w("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&0===L.length&&(L.endEmitted=!0,N.readable=!1,N.emit("end"),L.autoDestroy)){var Q=N._writableState;(!Q||Q.autoDestroy&&Q.finished)&&N.destroy()}}function P(L,N){for(var Q=0,O=L.length;Q<O;Q++)if(L[Q]===N)return Q;return-1}ie.prototype.read=function(L){w("read",L),L=parseInt(L,10);var N=this._readableState,Q=L;if(0!==L&&(N.emittedReadable=!1),0===L&&N.needReadable&&((0!==N.highWaterMark?N.length>=N.highWaterMark:N.length>0)||N.ended))return w("read: emitReadable",N.length,N.ended),0===N.length&&N.ended?J(this):se(this),null;if(0===(L=ne(L,N))&&N.ended)return 0===N.length&&J(this),null;var U,O=N.needReadable;return w("need readable",O),(0===N.length||N.length-L<N.highWaterMark)&&w("length less than watermark",O=!0),N.ended||N.reading?w("reading or ended",O=!1):O&&(w("do read"),N.reading=!0,N.sync=!0,0===N.length&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(L=ne(Q,N))),null===(U=L>0?ce(L,N):null)?(N.needReadable=N.length<=N.highWaterMark,L=0):(N.length-=L,N.awaitDrain=0),0===N.length&&(N.ended||(N.needReadable=!0),Q!==L&&N.ended&&J(this)),null!==U&&this.emit("data",U),U},ie.prototype._read=function(L){I(this,new E("_read()"))},ie.prototype.pipe=function(L,N){var Q=this,O=this._readableState;switch(O.pipesCount){case 0:O.pipes=L;break;case 1:O.pipes=[O.pipes,L];break;default:O.pipes.push(L)}O.pipesCount+=1,w("pipe count=%d opts=%j",O.pipesCount,N);var k=N&&!1===N.end||L===process.stdout||L===process.stderr?je:oe;function oe(){w("onend"),L.end()}O.endEmitted?process.nextTick(k):Q.once("end",k),L.on("unpipe",function G(rt,it){w("onunpipe"),rt===Q&&it&&!1===it.hasUnpiped&&(it.hasUnpiped=!0,function be(){w("cleanup"),L.removeListener("close",xe),L.removeListener("finish",He),L.removeListener("drain",de),L.removeListener("error",Ce),L.removeListener("unpipe",G),Q.removeListener("end",oe),Q.removeListener("end",je),Q.removeListener("data",ve),q=!0,O.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&de()}())});var de=function pe(L){return function(){var Q=L._readableState;w("pipeOnDrain",Q.awaitDrain),Q.awaitDrain&&Q.awaitDrain--,0===Q.awaitDrain&&T(L,"data")&&(Q.flowing=!0,ee(L))}}(Q);L.on("drain",de);var q=!1;function ve(rt){w("ondata");var it=L.write(rt);w("dest.write",it),!1===it&&((1===O.pipesCount&&O.pipes===L||O.pipesCount>1&&-1!==P(O.pipes,L))&&!q&&(w("false write response, pause",O.awaitDrain),O.awaitDrain++),Q.pause())}function Ce(rt){w("onerror",rt),je(),L.removeListener("error",Ce),0===T(L,"error")&&I(L,rt)}function xe(){L.removeListener("finish",He),je()}function He(){w("onfinish"),L.removeListener("close",xe),je()}function je(){w("unpipe"),Q.unpipe(L)}return Q.on("data",ve),function z(L,N,Q){if("function"==typeof L.prependListener)return L.prependListener(N,Q);L._events&&L._events[N]?Array.isArray(L._events[N])?L._events[N].unshift(Q):L._events[N]=[Q,L._events[N]]:L.on(N,Q)}(L,"error",Ce),L.once("close",xe),L.once("finish",He),L.emit("pipe",Q),O.flowing||(w("pipe resume"),Q.resume()),L},ie.prototype.unpipe=function(L){var N=this._readableState,Q={hasUnpiped:!1};if(0===N.pipesCount)return this;if(1===N.pipesCount)return L&&L!==N.pipes||(L||(L=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,L&&L.emit("unpipe",this,Q)),this;if(!L){var O=N.pipes,U=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var k=0;k<U;k++)O[k].emit("unpipe",this,{hasUnpiped:!1});return this}var G=P(N.pipes,L);return-1===G||(N.pipes.splice(G,1),N.pipesCount-=1,1===N.pipesCount&&(N.pipes=N.pipes[0]),L.emit("unpipe",this,Q)),this},ie.prototype.addListener=ie.prototype.on=function(L,N){var Q=p.prototype.on.call(this,L,N),O=this._readableState;return"data"===L?(O.readableListening=this.listenerCount("readable")>0,!1!==O.flowing&&this.resume()):"readable"===L&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,w("on readable",O.length,O.reading),O.length?se(this):O.reading||process.nextTick(Ee,this)),Q},ie.prototype.removeListener=function(L,N){var Q=p.prototype.removeListener.call(this,L,N);return"readable"===L&&process.nextTick(De,this),Q},ie.prototype.removeAllListeners=function(L){var N=p.prototype.removeAllListeners.apply(this,arguments);return("readable"===L||void 0===L)&&process.nextTick(De,this),N},ie.prototype.resume=function(){var L=this._readableState;return L.flowing||(w("resume"),L.flowing=!L.readableListening,function me(L,N){N.resumeScheduled||(N.resumeScheduled=!0,process.nextTick(_e,L,N))}(this,L)),L.paused=!1,this},ie.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ie.prototype.wrap=function(L){var N=this,Q=this._readableState,O=!1;for(var U in L.on("end",function(){if(w("wrapped end"),Q.decoder&&!Q.ended){var G=Q.decoder.end();G&&G.length&&N.push(G)}N.push(null)}),L.on("data",function(G){w("wrapped data"),Q.decoder&&(G=Q.decoder.write(G)),Q.objectMode&&null==G||!(Q.objectMode||G&&G.length)||N.push(G)||(O=!0,L.pause())}),L)void 0===this[U]&&"function"==typeof L[U]&&(this[U]=function(oe){return function(){return L[oe].apply(L,arguments)}}(U));for(var k=0;k<W.length;k++)L.on(W[k],this.emit.bind(this,W[k]));return this._read=function(G){w("wrapped _read",G),O&&(O=!1,L.resume())},this},"function"==typeof Symbol&&(ie.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=u(
/*! ./internal/streams/async_iterator */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/async_iterator.js")),h(this)}),Object.defineProperty(ie.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ie.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ie.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),ie._fromList=ce,Object.defineProperty(ie.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ie.from=function(L,N){return void 0===R&&(R=u(
/*! ./internal/streams/from */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/from-browser.js")),R(ie,L,N)})},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js":
/*!**********************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_transform.js ***!
                  \**********************************************************************************************/(Me,K,u)=>{"use strict";Me.exports=S;var V=u(
/*! ../errors */
"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes,C=V.ERR_METHOD_NOT_IMPLEMENTED,T=V.ERR_MULTIPLE_CALLBACK,p=V.ERR_TRANSFORM_ALREADY_TRANSFORMING,A=V.ERR_TRANSFORM_WITH_LENGTH_0,M=u(
/*! ./_stream_duplex */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js");function f(j,x){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(null===m)return this.emit("error",new T);y.writechunk=null,y.writecb=null,null!=x&&this.push(x),m(j);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function S(j){if(!(this instanceof S))return new S(j);M.call(this,j),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,j&&("function"==typeof j.transform&&(this._transform=j.transform),"function"==typeof j.flush&&(this._flush=j.flush)),this.on("prefinish",F)}function F(){var j=this;"function"!=typeof this._flush||this._readableState.destroyed?w(this,null,null):this._flush(function(x,y){w(j,x,y)})}function w(j,x,y){if(x)return j.emit("error",x);if(null!=y&&j.push(y),j._writableState.length)throw new A;if(j._transformState.transforming)throw new p;return j.push(null)}u(
/*! inherits */
"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(S,M),S.prototype.push=function(j,x){return this._transformState.needTransform=!1,M.prototype.push.call(this,j,x)},S.prototype._transform=function(j,x,y){y(new C("_transform()"))},S.prototype._write=function(j,x,y){var m=this._transformState;if(m.writecb=y,m.writechunk=j,m.writeencoding=x,!m.transforming){var d=this._readableState;(m.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},S.prototype._read=function(j){var x=this._transformState;null===x.writechunk||x.transforming?x.needTransform=!0:(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform))},S.prototype._destroy=function(j,x){M.prototype._destroy.call(this,j,function(y){x(y)})}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js":
/*!*********************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_writable.js ***!
                  \*********************************************************************************************/(Me,K,u)=>{"use strict";function C(ee){var ce=this;this.next=null,this.entry=null,this.finish=function(){!function _e(ee,ce,J){var H=ee.entry;for(ee.entry=null;H;){var P=H.callback;ce.pendingcb--,P(J),H=H.next}ce.corkedRequestsFree.next=ee}(ce,ee)}}var T;Me.exports=re,re.WritableState=W;var z,p={deprecate:u(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},A=u(
/*! ./internal/streams/stream */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js"),M=u(
/*! buffer */
"./node_modules/buffer/index.js").Buffer,f=u.g.Uint8Array||function(){},w=u(
/*! ./internal/streams/destroy */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js"),x=u(
/*! ./internal/streams/state */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/state.js").getHighWaterMark,y=u(
/*! ../errors */
"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes,m=y.ERR_INVALID_ARG_TYPE,d=y.ERR_METHOD_NOT_IMPLEMENTED,D=y.ERR_MULTIPLE_CALLBACK,_=y.ERR_STREAM_CANNOT_PIPE,E=y.ERR_STREAM_DESTROYED,b=y.ERR_STREAM_NULL_VALUES,g=y.ERR_STREAM_WRITE_AFTER_END,h=y.ERR_UNKNOWN_ENCODING,R=w.errorOrDestroy;function I(){}function W(ee,ce,J){T=T||u(
/*! ./_stream_duplex */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"),"boolean"!=typeof J&&(J=ce instanceof T),this.objectMode=!!(ee=ee||{}).objectMode,J&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=x(this,ee,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ee.decodeStrings),this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(P){!function le(ee,ce){var J=ee._writableState,H=J.sync,P=J.writecb;if("function"!=typeof P)throw new D;if(function ne(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}(J),ce)!function ae(ee,ce,J,H,P){--ce.pendingcb,J?(process.nextTick(P,H),process.nextTick(Ee,ee,ce),ee._writableState.errorEmitted=!0,R(ee,H)):(P(H),ee._writableState.errorEmitted=!0,R(ee,H),Ee(ee,ce))}(ee,J,H,ce,P);else{var L=he(J)||ee.destroyed;!L&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&$(ee,J),H?process.nextTick(se,ee,J,L,P):se(ee,J,L,P)}}(ce,P)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==ee.emitClose,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new C(this)}function re(ee){var ce=this instanceof(T=T||u(
/*! ./_stream_duplex */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/_stream_duplex.js"));if(!ce&&!z.call(re,this))return new re(ee);this._writableState=new W(ee,this,ce),this.writable=!0,ee&&("function"==typeof ee.write&&(this._write=ee.write),"function"==typeof ee.writev&&(this._writev=ee.writev),"function"==typeof ee.destroy&&(this._destroy=ee.destroy),"function"==typeof ee.final&&(this._final=ee.final)),A.call(this)}function Z(ee,ce,J,H,P,L,N){ce.writelen=H,ce.writecb=N,ce.writing=!0,ce.sync=!0,ce.destroyed?ce.onwrite(new E("write")):J?ee._writev(P,ce.onwrite):ee._write(P,L,ce.onwrite),ce.sync=!1}function se(ee,ce,J,H){J||function ge(ee,ce){0===ce.length&&ce.needDrain&&(ce.needDrain=!1,ee.emit("drain"))}(ee,ce),ce.pendingcb--,H(),Ee(ee,ce)}function $(ee,ce){ce.bufferProcessing=!0;var J=ce.bufferedRequest;if(ee._writev&&J&&J.next){var P=new Array(ce.bufferedRequestCount),L=ce.corkedRequestsFree;L.entry=J;for(var N=0,Q=!0;J;)P[N]=J,J.isBuf||(Q=!1),J=J.next,N+=1;P.allBuffers=Q,Z(ee,ce,!0,ce.length,P,"",L.finish),ce.pendingcb++,ce.lastBufferedRequest=null,L.next?(ce.corkedRequestsFree=L.next,L.next=null):ce.corkedRequestsFree=new C(ce),ce.bufferedRequestCount=0}else{for(;J;){var O=J.chunk;if(Z(ee,ce,!1,ce.objectMode?1:O.length,O,J.encoding,J.callback),J=J.next,ce.bufferedRequestCount--,ce.writing)break}null===J&&(ce.lastBufferedRequest=null)}ce.bufferedRequest=J,ce.bufferProcessing=!1}function he(ee){return ee.ending&&0===ee.length&&null===ee.bufferedRequest&&!ee.finished&&!ee.writing}function pe(ee,ce){ee._final(function(J){ce.pendingcb--,J&&R(ee,J),ce.prefinished=!0,ee.emit("prefinish"),Ee(ee,ce)})}function Ee(ee,ce){var J=he(ce);if(J&&(function De(ee,ce){!ce.prefinished&&!ce.finalCalled&&("function"!=typeof ee._final||ce.destroyed?(ce.prefinished=!0,ee.emit("prefinish")):(ce.pendingcb++,ce.finalCalled=!0,process.nextTick(pe,ee,ce)))}(ee,ce),0===ce.pendingcb&&(ce.finished=!0,ee.emit("finish"),ce.autoDestroy))){var H=ee._readableState;(!H||H.autoDestroy&&H.endEmitted)&&ee.destroy()}return J}u(
/*! inherits */
"./node_modules/stream-browserify/node_modules/inherits/inherits_browser.js")(re,A),W.prototype.getBuffer=function(){for(var ce=this.bufferedRequest,J=[];ce;)J.push(ce),ce=ce.next;return J},function(){try{Object.defineProperty(W.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(z=Function.prototype[Symbol.hasInstance],Object.defineProperty(re,Symbol.hasInstance,{value:function(ce){return!!z.call(this,ce)||this===re&&ce&&ce._writableState instanceof W}})):z=function(ce){return ce instanceof this},re.prototype.pipe=function(){R(this,new _)},re.prototype.write=function(ee,ce,J){var H=this._writableState,P=!1,L=!H.objectMode&&function F(ee){return M.isBuffer(ee)||ee instanceof f}(ee);return L&&!M.isBuffer(ee)&&(ee=function S(ee){return M.from(ee)}(ee)),"function"==typeof ce&&(J=ce,ce=null),L?ce="buffer":ce||(ce=H.defaultEncoding),"function"!=typeof J&&(J=I),H.ending?function ie(ee,ce){var J=new g;R(ee,J),process.nextTick(ce,J)}(this,J):(L||function ue(ee,ce,J,H){var P;return null===J?P=new b:"string"!=typeof J&&!ce.objectMode&&(P=new m("chunk",["string","Buffer"],J)),!P||(R(ee,P),process.nextTick(H,P),!1)}(this,H,ee,J))&&(H.pendingcb++,P=function te(ee,ce,J,H,P,L){if(!J){var N=function Y(ee,ce,J){return!ee.objectMode&&!1!==ee.decodeStrings&&"string"==typeof ce&&(ce=M.from(ce,J)),ce}(ce,H,P);H!==N&&(J=!0,P="buffer",H=N)}var Q=ce.objectMode?1:H.length;ce.length+=Q;var O=ce.length<ce.highWaterMark;if(O||(ce.needDrain=!0),ce.writing||ce.corked){var U=ce.lastBufferedRequest;ce.lastBufferedRequest={chunk:H,encoding:P,isBuf:J,callback:L,next:null},U?U.next=ce.lastBufferedRequest:ce.bufferedRequest=ce.lastBufferedRequest,ce.bufferedRequestCount+=1}else Z(ee,ce,!1,Q,H,P,L);return O}(this,H,L,ee,ce,J)),P},re.prototype.cork=function(){this._writableState.corked++},re.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&$(this,ee))},re.prototype.setDefaultEncoding=function(ce){if("string"==typeof ce&&(ce=ce.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ce+"").toLowerCase())>-1))throw new h(ce);return this._writableState.defaultEncoding=ce,this},Object.defineProperty(re.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(re.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),re.prototype._write=function(ee,ce,J){J(new d("_write()"))},re.prototype._writev=null,re.prototype.end=function(ee,ce,J){var H=this._writableState;return"function"==typeof ee?(J=ee,ee=null,ce=null):"function"==typeof ce&&(J=ce,ce=null),null!=ee&&this.write(ee,ce),H.corked&&(H.corked=1,this.uncork()),H.ending||function me(ee,ce,J){ce.ending=!0,Ee(ee,ce),J&&(ce.finished?process.nextTick(J):ee.once("finish",J)),ce.ended=!0,ee.writable=!1}(this,H,J),this},Object.defineProperty(re.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(re.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ce){this._writableState&&(this._writableState.destroyed=ce)}}),re.prototype.destroy=w.destroy,re.prototype._undestroy=w.undestroy,re.prototype._destroy=function(ee,ce){ce(ee)}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/async_iterator.js":
/*!************************************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/async_iterator.js ***!
                  \************************************************************************************************************/(Me,K,u)=>{"use strict";var V;function C(E,b,g){return b in E?Object.defineProperty(E,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):E[b]=g,E}var T=u(
/*! ./end-of-stream */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"),p=Symbol("lastResolve"),A=Symbol("lastReject"),M=Symbol("error"),f=Symbol("ended"),S=Symbol("lastPromise"),F=Symbol("handlePromise"),w=Symbol("stream");function j(E,b){return{value:E,done:b}}function x(E){var b=E[p];if(null!==b){var g=E[w].read();null!==g&&(E[S]=null,E[p]=null,E[A]=null,b(j(g,!1)))}}function y(E){process.nextTick(x,E)}var d=Object.getPrototypeOf(function(){}),D=Object.setPrototypeOf((C(V={get stream(){return this[w]},next:function(){var b=this,g=this[M];if(null!==g)return Promise.reject(g);if(this[f])return Promise.resolve(j(void 0,!0));if(this[w].destroyed)return new Promise(function(W,z){process.nextTick(function(){b[M]?z(b[M]):W(j(void 0,!0))})});var R,h=this[S];if(h)R=new Promise(function m(E,b){return function(g,h){E.then(function(){b[f]?g(j(void 0,!0)):b[F](g,h)},h)}}(h,this));else{var I=this[w].read();if(null!==I)return Promise.resolve(j(I,!1));R=new Promise(this[F])}return this[S]=R,R}},Symbol.asyncIterator,function(){return this}),C(V,"return",function(){var b=this;return new Promise(function(g,h){b[w].destroy(null,function(R){R?h(R):g(j(void 0,!0))})})}),V),d);Me.exports=function(b){var g,h=Object.create(D,(C(g={},w,{value:b,writable:!0}),C(g,p,{value:null,writable:!0}),C(g,A,{value:null,writable:!0}),C(g,M,{value:null,writable:!0}),C(g,f,{value:b._readableState.endEmitted,writable:!0}),C(g,F,{value:function(I,W){var z=h[w].read();z?(h[S]=null,h[p]=null,h[A]=null,I(j(z,!1))):(h[p]=I,h[A]=W)},writable:!0}),g));return h[S]=null,T(b,function(R){if(R&&"ERR_STREAM_PREMATURE_CLOSE"!==R.code){var I=h[A];return null!==I&&(h[S]=null,h[p]=null,h[A]=null,I(R)),void(h[M]=R)}var W=h[p];null!==W&&(h[S]=null,h[p]=null,h[A]=null,W(j(void 0,!0))),h[f]=!0}),b.on("readable",y.bind(null,h)),h}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/buffer_list.js":
/*!*********************************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/buffer_list.js ***!
                  \*********************************************************************************************************/(Me,K,u)=>{"use strict";function V(y,m){var d=Object.keys(y);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(y);m&&(D=D.filter(function(_){return Object.getOwnPropertyDescriptor(y,_).enumerable})),d.push.apply(d,D)}return d}function T(y,m,d){return m in y?Object.defineProperty(y,m,{value:d,enumerable:!0,configurable:!0,writable:!0}):y[m]=d,y}function A(y,m){for(var d=0;d<m.length;d++){var D=m[d];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(y,D.key,D)}}var S=u(
/*! buffer */
"./node_modules/buffer/index.js").Buffer,w=u(
/*! util */
"?3e83").inspect,j=w&&w.custom||"inspect";function x(y,m,d){S.prototype.copy.call(y,m,d)}Me.exports=function(){function y(){(function p(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")})(this,y),this.head=null,this.tail=null,this.length=0}return function M(y,m,d){m&&A(y.prototype,m),d&&A(y,d)}(y,[{key:"push",value:function(d){var D={data:d,next:null};this.length>0?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(d){var D={data:d,next:this.head};0===this.length&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(0!==this.length){var d=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,d}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(d){if(0===this.length)return"";for(var D=this.head,_=""+D.data;D=D.next;)_+=d+D.data;return _}},{key:"concat",value:function(d){if(0===this.length)return S.alloc(0);for(var D=S.allocUnsafe(d>>>0),_=this.head,E=0;_;)x(_.data,D,E),E+=_.data.length,_=_.next;return D}},{key:"consume",value:function(d,D){var _;return d<this.head.data.length?(_=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):_=d===this.head.data.length?this.shift():D?this._getString(d):this._getBuffer(d),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(d){var D=this.head,_=1,E=D.data;for(d-=E.length;D=D.next;){var b=D.data,g=d>b.length?b.length:d;if(E+=g===b.length?b:b.slice(0,d),0==(d-=g)){g===b.length?(++_,this.head=D.next?D.next:this.tail=null):(this.head=D,D.data=b.slice(g));break}++_}return this.length-=_,E}},{key:"_getBuffer",value:function(d){var D=S.allocUnsafe(d),_=this.head,E=1;for(_.data.copy(D),d-=_.data.length;_=_.next;){var b=_.data,g=d>b.length?b.length:d;if(b.copy(D,D.length-d,0,g),0==(d-=g)){g===b.length?(++E,this.head=_.next?_.next:this.tail=null):(this.head=_,_.data=b.slice(g));break}++E}return this.length-=E,D}},{key:j,value:function(d,D){return w(this,function C(y){for(var m=1;m<arguments.length;m++){var d=null!=arguments[m]?arguments[m]:{};m%2?V(Object(d),!0).forEach(function(D){T(y,D,d[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(d)):V(Object(d)).forEach(function(D){Object.defineProperty(y,D,Object.getOwnPropertyDescriptor(d,D))})}return y}({},D,{depth:0,customInspect:!1}))}}]),y}()},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!*****************************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \*****************************************************************************************************/Me=>{"use strict";function u(A,M){T(A,M),V(A)}function V(A){A._writableState&&!A._writableState.emitClose||A._readableState&&!A._readableState.emitClose||A.emit("close")}function T(A,M){A.emit("error",M)}Me.exports={destroy:function K(A,M){var f=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(M?M(A):A&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(T,this,A)):process.nextTick(T,this,A)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(A||null,function(w){!M&&w?f._writableState?f._writableState.errorEmitted?process.nextTick(V,f):(f._writableState.errorEmitted=!0,process.nextTick(u,f,w)):process.nextTick(u,f,w):M?(process.nextTick(V,f),M(w)):process.nextTick(V,f)}),this)},undestroy:function C(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function p(A,M){var f=A._readableState,S=A._writableState;f&&f.autoDestroy||S&&S.autoDestroy?A.destroy(M):A.emit("error",M)}}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js":
/*!***********************************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js ***!
                  \***********************************************************************************************************/(Me,K,u)=>{"use strict";var V=u(
/*! ../../../errors */
"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes.ERR_STREAM_PREMATURE_CLOSE;function T(){}Me.exports=function A(M,f,S){if("function"==typeof f)return A(M,null,f);f||(f={}),S=function C(M){var f=!1;return function(){if(!f){f=!0;for(var S=arguments.length,F=new Array(S),w=0;w<S;w++)F[w]=arguments[w];M.apply(this,F)}}}(S||T);var F=f.readable||!1!==f.readable&&M.readable,w=f.writable||!1!==f.writable&&M.writable,j=function(){M.writable||y()},x=M._writableState&&M._writableState.finished,y=function(){w=!1,x=!0,F||S.call(M)},m=M._readableState&&M._readableState.endEmitted,d=function(){F=!1,m=!0,w||S.call(M)},D=function(g){S.call(M,g)},_=function(){var g;return F&&!m?((!M._readableState||!M._readableState.ended)&&(g=new V),S.call(M,g)):w&&!x?((!M._writableState||!M._writableState.ended)&&(g=new V),S.call(M,g)):void 0},E=function(){M.req.on("finish",y)};return function p(M){return M.setHeader&&"function"==typeof M.abort}(M)?(M.on("complete",y),M.on("abort",_),M.req?E():M.on("request",E)):w&&!M._writableState&&(M.on("end",j),M.on("close",j)),M.on("end",d),M.on("finish",y),!1!==f.error&&M.on("error",D),M.on("close",_),function(){M.removeListener("complete",y),M.removeListener("abort",_),M.removeListener("request",E),M.req&&M.req.removeListener("finish",y),M.removeListener("end",j),M.removeListener("close",j),M.removeListener("finish",y),M.removeListener("end",d),M.removeListener("error",D),M.removeListener("close",_)}}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/from-browser.js":
/*!**********************************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/from-browser.js ***!
                  \**********************************************************************************************************/Me=>{Me.exports=function(){throw new Error("Readable.from is not available in the browser")}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/pipeline.js":
/*!******************************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/pipeline.js ***!
                  \******************************************************************************************************/(Me,K,u)=>{"use strict";var V,T=u(
/*! ../../../errors */
"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes,p=T.ERR_MISSING_ARGS,A=T.ERR_STREAM_DESTROYED;function M(y){if(y)throw y}function F(y){y()}function w(y,m){return y.pipe(m)}Me.exports=function x(){for(var y=arguments.length,m=new Array(y),d=0;d<y;d++)m[d]=arguments[d];var D=function j(y){return y.length&&"function"==typeof y[y.length-1]?y.pop():M}(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new p("streams");var _,E=m.map(function(b,g){var h=g<m.length-1;return function S(y,m,d,D){D=function C(y){var m=!1;return function(){m||(m=!0,y.apply(void 0,arguments))}}(D);var _=!1;y.on("close",function(){_=!0}),void 0===V&&(V=u(
/*! ./end-of-stream */
"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js")),V(y,{readable:m,writable:d},function(b){if(b)return D(b);_=!0,D()});var E=!1;return function(b){if(!_&&!E){if(E=!0,function f(y){return y.setHeader&&"function"==typeof y.abort}(y))return y.abort();if("function"==typeof y.destroy)return y.destroy();D(b||new A("pipe"))}}}(b,h,g>0,function(I){_||(_=I),I&&E.forEach(F),!h&&(E.forEach(F),D(_))})});return m.reduce(w)}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/state.js":
/*!***************************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/state.js ***!
                  \***************************************************************************************************/(Me,K,u)=>{"use strict";var V=u(
/*! ../../../errors */
"./node_modules/stream-browserify/node_modules/readable-stream/errors-browser.js").codes.ERR_INVALID_OPT_VALUE;Me.exports={getHighWaterMark:function T(p,A,M,f){var S=function C(p,A,M){return null!=p.highWaterMark?p.highWaterMark:A?p[M]:null}(A,f,M);if(null!=S){if(!isFinite(S)||Math.floor(S)!==S||S<0)throw new V(f?M:"highWaterMark",S);return Math.floor(S)}return p.objectMode?16:16384}}},"./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!************************************************************************************************************!*\
                  !*** ./node_modules/stream-browserify/node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \************************************************************************************************************/(Me,K,u)=>{Me.exports=u(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/(Me,K,u)=>{"use strict";var V=u(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,C=V.isEncoding||function(E){switch((E=""+E)&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function A(E){var b;switch(this.encoding=function p(E){var b=function T(E){if(!E)return"utf8";for(var b;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(b)return;E=(""+E).toLowerCase(),b=!0}}(E);if("string"!=typeof b&&(V.isEncoding===C||!C(E)))throw new Error("Unknown encoding: "+E);return b||E}(E),this.encoding){case"utf16le":this.text=x,this.end=y,b=4;break;case"utf8":this.fillLast=F,b=4;break;case"base64":this.text=m,this.end=d,b=3;break;default:return this.write=D,void(this.end=_)}this.lastNeed=0,this.lastTotal=0,this.lastChar=V.allocUnsafe(b)}function M(E){return E<=127?0:E>>5==6?2:E>>4==14?3:E>>3==30?4:E>>6==2?-1:-2}function F(E){var b=this.lastTotal-this.lastNeed,g=function S(E,b,g){if(128!=(192&b[0]))return E.lastNeed=0,"\ufffd";if(E.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return E.lastNeed=1,"\ufffd";if(E.lastNeed>2&&b.length>2&&128!=(192&b[2]))return E.lastNeed=2,"\ufffd"}}(this,E);return void 0!==g?g:this.lastNeed<=E.length?(E.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(E.copy(this.lastChar,b,0,E.length),void(this.lastNeed-=E.length))}function x(E,b){if((E.length-b)%2==0){var g=E.toString("utf16le",b);if(g){var h=g.charCodeAt(g.length-1);if(h>=55296&&h<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",b,E.length-1)}function y(E){var b=E&&E.length?this.write(E):"";return this.lastNeed?b+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):b}function m(E,b){var g=(E.length-b)%3;return 0===g?E.toString("base64",b):(this.lastNeed=3-g,this.lastTotal=3,1===g?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",b,E.length-g))}function d(E){var b=E&&E.length?this.write(E):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function D(E){return E.toString(this.encoding)}function _(E){return E&&E.length?this.write(E):""}K.StringDecoder=A,A.prototype.write=function(E){if(0===E.length)return"";var b,g;if(this.lastNeed){if(void 0===(b=this.fillLast(E)))return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<E.length?b?b+this.text(E,g):this.text(E,g):b||""},A.prototype.end=function j(E){var b=E&&E.length?this.write(E):"";return this.lastNeed?b+"\ufffd":b},A.prototype.text=function w(E,b){var g=function f(E,b,g){var h=b.length-1;if(h<g)return 0;var R=M(b[h]);return R>=0?(R>0&&(E.lastNeed=R-1),R):--h<g||-2===R?0:(R=M(b[h]))>=0?(R>0&&(E.lastNeed=R-2),R):--h<g||-2===R?0:(R=M(b[h]))>=0?(R>0&&(2===R?R=0:E.lastNeed=R-3),R):0}(this,E,b);if(!this.lastNeed)return E.toString("utf8",b);this.lastTotal=g;var h=E.length-(g-this.lastNeed);return E.copy(this.lastChar,0,h),E.toString("utf8",b,h)},A.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length}},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/function(Me,K,u){var V;!function(C,T){"use strict";var f="function",S="undefined",F="object",w="string",x="model",y="name",m="type",d="vendor",D="version",_="architecture",E="console",b="mobile",g="tablet",h="smarttv",R="wearable",I="embedded",z="Amazon",re="Apple",ue="BlackBerry",Y="Browser",te="Chrome",ae="Firefox",ne="Google",ge="Microsoft",$="Motorola",he="Opera",pe="Samsung",De="Sony",me="Zebra",_e="Facebook",ce=function(q){for(var be={},ve=0;ve<q.length;ve++)be[q[ve].toUpperCase()]=q[ve];return be},J=function(q,be){return typeof q===w&&-1!==H(be).indexOf(H(q))},H=function(q){return q.toLowerCase()},L=function(q,be){if(typeof q===w)return q=q.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof be===S?q:q.substring(0,255)},N=function(q,be){for(var Ce,xe,He,je,rt,it,ve=0;ve<be.length&&!rt;){var Re=be[ve],Be=be[ve+1];for(Ce=xe=0;Ce<Re.length&&!rt;)if(rt=Re[Ce++].exec(q))for(He=0;He<Be.length;He++)it=rt[++xe],typeof(je=Be[He])===F&&je.length>0?2===je.length?this[je[0]]=typeof je[1]==f?je[1].call(this,it):je[1]:3===je.length?this[je[0]]=typeof je[1]!==f||je[1].exec&&je[1].test?it?it.replace(je[1],je[2]):T:it?je[1].call(this,it,je[2]):T:4===je.length&&(this[je[0]]=it?je[3].call(this,it.replace(je[1],je[2])):T):this[je]=it||T;ve+=2}},Q=function(q,be){for(var ve in be)if(typeof be[ve]===F&&be[ve].length>0){for(var Ce=0;Ce<be[ve].length;Ce++)if(J(be[ve][Ce],q))return"?"===ve?T:ve}else if(J(be[ve],q))return"?"===ve?T:ve;return q},U={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},k={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[D,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[D,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,D],[/opios[\/ ]+([\w\.]+)/i],[D,[y,he+" Mini"]],[/\bopr\/([\w\.]+)/i],[D,[y,he]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[y,D],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[D,[y,"UC"+Y]],[/\bqbcore\/([\w\.]+)/i],[D,[y,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[D,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[D,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[D,[y,"IE"]],[/yabrowser\/([\w\.]+)/i],[D,[y,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+Y],D],[/\bfocus\/([\w\.]+)/i],[D,[y,ae+" Focus"]],[/\bopt\/([\w\.]+)/i],[D,[y,he+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[D,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[D,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[D,[y,he+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[D,[y,"MIUI "+Y]],[/fxios\/([-\w\.]+)/i],[D,[y,ae]],[/\bqihu|(qi?ho?o?|360)browser/i],[[y,"360 "+Y]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1 "+Y],D],[/(comodo_dragon)\/([\w\.]+)/i],[[y,/_/g," "],D],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[y,D],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,_e],D],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[y,D],[/\bgsa\/([\w\.]+) .*safari\//i],[D,[y,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[D,[y,te+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,te+" WebView"],D],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[D,[y,"Android "+Y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,D],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[D,[y,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[D,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[D,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[y,D],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],D],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[D,[y,ae+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[y,D]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,H]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[x,[d,pe],[m,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[x,[d,pe],[m,b]],[/\((ip(?:hone|od)[\w ]*);/i],[x,[d,re],[m,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[x,[d,re],[m,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[x,[d,"Huawei"],[m,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[x,[d,"Huawei"],[m,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[x,/_/g," "],[d,"Xiaomi"],[m,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[x,/_/g," "],[d,"Xiaomi"],[m,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[x,[d,"OPPO"],[m,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[x,[d,"Vivo"],[m,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[x,[d,"Realme"],[m,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[x,[d,$],[m,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[x,[d,$],[m,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[x,[d,"LG"],[m,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[x,[d,"LG"],[m,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[x,[d,"Lenovo"],[m,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[x,/_/g," "],[d,"Nokia"],[m,b]],[/(pixel c)\b/i],[x,[d,ne],[m,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[x,[d,ne],[m,b]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[x,[d,De],[m,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[x,"Xperia Tablet"],[d,De],[m,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[x,[d,"OnePlus"],[m,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[x,[d,z],[m,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[x,/(.+)/g,"Fire Phone $1"],[d,z],[m,b]],[/(playbook);[-\w\),; ]+(rim)/i],[x,d,[m,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[x,[d,ue],[m,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[x,[d,"ASUS"],[m,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[x,[d,"ASUS"],[m,b]],[/(nexus 9)/i],[x,[d,"HTC"],[m,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[x,/_/g," "],[m,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[x,[d,"Acer"],[m,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[x,[d,"Meizu"],[m,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[x,[d,"Sharp"],[m,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,x,[m,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,x,[m,g]],[/(surface duo)/i],[x,[d,ge],[m,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[x,[d,"Fairphone"],[m,b]],[/(u304aa)/i],[x,[d,"AT&T"],[m,b]],[/\bsie-(\w*)/i],[x,[d,"Siemens"],[m,b]],[/\b(rct\w+) b/i],[x,[d,"RCA"],[m,g]],[/\b(venue[\d ]{2,7}) b/i],[x,[d,"Dell"],[m,g]],[/\b(q(?:mv|ta)\w+) b/i],[x,[d,"Verizon"],[m,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[x,[d,"Barnes & Noble"],[m,g]],[/\b(tm\d{3}\w+) b/i],[x,[d,"NuVision"],[m,g]],[/\b(k88) b/i],[x,[d,"ZTE"],[m,g]],[/\b(nx\d{3}j) b/i],[x,[d,"ZTE"],[m,b]],[/\b(gen\d{3}) b.+49h/i],[x,[d,"Swiss"],[m,b]],[/\b(zur\d{3}) b/i],[x,[d,"Swiss"],[m,g]],[/\b((zeki)?tb.*\b) b/i],[x,[d,"Zeki"],[m,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],x,[m,g]],[/\b(ns-?\w{0,9}) b/i],[x,[d,"Insignia"],[m,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[x,[d,"NextBook"],[m,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],x,[m,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],x,[m,b]],[/\b(ph-1) /i],[x,[d,"Essential"],[m,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[x,[d,"Envizen"],[m,g]],[/\b(trio[-\w\. ]+) b/i],[x,[d,"MachSpeed"],[m,g]],[/\btu_(1491) b/i],[x,[d,"Rotor"],[m,g]],[/(shield[\w ]+) b/i],[x,[d,"Nvidia"],[m,g]],[/(sprint) (\w+)/i],[d,x,[m,b]],[/(kin\.[onetw]{3})/i],[[x,/\./g," "],[d,ge],[m,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[x,[d,me],[m,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[x,[d,me],[m,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,x,[m,E]],[/droid.+; (shield) bui/i],[x,[d,"Nvidia"],[m,E]],[/(playstation [345portablevi]+)/i],[x,[d,De],[m,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[x,[d,ge],[m,E]],[/smart-tv.+(samsung)/i],[d,[m,h]],[/hbbtv.+maple;(\d+)/i],[[x,/^/,"SmartTV"],[d,pe],[m,h]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,"LG"],[m,h]],[/(apple) ?tv/i],[d,[x,re+" TV"],[m,h]],[/crkey/i],[[x,te+"cast"],[d,ne],[m,h]],[/droid.+aft(\w)( bui|\))/i],[x,[d,z],[m,h]],[/\(dtv[\);].+(aquos)/i],[x,[d,"Sharp"],[m,h]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,L],[x,L],[m,h]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,h]],[/((pebble))app/i],[d,x,[m,R]],[/droid.+; (glass) \d/i],[x,[d,ne],[m,R]],[/droid.+; (wt63?0{2,3})\)/i],[x,[d,me],[m,R]],[/(quest( 2)?)/i],[x,[d,_e],[m,R]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[m,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[x,[m,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[x,[m,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,g]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[m,b]],[/(android[-\w\. ]{0,9});.+buil/i],[x,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[D,[y,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[D,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[y,D],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[D,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,D],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[y,[D,Q,U]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,"Windows"],[D,Q,U]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[D,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,"Mac OS"],[D,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[D,y],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[y,D],[/\(bb(10);/i],[D,[y,ue]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[D,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[D,[y,ae+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[D,[y,"webOS"]],[/crkey\/([\d\.]+)/i],[D,[y,te+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[y,"Chromium OS"],D],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,D],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],D],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[y,D]]},G=function(q,be){if(typeof q===F&&(be=q,q=T),!(this instanceof G))return new G(q,be).getResult();var ve=q||(typeof C!==S&&C.navigator&&C.navigator.userAgent?C.navigator.userAgent:""),Ce=be?function(q,be){var ve={};for(var Ce in q)ve[Ce]=be[Ce]&&be[Ce].length%2==0?be[Ce].concat(q[Ce]):q[Ce];return ve}(k,be):k;return this.getBrowser=function(){var xe={};return xe[y]=T,xe[D]=T,N.call(xe,ve,Ce.browser),xe.major=function(q){return typeof q===w?q.replace(/[^\d\.]/g,"").split(".")[0]:T}(xe.version),xe},this.getCPU=function(){var xe={};return xe[_]=T,N.call(xe,ve,Ce.cpu),xe},this.getDevice=function(){var xe={};return xe[d]=T,xe[x]=T,xe[m]=T,N.call(xe,ve,Ce.device),xe},this.getEngine=function(){var xe={};return xe[y]=T,xe[D]=T,N.call(xe,ve,Ce.engine),xe},this.getOS=function(){var xe={};return xe[y]=T,xe[D]=T,N.call(xe,ve,Ce.os),xe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ve},this.setUA=function(xe){return ve=typeof xe===w&&xe.length>255?L(xe,255):xe,this},this.setUA(ve),this};G.VERSION="1.0.2",G.BROWSER=ce([y,D,"major"]),G.CPU=ce([_]),G.DEVICE=ce([x,d,m,E,b,h,g,R,I]),G.ENGINE=G.OS=ce([y,D]),typeof K!==S?(Me.exports&&(K=Me.exports=G),K.UAParser=G):u.amdO?(V=function(){return G}.call(K,u,K,Me))!==T&&(Me.exports=V):typeof C!==S&&(C.UAParser=G);var oe=typeof C!==S&&(C.jQuery||C.Zepto);if(oe&&!oe.ua){var de=new G;oe.ua=de.getResult(),oe.ua.get=function(){return de.getUA()},oe.ua.set=function(q){de.setUA(q);var be=de.getResult();for(var ve in be)oe.ua[ve]=be[ve]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/(Me,K,u)=>{function C(T){try{if(!u.g.localStorage)return!1}catch{return!1}var p=u.g.localStorage[T];return null!=p&&"true"===String(p).toLowerCase()}Me.exports=function V(T,p){if(C("noDeprecation"))return T;var A=!1;return function M(){if(!A){if(C("throwDeprecation"))throw new Error(p);C("traceDeprecation")?console.trace(p):console.warn(p),A=!0}return T.apply(this,arguments)}}},"?3e83":
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/()=>{},"?19e6":
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/()=>{},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/Me=>{"use strict";Me.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/Me=>{"use strict";Me.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/Me=>{"use strict";Me.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/Me=>{"use strict";Me.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/Me=>{"use strict";Me.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/Me=>{"use strict";Me.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},Or={};function sn(Me){var K=Or[Me];if(void 0!==K)return K.exports;var u=Or[Me]={exports:{}};return Ua[Me].call(u.exports,u,u.exports,sn),u.exports}sn.amdO={},sn.n=Me=>{var K=Me&&Me.__esModule?()=>Me.default:()=>Me;return sn.d(K,{a:K}),K},sn.d=(Me,K)=>{for(var u in K)sn.o(K,u)&&!sn.o(Me,u)&&Object.defineProperty(Me,u,{enumerable:!0,get:K[u]})},sn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),sn.o=(Me,K)=>Object.prototype.hasOwnProperty.call(Me,K),sn.r=Me=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Me,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Me,"__esModule",{value:!0})};var ai={};return(()=>{"use strict";sn.r(ai),sn.d(ai,{Debug:()=>T.default,MediaPlayer:()=>Me.MediaPlayer,MediaPlayerFactory:()=>C.default,MetricsReporting:()=>u.default,Protection:()=>V.default,default:()=>p,supportsMediaSource:()=>K.supportsMediaSource});var Me=sn(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js"),K=sn(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),u=sn(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js"),V=sn(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js"),C=sn(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js"),T=sn(
/*! ./src/core/Debug */
"./src/core/Debug.js");dashjs.Protection=V.default,dashjs.MetricsReporting=u.default,dashjs.MediaPlayerFactory=C.default,dashjs.Debug=T.default,dashjs.supportsMediaSource=K.supportsMediaSource;const p=dashjs})(),ai.default})()},37:()=>{var ka,Ua;Ua=ka||(ka={}),function(Or){var sn="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),ai=Me(Ua);function Me(K,u){return function(V,C){"function"!=typeof K[V]&&Object.defineProperty(K,V,{configurable:!0,writable:!0,value:C}),u&&u(V,C)}}typeof sn.Reflect>"u"?sn.Reflect=Ua:ai=Me(sn.Reflect,ai),function(Or){var sn=Object.prototype.hasOwnProperty,ai="function"==typeof Symbol,Me=ai&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",K=ai&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",u="function"==typeof Object.create,V={__proto__:[]}instanceof Array,C=!u&&!V,T={create:u?function(){return U(Object.create(null))}:V?function(){return U({__proto__:null})}:function(){return U({})},has:C?function(k,G){return sn.call(k,G)}:function(k,G){return G in k},get:C?function(k,G){return sn.call(k,G)?k[G]:void 0}:function(k,G){return k[G]}},p=Object.getPrototypeOf(Function),A="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,M=A||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function N(){var k={},G=[],oe=function(){function ve(Ce,xe,He){this._index=0,this._keys=Ce,this._values=xe,this._selector=He}return ve.prototype["@@iterator"]=function(){return this},ve.prototype[K]=function(){return this},ve.prototype.next=function(){var Ce=this._index;if(Ce>=0&&Ce<this._keys.length){var xe=this._selector(this._keys[Ce],this._values[Ce]);return Ce+1>=this._keys.length?(this._index=-1,this._keys=G,this._values=G):this._index++,{value:xe,done:!1}}return{value:void 0,done:!0}},ve.prototype.throw=function(Ce){throw this._index>=0&&(this._index=-1,this._keys=G,this._values=G),Ce},ve.prototype.return=function(Ce){return this._index>=0&&(this._index=-1,this._keys=G,this._values=G),{value:Ce,done:!0}},ve}();return function(){function ve(){this._keys=[],this._values=[],this._cacheKey=k,this._cacheIndex=-2}return Object.defineProperty(ve.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ve.prototype.has=function(Ce){return this._find(Ce,!1)>=0},ve.prototype.get=function(Ce){var xe=this._find(Ce,!1);return xe>=0?this._values[xe]:void 0},ve.prototype.set=function(Ce,xe){var He=this._find(Ce,!0);return this._values[He]=xe,this},ve.prototype.delete=function(Ce){var xe=this._find(Ce,!1);if(xe>=0){for(var He=this._keys.length,je=xe+1;je<He;je++)this._keys[je-1]=this._keys[je],this._values[je-1]=this._values[je];return this._keys.length--,this._values.length--,Ce===this._cacheKey&&(this._cacheKey=k,this._cacheIndex=-2),!0}return!1},ve.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=k,this._cacheIndex=-2},ve.prototype.keys=function(){return new oe(this._keys,this._values,de)},ve.prototype.values=function(){return new oe(this._keys,this._values,q)},ve.prototype.entries=function(){return new oe(this._keys,this._values,be)},ve.prototype["@@iterator"]=function(){return this.entries()},ve.prototype[K]=function(){return this.entries()},ve.prototype._find=function(Ce,xe){return this._cacheKey!==Ce&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ce)),this._cacheIndex<0&&xe&&(this._cacheIndex=this._keys.length,this._keys.push(Ce),this._values.push(void 0)),this._cacheIndex},ve}();function de(ve,Ce){return ve}function q(ve,Ce){return Ce}function be(ve,Ce){return[ve,Ce]}}():Map,f=A||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function Q(){return function(){function k(){this._map=new M}return Object.defineProperty(k.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),k.prototype.has=function(G){return this._map.has(G)},k.prototype.add=function(G){return this._map.set(G,G),this},k.prototype.delete=function(G){return this._map.delete(G)},k.prototype.clear=function(){this._map.clear()},k.prototype.keys=function(){return this._map.keys()},k.prototype.values=function(){return this._map.values()},k.prototype.entries=function(){return this._map.entries()},k.prototype["@@iterator"]=function(){return this.keys()},k.prototype[K]=function(){return this.keys()},k}()}():Set,F=new(A||"function"!=typeof WeakMap?function O(){var k=16,G=T.create(),oe=de();return function(){function xe(){this._key=de()}return xe.prototype.has=function(He){var je=q(He,!1);return void 0!==je&&T.has(je,this._key)},xe.prototype.get=function(He){var je=q(He,!1);return void 0!==je?T.get(je,this._key):void 0},xe.prototype.set=function(He,je){return q(He,!0)[this._key]=je,this},xe.prototype.delete=function(He){var je=q(He,!1);return void 0!==je&&delete je[this._key]},xe.prototype.clear=function(){this._key=de()},xe}();function de(){var xe;do{xe="@@WeakMap@@"+Ce()}while(T.has(G,xe));return G[xe]=!0,xe}function q(xe,He){if(!sn.call(xe,oe)){if(!He)return;Object.defineProperty(xe,oe,{value:T.create()})}return xe[oe]}function be(xe,He){for(var je=0;je<He;++je)xe[je]=255*Math.random()|0;return xe}function Ce(){var xe=function ve(xe){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(xe)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(xe)):be(new Uint8Array(xe),xe):be(new Array(xe),xe)}(k);xe[6]=79&xe[6]|64,xe[8]=191&xe[8]|128;for(var He="",je=0;je<k;++je){var rt=xe[je];(4===je||6===je||8===je)&&(He+="-"),rt<16&&(He+="0"),He+=rt.toString(16).toLowerCase()}return He}}():WeakMap);function R(k,G,oe){var de=F.get(k);if(Z(de)){if(!oe)return;de=new M,F.set(k,de)}var q=de.get(G);if(Z(q)){if(!oe)return;q=new M,de.set(G,q)}return q}function I(k,G,oe){if(W(k,G,oe))return!0;var q=L(G);return!ae(q)&&I(k,q,oe)}function W(k,G,oe){var de=R(G,oe,!1);return!Z(de)&&function $(k){return!!k}(de.has(k))}function z(k,G,oe){if(W(k,G,oe))return re(k,G,oe);var q=L(G);return ae(q)?void 0:z(k,q,oe)}function re(k,G,oe){var de=R(G,oe,!1);if(!Z(de))return de.get(k)}function ie(k,G,oe,de){R(oe,de,!0).set(k,G)}function ue(k,G){var oe=Y(k,G),de=L(k);if(null===de)return oe;var q=ue(de,G);if(q.length<=0)return oe;if(oe.length<=0)return q;for(var be=new f,ve=[],Ce=0,xe=oe;Ce<xe.length;Ce++)be.has(He=xe[Ce])||(be.add(He),ve.push(He));for(var rt=0,it=q;rt<it.length;rt++){var He;be.has(He=it[rt])||(be.add(He),ve.push(He))}return ve}function Y(k,G){var oe=[],de=R(k,G,!1);if(Z(de))return oe;for(var be=function ce(k){var G=ee(k,K);if(!Ee(G))throw new TypeError;var oe=G.call(k);if(!le(oe))throw new TypeError;return oe}(de.keys()),ve=0;;){var Ce=H(be);if(!Ce)return oe.length=ve,oe;var xe=J(Ce);try{oe[ve]=xe}catch(He){try{P(be)}finally{throw He}}ve++}}function te(k){if(null===k)return 1;switch(typeof k){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===k?1:6;default:return 6}}function Z(k){return void 0===k}function ae(k){return null===k}function le(k){return"object"==typeof k?null!==k:"function"==typeof k}function se(k,G){switch(te(k)){case 0:case 1:case 2:case 3:case 4:case 5:return k}var oe=3===G?"string":5===G?"number":"default",de=ee(k,Me);if(void 0!==de){var q=de.call(k,oe);if(le(q))throw new TypeError;return q}return function ge(k,G){if("string"===G){var oe=k.toString;if(Ee(oe)&&!le(de=oe.call(k)))return de;if(Ee(q=k.valueOf)&&!le(de=q.call(k)))return de}else{var q;if(Ee(q=k.valueOf)&&!le(de=q.call(k)))return de;var de,be=k.toString;if(Ee(be)&&!le(de=be.call(k)))return de}throw new TypeError}(k,"default"===oe?"number":oe)}function pe(k){var G=se(k,3);return function ne(k){return"symbol"==typeof k}(G)?G:function he(k){return""+k}(G)}function De(k){return Array.isArray?Array.isArray(k):k instanceof Object?k instanceof Array:"[object Array]"===Object.prototype.toString.call(k)}function Ee(k){return"function"==typeof k}function me(k){return"function"==typeof k}function ee(k,G){var oe=k[G];if(null!=oe){if(!Ee(oe))throw new TypeError;return oe}}function J(k){return k.value}function H(k){var G=k.next();return!G.done&&G}function P(k){var G=k.return;G&&G.call(k)}function L(k){var G=Object.getPrototypeOf(k);if("function"!=typeof k||k===p||G!==p)return G;var oe=k.prototype,de=oe&&Object.getPrototypeOf(oe);if(null==de||de===Object.prototype)return G;var q=de.constructor;return"function"!=typeof q||q===k?G:q}function U(k){return k.__=void 0,delete k.__,k}Or("decorate",function w(k,G,oe,de){if(Z(oe)){if(!De(k))throw new TypeError;if(!me(G))throw new TypeError;return function g(k,G){for(var oe=k.length-1;oe>=0;--oe){var q=(0,k[oe])(G);if(!Z(q)&&!ae(q)){if(!me(q))throw new TypeError;G=q}}return G}(k,G)}if(!De(k))throw new TypeError;if(!le(G))throw new TypeError;if(!le(de)&&!Z(de)&&!ae(de))throw new TypeError;return ae(de)&&(de=void 0),function h(k,G,oe,de){for(var q=k.length-1;q>=0;--q){var ve=(0,k[q])(G,oe,de);if(!Z(ve)&&!ae(ve)){if(!le(ve))throw new TypeError;de=ve}}return de}(k,G,oe=pe(oe),de)}),Or("metadata",function j(k,G){return function oe(de,q){if(!le(de))throw new TypeError;if(!Z(q)&&!function _e(k){switch(te(k)){case 3:case 4:return!0;default:return!1}}(q))throw new TypeError;ie(k,G,de,q)}}),Or("defineMetadata",function x(k,G,oe,de){if(!le(oe))throw new TypeError;return Z(de)||(de=pe(de)),ie(k,G,oe,de)}),Or("hasMetadata",function y(k,G,oe){if(!le(G))throw new TypeError;return Z(oe)||(oe=pe(oe)),I(k,G,oe)}),Or("hasOwnMetadata",function m(k,G,oe){if(!le(G))throw new TypeError;return Z(oe)||(oe=pe(oe)),W(k,G,oe)}),Or("getMetadata",function d(k,G,oe){if(!le(G))throw new TypeError;return Z(oe)||(oe=pe(oe)),z(k,G,oe)}),Or("getOwnMetadata",function D(k,G,oe){if(!le(G))throw new TypeError;return Z(oe)||(oe=pe(oe)),re(k,G,oe)}),Or("getMetadataKeys",function _(k,G){if(!le(k))throw new TypeError;return Z(G)||(G=pe(G)),ue(k,G)}),Or("getOwnMetadataKeys",function E(k,G){if(!le(k))throw new TypeError;return Z(G)||(G=pe(G)),Y(k,G)}),Or("deleteMetadata",function b(k,G,oe){if(!le(G))throw new TypeError;Z(oe)||(oe=pe(oe));var de=R(G,oe,!1);if(Z(de)||!de.delete(k))return!1;if(de.size>0)return!0;var q=F.get(G);return q.delete(oe),q.size>0||F.delete(G),!0})}(ai)}()}},ka=>{ka(ka.s=629)}]);